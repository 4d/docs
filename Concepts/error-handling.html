<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20-R10 docs-doc-page docs-doc-id-Concepts/error-handling" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Error handling | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/Concepts/error-handling><meta data-rh=true property=og:locale content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true property=og:locale:alternate content=pt><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=20-R10><meta data-rh=true name=docusaurus_tag content=docs-default-20-R10><meta data-rh=true name=docsearch:version content=20-R10><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20-R10><meta data-rh=true property=og:title content="Error handling | 4D Docs"><meta data-rh=true name=description content="Error handling is the process of anticipating and responding to errors that might occur in your application. 4D provides a comprehensive support for catching and reporting errors at runtime, as well as for investigating their conditions."><meta data-rh=true property=og:description content="Error handling is the process of anticipating and responding to errors that might occur in your application. 4D provides a comprehensive support for catching and reporting errors at runtime, as well as for investigating their conditions."><link data-rh=true rel=icon href=/docs/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/Concepts/error-handling><link data-rh=true rel=alternate href=https://developer.4d.com/docs/Concepts/error-handling hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/Concepts/error-handling hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/Concepts/error-handling hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/Concepts/error-handling hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/Concepts/error-handling hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/Concepts/error-handling hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developer.4d.com/docs/category/4d-language","name":"4D Language","position":1},{"@type":"ListItem","item":"https://developer.4d.com/docs/Concepts/error-handling","name":"Error handling","position":2}]}</script><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/opensearch.xml><script src=https://kit.fontawesome.com/daeacc3fc4.js crossorigin=anonymous></script><link rel=stylesheet href=/docs/assets/css/styles.ae3169d2.css><script src=/docs/assets/js/runtime~main.9bf6c523.js defer></script><script src=/docs/assets/js/main.07ed8f32.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/docs/img/logohome.png><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/><div class=navbar__logo><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/Concepts/error-handling>20 R10 BETA</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/Concepts/error-handling>20 R10 BETA</a><li><a class=dropdown__link href=/docs/20-R9/Concepts/error-handling>20 R9</a><li><a class=dropdown__link href=/docs/20/Concepts/error-handling>20</a><li><a class=dropdown__link href=/docs/19/Concepts/error-handling>19</a><li><a class=dropdown__link href=/docs/18/Concepts/error-handling>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/docs/Concepts/error-handling target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a><li><a href=/docs/fr/Concepts/error-handling target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/Concepts/error-handling target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/Concepts/error-handling target=_self rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/Concepts/error-handling target=_self rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/getting-started>Getting Started</a><button aria-label="Expand sidebar category 'Getting Started'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/project-ide>Project & IDE</a><button aria-label="Expand sidebar category 'Project & IDE'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/category/4d-language>4D Language</a><button aria-label="Collapse sidebar category '4D Language'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/docs/Concepts/about>Concepts</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/about>About the 4D Language</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/quick-tour>A Quick Tour</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/operators>Operators</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/Concepts/data-types>Data Types</a><button aria-label="Expand sidebar category 'Data Types'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/variables>Variables</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/arrays>Arrays</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/methods>Methods</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/parameters>Parameters</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/shared>Shared objects and collections</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/classes>Classes</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/control-flow>Control flow</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/Concepts/error-handling>Error handling</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/interpreted-compiled>Interpreted and Compiled modes</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/components>Components</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/plug-ins>Plug-ins</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/identifiers>Identifiers</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/Concepts/paths>Pathnames</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/commands/command-index>Commands by name</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/category/commands>Commands by theme</a><button aria-label="Expand sidebar category 'Commands by theme'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/category/class-API-reference>Classes</a><button aria-label="Expand sidebar category 'Classes'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/core>Core Development</a><button aria-label="Expand sidebar category 'Core Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/web-applications>Web Applications</a><button aria-label="Expand sidebar category 'Web Applications'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/desktop-applications>Desktop Applications</a><button aria-label="Expand sidebar category 'Desktop Applications'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/administration>Administration</a><button aria-label="Expand sidebar category 'Administration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/extensions>Extensions</a><button aria-label="Expand sidebar category 'Extensions'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/docs/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/category/4d-language><span>4D Language</span></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Concepts</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Error handling</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 20 R10 BETA</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Error handling</h1></header><p>Error handling is the process of anticipating and responding to errors that might occur in your application. 4D provides a comprehensive support for catching and reporting errors at runtime, as well as for investigating their conditions.</p>
<p>Error handling meets two main needs:</p>
<ul>
<li>finding out and fixing potential errors and bugs in your code during the development phase,</li>
<li>catching and recovering from unexpected errors in deployed applications; in particular, you can replace system error dialogs (disk full, missing file, etc.) with you own interface.</li>
</ul>
<p>Basically, there are two ways to handle errors in 4D. You can:</p>
<ul>
<li><a href=#installing-an-error-handling-method>install an error-handling method</a>, or</li>
<li>use a <a href=#tryexpression><code>Try()</code> keyword</a> or a <a href=#trycatchend-try><code>Try/Catch</code> structure</a> before pieces of code that call a function, method, or expression that can throw an error.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>Good practice</div><div class=admonitionContent_BuS1><p>It is highly recommended to install a global error-handling method on 4D Server, for all code running on the server. When 4D Server is not running <a href=/docs/Admin/cli>headless</a> (i.e. launched with its <a href=/docs/ServerWindow/overview>administration window</a>), this method would avoid unexpected dialog boxes to be displayed on the server machine. In headless mode, errors are logged in the <a href=/docs/Debugging/debugLogFiles#4ddebuglogtxt-standard>4DDebugLog file</a> for further analysis.</div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=error-or-status>Error or status<a href=#error-or-status class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>Many 4D class functions, such as <code>entity.save()</code> or <code>transporter.send()</code>, return a <em>status</em> object. This object is used to store "predictable" errors in the runtime context, e.g. invalid password, locked entity, etc., that do not stop program execution. This category of errors can be handled by regular code.</p>
<p>Other "unpredictable" errors include disk write error, network failure, or in general any unexpected interruption. This category of errors generates exceptions defined by <a href=#error-codes>a <em>code</em>, a <em>message</em> and a <em>signature</em></a> and needs to be handled through an error-handling method or a <code>Try()</code> keyword.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=installing-an-error-handling-method>Installing an error-handling method<a href=#installing-an-error-handling-method class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>In 4D, all errors can be caught and handled by specific project methods, named <strong>error-handling</strong> (or <strong>error-catching</strong>) methods.</p>
<p>Once installed, error handlers are automatically called in interpreted or compiled mode in case of error in the 4D application or one of its components. A different error handler can be called depending on the execution context (see below).</p>
<p>To <em>install</em> an error-handling project method, you just need to call the <a href=/docs/commands/on-err-call><code>ON ERR CALL</code></a> command with the project method name and (optionnally) scope as parameters. For example:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ON ERR CALL("IO_Errors";ek local) //Installs a local error-handling method</span><br></span></code></pre></div></div>
<p>To stop catching errors for an execution context and give back hand, call <code>ON ERR CALL</code> with an empty string:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ON ERR CALL("";ek local) //gives back control for the local process</span><br></span></code></pre></div></div>
<p>The  <a href=/docs/commands/method-called-on-error><code>Method called on error</code></a> command allows you to know the name of the method installed by <code>ON ERR CALL</code> for the current process. It is particularly useful in the context of generic code because it enables you to temporarily change and then restore the error-catching method:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $methCurrent:=Method called on error(ek local)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ON ERR CALL("NewMethod";ek local)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //If the document cannot be opened, an error is generated</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $ref:=Open document("MyDocument")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Reinstallation of previous method</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ON ERR CALL($methCurrent;ek local)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=scope-and-components>Scope and components<a href=#scope-and-components class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>An error-handling method can be set for different execution contexts:</p>
<ul>
<li>for the <strong>current process</strong>- a local error handler will be only called for errors that occurred in the current process of the current project,</li>
<li>for the <strong>whole application</strong>- a global error handler will be called for all errors that occurred in the application execution context of the current project,</li>
<li>from the <strong>components</strong>- this error handler is defined in a host project and will be called for all errors that occurred in the components when they were not already caught by a component handler.</li>
</ul>
<p>Examples:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ON ERR CALL("IO_Errors";ek local) //Installs a local error-handling method</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ON ERR CALL("globalHandler";ek global) //Installs a global error-handling method</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ON ERR CALL("componentHandler";ek errors from components) //Installs an error-handling method for components</span><br></span></code></pre></div></div>
<p>You can install a global error handler that will serve as "fallback" and specific local error handlers for certain processes. A global error handler is also useful on the server to avoid error dialogs on the server when run with interface.</p>
<p>You can define a single error-catching method for the whole application or different methods per application module. However, only one method can be installed per execution context and per project.</p>
<p>When an error occurs, only one method is called, as described in the following diagram:</p>
<p><img decoding=async loading=lazy alt="error management" src=/docs/assets/images/error-schema-973d40c4618e79de87f884622e4e930f.png width=1195 height=578 class=img_ev3q></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=handling-errors-within-the-method>Handling errors within the method<a href=#handling-errors-within-the-method class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>Within a custom error method, you have access to several pieces of information that will help you identifying the error:</p>
<ul>
<li>
<p>dedicated system variables:</p>
<ul>
<li><code>Error</code> (longint): error code</li>
<li><code>Error method</code> (text): name of the method that triggered the error</li>
<li><code>Error line</code> (longint): line number in the method that triggered the error</li>
<li><code>Error formula</code> (text): formula of the 4D code (raw text) which is at the origin of the error.</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>4D automatically maintains a number of variables called <a href=/docs/Concepts/variables#system-variables><strong>system variables</strong></a>, meeting different needs.</div></div>
<ul>
<li>the <a href=/docs/commands/last-errors><code>Last errors</code></a> command that returns a collection of the current stack of errors that occurred in the 4D application.</li>
<li>the <code>Call chain</code> command that returns a collection of objects describing each step of the method call chain within the current process.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example>Example<a href=#example class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>Here is a simple error-handling system:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">//installing the error handling method</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ON ERR CALL("errorMethod")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> //... executing code</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ON ERR CALL("") //giving control back to 4D</span><br></span></code></pre></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// errorMethod project method</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If(Error#1006) //this is not a user interruption</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("The error "+String(Error)+" occurred". The code in question is: \""+Error formula+"\"")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=using-an-empty-error-handling-method>Using an empty error-handling method<a href=#using-an-empty-error-handling-method class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>If you mainly want the standard error dialog box to be hidden, you can install an empty error-handling method. The <code>Error</code> system variable can be tested in any method, i.e. outside of the error-handling method:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ON ERR CALL("emptyMethod") //emptyMethod exists but is empty</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$doc:=Open document( "myFile.txt")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">If (Error=-43)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	ALERT("File not found.")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ON ERR CALL("")</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=tryexpression>Try(expression)<a href=#tryexpression class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>The <code>Try(expression)</code> statement allows you to test a single-line expression in its actual execution context (including, in particular, local variable values) and to intercept errors it throws so that the 4D error dialog box is not displayed. Using <code>Try(expression)</code> provides an easy way to handle simple error cases with a very low number of code lines, and without requiring an error-handling method.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>If you want to try a more complex code than a single-line expression, you might consider using a <a href=#trycatchend-try><code>Try/Catch</code> structure</a>.</div></div>
<p>The formal syntax of the <code>Try(expression)</code> statement is:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Try (expression) : any | Undefined</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<p><em>expression</em> can be any valid expression.</p>
<p>If an error occurred during its execution, it is intercepted and no error dialog is displayed, whether an <a href=#installing-an-error-handling-method>error-handling method</a> was installed or not before the call to <code>Try()</code>. If <em>expression</em> returns a value, <code>Try()</code> returns the last evaluated value, otherwise it returns <code>Undefined</code>.</p>
<p>You can handle the error(s) using the <a href=/docs/commands/last-errors><code>Last errors</code></a> command. If <em>expression</em> throws an error within a stack of <code>Try()</code> calls, the execution flow stops and returns to the latest executed <code>Try()</code> (the first found back in the call stack).</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>If an <a href=#installing-an-error-handling-method>error-handling method</a> is installed by <em>expression</em>, it is called in case of error.</div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=examples>Examples<a href=#examples class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<ol>
<li>You want to display the contents of a file if the file can be open without error, and if its contents can be read. You can write:</li>
</ol>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $file : 4D.File := File("/RESOURCES/myFile.txt")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $fileHandle : 4D.FileHandle := Try($file.open())</span><br></span><span class=token-line style=color:#393A34><span class="token plain">If ($fileHandle # Null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  $text:=Try($fileHandle.readText()) || "Error reading the file"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End if</span><br></span></code></pre></div></div>
<ol start=2>
<li>You want to handle the divide by zero error. In this case, you want to return 0 and throw an error:</li>
</ol>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function divide( $p1: real; $p2: real)-> $result: real</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  if ($p2=0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">     $result:=0 //only for clarity (0 is the default for reals)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">     throw(-12345; "Division by zero")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $result:=$p1/$p2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  end if</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">function test()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  $result:=Try(divide($p1;$p2))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  If (Last errors # null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("Error")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<ol start=3>
<li>You want to handle both <a href=#error-or-status>predictable and non-predictable</a> errors:</li>
</ol>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $e:=ds.Employee.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$e.name:="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$status:=Try($e.save()) //catch predictable and non-predictable errors</span><br></span><span class=token-line style=color:#393A34><span class="token plain">If ($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   ALERT( "Success")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   ALERT( "Error: "+JSON Stringify($status.errors))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=trycatchend-try>Try...Catch...End try<a href=#trycatchend-try class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>The <code>Try...Catch...End try</code> structure allows you to test a block code in its actual execution context (including, in particular, local variable values) and to intercept errors it throws so that the 4D error dialog box is not displayed.</p>
<p>Unlike the <code>Try(expression)</code> keyword that evaluates a single-line expression, the <code>Try...Catch...End try</code> structure allows you to evaluate any code block, from the most simple to the most complex, without requiring an error-handling method. In addition, the <code>Catch</code> block can be used to handle the error in any custom way.</p>
<p>The formal syntax of the <code>Try...Catch...End try</code> structure is:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Try </span><br></span><span class=token-line style=color:#393A34><span class="token plain">	statement(s) // Code to evaluate</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Catch</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	statement(s) // Code to execute in case of error</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End try</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<p>The code placed between the <code>Try</code> and the <code>Catch</code> keywords is first executed, then the flow depends on the error(s) encountered during this execution.</p>
<ul>
<li>If no error is thrown, the code execution continues after the corresponding <code>End try</code> keyword. The code placed between the <code>Catch</code> and the <code>End try</code> keywords is not executed.</li>
<li>If the code block execution throws a <em>non-deferred error</em>, the execution flow stops and executes the corresponding <code>Catch</code> code block.</li>
<li>If the code block calls a method that throws a <em>deferred error</em>, the execution flow jumps directly to the corresponding <code>Catch</code> code block.</li>
<li>If a deferred error is directly thrown from the <code>Try</code> block, the execution flow continues until the end of the <code>Try</code> block and does not execute the corresponding <code>Catch</code> block.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>If a <em>deferred</em> error is thrown outside of the <code>Try</code> block, the code execution continues until the end of the method or function.</div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>For more information on <em>deferred</em> and <em>non-deferred</em> errors, please refer to the <a href=/docs/commands/throw><code>throw</code></a> command description.</div></div>
<p>In the <code>Catch</code> code block, you can handle the error(s) using standard error handling commands. The <a href=/docs/commands/last-errors><code>Last errors</code></a> function contains the last errors collection. You can <a href=#installing-an-error-handling-method>declare an error-handling method</a> in this code block, in which case it is called in case of error (otherwise the 4D error dialog box is displayed).</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>If an <a href=#installing-an-error-handling-method>error-handling method</a> is installed in the code placed between the <code>Try</code> and the <code>Catch</code> keywords, it is called in case of error.</div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-1>Example<a href=#example-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>Combining transactions and <code>Try...Catch...End try</code> structures allows writing secured code for critical features.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Function createInvoice($customer : cs.customerEntity; $items : Collection; $invoiceRef : Text) : cs.invoiceEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $newInvoice : cs.invoiceEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $newInvoiceLine : cs.invoiceLineEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $item : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	ds.startTransaction()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	Try</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		$newInvoice:=This.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		$newInvoice.customer:=$customer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		$newInvoice.invoiceRef:=$invoiceRef</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		For each ($item; $items)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			$newInvoiceLine:=ds.invoiceLine.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			$newInvoiceLine.item:=$item.item</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			$newInvoiceLine.amount:=$item.amount</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			$newInvoiceLine.invoice:=$newInvoice</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			//call other specific functions to validate invoiceline</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			$newInvoiceLine.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		End for each </span><br></span><span class=token-line style=color:#393A34><span class="token plain">		$newInvoice.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		ds.validateTransaction()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	Catch</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		ds.cancelTransaction()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		ds.logErrors(Last errors)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		$newInvoice:=Null</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	End try</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	return $newInvoice</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=error-codes>Error codes<a href=#error-codes class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>Exceptions that interrupt code execution are returned by 4D but can have different origins such as the OS, a device, the 4D kernel, a <a href=/docs/commands/throw><code>throw</code></a> in your code, etc. An error is therefore defined by three elements:</p>
<ul>
<li>a <strong>component signature</strong>, which is the origin of the error (see <a href=/docs/commands/last-errors><code>Last errors</code></a> to have a list of signatures)</li>
<li>a <strong>message</strong>, which explains why the error occurred</li>
<li>a <strong>code</strong>, which is an arbitrary number returned by the component</li>
</ul>
<p>The <a href=/docs/Debugging/basics>4D error dialog box</a> displays the code and the message to the user.</p>
<p>To have a full description of an error and especially its origin, you need to call the <a href=/docs/commands/last-errors><code>Last errors</code></a> command. When you intercept and handle errors using an <a href=#installing-an-error-handling-method>error-handling method</a> in your final applications, use <a href=/docs/commands/last-errors><code>Last errors</code></a> and make sure you log all properties of the <em>error</em> object since error codes depend on the components.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20Concepts%2Ferror-handling.md%20(20-R10)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Comment on this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/Concepts/control-flow><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Control flow</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/Concepts/interpreted-compiled><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Interpreted and Compiled modes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#error-or-status class="table-of-contents__link toc-highlight">Error or status</a><li><a href=#installing-an-error-handling-method class="table-of-contents__link toc-highlight">Installing an error-handling method</a><ul><li><a href=#scope-and-components class="table-of-contents__link toc-highlight">Scope and components</a><li><a href=#handling-errors-within-the-method class="table-of-contents__link toc-highlight">Handling errors within the method</a><li><a href=#using-an-empty-error-handling-method class="table-of-contents__link toc-highlight">Using an empty error-handling method</a></ul><li><a href=#tryexpression class="table-of-contents__link toc-highlight">Try(expression)</a><ul><li><a href=#examples class="table-of-contents__link toc-highlight">Examples</a></ul><li><a href=#trycatchend-try class="table-of-contents__link toc-highlight">Try...Catch...End try</a><ul><li><a href=#example-1 class="table-of-contents__link toc-highlight">Example</a></ul><li><a href=#error-codes class="table-of-contents__link toc-highlight">Error codes</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Support</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Documentation download<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Where It All Began)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Knowledgebase</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Downloads</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Get Support</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Company</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>About 4D</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contact us</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D around the world</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2025 4D SAS - All rights reserved</div></div></div></footer></div>