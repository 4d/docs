"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["38226"],{17548:function(e,t,n){n.r(t),n.d(t,{default:()=>h,frontMatter:()=>i,metadata:()=>s,assets:()=>l,toc:()=>o,contentTitle:()=>a});var s=JSON.parse('{"id":"commands-legacy/http-get","title":"HTTP Get","description":"HTTP Get ( url ; response {; headerNames ; headerValues}{; *} ) : Integer","source":"@site/versioned_docs/version-20-R7/commands-legacy/http-get.md","sourceDirName":"commands-legacy","slug":"/commands/http-get","permalink":"/docs/commands/http-get","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fhttp-get.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"http-get","title":"HTTP Get","slug":"/commands/http-get","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"HTTP AUTHENTICATE","permalink":"/docs/commands/http-authenticate"},"next":{"title":"HTTP Get certificates folder","permalink":"/docs/commands/http-get-certificates-folder"}}'),r=n("785893"),d=n("250065");let i={id:"http-get",title:"HTTP Get",slug:"/commands/http-get",displayed_sidebar:"docs"},a=void 0,l={},o=[{value:"Description",id:"description",level:4},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"Example 3",id:"example-3",level:4},{value:"See also",id:"see-also",level:4},{value:"Properties",id:"properties",level:4}];function c(e){let t={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"HTTP Get"})," ( ",(0,r.jsx)(t.em,{children:"url"})," ; ",(0,r.jsx)(t.em,{children:"response"})," {; ",(0,r.jsx)(t.em,{children:"headerNames"})," ; ",(0,r.jsx)(t.em,{children:"headerValues"}),"}{; *} ) : Integer"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"url"}),(0,r.jsx)(t.td,{children:"Text"}),(0,r.jsx)(t.td,{children:"\u2192"}),(0,r.jsx)(t.td,{children:"URL to which to send the request"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"response"}),(0,r.jsx)(t.td,{children:"Text, Blob, Picture, Object"}),(0,r.jsx)(t.td,{children:"\u2190"}),(0,r.jsx)(t.td,{children:"Result of request"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"headerNames"}),(0,r.jsx)(t.td,{children:"Text array"}),(0,r.jsx)(t.td,{children:"\u2192"}),(0,r.jsx)(t.td,{children:"Header names of the request"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"\u2190"}),(0,r.jsx)(t.td,{children:"Returned header names"}),(0,r.jsx)(t.td,{}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"headerValues"}),(0,r.jsx)(t.td,{children:"Text array"}),(0,r.jsx)(t.td,{children:"\u2192"}),(0,r.jsx)(t.td,{children:"Header values of the request"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"\u2190"}),(0,r.jsx)(t.td,{children:"Returned header values"}),(0,r.jsx)(t.td,{}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"*"}),(0,r.jsx)(t.td,{children:"Operator"}),(0,r.jsx)(t.td,{children:"\u2192"}),(0,r.jsx)(t.td,{children:"If passed, connection is maintained (keep-alive)If omitted, connection is closed automatically"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Function result"}),(0,r.jsx)(t.td,{children:"Integer"}),(0,r.jsx)(t.td,{children:"\u2190"}),(0,r.jsx)(t.td,{children:"HTTP status code"})]})]})]}),"\n",(0,r.jsx)(t.admonition,{title:"Compatibility",type:"info",children:(0,r.jsxs)(t.p,{children:["This command is maintained for compatibility reasons only. It is now recommended to use the ",(0,r.jsx)(t.a,{href:"/docs/API/HTTPRequestClass",children:(0,r.jsx)(t.code,{children:"4D.HTTPRequest class"})}),"."]})}),"\n",(0,r.jsx)(t.h4,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"HTTP Get"})," command sends an HTTP GET request directly to a specific URL and processes the HTTP server response."]}),"\n",(0,r.jsxs)(t.p,{children:["Pass the URL where you want the request sent in the ",(0,r.jsx)(t.em,{children:"url"})," parameter. The syntax to use is:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-RAW",children:"http://[{user}:[{password}]@]host[:{port}][/{path}][?{queryString}]\n"})}),"\n",(0,r.jsx)(t.p,{children:"For example, you can pass the following strings:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-RAW",children:'\xa0\xa0\xa0 http://www.myserver.com\xa0\xa0\xa0 http://www.myserver.com/path\xa0\xa0\xa0 http://www.myserver.com/path?name="jones"\xa0\xa0\xa0 https://www.myserver.com/login (*)\xa0\xa0\xa0 http://123.45.67.89:8083\xa0\xa0\xa0 http://john:smith@123.45.67.89:8083\xa0\xa0\xa0 http://[2001:0db8:0000:0000:0000:ff00:0042:8329]\xa0\xa0\xa0 http://[2001:0db8:0000:0000:0000:ff00:0042:8329]:8080/index.html (**)\n'})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.em,{children:"(*)"})," During HTTPS requests, authority of the certificate is not checked.",(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.em,{children:"(**)"})," For more information about IPv6 addresses in urls, please refer to the ",(0,r.jsx)(t.a,{href:"https://www.ietf.org/rfc/rfc2732.txt",children:"RFC 2732"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["After command execution, the ",(0,r.jsx)(t.em,{children:"response"})," parameter receives the result of the request returned by the server. This result corresponds to the body of the response, with no headers.",(0,r.jsx)(t.br,{}),"\nYou can pass different types of variables in ",(0,r.jsx)(t.em,{children:"response"}),":"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Text: When the result is expected to be text (see note below)."}),"\n",(0,r.jsx)(t.li,{children:"BLOB: When the result is expected to be in binary form."}),"\n",(0,r.jsx)(t.li,{children:"Picture: When the result is expected to be a picture."}),"\n",(0,r.jsx)(t.li,{children:"Object: When the result is expected to be an object."}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Note:"})," When a text variable is passed in ",(0,r.jsx)(t.em,{children:"response"}),", 4D will try to decode the data returned from the server. 4D first tries to retrieve the charset from the ",(0,r.jsx)(t.em,{children:"content-type"})," header, then from the content using a BOM, and finally looks for any ",(0,r.jsx)(t.em,{children:"http-equiv charset"})," (in html content) or ",(0,r.jsx)(t.em,{children:"encoding"})," (for xml) attribute. If no charset can be detected, 4D will attempt to decode the response in ANSI. If the conversion fails, the resulting text will be empty. If you are unsure whether the server returns a charset information or a BOM, but you know the encoding, it is more accurate to pass ",(0,r.jsx)(t.em,{children:"response"})," in BLOB and call ",(0,r.jsx)(t.a,{href:"/docs/commands/convert-to-text",children:"Convert to text"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["If you pass a BLOB, it contains the text, picture or any type of contents (.wav, .zip, etc.) returned by the server. You must then manage the recovery of these contents (headers are not included in the BLOB). When you pass an object, if the request returns a result with a text content-type, 4D attempts to parse the content as JSON and returns the parsed result as an object, otherwise a ",(0,r.jsx)(t.em,{children:"4D.Blob"})," object is returned."]}),"\n",(0,r.jsxs)(t.p,{children:["In ",(0,r.jsx)(t.em,{children:"headerNames"})," and ",(0,r.jsx)(t.em,{children:"headerValues"}),", you pass arrays containing the names and values of the request headers.",(0,r.jsx)(t.br,{}),"\nAfter this method is executed, these arrays contain the names and values of headers returned by the HTTP server. More specifically, this lets you manage cookies."]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.em,{children:"*"})," parameter enables the keep-alive mechanism for the server connection. By default, if this parameter is omitted, keep-alive is not enabled."]}),"\n",(0,r.jsxs)(t.p,{children:["The command returns a standard HTTP status code (200=OK and so on) as returned by the server. The list of HTTP status codes is provided in ",(0,r.jsx)(t.em,{children:"RFC 2616"}),".",(0,r.jsx)(t.br,{}),"\nIf you are unable to connect to the server for a reason related to the network (DNS Failed, Server not reachable...), the command returns 0 and an error is generated. You can intercept errors using an error-handling method installed by the ",(0,r.jsx)(t.a,{href:"/docs/commands/on-err-call",children:"ON ERR CALL"})," command."]}),"\n",(0,r.jsx)(t.h4,{id:"example-1",children:"Example 1"}),"\n",(0,r.jsx)(t.p,{children:"Retrieval of the 4D logo on the 4D Web site:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-4d",children:'\xa0var URLPic_t : Text\n\xa0URLPic_t:="http://www.4d.com/sites/all/themes/dimention/images/home/logo4D.jpg"\n\xa0ARRAY TEXT(HeaderNames_at;0)\n\xa0ARRAY TEXT(HeaderValues_at;0)\n\xa0var Pic_i : Picture\n\xa0$httpResponse:=HTTP Get(URLPic_t;Pic_i;HeaderNames_at;HeaderValues_at)\n'})}),"\n",(0,r.jsx)(t.h4,{id:"example-2",children:"Example 2"}),"\n",(0,r.jsx)(t.p,{children:"Retrieval of an RFC:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-4d",children:'\xa0var URLText_t : Text\n\xa0var Text_t : Text\n\xa0URLText_t:="http://tools.ietf.org/rfc/rfc1.txt"\n\xa0ARRAY TEXT(HeaderNames_at;0)\n\xa0ARRAY TEXT(HeaderValues_at;0)\n\xa0$httpResponse:=HTTP Get(URLText_t;Text_t;HeaderNames_at;HeaderValues_at)\n'})}),"\n",(0,r.jsx)(t.h4,{id:"example-3",children:"Example 3"}),"\n",(0,r.jsx)(t.p,{children:"Retrieval of a video:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-4d",children:'\xa0var vBlob : Blob\n\xa0$httpResponse:=HTTP Get("http://www.example.com/video.flv";vBlob)\n\xa0BLOB TO DOCUMENT("video.flv";vBlob)\n'})}),"\n",(0,r.jsx)(t.h4,{id:"see-also",children:"See also"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"/docs/commands/http-request",children:"HTTP Request"})}),"\n",(0,r.jsx)(t.h4,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Command number"}),(0,r.jsx)(t.td,{children:"1157"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Thread safe"}),(0,r.jsx)(t.td,{children:"\u2713"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Modifies variables"}),(0,r.jsx)(t.td,{children:"error"})]})]})]})]})}function h(e={}){let{wrapper:t}={...(0,d.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},250065:function(e,t,n){n.d(t,{Z:function(){return a},a:function(){return i}});var s=n(667294);let r={},d=s.createContext(r);function i(e){let t=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(d.Provider,{value:t},e.children)}}}]);