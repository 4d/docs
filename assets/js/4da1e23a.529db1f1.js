"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["16100"],{399864:function(e,t,n){n.r(t),n.d(t,{default:()=>h,frontMatter:()=>i,metadata:()=>s,assets:()=>a,toc:()=>c,contentTitle:()=>o});var s=JSON.parse('{"id":"commands-legacy/get-edited-text","title":"Get edited text","description":"Get edited text  : Text","source":"@site/versioned_docs/version-20-R7/commands-legacy/get-edited-text.md","sourceDirName":"commands-legacy","slug":"/commands/get-edited-text","permalink":"/docs/commands/get-edited-text","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fget-edited-text.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"get-edited-text","title":"Get edited text","slug":"/commands/get-edited-text","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"FILTER KEYSTROKE","permalink":"/docs/commands/filter-keystroke"},"next":{"title":"GET HIGHLIGHT","permalink":"/docs/commands/get-highlight"}}'),r=n("785893"),d=n("250065");let i={id:"get-edited-text",title:"Get edited text",slug:"/commands/get-edited-text",displayed_sidebar:"docs"},o=void 0,a={},c=[{value:"Description",id:"description",level:4},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"See also",id:"see-also",level:4},{value:"Properties",id:"properties",level:4}];function l(e){let t={a:"a",br:"br",code:"code",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Get edited text"}),"  : Text"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Function result"}),(0,r.jsx)(t.td,{children:"Text"}),(0,r.jsx)(t.td,{children:"\u2190"}),(0,r.jsx)(t.td,{children:"Text being entered"})]})})]}),"\n",(0,r.jsx)(t.h4,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Get edited text"})," command is mainly to be used with the On After Edit form event to retrieve the text as it is being entered. It can also be used with the On Before Keystroke and On After Keystroke form events. For more information about those form events, please refer to the description of the command ",(0,r.jsx)(t.a,{href:"/docs/commands/form-event-code",children:"Form event code"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"The combination of this command with On Before Keystroke and On After Keystroke form events works as follows:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["As soon as a character is typed on the keyboard, the On Before Keystroke event is generated. In this case, the ",(0,r.jsx)(t.strong,{children:"Get edited text"})," function returns the contents of the area before the last keystroke occurred. For example, if the area contains \u201CPA\u201D and the user types an \u201CR\u201D, ",(0,r.jsx)(t.strong,{children:"Get edited text"})," returns \u201CPA\u201D in the On Before Keystroke event. If the area is empty initially, ",(0,r.jsx)(t.strong,{children:"Get edited text"})," returns an empty string."]}),"\n",(0,r.jsxs)(t.li,{children:["Next, the On After Keystroke form event is generated. In this case, ",(0,r.jsx)(t.strong,{children:"Get edited text"})," returns the contents of the area including the last character entered on the keyboard. For example, when the area contains \u201CPA\u201D and the user types an \u201CR\u201D, ",(0,r.jsx)(t.strong,{children:"Get edited text"})," returns \u201CPAR\u201D in the On After Keystroke event."]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Note that the On After Keystroke event can generally be replaced by the On After Edit event, which supports more entry methods (such as IME)."}),"\n",(0,r.jsx)(t.p,{children:"These events are only generated in the object methods concerned."}),"\n",(0,r.jsx)(t.p,{children:"When used in a context other than text entry in a form object, this function returns an empty string."}),"\n",(0,r.jsx)(t.h4,{id:"example-1",children:"Example 1"}),"\n",(0,r.jsx)(t.p,{children:"The following method automatically puts the characters being entered in capitals:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-4d",children:"\xa0If(Form event code=On After Edit)\n\xa0\xa0\xa0\xa0[Trips]Agencies:=Uppercase(Get edited text)\n\xa0End if\n"})}),"\n",(0,r.jsx)(t.h4,{id:"example-2",children:"Example 2"}),"\n",(0,r.jsx)(t.p,{children:"Here is an example of how to process on the fly characters entered in a text field. The idea consists of placing in another text field (called \u201CWords\u201D) all the words of the sentence being entered. To do so, write the following code in the object method of the field:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-4d",children:'\xa0If(Form event code=On After Keystroke)\n\xa0\xa0\xa0\xa0$RealTimeEntry:=Get edited text\n\xa0\xa0\xa0\xa0PLATFORM PROPERTIES($platform)\n\xa0\xa0\xa0\xa0If($platform#3)\xa0// Mac OS\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0Repeat\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0$DecomposedSentence:=Replace string($RealTimeEntry;Char(32);Char(13))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0Until(Position(" ";$DecomposedSentence)=0)\n\xa0\xa0\xa0\xa0Else\xa0// Windows\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0Repeat\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0$DecomposedSentence:=Replace string($RealTimeEntry;Char(32);Char(13)+Char(10))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0Until(Position(" ";$DecomposedSentence)=0)\n\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0[Example]Words:=$DecomposedSentence\n\xa0End if\n'})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Note:"})," This example is not comprehensive because we have assumed that words are separated uniquely by spaces (Char (32)). For a complete solution you will need to add other filters to extract all the words (delimited by commas, semi-colons, apostrophes, etc.)."]}),"\n",(0,r.jsx)(t.h4,{id:"see-also",children:"See also"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"/docs/commands/form-event-code",children:"Form event code"}),(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.a,{href:"/docs/commands/is-editing-text",children:"Is editing text"})]}),"\n",(0,r.jsx)(t.h4,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Command number"}),(0,r.jsx)(t.td,{children:"655"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Thread safe"}),(0,r.jsx)(t.td,{children:"\u2717"})]})]})]})]})}function h(e={}){let{wrapper:t}={...(0,d.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},250065:function(e,t,n){n.d(t,{Z:function(){return o},a:function(){return i}});var s=n(667294);let r={},d=s.createContext(r);function i(e){let t=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(d.Provider,{value:t},e.children)}}}]);