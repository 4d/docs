"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["56974"],{302856:function(e,s,n){n.r(s),n.d(s,{metadata:()=>r,contentTitle:()=>c,default:()=>a,assets:()=>o,toc:()=>l,frontMatter:()=>i});var r=JSON.parse('{"id":"commands-legacy/locked-by","title":"LOCKED BY","description":"LOCKED BY ( {aTable ;} process ; 4Duser ; sessionUser ; processName )","source":"@site/versioned_docs/version-20-R7/commands-legacy/locked-by.md","sourceDirName":"commands-legacy","slug":"/commands/locked-by","permalink":"/docs/commands/locked-by","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Flocked-by.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"locked-by","title":"LOCKED BY","slug":"/commands/locked-by","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"Locked","permalink":"/docs/commands/locked"},"next":{"title":"Locked records info","permalink":"/docs/commands/locked-records-info"}}'),t=n("785893"),d=n("250065");let i={id:"locked-by",title:"LOCKED BY",slug:"/commands/locked-by",displayed_sidebar:"docs"},c=void 0,o={},l=[{value:"Description",id:"description",level:4},{value:"See also",id:"see-also",level:4},{value:"Properties",id:"properties",level:4}];function h(e){let s={a:"a",br:"br",em:"em",h4:"h4",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"LOCKED BY"})," ( {",(0,t.jsx)(s.em,{children:"aTable"})," ;} ",(0,t.jsx)(s.em,{children:"process"})," ; ",(0,t.jsx)(s.em,{children:"4Duser"})," ; ",(0,t.jsx)(s.em,{children:"sessionUser"})," ; ",(0,t.jsx)(s.em,{children:"processName"})," )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Parameter"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"aTable"}),(0,t.jsx)(s.td,{children:"Table"}),(0,t.jsx)(s.td,{children:"\u2192"}),(0,t.jsx)(s.td,{children:"Table to check for record locked, or Default table, if omitted"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"process"}),(0,t.jsx)(s.td,{children:"Integer"}),(0,t.jsx)(s.td,{children:"\u2190"}),(0,t.jsx)(s.td,{children:"Process reference number"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"4Duser"}),(0,t.jsx)(s.td,{children:"Text"}),(0,t.jsx)(s.td,{children:"\u2190"}),(0,t.jsx)(s.td,{children:"4D user name"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"sessionUser"}),(0,t.jsx)(s.td,{children:"Text"}),(0,t.jsx)(s.td,{children:"\u2190"}),(0,t.jsx)(s.td,{children:"Name of user that opened work-session"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"processName"}),(0,t.jsx)(s.td,{children:"Text"}),(0,t.jsx)(s.td,{children:"\u2190"}),(0,t.jsx)(s.td,{children:"Process name"})]})]})]}),"\n",(0,t.jsx)(s.h4,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(s.p,{children:["LOCKED BY returns information about the user and process that have locked a record. The process number(*), the user name in the 4D application and in the system as well as the process name are returned in the ",(0,t.jsx)(s.em,{children:"process"}),", ",(0,t.jsx)(s.em,{children:"4Duser"}),", ",(0,t.jsx)(s.em,{children:"sessionUser"}),", and ",(0,t.jsx)(s.em,{children:"processName"})," variables. You can use this information in a custom dialog box to warn the user when a record is locked."]}),"\n",(0,t.jsx)(s.p,{children:'(*) This is the number of the process on the machine where the code that actually locked the record is executed. In the case of a trigger or a method that is executed on the server, the number of the "twin" process on the server machine is returned. In the case of a method that is executed on a remote application, the number of the process on the remote machine is returned.'}),"\n",(0,t.jsxs)(s.p,{children:["If the record is not locked, ",(0,t.jsx)(s.em,{children:"process"})," returns 0 and ",(0,t.jsx)(s.em,{children:"4Duser"}),", ",(0,t.jsx)(s.em,{children:"sessionUser"}),", and ",(0,t.jsx)(s.em,{children:"processName"})," return empty strings. If the record you try to load in read/write has been deleted, ",(0,t.jsx)(s.em,{children:"process"})," returns -1 and ",(0,t.jsx)(s.em,{children:"4Duser"}),", ",(0,t.jsx)(s.em,{children:"sessionUser"}),", and ",(0,t.jsx)(s.em,{children:"processName"})," return empty strings."]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.em,{children:"4Duser"})," parameter returned is the user name from the 4D password system or the user alias as defined with the ",(0,t.jsx)(s.a,{href:"/docs/commands/set-user-alias",children:"SET USER ALIAS"})," (if any). If there is no password system or alias defined, \u201CDesigner\u201D is returned."]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.em,{children:"sessionUser"})," parameter returned corresponds to the name of the user that opened the session on the client machine (this name is displayed more particularly in the 4D Server administration window for each open process)."]}),"\n",(0,t.jsxs)(s.p,{children:["If the record has been locked by a ",(0,t.jsx)(s.em,{children:"$lock REST request"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.em,{children:"process"})," returns -2"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.em,{children:"4Duser"}),' returns ""']}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.em,{children:"sessionUser"}),' returns ""']}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.em,{children:"processName"}),' returns the IP address of the locker, e.g. "127.0.0.1"']}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"see-also",children:"See also"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"/docs/commands/locked",children:"Locked"}),(0,t.jsx)(s.br,{}),"\n",(0,t.jsx)(s.em,{children:"Record Locking"})]}),"\n",(0,t.jsx)(s.h4,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{}),(0,t.jsx)(s.th,{})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Command number"}),(0,t.jsx)(s.td,{children:"353"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Thread safe"}),(0,t.jsx)(s.td,{children:"\u2713"})]})]})]})]})}function a(e={}){let{wrapper:s}={...(0,d.a)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},250065:function(e,s,n){n.d(s,{Z:function(){return c},a:function(){return i}});var r=n(667294);let t={},d=r.createContext(t);function i(e){let s=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(d.Provider,{value:s},e.children)}}}]);