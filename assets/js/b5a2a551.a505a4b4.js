"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["1934"],{100182:function(e,s,n){n.r(s),n.d(s,{frontMatter:()=>a,toc:()=>o,default:()=>h,metadata:()=>r,assets:()=>d,contentTitle:()=>l});var r=JSON.parse('{"id":"commands/num","title":"Num","description":"Num ( expression {; separator} ) Real","source":"@site/versioned_docs/version-21/commands/num.md","sourceDirName":"commands","slug":"/commands/num","permalink":"/docs/commands/num","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands%2Fnum.md%20(21)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"21","frontMatter":{"id":"num","title":"Num","slug":"/commands/num","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"Match regex","permalink":"/docs/commands/match-regex"},"next":{"title":"Position","permalink":"/docs/commands/position"}}'),t=n(474848),i=n(884429);let a={id:"num",title:"Num",slug:"/commands/num",displayed_sidebar:"docs"},l,d={},o=[{value:"Description",id:"description",level:2},{value:"String Expressions",id:"string-expressions",level:3},{value:"Num(string{;separator})",id:"numstringseparator",level:4},{value:"<em>separator</em> parameter",id:"separator-parameter",level:4},{value:"Num(string;base)",id:"numstringbase",level:4},{value:"Boolean Expressions",id:"boolean-expressions",level:3},{value:"Numeric Expressions",id:"numeric-expressions",level:3},{value:"Undefined Expressions",id:"undefined-expressions",level:3},{value:"Example 1",id:"example-1",level:2},{value:"Example 2",id:"example-2",level:2},{value:"Example 3",id:"example-3",level:2},{value:"Example 4",id:"example-4",level:2},{value:"See also",id:"see-also",level:2},{value:"Properties",id:"properties",level:2}];function c(e){let s={a:"a",admonition:"admonition",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Num"})," ( ",(0,t.jsx)(s.em,{children:"expression"})," {; ",(0,t.jsx)(s.em,{children:"separator"}),"} ) : Real",(0,t.jsx)(s.br,{}),(0,t.jsx)(s.strong,{children:"Num"})," ( ",(0,t.jsx)(s.em,{children:"expression"})," ; ",(0,t.jsx)(s.em,{children:"base"})," ) : Real"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Parameter"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"expression"}),(0,t.jsx)(s.td,{children:"Text, Boolean, Integer"}),(0,t.jsx)(s.td,{children:"\u2192"}),(0,t.jsx)(s.td,{children:"String for which to return the numeric form, or Boolean to return 0 or 1, or Numeric expression"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"separator"}),(0,t.jsx)(s.td,{children:"Text"}),(0,t.jsx)(s.td,{children:"\u2192"}),(0,t.jsx)(s.td,{children:"Decimal separator"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"base"}),(0,t.jsx)(s.td,{children:"Integer"}),(0,t.jsx)(s.td,{children:"\u2192"}),(0,t.jsx)(s.td,{children:"Value between 2 and 36 that represents the radix"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Function result"}),(0,t.jsx)(s.td,{children:"Real"}),(0,t.jsx)(s.td,{children:"\u2190"}),(0,t.jsx)(s.td,{children:"Numeric form of the expression parameter"})]})]})]}),"\n",(0,t.jsxs)(s.details,{children:[(0,t.jsx)(s.summary,{children:"History"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Release"}),(0,t.jsx)(s.th,{children:"Changes"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"21"}),(0,t.jsxs)(s.td,{children:["Support of ",(0,t.jsx)(s.em,{children:"base"})," parameter"]})]})})]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Num"})," command returns the numeric form of the String, Boolean or numeric expression you pass in ",(0,t.jsx)(s.em,{children:"expression"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["When ",(0,t.jsx)(s.em,{children:"expression"})," is of the string type, you can use a ",(0,t.jsx)(s.em,{children:"separator"})," parameter or a ",(0,t.jsx)(s.em,{children:"base"})," parameter (see below)."]}),"\n",(0,t.jsx)(s.h3,{id:"string-expressions",children:"String Expressions"}),"\n",(0,t.jsxs)(s.p,{children:["When you use the ",(0,t.jsx)(s.strong,{children:"Num"})," command with a string ",(0,t.jsx)(s.em,{children:"expression"}),", two syntaxes are available:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"Num(string{;separator})"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"Num(string;base)"})}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"numstringseparator",children:"Num(string{;separator})"}),"\n",(0,t.jsxs)(s.p,{children:["If ",(0,t.jsx)(s.em,{children:"expression"})," consists only of one or more alphabetic characters, ",(0,t.jsx)(s.strong,{children:"Num"})," returns a zero. If ",(0,t.jsx)(s.em,{children:"expression"}),' includes alphabetic and numeric characters, the command ignores the alphabetic characters. Thus, it transforms the string "a1b2c3" into the number 123.']}),"\n",(0,t.jsxs)(s.p,{children:["There are three reserved characters that ",(0,t.jsx)(s.strong,{children:"Num"})," treats specially: the decimal separator as defined in the system (if the ",(0,t.jsx)(s.em,{children:"separator"})," parameter is not passed), the hyphen \u201C",(0,t.jsx)(s.em,{children:"-"}),"\u201D, and \u201C",(0,t.jsx)(s.em,{children:"e"}),"\u201D ",(0,t.jsx)(s.em,{children:"or"})," \u201CE\u201D. These characters are interpreted as numeric format characters."]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["The decimal separator is interpreted as a decimal place and must appear embedded in a numeric string. By default, the command uses the decimal separator set by the operating system. You can modify this character using the ",(0,t.jsx)(s.em,{children:"separator"})," parameter (see below)."]}),"\n",(0,t.jsxs)(s.li,{children:["The hyphen causes the number or exponent to be negative. The hyphen must appear before any negative numeric characters or after the \u201Ce\u201D for an exponent. Except for the \u201Ce\u201D character, if a hyphen is embedded in a numeric string, the portion of the string after the hyphen is ignored. For example, ",(0,t.jsx)(s.code,{children:'Num("123-456")'})," returns 123, but ",(0,t.jsx)(s.code,{children:'Num("-9")'})," returns -9."]}),"\n",(0,t.jsxs)(s.li,{children:["The e or E causes any numeric characters to its right to be interpreted as the power of an exponent. The \u201Ce\u201D must be embedded in a numeric string. Thus, ",(0,t.jsx)(s.code,{children:'Num("123e\u20132")'})," returns 1.23.",(0,t.jsx)(s.br,{}),'\nNote that when the string includes more than one "e", conversion might give different results under macOS and under Windows.']}),"\n"]}),"\n",(0,t.jsxs)(s.h4,{id:"separator-parameter",children:[(0,t.jsx)(s.em,{children:"separator"})," parameter"]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.em,{children:"separator"})," parameter designates a custom decimal separator for evaluating the ",(0,t.jsx)(s.em,{children:"expression"}),". When the string to be evaluated is expressed with a decimal separator different from the system operator, the command returns an incorrect result. The ",(0,t.jsx)(s.em,{children:"separator"})," parameter can be used in this case to obtain a correct evaluation. When this parameter is passed, the command does not take the system decimal separator into account. You can pass one or more characters."]}),"\n",(0,t.jsx)(s.admonition,{type:"note",children:(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.a,{href:"/docs/commands/get-system-format",children:(0,t.jsx)(s.code,{children:"GET SYSTEM FORMAT"})})," command can be used to find out the current decimal separator as well as several other regional system parameters."]})}),"\n",(0,t.jsx)(s.h4,{id:"numstringbase",children:"Num(string;base)"}),"\n",(0,t.jsxs)(s.p,{children:["Using a ",(0,t.jsx)(s.em,{children:"base"})," parameter (integer) triggers a specific mode in which you specify the radix (base) of the number expressed as string in ",(0,t.jsx)(s.em,{children:"expression"}),". In particular, this syntax allows you to convert hexadecimal strings to numbers."]}),"\n",(0,t.jsxs)(s.p,{children:["In the ",(0,t.jsx)(s.em,{children:"base"})," parameter, pass the radix of the number in ",(0,t.jsx)(s.em,{children:"expression"}),". You can pass any integer value between 2 and 36."]}),"\n",(0,t.jsxs)(s.p,{children:["If you pass 0 in ",(0,t.jsx)(s.em,{children:"base"}),", the command determines the radix depending on the ",(0,t.jsx)(s.em,{children:"expression"})," value. If ",(0,t.jsx)(s.em,{children:"expression"}),' starts with "0x", base 16 is used. Otherwise, base 10 is used.']}),"\n",(0,t.jsxs)(s.p,{children:["If ",(0,t.jsx)(s.em,{children:"expression"})," evaluates to a decimal number, only the integer part is converted."]}),"\n",(0,t.jsx)(s.admonition,{type:"info",children:(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["This syntax strictly follows the ",(0,t.jsxs)(s.a,{href:"https://tc39.es/ecma262/multipage/global-object.html#sec-parseint-string-radix",children:[(0,t.jsx)(s.code,{children:"parseInt"})," EcmaScript specification"]}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Using this syntax with ",(0,t.jsx)(s.em,{children:"base"}),"=10 will not give exactly the same results as using the syntax without ",(0,t.jsx)(s.em,{children:"base"})," parameter. For example, in compliance with the EcmaScript specification, any character that does not belong to the base is considered a separator (see examples)."]}),"\n"]})}),"\n",(0,t.jsx)(s.h3,{id:"boolean-expressions",children:"Boolean Expressions"}),"\n",(0,t.jsxs)(s.p,{children:["If you pass a Boolean expression, ",(0,t.jsx)(s.strong,{children:"Num"})," returns 1 if the expression is True; otherwise, it returns ",(0,t.jsx)(s.em,{children:"0"})," (zero)."]}),"\n",(0,t.jsx)(s.h3,{id:"numeric-expressions",children:"Numeric Expressions"}),"\n",(0,t.jsxs)(s.p,{children:["If you pass a numeric expression in the ",(0,t.jsx)(s.em,{children:"expression"})," parameter, ",(0,t.jsx)(s.strong,{children:"Num"})," returns the value passed in the ",(0,t.jsx)(s.em,{children:"expression"})," parameter as is. This can be useful more particularly in the case of generic programming using pointers."]}),"\n",(0,t.jsx)(s.h3,{id:"undefined-expressions",children:"Undefined Expressions"}),"\n",(0,t.jsxs)(s.p,{children:["If ",(0,t.jsx)(s.em,{children:"expression"})," evaluates to undefined, the command returns 0 (zero). This is useful when you expect the result of an expression (e.g. an object attribute) to be a number, even if it can be undefined."]}),"\n",(0,t.jsx)(s.h2,{id:"example-1",children:"Example 1"}),"\n",(0,t.jsxs)(s.p,{children:["The following example illustrates how ",(0,t.jsx)(s.strong,{children:"Num"})," works when passed a single string argument:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-4d",children:'$result:=Num("ABCD")\xa0// 0\n$result:=Num("A1B2C3")\xa0// 123\n$result:=Num("123")\xa0// 123\n$result:=Num("123.4")\xa0// 123.4\n$result:=Num("\u2013123")\xa0// \u2013123\n$result:=Num("\u2013123e2")\xa0// \u201312300\n'})}),"\n",(0,t.jsx)(s.h2,{id:"example-2",children:"Example 2"}),"\n",(0,t.jsxs)(s.p,{children:["Here, ",(0,t.jsx)(s.em,{children:"[Client]Debt"})," is compared with ",(0,t.jsx)(s.em,{children:"$1000"}),". The Num command applied to these comparisons returns 1 or 0. Multiplying 1 or 0 with a string repeats the string once or returns the empty string. As a result, ",(0,t.jsx)(s.em,{children:"[Client]Risk"})," gets either \u201CGood\u201D or \u201CBad\u201D:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-4d",children:'\xa0\xa0// If client owes less than 1000, a good risk.\n\xa0\xa0// If client owes more than 1000, a bad risk.\n\xa0[Client]Risk:=("Good"*Num([Client]Debt<1000))+("Bad"*Num([Client]Debt>=1000))\n'})}),"\n",(0,t.jsx)(s.h2,{id:"example-3",children:"Example 3"}),"\n",(0,t.jsx)(s.p,{children:"This example compares the results obtained depending on the \u201Ccurrent\u201D separator:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-4d",children:'\xa0$thestring:="33,333.33"\n\xa0$thenum:=Num($thestring)\n\xa0\xa0// by default, $thenum equals 33,33333 on a French system\n\xa0$thenum:=Num($thestring;".")\n\xa0\xa0// $thenum will be correctly evaluated regardless of the system;\n\xa0\xa0// for example, 33 333,33 on a French system\n'})}),"\n",(0,t.jsx)(s.h2,{id:"example-4",children:"Example 4"}),"\n",(0,t.jsxs)(s.p,{children:["This example illustrates the use of the ",(0,t.jsx)(s.em,{children:"base"})," syntax:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-4d",children:'$result:=Num("ff";16) // 255 (lower-case hexadecimal)\n$result:=Num("0xFF") // 0\n$result:=Num("0xFF";16) // 255\n$result:=Num("2";2) // 0\n$result:=Num("10.3";16) // 16\n$result:=Num("123.20") // 12320 (standard base 10 syntax)\n$result:=Num("123.20"; 10) // 123 (explicitly specify base 10)\n\n'})}),"\n",(0,t.jsx)(s.h2,{id:"see-also",children:"See also"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"/docs/commands/bool",children:"Bool"}),(0,t.jsx)(s.br,{}),"\n",(0,t.jsx)(s.a,{href:"/docs/commands/get-system-format",children:"GET SYSTEM FORMAT"}),(0,t.jsx)(s.br,{}),"\n",(0,t.jsx)(s.a,{href:"/docs/commands/string",children:"String"})]}),"\n",(0,t.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{}),(0,t.jsx)(s.th,{})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Command number"}),(0,t.jsx)(s.td,{children:"11"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Thread safe"}),(0,t.jsx)(s.td,{children:"yes"})]})]})]})]})}function h(e={}){let{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},884429:function(e,s,n){n.d(s,{R:()=>a,x:()=>l});var r=n(296540);let t={},i=r.createContext(t);function a(e){let s=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);