"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["19346"],{596396:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>r,toc:()=>c,default:()=>h,metadata:()=>d,assets:()=>o,contentTitle:()=>l});var d=JSON.parse('{"id":"commands-legacy/set-index","title":"SET INDEX","description":"SET INDEX ( aField ; index {; *} )","source":"@site/versioned_docs/version-21/commands-legacy/set-index.md","sourceDirName":"commands-legacy","slug":"/commands/set-index","permalink":"/docs/commands/set-index","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fset-index.md%20(21)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"21","frontMatter":{"id":"set-index","title":"SET INDEX","slug":"/commands/set-index","displayed_sidebar":"docs"},"sidebar":"docs"}'),t=s(785893),i=s(250065);let r={id:"set-index",title:"SET INDEX",slug:"/commands/set-index",displayed_sidebar:"docs"},l=void 0,o={},c=[{value:"Compatibility Note",id:"compatibility-note",level:2},{value:"Description",id:"description",level:2},{value:"Note for deployment",id:"note-for-deployment",level:2},{value:"Example 1",id:"example-1",level:2},{value:"Example 2",id:"example-2",level:2},{value:"Example 3",id:"example-3",level:2},{value:"See also",id:"see-also",level:2},{value:"Properties",id:"properties",level:2}];function a(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SET INDEX"})," ( ",(0,t.jsx)(n.em,{children:"aField"})," ; ",(0,t.jsx)(n.em,{children:"index"})," {; *} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"aField"}),(0,t.jsx)(n.td,{children:"Field"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Field for which to create or delete the index"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"index"}),(0,t.jsx)(n.td,{children:"Boolean, Integer"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"True=Create index, False=Delete index, orCreate an index of the type: -1=Keywords, 0=by default, 1=B-Tree standard, 3=B-Tree cluster"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"*"}),(0,t.jsx)(n.td,{children:"Operator"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Asynchronous indexing if * is passed"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"compatibility-note",children:"Compatibility Note"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SET INDEX"}),", although a legacy command, is still fully supported and can remain in your application -- there is no need to rewrite existing code. However, it would be better to use ",(0,t.jsx)(n.a,{href:"/docs/commands/create-index",children:"CREATE INDEX"})," and ",(0,t.jsx)(n.a,{href:"/docs/commands/delete-index",children:"DELETE INDEX"})," to manage indexes because they provide more features."]}),"\n",(0,t.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"SET INDEX"})," accepts two syntaxes:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If you pass a Boolean in the ",(0,t.jsx)(n.em,{children:"index"})," parameter, the command creates or removes the index for the field you pass in ",(0,t.jsx)(n.em,{children:"aField"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["If you pass an integer in the ",(0,t.jsx)(n.em,{children:"index"})," parameter, the command creates an index of the type specified."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"index = Boolean"}),(0,t.jsx)(n.br,{}),"\nTo index the field, pass True in ",(0,t.jsx)(n.em,{children:"index"}),". The command creates an index of the default type. If the index already exists, the call has no effect.",(0,t.jsx)(n.br,{}),"\nIf you pass False in ",(0,t.jsx)(n.em,{children:"index"}),", the command will delete all the standard indexes (i.e., non-composite and non-keyword) that are associated with the field. If the index does not exist, the call has no effect."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"index = Integer"}),(0,t.jsx)(n.br,{}),"\nIn this case, the command creates an index of the type specified for ",(0,t.jsx)(n.em,{children:"aField"}),". You can pass one of the following constants, found in the \u201C",(0,t.jsx)(n.em,{children:"Index Type"}),"\u201D theme:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Constant"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Value"}),(0,t.jsx)(n.th,{children:"Comment"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Cluster BTree Index"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:"3"}),(0,t.jsx)(n.td,{children:"B-Tree type index using clusters. This type of index is optimized when the index contains few keywords, i.e. when the same values occur frequently in the data."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Default Index Type"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:"0"}),(0,t.jsx)(n.td,{children:"4D specifies the index type (excluding keywords indexes) that is the most optimized according to the contents of the field."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Keywords Index"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:"-1"}),(0,t.jsx)(n.td,{children:"Permits word-by-word indexing of field contents. This type of index can only be used with fields of the Text or Alpha type."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Standard BTree Index"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"Standard B-Tree type index. This multi-purpose index type is used in previous versions of 4D"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," A B-Tree index associated with a Text type field stores the first 1024 characters of the field (maximum). Therefore in this context, searches for strings containing more than 1024 characters will fail."]}),"\n",(0,t.jsx)(n.p,{children:"SET INDEX will not index locked records; it will wait until the record becomes unlocked."}),"\n",(0,t.jsxs)(n.p,{children:["The optional ",(0,t.jsx)(n.em,{children:"*"})," parameter indicates an asynchronous (simultaneous) indexing. Asynchronous indexing allows the execution of the calling method to continue immediately, whether or not indexing is completed. However, execution will halt at any command that requires the index."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Indexes created by this command do not have names. They cannot be deleted by the ",(0,t.jsx)(n.a,{href:"/docs/commands/delete-index",children:"DELETE INDEX"})," command using the syntax based on the name."]}),"\n",(0,t.jsx)(n.li,{children:"This command cannot be used to create or delete composite indexes."}),"\n",(0,t.jsxs)(n.li,{children:["This command cannot be used to delete a keywords index created by the ",(0,t.jsx)(n.a,{href:"/docs/commands/create-index",children:"CREATE INDEX"})," command."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"note-for-deployment",children:"Note for deployment"}),"\n",(0,t.jsxs)(n.p,{children:["Since this command modifies the database structure, it cannot be used in the context of a read-only packaged application (.4dc file installed in the ",(0,t.jsx)(n.em,{children:"Program Files"})," folder or .4dz file)."]}),"\n",(0,t.jsx)(n.h2,{id:"example-1",children:"Example 1"}),"\n",(0,t.jsxs)(n.p,{children:["The following example indexes the field ",(0,t.jsx)(n.em,{children:"[Customers]ID"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"\xa0UNLOAD RECORD([Customers])\n\xa0SET INDEX([Customers]ID;True)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"example-2",children:"Example 2"}),"\n",(0,t.jsxs)(n.p,{children:["You want to index the ",(0,t.jsx)(n.em,{children:"[Customers]Name"})," field in asynchronous mode:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"\xa0SET INDEX([Customers]Name;True;*)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"example-3",children:"Example 3"}),"\n",(0,t.jsx)(n.p,{children:"Creation of a keywords index:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"\xa0SET INDEX([Books]Summary;Keywords Index)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"see-also",children:"See also"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/docs/commands/create-index",children:"CREATE INDEX"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/commands/delete-index",children:"DELETE INDEX"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/commands/get-field-properties",children:"GET FIELD PROPERTIES"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/commands/order-by",children:"ORDER BY"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/commands/query",children:"QUERY"})]}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Command number"}),(0,t.jsx)(n.td,{children:"344"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Thread safe"}),(0,t.jsx)(n.td,{children:"\u2713"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},250065:function(e,n,s){s.d(n,{Z:()=>l,a:()=>r});var d=s(667294);let t={},i=d.createContext(t);function r(e){let n=d.useContext(i);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),d.createElement(i.Provider,{value:n},e.children)}}}]);