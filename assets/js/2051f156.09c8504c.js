"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["11645"],{722242:function(e,n,r){r.r(n),r.d(n,{default:()=>h,frontMatter:()=>i,metadata:()=>t,assets:()=>l,toc:()=>o,contentTitle:()=>d});var t=JSON.parse('{"id":"commands-legacy/average","title":"Average","description":"Average ( series {; attributePath} ) : Real","source":"@site/versioned_docs/version-20-R7/commands-legacy/average.md","sourceDirName":"commands-legacy","slug":"/commands/average","permalink":"/docs/commands/average","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Faverage.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"average","title":"Average","slug":"/commands/average","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"On a Series","permalink":"/docs/category/on-a-series"},"next":{"title":"Max","permalink":"/docs/commands/max"}}'),s=r("785893"),a=r("250065");let i={id:"average",title:"Average",slug:"/commands/average",displayed_sidebar:"docs"},d=void 0,l={},o=[{value:"Description",id:"description",level:4},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"Example 3",id:"example-3",level:4},{value:"See also",id:"see-also",level:4},{value:"Properties",id:"properties",level:4}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Average"})," ( ",(0,s.jsx)(n.em,{children:"series"})," {; ",(0,s.jsx)(n.em,{children:"attributePath"}),"} ) : Real"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"series"}),(0,s.jsx)(n.td,{children:"Field, Array"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Data for which to return the average"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"attributePath"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Path of attribute for which to return the average"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Function result"}),(0,s.jsx)(n.td,{children:"Real"}),(0,s.jsx)(n.td,{children:"\u2190"}),(0,s.jsx)(n.td,{children:"Arithmetic mean (average) of series"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Average"})," returns the arithmetic mean (average) of ",(0,s.jsx)(n.em,{children:"series"}),". If ",(0,s.jsx)(n.em,{children:"series"})," is an indexed field, the index is used to find the average."]}),"\n",(0,s.jsxs)(n.p,{children:["You can pass an array (one or two dimensions) in ",(0,s.jsx)(n.em,{children:"series"}),". In this case, the array must be of the Integer, Longint or Real type."]}),"\n",(0,s.jsxs)(n.p,{children:["This command accepts an optional ",(0,s.jsx)(n.em,{children:"attributePath"})," parameter of the Text type, that you can use if ",(0,s.jsx)(n.em,{children:"series"}),' is an object field. It allows you to define the path of the attribute to compute. Use the standard dot notation to define paths to nested attributes, for example "company.address.number". Keep in mind that object attribute names are case-sensitive.',(0,s.jsx)(n.br,{}),"\nOnly numeric attribute values are computed. If there are values in the attribute path which are not of a numeric type, they are ignored."]}),"\n",(0,s.jsxs)(n.p,{children:["If the command is correctly executed, the OK system variable is set to 1. If it is interrupted (for example if the user clicks on the ",(0,s.jsx)(n.strong,{children:"Stop"})," button of the progress thermometer), the OK variable is set to 0."]}),"\n",(0,s.jsx)(n.h4,{id:"example-1",children:"Example 1"}),"\n",(0,s.jsxs)(n.p,{children:["The following example sets the variable ",(0,s.jsx)(n.em,{children:"vAverage"})," that is in the B0 Break area of an output form. The line of code is the object method for ",(0,s.jsx)(n.em,{children:"vAverage"}),". The object method is not executed until the level 0 break:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:"\xa0vAverage:=Average([Employees] Salary)\n"})}),"\n",(0,s.jsx)(n.p,{children:"The following method is called to print the records in the selection and to activate break processing:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0ALL RECORDS([Employees])\n\xa0ORDER BY([Employees];[Employees]LastNm;>)\n\xa0BREAK LEVEL(1)\n\xa0ACCUMULATE([Employees]Salary)\n\xa0FORM SET OUTPUT([Employees];"PrintForm")\n\xa0PRINT SELECTION([Employees])\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," The parameter to the ",(0,s.jsx)(n.a,{href:"/docs/commands/break-level",children:"BREAK LEVEL"})," command should be equal to the number of breaks in your report. For more information about break processing, refer to the chapter ",(0,s.jsx)(n.em,{children:"Printing"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"example-2",children:"Example 2"}),"\n",(0,s.jsx)(n.p,{children:"This example gets the average of the first 15 grades in the selection:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:"\xa0ARRAY REAL($ArrGrades;0)\n\xa0QUERY([Exams];[Exams]Exam_Date=!01/07/11!)\n\xa0ORDER BY([Exams];[Exams]Exam_Grade;<)\n\xa0SELECTION TO ARRAY([Exams]Exam_Grade;$ArrGrades)\n\xa0ARRAY REAL($ArrGrades;15)\n\xa0vAverage:=Average($ArrGrades)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"example-3",children:"Example 3"}),"\n",(0,s.jsx)(n.p,{children:'Your [Customer] table contains a "full_Data" object field with the following data:'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(905134).Z+"",width:"886",height:"375"})}),"\n",(0,s.jsx)(n.p,{children:"You can perform the following computations:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0var $vAvg : Real\n\xa0ALL RECORDS([Customer])\n\xa0$vAvg:=Average([Customer]full_Data;"age")\n\xa0\xa0//$vAvg is 44,46\n\xa0\n\xa0var $vTot : Integer\n\xa0$vTot:=Sum([Customer]full_Data;"Children[].age")\n\xa0\xa0//$vTot is 105\n'})}),"\n",(0,s.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/docs/commands/accumulate",children:"ACCUMULATE"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/break-level",children:"BREAK LEVEL"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/max",children:"Max"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/min",children:"Min"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/order-by",children:"ORDER BY"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/print-selection",children:"PRINT SELECTION"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/subtotal",children:"Subtotal"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/sum",children:"Sum"})]}),"\n",(0,s.jsx)(n.h4,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Command number"}),(0,s.jsx)(n.td,{children:"2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Thread safe"}),(0,s.jsx)(n.td,{children:"\u2713"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Modifies variables"}),(0,s.jsx)(n.td,{children:"OK"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},905134:function(e,n,r){r.d(n,{Z:function(){return t}});let t=r.p+"assets/images/pict2898119.en-3a6d73312fa7bd639281fc7c22715fa7.png"},250065:function(e,n,r){r.d(n,{Z:function(){return d},a:function(){return i}});var t=r(667294);let s={},a=t.createContext(s);function i(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);