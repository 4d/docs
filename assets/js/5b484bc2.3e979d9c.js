"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["36981"],{628789:function(e,n,t){t.r(n),t.d(n,{metadata:()=>s,contentTitle:()=>l,default:()=>o,assets:()=>c,toc:()=>h,frontMatter:()=>d});var s=JSON.parse('{"id":"commands-legacy/distinct-attribute-values","title":"DISTINCT ATTRIBUTE VALUES","description":"DISTINCT ATTRIBUTE VALUES ( objectField ; path ; valuesArray )","source":"@site/versioned_docs/version-20-R7/commands-legacy/distinct-attribute-values.md","sourceDirName":"commands-legacy","slug":"/commands/distinct-attribute-values","permalink":"/docs/commands/distinct-attribute-values","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fdistinct-attribute-values.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"distinct-attribute-values","title":"DISTINCT ATTRIBUTE VALUES","slug":"/commands/distinct-attribute-values","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"DISTINCT ATTRIBUTE PATHS","permalink":"/docs/commands/distinct-attribute-paths"},"next":{"title":"DISTINCT VALUES","permalink":"/docs/commands/distinct-values"}}'),r=t("785893"),i=t("250065");let d={id:"distinct-attribute-values",title:"DISTINCT ATTRIBUTE VALUES",slug:"/commands/distinct-attribute-values",displayed_sidebar:"docs"},l=void 0,c={},h=[{value:"Description",id:"description",level:4},{value:"Using the .length virtual property",id:"using-the-length-virtual-property",level:5},{value:"Example",id:"example",level:4},{value:"See also",id:"see-also",level:4},{value:"Properties",id:"properties",level:4}];function a(e){let n={a:"a",code:"code",em:"em",h4:"h4",h5:"h5",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"DISTINCT ATTRIBUTE VALUES"})," ( ",(0,r.jsx)(n.em,{children:"objectField"})," ; ",(0,r.jsx)(n.em,{children:"path"})," ; ",(0,r.jsx)(n.em,{children:"valuesArray"})," )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"objectField"}),(0,r.jsx)(n.td,{children:"Field"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Object field from which to get the list of distinct attribute values"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"path"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Path of attribute whose distinct values you want to get"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"valuesArray"}),(0,r.jsx)(n.td,{children:"Text array, Array integer, Boolean array, Date array, Time array"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Distinct values in attribute path"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"DISTINCT ATTRIBUTE VALUES"})," command creates and populates the ",(0,r.jsx)(n.em,{children:"valuesArray"})," with non-repeated (unique) values coming from the ",(0,r.jsx)(n.em,{children:"path"})," attribute in the ",(0,r.jsx)(n.em,{children:"objectField"})," field for the current selection of the table to which this field belongs. Note that ",(0,r.jsx)(n.em,{children:"objectField"})," must be of the Object type, otherwise an error is returned. The command can be used with indexed or non-indexed fields."]}),"\n",(0,r.jsxs)(n.p,{children:["Pass a valid attribute path in ",(0,r.jsx)(n.em,{children:"path"}),'. Use the standard dot notation to define paths to nested attributes, for example "company.address.number". Keep in mind that object attribute names are case-sensitive.']}),"\n",(0,r.jsxs)(n.p,{children:["The array you passed in ",(0,r.jsx)(n.em,{children:"valuesArray"})," must be of the same type as the values stored in the attribute ",(0,r.jsx)(n.em,{children:"path"}),". Values must be scalar and can be of the Text, number, Boolean, Date, or Time type (pointers, objects, BLOBs or images are not supported). Make sure that all field attribute values are of the same type; otherwise, an error is returned. For example, if the ",(0,r.jsx)(n.em,{children:"path"}),' attribute contains "Monday" in one record and 10125 in another record, an error will be returned.']}),"\n",(0,r.jsx)(n.p,{children:"If the command is called from within a transaction, records created during the transaction are taken into account."}),"\n",(0,r.jsx)(n.p,{children:"After the call, the size of the array is equal to the number of distinct values found in the selection. The command does not change the current selection or the current record."}),"\n",(0,r.jsx)(n.h5,{id:"using-the-length-virtual-property",children:"Using the .length virtual property"}),"\n",(0,r.jsxs)(n.p,{children:['You can use the "length" virtual property with this command. It is automatically available for all attributes of the array type, and provides the size of the array, i.e. the number of elements it contains. This property is designed to be used in queries (see ',(0,r.jsx)(n.a,{href:"/docs/commands/query-by-attribute",children:"QUERY BY ATTRIBUTE"}),"). You can also use it with the ",(0,r.jsx)(n.strong,{children:"DISTINCT ATTRIBUTE VALUES"})," command to get the different array sizes for an attribute."]}),"\n",(0,r.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.p,{children:"Your database contains a [Customer]full_Data object field with 15 records:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:t(386601).Z+"",width:"892",height:"416"})}),"\n",(0,r.jsx)(n.p,{children:"If you execute this code:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY LONGINT(aLAges;0)\n\xa0ARRAY LONGINT(aLAgesChild;0)\n\xa0ARRAY LONGINT(aLChildNum;0)\n\xa0ALL RECORDS([Customer])\n\xa0\xa0//get the distinct values for the "age" attribute\n\xa0DISTINCT ATTRIBUTE VALUES([Customer]full_Data;"age";aLAges)\n\xa0\xa0//get the distinct values for the "age" attribute within the "Children" array\n\xa0DISTINCT ATTRIBUTE VALUES([Customer]full_Data;"Children[].age";aLAgesChild)\n\xa0\xa0//get the distinct numbers of children by using the length virtual property\n\xa0DISTINCT ATTRIBUTE VALUES([Customer]full_Data;"Children.length";aLChildNum)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.em,{children:"aLAges"})," array receives the following elements:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Element"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Value"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1"}),(0,r.jsx)(n.td,{children:"33"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"2"}),(0,r.jsx)(n.td,{children:"35"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"3"}),(0,r.jsx)(n.td,{children:"36"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"4"}),(0,r.jsx)(n.td,{children:"40"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"5"}),(0,r.jsx)(n.td,{children:"42"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"6"}),(0,r.jsx)(n.td,{children:"44"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"7"}),(0,r.jsx)(n.td,{children:"52"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"8"}),(0,r.jsx)(n.td,{children:"54"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"9"}),(0,r.jsx)(n.td,{children:"60"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.em,{children:"aLAgesChild"})," array receives the following elements:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Element"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Value"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1"}),(0,r.jsx)(n.td,{children:"2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"2"}),(0,r.jsx)(n.td,{children:"3"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"3"}),(0,r.jsx)(n.td,{children:"4"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"4"}),(0,r.jsx)(n.td,{children:"5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"5"}),(0,r.jsx)(n.td,{children:"6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"6"}),(0,r.jsx)(n.td,{children:"10"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"7"}),(0,r.jsx)(n.td,{children:"12"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"8"}),(0,r.jsx)(n.td,{children:"14"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"9"}),(0,r.jsx)(n.td,{children:"15"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"10"}),(0,r.jsx)(n.td,{children:"16"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.em,{children:"aLChildNum"})," array receives the following elements:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Element"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Value"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1"}),(0,r.jsx)(n.td,{children:"1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"2"}),(0,r.jsx)(n.td,{children:"2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"3"}),(0,r.jsx)(n.td,{children:"3"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/commands/distinct-attribute-paths",children:"DISTINCT ATTRIBUTE PATHS"})}),"\n",(0,r.jsx)(n.h4,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Command number"}),(0,r.jsx)(n.td,{children:"1397"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Thread safe"}),(0,r.jsx)(n.td,{children:"\u2713"})]})]})]})]})}function o(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},386601:function(e,n,t){t.d(n,{Z:function(){return s}});let s=t.p+"assets/images/pict2994114.en-68a05af42526ae8a3e86ce9c6c663112.png"},250065:function(e,n,t){t.d(n,{Z:function(){return l},a:function(){return d}});var s=t(667294);let r={},i=s.createContext(r);function d(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);