"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[29521],{574497:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>c});var s=t(474848),r=t(28453);const i={id:"blob-to-print-settings",title:"BLOB to print settings",slug:"/commands/blob-to-print-settings",displayed_sidebar:"docs"},o=void 0,d={id:"commands-legacy/blob-to-print-settings",title:"BLOB to print settings",description:"BLOB to print settings ( printSettings {; params} ) -> Function result",source:"@site/versioned_docs/version-20-R7/commands-legacy/blob-to-print-settings.md",sourceDirName:"commands-legacy",slug:"/commands/blob-to-print-settings",permalink:"/docs/commands/blob-to-print-settings",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fblob-to-print-settings.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"blob-to-print-settings",title:"BLOB to print settings",slug:"/commands/blob-to-print-settings",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"ACCUMULATE",permalink:"/docs/commands/accumulate"},next:{title:"BREAK LEVEL",permalink:"/docs/commands/break-level"}},a={},c=[{value:"Description",id:"description",level:4},{value:"Windows / OS X",id:"windows--os-x",level:5},{value:"Compatibility with 4D Pack commands",id:"compatibility-with-4d-pack-commands",level:5},{value:"Example",id:"example",level:4},{value:"See also",id:"see-also",level:4}];function l(e){const n={a:"a",br:"br",code:"code",em:"em",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"BLOB to print settings"})," ( ",(0,s.jsx)(n.em,{children:"printSettings"})," {; ",(0,s.jsx)(n.em,{children:"params"}),"} ) -> Function result"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"printSettings"}),(0,s.jsx)(n.td,{children:"Blob"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"BLOB containing print settings"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"params"}),(0,s.jsx)(n.td,{children:"Integer"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"0=Restore saved values for number of copies and page range, 1=Reset to default values"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Function result"}),(0,s.jsx)(n.td,{children:"Longint"}),(0,s.jsx)(n.td,{children:"\u2190"}),(0,s.jsx)(n.td,{children:"Status code: 1=Operation successful, 0=No current printer, -1=Incorrect parameters, 2=Printer changed"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"This command is not thread-safe, it cannot be used in preemptive code."})}),"\n",(0,s.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"BLOB to print settings"})," command replaces the current 4D print settings with the parameters stored in the ",(0,s.jsx)(n.em,{children:"printSettings"})," BLOB. This BLOB must have been generated by the ",(0,s.jsx)(n.a,{href:"/docs/commands/print-settings-to-blob",children:"Print settings to BLOB"})," command or the  4D Pack command (see below)."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.em,{children:"params"}),' parameter allows you to define how to handle the basic "number of copies" and "page range" settings:']}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If you pass 0 or omit this parameter, the values stored in the BLOB are restored,"}),"\n",(0,s.jsx)(n.li,{children:'If you pass 1, the values are reset to default: the number of copies is set to 1 and the page range is set to "all pages".'}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The parameters are applied to the ",(0,s.jsx)(n.a,{href:"https://developer.4d.com/docs/settings/compatibility/",children:"current 4D printing settings"})," as long as no command such as ",(0,s.jsx)(n.em,{children:"_o_PAGE SETUP"}),", ",(0,s.jsx)(n.a,{href:"/docs/commands/set-print-option",children:"SET PRINT OPTION"})," or ",(0,s.jsx)(n.a,{href:"/docs/commands/print-selection",children:"PRINT SELECTION"})," without the > parameter modifies them. The parameters set are used more particularly by the ",(0,s.jsx)(n.a,{href:"/docs/commands/print-selection",children:"PRINT SELECTION"}),", ",(0,s.jsx)(n.a,{href:"/docs/commands/print-label",children:"PRINT LABEL"}),", ",(0,s.jsx)(n.a,{href:"/docs/commands/print-record",children:"PRINT RECORD"}),", ",(0,s.jsx)(n.a,{href:"/docs/commands/print-form",children:"Print form"})," and ",(0,s.jsx)(n.a,{href:"/docs/commands/qr-report",children:"QR REPORT"})," commands, as well as by the menu commands of 4D, including those of the Design environment."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.a,{href:"/docs/commands/print-selection",children:"PRINT SELECTION"}),", ",(0,s.jsx)(n.a,{href:"/docs/commands/print-label",children:"PRINT LABEL"}),", and ",(0,s.jsx)(n.a,{href:"/docs/commands/print-record",children:"PRINT RECORD"})," commands must be called with the ",(0,s.jsx)(n.em,{children:">"})," parameter (if applicable) in order for the settings defined by ",(0,s.jsx)(n.strong,{children:"BLOB to print settings"})," to be kept."]}),"\n",(0,s.jsx)(n.p,{children:"The command returns one of the following status codes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"-1: the BLOB is incorrect,"}),"\n",(0,s.jsx)(n.li,{children:"0: no current printer is selected (in this case the command does nothing),"}),"\n",(0,s.jsx)(n.li,{children:"1: the BLOB has been correctly loaded,"}),"\n",(0,s.jsxs)(n.li,{children:["2: the BLOB has been correctly loaded but the current printer name has changed(*).",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Note:"})," Code (2) is always returned if the BLOB was created by the  4D Pack command, even if the printer name did not actually change, since this information was not included in the 4D Pack BLOBs."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"(*) Settings depend on the currently selected printer at the moment the BLOB was saved. Applying these settings to a another printer is supported if both printers are of the same model. If the printers are different, only common parameters will be restored."}),"\n",(0,s.jsx)(n.h5,{id:"windows--os-x",children:"Windows / OS X"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.em,{children:"printSettings"})," BLOB can be saved and read on both platforms. However, even if some print settings are common, some others are platform-specific and depend on the drivers and system versions. If the same ",(0,s.jsx)(n.em,{children:"printSettings"})," BLOB is shared between both platforms, you may lose parts of the information.",(0,s.jsx)(n.br,{}),"\nWhen used in a heterogeneous environment, in order to restore the maximum settings available for each platform (and not only the common part), it is recommended that you work with two ",(0,s.jsx)(n.em,{children:"printSettings"})," BLOBs, one for each platform."]}),"\n",(0,s.jsx)(n.h5,{id:"compatibility-with-4d-pack-commands",children:"Compatibility with 4D Pack commands"}),"\n",(0,s.jsxs)(n.p,{children:["The print settings BLOBs generated by the legacy  command from 4D Pack can be loaded and used by the ",(0,s.jsx)(n.strong,{children:"BLOB to print settings"})," command. Note however that if they are saved using ",(0,s.jsx)(n.a,{href:"/docs/commands/print-settings-to-blob",children:"Print settings to BLOB"}),", they are converted and can no longer be opened using . The ",(0,s.jsx)(n.strong,{children:"BLOB to print settings"})," command stores much more printing information than ."]}),"\n",(0,s.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,s.jsx)(n.p,{children:"You want to apply print settings previously saved to disk to the current 4D printing context:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0var curSettings : Blob\n\xa0DOCUMENT TO BLOB(Get 4D folder(Active 4D Folder)+"current4Dsettings.blob";curSettings)\n\xa0\xa0//current4Dsettings has been created by Print settings to BLOB\n\xa0$err:=BLOB to print settings(curSettings;0)\n\xa0Case of\n\xa0\xa0\xa0\xa0:($err=1)\n\xa0\xa0//everything is OK\n\xa0\xa0\xa0\xa0:($err=2)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0CONFIRM("Printer has changed!\\n\\nCheck the print settings?")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(OK=1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0PRINT SETTINGS\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0:($err=0)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0ALERT("There is no current printer.")\n\xa0\xa0\xa0\xa0:($err=-1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0ALERT("Invalid settings file.")\n\xa0End case\n'})}),"\n",(0,s.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/commands/print-settings-to-blob",children:"Print settings to BLOB"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>d});var s=t(296540);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);