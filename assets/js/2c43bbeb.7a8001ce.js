"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[84640],{313895:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>a});var t=r(474848),o=r(28453);const s={id:"current-form-table",title:"Current form table",slug:"/commands/current-form-table",displayed_sidebar:"docs"},i=void 0,c={id:"commands-legacy/current-form-table",title:"Current form table",description:"Current form table  -> Function result",source:"@site/versioned_docs/version-20-R7/commands-legacy/current-form-table.md",sourceDirName:"commands-legacy",slug:"/commands/current-form-table",permalink:"/docs/commands/current-form-table",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fcurrent-form-table.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"current-form-table",title:"Current form table",slug:"/commands/current-form-table",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"Current default table",permalink:"/docs/commands/current-default-table"},next:{title:"DEFAULT TABLE",permalink:"/docs/commands/default-table"}},d={},a=[{value:"Description",id:"description",level:4},{value:"Example",id:"example",level:4},{value:"See also",id:"see-also",level:4}];function l(e){const n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Current form table"}),"  -> Function result"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Function result"}),(0,t.jsx)(n.td,{children:"Pointer"}),(0,t.jsx)(n.td,{children:"\u2190"}),(0,t.jsx)(n.td,{children:"Pointer to the table of the currently displayed form"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"This command is not thread-safe, it cannot be used in preemptive code."})}),"\n",(0,t.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,t.jsx)(n.p,{children:"The Current form table command returns the pointer to the table of the form being displayed or printed in the current process."}),"\n",(0,t.jsxs)(n.p,{children:["The function returns ",(0,t.jsx)(n.a,{href:"/docs/commands/is-nil-pointer",children:"Is nil pointer"})," in the following cases:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"There is no form being displayed or printed in the current process,"}),"\n",(0,t.jsx)(n.li,{children:"The current form is a project form."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"If there are several windows open for the current process (which means that the window opened last is the current active window), the command returns the pointer to the table of the form displayed in the active window."}),"\n",(0,t.jsx)(n.p,{children:"If the currently displayed form is the Detail form for a subform area, you are in data entry and you double-clicked on a record or a subrecord of a double-clickable subform area. In this case, the command returns:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The pointer to the table shown in the subform area, if the subform displays a table."}),"\n",(0,t.jsx)(n.li,{children:"A non-significant pointer, if the subform area displays a subtable."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,t.jsxs)(n.p,{children:["Throughout your application, you use the following convention when displaying a record:",(0,t.jsx)(n.br,{}),"\nIf the variable ",(0,t.jsx)(n.em,{children:"vsCurrentRecord"})," is present in a form, it displays \u201cNew Record\u201d if you are working with a new record. If you are working with the 56th record of a selection composed of 5200 records, it displays \u201c56 of 5200\u201d."]}),"\n",(0,t.jsxs)(n.p,{children:["To do so, use the object method to create the variable ",(0,t.jsx)(n.em,{children:"vsCurrentRecord"}),", then copy and paste it into all of your forms:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// vsCurrentRecord non-enterable variable object method\n\xa0Case of\n\xa0\xa0\xa0\xa0:(Form event code=On Load)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0C_STRING(31;vsCurrentRecord)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0var $vpParentTable : Pointer\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0var $vlRecordNum : Integer\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$vpParentTable:=Current form table\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$vlRecordNum:=Record number($vpParentTable->)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0Case of\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0:($vlRecordNum=-3)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0vsCurrentRecord:="New Record"\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0:($vlRecordNum=-1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0vsCurrentRecord:="No Record"\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0:($vlRecordNum>=0)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0vsCurrentRecord:=String(Selected record number($vpParentTable->))+" of "+\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0String(Records in selection($vpParentTable->))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0End case\n\xa0End case\n'})}),"\n",(0,t.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/docs/commands/dialog",children:"DIALOG"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/commands/form-set-input",children:"FORM SET INPUT"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/commands/form-set-output",children:"FORM SET OUTPUT"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/commands/print-selection",children:"PRINT SELECTION"})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>c});var t=r(296540);const o={},s=t.createContext(o);function i(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);