"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[45497],{672315:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>m,toc:()=>d});var t=s(474848),r=s(28453);const o={id:"release-menu",title:"RELEASE MENU",slug:"/commands/release-menu",displayed_sidebar:"docs"},i=void 0,m={id:"commands-legacy/release-menu",title:"RELEASE MENU",description:"RELEASE MENU ( menu )",source:"@site/versioned_docs/version-20-R7/commands-legacy/release-menu.md",sourceDirName:"commands-legacy",slug:"/commands/release-menu",permalink:"/docs/commands/release-menu",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Frelease-menu.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"release-menu",title:"RELEASE MENU",slug:"/commands/release-menu",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"Menu selected",permalink:"/docs/commands/menu-selected"},next:{title:"SET HELP MENU",permalink:"/docs/commands/set-help-menu"}},a={},d=[{value:"Description",id:"description",level:4},{value:"Example",id:"example",level:4},{value:"See also",id:"see-also",level:4}];function c(e){const n={a:"a",code:"code",em:"em",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"RELEASE MENU"})," ( ",(0,t.jsx)(n.em,{children:"menu"})," )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"menu"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Menu reference"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"This command is not thread-safe, it cannot be used in preemptive code."})}),"\n",(0,t.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"RELEASE MENU"})," command removes the menu whose ID is passed in ",(0,t.jsx)(n.em,{children:"menu"})," from memory. This menu must have been created by the menu ",(0,t.jsx)(n.a,{href:"/docs/commands/create-menu",children:"Create menu"})," command. The following rule applies: for each ",(0,t.jsx)(n.a,{href:"/docs/commands/create-menu",children:"Create menu"})," there must be a corresponding ",(0,t.jsx)(n.a,{href:"/docs/commands/release-menu",children:"RELEASE MENU"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["The command removes every instance of the ",(0,t.jsx)(n.em,{children:"menu"})," menu from every menu bar and every process. If the menu belongs to a menu bar which is in use, it will continue to work but can no longer be modified. It will only be truly removed from the memory when the last menu bar where it appears is no longer in use."]}),"\n",(0,t.jsx)(n.p,{children:"This command can be used with menus that are used as menu bars."}),"\n",(0,t.jsxs)(n.p,{children:["Any sub-menus used by ",(0,t.jsx)(n.em,{children:"menu"})," are not removed if they were created directly using the ",(0,t.jsx)(n.a,{href:"/docs/commands/create-menu",children:"Create menu"})," command. In this case, you must remove them individually (see the rule mentioned above). However, if the submenus come from the duplication of an existing menu, do not call ",(0,t.jsx)(n.a,{href:"/docs/commands/release-menu",children:"RELEASE MENU"})," with them because 4D will erase them automatically."]}),"\n",(0,t.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.p,{children:"This example shows different ways to use this command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0newMenu:=Create menu\n\xa0APPEND MENU ITEM(newMenu;"Test1")\n\xa0subMenu:=Create menu\n\xa0APPEND MENU ITEM(subMenu;"SubTest1")\n\xa0APPEND MENU ITEM(subMenu;"SubTest2")\xa0// Creation of items in submenu\n\xa0\n\xa0APPEND MENU ITEM(newMenu;"Test2";subMenu)\xa0// Attaching submenu to menu\n\xa0\n\xa0\xa0//At this point, the submenu is attached to the menu and if we will not need it later on, this is right place to remove it.\n\xa0\xa0//Removing it does not immediately delete subMenu since it is still used by newMenu. subMenu is only deleted when newMenu is.\n\xa0\xa0//Removing the submenu here lets you save memory\n\xa0RELEASE MENU(subMenu)\n\xa0\n\xa0$result1:=Dynamic pop up menu(newMenu)\xa0//Use of menu\n\xa0copyMenu:=Create menu(newMenu)\xa0// Creation of menu by copying newMenu (and thus copying subMenu as well)\n\xa0RELEASE MENU(newMenu)\xa0// We no longer need newMenu.\n\xa0\n\xa0$result2:=Dynamic pop up menu(copyMenu)\n\xa0RELEASE MENU(copyMenu)\n\xa0\xa0//You don\'t need to worry about deleting the submenus of copyMenu since it was not created directly using Create menu\n\xa0\xa0//The rule to follow is: each Create menu must have a corresponding RELEASE MENU\n'})}),"\n",(0,t.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/docs/commands/create-menu",children:"Create menu"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>m});var t=s(296540);const r={},o=t.createContext(r);function i(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function m(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);