"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["88796"],{713940:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>i,metadata:()=>r,assets:()=>l,toc:()=>o,contentTitle:()=>d});var r=JSON.parse('{"id":"commands-legacy/dom-parse-xml-variable","title":"DOM Parse XML variable","description":"DOM Parse XML variable ( variable {; validation {; dtd | schema}} ) : Text","source":"@site/versioned_docs/version-20-R7/commands-legacy/dom-parse-xml-variable.md","sourceDirName":"commands-legacy","slug":"/commands/dom-parse-xml-variable","permalink":"/docs/commands/dom-parse-xml-variable","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fdom-parse-xml-variable.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"dom-parse-xml-variable","title":"DOM Parse XML variable","slug":"/commands/dom-parse-xml-variable","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"DOM Parse XML source","permalink":"/docs/commands/dom-parse-xml-source"},"next":{"title":"DOM REMOVE XML ATTRIBUTE","permalink":"/docs/commands/dom-remove-xml-attribute"}}'),a=t("785893"),s=t("250065");let i={id:"dom-parse-xml-variable",title:"DOM Parse XML variable",slug:"/commands/dom-parse-xml-variable",displayed_sidebar:"docs"},d=void 0,l={},o=[{value:"Description",id:"description",level:4},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"System variables and sets",id:"system-variables-and-sets",level:4},{value:"See also",id:"see-also",level:4},{value:"Properties",id:"properties",level:4}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"DOM Parse XML variable"})," ( ",(0,a.jsx)(n.em,{children:"variable"})," {; ",(0,a.jsx)(n.em,{children:"validation"})," {; dtd | schema}} ) : Text"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Parameter"}),(0,a.jsx)(n.th,{children:"Type"}),(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"variable"}),(0,a.jsx)(n.td,{children:"Blob, Text"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Name of the variable"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"validation"}),(0,a.jsx)(n.td,{children:"Boolean"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"True = Validation by the DTD, False = No validation"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"dtd | schema"}),(0,a.jsx)(n.td,{children:"Text"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Location of the DTD or XML schema"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Function result"}),(0,a.jsx)(n.td,{children:"Text"}),(0,a.jsx)(n.td,{children:"\u2190"}),(0,a.jsx)(n.td,{children:"Reference of XML element"})]})]})]}),"\n",(0,a.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,a.jsx)(n.p,{children:"The DOM Parse XML variable command parses a BLOB or Text type variable containing an XML structure and returns a reference for this variable. The command can validate (or not) the structure via a DTD or an XML schema (XML Schema Definition (XSD) document)."}),"\n",(0,a.jsxs)(n.p,{children:["Pass the name of the BLOB or Text variable containing the XML object in the ",(0,a.jsx)(n.em,{children:"variable"})," parameter."]}),"\n",(0,a.jsxs)(n.p,{children:["The Boolean parameter ",(0,a.jsx)(n.em,{children:"validation"})," indicates whether or not to validate the structure."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["If ",(0,a.jsx)(n.em,{children:"validation"})," equals True, the structure is validated. In this case, the parser attempts to validate the XML structure of the document based either on the DTD or XSD reference included in the document, or via the DTD or XML schema designated by the third parameter when it is passed."]}),"\n",(0,a.jsxs)(n.li,{children:["If ",(0,a.jsx)(n.em,{children:"validation"})," equals False, the structure is not validated."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["If you pass True in ",(0,a.jsx)(n.em,{children:"validation"})," and omit the third parameter, the command attempts to validate the XML structure via a DTD or XSD reference found in the structure itself. Validation can be indirect: if the structure contains a reference to a DTD file that itself contains a reference to an XSD file, the command attempts to carry out both validations."]}),"\n",(0,a.jsx)(n.p,{children:"The third parameter indicates a specific DTD or an XML schema for document parsing. If you use this parameter, the command does not take the DTD referred to in the XML document into account."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Validation by DTD"}),(0,a.jsx)(n.br,{}),"\nThere are two ways to specify a DTD:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["As a reference. To do this, pass the complete pathname of the new DTD (\u201Cdtd\u201D extension) in the ",(0,a.jsx)(n.em,{children:"dtd"})," parameter. If the document indicated does not contain a valid DTD, the ",(0,a.jsx)(n.em,{children:"dtd"})," parameter is ignored and an error is generated."]}),"\n",(0,a.jsx)(n.li,{children:"Directly in a text. In this case, if the contents of the parameter begin with \u201C<?xml\u201D, 4D will consider that it is the DTD; otherwise, 4D will consider it as a pathname."}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Validation by schema"}),(0,a.jsx)(n.br,{}),"\nTo validate the document via an XML schema, you just need to pass a file or URL with an \u201Cxsd\u201D extension instead of a \u201Cdtd\u201D one in the third parameter. Validation by XML schema is considered to be more flexible and more powerful than validation by DTD. The language of XSD documents is based on XML language. More particularly, XML schemas support data types. For more information about XML schemas, please refer to the following address: ",(0,a.jsx)(n.em,{children:(0,a.jsx)(n.a,{href:"http://www.w3.org/XML/Schema",children:"http://www.w3.org/XML/Schema"})}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["If validation cannot be performed (no DTD or XSD, incorrect URL, etc.), an error is generated. The Error system variable indicates the error number. You can intercept this error using a method installed by the ",(0,a.jsx)(n.a,{href:"/docs/commands/on-err-call",children:"ON ERR CALL"})," command."]}),"\n",(0,a.jsx)(n.p,{children:"The command returns a character string (ElementRef) making up the reference in the memory of the document virtual structure. This reference should be used with other XML parsing commands."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Important:"})," Once you no longer have any need for it, remember to call the ",(0,a.jsx)(n.a,{href:"/docs/commands/dom-close-xml",children:"DOM CLOSE XML"})," command with this reference in order to free up the memory."]}),"\n",(0,a.jsx)(n.h4,{id:"example-1",children:"Example 1"}),"\n",(0,a.jsx)(n.p,{children:"Opening an XML object located in a 4D Text variable, without validation:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0var myTextVar : Text\n\xa0var vDoc : Time\n\xa0var $xml_Struct_Ref : Text\n\xa0\n\xa0vDoc:=Open document("Document.xml")\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0RECEIVE PACKET(vDoc;myTextVar;32000)\n\xa0\xa0\xa0\xa0CLOSE DOCUMENT(vDoc)\n\xa0\xa0\xa0\xa0$xml_Struct_Ref:=DOM Parse XML variable(myTextVar)\n\xa0End if\n'})}),"\n",(0,a.jsx)(n.h4,{id:"example-2",children:"Example 2"}),"\n",(0,a.jsx)(n.p,{children:"Opening an XML document located in a 4D BLOB, without validation:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:"\xa0var myBlobVar : Blob\n\xa0var $ref_XML_Struct : Text\n\xa0\n\xa0DOCUMENT TO BLOB(\u201Cc:\\\\import.xml\u201D;myBlobVar)\n\xa0$xml_Struct_Ref:=DOM Parse XML variable(myBlobVar)\n"})}),"\n",(0,a.jsx)(n.h4,{id:"system-variables-and-sets",children:"System variables and sets"}),"\n",(0,a.jsx)(n.p,{children:"If the command has been correctly executed, the system variable OK is set to 1. Otherwise, it is set to 0."}),"\n",(0,a.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"/docs/commands/dom-close-xml",children:"DOM CLOSE XML"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/commands/dom-parse-xml-source",children:"DOM Parse XML source"})]}),"\n",(0,a.jsx)(n.h4,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Command number"}),(0,a.jsx)(n.td,{children:"720"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Thread safe"}),(0,a.jsx)(n.td,{children:"\u2713"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Modifies variables"}),(0,a.jsx)(n.td,{children:"OK, error"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return d},a:function(){return i}});var r=t(667294);let a={},s=r.createContext(a);function i(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);