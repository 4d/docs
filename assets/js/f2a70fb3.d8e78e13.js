"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[84872],{878595:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var r=n(474848),s=n(28453);const a={id:"dom-export-to-var",title:"DOM EXPORT TO VAR",slug:"/commands/dom-export-to-var",displayed_sidebar:"docs"},o=void 0,i={id:"commands-legacy/dom-export-to-var",title:"DOM EXPORT TO VAR",description:"DOM EXPORT TO VAR ( elementRef ; vXmlVar )",source:"@site/versioned_docs/version-20-R7/commands-legacy/dom-export-to-var.md",sourceDirName:"commands-legacy",slug:"/commands/dom-export-to-var",permalink:"/docs/commands/dom-export-to-var",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fdom-export-to-var.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"dom-export-to-var",title:"DOM EXPORT TO VAR",slug:"/commands/dom-export-to-var",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"DOM EXPORT TO FILE",permalink:"/docs/commands/dom-export-to-file"},next:{title:"DOM Find XML element",permalink:"/docs/commands/dom-find-xml-element"}},d={},c=[{value:"Description",id:"description",level:4},{value:"About end-of-line characters and BOM management",id:"about-end-of-line-characters-and-bom-management",level:5},{value:"Example",id:"example",level:4},{value:"System variables and sets",id:"system-variables-and-sets",level:4},{value:"See also",id:"see-also",level:4}];function l(e){const t={a:"a",br:"br",code:"code",em:"em",h4:"h4",h5:"h5",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"DOM EXPORT TO VAR"})," ( ",(0,r.jsx)(t.em,{children:"elementRef"})," ; ",(0,r.jsx)(t.em,{children:"vXmlVar"})," )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"elementRef"}),(0,r.jsx)(t.td,{children:"Text"}),(0,r.jsx)(t.td,{children:"\u2192"}),(0,r.jsx)(t.td,{children:"Root XML element reference"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"vXmlVar"}),(0,r.jsx)(t.td,{children:"Text, Blob"}),(0,r.jsx)(t.td,{children:"\u2190"}),(0,r.jsx)(t.td,{children:"Variable to receive XML tree"})]})]})]}),"\n",(0,r.jsx)(t.h4,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"DOM EXPORT TO VAR"})," command saves an XML tree in a text or BLOB variable."]}),"\n",(0,r.jsxs)(t.p,{children:["Pass the root element reference to export in ",(0,r.jsx)(t.em,{children:"elementRef"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["Pass the name of the variable that must contain the XML tree in ",(0,r.jsx)(t.em,{children:"vXmlVar"}),". This variable must either be a Text or BLOB type. You can select the type depending on what you plan on doing next or the size that the tree can reach (remember that when not in Unicode mode, Text type variables are limited to 32 K of text, whereas in Unicode mode, this limit is 2 GB)."]}),"\n",(0,r.jsxs)(t.p,{children:["Keep in mind that if you use a Text variable to store ",(0,r.jsx)(t.em,{children:"elementRef"}),' when not in Unicode mode, , it will be encoded using the \u201ccurrent\u201d Mac character set (i.e. Mac Roman on most Western systems). This means that the text returned will lose its original encoding (encoding="xxx"). In this case, the ',(0,r.jsx)(t.em,{children:"vVarXml"})," variable allows you to view or store the code but NOT to generate a valid XML document (using the ",(0,r.jsx)(t.a,{href:"/docs/commands/send-packet",children:"SEND PACKET"})," command for example)."]}),"\n",(0,r.jsx)(t.p,{children:"In Unicode mode, the original encoding is kept in the variable."}),"\n",(0,r.jsx)(t.h5,{id:"about-end-of-line-characters-and-bom-management",children:"About end-of-line characters and BOM management"}),"\n",(0,r.jsx)(t.p,{children:"In XML, line breaks are not significant regardless of whether they are within or between XML elements. Internally, XML uses standard LF characters as line separators. During import and export operations, line break characters can be converted. During an import, the XML parser replaces CRLF characters (standard line breaks under Windows) with LF characters. During export, LF characters are replaced by CRLF characters on Windows (no replacement on macOS)."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Note:"}),' If you want to keep carriage returns, you must include them in an XML CDATA element so that they will not be processed by the XML parser. Instead of CRLF characters, you can also use "',(0,r.jsx)(t.br,{}),'" characters, which are explicit carriage returns that will not be processed by the parser.']}),"\n",(0,r.jsx)(t.p,{children:"By default, XML files are written without BOM (Byte order mask)."}),"\n",(0,r.jsxs)(t.p,{children:["You can control the XML line ending and BOM management using the ",(0,r.jsx)(t.a,{href:"/docs/commands/xml-set-options",children:"XML SET OPTIONS"})," command."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Compatibility Note:"})," In databases/projects created with 4D versions up to v19.x, by default 4D uses CR as end-of-line characters on macOS and a BOM. To enable the new default settings, check compatibility settings (see ",(0,r.jsx)(t.em,{children:"Compatibility page"}),") or use the ",(0,r.jsx)(t.a,{href:"/docs/commands/xml-set-options",children:"XML SET OPTIONS"})," command."]}),"\n",(0,r.jsx)(t.h4,{id:"example",children:"Example"}),"\n",(0,r.jsx)(t.p,{children:"This example stores the tree vElemRef in a text variable:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-4d",children:"\xa0var vtMyText : Text\n\xa0DOM EXPORT TO VAR(vElemRef;vtMyText)\n"})}),"\n",(0,r.jsx)(t.h4,{id:"system-variables-and-sets",children:"System variables and sets"}),"\n",(0,r.jsx)(t.p,{children:"If the command has been executed correctly, the system variable OK is set to 1. Otherwise, it is set to 0 and an error is generated (for example, if the element reference is invalid)."}),"\n",(0,r.jsx)(t.h4,{id:"see-also",children:"See also"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"/docs/commands/dom-export-to-file",children:"DOM EXPORT TO FILE"}),(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.a,{href:"/docs/commands/svg-export-to-picture",children:"SVG EXPORT TO PICTURE"})]})]})}function m(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>i});var r=n(296540);const s={},a=r.createContext(s);function o(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);