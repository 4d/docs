"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1088],{392992:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>i});var n=s(474848),o=s(28453);const r={id:"set-allowed-methods",title:"SET ALLOWED METHODS",slug:"/commands/set-allowed-methods",displayed_sidebar:"docs"},d=void 0,a={id:"commands-legacy/set-allowed-methods",title:"SET ALLOWED METHODS",description:"SET ALLOWED METHODS ( methodsArray )",source:"@site/versioned_docs/version-20-R7/commands-legacy/set-allowed-methods.md",sourceDirName:"commands-legacy",slug:"/commands/set-allowed-methods",permalink:"/docs/commands/set-allowed-methods",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fset-allowed-methods.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"set-allowed-methods",title:"SET ALLOWED METHODS",slug:"/commands/set-allowed-methods",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"Parse formula",permalink:"/docs/commands/parse-formula"},next:{title:"GRAPH",permalink:"/docs/commands/graph"}},l={},i=[{value:"Description",id:"description",level:4},{value:"Example",id:"example",level:4},{value:"See also",id:"see-also",level:4}];function c(e){const t={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"SET ALLOWED METHODS"})," ( ",(0,n.jsx)(t.em,{children:"methodsArray"})," )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"methodsArray"}),(0,n.jsx)(t.td,{children:"Text array"}),(0,n.jsx)(t.td,{children:"\u2192"}),(0,n.jsx)(t.td,{children:"Array of method names"})]})})]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.em,{children:"This command is not thread-safe, it cannot be used in preemptive code."})}),"\n",(0,n.jsx)(t.h4,{id:"description",children:"Description"}),"\n",(0,n.jsx)(t.p,{children:"The SET ALLOWED METHODS command designates the project methods that can be called directly from the application."}),"\n",(0,n.jsx)(t.p,{children:"4D includes a security mechanism that filters callable project methods from the following contexts:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["The formula editor - allowed methods appear at the end of the list of default commands and can be used in formulas (see section ",(0,n.jsx)(t.em,{children:"Description of formula editor"}),")."]}),"\n",(0,n.jsxs)(t.li,{children:["The label editor - the allowed methods are listed in the ",(0,n.jsx)(t.strong,{children:"Apply"})," menu if they are also shared with the component (see section ",(0,n.jsx)(t.em,{children:"Description of label editor"}),")."]}),"\n",(0,n.jsxs)(t.li,{children:["Formulas inserted in styled text areas or 4D Write Pro documents through the ",(0,n.jsx)(t.a,{href:"/docs/commands/st-insert-expression",children:"ST INSERT EXPRESSION"})," command - disallowed methods are automatically rejected."]}),"\n",(0,n.jsxs)(t.li,{children:["4D View Pro documents - by default, if the ",(0,n.jsx)(t.em,{children:"VP SET ALLOWED METHODS"})," command has never been called during the session, 4D View Pro formulas only accept methods defined by ",(0,n.jsx)(t.strong,{children:"SET ALLOWED METHODS"}),". However, using ",(0,n.jsx)(t.em,{children:"VP SET ALLOWED METHODS"})," is recommended. See ",(0,n.jsx)(t.em,{children:"Project method references"}),"."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"By default, if you do not use the SET ALLOWED METHODS command, no method is callable (using an unauthorized method in an expression causes an error)."}),"\n",(0,n.jsxs)(t.p,{children:["In the ",(0,n.jsx)(t.em,{children:"methodsArray"})," parameter, pass the name of an array containing the list of methods to offer in the Formula editor. The array must have been set previously."]}),"\n",(0,n.jsx)(t.p,{children:"You can use the wildcard character (@) in method names to define one or more authorized method groups."}),"\n",(0,n.jsx)(t.p,{children:"If you would like the user to be able to call 4D commands that are unauthorized by default or plug-in commands, you must use specific methods that handle these commands."}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Note:"}),' Formula filtering access can be disabled for all users or for the Designer and Administrator via an option on the "Security" page of the Database Settings (see ). If the "Disabled for all" option is checked, the SET ALLOWED METHODS command will have no effect.']}),"\n",(0,n.jsx)(t.h4,{id:"example",children:"Example"}),"\n",(0,n.jsx)(t.p,{children:"This example authorizes all methods starting with \u201cformula\u201d and the \u201cTotal_general\u201d method to be executed by the user in protected contexts:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-4d",children:'\xa0ARRAY TEXT(methodsArray;2)\n\xa0methodsArray{1}:="formula@"\n\xa0methodsArray{2}:="Total_general"\n\xa0SET ALLOWED METHODS(methodsArray)\n'})}),"\n",(0,n.jsx)(t.h4,{id:"see-also",children:"See also"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"/docs/commands/edit-formula",children:"EDIT FORMULA"}),(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.a,{href:"/docs/commands/get-allowed-methods",children:"GET ALLOWED METHODS"})]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>d,x:()=>a});var n=s(296540);const o={},r=n.createContext(o);function d(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);