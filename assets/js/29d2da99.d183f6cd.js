"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["70476"],{50170:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>i,metadata:()=>r,assets:()=>c,toc:()=>d,contentTitle:()=>l});var r=JSON.parse('{"id":"commands-legacy/new-object","title":"New object","description":"New object {( property ; value {; property2 ; value2 ; ... ; propertyN ; valueN} )} : Object","source":"@site/versioned_docs/version-20-R8/commands-legacy/new-object.md","sourceDirName":"commands-legacy","slug":"/commands/new-object","permalink":"/docs/commands/new-object","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fnew-object.md%20(20-R8)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R8","frontMatter":{"id":"new-object","title":"New object","slug":"/commands/new-object","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"Objects (Language)","permalink":"/docs/commands/theme/Objects-Language"},"next":{"title":"New shared object","permalink":"/docs/commands/new-shared-object"}}'),s=t("785893"),a=t("250065");let i={id:"new-object",title:"New object",slug:"/commands/new-object",displayed_sidebar:"docs"},l=void 0,c={},d=[{value:"Description",id:"description",level:2},{value:"Example 1",id:"example-1",level:2},{value:"Example 2",id:"example-2",level:2},{value:"Example 3",id:"example-3",level:2},{value:"Example 4",id:"example-4",level:2},{value:"See also",id:"see-also",level:2},{value:"Properties",id:"properties",level:2}];function o(e){let n={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"New object"})," {( ",(0,s.jsx)(n.em,{children:"property"})," ; ",(0,s.jsx)(n.em,{children:"value"})," {; ",(0,s.jsx)(n.em,{children:"property2"})," ; ",(0,s.jsx)(n.em,{children:"value2"})," ; ... ; ",(0,s.jsx)(n.em,{children:"propertyN"})," ; ",(0,s.jsx)(n.em,{children:"valueN"}),"} )} : Object"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"property"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Name of property to create"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"value"}),(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Value of property"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Function result"}),(0,s.jsx)(n.td,{children:"Object"}),(0,s.jsx)(n.td,{children:"\u2190"}),(0,s.jsx)(n.td,{children:"New language object"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"New object"})," command creates a new empty or prefilled object and returns its reference."]}),"\n",(0,s.jsxs)(n.p,{children:["If you do not pass any parameters, ",(0,s.jsx)(n.strong,{children:"New object"})," creates an empty object and returns its reference. You must assign this reference to a 4D oject variable or a 4D object field."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," ",(0,s.jsx)(n.code,{children:"var : Object"})," declares a variable of the ",(0,s.jsx)(n.a,{href:"#",title:"Data structured as a native 4D object",children:"Object"})," type but does not create any object."]}),"\n",(0,s.jsxs)(n.p,{children:["Optionnally, you can prefill the new object by passing one or several ",(0,s.jsx)(n.em,{children:"property"}),"/",(0,s.jsx)(n.em,{children:"value"})," pairs as parameters:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.em,{children:"property"})," parameter, pass the label of the property to be created. Note that the ",(0,s.jsx)(n.em,{children:"property"})," parameter is case sensitive."]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.em,{children:"value"})," parameter, pass the value you want to set for the property. Values of the following types are supported:\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"number (real, integer...) Number values are always stored as reals."}),"\n",(0,s.jsx)(n.li,{children:"text"}),"\n",(0,s.jsx)(n.li,{children:"boolean"}),"\n",(0,s.jsx)(n.li,{children:"pointer"}),"\n",(0,s.jsx)(n.li,{children:"blob (4D.Blob)"}),"\n",(0,s.jsx)(n.li,{children:"date"}),"\n",(0,s.jsx)(n.li,{children:"time"}),"\n",(0,s.jsx)(n.li,{children:"null"}),"\n",(0,s.jsx)(n.li,{children:"picture"}),"\n",(0,s.jsx)(n.li,{children:"object"}),"\n",(0,s.jsx)(n.li,{children:"collection"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Note that:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["if you pass a pointer, it is kept as is; it will evaluated when using commands such as ",(0,s.jsx)(n.a,{href:"/docs/commands/json-stringify",children:"JSON Stringify"}),","]}),"\n",(0,s.jsxs)(n.li,{children:['dates are stored as "yyyy-mm-dd" dates or strings with the "YYYY-MM-DDTHH:mm:ss.SSSZ" format, according to the current "dates inside objects" database setting (see ',(0,s.jsx)(n.em,{children:"Compatibility page"}),"). When converting 4D dates into text prior to storing them in the object, by default the program takes the local time zone into account. You can modify this behavior using the Dates inside objects selector of the ",(0,s.jsx)(n.a,{href:"/docs/commands/set-database-parameter",children:"SET DATABASE PARAMETER"})," command."]}),"\n",(0,s.jsx)(n.li,{children:"if you pass a time, it is stored as a number of milliseconds (Real)."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"example-1",children:"Example 1"}),"\n",(0,s.jsx)(n.p,{children:"This command can create empty of filled objects:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0var $obj1 : Object\n\xa0var $obj2 : Object\n\xa0var $obj3 : Object\n\xa0$obj1:=New object\n\xa0\xa0// $obj1 = {}\n\xa0$obj2:=New object("name";"Smith")\n\xa0\xa0// $obj2 = {name:Smith}\n\xa0$obj3:=New object("name";"Smith";"age";40)\n\xa0\xa0// $obj3 = {name:Smith,age:40}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"example-2",children:"Example 2"}),"\n",(0,s.jsx)(n.p,{children:"Creating a new object with an object as parameter value:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0var $Children;$Contact : Object\n\xa0\n\xa0\xa0//Creating an object array\n\xa0ARRAY TEXT($arrChildren;3)\n\xa0$arrChildren{1}:="Richard"\n\xa0$arrChildren{2}:="Susan"\n\xa0$arrChildren{3}:="James"\n\xa0OB SET ARRAY($Children;"Children";$arrChildren)\n\xa0\n\xa0\xa0//Initializing the object\n\xa0$Contact:=New object("FirstName";"Alan";"LastName";"Parker";"age";30;"Children";$Children)\n\xa0\xa0// $Contact = {FirstName:Alan,LastName:Parker,age:30,Children:{Children:[Richard,Susan,James]}}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"example-3",children:"Example 3"}),"\n",(0,s.jsx)(n.p,{children:"This command is useful to pass objects as parameters:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0var $measures : Object\n\xa0$measures:=Database measures(New object("path";"DB.cacheReadBytes";"withHistory";True;"historyLength";120))\n'})}),"\n",(0,s.jsx)(n.h2,{id:"example-4",children:"Example 4"}),"\n",(0,s.jsx)(n.p,{children:"With this command, you can easily handle objects in loops:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY OBJECT($refs;0)\n\xa0var vCounter : Integer\n\xa0\n\xa0For(vCounter;1;100)\n\xa0\xa0\xa0\xa0APPEND TO ARRAY($refs;New object("line";"Line number "+String(vCounter)))\n\xa0End for\n'})}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See also"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/commands/new-shared-object",children:"New shared object"})}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Command number"}),(0,s.jsx)(n.td,{children:"1471"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Thread safe"}),(0,s.jsx)(n.td,{children:"\u2713"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return l},a:function(){return i}});var r=t(667294);let s={},a=r.createContext(s);function i(e){let n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);