"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[70658],{912566:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var s=t(474848),o=t(28453);const a={id:"new-log-file",title:"New log file",slug:"/commands/new-log-file",displayed_sidebar:"docs"},i=void 0,l={id:"commands-legacy/new-log-file",title:"New log file",description:"New log file  -> Function result",source:"@site/versioned_docs/version-20-R7/commands-legacy/new-log-file.md",sourceDirName:"commands-legacy",slug:"/commands/new-log-file",permalink:"/docs/commands/new-log-file",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fnew-log-file.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"new-log-file",title:"New log file",slug:"/commands/new-log-file",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"LOG FILE TO JSON",permalink:"/docs/commands/log-file-to-json"},next:{title:"RESTORE",permalink:"/docs/commands/restore"}},r={},c=[{value:"Description",id:"description",level:4},{value:"Error management",id:"error-management",level:4},{value:"See also",id:"see-also",level:4}];function d(e){const n={a:"a",em:"em",h4:"h4",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"New log file"}),"  -> Function result"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Function result"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"\u2190"}),(0,s.jsx)(n.td,{children:"Full pathname of closed log file"})]})})]}),"\n",(0,s.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Preliminary note:"})," This command only works with 4D Server. It can only be executed via the ",(0,s.jsx)(n.a,{href:"/docs/commands/execute-on-server",children:"Execute on server"})," command or in a stored procedure."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"New log file"})," command closes the current log file, renames it and creates a new one with the same name in the same location as the previous one. This command is meant to be used for setting up a backup system using a logical mirror (see the section \u201c",(0,s.jsx)(n.em,{children:"Setting up a logical mirror"}),"\u201d in the 4D Server Reference Manual)."]}),"\n",(0,s.jsx)(n.p,{children:"The command returns the full pathname (access path + name) of the log file being closed (called the \u201csegment\u201d). This file is stored in the same location as the current log file (specified on the Configuration page in the Backup theme of the Preferences). The command does not carry out any processing (compression, segmentation) on the saved file. No dialog box appears."}),"\n",(0,s.jsx)(n.p,{children:"The file is renamed with the current backup numbers of the database and of the log file, as shown in the following example: DatabaseName[BackupNum-LogBackupNum].journal. For instance:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If the MyDatabase.4DD database has been saved 4 times, the last backup file will be named MyDatabase[0004].4BK. The name of the first \u201csegment\u201d of the log file will therefore be MyDatabase[0004-0001].journal."}),"\n",(0,s.jsx)(n.li,{children:"If the MyDatabase.4DD database has been saved 3 times and the log file has been saved 5 times since, the name of the 6th backup of the log file will be MyDatabase[0003-0006].journal."}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"error-management",children:"Error management"}),"\n",(0,s.jsxs)(n.p,{children:["In the event of an error, the command generates a code that can be intercepted using the ",(0,s.jsx)(n.a,{href:"/docs/commands/on-err-call",title:"ON ERR CALL",children:"ON ERR CALL"})," command."]}),"\n",(0,s.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"_o_INTEGRATE LOG FILE"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var s=t(296540);const o={},a=s.createContext(o);function i(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);