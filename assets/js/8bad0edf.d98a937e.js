"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[53361],{633855:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>a});var s=n(474848),i=n(28453);const r={id:"text-to-document",title:"TEXT TO DOCUMENT",slug:"/commands/text-to-document",displayed_sidebar:"docs"},o=void 0,d={id:"commands-legacy/text-to-document",title:"TEXT TO DOCUMENT",description:"TEXT TO DOCUMENT ( fileName ; text {; charSet {; breakMode}} )",source:"@site/versioned_docs/version-20-R7/commands-legacy/text-to-document.md",sourceDirName:"commands-legacy",slug:"/commands/text-to-document",permalink:"/docs/commands/text-to-document",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Ftext-to-document.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"text-to-document",title:"TEXT TO DOCUMENT",slug:"/commands/text-to-document",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"Test path name",permalink:"/docs/commands/test-path-name"},next:{title:"VOLUME ATTRIBUTES",permalink:"/docs/commands/volume-attributes"}},c={},a=[{value:"Description",id:"description",level:4},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"See also",id:"see-also",level:4}];function l(e){const t={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"TEXT TO DOCUMENT"})," ( ",(0,s.jsx)(t.em,{children:"fileName"})," ; ",(0,s.jsx)(t.em,{children:"text"})," {; ",(0,s.jsx)(t.em,{children:"charSet"})," {; ",(0,s.jsx)(t.em,{children:"breakMode"}),"}} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"fileName"}),(0,s.jsx)(t.td,{children:"Text"}),(0,s.jsx)(t.td,{children:"\u2192"}),(0,s.jsx)(t.td,{children:"Document name or Pathname to document"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Text"}),(0,s.jsx)(t.td,{children:"\u2192"}),(0,s.jsx)(t.td,{children:"Text to store in the document"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"charSet"}),(0,s.jsx)(t.td,{children:"Text, Integer"}),(0,s.jsx)(t.td,{children:"\u2192"}),(0,s.jsx)(t.td,{children:"Name or Number of character set"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"breakMode"}),(0,s.jsx)(t.td,{children:"Integer"}),(0,s.jsx)(t.td,{children:"\u2192"}),(0,s.jsx)(t.td,{children:"Processing mode for line breaks"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"TEXT TO DOCUMENT"})," command lets you write the ",(0,s.jsx)(t.em,{children:"text"})," directly to a disk file."]}),"\n",(0,s.jsxs)(t.p,{children:["In ",(0,s.jsx)(t.em,{children:"fileName"}),", pass the name or pathname of the file to be written. If this file does not exist, it is created. When this file already exists on the disk, its prior contents are erased, except if it is already open, in which case, its contents are locked and an error is generated. In ",(0,s.jsx)(t.em,{children:"fileName"}),", you can pass:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:'just the file name, for example "myFile.txt": in this case, the file is placed next to the structure file of the application.'}),"\n",(0,s.jsx)(t.li,{children:'a pathname relative to the structure file of the application, for example "\\\\docs\\\\myFile.txt" on Windows or "/docs/myFile.txt" on macOS.'}),"\n",(0,s.jsx)(t.li,{children:'an absolute pathname, for example "c:\\\\app\\\\docs\\\\myFile.txt" on Windows or "MacHD/docs/myFile.txt" on macOS.'}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["If you want the user to be able to indicate the name or location of the document, use the ",(0,s.jsx)(t.a,{href:"/docs/commands/open-document",children:"Open document"})," or ",(0,s.jsx)(t.a,{href:"/docs/commands/create-document",children:"Create document"})," commands, as well as the ",(0,s.jsx)(t.em,{children:"Document"})," system variable."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note:"})," By default, documents generated by this command do not have an extension. You must pass an extension in ",(0,s.jsx)(t.em,{children:"fileName"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["In ",(0,s.jsx)(t.em,{children:"text"}),', pass the text to write to the disk. It can be a literal constant ("my text"), or a 4D text field or variable.']}),"\n",(0,s.jsxs)(t.p,{children:["In ",(0,s.jsx)(t.em,{children:"charSet"}),", you pass the character set to be used to write the document. You can pass a string containing the standard set name (for example \u201cISO-8859-1\u201d or \u201cUTF-8\u201d) or its MIBEnum ID (longint). For more information about the list of character sets supported by 4D, refer to the description of the ",(0,s.jsx)(t.a,{href:"/docs/commands/convert-from-text",children:"CONVERT FROM TEXT"}),' command. If a Byte Order Mark (BOM) exists for the character set, 4D inserts it into the document, unless the character set used contains the suffix "-no-bom" (e.g. "UTF-8-no-bom"). If you do not specify a character set, by default 4D uses the "UTF-8" character set without BOM (except in compatibility mode, see ',(0,s.jsx)(t.em,{children:"Compatibility page"}),")."]}),"\n",(0,s.jsxs)(t.p,{children:["In ",(0,s.jsx)(t.em,{children:"breakMode"}),', you can pass a longint indicating the processing to apply to end-of-line characters before saving them in the file. You can pass one of the following constants, found in the "',(0,s.jsx)(t.em,{children:"System Documents"}),'" theme:']}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Constant"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Value"}),(0,s.jsx)(t.th,{children:"Comment"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Document unchanged"}),(0,s.jsx)(t.td,{children:"Longint"}),(0,s.jsx)(t.td,{children:"0"}),(0,s.jsx)(t.td,{children:"No processing"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Document with CR"}),(0,s.jsx)(t.td,{children:"Longint"}),(0,s.jsx)(t.td,{children:"3"}),(0,s.jsx)(t.td,{children:"Line breaks are converted to CR (carriage return), the default Classic Mac OS format."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Document with CRLF"}),(0,s.jsx)(t.td,{children:"Longint"}),(0,s.jsx)(t.td,{children:"2"}),(0,s.jsx)(t.td,{children:"Line breaks are converted to CRLF (carriage return + line feed), the default Windows format."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Document with LF"}),(0,s.jsx)(t.td,{children:"Longint"}),(0,s.jsx)(t.td,{children:"4"}),(0,s.jsx)(t.td,{children:"Line breaks are converted to LF (line feed), the default Unix and macOS format."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Document with native format"}),(0,s.jsx)(t.td,{children:"Longint"}),(0,s.jsx)(t.td,{children:"1"}),(0,s.jsx)(t.td,{children:"(Default) Line breaks are converted to the native format of the operating system: LF (line feed) under macOS, CRLF (carriage return + line feed) under Windows"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:["By default, when you omit the ",(0,s.jsx)(t.em,{children:"breakMode"})," parameter, line breaks are processed in native mode (1)."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Compatibility Note"}),": Compatibility options are available for EOL and BOM management. See ",(0,s.jsx)(t.em,{children:"Compatibility page"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note:"})," This command does not modify the OK variable. In case of failure, an error is generated that you can intercept using a method installed by the ",(0,s.jsx)(t.a,{href:"/docs/commands/on-err-call",children:"ON ERR CALL"})," command."]}),"\n",(0,s.jsx)(t.h4,{id:"example-1",children:"Example 1"}),"\n",(0,s.jsx)(t.p,{children:"Here are some typical examples of using this command:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-4d",children:'\xa0TEXT TO DOCUMENT("myTest.txt";"This is a test")\n\xa0TEXT TO DOCUMENT("myTest.xml";"This is a test")\n'})}),"\n",(0,s.jsx)(t.h4,{id:"example-2",children:"Example 2"}),"\n",(0,s.jsx)(t.p,{children:"Example allowing the user to indicate the location of the file to create:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-4d",children:'\xa0$MyTextVar:="This is a test"\n\xa0ON ERR CALL("IO ERROR HANDLER")\n\xa0$vhDocRef :=Create document("")\n\xa0\xa0// Store document with the ".txt" extension\n\xa0\xa0// In this case, the .txt extension is always added to the name; it is not possible to change it\n\xa0If(OK=1)\xa0// If document has been created successfully\n\xa0\xa0\xa0\xa0CLOSE DOCUMENT($vhDocRef)\xa0//Closes the document\n\xa0\xa0\xa0\xa0TEXT TO DOCUMENT(Document;$MyTextVar )\n\xa0\xa0// We write the document\n\xa0Else\n\xa0\xa0// Error management\n\xa0End if\n'})}),"\n",(0,s.jsx)(t.h4,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"/docs/commands/document-to-text",children:"Document to text"}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.em,{children:"System Documents"})]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>d});var s=n(296540);const i={},r=s.createContext(i);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);