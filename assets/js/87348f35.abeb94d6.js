"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["8169"],{848184:function(e,n,t){t.r(n),t.d(n,{metadata:()=>a,contentTitle:()=>o,default:()=>h,assets:()=>r,toc:()=>c,frontMatter:()=>d});var a=JSON.parse('{"id":"commands-legacy/open-data-file","title":"OPEN DATA FILE","description":"OPEN DATA FILE ( accessPath )","source":"@site/versioned_docs/version-20-R7/commands-legacy/open-data-file.md","sourceDirName":"commands-legacy","slug":"/commands/open-data-file","permalink":"/docs/commands/open-data-file","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fopen-data-file.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"open-data-file","title":"OPEN DATA FILE","slug":"/commands/open-data-file","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"OPEN ADMINISTRATION WINDOW","permalink":"/docs/commands/open-administration-window"},"next":{"title":"OPEN DATABASE","permalink":"/docs/commands/open-database"}}'),s=t("785893"),i=t("250065");let d={id:"open-data-file",title:"OPEN DATA FILE",slug:"/commands/open-data-file",displayed_sidebar:"docs"},o=void 0,r={},c=[{value:"Description",id:"description",level:4},{value:"Example",id:"example",level:4},{value:"See also",id:"see-also",level:4},{value:"Properties",id:"properties",level:4}];function l(e){let n={a:"a",code:"code",em:"em",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"OPEN DATA FILE"})," ( ",(0,s.jsx)(n.em,{children:"accessPath"})," )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"accessPath"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Name or complete access path of the data file to open"})]})})]}),"\n",(0,s.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"OPEN DATA FILE"})," command allows changing the data file opened by the 4D application on-the-fly."]}),"\n",(0,s.jsxs)(n.p,{children:['Pass the name or the full access path of the data file to open (file with a ".4DD" suffix) in the ',(0,s.jsx)(n.em,{children:"accessPath"})," parameter. If you pass only the file name, it must be placed next to the structure file of the database."]}),"\n",(0,s.jsxs)(n.p,{children:["If the access path sets a valid data file, 4D quits the database in progress and re-opens it with the specified data file. In single-user mode, the ",(0,s.jsx)(n.a,{href:"/docs/commands/on-exit-database-method",children:"On Exit database method"})," and the ",(0,s.jsx)(n.a,{href:"/docs/commands/on-startup-database-method",children:"On Startup database method"})," are successively called."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Warning:"})," Since this command causes the application to quit before re-opening with the specified data file, it must be used with precaution in the ",(0,s.jsx)(n.a,{href:"/docs/commands/on-exit-database-method",children:"On Exit database method"})," or in a method called by this database method, so as to avoid generating an infinite loop."]}),"\n",(0,s.jsxs)(n.p,{children:["The command is executed in an asynchronous manner: after its call, 4D continues executing the rest of the method. Then, the application behaves as if the ",(0,s.jsx)(n.strong,{children:"Quit"})," command was selected in the ",(0,s.jsx)(n.strong,{children:"File"})," menu: open dialog boxes are cancelled, any open processes have 10 seconds to finish before being terminated, etc."]}),"\n",(0,s.jsx)(n.p,{children:"Before launching the operation, the command checks the validity of the specified data file. Also, if the file was already open, the command verifies that it corresponds to the current structure."}),"\n",(0,s.jsxs)(n.p,{children:["If you pass an empty string in ",(0,s.jsx)(n.em,{children:"accessPath"}),", the command will re-open the database without changing the data file."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"4D Server:"})," Beginning with 4D v13, this command can be executed with 4D Server. In this context, it makes an internal call to ",(0,s.jsx)(n.a,{href:"/docs/commands/quit-4d",children:"QUIT 4D"})," on the server (which causes a dialog box to appear on each remote machine indicating that the server is in the process of quitting) before opening the designated file."]}),"\n",(0,s.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,s.jsxs)(n.p,{children:["In the context of deploying a merged application, you want to open or create the user data file in the On Startup database method. This example uses the default data file (see ",(0,s.jsx)(n.em,{children:"Data file management in final applications"}),"):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0If(Data file="@default.4dd")\n\xa0\xa0\xa0\xa0If(Version type?? Merged application)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(Is data file locked)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0$dataPath:=Get 4D folder(Active 4D Folder)+"data.4dd"\n\xa0\xa0//If a local data file already exists\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(Test path name($dataPath)=Is a document)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0OPEN DATA FILE($dataPath)\xa0//open it\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0CREATE DATA FILE($dataPath)\xa0//create it\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n'})}),"\n",(0,s.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/commands/create-data-file",children:"CREATE DATA FILE"})}),"\n",(0,s.jsx)(n.h4,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Command number"}),(0,s.jsx)(n.td,{children:"312"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Thread safe"}),(0,s.jsx)(n.td,{children:"\u2713"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return o},a:function(){return d}});var a=t(667294);let s={},i=a.createContext(s);function d(e){let n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);