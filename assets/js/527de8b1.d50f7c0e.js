"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["45443"],{304171:function(e,n,t){t.r(n),t.d(n,{default:()=>m,frontMatter:()=>r,metadata:()=>a,assets:()=>o,toc:()=>c,contentTitle:()=>d});var a=JSON.parse('{"id":"commands-legacy/dynamic-pop-up-menu","title":"Dynamic pop up menu","description":"Dynamic pop up menu ( menu {; default {; xCoord ; yCoord}} )  : Text","source":"@site/versioned_docs/version-20-R7/commands-legacy/dynamic-pop-up-menu.md","sourceDirName":"commands-legacy","slug":"/commands/dynamic-pop-up-menu","permalink":"/docs/commands/dynamic-pop-up-menu","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fdynamic-pop-up-menu.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"dynamic-pop-up-menu","title":"Dynamic pop up menu","slug":"/commands/dynamic-pop-up-menu","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"DISABLE MENU ITEM","permalink":"/docs/commands/disable-menu-item"},"next":{"title":"ENABLE MENU ITEM","permalink":"/docs/commands/enable-menu-item"}}'),s=t("785893"),i=t("250065");let r={id:"dynamic-pop-up-menu",title:"Dynamic pop up menu",slug:"/commands/dynamic-pop-up-menu",displayed_sidebar:"docs"},d=void 0,o={},c=[{value:"Description",id:"description",level:4},{value:"Example",id:"example",level:4},{value:"See also",id:"see-also",level:4},{value:"Properties",id:"properties",level:4}];function l(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Dynamic pop up menu"})," ( ",(0,s.jsx)(n.em,{children:"menu"})," {; ",(0,s.jsx)(n.em,{children:"default"})," {; ",(0,s.jsx)(n.em,{children:"xCoord"})," ; ",(0,s.jsx)(n.em,{children:"yCoord"}),"}} )  : Text"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"menu"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Menu reference"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"default"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Parameter of item selected by default"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"xCoord"}),(0,s.jsx)(n.td,{children:"Integer"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"X coordinate of top left corner"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"yCoord"}),(0,s.jsx)(n.td,{children:"Integer"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Y coordinate of top left corner"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Function result"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"\u2190"}),(0,s.jsx)(n.td,{children:"Parameter of selected menu item"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Dynamic pop up menu"})," causes a hierarchical pop-up menu to appear at the current location of the mouse or at the location set by the optional ",(0,s.jsx)(n.em,{children:"xCoord"})," and ",(0,s.jsx)(n.em,{children:"yCoord"})," parameters."]}),"\n",(0,s.jsxs)(n.p,{children:["The hierarchical menu used must have been created using the ",(0,s.jsx)(n.a,{href:"/docs/commands/create-menu",children:"Create menu"})," command. The reference returned by ",(0,s.jsx)(n.a,{href:"/docs/commands/create-menu",children:"Create menu"})," must then be passed in the ",(0,s.jsx)(n.em,{children:"menu"})," parameter."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," The ",(0,s.jsx)(n.a,{href:"/docs/commands/pop-up-menu",children:"Pop up menu"})," command (\u201CUser Interface\u201D theme) can be used to create pop-up menus based on text."]}),"\n",(0,s.jsx)(n.p,{children:"In conformity with standard interface rules, this command must generally be called in response to a right mouse click or when the button is held down a certain period of time (context menu for example)."}),"\n",(0,s.jsxs)(n.p,{children:["The optional ",(0,s.jsx)(n.em,{children:"default"})," parameter can be used to set an item of the popup menu as selected by default whenever the menu appears. In this parameter, pass a custom string associated with the menu item. This string must have been set beforehand using the ",(0,s.jsx)(n.a,{href:"/docs/commands/set-menu-item-parameter",children:"SET MENU ITEM PARAMETER"})," command. If you do not pass this parameter, the first item of the menu will be selected by default."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," Only a top level menu item can be selected by default."]}),"\n",(0,s.jsxs)(n.p,{children:["The optional ",(0,s.jsx)(n.em,{children:"xCoord"})," and ",(0,s.jsx)(n.em,{children:"yCoord"})," parameters can be used to specify the location of the pop-up menu to be displayed. In the ",(0,s.jsx)(n.em,{children:"xCoord"})," and ",(0,s.jsx)(n.em,{children:"yCoord"})," parameters, pass the horizontal and vertical coordinates, respectively, of the top left corner of the menu. These coordinates must be expressed in pixels in the local coordinate system of the current form. Both parameters must be passed together; if only one of them is passed, it will be ignored."]}),"\n",(0,s.jsxs)(n.p,{children:["If you want to display a pop-up menu associated with a 3D button, then do not pass the optional ",(0,s.jsx)(n.em,{children:"xCoord"})," and ",(0,s.jsx)(n.em,{children:"yCoord"}),' parameters. In this case, 4D automatically calculates the location of the menu with respect to the button according to the interface standards of the current platform (the 3D button must have the "With pop-up menu/Linked" or "With pop-up menu/Separated" property).']}),"\n",(0,s.jsxs)(n.p,{children:["If a menu item has been selected, the command returns its associated custom character string (such as it has been defined using the ",(0,s.jsx)(n.a,{href:"/docs/commands/set-menu-item-parameter",children:"SET MENU ITEM PARAMETER"})," command). Otherwise, the command returns an empty string."]}),"\n",(0,s.jsxs)(n.p,{children:["If a standard action is associated to a menu item, it is taken into account by the ",(0,s.jsx)(n.strong,{children:"Dynamic pop up menu"})," command at several levels:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If an associated standard action is not enabled (i.e. it cannot be invoked) in the context of the pop up menu, the item is automatically hidden. You can know if an action is enabled using the ",(0,s.jsx)(n.a,{href:"/docs/commands/action-info",children:"Action info"})," command."]}),"\n",(0,s.jsx)(n.li,{children:'Items with a toggle associated action are automatically checked, unchecked or "mixed" depending on the selection.'}),"\n",(0,s.jsx)(n.li,{children:"If the action title has been set to the item using the ak standard action title constant, the localized name is displayed in the menu."}),"\n",(0,s.jsx)(n.li,{children:"When the item is selected, the associated standard action is invoked (execution is asynchronous)."}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,s.jsx)(n.p,{children:"This code allows creating a hierarchical dynamic pop up menu built upon standard actions:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0var $refMainContextMenu;$refMenuEdit : Text\n\xa0$refMainContextMenu:=Create menu\n\xa0APPEND MENU ITEM($refMainContextMenu;"-")\n\xa0APPEND MENU ITEM($refMainContextMenu;ak standard action title)\n\xa0SET MENU ITEM PROPERTY($refMainContextMenu;-1;Associated standard action;ak select all)\n\xa0APPEND MENU ITEM($refMainContextMenu;ak standard action title)\n\xa0SET MENU ITEM PROPERTY($refMainContextMenu;-1;Associated standard action;ak clear)\n\xa0APPEND MENU ITEM($refMainContextMenu;ak standard action title)\n\xa0SET MENU ITEM PROPERTY($refMainContextMenu;-1;Associated standard action;ak copy)\n\xa0APPEND MENU ITEM($refMainContextMenu;ak standard action title)\n\xa0SET MENU ITEM PROPERTY($refMainContextMenu;-1;Associated standard action;ak cut)\n\xa0APPEND MENU ITEM($refMainContextMenu;ak standard action title)\n\xa0SET MENU ITEM PROPERTY($refMainContextMenu;-1;Associated standard action;ak paste)\n\xa0APPEND MENU ITEM($refMainContextMenu;"-")\n\xa0\xa0//sub menu text edit\n\xa0$refMenuEdit:=Create menu\n\xa0APPEND MENU ITEM($refMenuEdit;ak standard action title)\n\xa0SET MENU ITEM PROPERTY($refMenuEdit;-1;Associated standard action;ak font bold)\n\xa0SET MENU ITEM SHORTCUT($refMenuEdit;-1;Character code("B"))\n\xa0APPEND MENU ITEM($refMenuEdit;ak standard action title)\n\xa0SET MENU ITEM PROPERTY($refMenuEdit;-1;Associated standard action;ak font italic)\n\xa0SET MENU ITEM SHORTCUT($refMenuEdit;-1;Character code("I"))\n\xa0APPEND MENU ITEM($refMenuEdit;ak standard action title)\n\xa0SET MENU ITEM PROPERTY($refMenuEdit;-1;Associated standard action;ak font linethrough)\n\xa0SET MENU ITEM SHORTCUT($refMenuEdit;-1;Character code("L"))\n\xa0APPEND MENU ITEM($refMenuEdit;ak standard action title)\n\xa0SET MENU ITEM PROPERTY($refMenuEdit;-1;Associated standard action;ak font underline)\n\xa0SET MENU ITEM SHORTCUT($refMenuEdit;-1;Character code("U"))\n\xa0APPEND MENU ITEM($refMenuEdit;ak standard action title)\n\xa0SET MENU ITEM PROPERTY($refMenuEdit;-1;Associated standard action;ak font show dialog)\n\xa0APPEND MENU ITEM($refMainContextMenu;"Edit";$refMenuEdit)\n\xa0\n\xa0paramRef:=Dynamic pop up menu($refMainContextMenu)\n'})}),"\n",(0,s.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/docs/commands/get-menu-item-parameter",children:"Get menu item parameter"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/get-selected-menu-item-parameter",children:"Get selected menu item parameter"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/pop-up-menu",children:"Pop up menu"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/set-menu-item-parameter",children:"SET MENU ITEM PARAMETER"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/set-menu-item-property",children:"SET MENU ITEM PROPERTY"})]}),"\n",(0,s.jsx)(n.h4,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Command number"}),(0,s.jsx)(n.td,{children:"1006"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Thread safe"}),(0,s.jsx)(n.td,{children:"\u2717"})]})]})]})]})}function m(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return d},a:function(){return r}});var a=t(667294);let s={},i=a.createContext(s);function r(e){let n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);