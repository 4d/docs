"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["58967"],{147033:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>o,metadata:()=>r,assets:()=>i,toc:()=>d,contentTitle:()=>l});var r=JSON.parse('{"id":"commands-legacy/relate-many","title":"RELATE MANY","description":"RELATE MANY ( oneTable | Field )","source":"@site/versioned_docs/version-20-R7/commands-legacy/relate-many.md","sourceDirName":"commands-legacy","slug":"/commands/relate-many","permalink":"/docs/commands/relate-many","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Frelate-many.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"relate-many","title":"RELATE MANY","slug":"/commands/relate-many","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"OLD RELATED ONE","permalink":"/docs/commands/old-related-one"},"next":{"title":"RELATE MANY SELECTION","permalink":"/docs/commands/relate-many-selection"}}'),s=t("785893"),a=t("250065");let o={id:"relate-many",title:"RELATE MANY",slug:"/commands/relate-many",displayed_sidebar:"docs"},l=void 0,i={},d=[{value:"Description",id:"description",level:4},{value:"Example",id:"example",level:4},{value:"See also",id:"see-also",level:4},{value:"Properties",id:"properties",level:4}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",h5:"h5",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"RELATE MANY"})," ( oneTable | Field )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"oneTable | Field"}),(0,s.jsx)(n.td,{children:"Table, Field"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Table to establish all one-to-many relations, or One Field"})]})})]}),"\n",(0,s.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,s.jsx)(n.p,{children:"RELATE MANY has two forms."}),"\n",(0,s.jsxs)(n.p,{children:["The first form, RELATE MANY(oneTable), establishes all One-to-Many relations for ",(0,s.jsx)(n.em,{children:"oneTable"}),". It changes the current selection for each table that has a One-to-Many relation to ",(0,s.jsx)(n.em,{children:"oneTable"}),". The current selections in the Many tables depend on the current value of each related field in the One table. Each time this command is executed, the current selections of the Many tables will be regenerated and the first record of the selection is loaded as the current record.."]}),"\n",(0,s.jsxs)(n.p,{children:["The second form, RELATE MANY(oneField), establishes the One-to-Many relation for ",(0,s.jsx)(n.em,{children:"oneField"}),". It changes the current selection and the current record for only those tables that have relations with ",(0,s.jsx)(n.em,{children:"oneField"}),". This means that the related records become the current selection for the Many table."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," If the current selection in the One table is empty while the RELATE MANY command is executed, it has no effect."]}),"\n",(0,s.jsx)(n.h5,{id:""}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," This command does not support Object type fields."]}),"\n",(0,s.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,s.jsx)(n.p,{children:"In the following example, three tables are related with automatic relations. Both the [People] table and the [Parts] table have a Many-to-One relation to the [Companies] table."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(700533).Z+"",width:"543",height:"276"})}),"\n",(0,s.jsx)(n.p,{children:"This form for the [Companies] table will display related records from both the [People] and [Parts] tables."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(811882).Z+"",width:"801",height:"485"})}),"\n",(0,s.jsx)(n.p,{children:"When the People and Parts forms are displayed, the related records for both the [People] table and the [Parts] table are loaded and become the current selections in those tables."}),"\n",(0,s.jsx)(n.p,{children:"On the other hand, the related records are not loaded if a record for the [Companies] table is selected programmatically. In this case, you must use the RELATE MANY command."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"When the RELATE MANY command is applied to an empty selection, the command is not executed and the selection for the MANY table does not change."}),"\n",(0,s.jsx)(n.li,{children:"For the command to work, the foreign key fields (Many fields) must be indexed."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For example, the following method moves through each record of the [Companies] table. An alert box is displayed for each company. The alert box shows the number of people in the company (the number of related [People] records), and the number of parts they supply (the number of related [Parts] records). In the example, the argument to the ",(0,s.jsx)(n.a,{href:"/docs/commands/alert",children:"ALERT"})," command is printed on multiple lines for clarity."]}),"\n",(0,s.jsx)(n.p,{children:"Note that the RELATE MANY command is needed, even though the relations are automatic."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0ALL RECORDS([Companies])\xa0// Select all records in the table\n\xa0ORDER BY([Companies];[Companies]Name)\xa0// Order records in alphabetical order\n\xa0For($i;1;Records in table([Companies]))\xa0// Loop once for each record\n\xa0\xa0\xa0\xa0RELATE MANY([Companies]Name)\xa0// Select the related records\n\xa0\xa0\xa0\xa0ALERT("Company: "+[Companies]Name+Char(13)+"People in company: "\n\xa0\xa0\xa0\xa0+String(Records in selection([People]))+Char(13)+"Number of parts they supply: "+String(Records in selection([Parts])))\n\xa0\xa0\xa0\xa0NEXT RECORD([Companies])\xa0// Move to the next record\n\xa0End for\n'})}),"\n",(0,s.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/docs/commands/old-related-many",children:"OLD RELATED MANY"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/commands/relate-one",children:"RELATE ONE"})]}),"\n",(0,s.jsx)(n.h4,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Command number"}),(0,s.jsx)(n.td,{children:"262"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Thread safe"}),(0,s.jsx)(n.td,{children:"\u2713"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Changes current selection"}),(0,s.jsx)(n.td,{})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},700533:function(e,n,t){t.d(n,{Z:function(){return r}});let r=t.p+"assets/images/pict2286855.fr-d70e4f5dcaaca401891de48e2f80cc18.png"},811882:function(e,n,t){t.d(n,{Z:function(){return r}});let r=t.p+"assets/images/pict2287703.fr-b606aae28294d3c413593928bc5eed2f.png"},250065:function(e,n,t){t.d(n,{Z:function(){return l},a:function(){return o}});var r=t(667294);let s={},a=r.createContext(s);function o(e){let n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);