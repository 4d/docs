"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[18217],{603905:(t,e,a)=>{a.d(e,{Zo:()=>d,kt:()=>k});var n=a(667294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),p=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},d=function(t){var e=p(t.components);return n.createElement(s.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},u=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,s=t.parentName,d=i(t,["components","mdxType","originalType","parentName"]),u=p(a),k=r,c=u["".concat(s,".").concat(k)]||u[k]||m[k]||l;return a?n.createElement(c,o(o({ref:e},d),{},{components:a})):n.createElement(c,o({ref:e},d))}));function k(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,o=new Array(l);o[0]=u;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=t,i.mdxType="string"==typeof t?t:r,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},567760:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});a(667294);var n=a(603905);function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},r.apply(this,arguments)}function l(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}const o={id:"DataStoreClass",title:"DataStore"},i=void 0,s={unversionedId:"API/DataStoreClass",id:"version-20-R5/API/DataStoreClass",title:"DataStore",description:"A Datastore is the interface object provided by ORDA to reference and access a database. Datastore objects are returned by the following commands:",source:"@site/versioned_docs/version-20-R5/API/DataStoreClass.md",sourceDirName:"API",slug:"/API/DataStoreClass",permalink:"/docs/API/DataStoreClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataStoreClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"DataStoreClass",title:"DataStore"},sidebar:"docs",previous:{title:"DataClass",permalink:"/docs/API/DataClassClass"},next:{title:"Email",permalink:"/docs/API/EmailObjectClass"}},p={},d=[{value:"Summary",id:"summary",level:3},{value:"ds",id:"ds",level:2},{value:"Description",id:"description",level:4},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"Open datastore",id:"open-datastore",level:2},{value:"Description",id:"description-1",level:4},{value:"Example 1",id:"example-1-1",level:4},{value:"Example 2",id:"example-2-1",level:4},{value:"Example 3",id:"example-3",level:4},{value:"Error management",id:"error-management",level:4},{value:"<em>.dataclassName</em>",id:"dataclassname",level:2},{value:"Description",id:"description-2",level:4},{value:"Example",id:"example",level:4},{value:".cancelTransaction()",id:"canceltransaction",level:2},{value:"Description",id:"description-3",level:4},{value:"Example",id:"example-4",level:4},{value:".clearAllRemoteContexts()",id:"clearallremotecontexts",level:2},{value:"Description",id:"description-4",level:4},{value:"See also",id:"see-also",level:4},{value:".encryptionStatus()",id:"encryptionstatus",level:2},{value:"Description",id:"description-5",level:4},{value:"Example",id:"example-5",level:4},{value:".flushAndLock()",id:"flushandlock",level:2},{value:"Description",id:"description-6",level:4},{value:"Example",id:"example-6",level:4},{value:"See also",id:"see-also-1",level:4},{value:".getAllRemoteContexts()",id:"getallremotecontexts",level:2},{value:"Description",id:"description-7",level:4},{value:"Example",id:"example-7",level:4},{value:"See also",id:"see-also-2",level:4},{value:".getGlobalStamp()",id:"getglobalstamp",level:2},{value:"Description",id:"description-8",level:4},{value:"Example",id:"example-8",level:4},{value:"See also",id:"see-also-3",level:4},{value:".getInfo()",id:"getinfo",level:2},{value:"Description",id:"description-9",level:4},{value:"Example 1",id:"example-1-2",level:4},{value:"Example 2",id:"example-2-2",level:4},{value:".getRemoteContextInfo()",id:"getremotecontextinfo",level:2},{value:"Description",id:"description-10",level:4},{value:"Returned object",id:"returned-object",level:4},{value:"Example",id:"example-9",level:4},{value:"See also",id:"see-also-4",level:4},{value:".getRequestLog()",id:"getrequestlog",level:2},{value:"Description",id:"description-11",level:4},{value:"Example",id:"example-10",level:4},{value:".isAdminProtected()",id:"isadminprotected",level:2},{value:"Description",id:"description-12",level:4},{value:"See also",id:"see-also-5",level:4},{value:".locked()",id:"locked",level:2},{value:"Description",id:"description-13",level:4},{value:"See also",id:"see-also-6",level:4},{value:".makeSelectionsAlterable()",id:"makeselectionsalterable",level:2},{value:"Description",id:"description-14",level:4},{value:".provideDataKey()",id:"providedatakey",level:2},{value:"Description",id:"description-15",level:4},{value:"Example",id:"example-11",level:4},{value:".setAdminProtection()",id:"setadminprotection",level:2},{value:"Description",id:"description-16",level:4},{value:"Example",id:"example-12",level:4},{value:"See also",id:"see-also-7",level:4},{value:".setGlobalStamp()",id:"setglobalstamp",level:2},{value:"Description",id:"description-17",level:4},{value:"Example",id:"example-13",level:4},{value:"See also",id:"see-also-8",level:4},{value:".setRemoteContextInfo()",id:"setremotecontextinfo",level:2},{value:"Description",id:"description-18",level:4},{value:"Example 1",id:"example-1-3",level:4},{value:"Example 2",id:"example-2-3",level:4},{value:"Example 3 - Listbox",id:"example-3---listbox",level:4},{value:"See also",id:"see-also-9",level:4},{value:".startRequestLog()",id:"startrequestlog",level:2},{value:"Description",id:"description-19",level:4},{value:"Client-side",id:"client-side",level:4},{value:"Server-side",id:"server-side",level:4},{value:"Example 1",id:"example-1-4",level:4},{value:"Example 2",id:"example-2-4",level:4},{value:"Example 3",id:"example-3-1",level:4},{value:".startTransaction()",id:"starttransaction",level:2},{value:"Description",id:"description-20",level:4},{value:"Example",id:"example-14",level:4},{value:".stopRequestLog()",id:"stoprequestlog",level:2},{value:"Description",id:"description-21",level:4},{value:"Example",id:"example-15",level:4},{value:".unlock()",id:"unlock",level:2},{value:"Description",id:"description-22",level:4},{value:"See also",id:"see-also-10",level:4},{value:".validateTransaction()",id:"validatetransaction",level:2},{value:"Description",id:"description-23",level:4},{value:"Example",id:"example-16",level:4}],m={toc:d};function u(t){var{components:e}=t,a=l(t,["components"]);return(0,n.kt)("wrapper",r({},m,a,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"A ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/ORDA/dsmapping#datastore"}),"Datastore")," is the interface object provided by ORDA to reference and access a database. ",(0,n.kt)("inlineCode",{parentName:"p"},"Datastore")," objects are returned by the following commands:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),"ds"),": a shortcut to the main datastore"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#open-datastore"}),"Open datastore"),": to open any remote datastore")),(0,n.kt)("h3",r({},{id:"summary"}),"Summary"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#canceltransaction"}),(0,n.kt)("strong",{parentName:"a"},".cancelTransaction()")),(0,n.kt)("br",null),"cancels the transaction")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#clearallremotecontexts"}),(0,n.kt)("strong",{parentName:"a"},".clearAllRemoteContexts()")),(0,n.kt)("br",null),"clears all the attributes for all the active contexts in the datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#dataclassname"}),(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("em",{parentName:"strong"},".dataclassName"))," : 4D.DataClass"),(0,n.kt)("br",null),"contains a description of the dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#encryptionstatus"}),(0,n.kt)("strong",{parentName:"a"},".encryptionStatus()"),": Object"),(0,n.kt)("br",null),"returns an object providing the encryption status for the current data file")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#flushAndLock"}),(0,n.kt)("strong",{parentName:"a"},".flushAndLock()")),(0,n.kt)("br",null),"flushes the cache of the local datastore and prevents other processes from performing write operations on the database")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getallremotecontexts"}),(0,n.kt)("strong",{parentName:"a"},".getAllRemoteContexts()")," : Collection"),(0,n.kt)("br",null),"returns a collection of objects containing information on all the active optimization contexts in the datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getglobalstamp"}),(0,n.kt)("strong",{parentName:"a"},".getGlobalStamp"),"() : Real"),(0,n.kt)("br",null),"returns the current value of the global modification stamp of the datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getinfo"}),(0,n.kt)("strong",{parentName:"a"},".getInfo()"),": Object"),(0,n.kt)("br",null),"returns an object providing information about the datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getremotecontextinfo"}),(0,n.kt)("strong",{parentName:"a"},".getRemoteContextInfo"),"(",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text) : Object "),(0,n.kt)("br",null)," returns an object that holds information on the ",(0,n.kt)("em",{parentName:"td"},"contextName")," optimization context in the datastore.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getrequestlog"}),(0,n.kt)("strong",{parentName:"a"},".getRequestLog()")," : Collection"),(0,n.kt)("br",null),"returns the ORDA requests logged in memory on the client side")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#locked"}),(0,n.kt)("strong",{parentName:"a"},".locked()")," : Boolean"),(0,n.kt)("br",null),"returns True if the local datastore is currently locked")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#makeselectionsalterable"}),(0,n.kt)("strong",{parentName:"a"},".makeSelectionsAlterable()")),(0,n.kt)("br",null),"sets all entity selections as alterable by default in the current application datastores")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#providedatakey"}),(0,n.kt)("strong",{parentName:"a"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"a"},"curPassPhrase")," : Text ) : Object ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"a"},"curDataKey")," : Object ) : Object "),(0,n.kt)("br",null),"allows providing a data encryption key for the current data file of the datastore and detects if the key matches the encrypted data")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#setadminprotection"}),(0,n.kt)("strong",{parentName:"a"},".setAdminProtection"),"( ",(0,n.kt)("em",{parentName:"a"},"status")," : Boolean )"),(0,n.kt)("br",null),"allows disabling any data access on the ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/Admin/webAdmin#http-port"}),"web admin port"),", including for the ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/Admin/dataExplorer"}),"Data Explorer")," in ",(0,n.kt)("inlineCode",{parentName:"td"},"WebAdmin")," sessions")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#setglobalstamp"}),(0,n.kt)("strong",{parentName:"a"},".setGlobalStamp"),"( ",(0,n.kt)("em",{parentName:"a"},"newStamp")," : Real)"),(0,n.kt)("br",null),"sets ",(0,n.kt)("em",{parentName:"td"},"newStamp")," as new value for the current global modification stamp for the datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#setremotecontextinfo"}),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer}})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassName")," : Text; ",(0,n.kt)("em",{parentName:"a"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }} )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"a"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"a"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }} )"),(0,n.kt)("br",null),"links the specified dataclass attributes to the ",(0,n.kt)("em",{parentName:"td"},"contextName")," optimization context")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#startrequestlog"}),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"file")," : 4D.File )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"file")," : 4D.File ; ",(0,n.kt)("em",{parentName:"a"},"options")," : Integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"reqNum")," : Integer )"),(0,n.kt)("br",null),"starts the logging of ORDA requests on the client side or on the server side")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#starttransaction"}),(0,n.kt)("strong",{parentName:"a"},".startTransaction()")),(0,n.kt)("br",null),"starts a transaction in the current process on the database matching the datastore to which it applies")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#stoprequestlog"}),(0,n.kt)("strong",{parentName:"a"},".stopRequestLog()"),"  "),(0,n.kt)("br",null),"stops any logging of ORDA requests on the machine it is called (client or server)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#unlock"}),(0,n.kt)("strong",{parentName:"a"},".unlock()")),(0,n.kt)("br",null),"removes the current lock on write operations in the datastore, if it has been set in the same process")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#validatetransaction"}),(0,n.kt)("strong",{parentName:"a"},".validateTransaction()"),"  "),(0,n.kt)("br",null),"accepts the transaction")))),(0,n.kt)("h2",r({},{id:"ds"}),"ds"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Support of localID parameter")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"ds")," { ( ",(0,n.kt)("em",{parentName:"p"},"localID")," : Text ) } : cs.DataStore "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Local ID of the remote datastore to return")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"cs.DataStore"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Reference to the datastore")))),(0,n.kt)("h4",r({},{id:"description"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"ds")," command returns a reference to the datastore matching the current 4D database or the database designated by ",(0,n.kt)("em",{parentName:"p"},"localID"),"."),(0,n.kt)("p",null,"If you omit the ",(0,n.kt)("em",{parentName:"p"},"localID"),' parameter (or pass an empty string ""), the command returns a reference to the datastore matching the local 4D database (or the 4D Server database in case of opening a remote database on 4D Server). The datastore is opened automatically and available directly through ',(0,n.kt)("inlineCode",{parentName:"p"},"ds"),"."),(0,n.kt)("p",null,"You can also get a reference on an open remote datastore by passing its local id in the ",(0,n.kt)("em",{parentName:"p"},"localID")," parameter. The datastore must have been previously opened with the ",(0,n.kt)("a",r({parentName:"p"},{href:"#open-datastore"}),(0,n.kt)("inlineCode",{parentName:"a"},"Open datastore"))," command by the current database (host or component). The local id is defined when using this command."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"The scope of the local id is the database where the datastore has been opened.")),(0,n.kt)("p",null,"If no ",(0,n.kt)("em",{parentName:"p"},"localID")," datastore is found, the command returns ",(0,n.kt)("strong",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,"Objects available in the ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.Datastore")," are mapped from the target database with respect to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/ORDA/dsmapping#general-rules"}),"ORDA general rules"),"."),(0,n.kt)("h4",r({},{id:"example-1"}),"Example 1"),(0,n.kt)("p",null,"Using the main datastore on the 4D database:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $result:=ds.Employee.query("firstName = :1";"S@")\n')),(0,n.kt)("h4",r({},{id:"example-2"}),"Example 2"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo; $firstFrench; $firstForeign : Object\n\n var $frenchStudents; $foreignStudents : cs.DataStore\n\n $connectTo:=New object("type";"4D Server";"hostname";"192.168.18.11:8044")\n $frenchStudents:=Open datastore($connectTo;"french")\n\n $connectTo.hostname:="192.168.18.11:8050"\n $foreignStudents:=Open datastore($connectTo;"foreign")\n  //...\n  //...\n $firstFrench:=getFirst("french";"Students")\n $firstForeign:=getFirst("foreign";"Students")\n')),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"  //getFirst method\n  //getFirst(localID;dataclass) -> entity\n #DECLARE( $localId : Text; $dataClassName : Text ) -> $entity : 4D.Entity\n\n $0:=ds($localId)[$dataClassName].all().first()\n")),(0,n.kt)("h2",r({},{id:"open-datastore"}),"Open datastore"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R4"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"New ",(0,n.kt)("em",{parentName:"td"},"passwordAlgorithm")," property")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Open datastore"),"( ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," : Object ; ",(0,n.kt)("em",{parentName:"p"},"localID")," : Text ) : cs.DataStore "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"connectionInfo"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Connection properties used to reach the remote datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Id to assign to the opened datastore on the local application (mandatory)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"cs.DataStore"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Datastore object")))),(0,n.kt)("h4",r({},{id:"description-1"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," command connects the application to the 4D database identified by the ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," parameter and returns a matching ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.DataStore")," object associated with the ",(0,n.kt)("em",{parentName:"p"},"localID")," local alias."),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," 4D database must be available as a remote datastore, i.e.:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"its web server must be launched with http and/or https enabled,"),(0,n.kt)("li",{parentName:"ul"},"the datastore must be exposed (",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/REST/configuration#starting-the-rest-server"}),(0,n.kt)("strong",{parentName:"a"},"Expose as REST server"))," option checked) as well as ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/REST/configuration#exposing-tables-and-fields"}),"dataclasses and attributes"),".")),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," requests rely on the 4D REST API and can require a 4D Client license to open the connection. Refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/REST/authUsers#user-login-modes"}),"user login mode section")," to know how to configure the authentication depending on the selected current user login mode.")),(0,n.kt)("p",null,"If no matching database is found, ",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," returns ",(0,n.kt)("strong",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"localID")," is a local alias for the session opened on remote datastore. If ",(0,n.kt)("em",{parentName:"p"},"localID")," already exists on the application, it is used. Otherwise, a new ",(0,n.kt)("em",{parentName:"p"},"localID")," session is created when the datastore object is used."),(0,n.kt)("p",null,"Objects available in the ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.Datastore")," are mapped from the target database with respect to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/ORDA/dsmapping#general-rules"}),"ORDA general rules"),"."),(0,n.kt)("p",null,"Once the session is opened, the following statements become equivalent and return a reference on the same datastore object:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $myds:=Open datastore(connectionInfo;"myLocalId")\n $myds2:=ds("myLocalId")\n  //$myds and $myds2 are equivalent\n')),(0,n.kt)("p",null,"Pass in ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," an object describing the remote datastore you want to connect to. It can contain the following properties (all properties are optional except ",(0,n.kt)("em",{parentName:"p"},"hostname"),"):"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Property"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"hostname"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Name or IP address of the remote database + ":" + port number (port number is mandatory)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"user"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"User name")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"password"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"User password. By default, the password is sent in clear form, therefore it is ",(0,n.kt)("strong",{parentName:"td"},"strongly recommended")," to use encrypted communications by passing ",(0,n.kt)("inlineCode",{parentName:"td"},"true")," in the ",(0,n.kt)("inlineCode",{parentName:"td"},"tls")," property.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"idleTimeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Longint"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Inactivity session timeout (in minutes), after which the session is automatically closed by 4D. If omitted, default value is 60 (1h). The value cannot be < 60 (if a lower value is passed, the timeout is set to 60). For more information, see ",(0,n.kt)("strong",{parentName:"td"},"Closing sessions"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"tls"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Use secured connection(*). If omitted, false by default. Using a secured connection is recommended whenever possible.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"passwordAlgorithm"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Pass "4d-rest-digest" if the server validates the password using the ',(0,n.kt)("a",r({parentName:"td"},{href:"https://doc.4d.com/4dv20/help/command/en/page638.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Validate password"))," command with the ",(0,n.kt)("em",{parentName:"td"},"digest")," parameter set to ",(0,n.kt)("inlineCode",{parentName:"td"},"true"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Must be "4D Server"')))),(0,n.kt)("p",null,"(*) If tls is true, the HTTPS protocol is used if:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"HTTPS is enabled on the remote datastore"),(0,n.kt)("li",{parentName:"ul"},"the given port is the right HTTPS port configured in the database settings"),(0,n.kt)("li",{parentName:"ul"},'a valid certificate and private encryption key are installed in the database. Otherwise, error "1610 - A remote request to host xxx has failed" is raised')),(0,n.kt)("h4",r({},{id:"example-1-1"}),"Example 1"),(0,n.kt)("p",null,"Connection to a remote datastore without user / password:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $remoteDS : cs.DataStore\n $connectTo:=New object("type";"4D Server";"hostname";"192.168.18.11:8044")\n $remoteDS:=Open datastore($connectTo;"students")\n ALERT("This remote datastore contains "+String($remoteDS.Students.all().length)+" students")\n')),(0,n.kt)("h4",r({},{id:"example-2-1"}),"Example 2"),(0,n.kt)("p",null,"Connection to a remote datastore with user / password / timeout / tls:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $remoteDS : cs.DataStore\n $connectTo:=New object("type";"4D Server";"hostname";\\"192.168.18.11:4443";\\  \n  "user";"marie";"password";$pwd;"idleTimeout";70;"tls";True)\n $remoteDS:=Open datastore($connectTo;"students")\n ALERT("This remote datastore contains "+String($remoteDS.Students.all().length)+" students")\n')),(0,n.kt)("h4",r({},{id:"example-3"}),"Example 3"),(0,n.kt)("p",null,"Working with several remote datastores:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $frenchStudents; $foreignStudents : cs.DataStore\n $connectTo:=New object("hostname";"192.168.18.11:8044")\n $frenchStudents:=Open datastore($connectTo;"french")\n $connectTo.hostname:="192.168.18.11:8050"\n $foreignStudents:=Open datastore($connectTo;"foreign")\n ALERT("They are "+String($frenchStudents.Students.all().length)+" French students")\n ALERT("They are "+String($foreignStudents.Students.all().length)+" foreign students")\n')),(0,n.kt)("h4",r({},{id:"error-management"}),"Error management"),(0,n.kt)("p",null,"In case of error, the command returns ",(0,n.kt)("strong",{parentName:"p"},"Null"),'. If the remote datastore cannot be reached (wrong address, web server not started, http and https not enabled...), error 1610 "A remote request to host XXX has failed" is raised. You can intercept this error with a method installed by ',(0,n.kt)("inlineCode",{parentName:"p"},"ON ERR CALL"),"."),(0,n.kt)("h2",r({},{id:"dataclassname"}),(0,n.kt)("em",{parentName:"h2"},".dataclassName")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},".dataclassName"))," : 4D.DataClass"),(0,n.kt)("h4",r({},{id:"description-2"}),"Description"),(0,n.kt)("p",null,"Each dataclass in a datastore is available as a property of the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/ORDA/dsmapping#datastore"}),"DataStore object"),"data. The returned object contains a description of the dataclass."),(0,n.kt)("h4",r({},{id:"example"}),"Example"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $emp : cs.Employee\n var $sel : cs.EmployeeSelection\n $emp:=ds.Employee //$emp contains the Employee dataclass\n $sel:=$emp.all() //gets an entity selection of all employees\n\n  //you could also write directly:\n $sel:=ds.Employee.all()\n")),(0,n.kt)("h2",r({},{id:"canceltransaction"}),".cancelTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".cancelTransaction()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Does not require any parameters")))),(0,n.kt)("h4",r({},{id:"description-3"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".cancelTransaction()")," function cancels the transaction opened by the ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," function at the corresponding level in the current process for the specified datastore."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".cancelTransaction()")," function cancels any changes made to the data during the transaction."),(0,n.kt)("p",null,"You can nest several transactions (sub-transactions). If the main transaction is cancelled, all of its sub-transactions are also cancelled, even if they were validated individually using the ",(0,n.kt)("a",r({parentName:"p"},{href:"#validatetransactions"}),(0,n.kt)("inlineCode",{parentName:"a"},".validateTransaction()"))," function."),(0,n.kt)("h4",r({},{id:"example-4"}),"Example"),(0,n.kt)("p",null,"See example for the ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," function."),(0,n.kt)("h2",r({},{id:"clearallremotecontexts"}),".clearAllRemoteContexts()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clearAllRemoteContexts()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Does not require any parameters")))),(0,n.kt)("h4",r({},{id:"description-4"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".clearAllRemoteContexts()")," function clears all the attributes for all the active contexts in the datastore."),(0,n.kt)("p",null,"This function is mainly used in the context of debugging. One thing to keep in mind is that when you open the debugger, it sends requests to the server and queries all the dataclass attributes to display them. This can overload your contexts with unnecessary data."),(0,n.kt)("p",null,"In such cases, you can use ",(0,n.kt)("inlineCode",{parentName:"p"},".clearAllRemoteContexts()")," to clear your contexts and keep them clean."),(0,n.kt)("h4",r({},{id:"see-also"}),"See also"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()")),(0,n.kt)("h2",r({},{id:"encryptionstatus"}),".encryptionStatus()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".encryptionStatus()"),": Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Information about the encryption of the current datastore and of each table")))),(0,n.kt)("h4",r({},{id:"description-5"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".encryptionStatus()")," function returns an object providing the encryption status for the current data file (i.e., the data file of the ",(0,n.kt)("inlineCode",{parentName:"p"},"ds")," datastore). The status for each table is also provided."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Use the ",(0,n.kt)("inlineCode",{parentName:"p"},"Data file encryption status")," command to determine the encryption status of any other data file.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Returned value")),(0,n.kt)("p",null,"The returned object contains the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Property"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncrypted"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True if the data file is encrypted")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"keyProvided"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True if the encryption key matching the encrypted data file is provided(*).")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"tables"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object containing as many properties as there are encryptable or encrypted tables.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"td"},"tableName")),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Encryptable or Encrypted table")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Name of the table")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"num"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Table number")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncryptable"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True if the table is declared encryptable in the structure file")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncrypted"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True if the records of the table are encrypted in the data file")))),(0,n.kt)("p",null,"(*) The encryption key can be provided:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"with the ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," command,"),(0,n.kt)("li",{parentName:"ul"},"at the root of a connected device before opening the datastore,"),(0,n.kt)("li",{parentName:"ul"},"with the ",(0,n.kt)("inlineCode",{parentName:"li"},"Discover data key")," command.")),(0,n.kt)("h4",r({},{id:"example-5"}),"Example"),(0,n.kt)("p",null,"You want to know the number of encrypted tables in the current data file:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $status : Object\n\n $status:=ds.encryptionStatus()\n\n If($status.isEncrypted) //the database is encrypted\n    C_LONGINT($vcount)\n    C_TEXT($tabName)\n    For each($tabName;$status.tables)\n       If($status.tables[$tabName].isEncrypted)\n          $vcount:=$vcount+1\n       End if\n    End for each\n    ALERT(String($vcount)+" encrypted table(s) in this datastore.")\n Else\n    ALERT("This database is not encrypted.")\n End if\n')),(0,n.kt)("h2",r({},{id:"flushandlock"}),".flushAndLock()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".flushAndLock()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Does not require any parameters")))),(0,n.kt)("h4",r({},{id:"description-6"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," function flushes the cache of the local datastore and prevents other processes from performing write operations on the database. The datastore is set to a consistent, frozen state. Calling this function is necessary before executing an application snapshot, for example."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"This function can only be called:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"on the local datastore (",(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"in client/server environment, on the server machine."))),(0,n.kt)("p",null,"Once this function is executed, write operations such as ",(0,n.kt)("inlineCode",{parentName:"p"},".save()")," or other ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," calls are frozen in all other processes until the datastore is unlocked."),(0,n.kt)("p",null,"When multiple calls to ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," have been done in the same process, the same number of ",(0,n.kt)("a",r({parentName:"p"},{href:"#unlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".unlock()"))," calls must be executed to actually unlock the datastore."),(0,n.kt)("p",null,"The datastore is unlocked when:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"the ",(0,n.kt)("a",r({parentName:"li"},{href:"#unlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".unlock()"))," function is called in the same process, or"),(0,n.kt)("li",{parentName:"ul"},"the process that called the ",(0,n.kt)("inlineCode",{parentName:"li"},".flushAndLock()")," function is killed.")),(0,n.kt)("p",null,"If the datastore is already locked from another process, the ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," call is frozen and will be executed when the datastore will be unlocked."),(0,n.kt)("p",null,"An error is triggered if the ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," function cannot be executed (e.g. it is run on a remote 4D), ."),(0,n.kt)("admonition",r({},{type:"caution"}),(0,n.kt)("p",{parentName:"admonition"},"Other 4D features and services including ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/Backup/backup"}),"backup"),", ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4Dv20/4D/20/Using-Volume-Shadow-Copy-Service-on-Windows.300-6330532.en.html"}),"vss"),", and ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/MSC/overview"}),"MSC")," can also lock the datastore. Before calling ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()"),", make sure no other locking action is being used, in order to avoid any unexpected interaction.")),(0,n.kt)("h4",r({},{id:"example-6"}),"Example"),(0,n.kt)("p",null,"You want to create a copy of the data folder along with its current journal file:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$destination:=Folder(fk documents folder).folder("Archive")\n$destination.create()\n\nds.flushAndLock() //Block write operations from other processes\n\n$dataFolder:=Folder(fk data folder)\n$dataFolder.copyTo($destination) //Copy the data folder\n\n$oldJournalPath:=New log file //Close the journal and create a new one\n$oldJournal:=File($oldJournalPath; fk platform path)\n$oldJournal.moveTo($destination) //Save the old journal with data\n\nds.unlock() //Our copy is over, we can now unlock the datastore\n')),(0,n.kt)("h4",r({},{id:"see-also-1"}),"See also"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#locked"}),".locked()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#unlock"}),".unlock()")),(0,n.kt)("h2",r({},{id:"getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getAllRemoteContexts()")," : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection of optimization context objects")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.")),(0,n.kt)("h4",r({},{id:"description-7"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getAllRemoteContexts()")," function returns a collection of objects containing information on all the active optimization contexts in the datastore."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For more information on how contexts can be created, see ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/ORDA/client-server-optimization#optimization-context"}),"client/server optimization"),".")),(0,n.kt)("p",null,"Each object in the returned collection has the properties listed in the ",(0,n.kt)("a",r({parentName:"p"},{href:"#properties-of-the-returned-object"}),(0,n.kt)("inlineCode",{parentName:"a"},".getRemoteContextInfo()"))," section."),(0,n.kt)("h4",r({},{id:"example-7"}),"Example"),(0,n.kt)("p",null,"The following code sets up two contexts and retrieves them using ",(0,n.kt)("inlineCode",{parentName:"p"},".getAllRemoteContexts()"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $addresses : cs.AddressSelection\nvar $p : cs.PersonsEntity\nvar $a : cs.AddressEntity\nvar $contextA; $contextB : Object\nvar $info : Collection\nvar $text : Text\n\n// Open remote datastore\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n// Set context A\n$contextA:=New object("context"; "contextA")\n$persons:=$ds.Persons.all($contextA)\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / "\nEnd for each\n\n// Set context B\n$contextB:=New object("context"; "contextB")\n$addresses:=$ds.Address.all($contextB)\n$text:=""\nFor each ($a; $addresses)\n    $text:=$a.zipCode\nEnd for each\n\n// Get all remote contexts (in this case, contextA and contextB)\n$info:=$ds.getAllRemoteContexts()\n//$info = [{name:"contextB"; dataclass:"Address"; main:"zipCode"},\n{name:"contextA";dataclass:"Persons";main:"firstname,address.city"}]\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"This example serves as a demonstration, it is not meant for real implementation.")),(0,n.kt)("h4",r({},{id:"see-also-2"}),"See also"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",r({},{id:"getglobalstamp"}),".getGlobalStamp()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getGlobalStamp"),"() : Real"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Current value of the global modification stamp")))),(0,n.kt)("h4",r({},{id:"description-8"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getGlobalStamp()")," function returns the current value of the global modification stamp of the datastore."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"This function can only be called:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"on the local datastore (",(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"in client/server environment, on the server machine."))),(0,n.kt)("p",null,"For more information on global stamp and data change tracking, please refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/ORDA/global-stamp"}),(0,n.kt)("strong",{parentName:"a"},"Using the Global Stamp"))," page."),(0,n.kt)("h4",r({},{id:"example-8"}),"Example"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"var $currentStamp : Real\nvar $hasModifications : Boolean\n\n$currentStamp:=ds.getGlobalStamp()\nmethodWhichCouldModifyEmployees //call some code\n$hasModifications:=($currentStamp # ds.getGlobalStamp())\n")),(0,n.kt)("h4",r({},{id:"see-also-3"}),"See also"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setglobalstamp"}),".setGlobalStamp()")),(0,n.kt)("h2",r({},{id:"getinfo"}),".getInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getInfo()"),": Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Datastore properties")))),(0,n.kt)("h4",r({},{id:"description-9"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getInfo()")," function returns an object providing information about the datastore. This function is useful for setting up generic code."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Returned object")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Property"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"string"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("li",null,'"4D": main datastore, available through ds '),(0,n.kt)("li",null,'"4D Server": remote datastore, open with Open datastore'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"networked"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"True: the datastore is reached through a network connection."),(0,n.kt)("li",null,"False: the datastore is not reached through a network connection (local database)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID of the datastore on the machine. Corresponds to the localId string given with the ",(0,n.kt)("inlineCode",{parentName:"td"},"Open datastore"),' command. Empty string ("") for main datastore.')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"connection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object describing the remote datastore connection (not returned for main datastore). Available properties:",(0,n.kt)("table",null,(0,n.kt)("tr",null,(0,n.kt)("th",null,"Property"),(0,n.kt)("th",null,"Type"),(0,n.kt)("th",null,"Description")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"hostname"),(0,n.kt)("td",null,"text"),(0,n.kt)("td",null,'IP address or name of the remote datastore + ":" + port number')),(0,n.kt)("tr",null,(0,n.kt)("td",null,"tls"),(0,n.kt)("td",null,"boolean"),(0,n.kt)("td",null,"True if secured connection is used with the remote datastore")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"idleTimeout"),(0,n.kt)("td",null,"number"),(0,n.kt)("td",null,"Session inactivity timeout (in minutes)")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"user"),(0,n.kt)("td",null,"text"),(0,n.kt)("td",null,"User authenticated on the remote datastore"))))))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"If the ",(0,n.kt)("inlineCode",{parentName:"li"},".getInfo()")," function is executed on a 4D Server or 4D single-user, ",(0,n.kt)("inlineCode",{parentName:"li"},"networked")," is False."),(0,n.kt)("li",{parentName:"ul"},"If the ",(0,n.kt)("inlineCode",{parentName:"li"},".getInfo()")," function is executed on a remote 4D, ",(0,n.kt)("inlineCode",{parentName:"li"},"networked")," is True")),(0,n.kt)("h4",r({},{id:"example-1-2"}),"Example 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $info : Object\n\n $info:=ds.getInfo() //Executed on 4D Server or 4D\n  //{"type":"4D","networked":false,"localID":""}\n\n $info:=ds.getInfo() // Executed on 4D remote\n  //{"type":"4D","networked":true,"localID":""}\n')),(0,n.kt)("h4",r({},{id:"example-2-2"}),"Example 2"),(0,n.kt)("p",null,"On a remote datastore:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'  var $remoteDS : cs.DataStore\n  var $info; $connectTo : Object\n\n $connectTo:=New object("hostname";"111.222.33.44:8044";"user";"marie";"password";"aaaa")\n $remoteDS:=Open datastore($connectTo;"students")\n $info:=$remoteDS.getInfo()\n\n  //{"type":"4D Server",\n  //"localID":"students",\n  //"networked":true,\n  //"connection":{hostname:"111.222.33.44:8044","tls":false,"idleTimeout":2880,"user":"marie"}}\n')),(0,n.kt)("h2",r({},{id:"getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRemoteContextInfo"),"(",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text) : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"contextName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Name of the context")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Description of the optimization context")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.")),(0,n.kt)("h4",r({},{id:"description-10"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getRemoteContextInfo()")," function  returns an object that holds information on the ",(0,n.kt)("em",{parentName:"p"},"contextName")," optimization context in the datastore.."),(0,n.kt)("p",null,"For more information on how optimization contexts can be created, see ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/ORDA/client-server-optimization#optimization-context"}),"client/server optimization"),"."),(0,n.kt)("h4",r({},{id:"returned-object"}),"Returned object"),(0,n.kt)("p",null,"The returned object has the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Property"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Name of the context")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"main"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Attribute(s) associated to the context (attribute names are separated by a comma)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataclass"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Dataclass name")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"currentItem (optional)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"The attributes of the ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/ORDA/datastores#entity-selection-based-list-box"}),"page mode")," if the context is linked to a list box. Returned as ",(0,n.kt)("inlineCode",{parentName:"td"},"Null")," or empty text element if the context name is not used for a list box, or if there is no context for the currentItem")))),(0,n.kt)("p",null,"Since contexts behave as filters for attributes, if ",(0,n.kt)("em",{parentName:"p"},"main")," is returned empty, it means that no filter is applied, and that the server returns all the dataclass attributes."),(0,n.kt)("h4",r({},{id:"example-9"}),"Example"),(0,n.kt)("p",null,"See the example from the ",(0,n.kt)("a",r({parentName:"p"},{href:"#example-1-3"}),".setRemoteContextInfo()")," section."),(0,n.kt)("h4",r({},{id:"see-also-4"}),"See also"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",r({},{id:"getrequestlog"}),".getRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRequestLog()")," : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection of objects, where each object describes a request")))),(0,n.kt)("h4",r({},{id:"description-11"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getRequestLog()")," function returns the ORDA requests logged in memory on the client side. The ORDA request logging must have previously been enabled using the ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()"))," function."),(0,n.kt)("p",null,"This function must be called on a remote 4D, otherwise it returns an empty collection. It is designed for debugging purposes in client/server configurations."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Returned value")),(0,n.kt)("p",null,"Collection of stacked request objects. The most recent request has index 0."),(0,n.kt)("p",null,"For a description of the ORDA request log format, please refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373"}),(0,n.kt)("strong",{parentName:"a"},"ORDA client requests"))," section."),(0,n.kt)("h4",r({},{id:"example-10"}),"Example"),(0,n.kt)("p",null,"See Example 2 of ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("h2",r({},{id:"isadminprotected"}),".isAdminProtected()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isAdminProtected()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True if the Data Explorer access is disabled, False if it is enabled (default)")))),(0,n.kt)("h4",r({},{id:"description-12"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".isAdminProtected()")," function returns ",(0,n.kt)("inlineCode",{parentName:"p"},"True")," if ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/Admin/dataExplorer"}),"Data Explorer")," access has been disabled for the working session."),(0,n.kt)("p",null,"By default, the Data Explorer access is granted for ",(0,n.kt)("inlineCode",{parentName:"p"},"webAdmin")," sessions, but it can be disabled to prevent any data access from administrators (see the ",(0,n.kt)("a",r({parentName:"p"},{href:"#setadminprotection"}),(0,n.kt)("inlineCode",{parentName:"a"},".setAdminProtection()"))," function)."),(0,n.kt)("h4",r({},{id:"see-also-5"}),"See also"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setadminprotection"}),(0,n.kt)("inlineCode",{parentName:"a"},".setAdminProtection()"))),(0,n.kt)("h2",r({},{id:"locked"}),".locked()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".locked()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True if locked")))),(0,n.kt)("h4",r({},{id:"description-13"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".locked()")," function returns True if the local datastore is currently locked."),(0,n.kt)("p",null,"You can lock the datastore using the ",(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()")," function before executing a snapshot of the data file, for example."),(0,n.kt)("admonition",r({},{type:"caution"}),(0,n.kt)("p",{parentName:"admonition"},"The function will also return ",(0,n.kt)("inlineCode",{parentName:"p"},"True")," if the datastore was locked by another administration feature such as backup or vss (see ",(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),").  ")),(0,n.kt)("h4",r({},{id:"see-also-6"}),"See also"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#unlock"}),".unlock()")),(0,n.kt)("h2",r({},{id:"makeselectionsalterable"}),".makeSelectionsAlterable()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".makeSelectionsAlterable()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Does not require any parameters")))),(0,n.kt)("h4",r({},{id:"description-14"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".makeSelectionsAlterable()")," function sets all entity selections as alterable by default in the current application datastores (including ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/ORDA/datastores"}),"remote datastores"),"). It is intended to be used once, for example in the ",(0,n.kt)("inlineCode",{parentName:"p"},"On Startup")," database method."),(0,n.kt)("p",null,'When this function is not called, new entity selections can be shareable, depending on the nature of their "parent", or ',(0,n.kt)("a",r({parentName:"p"},{href:"/docs/ORDA/entities#shareable-or-non-shareable-entity-selections"}),"how they are created"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"This function does not modify entity selections created by ",(0,n.kt)("a",r({parentName:"p"},{href:"#copy"}),(0,n.kt)("inlineCode",{parentName:"a"},".copy()"))," or ",(0,n.kt)("inlineCode",{parentName:"p"},"OB Copy")," when the explicit ",(0,n.kt)("inlineCode",{parentName:"p"},"ck shared")," option is used.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Compatibility"),": This function must only be used in projects converted from 4D versions prior to 4D v18 R5 and containing ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/API/EntitySelectionClass#add"}),".add()")," calls. In this context, using ",(0,n.kt)("inlineCode",{parentName:"p"},".makeSelectionsAlterable()")," can save time by restoring instantaneously the previous 4D behavior in existing projects.\nOn the other hand, using this method in new projects created in 4D v18 R5 and higher ",(0,n.kt)("strong",{parentName:"p"},"is not recommended"),", since it prevents entity selections to be shared, which provides greater performance and scalabitlity.")),(0,n.kt)("h2",r({},{id:"providedatakey"}),".provideDataKey()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"p"},"curPassPhrase")," : Text ) : Object ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"p"},"curDataKey")," : Object ) : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"curPassPhrase"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Current encryption passphrase")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"curDataKey"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Current data encryption key")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result of the encryption key matching")))),(0,n.kt)("h4",r({},{id:"description-15"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".provideDataKey()")," function allows providing a data encryption key for the current data file of the datastore and detects if the key matches the encrypted data. This function can be used when opening an encrypted database, or when executing any encryption operation that requires the encryption key, such as re-encrypting the data file."),(0,n.kt)("blockquote",null,(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," function must be called in an encrypted database. If it is called in a non-encrypted database, the error 2003 (the encryption key does not match the data.) is returned. Use the ",(0,n.kt)("inlineCode",{parentName:"li"},"Data file encryption status")," command to determine if the database is encrypted."),(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," function cannot be called from a remote 4D or an encrypted remote datastore."))),(0,n.kt)("p",null,"If you use the ",(0,n.kt)("em",{parentName:"p"},"curPassPhrase")," parameter, pass the string used to generate the data encryption key. When you use this parameter, an encryption key is generated."),(0,n.kt)("p",null,"If you use the ",(0,n.kt)("em",{parentName:"p"},"curDataKey")," parameter, pass an object (with ",(0,n.kt)("em",{parentName:"p"},"encodedKey")," property) that contains the data encryption key. This key may have been generated with the ",(0,n.kt)("inlineCode",{parentName:"p"},"New data key")," command."),(0,n.kt)("p",null,"If a valid data encryption key is provided, it is added to the ",(0,n.kt)("em",{parentName:"p"},"keyChain")," in memory and the encryption mode is enabled:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"all data modifications in encryptable tables are encrypted on disk (.4DD, .journal. 4Dindx files)"),(0,n.kt)("li",{parentName:"ul"},"all data loaded from encryptable tables is decrypted in memory")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Result")),(0,n.kt)("p",null,"The result of the command is described in the returned object:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Property"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"success"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True if the provided encryption key matches the encrypted data, False otherwise")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Properties below are returned only if success is ",(0,n.kt)("em",{parentName:"td"},"FALSE"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Error code (4 if the provided encryption key is wrong)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"statusText"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Error message")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"errors"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Stack of errors. The first error has the highest index")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].componentSignature"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Internal component name")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].errCode"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Error number")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].message"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Error message")))),(0,n.kt)("p",null,"If no ",(0,n.kt)("em",{parentName:"p"},"curPassphrase")," or ",(0,n.kt)("em",{parentName:"p"},"curDataKey")," is given, ",(0,n.kt)("inlineCode",{parentName:"p"},".provideDataKey()")," returns ",(0,n.kt)("strong",{parentName:"p"},"null")," (no error is generated)."),(0,n.kt)("h4",r({},{id:"example-11"}),"Example"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $keyStatus : Object\n var $passphrase : Text\n\n $passphrase:=Request("Enter the passphrase")\n If(OK=1)\n    $keyStatus:=ds.provideDataKey($passphrase)\n    If($keyStatus.success)\n       ALERT("You have provided a valid encryption key")\n    Else\n       ALERT("You have provided an invalid encryption key, you will not be able to work with encrypted data")\n    End if\n End if\n')),(0,n.kt)("h2",r({},{id:"setadminprotection"}),".setAdminProtection()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setAdminProtection"),"( ",(0,n.kt)("em",{parentName:"p"},"status")," : Boolean )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True to disable Data Explorer access to data on the ",(0,n.kt)("inlineCode",{parentName:"td"},"webAdmin")," port, False (default) to grant access")))),(0,n.kt)("h4",r({},{id:"description-16"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".setAdminProtection()")," function allows disabling any data access on the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/Admin/webAdmin#http-port"}),"web admin port"),", including for the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/Admin/dataExplorer"}),"Data Explorer")," in ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin")," sessions."),(0,n.kt)("p",null,"By default when the function is not called, access to data is always granted on the web administration port for a session with ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin")," privilege using the Data Explorer. In some configurations, for example when the application server is hosted on a third-party machine, you might not want the administrator to be able to view your data, although they can edit the server configuration, including the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/Admin/webAdmin#access-key"}),"access key")," settings."),(0,n.kt)("p",null,"In this case, you can call this function to disable the data access from Data Explorer on the web admin port of the machine, even if the user session has the ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin")," privilege. When this function is executed, the data file is immediately protected and the status is stored on disk: the data file will be protected even if the application is restarted."),(0,n.kt)("h4",r({},{id:"example-12"}),"Example"),(0,n.kt)("p",null,"You create a ",(0,n.kt)("em",{parentName:"p"},"protectDataFile")," project method to call before deployments for example:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," ds.setAdminProtection(True) //Disables the Data Explorer data access\n")),(0,n.kt)("h4",r({},{id:"see-also-7"}),"See also"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#isadminprotected"}),(0,n.kt)("inlineCode",{parentName:"a"},".isAdminProtected()"))),(0,n.kt)("h2",r({},{id:"setglobalstamp"}),".setGlobalStamp()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setGlobalStamp"),"( ",(0,n.kt)("em",{parentName:"p"},"newStamp")," : Real)"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"newStamp"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"New value of global modification stamp")))),(0,n.kt)("admonition",r({},{title:"Advanced mode",type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"This function is intended for developers who need to modify the current global stamp value. It should be used with care.  ")),(0,n.kt)("h4",r({},{id:"description-17"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".setGlobalStamp()")," function sets ",(0,n.kt)("em",{parentName:"p"},"newStamp")," as new value for the current global modification stamp for the datastore."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"This function can only be called:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"on the local datastore (",(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"in client/server environment, on the server machine."))),(0,n.kt)("p",null,"For more information on global stamp and data change tracking, please refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/ORDA/global-stamp"}),(0,n.kt)("strong",{parentName:"a"},"Using the Global Stamp"))," page."),(0,n.kt)("h4",r({},{id:"example-13"}),"Example"),(0,n.kt)("p",null,"The following code sets the modification global stamp:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"var $newValue: Real\n$newValue:=ReadValueFrom //get a new value to assign\nds.setGlobalStamp($newValue)\n")),(0,n.kt)("h4",r({},{id:"see-also-8"}),"See also"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getglobalstamp"}),".getGlobalStamp()")),(0,n.kt)("h2",r({},{id:"setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer}})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," : Text; ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }} )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"p"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }} )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"contextName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Name of the context")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataClassName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Name of the dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataClassObject"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.DataClass"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataclass object (e.g datastore.Employee)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributes"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Attribute list separated by a comma")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributesColl"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection of attribute names (text)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"contextType"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'If provided, value must be "main" or "currentItem"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"pageLength"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Page length of the entity selection linked to the context (default is 80)")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.")),(0,n.kt)("h4",r({},{id:"description-18"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".setRemoteContextInfo()")," function links the specified dataclass attributes to the ",(0,n.kt)("em",{parentName:"p"},"contextName")," optimization context. If an optimization context already exists for the specified attributes, this command replaces it."),(0,n.kt)("p",null,"When you pass a context to the ORDA class functions, the REST request optimization is triggered immediately:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"the first entity is not fully loaded as done in automatic mode"),(0,n.kt)("li",{parentName:"ul"},"pages of 80 entities (or ",(0,n.kt)("inlineCode",{parentName:"li"},"pageLength")," entities) are immediately asked to the server with only the attributes in the context")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For more information on how optimization contexts are built, refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/ORDA/client-server-optimization#optimization-context"}),"client/server optimization paragraph"))),(0,n.kt)("p",null,"In ",(0,n.kt)("em",{parentName:"p"},"contextName"),", pass the name of the optimization context to link to the dataclass attributes."),(0,n.kt)("p",null,"To designate the dataclass that will receive the context, you can pass a ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," or a ",(0,n.kt)("em",{parentName:"p"},"dataClassObject"),"."),(0,n.kt)("p",null,"To designate the attributes to link to the context, pass either a list of attributes separated by a comma in ",(0,n.kt)("em",{parentName:"p"},"attributes")," (Text), or a collection of attribute names in ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," (collection of text)."),(0,n.kt)("p",null,"If ",(0,n.kt)("em",{parentName:"p"},"attributes")," is an empty Text, or ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," is an empty collection, all the scalar attributes of the dataclass are put in the optimization context. If you pass an attribute that does not exist in the dataclass, the function ignores it and an error is thrown."),(0,n.kt)("p",null,"You can pass a ",(0,n.kt)("em",{parentName:"p"},"contextType")," to  specify if the context is a standard context or the context of the current entity selection item displayed in a list box:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'If set to "main" (default), the ',(0,n.kt)("em",{parentName:"li"},"contextName")," designates a standard context."),(0,n.kt)("li",{parentName:"ul"},'If set to "currentItem", the attributes passed are put in the context of the current item.  See  ',(0,n.kt)("a",r({parentName:"li"},{href:"/docs/ORDA/datastores#entity-selection-based-list-box"}),"Entity selection-based list box"),".")),(0,n.kt)("p",null,"In ",(0,n.kt)("em",{parentName:"p"},"pageLength"),", specify the number of dataclass entities to request from the server."),(0,n.kt)("p",null,"You can pass a ",(0,n.kt)("em",{parentName:"p"},"pageLength")," for a relation attribute which is an entity selection (one to many). The syntax is ",(0,n.kt)("inlineCode",{parentName:"p"},"relationAttributeName:pageLength")," (e.g employees:20)."),(0,n.kt)("h4",r({},{id:"example-1-3"}),"Example 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $p : cs.PersonsEntity\nvar $contextA : Object\nvar $info : Object\nvar $text : Text\n\n// Open remote datastore\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n// Set context info\n$contextA:=New object("context"; "contextA")\n$ds.setRemoteContextInfo("contextA"; $ds.Persons; "firstname, lastname")\n\n// Send requests to the server using a loop\n$persons:=$ds.Persons.all($contextA)\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname + " " + $p.lastname\nEnd for each\n\n// Check contents of the context\n$info:=$ds.getRemoteContextInfo("contextA")\n// $info = {name:"contextA";dataclass:"Persons";main:"firstname, lastname"}\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"This example serves as a demonstration, it is not meant for real implementation.")),(0,n.kt)("h4",r({},{id:"example-2-3"}),"Example 2"),(0,n.kt)("p",null,"The following piece of code requests pages of 30 entities of the ",(0,n.kt)("inlineCode",{parentName:"p"},"Address")," dataclass from the server. The returned entities only contain the ",(0,n.kt)("inlineCode",{parentName:"p"},"zipCode")," attribute."),(0,n.kt)("p",null,"For each ",(0,n.kt)("inlineCode",{parentName:"p"},"Address")," entity, 20 Persons entities are returned, and they only contain the ",(0,n.kt)("inlineCode",{parentName:"p"},"lastname")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"firstname")," attributes:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$ds.setRemoteContextInfo("contextA"; $ds.Address; "zipCode, persons:20,\\\npersons.lastname, persons.firstname"; "main"; 30)\n')),(0,n.kt)("h4",r({},{id:"example-3---listbox"}),"Example 3 - Listbox"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'// When the form loads\nCase of\n    : (Form event code=On Load)\n\n        Form.ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n       // Set the attributes of the page context\n        Form.ds.setRemoteContextInfo("LB"; Form.ds.Persons; "age, gender,\\\n        children"; "currentItem")\n\n        Form.settings:=New object("context"; "LB")\n        Form.persons:=Form.ds.Persons.all(Form.settings)\n        // Form.persons is displayed in a list box\nEnd case\n\n// When you get the attributes in the context of the current item:\nForm.currentItemLearntAttributes:=Form.selectedPerson.getRemoteContextAttributes()\n// Form.currentItemLearntAttributes = "age, gender, children"\n')),(0,n.kt)("h4",r({},{id:"see-also-9"}),"See also"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",r({},{id:"startrequestlog"}),".startRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Server side support, new ",(0,n.kt)("inlineCode",{parentName:"td"},"options")," parameter")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"file")," : 4D.File )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"file")," : 4D.File ; ",(0,n.kt)("em",{parentName:"p"},"options")," : Integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"reqNum")," : Integer )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"file"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.File"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"File object")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Log response option (server only)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"reqNum"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number of requests to keep in memory (client only)")))),(0,n.kt)("h4",r({},{id:"description-19"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," function starts the logging of ORDA requests on the client side or on the server side. It is designed for debugging purposes in client/server configurations."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"For a description of the ORDA request log format, please refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/Debugging/debugLogFiles#orda-requests"}),(0,n.kt)("strong",{parentName:"a"},"ORDA requests"))," section.")),(0,n.kt)("h4",r({},{id:"client-side"}),"Client-side"),(0,n.kt)("p",null,"To create a client-side ORDA request log, call this function on a remote machine. The log can be sent to a file or to memory, depending on the parameter type:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"If you passed a ",(0,n.kt)("em",{parentName:"p"},"file")," object created with the ",(0,n.kt)("inlineCode",{parentName:"p"},"File")," command, the log data is written in this file as a collection of objects (JSON format). Each object represents a request.",(0,n.kt)("br",null),"If the file does not already exist, it is created. Otherwise if the file already exists, the new log data is appended to it.\nIf ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," is called with a file while a logging was previously started in memory, the memory log is stopped and emptied."),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"A ","]"," character must be manually appended at the end of the file to perform a JSON validation"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"If you passed a ",(0,n.kt)("em",{parentName:"p"},"reqNum")," integer, the log in memory is emptied (if any) and a new log is initialized. It will keep ",(0,n.kt)("em",{parentName:"p"},"reqNum")," requests in memory until the number is reached, in which case the oldest entries are emptied (FIFO stack).",(0,n.kt)("br",null),"If ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," is called with a ",(0,n.kt)("em",{parentName:"p"},"reqNum")," while a logging was previously started in a file, the file logging is stopped.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"If you did not pass any parameter, the log is started in memory. If ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," was previously called with a ",(0,n.kt)("em",{parentName:"p"},"reqNum")," (before a ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()"),"), the log data is stacked in memory until the next time the log is emptied or ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()")," is called."))),(0,n.kt)("h4",r({},{id:"server-side"}),"Server-side"),(0,n.kt)("p",null,"To create a server-side ORDA request log, call this function on the server machine. The log data is written in a file in ",(0,n.kt)("inlineCode",{parentName:"p"},".jsonl")," format. Each object represents a request. If the file does not already exist, it is created. Otherwise if the file already exists, the new log data is appended to it."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"If you passed the ",(0,n.kt)("em",{parentName:"li"},"file")," parameter, the log data is written in this file, at the requested location. - If you omit the ",(0,n.kt)("em",{parentName:"li"},"file")," parameter or if it is null, the log data is written in a file named ",(0,n.kt)("em",{parentName:"li"},"ordaRequests.jsonl"),' and stored in the "/LOGS" folder.'),(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("em",{parentName:"li"},"options")," parameter can be used to specify if the server response has to be logged, and if it should include the body. By default when the parameter is omitted, the full response is logged. The following constants can be used in this parameter:")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Constant"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"),(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"srl log all"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Log the response entirely (default value)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"srl log no response"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Disable the logging of the response"),(0,n.kt)("td",r({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"srl log response without body"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Log the response without the body"),(0,n.kt)("td",r({parentName:"tr"},{align:null}))))),(0,n.kt)("h4",r({},{id:"example-1-4"}),"Example 1"),(0,n.kt)("p",null,"You want to log ORDA client requests in a file and use the log sequence number:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $file : 4D.File\n var $e : cs.PersonsEntity\n\n $file:=File("/LOGS/ORDARequests.txt") //logs folder\n\n SET DATABASE PARAMETER(Client Log Recording;1) //to trigger the global log sequence number\n ds.startRequestLog($file)\n $e:=ds.Persons.get(30001) //send a request\n ds.stopRequestLog()\n SET DATABASE PARAMETER(Client Log Recording;0)\n')),(0,n.kt)("h4",r({},{id:"example-2-4"}),"Example 2"),(0,n.kt)("p",null,"You want to log ORDA client requests in memory:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $es : cs.PersonsSelection\n var $log : Collection\n\n ds.startRequestLog(3) //keep 3 requests in memory\n\n $es:=ds.Persons.query("name=:1";"Marie")\n $es:=ds.Persons.query("name IN :1";New collection("Marie"))\n $es:=ds.Persons.query("name=:1";"So@")\n\n $log:=ds.getRequestLog()\n ALERT("The longest request lasted: "+String($log.max("duration"))+" ms")\n')),(0,n.kt)("h4",r({},{id:"example-3-1"}),"Example 3"),(0,n.kt)("p",null,"You want to log ORDA server requests in a specific file and enable the log sequence number and duration:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'SET DATABASE PARAMETER(4D Server Log Recording;1)\n\n$file:=Folder(fk logs folder).file("myOrdaLog.jsonl")\nds.startRequestLog($file)\n...\nds.stopRequestLog()\nSET DATABASE PARAMETER(4D Server Log Recording;0)\n\n\n')),(0,n.kt)("h2",r({},{id:"starttransaction"}),".startTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".startTransaction()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Does not require any parameters")))),(0,n.kt)("h4",r({},{id:"description-20"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".startTransaction()")," function starts a transaction in the current process on the database matching the datastore to which it applies. Any changes made to the datastore's entities in the transaction's process are temporarily stored until the transaction is either validated or cancelled."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If this method is called on the main datastore (i.e. the datastore returned by the ",(0,n.kt)("inlineCode",{parentName:"p"},"ds")," command), the transaction is applied to all operations performed on the main datastore and on the underlying database, thus including ORDA and classic languages.")),(0,n.kt)("p",null,"You can nest several transactions (sub-transactions). Each transaction or sub-transaction must eventually be cancelled or validated. Note that if the main transaction is cancelled, all of its sub-transactions are also cancelled even if they were validated individually using the ",(0,n.kt)("inlineCode",{parentName:"p"},".validateTransaction()")," function."),(0,n.kt)("h4",r({},{id:"example-14"}),"Example"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connect; $status : Object\n var $person : cs.PersonsEntity\n var $ds : cs.DataStore\n var $choice : Text\n var $error : Boolean\n\n Case of\n    :($choice="local")\n       $ds:=ds\n    :($choice="remote")\n       $connect:=New object("hostname";"111.222.3.4:8044")\n       $ds:=Open datastore($connect;"myRemoteDS")\n End case\n\n $ds.startTransaction()\n $person:=$ds.Persons.query("lastname=:1";"Peters").first()\n\n If($person#Null)\n    $person.lastname:="Smith"\n    $status:=$person.save()\n End if\n ...\n ...\n If($error)\n    $ds.cancelTransaction()\n Else\n    $ds.validateTransaction()\n End if\n')),(0,n.kt)("h2",r({},{id:"stoprequestlog"}),".stopRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Server side support")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".stopRequestLog()"),"  "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Does not require any parameters")))),(0,n.kt)("h4",r({},{id:"description-21"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()")," function stops any logging of ORDA requests on the machine it is called (client or server)."),(0,n.kt)("p",null,"It actually closes the opened document on disk. On the client side, if the log was started in memory, it is stopped."),(0,n.kt)("p",null,"This function does nothing if logging of ORDA requests was not started on the machine."),(0,n.kt)("h4",r({},{id:"example-15"}),"Example"),(0,n.kt)("p",null,"See examples for ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("h2",r({},{id:"unlock"}),".unlock()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".unlock()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Does not require any parameters")))),(0,n.kt)("h4",r({},{id:"description-22"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," function removes the current lock on write operations in the datastore, if it has been set in the same process. Write operations can be locked in the local datastore using the ",(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".flushAndLock()"))," function."),(0,n.kt)("p",null,"If the current lock was the only lock on the datastore, write operations are immediately enabled. If the ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," function was called several times in the process, the same number of ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," must be called to actually unlock the datastore."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," function must be called from the process that called the corresponding ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()"),", otherwise the function does nothing and the lock is not removed."),(0,n.kt)("p",null,"If the ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," function is called in an unlocked datastore, it does nothing."),(0,n.kt)("h4",r({},{id:"see-also-10"}),"See also"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#locked"}),".locked()")),(0,n.kt)("h2",r({},{id:"validatetransaction"}),".validateTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"History"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Changes"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Added"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".validateTransaction()"),"  "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Parameter"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Does not require any parameters")))),(0,n.kt)("h4",r({},{id:"description-23"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".validateTransaction()")," function accepts the transaction that was started with ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," at the corresponding level on the specified datastore."),(0,n.kt)("p",null,"The function saves the changes to the data on the datastore that occurred during the transaction."),(0,n.kt)("p",null,"You can nest several transactions (sub-transactions). If the main transaction is cancelled, all of its sub-transactions are also cancelled, even if they were validated individually using this function."),(0,n.kt)("h4",r({},{id:"example-16"}),"Example"),(0,n.kt)("p",null,"See example for ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()")),"."))}u.isMDXComponent=!0}}]);