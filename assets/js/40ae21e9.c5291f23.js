"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["63648"],{256185:function(e,t,n){n.r(t),n.d(t,{default:()=>h,frontMatter:()=>i,metadata:()=>s,assets:()=>o,toc:()=>c,contentTitle:()=>d});var s=JSON.parse('{"id":"commands/http-parse-message","title":"HTTP Parse message","description":"HTTP Parse message ( data ObjectHTTP Parse message( data Object","source":"@site/versioned_docs/version-20-R7/commands/http-parse-message.md","sourceDirName":"commands","slug":"/commands/http-parse-message","permalink":"/docs/20-R7/commands/http-parse-message","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands%2Fhttp-parse-message.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"http-parse-message","title":"HTTP Parse message","slug":"/commands/http-parse-message","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"HTTP GET OPTION","permalink":"/docs/20-R7/commands/http-get-option"},"next":{"title":"HTTP Request","permalink":"/docs/20-R7/commands/http-request"}}'),r=n("785893"),a=n("250065");let i={id:"http-parse-message",title:"HTTP Parse message",slug:"/commands/http-parse-message",displayed_sidebar:"docs"},d=void 0,o={},c=[{value:"Description",id:"description",level:2},{value:"Example",id:"example",level:2},{value:"Properties",id:"properties",level:2}];function l(e){let t={admonition:"admonition",br:"br",code:"code",details:"details",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"HTTP Parse message"})," ( ",(0,r.jsx)(t.em,{children:"data"})," : Text ) : Object",(0,r.jsx)(t.br,{}),(0,r.jsx)(t.strong,{children:"HTTP Parse message"}),"( ",(0,r.jsx)(t.em,{children:"data"})," : Blob ) : Object"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"data"}),(0,r.jsx)(t.td,{children:"Text, Blob"}),(0,r.jsx)(t.td,{children:"\u2192"}),(0,r.jsx)(t.td,{children:"Data to be parsed"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Function result"}),(0,r.jsx)(t.td,{children:"Object"}),(0,r.jsx)(t.td,{children:"\u2190"}),(0,r.jsx)(t.td,{children:"Object, each property is a part of the multipart data"})]})]})]}),"\n",(0,r.jsxs)(t.details,{children:[(0,r.jsx)(t.summary,{children:"History"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Release"}),(0,r.jsx)(t.th,{children:"Changes"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"20 R4"}),(0,r.jsx)(t.td,{children:"Added"})]})})]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"HTTP Parse message"}),' command parses a multipart/form-data text or blob (HTTP "response" message) and extracts the content to an object. Each property of the returned object corresponds to a part of the multipart data.']}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsxs)(t.p,{children:['HTTP itself is a stateless communication protocol. Within this framework, clients initiate communication by sending "request" messages to servers, specifying details like method, target, headers, content, etc. Servers, in turn, respond with "response" messages that include the same details. ',(0,r.jsx)(t.code,{children:"HTTP Parse message"}),' parses either the "request" or the "response" message into a well-organized object.']})}),"\n",(0,r.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(t.p,{children:"In the following example, we parse the data from a text file containing HTTP requests."}),"\n",(0,r.jsx)(t.p,{children:"Here is the content of the file:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"POST /batch/gmail/v1/ HTTP/1.1\nAccept-Encoding: gzip, deflate\nAuthorization: Bearer xxxxxx\nConnection: Close\nContent-Length: 442\nContent-Type: multipart/mixed; boundary=batch_19438756D576A14ABA87C112F56B9396; charset=UTF-8\nDate: Wed, 29 Nov 2023 13:51:35 GMT\nHost: gmail.googleapis.com\nUser-Agent: 4D/20.4.0\n\n\n--batch_19438756D576A14ABA87C112F56B9396\nContent-Type: application/http\nContent-ID: <item1>\n\nGET https://gmail.googleapis.com/gmail/v1/users/me/messages/18c1b58689824c92?format=raw HTTP/1.1\n\n\n--batch_19438756D576A14ABA87C112F56B9396\nContent-Type: application/http\nContent-ID: <item2>\n\nGET https://gmail.googleapis.com/gmail/v1/users/me/messages/18c1b58642b28e2b?format=raw HTTP/1.1\n\n--batch_19438756D576A14ABA87C112F56B9396--\n"})}),"\n",(0,r.jsx)(t.p,{children:"To parse the file:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-4d",children:'var $message : Text:=File("/RESOURCES/HTTPrequest.txt").getText()\nvar $parsedMessage : Object:=HTTP Parse message($message)\n//$parsedMessage= {\n//headers:{"User-Agent":"4D/20.4.0",...},\n//parts:[{"contentType":"application/http","contentID":"item1",...}],\n//requestLine:"POST /batch/gmail/v1/ HTTP/1.1"\n//}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Command number"}),(0,r.jsx)(t.td,{children:"1824"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Thread safe"}),(0,r.jsx)(t.td,{children:"\u2717"})]})]})]})]})}function h(e={}){let{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},250065:function(e,t,n){n.d(t,{Z:function(){return d},a:function(){return i}});var s=n(667294);let r={},a=s.createContext(r);function i(e){let t=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);