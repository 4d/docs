"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[98796],{632064:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>i});var s=n(474848),o=n(28453);const r={id:"delete-selection",title:"DELETE SELECTION",slug:"/commands/delete-selection",displayed_sidebar:"docs"},l=void 0,d={id:"commands-legacy/delete-selection",title:"DELETE SELECTION",description:"DELETE SELECTION {( aTable )}",source:"@site/versioned_docs/version-20-R7/commands-legacy/delete-selection.md",sourceDirName:"commands-legacy",slug:"/commands/delete-selection",permalink:"/docs/commands/delete-selection",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fdelete-selection.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"delete-selection",title:"DELETE SELECTION",slug:"/commands/delete-selection",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"CREATE SELECTION FROM ARRAY",permalink:"/docs/commands/create-selection-from-array"},next:{title:"DISPLAY SELECTION",permalink:"/docs/commands/display-selection"}},c={},i=[{value:"Description",id:"description",level:4},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"See also",id:"see-also",level:4}];function a(e){const t={a:"a",br:"br",code:"code",em:"em",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"DELETE SELECTION"})," {( ",(0,s.jsx)(t.em,{children:"aTable"})," )}"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"aTable"}),(0,s.jsx)(t.td,{children:"Table"}),(0,s.jsx)(t.td,{children:"\u2192"}),(0,s.jsx)(t.td,{children:"Table for which to delete the current selection, or Default table, if omitted"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"DELETE SELECTION"})," deletes the current selection of records from ",(0,s.jsx)(t.em,{children:"aTable"}),". If the current selection is empty, ",(0,s.jsx)(t.strong,{children:"DELETE SELECTION"})," has no effect. After the records are deleted, the current selection is empty. Records that are deleted during a transaction are locked to other users and other processes until the transaction is validated or canceled."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Warning:"})," Deleting a selection of records is a permanent operation, and cannot be undone."]}),"\n",(0,s.jsxs)(t.p,{children:["Unchecking the ",(0,s.jsx)(t.strong,{children:"Records definitively deleted"})," option in the table Inspector allows you to increase the speed of deletions when ",(0,s.jsx)(t.strong,{children:"DELETE SELECTION"})," is used (see ",(0,s.jsx)(t.em,{children:"Records definitively deleted"})," in the ",(0,s.jsx)(t.em,{children:"Design Reference"})," manual)."]}),"\n",(0,s.jsx)(t.h4,{id:"example-1",children:"Example 1"}),"\n",(0,s.jsx)(t.p,{children:"The following example displays all the records from the [People] table and allows the user to select which ones to delete. The example has two sections. The first is a method to display the records. The second is an object method for a Delete button. Here is the first method:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-4d",children:'\xa0ALL RECORDS([People])\xa0// Select all records\n\xa0FORM SET OUTPUT([People];"Listing")\xa0// Set the form to list the records\n\xa0DISPLAY SELECTION([People])\xa0// Display all records\n'})}),"\n",(0,s.jsxs)(t.p,{children:["The following is the object method for the Delete button, which appears in the Footer area of the output form. The object method uses the records the user selected (the UserSet) to delete the selection. Note that if the user did not select any records, ",(0,s.jsx)(t.strong,{children:"DELETE SELECTION"})," has no effect."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-4d",children:'\xa0\xa0// Confirm that the user really wants to delete the records\n\xa0CONFIRM("You selected "+String(Records in set("UserSet"))+" people to delete."+Char(13)+"Click OK to delete them.")\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0USE SET("UserSet")\xa0// Use the records chosen by the user\n\xa0\xa0\xa0\xa0DELETE SELECTION([People])\xa0// Delete the selection of records\n\xa0End if\n\xa0ALL RECORDS([People])\xa0// Select all records\n'})}),"\n",(0,s.jsx)(t.h4,{id:"example-2",children:"Example 2"}),"\n",(0,s.jsxs)(t.p,{children:["If a locked record is encountered during the execution of ",(0,s.jsx)(t.strong,{children:"DELETE SELECTION"}),", that record is not deleted. Any locked records are put into a set called LockedSet. After ",(0,s.jsx)(t.strong,{children:"DELETE SELECTION"})," has executed, you can test the LockedSet to see if any records were locked. The following loop will execute until all the records have been deleted:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-4d",children:'\xa0Repeat\xa0// Repeat for any locked records\n\xa0\xa0\xa0\xa0DELETE SELECTION([ThisTable])\n\xa0\xa0\xa0\xa0If(Records in set("LockedSet")#0)\xa0// If there are locked records\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0USE SET("LockedSet")\xa0// Select only the locked records\n\xa0\xa0\xa0\xa0End if\n\xa0Until(Records in set("LockedSet")=0)\xa0// Until there are no more locked records\n'})}),"\n",(0,s.jsx)(t.h4,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"/docs/commands/display-selection",children:"DISPLAY SELECTION"}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.a,{href:"/docs/commands/modify-selection",children:"MODIFY SELECTION"}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.em,{children:"Record Locking"}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.em,{children:"Sets"}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.a,{href:"/docs/commands/truncate-table",children:"TRUNCATE TABLE"})]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>d});var s=n(296540);const o={},r=s.createContext(o);function l(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);