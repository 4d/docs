"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[15179],{895444:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>d,toc:()=>c});var r=t(474848),s=t(28453);const a={id:"dom-parse-xml-source",title:"DOM Parse XML source",slug:"/commands/dom-parse-xml-source",displayed_sidebar:"docs"},i=void 0,d={id:"commands-legacy/dom-parse-xml-source",title:"DOM Parse XML source",description:"DOM Parse XML source ( document {; validation {; dtd | schema}} ) -> Function result",source:"@site/versioned_docs/version-20-R7/commands-legacy/dom-parse-xml-source.md",sourceDirName:"commands-legacy",slug:"/commands/dom-parse-xml-source",permalink:"/docs/commands/dom-parse-xml-source",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fdom-parse-xml-source.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"dom-parse-xml-source",title:"DOM Parse XML source",slug:"/commands/dom-parse-xml-source",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"DOM Insert XML element",permalink:"/docs/commands/dom-insert-xml-element"},next:{title:"DOM Parse XML variable",permalink:"/docs/commands/dom-parse-xml-variable"}},o={},c=[{value:"Description",id:"description",level:4},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"Example 3",id:"example-3",level:4},{value:"Example 4",id:"example-4",level:4},{value:"System variables and sets",id:"system-variables-and-sets",level:4},{value:"See also",id:"see-also",level:4}];function l(e){const n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"DOM Parse XML source"})," ( ",(0,r.jsx)(n.em,{children:"document"})," {; ",(0,r.jsx)(n.em,{children:"validation"})," {; dtd | schema}} ) -> Function result"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"document"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Document pathname"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"validation"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"True = Validation False = No validation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"dtd | schema"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Location of the DTD or XML schema"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Function result"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Reference of XML element"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["The DOM Parse XML source command parses a document containing an XML structure and returns a reference for this document. The command can validate (or not) the document via a DTD or an XML schema (XML Schema Definition (XSD) document).",(0,r.jsx)(n.br,{}),"\nThe document can be located on the disk or on the Internet/Intranet."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," Execution of the ",(0,r.jsx)(n.strong,{children:"DOM Parse XML source"})," command is synchronous."]}),"\n",(0,r.jsxs)(n.p,{children:["In the ",(0,r.jsx)(n.em,{children:"document"})," parameter, you can pass:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"either a standard complete pathname (of the type C:\\\\Folder\\\\File\\\\... under Windows and MacintoshHD:Folder:File under Mac OS),"}),"\n",(0,r.jsx)(n.li,{children:"or a Unix path under Mac OS (which must start with /)."}),"\n",(0,r.jsxs)(n.li,{children:["or a network path of the type ",(0,r.jsx)(n.a,{href:"http://www.site.com/File",children:"http://www.site.com/File"})," or ftp://public.ftp.com..."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The Boolean parameter ",(0,r.jsx)(n.em,{children:"validation"})," indicates whether or not to validate the structure."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If ",(0,r.jsx)(n.em,{children:"validation"})," equals True, the structure is validated. In this case, the parser attempts to validate the XML structure of the document based either on the DTD or XSD reference included in the document, or via the DTD or XML schema designated by the third parameter when it is passed."]}),"\n",(0,r.jsxs)(n.li,{children:["If ",(0,r.jsx)(n.em,{children:"validation"})," equals False, the structure is not validated."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["If you pass True in ",(0,r.jsx)(n.em,{children:"validation"})," and omit the third parameter, the command attempts to validate the XML structure via a DTD or XSD reference found in the structure itself. Validation can be indirect: if the structure contains a reference to a DTD file that itself contains a reference to an XSD file, the command attempts to carry out both validations."]}),"\n",(0,r.jsx)(n.p,{children:"The third parameter indicates a specific DTD or an XML schema for document parsing. If you use this parameter, the command does not take the DTD referred to in the XML document into account."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Validation by DTD"}),(0,r.jsx)(n.br,{}),"\nThere are two ways to specify a DTD:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["As a reference. To do this, pass the complete pathname of the new DTD (\u201cdtd\u201d extension) in the ",(0,r.jsx)(n.em,{children:"dtd"})," parameter. If the document indicated does not contain a valid DTD, the ",(0,r.jsx)(n.em,{children:"dtd"})," parameter is ignored and an error is generated."]}),"\n",(0,r.jsx)(n.li,{children:"Directly in a text. In this case, if the contents of the parameter begin with \u201c<?xml\u201d, 4D will consider that it is the DTD; otherwise, 4D will consider it as a pathname."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Validation by schema"}),(0,r.jsx)(n.br,{}),"\nTo validate the document via an XML schema, you just need to pass a file or URL with an \u201cxsd\u201d extension instead of a \u201cdtd\u201d one in the third parameter. Validation by XML schema is considered to be more flexible and more powerful than validation by DTD. The language of XSD documents is based on XML language. More particularly, XML schemas support data types. For more information about XML schemas, please refer to the following address: ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.a,{href:"http://www.w3.org/XML/Schema",children:"http://www.w3.org/XML/Schema"})}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["If validation cannot be performed (no DTD or XSD, incorrect URL, etc.), an error is generated. The Error system variable indicates the error number. You can intercept this error using a method installed by the ",(0,r.jsx)(n.a,{href:"/docs/commands/on-err-call",children:"ON ERR CALL"})," command."]}),"\n",(0,r.jsx)(n.p,{children:"The command returns a 16-character string (ElementRef) making up the reference in the memory of the document virtual structure. This reference should be used with other XML parsing commands."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Important:"})," Once you no longer have any need for it, remember to call the ",(0,r.jsx)(n.a,{href:"/docs/commands/dom-close-xml",children:"DOM CLOSE XML"})," command with this reference in order to free up the memory."]}),"\n",(0,r.jsx)(n.h4,{id:"example-1",children:"Example 1"}),"\n",(0,r.jsx)(n.p,{children:"Opening an XML document located on disk, without validation:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0$xml_Struct_Ref:=DOM Parse XML source("C:\\\\import.xml")\n'})}),"\n",(0,r.jsx)(n.h4,{id:"example-2",children:"Example 2"}),"\n",(0,r.jsx)(n.p,{children:"Opening an XML document located next to the database structure file, without validation:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0$xml_Struct_Ref:=DOM Parse XML source("import.xml")\n'})}),"\n",(0,r.jsx)(n.h4,{id:"example-3",children:"Example 3"}),"\n",(0,r.jsx)(n.p,{children:"Opening an XML document located on disk and validation using a DTD on the disk:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0$xml_Struct_Ref:=DOM Parse XML source("C:\\\\import.xml";True;"C:\\\\import_dtd.xml")\n'})}),"\n",(0,r.jsx)(n.h4,{id:"example-4",children:"Example 4"}),"\n",(0,r.jsx)(n.p,{children:"Opening an XML document located at a specific URL, without validation:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0$xml_Struct_Ref:=DOM Parse XML source("http://www.4D.com/xml/import.xml")\n'})}),"\n",(0,r.jsx)(n.h4,{id:"system-variables-and-sets",children:"System variables and sets"}),"\n",(0,r.jsx)(n.p,{children:"If the command has been correctly executed, the system variable OK is set to 1. Otherwise, it is set to 0."}),"\n",(0,r.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/commands/dom-close-xml",children:"DOM CLOSE XML"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"/docs/commands/dom-parse-xml-variable",children:"DOM Parse XML variable"})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>d});var r=t(296540);const s={},a=r.createContext(s);function i(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);