---
id: http-set-option
title: HTTP SET OPTION
slug: /commands/http-set-option
displayed_sidebar: docs
---

<!--REF #_command_.HTTP SET OPTION.Syntax-->**HTTP SET OPTION** ( *option* ; *value* )<!-- END REF-->
<!--REF #_command_.HTTP SET OPTION.Params-->
| 引数 | 型 |  | 説明 |
| --- | --- | --- | --- |
| option | Integer | &#8594;  | 設定するオプションのコード |
| value | Integer | &#8594;  | オプションの値 |

<!-- END REF-->

:::info 互換性

このコマンドは互換性のためだけに維持されています。現在は [`4D.HTTPRequest クラス`](../API/HTTPRequestClass.md) を使用することが推奨されています。

:::

#### 説明 

<!--REF #_command_.HTTP SET OPTION.Summary-->**HTTP SET OPTION**コマンドは ([HTTP Get](http-get.md)や[HTTP Request](http-request.md)コマンドで実行される次のリクエストでクライアントにより使用される) HTTPオプションの値を設定します。<!-- END REF-->設定するオプションの数だけこのコマンドを呼び出します。

**注:** 設定されるオプションはカレントプロセスに対し有効です。コンポーネントの場合そのコンポーネント内で有効です。

*option* 引数には設定するオプションの番号を、*value* 引数にはオプションの新しい値を渡します。*option* 引数には*HTTP Client*テーマの以下の定義済み変数のいずれかを指定できます:

| 定数                       | 型    | 値 | コメント                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------------------------ | ---- | - | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| HTTP client log          | 倍長整数 | 7 | *value* \= 以下の定数のいづれか一つ: HTTP disable log: HTTP クライアントデバッグログは無効化されています(デフォルト) HTTP enable log with all body parts: HTTP クライアントデバッグログはレスポンスとリクエストの本文部分で有効化されています HTTP enable log with request body: HTTP クライアントデバッグログはリクエストにおいてのみ本文部分で有効化されています HTTP enable log with response body: HTTP クライアントデバッグログはレスポンスにおいてのみ本文部分で有効化されています HTTP enable log without body: HTTP クライアントデバッグログは本文部分以外において有効化されています(この場合本文サイズが提供されます) これを使用するとHTTP クライアントリクエストログファイルのステータスを取得あるいは設定することができます。この機能が有効化された場合アプリケーションの"Logs" フォルダ内に"4DHTTPClientLog\_nn.txt" という名前のファイルが保存されます(nn はファイル番号です)。これはHTTP クライアントリクエストに関連した問題をデバッグするのに有用です。ここには各リクエストと各レスポンスがrawモードで記録されます。ヘッダーを含めてリクエスト全体が記録されます。またオプションとして本文部分を記録することができます。詳細な情報については、*ログファイルの詳細* の章を参照してください。 |
| HTTP compression         | 倍長整数 | 6 | 値 = 0 (圧縮しない) または 1 (圧縮する)。デフォルト値: 0<br/>このオプションを使用して、クライアント/サーバー間通信を効率化するための圧縮メカニズムの有効/無効を切り替えることができます。このメカニズムが有効になっていると、HTTPクライアントはサーバーのレスポンスに応じてdeflateまたはgzip圧縮を使用します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| HTTP display auth dial   | 倍長整数 | 4 | 値 = 0 (ダイアログボックスを表示しない) または 1 (ダイアログボックスを表示する)。デフォルト値: 0<br/>このオプションを使用して、[HTTP Get](http-get.md)や[HTTP Request](http-request.md)を実行した際に認証ダイアログボックスを表示するかどうかを指定できます。デフォルトで認証ダイアログボックスは表示されず、[HTTP AUTHENTICATE](http-authenticate.md)コマンドを使用して認証を行います。しかし認証ダイアログを表示してユーザーに認証IDを入力させたい場合、valueに1を渡します。ダイアログボックスは認証が必要な場合のみ表示されます。                                                                                                                                                                                                                                                                                                                                                                                               |
| HTTP follow redirect     | 倍長整数 | 2 | 値 = 0 (リダイレクトを許可しない) または 1 (リダイレクトを許可する)<br/>デフォルト値 = 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| HTTP max redirect        | 倍長整数 | 3 | *値* \= 受け入れるリダイレクト数の最大値<br/>デフォルト値 = 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| HTTP reset auth settings | 倍長整数 | 5 | 値 = 0 (情報を削除しない) または 1 (情報を削除する)。デフォルト値: 0<br/>このオプションを使用して4Dに、各[HTTP Get](http-get.md)や[HTTP Request](http-request.md)コマンド実行毎に、ユーザーの認証情報 (ユーザー名、パスワード、認証メソッド) をリセットするよう指示できます。デフォルトでこれらの情報は保持され、各リクエストで再利用されます。value に1を渡すとコマンド実行毎にこれらの情報は削除されます。この設定に関わらず、これらの情報はプロセスが終了すると削除されます。                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| HTTP timeout             | 倍長整数 | 1 | 値 = クライアントリクエストのタイムアウト (秒単位)。このタイムアウトはサーバーからのレスポンスを何秒待つかを指定します。タイムアウト時間を経過するとクライアントはセッションを閉じ、リクエストは失われます。<br/>デフォルトでタイムアウトは120秒に設定されています。ネットワークの状態やリクエストの特性に応じてこの値を変更できます。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

オプションはどのような順番で設定してもかまいません。おなじオプションを複数回設定した場合、最後に設定された値が使用されます。

#### 参照 

[HTTP AUTHENTICATE](http-authenticate.md)  
[HTTP GET OPTION](http-get-option.md)  

#### プロパティ

|  |  |
| --- | --- |
| コマンド番号 | 1160 |
| スレッドセーフである | &check; |


