---
id: markers
title: Markers
---


これらのプロパティを使用して、**テーブルフォーム** の縦ルーラー上でのマーカーの位置を精密に指定することができます。 マーカーは主に出力フォームで使用されます。 マーカーはリストされる情報を制御し、ヘッダーやブレーク、詳細、フッターを設定します。 各エリア内に配置されたオブジェクトは、対応する場所に表示や印刷されます。

フォームが出力フォームとして使用されるときは、画面用であれ印刷用であれ、マーカー設定が考慮されて各エリアが指定された場所に表示/印刷されます。 また、サブフォームエリア内のリストフォームとしてフォームが使用される場合も出力マーカーは有効です。 ただし、フォームが入力フォームとして使用される場合、マーカー設定は無視されます。

これらのエリアに配置されたオブジェクトに割り当てられたメソッドは、適切なイベントが有効にされていれば、エリアが表示/印刷されるときに実行されます。 たとえば、ヘッダーエリアに配置されたオブジェクトのメソッドは `On Header` イベントで実行されます。

---

## フォームブレーク

フォームブレークエリアはレコードリストの下に一回だけ表示あるいは印刷されます。

ブレークエリアは詳細マーカー (D) とブレークマーカー (B0) の間です。 レポートに [複数のブレークエリア](#追加マーカーの作成)を追加することもできます。

ブレークエリアの大きさは変更することができます。 レコードデータではない情報 (説明や日付、時刻など) のほか、線やその他のグラフィック要素を表示するためにブレークエリアを使用できます。 印刷レポートでは、小計などのサマリ計算をおこなって印刷するために使用できます。

#### JSON 文法

| 名称          | データタイプ                            | とりうる値                                                             |
| ----------- | --------------------------------- | ----------------------------------------------------------------- |
| markerBreak | integer &#x7c; integer collection | ブレークマーカーの位置 (ピクセル単位)、またはブレークマーカー位置のコレクションを指定します。<br/>最小値: 0 |

---

## フォーム詳細

フォーム詳細エリアは、レポート中のレコード毎に画面に表示されたり印刷されたりします。 詳細エリアはヘッダーマーカー (H) と詳細マーカー (D) の間です。

詳細エリアの大きさは変更することができます。 詳細エリアに配置したオブジェクトはレコード毎に表示または印刷されます。 主にフィールドや変数を配置して、各レコードの情報を表示/印刷しますが、他のオブジェクトを配置することもできます。

#### JSON 文法

| 名称         | データタイプ  | とりうる値             |
| ---------- | ------- | ----------------- |
| markerBody | integer | 詳細マーカーの位置。 最小値: 0 |

---

## フォームフッター

フォームフッターエリアは、画面ではレコードリストの下の表示されます。 印刷レポートの場合は、各ページの一番下に印刷されます。 フッターエリアはブレークマーカー (B0) とフッターマーカー (F) の間です。 フッターエリアの大きさは変更することができます。

フッターエリアの大きさは変更することができます。

フッターエリアを使用して画像、ページ番号、日付、また各ページの下部に配置したいテキストを何でも印刷できます。 通常、画面表示用の出力フォームでは、フッターエリアに検索や並べ替え、印刷などをおこなうためのボタンを配置します。 すべてのアクティブオブジェクトを配置できます。

#### JSON 文法

| 名称           | データタイプ  | とりうる値  |
| ------------ | ------- | ------ |
| markerFooter | integer | 最小値: 0 |

---

## フォームヘッダー

フォームヘッダーエリアは画面の一番上に表示され、また印刷時には各ページの一番上に印刷されます。 ヘッダーエリアはフォームの一番上からヘッダーマーカー (H) までの間です。

ヘッダーエリアの大きさは変更することができます。 ヘッダーエリアには列のタイトル、フォームの説明、その他の情報、会社ロゴなどの画像を配置します。

サブフォームとして表示される出力フォーム、あるいは `DISPLAY SELECTION` や `MODIFY SELECTION` コマンドを使用して表示される出力フォームのヘッダーエリアにアクティブオブジェクトを配置して使用することもできます。 以下のようなアクティブオブジェクトを配置できます:

- ボタン、ピクチャーボタン
- コンボボックス、ドロップダウンリスト、ピクチャーポップアップメニュー
- 階層リスト、リストボックス
- ラジオボタン、チェックボックス、3Dチェックボックス
- 進捗インジケーター、ルーラー、ステッパー、スピナー

`addSubrecord` (サブレコード追加) や `cancel`、`automaticSplitter` (自動スプリッター) などの標準アクションをボタンに割り当てることができます。 ヘッダーエリアに配置したアクティブオブジェクトでは以下のイベントを使用できます: `On Load`, `On Clicked`, `On Header`, `On Printing Footer`, `On Double Clicked`, `On Drop`, `On Drag Over`, `On Unload`。 フォームメソッドが `On Header` イベントで呼び出されるのは、エリアのオブジェクトメソッドが呼び出された後になります。

フォームには、[追加のヘッダーエリア](#追加マーカーの作成) を作成し、追加ブレークと関連づけることができます。 レベル1ヘッダーは、最初のソートフィールドによりグループ化されたレコードが印刷される直前に印刷されます。

#### JSON 文法

| 名称           | データタイプ                            | とりうる値                                                              |
| ------------ | --------------------------------- | ------------------------------------------------------------------ |
| markerHeader | integer &#x7c; integer collection | ヘッダーマーカーの位置 (ピクセル単位)、またはヘッダーマーカー位置のコレクションを指定します。 <br/>最小値: 0 |

---

## 追加マーカーの作成

レポート用に追加のブレークエリアやヘッダーエリアを作成できます。 これらの追加されたエリアを使用して、小計などの計算結果をレポートに印刷したり、その他の情報を効果的に表示することができます。

追加エリアは、[フォームブレーク](#フォームブレーク) と [フォームヘッダー](#フォームヘッダー) のプロパティにマーカー位置のコレクションを指定すると定義されます。

> 4Dフォームエディターでは、**Alt**キーを押しながら適切なコントロールマーカーをクリックして、追加のコントロールラインを作成します。

レベル1のブレークは一番目のソートフィールドでグループ化されたレコードが印刷された後に発生します。

ブレークレベル0 は、レポート対象の全レコードが印刷された後に実行されます。 追加のブレークマーカーはそれぞれ "ブレークレベル1"、"ブレークレベル2" などと呼ばれます。

レベル1のブレークは一番目のソートフィールドでグループ化されたレコードが印刷された後に発生します。

| ラベル | 説明       | 実行タイミング         |
| --- | -------- | --------------- |
| B1  | ブレークレベル1 | 一番目のソートフィールド印刷後 |
| B2  | ブレークレベル2 | 二番目のソートフィールド印刷後 |
| B3  | ブレークレベル3 | 三番目のソートフィールド印刷後 |

追加のヘッダーはブレークに関連付けられます。 レベル1ヘッダーは、最初のソートフィールドによりグループ化されたレコードが印刷される直前に印刷されます。

| ラベル | 説明       | 実行タイミング         |
| --- | -------- | --------------- |
| H1  | ヘッダーレベル1 | 一番目のソートフィールド印刷後 |
| H2  | ヘッダーレベル2 | 二番目のソートフィールド印刷後 |
| H3  | ヘッダーレベル3 | 三番目のソートフィールド印刷後 |

ブレーク処理を開始するために `Subtotal` コマンドを使用する場合、ソート順に従って作成されるすべてのブレークレベル数から 1 マイナスした数のブレークエリアを作成すべきです。 ブレークエリアに何も印刷する必要がない場合、マーカーを移動してその高さを 0 にします。 ブレークエリアの数よりも多いフィールド数でソートすると、印刷時に最後のブレークエリアが繰り返されます。
