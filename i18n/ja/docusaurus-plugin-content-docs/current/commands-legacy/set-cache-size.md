---
id: set-cache-size
title: SET CACHE SIZE
slug: /commands/set-cache-size
displayed_sidebar: docs
---

<!--REF #_command_.SET CACHE SIZE.Syntax-->**SET CACHE SIZE** ( *size* {; *minFreeSize*} )<!-- END REF-->
<!--REF #_command_.SET CACHE SIZE.Params-->
| 引数 | 型 |  | 説明 |
| --- | --- | --- | --- |
| size | Real | &#8594;  | データベースキャッシュのサイズ(バイト単位) |
| minFreeSize | Real | &#8594;  | キャッシュが一杯になった際に解放する最小バイト数 |

<!-- END REF-->

#### 説明 

<!--REF #_command_.SET CACHE SIZE.Summary-->**SET CACHE SIZE**コマンドは、データベースキャッシュのサイズを動的に設定し、またオプションとして、メモリを解放する際の最小バイト数を設定します。<!-- END REF-->

**注:** このコマンドはローカルモード(4D Serverおよび4D)用です。リモートモードの4Dでは使用できません。

*size*引数には、データベースの新しいキャッシュサイズをバイト単位で指定します。新しいサイズは、コマンドが実行された際に動的に適用されます。

引数には、エンジンが新しいオブジェクトを割り当てるときにデータベースキャッシュから解放する最小のメモリサイズ(バイト単位の値)を渡します。このオプションの目的は、データがキャッシュから解放される回数を減らすことによって、よりよいパフォーマンスを維持することです。  
デフォルトではこのオプションは使用されていませんが、4Dはスペースが必要になった際には少なくとも10%のキャッシュを解放しています。お使いのデータベースが大きなキャッシュで動作している場合、総キャッシュサイズに対する割合ではなく、絶対値で解放するメモリサイズを指定することが有益である可能性もあります。このときデータベースで管理されているデータブロックのサイズに応じて設定を調整することができます。

#### 例題 

カレントデータベースのキャッシュサイズに100MBを追加したい場合を考えます。以下のように書くことができます:

```4d
 var $currentCache : Real
 $currentCache:=Get cache size
  // カレントキャッシュサイズが、例えば 419430400 だったとします
 SET CACHE SIZE($currentCache+100000000)
  // キャッシュサイズは 519430400 になりました
```

#### 参照 

[Get cache size](get-cache-size.md)  