---
id: listbox-collapse
title: LISTBOX COLLAPSE
slug: /commands/listbox-collapse
displayed_sidebar: docs
---

<!--REF #_command_.LISTBOX COLLAPSE.Syntax-->**LISTBOX COLLAPSE** ( {* ;} *object* {; *recursive* {; *selector* {; *line* {; *column*}}}} )<!-- END REF-->
<!--REF #_command_.LISTBOX COLLAPSE.Params-->
| 引数 | 型 |  | 説明 |
| --- | --- | --- | --- |
| * | 演算子 | &#8594;  | 指定時、objectはオブジェクト名 (文字列)<br/>省略時、objectは変数 |
| object | any | &#8594;  | オブジェクト名 (* 指定時) または <br/>変数 (* 省略時) |
| recursive | Boolean | &#8594;  | True = サブレベルを折りたたむ<br/>False = サブレベルを折りたたまない |
| selector | Integer | &#8594;  | 折りたたむリストボックスのパーツ |
| line | Integer | &#8594;  | 折り畳むブレーク行の番号、または折り畳むリストボックスレベルの番号 |
| column | Integer | &#8594;  | 折り畳むブレーク列の番号 |

<!-- END REF-->

*このコマンドはスレッドセーフではないため、プリエンプティブなコードには使えません。*


#### 説明 

<!--REF #_command_.LISTBOX COLLAPSE.Summary-->LISTBOX COLLAPSE コマンドを使用して *object*と*\** で指定したリストボックスのブレーク行を折りたたみます。<!-- END REF-->

オプションの*\** 引数を渡した場合、*object*引数はオブジェクト名 (文字列) です。この引数を渡さない場合*object*は変数です。この場合、文字列ではなく変数参照を渡します。

リストボックスが階層モードとして設定されていない場合、コマンドはなにも行いません。階層リストボックスに関する詳細は*階層リストボックス*を参照してください。

オプションの*recursive*引数を使用してリストボックスの階層サブレベルの折りたたみを指定できます。Trueを渡すか省略すると、すべてのレベルおよびすべてのサブレベルが折りたたまれます。Falseを渡すと一番目のレベルのみが折りたたまれます。

オプションの*selector*引数を使用して、コマンドのスコープを指定できます。この引数にはテーマの以下の定数のいずれかを渡すことができます:

| 定数           | 型    | 値 | コメント                                                                                                                                             |
| ------------ | ---- | - | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| lk all       | 倍長整数 | 0 | コマンドはすべてのサブレベルに作用します (引数省略時のデフォルト値)。                                                                                                             |
| lk selection | 倍長整数 | 1 | コマンドは選択されたサブレベルに作用します。                                                                                                                           |
| lk break row | 倍長整数 | 2 | コマンドは*row* と *column*引数で指定された"セル"に属するサブレベルに作用します。これらの引数は標準モードのリストボックスの行および列番号を表すことに留意してください。階層表現ではありません。*row* と *column* 引数が省略されると、コマンドは何も行いません。 |
| lk level     | 倍長整数 | 3 | コマンドは*level*列に対応するすべてのブレーク行に作用します。この引数は標準モードのリストボックスの列番号を指定し、階層表現を考慮しません。*level*引数が省略されると、コマンドはなにも行いません。                                         |

選択あるいはリストボックスがブレーク行を含んでいないか、すべてのブレーク行がすでに折りたたまれている場合、コマンドはなにも行いません。

#### 例題 

この例はリストボックス中、選択されたブレーク行の第一レベルを折りたたみます:

```4d
 LISTBOX COLLAPSE(*;"MyListbox";False;lk selection)
```

#### 参照 

[LISTBOX EXPAND](listbox-expand.md)  