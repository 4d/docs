---
id: c-variant
title: C_VARIANT
slug: /commands/c-variant
displayed_sidebar: docs
---

<!--REF #_command_.C_VARIANT.Syntax-->**C_VARIANT** ( {*method* ;} *variable* {; *variable2* ; ... ; *variableN*} )<!-- END REF-->
<!--REF #_command_.C_VARIANT.Params-->
| 引数 | 型 |  | 説明 |
| --- | --- | --- | --- |
| method | メソッド | &#x1F852; | メソッド名(オプション) |
| variable | 変数 | &#x1F852; | 宣言する変数の名前 |

<!-- END REF-->

#### 説明 

<!--REF #_command_.C_VARIANT.Summary-->**C\_VARIANT** は指定された変数をバリアント型変数としてキャストします。<!-- END REF-->バリアント型変数には、以下の4D データ型のどれでも格納することができます: BLOB、ブール、コレクション、日付、倍長整数、オブジェクト、ピクチャー、ポインター、テキスト、時間、Null、Undefined

このコマンドの、任意の*method* 引数を渡さない第1形式は、任意のローカル、プロセス、インタープロセス変数を宣言するために使用されます。  

**注:** この形式はインタープリタモード、コンパイルモード、どちらのモードのデータベースにおいても使用することができます。

このコマンドの、任意の*method* 引数を渡す第2形式は、メソッドにおいて結果または引数($0、$1、$2など)をコンパイラに事前に宣言するために使用されます。コマンドのこの形式を使用することでデータベースのコンパイル時に変数のコンパイルフェースをスキップすることができ、結果的にコンパイル時間を短縮することができます。

**警告**: 型固定の変数に比べてバリアント型の変数を使用した場合、パフォーマンスが落ちる可能性があります。

##### 上級者向け用法 

**C\_VARIANT**(${...}) のシンタックスを使用すると、同じ型の不定数の引数を宣言することができます。ただしこれらの引数はメソッドの最後の引数でなければなりません。例えば、**C\_VARIANT**(${5}) という宣言は、4D とコンパイラに対して、5番目の引数以降、メソッドはその型の引数を不定数受け付けることができることを伝えます。詳細な情報については、*引数の間接参照* の章を参照してください。

#### 例題 

バリアント型の変数を検証して型指定したい場合を考えます:

```4d
 C_VARIANT($var)
 C_LONGINT($vt)
 $var:="test"
 $vt:=Type($var) //$vt="Is variant"
 $vt:=Value type($var) //$vt="Is text"
```
