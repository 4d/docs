---
id: http-set-option
title: HTTP SET OPTION
slug: /commands/http-set-option
displayed_sidebar: docs
---

<!--REF #_command_.HTTP SET OPTION.Syntax-->**HTTP SET OPTION** ( *option* ; *valeur* )<!-- END REF-->
<!--REF #_command_.HTTP SET OPTION.Params-->
| Paramètre | Type |  | Description |
| --- | --- | --- | --- |
| option | Integer | &#8594;  | Code de l’option à fixer |
| valeur | Integer | &#8594;  | Valeur de l’option |

<!-- END REF-->

:::info Compatibilité

Cette commande est maintenue pour des raisons de compatibilité uniquement. Il est maintenant recommandé d'utiliser la classe [`4D.HTTPRequest`](../API/HTTPRequestClass.md).

:::

#### Description 

<!--REF #_command_.HTTP SET OPTION.Summary-->La commande **HTTP SET OPTION** permet de définir différentes options qui seront utilisées lors de la prochaine requête HTTP déclenchée par les commandes [HTTP Get](http-get.md) ou [HTTP Request](http-request.md).<!-- END REF--> Vous pouvez appeler cette commande autant de fois qu’il y a d’options à fixer. 

**Note :** Les options définies sont locales au process courant. Dans le cadre d’un composant, elles sont locales au composant en cours d’exécution. 

Passez dans le paramètre *option* le numéro de l’option à définir et dans le paramètre valeur la nouvelle *valeur* de l’option. Vous pouvez utiliser pour le paramètre *option* une des constantes prédéfinies suivantes, placées dans le thème *Client HTTP* :

| Constante                | Type        | Valeur | Comment                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ------------------------ | ----------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| HTTP client log          | Entier long | 7      | *valeur*\= une des constantes suivantes : HTTP désactiver log: Le journal des requêtes du client HTTP est désactivé (défaut) HTTP activer log avec tous body: Le journal des requêtes du client HTTP est activé avec tous les body de la réponse et de la requête. HTTP activer log avec body request: Le journal des requêtes du client HTTP est activé avec uniquement le body de la requête HTTP activer log avec body response: Le journal des requêtes du client HTTP est activé avec uniquement le body de la réponse HTTP activer log sans body: Le journal des requêtes du client HTTP est activé sans body (la taille du body est fournie dans ce cas) Permet d'obtenir ou de définir l'état du fichier journal des requêtes du client HTTP. Lorsqu'il est activé, ce fichier, nommé "4DHTTPClientLog\_nn.txt", est stocké dans le dossier "Logs" de l'application (nn est le numéro du fichier). Il est utile pour déboguer les problèmes liés aux requêtes du client HTTP. Il enregistre chaque requête et chaque réponse en mode brut. Les requêtes entières, y compris les en-têtes, sont enregistrées ; en option, les parties du body peuvent également être enregistrées. Pour plus d'informations, veuillez vous reporter à la section *Description des logs*. |
| HTTP compression         | Entier long | 6      | *valeur* \= 0 (ne pas compresser) ou 1 (compresser). Par défaut : 0<br/>Cette option permet d’activer ou d’activer le mécanisme de compression des requêtes entre le client et le serveur, destiné à accélérer les échanges. Lorsque ce mécanisme est activé, le client HTTP utilise la compression deflate ou GZIP en fonction de la réponse du serveur.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| HTTP display auth dial   | Entier long | 4      | *valeur* \= 0 (ne pas afficher le dialogue) ou 1 (afficher le dialogue). Par défaut : 0<br/>Cette option gère l’affichage de boîte de dialogue d’authentification lors de l’exécution de la commande [HTTP Get](http-get.md) ou [HTTP Request](http-request.md). Par défaut, cette commande ne provoque jamais l'affichage de la boîte de dialogue, vous devez en principe utiliser la commande [HTTP AUTHENTICATE](http-authenticate.md). Toutefois, si vous souhaitez qu’une boîte de dialogue d’authentification apparaisse pour que l’utilisateur saisisse ses identifiants, passez 1 dans valeur. La boîte de dialogue n’apparaît que si la requête requiert une authentification.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| HTTP follow redirect     | Entier long | 2      | *valeur* \= 0 (ne pas accepter les redirections) ou 1 (accepter les redirections). <br/> Valeur par défaut = 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| HTTP max redirect        | Entier long | 3      | *valeur* \= nombre maximum de redirections acceptées<br/> Valeur par défaut = 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| HTTP reset auth settings | Entier long | 5      | *valeur* \= 0 (ne pas effacer les informations) ou 1 (les effacer). Par défaut : 0<br/>Cette option permet d’indiquer à 4D de réinitialiser les informations d'authentification de l’utilisateur (nom d'utilisateur, mot de passe, méthode) après chaque exécution d’une commande [HTTP Get](http-get.md) ou [HTTP Request](http-request.md) dans un même process. Par défaut, ces informations sont conservées et réutilisées à chaque requête. Passez 1 dans *valeur* pour les effacer après chaque appel. A noter que quel que soit le paramétrage, les informations sont effacées lorsque le process est détruit.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| HTTP timeout             | Entier long | 1      | *valeur* \= timeout de la requête cliente, exprimé en secondes. Le timeout est le délai d’attente du client HTTP en cas de non-réponse du serveur. A l’issue de ce délai, le client referme la session, la requête est perdue.<br/> Par défaut, ce délai est de 120 secondes. Il peut être modifié en raison de caractéristiques particulières (état du réseau, spécificités de la requête, etc.).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

L’ordre d’appel des options n’a pas d’importance. Si une même option est définie plusieurs fois, seule la valeur du dernier appel est prise en compte.

#### Voir aussi 

[HTTP AUTHENTICATE](http-authenticate.md)  
[HTTP GET OPTION](http-get-option.md)  

#### Propriétés

|  |  |
| --- | --- |
| Numéro de commande | 1160 |
| Thread safe | &check; |


