---
id: compatibility
title: Page de compatibilité
---

La page Compatibilité regroupe les paramètres relatifs au maintien de la compatibilité avec les versions précédentes de 4D.

> ainsi que des paramétrages modifiés dans ce(tte) base/projet.   
> Cette page liste les options de compatibilité disponibles pour les bases/projets converti(e) s depuis 4D v18 et les versions plus récentes. Pour les options de compatibilité plus anciennes, consultez la [page Compatibilité](https://doc.4d.com/4Dv19R3/4D/19-R3/Compatibility-page.300-5612610.en.html) sur **doc.4d.com**.

- **Utiliser l'ancienne couche réseau** : à compter de 4D v15, les applications 4D proposent une nouvelle couche réseau, nommée *ServerNet*, pour gérer les communications entre 4D Server et les postes 4D distants (clients). L'ancienne couche réseau devient obsolète, mais est conservée pour assurer la compatibilité des bases existantes. A l'aide de cette option, vous pouvez activer ou désactiver à tout moment l'ancienne couche réseau dans vos applications 4D Server en fonction de vos besoins. *ServerNet* est automatiquement activé dans les nouvelles bases et les bases converties depuis les versions 15 et les versions plus récentes. A noter qu'en cas de modification de l'option, vous devez redémarrer l'application pour que le changement soit pris en compte. Toute application cliente qui était connectée doit également être redémarrée afin de se connecter avec la nouvelle couche réseau. **Note :** Cette option peut également être gérée par programmation via la commande `SET DATABASE PARAMETER`.

- **Utiliser XPath standard** : Par défaut, cette option est décochée pour les bases converties à partir d'une version 4D antérieure à la v18 R3 et est cochée pour les bases créées sous une version 4D v18 R3 ou une version plus récente. A partir de v18 R3, l'implémentation de XPath dans 4D a été modifiée pour une meilleure conformité et pour la prise en charge d'un plus grand nombre de prédicats. Par conséquent, les fonctionnalités non standard de l'implémentation antérieure ne fonctionnent plus. Elles incluent :
    * le caractère "/" initial n'est pas seulement le noeud racine - l'utilisation du caractère / comme premier caractère d'une expression XPath ne déclare pas un chemin absolu à partir du noeud racine
    * pas de noeud courant implicite - le noeud courant doit être intégré dans l'expression XPath
    * pas de requêtes récursives dans les structures répétées - seul le premier élément est parsé. \

    Même si ces fonctionnalités ne sont pas standard, vous pouvez continuer de les utiliser afin que votre code continue de fonctionner -- dans ce cas, l'option doit simplement être *décochée*. On the other hand, if your code does not rely on the non-standard implementation and if you want to benefit from the extended XPath features in your databases (as described in the [`DOM Find XML element`](https://doc.4d.com/4dv20/help/command/en/page864.html) command), make sure the **Use standard XPath** option is *checked*.

-   **Utiliser LF comme caractère de fin de ligne sur macOS** : À partir de 4D v19 R2 (et 4D v19 R3 pour les fichiers XML), 4D écrit des fichiers texte avec un saut de ligne ( "line feed" (LF)) comme caractère de fin de ligne ("End Of Line" (EOL)) par défaut au lieu de Retour Chariot ("Carriage Return" CR)) sur macOS dans les nouveaux projets. Si vous souhaitez bénéficier de ce nouveau comportement dans les projets convertis à partir de versions antérieures de 4D, cochez cette option. See [`TEXT TO DOCUMENT`](https://doc.4d.com/4dv20/help/command/en/page1237.html), [`Document to text`](https://doc.4d.com/4dv19R/help/command/en/page1236.html), and [XML SET OPTIONS](https://doc.4d.com/4dv20/help/command/en/page1090.html).

-   **Ne pas ajouter de BOM lors de l'écriture d'un fichier texte unicode par défaut** : À partir de 4D v19 R2 (et 4D v19 R3 pour les fichiers XML), 4D écrit des fichiers texte sans BOM ("Byte order mark") par défaut. Dans les versions antérieures, les fichiers texte étaient écrits avec un BOM par défaut. Sélectionnez cette option si vous souhaitez activer le nouveau comportement dans les projets convertis. See [`TEXT TO DOCUMENT`](https://doc.4d.com/4dv20/help/command/en/page1237.html), [`Document to text`](https://doc.4d.com/4dv20/help/command/en/page1236.html), and [XML SET OPTIONS](https://doc.4d.com/4dv20/help/command/en/page1090.html).

- **Map NULL values to blank values unchecked by default a field creation**: Pour une meilleure conformité avec les spécifications ORDA, dans les bases de données créées avec 4D v19 R4 et avec des versions plus récentes, la propriété du champ **Map NULL values to blank values** n'est pas cochée par défaut lorsque vous créez des champs. Vous pouvez appliquer ce comportement par défaut à vos bases de données converties en cochant cette option (il est recommandé de travailler avec des valeurs Null car elles sont entièrement prises en charge par [ORDA](../ORDA/overview.md).

- **Non-blocking printing**: Starting with 4D v20 R4, each process has its own printing settings (print options, current printer, etc.), thus allowing you to run multiple printing jobs simultaneously. Check this option if you want to benefit from this new implementation in your converted 4D projects or databases converted from binary mode to project mode. **When left unchecked**, the previous implementation is applied: the current 4D printing settings are applied globally, the printer is placed in "busy" mode when one printing job is running, you must call `CLOSE PRINTING JOB` for the printer to be available for the next print job (check previous 4D documentations for more information).

- **Save structure color and coordinates in separate catalog_editor.json file**: Starting with 4D v20 R5, changes made in the Structure editor regarding graphical appearance of tables and fields (color, position, order...) are saved in a separate file named `catalog_editor.json`, stored in the project's [Sources folder](../Project/architecture.md#sources). This new file architecture makes it easier to manage merge conflicts in VCS applications since the `catalog.4DCatalog` file now contains only crucial database structure changes. For compatibility reasons, this feature is not enabled by default in projects converted from previous 4D versions, you need to check this option. When the feature is enabled, the `catalog_editor.json` file is created at the first modification in the Structure editor. 