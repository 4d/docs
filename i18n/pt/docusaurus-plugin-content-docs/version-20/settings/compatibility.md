---
id: compatibility
title: Página de compatibilidade
---

Os grupos de páginas de compatibilidade juntam parâmetros relacionados com a manutenção da compatibilidade com versões anteriores do 4D.

> O número de opções exibidas depende da versão de 4D com a qual o banco de dados ou projeto original foi criado, assim como as configurações modificadas do banco de dados ou projeto.   
> Esta página lista as opções de compatibilidade disponíveis para bancos de dados/projetos convertidos a partir de 4D v18. Para opções de compatibilidade mais antigas, consulte a página [Compatibilidade](https://doc.4d.com/4Dv20/4D/20.2/Compatibility-page.300-6750362.en.html) na **doc.4d.com**.

- **Use a camada de rede legada**: Iniciando com a 4D v15, 4D aplicativos propõem uma nova camada de rede, chamado *ServerNet*, para lidar com comunicações entre 4D Server e máquinas 4D remotas (clientes). A antiga camada de rede tornou-se obsoleta, mas é mantida para garantir a compatibilidade com as bases de dados existentes. Usando esta opção, você pode ativar a antiga camada de rede a qualquer momento nos seus aplicativos do servidor 4D dependendo das suas necessidades. *ServerNet* é usado automaticamente para novos bancos de dados e bancos de dados convertidos a partir de uma versão v15 ou posterior. Observe que, em caso de modificação, você precisa reiniciar o aplicativo para que a mudança seja levada em conta. Todos os aplicativos clientes que foram conectados também devem ser reiniciados para poderem se conectar à nova camada de rede. **Nota:** Essa opção também pode ser gerenciada programando usando o comando `SET DATABASE PARAMETER`.

- **Usar XPath:** Por padrão esta opção é desmarcada para bancos de dados convertidos de uma versão 4D antes da versão v18 R3, e verificada para bancos de dados criados com 4D v18 R3 e superior. A partir da v18 R3, a implementação do XPath no 4D foi modificada para ser mais compatível e suportar mais previsões. Consequentemente, as características não convencionais da anterior implementação já não funcionam. Estes incluem:
    * inicial "/" não é apenas o nó raiz - usar um / como primeiro caractere em uma expressão XPath não declara um caminho absoluto do nó raiz
    * não há nó atual implícito - o nó atual tem que ser incluído na expressão XPath
    * não há pesquisa recursiva em estruturas repetidas - apenas o primeiro elemento é analisado.\

    Embora não seja padrão, você pode querer continuar usando essas funções para que seu código continue a funcionar como antes -- nesse caso, apenas defina a opção *desmarcada*. Por outro lado, se seu código não depende da implementação não padrão e se você quiser se beneficiar dos recursos estendidos do XPath em seus bancos de dados (como descrito no comando [DOM Find XML elemento](https://doc.4d.com/4dv19R/help/command/en/page864.html) ), certifique-se de que a opção **Use o padrão XPath** está *marcado*.

-   **Use LF para o final da linha no macOS:** Começando com 4D v19 R2 (e 4D v19 R3 para arquivos XML), 4D escreve arquivos de texto com feed de linha (LF) como caractere de fim de linha (EOL) padrão em vez de CR (CRLF para xml SAX) no macOS em novos projetos. Se você deseja se beneficiar deste novo comportamento em projetos convertidos de versões anteriores da 4D, marque esta opção. Consulte [TEXT TO DOCUMENT](https://doc.4d.com/4dv19R/help/command/en/page1237.html), [Document to text](https://doc.4d.com/4dv19R/help/command/en/page1236.html)e [XML SET OPTIONS](https://doc.4d.com/4dv19R/help/command/en/page1090.html).

-   **Não adicione uma BOM ao escrever um arquivo de texto unicode por padrão:** Começando com 4D v19 R2 (e 4D v19 R3 para arquivos XML), 4D grava arquivos de texto sem uma marca de ordem de byte (BOM) por padrão. Nas versões anteriores, os arquivos texto eram gravados com um BOM por padrão. Selecione esta opção se quiser ativar o novo comportamento nos projetos convertidos. Consulte [TEXT TO DOCUMENT](https://doc.4d.com/4dv19R/help/command/en/page1237.html), [Document to text](https://doc.4d.com/4dv19R/help/command/en/page1236.html)e [XML SET OPTIONS](https://doc.4d.com/4dv19R/help/command/en/page1090.html).

- **Mapear valores NULL para valores em branco desmarcados por padrão a criação de campo**: Para melhor conformidade com as especificações do ORDA, em bancos de dados criados com 4D v19 R4 e superior **Map NULL valores em branco** a propriedade do campo é desmarcada por padrão quando você cria campos. Você pode aplicar esse comportamento padrão aos seus bancos de dados convertidos marcando essa opção (trabalhar com valores Null é recomendado, uma vez que eles são totalmente suportados pela ORDA [ORDA](../ORDA/overview.md).