<!DOCTYPE html><html lang="fr"><head><meta name="docsearch:version" content="19 R4"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>DataStore · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Un [Datastore](/docs/Rx/fr/ORDA/dsmapping.html#datastore) correspond à l&#x27;objet d&#x27;interface fourni par ORDA pour référencer et accéder à une base de données. Les objets `Datastore` sont retournés par les commandes suivantes :"/><meta name="docsearch:language" content="fr"/><meta property="og:title" content="DataStore · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/Rx/index.html"/><meta property="og:description" content="Un [Datastore](/docs/Rx/fr/ORDA/dsmapping.html#datastore) correspond à l&#x27;objet d&#x27;interface fourni par ORDA pour référencer et accéder à une base de données. Les objets `Datastore` sont retournés par les commandes suivantes :"/><meta property="og:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><link rel="shortcut icon" href="/docs/Rx/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/Rx/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/Rx/js/code-blocks-buttons.js"></script><script src="/docs/Rx/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/Rx/css/main.css"/><script src="/docs/Rx/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/Rx/fr"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v19 R5 BETA</a></li><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs/Rx" target="_self">v19 R4</a></li><li class=""><a href="https://developer.4d.com/docs/19" target="_self">v19</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/Rx/img/language.svg" alt="Languages icon"/>Français</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/Rx/en/API/DataStoreClass.html">English</a></li><li><a href="/docs/Rx/ja/API/DataStoreClass.html">日本語</a></li><li><a href="/docs/Rx/de/API/DataStoreClass.html">Deutsch</a></li><li><a href="/docs/Rx/es/API/DataStoreClass.html">Español</a></li><li><a href="/docs/Rx/pt/API/DataStoreClass.html">Português</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Classes API</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Gestion de projet<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Project/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Project/architecture.html">Architecture of a project</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Project/documentation.html">Documenter un projet</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Project/compiler.html">Compilation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Concepts du langage 4D<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/about.html">À propos du Langage 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/quick-tour.html">Tour d&#x27;horizon</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/operators.html">Opérateurs</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/data-types.html">Types de données</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/boolean.html">Booléen</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/collection.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/date.html">Date</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/null-undefined.html">Null et Indefinie</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/number.html">Numérique (Réel, Entier, Entier long)</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/object.html">Object</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/picture.html">Image</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/pointer.html">Pointeur</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/string.html">Chaine</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/time.html">Heure</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/variant.html">Variant</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/variables.html">Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/arrays.html">Tableaux</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/methods.html">Méthodes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/parameters.html">Paramètres</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/shared.html">Objets et collections partagés</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/classes.html">Classes</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/control-flow.html">Conditions et boucles</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/branching.html">Structures conditionnelles</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/looping.html">Structures répétitives (ou &quot;boucles&quot;)</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Tags/tags.html">Balises de transformation</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/error-handling.html">Gestion des erreurs</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/interpreted-compiled.html">Modes interprété et compilé</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/components.html">Composants</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/identifiers.html">Identifiants</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ORDA<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/ORDA/overview.html">Que signifie ORDA ?</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/ORDA/dsmapping.html">Objets Data Model</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/ORDA/ordaClasses.html">Classes du modèle de données</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/ORDA/entities.html">Travailler avec des données</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/ORDA/datastores.html">Utiliser un datastore distant</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/ORDA/glossary.html">Glossaire</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Classes API<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/overview.html">Aperçu - API des classes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/BlobClass.html">Blob</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/ClassClass.html">Class</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/CollectionClass.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/CryptoKeyClass.html">CryptoKey</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/DataClassClass.html">DataClass</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/DataClassAttributeClass.html">DataClassAttribute</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/Rx/fr/API/DataStoreClass.html">DataStore</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/EmailObjectClass.html">Email</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/EntityClass.html">Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/EntitySelectionClass.html">EntitySelection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/FileClass.html">File</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/FolderClass.html">Folder</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/FunctionClass.html">Formula</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/IMAPTransporterClass.html">IMAPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/MailAttachmentClass.html">MailAttachment</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/POP3TransporterClass.html">POP3Transporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/SessionClass.html">Session</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/SignalClass.html">Signal</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/SMTPTransporterClass.html">SMTPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/SystemWorkerClass.html">SystemWorker</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/WebServerClass.html">WebServer</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/ZipArchiveClass.html">ZIPArchive</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/ZipFileClass.html">ZIPFile</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/ZipFolderClass.html">ZIPFolder</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Éditeur de code<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/code-editor/navigation.html">Navigation dropdown</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Débogage<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Debugging/basics.html">Principes de base</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Debugging/debugger.html">Débogueur</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Debugging/breakpoints.html">Points d&#x27;arrêt et points d&#x27;arrêt sur commande</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Debugging/debugging-remote.html">Débogage depuis des machines distantes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Debugging/debugLogFiles.html">Description des fichiers d&#x27;historique</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Settings<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/general.html">Page Général</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/interface.html">Page Interface</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/compiler.html">Page Compilateur</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/database.html">Page Base de données</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/backup.html">Page Sauvegarde</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/client-server.html">Page Client/Serveur</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/web.html">Page Web</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/sql.html">Page SQL</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/php.html">Page PHP</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/security.html">Page sécurité</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/settings/compatibility.html">Page de compatibilité</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Préférences<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Preferences/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Preferences/general.html">Page Général</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Preferences/structure.html">Page Structure</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Preferences/forms.html">Page Formulaires</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Preferences/methods.html">Page Méthodes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Preferences/shortcuts.html">Page Raccourcis</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/Rx/docs/API/DataStoreClass.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">DataStore</h1></header><article><div><span><p>Un <a href="/docs/Rx/fr/ORDA/dsmapping.html#datastore">Datastore</a> correspond à l'objet d'interface fourni par ORDA pour référencer et accéder à une base de données. Les objets <code>Datastore</code> sont retournés par les commandes suivantes :</p>
<ul>
<li><a href="#ds">ds</a> : un raccourci vers le datastore principal</li>
<li><a href="#open-datastore">Open datastore</a> : pour ouvrir n'importe quel datastore distant</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="sommaire"></a><a href="#sommaire" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sommaire</h3>
<table>
<thead>
<tr><th></th></tr>
</thead>
<tbody>
<tr><td><a href="#canceltransaction"><strong>.cancelTransaction()</strong></a><p>    annule la transaction</td></tr>
<tr><td><a href="#dataclassname"><strong><em>.dataclassName</em></strong> : 4D.DataClass</a><p>    contient la description de la dataclass</td></tr>
<tr><td><a href="#encryptionstatus"><strong>.encryptionStatus()</strong>: Object</a><p>    retourne un objet qui fournit le statut de chiffrement du fichier de données courant</td></tr>
<tr><td><a href="#getinfo"><strong>.getInfo()</strong>: Object</a><p>    retourne un objet qui fournit des informations sur le datastore</td></tr>
<tr><td><a href="#getrequestlog"><strong>.getRequestLog()</strong> : Collection</a><p>    retourne les requêtes ORDA enregistrées en mémoire sur le poste client</td></tr>
<tr><td><a href="#makeselectionsalterable"><strong>.makeSelectionsAlterable()</strong></a><p>    définit toutes les nouvelles sélections d'entités comme altérables par défaut dans tous les datastores de l'application</td></tr>
<tr><td><a href="#providedatakey"><strong>.provideDataKey</strong>( <em>curPassPhrase</em> : Text ) : Object <br><strong>.provideDataKey</strong>( <em>curDataKey</em> : Object ) : Object </a><p>    permet de fournir une clé de chiffrement des données pour le fichier de données courant du datastore et détecte si la clé correspond aux données chiffrées</td></tr>
<tr><td><a href="#setadminprotection"><strong>.setAdminProtection</strong>( <em>status</em> : Boolean )</a><p>    permet de désactiver tout accès aux données sur le <a href="/docs/Rx/fr/Admin/webAdmin.html#http-port">port web admin</a>, y compris via le <a href="/docs/Rx/fr/Admin/dataExplorer.html">Data Explorer</a> dans les sessions <code>WebAdmin</code></td></tr>
<tr><td><a href="#startrequestlog"><strong>.startRequestLog</strong>()<br><strong>.startRequestLog</strong>( <em>file</em> : 4D.File )<br><strong>.startRequestLog</strong>( <em>reqNum</em> : Integer )</a><p>    lance l'enregistrement des requêtes ORDA sur le poste client</td></tr>
<tr><td><a href="#starttransaction"><strong>.startTransaction()</strong></a><p>    démarre une transaction dans le process courant sur la base de données du datastore</td></tr>
<tr><td><a href="#stoprequestlog"><strong>.stopRequestLog()</strong>  </a><p>    stoppe tout enregistrement des requêtes ORDA sur le poste client</td></tr>
<tr><td><a href="#validatetransaction"><strong>.validateTransaction()</strong>  </a><p>    valide la transaction</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="ds"></a><a href="#ds" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ds</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v18</td><td>Prise en charge du paramètre localID</td></tr>
<tr><td>v17</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>ds</strong> { ( <em>localID</em> : Text ) } : cs.DataStore</p>
<table>
<thead>
<tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>localID</td><td>Text</td><td>-&gt;</td><td>Identifiant local du datastore distant</td></tr>
<tr><td>Résultat</td><td>cs.DataStore</td><td>&lt;-</td><td>Nouvelle référence de datastore</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="description"></a><a href="#description" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La commande<code>ds</code> retourne une nouvelle référence vers le datastore correspondant à la base de données 4D courante ou à la base désignée par <em>localID</em>.</p>
<p>Si vous omettez le paramètre <em>localID</em> (ou si vous passez une chaîne vide &quot;&quot;), la commande renvoie une référence au datastore correspondant à la base de données 4D locale (ou à la base 4D Server en cas d'ouverture d'une base de données distante sur 4D Server). Le datastore est ouvert automatiquement et est disponible directement via <code>ds</code>.</p>
<p>Vous pouvez également obtenir une référence sur un datastore distant ouvert en passant son identifiant local dans le paramètre <em>localID</em>. Le datastore doit avoir été préalablement ouvert avec la commande <a href="#open-datastore"><code>Open datastore</code></a> par la base de données courante (hôte ou composant). L'identifiant local est défini lors de l'utilisation de cette commande.</p>
<blockquote>
<p>La portée de l'identifiant local est la base de données dans laquelle le datastore a été ouvert.</p>
</blockquote>
<p>Si aucun datastore nommé <em>localID</em> n'est trouvé, la commande renvoie <strong>Null</strong>.</p>
<p>Les objets disponibles dans le <code>cs.Datastore</code> sont mappés à partir de la base de données cible en respectant les <a href="Concepts/dsMapping.md#general-rules">règles générales d'ORDA</a>.</p>
<h4><a class="anchor" aria-hidden="true" id="exemple-1"></a><a href="#exemple-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple 1</h4>
<p>Utilisation du datastore principal de la base 4D :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$result</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName = :1"</span>;<span class="hljs-string">"S@"</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemple-2"></a><a href="#exemple-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple 2</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo</span>; <span class="hljs-variable">$firstFrench</span>; <span class="hljs-variable">$firstForeign </span>: Object<span class="hljs-keyword">

 var</span> <span class="hljs-variable">$frenchStudents</span>; <span class="hljs-variable">$foreignStudents </span>: cs.DataStore

 <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"type"</span>;<span class="hljs-string">"4D Server"</span>;<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"192.168.18.11:8044"</span>)
 <span class="hljs-variable">$frenchStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"french"</span>)

 <span class="hljs-variable">$connectTo</span>.hostname:=<span class="hljs-string">"192.168.18.11:8050"</span>
 <span class="hljs-variable">$foreignStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"foreign"</span>)
  <span class="hljs-comment">//...</span>
  <span class="hljs-comment">//...</span>
 <span class="hljs-variable">$firstFrench</span>:=<span class="hljs-function">getFirst</span>(<span class="hljs-string">"french"</span>;<span class="hljs-string">"Students"</span>)
 <span class="hljs-variable">$firstForeign</span>:=<span class="hljs-function">getFirst</span>(<span class="hljs-string">"foreign"</span>;<span class="hljs-string">"Students"</span>)
</code></pre>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">//méthode getFirst</span>
  <span class="hljs-comment">//getFirst(localID;dataclass) -&gt; entity</span>
 #<span class="hljs-function">DECLARE</span>( <span class="hljs-variable">$localId </span>: Text; <span class="hljs-variable">$dataClassName </span>: Text ) -&gt; <span class="hljs-variable">$entity </span>: 4D.Entity

 <span class="hljs-variable">$0</span>:=ds(<span class="hljs-variable">$localId</span>)[<span class="hljs-variable">$dataClassName</span>].<span class="hljs-function">all</span>().<span class="hljs-function">first</span>()
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="open-datastore"></a><a href="#open-datastore" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Open datastore</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v18</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>Open datastore</strong>( <em>connectionInfo</em> : Object ; <em>localID</em> : Text ) : cs.DataStore</p>
<table>
<thead>
<tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>connectionInfo</td><td>Object</td><td>-&gt;</td><td>Propriétés de connexion utilisées pour joindre le datastore distant</td></tr>
<tr><td>localID</td><td>Text</td><td>-&gt;</td><td>Identifiant à affecter au datastore ouvert sur l'application locale (obligatoire)</td></tr>
<tr><td>Résultat</td><td>cs.DataStore</td><td>&lt;-</td><td>Objet datastore</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="description-1"></a><a href="#description-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La commande <code>Open datastore</code> connecte l'application à la base de données 4D identifiée par le paramètre <em>connectionInfo</em> et retourne un objet <code>cs.DataStore</code> associé à l'alias local <em>localID</em>.</p>
<p>La base de données <em>connectionInfo</em> 4D doit être disponible en tant que datastore distant, c'est-à-dire :</p>
<ul>
<li>son serveur Web doit être lancé avec http et/ou https activé,</li>
<li>son option <a href="/docs/Rx/fr/REST/configuration.html#starting-the-rest-server"><strong>Activer le service REST</strong></a> doit être cochée,</li>
<li>au moins une licence client est disponible.</li>
</ul>
<p>Si aucune base de données correspondante n'est trouvée, <code>Open datastore</code> retourne <strong>Null</strong>.</p>
<p><em>localID</em> est un alias local de la session ouverte sur le datastore distant. Si <em>localID</em> existe déjà dans l'application, il est utilisé. Sinon, une nouvelle session <em>localID</em> est créée lors de l’utilisation de l’objet datastore.</p>
<p>Les objets disponibles dans le <code>cs.Datastore</code> sont mappés à partir de la base de données cible en respectant les <a href="Concepts/dsMapping.md#general-rules">règles générales d'ORDA</a>.</p>
<p>Une fois la session ouverte, les instructions suivantes deviennent équivalentes et renvoient une référence sur le même objet datastore :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$myds</span>:=<span class="hljs-function">Open datastore</span>(connectionInfo;<span class="hljs-string">"myLocalId"</span>)
 <span class="hljs-variable">$myds2</span>:=ds(<span class="hljs-string">"myLocalId"</span>)
  <span class="hljs-comment">//$myds et $myds2 sont équivalents</span>
</code></pre>
<p>Passez dans <em>connectionInfo</em> un objet décrivant le datastore distant auquel vous souhaitez vous connecter. Il peut contenir les propriétés suivantes (toutes les propriétés sont optionnelles, à l'exception de <em>hostname</em>) :</p>
<table>
<thead>
<tr><th>Propriété</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>hostname</td><td>Text</td><td>Nom ou adresse IP de la base de données distante + &quot; :&quot; + numéro de port (le numéro de port est obligatoire)</td></tr>
<tr><td>user</td><td>Text</td><td>Nom d'utilisateur</td></tr>
<tr><td>password</td><td>Text</td><td>Mot de passe de l'utilisateur</td></tr>
<tr><td>idleTimeout</td><td>Longint</td><td>Délai d'inactivité de la session (exprimé en minutes), au terme duquel la session est automatiquement fermée par 4D. Si cette propriété est omise, la valeur par défaut est 60 (1h). La valeur ne peut pas être &lt; 60 (si une valeur inférieure est passée, le timeout est fixé à 60). Pour plus d'informations, voir <strong>Fermeture des sessions</strong>.</td></tr>
<tr><td>tls</td><td>Booléen</td><td>Utilisez une connexion sécurisée(*). Si cette propriété est omise, &quot;false&quot; par défaut. L'utilisation d'une connexion sécurisée est recommandée dans la mesure du possible.</td></tr>
<tr><td>type</td><td>Text</td><td>Doit être &quot;4D Server&quot;</td></tr>
</tbody>
</table>
<p>(*) Si tls est vrai, le protocole HTTPS est utilisé si :</p>
<ul>
<li>HTTPS est activé sur le datastore distant</li>
<li>Le port donné correspond au port HTTPS configuré dans les propriétés</li>
<li>Un certificat valide et une clé de chiffrement privée sont installés dans la base. Sinon, l'erreur &quot;1610 - Une requête vers l’hôte: &quot;{xxx}&quot; a échoué&quot; est générée</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="exemple-1-1"></a><a href="#exemple-1-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple 1</h4>
<p>Connexion à un datastore distant sans utilisateur/mot de passe :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$remoteDS </span>: cs.DataStore
 <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"type"</span>;<span class="hljs-string">"4D Server"</span>;<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"192.168.18.11:8044"</span>)
 <span class="hljs-variable">$remoteDS</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"students"</span>)
<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"This remote datastore contains "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$remoteDS</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" students"</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemple-2-1"></a><a href="#exemple-2-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple 2</h4>
<p>Connexion à un datastore distant avec utilisateur/mot de passe/timeout/tls :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$remoteDS </span>: cs.DataStore
 <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"type"</span>;<span class="hljs-string">"4D Server"</span>;<span class="hljs-string">"hostname"</span>;\<span class="hljs-string">"192.168.18.11:4443"</span>;\  
    <span class="hljs-string">"user"</span>;<span class="hljs-string">"marie"</span>;<span class="hljs-string">"password"</span>;<span class="hljs-variable">$pwd</span>;<span class="hljs-string">"idleTimeout"</span>;<span class="hljs-number">70</span>;<span class="hljs-string">"tls"</span>;<span class="hljs-literal">True</span>)
 <span class="hljs-variable">$remoteDS</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"students"</span>)
<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"This remote datastore contains "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$remoteDS</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" students"</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemple-3"></a><a href="#exemple-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple 3</h4>
<p>Travailler avec plusieurs datastores distants :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$frenchStudents</span>; <span class="hljs-variable">$foreignStudents </span>: cs.DataStore
 <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"192.168.18.11:8044"</span>)
 <span class="hljs-variable">$frenchStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"french"</span>)
 <span class="hljs-variable">$connectTo</span>.hostname:=<span class="hljs-string">"192.168.18.11:8050"</span>
 <span class="hljs-variable">$foreignStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"foreign"</span>)
<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"They are "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$frenchStudents</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" French students"</span>)
<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"They are "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$foreignStudents</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" foreign students"</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="gestion-des-erreurs"></a><a href="#gestion-des-erreurs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gestion des erreurs</h4>
<p>En cas d'erreur, la commande retourne <strong>Null</strong>. Si le datastore distant ne peut pas être joint (adresse incorrecte, web serveur non lancé, http et https non activés, etc.), l'erreur 1610 &quot;Une requête vers l’hôte: {xxx} a échoué&quot; est générée. Vous pouvez intercepter cette erreur avec une méthode installée par <code>ON ERR CALL</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="dataclassname"></a><a href="#dataclassname" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><em>.dataclassName</em></h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong><em>.dataclassName</em></strong> : 4D.DataClass</p>
<h4><a class="anchor" aria-hidden="true" id="description-2"></a><a href="#description-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>Chaque dataclass d'un datastore est disponible en tant que propriété de l'objet <a href="/docs/Rx/fr/ORDA/dsmapping.html#datastore">DataStore</a>. L'objet retourné contient la description de la dataclass.</p>
<h4><a class="anchor" aria-hidden="true" id="exemple"></a><a href="#exemple" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$emp </span>: cs.Employee<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$sel </span>: cs.EmployeeSelection
 <span class="hljs-variable">$emp</span>:=ds.Employee <span class="hljs-comment">//$emp contient la dataclass Employee </span>
 <span class="hljs-variable">$sel</span>:=<span class="hljs-variable">$emp</span>.<span class="hljs-function">all</span>() <span class="hljs-comment">//obtient une entity selection de tous les employés</span>

  <span class="hljs-comment">//vous poubez également saisir directement :</span>
 <span class="hljs-variable">$sel</span>:=ds.Employee.<span class="hljs-function">all</span>()
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="canceltransaction"></a><a href="#canceltransaction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.cancelTransaction()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v18</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.cancelTransaction()</strong>
| Paramètres | Type |  | Description                 |
| ---------- | ---- |::| --------------------------- |
|            |      |  | Ne requiert aucun paramètre |</p>
<h4><a class="anchor" aria-hidden="true" id="description-3"></a><a href="#description-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.cancelTransaction()</code> annule la transaction ouverte par la fonction <a href="#starttransaction"><code>.startTransaction()</code></a> au niveau correspondant dans le process courant du datastore spécifié.</p>
<p>La fonction <code>.cancelTransaction()</code> annule toutes les modifications apportées aux données durant la transaction.</p>
<p>Vous pouvez imbriquer plusieurs transactions (sous-transactions). Si la transaction principale est annulée, toutes ses sous-transactions sont également annulées, même si elles ont été validées individuellement à l'aide de la fonction <a href="#validatetransactions"><code>.validateTransaction()</code></a>.</p>
<h4><a class="anchor" aria-hidden="true" id="exemple-4"></a><a href="#exemple-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple</h4>
<p>Voir l'exemple de la fonction <a href="#starttransaction"><code>.startTransaction()</code></a>.</p>
<h2><a class="anchor" aria-hidden="true" id="encryptionstatus"></a><a href="#encryptionstatus" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.encryptionStatus()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v17 R5</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.encryptionStatus()</strong>: Object</p>
<table>
<thead>
<tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>Résultat</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Informations sur le chiffrement du datastore courant et de chaque table</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="description-4"></a><a href="#description-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.encryptionStatus()</code> retourne un objet qui fournit le statut de chiffrement du fichier de données courant (i.e., le fichier de données du datastore <code>ds</code>). Le statut de chiffrement pour chaque table est également fourni.</p>
<blockquote>
<p>Utilisez la commande <code>Data file encryption status</code> pour déterminer l'état de cryptage de tout autre fichier de données.</p>
</blockquote>
<p><strong>Valeur retournée</strong></p>
<p>L'objet retourné contient les propriétés suivantes :</p>
<table>
<thead>
<tr><th>Propriété</th><th></th><th></th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>isEncrypted</td><td></td><td></td><td>Booléen</td><td>Vrai si le fichier de données est chiffré</td></tr>
<tr><td>keyProvided</td><td></td><td></td><td>Booléen</td><td>Vrai si la clé de chiffrement correspondant au fichier de données chiffré est fournie(*).</td></tr>
<tr><td>tables</td><td></td><td></td><td>Object</td><td>Objet contenant autant de propriétés que de tables chiffrables ou chiffrées.</td></tr>
<tr><td></td><td><em>tableName</em></td><td></td><td>Object</td><td>Table chiffrable ou chiffrée</td></tr>
<tr><td></td><td></td><td>name</td><td>Text</td><td>Nom de la table</td></tr>
<tr><td></td><td></td><td>num</td><td>Nombre</td><td>Numéro de la table</td></tr>
<tr><td></td><td></td><td>isEncryptable</td><td>Booléen</td><td>Vrai si la table est déclarée chiffrable dans le fichier de structure</td></tr>
<tr><td></td><td></td><td>isEncrypted</td><td>Booléen</td><td>Vrai si les enregistrements de la table sont chiffrés dans le fichier de données</td></tr>
</tbody>
</table>
<p>(*) La clé de chiffrement peut être fournie :</p>
<ul>
<li>via la fonction <code>.provideDataKey()</code>,</li>
<li>à la racine d'un appareil connecté avant l'ouverture du datastore,</li>
<li>via la commande <code>Discover data key</code>.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="exemple-5"></a><a href="#exemple-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple</h4>
<p>Vous souhaitez connaitre le nombre de tables chiffrées dans le fichier de données courant :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$status </span>: Object

 <span class="hljs-variable">$status</span>:=dataStore.<span class="hljs-function">encryptionStatus</span>()<span class="hljs-keyword">

 If</span>(<span class="hljs-variable">$status</span>.isEncrypted) <span class="hljs-comment">//the database is encrypted</span>
<span class="hljs-function">    C_LONGINT</span>(<span class="hljs-variable">$vcount</span>)
<span class="hljs-function">    C_TEXT</span>(<span class="hljs-variable">$tabName</span>)<span class="hljs-keyword">
    For each</span>(<span class="hljs-variable">$tabName</span>;<span class="hljs-variable">$status</span>.tables)<span class="hljs-keyword">
       If</span>(<span class="hljs-variable">$status</span>.tables[<span class="hljs-variable">$tabName</span>].isEncrypted)
          <span class="hljs-variable">$vcount</span>:=<span class="hljs-variable">$vcount</span>+<span class="hljs-number">1</span><span class="hljs-keyword">
       End if</span><span class="hljs-keyword">
    End for each</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-function">String</span>(<span class="hljs-variable">$vcount</span>)+<span class="hljs-string">" table(s) chiffrée(s) dans ce datastore."</span>)<span class="hljs-keyword">
 Else</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"This database is not encrypted."</span>)<span class="hljs-keyword">
 End if</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="getinfo"></a><a href="#getinfo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.getInfo()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.getInfo()</strong>: Object</p>
<table>
<thead>
<tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>Résultat</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Propriétés du datastore</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="description-5"></a><a href="#description-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.getInfo()</code> function retourne un objet qui fournit des informations sur le datastore. Cette fonction est utile pour l'écriture de code générique.</p>
<p><strong>Objet retourné</strong></p>
<table>
<thead>
<tr><th>Propriété</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>type</td><td>string</td><td><li>&quot;4D&quot; : datastore principal, disponible via ds </li><li>&quot;4D Server&quot; : datastore distant ouvert avec Open datastore</li></td></tr>
<tr><td>networked</td><td>boolean</td><td><li>Vrai : le datastore est accessible via une connexion réseau.</li><li>Faux : le datastore n'est pas accessible via une connexion réseau (base locale)</li></td></tr>
<tr><td>localID</td><td>Texte</td><td>Identifiant du datastore sur la machine. Correspond à la chaîne localID donnée avec la commande <code>Open datastore</code>. Chaîne vide (&quot;&quot;) pour le datastore principal.</td></tr>
<tr><td>connection</td><td>object</td><td>Objet décrivant la connexion au datastore distant (non retourné pour le datastore principal). Propriétés disponibles :<p><table><tr><th>Propriété</th><th>Type</th><th>Description</th></tr><tr><td>hostname</td><td>Texte</td><td>Adresse IP ou nom du datastore distant + &quot;:&quot; + numéro de port</td></tr><tr><td>tls</td><td>boolean</td><td>Vrai si une connexion sécurisée est utilisée avec le datastore distant</td></tr><tr><td>idleTimeout</td><td>number</td><td>Delai d'inactivité autorisé de la session (en minutes)</td></tr><tr><td>user</td><td>Texte</td><td>Utilisateur authentifié sur le datastore distant</td></tr></table></td></tr>
</tbody>
</table>
<ul>
<li>Si la fonction <code>.getInfo()</code> est exécutée sur un 4D Server ou un 4D monoposte, <code>networked</code> est Faux.</li>
<li>Si la fonction <code>.getInfo()</code> est exécutée sur un 4D distant, <code>networked</code> est Vrai</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="exemple-1-2"></a><a href="#exemple-1-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$info </span>: Object

 <span class="hljs-variable">$info</span>:=ds.<span class="hljs-function">getInfo</span>() <span class="hljs-comment">//Exécuté sur 4D Server ou 4D</span>
  <span class="hljs-comment">//{"type":"4D","networked":false,"localID":""}</span>

 <span class="hljs-variable">$info</span>:=ds.<span class="hljs-function">getInfo</span>() <span class="hljs-comment">// Exécuté sur 4D distant</span>
  <span class="hljs-comment">//{"type":"4D","networked":true,"localID":""}</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemple-2-2"></a><a href="#exemple-2-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple 2</h4>
<p>Sur un datastore distant :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">  var</span> <span class="hljs-variable">$remoteDS </span>: cs.DataStore<span class="hljs-keyword">
  var</span> <span class="hljs-variable">$info</span>; <span class="hljs-variable">$connectTo </span>: Object

 <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"111.222.33.44:8044"</span>;<span class="hljs-string">"user"</span>;<span class="hljs-string">"marie"</span>;<span class="hljs-string">"password"</span>;<span class="hljs-string">"aaaa"</span>)
 <span class="hljs-variable">$remoteDS</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"students"</span>)
 <span class="hljs-variable">$info</span>:=<span class="hljs-variable">$remoteDS</span>.<span class="hljs-function">getInfo</span>()

  <span class="hljs-comment">//{"type":"4D Server",</span>
  <span class="hljs-comment">//"localID":"students",</span>
  <span class="hljs-comment">//"networked":true,</span>
  <span class="hljs-comment">//"connection":{hostname:"111.222.33.44:8044","tls":false,"idleTimeout":2880,"user":"marie"}}</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="getrequestlog"></a><a href="#getrequestlog" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.getRequestLog()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v17 R6</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.getRequestLog()</strong> : Collection</p>
<table>
<thead>
<tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>Résultat</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Collection d'objets décrivant les requêtes</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="description-6"></a><a href="#description-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.getRequestLog()</code> retourne les requêtes ORDA enregistrées en mémoire sur le poste client. L'enregistrement des requêtes ORDA doit avoir été préalablement activé à l'aide de la fonction <a href="#startrequestlog"><code>.startRequestLog()</code></a>.</p>
<p>Cette fonction doit être appelée sur un client 4D distant, sinon elle retourne une collection vide. Elle est conçue à des fins de débogage dans les configurations client/serveur.</p>
<p><strong>Valeur retournée</strong></p>
<p>Collection d'objets requête empilés. La requête la plus récente porte l'indice 0.</p>
<p>Pour plus de détails sur le format d'enregistrement des requêtes ORDA, veuillez consulter la section <a href="https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373"><strong>ORDA client requests</strong></a>.</p>
<h4><a class="anchor" aria-hidden="true" id="exemple-6"></a><a href="#exemple-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple</h4>
<p>Voir l'exemple 2 de <a href="#startrequestlog"><code>.startRequestLog()</code></a>.</p>
<h2><a class="anchor" aria-hidden="true" id="isadminprotected"></a><a href="#isadminprotected" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.isAdminProtected()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v18 R6</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.isAdminProtected()</strong> : Boolean</p>
<table>
<thead>
<tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>Résultat</td><td>Booléen</td><td style="text-align:center">&lt;-</td><td>Vrai si l'accès au Data Explorer est désactivé, Faux s'il est activé (défaut)</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="description-7"></a><a href="#description-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.isAdminProtected()</code> retourne <code>Vrai</code> si l'accès au <a href="/docs/Rx/fr/Admin/dataExplorer.html">Data Explorer</a> est désactivé pour la session courante.</p>
<p>Par défaut, l'accès au Data Explorer est autorisé pour les sessions <code>webAdmin</code>, mais il peut être désactivé pour empêcher que les administrateurs puissent accéder aux données (cf. fonction <a href="#setadminprotection"><code>.setAdminProtection()</code></a>).</p>
<h4><a class="anchor" aria-hidden="true" id="voir-aussi"></a><a href="#voir-aussi" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Voir aussi</h4>
<p><a href="#setadminprotection"><code>.setAdminProtection()</code></a></p>
<h2><a class="anchor" aria-hidden="true" id="makeselectionsalterable"></a><a href="#makeselectionsalterable" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.makeSelectionsAlterable()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v18 R5</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.makeSelectionsAlterable()</strong>
| Paramètres | Type |  | Description                 |
| ---------- | ---- |::| --------------------------- |
|            |      |  | Ne requiert aucun paramètre |</p>
<h4><a class="anchor" aria-hidden="true" id="description-8"></a><a href="#description-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.makeSelectionsAlterable()</code> définit toutes les nouvelles sélections d'entités comme altérables par défaut dans tous les datastores de l'application (y compris les <a href="/docs/Rx/fr/ORDA/datastores.html">datastores distants</a>). Elle est destinée à être appelée une fois, par exemple dans la méthode base <code>On Startup</code>.</p>
<p>Lorsque cette méthode n'est pas appelée, les nouvelles sélections d'entités peuvent être partageables, selon la nature de leur &quot;parent&quot; ou la façon dont elles sont créées (voir la section <a href="/docs/Rx/fr/ORDA/entities.html#entity-selections-partageables-et-non-partageables">Entity selections partageables et non partageables</a>).</p>
<blockquote>
<p>Cette fonction ne modifie pas les sélections d'entités créées par <a href="#copy"><code>.copy(</code></a>) ou <code>OB Copy</code> lorsque l'option explicite <code>ck shared</code> est utilisée.</p>
</blockquote>
<blockquote>
<p><strong>Compatibilité</strong> : Cette fonction doit être utilisée uniquement dans des projets convertis à partir de versions de 4D antérieures à 4D v18 R5 et contenant des appels <a href="/docs/Rx/fr/API/EntitySelectionClass.html#add">.add()</a>. Dans ce contexte, l'utilisation de <code>.makeSelectionsAlterable()</code> peut faire gagner du temps en restaurant instantanément le précédent comportement 4D dans les projets existants. En revanche, l'utilisation de cette méthode dans les nouveaux projets créés dans 4D v18 R5 et les versions plus récentes <strong>n'est pas recommandée</strong>, car elle empêche le partage des entity selections, ce qui offre de meilleures performances et une plus grande évolutivité.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="providedatakey"></a><a href="#providedatakey" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.provideDataKey()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v17 R5</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.provideDataKey</strong>( <em>curPassPhrase</em> : Text ) : Object <br><strong>.provideDataKey</strong>( <em>curDataKey</em> : Object ) : Object</p>
<table>
<thead>
<tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>curPassPhrase</td><td>Text</td><td>-&gt;</td><td>Phrase secrète courante</td></tr>
<tr><td>curDataKey</td><td>Object</td><td>-&gt;</td><td>Clé de chiffrement des données courante</td></tr>
<tr><td>Résultat</td><td>Object</td><td>&lt;-</td><td>Résultat de la mise en correspondance de la clé de chiffrement</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="description-9"></a><a href="#description-9" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.provideDataKey()</code> permet de fournir une clé de chiffrement des données pour le fichier de données courant du datastore et détecte si la clé correspond aux données chiffrées. Cette fonction peut être utilisée à l'ouverture d'une base chiffrée, ou à l'exécution de n'importe quelle opération de chiffrement qui nécessite la clé de chiffrement, telle que le re-chiffrement du fichier de données.</p>
<blockquote>
<ul>
<li>La fonction <code>.provideDataKey()</code> doit être appelée dans une base de données chiffrée. Si elle est appelée dans une base de données non chiffrée, l'erreur 2003 (la clé de cryptage ne correspond pas aux données.) est retournée. Utilisez la commande <code>Data file encryption status</code> pour déterminer si la base de données est chiffrée.</li>
<li>La fonction <code>.provideDataKey()</code> ne peut pas être appelée depuis un 4D distant ou un datastore distant chiffré.</li>
</ul>
</blockquote>
<p>Si vous utilisez le paramètre <em>curPassPhrase</em>, passez la chaîne utilisée pour générer la clé de chiffrement des données. Lorsque vous utilisez ce paramètre, une clé de chiffrement est générée.</p>
<p>Si vous utilisez le paramètre <em>curDataKey</em>, passez un objet (avec la propriété <em>encodedKey</em>) contenant la clé de chiffrement des données. Cette clé peut avoir été générée à l'aide de la commande <code>New data key</code>.</p>
<p>Si une clé de chiffrement des données valide est fournie, elle est ajoutée à la <em>keyChain</em> dans la mémoire et le mode chiffrement est activé :</p>
<ul>
<li>toutes les modifications de données apportées dans les tables chiffrables sont chiffrées sur le disque (fichiers .4DD, .journal,  . 4Dindx).</li>
<li>toutes les données chargées à partir de tables chiffrables sont déchiffrées dans la mémoire</li>
</ul>
<p><strong>Résultat</strong></p>
<p>Le résultat de la commande est décrit dans l'objet retourné :</p>
<table>
<thead>
<tr><th>Propriété</th><th></th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>success</td><td></td><td>Booléen</td><td>Vrai si la clé de chiffrement fournie correspond aux données chiffrées, sinon Faux</td></tr>
<tr><td></td><td></td><td></td><td>Les propriétés ci-dessous sont retournées uniquement si success est à <em>Faux</em></td></tr>
<tr><td>status</td><td></td><td>Nombre</td><td>Code d'erreur (4 si la clé de chiffrement fournie est erronée)</td></tr>
<tr><td>statusText</td><td></td><td>Text</td><td>Message d'erreur</td></tr>
<tr><td>errors</td><td></td><td>Collection</td><td>Pile d'erreurs. La première erreur possède l'indice le plus élevé.</td></tr>
<tr><td></td><td>[ ].componentSignature</td><td>Text</td><td>Nom du composant interne</td></tr>
<tr><td></td><td>[ ].errCode</td><td>Nombre</td><td>Numéro de l'erreur</td></tr>
<tr><td></td><td>[ ].message</td><td>Text</td><td>Message d'erreur</td></tr>
</tbody>
</table>
<p>Si aucun paramètre <em>curPassphrase</em> ou <em>curDataKey</em> n'est fourni, <code>.provideDataKey()</code> retourne <strong>null</strong> (aucune erreur n'est générée).</p>
<h4><a class="anchor" aria-hidden="true" id="exemple-7"></a><a href="#exemple-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$keyStatus </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$passphrase </span>: Text

 <span class="hljs-variable">$passphrase</span>:=<span class="hljs-function">Request</span>(<span class="hljs-string">"Enter the passphrase"</span>)<span class="hljs-keyword">
 If</span>(OK=<span class="hljs-number">1</span>)
    <span class="hljs-variable">$keyStatus</span>:=ds.<span class="hljs-function">provideDataKey</span>(<span class="hljs-variable">$passphrase</span>)<span class="hljs-keyword">
    If</span>(<span class="hljs-variable">$keyStatus</span>.success)
<span class="hljs-function">       ALERT</span>(<span class="hljs-string">"You have provided a valid encryption key"</span>)<span class="hljs-keyword">
    Else</span>
<span class="hljs-function">       ALERT</span>(<span class="hljs-string">"You have provided an invalid encryption key, you will not be able to work with encrypted data"</span>)<span class="hljs-keyword">
    End if</span><span class="hljs-keyword">
 End if</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="setadminprotection"></a><a href="#setadminprotection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.setAdminProtection()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v18 R6</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.setAdminProtection</strong>( <em>status</em> : Boolean )</p>
<table>
<thead>
<tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>status</td><td>Booléen</td><td>-&gt;</td><td>Vrai pour désactiver l'accès au Data Explorer sur le port <code>webAdmin</code>, Faux (défaut) pour permettre l'accès</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="description-10"></a><a href="#description-10" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.setAdminProtection()</code> permet de désactiver tout accès aux données sur le <a href="/docs/Rx/fr/Admin/webAdmin.html#http-port">port web admin</a>, y compris via le <a href="/docs/Rx/fr/Admin/dataExplorer.html">Data Explorer</a> dans les sessions <code>WebAdmin</code>.</p>
<p>Par défaut lorsque la fonction n'est pas appelée, l'accès aux données est possible via le Data Explorer sur le port d'administration web pour une session avec le privilège <code>WebAdmin</code> . Dans certaines configurations, par exemple lorsque le serveur d'application est hébergé sur la machine d'un prestataire de service, vous pouvez souhaiter que l'administrateur ne puisse pas visualiser vos données, même s'il peut accéder à la configuration du serveur, y compris au paramétrage de l'<a href="/docs/Rx/fr/Admin/webAdmin.html#access-key">access key</a>.</p>
<p>Dans ce cas, vous pouvez appeler cette fonction pour désactiver l'accès aux données depuis le Data Explorer sur le port web admin de la machine, même pour les sessions utilisateurs ayant le privilège <code>WebAdmin</code>. Lorsque cette fonction est exécutée, le fichier de données est immédiatement protégé et le statut est sauvegardé sur disque : le fichier de données sera protégé même si l'application est redémarrée.</p>
<h4><a class="anchor" aria-hidden="true" id="exemple-8"></a><a href="#exemple-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple</h4>
<p>Vous créez une méthode projet <em>protectDataFile</em> à appeler par exemple avant le déploiement :</p>
<pre><code class="hljs css language-4d"> ds.<span class="hljs-function">setAdminProtection</span>(<span class="hljs-literal">True</span>) <span class="hljs-comment">//Désactive l'accès aux données de l'Explorateur de données</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="voir-aussi-1"></a><a href="#voir-aussi-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Voir aussi</h4>
<p><a href="#isadminprotected"><code>.isAdminProtected()</code></a></p>
<h2><a class="anchor" aria-hidden="true" id="startrequestlog"></a><a href="#startrequestlog" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.startRequestLog()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v17 R6</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.startRequestLog</strong>()<br><strong>.startRequestLog</strong>( <em>file</em> : 4D.File )<br><strong>.startRequestLog</strong>( <em>reqNum</em> : Integer )</p>
<table>
<thead>
<tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>file</td><td>4D.File</td><td>-&gt;</td><td>Objet File</td></tr>
<tr><td>reqNum</td><td>Integer</td><td>-&gt;</td><td>Nombre de requêtes à conserver en mémoire</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="description-11"></a><a href="#description-11" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.startRequestLog()</code> function lance l'enregistrement des requêtes ORDA sur le poste client.</p>
<p>Cette fonction doit être appelée sur un 4D distant, sinon elle ne fait rien. Elle est conçue à des fins de débogage dans les configurations client/serveur.</p>
<p>L'enregistrement des requêtes ORDA peut être effectué dans un fichier ou dans la mémoire, en fonction du type de paramètre :</p>
<ul>
<li>Si vous avez passé un objet <em>file</em> créé à l'aide de la commande <code>File</code>, les données de l'enregistrement sont écrites dans ce fichier sous forme de collection d'objets (format JSON). Chaque objet représente une requête.<br>Si le fichier n'existe pas encore, il est créé. Sinon, s'il existe déjà, les nouvelles données d'enregistrement y sont ajoutées. Si la fonction <code>.startRequestLog( )</code> est appelée avec un fichier alors qu'un enregistrement des requêtes est déjà en cours en mémoire, l'enregistrement en mémoire est stoppé et vidé.</li>
</ul>
<blockquote>
<p>Un caractère ] doit être ajouté manuellement à la fin du fichier pour effectuer une validation JSON</p>
</blockquote>
<ul>
<li><p>Si vous avez passé un numéro <em>reqNum</em>, l'enregistrement en mémoire est vidé (le cas échéant) et un nouvel enregistrement est lancé. Il gardera en mémoire les requêtes jusqu'à atteindre le nombre <em>reqNum</em>, auquel cas les entrées précédentes sont vidées (pile FIFO).<br>Si la fonction <code>.startRequestLog()</code> est appelée avec un <em>reqNum</em> alors qu'un enregistrement des requêtes dans un fichier est déjà en cours, l'enregistrement dans le fichier est stoppé.</p></li>
<li><p>Si vous n'avez passé aucun paramètre, l'enregistrement est lancé dans la mémoire. Si <code>.startRequestLog()</code> a été préalablement appelée avec un <em>reqNum</em> (avant un <code>.stopRequestLog()</code>), les données enregistrées sont empilées dans la mémoire jusqu'au prochain vidage ou appel de <code>.stopRequestLog()</code>.</p></li>
</ul>
<p>Pour plus de détails sur le format d'enregistrement des requêtes ORDA, veuillez consulter la section <a href="https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373"><strong>ORDA client requests</strong></a>.</p>
<h4><a class="anchor" aria-hidden="true" id="exemple-1-3"></a><a href="#exemple-1-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple 1</h4>
<p>Vous souhaitez enregistrer des requêtes ORDA clientes dans un fichier et utiliser le numéro de séquence de l'enregistrement :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$file </span>: 4D.File<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$e </span>: cs.PersonsEntity

 <span class="hljs-variable">$file</span>:=<span class="hljs-function">File</span>(<span class="hljs-string">"/LOGS/ORDARequests.txt"</span>) <span class="hljs-comment">//dossier logs</span>

<span class="hljs-function"> SET DATABASE PARAMETER</span>(Client Log Recording;<span class="hljs-number">1</span>) <span class="hljs-comment">//pour déclencher le numéro de séquence log global </span>
 ds.<span class="hljs-function">startRequestLog</span>(<span class="hljs-variable">$file</span>)
 <span class="hljs-variable">$e</span>:=ds.Persons.<span class="hljs-function">get</span>(<span class="hljs-number">30001</span>) <span class="hljs-comment">//envoyer une requête</span>
 ds.<span class="hljs-function">stopRequestLog</span>()
<span class="hljs-function"> SET DATABASE PARAMETER</span>(Client Log Recording;<span class="hljs-number">0</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemple-2-3"></a><a href="#exemple-2-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple 2</h4>
<p>Vous souhaitez enregistrer des requêtes ORDA clientes dans la mémoire :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.PersonsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$log </span>: Collection

 ds.<span class="hljs-function">startRequestLog</span>(<span class="hljs-number">3</span>) <span class="hljs-comment">//garde 3 requêtes dans la mémoire</span>

 <span class="hljs-variable">$es</span>:=ds.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"name=:1"</span>;<span class="hljs-string">"Marie"</span>)
 <span class="hljs-variable">$es</span>:=ds.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"name IN :1"</span>;<span class="hljs-function">New collection</span>(<span class="hljs-string">"Marie"</span>))
 <span class="hljs-variable">$es</span>:=ds.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"name=:1"</span>;<span class="hljs-string">"So@"</span>)

 <span class="hljs-variable">$log</span>:=ds.<span class="hljs-function">getRequestLog</span>()
<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"The longest request lasted: "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$log</span>.<span class="hljs-function">max</span>(<span class="hljs-string">"duration"</span>))+<span class="hljs-string">" ms"</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="starttransaction"></a><a href="#starttransaction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.startTransaction()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v18</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.startTransaction()</strong>
| Paramètres | Type |  | Description                 |
| ---------- | ---- |  | --------------------------- |
|            |      |  | Ne requiert aucun paramètre |</p>
<h4><a class="anchor" aria-hidden="true" id="description-12"></a><a href="#description-12" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.startTransaction()</code> démarre une transaction dans le process courant sur la base de données du datastore. Toute modification apportée aux entités du datastore dans le process de la transaction est temporairement stockée jusqu'à ce que la transaction soit validée ou annulée.</p>
<blockquote>
<p>Si cette méthode est appelée sur le datastore principal (c'est-à-dire le datastore retourné par la commande <code>ds</code>), la transaction est appliquée à toutes les opérations effectuées sur le datastore principal et sur la base de données sous-jacente, incluant donc le langage ORDA et le langage classique.</p>
</blockquote>
<p>Vous pouvez imbriquer plusieurs transactions (sous-transactions). Chaque transaction ou sous-transaction doit être annulée ou validée. A noter que si la transaction principale est annulée, toutes ses sous-transactions le sont également, même si elles avaient été validées individuellement à l'aide de la fonction <code>.validateTransaction()</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="exemple-9"></a><a href="#exemple-9" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connect</span>; <span class="hljs-variable">$status </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$person </span>: cs.PersonsEntity<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$ds </span>: cs.DataStore<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$choice </span>: Text<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$error </span>: Boolean<span class="hljs-keyword">

 Case of</span>
    :(<span class="hljs-variable">$choice</span>=<span class="hljs-string">"local"</span>)
       <span class="hljs-variable">$ds</span>:=ds
    :(<span class="hljs-variable">$choice</span>=<span class="hljs-string">"remote"</span>)
       <span class="hljs-variable">$connect</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"111.222.3.4:8044"</span>)
       <span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connect</span>;<span class="hljs-string">"myRemoteDS"</span>)<span class="hljs-keyword">
 End case</span>

 <span class="hljs-variable">$ds</span>.<span class="hljs-function">startTransaction</span>()
 <span class="hljs-variable">$person</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname=:1"</span>;<span class="hljs-string">"Peters"</span>).<span class="hljs-function">first</span>()<span class="hljs-keyword">

 If</span>(<span class="hljs-variable">$person</span>#<span class="hljs-literal">Null</span>)
    <span class="hljs-variable">$person</span>.lastname:=<span class="hljs-string">"Smith"</span>
    <span class="hljs-variable">$status</span>:=<span class="hljs-variable">$person</span>.<span class="hljs-function">save</span>()<span class="hljs-keyword">
 End if</span>
 ...
 ...<span class="hljs-keyword">
 If</span>(<span class="hljs-variable">$error</span>)
    <span class="hljs-variable">$ds</span>.<span class="hljs-function">cancelTransaction</span>()<span class="hljs-keyword">
 Else</span>
    <span class="hljs-variable">$ds</span>.<span class="hljs-function">validateTransaction</span>()<span class="hljs-keyword">
 End if</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="stoprequestlog"></a><a href="#stoprequestlog" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.stopRequestLog()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v17 R6</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.stopRequestLog()</strong>  <br>
| Paramètres | Type |  | Description                 |
| ---------- | ---- |  | --------------------------- |
|            |      |  | Ne requiert aucun paramètre |</p>
<h4><a class="anchor" aria-hidden="true" id="description-13"></a><a href="#description-13" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.stopRequestLog()</code> stoppe tout enregistrement des requêtes ORDA sur le poste client (dans un fichier ou dans la mémoire). Elle est particulièrement utile en cas d'enregistrement dans un fichier, étant donné qu'elle ferme le document ouvert sur le disque.</p>
<p>Cette fonction doit être appelée sur un 4D distant, sinon elle ne fait rien. Elle est conçue à des fins de débogage dans les configurations client/serveur.</p>
<h4><a class="anchor" aria-hidden="true" id="exemple-10"></a><a href="#exemple-10" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple</h4>
<p>Voir les exemples de <a href="#startrequestlog"><code>.startRequestLog()</code></a>.</p>
<h2><a class="anchor" aria-hidden="true" id="validatetransaction"></a><a href="#validatetransaction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.validateTransaction()</h2>
<p><details><summary>Historique</summary></p>
<table>
<thead>
<tr><th>Version</th><th>Modifications</th></tr>
</thead>
<tbody>
<tr><td>v18</td><td>Ajout</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.validateTransaction()</strong>  <br>
| Paramètres | Type |  | Description                 |
| ---------- | ---- |  | --------------------------- |
|            |      |  | Ne requiert aucun paramètre |</p>
<h4><a class="anchor" aria-hidden="true" id="description-14"></a><a href="#description-14" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h4>
<p>La fonction <code>.validateTransaction()</code> valide la transaction démarrée avec <a href="#starttransaction"><code>.startTransaction()</code></a>au niveau correspondant dans le datastore.</p>
<p>La fonction sauvegarde les modifications apportées aux données sur le datastore durant la transaction.</p>
<p>Vous pouvez imbriquer plusieurs transactions (sous-transactions). Si la transaction principale est annulée, toutes ses sous-transactions sont également annulées, même si elles ont été validées individuellement à l'aide de cette fonction.</p>
<h4><a class="anchor" aria-hidden="true" id="exemple-11"></a><a href="#exemple-11" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple</h4>
<p>Voir l'exemple de <a href="#starttransaction"><code>.startTransaction()</code></a>.</p>
<style> h2 { background: #d9ebff;}</style>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/Rx/fr/API/DataClassAttributeClass.html"><span class="arrow-prev">← </span><span class="function-name-prevnext">DataClassAttribute</span></a><a class="docs-next button" href="/docs/Rx/fr/API/EmailObjectClass.html"><span>Email</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#ds">ds</a></li><li><a href="#open-datastore">Open datastore</a></li><li><a href="#dataclassname"><em>.dataclassName</em></a></li><li><a href="#canceltransaction">.cancelTransaction()</a></li><li><a href="#encryptionstatus">.encryptionStatus()</a></li><li><a href="#getinfo">.getInfo()</a></li><li><a href="#getrequestlog">.getRequestLog()</a></li><li><a href="#isadminprotected">.isAdminProtected()</a></li><li><a href="#makeselectionsalterable">.makeSelectionsAlterable()</a></li><li><a href="#providedatakey">.provideDataKey()</a></li><li><a href="#setadminprotection">.setAdminProtection()</a></li><li><a href="#startrequestlog">.startRequestLog()</a></li><li><a href="#starttransaction">.startTransaction()</a></li><li><a href="#stoprequestlog">.stopRequestLog()</a></li><li><a href="#validatetransaction">.validateTransaction()</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/Rx/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2022 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license-0">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:fr","version:19 R4"]}
              });
            </script></body></html>