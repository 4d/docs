<!DOCTYPE html><html lang="fr"><head><meta name="docsearch:version" content="18 R6"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Travailler avec des données · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Dans ORDA, vous accédez aux données via des [entités](/docs/Rx/fr/ORDA/dsmapping.html#entity) (entities) et des [sélections d&#x27;entités](/docs/Rx/fr/ORDA/dsmapping.html#entity-selection) (entity selections). Ces objets vous permettent de créer, mettre à jour, rechercher ou trier les données du datastore."/><meta name="docsearch:language" content="fr"/><meta property="og:title" content="Travailler avec des données · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/Rx/index.html"/><meta property="og:description" content="Dans ORDA, vous accédez aux données via des [entités](/docs/Rx/fr/ORDA/dsmapping.html#entity) (entities) et des [sélections d&#x27;entités](/docs/Rx/fr/ORDA/dsmapping.html#entity-selection) (entity selections). Ces objets vous permettent de créer, mettre à jour, rechercher ou trier les données du datastore."/><meta property="og:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><link rel="shortcut icon" href="/docs/Rx/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/Rx/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/Rx/js/code-blocks-buttons.js"></script><script src="/docs/Rx/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/Rx/css/main.css"/><script src="/docs/Rx/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/Rx/fr"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v19 BETA</a></li><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs/Rx" target="_self">v18 R6</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/Rx/img/language.svg" alt="Languages icon"/>Français</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/Rx/en/ORDA/entities.html">English</a></li><li><a href="/docs/Rx/ja/ORDA/entities.html">日本語</a></li><li><a href="/docs/Rx/de/ORDA/entities.html">Deutsch</a></li><li><a href="/docs/Rx/es/ORDA/entities.html">Español</a></li><li><a href="/docs/Rx/pt/ORDA/entities.html">Português</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>ORDA</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Prise en main<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/GettingStarted/installation.html">Installation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Gestion de projet<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Project/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Project/creating.html">Working with a project</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Project/architecture.html">Architecture of a project</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Project/documentation.html">Documenter un projet</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Concepts du langage 4D<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/about.html">À propos du Langage 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/quick-tour.html">Tour d&#x27;horizon</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/data-types.html">Types de données</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/boolean.html">Booléen</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/collection.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/date.html">Date</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/null-undefined.html">Null et Indefinie</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/number.html">Numérique (Réel, Entier, Entier long)</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/object.html">Objet</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/picture.html">Image</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/pointer.html">Pointeur</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/string.html">Chaine</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/time.html">Heure</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/variant.html">Variant</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/variables.html">Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/arrays.html">Tableaux</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/methods.html">Méthodes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/parameters.html">Paramètres</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/shared.html">Objets et collections partagés</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/classes.html">Classes</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/control-flow.html">Conditions et boucles</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/branching.html">Structures conditionnelles</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/looping.html">Structures répétitives (ou &quot;boucles&quot;)</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/error-handling.html">Gestion des erreurs</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/interpreted-compiled.html">Modes interprété et compilé</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/components.html">Composants</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Concepts/identifiers.html">Identifiants</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ORDA<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/ORDA/overview.html">Que signifie ORDA ?</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/ORDA/dsmapping.html">Data Model Objects</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/ORDA/ordaClasses.html">Classes du modèle de données</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/Rx/fr/ORDA/entities.html">Travailler avec des données</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/ORDA/datastores.html">Utiliser un datastore distant</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/ORDA/glossary.html">Glossaire</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Classes API<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/overview.html">Aperçu - API des classes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/classClass.html">Class</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/collectionClass.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/cryptoClass.html">CryptoKey</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/dataclassClass.html">DataClass</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/dataclassAttributeClass.html">DataClassAttribute</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/datastoreClass.html">DataStore</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/emails.html">Emails</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/entityClass.html">Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/entitySelectionClass.html">EntitySelection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/fileClass.html">File</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/folderClass.html">Folder</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/formulaClass.html">Formula</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/imapTransporterClass.html">IMAPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/pop3TransporterClass.html">POP3Transporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/sessionClass.html">Session</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/signalClass.html">Signal</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/smtpTransporterClass.html">SMTPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/webServerClass.html">WebServer</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/zipArchiveClass.html">ZIPArchive</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/zipFileClass.html">ZIPFile</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/API/zipFolderClass.html">ZIPFolder</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Droits d&#x27;accès<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Users/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Users/editing.html">Gestion des groupes et utilisateurs 4D</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Administration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Admin/webAdmin.html">Web Administration</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Admin/dataExplorer.html">Web Data Explorer</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Admin/licenses.html">Gestion des licences 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Admin/tls.html">TLS Protocol (HTTPS)</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">CSM<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/MSC/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/MSC/information.html">Page informations</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/MSC/analysis.html">Page Analyse d&#x27;activités</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/MSC/verify.html">Page Vérification</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/MSC/backup.html">Page Sauvegarde</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/MSC/compact.html">Page compactage</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/MSC/rollback.html">Page Retour en arrière</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/MSC/restore.html">Page restitution</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/MSC/repair.html">Page Réparation</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/MSC/encrypt.html">Page chiffrement</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Sauvegarde et restitution<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Backup/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Backup/backup.html">Sauvegarde</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Backup/settings.html">Paramètres de sauvegarde</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Backup/log.html">Fichier d&#x27;historique (.journal)</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Backup/restore.html">Restitution</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Serveur Web<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/webServer.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/webServerConfig.html">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/webServerAdmin.html">Administration</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/webServerObject.html">Objet Serveur Web</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Web Development<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/gettingStarted.html">Prise en main</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/templates.html">Template pages</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/httpRequests.html">Processing HTTP requests</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/allowProject.html">Allowing project methods</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/errorPages.html">Custom HTTP Error Pages</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/authentication.html">Authentication</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/sessions.html">User sessions</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/WebServer/preemptiveWeb.html">Using preemptive web processes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Serveur REST<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/gettingStarted.html">Prise en main</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/configuration.html">Configuration du serveur</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/authUsers.html">Sessions et utilisateurs</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/genInfo.html">Obtenir des informations du serveur</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/manData.html">Manipulation des données</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/classFunctions.html">Appeler des fonctions de classe ORDA</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/REST_requests.html">A propos des requêtes REST</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (general)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/catalog.html">$catalog</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/directory.html">$directory</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/info.html">$info</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/upload.html">$upload</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (dataClass)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/{dataClass}.html">{dataClass}</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/asArray.html">$asArray</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/atomic_$atonce.html">$atomic/$atonce</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/attributes.html">$attributes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/binary.html">$binary</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/compute.html">$compute</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/distinct.html">$distinct</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/entityset.html">$entityset</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/expand.html">$expand</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/filter.html">$filter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/imageformat.html">$imageformat</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/method.html">$method</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/orderby.html">$orderby</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/querypath.html">$querypath</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/queryplan.html">$queryplan</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/savedfilter.html">$savedfilter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/savedorderby.html">$savedorderby</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/skip.html">$skip</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/timeout.html">$timeout</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/top_$limit.html">$top/$limit</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/REST/version.html">$version</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Client/Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Desktop/clientServer.html">Client/Server Management</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Formulaires<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/forms.html">A propos des formulaires 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/formEditor.html">Éditeur de formulaire</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/macros.html">Form Editor Macros</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/objectLibrary.html">Bibliothèques d&#x27;objets</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/stylesheets.html">Feuilles de style (style sheets)</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/pictures.html">Images</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Propriétés des formulaires<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/jsonReference.html">Liste de propriétés JSON</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/action.html">Action</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/propertiesForm.html">Propriétés des formulaires</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/formSize.html">Form Size</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/markers.html">Markers</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/menu.html">Menu</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/print.html">Imprimer</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormEditor/windowSize.html">Window Size</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Objets formulaires<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/formObjectsOverview.html">A propos des objets formulaires 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/buttonOverview.html">Bouton</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/buttonGridOverview.html">Grille de boutons</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/checkboxOverview.html">Case à cocher</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/comboBoxOverview.html">Combo Box</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/dropdownListOverview.html">Liste déroulante</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/groupBox.html">Zone de groupe</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/inputOverview.html">Input</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/listOverview.html">Liste hiérarchique</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/listboxOverview.html">List Box</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/pictureButtonOverview.html">Bouton image</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/picturePopupMenuOverview.html">Pop-up menu image</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/pluginAreaOverview.html">Zone de plug-in</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/progressIndicator.html">Indicateurs de progression</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/radiobuttonOverview.html">Bouton radio</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/ruler.html">Règle</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/shapesOverview.html">Formes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/spinner.html">Spinner</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/splitters.html">Séparateur</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/staticPicture.html">Image statique</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/stepper.html">Stepper</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/subformOverview.html">Sous-formulaire</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/tabControl.html">Onglets</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/text.html">Texte</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/webAreaOverview.html">Zone Web</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/viewProAreaOverview.html">Zone 4D View Pro</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/writeProAreaOverview.html">Zone 4D Write Pro</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Propriétés des objets formulaire<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesReference.html">Liste de propriétés JSON</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesAction.html">Action</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesAnimation.html">Animation</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesAppearance.html">Apparence</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesBackgroundAndBorder.html">Fond et bordure</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesCoordinatesAndSizing.html">Coordonnées et dimensions</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesCrop.html">Découpage</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesDataSource.html">Source de données</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesDisplay.html">Affichage</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesEntry.html">Saisie</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesFooters.html">Pieds</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesGridlines.html">Quadrillage</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesHeaders.html">En-têtes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesHelp.html">Aide</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesHierarchy.html">Hiérarchie</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesListBox.html">List Box</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesObject.html">Objets</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesPicture.html">Image</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesPlugIns.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesPrint.html">Imprimer</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesRangeOfValues.html">Plage de valeurs</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesResizingOptions.html">Options de redimensionnement</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesScale.html">Echelle</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesSubform.html">Sous-formulaire</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesText.html">Texte</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesTextAndPicture.html">Texte et Image</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/FormObjects/propertiesWebArea.html">Zone Web</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Evénements formulaire<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onActivate.html">Sur activation</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onAfterEdit.html">Sur après modification</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onAfterKeystroke.html">Sue après frappe clavier</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onAfterSort.html">Sur après tri</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onAlternativeClick.html">Sur clic alternatif</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onBeforeDataEntry.html">Sur avant saisie</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onBeforeKeystroke.html">Sue avant frappe clavier</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onBeginDragOver.html">Sur début survol</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onBeginUrlLoading.html">On Begin URL Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onBoundVariableChange.html">On Bound Variable Change</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onClicked.html">Sur clic</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onCloseBox.html">On Close Box</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onCloseDetail.html">Sur fermeture corps</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onCollapse.html">Sur contracter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onColumnMoved.html">Sur déplacement colonne</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onColumnResize.html">Sur redimensionnement colonne</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onDataChange.html">Sur données modifiées</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onDeactivate.html">On Deactivate</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onDeleteAction.html">Sur action suppression</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onDisplayDetail.html">Sur affichage corps</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onDoubleClicked.html">Sur double clic</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onDragOver.html">Sur glisser</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onDrop.html">Sur déposer</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onEndUrlLoading.html">On End URL Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onExpand.html">Sur déployer</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onFooterClick.html">Sur clic pied</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onGettingFocus.html">On getting focus</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onHeader.html">Sur entête</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onHeaderClick.html">Sur clic entête</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onLoad.html">On Load</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onLoadRecord.html">Sur chargement ligne</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onLongClick.html">Sur clic long</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onLosingFocus.html">Sur perte focus</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onMenuSelected.html">Sur menu sélectionné</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onMouseEnter.html">Sur début survol</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onMouseLeave.html">Sur fin survol</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onMouseMove.html">Sur survol</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onMouseUp.html">On Mouse Up</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onOpenDetail.html">Sur ouverture corps</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onOpenExternalLink.html">On Open External Link</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onOutsideCall.html">Sur appel extérieur</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onPageChange.html">Sur changement page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onPlugInArea.html">Sur appel zone du plug in</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onPrintingBreak.html">On Printing Break</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onPrintingDetail.html">On Printing Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onPrintingFooter.html">On Printing Footer</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onResize.html">Sur redimensionnement</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onRowMoved.html">Sur déplacement ligne</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onRowResize.html">On Row Resize</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onScroll.html">Sur défilement</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onSelectionChange.html">Sur nouvelle sélection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onTimer.html">Sur minuteur</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onUnload.html">On Unload</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onUrlFiltering.html">On URL Filtering</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onUrlLoadingError.html">On URL Loading Error</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onUrlResourceLoading.html">On URL Resource Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onValidate.html">Sur validation</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onVpRangeChanged.html">On VP Range Changed</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onVpReady.html">On VP Ready</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Events/onWindowOpeningDenied.html">On Window Opening Denied</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Menus<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Menus/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Menus/creating.html">Créer des menus et des barres de menus</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Menus/properties.html">Propriétés des menus</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Menus/bars.html">Barres de menus</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Menus/sdi.html">Mode SDI sous Windows</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Build application<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/fr/Desktop/building.html">Générer un package projet</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/Rx/docs/ORDA/entities.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Travailler avec des données</h1></header><article><div><span><p>Dans ORDA, vous accédez aux données via des <a href="/docs/Rx/fr/ORDA/dsmapping.html#entity">entités</a> (entities) et des <a href="/docs/Rx/fr/ORDA/dsmapping.html#entity-selection">sélections d'entités</a> (entity selections). Ces objets vous permettent de créer, mettre à jour, rechercher ou trier les données du datastore.</p>
<h2><a class="anchor" aria-hidden="true" id="créer-une-entité"></a><a href="#créer-une-entité" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Créer une entité</h2>
<p>Il existe deux façons de créer une nouvelle entité dans une dataclass :</p>
<ul>
<li>Les entités étant des références à des enregistrements de base de données, vous pouvez créer des entités en créant des enregistrements en utilisant le langage 4D &quot;classique&quot;, puis les référencer avec des méthodes ORDA telles que <code>entity.next()</code> ou <code>entitySelection.first()</code>.</li>
<li>Vous pouvez également créer une entité à l'aide de la méthode <code>dataClass.new()</code>.</li>
</ul>
<p>Gardez à l'esprit que l'entité est créée uniquement en mémoire. Si vous souhaitez l'ajouter à la banque de données, vous devez appeler la méthode <code>entity.save ()</code>.</p>
<p>Les attributs de l'entité sont directement disponibles en tant que propriétés de l'objet entité. Pour plus d'informations, reportez-vous à <a href="#using-entity-attributes">Utilisation des attributs d'entité</a>.</p>
<p>Par exemple, nous voulons créer une nouvelle entité dans la dataclass &quot;Employee&quot; dans le datastore courant avec &quot;John&quot; et &quot;Dupont&quot; affectés aux attributs de prénom et de nom :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$myEntity </span>: cs.EmployeeEntity
<span class="hljs-variable">$myEntity</span>:=ds.Employee.<span class="hljs-function">new</span>() <span class="hljs-comment">//Créer un nouvel objet de type entité</span>
<span class="hljs-variable">$myEntity</span>.name:=<span class="hljs-string">"Dupont"</span> <span class="hljs-comment">//assigner 'Dupont' à l'attribut 'name'</span>
<span class="hljs-variable">$myEntity</span>.firstname:=<span class="hljs-string">"John"</span> <span class="hljs-comment">//assigner 'John' à l'attribut 'firstname' </span>
<span class="hljs-variable">$myEntity</span>.<span class="hljs-function">save</span>() <span class="hljs-comment">//sauvegarder l'entité</span>
</code></pre>
<blockquote>
<p>Une entité est définie uniquement dans le processus où elle a été créée. Vous ne pouvez pas, par exemple, stocker une référence à une entité dans une variable interprocess et l'utiliser dans un autre processus.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="entités-et-références"></a><a href="#entités-et-références" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Entités et références</h2>
<p>Une entité contient une référence à un enregistrement 4D. Différentes entités peuvent référencer le même enregistrement 4D. De plus, comme une entité peut être stockée dans une variable objet 4D, différentes variables peuvent contenir une référence à la même entité.</p>
<p>Si vous exécutez le code suivant :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$e1</span>; <span class="hljs-variable">$e2 </span>: cs.EmployeeEntity
 <span class="hljs-variable">$e1</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">1</span>) <span class="hljs-comment">//accéder à l'employé avec ID 1</span>
 <span class="hljs-variable">$e2</span>:=<span class="hljs-variable">$e1</span>
 <span class="hljs-variable">$e1</span>.name:=<span class="hljs-string">"Hammer"</span>
  <span class="hljs-comment">//les variables $e1 et $e2 partagent la référence à la même entité</span>
  <span class="hljs-comment">//$e2.name contient "Hammer"</span>
</code></pre>
<p>Ceci est illustré par le graphique suivant :</p>
<p><img src="/docs/Rx/assets/en/ORDA/entityRef1.png" alt=""></p>
<p>Maintenant, si vous exécutez :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$e1</span>; <span class="hljs-variable">$e2 </span>: cs.EmployeeEntity
 <span class="hljs-variable">$e1</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">1</span>)
 <span class="hljs-variable">$e2</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">1</span>)
 <span class="hljs-variable">$e1</span>.name:=<span class="hljs-string">"Hammer"</span>
  <span class="hljs-comment">//la variable $e1 contient une référence vers une entité</span>
  <span class="hljs-comment">//variable $e2 contient une autre référence vers une autre entité</span>
  <span class="hljs-comment">//$e2.name contient "smith"</span>
</code></pre>
<p>Ceci est illustré par le graphique suivant :</p>
<p><img src="/docs/Rx/assets/en/ORDA/entityRef2.png" alt=""></p>
<p>A noter cependant que les entités font référence au même enregistrement. Dans tous les cas, si vous appelez la méthode <code>entity.save()</code>, l'enregistrement sera mis à jour (sauf en cas de conflit, voir <a href="#entity-locking">Verrouillage d'entité</a>).</p>
<p>In fact, <code>$e1</code> and <code>$e2</code> are not the entity itself, but a reference to the entity. It means that you can pass them directly to any function or method, and it will act like a pointer, and faster than a 4D pointer. Par exemple :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$entity</span>;<span class="hljs-variable">$selection</span>)
<span class="hljs-function">    do_Capitalize</span>(<span class="hljs-variable">$entity</span>)<span class="hljs-keyword">
 End for each</span>
</code></pre>
<p>Et la méthode est :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$1</span>
 <span class="hljs-variable">$name</span>:=<span class="hljs-variable">$entity</span>.lastname<span class="hljs-keyword">
 If</span>(<span class="hljs-function">Not</span>(<span class="hljs-variable">$name</span>=<span class="hljs-literal">Null</span>))
    <span class="hljs-variable">$name</span>:=<span class="hljs-function">Uppercase</span>(<span class="hljs-function">Substring</span>(<span class="hljs-variable">$name</span>;<span class="hljs-number">1</span>;<span class="hljs-number">1</span>))+<span class="hljs-function">Lowercase</span>(<span class="hljs-function">Substring</span>(<span class="hljs-variable">$name</span>;<span class="hljs-number">2</span>))<span class="hljs-keyword">
 End if</span>
 <span class="hljs-variable">$entity</span>.lastname:=<span class="hljs-variable">$name</span>
</code></pre>
<p>Vous pouvez gérer les entités comme n'importe quel autre objet dans 4D et passer leurs références directement en tant que <a href="/docs/Rx/fr/Concepts/parameters.html">paramètres</a>.</p>
<blockquote>
<p>Avec les entités, il n'y a pas de notion de &quot;enregistrement courant&quot; comme dans le langage classique de 4D. Vous pouvez utiliser autant d'entités que nécessaire, en même temps. Il n'existe pas non plus de verrouillage automatique d'une entité (voir <a href="#entity-locking">Verrouillage d'une entité</a>). When an entity is loaded, it uses the <a href="/docs/Rx/fr/ORDA/glossary.html#lazy-loading">lazy loading</a> mechanism, which means that only the needed information is loaded. Néanmoins, en mode client/serveur, l'entité peut être automatiquement chargée directement si nécessaire.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="utilisation-des-attributs-dentités"></a><a href="#utilisation-des-attributs-dentités" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utilisation des attributs d'entités</h2>
<p>Les attributs d'entité stockent les données et mappent les champs correspondants dans la table correspondante. Les attributs d'entité du type de stockage peuvent être définis ou obtenus sous forme de propriétés simples de l'objet entité, tandis que l'entité de type <strong>relatedEntity</strong> ou <strong>relatedEntities</strong> renverra une entité ou une sélection d'entité.</p>
<blockquote>
<p>Pour plus d'informations sur le type d'attribut, reportez-vous au paragraphe <a href="/docs/Rx/fr/ORDA/dsmapping.html#storage-and-relation-attributes">Attributs de stockage et de relation</a>.</p>
</blockquote>
<p>Par exemple, pour définir un attribut de stockage :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$entity</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">1</span>) <span class="hljs-comment">//get employee attribute with ID 1</span>
 <span class="hljs-variable">$name</span>:=<span class="hljs-variable">$entity</span>.lastname <span class="hljs-comment">//get the employee name, e.g. "Smith"</span>
 <span class="hljs-variable">$entity</span>.lastname:=<span class="hljs-string">"Jones"</span> <span class="hljs-comment">//set the employee name</span>
</code></pre>
<blockquote>
<p>Les attributs d'images ne peuvent pas être assignés directement à un chemin donné dans une entité.</p>
</blockquote>
<p>L'accès à un attribut associé dépend du type d'attribut. Par exemple, avec la structure suivante :</p>
<p><img src="/docs/Rx/assets/en/ORDA/entityAttributes.png" alt=""></p>
<p>Vous pouvez accéder aux données via le ou les objets associé(s) :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$entity</span>:=ds.Project.<span class="hljs-function">all</span>().<span class="hljs-function">first</span>().theClient <span class="hljs-comment">//récupérer l'entité Company associée au projet</span>
 <span class="hljs-variable">$EntitySel</span>:=ds.Company.<span class="hljs-function">all</span>().<span class="hljs-function">first</span>().companyProjects <span class="hljs-comment">//récupère la sélection de projets pour l'entreprise(Company)</span>
</code></pre>
<p>Notez que dans l'exemple ci-dessus, <em>theClient</em> et <em>companyProjects</em> sont des attributs de relation et représentent une relation directe entre les deux dataclasses. Cependant, les attributs de relation peuvent également être créés sur des chemins via des relations à plusieurs niveaux, y compris des références circulaires. Par exemple, considérons la structure suivante :</p>
<p><img src="/docs/Rx/assets/en/ORDA/entityAttributes2.png" alt=""></p>
<p>Chaque employé peut être un manager et peut avoir un manager. Pour obtenir le manager du manager d'un employé, vous pouvez simplement écrire :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$myEmp</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">50</span>)
 <span class="hljs-variable">$manLev2</span>:=<span class="hljs-variable">$myEmp</span>.manager.manager.lastname
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="assigner-des-valeurs-aux-attributs-de-relation"></a><a href="#assigner-des-valeurs-aux-attributs-de-relation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Assigner des valeurs aux attributs de relation</h2>
<p>Dans l'architecture ORDA, les attributs de relation contiennent directement des données liées aux entités :</p>
<ul>
<li>Un attribut de relation de type N-&gt; 1 (type <strong>relatedEntity</strong>) contient une entité</li>
<li>Un attribut de relation de type 1-&gt; N (type <strong>relatedEntities</strong>) contient une sélection d'entité</li>
</ul>
<p>Regardons la structure (simplifiée) suivante :</p>
<p><img src="/docs/Rx/assets/en/ORDA/entityAttributes3.png" alt=""></p>
<p>Dans cet exemple, une entité de la dataclass &quot;Employee&quot; contient un objet de type Entité dans l'attribut &quot;employer&quot; (ou une valeur nulle). Une entité de la dataclass &quot;Company&quot; contient un objet de type EntitySelection dans l'attribut &quot;staff&quot; (ou une valeur nulle).</p>
<blockquote>
<p>Dans ORDA, la propriété Automatic ou Manual des relations ne produit aucun effet.</p>
</blockquote>
<p>Pour attribuer une valeur directement à l'attribut &quot;employer&quot;, vous devez passer une entité existante de la dataclass &quot;Company&quot;. Par exemple :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$emp</span>:=ds.Employee.<span class="hljs-function">new</span>() <span class="hljs-comment">// créer un employé</span>
 <span class="hljs-variable">$emp</span>.lastname:=<span class="hljs-string">"Smith"</span> <span class="hljs-comment">// attribuer une valeur à un attribut</span>
 <span class="hljs-variable">$emp</span>.employer:=ds.Company.<span class="hljs-function">query</span>(<span class="hljs-string">"name =:1"</span>;<span class="hljs-string">"4D"</span>)[<span class="hljs-number">0</span>]  <span class="hljs-comment">//attribuer une entité de "company"</span>
 <span class="hljs-variable">$emp</span>.<span class="hljs-function">save</span>()
</code></pre>
<p>4D fournit une fonctionnalité supplémentaire pour saisir un attribut de relation pour une entité N liée à une entité &quot;1&quot;: vous passez directement la clé primaire de l'entité &quot;1&quot; lors de l'attribution d'une valeur à l'attribut de relation. Pour que cela fonctionne, passez des données de type Numérique ou Texte (la valeur de la clé primaire) à l'attribut de relation. 4D se charge alors automatiquement de rechercher l'entité correspondante dans la dataclass. Par exemple :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$emp</span>:=ds.Employee.<span class="hljs-function">new</span>()
 <span class="hljs-variable">$emp</span>.lastname:=<span class="hljs-string">"Wesson"</span>
 <span class="hljs-variable">$emp</span>.employer:=<span class="hljs-number">2</span> <span class="hljs-comment">// attribuer une clé primaire à l'attribut relation</span>
  <span class="hljs-comment">//4D recherche l'entreprise dont la clé primaire (dans ce cas, son ID) est 2</span>
  <span class="hljs-comment">//et l'attribue à l'employé</span>
 <span class="hljs-variable">$emp</span>.<span class="hljs-function">save</span>()
</code></pre>
<p>Ceci est particulièrement utile lorsque vous importez un grand nombre de données à partir d'une base de données relationnelle. Ce type d'import contient généralement une colonne &quot;ID&quot;, qui référence une clé primaire que vous pouvez ensuite affecter directement à un attribut de relation.</p>
<p>Cela signifie également que vous pouvez attribuer des clés primaires dans les N entités sans que les entités correspondantes aient déjà été créées dans la 1e classe de datastore. Si vous affectez une clé primaire qui n'existe pas dans la classe de datastore associée, elle est néanmoins stockée et affectée par 4D dès que cette entité &quot;1&quot; est créée.</p>
<p>Vous pouvez attribuer ou modifier la valeur d'un attribut d'entité associé &quot;1&quot; à partir de la dataclass &quot;N&quot; directement via l'attribut associé. Par exemple, si vous souhaitez modifier l'attribut de nom d'une entité &quot;Company&quot; associée d'une entité &quot;Employee&quot;, vous pouvez écrire :</p>
<pre><code class="hljs css language-code4d"> <span class="hljs-variable">$emp</span>:=ds<span class="hljs-selector-class">.Employee</span>.get(<span class="hljs-number">2</span>) <span class="hljs-comment">// charge l'entité Employee avec la clé primaire 2</span>
 <span class="hljs-variable">$emp</span><span class="hljs-selector-class">.employer</span><span class="hljs-selector-class">.name</span>:=<span class="hljs-string">"4D, Inc."</span> <span class="hljs-comment">//modifier l'attribut de nom de la société associée</span>
 <span class="hljs-variable">$emp</span><span class="hljs-selector-class">.employer</span>.save() <span class="hljs-comment">//sauvegarder l'attribut associé</span>
  <span class="hljs-comment">//l'entité associée est mise à jour</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="créer-une-sélection-dentité-entity-selection"></a><a href="#créer-une-sélection-dentité-entity-selection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Créer une sélection d'entité (entity selection)</h2>
<p>Vous pouvez créer un objet de type <a href="/docs/Rx/fr/ORDA/dsmapping.html#entity-selection">entity selection</a> comme suit :</p>
<ul>
<li>Lancez une requête sur les entités <a href="/docs/Rx/fr/API/dataclassClass.html#query">dans une dataclass</a> ou dans une <a href="/docs/Rx/fr/API/entitySelectionClass.html#query">sélection d'entités existante</a>;</li>
<li>Utilisez la fonction de dataclass <a href="/docs/Rx/fr/API/dataclassClass.html#all"><code>.all()</code></a> pour sélectionner toutes les entités d'une dataclass;</li>
<li>Utilisez la commande <code>Create entity selection</code> ou la fonction de dataclass <a href="/docs/Rx/fr/API/dataclassClass.html#newselection"><code>.newSelection()</code></a> pour créer un objet de sélection d'entités (entity collection) vide;</li>
<li>Utilisez la fonction <a href="/docs/Rx/fr/API/entitySelectionClass.html#copy"><code>.copy()</code></a> pour dupliquer une sélection d'entités existante;</li>
<li>Utilisez l'une des diverses fonctions de <a href="/docs/Rx/fr/API/entitySelectionClass.html">Entity selection class</a> qui retourne une nouvelle sélection d'entité, telle que <a href="/docs/Rx/fr/API/entitySelectionClass.html#or"><code>entitySelection.or()</code></a>;</li>
<li>Utilisez un attribut de relation de type &quot;related entities&quot; (&quot;entités liées&quot;) (voir ci-dessous).</li>
</ul>
<p>Vous pouvez créer et utiliser simultanément autant de sélections d'entités différentes que vous le souhaitez pour une dataclass. A noter qu'une sélection d'entité ne contient que des références à des entités. Différentes sélections d'entités peuvent contenir des références vers les mêmes entités.</p>
<h3><a class="anchor" aria-hidden="true" id="shareable-or-alterable-entity-selections"></a><a href="#shareable-or-alterable-entity-selections" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shareable or alterable entity selections</h3>
<p>An entity selection can be <strong>shareable</strong> (readable by multiple processes, but not alterable after creation) or <strong>alterable</strong> (supports the <a href="/docs/Rx/fr/API/entitySelectionClass.html#add"><code>.add()</code></a> function, but only usable by the current process).</p>
<h4><a class="anchor" aria-hidden="true" id="propriétés"></a><a href="#propriétés" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Propriétés</h4>
<p>A <strong>shareable</strong> entity selection has the following characteristics:</p>
<ul>
<li>it can be stored in a shared object or shared collection, and can be passed as parameter between several processes or workers;</li>
<li>it can be stored in several shared objects or collections, or in a shared object or collection which already belongs to a group (it does not have a <em>locking identifier</em>);</li>
<li>it does not allow the addition of new entities. Trying to add an entity to a shareable entity selection will trigger an error (1637 - This entity selection cannot be altered). To add an entity to a shareable entity selection, you must first transform it into a non-shareable entity selection using the <a href="/docs/Rx/fr/API/entitySelectionClass.html#copy"><code>.copy()</code></a> function, before calling <a href="/docs/Rx/fr/API/entitySelectionClass.html#add"><code>.add()</code></a>.</li>
</ul>
<blockquote>
<p>Most entity selection functions (such as <a href="/docs/Rx/fr/API/entitySelectionClass.html#slice"><code>.slice()</code></a>, <a href="/docs/Rx/fr/API/entitySelectionClass.html#and"><code>.and()</code></a>...) support shareable entity selections since they do not need to alter the original entity selection (they return a new one).</p>
</blockquote>
<p>An <strong>alterable</strong> entity selection has the following characteristics:</p>
<ul>
<li>it cannot be shared between processes, nor be stored in a shared object or collection. Trying to store a non-shareable entity selection in a shared object or collection will trigger an error (-10721 - Not supported value type in a shared object or shared collection);</li>
<li>it accepts the addition of new entities, i.e. it is supports the <a href="/docs/Rx/fr/API/entitySelectionClass.html#add"><code>.add()</code></a> function.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="how-are-they-defined"></a><a href="#how-are-they-defined" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How are they defined?</h4>
<p>The <strong>shareable</strong> or <strong>alterable</strong> nature of an entity selection is defined when the entity selection is created (it cannot be modified afterwards). You can know the nature of an entity selection using the <a href="/docs/Rx/fr/API/entitySelectionClass.html#isalterable">.isAlterable()</a> function or the <code>OB Is shared</code> command.</p>
<p>A new entity selection is <strong>shareable</strong> in the following cases:</p>
<ul>
<li>the new entity selection results from an ORDA class function applied to a dataClass: <a href="/docs/Rx/fr/API/dataclassClass.html#all">dataClass.all()</a>, <a href="/docs/Rx/fr/API/dataclassClass.html#fromcollection">dataClass.fromCollection()</a>, <a href="/docs/Rx/fr/API/dataclassClass.html#query">dataClass.query()</a>,</li>
<li>the new entity selection is based upon a relation <a href="/docs/Rx/fr/API/entityClass.html#attributename">entity.<em>attributeName</em></a> (e.g. &quot;company.employees&quot;) when <em>attributeName</em> is a one-to-many related attribute but the entity does not belong to an entity selection.</li>
<li>the new entity selection is explicitely copied as shareable with <a href="/docs/Rx/fr/API/entitySelectionClass.html#copy">entitySelection.copy()</a> or <code>OB Copy</code> (i.e. with the <code>ck shared</code> option).</li>
</ul>
<p>Exemple :</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$myComp</span>:=ds.Company.<span class="hljs-function">get</span>(<span class="hljs-number">2</span>) <span class="hljs-comment">//$myComp does not belong to an entity selection</span>
<span class="hljs-variable">$employees</span>:=<span class="hljs-variable">$myComp</span>.employees <span class="hljs-comment">//$employees is shareable</span>
</code></pre>
<p>A new entity selection is <strong>alterable</strong> in the following cases:</p>
<ul>
<li>the new entity selection created blank using the <a href="/docs/Rx/fr/API/dataclassClass.html#newselection">dataClass.newSelection()</a> function or <code>Create entity selection</code> command,</li>
<li>the new entity selection is explicitely copied as alterable with <a href="/docs/Rx/fr/API/entitySelectionClass.html#copy">entitySelection.copy()</a> or <code>OB Copy</code> (i.e. without the <code>ck shared</code> option).</li>
</ul>
<p>Exemple :</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$toModify</span>:=ds.Company.<span class="hljs-function">all</span>().<span class="hljs-function">copy</span>() <span class="hljs-comment">//$toModify is alterable</span>
</code></pre>
<p>A new entity selection <strong>inherits</strong> from the original entity selection nature in the following cases:</p>
<ul>
<li>the new entity selection results from one of the various ORDA class functions applied to an existing entity selection (<a href="/docs/Rx/fr/API/entitySelectionClass.html#query">.query()</a>, <a href="/docs/Rx/fr/API/entitySelectionClass.html#slice">.slice()</a>, etc.) .</li>
<li>the new entity selection is based upon a relation:
<ul>
<li><a href="/docs/Rx/fr/API/entityClass.html#attributename">entity.<em>attributeName</em></a> (e.g. &quot;company.employees&quot;) when <em>attributeName</em> is a one-to-many related attribute and the entity belongs to an entity selection (same nature as <a href="/docs/Rx/fr/API/entityClass.html#getselection">.getSelection()</a> entity selection),</li>
<li><a href="/docs/Rx/fr/API/entitySelectionClass.html#attributename">entitySelection.<em>attributeName</em></a> (e.g. &quot;employees.employer&quot;) when <em>attributeName</em> is a related attribute (same nature as the entity selection),</li>
<li><a href="/docs/Rx/fr/API/entitySelectionClass.html#extract">.extract()</a> when the resulting collection contains entity selections (same nature as the entity selection).</li>
</ul></li>
</ul>
<p>Voici quelques exemples :</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$highSal</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &gt;= :1"</span>; <span class="hljs-number">1000000</span>)   
    <span class="hljs-comment">//$highSal is shareable because of the query on dataClass</span>
<span class="hljs-variable">$comp</span>:=<span class="hljs-variable">$highSal</span>.employer <span class="hljs-comment">//$comp is shareable because $highSal is shareable</span>

<span class="hljs-variable">$lowSal</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &lt;= :1"</span>; <span class="hljs-number">10000</span>).<span class="hljs-function">copy</span>() 
    <span class="hljs-comment">//$lowSal is alterable because of the copy()</span>
<span class="hljs-variable">$comp2</span>:=<span class="hljs-variable">$lowSal</span>.employer <span class="hljs-comment">//$comp2 is alterable because $lowSal is alterable</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="sharing-an-entity-selection-between-processes-example"></a><a href="#sharing-an-entity-selection-between-processes-example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sharing an entity selection between processes (example)</h4>
<p>You work with two entity selections that you want to pass to a worker process so that it can send mails to appropriate persons:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">
var</span> <span class="hljs-variable">$paid</span>; <span class="hljs-variable">$unpaid </span>: cs.InvoicesSelection
<span class="hljs-comment">//We get entity selections for paid and unpaid invoices</span>
<span class="hljs-variable">$paid</span>:=ds.Invoices.<span class="hljs-function">query</span>(<span class="hljs-string">"status=:1"</span>; <span class="hljs-string">"Paid"</span>)
<span class="hljs-variable">$unpaid</span>:=ds.Invoices.<span class="hljs-function">query</span>(<span class="hljs-string">"status=:1"</span>; <span class="hljs-string">"Unpaid"</span>)

<span class="hljs-comment">//We pass entity selection references as parameters to the worker</span>
<span class="hljs-function">CALL WORKER</span>(<span class="hljs-string">"mailing"</span>; <span class="hljs-string">"sendMails"</span>; <span class="hljs-variable">$paid</span>; <span class="hljs-variable">$unpaid</span>)

</code></pre>
<p>The <code>sendMails</code> method:</p>
<pre><code class="hljs css language-4d">
 #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$paid </span>: cs.InvoicesSelection; <span class="hljs-variable">$unpaid </span>: cs.InvoicesSelection)<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$invoice </span>: cs.InvoicesEntity<span class="hljs-keyword">

 var</span> <span class="hljs-variable">$server</span>; <span class="hljs-variable">$transporter</span>; <span class="hljs-variable">$email</span>; <span class="hljs-variable">$status </span>: Object

  <span class="hljs-comment">//Prepare emails</span>
 <span class="hljs-variable">$server</span>:=<span class="hljs-function">New object</span>()
 <span class="hljs-variable">$server</span>.host:=<span class="hljs-string">"exchange.company.com"</span>
 <span class="hljs-variable">$server</span>.user:=<span class="hljs-string">"myName@company.com"</span>
 <span class="hljs-variable">$server</span>.password:=<span class="hljs-string">"my!!password"</span>
 <span class="hljs-variable">$transporter</span>:=<span class="hljs-function">SMTP New transporter</span>(<span class="hljs-variable">$server</span>)
 <span class="hljs-variable">$email</span>:=<span class="hljs-function">New object</span>()
 <span class="hljs-variable">$email</span>.from:=<span class="hljs-string">"myName@company.com"</span>

  <span class="hljs-comment">//Loops on entity selections</span><span class="hljs-keyword">
 For each</span>(<span class="hljs-variable">$invoice</span>;<span class="hljs-variable">$paid</span>)
    <span class="hljs-variable">$email</span>.to:=<span class="hljs-variable">$invoice</span>.customer.address <span class="hljs-comment">// email address of the customer</span>
    <span class="hljs-variable">$email</span>.subject:=<span class="hljs-string">"Payment OK for invoice # "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$invoice</span>.number)
    <span class="hljs-variable">$status</span>:=<span class="hljs-variable">$transporter</span>.<span class="hljs-function">send</span>(<span class="hljs-variable">$email</span>)<span class="hljs-keyword">
 End for each</span><span class="hljs-keyword">

 For each</span>(<span class="hljs-variable">$invoice</span>;<span class="hljs-variable">$unpaid</span>)
    <span class="hljs-variable">$email</span>.to:=<span class="hljs-variable">$invoice</span>.customer.address <span class="hljs-comment">// email address of the customer</span>
    <span class="hljs-variable">$email</span>.subject:=<span class="hljs-string">"Please pay invoice # "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$invoice</span>.number)
    <span class="hljs-variable">$status</span>:=<span class="hljs-variable">$transporter</span>.<span class="hljs-function">send</span>(<span class="hljs-variable">$email</span>)<span class="hljs-keyword">
 End for each</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="sélections-dentités-et-attributs-de-stockage"></a><a href="#sélections-dentités-et-attributs-de-stockage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sélections d'entités et attributs de stockage</h3>
<p>Tous les attributs de stockage (texte, numérique, booléen, date) sont disponibles en tant que propriétés des sélections d'entités et en tant qu'entités. Lorsqu'il est utilisé avec une sélection d'entité, un attribut scalaire retourne une collection de valeurs scalaires. Par exemple :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$locals</span>:=ds.Person.<span class="hljs-function">query</span>(<span class="hljs-string">"city = :1"</span>;<span class="hljs-string">"San Jose"</span>) <span class="hljs-comment">//entity selection of people</span>
 <span class="hljs-variable">$localEmails</span>:=<span class="hljs-variable">$locals</span>.emailAddress <span class="hljs-comment">//collection of email addresses (strings)</span>
</code></pre>
<p>This code returns in <em>$localEmails</em> a collection of email addresses as strings.</p>
<h3><a class="anchor" aria-hidden="true" id="sélections-dentités-et-attributs-de-relation"></a><a href="#sélections-dentités-et-attributs-de-relation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sélections d'entités et attributs de relation</h3>
<p>Outre la variété de méthodes de recherche, vous pouvez également utiliser des attributs de relation comme propriétés des sélections d'entités pour retourner de nouvelles sélections d'entités. Par exemple, considérons la structure suivante :</p>
<p><img src="/docs/Rx/assets/en/ORDA/entitySelectionRelationAttributes.png" alt=""></p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$myParts</span>:=ds.Part.<span class="hljs-function">query</span>(<span class="hljs-string">"ID &lt; 100"</span>) <span class="hljs-comment">//Return parts with ID less than 100</span>
 <span class="hljs-variable">$myInvoices</span>:=<span class="hljs-variable">$myParts</span>.invoiceItems.invoice
  <span class="hljs-comment">//All invoices with at least one line item related to a part in $myParts</span>
</code></pre>
<p>La dernière ligne renverra, dans $myInvoices, une sélection d'entité de toutes les factures qui ont au moins un poste de facture lié à une partie de la sélection d'entités myParts. Lorsqu'un attribut de relation est utilisé comme propriété d'une sélection d'entité, le résultat est toujours une autre sélection d'entité, même si une seule entité est retournée. Lorsqu'un attribut de relation est utilisé comme propriété d'une sélection d'entité et qu'aucune entité n'est retournée, le résultat est une sélection d'entité vide et non nulle.</p>
<h2><a class="anchor" aria-hidden="true" id="verrouillage-dune-entité"></a><a href="#verrouillage-dune-entité" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Verrouillage d'une entité</h2>
<p>Vous devez souvent gérer d'éventuels conflits pouvant survenir lorsque plusieurs utilisateurs ou process se chargent et tentent de modifier les mêmes entités en même temps. Le verrouillage des enregistrements est une méthodologie utilisée dans les bases de données relationnelles pour éviter les mises à jour incohérentes des données. Le concept consiste soit à verrouiller un enregistrement lors de sa lecture afin qu'aucun autre processus ne puisse le mettre à jour, soit à vérifier lors de la sauvegarde d'un enregistrement qu'un autre processus ne l'a pas modifié depuis sa lecture. Le premier est appelé <strong>verrouillage d'enregistrement pessimiste</strong> et garantit qu'un enregistrement modifié peut être écrit au détriment du verrouillage des enregistrements pour d'autres utilisateurs. Ce dernier est appelé <strong>verrouillage d'enregistrement optimiste</strong> et il échange la garantie des privilèges d'écriture sur l'enregistrement contre la flexibilité de décider des privilèges d'écriture uniquement si l'enregistrement doit être mis à jour. Dans le verrouillage d'enregistrement pessimiste, l'enregistrement est verrouillé même s'il n'est pas nécessaire de le mettre à jour. Dans le verrouillage d'enregistrement optimiste, la validité de la modification d'un enregistrement est fixée au moment de la mise à jour.</p>
<p>ORDA vous propose deux modes de verrouillage d'entité :</p>
<ul>
<li>un mode automatique &quot;optimiste&quot;, adapté à la plupart des applications,</li>
<li>un mode &quot;pessimiste&quot; permettant de verrouiller les entités avant d'y accéder.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="verrouillage-optimiste-automatique"></a><a href="#verrouillage-optimiste-automatique" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Verrouillage optimiste automatique</h3>
<p>Ce mécanisme automatique est basé sur le concept de &quot;verrouillage optimiste&quot; qui est particulièrement adapté aux problématiques des applications web. Ce concept se caractérise par les principes de fonctionnement suivants :</p>
<ul>
<li>Toutes les entités peuvent toujours être chargées en lecture-écriture; il n'y a pas de «verrouillage» <em>a priori</em> des entités.</li>
<li>Chaque entité possède un marqueur de verrouillage interne qui est incrémenté à chaque fois qu'il est enregistré.</li>
<li>Lorsqu'un utilisateur ou un process tente de sauvegarder une entité à l'aide de la méthode <code>entity.save()</code>, 4D compare la valeur du marqueur de l'entité à sauvegarder avec celle de l'entité trouvée dans les données (en cas de modification) :
<ul>
<li>Lorsque les valeurs correspondent, l'entité est enregistrée et la valeur du marqueur interne est incrémentée.</li>
<li>Lorsque les valeurs ne correspondent pas, cela signifie qu'un autre utilisateur a modifié cette entité entre-temps. La sauvegarde n'est pas effectuée et une erreur est retournée.</li>
</ul></li>
</ul>
<p>Le diagramme suivant illustre le verrouillage optimiste :</p>
<ol>
<li><p>Deux process chargent la même entité.<br><br><img src="/docs/Rx/assets/en/ORDA/optimisticLock1.png" alt=""></p></li>
<li><p>Le premier process modifie l'entité et valide le changement. La méthode <code>entity.save()</code> est appelée. Le moteur 4D compare automatiquement la valeur du marqueur interne de l'entité modifiée avec celle de l'entité stockée dans les données. Puisqu'ils correspondent, l'entité est enregistrée et la valeur de son marqueur est incrémentée.<br><br><img src="/docs/Rx/assets/en/ORDA/optimisticLock2.png" alt=""></p></li>
<li><p>Le deuxième process modifie également l'entité chargée et valide ses modifications. La méthode <code>entity.save()</code> est appelée. Etant donné que la valeur de marqueur de l'entité modifiée ne correspond pas à celle de l'entité stockée dans les données, la sauvegarde n'est pas effectuée et une erreur est retournée.<br><br><img src="/docs/Rx/assets/en/ORDA/optimisticLock3.png" alt=""></p></li>
</ol>
<p>Cela peut également être illustré par le code suivant :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$person1</span>:=ds.Person.<span class="hljs-function">get</span>(<span class="hljs-number">1</span>) <span class="hljs-comment">//Référence à l'entité</span>
 <span class="hljs-variable">$person2</span>:=ds.Person.<span class="hljs-function">get</span>(<span class="hljs-number">1</span>) <span class="hljs-comment">//Autre référence à la même entité</span>
 <span class="hljs-variable">$person1</span>.name:=<span class="hljs-string">"Bill"</span>
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$person1</span>.<span class="hljs-function">save</span>() <span class="hljs-comment">//$result.success=true, modification enregistrée</span>
 <span class="hljs-variable">$person2</span>.name:=<span class="hljs-string">"William"</span>
</code></pre>
<p>Dans cet exemple, nous attribuons à $person1 une référence à l'entité &quot;person&quot; avec une clé de 1. Nous attribuons ensuite une autre référence de la même entité à la variable $person2. Avec $person1, nous modifions le prénom de la personne et sauvegardons l'entité. Lorsque nous essayons de faire de même avec $person2, 4D vérifie que l'entité sur le disque est la même que lors de la première attribution de la référence dans $person1. Puisqu'elles ne sont pas identiques, 4D retourne &quot;faux&quot; dans la propriété &quot;success&quot; et ne sauvegarde pas la deuxième modification.</p>
<p>When this situation occurs, you can, for example, reload the entity from the disk using the <code>entity.reload()</code> method so that you can try to make the modification again. The <code>entity.save()</code> method also proposes an &quot;automerge&quot; option to save the entity in case processes modified attributes that were not the same.</p>
<blockquote>
<p>Record stamps are not used in <strong>transactions</strong> because only a single copy of a record exists in this context. Whatever the number of entities that reference a record, the same copy is modified thus <code>entity.save()</code> operations will never generate stamp errors.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="verrouillage-pessimiste"></a><a href="#verrouillage-pessimiste" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Verrouillage pessimiste</h3>
<p>Vous pouvez verrouiller et déverrouiller des entités à la demande lorsque vous accédez aux données. Lorsqu'une entité est verrouillée par un process, elle est chargée en lecture/écriture dans ce process mais elle est verrouillée pour tous les autres process. L'entité peut être chargée uniquement en mode lecture seule dans ces process; ses valeurs ne peuvent pas être modifiées ou enregistrées.</p>
<p>This feature is based upon two methods of the <code>Entity</code> class:</p>
<ul>
<li><code>entity.lock()</code></li>
<li><code>entity.unlock()</code></li>
</ul>
<p>Pour plus d'informations, reportez-vous aux descriptions de ces méthodes.</p>
<h3><a class="anchor" aria-hidden="true" id="utilisation-simultanée-des-verrouillages-classiques-4d-et-des-verrouillages-pessimistes-orda"></a><a href="#utilisation-simultanée-des-verrouillages-classiques-4d-et-des-verrouillages-pessimistes-orda" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utilisation simultanée des verrouillages classiques 4D et des verrouillages pessimistes ORDA</h3>
<p>L'utilisation des commandes classiques et ORDA pour le verrouillage des enregistrements est basé sur les principes suivants :</p>
<ul>
<li>Un verrouillage défini avec une commande 4D classique sur un enregistrement empêche ORDA de verrouiller l'entité correspondant à l'enregistrement.</li>
<li>Un verrouillage défini avec ORDA sur une entité empêche les commandes 4D classiques de verrouiller l'enregistrement correspondant à l'entité.</li>
</ul>
<p>Ces principes sont illustrés dans le diagramme suivant :</p>
<p><img src="/docs/Rx/assets/en/ORDA/concurrent1.png" alt=""></p>
<p>Les <strong>verrouillages de transaction</strong> s'appliquent également aux commandes classiques et aux commandes ORDA. Dans une application multiprocess ou multi-utilisateurs, un verrouillage défini dans une transaction sur un enregistrement par une commande classique aura pour effet d'empêcher tout autre process de verrouiller les entités liées à cet enregistrement (ou inversement), jusqu'à ce que la transaction soit validée ou annulée.</p>
<ul>
<li>Exemple avec un verrouillage défini par une commande classique :<br><br><img src="/docs/Rx/assets/en/ORDA/concurrent2.png" alt=""></li>
<li>Exemple avec un verrouillage défini par une méthode ORDA :<br><br><img src="/docs/Rx/assets/en/ORDA/concurrent3.png" alt=""></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="optimisation-clientserveur"></a><a href="#optimisation-clientserveur" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Optimisation client/serveur</h2>
<p>4D optimise automatiquement les requêtes ORDA qui utilisent des sélections d'entités ou qui chargent des entités en configuration client/serveur. Cette optimisation accélère l'exécution de votre application 4D en réduisant drastiquement le volume d'informations transmises sur le réseau.</p>
<p>Les mécanismes d'optimisation suivants sont mis en œuvre :</p>
<ul>
<li><p>Lorsqu'un client demande une sélection d'entité au serveur, 4D &quot;apprend&quot; automatiquement attributs de la sélection d'entité sont réellement utilisés côté client lors de l'exécution du code, et génère un &quot;contexte d'optimisation&quot; correspondant. Ce contexte est relié à la sélection d'entité et stocke les attributs utilisés. Il sera mis à jour dynamiquement si d'autres attributs sont utilisés par la suite.</p></li>
<li><p>Les requêtes ultérieures envoyées au serveur sur la même sélection d'entité réutilisent automatiquement le contexte d'optimisation et lisent uniquement les attributs nécessaires depuis le serveur, ce qui accélère le traitement. Par exemple, dans une list box basée sur une sélection d'entités, la phase d'apprentissage a lieu durant l'affichage des premières lignes et l'affichage des lignes suivantes est fortement optimisé.</p></li>
<li><p>Un contexte d'optimisation existant peut être passé en tant que propriété à une autre sélection d'entité de la même dataclass, ce qui permet d'éviter la phase d'apprentissage et d'accélérer l'application (voir <a href="#using-the-context-property">Utilisation de la propriété context</a> ci-dessous).</p></li>
</ul>
<p>Les méthodes suivantes associent automatiquement le contexte d'optimisation de la sélection d'entité d'origine à la sélection d'entité retournée :</p>
<ul>
<li><code>entitySelection.and()</code></li>
<li><code>entitySelection.minus()</code></li>
<li><code>entitySelection.or()</code></li>
<li><code>entitySelection.orderBy()</code></li>
<li><code>entitySelection.slice()</code></li>
<li><code>entitySelection.drop()</code></li>
</ul>
<p><strong>Exemple</strong></p>
<p>Considérons le code suivant :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$sel</span>:=<span class="hljs-variable">$ds</span>.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstname = ab@"</span>)<span class="hljs-keyword">
 For each</span>(<span class="hljs-variable">$e</span>;<span class="hljs-variable">$sel</span>)
    <span class="hljs-variable">$s</span>:=<span class="hljs-variable">$e</span>.firstname+<span class="hljs-string">" "</span>+<span class="hljs-variable">$e</span>.lastname+<span class="hljs-string">" works for "</span>+<span class="hljs-variable">$e</span>.employer.name <span class="hljs-comment">// $e.employer renvoie à la table Company </span><span class="hljs-keyword">
 End for each</span>
</code></pre>
<p>Thanks to the optimization, this request will only get data from used attributes (firstname, lastname, employer, employer.name) in <em>$sel</em> after a learning phase.</p>
<h3><a class="anchor" aria-hidden="true" id="utilisation-de-la-propriété-context"></a><a href="#utilisation-de-la-propriété-context" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utilisation de la propriété context</h3>
<p>Vous pouvez tirer un meilleur parti de l'optimisation en utilisant la propriété <strong>context</strong>. Cette propriété référence un contexte d'optimisation &quot;appris&quot; pour une sélection d'entités. Elle peut être passée comme paramètre aux méthodes ORDA qui retournent de nouvelles sélections d'entités, afin que les sélections d'entités demandent directement au serveur les attributs utilisés, sans passer par la phase d'apprentissage.</p>
<p>Une même propriété de contexte d'optimisation peut être passée à un nombre illimité de sélections d'entités de la même dataclass. Toutes les méthodes ORDA qui gèrent les sélections d'entités prennent en charge la propriété <strong>context</strong> (par exemple les méthodes <code>dataClass.query( )</code> ou <code>dataClass.all( )</code>). Il est toutefois important de garder à l'esprit qu'un contexte est automatiquement mis à jour lorsque de nouveaux attributs sont utilisés dans d'autres parties du code. Si le même contexte est réutilisé dans différents codes, il risque d'être surchargé et de perdre en efficacité.</p>
<blockquote>
<p>Un mécanisme similaire est mis en place pour des entités qui sont chargées, afin que seuls les attributs utilisés soient demandés (voir la méthode <code>dataClass.get( )</code>).</p>
</blockquote>
<p><strong>Exemple avec la méthode <code>dataClass.query( )</code> :</strong></p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel1</span>; <span class="hljs-variable">$sel2</span>; <span class="hljs-variable">$sel3</span>; <span class="hljs-variable">$sel4</span>; <span class="hljs-variable">$querysettings</span>; <span class="hljs-variable">$querysettings2 </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$data </span>: Collection
 <span class="hljs-variable">$querysettings</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>;<span class="hljs-string">"shortList"</span>)
 <span class="hljs-variable">$querysettings2</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>;<span class="hljs-string">"longList"</span>)

 <span class="hljs-variable">$sel1</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname = S@"</span>;<span class="hljs-variable">$querysettings</span>)
 <span class="hljs-variable">$data</span>:=<span class="hljs-function">extractData</span>(<span class="hljs-variable">$sel1</span>) <span class="hljs-comment">// In extractData method an optimization is triggered and associated to context "shortList"</span>

 <span class="hljs-variable">$sel2</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname = Sm@"</span>;<span class="hljs-variable">$querysettings</span>)
 <span class="hljs-variable">$data</span>:=<span class="hljs-function">extractData</span>(<span class="hljs-variable">$sel2</span>) <span class="hljs-comment">// In extractData method the optimization associated to context "shortList" is applied</span>

 <span class="hljs-variable">$sel3</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname = Smith"</span>;<span class="hljs-variable">$querysettings2</span>)
 <span class="hljs-variable">$data</span>:=<span class="hljs-function">extractDetailedData</span>(<span class="hljs-variable">$sel3</span>) <span class="hljs-comment">// In extractDetailedData method an optimization is triggered and associated to context "longList"</span>

 <span class="hljs-variable">$sel4</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname = Brown"</span>;<span class="hljs-variable">$querysettings2</span>)
 <span class="hljs-variable">$data</span>:=<span class="hljs-function">extractDetailedData</span>(<span class="hljs-variable">$sel4</span>) <span class="hljs-comment">// In extractDetailedData method the optimization associated to context "longList" is applied</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="listbox-basée-sur-une-sélection-dentités"></a><a href="#listbox-basée-sur-une-sélection-dentités" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Listbox basée sur une sélection d'entités</h3>
<p>L'optimisation d'une sélection d'entités s'applique automatiquement aux listbox basées sur une sélection d'entités dans les configurations client/serveur, au moment d'afficher et de dérouler le contenu d'une listbox : seuls les attributs affichés dans la listbox sont demandés depuis le serveur.</p>
<p>Un contexte spécifique nommé &quot;mode page&quot; est également proposé lorsque l'entité courante de la sélection est chargée à l'aide de l'expression <strong>élément courant</strong> de la listbox (voir <a href="/docs/Rx/fr/FormObjects/listboxOverview.html#list-box-types">List box de type collection ou entity selection</a>). Cette fonctionnalité vous permet de ne pas surcharger le contexte initial de la listbox dans ce cas précis, notamment si la &quot;page&quot; requiert des attributs supplémentaires. A noter que seule l'utilisation de l'expression <strong>Élément courant</strong> permettra de créer/utiliser le contexte de la page (l'accès via <code>entitySelection[index]</code> modifiera le contexte de la sélection d'entité).</p>
<p>Cette optimisation sera également prise en charge par les requêtes ultérieures envoyées au serveur via les méthodes de navigation des entités. Les méthodes suivantes associeront automatiquement le contexte d'optimisation de l'entité source à l'entité retournée :</p>
<ul>
<li><code>entity.next( )</code></li>
<li><code>entity.first( )</code></li>
<li><code>entity.last( )</code></li>
<li><code>entity.previous( )</code></li>
</ul>
<p>Par exemple, le code suivant charge l'entité sélectionnée et permet de naviguer dans la sélection d'entités. Les entités sont chargées dans un contexte séparé et le contexte initial de la listbox demeure inchangé :</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$myEntity</span>:=Form.currentElement <span class="hljs-comment">//expression de l'élément courant </span>
  <span class="hljs-comment">//... faire quelque chose</span>
 <span class="hljs-variable">$myEntity</span>:=<span class="hljs-variable">$myEntity</span>.<span class="hljs-function">next</span>() <span class="hljs-comment">//charge la prochaine entité à l'aide du même contexte</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/Rx/fr/ORDA/ordaClasses.html"><span class="arrow-prev">← </span><span>Classes du modèle de données</span></a><a class="docs-next button" href="/docs/Rx/fr/ORDA/datastores.html"><span>Utiliser un datastore distant</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#créer-une-entité">Créer une entité</a></li><li><a href="#entités-et-références">Entités et références</a></li><li><a href="#utilisation-des-attributs-dentités">Utilisation des attributs d'entités</a></li><li><a href="#assigner-des-valeurs-aux-attributs-de-relation">Assigner des valeurs aux attributs de relation</a></li><li><a href="#créer-une-sélection-dentité-entity-selection">Créer une sélection d'entité (entity selection)</a><ul class="toc-headings"><li><a href="#shareable-or-alterable-entity-selections">Shareable or alterable entity selections</a></li><li><a href="#sélections-dentités-et-attributs-de-stockage">Sélections d'entités et attributs de stockage</a></li><li><a href="#sélections-dentités-et-attributs-de-relation">Sélections d'entités et attributs de relation</a></li></ul></li><li><a href="#verrouillage-dune-entité">Verrouillage d'une entité</a><ul class="toc-headings"><li><a href="#verrouillage-optimiste-automatique">Verrouillage optimiste automatique</a></li><li><a href="#verrouillage-pessimiste">Verrouillage pessimiste</a></li><li><a href="#utilisation-simultanée-des-verrouillages-classiques-4d-et-des-verrouillages-pessimistes-orda">Utilisation simultanée des verrouillages classiques 4D et des verrouillages pessimistes ORDA</a></li></ul></li><li><a href="#optimisation-clientserveur">Optimisation client/serveur</a><ul class="toc-headings"><li><a href="#utilisation-de-la-propriété-context">Utilisation de la propriété context</a></li><li><a href="#listbox-basée-sur-une-sélection-dentités">Listbox basée sur une sélection d'entités</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/Rx/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2021 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:fr","version:18 R6"]}
              });
            </script></body></html>
