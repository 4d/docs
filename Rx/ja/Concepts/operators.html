<!DOCTYPE html><html lang="ja"><head><meta name="docsearch:version" content="19 R5"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>演算子 · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="演算子とは、値のチェック・変更・結合に使用する記号または記号のグループです。 日常的に使用されている演算子も多くあります。 例えば、`1 + 2` という式は加算演算子 (プラス記号) を使用し、2つの数値を足し合わせて、3という結果を返します。 = や &gt; などの比較演算子は、2つ以上の値を比較するためのものです。"/><meta name="docsearch:language" content="ja"/><meta property="og:title" content="演算子 · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/Rx/index.html"/><meta property="og:description" content="演算子とは、値のチェック・変更・結合に使用する記号または記号のグループです。 日常的に使用されている演算子も多くあります。 例えば、`1 + 2` という式は加算演算子 (プラス記号) を使用し、2つの数値を足し合わせて、3という結果を返します。 = や &gt; などの比較演算子は、2つ以上の値を比較するためのものです。"/><meta property="og:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><link rel="shortcut icon" href="/docs/Rx/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/Rx/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/Rx/js/code-blocks-buttons.js"></script><script src="/docs/Rx/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/Rx/css/main.css"/><script src="/docs/Rx/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/Rx/ja"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v19 R6 BETA</a></li><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs/Rx" target="_self">v19 R5</a></li><li class=""><a href="https://developer.4d.com/docs/19" target="_self">v19</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/Rx/img/language.svg" alt="Languages icon"/>日本語</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/Rx/en/Concepts/operators.html">English</a></li><li><a href="/docs/Rx/de/Concepts/operators.html">Deutsch</a></li><li><a href="/docs/Rx/es/Concepts/operators.html">Español</a></li><li><a href="/docs/Rx/fr/Concepts/operators.html">Français</a></li><li><a href="/docs/Rx/pt/Concepts/operators.html">Português</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>ランゲージのコンセプト</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">プロジェクト管理<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Project/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Project/architecture.html">プロジェクトのアーキテクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Project/documentation.html">ドキュメンテーション</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Project/compiler.html">コンパイル</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ランゲージのコンセプト<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/about.html">4D ランゲージについて</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/quick-tour.html">概要</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/Rx/ja/Concepts/operators.html">演算子</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/data-types.html">データタイプの概要</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/boolean.html">ブール</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/collection.html">コレクション</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/date.html">日付</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/null-undefined.html">Null と 未定義</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/number.html">数値 (実数、倍長整数、整数)</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/object.html">オブジェクト</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/picture.html">ピクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/pointer.html">ポインター</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/string.html">文字列</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/time.html">時間</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/variant.html">バリアント</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/variables.html">変数</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/arrays.html">配列</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/methods.html">メソッド</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/parameters.html">引数</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/shared.html">共有オブジェクトと共有コレクション</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/classes.html">クラス</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/control-flow.html">制御フロー</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/branching.html">分岐構造</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/looping.html">ループ構造</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/error-handling.html">エラー処理</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/interpreted-compiled.html">インタープリターモードとコンパイル済みモード</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/components.html">コンポーネント</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/plug-ins.html">プラグイン</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Concepts/identifiers.html">識別子の命名規則</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ORDA<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/ORDA/overview.html">ORDAとは何か</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/ORDA/dsmapping.html">データモデルオブジェクト</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/ORDA/ordaClasses.html">データモデルクラス</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/ORDA/entities.html">データ操作</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/ORDA/datastores.html">リモートデータストアの利用</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/ORDA/glossary.html">用語集</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">クラス API リファレンス<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/overview.html">クラス API の概要</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/BlobClass.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/ClassClass.html">Class</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/CollectionClass.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/CryptoKeyClass.html">CryptoKey</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/DataClassClass.html">DataClass</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/DataClassAttributeClass.html">DataClassAttribute</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/DataStoreClass.html">DataStore</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/EmailObjectClass.html">Email</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/EntityClass.html">Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/EntitySelectionClass.html">EntitySelection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/FileClass.html">File</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/FolderClass.html">Folder</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/FunctionClass.html">Formula</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/IMAPTransporterClass.html">IMAPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/MailAttachmentClass.html">MailAttachment</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/POP3TransporterClass.html">POP3Transporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/SessionClass.html">Session</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/SignalClass.html">Signal</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/SMTPTransporterClass.html">SMTPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/SystemWorkerClass.html">SystemWorker</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/WebServerClass.html">WebServer</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/ZipArchiveClass.html">ZIPArchive</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/ZipFileClass.html">ZIPFile</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/API/ZipFolderClass.html">ZIPFolder</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">コードエディター<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/code-editor/navigation.html">ナビゲーションドロップダウン</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">デバッガー<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Debugging/basics.html">画面の説明</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Debugging/debugger.html">デバッガー</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Debugging/breakpoints.html">ブレークポイントとキャッチコマンド</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Debugging/debugging-remote.html">リモートマシンからのデバッグ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Debugging/debugLogFiles.html">ログファイルの詳細</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">変換タグ<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Tags/tags.html">変換タグ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">設定<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/general.html">一般ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/interface.html">インターフェースページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/compiler.html">コンパイラーページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/database.html">データベースページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/backup.html">バックアップページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/client-server.html">クライアント-サーバーページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/web.html">Web ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/sql.html">SQL ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/php.html">PHP ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/security.html">セキュリティページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/settings/compatibility.html">互換性ページ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">環境設定<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Preferences/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Preferences/general.html">一般ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Preferences/structure.html">ストラクチャーページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Preferences/forms.html">フォームページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Preferences/methods.html">メソッドページ</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/ja/Preferences/shortcuts.html">ショートカットページ</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/Rx/docs/Concepts/operators.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">演算子</h1></header><article><div><span><p>演算子とは、値のチェック・変更・結合に使用する記号または記号のグループです。 日常的に使用されている演算子も多くあります。 例えば、<code>1 + 2</code> という式は加算演算子 (プラス記号) を使用し、2つの数値を足し合わせて、3という結果を返します。 = や &gt; などの比較演算子は、2つ以上の値を比較するためのものです。</p>
<p>4Dランゲージでサポートされている演算子は、C や JavaScript など他の言語でも使用されています。 ただし、等号比較演算子 (<code>=</code>) との誤用を防ぐため、代入演算子は <code>:=</code> となっています。 や、比較演算子 (=、&gt;、&gt;=...) などの <a href="#基本演算子">基本演算子</a> は、数値のほか、ブール、テキスト、日付、時間、ポインター、ピクチャーのデータ型にも使用可能です。 JavaScript と同様に、4Dランゲージも <a href="#truthy-と-falsy">truthy (真的) と falsy (偽的)</a> の概念をサポートしており、<a href="#短絡演算子">短絡演算子</a> で使用されています。</p>
<h2><a class="anchor" aria-hidden="true" id="用語"></a><a href="#用語" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>用語</h2>
<p>4Dランゲージでは、<strong>二項演算子</strong> および <strong>三項演算子</strong> をサポートしています:</p>
<ul>
<li>二項演算子とは、2つの対象に対して演算をおこない、その 2つの対象の間に表示されます (例: <code>2＋3</code>)。</li>
<li>三項演算子は 3つの対象に対して演算をおこないます。 C と同様、4D の三項演算子は 1つしかありません: 三項条件演算子 (a ? b : c</code>) です。</li>
</ul>
<p>演算子が影響を与える対象はオペランド (被演算子) と呼ばれます。 <code>1 + 2</code> という式では、+ 記号は二項演算子であり、その 2つのオペランドは値 1 と 2 です。</p>
<h2><a class="anchor" aria-hidden="true" id="代入"></a><a href="#代入" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>代入</h2>
<p><strong>代入演算子</strong> (<code>a:=b</code>) は、<code>a</code> の値を <code>b</code> の値で初期化、または更新します。</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$myNumber</span>:=<span class="hljs-number">3</span> <span class="hljs-comment">// MyNumber 変数に 3 を代入します</span>
<span class="hljs-variable">$myDate</span>:=<span class="hljs-literal">!2018/01/21!</span> <span class="hljs-comment">// 日付リテラルを代入します</span>
<span class="hljs-variable">$myLength</span>:=<span class="hljs-function">Length</span>(<span class="hljs-string">"Acme"</span>) <span class="hljs-comment">// コマンドの結果 (4) を $myLength に代入します</span>
<span class="hljs-variable">$col</span>:=New collection <span class="hljs-comment">// $col を空のコレクションで初期化します</span>
</code></pre>
<blockquote>
<p>代入演算子 <code>:=</code> と等号比較演算子 <code>=</code> とを混同しないように注意してください。 <code>=</code> とは異なる代入演算子が採用されたのは意図的なことで、他のプログラミング言語で == や === の使用によって度々起こる間違いを避けるためです。 このような間違いはコンパイラーにとっても発見しにくく、時間を消耗するトラブルシューティングのもとです。</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="基本演算子"></a><a href="#基本演算子" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基本演算子</h2>
<p>演算の結果は、オペランドの <strong>データ型</strong> に依存します。 4D はスカラーデータ型に対して様々な演算子をサポートしています。 詳細は、各データ型の項にて説明されています:</p>
<ul>
<li><a href="/docs/Rx/ja/Concepts/boolean.html#論理演算子"><strong>論理演算子</strong></a> (<strong>ブール</strong> 式に使用)</li>
<li><a href="/docs/Rx/ja/Concepts/date.html#date-operators"><strong>日付演算子</strong></a></li>
<li><a href="/docs/Rx/ja/Concepts/time.html#time-operators"><strong>時間演算子</strong></a></li>
<li><a href="/docs/Rx/ja/Concepts/number.html#number-operators"><strong>数値演算子</strong></a></li>
<li><a href="/docs/Rx/ja/Concepts/number.html#ビットワイズ演算子"><strong>ビットワイズ演算子</strong></a> (<strong>倍長整数</strong> 式に使用)</li>
<li><a href="/docs/Rx/ja/Concepts/picture.html#picture-operators"><strong>ピクチャー演算子</strong></a></li>
<li><a href="/docs/Rx/ja/Concepts/pointer.html#pointer-operators"><strong>ポインター演算子</strong></a></li>
<li><a href="/docs/Rx/ja/Concepts/string.html#string-operators"><strong>文字列演算子</strong></a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="複合代入演算子"></a><a href="#複合代入演算子" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>複合代入演算子</h2>
<p>4Dでは、代入と演算を組み合わせた <strong>複合代入演算子</strong> をサポートしています。 その一例として、加算代入演算子 (<code>+=</code>) があります。</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$a</span>:=<span class="hljs-number">1</span> 
<span class="hljs-variable">$a</span>+=<span class="hljs-number">2</span> <span class="hljs-comment">// $a=3</span>
</code></pre>
<p>次の複合代入演算子がサポートされています:</p>
<table>
<thead>
<tr><th>演算子</th><th>シンタックス</th><th>代入される型</th><th>例題</th></tr>
</thead>
<tbody>
<tr><td>加算 (足し算)</td><td>Text += Text</td><td>テキスト</td><td><code>$t+=&quot; World&quot; //$t:=$t+&quot; World&quot;</code></td></tr>
<tr><td></td><td>Number += Number</td><td>数値</td><td><code>$n+=5 //$n:=$n+5</code></td></tr>
<tr><td></td><td>Date += Number</td><td>日付</td><td><code>$d+=5 //$d:=$d+5</code></td></tr>
<tr><td></td><td>Time += Time</td><td>時間</td><td><code>$t1+=$t2 //$t1:=$t1+$t2</code></td></tr>
<tr><td></td><td>Time += Number</td><td>数値</td><td><code>$t1+=5 //$t1:=$t1+5</code></td></tr>
<tr><td></td><td>Picture += Picture</td><td>ピクチャー</td><td><code>$p1+=$p2 //$p1:=$p1+$p2 ($p1 の右に $p2 を追加します)</code></td></tr>
<tr><td></td><td>Picture += Number</td><td>ピクチャー</td><td><code>$p1+=5 //$p1:=$p1+5 ($p1 を 5ピクセル右に移動します)</code></td></tr>
<tr><td>減算 (引き算)</td><td>Number -= Number</td><td>数値</td><td><code>$n-=5 //$n:=$n-5</code></td></tr>
<tr><td></td><td>Date -= Number</td><td>日付</td><td><code>$d-=5 //$d:=$d-5</code></td></tr>
<tr><td></td><td>Time -= Time</td><td>時間</td><td><code>$t1-=$t2 //$t1:=$t1-$t2</code></td></tr>
<tr><td></td><td>Time -= Number</td><td>数値</td><td><code>$t1-=5 //$t1:=$t1-5</code></td></tr>
<tr><td></td><td>Picture -= Number</td><td>ピクチャー</td><td><code>$p1-=5 //$p1:=$p1-5 ($p1 を 5ピクセル左に移動します)</code></td></tr>
<tr><td>除算 (割り算)</td><td>Number /= Number</td><td>数値</td><td><code>$n/=5 //$n:=$n/5</code></td></tr>
<tr><td></td><td>Time /= Time</td><td>時間</td><td><code>$t1/=$t2 //$t1:=$t1/$t2</code></td></tr>
<tr><td></td><td>Time /= Number</td><td>数値</td><td><code>$t1/=5 //$t1:=$t1/5</code></td></tr>
<tr><td></td><td>Picture /= Picture</td><td>ピクチャー</td><td><code>$p1/=$p2 //$p1:=$p1/$p2 ($p1 の下に $p2 を追加します)</code></td></tr>
<tr><td></td><td>Picture /= Number</td><td>ピクチャー</td><td><code>$p1/=5 //$p1:=$p1/5 ($p1 を 5ピクセル垂直に移動します)</code></td></tr>
<tr><td>乗算 (かけ算)</td><td>Text *= Number</td><td>テキスト</td><td><code>$t*=&quot;abc&quot; //$t:=$t*&quot;abc&quot;</code></td></tr>
<tr><td></td><td>Number *= Number</td><td>数値</td><td><code>$n*=5 //$n:=$n*5</code></td></tr>
<tr><td></td><td>Time *= Time</td><td>時間</td><td><code>$t1*=$t2 //$t1:=$t1*$t2</code></td></tr>
<tr><td></td><td>Time *= Number</td><td>数値</td><td><code>$t1*=5 //$t1:=$t1*5</code></td></tr>
<tr><td></td><td>Picture *= Number</td><td>ピクチャー</td><td><code>$p1*=5 //$p1:=$p1*5 ($p1 を 5倍にリサイズします)</code></td></tr>
</tbody>
</table>
<p>これらの演算子は、あらゆる <a href="/docs/Rx/ja/Concepts/quick-tour.html#代入可-vs-代入不可の式">代入可能な式</a> に適用できます (オブジェクトのプロパティやコレクション要素としてのピクチャーを除く)。</p>
<p>&quot;代入先 複合代入演算子 値&quot; と &quot;代入先 := 代入先 演算子 値&quot; は、厳密には等価ではありません。なぜなら、前者の場合、代入先 (変数・フィールド・オブジェクトプロパティ・コレクション要素) は一度しか評価されないからです。 たとえば、<code>getPointer()-&gt;+=1</code> のような式では、<code>getPointer</code> メソッドは一度だけ呼び出されます。</p>
<blockquote>
<p><a href="/docs/Rx/ja/Concepts/string.html#文字参照記号">テキストの文字インデックス</a> および <a href="/docs/Rx/ja/Concepts/blob.html#スカラーBLOB-のバイトへのアクセス">BLOB のバイトインデックス</a> では、これらの演算子はサポートされません。</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="例題"></a><a href="#例題" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>例題</h4>
<pre><code class="hljs css language-4d"><span class="hljs-comment">// 加算</span>
<span class="hljs-variable">$x</span>:=<span class="hljs-number">2</span>
<span class="hljs-variable">$x</span>+=<span class="hljs-number">5</span> <span class="hljs-comment">//$x=7</span>

<span class="hljs-variable">$t</span>:=<span class="hljs-string">"Hello"</span> 
<span class="hljs-variable">$t</span>+=<span class="hljs-string">" World"</span> <span class="hljs-comment">//$t="Hello World" </span>

<span class="hljs-variable">$d</span>:=<span class="hljs-literal">!2000-11-10!</span>
<span class="hljs-variable">$d</span>+=<span class="hljs-number">10</span> <span class="hljs-comment">//$d=!2000-11-20!</span>

<span class="hljs-comment">// 減算</span>
<span class="hljs-variable">$x1</span>:=<span class="hljs-number">10</span>
<span class="hljs-variable">$x1</span>-=<span class="hljs-number">5</span> <span class="hljs-comment">//$x1=5</span>

<span class="hljs-variable">$d1</span>:=<span class="hljs-literal">!2000-11-10!</span>
<span class="hljs-variable">$d1</span>-=<span class="hljs-number">10</span> <span class="hljs-comment">// $d1=!2000-10-31!</span>

<span class="hljs-comment">// 除算</span>
<span class="hljs-variable">$x3</span>:=<span class="hljs-number">10</span>
<span class="hljs-variable">$x3</span>/=<span class="hljs-number">2</span> <span class="hljs-comment">// $x3=5</span>


<span class="hljs-comment">// 乗算</span>
<span class="hljs-variable">$x2</span>:=<span class="hljs-number">10</span>
<span class="hljs-variable">$x2</span>*=<span class="hljs-number">5</span> <span class="hljs-comment">// $x2=50</span>

<span class="hljs-variable">$t2</span>:=<span class="hljs-string">"Hello"</span> 
<span class="hljs-variable">$t2</span>*=<span class="hljs-number">2</span> <span class="hljs-comment">// $t2="HelloHello"</span>

</code></pre>
<h2><a class="anchor" aria-hidden="true" id="短絡演算子"></a><a href="#短絡演算子" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>短絡演算子</h2>
<p>演算子 <strong>&amp;&amp;</strong> と <strong>||</strong> は、短絡演算子です。 短絡演算子とは、必ずしもすべてのオペランドを評価しない演算子のことです。</p>
<p><a href="/docs/Rx/ja/Concepts/boolean.html#論理演算子"><strong>&amp;</strong> や <strong>|</strong> 論理演算子</a> と異なる点は、短絡演算子の <strong>&amp;&amp;</strong> と <strong>||</strong> はブール値を返さないことです。 これらは式を <a href="#truthy-と-falsy">truthy (真的) または falsy (偽的)</a> で評価し、どちらかの式を返します。</p>
<h3><a class="anchor" aria-hidden="true" id="and-短絡演算子-"></a><a href="#and-短絡演算子-" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AND 短絡演算子 (&amp;&amp;)</h3>
<p>ルールは以下の通りです。</p>
<p><code>Expr1 &amp;&amp; Expr2</code> において:</p>
<p>AND短絡演算子はオペランドを左から右へ評価し、falsy と評価された最初のオペランドの値を直ちに返します。 すべての値が <a href="#truthy-と-falsy">truthy</a> であれば、最後のオペランドの値が返されます。</p>
<p>次の表は、<strong>&amp;&amp;</strong> 演算子の様々なケースをまとめたものです:</p>
<table>
<thead>
<tr><th>Expr1</th><th>Expr2</th><th>返される値</th></tr>
</thead>
<tbody>
<tr><td>truthy</td><td>truthy</td><td>Expr2</td></tr>
<tr><td>truthy</td><td>falsy</td><td>Expr2</td></tr>
<tr><td>falsy</td><td>truthy</td><td>Expr1</td></tr>
<tr><td>falsy</td><td>falsy</td><td>Expr1</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="例題-1"></a><a href="#例題-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>例題 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$v </span>: Variant

<span class="hljs-variable">$v</span>:= <span class="hljs-string">"Hello"</span> &amp;&amp; <span class="hljs-string">"World"</span> <span class="hljs-comment">//"World"</span>
<span class="hljs-variable">$v</span>:=<span class="hljs-literal">False</span> &amp;&amp; <span class="hljs-number">0</span> <span class="hljs-comment">// False</span>
<span class="hljs-variable">$v</span>:=<span class="hljs-number">0</span> &amp;&amp; <span class="hljs-literal">False</span> <span class="hljs-comment">// False</span>
<span class="hljs-variable">$v</span>:=<span class="hljs-number">5</span> &amp;&amp; <span class="hljs-literal">!00-00-00!</span> <span class="hljs-comment">// 00/00/00</span>
<span class="hljs-variable">$v </span>:= <span class="hljs-number">5</span> &amp;&amp; <span class="hljs-number">10</span> &amp;&amp; <span class="hljs-string">"hello"</span> <span class="hljs-comment">//"hello"</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="例題-2"></a><a href="#例題-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>例題 2</h4>
<p>オンラインストアで、税率が適用される商品とされない商品があるとします。</p>
<p>税金を計算するには、価格に税率をかけますが、税率は指定されていない場合があります。</p>
<p>そこで、次のように書くことができます:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$tax </span>: Variant

<span class="hljs-variable">$tax</span>:=<span class="hljs-variable">$item</span>.taxRate &amp;&amp; (<span class="hljs-variable">$item</span>.price*<span class="hljs-variable">$item</span>.taxRate)
</code></pre>
<p>taxRate が NULL (または未定義) の場合、<code>$tax</code> は NULL となり、それ以外の場合には計算結果が格納されます。</p>
<h4><a class="anchor" aria-hidden="true" id="例題-3"></a><a href="#例題-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>例題 3</h4>
<p>短絡演算子は、次のようなテストに有効です:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span>((<span class="hljs-variable">$myObject</span>#<span class="hljs-literal">Null</span>) &amp;&amp; (<span class="hljs-variable">$myObject</span>.value&gt;<span class="hljs-number">10</span>))
    <span class="hljs-comment">// コード</span><span class="hljs-keyword">
End if</span>
</code></pre>
<p>もし $myObject が Null であれば、第2引数は実行されないため、エラーは発生しません。</p>
<h3><a class="anchor" aria-hidden="true" id="or-短絡演算子-"></a><a href="#or-短絡演算子-" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OR 短絡演算子 (||)</h3>
<p>|| 演算子は、指定されたオペランドのうち 1つの値を返します。 式は左から右に評価され、以下のルールに基づいて &quot;短絡&quot; 評価の可能性をテストされます。</p>
<p><code>Expr1 || Expr2</code> において:</p>
<p>Expr1 が <a href="#truthy-と-falsy">truthy</a> であれば、Expr2 は評価されず、計算は Expr1 を返します。</p>
<p>Expr1 が <a href="#truthy-と-falsy">falsy</a> の場合、計算は Expr2 を返します。</p>
<p>次の表は、<strong>||</strong> 演算子の様々なケースと返される値をまとめたものです:</p>
<table>
<thead>
<tr><th>Expr1</th><th>Expr2</th><th>返される値</th></tr>
</thead>
<tbody>
<tr><td>truthy</td><td>truthy</td><td>Expr1</td></tr>
<tr><td>truthy</td><td>falsy</td><td>Expr1</td></tr>
<tr><td>falsy</td><td>truthy</td><td>Expr2</td></tr>
<tr><td>falsy</td><td>falsy</td><td>Expr2</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="例題-1-1"></a><a href="#例題-1-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>例題 1</h4>
<p>Employee というテーブルがあるとします。 従業員には電話番号を入力している人と入力していない人がいます。 つまり、<code>$emp.phone</code> は NULL である可能性があり、テキスト変数に NULL を代入することはできません。 そこで、次のように書くことができます:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$phone </span>: Text

<span class="hljs-variable">$phone</span>:=<span class="hljs-variable">$emp</span>.phone || <span class="hljs-string">"n/a"</span>
</code></pre>
<p>この場合、<code>$phone</code> には電話番号か、&quot;n/a&quot; という文字列のどちらかが格納されます。</p>
<h4><a class="anchor" aria-hidden="true" id="例題-2-1"></a><a href="#例題-2-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>例題 2</h4>
<p><em>name</em> フィールドと、既婚女性のための <em>maiden name</em> (旧姓) フィールドを持つ Person テーブルがあるとします。</p>
<p>次の例は、旧姓データがあれば変数に格納し、なければその人の名前を変数に格納します。</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$name</span>: Text

<span class="hljs-variable">$name</span>:=<span class="hljs-variable">$person</span>.maidenName || <span class="hljs-variable">$person</span>.name
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="優先順位"></a><a href="#優先順位" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>優先順位</h3>
<p>演算子 <code>&amp;&amp;</code> と <code>||</code> は、論理演算子 <code>&amp;</code> および <code>|</code> と同じ優先順位を持ち、左から右へ評価されます。</p>
<p>つまり、<code>a || b &amp;&amp; c</code> は、<code>(a || b) &amp;&amp; c</code> として評価されます。</p>
<h2><a class="anchor" aria-hidden="true" id="三項演算子"></a><a href="#三項演算子" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>三項演算子</h2>
<p>三項演算子を使うと、条件式を 1行で書くことができます。 たとえば、<a href="/docs/Rx/ja/Concepts/branching.html#ifelseend-if">If...Else</a> 文を完全に置き換えることができます。</p>
<p>三項演算子は 3つのオペランドを次の順序で受け取ります:</p>
<ul>
<li>条件とクエスチョンマーク (?)</li>
<li>条件が <a href="#truthy-と-falsy">truthy</a> である場合に実行される式、その後にコロン (:)</li>
<li>条件が <a href="#truthy-と-falsy">falsy</a> の場合に実行される式</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="シンタックス"></a><a href="#シンタックス" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>シンタックス</h3>
<p>シンタックスは次のとおりです:</p>
<p><code>条件 ? truthy時の式 : falsy時の式</code></p>
<blockquote>
<p><a href="https://doc.4d.com/4Dv19R3/4D/19-R3/Using-tokens-in-formulas.300-5583062.ja.html">トークンシンタックス</a> にはコロンが使われているため、競合を避けるには、コロン <code>:</code> の後にスペースを入れる、または、トークンは括弧でくくることが推奨されます。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="例題-4"></a><a href="#例題-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>例題</h3>
<h4><a class="anchor" aria-hidden="true" id="単純な例"></a><a href="#単純な例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>単純な例</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$age </span>: Integer<span class="hljs-keyword">
var</span> <span class="hljs-variable">$beverage </span>: Text

<span class="hljs-variable">$age</span>:=<span class="hljs-number">26</span>
<span class="hljs-variable">$beverage</span>:=(<span class="hljs-variable">$age</span>&gt;=<span class="hljs-number">20</span>) ? <span class="hljs-string">"ビール"</span> : <span class="hljs-string">"ジュース"</span>

<span class="hljs-function">ALERT</span>(<span class="hljs-variable">$beverage</span>) <span class="hljs-comment">// "ビール"</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="テーブルのデータを扱う例"></a><a href="#テーブルのデータを扱う例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>テーブルのデータを扱う例</h4>
<p>この例では、人のフルネームを変数に格納し、ファーストネームやラストネームが指定されていないケースに対応します:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$fullname </span>: Text

<span class="hljs-comment">// どちらか片方の情報が欠けている場合には存在する方を格納し、両方存在しない場合は空の文字列を格納します。</span>
<span class="hljs-variable">$fullname</span>:=(<span class="hljs-variable">$person</span>.firstname &amp;&amp; <span class="hljs-variable">$person</span>.lastname)<span class="hljs-function"> ? </span>(<span class="hljs-variable">$person</span>.firstname+<span class="hljs-string">" "</span>+<span class="hljs-variable">$person</span>.lastname) : (<span class="hljs-variable">$person</span>.lastname || <span class="hljs-variable">$person</span>.firstname) || <span class="hljs-string">""</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="truthy-と-falsy"></a><a href="#truthy-と-falsy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Truthy と Falsy</h2>
<p>各値はデータ型のほかに、固有のブール値を持ちます。 このブール値は <strong>truthy</strong> (真的) または <strong>falsy</strong> (偽的) です。</p>
<blockquote>
<p><strong>truthy</strong> および <strong>falsy</strong> の値は<a href="#短絡演算子">短絡演算子</a> および <a href="#三項演算子">三項演算子</a> の場合にのみ評価されます。</p>
</blockquote>
<p>以下の値は <strong>falsy</strong> です:</p>
<ul>
<li>false</li>
<li>Null</li>
<li>未定義</li>
<li>Null オブジェクト</li>
<li>Null コレクション</li>
<li>Null ポインター</li>
<li>Null ピクチャー</li>
<li>Null 日付 !00-00-00!</li>
<li>&quot;&quot; - 空の文字列</li>
<li>[] - 空のコレクション</li>
<li>{} - 空のオブジェクト</li>
</ul>
<p>上記以外の値はすべて <strong>truthy</strong> と評価されます。</p>
<ul>
<li>0 - 数値のゼロ (整数かどうかを問わず)</li>
</ul>
<p>4Dでは、<strong>truthy</strong> と <strong>falsy</strong> の評価は値の <strong>使用性</strong> を反映します。つまり、truthy な値は存在し、エラーや予期せぬ結果を発生させずにコードによって処理できることを意味します。 その目的は、オブジェクトやコレクションにおける <em>undefined</em> や <em>null</em> 値を扱うための便利な方法を提供し、実行時エラーを回避するのに必要な <a href="/docs/Rx/ja/Concepts/branching.html#ifelseend-if">If...Else</a> 文の数を少なくすることにあります。</p>
<p>たとえば、<a href="#or-短絡演算子-">OR 短絡演算子</a> を使用すると:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$value</span>:=<span class="hljs-variable">$object</span>.value || <span class="hljs-variable">$defaultValue</span>
</code></pre>
<p><em>$object</em> が <code>value</code> プロパティを含まない場合、または同プロパティが <em>null</em> の場合に、デフォルト値が代入されます。 つまり、この演算子は特定の値ではなく、その値の存在や使用性をチェックするのです。 なお、数値の 0 は存在しており使用可能であるため、特別に扱われることはなく、<strong>truthy</strong> です。</p>
<p>コレクション、オブジェクト、文字列を表す値については、&quot;空&quot; の値は<strong>falsy</strong> とみなされます。 これは、空の値に遭遇したときに、デフォルト値を割り当てたい場合に便利です。</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$phone</span>:=<span class="hljs-variable">$emp</span>.phone || <span class="hljs-string">"n/a"</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/Rx/ja/Concepts/quick-tour.html"><span class="arrow-prev">← </span><span>概要</span></a><a class="docs-next button" href="/docs/Rx/ja/Concepts/data-types.html"><span>データタイプの概要</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#用語">用語</a></li><li><a href="#代入">代入</a></li><li><a href="#基本演算子">基本演算子</a></li><li><a href="#複合代入演算子">複合代入演算子</a></li><li><a href="#短絡演算子">短絡演算子</a><ul class="toc-headings"><li><a href="#and-短絡演算子-">AND 短絡演算子 (&amp;&amp;)</a></li><li><a href="#or-短絡演算子-">OR 短絡演算子 (||)</a></li><li><a href="#優先順位">優先順位</a></li></ul></li><li><a href="#三項演算子">三項演算子</a><ul class="toc-headings"><li><a href="#シンタックス">シンタックス</a></li><li><a href="#例題-4">例題</a></li></ul></li><li><a href="#truthy-と-falsy">Truthy と Falsy</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/Rx/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2022 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license-0">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                appId: 'OJ04C0M3CU',
                apiKey: '5f22ebbb9382abafeadc3e86ca47d4af',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:ja","version:19 R5"]}
              });
            </script></body></html>