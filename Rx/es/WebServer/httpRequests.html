<!DOCTYPE html><html lang="es"><head><meta name="docsearch:version" content="19 R4"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Procesamiento de peticiones HTTP · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="El servidor web de 4D ofrece varias funcionalidades para gestionar las peticiones HTTP:"/><meta name="docsearch:language" content="es"/><meta property="og:title" content="Procesamiento de peticiones HTTP · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/Rx/index.html"/><meta property="og:description" content="El servidor web de 4D ofrece varias funcionalidades para gestionar las peticiones HTTP:"/><meta property="og:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><link rel="shortcut icon" href="/docs/Rx/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/Rx/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/Rx/js/code-blocks-buttons.js"></script><script src="/docs/Rx/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/Rx/css/main.css"/><script src="/docs/Rx/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/Rx/es"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v19 R5 BETA</a></li><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs/Rx" target="_self">v19 R4</a></li><li class=""><a href="https://developer.4d.com/docs/19" target="_self">v19</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/Rx/img/language.svg" alt="Languages icon"/>Español</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/Rx/en/WebServer/httpRequests.html">English</a></li><li><a href="/docs/Rx/ja/WebServer/httpRequests.html">日本語</a></li><li><a href="/docs/Rx/de/WebServer/httpRequests.html">Deutsch</a></li><li><a href="/docs/Rx/fr/WebServer/httpRequests.html">Français</a></li><li><a href="/docs/Rx/pt/WebServer/httpRequests.html">Português</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Desarrollo web</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Servidor Web<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/es/WebServer/webServer.html">Generalidades</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/WebServer/webServerConfig.html">Configuración</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/WebServer/webServerAdmin.html">Administración</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/WebServer/webServerObject.html">Objeto servidor web</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Desarrollo web<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/es/WebServer/gettingStarted.html">Comencemos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/WebServer/templates.html">Páginas de plantillas</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/Rx/es/WebServer/httpRequests.html">Procesamiento de peticiones HTTP</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/WebServer/allowProject.html">Permitir métodos proyecto</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/WebServer/errorPages.html">Páginas de error HTTP personalizadas</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/WebServer/authentication.html">Autenticación</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/WebServer/sessions.html">Sesiones usuario</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/WebServer/preemptiveWeb.html">Uso de procesos web apropiativos</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Servidor REST<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/gettingStarted.html">Comencemos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/configuration.html">Configuración del servidor</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/authUsers.html">Usuarios y sesiones</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/genInfo.html">Obtener información del servidor</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/manData.html">Manipulación de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/classFunctions.html">Llamar a las funciones de clase ORDA</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/REST_requests.html">Acerca de las peticiones REST</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (general)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/catalog.html">$catalog</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/directory.html">$directory</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/info.html">$info</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/upload.html">$upload</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (dataClass)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/{dataClass}.html">{dataClass}</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/asArray.html">$asArray</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/atomic_$atonce.html">$atomic/$atonce</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/attributes.html">$attributes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/binary.html">$binary</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/compute.html">$compute</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/distinct.html">$distinct</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/entityset.html">$entityset</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/expand.html">$expand</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/filter.html">$filter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/imageformat.html">$imageformat</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/lock.html">$lock</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/method.html">$method</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/orderby.html">$orderby</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/querypath.html">$querypath</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/queryplan.html">$queryplan</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/savedfilter.html">$savedfilter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/savedorderby.html">$savedorderby</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/skip.html">$skip</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/timeout.html">$timeout</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/top_$limit.html">$top/$limit</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/REST/version.html">$version</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/Rx/docs/WebServer/httpRequests.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Procesamiento de peticiones HTTP</h1></header><article><div><span><p>El servidor web de 4D ofrece varias funcionalidades para gestionar las peticiones HTTP:</p>
<ul>
<li>el método base <code>On Web Connection</code>, un enrutador para su aplicación web,</li>
<li>la URL <code>/4DACTION</code> para llamar al código del lado del servidor</li>
<li><code>WEB GET VARIABLES</code> para obtener valores de los objetos HTML enviados al servidor</li>
<li>otros comandos como <code>WEB GET HTTP BODY</code>, <code>WEB GET HTTP HEADER</code>, o <code>WEB GET BODY PART</code> permiten personalizar el tratamiento de las solicitudes, incluidas las cookies.</li>
<li>el método proyecto <em>COMPILER_WEB</em>, para declarar sus variables.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="on-web-connection"></a><a href="#on-web-connection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>On Web Connection</h2>
<p>El método base <code>On Web Connection</code> puede utilizarse como punto de entrada al servidor web de 4D.</p>
<h3><a class="anchor" aria-hidden="true" id="llamadas-a-métodos-base"></a><a href="#llamadas-a-métodos-base" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Llamadas a métodos base</h3>
<p>El método base <code>On Web Connection</code> se llama automáticamente cuando el servidor recibe cualquier URL que no sea una ruta a una página existente en el servidor. Se llama al método de la base de datos con la URL.</p>
<p>Por ejemplo, la URL &quot;<em>a/b/c</em>&quot; llamará al método base, pero &quot;<em>a/b/c.html</em>&quot; no llamará al método base si la página &quot;c.html&quot; existe en la subcarpeta &quot;a/b&quot; del <a href="/docs/Rx/es/WebServer/webServerConfig.html#root-folder">WebFolder</a>.</p>
<blockquote>
<p>La petición debe haber sido aceptada previamente por el método base <a href="/docs/Rx/es/WebServer/authentication.html#on-web-authentication"><code>On Web Authentication</code></a> (si existe) y el servidor web debe ser lanzado.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="sintaxis"></a><a href="#sintaxis" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sintaxis</h3>
<p><strong>On Web Connection</strong>( <em>$1</em> : Text ; <em>$2</em> : Text ; <em>$3</em> : Text ; <em>$4</em> : Text ; <em>$5</em> : Text ; <em>$6</em> : Text )</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>$1</td><td>Texto</td><td style="text-align:center">&lt;-</td><td>URL</td></tr>
<tr><td>$2</td><td>Texto</td><td style="text-align:center">&lt;-</td><td>Encabezados HTTP + cuerpo HTTP (hasta un límite de 32 kb)</td></tr>
<tr><td>$3</td><td>Texto</td><td style="text-align:center">&lt;-</td><td>Dirección IP del cliente web (navegador)</td></tr>
<tr><td>$4</td><td>Texto</td><td style="text-align:center">&lt;-</td><td>Dirección IP del servidor</td></tr>
<tr><td>$5</td><td>Texto</td><td style="text-align:center">&lt;-</td><td>Nombre de usuario</td></tr>
<tr><td>$6</td><td>Texto</td><td style="text-align:center">&lt;-</td><td>Contraseña</td></tr>
</tbody>
</table>
<p>Debe declarar estos parámetros de la siguiente manera:</p>
<pre><code class="hljs css language-4d"><span class="hljs-comment">//Método base On Web Connection</span>

<span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$1</span>;<span class="hljs-variable">$2</span>;<span class="hljs-variable">$3</span>;<span class="hljs-variable">$4</span>;<span class="hljs-variable">$5</span>;<span class="hljs-variable">$6</span>)

<span class="hljs-comment">//Código para el métodod</span>
</code></pre>
<p>Como alternativa, puede utilizar la sintaxis <a href="/docs/Rx/es/Concepts/parameters.html#named-parameters">parámetros nombrados</a>:</p>
<pre><code class="hljs css language-4d"><span class="hljs-comment">// Método base On Web Connection</span>
#<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$url </span>: Text; <span class="hljs-variable">$header </span>: Text; \
  <span class="hljs-variable">$BrowserIP </span>: Text; <span class="hljs-variable">$ServerIP </span>: Text; \
  <span class="hljs-variable">$user </span>: Text; <span class="hljs-variable">$password </span>: Text)

</code></pre>
<blockquote>
<p>Llamar a un comando 4D que muestra un elemento de interfaz (<code>DIALOG</code>, <code>ALERT</code>, etc.) no está permitido y termina el procesamiento del método.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="1---datos-adicionales-de-la-url"></a><a href="#1---datos-adicionales-de-la-url" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>$1 - Datos adicionales de la URL</h3>
<p>El primer parámetro ($1) es la URL introducida por los usuarios en el área de direcciones de su navegador web, sin la dirección local.</p>
<p>Utilicemos como ejemplo una conexión de intranet. Supongamos que la dirección IP de su máquina 4D Web Server es 123.4.567.89. La siguiente tabla muestra los valores de $1 en función de la URL introducida en el navegador web:</p>
<table>
<thead>
<tr><th>URL introducida en el navegador web</th><th>Valor del parámetro $1</th></tr>
</thead>
<tbody>
<tr><td>123.4.567.89</td><td>/</td></tr>
<tr><td><a href="http://123.4.567.89">http://123.4.567.89</a></td><td>/</td></tr>
<tr><td>123.4.567.89/Customers</td><td>/Customers</td></tr>
<tr><td><a href="http://123.4.567.89/Customers/Add">http://123.4.567.89/Customers/Add</a></td><td>/Customers/Add</td></tr>
<tr><td>123.4.567.89/Do_This/If_OK/Do_That</td><td>/Do_This/If_OK/Do_That</td></tr>
</tbody>
</table>
<p>Tenga en cuenta que es libre de utilizar este parámetro a su conveniencia. 4D simplemente ignora el valor pasado más allá de la parte del host de la URL. Por ejemplo, puede establecer una convención en la que el valor &quot;<em>/Customers/Add</em>&quot; significa &quot;ir directamente a añadir un nuevo registro en la tabla <code>[Customers]</code>.” Al proporcionar a los usuarios de la web una lista de posibles valores y/o marcadores por defecto, puede dar accesos directos a diferentes partes de su aplicación. De este modo, los usuarios de la web pueden acceder rápidamente a los recursos de su sitio web sin tener que recorrer toda la ruta de navegación cada vez que realicen una nueva conexión.</p>
<h3><a class="anchor" aria-hidden="true" id="2---encabezado-y-cuerpo-de-la-petición-http"></a><a href="#2---encabezado-y-cuerpo-de-la-petición-http" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>$2 - Encabezado y cuerpo de la petición HTTP</h3>
<p>El segundo parámetro ($2) es el encabezado y el cuerpo de la petición HTTP enviada por el navegador web. Tenga en cuenta que esta información se pasa a su método base <code>On Web Connection</code> &quot;tal cual&quot;. Su contenido variará en función de la naturaleza del navegador web que intenta la conexión.</p>
<p>Si su aplicación utiliza esta información, deberá analizar el encabezado y el cuerpo. Puede utilizar los comandos <code>WEB GET HTTP HEADER</code> y <code>WEB GET HTTP BODY</code>.</p>
<blockquote>
<p>Por razones de rendimiento, el tamaño de los datos que pasan por el parámetro $2 no debe superar los 32 KB. Más allá de este tamaño, son truncados por el servidor HTTP de 4D.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="3---dirección-ip-del-cliente-web"></a><a href="#3---dirección-ip-del-cliente-web" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>$3 - Dirección IP del cliente web</h3>
<p>El parámetro $3 recibe la dirección IP de la máquina del navegador. Esta información puede permitirle distinguir entre las conexiones a la intranet y a Internet.</p>
<blockquote>
<p>4D devuelve las direcciones IPv4 en un formato híbrido IPv6/IPv4 escrito con un prefijo de 96 bits, por ejemplo ::ffff:192.168.2.34 para la dirección IPv4 192.168.2.34. Para más información, consulte la sección <a href="/docs/Rx/es/WebServer/webServerConfig.html#about-ipv6-support">Soporte IPv6</a>.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="4---dirección-ip-del-servidor"></a><a href="#4---dirección-ip-del-servidor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>$4 - Dirección IP del servidor</h3>
<p>El parámetro $4 recibe la dirección IP solicitada por el servidor web 4D. 4D permite el multi-homing, que permite utilizar máquinas con más de una dirección IP. Para más información, consulte la <a href="webServerConfig.html#ip-address-to-listen">página Configuración</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="5-y-6---nombre-de-usuario-y-contraseña"></a><a href="#5-y-6---nombre-de-usuario-y-contraseña" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>$5 y $6 - Nombre de usuario y contraseña</h3>
<p>Los parámetros $5 y $6 reciben el nombre de usuario y la contraseña introducidos por el usuario en el cuadro de diálogo de identificación estándar que muestra el navegador, si procede (ver la página <a href="/docs/Rx/es/WebServer/authentication.html">autenticación</a>).</p>
<blockquote>
<p>Si el nombre de usuario enviado por el navegador existe en 4D, el parámetro $6 (la contraseña del usuario) no se devuelve por razones de seguridad.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="4daction"></a><a href="#4daction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>/4DACTION</h2>
<p><strong><em>/4DACTION/</em></strong>MethodName***<br> *<em>/4DACTION/******MethodName/Param</em></p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>MethodName</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Nombre del método de proyecto 4D a ejecutar</td></tr>
<tr><td>Param</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Parámetro texto a pasar al método proyecto</td></tr>
</tbody>
</table>
<p><strong>Uso:</strong> URL o acción del formulario.</p>
<p>Esta URL permite llamar al método proyecto 4D <em>MethodName</em> con un parámetro texto opcional <em>Param</em>. El método recibirá este parámetro en <em>$1</em>.</p>
<ul>
<li>El método proyecto 4D debe haber sido <a href="/docs/Rx/es/WebServer/allowProject.html">permitido para peticiones web</a>: el valor del atributo &quot;Disponible a través de etiquetas y URLs 4D (4DACTION...)&quot; debe haber sido marcado en las propiedades del método. Si no se comprueba el atributo, se rechaza la solicitud web.</li>
<li>Cuando 4D recibes una petición <code>/4DACTION/MethodName/Param</code>, se llama el método base <code>On Web Authentication</code> (si existe).</li>
</ul>
<p><code>4DACTION/</code> puede asociarse a una URL en una página web estática:</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">A</span> <span class="hljs-attr">HREF</span>=<span class="hljs-string">"/4DACTION/MyMethod/hello"</span>&gt;</span>Do Something<span class="hljs-tag">&lt;/<span class="hljs-name">A</span>&gt;</span>
</code></pre>
<p>El método proyecto <code>MyMethod</code> debe devolver generalmente una &quot;respuesta&quot; (envío de una página HTML utilizando <code>WEB SEND FILE</code> o <code>WEB SEND TEXT</code>, etc.). mediante. Asegúrese de que el tratamiento sea lo más breve posible para no bloquear el navegador.</p>
<blockquote>
<p>Un método llamado por <code>/4DACTION</code> no debe llamar a elementos de la interfaz (<code>DIALOG</code>, <code>ALERT</code>, etc.).</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="ejemplo"></a><a href="#ejemplo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<p>Este ejemplo describe la asociación de la URL <code>/4DACTION</code> con un objeto imagen HTML para mostrar dinámicamente una imagen en la página. Inserta las siguientes instrucciones en una página HTML estática:</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">IMG</span> <span class="hljs-attr">SRC</span>=<span class="hljs-string">"/4DACTION/getPhoto/smith"</span>&gt;</span>
</code></pre>
<p>El método <code>getPhoto</code> es el siguiente:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function">C_TEXT</span>(<span class="hljs-variable">$1</span>) <span class="hljs-comment">// Este parámetro debe declararse siempre</span><span class="hljs-keyword">
var</span> <span class="hljs-variable">$path </span>: Text<span class="hljs-keyword">
var</span> <span class="hljs-variable">$PictVar </span>: Picture<span class="hljs-keyword">
var</span> <span class="hljs-variable">$BlobVar </span>: Blob

 <span class="hljs-comment">//busca la imagen en la carpeta Imágenes dentro de la carpeta Resources </span>
<span class="hljs-variable">$path</span>:=<span class="hljs-function">Get 4D folder</span>(Current resources folder)+<span class="hljs-string">"Images"</span>+Folder separator+<span class="hljs-variable">$1</span>+<span class="hljs-string">".psd"</span>

<span class="hljs-function">READ PICTURE FILE</span>(<span class="hljs-variable">$path</span>;<span class="hljs-variable">$PictVar</span>) <span class="hljs-comment">//pone la imagen en la variable imagen</span>
<span class="hljs-function">PICTURE TO BLOB</span>(<span class="hljs-variable">$PictVar</span>;<span class="hljs-variable">$BLOB</span>;<span class="hljs-string">".png"</span>) <span class="hljs-comment">//convierte la imagen en formato ".png".</span>
<span class="hljs-function">WEB SEND BLOB</span>(<span class="hljs-variable">$BLOB</span>;<span class="hljs-string">"image/png"</span>)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="4dacción-para-publicar-formularios"></a><a href="#4dacción-para-publicar-formularios" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4DACCIÓN para publicar formularios</h3>
<p>El servidor web de 4D también le permite utilizar formularios &quot;publicados&quot;, que son páginas HTML estáticas que envían datos al servidor web y recuperar fácilmente todos los valores. Se les debe asociar el tipo POST y la acción del formulario debe empezar imperativamente por /4DACTION/MethodName.</p>
<p>Un formulario puede ser enviado a través de dos métodos (ambos pueden ser utilizados con 4D):</p>
<ul>
<li>POST, normalmente utilizado para enviar datos al servidor web,</li>
<li>GET, normalmente utilizado para solicitar datos del servidor web.</li>
</ul>
<blockquote>
<p>Cuando el servidor web recibe un formulario publicado, llama al método base <code>On Web Authentication</code> (si existe).</p>
</blockquote>
<p>En el método llamado, debe llamar al comando <code>WEB GET VARIABLES</code> para <a href="#getting-values-from-the-requests">recuperar los nombres y valores</a> de todos los campos incluidos en una página HTML enviada al servidor.</p>
<p>Ejemplo para definir la acción de un formulario:</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">FORM</span> <span class="hljs-attr">ACTION</span>=<span class="hljs-string">"/4DACTION/MethodName"</span> <span class="hljs-attr">METHOD</span>=<span class="hljs-string">POST</span>&gt;</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-1"></a><a href="#ejemplo-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<p>En una aplicación web, nos gustaría que los navegadores pudieran buscar entre los registros mediante una página HTML estática. Esta página se llama &quot;search.htm&quot;. La aplicación contiene otras páginas estáticas que permiten, por ejemplo, mostrar el resultado de la búsqueda (&quot;results.htm&quot;). Se ha asociado el tipo POST a la página, así como la acción <code>/4DACTION/SEARCH</code>.</p>
<p>Aquí está el código HTML que corresponde a esta página:</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/4daction/processForm"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">POST</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">text</span> <span class="hljs-attr">name</span>=<span class="hljs-string">vName</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">BR</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">checkbox</span> <span class="hljs-attr">name</span>=<span class="hljs-string">vExact</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Word"</span>&gt;</span>Whole word<span class="hljs-tag">&lt;<span class="hljs-name">BR</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">submit</span> <span class="hljs-attr">name</span>=<span class="hljs-string">OK</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Search"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">FORM</span>&gt;</span>
</code></pre>
<p>Durante la entrada de datos, escriba &quot;ABCD&quot; en el área de entrada de datos, marque la opción &quot;Whole word&quot; y valídela haciendo clic en el botón <strong>Search</strong>. En la solicitud enviada al servidor web:</p>
<pre><code class="hljs"><span class="hljs-attr">vName</span>=<span class="hljs-string">"ABCD"</span>
<span class="hljs-attr">vExact</span>=<span class="hljs-string">"Word"</span>
<span class="hljs-attr">OK</span>=<span class="hljs-string">"Search"</span>
</code></pre>
<p>4D llama al método base <code>&lt;On Web Authentication&gt;</code> (si existe), luego se llama al método proyecto <code>processForm</code>, que es el siguiente:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$1</span>) <span class="hljs-comment">//obligatorio para el modo compilado</span>
<span class="hljs-function"> C_LONGINT</span>(<span class="hljs-variable">$vName</span>)
<span class="hljs-function"> C_TEXT</span>(vName;vLIST)
<span class="hljs-function"> ARRAY TEXT</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-number">0</span>)
<span class="hljs-function"> ARRAY TEXT</span>(<span class="hljs-variable">$arrVals</span>;<span class="hljs-number">0</span>)
<span class="hljs-function"> WEB GET VARIABLES</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-variable">$arrVals</span>) <span class="hljs-comment">//recuperamos todas las variables del formulario</span>
 <span class="hljs-variable">$vName</span>:=<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vName"</span>)
 vName:=<span class="hljs-variable">$arrVals{</span><span class="hljs-variable">$vName}</span><span class="hljs-keyword">
 If</span>(<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vExact"</span>)=<span class="hljs-number">-1</span>) <span class="hljs-comment">//Si la opción no ha sido marcada</span>
    vName:=vName+<span class="hljs-string">"@"</span><span class="hljs-keyword">
 End if</span>
<span class="hljs-function"> QUERY</span>([Jockeys];[Jockeys]Name=vName)
<span class="hljs-function"> FIRST RECORD</span>([Jockeys])<span class="hljs-keyword">
 While</span>(<span class="hljs-function">Not</span>(<span class="hljs-function">End selection</span>([Jockeys])))
    vLIST:=vLIST+[Jockeys]Name+<span class="hljs-string">" "</span>+[Jockeys]Tel+<span class="hljs-string">"&lt;BR&gt;"</span>
<span class="hljs-function">    NEXT RECORD</span>([Jockeys])<span class="hljs-keyword">
 End while</span>
<span class="hljs-function"> WEB SEND FILE</span>(<span class="hljs-string">"results.htm"</span>) <span class="hljs-comment">//Enviar la lista al formulario results.htm</span>
  <span class="hljs-comment">//que contiene una referencia a la variable vLIST,</span>
  <span class="hljs-comment">//por ejemplo &lt;!--4DHTML vLIST--&gt;</span>
  <span class="hljs-comment">//...</span><span class="hljs-keyword">
End if</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="obtener-valores-de-las-peticiones-http"></a><a href="#obtener-valores-de-las-peticiones-http" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Obtener valores de las peticiones HTTP</h2>
<p>El servidor web de 4D le permite recuperar datos enviados a través de peticiones POST o GET, utilizando formularios web o URLs.</p>
<p>Cuando el servidor web recibe una petición con datos en el encabezado o en la URL, 4D puede recuperar los valores de cualquier objeto HTML que contenga. Este principio puede implementarse en el caso de un formulario web, enviado por ejemplo utilizando <code>WEB SEND FILE</code> o <code>WEB SEND BLOB</code>, en el que el usuario introduce o modifica valores y luego hace clic en el botón de validación.</p>
<p>En este caso, 4D puede recuperar los valores de los objetos HTML encontrados en la petición utilizando el comando <code>WEB GET VARIABLES</code>. El comando <code>WEB GET VARIABLES</code> recupera los valores como texto.</p>
<p>Considere el siguiente código fuente de la página HTML:</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Welcome<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"JavaScript"</span>&gt;</span><span class="actionscript">&lt;!--
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GetBrowserInformation</span><span class="hljs-params">(formObj)</span></span>{
formObj.vtNav_appName.value = navigator.appName
formObj.vtNav_appVersion.value = navigator.appVersion
formObj.vtNav_appCodeName.value = navigator.appCodeName
formObj.vtNav_userAgent.value = navigator.userAgent
<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LogOn</span><span class="hljs-params">(formObj)</span></span>{
<span class="hljs-keyword">if</span>(formObj.vtUserName.value!=<span class="hljs-string">""</span>){
<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
} <span class="hljs-keyword">else</span> {
alert(<span class="hljs-string">"Enter your name, then try again."</span>)
<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
}
}
<span class="hljs-comment">//--&gt;</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/4DACTION/WWW_STD_FORM_POST"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>
 <span class="hljs-attr">name</span>=<span class="hljs-string">"frmWelcome"</span>
 <span class="hljs-attr">onsubmit</span>=<span class="hljs-string">"return GetBrowserInformation(frmWelcome)"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Welcome to Spiders United<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Please enter your name:<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtUserName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"30"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vsbLogOn"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Log On"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"return LogOn(frmWelcome)"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vsbRegister"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Register"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vsbInformation"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Information"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_appName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_appVersion"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_appCodeName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_userAgent"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>Cuando 4D envía la página a un navegador web, tiene el siguiente aspecto:</p>
<p><img src="/docs/Rx/assets/en/WebServer/spiders.png" alt=""></p>
<p>Las principales características de esta página son:</p>
<ul>
<li>Incluye tres botones <strong>Submit</strong>: <code>vsbLogOn</code>, <code>vsbRegister</code> y <code>vsbInformation</code>.</li>
<li>Cuando se hace clic en <strong>Log On</strong>, el envío del formulario se procesa primero por la función de JavaScript <code>LogOn</code>. Si no se introduce ningún nombre, el formulario ni siquiera se envía a 4D, y se muestra una alerta de JavaScript.</li>
<li>El formulario tiene un método POST 4D así como un script Submit (<em>GetBrowserInformation</em>) que copia las propiedades del navegador a los cuatro objetos ocultos cuyos nombres empiezan por <em>vtNav_App</em>. También incluye el objeto <code>vtUserName</code>.</li>
</ul>
<p>Examinemos el método 4D <code>WWW_STD_FORM_POST</code> que se llama cuando el usuario hace clic en uno de los botones del formulario HTML.</p>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">// Recuperación del valor de las variables</span>
<span class="hljs-function"> ARRAY TEXT</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-number">0</span>)
<span class="hljs-function"> ARRAY TEXT</span>(<span class="hljs-variable">$arrValues</span>;<span class="hljs-number">0</span>)
<span class="hljs-function"> WEB GET VARIABLES</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-variable">$arrValues</span>)
<span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$user</span>)<span class="hljs-keyword">

 Case of</span>

  <span class="hljs-comment">// Se ha presionado el botón Log On</span>
    :(<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vsbLogOn"</span>)#<span class="hljs-number">-1</span>)
       <span class="hljs-variable">$user </span>:=<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vtUserName"</span>)
<span class="hljs-function">       QUERY</span>([WWW Users];[WWW Users]UserName=<span class="hljs-variable">$arrValues{</span><span class="hljs-variable">$user}</span>)
       <span class="hljs-variable">$0</span>:=(<span class="hljs-function">Records in selection</span>([WWW Users])&gt;<span class="hljs-number">0</span>)<span class="hljs-keyword">
       If</span>(<span class="hljs-variable">$0</span>)
<span class="hljs-function">          WWW POST EVENT</span>(<span class="hljs-string">"Log On"</span>;WWW Log information)
  <span class="hljs-comment">// El método WWW POST EVENT guarda la información en una tabla de la base</span><span class="hljs-keyword">
       Else</span>

          <span class="hljs-variable">$0</span>:=WWW Register
  <span class="hljs-comment">// El método WWW Register permite que un nuevo usuario de la Web se registre</span><span class="hljs-keyword">
       End if</span>

  <span class="hljs-comment">// Se ha presionado el botón Register</span>
    :(<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vsbRegister"</span>)#<span class="hljs-number">-1</span>)
       <span class="hljs-variable">$0</span>:=WWW Register

  <span class="hljs-comment">// Se ha presionado el botón de información</span>
    :(<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vsbInformation"</span>)#<span class="hljs-number">-1</span>)
<span class="hljs-function">       WEB SEND FILE</span>(<span class="hljs-string">"userinfos.html"</span>)<span class="hljs-keyword">
 End case</span>
</code></pre>
<p>Las funcionalidades de este método son:</p>
<ul>
<li>Los valores de las variables <em>vtNav_appName</em>, <em>vtNav_appVersion</em>, <em>vtNav_appCodeName</em>, y <em>vtNav_userAgent</em> (vinculadas a los objetos HTML que tienen los mismos nombres) se recuperan utilizando el comando <code>WEB GET VARIABLES</code> a partir de los objetos HTML creados por el script JavaScript <em>GetBrowserInformation</em>.</li>
<li>De las variables vinculadas <em>vsbLogOn</em>, <em>vsbRegister</em> y <em>vsbInformation</em> a los tres botones de envío, sólo la correspondiente al botón que se ha presionado será recuperada por el comando <code>WEB GET VARIABLES</code>. Cuando el envío se realiza mediante uno de estos botones, el navegador devuelve a 4D el valor del botón presionado. Esto le indica qué botón se ha presionado.</li>
</ul>
<p>Tenga en cuenta que con HTML, todos los objetos son objetos de texto. Si se utiliza un objeto SELECT, es el valor del elemento resaltado en el objeto el que se devuelve en el comando <code>WEB GET VARIABLES</code>, y no la posición del elemento en el array como en 4D. <code>WEB GET VARIABLES</code> siempre devuelve valores de tipo Texto.</p>
<h2><a class="anchor" aria-hidden="true" id="otros-comandos-del-servidor-web"></a><a href="#otros-comandos-del-servidor-web" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Otros comandos del servidor web</h2>
<p>El servidor web de 4D ofrece varios comandos web de bajo nivel que le permiten desarrollar un procesamiento personalizado de las solicitudes:</p>
<ul>
<li>el comando <code>WEB GET HTTP BODY</code> devuelve el cuerpo como texto sin procesar, permitiendo cualquier análisis que pueda necesitar</li>
<li>el comando <code>WEB GET HTTP HEADER</code> devuelve los encabezados de la petición. Es útil para manejar cookies personalizadas, por ejemplo (junto con el comando <code>WEB SET HTTP HEADER</code>).</li>
<li>los comandos <code>WEB GET BODY PART</code> y <code>WEB Get body part count</code> para analizar la parte del cuerpo de una petición de varias partes y recuperar los valores de texto, pero también los archivos publicados, utilizando BLOBs.</li>
</ul>
<p>Estos comandos se resumen en el siguiente gráfico:</p>
<p><img src="/docs/Rx/assets/en/WebServer/httpCommands.png" alt=""></p>
<p>El servidor web de 4D ahora soporta archivos cargados con codificación chunked desde cualquier cliente web. La codificación de transferencia en trozos es un mecanismo de transferencia de datos especificado en HTTP/1.1. Permite transferir datos en una serie de &quot;trozos&quot; (partes) sin conocer el tamaño final de los datos. El servidor web de 4D también soporta la codificación de transferencia en trozos desde el servidor a los clientes web (utilizando <code>WEB SEND RAW DATA</code>).</p>
<h2><a class="anchor" aria-hidden="true" id="método-proyecto-compiler_web"></a><a href="#método-proyecto-compiler_web" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Método proyecto COMPILER_WEB</h2>
<p>El método COMPILER\WEB, si existe, es llamado sistemáticamente cuando el servidor HTTP recibe una petición dinámica y llama al motor 4D. Este es el caso, por ejemplo, cuando el servidor web de 4D recibe un formulario publicado o una URL para procesar en <a href="#on-web-connection"><code>On Web Connection</code></a>. Este método está destinado a contener directivas de digitación y/o inicialización de variables utilizadas durante los intercambios web. Es utilizado por el compilador cuando se compila la aplicación. El método COMPILER\WEB es común a todos los formularios web. Por defecto, el método COMPILER_WEB no existe. Debe crearlo explícitamente.</p>
<blockquote>
<p>También se llama al método proyecto COMPILER_WEB, si existe, para cada solicitud SOAP aceptada.</p>
</blockquote>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/Rx/es/WebServer/templates.html"><span class="arrow-prev">← </span><span>Páginas de plantillas</span></a><a class="docs-next button" href="/docs/Rx/es/WebServer/allowProject.html"><span>Permitir métodos proyecto</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#on-web-connection">On Web Connection</a><ul class="toc-headings"><li><a href="#llamadas-a-métodos-base">Llamadas a métodos base</a></li><li><a href="#sintaxis">Sintaxis</a></li><li><a href="#1---datos-adicionales-de-la-url">$1 - Datos adicionales de la URL</a></li><li><a href="#2---encabezado-y-cuerpo-de-la-petición-http">$2 - Encabezado y cuerpo de la petición HTTP</a></li><li><a href="#3---dirección-ip-del-cliente-web">$3 - Dirección IP del cliente web</a></li><li><a href="#4---dirección-ip-del-servidor">$4 - Dirección IP del servidor</a></li><li><a href="#5-y-6---nombre-de-usuario-y-contraseña">$5 y $6 - Nombre de usuario y contraseña</a></li></ul></li><li><a href="#4daction">/4DACTION</a><ul class="toc-headings"><li><a href="#4dacción-para-publicar-formularios">4DACCIÓN para publicar formularios</a></li></ul></li><li><a href="#obtener-valores-de-las-peticiones-http">Obtener valores de las peticiones HTTP</a></li><li><a href="#otros-comandos-del-servidor-web">Otros comandos del servidor web</a></li><li><a href="#método-proyecto-compiler_web">Método proyecto COMPILER_WEB</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/Rx/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2022 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license-0">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:es","version:19 R4"]}
              });
            </script></body></html>