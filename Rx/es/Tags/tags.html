<!DOCTYPE html><html lang="es"><head><meta name="docsearch:version" content="19 R5"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Etiquetas de transformación · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="4D ofrece un conjunto de etiquetas de transformación que le permiten insertar referencias a las variables o a las expresiones 4D, o efectuar diferentes tipos de procesamiento en un texto fuente, llamado &quot;plantilla&quot;. These tags are interpreted when the source text is executed and generate an output text."/><meta name="docsearch:language" content="es"/><meta property="og:title" content="Etiquetas de transformación · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/Rx/index.html"/><meta property="og:description" content="4D ofrece un conjunto de etiquetas de transformación que le permiten insertar referencias a las variables o a las expresiones 4D, o efectuar diferentes tipos de procesamiento en un texto fuente, llamado &quot;plantilla&quot;. These tags are interpreted when the source text is executed and generate an output text."/><meta property="og:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><link rel="shortcut icon" href="/docs/Rx/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/Rx/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/Rx/js/code-blocks-buttons.js"></script><script src="/docs/Rx/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/Rx/css/main.css"/><script src="/docs/Rx/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/Rx/es"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v19 R6 BETA</a></li><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs/Rx" target="_self">v19 R5</a></li><li class=""><a href="https://developer.4d.com/docs/19" target="_self">v19</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/Rx/img/language.svg" alt="Languages icon"/>Español</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/Rx/en/Tags/tags.html">English</a></li><li><a href="/docs/Rx/ja/Tags/tags.html">日本語</a></li><li><a href="/docs/Rx/de/Tags/tags.html">Deutsch</a></li><li><a href="/docs/Rx/fr/Tags/tags.html">Français</a></li><li><a href="/docs/Rx/pt/Tags/tags.html">Português</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Etiquetas Transformación</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Gestión de proyecto<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Project/overview.html">Generalidades</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Project/architecture.html">Arquitectura de un proyecto</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Project/documentation.html">Documentar un proyecto</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Project/compiler.html">Compilación</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Conceptos del lenguaje 4D<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/about.html">Acerca del lenguaje 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/quick-tour.html">Un recorrido rápido</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/operators.html">Operadores</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/data-types.html">Tipos de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/boolean.html">Booleano</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/collection.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/date.html">Fecha</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/null-undefined.html">Null e indefinido</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/number.html">Número (Real, Entero largo, Entero)</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/object.html">Objeto</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/picture.html">Imagen</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/pointer.html">Puntero</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/string.html">Cadena</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/time.html">Hora</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/variant.html">Variant</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/variables.html">Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/arrays.html">Arrays</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/methods.html">Métodos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/parameters.html">Parámetros</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/shared.html">Objetos y colecciones compartidos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/classes.html">Clases</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/control-flow.html">Condiciones y bucles</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/branching.html">Estructuras condicionales</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/looping.html">Estructuras repetitivas (bucles)</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/error-handling.html">Gestión de errores</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/interpreted-compiled.html">Modos interpretado y compilado</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/components.html">Componentes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Concepts/identifiers.html">Identificadores</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ORDA<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/es/ORDA/overview.html">¿Qué es ORDA?</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/ORDA/dsmapping.html">Objeto del modelo de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/ORDA/ordaClasses.html">Clases del modelo de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/ORDA/entities.html">Trabajar con los datos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/ORDA/datastores.html">Utilizar un almacén de datos remoto</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/ORDA/glossary.html">Glosario</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Clases API<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/overview.html">Generalidades - API de clases</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/BlobClass.html">Blob</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/ClassClass.html">Class</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/CollectionClass.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/CryptoKeyClass.html">CryptoKey</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/DataClassClass.html">DataClass</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/DataClassAttributeClass.html">DataClassAttribute</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/DataStoreClass.html">DataStore</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/EmailObjectClass.html">Email</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/EntityClass.html">Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/EntitySelectionClass.html">EntitySelection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/FileClass.html">File</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/FolderClass.html">Folder</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/FunctionClass.html">Formula</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/IMAPTransporterClass.html">IMAPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/MailAttachmentClass.html">MailAttachment</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/POP3TransporterClass.html">POP3Transporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/SessionClass.html">Sesión</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/SignalClass.html">Signal</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/SMTPTransporterClass.html">SMTPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/SystemWorkerClass.html">SystemWorker</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/WebServerClass.html">WebServer</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/ZipArchiveClass.html">ZIPArchive</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/ZipFileClass.html">ZIPFile</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/API/ZipFolderClass.html">ZIPFolder</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Editor de código<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/es/code-editor/navigation.html">Despliegue de navegación</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Depuración<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Debugging/basics.html">Básicos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Debugging/debugger.html">Depurador</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Debugging/breakpoints.html">Puntos de ruptura y captura de comandos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Debugging/debugging-remote.html">Depuración desde máquinas remotas</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Debugging/debugLogFiles.html">Descripción de los archivos de historial</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Etiquetas Transformación<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/docs/Rx/es/Tags/tags.html">Etiquetas de transformación</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Settings<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/overview.html">Generalidades</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/general.html">Página General</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/interface.html">Página interfaz</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/compiler.html">Página Compilador</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/database.html">Página Base de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/backup.html">Página de respaldo</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/client-server.html">Página Cliente/Servidor</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/web.html">Página Web</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/sql.html">Página SQL</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/php.html">Págin PHP</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/security.html">Página seguridad</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/settings/compatibility.html">Página de compatibilidad</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Preferencias<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Preferences/overview.html">Generalidades</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Preferences/general.html">Página general</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Preferences/structure.html">Página Estructura</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Preferences/forms.html">Página formulario</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Preferences/methods.html">Página Métodos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/es/Preferences/shortcuts.html">Página Atajos</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/Rx/docs/Tags/tags.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Etiquetas de transformación</h1></header><article><div><span><p>4D ofrece un conjunto de etiquetas de transformación que le permiten insertar referencias a las variables o a las expresiones 4D, o efectuar diferentes tipos de procesamiento en un texto fuente, llamado &quot;plantilla&quot;. These tags are interpreted when the source text is executed and generate an output text.</p>
<p>This principle is used in particular by the 4D Web server to build <a href="/docs/Rx/es/WebServer/templates.html">web template pages</a>.</p>
<p>Estas etiquetas deben insertarse generalmente como comentarios de tipo HTML (<code>&lt;!--#Tag Contents--&gt;</code>) pero <a href="#alternative-syntax-for-4dtext-4dhtml-4deval">una sintaxis alternativa conforme a la norma xml</a> está disponible para algunas de ellas.</p>
<p>Es posible mezclar varios tipos de etiquetas. Por ejemplo, la siguiente estructura HTML es totalmente factible:</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">HTML</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">BODY</span>&gt;</span>
<span class="hljs-comment">&lt;!--#4DSCRIPT/PRE_PROCESS--&gt;</span>   (Method call)
<span class="hljs-comment">&lt;!--#4DIF (myvar=1)--&gt;</span>   (If condition)
   <span class="hljs-comment">&lt;!--#4DINCLUDE banner1.html--&gt;</span>   (Subpage insertion)
<span class="hljs-comment">&lt;!--#4DENDIF--&gt;</span>   (End if)
<span class="hljs-comment">&lt;!--#4DIF (mtvar=2)--&gt;</span>
   <span class="hljs-comment">&lt;!--#4DINCLUDE banner2.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DENDIF--&gt;</span>

<span class="hljs-comment">&lt;!--#4DLOOP [TABLE]--&gt;</span>   (Loop on the current selection)
<span class="hljs-comment">&lt;!--#4DIF ([TABLE]ValNum&gt;10)--&gt;</span>   (If [TABLE]ValNum&gt;10)
   <span class="hljs-comment">&lt;!--#4DINCLUDE subpage.html--&gt;</span>   (Subpage insertion)
<span class="hljs-comment">&lt;!--#4DELSE--&gt;</span>   (Else)
   <span class="hljs-tag">&lt;<span class="hljs-name">B</span>&gt;</span>Value: <span class="hljs-comment">&lt;!--#4DTEXT [TABLE]ValNum--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">B</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">BR</span>&gt;</span>   (Field display)
<span class="hljs-comment">&lt;!--#4DENDIF--&gt;</span>
<span class="hljs-comment">&lt;!--#4DENDLOOP--&gt;</span>   ](End for)
<span class="hljs-tag">&lt;/<span class="hljs-name">BODY</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">HTML</span>&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="principios-de-uso-de-las-etiquetas"></a><a href="#principios-de-uso-de-las-etiquetas" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Principios de uso de las etiquetas</h2>
<h3><a class="anchor" aria-hidden="true" id="parsing"></a><a href="#parsing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parsing</h3>
<p>Parsing the contents of a <em>template</em> source is done in two contexts:</p>
<ul>
<li><p>Using the <code>PROCESS 4D TAGS</code> command; this command accepts a <em>template</em> as input, as well as optional parameters and returns a text resulting from the processing.</p></li>
<li><p>Using 4D's integrated HTTP server: <a href="/docs/Rx/es/WebServer/templates.html">template pages</a> sent by means of the <code>WEB SEND FILE</code> (.htm, .html, .shtm, .shtml), <code>WEB SEND BLOB</code> (text/html type BLOB), <code>WEB SEND TEXT</code> commands, or called using URLs. In this last case, for reasons of optimization, pages that are suffixed with “.htm” and “.html” are NOT parsed. In order to parse HTML pages in this case, you must add the suffix “.shtm” or “.shtml” (for example, <a href="http://www.server.com/dir/page.shtm">http://www.server.com/dir/page.shtm</a>).</p></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="tratamiento-recursivo"></a><a href="#tratamiento-recursivo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tratamiento recursivo</h3>
<p>Las etiquetas 4D se interpretan de manera recursiva: 4D siempre intenta reinterpretar el resultado de una transformación y, si se ha producido una nueva transformación, se realiza una interpretación adicional, y así sucesivamente hasta que el producto obtenido ya no requiera ninguna otra transformación. Por ejemplo, dada la siguiente instrucción:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DHTML [Mail]Letter_type--&gt;</span>
</code></pre>
<p>If the <code>[Mail]Letter_type</code> text field itself contains a tag, for example <code>&lt;!--#4DSCRIPT/m_Gender--&gt;</code>, this tag will be evaluated recursively after the interpretation of the 4DHTML tag.</p>
<p>Este poderoso principio satisface la mayoría de las necesidades relacionadas con la transformación de textos. Note, however, that in some cases this can also allow malicious code to be inserted in the web context, <a href="/docs/Rx/es/WebServer/templates.html#prevention-of-malicious-code-insertion">which can be avoided</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="identificadores-con-tokens"></a><a href="#identificadores-con-tokens" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Identificadores con tokens</h3>
<p>To ensure the correct evaluation of expressions processed via tags, regardless of the language or 4D version, it's recommended to use the tokenized syntax for elements whose name may vary over versions (commands, tables, fields, constants). For example, to insert the <code>Current time</code> command, enter <code>Current time: C178</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="utilizando-el--como-separador-decimal"></a><a href="#utilizando-el--como-separador-decimal" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utilizando el &quot;.&quot; como separador decimal</h3>
<p>4D always uses the period character (.) as a decimal separator when evaluating a numerical expression using a 4D tag <code>4DTEXT</code>, <code>4DHTML</code>, and <code>4DEVAL</code>. Los parámetros regionales se ignoran. This feature facilitates code maintenance and compatibility between 4D languages and versions.</p>
<h2><a class="anchor" aria-hidden="true" id="4dbase"></a><a href="#4dbase" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4DBASE</h2>
<h4><a class="anchor" aria-hidden="true" id="sintaxis---4dbase-folderpath--"></a><a href="#sintaxis---4dbase-folderpath--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sintaxis: <code>&lt;!--#4DBASE folderPath--&gt;</code></h4>
<p>The <code>&lt;!--#4DBASE --&gt;</code> tag designates the working directory to be used by the <code>&lt;!--#4DINCLUDE--&gt;</code> tag.</p>
<p>When it is called in a Web page, the <code>&lt;!--#4DBASE --&gt;</code> tag modifies all subsequent <code>&lt;!--#4DINCLUDE--&gt;</code> calls on this page, until the next <code>&lt;!--#4DBASE --&gt;, if any. If the</code><!--#4DBASE -->` folder is modified from within an included file, it retrieves its original value from the parent file.</p>
<p>The <em>folderPath</em> parameter must contain a pathname relative to the current page and it must end with a slash (/). La carpeta designada debe estar ubicada dentro de la carpeta Web.</p>
<p>Pass the &quot;WEBFOLDER&quot; keyword to restore the default path (relative to the page).</p>
<p>The following code, which must specify a relative path for each call:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DINCLUDE subpage.html--&gt;</span> 
<span class="hljs-comment">&lt;!--#4DINCLUDE folder/subpage1.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE folder/subpage2.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE folder/subpage3.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE ../folder/subpage.html--&gt;</span>
</code></pre>
<p>... es equivalente a:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DINCLUDE subpage.html--&gt;</span> 
<span class="hljs-comment">&lt;!--#4DBASE folder/--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE subpage1.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE subpage2.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE subpage3.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DBASE ../folder/--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE subpage.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DBASE WEBFOLDER--&gt;</span>
</code></pre>
<p>Por ejemplo, para definir un directorio para la página de inicio:</p>
<pre><code class="hljs css language-html">/* Index.html */
<span class="hljs-comment">&lt;!--#4DIF LangFR=True--&gt;</span>
    <span class="hljs-comment">&lt;!--#4DBASE FR/--&gt;</span>
<span class="hljs-comment">&lt;!--#4DELSE--&gt;</span>
    <span class="hljs-comment">&lt;!--#4DBASE US/--&gt;</span>
<span class="hljs-comment">&lt;!--#4DENDIF--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE head.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE body.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE footer.html--&gt;</span>
</code></pre>
<p>In the &quot;head.html&quot; file, the current folder is modified through <code>&lt;!--#4DBASE --&gt;</code>, without this changing its value in &quot;Index.html&quot;:</p>
<pre><code class="hljs css language-html">/* Head.htm */
/* the working directory here is relative to the included file (FR/ or US/) */
<span class="hljs-comment">&lt;!--#4DBASE Styles/--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE main.css--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE product.css--&gt;</span>
<span class="hljs-comment">&lt;!--#4DBASE Scripts/--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE main.js--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE product.js--&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="4dcode"></a><a href="#4dcode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4DCODE</h2>
<h4><a class="anchor" aria-hidden="true" id="sintaxis---4dcode-codelines--"></a><a href="#sintaxis---4dcode-codelines--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sintaxis: <code>&lt;!--#4DCODE codeLines--&gt;</code></h4>
<p>The <code>4DCODE</code> tag allows you to insert a multi-line 4D code block in a template.</p>
<p>When a <code>&lt;!--#4DCODE</code> sequence is detected that is followed by a space, a CR or a LF character, 4D interprets all the lines of code up to the next <code>--&gt;</code> sequence. The code block itself can contain carriage returns, line feeds, or both; it will be interpreted sequentially by 4D.</p>
<p>Por ejemplo, puede escribir en una plantilla:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DCODE
//PARAMETERS initialization
C_OBJECT:C1216($graphParameters)
OB SET: C1220($graphParameters;"graphType";1)
$graphType:=1
//...your code here
If(OB Is defined: C1231($graphParameters;"graphType"))
    $graphType:=OB GET: C1224($graphParameters;"graphType")
    If($graphType=7)
        $nbSeries:=1
        If($nbValues&gt;8)
            DELETE FROM ARRAY: C228 ($yValuesArrPtr{1}-&gt;;9;100000)
            $nbValues:=8
        End if
    End if
End if
--&gt;</span>
</code></pre>
<p>Aquí están las características de la etiqueta 4DCODE:</p>
<ul>
<li>The <code>TRACE</code> command is supported and activates the 4D debugger, thus allowing you to debug your template code.</li>
<li>Any error will display the standard error dialog that lets the user stop code execution or enter debugging mode.</li>
<li>The text in between <code>&lt;!--#4DCODE</code> and <code>--&gt;</code> is split into lines accepting any line-ending convention (cr, lf, or crlf).</li>
<li>The text is tokenized within the context of the database that called <code>PROCESS 4D TAGS</code>. Esto es importante para el reconocimiento de los métodos de proyecto, por ejemplo. The <a href="/docs/Rx/es/WebServer/allowProject.html">Available through tags and 4D URLs (4DACTION ...)</a> method property is not taken into account.</li>
<li>Even if the text always uses English-US, it is recommended to use the token syntax (:Cxxx) for command and constant names to protect against potential problems due to commands or constants being renamed from one version of 4D to another.</li>
</ul>
<blockquote>
<p>The fact that 4DCODE tags can call any of the 4D language commands or project methods could be seen as a security issue, especially when the database is available through HTTP. However, since it executes server-side code called from your own template files, the tag itself does not represent a security issue. In this context, as for any Web server, security is mainly handled at the level of remote accesses to server files.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="4deach-y-4dendeach"></a><a href="#4deach-y-4dendeach" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4DEACH y 4DENDEACH</h2>
<h4><a class="anchor" aria-hidden="true" id="syntax---4deach-variable-in-expression-----4dendeach--"></a><a href="#syntax---4deach-variable-in-expression-----4dendeach--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntax: <code>&lt;!--#4DEACH variable in expression--&gt;</code> <code>&lt;!--#4DENDEACH--&gt;</code></h4>
<p>The <code>&lt;!--#4DEACH--&gt;</code> comment allows iterating a specified item over all values of the <em>expression</em>. The item is set to a <em>variable</em> whose type depends on the <em>expression</em> type.</p>
<p>The <code>&lt;!--#4DEACH--&gt;</code> comment can iterate through three expression types:</p>
<ul>
<li><a href="#--4deach-item-in-collection--">collections</a>: loop through each element of the collection,</li>
<li><a href="#--4deach-entity-in-entityselection--">entity selections</a>: loop through each entity,</li>
<li><a href="#--4deach-property-in-object--">objects</a>: loop through each object property.</li>
</ul>
<p>The number of iterations is evaluated at startup and will not change during the processing. La adición o eliminación de elementos durante el bucle no suele ser recomendable, ya que puede resultar en redundancia o perdidas de iteraciones.</p>
<h3><a class="anchor" aria-hidden="true" id="--4deach-item-in-collection--"></a><a href="#--4deach-item-in-collection--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>&lt;!--#4DEACH item in collection--&gt;</code></h3>
<p>This syntax iterates on each <em>item</em> of the <em>collection</em>. The code portion located between <code>&lt;!--#4DEACH --&gt;</code> and <code>&lt;!--#4DENDEACH--&gt;</code> is repeated for each collection element.</p>
<p>The <em>item</em> parameter is a variable of the same type as the collection elements.</p>
<p>The collection must contain only <strong>elements of the same type</strong>, otherwise an error is returned as soon as the <em>item</em> variable is assigned the first mismatched value type.</p>
<p>The number of loops is based on the number of elements of the collection. At each iteration, the <em>item</em> variable is automatically filled with the matching element of the collection. Hay que tener en cuenta los siguientes puntos:</p>
<ul>
<li>If the <em>item</em> variable is of the object type or collection type (i.e. if <em>expression</em> is a collection of objects or of collections), modifying this variable will automatically modify the matching element of the collection (because objects and collections share the same references). Si la variable es de tipo escalar, sólo se modificará la variable.</li>
<li>The <em>item</em> variable gets the same type as the first collection element. If any collection element is not of the same type as the variable, an error is generated and the loop stops.</li>
<li>If the collection contains elements with a Null value, an error is generated if the <em>item</em> variable type does not support Null values (such as longint variables).</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-con-una-colección-de-valores-escalares"></a><a href="#ejemplo-con-una-colección-de-valores-escalares" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo con una colección de valores escalares</h4>
<p><em>getNames</em> devuelve una colección de cadenas. The method has been declared as &quot;<a href="/docs/Rx/es/WebServer/allowProject.html">available through 4D tags and URLs</a>&quot;.</p>
<pre><code class="hljs css language-html">    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"table"</span>&gt;</span>    

        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>

          <span class="hljs-comment">&lt;!--#4DEACH $name in getNames--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-comment">&lt;!--#4DTEXT $name--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
          <span class="hljs-comment">&lt;!--#4DENDEACH--&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-con-una-colección-de-objetos"></a><a href="#ejemplo-con-una-colección-de-objetos" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo con una colección de objetos</h4>
<p><em>getSalesPersons</em> returns a collection of objects.</p>
<pre><code class="hljs css language-html">    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"table"</span>&gt;</span>    
         <span class="hljs-comment">&lt;!--#4DCODE 
            $salePersons:=getSalesPersons
          --&gt;</span>          
       <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Firstname<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Lastname<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>

          <span class="hljs-comment">&lt;!--#4DEACH $salesPerson in $salePersons--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-comment">&lt;!--#4DTEXT $salesPerson.ID--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-comment">&lt;!--#4DTEXT $salesPerson.firstname--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-comment">&lt;!--#4DTEXT $salesPerson.lastname--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
          <span class="hljs-comment">&lt;!--#4DENDEACH--&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="--4deach-entity-in-entityselection--"></a><a href="#--4deach-entity-in-entityselection--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>&lt;!--#4DEACH entity in entitySelection--&gt;</code></h3>
<p>This syntax iterates on each <em>entity</em> of the <em>entitySelection</em>. The code portion located between <code>&lt;!--#4DEACH --&gt;</code> and <code>&lt;!--#4DENDEACH--&gt;</code> is repeated for each entity of the entity selection.</p>
<p>The <em>entity</em> parameter is an object variable of the entity selection class.</p>
<p>The number of loops is based on the number of entities of the entity selection. At each iteration, the <em>entity</em> object variable is automatically filled with the matching entity of the entity selection.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-con-una-tabla-html"></a><a href="#ejemplo-con-una-tabla-html" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo con una tabla html</h4>
<pre><code class="hljs css language-html">    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"table"</span>&gt;</span>     

        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Total purchase<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>

          <span class="hljs-comment">&lt;!--#4DEACH $customer in ds. Customers.all()--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-comment">&lt;!--#4DTEXT $customer.ID--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-comment">&lt;!--#4DTEXT $customer.name--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">center</span>&gt;</span><span class="hljs-comment">&lt;!--#4DTEXT String($customer.totalPurchase;"$###,##0")--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">center</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
          <span class="hljs-comment">&lt;!--#4DENDEACH--&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-con-process-4d-tags"></a><a href="#ejemplo-con-process-4d-tags" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo con <code>PROCESS 4D TAGS</code></h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> customers : cs.CustomersSelection<span class="hljs-keyword">
var</span> <span class="hljs-variable">$input</span>; <span class="hljs-variable">$output </span>: Text

customers:=ds.Customers.<span class="hljs-function">all</span>()
<span class="hljs-variable">$input</span>:=<span class="hljs-string">"&lt;!--#4DEACH $cust in customers--&gt;"</span> 
<span class="hljs-variable">$input</span>:=<span class="hljs-variable">$input</span>+<span class="hljs-string">"&lt;!--#4DTEXT $cust.name --&gt;"</span>+<span class="hljs-function">Char</span>(Carriage return)
<span class="hljs-variable">$input</span>:=<span class="hljs-variable">$input</span>+<span class="hljs-string">"&lt;!--#4DENDEACH--&gt;"</span> 
<span class="hljs-function">PROCESS 4D TAGS</span>(<span class="hljs-variable">$input</span>; <span class="hljs-variable">$output</span>)
<span class="hljs-function">TEXT TO DOCUMENT</span>(<span class="hljs-string">"customers.txt"</span>; <span class="hljs-variable">$output</span>)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="--4deach-property-in-object--"></a><a href="#--4deach-property-in-object--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>&lt;!--#4DEACH property in object--&gt;</code></h3>
<p>This syntax iterates on each <em>property</em> of the <em>object</em>. The code portion located between <code>&lt;!--#4DEACH --&gt;</code> and <code>&lt;!--#4DENDEACH--&gt;</code> is repeated for each property of the object.</p>
<p>The <em>property</em> parameter is a text variable automatically filled with the name of the currently processed property.</p>
<p>The properties of the object are processed according to their creation order. Durante el bucle, se pueden añadir o eliminar propiedades en el objeto, sin modificar el número de bucles que quedarán en función del número original de propiedades del objeto.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-con-las-propiedades-de-un-objeto"></a><a href="#ejemplo-con-las-propiedades-de-un-objeto" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo con las propiedades de un objeto</h4>
<p><em>getGamers</em> is a project method that returns an object like (&quot;Mary&quot;; 10; &quot;Ann&quot;; 20; &quot;John&quot;; 40) to figure gamer scores.</p>
<pre><code class="hljs css language-html">    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"table"</span>&gt;</span>    
          <span class="hljs-comment">&lt;!--#4DCODE
           $gamers:=getGamers
          --&gt;</span>          

        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Gamers<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Scores<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>

          <span class="hljs-comment">&lt;!--#4DEACH $key in $gamers--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> &gt;</span><span class="hljs-comment">&lt;!--#4DTEXT $key--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> &gt;</span><span class="hljs-comment">&lt;!--#4DTEXT $gamers[$key]--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
          <span class="hljs-comment">&lt;!--#4DENDEACH--&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="4deval"></a><a href="#4deval" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4DEVAL</h2>
<h4><a class="anchor" aria-hidden="true" id="sintaxis---4deval-expression--"></a><a href="#sintaxis---4deval-expression--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sintaxis: <code>&lt;!--#4DEVAL expression--&gt;</code></h4>
<h4><a class="anchor" aria-hidden="true" id="sintaxis-alternativa-4devalexpression"></a><a href="#sintaxis-alternativa-4devalexpression" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sintaxis alternativa: <code>$4DEVAL(expression)</code></h4>
<p>The <code>4DEVAL</code> tag allows you to assess a 4D variable or expression. Like the <a href="#4dhtml"><code>4DHTML</code></a> tag, <code>4DEVAL</code> does not escape HTML characters when returning text. However, unlike <code>4DHTML</code> or <a href="#4dtext"><code>4DTEXT</code></a>, <code>4DEVAL</code> allows you to execute any valid 4D statement, including assignments and expressions that do not return any value.</p>
<p>Por ejemplo, puede ejecutar:</p>
<pre><code class="hljs"> $input:="<span class="hljs-comment">&lt;!--#4DEVAL a:=42--&gt;</span>" //assignment
 $input:=$input+"<span class="hljs-comment">&lt;!--#4DEVAL a+1--&gt;</span>" //calculation
 PROCESS 4D TAGS($input;$output)
  //$output = "43"
</code></pre>
<p>In case of an error during interpretation, the text inserted will be in the form: <code>&lt;!--#4DEVAL expr--&gt;: ## error # error code</code>.</p>
<blockquote>
<p>For security reasons, it is recommended to use the <a href="#4dtext"><code>4DTEXT</code></a> tag when processing data introduced from outside the application, in order to prevent the <a href="#prevention-of-malicious-code-insertion">insertion of malicious code</a>.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="4dhtml"></a><a href="#4dhtml" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4DHTML</h2>
<h4><a class="anchor" aria-hidden="true" id="sintaxis---4dhtml-expression--"></a><a href="#sintaxis---4dhtml-expression--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sintaxis: <code>&lt;!--#4DHTML expression--&gt;</code></h4>
<h4><a class="anchor" aria-hidden="true" id="sintaxis-alternativa-4dhtmlexpression"></a><a href="#sintaxis-alternativa-4dhtmlexpression" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sintaxis alternativa: <code>$4DHTML(expression)</code></h4>
<p>The value of the 4D variable <code>vtSiteName</code> will be inserted in the HTML page when it is sent. This value is inserted as simple text, special HTML characters such as &quot;&gt;&quot; are automatically escaped.</p>
<p>For example, here are the processing results of the 4D text variable myvar with the available tags:</p>
<table>
<thead>
<tr><th>Valor myvar</th><th>Etiquetas</th><th>Resultado</th></tr>
</thead>
<tbody>
<tr><td><code>myvar:=&quot;&lt;B&gt;&quot;</code></td><td><code>&lt;!--#4DTEXT myvar--&gt;</code></td><td><code>&amp;lt;B&amp;gt;</code></td></tr>
<tr><td><code>myvar:=&quot;&lt;B&gt;&quot;</code></td><td><code>&lt;!--#4DHTML myvar--&gt;</code></td><td><code>&lt;B&gt;</code></td></tr>
</tbody>
</table>
<p>In case of an interpretation error, the inserted text will be <code>&lt;!--#4DHTML myvar--&gt; : ## error # error code</code>.</p>
<blockquote>
<p>For security reasons, it is recommended to use the <a href="#4dtext"><code>4DTEXT</code></a> tag when processing data introduced from outside the application, in order to prevent the <a href="#prevention-of-malicious-code-insertion">insertion of malicious code</a>.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="4dif-4delse-4delseif-y-4dendif"></a><a href="#4dif-4delse-4delseif-y-4dendif" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4DIF, 4DELSE, 4DELSEIF y 4DENDIF</h2>
<h4><a class="anchor" aria-hidden="true" id="syntax---4dif-expression-----4delseif-expression2----4delseif-expressionn-----4delse-----4dendif--"></a><a href="#syntax---4dif-expression-----4delseif-expression2----4delseif-expressionn-----4delse-----4dendif--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntax: <code>&lt;!--#4DIF expression--&gt;</code> {<code>&lt;!--#4DELSEIF expression2--&gt;...&lt;!--#4DELSEIF expressionN--&gt;</code>} {<code>&lt;!--#4DELSE--&gt;</code>} <code>&lt;!--#4DENDIF--&gt;</code></h4>
<p>Used with the <code>&lt;!--#4DELSEIF--&gt;</code> (optional), <code>&lt;!--#4DELSE--&gt;</code> (optional) and <code>&lt;!--#4DENDIF--&gt;</code> comments, the <code>&lt;!--#4DIF expression--&gt;</code> comment offers the possibility to execute portions of code conditionally.</p>
<p>The <em>expression</em> parameter can contain any valid 4D expression returning a Boolean value. It must be indicated within parenthesis and comply with the 4D syntax rules.</p>
<p>In case of an interpretation error, the text &quot;<code>&lt;!--#4DIF expression--&gt;</code>: A Boolean expression was expected&quot; is inserted instead of the contents located between <code>&lt;!--#4DIF --&gt;</code> and <code>&lt;!--#4DENDIF--&gt;</code>. Likewise, if there are not as many <code>&lt;!--#4DENDIF--&gt;</code> as <code>&lt;!--#4DIF --&gt;</code>, the text &quot;<code>&lt;!--#4DIF expression--&gt;</code>: 4DENDIF expected&quot; is inserted instead of the contents located between <code>&lt;!--#4DIF --&gt;</code> and <code>&lt;!--#4DENDIF--&gt;</code>.</p>
<p>In case of an interpretation error, the text &quot;<code>&lt;!--#4DIF expression--&gt;</code>: A Boolean expression was expected&quot; is inserted instead of the contents located between <code>&lt;!--#4DIF --&gt;</code> and <code>&lt;!--#4DENDIF--&gt;</code>. The <code>&lt;!--#4DIF expression--&gt;</code> ... <code>&lt;!--#4DENDIF--&gt;</code> blocks can be nested in several levels. Like in 4D, each <code>&lt;!--#4DIF expression--&gt;</code> must match a <code>&lt;!--#4DENDIF--&gt;</code>.</p>
<p>Using the <code>&lt;!--#4DELSEIF--&gt;</code> tag, you can test an unlimited number of conditions. Only the code that follows the first condition evaluated as <code>True</code> is executed. If no conditions are true, no statement is executed (if there is no final <code>&lt;!--#4DELSE--&gt;</code>). Puede utilizar una etiqueta <!--#4DELSE--> después del último <!--#4DELSEIF-->. If all the conditions are false, the statements following the <!--#4DELSE--> are executed.</p>
<p>Los dos códigos siguientes son equivalentes.</p>
<p>Código utilizando sólo 4DELSE:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DIF Condition1--&gt;</span>
  /* Condition1 is true*/
<span class="hljs-comment">&lt;!--#4DELSE--&gt;</span>
    <span class="hljs-comment">&lt;!--#4DIF Condition2--&gt;</span>
        /* Condition2 is true*/
    <span class="hljs-comment">&lt;!--#4DELSE--&gt;</span>
        <span class="hljs-comment">&lt;!--#4DIF Condition3--&gt;</span>
            /* Condition3 is true */
        <span class="hljs-comment">&lt;!--#4DELSE--&gt;</span>
            /*None of the conditions are true*/
        <span class="hljs-comment">&lt;!--#4DENDIF--&gt;</span>
    <span class="hljs-comment">&lt;!--#4DENDIF--&gt;</span>
<span class="hljs-comment">&lt;!--#4DENDIF--&gt;</span>
</code></pre>
<p>Código similar utilizando la etiqueta <code>4DELSEIF</code>:</p>
<pre><code class="hljs"><span class="hljs-comment">&lt;!--#4DIF Condition1--&gt;</span>
     /* Condition1 is true*/
<span class="hljs-comment">&lt;!--#4DELSEIF Condition2--&gt;</span>
     /* Condition2 is true*/
<span class="hljs-comment">&lt;!--#4DELSEIF Condition3--&gt;</span>
    /* Condition3 is true */
<span class="hljs-comment">&lt;!--#4DELSE--&gt;</span>
    /* None of the conditions are true*/
<span class="hljs-comment">&lt;!--#4DENDIF--&gt;</span>
</code></pre>
<p>This example of code inserted in a static HTML page displays a different label according the <code>vname#&quot;&quot;</code> expression result:</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">BODY</span>&gt;</span>
...
<span class="hljs-comment">&lt;!--#4DIF (vname#"")--&gt;</span>
Names starting with <span class="hljs-comment">&lt;!--#4DTEXT vname--&gt;</span>.
<span class="hljs-comment">&lt;!--#4DELSE--&gt;</span>
No name has been found.
<span class="hljs-comment">&lt;!--#4DENDIF--&gt;</span>
...
<span class="hljs-tag">&lt;/<span class="hljs-name">BODY</span>&gt;</span>
</code></pre>
<p>This example inserts different pages depending on which user is connected:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DIF LoggedIn=False--&gt;</span>
    <span class="hljs-comment">&lt;!--#4DINCLUDE Login.htm --&gt;</span>
<span class="hljs-comment">&lt;!--#4DELSEIF User="Admin" --&gt;</span>
    <span class="hljs-comment">&lt;!--#4DINCLUDE AdminPanel.htm --&gt;</span>
<span class="hljs-comment">&lt;!--#4DELSEIF User="Manager" --&gt;</span>
    <span class="hljs-comment">&lt;!--#4DINCLUDE SalesDashboard.htm --&gt;</span>
<span class="hljs-comment">&lt;!--#4DELSE--&gt;</span>
    <span class="hljs-comment">&lt;!--#4DINCLUDE ItemList.htm --&gt;</span>
<span class="hljs-comment">&lt;!--#4DENDIF--&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="4dinclude"></a><a href="#4dinclude" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4DINCLUDE</h2>
<h4><a class="anchor" aria-hidden="true" id="sintaxis---4dinclude-path--"></a><a href="#sintaxis---4dinclude-path--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sintaxis: <code>&lt;!--#4DINCLUDE path--&gt;</code></h4>
<p>This tag is mainly designed to include an HTML page (indicated by the <em>path</em> parameter) in another HTML page. By default, only the body of the specified HTML page, i.e. the contents found within the <code>&lt;body&gt;</code> and <code>&lt;/body&gt;</code> tags, is included (the tags themselves are not included). This lets you avoid conflicts related to meta tags present in the headers.</p>
<p>However, if the HTML page specified does not contain <code>&lt;body&gt;``&lt;/body&gt;</code> tags, the entire page is included. Depende de usted verificar la consistencia de las meta-etiquetas.</p>
<p>The <code>&lt;!--#4DINCLUDE --&gt;</code> comment is very useful for tests (<code>&lt;!--#4DIF--&gt;</code>) or loops (<code>&lt;!--#4DLOOP--&gt;</code>). It is very convenient to include banners according to a criteria or randomly. When including, regardless of the file name extension, 4D analyzes the called page and then inserts the contents (modified or not) in the page originating the <code>4DINCLUDE</code> call.</p>
<p>An included page with the <code>&lt;!--#4DINCLUDE --&gt;</code> comment is loaded in the Web server cache the same way as pages called via a URL or sent with the <code>WEB SEND FILE</code> command.</p>
<p>En <em>ruta</em>, coloque la ruta que va al documento a incluir. Warning: In the case of a <code>4DINCLUDE</code> call, the path is relative to the document being analyzed, that is, the &quot;parent&quot; document. Use the slash character (/) as a folder separator and the two dots (..) to go up one level (HTML syntax). When you use the <code>4DINCLUDE</code> tag with the <code>PROCESS 4D TAGS</code> command, the default folder is the project folder.</p>
<blockquote>
<p>You can modify the default folder used by the <code>4DINCLUDE</code> tag in the current page, using the <code>&lt;!--#4DBASE --&gt;</code> tag (see below).</p>
</blockquote>
<p>The number of <code>&lt;!--#4DINCLUDE path--&gt;</code> within a page is unlimited. However, the <code>&lt;!--#4DINCLUDE path--&gt;</code> calls can be made only at one level. This means that, for example, you cannot insert <code>&lt;!--#4DINCLUDE mydoc3.html--&gt;</code> in the <em>mydoc2.html</em> body page, which is called by <code>&lt;!--#4DINCLUDE mydoc2--&gt;</code> inserted in <em>mydoc1.html</em>. Además, 4D verifica que las inclusiones no son recursivas.</p>
<p>In case of error, the inserted text is &quot;<code>&lt;!--#4DINCLUDE path--&gt;</code> :The document cannot be opened&quot;.</p>
<p>Ejemplos:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DINCLUDE subpage.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE folder/subpage.html--&gt;</span>
<span class="hljs-comment">&lt;!--#4DINCLUDE ../folder/subpage.html--&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="4dloop-y-4dendloop"></a><a href="#4dloop-y-4dendloop" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4DLOOP y 4DENDLOOP</h2>
<h4><a class="anchor" aria-hidden="true" id="syntax---4dloop-condition-----4dendloop--"></a><a href="#syntax---4dloop-condition-----4dendloop--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntax: <code>&lt;!--#4DLOOP condition--&gt;</code> <code>&lt;!--#4DENDLOOP--&gt;</code></h4>
<p>This comment allows repetition of a portion of code as long as the condition is fulfilled. The portion is delimited by <code>&lt;!--#4DLOOP--&gt;</code> and <code>&lt;!--#4DENDLOOP--&gt;</code>.</p>
<p>The <code>&lt;!--#4DLOOP condition--&gt;</code> ... <code>&lt;!--#4DENDLOOP--&gt;</code> blocks can be nested. Like in 4D, each <code>&lt;!--#4DLOOP condition--&gt;</code> must match a <code>&lt;!--#4DENDLOOP--&gt;</code>.</p>
<p>Hay cinco tipos de condiciones:</p>
<h3><a class="anchor" aria-hidden="true" id="--4dloop-table--"></a><a href="#--4dloop-table--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>&lt;!--#4DLOOP [table]--&gt;</code></h3>
<p>This syntax makes a loop for each record from the table current selection in the current process. The code portion located between the two comments is repeated for each current selection record.</p>
<blockquote>
<p>When the <code>4DLOOP</code> tag is used with a table, records are loaded in &quot;Read only&quot; mode.</p>
</blockquote>
<p>El código siguiente:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DLOOP [People]--&gt;</span>
<span class="hljs-comment">&lt;!--#4DTEXT [People]Name--&gt;</span> <span class="hljs-comment">&lt;!--#4DTEXT [People]Surname--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">BR</span>&gt;</span>
<span class="hljs-comment">&lt;!--#4DENDLOOP--&gt;</span>
</code></pre>
<p>... podría expresarse en lenguaje 4D de la siguiente manera:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function"> FIRST RECORD</span>([People])<span class="hljs-keyword">
 While</span>(<span class="hljs-function">Not</span>(<span class="hljs-function">End selec tion</span>([People])))
    ...
<span class="hljs-function">    NEXT RECORD</span>([People])<span class="hljs-keyword">
 End while</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="--4dloop-array--"></a><a href="#--4dloop-array--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>&lt;!--#4DLOOP array--&gt;</code></h3>
<p>Esta sintaxis hace un bucle para cada elemento del array. The array current item is increased when each code portion is repeated.</p>
<blockquote>
<p>Esta sintaxis no se puede utilizar con arrays de dos dimensiones. En este caso, es mejor combinar un método con bucles anidados.</p>
</blockquote>
<p>El siguiente ejemplo de código:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DLOOP arr_names--&gt;</span>
<span class="hljs-comment">&lt;!--#4DTEXT arr_names{arr_names}--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">BR</span>&gt;</span>
<span class="hljs-comment">&lt;!--#4DENDLOOP--&gt;</span>
</code></pre>
<p>... podría expresarse en lenguaje 4D de la siguiente manera:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$Elem</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Size of array</span>(arr_names))
    arr_names:=<span class="hljs-variable">$Elem</span>
    ...<span class="hljs-keyword">
 End for</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="--4dloop-method--"></a><a href="#--4dloop-method--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>&lt;!--#4DLOOP method--&gt;</code></h3>
<p>This syntax makes a loop as long as the method returns <code>True</code>. El método toma un tipo de parámetro Long Integer. First it is called with the value 0 to allow an initialization stage (if necessary); it is then called with the values 1 ,then 2, then 3 and so on, as long as it returns <code>True</code>.</p>
<p>For security reasons, within a Web process, the <code>On Web Authentication</code> database method can be called once just before the initialization stage (method execution with 0 as parameter). Si la autenticación es correcta, se procederá a la etapa de inicialización.</p>
<p><code>C_BOOLEAN($0)</code> y <code>C_LONGINT($1)</code> DEBE declararse dentro del método a efectos de compilación.</p>
<p>El siguiente ejemplo de código:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DLOOP my_method--&gt;</span>
<span class="hljs-comment">&lt;!--#4DTEXT var--&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">BR</span>&gt;</span> 
<span class="hljs-comment">&lt;!--#4DENDLOOP--&gt;</span>
</code></pre>
<p>... podría expresarse en lenguaje 4D de la siguiente manera:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(AuthenticationWebOK)<span class="hljs-keyword">
    If</span>(<span class="hljs-function">my_method</span>(<span class="hljs-number">0</span>))
       <span class="hljs-variable">$counter</span>:=<span class="hljs-number">1</span><span class="hljs-keyword">
       While</span>(<span class="hljs-function">my_method</span>(<span class="hljs-variable">$counter</span>))
          ...
          <span class="hljs-variable">$counter</span>:=<span class="hljs-variable">$counter</span>+<span class="hljs-number">1</span><span class="hljs-keyword">
       End while</span><span class="hljs-keyword">
    End if</span><span class="hljs-keyword">
 End if</span>
</code></pre>
<p>El método <code>my_method</code> puede ser el siguiente:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function"> C_LONGINT</span>(<span class="hljs-variable">$1</span>)
<span class="hljs-function"> C_BOOLEAN</span>(<span class="hljs-variable">$0</span>)<span class="hljs-keyword">
 If</span>(<span class="hljs-variable">$1</span>=<span class="hljs-number">0</span>) <span class="hljs-comment">`Initialisation</span>
    <span class="hljs-variable">$0</span>:=<span class="hljs-literal">True</span><span class="hljs-keyword">
 Else</span><span class="hljs-keyword">
    If</span>(<span class="hljs-variable">$1</span>&lt;<span class="hljs-number">50</span>)
       ...<span class="hljs-keyword">
       var</span>:=...
       <span class="hljs-variable">$0</span>:=<span class="hljs-literal">True</span><span class="hljs-keyword">
    Else</span>
       <span class="hljs-variable">$0</span>:=<span class="hljs-literal">False</span> <span class="hljs-comment">`Detiene el bucle</span><span class="hljs-keyword">
    End if</span><span class="hljs-keyword">
 End if</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="--4dloop-expression--"></a><a href="#--4dloop-expression--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>&lt;!--#4DLOOP expression--&gt;</code></h3>
<p>With this syntax, the <code>4DLOOP</code> tag makes a loop as long as the <em>expression</em> returns <code>True</code>. The expression can be any valid Boolean expression and must contain a variable part to be evaluated in each loop to avoid infinite loops.</p>
<p>Por ejemplo, el siguiente código:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DEVAL $i:=0--&gt;</span>
<span class="hljs-comment">&lt;!--#4DLOOP ($i&lt;4)--&gt;</span>
<span class="hljs-comment">&lt;!--#4DEVAL $i--&gt;</span>
<span class="hljs-comment">&lt;!--#4DEVAL $i:=$i+1--&gt;</span>
<span class="hljs-comment">&lt;!--#4DENDLOOP--&gt;</span>
</code></pre>
<p>...produce el siguiente resultado:</p>
<pre><code class="hljs"><span class="hljs-number">0</span>
<span class="hljs-number">1</span>
<span class="hljs-number">2</span>
<span class="hljs-number">3</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="--4dloop-pointerarray--"></a><a href="#--4dloop-pointerarray--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>&lt;!--#4DLOOP pointerArray--&gt;</code></h3>
<p>In this case, the <code>4DLOOP</code> tag works like it does with an array: it makes a loop for each element of the array referenced by the pointer. The current array element is increased each time the portion of code is repeated.</p>
<p>This syntax is useful when you pass an array pointer as a parameter to the <code>PROCESS 4D TAGS</code> command.</p>
<p>Ejemplo:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function"> ARRAY TEXT</span>(<span class="hljs-variable">$array</span>;<span class="hljs-number">2</span>)
 <span class="hljs-variable">$array{1}</span>:=<span class="hljs-string">"hello"</span>
 <span class="hljs-variable">$array{2}</span>:=<span class="hljs-string">"world"</span>
 <span class="hljs-variable">$input</span>:=<span class="hljs-string">"&lt;!--#4DEVAL $1--&gt;"</span>
 <span class="hljs-variable">$input</span>:=<span class="hljs-variable">$input</span>+<span class="hljs-string">"&lt;!--#4DLOOP $2--&gt;"</span>
 <span class="hljs-variable">$input</span>:=<span class="hljs-variable">$input</span>+<span class="hljs-string">"&lt;!--#4DEVAL $2-&gt;{$2-&gt;}--&gt; "</span>
 <span class="hljs-variable">$input</span>:=<span class="hljs-variable">$input</span>+<span class="hljs-string">"&lt;!--#4DENDLOOP--&gt;"</span>
<span class="hljs-function"> PROCESS 4D TAGS</span>(<span class="hljs-variable">$input</span>;<span class="hljs-variable">$output</span>;<span class="hljs-string">"elements = "</span>;-&gt;<span class="hljs-variable">$array</span>)
  <span class="hljs-comment">// $output = "elements = hello world "</span>
</code></pre>
<p>In case of an interpretation error, the text &quot;<code>&lt;!--#4DLOOP expression--&gt;</code>: description&quot; is inserted instead of the contents located between <code>&lt;!--#4DLOOP --&gt;</code> and <code>&lt;!--#4DENDLOOP--&gt;</code>.</p>
<p>Se pueden mostrar los siguientes mensajes:</p>
<ul>
<li>Tipo de expresión inesperado (error estándar);</li>
<li>Nombre de tabla incorrecto (error en el nombre de la tabla);</li>
<li>An array was expected (the variable is not an array or is a two dimension array);</li>
<li>El método no existe;</li>
<li>Error de sintaxis (cuando el método se está ejecutando);</li>
<li>Access error (you do not have the appropriate access privileges to access the table or the method).</li>
<li>4DENDLOOP expected (the <code>&lt;!--#4DENDLOOP--&gt;</code> number does not match the <code>&lt;!--#4DLOOP --&gt;</code>).</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="4dscript"></a><a href="#4dscript" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4DSCRIPT/</h2>
<h4><a class="anchor" aria-hidden="true" id="syntax---4dscriptmethodnamemyparam--"></a><a href="#syntax---4dscriptmethodnamemyparam--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntax: <code>&lt;!--#4DSCRIPT/MethodName/MyParam--&gt;</code></h4>
<p>The <code>4DSCRIPT</code> tag allows you to execute 4D methods when processing the template. The presence of the <code>&lt;!--#4DSCRIPT/MyMethod/MyParam--&gt;</code> tag as an HTML comment launches the execution of the <code>MyMethod</code> method with the <code>Param</code> parameter as a string in <code>$1</code>.</p>
<blockquote>
<p>If the tag is called in the context of a Web process, when the page is loaded, 4D calls the <code>On Web Authentication</code> database method (if it exists). Si devuelve True, 4D ejecuta el método.</p>
</blockquote>
<p>El método debe devolver el texto en <code>$0</code>. If the string starts with the code character 1, it is considered as HTML (the same principle is true for the <code>4DHTML</code> tag).</p>
<p>For example, let’s say that you insert the following comment <code>“Today is &lt;!--#4DSCRIPT/MYMETH/MYPARAM--&gt;”</code> into a template Web page. When loading the page, 4D calls the <code>On Web Authentication</code> database method, then calls the <code>MYMETH</code> method and passes the string “/MYPARAM” as the parameter <code>$1</code>. The method returns text in $0 (for example &quot;12/31/21&quot;); the expression &quot;<code>Today is&lt;!--#4DSCRIPT/MYMETH/MYPARAM––&gt;</code>&quot; therefore becomes &quot;Today is 12/31/21&quot;.</p>
<p>El método <code>MYMETH</code> es el siguiente:</p>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">//MYMETH</span>
<span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$0</span>;<span class="hljs-variable">$1</span>) <span class="hljs-comment">//Estos parámetros deben declararse siempre</span>
 <span class="hljs-variable">$0</span>:=<span class="hljs-function">String</span>(Current date)
</code></pre>
<blockquote>
<p>A method called by <code>4DSCRIPT</code> must not call interface elements (<code>DIALOG</code>, <code>ALERT</code>, etc.).</p>
</blockquote>
<p>As 4D executes methods in their order of appearance, it is absolutely possible to call a method that sets the value of many variables that are referenced further in the document, whichever mode you are using. You can insert as many <code>&lt;!--#4DSCRIPT...--&gt;</code> comments as you want in a template.</p>
<h2><a class="anchor" aria-hidden="true" id="4dtext"></a><a href="#4dtext" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4DTEXT</h2>
<h4><a class="anchor" aria-hidden="true" id="sintaxis---4dtext-expression--"></a><a href="#sintaxis---4dtext-expression--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sintaxis: <code>&lt;!--#4DTEXT expression--&gt;</code></h4>
<h4><a class="anchor" aria-hidden="true" id="sintaxis-alternativa-4dtextexpression"></a><a href="#sintaxis-alternativa-4dtextexpression" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sintaxis alternativa: <code>$4DTEXT(expression)</code></h4>
<p>The tag <code>&lt;!--#4DTEXT expression--&gt;</code> allows you to insert a reference to a 4D variable or expression returning a value. Por ejemplo, si se escribe (en una página HTML):</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">P</span>&gt;</span>Welcome to <span class="hljs-comment">&lt;!--#4DTEXT vtSiteName--&gt;</span>!<span class="hljs-tag">&lt;/<span class="hljs-name">P</span>&gt;</span>
</code></pre>
<p>Just like the <code>4DTEXT</code> tag, this tag lets you assess a 4D variable or expression that returns a value, and insert it as an HTML expression. This value is inserted as simple text, special HTML characters such as &quot;&gt;&quot; are automatically escaped.</p>
<p>También puede insertar expresiones 4D. You can for example directly insert the contents of a field (<code>&lt;!--#4DTEXT [tableName]fieldName--&gt;</code>), an array element (<code>&lt;!--#4DTEXT tabarr{1}--&gt;</code>) or a method returning a value (<code>&lt;!--#4DTEXT mymethod--&gt;</code>). La conversión de las expresiones sigue las mismas reglas que las de las variables. Además, la expresión debe cumplir con las reglas de sintaxis 4D.</p>
<blockquote>
<p>For security reasons, it is recommended to use this tag when processing data introduced from outside the application, in order to prevent the <a href="#prevention-of-malicious-code-insertion">insertion of malicious code</a>.</p>
</blockquote>
<p>In case of an evaluation error, the inserted text will appear as <code>&lt;!--#4DTEXT myvar--&gt; : ## error # error code</code>.</p>
<ul>
<li>Debe utilizar las variables proceso.</li>
<li>Puede mostrar el contenido de un campo imagen. Sin embargo, no es posible mostrar el contenido de un elemento del array de imágenes.</li>
<li>It is possible to display the contents of an object field by means of a 4D formula. For example, you can write <code>&lt;!--#4DTEXT OB Get: C1224([Rect]Desc;\&quot;color\&quot;)--&gt;</code>.</li>
<li>Normalmente se trabaja con variables de tipo texto. Sin embargo, también se pueden utilizar las variables BLOB. Sólo tiene que generar los BLOBs en modo <code>Texto sin longitud</code>.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="sintaxis-alternativa-para-4dtext-4dhtml-4deval"></a><a href="#sintaxis-alternativa-para-4dtext-4dhtml-4deval" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sintaxis alternativa para 4DTEXT, 4DHTML, 4DEVAL</h2>
<p>Varias etiquetas de transformación 4D existentes pueden expresarse utilizando una sintaxis basada en el símbolo $:</p>
<h4><a class="anchor" aria-hidden="true" id="4dtag-expression"></a><a href="#4dtag-expression" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>$4dtag (expression)</h4>
<p>puede utilizarse en lugar de</p>
<h4><a class="anchor" aria-hidden="true" id="--4dtag-expression--"></a><a href="#--4dtag-expression--" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>&lt;!--#4dtag expression--&gt;</code></h4>
<p>This alternative syntax is available only for tags used to return processed values:</p>
<ul>
<li><a href="#4dtext">4DTEXT</a></li>
<li><a href="#4dhtml">4DHTML</a></li>
<li><a href="#4deval">4DEVAL</a></li>
</ul>
<p>(Other tags, such as 4DIF or 4DSCRIPT, must be written with the regular syntax).</p>
<p>Por ejemplo, puede escribir:</p>
<pre><code class="hljs css language-html">$4DEVAL(UserName)
</code></pre>
<p>en lugar de:</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--#4DEVAL(UserName)--&gt;</span>
</code></pre>
<p>The main advantage of this syntax is that it allows you to write XML-compliant templates. Some 4D developers need to create and validate XML-based templates using standard XML parser tools. Since the &quot;&lt;&quot; character is invalid in an XML attribute value, it was not possible to use the &quot;<code>&lt;!-- --&gt;</code>&quot; syntax of 4D tags without breaking the document syntax. On the other hand, escaping the &quot;&lt;&quot; character will prevent 4D from interpreting the tags correctly.</p>
<p>For example, the following code would cause an XML parsing error because of the first &quot;&lt;&quot; character in the attribute value:</p>
<pre><code class="hljs css language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">line</span> <span class="hljs-attr">x1</span>=<span class="hljs-string">"&lt;!--#4DEVAL $x--&gt;"</span> <span class="hljs-attr">y1</span>=<span class="hljs-string">"&lt;!--#4DEVAL $graphY1--&gt;"</span>/&gt;</span>
</code></pre>
<p>Utilizando la sintaxis $, el siguiente código es validado por el analizador:</p>
<pre><code class="hljs css language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">line</span> <span class="hljs-attr">x1</span>=<span class="hljs-string">"$4DEVAL($x)"</span> <span class="hljs-attr">y1</span>=<span class="hljs-string">"$4DEVAL($graphY1)"</span>/&gt;</span>
</code></pre>
<p>Note that <code>$4dtag</code> and <code>&lt;--#4dtag --&gt;</code> are not strictly equivalent: unlike <code>&lt;--#4dtag --&gt;</code>, <code>$4dtag</code> processing does not interpret 4D tags <a href="#recursive-processing">recursively</a>. Las etiquetas <code>$</code> siempre se evalúan una vez y el resultado se considera texto plano.</p>
<p>La razón de esta diferencia es evitar la inyección de código malicioso. As <a href="#prevention-of-malicious-code-insertion">explained below</a>, it is strongly recommended to use <code>4DTEXT</code> tags instead of <code>4DHTML</code> tags when handling user text to protect against unwanted reinterpretation of tags: with <code>4DTEXT</code>, special characters such as &quot;&lt;&quot; are escaped, thus any 4D tags using the <code>&lt;!--#4dtag expression --&gt;</code> syntax will lose their particular meaning. However, since <code>4DTEXT</code> does not escape the <code>$</code> symbol, we decided to break support for recursion in order to prevent malicious injection using the <code>$4dtag (expression)</code> syntax.</p>
<p>The following examples show the result of processing depending on the syntax and tag used:</p>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">// example 1</span>
 myName:=<span class="hljs-string">"&lt;!--#4DHTML QUIT 4D--&gt;"</span> <span class="hljs-comment">//malicious injection</span>
 input:=<span class="hljs-string">"My name is: &lt;!--#4DHTML myName--&gt;"</span>
<span class="hljs-function"> PROCESS 4D TAGS</span>(input;output)
  <span class="hljs-comment">//4D will quit!</span>
</code></pre>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">// example 2</span>
 myName:=<span class="hljs-string">"&lt;!--#4DHTML QUIT 4D--&gt;"</span> <span class="hljs-comment">//malicious injection</span>
 input:=<span class="hljs-string">"My name is: &lt;!--#4DTEXT myName--&gt;"</span>
<span class="hljs-function"> PROCESS 4D TAGS</span>(input;output)
  <span class="hljs-comment">//output is "My name is: &lt;!--#4DHTML QUIT 4D--&gt;"</span>
</code></pre>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">// example 3</span>
 myName:=<span class="hljs-string">"$4DEVAL(QUIT 4D)"</span> <span class="hljs-comment">//malicious injection</span>
 input:=<span class="hljs-string">"My name is: &lt;!--#4DTEXT myName--&gt;"</span>
<span class="hljs-function"> PROCESS 4D TAGS</span>(input;output)
  <span class="hljs-comment">//output is "My name is: $4DEVAL(QUIT 4D)"</span>
</code></pre>
<p>Note that the <code>$4dtag</code> syntax supports matching pairs of enclosed quotes or parenthesis. For example, suppose that you need to evaluate the following complex (unrealistic) string:</p>
<pre><code class="hljs">String(<span class="hljs-number">1</span>) + <span class="hljs-string">"<span class="hljs-subst">\"</span>(hello)<span class="hljs-subst">\"</span>"</span>
</code></pre>
<p>Puede escribir:</p>
<pre><code class="hljs css language-4d"> input:=<span class="hljs-string">"$4DEVAL( String(1)+\"\\\"(hello)\\\"\")"</span>
<span class="hljs-function"> PROCESS 4D TAGS</span>(input;output)
 --&gt;output is <span class="hljs-number">1</span><span class="hljs-string">"(hello)"</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/Rx/es/Debugging/debugLogFiles.html"><span class="arrow-prev">← </span><span>Descripción de los archivos de historial</span></a><a class="docs-next button" href="/docs/Rx/es/settings/overview.html"><span>Generalidades</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#principios-de-uso-de-las-etiquetas">Principios de uso de las etiquetas</a><ul class="toc-headings"><li><a href="#parsing">Parsing</a></li><li><a href="#tratamiento-recursivo">Tratamiento recursivo</a></li><li><a href="#identificadores-con-tokens">Identificadores con tokens</a></li><li><a href="#utilizando-el--como-separador-decimal">Utilizando el &quot;.&quot; como separador decimal</a></li></ul></li><li><a href="#4dbase">4DBASE</a></li><li><a href="#4dcode">4DCODE</a></li><li><a href="#4deach-y-4dendeach">4DEACH y 4DENDEACH</a><ul class="toc-headings"><li><a href="#--4deach-item-in-collection--"><code>&lt;!--#4DEACH item in collection--&gt;</code></a></li><li><a href="#--4deach-entity-in-entityselection--"><code>&lt;!--#4DEACH entity in entitySelection--&gt;</code></a></li><li><a href="#--4deach-property-in-object--"><code>&lt;!--#4DEACH property in object--&gt;</code></a></li></ul></li><li><a href="#4deval">4DEVAL</a></li><li><a href="#4dhtml">4DHTML</a></li><li><a href="#4dif-4delse-4delseif-y-4dendif">4DIF, 4DELSE, 4DELSEIF y 4DENDIF</a></li><li><a href="#4dinclude">4DINCLUDE</a></li><li><a href="#4dloop-y-4dendloop">4DLOOP y 4DENDLOOP</a><ul class="toc-headings"><li><a href="#--4dloop-table--"><code>&lt;!--#4DLOOP [table]--&gt;</code></a></li><li><a href="#--4dloop-array--"><code>&lt;!--#4DLOOP array--&gt;</code></a></li><li><a href="#--4dloop-method--"><code>&lt;!--#4DLOOP method--&gt;</code></a></li><li><a href="#--4dloop-expression--"><code>&lt;!--#4DLOOP expression--&gt;</code></a></li><li><a href="#--4dloop-pointerarray--"><code>&lt;!--#4DLOOP pointerArray--&gt;</code></a></li></ul></li><li><a href="#4dscript">4DSCRIPT/</a></li><li><a href="#4dtext">4DTEXT</a></li><li><a href="#sintaxis-alternativa-para-4dtext-4dhtml-4deval">Sintaxis alternativa para 4DTEXT, 4DHTML, 4DEVAL</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/Rx/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2022 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license-0">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                appId: 'OJ04C0M3CU',
                apiKey: '5f22ebbb9382abafeadc3e86ca47d4af',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:es","version:19 R5"]}
              });
            </script></body></html>