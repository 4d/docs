<!DOCTYPE html><html lang="pt"><head><meta name="docsearch:version" content="19 R5"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>EntitySelection · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="An entity selection is an object containing one or more reference(s) to [entities](/docs/Rx/pt/ORDA/dsmapping.html#entity) belonging to the same [Dataclass](/docs/Rx/pt/ORDA/dsmapping.html#dataclass). An entity selection can contain 0, 1 or X entities from the dataclass -- where X can represent the total number of entities contained in the dataclass."/><meta name="docsearch:language" content="pt"/><meta property="og:title" content="EntitySelection · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/Rx/index.html"/><meta property="og:description" content="An entity selection is an object containing one or more reference(s) to [entities](/docs/Rx/pt/ORDA/dsmapping.html#entity) belonging to the same [Dataclass](/docs/Rx/pt/ORDA/dsmapping.html#dataclass). An entity selection can contain 0, 1 or X entities from the dataclass -- where X can represent the total number of entities contained in the dataclass."/><meta property="og:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/Rx/img/logohome.png"/><link rel="shortcut icon" href="/docs/Rx/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/Rx/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/Rx/js/code-blocks-buttons.js"></script><script src="/docs/Rx/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/Rx/css/main.css"/><script src="/docs/Rx/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/Rx/pt"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v19 R6 BETA</a></li><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs/Rx" target="_self">v19 R5</a></li><li class=""><a href="https://developer.4d.com/docs/19" target="_self">v19</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/Rx/img/language.svg" alt="Languages icon"/>Português</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/Rx/en/API/EntitySelectionClass.html">English</a></li><li><a href="/docs/Rx/ja/API/EntitySelectionClass.html">日本語</a></li><li><a href="/docs/Rx/de/API/EntitySelectionClass.html">Deutsch</a></li><li><a href="/docs/Rx/es/API/EntitySelectionClass.html">Español</a></li><li><a href="/docs/Rx/fr/API/EntitySelectionClass.html">Français</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Class API Reference</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Project Management<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Project/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Project/architecture.html">Architecture of a project</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Project/documentation.html">Documenting a project</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Project/compiler.html">Compilation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">4D Language Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/about.html">Sobre a linguagem 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/quick-tour.html">A Quick Tour</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/operators.html">Operadores</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/data-types.html">Tipos de dados</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/boolean.html">Booleano</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/collection.html">Coleção</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/date.html">Date</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/null-undefined.html">Null and Undefined</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/number.html">Number (Real, Longint, Integer)</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/object.html">Objeto</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/picture.html">Imagem</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/pointer.html">Ponteiro</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/string.html">String</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/time.html">Hora</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/variant.html">Variant</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/variables.html">Variáveis</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/arrays.html">Arrays</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/methods.html">Métodos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/parameters.html">Parâmetros</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/shared.html">Shared objects and collections</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/classes.html">Classes</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/control-flow.html">Control flow overview</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/branching.html">Estruturas condicionais</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/looping.html">Estruturas de loop</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/error-handling.html">Error handling</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/interpreted-compiled.html">Interpreted and Compiled modes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/components.html">Componentes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Concepts/identifiers.html">Identifiers</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ORDA<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/ORDA/overview.html">What is ORDA?</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/ORDA/dsmapping.html">Data Model Objects</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/ORDA/ordaClasses.html">Data Model Classes</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/ORDA/entities.html">Working with data</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/ORDA/datastores.html">Using a remote datastore</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/ORDA/glossary.html">Glossary</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Class API Reference<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/overview.html">Class API Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/BlobClass.html">Blob</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/ClassClass.html">Classe</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/CollectionClass.html">Coleção</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/CryptoKeyClass.html">CryptoKey</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/DataClassClass.html">DataClass</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/DataClassAttributeClass.html">DataClassAttribute</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/DataStoreClass.html">DataStore</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/EmailObjectClass.html">Email</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/EntityClass.html">Entity</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/Rx/pt/API/EntitySelectionClass.html">EntitySelection</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/FileClass.html">File</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/FolderClass.html">Folder</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/FunctionClass.html">Formula</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/IMAPTransporterClass.html">IMAPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/MailAttachmentClass.html">MailAttachment</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/POP3TransporterClass.html">POP3Transporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/SessionClass.html">Session</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/SignalClass.html">Signal</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/SMTPTransporterClass.html">SMTPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/SystemWorkerClass.html">SystemWorker</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/WebServerClass.html">WebServer</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/ZipArchiveClass.html">ZIPArchive</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/ZipFileClass.html">ZIPFile</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/API/ZipFolderClass.html">ZIPFolder</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Code Editor<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/code-editor/navigation.html">Navigation dropdown</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Debugging<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Debugging/basics.html">Básicos</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Debugging/debugger.html">Depurador</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Debugging/breakpoints.html">Breakpoints and Command Catching</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Debugging/debugging-remote.html">Debugging from remote machines</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Debugging/debugLogFiles.html">Description of log files</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Transformation Tags<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Tags/tags.html">Transformation tags</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Settings<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/general.html">General page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/interface.html">Interface page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/compiler.html">Compiler page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/database.html">Database page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/backup.html">Backup page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/client-server.html">Client-server page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/web.html">Página da Web</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/sql.html">Página SQL</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/php.html">PHP page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/security.html">Security page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/settings/compatibility.html">Compatibility page</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Preferences<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Preferences/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Preferences/general.html">General Page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Preferences/structure.html">Structure Page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Preferences/forms.html">Forms Page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Preferences/methods.html">Methods Page</a></li><li class="navListItem"><a class="navItem" href="/docs/Rx/pt/Preferences/shortcuts.html">Shortcuts Page</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/Rx/docs/API/EntitySelectionClass.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">EntitySelection</h1></header><article><div><span><p>An entity selection is an object containing one or more reference(s) to <a href="/docs/Rx/pt/ORDA/dsmapping.html#entity">entities</a> belonging to the same <a href="/docs/Rx/pt/ORDA/dsmapping.html#dataclass">Dataclass</a>. An entity selection can contain 0, 1 or X entities from the dataclass -- where X can represent the total number of entities contained in the dataclass.</p>
<p>Entity selections can be created from existing selections using various functions of the <a href="/docs/Rx/pt/API/DataClassClass.html"><code>DataClass</code> class</a> such as <a href="/docs/Rx/pt/API/DataClassClass.html#all"><code>.all()</code></a> or <a href="/docs/Rx/pt/API/DataClassClass.html#query"><code>.query()</code></a>, or functions of the <code>EntityClass</code> class itself, such as <a href="#and"><code>.and()</code></a> or <a href="#orderby"><code>orderBy()</code></a>. You can also create blank entity selections using the <a href="/docs/Rx/pt/API/DataClassClass.html#newselection"><code>dataClass.newSelection()</code></a> function or the <a href="#create-new-selection"><code>Create new selection</code></a> command.</p>
<h3><a class="anchor" aria-hidden="true" id="resumo"></a><a href="#resumo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resumo</h3>
<table>
<thead>
<tr><th></th></tr>
</thead>
<tbody>
<tr><td><a href="#91index93"> <em>attributePath</em> for um atributo relativo,</a><p>    </td></tr>
<tr><td><a href="#attributename"> Se o &quot;kind&quot; de <em>attributeName</em> é <code>storage</code>: <code>.attributeName</code> devolve uma coleção de valores do mesmo tipo que <em>attributeName</em>.</a><p>    </td></tr>
<tr><td><a href="#add"> <em>attributePath</em> não se encontra na classe de dados da entity selection.</a><p>    </td></tr>
<tr><td><a href="#and"> <strong>.and</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</a><p>    </td></tr>
<tr><td><a href="#average"> <strong>.average</strong>( {<em>propertyPath</em> : Text } ) : Real</a><p>    </td></tr>
<tr><td><a href="#contains"> <em>attributePath</em> for um atributo relativo,</a><p>    </td></tr>
<tr><td><a href="#count"> <strong>.count</strong>( <em>attributePath</em> : Text ) : Real</a><p>    </td></tr>
<tr><td><a href="#distinct"> <strong>.distinct</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection</a><p>    </td></tr>
<tr><td><a href="#drop"> <strong>.drop</strong>( { <em>mode</em> : Integer } ) : 4D. EntitySelection</a><p>    </td></tr>
<tr><td><a href="#extract"><strong>.extract</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>attributePath</em> { ; <em>targetPath</em> } { ; <em>...attributePathN</em> : Text ; <em>targetPathN</em> : Text } ) : Collection</a><p>    retorna una coleção que contenha os valores de <em>attributePath</em> extraídos da entity selection</td></tr>
<tr><td><a href="#first"> <strong>.first()</strong> : 4D. Entity</a><p>    </td></tr>
<tr><td><a href="#getdataclass"> <strong>.getDataClass()</strong> : 4D. DataClass</a><p>    </td></tr>
<tr><td><a href="#isalterable"> <strong>.isAlterable()</strong> : Boolean</a><p>     devolve True se a entity selection for modificável</td></tr>
<tr><td><a href="#isordered"> <strong>.isOrdered()</strong> : Boolean</a><p>     devolve True se a entity selection for ordenada</td></tr>
<tr><td><a href="#last"> <strong>.last()</strong> : 4D. Entity</a><p>     devolve uma referência à entidad em última posição da entity selection</td></tr>
<tr><td><a href="#máx"> <strong>.length</strong> : Integer</a><p>    </td></tr>
<tr><td><a href="#max"> <strong>.max</strong>( <em>attributePath</em> : Text ) : any</a><p>    </td></tr>
<tr><td><a href="#min"> <strong>.min</strong>( <em>attributePath</em> : Text ) : any</a><p>    </td></tr>
<tr><td><a href="#minus"> <strong>.minus</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</a><p>    </td></tr>
<tr><td><a href="#or"> <strong>.or</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</a><p>    combines the entity selection with the <em>entity</em> or <em>entitySelection</em> parameter using the logical (not exclusive) OR operator</td></tr>
<tr><td><a href="#orderby"> <strong>.orderBy</strong>( <em>pathString</em> : Text ) : 4D. EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : 4D. EntitySelection</a><p>    </td></tr>
<tr><td><a href="#orderbyformula"> <strong>.orderByFormula</strong>( <em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D. EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.</a><p>    </td></tr>
<tr><td><a href="#query"> <strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection</a><p>    </td></tr>
<tr><td><a href="#querypath"> <strong>.queryPath</strong> : Text</a><p>    </td></tr>
<tr><td><a href="#queryplan"> <strong>.queryPlan</strong> : Text</a><p>    </td></tr>
<tr><td><a href="#refresh"> <strong>.refresh()</strong></a><p>    </td></tr>
<tr><td><a href="#selected"> <strong>.selected</strong>( <em>selectedEntities</em> : 4D. EntitySelection ) : Object</a><p>    </td></tr>
<tr><td><a href="#slice"> <strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : 4D. EntitySelection</a><p>    </td></tr>
<tr><td><a href="#sum"> <strong>.sum</strong>( <em>attributePath</em> : Text ) : Real</a><p>    </td></tr>
<tr><td><a href="#tocollection"> <strong>.toCollection</strong>( { <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer } } ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterString</em> : Text {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterCol</em> : Collection {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em></a><p>    </td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="create-entity-selection"></a><a href="#create-entity-selection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create entity selection</h2>
<p><em>attributePath</em> não se encontra na classe de dados da entity selection.</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>dsTable</td><td>Tabela</td><td style="text-align:center">-&gt;</td><td>Tabela do banco de dados 4D cuja seleção atual se utilizará para construir a seleção de entidades</td></tr>
<tr><td>settings</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Build option: context</td></tr>
<tr><td>Resultado</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Seleção de entidades que coincidem com a classe de dados relacionada com a tabela dada</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição"></a><a href="#descrição" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>O comando <code>Create entity selection</code> constrói e devolve uma nova, <a href="/docs/Rx/pt/ORDA/entities.html#shareable-or-alterable-entity-selections">alterável</a> seleção de entidade relacionada com a classe de dados que coincide com a tabela <em>dsTable</em> dada, segundo a seleção atual desta tabela.</p>
<p>Se a seleção atual for ordenada, é criada uma seleção de entidades <a href="/docs/Rx/pt/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">ordenada</a> (se mantém a ordem da seleção atual). Se a seleção atual não for ordenada, se cria uma seleção de entidades não ordenada.</p>
<p>Se a tabela <em>dsTable</em> não estiver exposta em <a href="/docs/Rx/pt/API/DataStoreClass.html#ds"><code>ds</code></a>, se devolve um erro. Esse comando não pode usado com uma datastore remota.</p>
<p>No parâmetro opcional<em>settings</em> pode passar um objeto contendo as propriedades abaixo:</p>
<table>
<thead>
<tr><th>Propriedade</th><th>Type</th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>context</td><td>Texto</td><td>Label for the <a href="/docs/Rx/pt/ORDA/entities.html#clientserver-optimization">optimization context</a> applied to the entity selection.</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="exemplo"></a><a href="#exemplo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employees </span>: cs.<span class="hljs-function"> EmployeeSelection ALL RECORDS</span>([Employee])
<span class="hljs-variable">$employees</span>:=<span class="hljs-function">Create entity selection</span>([Employee]) 
<span class="hljs-comment">// A entity selection $employees agora contém um conjunto de referências</span>
<span class="hljs-comment">// em todas as entidades relacionadas com a classe de dados Employee</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="veja-também"></a><a href="#veja-também" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Veja também</h4>
<p><a href="/docs/Rx/pt/API/DataClassClass.html#newselection"><code>dataClass.newSelection()</code></a></p>
<h2><a class="anchor" aria-hidden="true" id="use-entity-selection"></a><a href="#use-entity-selection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>USE ENTITY SELECTION</h2>
<p><strong>USE ENTITY SELECTION</strong> (<em>entitySelection</em>)</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>entitySelection</td><td>EntitySelection</td><td style="text-align:center">-&gt;</td><td>An entity selection</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-1"></a><a href="#descrição-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>USE ENTITY SELECTION</code> command updates the current selection of the table matching the dataclass of the <em>entitySelection</em> parameter, according to the content of the entity selection.</p>
<p>This command cannot be used with a <a href="/docs/Rx/pt/ORDA/datastores.html">Remote datastore</a>.</p>
<blockquote>
<p>After a call to <code>USE ENTITY SELECTION</code>, the first record of the updated current selection (if not empty) becomes the current record, but it is not loaded in memory. If you need to use the values of the fields in the current record, use the <code>LOAD RECORD</code> command after the <code>USE ENTITY SELECTION</code> command.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1"></a><a href="#exemplo-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$entitySel </span>: Object

<span class="hljs-variable">$entitySel</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"M@"</span>) <span class="hljs-comment">//$entitySel is related to the Employee dataclass REDUCE SELECTION([Employee];0)</span>
<span class="hljs-function">USE ENTITY SELECTION</span>(<span class="hljs-variable">$entitySel</span>) <span class="hljs-comment">//The current selection of the Employee table is updated</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="91index93"></a><a href="#91index93" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>[<em>index</em>]</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><em>attributePath</em> for um atributo relativo,</p>
<h4><a class="anchor" aria-hidden="true" id="descrição-2"></a><a href="#descrição-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A notação <code>EntitySelection[index]</code> permite acessar as entidades dentro da seleção de entidades utilizando a sintaxe de coleção padrão: passe a posição da entidade que quiser obter no parâmetro <em>index</em>.</p>
<p>Lembre que a entidade correspondente é recarregada a partir da datastore.</p>
<p><em>index</em> pode ser qualquer número entre 0 e <code>.length</code>-1.</p>
<ul>
<li>If <em>index</em> is out of range, an error is returned.</li>
<li>If <em>attributeName</em> kind is <code>storage</code>: <code>.attributeName</code> returns a collection of values of the same type as <em>attributeName</em>.</li>
</ul>
<blockquote>
<blockquote>
<p><strong>Atenção</strong>: <code>EntitySelection[index]</code> é uma expressão não atribuível, o que significa que não pode utilizar-se como referência editável da entidade com métodos como <a href="/docs/Rx/pt/API/EntityClass.html#lock"><code>.lock()</code></a> o <a href="/docs/Rx/pt/API/EntityClass.html#save"><code>.save()</code></a>. Para trabalhar com a entidade correspondente, é necessário atribuir a expressão devolvida a uma expressão atribuível, como uma variável. Exemplos:</p>
</blockquote>
</blockquote>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$sel</span>:=ds. Employee.<span class="hljs-function">all</span>() <span class="hljs-comment">//criação da entity selection</span>
  <span class="hljs-comment">//declarações não válidas:</span>
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$sel</span>[<span class="hljs-number">0</span>].<span class="hljs-function">lock</span>() <span class="hljs-comment">//NÃO funcionará</span>
 <span class="hljs-variable">$sel</span>[<span class="hljs-number">0</span>].lastName:=<span class="hljs-string">"Smith"</span> <span class="hljs-comment">//NÃO funcionará</span>
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$sel</span>[<span class="hljs-number">0</span>].<span class="hljs-function">save</span>() <span class="hljs-comment">//NÃO funcionará</span>
  <span class="hljs-comment">//valid code:</span>
 <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$sel</span>[<span class="hljs-number">0</span>]  <span class="hljs-comment">//OK</span>
 <span class="hljs-variable">$entity</span>.lastName:=<span class="hljs-string">"Smith"</span> <span class="hljs-comment">//OK</span>
 <span class="hljs-variable">$entity</span>.<span class="hljs-function">save</span>() <span class="hljs-comment">//OK</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2"></a><a href="#exemplo-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees </span>: cs. EmployeeSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employee </span>: cs. EmployeeEntity
 <span class="hljs-variable">$employees</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"H@"</span>)
 <span class="hljs-variable">$employee</span>:=<span class="hljs-variable">$employees</span>[<span class="hljs-number">2</span>]  <span class="hljs-comment">// A terceira entidade da seleção de entidades $employees se recarrega do banco de dados</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="attributename"></a><a href="#attributename" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.<em>attributeName</em></h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p>Se o &quot;kind&quot; de <em>attributeName</em> é <code>storage</code>: <code>.attributeName</code> devolve uma coleção de valores do mesmo tipo que <em>attributeName</em>.</p>
<h4><a class="anchor" aria-hidden="true" id="descrição-3"></a><a href="#descrição-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>As seleções de entidades podem ser criadas a partir de seleções existentes utilizando varias funções da classe <a href="/docs/Rx/pt/API/DataClassClass.html"><code>DataClass</code> class</a> tais como <a href="/docs/Rx/pt/API/DataClassClass.html#all"><code>.all()</code></a> ou <a href="/docs/Rx/pt/API/DataClassClass.html#query"><code>.query()</code></a>, ou da classe <code>EntityClass</code> mesma, tal como <a href="#and"><code>.and()</code></a> ou <a href="#orderby"><code>orderBy()</code></a>. Também pode criar seleções de entidades em branco utilizando a função <a href="/docs/Rx/pt/API/DataClassClass.html#newselection"><code>dataClass.newSelection()</code></a> ou o comando <a href="#create-new-selection"><code>Create new selection</code></a>.</p>
<ul>
<li>If <em>attributeName</em> kind is <code>storage</code>: <code>.attributeName</code> returns a collection of values of the same type as <em>attributeName</em>.</li>
<li>If <em>attributeName</em> kind is <code>relatedEntity</code>: <code>.attributeName</code> returns a new entity selection of related values of the same type as <em>attributeName</em>. Duplications are removed (an unordered entity selection is returned).</li>
<li>If <em>attributeName</em> kind is <code>relatedEntities</code>: <code>.attributeName</code> returns a new entity selection of related values of the same type as <em>attributeName</em>. Duplications are removed (an unordered entity selection is returned).</li>
</ul>
<p>When a relation attribute is used as a property of an entity selection, the result is always another entity selection, even if only one entity is returned. If the original entity selection and the <em>entitySelection</em> parameter are empty, an empty entity selection is returned.</p>
<p>Se o atributo não existir na seleção de entidades, se devolve um erro.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-1"></a><a href="#exemplo-1-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<p>Projeção de valores de armazenamento:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$firstNames </span>: Collection
 <span class="hljs-variable">$entitySelection</span>:=ds. Employee.<span class="hljs-function">all</span>()
 <span class="hljs-variable">$firstNames</span>:=<span class="hljs-variable">$entitySelection</span>.firstName <span class="hljs-comment">// firstName é um string</span>
</code></pre>
<p>A coleção resultante é uma coleção de strings, por exemplo:</p>
<pre><code class="hljs css language-4d">[
    <span class="hljs-string">"Joanna"</span>,
    <span class="hljs-string">"Alexandra"</span>,
    <span class="hljs-string">"Rick"</span>
]
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-1"></a><a href="#exemplo-2-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>Projeção da entidade relacionada:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es</span>; <span class="hljs-variable">$entitySelection </span>: cs. EmployeeSelection
 <span class="hljs-variable">$entitySelection</span>:=ds. Employee.<span class="hljs-function">all</span>()
 <span class="hljs-variable">$es</span>:=<span class="hljs-variable">$entitySelection</span>.employer <span class="hljs-comment">// employer é relacionada aum  Company dataClass</span>
</code></pre>
<p>O objeto resultane é uma seleção de entidade da Empresa com duplicações removidas (se houver).</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-3"></a><a href="#exemplo-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 3</h4>
<p>Projeção de entidades relacionadas:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs. EmployeeSelection
 <span class="hljs-variable">$es</span>:=ds. Employee.<span class="hljs-function">all</span>().directReports <span class="hljs-comment">// directReports é relacionada a dataclasse Funcionário</span>
</code></pre>
<p>O objeto resultante é uma seleção de entidade da dataclasse Funcionario sem duplicatas (se houver).</p>
<h2><a class="anchor" aria-hidden="true" id="add"></a><a href="#add" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.add()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v18 R5</td><td>Compatível apenas com seleções de entidade alteráveis</td></tr>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><em>attributePath</em> não se encontra na classe de dados da entity selection.</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>entity</td><td>4D. Entity</td><td style="text-align:center">-&gt;</td><td>Entidade que deve ser adicinonada à entity selection</td></tr>
<tr><td>Resultado</td><td>4D. EntitySelection</td><td style="text-align:center">-&gt;</td><td>Seleção de entidades incluindo a <em>entity</em> adicionada</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-4"></a><a href="#descrição-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.add()</code> adiciona a <em>entity</em> especificada a entity selection e devolve a seleção de entidades modificada.</p>
<blockquote>
<p>Os valores de tipo Date são convertidos em valores numéricos (segundos) e são usados para calcular a média.</p>
</blockquote>
<p><strong>Atenção:</strong> a entity selection deve ser <em>alteravel</em>, ou seja, foi criado por ejemplo, por <a href="/docs/Rx/pt/API/DataClassClass.html#newselection"><code>.newSelection()</code></a> ou <code>Create entity selection</code>, do contrário <code>.add()</code> devolverá um erro. As entity selections partilháveis não aceitam a adição de entidades. Para saber mais, consulte <a href="/docs/Rx/pt/ORDA/entities.html#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis </a>.</p>
<ul>
<li>If the entity selection is ordered, <em>entity</em> is added at the end of the selection. If a reference to the same entity already belongs to the entity selection, it is duplicated and a new reference is added.</li>
<li>If the entity selection is unordered, <em>entity</em> is added anywhere in the selection, with no specific order.</li>
</ul>
<blockquote>
<p>For more information, please refer to the <a href="/docs/Rx/pt/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">Ordered or unordered entity selection</a> section.</p>
</blockquote>
<p>A entity selection modificada é devolvida pela função, de modo que as chamadas à função podem ser encadeados.</p>
<p>Se produz um erro se <em>entity</em> e a entity selection não estão relacionadas com a mesma dataclass. Se <em>entity</em> for Null, não se produz nenhum erro.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-2"></a><a href="#exemplo-1-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees </span>: cs. EmployeeSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employee </span>: cs. EmployeeEntity
 <span class="hljs-variable">$employees</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"S@"</span>)
 <span class="hljs-variable">$employee</span>:=ds. Employee.<span class="hljs-function">new</span>()
 <span class="hljs-variable">$employee</span>.lastName:=<span class="hljs-string">"Smith"</span>
 <span class="hljs-variable">$employee</span>.<span class="hljs-function">save</span>()
 <span class="hljs-variable">$employees</span>.<span class="hljs-function">add</span>(<span class="hljs-variable">$employee</span>) <span class="hljs-comment">//A entidade $employee se adiciona a entity selection $employees</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-2"></a><a href="#exemplo-2-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>As chamadas à função podem ser encadeadas:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel </span>: cs. ProductSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$p1</span>;<span class="hljs-variable">$p2</span>;<span class="hljs-variable">$p3 </span>: cs. ProductEntity

 <span class="hljs-variable">$p1</span>:=ds. Product.<span class="hljs-function">get</span>(<span class="hljs-number">10</span>)
 <span class="hljs-variable">$p2</span>:=ds. Product.<span class="hljs-function">get</span>(<span class="hljs-number">11</span>)
 <span class="hljs-variable">$p3</span>:=ds. Product.<span class="hljs-function">get</span>(<span class="hljs-number">12</span>)
 <span class="hljs-variable">$sel</span>:=ds. Product.<span class="hljs-function">query</span>(<span class="hljs-string">"ID &gt; 50"</span>)
 <span class="hljs-variable">$sel</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">add</span>(<span class="hljs-variable">$p1</span>).<span class="hljs-function">add</span>(<span class="hljs-variable">$p2</span>).<span class="hljs-function">add</span>(<span class="hljs-variable">$p3</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="and"></a><a href="#and" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.and()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.and</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>entity</td><td>4D. Entity</td><td style="text-align:center">-&gt;</td><td>Entidade a intersectar</td></tr>
<tr><td>entitySelection</td><td>4D. EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection a intersectar</td></tr>
<tr><td>Resultado</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Entity selection resultante da intersecção com o operador lógico AND</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-5"></a><a href="#descrição-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.and()</code> combina a entity selection com o parâmetro <em>entity</em> ou <em>entitySelection</em> utilizando o operador lógico AND; devolve uma nova entity selection não ordenada que contém só as entidades às que se faz referência tanto na entity selection quanto o parâmetro.</p>
<ul>
<li>If you pass <em>entity</em> as parameter, you combine this entity with the entity selection. If the entity belongs to the entity selection, a new entity selection containing only the entity is returned. Otherwise, an empty entity selection is returned.</li>
<li>If you pass <em>entity</em> as parameter, you compare this entity with the entity selection. If the entity belongs to the entity selection, a new reference to the entity selection is returned. Otherwise, a new entity selection containing the original entity selection and the entity is returned.</li>
</ul>
<blockquote>
<blockquote>
<p>Pode comparar <a href="/docs/Rx/pt/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">entity selections ordenadas ou desordenadas</a>. A seleção resultante é sempre desordenada.</p>
</blockquote>
</blockquote>
<p>Se a entity selection inicial ou o parâmetro <em>entitySelection</em> estiverem vazios, ou se <em>entity</em> for Null, se devolve uma entity selection vazia.</p>
<p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-3"></a><a href="#exemplo-1-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees</span>; <span class="hljs-variable">$notDropped </span>: cs. EmployeeSelection
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName=:1"</span>;<span class="hljs-string">"S@"</span>)
 <span class="hljs-variable">$notDropped</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">drop</span>(dk stop dropping on first error) <span class="hljs-comment">//$notDropped é uma entity selection que contém a primeira entidade não eliminada</span><span class="hljs-keyword">
 If</span>(<span class="hljs-variable">$notDropped</span>.length=<span class="hljs-number">0</span>) <span class="hljs-comment">//A ação de eliminação é exitosa, todas as entidades foram eliminadas</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"You have dropped "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$employees</span>.length)+<span class="hljs-string">" employees"</span>) <span class="hljs-comment">//A seleção de entidades eliminada permanece na memória</span><span class="hljs-keyword">
 Else</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"Problem during drop, try later"</span>)<span class="hljs-keyword">
 End if</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-3"></a><a href="#exemplo-2-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>Se quisermos ter uma seleção de empregados chamados &quot;Jones&quot; que morem em Nova York:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel1</span>; <span class="hljs-variable">$sel2</span>; <span class="hljs-variable">$sel3 </span>: cs. EmployeeSelection
 <span class="hljs-variable">$sel1</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"name =:1"</span>;<span class="hljs-string">"Jones"</span>)
 <span class="hljs-variable">$sel2</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"city=:1"</span>;<span class="hljs-string">"New York"</span>)
 <span class="hljs-variable">$sel3</span>:=<span class="hljs-variable">$sel1</span>.<span class="hljs-function">and</span>(<span class="hljs-variable">$sel2</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="average"></a><a href="#average" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.average()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v18 R6</td><td>Retorna indefinido se uma seleção de entidade for vazia</td></tr>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.average</strong>( {<em>propertyPath</em> : Text } ) : Real</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>attributePath</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Rota de atributo a utilizar para o cálculo</td></tr>
<tr><td>Resultado</td><td>Real</td><td style="text-align:center">&lt;-</td><td>Media aritmética (média) dos valores das entidades para o atributo (Não se define para uma entity selection vazia)</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-6"></a><a href="#descrição-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p><em>attributePath</em> designa um atributo que não existir na dataclass da entity selection.</p>
<p>Passe no parâmetro <em>attributePath</em> a rota de atributo a avaliar.</p>
<p>Só são levados em consideração os valores numéricos para o cálculo. Lembre entretanto que se o <em>attributePath</em> da seleção de entidades conter tipos de valores mistos, <code>.average()</code> considera todos os elementos escalares para calcular o valor médio.</p>
<blockquote>
<p>Para saber mais sobre propriedade compartilhável de entity selections, consulte <a href="/docs/Rx/pt/ORDA/entities.html#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis</a>.</p>
</blockquote>
<p><code>.average()</code> returns <strong>undefined</strong>se a entity selection estiver vazia ou <em>attributePath</em> não conter valores numéricos.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> designates an attribute that does not exist in the entity selection dataclass.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="exemplo-4"></a><a href="#exemplo-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<p>Se quisermos obter uma lista de funcionários cujo salário for superior ao salário médio:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$averageSalary </span>: Real<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$moreThanAv </span>: cs. EmployeeSelection
 <span class="hljs-variable">$averageSalary</span>:=ds. Employee.<span class="hljs-function">all</span>().<span class="hljs-function">average</span>(<span class="hljs-string">"salary"</span>)
 <span class="hljs-variable">$moreThanAv</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &gt; :1"</span>;<span class="hljs-variable">$averageSalary</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="contains"></a><a href="#contains" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.contains()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><em>attributePath</em> for um atributo relativo,</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>entity</td><td>4D. Entity</td><td style="text-align:center">-&gt;</td><td>Entidade a ser avaliada</td></tr>
<tr><td>Resultado</td><td>Booleano</td><td style="text-align:center">&lt;-</td><td>Truse se a entidade pertencer à entity selection, senão False</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-7"></a><a href="#descrição-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>Se não houver entidades correspondentes encontradas, uma <code>EntitySelection</code> vazia é retornada.</p>
<p>Em <em>entity</em>, especifique a entidade a buscar na entity selection. Se a entidade for Null, a função devolverá false.</p>
<p>Se <em>entity</em> e a entity selection não pertencerem à mesma dataclass, se produz um erro.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-5"></a><a href="#exemplo-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees </span>: cs. EmployeeSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employee </span>: cs. EmployeeEntity

 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName=:1"</span>;<span class="hljs-string">"H@"</span>)
 <span class="hljs-variable">$employee</span>:=ds. Employee.<span class="hljs-function">get</span>(<span class="hljs-number">610</span>)<span class="hljs-keyword">

 If</span>(<span class="hljs-variable">$employees</span>.<span class="hljs-function">contains</span>(<span class="hljs-variable">$employee</span>))
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"A entidade com chave primaria 610 tem um sobrenome começando com H"</span>)<span class="hljs-keyword">
 Else</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"A entidade com chave primária 610 não tem um sobrenome começando com H"</span>)<span class="hljs-keyword">
 End if</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="count"></a><a href="#count" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.count()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.count</strong>( <em>attributePath</em> : Text ) : Real</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>attributePath</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr>
<tr><td>Resultado</td><td>Real</td><td style="text-align:center">&lt;-</td><td>Número de valores de <em>attributePath</em> que não são null na entity selection</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-8"></a><a href="#descrição-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p><em>attributePath</em> for um atributo relativo,</p>
<blockquote>
<p>Só são levados em consideração os valores escalares. Os valores de tipo objeto ou coleção são considerados valores nulos.</p>
</blockquote>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> is not found in the entity selection dataclass.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="exemplo-6"></a><a href="#exemplo-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<p>Se quisermos encontrar o número total de empregados para uma empresa sem contar aqueles cujos titulos de mprego não foram especificados:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel </span>: cs. EmployeeSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$count </span>: Real

 <span class="hljs-variable">$sel</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"employer = :1"</span>;<span class="hljs-string">"Acme, Inc"</span>)
 <span class="hljs-variable">$count</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">count</span>(<span class="hljs-string">"jobtitle"</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="copy"></a><a href="#copy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.copy()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v18 R5</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.copy</strong>( { <em>option</em> : Integer } ) : 4D. EntitySelection</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>option</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>ck shared</code>: devolve uma entity selection compartilhável</td></tr>
<tr><td>Resultado</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Cópia da entity selection</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-9"></a><a href="#descrição-9" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.copy()</code>  devolve uma cópia da entity selection original.</p>
<blockquote>
<p>Esta função não modifica a entity selection original.</p>
</blockquote>
<p>Como padrão, se omitir o parámetro <em>option</em>, a função devolve uma nova entity selection alterável (mesmo se a função se aplicar a uma entity selection compartilhável). Passe a constante <code>ck shared</code> no parâmetro <em>option</em> se quiser criar uma entity selection compartilhável.</p>
<blockquote>
<p>Para saber mais sobre propriedade compartilhável de entity selections, consulte <a href="/docs/Rx/pt/ORDA/entities.html#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis</a>.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="exemplo-7"></a><a href="#exemplo-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<p>Se criar uma nova seleção de entidade vazia de produtos quando o formulário for carregado:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>
    :(Form event code=On Load)
       Form.products:=ds. Products.<span class="hljs-function">newSelection</span>()<span class="hljs-keyword">
 End case</span>

</code></pre>
<p>Então esta seleção de entidades é atualizada com produtos e se quiser compartilhar os produtos entre vários processos. Se copiar a seleçãod a entidade Form.products como compartilhável:</p>
<pre><code class="hljs css language-4d"> ...
  <span class="hljs-comment">// A seleção de entidades de Form.products se atualiza</span>
 Form.products.<span class="hljs-function">add</span>(Form.selectedProduct)<span class="hljs-keyword">

 Use</span>(Storage)<span class="hljs-keyword">
    If</span>(Storage.products=<span class="hljs-literal">Null</span>)
       Storage.products:=<span class="hljs-function">New shared object</span>()<span class="hljs-keyword">
    End if</span><span class="hljs-keyword">

    Use</span>(Storage.products)
       Storage.products:=Form.products.<span class="hljs-function">copy</span>(ck shared)<span class="hljs-keyword">
    End use</span><span class="hljs-keyword">
 End use</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="distinct"></a><a href="#distinct" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.distinct()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.distinct</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>attributePath</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Rota do atributo cujos valores quer obter</td></tr>
<tr><td>option</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk diacritical</code>: avaliação diacríticos (&quot;A&quot; # &quot;a&quot; por exemplo)</td></tr>
<tr><td>Resultado</td><td>Coleção</td><td style="text-align:center">&lt;-</td><td>Coleção apenas com valores distintos</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-10"></a><a href="#descrição-10" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.distinct()</code> retorna uma coleção contendo apenas valores distintos (diferentes) da <em>attributePath</em> na entity selection.</p>
<p>A coleção retornada é ordenada automaticamente. Valores <strong>Null</strong> não são retornados.</p>
<p>No parámetro <em>attributePath</em>, passe o atributo de entidade cujos valores distintos queira obter. Só valores escalares (texto, número, booleano, ou data) podemser manejados. Tipos são retornados na ordem abaixo: Se <em>attributePath</em> levar a uma propriedade de objeto que conter valores de diferentes tipos, primeiro se agrupam por tipo e se ordenam depois.</p>
<ol>
<li>booleans</li>
<li>strings</li>
<li>numbers</li>
<li>datas</li>
</ol>
<p>Pode utilizar a notação <code>[]</code> para designar uma coleção quando <em>attributePath</em> for uma rota dentro de um objeto (ver exemplos).</p>
<p>Como padrão, uma avaliação não-diacrítica é realizada. Se quiser que a avaliação diferencie minúsculas de maiúsculas ou que diferencie letras acentuadas, passe a constante <code>dk diacritical</code> no parâmetro<em>option</em>.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> is not found in the entity selection dataclass.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="exemplos"></a><a href="#exemplos" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplos</h4>
<p>Se quiser obter uma coleção que contenha um só elemento por nome de país:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$countries </span>: Collection
 <span class="hljs-variable">$countries</span>:=ds. Employee.<span class="hljs-function">all</span>().<span class="hljs-function">distinct</span>(<span class="hljs-string">"address.country"</span>)
</code></pre>
<p><code>nicknames</code> é uma coleção e <code>extra</code> for um atributo de objeto:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$values</span>:=ds. Employee.<span class="hljs-function">all</span>().<span class="hljs-function">distinct</span>(<span class="hljs-string">"extra.nicknames[].first"</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="drop"></a><a href="#drop" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.drop()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.drop</strong>( { <em>mode</em> : Integer } ) : 4D. EntitySelection</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>mode</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk stop dropping on first error</code>: para a execução do método na primeira entidade não eliminável</td></tr>
<tr><td>Resultado</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Entidade de seleção vazia se for executada com êxito, se nenhuma entity selection contendo as entidades não elimináveis</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-11"></a><a href="#descrição-11" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.drop()</code> elimina as entidades pertencentes a seleção de entidades da tabela relacionada com sua dataclass no datastore. A entity selection permanece na memoria.</p>
<blockquote>
<p>A eliminação de entidades é permanente e não pode ser desfeita. É recomendado chamar esta ação em uma transação para ter uma opção de recuperação.</p>
</blockquote>
<p>Se encontrar uma entidade bloqueada durante a execução de <code>.drop()</code>, não é eliminado. Como padrão o método processa todas as entidades da seleção de entidades e retorna as entidades não elimináveis na entity selection. Se quiser que o método pare a execução na primeira entidade não eliminável encontrada, passe a constante <code>dk stop dropping on first error</code> no parâmetro <em>mode</em>.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-8"></a><a href="#exemplo-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<p>Exemplo sem a opção <code>dk stop dropping on first error</code>:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees</span>; <span class="hljs-variable">$notDropped </span>: cs.EmployeeSelection
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName=:1"</span>;<span class="hljs-string">"S@"</span>)
 <span class="hljs-variable">$notDropped</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">drop</span>() <span class="hljs-comment">// $notDropped for uma entity selection que contém todas as entidades não suprimidas</span><span class="hljs-keyword">
 If</span>(<span class="hljs-variable">$notDropped</span>.length=<span class="hljs-number">0</span>) <span class="hljs-comment">//A ação de eliminação for exitosa, todas as entidades foram eliminadas</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"You have dropped "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$employees</span>.length)+<span class="hljs-string">" employees"</span>) <span class="hljs-comment">//A seleção de entidades eliminada permanece na memoria</span><span class="hljs-keyword">
 Else</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"Problem during drop, try later"</span>)<span class="hljs-keyword">
 End if</span>
</code></pre>
<p>Exemplo com a opção <code>dk stop dropping on first error</code>:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees</span>; <span class="hljs-variable">$notDropped </span>: cs.EmployeeSelection
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName=:1"</span>;<span class="hljs-string">"S@"</span>)
 <span class="hljs-variable">$notDropped</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">drop</span>(dk stop dropping on first error) <span class="hljs-comment">//$notDropped é uma entity selection que contém a primeira entidade não eliminada</span><span class="hljs-keyword">
 If</span>(<span class="hljs-variable">$notDropped</span>.length=<span class="hljs-number">0</span>) <span class="hljs-comment">//A ação de eliminação é exitosa, todas as entidades foram eliminadas</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"You have dropped "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$employees</span>.length)+<span class="hljs-string">" employees"</span>) <span class="hljs-comment">//A seleção de entidades eliminada permanece na memória</span><span class="hljs-keyword">
 Else</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"Problem during drop, try later"</span>)<span class="hljs-keyword">
 End if</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="extract"></a><a href="#extract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.extract()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v18 R3</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.extract</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>attributePath</em> { ; <em>targetPath</em> } { ; <em>...attributePathN</em> : Text ; <em>targetPathN</em> : Text } ) : Collection</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>attributePath</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Rota de atributo cujos valores serão extraídos para nova coleção</td></tr>
<tr><td>targetpath</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Rota ou nome do atributo objetivo</td></tr>
<tr><td>option</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>ck keep null</code>: inclui os atributos null na coleção devolvida (ignorados por padrão)</td></tr>
<tr><td>Resultado</td><td>Coleção</td><td style="text-align:center">&lt;-</td><td>Collection contendo valores extraídos</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-12"></a><a href="#descrição-12" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.extract()</code> retorna una coleção que contenha os valores de <em>attributePath</em> extraídos da entity selection.</p>
<p><em>attributePath</em> pode ser:</p>
<ul>
<li>a scalar dataclass attribute,</li>
<li>related entity,</li>
<li>related entities.</li>
</ul>
<p>Se <em>attributePath</em> não for válido, se devolve uma coleção vazia.</p>
<p>Esta função aceita duas sintaxes.</p>
<p><strong>.extract( attributePath : Text { ; option : Integer } ) : Collection</strong></p>
<p>Com esta sintaxe, <code>.extract()</code> preenche a coleção devolvida com os valores <em>attributePath</em> da entity selection.</p>
<p>Como padrão, as entidades para as que <em>attributePath</em> for<em>null</em> ou indefinida são ignoradas na coleção resultante. Pode passar a constante <code>ck keep null</code> no parâmetro <em>option</em> para incluir esses valores como elementos<strong>null</strong>  na coleção retornada.</p>
<ul>
<li>Dataclass attributes with <a href="/docs/Rx/pt/API/DataClassAttributeClass.html#kind">.kind</a> = &quot;relatedEntity&quot; are extracted as a collection of entities (duplications are kept).</li>
<li>Dataclass attributes with <a href="/docs/Rx/pt/API/DataClassAttributeClass.html#kind">.kind</a> = &quot;relatedEntities&quot; are extracted as a collection of entity selections.</li>
</ul>
<p><strong>.extract ( attributePath ; targetPath { ; ...attributePathN ; ... targetPathN}) : Collection</strong></p>
<p>Com esta sintaxe, <code>.extract()</code> preenche a coleção devolvida com as propriedades <em>attributePath</em> da entity selection. Cada elemento da coleção devolvida é um objeto com as propriedades <em>targetPath</em> preenchidas com as propriedades <em>attributePath</em> correspondentes. Valores null são mantidos (o parâmetro <em>option</em> é ignorado com essa sintaxe).</p>
<p>Se vários <em>attributePath</em>, forem dados, deve dar um <em>targetPath</em> para cada um. Só se extraem os pares válidos [<em>attributePath</em>, <em>targetPath</em>].</p>
<ul>
<li>Dataclass attributes with <a href="/docs/Rx/pt/API/DataClassAttributeClass.html#kind">.kind</a> = &quot;relatedEntity&quot; are extracted as an entity.</li>
<li>Dataclass attributes with <a href="/docs/Rx/pt/API/DataClassAttributeClass.html#kind">.kind</a> = &quot;relatedEntities&quot; are extracted as an entity selection.</li>
</ul>
<blockquote>
<p>Os valores Null são avaliados como inferiores aos outros valores.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="exemplo-9"></a><a href="#exemplo-9" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<p>Dada a seguinte tabela e relação:</p>
<p><img src="/docs/Rx/assets/en/API/entityselection.PNG" alt=""></p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$firstnames</span>; <span class="hljs-variable">$addresses</span>; <span class="hljs-variable">$mailing</span>; <span class="hljs-variable">$teachers </span>: Collection
  <span class="hljs-comment">//
  //</span>
  <span class="hljs-comment">//$firstnames é uma coleção de Strings</span>


 <span class="hljs-variable">$firstnames</span>:=ds. Teachers.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"firstname"</span>)
  <span class="hljs-comment">//
  //$addresses é uma coleção de entities relacionadas ao dataclass Address</span>
  <span class="hljs-comment">//Valores Null para o endereço são extraídos</span>
 <span class="hljs-variable">$addresses</span>:=ds. Teachers.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"address"</span>;ck keep null)
  <span class="hljs-comment">//
  //</span>
  <span class="hljs-comment">//$mailing é uma coleção de objetos com propriedades "who" e "to"</span>
  <span class="hljs-comment">//conteúdo propriedade "who" é do tipo String</span>
  <span class="hljs-comment">//conteudo propriedade "to" é do tipo entity (Address dataclass)</span>
 <span class="hljs-variable">$mailing</span>:=ds. Teachers.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"lastname"</span>;<span class="hljs-string">"who"</span>;<span class="hljs-string">"address"</span>;<span class="hljs-string">"to"</span>)
  <span class="hljs-comment">//
  //</span>
  <span class="hljs-comment">//$mailing é uma coleção de objetos com propriedades "who" e "city"</span>
  <span class="hljs-comment">//conteúdo propriedade "who" é tipo String</span>
  <span class="hljs-comment">//conteúdo propriedade "city" é tipo String</span>
 <span class="hljs-variable">$mailing</span>:=ds. Teachers.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"lastname"</span>;<span class="hljs-string">"who"</span>;<span class="hljs-string">"address.city"</span>;<span class="hljs-string">"city"</span>)
  <span class="hljs-comment">//
  //$teachers é uma coleção de objetos com propriedades "where" e "who"</span>
  <span class="hljs-comment">//conteúdo propriedade "where" é String</span>
  <span class="hljs-comment">//conteúdo propriedade "who" é uma entity selection (Teachers dataclass)</span>
 <span class="hljs-variable">$teachers</span>:=ds. Address.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"city"</span>;<span class="hljs-string">"where"</span>;<span class="hljs-string">"teachers"</span>;<span class="hljs-string">"who"</span>)
  <span class="hljs-comment">//
  //$teachers é uma coleção de entity selections</span>
 <span class="hljs-variable">$teachers</span>:=ds. Address.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"teachers"</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="first"></a><a href="#first" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.first()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.first()</strong> : 4D. Entity</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>Resultado</td><td>4D. Entity</td><td style="text-align:center">&lt;-</td><td>Referencia à primeira entidade da entity selection (Null se a seleção estiver vazia)</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-13"></a><a href="#descrição-13" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.first()</code>retorna uma referência à entidade na primeira posição da entity selection.</p>
<p>O resultado desta função é similar a:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySel</span>[<span class="hljs-number">0</span>]
</code></pre>
<p>Há, entretanto, uma diferença entre ambas as afirmações quando a seleção estiver vazia:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entitySel </span>: cs. EmpSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$entity </span>: cs. EmpEntity
 <span class="hljs-variable">$entitySel</span>:=ds. Emp.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"Nonexistentname"</span>) <span class="hljs-comment">//nenhuma entity correspondente</span>
  <span class="hljs-comment">//entity selection é esvaziada</span>
 <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySel</span>.<span class="hljs-function">first</span>() <span class="hljs-comment">//retorna Null</span>
 <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySel</span>[<span class="hljs-number">0</span>]  <span class="hljs-comment">//gera um erro</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-10"></a><a href="#exemplo-10" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entitySelection </span>: cs. EmpSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$entity </span>: cs. EmpEntity
 <span class="hljs-variable">$entitySelection</span>:=ds. Emp.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &gt; :1"</span>;<span class="hljs-number">100000</span>)<span class="hljs-keyword">
 If</span>(<span class="hljs-variable">$entitySelection</span>.length#<span class="hljs-number">0</span>)
    <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">first</span>()<span class="hljs-keyword">
 End if</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="getdataclass"></a><a href="#getdataclass" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.getDataClass()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17 R5</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.getDataClass()</strong> : 4D. DataClass</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>Resultado</td><td>4D. DataClass</td><td style="text-align:center">&lt;-</td><td>DataClass a qual pertence a entity selection</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-14"></a><a href="#descrição-14" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.getDataClass()</code> retorna a dataclass da entity selection.</p>
<p>Esta função é principalmente útil  no contexto do código genérico.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-11"></a><a href="#exemplo-11" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<p>O seguinte código genérico duplica todas as entidades da entity selection:</p>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">//duplicate_entities method</span>
  <span class="hljs-comment">//duplicate_entities($entity_selection)</span>

 #<span class="hljs-function">DECLARE </span>( <span class="hljs-variable">$entitySelection </span>: 4D. EntitySelection )<span class="hljs-keyword">  
 var</span> <span class="hljs-variable">$dataClass </span>: 4D. DataClass<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$entity</span>; <span class="hljs-variable">$duplicate </span>: 4D. Entity<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$status </span>: Object
 <span class="hljs-variable">$dataClass</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">getDataClass</span>()<span class="hljs-keyword">
 For each</span>(<span class="hljs-variable">$entity</span>;<span class="hljs-variable">$entitySelection</span>)
    <span class="hljs-variable">$duplicate</span>:=<span class="hljs-variable">$dataClass</span>.<span class="hljs-function">new</span>()
    <span class="hljs-variable">$duplicate</span>.<span class="hljs-function">fromObject</span>(<span class="hljs-variable">$entity</span>.<span class="hljs-function">toObject</span>())
    <span class="hljs-variable">$duplicate</span>[<span class="hljs-variable">$dataClass</span>.<span class="hljs-function">getInfo</span>().primaryKey]:=<span class="hljs-literal">Null</span> <span class="hljs-comment">//reset the primary key</span>
    <span class="hljs-variable">$status</span>:=<span class="hljs-variable">$duplicate</span>.<span class="hljs-function">save</span>()<span class="hljs-keyword">
 End for each</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="isalterable"></a><a href="#isalterable" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.isAlterable()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v18 R5</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.isAlterable()</strong> : Boolean</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>Resultado</td><td>Booleano</td><td style="text-align:center">&lt;-</td><td>True se a entity selection for modificável, do contrário False</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-15"></a><a href="#descrição-15" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.isAlterable()</code>  devolve True se a entity selection for modificável, e False se não o for.</p>
<p>Para mais informação, consulte a seção <a href="/docs/Rx/pt/ORDA/entities.html#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis</a>.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-12"></a><a href="#exemplo-12" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<p>Vai mostrar <code>Form.products</code> em uma <a href="/docs/Rx/pt/FormObjects/listboxOverview.html">list box</a> para que o usuário possaa adicionar novos produtos. Se quiser ter certeza que é alterável para que o usuário possa adicionar novos produtos sem erro:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span> (<span class="hljs-function">Not</span>(Form.products.<span class="hljs-function">isAlterable</span>()))
    Form.products:=Form.products.<span class="hljs-function">copy</span>()<span class="hljs-keyword">
End if</span>
...
Form.products.<span class="hljs-function">add</span>(Form.product)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="isordered"></a><a href="#isordered" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.isOrdered()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.isOrdered()</strong> : Boolean</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>Resultado</td><td>Booleano</td><td style="text-align:center">&lt;-</td><td>True se a entity selection for ordenada, do contrário False</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-16"></a><a href="#descrição-16" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.isOrdered()</code>  devolve True se a entity selection for ordenada, e False se for desordenada.</p>
<blockquote>
<p>Esta função não modifica a seleção de entidades original.</p>
</blockquote>
<p>Para mais informação, consulte <a href="/docs/Rx/pt/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">Entity selection ordenadas ou desordenadas</a>.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-13"></a><a href="#exemplo-13" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employee </span>: cs.EmployeeEntity<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$isOrdered </span>: Boolean
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">newSelection</span>(dk keep ordered)
 <span class="hljs-variable">$employee</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">714</span>) <span class="hljs-comment">// Obtém a entidade com chave primaria 714</span>

  <span class="hljs-comment">//Em uma entity selection ordenada, podemos adicionar a mesma entidade várias vezes (os duplicados se mantém)</span>
 <span class="hljs-variable">$employees</span>.<span class="hljs-function">add</span>(<span class="hljs-variable">$employee</span>)
 <span class="hljs-variable">$employees</span>.<span class="hljs-function">add</span>(<span class="hljs-variable">$employee</span>)
 <span class="hljs-variable">$employees</span>.<span class="hljs-function">add</span>(<span class="hljs-variable">$employee</span>)

 <span class="hljs-variable">$isOrdered</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">isOrdered</span>()<span class="hljs-keyword">
 If</span>(<span class="hljs-variable">$isOrdered</span>)
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"The entity selection is ordered and contains "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$employees</span>.length)+<span class="hljs-string">" employees"</span>)<span class="hljs-keyword">
 End if</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="last"></a><a href="#last" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.last()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.last()</strong> : 4D. Entity</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>Resultado</td><td>4D. Entity</td><td style="text-align:center">&lt;-</td><td>Referencia à última entidade da entity selection (Null se a entity selection estiver vazia)</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-17"></a><a href="#descrição-17" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.last()</code>  devolve uma referência à entidad em última posição da entity selection.</p>
<p>O resultado desta função é similar a:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySel</span>[length<span class="hljs-number">-1</span>]
</code></pre>
<p>Se a entity selection estiver vazia, a função devolve Null.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-14"></a><a href="#exemplo-14" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entitySelection </span>: cs. EmpSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$entity </span>: cs. EmpEntity
 <span class="hljs-variable">$entitySelection</span>:=ds. Emp.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &lt; :1"</span>;<span class="hljs-number">50000</span>)<span class="hljs-keyword">
 If</span>(<span class="hljs-variable">$entitySelection</span>.length#<span class="hljs-number">0</span>)
    <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">last</span>()<span class="hljs-keyword">
 End if</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="length"></a><a href="#length" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.length</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.length</strong> : Integer</p>
<h4><a class="anchor" aria-hidden="true" id="descrição-18"></a><a href="#descrição-18" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.count()</code> devolve o número de entidades na entity selection com um valor não null em <em>attributePath</em>.</p>
<p>As entity selections sempre têm uma propriedade <code>.length</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-15"></a><a href="#exemplo-15" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$vSize </span>: Integer
 <span class="hljs-variable">$vSize</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"gender = :1"</span>;<span class="hljs-string">"male"</span>).length
<span class="hljs-function"> ALERT</span>(<span class="hljs-function">String</span>(vSize)+<span class="hljs-string">" male employees found."</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="max"></a><a href="#max" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.max()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
<tr><td>v18 R6</td><td>Retorna indefinido se uma seleção de entidade for vazia</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.max</strong>( <em>attributePath</em> : Text ) : any</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>attributePath</td><td>Texto</td><td>-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr>
<tr><td>Resultado</td><td>any</td><td>&lt;-</td><td>Highest value of attribute</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-19"></a><a href="#descrição-19" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>.or()</code> function combines the entity selection with the <em>entity</em> or <em>entitySelection</em> parameter using the logical (not exclusive) OR operator; it returns a new, unordered entity selection that contains all the entities from the entity selection and the parameter.</p>
<p>If you pass in <em>attributePath</em> a path to an object property containing different types of values, the <code>.max()</code> function will return the maximum value within the first scalar type in the default 4D type list order (see <a href="/docs/Rx/pt/API/CollectionClass.html#sort"><code>.sort()</code></a> description).</p>
<p><code>.max()</code> returns <strong>undefined</strong> if the entity selection is empty or <em>attributePath</em> is not found in the object attribute.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> designates an attribute that does not exist in the entity selection dataclass.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="exemplo-16"></a><a href="#exemplo-16" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<p>We want to find the highest salary among all the female employees:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel </span>: cs. EmpSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$maxSalary </span>: Real
 <span class="hljs-variable">$sel</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"gender = :1"</span>;<span class="hljs-string">"female"</span>)
 <span class="hljs-variable">$maxSalary</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">max</span>(<span class="hljs-string">"salary"</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="min"></a><a href="#min" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.min()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
<tr><td>v18 R6</td><td>Retorna indefinido se uma seleção de entidade for vazia</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.min</strong>( <em>attributePath</em> : Text ) : any</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>attributePath</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr>
<tr><td>Resultado</td><td>any</td><td style="text-align:center">&lt;-</td><td>Lowest value of attribute</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-20"></a><a href="#descrição-20" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>.minus()</code> function excludes from the entity selection to which it is applied the <em>entity</em> or the entities of <em>entitySelection</em> and returns the resulting entity selection.</p>
<p>If you pass in <em>attributePath</em> a path to an object property containing different types of values, the <code>.min()</code> function will return the minimum value within the first scalar value type in the type list order (see <a href="/docs/Rx/pt/API/CollectionClass.html#sort"><code>.sort()</code></a> description).</p>
<p><code>.min()</code> returns <strong>undefined</strong> if the entity selection is empty or <em>attributePath</em> is not found in the object attribute.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> designates an attribute that does not exist in the entity selection dataclass.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="exemplo-17"></a><a href="#exemplo-17" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<p>In this example, we want to find the lowest salary among all the female employees:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel </span>: cs. EmpSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$minSalary </span>: Real
 <span class="hljs-variable">$sel</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"gender = :1"</span>;<span class="hljs-string">"female"</span>)
 <span class="hljs-variable">$minSalary</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">min</span>(<span class="hljs-string">"salary"</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="minus"></a><a href="#minus" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.minus()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.minus</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>entity</td><td>4D. Entity</td><td style="text-align:center">-&gt;</td><td>Entity to substract</td></tr>
<tr><td>entitySelection</td><td>4D. EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection to substract</td></tr>
<tr><td>Resultado</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>New entity selection or a new reference on the existing entity selection</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-21"></a><a href="#descrição-21" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>.slice()</code> function returns a portion of an entity selection into a new entity selection, selected from the <em>startFrom</em> index to the <em>end</em> index (<em>end</em> is not included) or to the last entity of the entity selection.</p>
<ul>
<li>If you pass <em>entity</em> as parameter, the function creates a new entity selection without <em>entity</em> (if <em>entity</em> belongs to the entity selection). If <em>entity</em> was not included in the original entity selection, a new reference to the entity selection is returned.</li>
<li>If you pass <em>entitySelection</em> as parameter, the function returns an entity selection containing the entities belonging to the original entity selection without the entities belonging to <em>entitySelection</em>.</li>
</ul>
<blockquote>
<blockquote>
<p>Pode comparar <a href="/docs/Rx/pt/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">entity selections ordenadas ou desordenadas</a>. A seleção resultante é sempre desordenada.</p>
</blockquote>
</blockquote>
<p>If the original entity selection or both the original entity selection and the <em>entitySelection</em> parameter are empty, an empty entity selection is returned.</p>
<p>If <em>entitySelection</em> is empty or if <em>entity</em> is Null, a new reference to the original entity selection is returned.</p>
<p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-4"></a><a href="#exemplo-1-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<pre><code class="hljs css language-4d"> EmployeeSelection
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName=:1"</span>;<span class="hljs-string">"S@"</span>)
 <span class="hljs-variable">$notDropped</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">drop</span>() <span class="hljs-comment">// $notDropped for uma entity selection que contém todas as entidades não suprimidas</span><span class="hljs-keyword">
 If</span>(<span class="hljs-variable">$notDropped</span>.length=<span class="hljs-number">0</span>) <span class="hljs-comment">//A ação de eliminação for exitosa, todas as entidades foram eliminadas</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"You have dropped "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$employees</span>.length)+<span class="hljs-string">" employees"</span>) <span class="hljs-comment">//A seleção de entidades eliminada permanece na memoria</span><span class="hljs-keyword">
 Else</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"Problem during drop, try later"</span>)<span class="hljs-keyword">
 End if</span><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees</span>; <span class="hljs-variable">$notDropped </span>: cs.
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-4"></a><a href="#exemplo-2-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>We want to have a selection of female employees named &quot;Jones&quot; who live in New York :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel1</span>; <span class="hljs-variable">$sel2</span>; <span class="hljs-variable">$sel3 </span>: cs. EmployeeSelection
 <span class="hljs-variable">$sel1</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"name =:1"</span>;<span class="hljs-string">"Jones"</span>)
 <span class="hljs-variable">$sel2</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"city=:1"</span>;<span class="hljs-string">"New York"</span>)
 <span class="hljs-variable">$sel3</span>:=<span class="hljs-variable">$sel1</span>.<span class="hljs-function">and</span>(<span class="hljs-variable">$sel2</span>).<span class="hljs-function">minus</span>(ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"gender='male'"</span>))
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="or"></a><a href="#or" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.or()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.or</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>entity</td><td>4D. Entity</td><td style="text-align:center">-&gt;</td><td>Entidade a intersectar</td></tr>
<tr><td>entitySelection</td><td>4D. EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection a intersectar</td></tr>
<tr><td>Resultado</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>New entity selection or new reference to the original entity selection</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-22"></a><a href="#descrição-22" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>.or()</code> function combines the entity selection with the <em>entity</em> or <em>entitySelection</em> parameter using the logical (not exclusive) OR operator; it returns a new, unordered entity selection that contains all the entities from the entity selection and the parameter.</p>
<ul>
<li>If you pass <em>entitySelection</em> as parameter, you compare entity selections. A new entity selection that contains only the entities that are referenced in both selections is returned. Otherwise, a new entity selection containing the original entity selection and the entity is returned.</li>
<li>If the original entity selection and the <em>entitySelection</em> parameter are empty, an empty entity selection is returned. If the original entity selection is empty, a reference to <em>entitySelection</em> or an entity selection containing only <em>entity</em> is returned.</li>
</ul>
<blockquote>
<blockquote>
<p>Pode comparar <a href="/docs/Rx/pt/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">entity selections ordenadas ou desordenadas</a>. A seleção resultante é sempre desordenada.</p>
</blockquote>
</blockquote>
<p>If the original entity selection and the <em>entitySelection</em> parameter are empty, an empty entity selection is returned. If the original entity selection is empty, a reference to <em>entitySelection</em> or an entity selection containing only <em>entity</em> is returned.</p>
<p>If <em>entitySelection</em> is empty or if <em>entity</em> is Null, a new reference to the original entity selection is returned.</p>
<p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-5"></a><a href="#exemplo-1-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees1</span>; <span class="hljs-variable">$employees2</span>; <span class="hljs-variable">$result </span>: cs. EmployeeSelection
 <span class="hljs-variable">$employees1</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"H@"</span>) <span class="hljs-comment">//Returns "Colin Hetrick","Grady Harness"</span>
 <span class="hljs-variable">$employees2</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName = :1"</span>;<span class="hljs-string">"C@"</span>) <span class="hljs-comment">//Returns "Colin Hetrick", "Cath Kidston"</span>
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$employees1</span>.or(<span class="hljs-variable">$employees2</span>) <span class="hljs-comment">//$result contains "Colin Hetrick", "Grady Harness","Cath Kidston"</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-5"></a><a href="#exemplo-2-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees</span>; <span class="hljs-variable">$result </span>: cs. EmployeeSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employee </span>: cs. EmployeeEntity
 <span class="hljs-variable">$employees</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"H@"</span>) <span class="hljs-comment">// Devuelve "Colin Hetrick","Grady Harness", "Sherlock Holmes"</span>
 <span class="hljs-variable">$employee</span>:=ds. Employee.<span class="hljs-function">get</span>(<span class="hljs-number">686</span>) <span class="hljs-comment">//a entidade com chave primária 686 não pertence a entity selection $employees </span>
  <span class="hljs-comment">//Coincide com a funcionária "Mary Smith"</span>

 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$employees</span>.or(<span class="hljs-variable">$employee</span>) <span class="hljs-comment">//$result contém "Colin Hetrick", "Grady Harness", "Sherlock Holmes", "Mary Smith"</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="orderby"></a><a href="#orderby" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.orderBy()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.orderBy</strong>( <em>pathString</em> : Text ) : 4D. EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : 4D. EntitySelection</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>pathString</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Attribute path(s) and sorting instruction(s) for the entity selection</td></tr>
<tr><td>pathObjects</td><td>Coleção</td><td style="text-align:center">-&gt;</td><td>Collection of criteria objects</td></tr>
<tr><td>Resultado</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>New entity selection in the specified order</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-23"></a><a href="#descrição-23" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>.orderBy()</code> function returns a new ordered entity selection containing all entities of the entity selection in the order specified by <em>pathString</em> or <em>pathObjects</em> criteria.</p>
<blockquote>
<ul>
<li>This method does not modify the original entity selection.</li>
</ul>
</blockquote>
<ul>
<li>For more information, please refer to the <a href="/docs/Rx/pt/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">Ordered or unordered entity selection</a> section.</li>
</ul>
<p>You must use a criteria parameter to define how the entities must be sorted. Two different parameters are supported:</p>
<ul>
<li><em>pathString</em> (Text) : This parameter contains a formula made of 1 to x attribute paths and (optionally) sort orders, separated by commas. The syntax is:</li>
</ul>
<pre><code class="hljs css language-4d"><span class="hljs-string">"attributePath1 {desc or asc}, attributePath2 {desc or asc},..."</span>
</code></pre>
<p>The order in which the attributes are passed determines the sorting priority of the entities. By default, attributes are sorted in ascending order. Pode definir a ordem de clasificação de uma propriedade na string de critérios, separado da rota da propriedade por um só espaço: passe &quot;asc&quot; para ordenar em ordem ascendente ou &quot;desc&quot; em ordem descendente.</p>
<ul>
<li><em>pathObjects</em> (collection): each element of the collection contains an object structured in the following way:</li>
</ul>
<pre><code class="hljs css language-4d">{
    <span class="hljs-string">"propertyPath"</span>: string,
    <span class="hljs-string">"descending"</span>: boolean
}
</code></pre>
<p>By default, attributes are sorted in ascending order (&quot;descending&quot; is false).</p>
<p>You can add as many objects in the criteria collection as necessary.</p>
<blockquote>
<p>Null values are evaluated as less than other values.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="exemplo-18"></a><a href="#exemplo-18" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-comment">// order by formula</span>
 <span class="hljs-variable">$sortedEntitySelection</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">orderBy</span>(<span class="hljs-string">"firstName asc, salary desc"</span>)
 <span class="hljs-variable">$sortedEntitySelection</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">orderBy</span>(<span class="hljs-string">"firstName"</span>)

  <span class="hljs-comment">// order by collection with or without sort orders</span>
 <span class="hljs-variable">$orderColl</span>:=New collection
 <span class="hljs-variable">$orderColl</span>.<span class="hljs-function">push</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"propertyPath"</span>;<span class="hljs-string">"firstName"</span>;<span class="hljs-string">"descending"</span>;<span class="hljs-literal">False</span>))
 <span class="hljs-variable">$orderColl</span>.<span class="hljs-function">push</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"propertyPath"</span>;<span class="hljs-string">"salary"</span>;<span class="hljs-string">"descending"</span>;<span class="hljs-literal">True</span>))
 <span class="hljs-variable">$sortedEntitySelection</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">orderBy</span>(<span class="hljs-variable">$orderColl</span>)

 <span class="hljs-variable">$orderColl</span>:=New collection
 <span class="hljs-variable">$orderColl</span>.<span class="hljs-function">push</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"propertyPath"</span>;<span class="hljs-string">"manager.lastName"</span>))
 <span class="hljs-variable">$orderColl</span>.<span class="hljs-function">push</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"propertyPath"</span>;<span class="hljs-string">"salary"</span>))
 <span class="hljs-variable">$sortedEntitySelection</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">orderBy</span>(<span class="hljs-variable">$orderColl</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="orderbyformula"></a><a href="#orderbyformula" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.orderByFormula()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17 R6</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.orderByFormula</strong>( <em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D. EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>formulaString</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Formula string</td></tr>
<tr><td>formulaObj</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Formula object</td></tr>
<tr><td>sortOrder</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk ascending</code> (default) or <code>dk descending</code></td></tr>
<tr><td>settings</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Parameter(s) for the formula</td></tr>
<tr><td>Resultado</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>New ordered entity selection</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-24"></a><a href="#descrição-24" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>.orderByFormula()</code> function returns a new, ordered entity selection containing all entities of the entity selection in the order defined through the <em>formulaString</em> or <em>formulaObj</em> and, optionally, <em>sortOrder</em> and <em>settings</em> parameters.</p>
<blockquote>
<p>Esta função não modifica a entity selection original.</p>
</blockquote>
<p>You can use either a <em>formulaString</em> or a <em>formulaObj</em> parameter:</p>
<ul>
<li><em>formulaString</em>: you pass a 4D expression such as &quot;Year of(this.birthDate)&quot;.</li>
<li><em>formulaObj</em>: pass a valid formula object created using the <code>Formula</code> or <code>Formula from string</code> command.</li>
</ul>
<p>The <em>formulaString</em> or <em>formulaObj</em> is executed for each entity of the entity selection and its result is used to define the position of the entity in the returned entity selection. The result must be of a sortable type (boolean, date, number, text, time, null).</p>
<blockquote>
<p>A null result is always the smallest value.</p>
</blockquote>
<p>By default if you omit the <em>sortOrder</em> parameter, the resulting entity selection is sorted in ascending order. Optionnally, you can pass one of the following values in the <em>sortOrder</em> parameter:</p>
<table>
<thead>
<tr><th>Constante</th><th>Value</th><th>Comentário</th></tr>
</thead>
<tbody>
<tr><td>dk ascending</td><td>0</td><td>Ascending sort order (default)</td></tr>
<tr><td>dk descending</td><td>1</td><td>Descending sort order</td></tr>
</tbody>
</table>
<p>Within the <em>formulaString</em> or <em>formulaObj</em>, the processed entity and thus its attributes are available through the <code>This</code> command (for example, <code>This.lastName</code>).</p>
<p>You can pass parameter(s) to the formula using the <code>args</code> property (object) of the <code>settings</code> parameter: the formula receives the <code>settings.args</code> object in $1.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-6"></a><a href="#exemplo-1-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<p>Sorting students using a formula provided as text:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es1</span>; <span class="hljs-variable">$es2 </span>: cs. StudentsSelection
 <span class="hljs-variable">$es1</span>:=ds. Students.<span class="hljs-function">query</span>(<span class="hljs-string">"nationality=:1"</span>;<span class="hljs-string">"French"</span>)
 <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.<span class="hljs-function">orderByFormula</span>(<span class="hljs-string">"length(this.lastname)"</span>) <span class="hljs-comment">//ascending by default</span>
 <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.<span class="hljs-function">orderByFormula</span>(<span class="hljs-string">"length(this.lastname)"</span>;dk descending)
</code></pre>
<p>Same sort order but using a formula object:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es1</span>; <span class="hljs-variable">$es2 </span>: cs. StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$formula </span>: Object
 <span class="hljs-variable">$es1</span>:=ds. Students.<span class="hljs-function">query</span>(<span class="hljs-string">"nationality=:1"</span>;<span class="hljs-string">"French"</span>)
 <span class="hljs-variable">$formula</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">Length</span>(<span class="hljs-literal">This</span>.lastname))
 <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.<span class="hljs-function">orderByFormula</span>(<span class="hljs-variable">$formula</span>) <span class="hljs-comment">// ascending by default</span>
 <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.<span class="hljs-function">orderByFormula</span>(<span class="hljs-variable">$formula</span>;dk descending)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-6"></a><a href="#exemplo-2-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>A formula is given as a formula object with parameters; <code>settings.args</code> object is received as $1 in the <strong><em>computeAverage</em></strong> method.</p>
<p>In this example, the &quot;marks&quot; object field in the <strong>Students</strong> dataClass contains students' grades for each subject. A single formula object is used to compute a student's average grade with different coefficients for schoolA and schoolB.</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es1</span>; <span class="hljs-variable">$es2 </span>: cs. StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$formula</span>; <span class="hljs-variable">$schoolA</span>; <span class="hljs-variable">$schoolB </span>: Object
 <span class="hljs-variable">$es1</span>:=ds. Students.<span class="hljs-function">query</span>(<span class="hljs-string">"nationality=:1"</span>;<span class="hljs-string">"French"</span>)
 <span class="hljs-variable">$formula</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">computeAverage</span>(<span class="hljs-variable">$1</span>))

 <span class="hljs-variable">$schoolA</span>:=<span class="hljs-function">New object</span>() <span class="hljs-comment">//settings object</span>
 <span class="hljs-variable">$schoolA</span>.args:=<span class="hljs-function">New object</span>(<span class="hljs-string">"english"</span>;<span class="hljs-number">1</span>;<span class="hljs-string">"math"</span>;<span class="hljs-number">1</span>;<span class="hljs-string">"history"</span>;<span class="hljs-number">1</span>) <span class="hljs-comment">// Coefficients to compute an average</span>

  <span class="hljs-comment">//Order students according to school A criteria</span>
 <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.entitySelection.<span class="hljs-function">orderByFormula</span>(<span class="hljs-variable">$formula</span>;<span class="hljs-variable">$schoolA</span>)

 <span class="hljs-variable">$schoolB</span>:=<span class="hljs-function">New object</span>() <span class="hljs-comment">//settings object</span>
 <span class="hljs-variable">$schoolB</span>.args:=<span class="hljs-function">New object</span>(<span class="hljs-string">"english"</span>;<span class="hljs-number">1</span>;<span class="hljs-string">"math"</span>;<span class="hljs-number">2</span>;<span class="hljs-string">"history"</span>;<span class="hljs-number">3</span>) <span class="hljs-comment">// Coefficients to compute an average</span>

  <span class="hljs-comment">//Order students according to school B criteria</span>
 <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.entitySelection.<span class="hljs-function">orderByFormula</span>(<span class="hljs-variable">$formula</span>;dk descending;<span class="hljs-variable">$schoolB</span>)
</code></pre>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">//
  // computeAverage method</span>
  <span class="hljs-comment">// -----------------------------</span>
 #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$coefList </span>: Object) -&gt; <span class="hljs-variable">$result </span>: Integer<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$subject </span>: Text<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$average</span>; <span class="hljs-variable">$sum </span>: Integer

 <span class="hljs-variable">$average</span>:=<span class="hljs-number">0</span>
 <span class="hljs-variable">$sum</span>:=<span class="hljs-number">0</span><span class="hljs-keyword">

 For each</span>(<span class="hljs-variable">$subject</span>;<span class="hljs-variable">$coefList</span>)
    <span class="hljs-variable">$sum</span>:=<span class="hljs-variable">$sum</span>+<span class="hljs-variable">$coefList</span>[<span class="hljs-variable">$subject</span>]<span class="hljs-keyword">
 End for each</span><span class="hljs-keyword">

 For each</span>(<span class="hljs-variable">$subject</span>;<span class="hljs-literal">This</span>.marks)
    <span class="hljs-variable">$average</span>:=<span class="hljs-variable">$average</span>+(<span class="hljs-literal">This</span>.marks[<span class="hljs-variable">$subject</span>]*<span class="hljs-variable">$coefList</span>[<span class="hljs-variable">$subject</span>])<span class="hljs-keyword">
 End for each</span>

 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$average</span>/<span class="hljs-variable">$sum</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="query"></a><a href="#query" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.query()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17 R6</td><td>Soporte dos Parâmetros Formula</td></tr>
<tr><td>v17 R5</td><td>Suporte dos marcadores para os valores</td></tr>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>queryString</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Criterios de pesquisa como string</td></tr>
<tr><td>formula</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Criterios de pesquisa como objeto fórmula</td></tr>
<tr><td>value</td><td>any</td><td style="text-align:center">-&gt;</td><td>Valores a usar para placeholders indexados</td></tr>
<tr><td>querySettings</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Opções de pesquisa: parâmetros, atributos, args, allowFormulas, contexto, queryPath,queryPlan</td></tr>
<tr><td>Resultado</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>New entity selection made up of entities from entity selection meeting the search criteria specified in <em>queryString</em> or <em>formula</em></td><td></td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-25"></a><a href="#descrição-25" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>.query()</code> function searches for entities that meet the search criteria specified in <em>queryString</em> or <em>formula</em> and (optionally) <em>value</em>(s) among all the entities in the entity selection, and returns a new object of type <code>EntitySelection</code> containing all the entities that are found. Se aplica carregamento diferido/lazy loading.</p>
<blockquote>
<p>Esta função não modifica a entity selection original.</p>
</blockquote>
<p>Se não houver entidades correspondentes encontradas, uma <code>EntitySelection</code> vazia é retornada.</p>
<p>For detailed information on how to build a query using <em>queryString</em>, <em>value</em>, and <em>querySettings</em> parameters, please refer to the DataClass <a href="/docs/Rx/pt/API/DataClassClass.html#query"><code>.query()</code></a> function description.</p>
<blockquote>
<p>By default if you omit the <strong>order by</strong> statement in the <em>queryString</em>, the returned entity selection is <a href="/docs/Rx/pt/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">not ordered</a>. Note however that, in Client/Server mode, it behaves like an ordered entity selection (entities are added at the end of the selection).</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-7"></a><a href="#exemplo-1-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entitySelectionTemp </span>: cs. EmployeeSelection
 <span class="hljs-variable">$entitySelectionTemp</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"M@"</span>)
 Form.emps:=<span class="hljs-variable">$entitySelectionTemp</span>.<span class="hljs-function">query</span>(<span class="hljs-string">"manager.lastName = :1"</span>;<span class="hljs-string">"S@"</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-7"></a><a href="#exemplo-2-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>More examples of queries can be found in the DataClass <a href="/docs/Rx/pt/API/DataClassClass.html#query"><code>.query()</code></a> page.</p>
<h4><a class="anchor" aria-hidden="true" id="veja-também-1"></a><a href="#veja-também-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Veja também</h4>
<p><a href="/docs/Rx/pt/API/DataClassClass.html#query"><code>.query()</code></a> for dataclass</p>
<h2><a class="anchor" aria-hidden="true" id="querypath"></a><a href="#querypath" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.queryPath</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.queryPath</strong> : Text</p>
<h4><a class="anchor" aria-hidden="true" id="descrição-26"></a><a href="#descrição-26" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.extract()</code> retorna una coleção que contenha os valores de <em>attributePath</em> extraídos da entity selection.</p>
<p>For more information, refer to the <strong>querySettings parameter</strong> paragraph in the Dataclass<a href="DataClassClass.html#query"><code>.query()</code></a> page.</p>
<h2><a class="anchor" aria-hidden="true" id="queryplan"></a><a href="#queryplan" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.queryPlan</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.queryPlan</strong> : Text</p>
<h4><a class="anchor" aria-hidden="true" id="descrição-27"></a><a href="#descrição-27" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>.queryPlan</code> property  contains a detailed description of the query just before it is executed (i.e., the planned query). This property is available for <code>EntitySelection</code> objects generated through queries if the <code>&quot;queryPlan&quot;:true</code> property was passed in the <em>querySettings</em> parameter of the <a href="#query"><code>.query()</code></a> function.</p>
<p>For more information, refer to the <strong>querySettings parameter</strong> paragraph in the Dataclass<a href="DataClassClass.html#query"><code>.query()</code></a> page.</p>
<h2><a class="anchor" aria-hidden="true" id="refresh"></a><a href="#refresh" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.refresh()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v18 R3</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.refresh()</strong></p>
<p>| Parameter | Type |  | Descrição                       |
| --------- | ---- |::| ------------------------------- |
|           |      |  | Does not require any parameters |</p>
<h4><a class="anchor" aria-hidden="true" id="descrição-28"></a><a href="#descrição-28" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<blockquote>
<p>This function only works with a remote datastore (client / server or <code>Open datastore</code> connection).</p>
</blockquote>
<p>The <code>.refresh()</code> function immediately &quot;invalidates&quot; the entity selection data in the local ORDA cache so that the next time 4D requires the entity selection, it will be reloaded from the database.</p>
<p>By default, the local ORDA cache is invalidated after 30 seconds. In the context of client / server applications using both ORDA and the classic language, this method allows you to make sure a remote application will always work with the latest data.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-8"></a><a href="#exemplo-1-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<p>In this example, classic and ORDA code modify the same data simultaneously:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-comment">//On a 4D remote</span><span class="hljs-keyword">

 var</span> <span class="hljs-variable">$selection </span>: cs. StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$student </span>: cs. StudentsEntity

 <span class="hljs-variable">$selection</span>:=ds. Students.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname=:1"</span>;<span class="hljs-string">"Collins"</span>)
  <span class="hljs-comment">//The first entity is loaded in the ORDA cache</span>
 <span class="hljs-variable">$student</span>:=<span class="hljs-variable">$selection</span>.<span class="hljs-function">first</span>()

  <span class="hljs-comment">//Update with classic 4D, ORDA cache is not aware of if</span>
<span class="hljs-function"> QUERY</span>([Students];[Students]lastname=<span class="hljs-string">"Collins"</span>)
 [Students]lastname:=<span class="hljs-string">"Colin"</span>
<span class="hljs-function"> SAVE RECORD</span>([Students])

  <span class="hljs-comment">//to get the latest version, the ORDA cache must be invalidated</span>
 <span class="hljs-variable">$selection</span>.<span class="hljs-function">refresh</span>()
  <span class="hljs-comment">// Even if cache is not expired, the first entity is reloaded from disk</span>
 <span class="hljs-variable">$student</span>:=<span class="hljs-variable">$selection</span>.<span class="hljs-function">first</span>()

  <span class="hljs-comment">//$student.lastname contains "Colin"</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-8"></a><a href="#exemplo-2-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>A list box displays the Form.students entity selection and several clients work on it.</p>
<pre><code class="hljs css language-4d"><span class="hljs-comment">// Form method:</span><span class="hljs-keyword">
 Case of</span>
    :(Form event code=On Load)
       Form.students:=ds. Students.<span class="hljs-function">all</span>()<span class="hljs-keyword">
 End case</span>
  <span class="hljs-comment">//
  //</span>
  <span class="hljs-comment">// On client #1, the user loads, updates, and saves the first entity</span>
  <span class="hljs-comment">// On client #2, the user loads, updates, and saves the same entity</span>
  <span class="hljs-comment">//
  //</span>
  <span class="hljs-comment">// On client #1:</span>
 Form.students.<span class="hljs-function">refresh</span>() <span class="hljs-comment">// Invalidates the ORDA cache for the Form.students entity selection</span>
  <span class="hljs-comment">// The list box content is refreshed from the database with update made by client #2</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="selected"></a><a href="#selected" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.selected()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v19 R3</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.selected</strong>( <em>selectedEntities</em> : 4D. EntitySelection ) : Object</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>selectedEntities</td><td>4D. EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection with entities for which to know the rank in the entity selection</td></tr>
<tr><td>Resultado</td><td>Objeto</td><td style="text-align:center">&lt;-</td><td>Range(s) of selected entities in entity selection</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-29"></a><a href="#descrição-29" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>.selected()</code> function returns an object describing the position(s) of <em>selectedEntities</em> in the original entity selection.</p>
<blockquote>
<p>Esta função não modifica a entity selection original.</p>
</blockquote>
<p>Pass in the <em>selectedEntities</em> parameter an entity selection containing entities for which you want to know the position in the original entity selection. <em>selectedEntities</em> must be an entity selection belonging to the same dataclass as the original entity selection, otherwise an error 1587 - &quot;The entity selection comes from an incompatible dataclass&quot; is raised.</p>
<h4><a class="anchor" aria-hidden="true" id="resultado"></a><a href="#resultado" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<p>O objeto retornado contém as propriedades abaixo:</p>
<table>
<thead>
<tr><th>Propriedade</th><th>Type</th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>ranges</td><td>Coleção</td><td>Collection of range objects</td></tr>
<tr><td>ranges[].start</td><td>Integer</td><td>First entity index in the range</td></tr>
<tr><td>ranges[].end</td><td>Integer</td><td>Last entity index in the range</td></tr>
</tbody>
</table>
<p>If a <code>ranges</code> property contains a single entity, <code>start</code> = <code>end</code>. Index starts at 0.</p>
<p>The function returns an empty collection in the <code>ranges</code> property if the original entity selection or the <em>selectedEntities</em> entity selection is empty.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-19"></a><a href="#exemplo-19" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$invoices</span>; <span class="hljs-variable">$cashSel</span>; <span class="hljs-variable">$creditSel </span>: cs. Invoices<span class="hljs-keyword">
var</span> <span class="hljs-variable">$result1</span>; <span class="hljs-variable">$result2 </span>: Object

<span class="hljs-variable">$invoices</span>:=ds. Invoices.<span class="hljs-function">all</span>()

<span class="hljs-variable">$cashSelection</span>:=ds. Invoices.<span class="hljs-function">query</span>(<span class="hljs-string">"payment = :1"</span>; <span class="hljs-string">"Cash"</span>)
<span class="hljs-variable">$creditSel</span>:=ds. Invoices.<span class="hljs-function">query</span>(<span class="hljs-string">"payment IN :1"</span>;<span class="hljs-function"> New collection</span>(<span class="hljs-string">"Cash"</span>; <span class="hljs-string">"Credit Card"</span>))

<span class="hljs-variable">$result1</span>:=<span class="hljs-variable">$invoices</span>.<span class="hljs-function">selected</span>(<span class="hljs-variable">$cashSelection</span>)
<span class="hljs-variable">$result2</span>:=<span class="hljs-variable">$invoices</span>.<span class="hljs-function">selected</span>(<span class="hljs-variable">$creditSel</span>)

<span class="hljs-comment">//$result1 = {ranges:[{start:0;end:0},{start:3;end:3},{start:6;end:6}]}</span>
<span class="hljs-comment">//$result2 = {ranges:[{start:0;end:1},{start:3;end:4},{start:6;end:7}]}</span>

</code></pre>
<h2><a class="anchor" aria-hidden="true" id="slice"></a><a href="#slice" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.slice()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : 4D. EntitySelection</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>startFrom</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Index to start the operation at (included)</td></tr>
<tr><td>end</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Final do índice (não incluído)</td></tr>
<tr><td>Resultado</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>New entity selection containing sliced entities (shallow copy)</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-30"></a><a href="#descrição-30" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.copy()</code>  devolve uma cópia da entity selection original.</p>
<blockquote>
<p>Esta função não modifica a entity selection original.</p>
</blockquote>
<p>The returned entity selection contains the entities specified by <em>startFrom</em> and all subsequent entities up to, but not including, the entity specified by <em>end</em>. If only the <em>startFrom</em> parameter is specified, the returned entity selection contains all entities from <em>startFrom</em> to the last entity of the original entity selection.</p>
<ul>
<li>If <em>startFrom</em> &lt; 0, it is recalculated as <em>startFrom:=startFrom+length</em> (it is considered as the offset from the end of the entity selection). If the calculated value &lt; 0, <em>startFrom</em> is set to 0.</li>
<li>If <em>startFrom &gt;= length</em>, the function returns an empty entity selection.</li>
<li>If <em>end</em> &lt; 0, it is recalculated as <em>end:=end+length</em>.</li>
<li>If <em>end &lt; startFrom</em> (passed or calculated values), the method does nothing.</li>
</ul>
<p>If the entity selection contains entities that were dropped in the meantime, they are also returned.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-9"></a><a href="#exemplo-1-9" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<p>You want to get a selection of the first 9 entities of the entity selection:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$sel</span>; <span class="hljs-variable">$sliced </span>: cs. EmployeeSelection
<span class="hljs-variable">$sel</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &gt; :1"</span>;<span class="hljs-number">50000</span>)
<span class="hljs-variable">$sliced</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">slice</span>(<span class="hljs-number">0</span>;<span class="hljs-number">9</span>) <span class="hljs-comment">//
</span></code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-9"></a><a href="#exemplo-2-9" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>Assuming we have ds. Employee.all().length = 10</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$slice </span>: cs. EmployeeSelection
<span class="hljs-variable">$slice</span>:=ds. Employee.<span class="hljs-function">all</span>().<span class="hljs-function">slice</span>(<span class="hljs-number">-1</span>;<span class="hljs-number">-2</span>) <span class="hljs-comment">//tries to return entities from index 9 to 8, but since 9 &gt; 8, returns an empty entity selection</span>

</code></pre>
<h2><a class="anchor" aria-hidden="true" id="sum-"></a><a href="#sum-" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.sum( )</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.sum</strong>( <em>attributePath</em> : Text ) : Real</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>attributePath</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr>
<tr><td>Resultado</td><td>Real</td><td style="text-align:center">&lt;-</td><td>Sum of entity selection values</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-31"></a><a href="#descrição-31" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>.sum()</code> function returns the sum for all <em>attributePath</em> values in the entity selection.</p>
<p><code>.sum()</code> returns 0 if the entity selection is empty.</p>
<p>The sum can only be done on values of number type. If the <em>attributePath</em> is an object property, only numerical values are taken into account for the calculation (other value types are ignored). In this case, if <em>attributePath</em> leads to a property that does not exist in the object or does not contain any numeric values, <code>.sum()</code> returns 0.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> is not a numerical or an object attribute,</li>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> is not found in the entity selection dataclass.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="exemplo-20"></a><a href="#exemplo-20" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$sel </span>: cs. EmployeeSelection<span class="hljs-keyword">
var</span> <span class="hljs-variable">$sum </span>: Real

<span class="hljs-variable">$sel</span>:=ds. Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &lt; :1"</span>;<span class="hljs-number">20000</span>)
<span class="hljs-variable">$sum</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">sum</span>(<span class="hljs-string">"salary"</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="tocollection-"></a><a href="#tocollection-" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.toCollection( )</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.toCollection</strong>( { <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer } } ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterString</em> : Text {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterCol</em> : Collection {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em></p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>filterString</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>String with entity attribute path(s) to extract</td></tr>
<tr><td>filterCol</td><td>Coleção</td><td style="text-align:center">-&gt;</td><td>Collection of entity attribute path(s) to extract</td></tr>
<tr><td>options</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk with primary key</code>: adds the primary key<br><code>dk with stamp</code>: adds the stamp</td></tr>
<tr><td>begin</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Designates the starting index</td></tr>
<tr><td>howMany</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Number of entities to extract</td></tr>
<tr><td>Resultado</td><td>Coleção</td><td style="text-align:center">&lt;-</td><td>Collection of objects containing attributes and values of entity selection</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-32"></a><a href="#descrição-32" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>The <code>.toCollection()</code> function creates and returns a collection where each element is an object containing a set of properties and values corresponding to the attribute names and values for the entity selection.</p>
<p>If no filter parameter is passed or the first parameter contains an empty string or &quot;*&quot;, all the attributes are extracted. Attributes with <a href="/docs/Rx/pt/API/DataClassAttributeClass.html#kind">kind</a> property as &quot;relatedEntity&quot; are extracted with the simple form: an object with property __KEY (primary key). Attributes with kind property as &quot;relatedEntities&quot; are not extracted.</p>
<p>Or, you can designate the entity attributes to extract using a filter parameter. You can use one of these two filters:</p>
<ul>
<li><em>filterString</em> --a string with property paths separated with commas: &quot;propertyPath1, propertyPath2, ...&quot;.</li>
<li><em>filterCol</em> --a collection of strings containing property paths: [&quot;propertyPath1&quot;,&quot;propertyPath2&quot;,...]</li>
</ul>
<p>If a filter is specified for an attribute of the <code>relatedEntity</code> kind:</p>
<ul>
<li>propertyPath = &quot;relatedEntity&quot; -&gt; it is extracted with simple form</li>
<li>propertyPath = &quot;relatedEntity.*&quot; -&gt; all the properties are extracted</li>
<li>propertyPath = &quot;relatedEntity.propertyName1, relatedEntity.propertyName2, ...&quot; -&gt; only those properties are extracted</li>
</ul>
<p>If a filter is specified for an attribute of the <code>relatedEntities</code> kind:</p>
<ul>
<li>propertyPath = &quot;relatedEntities.*&quot; -&gt; all the properties are extracted</li>
<li>propertyPath = &quot;relatedEntities.propertyName1, relatedEntities.propertyName2, ...&quot; -&gt; only those properties are extracted</li>
</ul>
<p>In the <em>options</em> parameter, you can pass the <code>dk with primary key</code> and/or <code>dk with stamp</code> selector(s) to add the entity's primary keys and/or stamps in extracted objects.</p>
<p>The <em>begin</em> parameter allows you to indicate the starting index of the entities to extract. You can pass any value between 0 and entity selection length-1.</p>
<p>The <em>howMany</em> parameter lets you specify the number of entities to extract, starting with the one specified in <em>begin</em>. Dropped entities are not returned but are taken into account according to <em>howMany</em>. For example, if <em>howMany</em>= 3 and there is 1 dropped entity, only 2 entities are extracted.</p>
<p>If <em>howMany</em> &gt; length of the entity selection, the method returns (length - <em>begin</em>) objects.</p>
<p>An empty collection is returned if:</p>
<ul>
<li>the entity selection is empty, or</li>
<li><em>begin</em> is greater than the length of the entity selection.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-10"></a><a href="#exemplo-1-10" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<p>The following structure will be used throughout all examples of this section:</p>
<p><img src="/docs/Rx/assets/en/API/dataclassAttribute4.png" alt=""></p>
<p>Example without filter or options parameter:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employeesCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs. EmployeeSelection

 <span class="hljs-variable">$employeesCollection</span>:=New collection
 <span class="hljs-variable">$employees</span>:=ds. Employee.<span class="hljs-function">all</span>()
 <span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>()
</code></pre>
<p>Retorna:</p>
<pre><code class="hljs css language-4d">[
    {
        <span class="hljs-string">"ID"</span>: <span class="hljs-number">416</span>,
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,
        <span class="hljs-string">"salary"</span>: <span class="hljs-number">79100</span>,
        <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1963-02-01T00:00:00.000Z"</span>,
        <span class="hljs-string">"woman"</span>: false,
        <span class="hljs-string">"managerID"</span>: <span class="hljs-number">412</span>,
        <span class="hljs-string">"employerID"</span>: <span class="hljs-number">20</span>,
        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,
        <span class="hljs-string">"extra"</span>: null,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>
        },
        <span class="hljs-string">"manager"</span>: {
            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">412</span>

        }
    },
    {
        <span class="hljs-string">"ID"</span>: <span class="hljs-number">417</span>,
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Irma"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>,
        <span class="hljs-string">"salary"</span>: <span class="hljs-number">47000</span>,
        <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1992-06-16T00:00:00.000Z"</span>,
        <span class="hljs-string">"woman"</span>: true,
        <span class="hljs-string">"managerID"</span>: <span class="hljs-number">412</span>,
        <span class="hljs-string">"employerID"</span>: <span class="hljs-number">20</span>,
        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,
        <span class="hljs-string">"extra"</span>: null,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>
        },
        <span class="hljs-string">"manager"</span>: {
            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">412</span>
        }
    }
]
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-10"></a><a href="#exemplo-2-10" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>Example with options:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection </span>: Collection<span class="hljs-keyword">
var</span> <span class="hljs-variable">$employees </span>: cs. EmployeeSelection

<span class="hljs-variable">$employeesCollection</span>:=New collection
<span class="hljs-variable">$employees</span>:=ds. Employee.<span class="hljs-function">all</span>()
<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-string">""</span>;dk with primary key+dk with stamp)
</code></pre>
<p>Retorna:</p>
<pre><code class="hljs css language-4d">[
    {
        <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">416</span>,
        <span class="hljs-string">"__STAMP"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"ID"</span>: <span class="hljs-number">416</span>,
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,
        <span class="hljs-string">"salary"</span>: <span class="hljs-number">79100</span>,
        <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1963-02-01T00:00:00.000Z"</span>,
        <span class="hljs-string">"woman"</span>: false,
        <span class="hljs-string">"managerID"</span>: <span class="hljs-number">412</span>,
        <span class="hljs-string">"employerID"</span>: <span class="hljs-number">20</span>,
        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,
        <span class="hljs-string">"extra"</span>: null,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>
        },
        <span class="hljs-string">"manager"</span>: {
            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">412</span>
        }
    },
    {
        <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">417</span>,
        <span class="hljs-string">"__STAMP"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"ID"</span>: <span class="hljs-number">417</span>,
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Irma"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>,
        <span class="hljs-string">"salary"</span>: <span class="hljs-number">47000</span>,
        <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1992-06-16T00:00:00.000Z"</span>,
        <span class="hljs-string">"woman"</span>: true,
        <span class="hljs-string">"managerID"</span>: <span class="hljs-number">412</span>,
        <span class="hljs-string">"employerID"</span>: <span class="hljs-number">20</span>,
        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,
        <span class="hljs-string">"extra"</span>: null,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>
        },
        <span class="hljs-string">"manager"</span>: {
            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">412</span>
        }
    }]
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-3-1"></a><a href="#exemplo-3-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 3</h4>
<p>Example with slicing and filtering on properties:</p>
<pre><code class="hljs css language-4d">EmployeeSelection
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName=:1"</span>;<span class="hljs-string">"S@"</span>)
 <span class="hljs-variable">$notDropped</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">drop</span>() <span class="hljs-comment">// $notDropped for uma entity selection que contém todas as entidades não suprimidas</span><span class="hljs-keyword">
 If</span>(<span class="hljs-variable">$notDropped</span>.length=<span class="hljs-number">0</span>) <span class="hljs-comment">//A ação de eliminação for exitosa, todas as entidades foram eliminadas</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"You have dropped "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$employees</span>.length)+<span class="hljs-string">" employees"</span>) <span class="hljs-comment">//A seleção de entidades eliminada permanece na memoria</span><span class="hljs-keyword">
 Else</span>
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"Problem during drop, try later"</span>)<span class="hljs-keyword">
 End if</span><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees</span>; <span class="hljs-variable">$notDropped </span>: cs.
</code></pre>
<p>Retorna:</p>
<pre><code class="hljs css language-4d">[
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>
    },
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Irma"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>
    }
]

</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-4-1"></a><a href="#exemplo-4-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 4</h4>
<p>Example with <code>relatedEntity</code> type with simple form:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection </span>: Collection
<span class="hljs-variable">$employeesCollection</span>:=New collection
<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-string">"firstName,lastName,employer"</span>)
</code></pre>
<p>retorna:</p>
<pre><code class="hljs css language-4d">[
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>
        }
    },
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Irma"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>
        }
    },
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Lorena"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Boothe"</span>,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>
        }
    }
   ]
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-5-1"></a><a href="#exemplo-5-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 5</h4>
<p>Example with <em>filterCol</em> parameter:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection</span>; <span class="hljs-variable">$coll </span>: Collection
<span class="hljs-variable">$employeesCollection</span>:=New collection
<span class="hljs-variable">$coll</span>:=<span class="hljs-function">New collection</span>(<span class="hljs-string">"firstName"</span>;<span class="hljs-string">"lastName"</span>)
<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-variable">$coll</span>)
</code></pre>
<p>Retorna:</p>
<pre><code class="hljs css language-4d">[
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Joanna"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Cabrera"</span>
    },
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Alexandra"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Coleman"</span>
    }
]
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-6-1"></a><a href="#exemplo-6-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 6</h4>
<p>Example with extraction of all properties of a relatedEntity:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection</span>; <span class="hljs-variable">$coll </span>: Collection
<span class="hljs-variable">$employeesCollection</span>:=New collection
<span class="hljs-variable">$coll</span>:=New collection
<span class="hljs-variable">$coll</span>.<span class="hljs-function">push</span>(<span class="hljs-string">"firstName"</span>)
<span class="hljs-variable">$coll</span>.<span class="hljs-function">push</span>(<span class="hljs-string">"lastName"</span>)
<span class="hljs-variable">$coll</span>.<span class="hljs-function">push</span>(<span class="hljs-string">"employer.*"</span>)
<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-variable">$coll</span>)
</code></pre>
<p>Retorna:</p>
<pre><code class="hljs css language-4d">[
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"ID"</span>: <span class="hljs-number">20</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Irma"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"ID"</span>: <span class="hljs-number">20</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Lorena"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Boothe"</span>,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"ID"</span>: <span class="hljs-number">20</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"India Astral Secretary"</span>,
            <span class="hljs-string">"creationDate"</span>: <span class="hljs-string">"1984-08-25T00:00:00.000Z"</span>,
            <span class="hljs-string">"revenues"</span>: <span class="hljs-number">12000000</span>,
            <span class="hljs-string">"extra"</span>: null
        }
    }
  ]
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-7-1"></a><a href="#exemplo-7-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 7</h4>
<p>Example with extraction of some properties of a relatedEntity:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection </span>: Collection
<span class="hljs-variable">$employeesCollection</span>:=New collection
<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-string">"firstName, lastName, employer.name"</span>)
</code></pre>
<pre><code class="hljs css language-4d">[
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,

        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Irma"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Lorena"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Boothe"</span>,
        <span class="hljs-string">"employer"</span>: {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"India Astral Secretary"</span>
        }
    }]
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-8-1"></a><a href="#exemplo-8-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 8</h4>
<p>Example with extraction of some properties of <code>relatedEntities</code>:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employeesCollection </span>: Collection
 <span class="hljs-variable">$employeesCollection</span>:=New collection
 <span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-string">"firstName, lastName, directReports.firstName"</span>)
</code></pre>
<p>Retorna:</p>
<pre><code class="hljs css language-4d">[
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,
        <span class="hljs-string">"directReports"</span>: []
    },
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Mike"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Phan"</span>,
        <span class="hljs-string">"directReports"</span>: [
            {
                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gary"</span>
            },
            {
                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Sadie"</span>
            },
            {
                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Christie"</span>
            }
        ]
    },
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gary"</span>,

        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Reichert"</span>,
        <span class="hljs-string">"directReports"</span>: [
            {
                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Rex"</span>
            },
            {
                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Jenny"</span>
            },
            {
                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Lowell"</span>
            }
        ]
    }]
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-9-1"></a><a href="#exemplo-9-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 9</h4>
<p>Example with extraction of all properties of <code>relatedEntities</code>:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection </span>: Collection
<span class="hljs-variable">$employeesCollection</span>:=New collection
<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-string">"firstName, lastName, directReports.*"</span>)

</code></pre>
<pre><code class="hljs css language-4d">[
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,
        <span class="hljs-string">"directReports"</span>: []
    },    
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Mike"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Phan"</span>,
        <span class="hljs-string">"directReports"</span>: [
            {
                <span class="hljs-string">"ID"</span>: <span class="hljs-number">425</span>,
                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gary"</span>,
                <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Reichert"</span>,
                <span class="hljs-string">"salary"</span>: <span class="hljs-number">65800</span>,
                <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1957-12-23T00:00:00.000Z"</span>,
                <span class="hljs-string">"woman"</span>: false,
                <span class="hljs-string">"managerID"</span>: <span class="hljs-number">424</span>,
                <span class="hljs-string">"employerID"</span>: <span class="hljs-number">21</span>,
                <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,
                <span class="hljs-string">"extra"</span>: null,
                <span class="hljs-string">"employer"</span>: {
                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">21</span>
                },
                <span class="hljs-string">"manager"</span>: {
                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">424</span>
                }
            },
            {
                <span class="hljs-string">"ID"</span>: <span class="hljs-number">426</span>,
                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Sadie"</span>,
                <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Gallant"</span>,
                <span class="hljs-string">"salary"</span>: <span class="hljs-number">35200</span>,
                <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"2022-01-03T00:00:00.000Z"</span>,
                <span class="hljs-string">"woman"</span>: true,
                <span class="hljs-string">"managerID"</span>: <span class="hljs-number">424</span>,
                <span class="hljs-string">"employerID"</span>: <span class="hljs-number">21</span>,
                <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,
                <span class="hljs-string">"extra"</span>: null,
                <span class="hljs-string">"employer"</span>: {
                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">21</span>
                },
                <span class="hljs-string">"manager"</span>: {
                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">424</span>
                }
            }
                   ]
    },
    {
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gary"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Reichert"</span>,
        <span class="hljs-string">"directReports"</span>: [
            {
                <span class="hljs-string">"ID"</span>: <span class="hljs-number">428</span>,
                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Rex"</span>,
                <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Chance"</span>,
                <span class="hljs-string">"salary"</span>: <span class="hljs-number">71600</span>,
                <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1968-08-09T00:00:00.000Z"</span>,
                <span class="hljs-string">"woman"</span>: false,

                <span class="hljs-string">"managerID"</span>: <span class="hljs-number">425</span>,
                <span class="hljs-string">"employerID"</span>: <span class="hljs-number">21</span>,
                <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,
                <span class="hljs-string">"extra"</span>: null,
                <span class="hljs-string">"employer"</span>: {
                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">21</span>
                },
                <span class="hljs-string">"manager"</span>: {
                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">425</span>
                }
            },
            {
                <span class="hljs-string">"ID"</span>: <span class="hljs-number">429</span>,
                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Jenny"</span>,
                <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Parks"</span>,
                <span class="hljs-string">"salary"</span>: <span class="hljs-number">51300</span>,
                <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1984-05-25T00:00:00.000Z"</span>,
                <span class="hljs-string">"woman"</span>: true,
                <span class="hljs-string">"managerID"</span>: <span class="hljs-number">425</span>,
                <span class="hljs-string">"employerID"</span>: <span class="hljs-number">21</span>,
                <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,
                <span class="hljs-string">"extra"</span>: null,
                <span class="hljs-string">"employer"</span>: {
                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">21</span>
                },
                <span class="hljs-string">"manager"</span>: {
                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">425</span>
                }
            }
           ]
 }
]
</code></pre>
<style> h2 { background: #d9ebff;}</style>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/Rx/pt/API/EntityClass.html"><span class="arrow-prev">← </span><span>Entity</span></a><a class="docs-next button" href="/docs/Rx/pt/API/FileClass.html"><span>File</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#create-entity-selection">Create entity selection</a></li><li><a href="#use-entity-selection">USE ENTITY SELECTION</a></li><li><a href="#91index93">[<em>index</em>]</a></li><li><a href="#attributename">.<em>attributeName</em></a></li><li><a href="#add">.add()</a></li><li><a href="#and">.and()</a></li><li><a href="#average">.average()</a></li><li><a href="#contains">.contains()</a></li><li><a href="#count">.count()</a></li><li><a href="#copy">.copy()</a></li><li><a href="#distinct">.distinct()</a></li><li><a href="#drop">.drop()</a></li><li><a href="#extract">.extract()</a></li><li><a href="#first">.first()</a></li><li><a href="#getdataclass">.getDataClass()</a></li><li><a href="#isalterable">.isAlterable()</a></li><li><a href="#isordered">.isOrdered()</a></li><li><a href="#last">.last()</a></li><li><a href="#length">.length</a></li><li><a href="#max">.max()</a></li><li><a href="#min">.min()</a></li><li><a href="#minus">.minus()</a></li><li><a href="#or">.or()</a></li><li><a href="#orderby">.orderBy()</a></li><li><a href="#orderbyformula">.orderByFormula()</a></li><li><a href="#query">.query()</a></li><li><a href="#querypath">.queryPath</a></li><li><a href="#queryplan">.queryPlan</a></li><li><a href="#refresh">.refresh()</a></li><li><a href="#selected">.selected()</a></li><li><a href="#slice">.slice()</a></li><li><a href="#sum-">.sum( )</a></li><li><a href="#tocollection-">.toCollection( )</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/Rx/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2022 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license-0">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                appId: 'OJ04C0M3CU',
                apiKey: '5f22ebbb9382abafeadc3e86ca47d4af',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:pt","version:19 R5"]}
              });
            </script></body></html>