<!doctype html><html lang=ja dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20 docs-doc-page docs-doc-id-ORDA/entities" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>データ操作 | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/ja/20/ORDA/entities><meta data-rh=true property=og:locale content=ja><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=pt><meta data-rh=true name=docusaurus_locale content=ja><meta data-rh=true name=docsearch:language content=ja><meta data-rh=true name=docusaurus_version content=20><meta data-rh=true name=docusaurus_tag content=docs-default-20><meta data-rh=true name=docsearch:version content=20><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20><meta data-rh=true property=og:title content="データ操作 | 4D Docs"><meta data-rh=true name=description content="ORDA では、エンティティ および エンティティセレクション を介してデータにアクセスします。 これらのオブジェクトを使って、データストアのデータを作成・更新・クエリ・ソートすることができます。"><meta data-rh=true property=og:description content="ORDA では、エンティティ および エンティティセレクション を介してデータにアクセスします。 これらのオブジェクトを使って、データストアのデータを作成・更新・クエリ・ソートすることができます。"><link data-rh=true rel=icon href=/docs/ja/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/ja/20/ORDA/entities><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20/ORDA/entities hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/20/ORDA/entities hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/20/ORDA/entities hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/20/ORDA/entities hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/20/ORDA/entities hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20/ORDA/entities hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/ja/opensearch.xml><link rel=stylesheet href=/docs/ja/assets/css/styles.1ba35a04.css><script src=/docs/ja/assets/js/main.c036a306.js defer></script><script src=/docs/ja/assets/js/runtime~main.9b68fda7.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label=メインコンテンツまでスキップ><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>メインコンテンツまでスキップ</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label=ナビゲーションバーの切り替え aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/ja/><div class=navbar__logo><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D ドキュメンテーション</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/ja/20/ORDA/entities>20</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/ja/ORDA/entities>20 R9</a><li><a class=dropdown__link href=/docs/ja/20-R8/ORDA/entities>20 R8</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/ja/20/ORDA/entities>20</a><li><a class=dropdown__link href=/docs/ja/19/ORDA/entities>19</a><li><a class=dropdown__link href=/docs/ja/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>日本語</a><ul class=dropdown__menu><li><a href=/docs/20/ORDA/entities rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/20/ORDA/entities rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/20/ORDA/entities rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/20/ORDA/entities rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=ja>日本語</a><li><a href=/docs/pt/20/ORDA/entities rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="ダークモードとライトモードを切り替える (現在は ライトモード)" aria-label="ダークモードとライトモードを切り替える (現在は ライトモード)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="検索 (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>検索</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label=トップに戻る class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/ja/><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D ドキュメンテーション</b></a><nav aria-label=Docsサイドバー class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/ja/20/category/getting-started>はじめに</a><button aria-label="サイドバーのカテゴリ 'はじめに ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/ja/20/category/core-development>コア開発</a><button aria-label="サイドバーのカテゴリ 'コア開発 ' を閉じる" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/ja/20/Project/overview>プロジェクト管理</a><button aria-label="サイドバーのカテゴリ 'プロジェクト管理 ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/ja/20/category/4d-language-concepts>ランゲージのコンセプト</a><button aria-label="サイドバーのカテゴリ 'ランゲージのコンセプト ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/ja/20/ORDA/overview>ORDA</a><button aria-label="サイドバーのカテゴリ 'ORDA ' を閉じる" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20/ORDA/dsmapping>データモデルオブジェクト</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20/ORDA/ordaClasses>データモデルクラス</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/ja/20/ORDA/entities>データ操作</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20/ORDA/datastores>リモートデータストアの利用</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20/ORDA/privileges>権限</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20/ORDA/glossary>用語集</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://doc.4d.com/4Dv20/4D/20/4D-Language-Reference.100-6237190.en.html target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex=0>ランゲージリファレンス (4D Doc Center)<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/ja/20/category/class-API-reference>クラス関数</a><button aria-label="サイドバーのカテゴリ 'クラス関数 ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/ja/20/code-editor/overview>コードの扱い方</a><button aria-label="サイドバーのカテゴリ 'コードの扱い方 ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/ja/20/Tags/tags>タグ</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/ja/20/Debugging/basics>デバッガー</a><button aria-label="サイドバーのカテゴリ 'デバッガー ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/ja/20/settings/overview>Settings</a><button aria-label="サイドバーのカテゴリ 'Settings ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/ja/20/Preferences/overview>環境設定</a><button aria-label="サイドバーのカテゴリ '環境設定 ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/ja/20/category/administration>管理</a><button aria-label="サイドバーのカテゴリ '管理 ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/ja/20/Extensions/overview>拡張機能</a><button aria-label="サイドバーのカテゴリ '拡張機能 ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/ja/20/category/web-applications>Web アプリ</a><button aria-label="サイドバーのカテゴリ 'Web アプリ ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/ja/20/category/desktop-applications>デスクトップアプリ</a><button aria-label="サイドバーのカテゴリ 'デスクトップアプリ ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a href=https://developer.4d.com/go-mobile/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false>モバイルアプリ</a></div></ul></nav><button type=button title=サイドバーを隠す aria-label=サイドバーを隠す class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=パンくずリスト><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label=ホームページ class=breadcrumbs__link href=/docs/ja/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/ja/20/category/core-development><span itemprop=name>コア開発</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/ja/20/ORDA/overview><span itemprop=name>ORDA</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>データ操作</span><meta itemprop=position content=3></ul></nav><span class="theme-doc-version-badge badge badge--secondary">バージョン: 20</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">このページ上で</button></div><div class="theme-doc-markdown markdown"><header><h1>データ操作</h1></header><p>ORDA では、<a href=/docs/ja/20/ORDA/dsmapping#entity>エンティティ</a> および <a href=/docs/ja/20/ORDA/dsmapping#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%BB%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3>エンティティセレクション</a> を介してデータにアクセスします。 これらのオブジェクトを使って、データストアのデータを作成・更新・クエリ・ソートすることができます。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=エンティティの作成>エンティティの作成<a href=#エンティティの作成 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p>データクラス内に新しいエンティティを作成する方法は二つあります:</p>
<ul>
<li>エンティティはデータベースレコードへの参照であるため、"クラシックな" 4Dランゲージを使用してレコードを作成し、それを<code>entity.next( )</code> や <code>entitySelection.first( )</code> といった ORDAメソッドで参照することでエンティティを作成できます。</li>
<li>また、<code>dataClass.new( )</code> メソッドを使用することでもエンティティも作成することができます。</li>
</ul>
<p>エンティティはメモリ内にしか作成されないという点に注意してください。 データストアに追加したい場合、<code>entity.save( )</code> メソッドを呼ぶ必要があります。</p>
<p>エンティティ属性は、エンティティオブジェクトのプロパティとして直接利用可能です。 詳細な情報については、<a href=#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E5%B1%9E%E6%80%A7%E3%81%AE%E4%BD%BF%E7%94%A8>エンティティ属性の使用</a> を参照してください。</p>
<p>たとえば、カレントデータストア内の "Employee" データクラスに新しいエンティティを作成し、firstname と name 属性に "John" と "Dupont" を割り当てたい場合を考えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $myEntity : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$myEntity:=ds.Employee.new() // エンティティ型の新規オブジェクトを作成します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$myEntity.name:="Dupont" // 'Dupont' を 'name' 属性に代入します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$myEntity.firstname:="John" // 'John' を 'firstname' 属性に代入します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$myEntity.save() // エンティティを保存します</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<blockquote>
<p>エンティティは、それが作成されたプロセス内でのみ定義されます。 そのため、たとえばエンティティへの参照を、インタープロセス変数内に保存して他のプロセスで使用する、といったことはできません。</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=エンティティと参照>エンティティと参照<a href=#エンティティと参照 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p>エンティティには、4Dレコードへの参照が格納されています。 異なるエンティティが同じ 4Dレコードを参照することもあり得ます。 また、エンティティは 4Dオブジェクト変数に保存可能であることから、異なる変数が同じエンティティへの参照を格納していることもあり得ます。</p>
<p>以下のコードを実行した場合:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $e1; $e2 : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1:=ds.Employee.get(1) // ID 1をもつ社員にアクセスします</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e2:=$e1</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1.name:="Hammer"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$e1 も $e2 も、どちらも同じエンティティへの参照を共有します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$e2.name の中身も "Hammer" です</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>これは以下のように図解することができます:</p>
<p><img decoding=async loading=lazy src="data:image/png;base64,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" width=318 height=129 class=img_ev3q></p>
<p>次に、以下のコードを実行した場合:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $e1; $e2 : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1:=ds.Employee.get(1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e2:=ds.Employee.get(1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1.name:="Hammer"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //変数 $e1 はエンティティへの参照を格納しています</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //変数 $e2 は別のエンティティへの参照を格納しています</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$e2.name の中身は "smith" です</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>これは以下のように図解することができます:</p>
<p><img decoding=async loading=lazy src="data:image/png;base64,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" width=320 height=129 class=img_ev3q></p>
<p>しかし、両方のエンティティが同じレコードを参照していることに注意してください。 どちらの場合でも、<code>entity.save( )</code> メソッドを呼び出した場合、レコードは更新されます (衝突が発生した場合を除きます。<a href=#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%83%AD%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0>エンティティロッキング</a> 参照)。</p>
<p>実際には、<code>$e1</code> も <code>$e2</code> もエンティティそのものではなく、エンティティへの参照です。 これはつまり、どのような関数やメソッドにも直接受け渡すことができ、ポインターのように振る舞うということです。そしてこれは 4Dポインターよりもずっと高速です。 例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> For each($entity;$selection)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    do_Capitalize($entity)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for each</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>そして do_Capitalize メソッドが以下のような形であった場合:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $entity:=$1</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $name:=$entity.lastname</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If(Not($name=Null))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $name:=Uppercase(Substring($name;1;1))+Lowercase(Substring($name;2))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.lastname:=$name</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>他の 4D のオブジェクトと同様にエンティティを扱うことができ、<a href=/docs/ja/20/Concepts/parameters>引数</a> としてその参照を渡すことができます。</p>
<blockquote>
<p>エンティティでは、クラシックな 4D言語のような "カレントレコード" という概念はありません。 エンティティは、いくつでも必要な数を同時に使用することができます。 また、エンティティには自動ロックの機構が備わっています (<a href=#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%83%AD%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0>エンティティロッキング</a> 参照)。 エンティティの読み込みには、<a href=/docs/ja/20/ORDA/glossary#%E3%83%AC%E3%82%A4%E3%82%B8%E3%83%BC%E3%83%AD%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0>レイジーローディング</a> 機構が使用されます。これはつまり必要な分の情報だけが読み込まれるということです。 いずれにせよ、クライアント/サーバーでは必要であればエンティティを直接自動的に読み込むことも可能です。</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=エンティティ属性の使用>エンティティ属性の使用<a href=#エンティティ属性の使用 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p>エンティティ属性はデータを保存し、対応するテーブルの対応するフィールドをマップします。 ストレージ型のエンティティ属性はエンティティオブジェクトの単純なプロパティとして設定や取得ができますが、<strong>リレートエンティティ (relatedEntity)</strong> 型と <strong>リレートエンティティズ (relatedEntities)</strong> 型のエンティティ属性はエンティティあるいはエンティティセレクションを返します。</p>
<blockquote>
<p>属性の型についての詳細な情報については、<a href=/docs/ja/20/ORDA/dsmapping#%E3%82%B9%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B8%E5%B1%9E%E6%80%A7%E3%81%A8%E3%83%AA%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%B1%9E%E6%80%A7>ストレージ属性とリレーション属性</a> の段落を参照してください。</p>
</blockquote>
<p>たとえば、ストレージ属性を設定するためには:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $entity:=ds.Employee.get(1) // ID1 の社員エンティティを取得します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $name:=$entity.lastname // 社員のラストネームを取得します。例: "Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.lastname:="Jones" // 社員のラストネームを変更します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.save() // 変更を保存します</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<blockquote>
<p>データベースの BLOBフィールド (<a href=/docs/ja/20/Concepts/blob>スカラーBLOB</a>) は、ORDAで扱われるにあたって、BLOBオブジェクト属性 (<a href=/docs/ja/20/Concepts/blob><code>4D.Blob</code></a>) に自動変換されます。 BLOBオブジェクト属性を保存する際には、(利用可能なメモリによってのみサイズ制限される BLOBオブジェクトとは異なり) BLOBフィールドのサイズが 2GB に制限されることに注意してください。</p>
</blockquote>
<p>リレート属性にアクセスできるかどうかは、属性の型によります。 たとえば、以下のようなストラクチャーがあるとき:</p>
<p><img decoding=async loading=lazy src=/docs/ja/assets/images/entityAttributes-8c08eacf2d0a37b1dbb0c75e2f639adf.png width=690 height=530 class=img_ev3q></p>
<p>リレートされたオブジェクトを通してデータにアクセスすることができます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $entity:=ds.Project.all().first().theClient // 先頭プロジェクトに関連する Company エンティティを取得します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $EntitySel:=ds.Company.all().first().companyProjects // 先頭の会社に関連する Project エンティティセレクションを取得します</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>上記の例において、<em>theClient</em> と <em>companyProjects</em> はどちらもプライマリーリレーション属性であり、二つのデータクラス間の直接的なリレーションを表すことに注意してください。 しかしながら、複数のレベルのリレーションを通したパスに基づいてリレーション属性をビルドすることも可能です(循環参照含む)。 たとえば、以下のようなストラクチャーの場合を考えます:</p>
<p><img decoding=async loading=lazy src=/docs/ja/assets/images/entityAttributes2-0e6ac7fd19e06c5ddc21306d84317584.png width=516 height=612 class=img_ev3q></p>
<p>社員はそれぞれマネージャーにもなりえますし、マネージャーを持つこともできます。 ある社員のマネージャーのマネージャーを取得したい場合、以下のように書くことができます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $myEmp:=ds.Employee.get(50)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $manLev2:=$myEmp.manager.manager.lastname</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=リレーション属性への値の代入>リレーション属性への値の代入<a href=#リレーション属性への値の代入 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p>ORDAアーキテクチャーでは、リレーション属性はエンティティにリレートされたデータを直接格納します:</p>
<ul>
<li>N対1型リレーション属性 (<strong>リレートエンティティ (relatedEntity)</strong> 型) は一つのエンティティを格納します。</li>
<li>1対N型リレーション属性 (<strong>リレートエンティティズ (relatedEntities)</strong> 型) はエンティティセレクションを格納します。</li>
</ul>
<p>以下の (単純化された) ストラクチャーを見てみましょう:</p>
<p><img decoding=async loading=lazy src=/docs/ja/assets/images/entityAttributes3-d07772cfe65c0a91eb7c8e56629e9d41.png width=764 height=567 class=img_ev3q></p>
<p>この例では、"Employee" データクラスに属するエンティティの "employer" 属性には、エンティティ型のオブジェクト (あるいは null値) が格納されます。 "Company" データクラスに属するエンティティの "staff" 属性には、エンティティセレクション型のオブジェクト (あるいは null値) が格納されます。</p>
<blockquote>
<p>ORDAでは、リレーションの自動あるいは手動プロパティは何の効力も持ちません。</p>
</blockquote>
<p>"employer" 属性に直接値を代入したい場合には、"Company" データクラスの既存エンティティを渡す必要があります。 例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee.new() // 新規の社員エンティティを作成します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastname:="Smith" // 属性に値を代入します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer:=ds.Company.query("name =:1";"4D")[0]  // リレーション属性に会社エンティティを代入します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.save()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>また、主キー値 (Number または Text) を通して "1"側のリレートエンティティを直接取得することもできます。 例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastname:="Wesson"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer:=ds.Company.get(2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // 主キーの値が 2 の Company エンティティを取得し</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // employer 属性に代入します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.save()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>これはとくに、リレーショナルデータベースから大量のデータを読み込むときに有用です。 このような読み込みでは通常 "ID" カラムが含まれており、これはリレーション属性に直接割り当て可能なプライマリーキーを参照しています。</p>
<p>"N" データクラス側のリレーション属性を通して、"1" リレートエンティティの属性値を、直接代入・変更することができます。 たとえば、Employee エンティティにリレートされている Company エンティティの name 属性を変更したい場合、以下のように書くことができます:</p>
<div class="language-code4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-code4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee.get(2) // プライマリーキーが 2 の Employee エンティティを読み込みます</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer.name:="4D, Inc." // リレートされている Company の name 属性を変更します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer.save() // リレーション属性の変更を保存します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // リレートされているエンティティも更新されます</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=エンティティセレクションの作成>エンティティセレクションの作成<a href=#エンティティセレクションの作成 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p>以下の方法で、<a href=/docs/ja/20/ORDA/dsmapping#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%BB%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3>エンティティセレクション</a> 型のオブジェクトを作成することができます:</p>
<ul>
<li><a href=/docs/ja/20/API/DataClassClass#query>データクラス</a> または <a href=/docs/ja/20/API/EntitySelectionClass#query>既存のエンティティセレクション</a> のエンティティに対してクエリを実行する;</li>
<li><a href=/docs/ja/20/API/DataClassClass#all><code>.all( )</code></a> DataClassクラス関数を使用して、データクラス内の全エンティティを選択する;</li>
<li><code>Create entity selection</code> コマンドあるいは <a href=/docs/ja/20/API/DataClassClass#newselection><code>.newSelection( )</code></a> DataClassクラス関数を使用して空のエンティティコレクションオブジェクトを作成する;</li>
<li><a href=/docs/ja/20/API/EntitySelectionClass#copy><code>.copy( )</code></a> EntitySelectionクラス関数を使用して、既存のエンティティセレクションを複製する;</li>
<li><a href=/docs/ja/20/API/EntitySelectionClass>EntitySelectionクラス</a> の様々な関数の中から、<a href=/docs/ja/20/API/EntitySelectionClass#or><code>.or( )</code></a> のように新しいエンティティセレクションを返すものを使用する;</li>
<li>"リレートエンティティズ" 型のリレーション属性を使用する (以下参照)</li>
</ul>
<p>データクラスに対して、異なるエンティティセレクションを好きなだけ同時に作成し、使用することができます。 エンティティセレクションは、エンティティへの参照を格納しているに過ぎないという点に注意してください。 異なるエンティティセレクションが同じエンティティへの参照を格納することも可能です。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=共有可能追加可能なエンティティセレクション>共有可能/追加可能なエンティティセレクション<a href=#共有可能追加可能なエンティティセレクション class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>エンティティセレクションには 2種類あります: <strong>共有可能 (shareable)</strong> (複数のプロセスで読み込み可能、ただし追加不可) のものと、<strong>追加可能 (alterable)</strong> (<a href=/docs/ja/20/API/EntitySelectionClass#add><code>add()</code></a> 関数が使用可能、ただしカレントプロセスでのみ利用可) のものです:</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=プロパティ>プロパティ<a href=#プロパティ class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><strong>共有可能</strong> なエンティティセレクションは以下のような特徴を持ちます:</p>
<ul>
<li>共有オブジェクトまたは共有コレクションに保存することが可能で、複数のプロセス間あるいはワーカー間で引数として受け渡しすることができます。</li>
<li>複数の共有オブジェクトまたは共有コレクションに保存することが可能です。また、グループに属している共有オブジェクトまたは共有コレクションに保存することも可能です。</li>
<li>新たにエンティティを追加することはできません。 共有可能なエンティティセレクションに対してエンティティを追加しようとした場合、エラーがトリガーされます (エラー1637 - このエンティティセレクションは編集不可です)。 共有可能なエンティティセレクションに対してエンティティを追加したい場合、<a href=/docs/ja/20/API/EntitySelectionClass#add><code>.add( )</code></a> 関数を呼び出す前に、<a href=/docs/ja/20/API/EntitySelectionClass#copy><code>.copy( )</code></a> 関数を使用して共有不可のエンティティセレクションへと変換する必要があります。</li>
</ul>
<blockquote>
<p>大多数のエンティティセレクション関数 (<a href=/docs/ja/20/API/EntitySelectionClass#slice><code>.slice()</code></a>, <a href=/docs/ja/20/API/EntitySelectionClass#and><code>.and()</code></a> 等) は、呼び出し対象のエンティティセレクションを変更せずに新規のエンティティセレクションを返すため、共有可能なエンティティセレクションに対して使用できます。</p>
</blockquote>
<p><strong>追加可能</strong> なエンティティセレクションは以下のような特徴を持ちます:</p>
<ul>
<li>プロセス間での共有はできません。また共有オブジェクト/コレクションへの保存もできません。 共有不可のエンティティセレクションを共有オブジェクト/コレクションに保存しようとした場合、エラーがトリガーされます (エラー -10721 - 共有オブジェクトまたはコレクションにおいてサポートされる値の型ではありません)。</li>
<li>新規エンティティを受け取ることができます (つまり、<a href=/docs/ja/20/API/EntitySelectionClass#add><code>.add()</code></a> 関数を使用できます)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=共有可能追加可能エンティティセレクションの定義>共有可能/追加可能エンティティセレクションの定義<a href=#共有可能追加可能エンティティセレクションの定義 class=hash-link aria-label=見出し�への直接リンク title=見出しへの直接リンク>​</a></h4>
<p>エンティティセレクションが <strong>共有可能</strong> または <strong>追加可能</strong> のいずれの特性を持つかは、そのエンティティセレクションの作成時に定義され、あとから変更することはできません。 エンティティセレクションの特性は、<a href=/docs/ja/20/API/EntitySelectionClass#isalterable>.isAlterable()</a> 関数または <code>OB Is shared</code> コマンドを使って確認することができます。</p>
<p>新規のエンティティセレクションは次の場合に <strong>共有可能</strong> です:</p>
<ul>
<li>データクラスに対して呼び出された ORDAクラス関数によって生成された場合: <a href=/docs/ja/20/API/DataClassClass#all>dataClass.all()</a>, <a href=/docs/ja/20/API/DataClassClass#fromcollection>dataClass.fromCollection()</a>, <a href=/docs/ja/20/API/DataClassClass#query>dataClass.query()</a> 等。</li>
<li>リレーション属性をもとに生成され、<a href=/docs/ja/20/API/EntityClass#attributename>entity.<em>attributeName</em></a> (例: "company.employees") の <em>attributeName</em> が 1対Nリレーション属性で、かつ entity 自身がエンティティセレクションに属していない場合。</li>
<li><code>ck shared</code> オプションを指定したうえで、<a href=/docs/ja/20/API/EntitySelectionClass#copy><code>entitySelection.copy()</code></a> または <code>OB Copy</code> を使用し、明示的に共有可能としてコピーされた場合。</li>
</ul>
<p>例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$myComp:=ds.Company.get(2) // $myComp はエンティティセレクションに属していません</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employees:=$myComp.employees // $employees は共有可能です</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>新規のエンティティセレクションは次の場合に <strong>追加可能</strong> です:</p>
<ul>
<li><a href=/docs/ja/20/API/DataClassClass#newselection><code>dataClass.newSelection()</code></a> 関数または <code>Create entity selection</code> コマンドを使用して新規作成された空のエンティティセレクションの場合。</li>
<li><code>ck shared</code> オプションを指定せずに、<a href=/docs/ja/20/API/EntitySelectionClass#copy><code>entitySelection.copy()</code></a> または <code>OB Copy</code> を使用し、明示的に追加可能としてコピーされた場合。</li>
</ul>
<p>例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$toModify:=ds.Company.all().copy() // $toModify は追加可能です</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>新規のエンティティセレクションは次の場合に、元となるエンティティセレクションの特性を <strong>継承</strong> します:</p>
<ul>
<li>既存のエンティティセレクションに対して呼び出された ORDAクラス関数 (<a href=/docs/ja/20/API/EntitySelectionClass#query>.query()</a>, <a href=/docs/ja/20/API/EntitySelectionClass#slice>.slice()</a>, 等) によって生成された場合 。</li>
<li>リレーションに基づいて生成された場合:
<ul>
<li><a href=/docs/ja/20/API/EntityClass#attributename>entity.<em>attributeName</em></a> (例: "company.employees") の <em>attributeName</em> が 1対Nリレーション属性で、かつ entity 自身がエンティティセレクションに属している場合 (<a href=/docs/ja/20/API/EntityClass#getselection>entity.getSelection()</a> エンティティセレクションと同じ特性になります)。</li>
<li><a href=/docs/ja/20/API/EntitySelectionClass#attributename>entitySelection.<em>attributeName</em></a> (例: "employees.employer") の <em>attributeName</em> がリレーション属性の場合 (エンティティセレクションと同じ特性になります)。</li>
<li><a href=/docs/ja/20/API/EntitySelectionClass#extract>entitySelection.extract()</a> から返されるコレクションがエンティティセレクションを含む場合 (エンティティセレクションと同じ特性になります)。</li>
</ul>
</li>
</ul>
<p>例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$highSal:=ds.Employee.query("salary >= :1"; 1000000)   </span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // データクラスに対するクエリによって生成されたため $highSal は共有可能です</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$comp:=$highSal.employer // $highSal が共有可能なため $comp も共有可能です</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$lowSal:=ds.Employee.query("salary &lt;= :1"; 10000).copy() </span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // オプション無しの copy( ) によって生成されたため $lowSal は追加可能です</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$comp2:=$lowSal.employer // $lowSal が追加可能なため $comp2 も追加可能です</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>サーバーから返されるエンティティセレクション</div><div class=admonitionContent_BuS1><p>クライアント/サーバーのアーキテクチャーにおいては、サーバー上で <a href=/docs/ja/20/API/EntitySelectionClass#copy><code>copy()</code></a> が呼び出されたとしても、サーバーから返されるエンティティセレクションは、クライアント上では常に共有可能です。 このエンティティセレクションをクライアント側で追加可能にするには、クライアント側で <a href=/docs/ja/20/API/EntitySelectionClass#copy><code>copy()</code></a> を実行する必要があります。 例:<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">    // 関数は常にサーバー上で実行されます</span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getSome() : cs.MembersSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return This.query("ID >= :1"; 15).orderBy("ID ASC")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // クライアント側で実行されるメソッド</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $result : cs.MembersSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $alterable : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$result:=ds.Members.getSome() // $result は共有可能</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$alterable:=$result.isAlterable() // False</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$result:=ds.Members.getSome().copy() // $result が追加可能になります</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$alterable:=$result.isAlterable() // True</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=プロセス間のエンティティセレクションの共有-例題>プロセス間のエンティティセレクションの共有 (例題)<a href=#プロセス間のエンティティセレクションの共有-例題 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>二つのエンティティセレクションを使用し、それらをワーカープロセスに渡して適切な相手にメールを送信したい場合を考えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $paid; $unpaid : cs.InvoicesSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// 支払済および未払いの請求書のエンティティセレクションをそれぞれ取得します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$paid:=ds.Invoices.query("status=:1"; "支払済")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$unpaid:=ds.Invoices.query("status=:1"; "未払い")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// これらのエンティティセレクションの参照をワーカーに引数として渡します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">CALL WORKER("mailing"; "sendMails"; $paid; $unpaid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><code>sendMails</code> メソッドのコードです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> #DECLARE ($paid : cs.InvoicesSelection; $unpaid : cs.InvoicesSelection)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $invoice : cs.InvoicesEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $server; $transporter; $email; $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // メールの準備</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $server:=New object()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $server.host:="exchange.company.com"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $server.user:="myName@company.com"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $server.password:="my!!password"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $transporter:=SMTP New transporter($server)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $email:=New object()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $email.from:="myName@company.com"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // エンティティセレクションをループします</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For each($invoice;$paid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $email.to:=$invoice.customer.address // 顧客のメールアドレス</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $email.subject:="請求書 # "+String($invoice.number) + "のお支払いを確認いたしました。"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $status:=$transporter.send($email)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For each($invoice;$unpaid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $email.to:=$invoice.customer.address // 顧客のメールアドレス</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $email.subject:="請求書 # "+String($invoice.number) + "のお支払いが確認できていません。"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $status:=$transporter.send($email)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for each</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=エンティティセレクションとストレージ属性>エンティティセレクションとストレージ属性<a href=#エンティティセレクシ��ョンとストレージ属性 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>すべてのストレージ属性 (テキスト、数値、ブール、日付) はエンティティセレクションの、あるいはエンティティのプロパティとして利用可能です。 エンティティセレクションと組み合わせて使用した場合、スカラー属性はスカラー値のコレクションを返します。 例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $locals:=ds.Person.query("city = :1";"San Jose") // 個人のエンティティセレクション</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $localEmails:=$locals.emailAddress // メールアドレス (文字列) のコレクション</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>このコードは <em>$localEmails</em> 内に文字列としてのメールアドレスのコレクションを返します。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=エンティティセレクションとリレーション属性>エンティティセレクションとリレーション属性<a href=#エンティティセレクションとリレーション属性 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>様々なクエリの方法に加えて、リレーション属性をエンティティセレクションのプロパティとして使用することで新しいエンティティセレクションを得ることもできます。 たとえば、以下のようなストラクチャーの場合を考えます:</p>
<p><img decoding=async loading=lazy src=/docs/ja/assets/images/entitySelectionRelationAttributes-35159adee7802470815edd4f9b6f8043.png width=1017 height=794 class=img_ev3q></p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $myParts:=ds.Part.query("ID &lt; 100") // ID が 100未満のパーツを返します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $myInvoices:=$myParts.invoiceItems.invoice</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $myParts 内のパーツにリレートされている請求項目を1行以上含んでいるすべての請求書</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>最後の行は、$myParts エンティティセレクション内のパーツにリレートされている請求項目が少なくとも1行含まれているすべての請求書のエンティティセレクションを、$myInvoices 内に返します。 エンティティセレクションのプロパティとしてリレーション属性が使用されると、返される結果は、たとえ返されるエンティティが一つだけだとしても、常に新しいエンティティセレクションとなります。 エンティティセレクションのプロパティとしてリレーション属性が使用された結果、エンティティが何も返ってこない場合には、返されるのは空のエンティティセレクションであり、null ではありません。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=エンティティロッキング>エンティティロッキング<a href=#エンティティロッキング class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p>一般的に、複数のユーザーあるいはプロセスが同じエンティティを同時に読み込んで変更しようとした際にコンフリクトが発生する可能性を管理する必要があります。 レコードロックは、リレーショナルデータベースにおいてデータに矛盾した更新がなされないようにするための手段です。 読み込み時にレコードをロックして他のプロセスが更新できないようにする、あるいは逆に保存時に読み込んでからの間に他のプロセスがレコードを変更していないかどうかを検証する、というのが基本的な概念です。 前者は <strong>ペシミスティック・レコードロック</strong> と呼ばれ、他のユーザーに対してレコードをロックすることで、変更したいレコードを書き込むことができるようにするものです。 後者は <strong>オプティミスティック・レコードロック</strong> と呼ばれ、レコードが更新される必要がある場合にのみ書き込み権限を与えるという柔軟性があります。 ペシミスティック・レコードロックでは、更新される必要がないときでもレコードはロックされたままです。 オプティミスティック・レコードロックではレコードの書き込みの可能/不可能は更新時に判断されます。</p>
<p>ORDA では、以下の二つのロックモードを提供しています:</p>
<ul>
<li>自動的な "オプティミスティック" モード。多くのアプリケーションに適しています。</li>
<li>"ペシミスティック" モード。エンティティをアクセスする前にロックすることができます。</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=自動オプティミスティックロック>自動オプティミスティック・ロック<a href=#自動オプティミスティックロック class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>この自動機構は、"オプティミスティック・ロック" に基づいたもので、これは Webアプリケーションの場合にとくに適しています。 この概念は以下のような動作原理に基づいています:</p>
<ul>
<li>すべてのエンティティは必ず読み書き可能な状態でロードされます。エンティティの <em>事前</em> ロックというのはありません。</li>
<li>各エンティティには保存されるたびにインクリメントされる内部的なロックスタンプを持っています。</li>
<li>プロセスあるいはユーザーが <code>entity.save( )</code> メソッドでエンティティを保存しようとした場合、4D は保存しようとしているエンティティのスタンプの値とデータ内にあるエンティティのスタンプの値を比較します (データ編集の場合):
<ul>
<li>値が合致している場合、エンティティは保存され、内部スタンプの値はインクリメントされます。</li>
<li>値が合致しない場合、読み込みから保存までの間に他のユーザーがエンティティを編集したことになります。 保存は実行されず、エラーが返されます。</li>
</ul>
</li>
</ul>
<p>オプティミスティック・ロックの動作は以下ように図解することができます:</p>
<ol>
<li>
<p>二つのプロセスが同じエンティティを読み込んだとします。<br><br><img decoding=async loading=lazy src=/docs/ja/assets/images/optimisticLock1-606b1a3c9d45343ad61a01a7408d3aaa.png width=1091 height=129 class=img_ev3q></p>
</li>
<li>
<p>最初のプロセスがエンティティを編集し、それを保存しようとします。 すると <code>entity.save( )</code> メソッドが呼び出されます。 4Dエンジンは、編集されたエンティティの内部スタンプ値とデータに保存されているエンティティの内部スタンプ値を自動的に比較します。 これは合致しますので、エンティティは保存され、その内部スタンプ値はインクリメントされます。<br><br><img decoding=async loading=lazy src=/docs/ja/assets/images/optimisticLock2-e4e8304d95a180afb1c4db732c479b86.png width=1121 height=161 class=img_ev3q></p>
</li>
<li>
<p>二つ目のプロセスも読み込んだエンティティを編集し、それを保存しようとします。 すると <code>entity.save( )</code> メソッドが呼び出されます。 編集されたエンティティの内部スタンプ値はデータに保存されているエンティティの内部スタンプ値と合致しないので、保存は実行されず、エラーが返されます。<br><br><img decoding=async loading=lazy src=/docs/ja/assets/images/optimisticLock3-b5ae5eb17f621123a3753d2efea74aea.png width=1084 height=171 class=img_ev3q></p>
</li>
</ol>
<p>この流れは以下のコードのように分解することもできます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $person1:=ds.Person.get(1) // エンティティを参照</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $person2:=ds.Person.get(1) // 同じエンティティへの別の参照</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $person1.name:="Bill"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$person1.save() // $result.success=true, 変更は保存されます</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $person2.name:="William"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$person2.save() // $result.success=false, 変更は保存されません</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>この例では、$person1 に Person の、キーが 1 のエンティティを代入します。 次に、同じエンティティの別の参照を変数 $person2 に代入します。 $person1 を用いて、人物の名前を変更してエンティティを保存します。 同じことを $person2 を使用して実行しようとすると、4D はディスク上のエンティティをチェックし、変数 $person2 に代入されたものと同じかどうかを調べます。 結果としてこれは同じものでは無いので、success プロパティには false が返され、二つ目の変更は保存されません。</p>
<p>こういった状況が発生した場合には、たとえば <code>entity.reload()</code> メソッドを使用してディスクからエンティティを再読込し、変更をもう一度おこなうことができます。 また <code>entity.save()</code> メソッドは、異なるプロセスがそれぞれ異なる属性を変更していた場合には保存を実行する "automerge" オプションも提供しています。</p>
<blockquote>
<p><strong>トランザクション</strong> 内においては、特定レコードのコピーがコンタキスト内に一つしか存在しないため、レコードスタンプは使用されません。 レコードを参照するエンティティが複数あっても、同じコピーが検収されるため <code>entity.save()</code> による処理がスタンプエラーを生成することはありません。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ペシミスティックロック>ペシミスティック・ロック<a href=#ペシミスティックロック class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>エンティティは、データアクセス時に任意にロックおよびアンロックすることができます。 エンティティがプロセスからロックされている場合、そのエンティティはプロセスに読み書き可能モードで読み込まれていますが、他のすべてのプロセスに対してロックされています。 ロックされたエンティティは、他のプロセスからは読み込みモードでのみ読み込むことができます。つまり、その値を編集・保存することはできません。</p>
<p>この機能は <code>Entity</code> クラスの 2つの関数に基づいています:</p>
<ul>
<li><a href=/docs/ja/20/API/EntityClass#lock><code>entity.lock()</code></a></li>
<li><a href=/docs/ja/20/API/EntityClass#unlock><code>entity.unlock()</code></a></li>
</ul>
<p>詳細な情報については、これらの関数の説明を参照してください。</p>
<blockquote>
<p>ペシミスティック・ロックは <a href=/docs/ja/20/REST/lock>REST API</a> によって扱うことも可能です。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=4dクラシックロックとordaのペシミスティックロックの組み合わせ>4Dクラシック・ロックとORDAのペシミスティック・ロックの組み合わせ<a href=#4dクラシックロックとordaのペシミスティックロックの組み合わせ class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>クラシックコマンドと ORDA コマンドの両方を使用してレコードをロックする場合、以下の原則に注意する必要があります:</p>
<ul>
<li>クラシック4Dコマンドを使用してレコードをロックした場合、そのレコードに相当するエンティティを ORDA でロックすることはできません。</li>
<li>ORDA を使用してエンティティをロックした場合、そのエンティティに相当するレコードをクラシック4Dコマンドでロックすることはできません。</li>
</ul>
<p>これらの原理は以下のような図に表すことができます:</p>
<p><img decoding=async loading=lazy src=/docs/ja/assets/images/concurrent1-49c9a9a80e0fcc2837f48c20d0f67141.png width=517 height=571 class=img_ev3q></p>
<p><strong>トランザクションロック</strong> はクラシックコマンドと ORDAコマンドの両方に適用されます。 マルチプロセスあるいはマルチユーザーアプリケーションにおいては、トランザクション内でクラシックコマンドを使用してレコードをロックした場合、そのトランザクションが OK あるいはキャンセルされるまで、他のプロセスからそのレコードに相当するエンティティをロックすることはできません (逆もまた然りです)。</p>
<ul>
<li>クラシックコマンドを使用してロックした場合:<br><br><img decoding=async loading=lazy src=/docs/ja/assets/images/concurrent2-ce7d69ba154b5bbe035dab3d89d4fa60.png width=774 height=501 class=img_ev3q></li>
<li>ORDA関数を使用してロックした場合:<br><br><img decoding=async loading=lazy src=/docs/ja/assets/images/concurrent3-9cfb07d9bdbbaf3a102733cf620426eb.png width=763 height=427 class=img_ev3q></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20ORDA%2Fentities.md%20(20)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>このページへコメントする</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label=ドキュメントのナビゲーション><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/ja/20/ORDA/ordaClasses><div class=pagination-nav__sublabel>前へ</div><div class=pagination-nav__label>データモデルクラス</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/ja/20/ORDA/datastores><div class=pagination-nav__sublabel>次へ</div><div class=pagination-nav__label>リモートデータストアの利用</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#エンティティの作成 class="table-of-contents__link toc-highlight">エンティティの作成</a><li><a href=#エンティティと参照 class="table-of-contents__link toc-highlight">エンティティと参照</a><li><a href=#エンティティ属性の使用 class="table-of-contents__link toc-highlight">エンティティ属性の使用</a><li><a href=#リレーション属性への値の代入 class="table-of-contents__link toc-highlight">リレーション属性への値の代入</a><li><a href=#エンティティセレクションの作成 class="table-of-contents__link toc-highlight">エンティティセレクションの作成</a><ul><li><a href=#共有可能追加可能なエンティティセレクション class="table-of-contents__link toc-highlight">共有可能/追加可能なエンティティセレクション</a><li><a href=#エンティティセレクションとストレージ属性 class="table-of-contents__link toc-highlight">エンティティセレクションとストレージ属性</a><li><a href=#エンティテ��ィセレクションとリレーション属性 class="table-of-contents__link toc-highlight">エンティティセレクションとリレーション属性</a></ul><li><a href=#エンティティロッキング class="table-of-contents__link toc-highlight">エンティティロッキング</a><ul><li><a href=#自動オプティミスティックロック class="table-of-contents__link toc-highlight">自動オプティミスティック・ロック</a><li><a href=#ペシミスティックロック class="table-of-contents__link toc-highlight">ペシミスティック・ロック</a><li><a href=#4dクラシックロックとordaのペシミスティックロックの組み合わせ class="table-of-contents__link toc-highlight">4Dクラシック・ロックとORDAのペシミスティック・ロックの組み合わせ</a></ul></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>コミュニティ</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="col footer__col"><div class=footer__title>サポート</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Documentation download<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (旧ドキュメント)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>ナレッジベース</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>ダウンロード</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>サポートを受ける</a></ul></div><div class="col footer__col"><div class=footer__title>会社概要</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>4D社について</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>コンタクト</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>世界中の4D</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2025 4D SAS - All rights reserved</div></div></div></footer></div>