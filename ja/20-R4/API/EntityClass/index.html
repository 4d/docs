<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-20-R4 docs-doc-page docs-doc-id-API/EntityClass" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Entity | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://4d.github.io/docs/ja/20-R4/API/EntityClass"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="20-R4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-20-R4"><meta data-rh="true" name="docsearch:version" content="20-R4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-20-R4"><meta data-rh="true" property="og:title" content="Entity | 4D Docs"><meta data-rh="true" name="description" content="レコードとテーブルの関係と同様に、エンティティ は データクラス のインスタンスです。 エンティティはデータクラスと同じ属性を持つほか、データ値や、特有のプロパティおよび関数を持ちます。"><meta data-rh="true" property="og:description" content="レコードとテーブルの関係と同様に、エンティティ は データクラス のインスタンスです。 エンティティはデータクラスと同じ属性を持つほか、データ値や、特有のプロパティおよび関数を持ちます。"><link data-rh="true" rel="icon" href="/docs/ja/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://4d.github.io/docs/ja/20-R4/API/EntityClass"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/20-R4/API/EntityClass" hreflang="en"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/fr/20-R4/API/EntityClass" hreflang="fr"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/es/20-R4/API/EntityClass" hreflang="es"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/ja/20-R4/API/EntityClass" hreflang="ja"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/pt/20-R4/API/EntityClass" hreflang="pt"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/20-R4/API/EntityClass" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/ja/opensearch.xml"><link rel="stylesheet" href="/docs/ja/assets/css/styles.dc9a4272.css">
<script src="/docs/ja/assets/js/runtime~main.5a3f0f36.js" defer="defer"></script>
<script src="/docs/ja/assets/js/main.023b581a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ナビゲーションバーの切り替え" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/ja/"><div class="navbar__logo"><img src="/docs/ja/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/ja/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D ドキュメンテーション</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/ja/20-R4/GettingStarted/installation">20 R4</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/ja/API/EntityClass">20 R5</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/ja/20-R4/API/EntityClass">20 R4</a></li><li><a class="dropdown__link" href="/docs/ja/20/API/EntityClass">20</a></li><li><a class="dropdown__link" href="/docs/ja/19/API/EntityClass">19</a></li><li><a class="dropdown__link" href="/docs/ja/18/GettingStarted/installation">18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/ja/20-R4/API/EntityClass"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>日本語</a><ul class="dropdown__menu"><li><a href="/docs/20-R4/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/20-R4/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/es/20-R4/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/20-R4/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja">日本語</a></li><li><a href="/docs/pt/20-R4/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードとライトモードを切り替える (現在は ライトモード)" aria-label="ダークモードとライトモードを切り替える (現在は ライトモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="検索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">検索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="トップに戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/docs/ja/"><img src="/docs/ja/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/ja/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D ドキュメンテーション</b></a><nav aria-label="Docsサ イドバー" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/ja/20-R4/category/getting-started">はじめに</a><button aria-label="&#x27;はじめに&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/ja/20-R4/category/core-development">コア開発</a><button aria-label="&#x27;コア開発&#x27;の目次を隠す" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/ja/20-R4/Project/overview">プロジェクト管理</a><button aria-label="&#x27;プロジェクト管理&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/ja/20-R4/Project/code-overview">開発環境</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/ja/20-R4/ORDA/overview">ORDA</a><button aria-label="&#x27;ORDA&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/ja/20-R4/Concepts/about">ランゲージ</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/ja/20-R4/Concepts/about">コンセプト</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a href="https://doc.4d.com/4Dv20R4/4D/20-R4/4D-Language-Reference.100-6655756.en.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">コマンド<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/ja/20-R4/category/class-API-reference">クラス</a><button aria-label="&#x27;クラス&#x27;の目次を隠す" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/overview">クラス関数について</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/BlobClass">Blob</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/ClassClass">Class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/CollectionClass">Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/CryptoKeyClass">CryptoKey</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/DataClassClass">DataClass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/DataStoreClass">DataStore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/EmailObjectClass">Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/ja/20-R4/API/EntityClass">Entity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/EntitySelectionClass">EntitySelection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/FileClass">File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/FileHandleClass">FileHandle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/FolderClass">Folder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/FunctionClass">Function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/HTTPRequestClass">HTTPRequest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/IMAPTransporterClass">IMAPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/MailAttachmentClass">MailAttachment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/POP3TransporterClass">POP3Transporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/SessionClass">Session</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/SignalClass">Signal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/SMTPTransporterClass">SMTPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/SystemWorkerClass">SystemWorker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/WebFormClass">WebForm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/WebFormItemClass">WebFormItem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/WebServerClass">WebServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/WebSocketClass">WebSocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/WebSocketConnectionClass">WebSocketConnection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/WebSocketServerClass">WebSocketServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/ZipArchiveClass">ZIPArchive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/ZipFileClass">ZIPFile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/API/ZipFolderClass">ZIPFolder</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/ja/20-R4/Develop/processes">プロセス</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/20-R4/Tags/transformation-tags">変換タグ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/ja/20-R4/Preferences/overview">環境設定</a><button aria-label="&#x27;環境設定&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/ja/20-R4/category/administration">管理</a><button aria-label="&#x27;管理&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/ja/20-R4/Extensions/overview">拡張機能</a><button aria-label="&#x27;拡張機能&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/ja/20-R4/category/web-applications">Web アプリ</a><button aria-label="&#x27;Web アプリ&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/ja/20-R4/category/desktop-applications">デスクトップアプリ</a><button aria-label="&#x27;デスクトップアプリ&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developer.4d.com/go-mobile/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">モバイルアプリ</a></div></li></ul></nav><button type="button" title="サイドバーを隠す" aria-label="サイドバーを隠す" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリスト"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/docs/ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/ja/20-R4/category/core-development"><span itemprop="name">コア開発</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ランゲージ</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/ja/20-R4/category/class-API-reference"><span itemprop="name">クラス</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Entity</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">バージョン: 20 R4</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページ上で</button></div><div class="theme-doc-markdown markdown"><header><h1>Entity</h1></header><p>レコードとテーブルの関係と同様に、<a href="/docs/ja/20-R4/ORDA/dsmapping#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3">エンティティ</a> は <a href="/docs/ja/20-R4/ORDA/dsmapping#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%AF%E3%83%A9%E3%82%B9">データクラス</a> のインスタンスです。 エンティティはデータクラスと同じ属性を持つほか、データ値や、特有のプロパティおよび関数を 持ちます。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="概要">概要<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#概要">​</a></h3>













































































<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="/docs/ja/20-R4/API/EntityClass#attributename"><em><strong>.attributeName</strong></em> : any</a>    エンティティの属性値を格納します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#clone"><strong>.clone()</strong> : 4D.Entity</a>    対象エンティティと同じレコードを参照する新規エンティティをメモリ内に作成します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#diff"><strong>.diff</strong>( <em>entityToCompare</em> : 4D.Entity { ; <em>attributesToCompare</em> : Collection } ) : Collection</a>    2つのエンティティの中身を比較し、その差異を返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#drop"><strong>.drop</strong>( {<em>mode</em> : Integer} ) : Object</a>    データストアからエンティティに格納されているデータを削除します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#first"><strong>.first()</strong>: 4D.Entity</a>    対象エンティティが所属するエンティティセレクションの先頭エンティティへの参照を返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#fromobject"><strong>.fromObject</strong>( <em>filler</em> : Object )</a>    <em>filler</em> に指定した内容でエンティティの属性値を設定します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#getdataclass"><strong>.getDataClass()</strong> : 4D.DataClass</a>    エンティティのデータクラスを返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#getkey"><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Text<br><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Integer</a>    エンティティのプライマリーキー値を返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#getremotecontextattributes"><strong>.getRemoteContextAttributes()</strong> : Text</a>    エンティティによって使われている最適化コンテキストの情報を返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#getselection"><strong>.getSelection()</strong>: 4D.EntitySelection</a>    エンティティが所属するエンティティセレクションを返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#getstamp"><strong>.getStamp()</strong> : Integer</a>     エンティティのスタンプの値を返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#indexof"><strong>.indexOf</strong>( { <em>entitySelection</em> : 4D.EntitySelection } ) : Integer</a>    エンティティセレクション内におけるエンティティの位置を返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#isnew"><strong>.isNew()</strong> : Boolean</a>     対象エンティティが作成されたばかりで、まだデータストアに保存されていない場合に true を返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#last"><strong>.last()</strong> : 4D.Entity</a>    対象エンティティが所属するエンティティセレクションの最終エンティティへの参照を返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#lock"><strong>.lock</strong>( { <em>mode</em> : Integer } ) : Object</a>    対象エンティティが参照するレコードにペシミスティック・ロックをかけます</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#next"><strong>.next()</strong> : 4D.Entity</a>    エンティティが所属するエンティティセレクションの次のエンティティへの参照を返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#previous"><strong>.previous()</strong>  : 4D.Entity</a>     エンティティが所属するエンティティセレクションの前のエンティティへの参照を返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#reload"><strong>.reload()</strong> : Object</a>    エンティティの中身をメモリ内にリロードします</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#save"><strong>.save</strong>( { <em>mode</em> : Integer } ) : Object</a>    エンティティの変更内容を保存します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#toobject"><strong>.toObject</strong>() : Object<br><strong>.toObject</strong>( <em>filterString</em> : Text { ; <em>options</em> : Integer}  ) : Object<br><strong>.toObject</strong>( <em>filterCol</em> : Collection { ; <em>options</em> : Integer } ) : Object</a>    エンティティからビルドされたオブジェクトを返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#touched"><strong>.touched()</strong> : Boolean</a>    エンティティがメモリに読み込まれてから、あるいは保存されてから、エンティティ属性が変更されたかどうかをテストします</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#touchedattributes"><strong>.touchedAttributes()</strong> : Collection</a>    メモリに読み込み後に変更されたエンティティの属性名を返します</td></tr><tr><td><a href="/docs/ja/20-R4/API/EntityClass#unlock"><strong>.unlock()</strong> : Object</a>    対象エンティティが参照するレコードのペシミスティック・ロックを解除します</td></tr></tbody></table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="attributeName">.<em>attributeName</em><a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#attributeName">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><em><strong>.attributeName</strong></em> : any</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明">​</a></h4>
<p>データクラス属性はすべて、エンティティのプロパティとして利用可能です。各エンティティのプロパティは、当該 エンティティの属性値を格納します。</p>
<blockquote>
<p>データクラス属性は [ ] を使用したシンタックスを使用することでもアクセス可能です。</p>
</blockquote>
<p>この属性値タイプは属性の種類 (<a href="/docs/ja/20-R4/API/DataClassClass#attributename"></a>.kind; リレーションまたはストレージ) によります。</p>
<ul>
<li><em>attributeName</em> で指定した属性がストレージ型の場合: <code>.attributeName</code> は <em>attributeName</em> と同じ型の値を返します。</li>
<li><em>attributeName</em> で指定した属性がリレートエンティティ型の場合: <code>.attributeName</code> はリレートエンティティを返します。 リレートエンティティの値は、ドット記法でプロパティを繋げることでアクセス可能です。例: &quot;myEntity.employer.employees[0].lastname&quot;</li>
<li><em>attributeName</em> で指定した属性がリレートエンティティズ型の場合: <code>.attributeName</code> はリレートエンティティの新しいエンティティセレクションを返します。 重複しているエンティティは取り除かれます (返されるのは順列なしのエンティティセレクションです)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $myEntity : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $myEntity:=ds.Employee.new() // エンティティを新規作成します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $myEntity.name:=&quot;Dupont&quot; // &#x27;Dupont&#x27; を &#x27;name&#x27; 属性に代入します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $myEntity.firstname:=&quot;John&quot; // &#x27;John&#x27; を &#x27;firstname&#x27; 属性に代入します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $myEntity.save() // エンティティを保存します</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clone">.clone()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#clone">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.clone()</strong> : 4D.Entity</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>同レコードを参照する新しいエンティティ</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-1">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-1">​</a></h4>
<p><code>.clone()</code> 関数は、 対象エンティティと同じレコードを参照する新規エンティティをメモリ内に作成します。 このメソッドを使用するとエンティティを個別に更新することができます。</p>
<blockquote>
<p>エンティティに対して何らかの変更をおこなった場合、それらは <a href="/docs/ja/20-R4/API/EntityClass#save"><code>.save( )</code></a> 関数が実行されたときのみ、参照先のレコードに保存されるという点に注意してください。</p>
</blockquote>
<p>この関数は、すでにデータベースに保存されているエンティティに対してのみ使用可能です。 新規に作成されたエンティティ(<a href="/docs/ja/20-R4/API/EntityClass#isnew"><code>.isNew()</code></a> が <strong>true</strong> を返すもの) に対して呼び出すことはできません  。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-1">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp; $empCloned : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.get(672)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empCloned:=$emp.clone()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Smith&quot; // $emp に対する変更は $empCloned には適用されません</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="diff">.diff()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#diff">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.diff</strong>( <em>entityToCompare</em> : 4D.Entity { ; <em>attributesToCompare</em> : Collection } ) : Collection</p>





























<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>entityToCompare</td><td>4D.Entity</td><td style="text-align:center">-&gt;</td><td>対象エンティティと比較するエンティティ</td></tr><tr><td>attributesToCompare</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>比較する属性の名称</td></tr><tr><td>戻り値</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>エンティティ間の差異</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-2">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-2">​</a></h4>
<p><code>.diff()</code> 関数は、 2つのエンティティの中身を比較し、その差異を返します。</p>
<p><em>entityToCompare</em> には、オリジナルのエンティティと比較をするエンティティを渡します。</p>
<p><em>attributesToCompare</em> 引数で、比較する属性を指定することができます。 これを渡した場合、指定された属性に対してのみ比較がおこなわれます。 省略時には、エンティティ間の差異がすべて返されます。</p>
<p>エンティティの差異は、以下のプロパ  ティを持つオブジェクトのコレクションとして返されます:</p>

























<table><thead><tr><th>プロパティ名</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>attributeName</td><td>String</td><td>属性名</td></tr><tr><td>value</td><td>any - 属性の型による</td><td>オリジナルエンティティの属性値</td></tr><tr><td>otherValue</td><td>any - 属性の型による</td><td><em>entityToCompare</em> の属性値</td></tr></tbody></table>
<p>コレクションに含まれるのは異なる値を持っていた属性のみです。 差異が見つからない場合、<code>diff()</code> は空のコレクションを返します。</p>
<p>この関数は、種類 (<a href="/docs/ja/20-R4/API/DataClassClass#attributename">kind</a>) が <strong>storage</strong> あるいは <strong>relatedEntity</strong> であるプロパティに適用されます。 リレート先のエンティティそのものが変更された場合 (外部キーの変更)、リレーションの名称とそのプライマリーキー名が <em>attributeName</em> プロパティに返されます (リレーション名についての <em>value</em> および <em>otherValue</em> は空になります)。</p>
<p>比較するどちらかのエンティティが <strong>Null</strong> である場合、エラーが生成されます。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1-1">例題 1<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-1-1">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $diff1; $diff2 : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employee:=ds.Employee.query(&quot;ID=1001&quot;).first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $clone:=employee.clone()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employee.firstName:=&quot;MARIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employee.lastName:=&quot;SOPHIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employee.salary:=500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $diff1:=$clone.diff(employee) // すべての差異が返されます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $diff2:=$clone.diff(employee;New collection(&quot;firstName&quot;;&quot;lastName&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // firstName と lastName についての差異のみが返されます</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>$diff1:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Natasha&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;MARIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Locke&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;SOPHIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;salary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: 66600,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: 500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$diff2:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Natasha&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;MARIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Locke&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;SOPHIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-2">例題 2<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-2">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var vCompareResult1; vCompareResult2; vCompareResult3; $attributesToInspect : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult1:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult2:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult3:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $attributesToInspect:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e1:=ds.Employee.get(636)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e2:=ds.Employee.get(636)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e1.firstName:=$e1.firstName+&quot; update&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e1.lastName:=$e1.lastName+&quot; update&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $c:=ds.Company.get(117)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e1.employer:=$c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e2.salary:=100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $attributesToInspect.push(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $attributesToInspect.push(&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult1:=$e1.diff($e2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult2:=$e1.diff($e2;$attributesToInspect)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult3:=$e1.diff($e2;$e1.touchedAttributes())</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>vCompareResult1 (すべての差異が返されています):</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Karla update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Karla&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Marrero update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Marrero&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;salary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: 33500,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;employerID&quot;, // プライマリーキー名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: 117,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: 118</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;employer&quot;, // リレーション名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;[object Entity]&quot;,// Company のエンティティ 117</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;[object Entity]&quot;// Company のエンティティ 118</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>vCompareResult2 ($attributesToInspect についての差異のみ返されます)</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Karla update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Karla&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Marrero update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Marrero&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>vCompareResult3 ($e1 において更新された (touch された) 属性のみが返されます)</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Karla update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Karla&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Marrero update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Marrero&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;employerID&quot;, // プライマリーキー名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: 117,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: 118</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;employer&quot;, // リレーション名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;[object Entity]&quot;,// Company のエンティティ 117</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;[object Entity]&quot;// Company のエンティティ 118</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="drop">.drop()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#drop">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.drop</strong>( {<em>mode</em> : Integer} ) : Object</p>























<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk force drop if stamp changed</code>: スタンプが変更されていた場合でも強制的にドロップする</td></tr><tr><td>戻り値</td><td>Object</td><td style="text-align:center">&lt;-</td><td>ドロップの結果</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-3">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-3">​</a></h4>
<p><code>.drop()</code> 関数は、 データストアからエンティティに格納されているデータを削除します。データクラスに対応するテーブルからエンティティが削除される一方、 エンティティそのものはメモリ内に残るという点に注意してください。</p>
<p>マルチユーザー、あるいはマルチプロセスアプリケーションにおいて、<code>.drop()</code> 関数は <a href="/docs/ja/20-R4/ORDA/entities#entity-locking">&quot;オプティミスティック・ロック&quot;</a> 機構のもとで実行されます。これはレコードが保存されるたびに内部的なロックスタンプが自動的に増分していくという機構です。</p>
<p><em>mode</em> 引数を渡さなかった場合のデフォルトでは、同エンティティが他のプロセスまたはユーザーによって変更されていた場合 (つまり、スタンプが変更されていた場合) にエラーを返します (以下参照)。</p>
<p><em>mode</em> に <code>dk force drop if stamp changed</code> オプションを渡すと、スタンプが変更されていてもエンティティはドロップされます (プライマリーキーは変わらない場合)。</p>
<p><strong>戻り値</strong></p>
<p><code>.drop( )</code> によって返されるオブジェクトには以下のプロパティが格納されます:</p>























































































































<table><thead><tr><th>プロパティ</th><th></th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>success</td><td></td><td>boolean</td><td>ドロップが成功した場合には true、それ以外は false</td></tr><tr><td></td><td></td><td></td><td><em><strong>エラーの場合にのみ  利用可能:</strong></em></td></tr><tr><td>status(*)</td><td></td><td>number</td><td>エラーコード、以下参照</td></tr><tr><td>statusText(*)</td><td></td><td>text</td><td>エラーの詳細、以下参照</td></tr><tr><td></td><td></td><td></td><td><em><strong>ペシミスティック・ロックエラーの場合にのみ利用可能:</strong></em></td></tr><tr><td>lockKindText</td><td></td><td>text</td><td>&quot;Locked by record&quot;</td></tr><tr><td>lockInfo</td><td></td><td>object</td><td>ロック元についての情報</td></tr><tr><td></td><td>task_id</td><td>number</td><td>プロセスID</td></tr><tr><td></td><td>user_name</td><td>text</td><td>マシン上でのセッションユーザー名</td></tr><tr><td></td><td>user4d_alias</td><td>text</td><td><code>SET USER ALIAS</code> で設定されていればユーザーエイリアス。それ以外は 4Dディレクトリのユーザー名</td></tr><tr><td></td><td>host_name</td><td>text</td><td>マシン名</td></tr><tr><td></td><td>task_name</td><td>text</td><td>プロセス名</td></tr><tr><td></td><td>client_version</td><td>text</td><td></td></tr><tr><td></td><td></td><td></td><td><em><strong>深刻なエラーの場合にのみ利用可能 (深刻なエラーとは、プライマリーキーを重複させようとした、ディスクがいっぱいであった、などです):</strong></em></td></tr><tr><td>errors</td><td></td><td>Object の Collection</td><td></td></tr><tr><td></td><td>message</td><td>text</td><td>エラーメッセージ</td></tr><tr><td></td><td>component signature</td><td>text</td><td>内部コンポーネント署名 (例 &quot;dmbg&quot; はデータベースコンポーネントを表します)</td></tr><tr><td></td><td>errCode</td><td>number</td><td>エラーコード</td></tr></tbody></table>
<p>(*) エラー時には <em>Result</em> オブジェクトの <em>status</em> あるいは <em>statusText</em> プロパティに以下のいずれかの値が返されます:</p>



































<table><thead><tr><th>定数</th><th>値</th><th>説明</th></tr></thead><tbody><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>エンティティはもうデータ内に存在していません。 このエラーは以下のような場合に起きえます:<br><li>エンティティがドロップされている (スタンプが変更されていて、メモリ空間は解放されている)</li><li>エンティティがドロップされていて、他のプライマリーキー値を持つエンティティで置き換えられている (スタンプは変更されていて、新しいエンティティがメモリ空間を使用している)。 entity.drop( ) を使用するとき、このエラーは dk force drop if stamp changed オプションを使用した場合に返されることがあります。 entity.lock( ) を使用するとき、このエラーは dk reload drop if stamp changed オプションを使用した場合に返されることがあります。</li> <strong>割り当てられた statusText</strong>: &quot;Entity does not exist anymore&quot; (エンティティはもう存在しません)</td></tr><tr><td><code>dk status locked</code></td><td>3</td><td>エンティティはペシミスティック・ロックでロックされています。<br><strong>割り当てられた statusText</strong>: &quot;Already locked&quot; (既にロックされています)</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>深刻なエラーとは、低レベルのデータベースエラー (例: 重複キー)、ハードウェアエラーなどです。<br><strong>割り当てられた statusText</strong>: &quot;Other error&quot; (その他のエラー)</td></tr><tr><td><code>dk status stamp has changed</code></td><td>2</td><td>エンティティの内部的なスタンプ値がデータ内に保存されているエンティティのものと合致しません (オプティミスティック・ロック)。<br><li>entity.save( ) の場合: dk auto merge オプションが使用されていない場合に限りエラー</li><li>entity.drop( ) の場合: dk force drop if stamp changed オプションが使用されていない場合に限りエラー</li><li>entity.lock( ) の場合: dk reload if stamp changed オプションが使用されていない場合に限りエラー</li><li><strong>割り当てられた statusText</strong>: &quot;Stamp has changed&quot;</li></td></tr><tr><td><code>dk status wrong permission</code></td><td>1</td><td>現在の権限では、エンティティを削除することはできません。 <strong>割り当てられた statusText</strong>: &quot;Permission Error&quot; (権限エラー)</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1-2">例題 1<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-1-2">​</a></h4>
<p><code>dk force drop if stamp changed</code> オプションを使用しない例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.drop()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($employee.firstName+&quot; &quot;+$employee.lastName+&quot; をドロップしました。&quot;) // ドロップされたエンティティはメモリ内に残ります</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-2-1">例題 2<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-2-1">​</a></h4>
<p><code>dk force drop if stamp changed</code> オプションを使用する例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.drop(dk force drop if stamp changed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($employee.firstName+&quot; &quot;+$employee.lastName+&quot; をドロップしました。&quot;) // ドロップされたエンティティはメモリ内に残ります</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status entity does not exist anymore)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="first">.first()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#first">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.first()</strong>: 4D.Entity</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>エンティティセレクションの先頭エンティティへの参照 (見つからなければ null)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-4">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-4">​</a></h4>
<p><code>.first()</code> 関数は、 対象エンティティが所属するエンティティセレクションの先頭エンティティへの参照を返します。</p>
<p>対象エンティティが所属する既存エンティティセレクションが存在しない場合 (つまり <a href="/docs/ja/20-R4/API/EntityClass#getselection">entity.getSelection( )</a> が Null を返す場合)、関数は Null値を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-3">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-3">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee; $firstEmployee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) // このエンティティセレクションは 3件のエンティティを持ちます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $firstEmployee:=$employee.first() // $firstEmployee は、$employees エンティティセレクションの先頭エンティティです</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fromObject">.fromObject()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#fromObject">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.fromObject</strong>( <em>filler</em> : Object )</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>filler</td><td>Object</td><td style="text-align:center">-&gt;</td><td>エンティティの属性値を設定するオブジェクト</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-5">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-5">​</a></h4>
<p><code>.fromObject()</code> 関数は、 <em>filler</em> に指定した内容でエンティティの属性値を設定します。</p>
<blockquote>
<p>このコマンドは、元のエンティティを変更します。</p>
</blockquote>
<p>オブジェクトとエンティティ間のマッピングは属性名でおこなわれます:</p>
<ul>
<li>オブジェクトのプロパティがデータクラスに存在しない場合、それは無視されます。</li>
<li>データタイプは同じである必要があります。 オブジェクトとデータクラス間で型が合致しない場合、4D は可能であればデータを変換しようとし (<a href="/docs/ja/20-R4/Concepts/data-types#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%BF%E3%82%A4%E3%83%97%E3%81%AE%E5%A4%89%E6%8F%9B"><code>データタイプの変換</code></a>) 参照)、それ以外の場合にはその属性は更新されません。</li>
<li>プライマリーキーはそのまま、あるいは &quot;__KEY&quot; プロパティを (プライマリーキー値とともに) 使って指定することができます。 その値のエンティティがデータクラス内に存在しない場合には、<a href="/docs/ja/20-R4/API/EntityClass#save">.save()</a> が呼び出されたときに指定値を使ってエンティティが作成されます。 プライマリーキーを指定していない場合、エンティティは作成され、データベースのルールに基づいてプライマリーキー値が割り当てられます。 自動インクリメント機能はプライマリーキーが null の場合にのみ計算されます。</li>
</ul>
<p><em>filler</em> 引数のオブジェクトは、以下の条件のいずれかを満たしている場合にはリレートエンティティを扱うことができます:</p>
<ul>
<li><em>filler</em> が外部キーを格納している</li>
<li><em>filler</em> が、リレートエンティティ名と同じ名称のプロパティを格納しており、その値であるオブジェクトは &quot;__KEY&quot; という名称の単一のプロパティを格納している</li>
<li>リレートエンティティが存在しない場合、無視されます。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-4">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-4">​</a></h4>
<p>以下のような $o オブジェクトがある場合:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Mary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;Smith&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;salary&quot;: 36500,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;birthDate&quot;: &quot;1958-10-27T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;managerID&quot;: 411,// リレートエンティティを主キー属性値で指定します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employerID&quot;: 20 // リレートエンティティを主キー属性値で指定します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>以下のコードを実行すると、manager および employerというリレートエンティティを持つエンティティを作成します。</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $o : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs.EmpEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=ds.Emp.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.fromObject($o)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.save()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>また、オブジェクトとして提供されたリレートエンティティを使用することもできます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Marie&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;Lechat&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;salary&quot;: 68400,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;birthDate&quot;: &quot;1971-09-03T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: {// リレートエンティティをオブジェクトで指定します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: &quot;21&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;manager&quot;: {//  リレートエンティティをオブジェクトで指定します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: &quot;411&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getDataClass">.getDataClass()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#getDataClass">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17 R5</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.getDataClass()</strong> : 4D.DataClass</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>4D.DataClass</td><td style="text-align:center">&lt;-</td><td>エンティティが所属している DataClass オブジェクト</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-6">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-6">​</a></h4>
<p><code>.getDataClass()</code> 関数は、 エンティティのデータクラスを返します。 この関数は汎用的なコードを書くのに有用です。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-5">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-5">​</a></h4>
<p>以下の汎用的なコードは、あらゆるエンティティを複製します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  // duplicate_entity メソッド </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // duplicate_entity($entity) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE($entity : 4D.Entity)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entityNew : 4D.Entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entityNew:=$entity.getDataClass().new() // 親データクラスに新しいエンティティを作成します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entityNew.fromObject($entity.toObject()) // 全属性を取得します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entityNew[$entity.getDataClass().getInfo().primaryKey]:=Null // プライマリーキーをリセットします</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$entityNew.save() // 複製したエンティティを保存します</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getKey">.getKey()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#getKey">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Text<br><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Integer</p>





























<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk key as string</code>: プライマリーキーの型にかかわらず、プライマリーキーを文字列として返します</td></tr><tr><td>戻り値</td><td>Text</td><td style="text-align:center">&lt;-</td><td>エンティティのテキスト型プライマリーキーの値</td></tr><tr><td>戻り値</td><td>Integer</td><td style="text-align:center">&lt;-</td><td>エンティティの数値型プライマリーキーの値</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-7">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-7">​</a></h4>
<p><code>.getKey()</code> 関数は、 エンティティのプライマリーキー値を返します。</p>
<p>プライマリーキーは数値 (倍長整数) あるいは文字列です。 <em>mode</em> 引数として <code>dk key as string</code> オプションを渡すことで、実際のプライマリーキーの型に関係なく、返されるプライマリーキー値の型を文字列に &quot;強制&quot; することができます。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-6">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-6">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ALERT(&quot;プライマリーキー: &quot;+$employee.getKey(dk key as string))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getRemoteContextAttributes">.getRemoteContextAttributes()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#getRemoteContextAttributes">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>19R5</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.getRemoteContextAttributes()</strong> : Text</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th></th><th>説明</th></tr></thead><tbody><tr><td>result</td><td>Text</td><td>&lt;-</td><td>エンティティにリンクされたコンテキスト属性 (カンマ区切り)</td></tr></tbody></table>
<p>|</p>
<blockquote>
<p><strong>上級者向け:</strong> この機能は、特定の構成のため、ORDAのデフォルト機能をカスタマイズする必要がある開発者向けです。 ほとんどの場合、使用する必要はないでしょう。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-8">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-8">​</a></h4>
<p><code>.getRemoteContextAttributes()</code> 関数は、 エンティティによって使われている最適化コンテキストの情報を返します 。</p>
<p>エンティティについて <a href="/docs/ja/20-R4/ORDA/datastores#%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96">最適化コンテキスト</a> が存在しない場合、関数は空のテキストを返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-7">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-7">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $address : cs.AddressEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $p : cs.PersonsEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $contextA : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $info : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $text : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$contextA:=New object(&quot;context&quot;; &quot;contextA&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$address:=$ds.Address.get(1; $contextA)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$text:=&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For each ($p; $address.persons)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $text:=$p.firstname+&quot; &quot;+$p.lastname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End for each </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$info:=$address.getRemoteContextAttributes()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$info = &quot;persons,persons.lastname,persons.firstname&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="参照">参照<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#参照">​</a></h4>
<p><a href="/docs/ja/20-R4/API/EntitySelectionClass#getRemoteContextAttributes">EntitySelection.getRemoteContextAttributes()</a><br><a href="/docs/ja/20-R4/API/DataStoreClass#clearallremotecontexts">.clearAllRemoteContexts()</a><br><a href="/docs/ja/20-R4/API/DataStoreClass#getremotecontextinfo">.getRemoteContextInfo()</a><br><a href="/docs/ja/20-R4/API/DataStoreClass#getallremotecontexts">.getAllRemoteContexts()</a><br><a href="/docs/ja/20-R4/API/DataStoreClass#setremotecontextinfo">.setRemoteContextInfo()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getSelection">.getSelection()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#getSelection">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.getSelection()</strong>: 4D.EntitySelection</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>エンティティが所属するエンティティセレクション (見つからなければ null)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-9">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-9">​</a></h4>
<p><code>.getSelection()</code> 関数は、 エンティティが所属するエンティティセレクションを返します。</p>
<p>対象エンティティがエンティテ ィセレクションに所属していない場合、関数は Null値を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-8">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-8">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees; $employees2 : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.get(672) // エンティティセレクションに属していないエンティティです</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=$emp.getSelection() // $employees は Null です</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees2:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;) // このエンティティセレクションは 6件のエンティティを格納しています</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=$employees2[0]  // エンティティセレクションに所属しているエンティティです</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ALERT(&quot;エンティティセレクションには &quot;+String($emp.getSelection().length)+&quot; 件のエンティティが含まれています&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getStamp">.getStamp()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#getStamp">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.getStamp()</strong> : Integer</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>Integer</td><td style="text-align:center">&lt;-</td><td>エンティティのスタンプ (エンティティが作成されたばかりの場合には 0)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-10">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-10">​</a></h4>
<p><code>.getStamp()</code> 関数は、  エンティティのスタンプの値を返します。</p>
<p>内部スタンプは、エンティティが保存されるたびに 4D によって自動的にインクリメントされます。 これは同じエンティティに対する複数のユーザーの同時アクセス・編集を管理します。この機構の詳細については、<a href="/docs/ja/20-R4/ORDA/entities#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%83%AD%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0"><strong>エンティティロッキング</strong></a> を参照ください。</p>
<blockquote>
<p>(一度も保存されていない) 新規エンティティに対しては、このメソッドは 0 を返します。 しかしながら、エンティティがまだ作成されたばかりかどうかを調べるには、<a href="/docs/ja/20-R4/API/EntityClass#isnew">isNew()</a> の使用が推奨されます。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-9">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-9">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $stamp : Integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=ds.Employee.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.lastname:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $stamp:=$entity.getStamp() //$stamp=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.lastname:=&quot;Wesson&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $stamp:=$entity.getStamp() //$stamp=2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="indexOf">.indexOf()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#indexOf">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.indexOf</strong>( { <em>entitySelection</em> : 4D.EntitySelection } ) : Integer</p>























<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>entitySelection</td><td>4D.EntitySelection</td><td style="text-align:center">-&gt;</td><td>エンティティの位置を取得する対象のエンティティセレクション</td></tr><tr><td>戻り値</td><td>Integer</td><td style="text-align:center">&lt;-</td><td>エンティティセレクション内でのエンティティの位置</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-11">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-11">​</a></h4>
<p><code>.indexOf()</code> 関数は、 エンティティセレクション内におけるエンティティの位置を返します。</p>
<p><em>entitySelection</em> 引数が渡されなかった場合はデフォルトで、所属エンティティセレクション内でのエンティティの位置が返されます。 <em>entitySelection</em> 引数を渡した場合は、指定されたエンティティセレクション内でのエンティティの位置を返します。</p>
<p>戻り値は、0 と、エンティティセレクションの length より 1 を引いた値の範囲内の数値です。</p>
<ul>
<li>エンティティがエンティティセレクションを持たない場合、あるいは <em>entitySelection</em> 引数で指定したエンティティセレクションに含まれていない場合には、-1 が返されます。</li>
<li><em>entitySelection</em> 引数で指定したエンティティセレククションが Null である、あるいはエンティティと同じデータクラスのものでない場合には、エラーが生成されます。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-10">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-10">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) // このエンティティセレクションには 3件のエンティティが格納されています</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[1] // このエンティティはエンティティセレクションに所属しています</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ALERT(&quot;The index of the entity in its own entity selection is &quot;+String($employee.indexOf())) // 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(725) // エンティティセレクションに所属していないエンティティです</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ALERT(&quot;The index of the entity is &quot;+String($employee.indexOf())) // -1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="isNew">.isNew()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#isNew">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.isNew()</strong> : Boolean</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>Boolean</td><td style="text-align:center">&lt;-</td><td>エンティティが作成されたばかりで未保存の場合は true。 それ以外は false。</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-12">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-12">​</a></h4>
<p><code>.isNew()</code> 関数は、  対象エンティティが作成されたばかりで、まだデータストアに保存されていない場合に true を返します。 そうでない場合には、false を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-11">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-11">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($emp.isNew())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;新規エンティティです。&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="last">.last()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#last">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.last()</strong> : 4D.Entity</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>エンティティセレクションの最終エンティティへの参照 (見つからなければ null)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-13">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-13">​</a></h4>
<p><code>.last()</code> 関数は、 対象エンティティが所属するエンティティセレクションの最終エンティティへの参照を返します。</p>
<p>対象エンティティが所属する既存エンティティセレクションが存在しない場合 (つまり <a href="/docs/ja/20-R4/API/EntityClass#getselection">entity.getSelection( )</a> が Null を返す場合)、関数は Null値を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-12">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-12">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee; $lastEmployee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) // このエンティティセレクションは 3件のエンティティを持ちます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $lastEmployee:=$employee.last() // $lastEmployee は、$employees エンティティセレクションの最終エンティティです</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lock">.lock()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#lock">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.lock</strong>( { <em>mode</em> : Integer } ) : Object</p>























<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk reload if stamp changed</code>: スタンプが変更されてる場合はロック前にリロードします</td></tr><tr><td>戻り値</td><td>Object</td><td style="text-align:center">&lt;-</td><td>ロックの結果</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-14">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-14">​</a></h4>
<p><code>.lock()</code> 関数は、 対象エンティティが参照するレコードにペシミスティック・ロックをかけます。 <a href="/docs/ja/20-R4/ORDA/entities#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%83%AD%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0">ロック</a>はレコードと、カレントプロセス内の当該エンティティの参照すべてに対してかけられます。</p>
<p>他のプロセスからはこのレコードがロックされて見えます (この関数を使って同エンティティをロックしようとした場合、<code>result.success</code> プロパティには false が返されます)。 ロックをおこなったセッション内で実行される関数のみが、当該エンティティの属性を編集・保存できます。 他のセッションは同エンティティを読み取り専用にロードできますが、値の入力・保存はできません。</p>
<p><code>.lock()</code> でロックされたレコードは、以下の場合にロック解除されます:</p>
<ul>
<li>同プロセス内で合致するエンティティに対して <a href="/docs/ja/20-R4/API/EntityClass#unlock"><code>.unlock()</code></a> 関数が呼び出された場合</li>
<li>メモリ内のどのエンティティからも参照さ れなくなった場合、自動的にロックが解除されます。 たとえば、エンティティのローカル参照に対してのみロックがかかっていた場合、関数の実行が終了すればロックは解除されます。 メモリ内にエンティティへの参照がある限り、レコードはロックされたままです。</li>
</ul>
<blockquote>
<p>エンティティは <a href="/docs/ja/20-R4/REST/lock">RESTセッションによってロックされる</a> 場合もあります。</p>
</blockquote>
<p><em>mode</em> 引数を渡さなかった場合のデフォルトでは、同エンティティが他のプロセスまたはユーザーによって変更されていた場合 (つまり、スタンプが変更されていた場合) にエラーを返します (以下参照)。</p>
<p><em>mode</em> に <code>dk reload if stamp changed</code> オプションを渡すと、スタンプが変更されていてもエラーは返されず、エンティティは再読み込みされます (エンティティが引き続き存在し、プライマリーキーも変わらない場合)。</p>
<p><strong>戻り値</strong></p>
<p><code>.lock( )</code> によって返されるオブジェクトには以下のプロパティが格納されます:</p>







































































































































































<table><thead><tr><th>プロパティ</th><th></th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>success</td><td></td><td>boolean</td><td>ロックに成功した場合 (あるいはエンティティがすでにカレントプロセスでロックされていた場合) には true、それ以外は false</td></tr><tr><td></td><td></td><td></td><td><em><strong><code>dk reload if stamp changed</code> オプションが使用されていた場合にのみ利用可能:</strong></em></td></tr><tr><td><strong>wasReloaded</strong></td><td></td><td>boolean</td><td>エ ンティティがリロードされ、かつリロードに成功した場合には true、それ以外は false</td></tr><tr><td></td><td></td><td></td><td><em><strong>エラーの場合にのみ利用可能:</strong></em></td></tr><tr><td>status(*)</td><td></td><td>number</td><td>エラーコード、以下参照</td></tr><tr><td>statusText(*)</td><td></td><td>text</td><td>エラーの詳細、以下参照</td></tr><tr><td></td><td></td><td></td><td><em><strong>ペシミスティック・ロックエラーの場合にのみ利用可能:</strong></em></td></tr><tr><td>lockKindText</td><td></td><td>text</td><td>&quot;Locked by record&quot; 4Dプロセスによるロック、&quot;Locked by session&quot; RESTセッションによるロック</td></tr><tr><td>lockInfo</td><td></td><td>object</td><td>ロック元についての情報。 返されるプロパティはロック元 (4Dプロセスまたは RESTセッション) によって異なります。</td></tr><tr><td></td><td></td><td></td><td><em><strong>4Dプロセスによるロックの場合:</strong></em></td></tr><tr><td></td><td>task_id</td><td>number</td><td>プロセスID</td></tr><tr><td></td><td>user_name</td><td>text</td><td>マシン上でのセッションユーザー名</td></tr><tr><td></td><td>user4d_alias</td><td>text</td><td>4D ユーザーの名前またはエイリアス</td></tr><tr><td></td><td>user4d_id</td><td>number</td><td>4DデータベースディレクトリでのユーザーID</td></tr><tr><td></td><td>host_name</td><td>text</td><td>マシン名</td></tr><tr><td></td><td>task_name</td><td>text</td><td>プロセス名</td></tr><tr><td></td><td>client_version</td><td>text</td><td>クライアントのリリース</td></tr><tr><td></td><td></td><td></td><td><em><strong>RESTセッションによるロックの場合:</strong></em></td></tr><tr><td></td><td>host</td><td>text</td><td>エンティティをロックした URL (例: &quot;<a href="http://www.myserver.com" target="_blank" rel="noopener noreferrer">www.myserver.com</a>&quot;)</td></tr><tr><td></td><td>IPAddr</td><td>text</td><td>ロック元の IPアドレス (例: &quot;127.0.0.1&quot;)</td></tr><tr><td></td><td>userAgent</td><td>text</td><td>ロック元の userAgent (例: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36&quot;)</td></tr><tr><td></td><td></td><td></td><td><em><strong>深刻なエラーの場合にのみ利用可能</strong></em> (深刻なエラーとは、プライマリーキーを重複させようとした、ディスクがいっぱいであった、などです):</td></tr><tr><td>errors</td><td></td><td>Object の Collection</td><td></td></tr><tr><td></td><td>message</td><td>text</td><td>エラーメッセージ</td></tr><tr><td></td><td>component signature</td><td>text</td><td>内部コンポーネント署名 (例 &quot;dmbg&quot; はデータベースコンポーネントを表します)</td></tr><tr><td></td><td>errCode</td><td>number</td><td>エラーコード</td></tr></tbody></table>
<p>(*) エラー時には <em>Result</em> オブジェクトの <em>status</em> あるいは <em>statusText</em> プロパティに以下のいずれかの値が返されます:</p>






























<table><thead><tr><th>定数</th><th>値</th><th>説明</th></tr></thead><tbody><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>エンティティはもうデータ内に存在していません。 このエラーは以下のような場合に起きえます:<li>エンティティがドロップされている (スタンプが変更されていて、メモリ空間は解放されている)</li><li>エンティティがドロップされていて、他のプライマリーキー値を持つエンティティで置き換えられている (スタンプは変更されていて、新しいエンティティがメモリ空間を使用している)。 entity.drop( ) を使用するとき、このエラーは dk force drop if stamp changed オプションを使用した場合に返されることがあります。 entity.lock( ) を使用するとき、このエラーは dk reload drop if stamp changed オプションを使用した場合に返されることがあります。</li><br><strong>割り当てられた statusText</strong>: &quot;Entity does not exist anymore&quot; (エンティティはもう存在しません)</td></tr><tr><td><code>dk status locked</code></td><td>3</td><td>エンティティはペシミスティック・ロックでロックされています。<br><strong>割り当てられた statusText</strong>: &quot;既にロックされています&quot;</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>深刻なエラーとは、低レベルのデータベースエラー (例: 重複キー)、ハードウェアエラーなどです。<br><strong>割り当てられた statusText</strong>: &quot;その他のエラー&quot;</td></tr><tr><td><code>dk status stamp has changed</code></td><td>2</td><td>エンティティの内部的なスタンプ値がデータ内に保存されているエンティティのものと合致しません (オプティミスティック・ロック)。<li>entity.save( ) の場合: dk auto merge オプションが使用されていない場合に限りエラー</li><li>entity.drop( ) の場合: dk force drop if stamp changed オプションが使用されていない場合に限りエラー</li><li>entity.lock( ) の場合: dk reload if stamp changed オプションが使用されていない場合に限りエラー</li><br><strong>割り当てられた statusText</strong>: &quot;スタンプが変更されています&quot;</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1-3">例題 1<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-1-3">​</a></h4>
<p>エラーのある例題:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(716)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.lock()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($employee.firstName+&quot; &quot;+$employee.lastName+&quot;をロックしました&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-2-2">例題 2<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-2-2">​</a></h4>
<p><code>dk reload if stamp changed</code> オプションを使用する例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(717)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.lock(dk reload if stamp changed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($employee.firstName+&quot; &quot;+$employee.lastName+&quot; をロックしました&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status entity does not exist anymore)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="next">.next()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#next">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.next()</strong> : 4D.Entity</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>エンティティセレクション内の次のエンティティへの参照 (見つからなければ null)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-15">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-15">​</a></h4>
<p><code>.next()</code> 関数は、 エンティティが所属するエンティティセレクションの次のエンティティへの参照を返します。</p>
<p>対象エンティティが所属する既存エンティティセレクションが存在しない場合 (つまり <a href="/docs/ja/20-R4/API/EntityClass#getselection">entity.getSelection()</a> が Null を返す場合)、関数は Null値を返します。</p>
<p>エンティティセレクション内に有効な次のエンティティが存在しない場合 (セレクションの最終エンティティの場合)、関数は Null を返します。 次のエンティティがドロップされていた場合、関数はその次の有効なエンティティを返します (セレクションの最後に辿り着くと Null を返します)。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-13">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-13">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee; $nextEmployee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) // このエンティティセレクションは 3件のエンティティを持ちます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $nextEmployee:=$employee.next() // $nextEmployee は、$employees エンティティセレクションの 2番目のエンティティです</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="previous">.previous()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#previous">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.previous()</strong>  : 4D.Entity</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>エンティティセレクション内の前のエンティティへの参照 (見つからなければ null)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-16">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-16">​</a></h4>
<p><code>.previous()</code> 関数は、  エンティティが所属するエンティティセレクションの前のエ  ンティティへの参照を返します。</p>
<p>対象エンティティが所属する既存エンティティセレクションが存在しない場合 (つまり <a href="/docs/ja/20-R4/API/EntityClass#getselection">entity.getSelection()</a> が Null を返す場合)、関数は Null値を返します。</p>
<p>エンティティセレクション内に有効な前のエンティティが存在しない場合 (セレクションの先頭エンティティの場合)、関数は Null を返します。 前のエンティティがドロップされていた場合、関数はその前の有効なエンティティを返します (セレクションの先頭に辿り着くと Null を返します)。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-14">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-14">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee; $previousEmployee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) // このエンティティセレクションは 3件のエンティティを持ちます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $previousEmployee:=$employee.previous() // $previousEmployee は、$employees エンティティセレクションの先頭エンティティです</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reload">.reload()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#reload">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.reload()</strong> : Object</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>Object</td><td style="text-align:center">&lt;-</td><td>ステータスオブジェクト</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-17">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-17">​</a></h4>
<p><code>.reload()</code> 関数は、 エンティティの中身をメモリ内にリロードします。この時、リロード元となるのはデータストアのデータク ラスに対応するテーブルに保存されている情報です。 エンティティが同じプライマリーキーで存在している場合にのみリロードは実行されます。</p>
<p><strong>戻り値</strong></p>
<p><code>.reload( )</code> によって返されるオブジェクトには以下のプロパティが格納されます:</p>

























<table><thead><tr><th>プロパティ</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>success</td><td>boolean</td><td>リロードが成功した場合には true、それ以外は false。<br><em><strong>エラーの場合にのみ利用可能</strong></em>:</td></tr><tr><td>status(*)</td><td>number</td><td>エラーコード、以下参照</td></tr><tr><td>statusText(*)</td><td>text</td><td>エラーの詳細、以下参照</td></tr></tbody></table>
<p>(*) エラー時には <em>Result</em> オブジェクトの <em>status</em> あるいは <em>statusText</em> プロパティに以下のいずれかの値が返されます:</p>




















<table><thead><tr><th>定数</th><th>値</th><th>説明</th></tr></thead><tbody><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>エンティティはもうデータ内に存在していません。 このエラーは以下のような場合に起きえます:<br><li>エンティティがドロップされている (スタンプが変更されていて、メモリ空間は解放されている)</li><li>エンティティがドロップされていて、他のプライマリーキー値を持つエンティティで置き換えられている (スタンプは変更されていて、新しいエンティティがメモリ空間を使用している)。 entity.drop( ) を使用するとき、このエラーは dk force drop if stamp changed オプションを使用した場合に返されることがあります。 entity.lock( ) を使用するとき、このエラーは dk reload drop if stamp changed オプションを使用した場合に  返されることがあります。</li><br><em><strong>割り当てられた statusText</strong></em>: &quot;エンティティはもう存在しません&quot;</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>深刻なエラーとは、低レベルのデータベースエラー (例: 重複キー)、ハードウェアエラーなどです。<br><em><strong>割り当てられた statusText</strong></em>: &quot;その他のエラー&quot;</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-15">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-15">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $result : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Hollis&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.firstName:=&quot;Mary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$employee.reload()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($result.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;エンティティはリロードされました&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($result.status=dk status entity does not exist anymore)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;エンティティはドロップされています&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="save">.save()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#save">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.save</strong>( { <em>mode</em> : Integer } ) : Object</p>























<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk auto merge</code>: 自動マージモードを有効化します</td></tr><tr><td>戻り値</td><td>Object</td><td style="text-align:center">&lt;-</td><td>保存の結果</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-18">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-18">​</a></h4>
<p><code>.save()</code> 関数は、 エンティティの変更内容を保存します 。変更内容は、データクラスに対応するテーブル内に保存されます。 エンティティを作成したあと、あるいはエンティティに対して保存したい変更をおこなったあとにはこの関数を呼び出す必要があります。</p>
<p>保存処理は、少なくとも一つのエンティティ属性が &quot;touched&quot; である (更新されている) 場合にのみ実行されます (<a href="/docs/ja/20-R4/API/EntityClass#touched"><code>.touched()</code></a> および <a href="/docs/ja/20-R4/API/EntityClass#touchedattributes"><code>.touchedAttributes()</code></a> 関数参照)。 そうでない場合、関数は何もしません (トリガーは呼び出されません)。</p>
<p>マルチユーザー、あるいはマルチプロセスアプリケーションにおいて、<code>.save()</code> 関数は <a href="/docs/ja/20-R4/ORDA/entities#entity-locking">&quot;オプティミスティック・ロック&quot;</a> 機構のもとで実行されます。これはレコードが保存されるたびに内部的なロックスタンプが自動的に増分していくという機構です。</p>
<p><em>mode</em> 引数を渡さなかった場合のデフォルトでは、い  ずれの属性に関わらず同エンティティが他のプロセスまたはユーザーによって変更されていた場合にエラーを返します (以下参照)。</p>
<p><em>mode</em> に <code>dk auto merge</code> オプションを渡すと自動マージモードが有効化され、別のプロセス/ユーザーが同エンティティに対して同時に変更をおこなっていても、異なる属性に対する変更であればエラーは生成されません。 エンティティに保存されるデータは、別々の変更処理の組み合わせ (&quot;マージ (併合)&quot;) になります (同じ属性に対して変更がおこなわれた場合には、自動マージモードであっても保存は失敗し、エラーが返されます)。</p>
<blockquote>
<p>ピクチャー・オブジェクト・テキスト型属性で、レコードの外にデータを保存している場合には、自動マージモードは利用できません。 これらの属性に同時の変更があった場合には <code>dk status stamp has changed</code> エラーになります。</p>
</blockquote>
<p><strong>戻り値</strong></p>
<p><code>.save()</code> によって返されるオブジェクトには以下のプロパティが格納されます:</p>



































































































































<table><thead><tr><th>プロパティ</th><th></th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>success</td><td></td><td>boolean</td><td>保存に成功した場合には true、それ以外は false</td></tr><tr><td></td><td></td><td></td><td><em><strong><code>dk auto merge</code> オプションが使用されていた場合にのみ利用可能</strong></em>:</td></tr><tr><td>autoMerged</td><td></td><td>boolean</td><td>自動マージが実行された場合には true、それ以外は false</td></tr><tr><td></td><td></td><td></td><td><em><strong>エラーの場合にのみ利用可能</strong></em>:</td></tr><tr><td>status</td><td></td><td>number</td><td>エラーコード、<a href="/docs/ja/20-R4/API/EntityClass#status-%E3%81%A8-statustext">以下参照</a></td></tr><tr><td>statusText</td><td></td><td>text</td><td>エラーの詳細、<a href="/docs/ja/20-R4/API/EntityClass#status-%E3%81%A8-statustext">以下参照</a></td></tr><tr><td></td><td></td><td></td><td><em><strong>ペシミスティック・ロックエラーの場合にのみ利用可能</strong></em>:</td></tr><tr><td>lockKindText</td><td></td><td>text</td><td>&quot;Locked by record&quot;</td></tr><tr><td>lockInfo</td><td></td><td>object</td><td>ロック元についての情報</td></tr><tr><td></td><td>task_id</td><td>number</td><td>プロセスID</td></tr><tr><td></td><td>user_name</td><td>text</td><td>マシン上でのセッションユーザー名</td></tr><tr><td></td><td>user4d_alias</td><td>text</td><td><code>SET USER ALIAS</code> で設定されていればユーザーエイリアス。それ以外は 4Dディレクトリのユーザー名</td></tr><tr><td></td><td>host_name</td><td>text</td><td>マシン名</td></tr><tr><td></td><td>task_name</td><td>text</td><td>プロセス名</td></tr><tr><td></td><td>client_version</td><td>text</td><td></td></tr><tr><td></td><td></td><td></td><td><em><strong>深刻なエラーの場合にのみ利用可能</strong></em> (深刻なエラーとは、プライマリーキーを重複させようとした、ディスクがいっぱいであった、などです):</td></tr><tr><td>errors</td><td></td><td>Object の Collection</td><td></td></tr><tr><td></td><td>message</td><td>text</td><td>エラーメッセージ</td></tr><tr><td></td><td>componentSignature</td><td>text</td><td>内部コンポーネント署名 (例 &quot;dmbg&quot; はデータベースコンポーネントを表します)</td></tr><tr><td></td><td>errCode</td><td>number</td><td>エラーコード</td></tr></tbody></table>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="status-と-statusText">status と statusText<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#status-と-statusText">​</a></h5>
<p>エラー時には Result オブジェクトの <code>status</code> あるいは <code>statusText</code> プロパティに以下のいずれかの値が返されます:</p>








































<table><thead><tr><th>定数</th><th>値</th><th>説明</th></tr></thead><tbody><tr><td><code>dk status automerge failed</code></td><td>6</td><td>(<code>dk auto merge</code> オプションが使用されたときのみ) エンティティを保存するときに自動マージオプションが失敗しました。<br> <strong>割り当てられた statusText</strong>: &quot;自動マージ失敗&quot;</td></tr><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>エンティティはもうデータ内に存在していません。 このエラーは以下のような場合に起きえます:<br><li>エンティティがドロップされている (スタンプが変更されていて、メモリ空間は解放されている)</li><li>エンティティがドロップされていて、他のプライマリーキー値を持つエンティティで置き換えられている (スタンプは変更されていて、新しいエンティティがメモリ空間を使用している)。 entity.drop( ) を使用するとき、このエラーは dk force drop if stamp changed オプションを使用した場合に返されることがあります。 entity.lock( ) を使用するとき、このエラーは dk reload drop if stamp changed オプションを使用した場合に返されることがあります。</li><br><strong>割り当てられた statusText</strong>: &quot;エンティティはもう存在しません&quot;</td></tr><tr><td><code>dk status locked</code></td><td>3</td><td>エンティティはペシミスティック・ロックでロックされています。<br><strong>割り当てられた statusText</strong>: &quot;既にロックされています&quot;</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>深刻なエラーとは、低レベルのデータベースエラー (例: 重複キー)、ハードウェアエラーなどです。<br><strong>割り当てられた statusText</strong>: &quot;その他のエラー&quot;</td></tr><tr><td><code>dk status stamp has changed</code></td><td>2</td><td>エンティティの内部的なスタンプ値がデータ内に保存されているエンティティのものと合致しません (オプティミスティック・ロック)。<br><li>entity.save( ) の場合: dk auto merge オプションが使用されていない場合に限りエラー</li><li>entity.drop( ) の場合: dk force drop if stamp changed オプションが使用されていない場合に限りエラー</li><li>entity.lock( ) の場合: dk reload if stamp changed オプションが使用されていない場合に限りエラー</li><br><strong>割り当てられた statusText</strong>: &quot;スタンプが変更されています&quot;</td></tr><tr><td><code>dk status wrong permission</code></td><td>1</td><td>現在の権限では、エンティティを保存することはできません。 <strong>割り当てられた statusText</strong>: &quot;Permission Error&quot; (権限エラー)</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1-4">例題 1<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-1-4">​</a></h4>
<p>新しいエンティティを作成します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.firstName:=&quot;Mary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Employee が作成されました&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-2-3">例題 2<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-2-3">​</a></h4>
<p><code>dk auto merge</code> オプションを使わずにエンティティを更新します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.lastName:=&quot;Mac Arthur&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;Employee が更新されました&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-3-1">例題 3<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-3-1">​</a></h4>
<p><code>dk auto merge</code> オプションを使ってエンティティを更新します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.lastName:=&quot;Mac Arthur&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.save(dk auto merge)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;Employee を更新しました&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status automerge failed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="toObject">.toObject()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#toObject">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.toObject</strong>() : Object<br><strong>.toObject</strong>( <em>filterString</em> : Text { ; <em>options</em> : Integer}  ) : Object<br><strong>.toObject</strong>( <em>filterCol</em> : Collection { ; <em>options</em> : Integer } ) : Object</p>



































<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>filterString</td><td>Text</td><td style="text-align:center">-&gt;</td><td>取得する属性 (カンマ区切り)</td></tr><tr><td>filterCol</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>取得する属性のコレクション</td></tr><tr><td>options</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk with primary key</code>: __KEY プロパティを追加;<br><code>dk with stamp</code>: _STAMP プロパティを追加</td></tr><tr><td>戻り値</td><td>Object</td><td style="text-align:center">&lt;-</td><td>エンティティを元にビルドされたオブジェクト</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-19">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-19">​</a></h4>
<p><code>.toObject()</code> 関数は、 エンティティからビルドされたオブジェクトを返します。 オブジェクト内部のプロパティ名はエンティティの属性名と合致します。</p>
<p><em>filterString</em> 引数が空の文字列、あるいは &quot;*&quot; の場合、以下のいずれかが返されます:</p>
<ul>
<li>すべてのストレージエンティティ属性</li>
<li>リレートエンティティ型の属性 (<a href="/docs/ja/20-R4/API/DataClassClass#attributename">kind</a> が <code>relatedEntity</code>) : リレートエンティティと同じ名前 (N対1リレーション名) のプロパティ。 属性は単純な形式で取得されます。</li>
<li>リレートエンティティズ型の属性 (<a href="/docs/ja/20-R4/API/DataClassClass#attributename">kind</a> が <code>relatedEntities</code>): 属性は返されません。</li>
</ul>
<p>最初の引数として、取得するエンティティ属性を渡します。 以下のものを渡すことができます:</p>
<ul>
<li><em>filterString</em>: プロパティパスをカンマで区切った文字列: &quot;propertyPath1, propertyPath2, ...&quot; または</li>
<li><em>filterCol</em>: 文字列のコレクション: [&quot;propertyPath1&quot;,&quot;propertyPath2&quot;;...]</li>
</ul>
<p>filter 引数がリレートエンティティ型の属性を指定する場合 (<a href="/docs/ja/20-R4/API/DataClassClass#attributename">kind</a> が relatedEntity):</p>
<ul>
<li>propertyPath = &quot;relatedEntity&quot; -&gt; 単純な形式で取得されます: __KEY プロパティ(プライマリーキー) を持つオブジェクト</li>
<li>propertyPath = &quot;relatedEntity.*&quot; -&gt; 全プロパティが取得されます</li>
<li>propertyPath = &quot;relatedEntity.propertyName1; relatedEntity.propertyName2; ...&quot; -&gt; 指定されたプロパティのみが取得されます</li>
</ul>
<p>filter 引数がリレートエンティティ型の属性を指定する場合 (<a href="/docs/ja/20-R4/API/DataClassClass#attributename">kind</a> が relatedEntities):</p>
<ul>
<li>propertyPath = &quot;relatedEntities.*&quot; -&gt; 全プロパティが取得されます</li>
<li>propertyPath = &quot;relatedEntities.propertyName1; relatedEntities.propertyName2; ...&quot; -&gt; 指定されたプロパティのみが取得されます</li>
</ul>
<p><em>options</em> に <code>dk with primary key</code> または <code>dk with stamp</code> セレクターを渡すことで、エンティティのプライマリーキー/スタンプを、取得するオブジェクトに追加するかどうかを指定できます。</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>リレーションの 1側の属性に主キー以外の属性を使用した場合、その属性の値が &quot;__KEY&quot; プロパティに書き込まれます。 <code>.toObject()</code> と <code>.fromObject()</code> の関数を使用する場合はとくに、リレーションの 1側の属性に主キーを使用することが推奨されます。</p></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1-5">例題 1<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-1-5">​</a></h4>
<p>このセクションの例題では、以下のストラクチャーを使います:</p>
<p><img decoding="async" loading="lazy" src="/docs/ja/assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png" width="1000" height="610" class="img_ev3q"></p>
<p>filter 引数を渡さない場合:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">employeeObject:=employeeSelected.toObject()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>戻り値:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ID&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;salary&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: { // 単純な形式で取得されたリレートエンティティ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-2-4">例題 2<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-2-4">​</a></h4>
<p>プライマリーキーとスタンプを取得します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">employeeObject:=employeeSelected.toObject(&quot;&quot;;dk with primary key+dk with stamp)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>戻り値:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__KEY&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ID&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;salary&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-3-2">例題 3<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-3-2">​</a></h4>
<p>リレートエンティティズのプロパティをすべて展開します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">employeeObject:=employeeSelected.toObject(&quot;directReports.*&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 418,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;firstName&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;salary&quot;: 44800,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;birthDate&quot;: &quot;1970-10-02T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;managerID&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 413</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 419,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;firstName&quot;: &quot;Drew&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Caudill&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;salary&quot;: 41000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;birthDate&quot;: &quot;2030-01-12T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;managerID&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 413</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 420,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;firstName&quot;: &quot;Nathan&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Gomes&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;salary&quot;: 46300,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;birthDate&quot;: &quot;2010-05-29T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;managerID&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 413</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-4-1">例題 4<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-4-1">​</a></h4>
<p>リレートエンティティズの一部のプロパティを取得します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> employeeObject:=employeeSelected.toObject(&quot;firstName, directReports.lastName&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>戻り値:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Boothe&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Caudill&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Gomes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-5-1">例題 5<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-5-1">​</a></h4>
<p>リレートエンティティを単純な形式で取得します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $coll:=New collection(&quot;firstName&quot;;&quot;employer&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employeeObject:=employeeSelected.toObject($coll)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>戻り値:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-6-1">例題 6<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-6-1">​</a></h4>
<p>リレートエンティティの全プロパティを取得します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> employeeObject:=employeeSelected.toObject(&quot;employer.*&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>戻り値:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;India Astral Secretary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;creationDate&quot;: &quot;1984-08-25T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;revenues&quot;: 12000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;extra&quot;: null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-7-1">例題 7<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-7-1">​</a></h4>
<p>リレートエンティティの一部のプロパティを取得します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $col:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $col.push(&quot;employer.name&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $col.push(&quot;employer.revenues&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employeeObject:=employeeSelected.toObject($col)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>戻り値:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;India Astral Secretary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;revenues&quot;: 12000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="touched-">.touched( )<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#touched-">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.touched()</strong> : Boolean</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>Boolean</td><td style="text-align:center">&lt;-</td><td>少なくとも一つのエンティティ属性が編集されていて未保存の場合に true、それ以外の場合には false</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-20">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-20">​</a></h4>
<p><code>.touched()</code> 関数は、 エンティティがメモリに読み込まれてから、あるいは保存されてから、エンティティ属性が変更されたかどうかをテストします。</p>
<p>属性が更新あるいは計算されていた場合、関数は true を返し、それ以外は false を返します。 この関数を使用することで、エンティティを保存する必要があるかどうかを確認することができます。</p>
<p>この関数は、(<a href="/docs/ja/20-R4/API/DataClassClass#new"><code>.new( )</code></a> で作成された) 新規エンティティに対しては常に false を返します。 ただし、エンティティの属性を計算する関数を使用した場合には、<code>.touched()</code> 関数は true を返します。 たとえば、プライマリーキーを計算するために <a href="/docs/ja/20-R4/API/EntityClass#getkey"><code>.getKey()</code></a> を呼び出した場合、<code>.touched()</code> メソッドは true を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-16">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-16">​</a></h4>
<p>エンティティを保存する必要があるかどうかをチェックします:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.get(672)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=$emp.firstName // 同じ値で更新されても、属性は変更されたと判定されます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($emp.touched()) // 一つ以上の属性が変更されていた場合</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $emp.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if // そうでない場合はエンティティを保存する必要はありません</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="touchedAttributes-">.touchedAttributes( )<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#touchedAttributes-">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.touchedAttributes()</strong> : Collection</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>変更された属性の名前、あるいは空のコレクション</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-21">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-21">​</a></h4>
<p><code>.touchedAttributes()</code> 関数は、 メモリに読み込み後に変更されたエンティティの属性名を返します。</p>
<p>この関数は、種類 (<a href="/docs/ja/20-R4/API/DataClassClass#attributename">kind</a>) が <code>storage</code> あるいは <code>relatedEntity</code> である属性に適用されます。</p>
<p>リレート先のエンティティそのものが更新されていた場合 (外部キーの変更)、リレートエンティティの名称とそのプライマリーキー名が返されます。</p>
<p>エンティティ属性がいずれも更新されていなかった場合、関数は空  のコレクションを返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1-6">例題 1<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-1-6">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $touchedAttributes : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $touchedAttributes:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.get(725)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=$emp.firstName // 同じで値で更新されていても、属性は変更されたと判定されます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $touchedAttributes:=$emp.touchedAttributes()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$touchedAttributes: [&quot;firstName&quot;,&quot;lastName&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-2-5">例題 2<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-2-5">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $touchedAttributes : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $company : cs.CompanyEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $touchedAttributes:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.get(672)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=$emp.firstName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $company:=ds.Company.get(121)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.employer:=$company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $touchedAttributes:=$emp.touchedAttributes()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // $touchedAttributes コレクション: [&quot;firstName&quot;,&quot;lastName&quot;,&quot;employer&quot;,&quot;employerID&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>この場合において:</p>
<ul>
<li>firstName および lastName はストレージ (<code>storage</code>) 型です</li>
<li>employer はリレートエンティティ (<code>relatedEntity</code>) 型です</li>
<li>employerID は、employer リレートエンティティの外部キーです</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="unlock">.unlock()<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#unlock">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table>
</div></div></details>
<p><strong>.unlock()</strong> : Object</p>

















<table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>Object</td><td style="text-align:center">&lt;-</td><td>ステータスオブジェクト</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-22">説明<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#説明-22">​</a></h4>
<p><code>.unlock()</code> 関数は、 対象エンティティが参照するレコードのペシミスティック・ロックを解除します 。ロックは、データストアおよび、データクラスに対応するテーブル内の両方で解除されます。</p>
<blockquote>
<p>詳細については <a href="/docs/ja/20-R4/ORDA/entities#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%83%AD%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0">エンティティロッキング</a> を参照ください。</p>
</blockquote>
<p>ロックしているプロセス内のどのエンティティからもレコードが参照されなくなった場合、自動的にレコードロックが解除されます (たとえば、エンティティのローカル参照に対してのみロックがかかっていた場合、プロセスが終了すればエンティティおよびレコードのロックは解除されます)。</p>
<blockquote>
<p>レコードがロックされている場  合、ロックしているプロセスから、ロックされたエンティティ参照に対してロックを解除する必要があります: 例:</p>
</blockquote>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $e1:=ds.Emp.all()[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e2:=ds.Emp.all()[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $res:=$e1.lock() //$res.success=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $res:=$e2.unlock() //$res.success=false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $res:=$e1.unlock() //$res.success=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>戻り値</strong></p>
<p><code>.unlock()</code> によって返されるオブジェクトには以下のプロパティが格納されます:</p>















<table><thead><tr><th>プロパティ</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>success</td><td>Boolean</td><td>ロック解除が成功した場合には true、それ以外は false ドロップされたエンティティや、ロックされてないレコード、あるいは他のプロセスや他のエンティティによってロックされたレコードに対してロック解除を実行した場合、success には false が返されます。</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-17">例題<a class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク" href="/docs/ja/20-R4/API/EntityClass#例題-17">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(725)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.lock()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ... // 処理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.unlock()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;エンティティのロックは解除されました。&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntityClass.md%20(20-R4)&amp;body=Please%20enter%20your%20comment%3A" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページへコメントする</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントのナビゲーション"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/ja/20-R4/API/EmailObjectClass"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">Email</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/ja/20-R4/API/EntitySelectionClass"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">EntitySelection</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#概要">概要</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#attributeName">.<em>attributeName</em></a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#clone">.clone()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#diff">.diff()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#drop">.drop()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#first">.first()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#fromObject">.fromObject()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#getDataClass">.getDataClass()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#getKey">.getKey()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#getRemoteContextAttributes">.getRemoteContextAttributes()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#getSelection">.getSelection()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#getStamp">.getStamp()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#indexOf">.indexOf()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#isNew">.isNew()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#last">.last()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#lock">.lock()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#next">.next()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#previous">.previous()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#reload">.reload()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#save">.save()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#toObject">.toObject()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#touched-">.touched( )</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#touchedAttributes-">.touchedAttributes( )</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/ja/20-R4/API/EntityClass#unlock">.unlock()</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">コミュニティ</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">デベロッパー・センター</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">サポート</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (旧ドキュメント)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">ナレッジベース</a></li><li class="footer__item"><a href="https://us.4d.com/product-download/Feature-Release" target="_blank" rel="noopener noreferrer" class="footer__link-item">ダウンロード<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">サポートを受ける<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">会社概要</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D社について<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">コンタクト<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">世界中の4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 4D SAS - All rights reserved</div></div></div></footer></div>
</body>
</html>