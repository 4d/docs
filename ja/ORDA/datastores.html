<!DOCTYPE html><html lang="ja"><head><meta name="docsearch:version" content="19 R4 BETA"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>リモートデータストアの利用 · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="4D アプリケーション上で公開された [データストア](/docs/ja/ORDA/dsmapping.html#データストア) は、異なるクライアントにより同時にアクセスすることができます:"/><meta name="docsearch:language" content="ja"/><meta property="og:title" content="リモートデータストアの利用 · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/index.html"/><meta property="og:description" content="4D アプリケーション上で公開された [データストア](/docs/ja/ORDA/dsmapping.html#データストア) は、異なるクライアントにより同時にアクセスすることができます:"/><meta property="og:image" content="https://4d.github.io/docs/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/img/logohome.png"/><link rel="shortcut icon" href="/docs/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/alpha/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/js/code-blocks-buttons.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/ja"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v19 R5 BETA</a></li><li class=""><a href="https://developer.4d.com/docs/Rx" target="_self">v19 R4</a></li><li class=""><a href="https://developer.4d.com/docs/19" target="_self">v19</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>日本語</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/ORDA/datastores.html">English</a></li><li><a href="/docs/de/ORDA/datastores.html">Deutsch</a></li><li><a href="/docs/es/ORDA/datastores.html">Español</a></li><li><a href="/docs/fr/ORDA/datastores.html">Français</a></li><li><a href="/docs/pt/ORDA/datastores.html">Português</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>ORDA</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">プロジェクト管理<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Project/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Project/architecture.html">プロジェクトのアーキテクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Project/documentation.html">ドキュメンテーション</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Project/compiler.html">コンパイル</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ランゲージのコンセプト<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/about.html">4D ランゲージについて</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/quick-tour.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/operators.html">演算子</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/data-types.html">データタイプの概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/boolean.html">ブール</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/collection.html">コレクション</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/date.html">日付</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/null-undefined.html">Null と 未定義</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/number.html">数値 (実数、倍長整数、整数)</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/object.html">オブジェクト</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/picture.html">ピクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/pointer.html">ポインター</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/string.html">文字列</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/time.html">時間</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/variant.html">バリアント</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/variables.html">変数</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/arrays.html">配列</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/methods.html">メソッド</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/parameters.html">引数</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/shared.html">共有オブジェクトと共有コレクション</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/classes.html">クラス</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/control-flow.html">制御フロー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/branching.html">分岐構造</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/looping.html">ループ構造</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/error-handling.html">エラー処理</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/interpreted-compiled.html">インタープリターモードとコンパイル済みモード</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/components.html">コンポーネント</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/plug-ins.html">プラグイン</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/identifiers.html">識別子の命名規則</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ORDA<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/ORDA/overview.html">ORDAとは何か</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/ORDA/dsmapping.html">データモデルオブジェクト</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/ORDA/ordaClasses.html">データモデルクラス</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/ORDA/entities.html">データ操作</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/ja/ORDA/datastores.html">リモートデータストアの利用</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/ORDA/glossary.html">用語集</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">クラス API リファレンス<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/API/overview.html">クラス API の概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/BlobClass.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/ClassClass.html">Class</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/CollectionClass.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/CryptoKeyClass.html">CryptoKey</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/DataClassClass.html">DataClass</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/DataClassAttributeClass.html">DataClassAttribute</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/DataStoreClass.html">DataStore</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/EmailObjectClass.html">Email</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/EntityClass.html">Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/EntitySelectionClass.html">EntitySelection</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/FileClass.html">File</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/FolderClass.html">Folder</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/FunctionClass.html">Formula</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/IMAPTransporterClass.html">IMAPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/MailAttachmentClass.html">MailAttachment</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/POP3TransporterClass.html">POP3Transporter</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/SessionClass.html">Session</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/SignalClass.html">Signal</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/SMTPTransporterClass.html">SMTPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/SystemWorkerClass.html">SystemWorker</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/WebServerClass.html">WebServer</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/ZipArchiveClass.html">ZIPArchive</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/ZipFileClass.html">ZIPFile</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/API/ZipFolderClass.html">ZIPFolder</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">コードエディター<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/code-editor/navigation.html">ナビゲーションドロップダウン</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">デバッガー<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Debugging/basics.html">画面の説明</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Debugging/debugger.html">デバッガー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Debugging/breakpoints.html">ブレークポイントとキャッチコマンド</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Debugging/debugging-remote.html">リモートマシンからのデバッグ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Debugging/debugLogFiles.html">ログファイルの詳細</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">変換タグ<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Tags/tags.html">変換タグ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">設定<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/settings/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/settings/general.html">一般ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/settings/interface.html">インターフェースページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/settings/compiler.html">コンパイラーページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/settings/database.html">データベースページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/settings/backup.html">バックアップページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/settings/client-server.html">クライアント-サーバーページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/settings/web.html">Web ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/settings/sql.html">SQL ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/settings/php.html">PHP ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/settings/security.html">セキュリティページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/settings/compatibility.html">互換性ページ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">環境設定<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Preferences/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Preferences/general.html">一般ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Preferences/structure.html">ストラクチャーページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Preferences/forms.html">フォームページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Preferences/methods.html">メソッドページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Preferences/shortcuts.html">ショートカットページ</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/master/docs/ORDA/remoteDatastores.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">リモートデータストアの利用</h1></header><article><div><span><p>4D アプリケーション上で公開された <a href="/docs/ja/ORDA/dsmapping.html#データストア">データストア</a> は、異なるクライアントにより同時にアクセスすることができます:</p>
<ul>
<li>4D リモートアプリケーションは ORDA を使っていれば、<code>ds</code> コマンドでメインデータストアにアクセスできます。 この 4D リモートアプリケーションは従来のモードでもデータベースにアクセスできます。 これらのアクセスを処理するのは <strong>4Dアプリケーションサーバー</strong> です。</li>
<li>他の 4Dアプリケーション (4Dリモート、4D Server) は、<a href="/docs/ja/API/DataStoreClass.html#open-datastore"><code>Open datastore</code></a> コマンドを使ってリモートデータストアのセッションを開始できます。 アクセスを処理するのは <strong>HTTP REST サーバー</strong> です。</li>
<li>モバイルアプリケーションを更新するための <a href="https://developer.4d.com/go-mobile/">4D for iOS または 4D for Android</a> のクエリでアクセスできます。 アクセスを処理するのは <strong>HTTP サーバー</strong> です。</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="セッションの開始"></a><a href="#セッションの開始" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>セッションの開始</h2>
<p><code>Open datastore</code> コマンドによって参照されるリモートデータストアの場合、リクエスト元プロセスとリモートデータストア間の接続はセッションにより管理されます。</p>
<p>リモートデータストア上では、接続を管理するためのセッションが作成されます。 このセッションは内部的にセッションID によって識別され、4Dアプリケーション上では <code>localID</code> と紐づいています。 データ、エンティティセレクション、エンティティへのアクセスはこのセッションによって自動的に管理されます。</p>
<p><code>localID</code> はリモートデータストアに接続しているマシンにおけるローカルな識別IDです:</p>
<ul>
<li>同じアプリケーションの別プロセスが同じリモートデータストアに接続する場合、<code>localID</code> とセッションは共有することができます。</li>
<li>同じアプリケーションの別プロセスが別の <code>localID</code> を使って同じデータストアに接続した場合、リモートデータストアでは新しいセッションが開始されます。</li>
<li>他のマシンが同じ <code>localID</code> を使って同じデータストアに接続した場合、新しいセッションが新しい cookie で開始されます。</li>
</ul>
<p>これらの原則を下図に示します:</p>
<p><img src="/docs/assets/en/ORDA/sessions.png" alt=""></p>
<blockquote>
<p>REST リクエストによって開かれたセッションについては、<a href="/docs/ja/REST/authUsers.html">ユーザーとセッション</a> を参照ください。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="セッションの監視"></a><a href="#セッションの監視" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>セッションの監視</h3>
<p>データストアアクセスを管理しているセッションは 4D Server の管理ウィンドウに表示されます:</p>
<ul>
<li>プロセス名: &quot;REST Handler: &lt;process name&gt;&quot;</li>
<li>タイプ: HTTP Server Worker</li>
<li>セッション: <code>Open datastore</code> コマンドに渡されたユーザー名</li>
</ul>
<p>次の例では、1つのセッション上で 2つのプロセスが実行中です:</p>
<p><img src="/docs/assets/en/ORDA/sessionAdmin.png" alt=""></p>
<h3><a class="anchor" aria-hidden="true" id="ロッキングとトランザクション"></a><a href="#ロッキングとトランザクション" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ロッキングとトランザクション</h3>
<p>エンティティロッキングやトランザクションに関連した ORDA 機能は、ORDA のクライアント / サーバーモードと同様に、リモートデータストアにおいてもプロセスレベルで管理されます:</p>
<ul>
<li>あるプロセスがリモートデータストアのエンティティをロックした場合、セッションの共有如何に関わらず、他のすべてのプロセスに対してそのエンティティはロックされた状態です (<a href="/docs/ja/ORDA/entities.html#エンティティロッキング">エンティティロッキング</a> 参照)。 同一のレコードに対応する複数のエンティティが 1つのプロセスによってロックされている場合、同プロセス内でそれらがすべてアンロックされないと、ロックは解除されません。 なお、ロックされたエンティティに対する参照がメモリ上に存在しなくなった場合にも、ロックは解除されます。</li>
<li>トランザクションは <code>dataStore.startTransaction( )</code>、<code>dataStore.cancelTransaction( )</code>、<code>dataStore.validateTransaction( )</code> のメソッドを使って、リモートデータストアごとに個別に開始・認証・キャンセルすることができます。 これらの操作は他のデータストアには影響しません。</li>
<li>従来の 4Dランゲージコマンド (<code>START TRANSACTION</code>, <code>VALIDATE TRANSACTION</code>, <code>CANCEL TRANSACTION</code>) は <code>ds</code> で返されるメインデータストアに対してのみ動作します。 リモートデータストアのエンティティがあるプロセスのトランザクションで使われている場合、セッションの共有如何に関わらず、他のすべてのプロセスはそのエンティティを更新できません。</li>
<li>次の場合にエンティティのロックは解除され、トランザクションはキャンセルされます:
<ul>
<li>プロセスが強制終了された</li>
<li>サーバー上でセッションが閉じられた</li>
<li>サーバー管理ウィンドウからセッションが強制終了された</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="セッションの終了"></a><a href="#セッションの終了" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>セッションの終了</h3>
<p>アクティビティなしにタイムアウト時間が経過すると、4D は自動的にセッションを終了します。 デフォルトのタイムアウト時間は 60分です。 <em>Open datastore</em> コマンドの <code>connectionInfo</code> パラメーターを指定して、タイムアウト時間を変更することができます。</p>
<p>セッション終了後にリクエストがリモートデータストアに送信された場合、セッションは可能な限り (ライセンスがあり、サーバーが停止していない、など) 再開されます。 ただしセッションが再開しても、ロックやトランザクションに関わるコンテキストは失われていることに留意が必要です (前述参照)。</p>
<h2><a class="anchor" aria-hidden="true" id="クライアントサーバーの最適化"></a><a href="#クライアントサーバーの最適化" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>クライアント/サーバーの最適化</h2>
<p>4Dは、クライアント/サーバー環境において (<code>ds</code> または <code>Open datastore</code> によりアクセスされたデータストアの場合) エンティティセレクションを使用、あるいはエンティティを読み込む ORDAリクエストについて最適化する機構を提供しています。 この最適化機構は、ネットワーク間でやり取りされるデータの量を大幅に縮小させることで 4Dの実行速度を向上させます。 これには以下のような機能が含まれます:</p>
<ul>
<li><strong>最適化コンテキスト</strong></li>
<li><strong>ORDAキャッシュ</strong></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="コンテキスト"></a><a href="#コンテキスト" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>コンテキスト</h3>
<p>最適化コンテキストは、以下の実装に基づいています:</p>
<ul>
<li><p>クライアントがサーバーに対してエンティティセレクションのリクエストを送ると、4D はコード実行の途中で、エンティティセレクションのどの属性がクライアント側で実際に使用されているかを自動的に &quot;学習&quot; し、それに対応した &quot;最適化コンテキスト&quot; をビルドします。 このコンテキストはエンティティセレクションに付随し、使用された属性を保存していきます。 他の属性があとで使用された場合には自動的に情報を更新していきます。 以下のメソッドや関数が学習のトリガーとなります:</p>
<ul>
<li><a href="/docs/ja/API/EntitySelectionClass.html#create-entity-selection"><code>Create entity selection</code></a></li>
<li><a href="/docs/ja/API/DataClassClass.html#fromcollection"><code>dataClass.fromCollection()</code></a></li>
<li><a href="/docs/ja/API/DataClassClass.html#all"><code>dataClass.all()</code></a></li>
<li><a href="/docs/ja/API/DataClassClass.html#get"><code>dataClass.get()</code></a></li>
<li><a href="/docs/ja/API/DataClassClass.html#query"><code>dataClass.query()</code></a></li>
<li><a href="/docs/ja/API/EntitySelectionClass.html#query"><code>entitySelection.query()</code></a></li>
</ul></li>
<li><p>サーバー上の同じエンティティセレクションに対してその後に送られたリクエストは、最適化コンテキストを再利用して、サーバーから必要な属性のみを取得していくことで、処理を速くします。 たとえば、<a href="#エンティティセレクション型リストボックス">エンティティセレクション型のリストボックス</a> では、先頭行の表示中に学習がおこなわれます。 次の行からは、表示が最適化されます。 以下の関数は、ソースのエンティティセレクションの最適化コンテキストを、戻り値のエンティティセレクションに自動的に付与します:</p>
<ul>
<li><a href="/docs/ja/API/EntitySelectionClass.html#and"><code>entitySelection.and()</code></a></li>
<li><a href="/docs/ja/API/EntitySelectionClass.html#minus"><code>entitySelection.minus()</code></a></li>
<li><a href="/docs/ja/API/EntitySelectionClass.html#or"><code>entitySelection.or()</code></a></li>
<li><a href="/docs/ja/API/EntitySelectionClass.html#orderBy"><code>entitySelection.orderBy()</code></a></li>
<li><a href="/docs/ja/API/EntitySelectionClass.html#slice"><code>entitySelection.slice()</code></a></li>
<li><a href="/docs/ja/API/EntitySelectionClass.html#drop"><code>entitySelection.drop()</code></a></li>
</ul></li>
<li><p>既存の最適化コンテキストは、同じデータクラスの他のエンティティセレクションであればプロパティとして渡すことができるので、学習フェーズを省略して、アプリケーションをより速く実行することができます (以下の <a href="#contextプロパティの使用">contextプロパティの使用</a> を参照してください)。</p></li>
<li><p><a href="/docs/ja/API/DataStoreClass.html#setremotecontextinfo"><code>dataStore.setRemoteContextInfo()</code></a> 関数を使用して、最適化コンテキストを手動で構築することができます (<a href="#コンテキストの事前設定">コンテキストの事前設定</a> 参照)。</p></li>
</ul>
<p><img src="/docs/assets/en/ORDA/cs-optimization-process.png" alt=""></p>
<h4><a class="anchor" aria-hidden="true" id="例題"></a><a href="#例題" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>例題</h4>
<p>以下のようなコードがあるとき:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$sel</span>:=<span class="hljs-variable">$ds</span>.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstname = ab@"</span>)<span class="hljs-keyword">
 For each</span>(<span class="hljs-variable">$e</span>;<span class="hljs-variable">$sel</span>)
    <span class="hljs-variable">$s</span>:=<span class="hljs-variable">$e</span>.firstname+<span class="hljs-string">" "</span>+<span class="hljs-variable">$e</span>.lastname+<span class="hljs-string">" works for "</span>+<span class="hljs-variable">$e</span>.employer.name <span class="hljs-comment">// $e.employer は Company テーブルを参照します</span><span class="hljs-keyword">
 End for each</span>
</code></pre>
<p>最適化機構のおかげでこのリクエストは、ループの 2回目の繰り返しより、<em>$sel</em> の中で実際に使用されている属性 (firstname, lastname, employer, employer.name) のデータのみを取得するようになります。</p>
<h4><a class="anchor" aria-hidden="true" id="contextプロパティの再利用"></a><a href="#contextプロパティの再利用" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>contextプロパティの再利用</h4>
<p><strong>context</strong> プロパティを使用することで、最適化の利点をさらに増幅させることができます。 このプロパティは、あるエンティティセレクション用に &quot;学習した&quot; 最適化コンテキストを参照します。 これを新しいエンティティセレクションを返す ORDA関数に引数として渡すことで、その返されたエンティティセレクションでは学習フェーズを最初から省略して使用される属性をサーバーにリクエストできるようになります。</p>
<blockquote>
<p><a href="/docs/ja/API/DataStoreClass.html#setremotecontextinfo"><code>.setRemoteContextInfo()</code></a> 関数を使って、コンテキストを作成することもできます。</p>
</blockquote>
<p>エンティティセレクションを扱うすべての ORDA関数は、<strong>context</strong> プロパティをサポートします (たとえば <a href="/docs/ja/API/DataClassClass.html#query"><code>dataClass.query( )</code></a> あるいは <a href="/docs/ja/API/DataClassClass.html#all"><code>dataClass.all( )</code></a> など)。 同じ最適化 context プロパティは、同じデータクラスのエンティティセレクションに対してであればどのエンティティセレクションにも渡すことができます。 ただし、 コードの他の部分で新しい属性が使用された際にはコンテキストは自動的に更新されるという点に注意してください。 同じコンテキストを異なるコードで再利用しすぎると、コンテキストを読み込み過ぎて、結果として効率が落ちる可能性があります。</p>
<blockquote>
<p>同様の機構は読み込まれたエンティティにも実装されており、それによって使用した属性のみがリクエストされるようになります (<a href="/docs/ja/API/DataClassClass.html#get"><code>dataClass.get( )</code></a> 関数参照)。</p>
</blockquote>
<p><strong><code>dataClass.query( )</code> を使用した例:</strong></p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel1</span>; <span class="hljs-variable">$sel2</span>; <span class="hljs-variable">$sel3</span>; <span class="hljs-variable">$sel4</span>; <span class="hljs-variable">$querysettings</span>; <span class="hljs-variable">$querysettings2 </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$data </span>: Collection
 <span class="hljs-variable">$querysettings</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>;<span class="hljs-string">"shortList"</span>)
 <span class="hljs-variable">$querysettings2</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>;<span class="hljs-string">"longList"</span>)

 <span class="hljs-variable">$sel1</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname = S@"</span>;<span class="hljs-variable">$querysettings</span>)
 <span class="hljs-variable">$data</span>:=<span class="hljs-function">extractData</span>(<span class="hljs-variable">$sel1</span>) <span class="hljs-comment">// extractData メソッド内で最適化がトリガーされ、</span>
 <span class="hljs-comment">// コンテキスト "shortList" に紐づけられます</span>

 <span class="hljs-variable">$sel2</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname = Sm@"</span>;<span class="hljs-variable">$querysettings</span>)
 <span class="hljs-variable">$data</span>:=<span class="hljs-function">extractData</span>(<span class="hljs-variable">$sel2</span>) <span class="hljs-comment">// extractData メソッド内で最適化がトリガーされ、</span>
 <span class="hljs-comment">// コンテキスト "shortList" に紐づけられます</span>

 <span class="hljs-variable">$sel3</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname = Smith"</span>;<span class="hljs-variable">$querysettings2</span>)
 <span class="hljs-variable">$data</span>:=<span class="hljs-function">extractDetailedData</span>(<span class="hljs-variable">$sel3</span>) <span class="hljs-comment">// extractDetailedData メソッド内で最適化がトリガーされ、</span>
 <span class="hljs-comment">// コンテキスト "longList" に紐づけられます</span>

 <span class="hljs-variable">$sel4</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname = Brown"</span>;<span class="hljs-variable">$querysettings2</span>)
 <span class="hljs-variable">$data</span>:=<span class="hljs-function">extractDetailedData</span>(<span class="hljs-variable">$sel4</span>) <span class="hljs-comment">// extractDetailedData メソッド内で最適化がトリガーされ、</span>
 <span class="hljs-comment">// コンテキスト "longList" に紐づけられます</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="エンティティセレクション型リストボックス"></a><a href="#エンティティセレクション型リストボックス" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>エンティティセレクション型リストボックス</h4>
<p>クライアント/サーバー環境におけるエンティティセレクション型リストボックスにおいては、そのコンテンツを表示またはスクロールする際に、最適化が自動的に適用されます。つまり、リストボックスに表示されている属性のみがサーバーにリクエストされます。</p>
<p>また、リストボックスの <strong>カレントの項目</strong> プロパティ式 (<a href="/docs/ja/FormObjects/listboxOverview.html#リストボックスの型">コレクション/エンティティセレクション型リストボックス</a> 参照) を介してカレントエンティティをロードする場合には、専用の &quot;ページモード&quot; コンテキストが提供されます。 これによって、&quot;ページ&quot; が追加属性をリクエストしても、リストボックスのコンテキストのオーバーロードが避けられます。 なお、ページコンテキストの生成/使用は <strong>カレントの項目</strong> 式を使用した場合に限ります (たとえば、<code>entitySelection[index]</code> を介して同じエンティティにアクセスした場合は、エンティティセレクションコンテキストが変化します)。</p>
<p>その後、エンティティを走査する関数がサーバーに送信するリクエストにも、同じ最適化が適用されます。 以下の関数は、ソースエンティティの最適化コンテキストを、戻り値のエンティティに自動的に付与します:</p>
<ul>
<li><a href="/docs/ja/API/EntityClass.html#next"><code>entity.next()</code></a></li>
<li><a href="/docs/ja/API/EntityClass.html#first"><code>entity.first()</code></a></li>
<li><a href="/docs/ja/API/EntityClass.html#last"><code>entity.last()</code></a></li>
<li><a href="/docs/ja/API/EntityClass.html#previous"><code>entity.previous()</code></a></li>
</ul>
<p>たとえば、次のコードは選択したエンティティをロードし、所属しているエンティティセレクションを走査します。 エンティティは独自のコンテキストにロードされ、リストボックスのコンテキストは影響されません:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$myEntity</span>:=Form.currentElement <span class="hljs-comment">// カレントの項目式</span>
  <span class="hljs-comment">//... なんらかの処理</span>
 <span class="hljs-variable">$myEntity</span>:=<span class="hljs-variable">$myEntity</span>.<span class="hljs-function">next</span>() <span class="hljs-comment">// 次のエンティティも同じコンテキストを使用してロードされます</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="コンテキストの事前設定"></a><a href="#コンテキストの事前設定" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>コンテキストの事前設定</h4>
<p>最高のパフォーマンスを得るには、アプリケーションの機能またはアルゴリズムごとに最適化コンテキストが定義されていることが推奨されます。 たとえば、あるコンテキストは顧客に関するクエリに、別のコンテキストは商品に関するクエリに使用することができます。</p>
<p>最高レベルに最適化された最終アプリケーションを提供したい場合、以下の手順でコンテキストを事前に設定することで、学習フェーズを省略することができます:</p>
<ol>
<li>アルゴリズムを設計します。</li>
<li>アプリケーションを実行し、自動学習メカニズムに最適化コンテキストを作成させます。</li>
<li><a href="/docs/ja/API/DataStoreClass.html#getremotecontextinfo"><code>dataStore.getRemoteContextInfo()</code></a> または <a href="/docs/ja/API/DataStoreClass.html#getallremotecontexts"><code>dataStore.getAllRemoteContexts()</code></a> 関数を呼び出して、コンテキストを収集します。 <a href="/docs/ja/API/EntitySelectionClass.html#getremotecontextattributes"><code>entitySelection.getRemoteContextAttributes()</code></a> と <a href="/docs/ja/API/EntityClass.html#getremotecontextattributes"><code>entity.getRemoteContextAttributes()</code></a> 関数を使用して、アルゴリズムがどのように属性を使用するかを分析することができます。</li>
<li>最後に、アプリケーション起動時に <a href="/docs/ja/API/DataStoreClass.html#setremotecontextinfo"><code>dataStore.setRemoteContextInfo()</code></a> 関数を呼び出してコンテキストを構築し、<a href="#contextプロパティの再利用">これらをアルゴリズムで使用します</a>。</li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="ordaキャッシュ"></a><a href="#ordaキャッシュ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ORDAキャッシュ</h3>
<p>最適化のため、ORDA経由でサーバーにリクエストしたデータは、(4Dキャッシュとは異なる) ORDAリモートキャッシュに読み込まれます。 ORDAキャッシュはデータクラスごとに構成され、30秒後に失効します。</p>
<p>キャッシュに含まれるデータは、タイムアウトに達すると期限切れとみなされます。 期限切れデータにアクセスする場合は、サーバーにリクエストが送信されます。 期限切れデータは、スペースが必要になるまでキャッシュに残ります。</p>
<p>デフォルトでは、ORDAキャッシュは 4D によって透過的に処理されます。 しかし、以下の ORDAクラスの関数を使用して、その内容を制御することができます:</p>
<ul>
<li><a href="/docs/ja/API/DataClassClass.html#setremotecachesettings">dataClass.setRemoteCacheSettings()</a></li>
<li><a href="/docs/ja/API/DataClassClass.html#getremotecache">dataClass.getRemoteCache()</a></li>
<li><a href="/docs/ja/API/DataClassClass.html#clearremotecache">dataClass.clearRemoteCache()</a></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/ja/ORDA/entities.html"><span class="arrow-prev">← </span><span>データ操作</span></a><a class="docs-next button" href="/docs/ja/ORDA/glossary.html"><span>用語集</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#セッションの開始">セッションの開始</a><ul class="toc-headings"><li><a href="#セッションの監視">セッションの監視</a></li><li><a href="#ロッキングとトランザクション">ロッキングとトランザクション</a></li><li><a href="#セッションの終了">セッションの終了</a></li></ul></li><li><a href="#クライアントサーバーの最適化">クライアント/サーバーの最適化</a><ul class="toc-headings"><li><a href="#コンテキスト">コンテキスト</a></li><li><a href="#ordaキャッシュ">ORDAキャッシュ</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2022 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license-0">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:ja","version:19 R4 BETA"]}
              });
            </script></body></html>