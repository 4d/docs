<!DOCTYPE html><html lang="ja"><head><meta name="docsearch:version" content="18 R5 BETA"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>リストボックス · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## 概要"/><meta name="docsearch:language" content="ja"/><meta property="og:title" content="リストボックス · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/index.html"/><meta property="og:description" content="## 概要"/><meta property="og:image" content="https://4d.github.io/docs/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/img/logohome.png"/><link rel="shortcut icon" href="/docs/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/js/code-blocks-buttons.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/ja"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs" target="_self">v18 R5 BETA</a></li><li class=""><a href="https://developer.4d.com/docs/Rx" target="_self">v18 R4</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>日本語</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/FormObjects/listboxOverview.html">English</a></li><li><a href="/docs/de/FormObjects/listboxOverview.html">Deutsch</a></li><li><a href="/docs/es/FormObjects/listboxOverview.html">Español</a></li><li><a href="/docs/fr/FormObjects/listboxOverview.html">Français</a></li><li><a href="/docs/pt/FormObjects/listboxOverview.html">Português</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>フォームオブジェクト</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">はじめに<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/GettingStarted/installation.html">インストール</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">プロジェクト管理<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Project/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Project/creating.html">プロジェクトの作成・開始</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Project/architecture.html">プロジェクトのアーキテクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Project/developing.html">プロジェクトの開発</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Project/documentation.html">ドキュメンテーション</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ランゲージのコンセプト<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/about.html">4D ランゲージについて</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/quick-tour.html">概要</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/data-types.html">データタイプの概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/boolean.html">ブール</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/collection.html">コレクション</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/date.html">日付</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/null-undefined.html">Null と 未定義</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/number.html">数値 (実数、倍長整数、整数)</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/object.html">オブジェクト</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/picture.html">ピクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/pointer.html">ポインター</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/string.html">String</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/time.html">時間</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/variant.html">バリアント</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/variables.html">変数</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/arrays.html">配列</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/methods.html">Methods</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/parameters.html">引数</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/shared.html">共有オブジェクトと共有コレクション</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/classes.html">Classes</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/control-flow.html">制御フロー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/branching.html">分岐構造</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/looping.html">ループ構造</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/error-handling.html">エラー処理</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/interpreted-compiled.html">インタープリターモードとコンパイル済みモード</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/components.html">コンポーネント</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/plug-ins.html">プラグイン</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Concepts/identifiers.html">識別子の命名規則</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ORDA<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/ORDA/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/ORDA/dsmapping.html">データモデルオブジェクト</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/ORDA/ordaClasses.html">データモデルクラス</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/ORDA/entities.html">データ操作</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/ORDA/datastores.html">リモートデータストアの利用</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/ORDA/glossary.html">用語集</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">クラス API リファレンス<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/API/cryptoClass.html">CryptoKey クラス</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">アクセス権限<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Users/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Users/editing.html">4Dユーザー＆グループの管理</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">データベース管理<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Admin/licenses.html">4D ライセンスの管理</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Admin/building.html">プロジェクトパッケージのビルド</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">MSC<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/MSC/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/MSC/information.html">情報ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/MSC/analysis.html">ログ解析ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/MSC/verify.html">検査ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/MSC/backup.html">バックアップページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/MSC/compact.html">圧縮ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/MSC/rollback.html">ロールバックページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/MSC/restore.html">復元ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/MSC/repair.html">修復ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/MSC/encrypt.html">暗号化ページ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">バックアップと復元<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Backup/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Backup/backup.html">バックアップ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Backup/settings.html">バックアップ設定</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Backup/log.html">ログファイル (.journal)</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Backup/restore.html">復元</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Web Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/WebServer/webServerObject.html">Web Server object</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">REST Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/ja/REST/gettingStarted.html">はじめに</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/configuration.html">Server Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/authUsers.html">Users and sessions</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/genInfo.html">Getting Server Information</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/manData.html">Manipulating Data</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/classFunctions.html">Calling ORDA class functions</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/REST_requests.html">About REST Requests</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (general)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/ja/REST/catalog.html">$catalog</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/directory.html">$directory</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/info.html">$info</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/upload.html">$upload</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (dataClass)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/ja/REST/{dataClass}.html">{dataClass}</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/asArray.html">$asArray</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/atomic_$atonce.html">$atomic/$atonce</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/attributes.html">$attributes</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/binary.html">$binary</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/compute.html">$compute</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/distinct.html">$distinct</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/entityset.html">$entityset</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/expand.html">$expand</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/filter.html">$filter</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/imageformat.html">$imageformat</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/method.html">$method</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/orderby.html">$orderby</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/querypath.html">$querypath</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/queryplan.html">$queryplan</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/savedfilter.html">$savedfilter</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/savedorderby.html">$savedorderby</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/skip.html">$skip</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/timeout.html">$timeout</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/top_$limit.html">$top/$limit</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/REST/version.html">$version</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Forms<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/forms.html">About 4D Forms</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/formEditor.html">フォームエディター</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/macros.html">Form Editor Macros</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/objectLibrary.html">オブジェクトライブラリ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/stylesheets.html">スタイルシート</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/pictures.html">ピクチャー</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Properties<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/jsonReference.html">JSON プロパティリスト</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/action.html">動作</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/propertiesForm.html">Form Properties</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/formSize.html">Form Size</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/markers.html">Markers</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/menu.html">メニュー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/print.html">印刷</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormEditor/windowSize.html">Window Size</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">フォームオブジェクト<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/formObjectsOverview.html">4D フォームオブジェクトについて</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/buttonOverview.html">ボタン</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/buttonGridOverview.html">ボタングリッド</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/checkboxOverview.html">チェックボックス</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/comboBoxOverview.html">コンボボックス</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/dropdownListOverview.html">ドロップダウンリスト</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/groupBox.html">グループボックス</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/inputOverview.html">入力</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/listOverview.html">階層リスト</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/ja/FormObjects/listboxOverview.html">リストボックス</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/pictureButtonOverview.html">ピクチャーボタン</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/picturePopupMenuOverview.html">ピクチャーポップアップメニュー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/pluginAreaOverview.html">プラグインエリア</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/progressIndicator.html">進捗インジケーター</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/radiobuttonOverview.html">ラジオボタン</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/ruler.html">ルーラー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/shapesOverview.html">図形</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/spinner.html">スピナー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/splitters.html">スプリッター</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/staticPicture.html">スタティックピクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/stepper.html">ステッパー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/subformOverview.html">サブフォーム</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/tabControl.html">タブコントロール</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/text.html">テキスト</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/webAreaOverview.html">Webエリア</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/viewProAreaOverview.html">4D View Pro エリア</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/writeProAreaOverview.html">4D Write Pro エリア</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">フォームオブジェクトプロパティ<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesReference.html">JSON プロパティリスト</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesAction.html">動作</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesAnimation.html">アニメーション</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesAppearance.html">アピアランス</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html">背景色と境界線</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html">座標とサイズ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesCrop.html">行列数</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesDataSource.html">データソース</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesDisplay.html">表示フォーマット</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesEntry.html">入力</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesFooters.html">フッター</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesGridlines.html">グリッド線</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesHeaders.html">ヘッダー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesHelp.html">ヘルプ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesHierarchy.html">階層</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesListBox.html">リストボックス</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesObject.html">オブジェクト</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesPicture.html">ピクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesPlugIns.html">プラグイン</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesPrint.html">印刷</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesRangeOfValues.html">値の範囲</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesResizingOptions.html">リサイズオプション</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesScale.html">スケール</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesSubform.html">サブフォーム</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesText.html">テキスト</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesTextAndPicture.html">テキスト、ピクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/FormObjects/propertiesWebArea.html">Webエリア</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Events<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Events/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onActivate.html">On Activate</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onAfterEdit.html">On After Edit</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onAfterKeystroke.html">On After Keystroke</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onAfterSort.html">On After Sort</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onAlternativeClick.html">On Alternative Click</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onBeforeDataEntry.html">On Before Data Entry</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onBeforeKeystroke.html">On Before Keystroke</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onBeginDragOver.html">On Begin Drag Over</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onBeginUrlLoading.html">On Begin URL Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onBoundVariableChange.html">On Bound Variable Change</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onClicked.html">On Clicked</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onCloseBox.html">On Close Box</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onCloseDetail.html">On Close Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onCollapse.html">On Collapse</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onColumnMoved.html">On Column Moved</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onColumnResize.html">On Column Resize</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onDataChange.html">On Data Change</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onDeactivate.html">On Deactivate</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onDeleteAction.html">On Delete Action</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onDisplayDetail.html">On Display Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onDoubleClicked.html">On Double Clicked</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onDragOver.html">On Drag Over</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onDrop.html">On Drop</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onEndUrlLoading.html">On End URL Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onExpand.html">On Expand</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onFooterClick.html">On Footer Click</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onGettingFocus.html">On Getting focus</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onHeader.html">On Header</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onHeaderClick.html">On Header Click</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onLoad.html">On Load</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onLoadRecord.html">On Load Record</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onLongClick.html">On Long Click</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onLosingFocus.html">On Losing focus</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onMenuSelected.html">On Menu Selected</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onMouseEnter.html">On Mouse Enter</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onMouseLeave.html">On Mouse Leave</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onMouseMove.html">On Mouse Move</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onMouseUp.html">On Mouse Up</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onOpenDetail.html">On Open Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onOpenExternalLink.html">On Open External Link</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onOutsideCall.html">On Outside Call</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onPageChange.html">On Page Change</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onPlugInArea.html">On Plug in Area</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onPrintingBreak.html">On Printing Break</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onPrintingDetail.html">On Printing Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onPrintingFooter.html">On Printing Footer</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onResize.html">On Resize</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onRowMoved.html">On Row Moved</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onRowResize.html">On Row Resize</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onScroll.html">On Scroll</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onSelectionChange.html">On Selection Change</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onTimer.html">On Timer</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onUnload.html">On Unload</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onUrlFiltering.html">On URL Filtering</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onUrlLoadingError.html">On URL Loading Error</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onUrlResourceLoading.html">On URL Resource Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onValidate.html">On Validate</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onVpReady.html">On VP Ready</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Events/onWindowOpeningDenied.html">On Window Opening Denied</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">メニュー<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ja/Menus/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Menus/creating.html">メニューとメニューバーの作成</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Menus/properties.html">メニュープロパティ</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Menus/bars.html">Menu bar features</a></li><li class="navListItem"><a class="navItem" href="/docs/ja/Menus/sdi.html">SDI mode on Windows</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/master/docs/FormObjects/listbox_overview.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">リストボックス</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="概要"></a><a href="#概要" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>概要</h2>
<p>リストボックスは複合アクティブオブジェクトで、同期化された複数列 (カラムとも呼びます) の形式でデータの表示・入力がおこなえます。 リストボックスは、エンティティセレクションやレコードセレクションなどのデータベースコンテンツのほか、コレクションや配列などのランゲージコンテンツと紐づけることができます。 データ入力、列の並べ替え、イベント管理、外観のカスタマイズ、 列の移動など、リストボックスには高度な機能が備わっています。</p>
<p><img src="/docs/assets/en/FormObjects/listbox.png" alt=""></p>
<p>リストボックスには 1つ以上の列があり、その内容が自動的に同期化されます。 理論上、列数に制限はありません (マシンのリソースに依存します)。</p>
<h3><a class="anchor" aria-hidden="true" id="基本のユーザー機能"></a><a href="#基本のユーザー機能" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基本のユーザー機能</h3>
<p>実行中、リストボックスはリストとしてデータを表示し、入力を受け付けます。 セルを編集可能にするには (<a href="#入力の管理">その列について入力が許可されていれば</a>)、セル上で2回クリックします:</p>
<p><img src="/docs/assets/en/FormObjects/listbox_edit.png" alt=""></p>
<p>リストボックスのセルには、複数行のテキストを入力・表示できます。 セル内で改行するには、<strong>Ctrl+Return</strong> (Windows) または <strong>Command+Return</strong> (macOS) を押します。</p>
<p>セルにはブールやピクチャー、日付、時間、数値も表示することができます。 ヘッダーをクリックすると、列の値をソートできます (<a href="ソートの管理">標準ソート</a>)。 すべての列が自動で同期されます。</p>
<p>またそれぞれの列幅を変更できるほか、ユーザーはマウスを使用して <a href="/docs/ja/FormObjects/propertiesListBox.html#locked-columns-and-static-columns">列</a> や <a href="/docs/ja/FormObjects/propertiesAction.html#movable-rows">行</a> の順番を (そのアクションが許可されていれば) 入れ替えることもできます。 リストボックスは <a href="#階層リストボックス">階層モード</a> で使用することもできます。</p>
<p>ユーザーは標準のショートカットを使用して 1つ以上の行を選択できます。<strong>Shift+クリック</strong> で連続した行を、<strong>Ctrl+クリック</strong> (Windows) や <strong>Command+クリック</strong> (macOS) で非連続行を選択できます。</p>
<h3><a class="anchor" aria-hidden="true" id="リストボックスの構成要素"></a><a href="#リストボックスの構成要素" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>リストボックスの構成要素</h3>
<p>リストボックスオブジェクトは、以下4つの項目で構成されます:</p>
<ul>
<li>リストボックスオブジェクトの全体</li>
<li>列</li>
<li>列ヘッダー</li>
<li>列フッター</li>
</ul>
<p><img src="/docs/assets/en/FormObjects/listbox_parts.png" alt=""></p>
<p>それぞれが独自のオブジェクト名や固有のプロパティを持ちます。 たとえば、列の数や、交互に使用する行の背景色などはリストボックスオブジェクトのプロパティで指定し、各列の幅は列プロパティ、ヘッダーのフォントはヘッダープロパティで指定します。</p>
<p>リストボックスオブジェクトやリストボックスの各列に対して、オブジェクトメソッドを設定することができます。 オブジェクトメソッドの呼び出しは、次の順でおこなわれます:</p>
<ol>
<li>各列のオブジェクトメソッド</li>
<li>リストボックスのオブジェクトメソッド</li>
</ol>
<p><a href="#リストボックスヘッダー">ヘッダー</a> と <a href="#リストボックスフッター">フッター</a> で発生したイベントは、その列のオブジェクトメソッドが受け取ります。</p>
<h3><a class="anchor" aria-hidden="true" id="リストボックスの型"></a><a href="#リストボックスの型" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>リストボックスの型</h3>
<p>リストボックスには複数のタイプがあり、動作やプロパティの点で異なります。 リストボックスの型は <a href="/docs/ja/FormObjects/propertiesObject.html#データソース">データソースプロパティ</a> で定義します:</p>
<ul>
<li><strong>配列</strong>: 各列に 4D 配列を割り当てます。 配列タイプのリストボックスは <a href="/docs/ja/FormObjects/listboxOverview.html#階層リストボックス">階層リストボックス</a> として表示することができます。</li>
<li><strong>セレクション</strong> (<strong>カレントセレクション</strong> または <strong>命名セレクション</strong>): 各列に式 (たとえばフィールド) を割り当てます。それぞれの行はセレクションのレコードを基に評価されます。</li>
<li><strong>コレクションまたはエンティティセレクション</strong>: 各列に式を割り当てます。各行の中身はコレクションの要素ごと、あるいはエンティティセレクションのエンティティごとに評価されます。</li>
</ul>
<blockquote>
<p>1つのリストボックス内に複数のデータソースタイプを組み合わせて指定することはできません。 データソースは、リストボックス作成時に定義され、 プログラムによって後から変更することはできません。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="リストボックスの管理"></a><a href="#リストボックスの管理" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>リストボックスの管理</h3>
<p>リストボックスオブジェクトはプロパティによってあらかじめ設定可能なほか、プログラムにより動的に管理することもできます。</p>
<p>4D ランゲージにはリストボックス関連のコマンドをまとめた &quot;リストボックス&quot; テーマが専用に設けられていますが、&quot;オブジェクトプロパティ&quot; コマンドや <code>EDIT ITEM</code>、<code>Displayed line number</code> コマンドなど、ほかのテーマのコマンドも利用することができます。 詳細については <em>4D ランゲージリファレンスマニュアル</em> の<a href="https://doc.4d.com/4Dv18/4D/18/List-Box-Commands-Summary.300-4505230.ja.html">リストボックスコマンド一覧</a>を参照してください。</p>
<h2><a class="anchor" aria-hidden="true" id="リストボックスオブジェクト"></a><a href="#リストボックスオブジェクト" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>リストボックスオブジェクト</h2>
<h3><a class="anchor" aria-hidden="true" id="配列リストボックス"></a><a href="#配列リストボックス" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>配列リストボックス</h3>
<p>配列リストボックスでは、それぞれの列に 4D の 1次元配列を割り当てなければなりません。ポインター配列を除きすべてのタイプの配列を使用できま す。 行数は配列の要素数により決定されます。</p>
<p>デフォルトで 4D は各列に “ColumnX” という名前を割り当てます。 この配列変数名は <a href="/docs/ja/FormObjects/listboxOverview.html#列特有のプロパティ">列のプロパティ</a> で変更できます (プロパティリストの <a href="/docs/ja/FormObjects/propertiesObject.html#変数あるいは式">変数あるいは式</a> プロパティを使用します)。 列ごとの表示フォーマットを指定するには、<code>OBJECT SET FORMAT</code> コマンドも使用できます。</p>
<blockquote>
<p>配列タイプのリストボックスは、特別なメカニズムをもつ <a href="/docs/ja/FormObjects/listboxOverview.html#階層リストボックス">階層モード</a> で表示することができます。</p>
</blockquote>
<p>配列タイプのリストボックスでは、入力あるいは表示される値は 4Dランゲージで制御します。 列に <a href="/docs/ja/FormObjects/propertiesDataSource.html#選択リスト">選択リスト</a> を割り当てて、データ入力を制御することもできます。 リストボックスのハイレベルコマンド (<code>LISTBOX INSERT ROWS</code> や <code>LISTBOX DELETE ROWS</code> 等) や配列操作コマンドを使用して、列の値を管理します。 たとえば、列の内容を初期化するには、以下の命令を使用できます:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function">ARRAY TEXT</span>(varCol;size)
</code></pre>
<p>リストを使用することもできます:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function">LIST TO ARRAY</span>(<span class="hljs-string">"ListName"</span>;varCol)
</code></pre>
<blockquote>
<p><strong>警告</strong>: 異なる配列サイズの列がリストボックスに含まれる場合、もっとも小さい配列サイズの数だけを表示します。 そのため、各配列の要素数は同じにしなければなりません。 リストボックスの列が一つでも空の場合 (ランゲージにより配列が正しく定義またはサイズ設定されなかったときに発生します)、リストボックスは何も表示しません。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="セレクションリストボックス"></a><a href="#セレクションリストボックス" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>セレクションリストボックス</h3>
<p>このタイプのリストボックスでは、列ごとにフィールド (例: <code>[Employees]LastName</code>) や式を割り当てます。 式は 1つ以上のフィールド (たとえば <code>[Employees]FirstName+“ ”[Employees]LastName</code>) または単にフォーミュラ (たとえば <code>String(Milliseconds)</code>) を使用できます。 式にはプロジェクトメソッド、変数、あるいは配列項目も指定できます。 カラムをプログラムで変更するには、<code>LISTBOX SET COLUMN FORMULA</code> および <code>LISTBOX INSERT COLUMN FORMULA</code> コマンドを使用します。</p>
<p>それぞれの行はセレクションのレコードを基に評価されます。セレクションは <strong>カレントセレクション</strong> または <strong>命名セレクション</strong>です。</p>
<p>デー タソースがカレントセレクションである場合、データベースに対しておこなわれた変更はリストボックスに自動で反映され、またリストボックスへの変更も自動で データベースに適用されます。 つまりカレントセレクションは常に両方で同じです。</p>
<h3><a class="anchor" aria-hidden="true" id="コレクションまたはエンティティセレクションリストボックス"></a><a href="#コレクションまたはエンティティセレクションリストボックス" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>コレクションまたはエンティティセレクションリストボックス</h3>
<p>このタイプのリストボックスでは、各カラムに式が割り当てられている必要があります。 各行の中身はコレクション要素ごと、あるいはエンティティセレクションのエンティティごとに評価されます。</p>
<p>コレクションの各要素、またはエンティティセレクションの各エンティティは、<a href="https://doc.4d.com/4Dv18/4D/18/This.301-4504875.ja.html">This</a> コマンドを用いてオブジェクトとして取得します。 カラムの式にはプロジェクトメソッド、変数、あるいはフォーミュラが指定可能で、<code>This</code> を通して得た各エンティティあるいはコレクション要素オブジェクトが利用できます。例: <code>This.&lt;propertyPath&gt;</code> (あるいはスカラー値のコレクションの場合は <code>This.value</code>)。 カラムをプログラムで変更するには、<code>LISTBOX SET COLUMN FORMULA</code> および <code>LISTBOX INSERT COLUMN FORMULA</code> コマンドを使用します。</p>
<p>データソースがエンティティセレクションの場合、リストボックス側に対しておこなった変更は自動的にデータベースに保存されます。 その一方で、データベース側に対しておこなった変更は、該当エンティティがリロードされてはじめてリストボックス側に反映されます。</p>
<p>データソースがコレクションの場合、リストボックス内の値に変更をおこなった場合、その変更はコレクションにも反映されます。 その一方で、コレクションに対して、たとえば <em>コレクション</em> テーマの様々なメソッドを使用して変更をおこなった場合、コレクション変数を自らに再代入することで明示的に 4D に通知する必要があり、それによってリストボックスのコンテンツは更新されます。 たとえば:</p>
<pre><code class="hljs css language-4d">myCol:=myCol.<span class="hljs-function">push</span>(<span class="hljs-string">"new value"</span>) <span class="hljs-comment">// リストボックスに new value を表示</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="プロパティ一覧"></a><a href="#プロパティ一覧" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>プロパティ一覧</h3>
<p>提供されるプロパティはリストボックスのタイプに依存します。</p>
<table>
<thead>
<tr><th>プロパティ</th><th>配列リストボックス</th><th>セレクションリストボックス</th><th>コレクションまたはエンティティセレクションリストボックス</th></tr>
</thead>
<tbody>
<tr><td><a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#交互に使用する背景色">交互に使用する背景色</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#背景色-塗りカラー">背景色</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#太字">太字</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#背景色式">背景色式</a></td><td></td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#境界線スタイル">境界線スタイル</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#下">下</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesObject.html#CSSクラス">クラス</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesObject.html#コレクションまたはエンティティセレクション">コレクションまたはエンティティセレクション</a></td><td></td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesResizingOptions.html#カラム自動リサイズ">カラム自動リサイズ</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesDataSource.html#カレントの項目">カレントの項目</a></td><td></td><td></td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesDataSource.html#カレントの項目の位置">カレントの項目の位置</a></td><td></td><td></td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesObject.html#データソース">データソース</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesListBox.html#詳細フォーム名">詳細フォーム名</a></td><td></td><td>○</td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesHeaders.html#ヘッダーを表示">ヘッダーを表示</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesHeaders.html#フッターを表示">フッターを表示</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesListBox.html#行をダブルクリック">行をダブルクリック</a></td><td></td><td>○</td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesAction.html#ドラッグ有効">ドラッグ有効</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesAction.html#ドラッグ有効">ドロップ有効</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesEntry.html#フォーカス可">フォーカス可</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#フォント">フォント</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#フォントカラー">フォントカラー</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#フォントカラー式">フォントカラー式</a></td><td></td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#フォントサイズ">フォントサイズ</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#高さ">高さ (リストボックス)</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesHeaders.html#高さ">高さ (ヘッダー)</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesFooters.html#高さ">高さ (フッター)</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#追加の空白の行を非表示">追加の空白の行を非表示</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesAppearance.html#フォーカスの四角を隠す">フォーカスの四角を隠す</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesAppearance.html#セレクションハイライトを非表示">セレクションハイライトを非表示</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesObject.html#階層リストボックス">階層リストボックス</a></td><td>○</td><td></td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesListBox.html#ハイライトセット">ハイライトセット</a></td><td></td><td>○</td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#横揃え">横揃え</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesGridlines.html#横線カラー">横線カラー</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesAppearance.html#縦スクロールバー">横スクロールバー</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesResizingOptions.html#横方向サイズ変更">横方向サイズ変更</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#イタリック">イタリック</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#左">左</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesDataSource.html#マスターテーブル">マスターテーブル</a></td><td></td><td>○</td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#メタ情報式">メタ情報式</a></td><td></td><td></td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesAction.html#メソッド">メソッド</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesAction.html#行の移動可">行の移動可</a></td><td>○</td><td></td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesDataSource.html#命名セレクション">命名セレクション</a></td><td></td><td>○</td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesListBox.html#列数">列数</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesListBox.html#スクロールしない列数">スクロールしない列数</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesListBox.html#スクロールしない列数">ドラッグしない列数</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesObject.html#オブジェクト名">オブジェクト名</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#右">右</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#行背景色配列">行背景色配列</a></td><td>○</td><td></td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesListBox.html#行コントロール配列">行コントロール配列</a></td><td>○</td><td></td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#行フォントカラー式">行フォントカラー配列</a></td><td>○</td><td></td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#行の高さ">行の高さ</a></td><td>○</td><td></td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#行高さ配列">行高さ配列</a></td><td>○</td><td></td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#行スタイル配列">行スタイル配列</a></td><td>○</td><td></td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesDataSource.html#選択された項目">選択された項目</a></td><td></td><td></td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesListBox.html#選択モード">選択モード</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesEntry.html#シングルクリック編集">シングルクリック編集</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesAction.html#ソート可">ソート可</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesAction.html#標準アクション">標準アクション</a></td><td>○</td><td></td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#スタイル式">スタイル式</a></td><td></td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#上">上</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#透過">透過</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesObject.html#タイプ">タイプ</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#下線">下線</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesObject.html#変数あるいは式">変数あるいは式</a></td><td>○</td><td>○</td><td></td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesText.html#縦揃え">縦揃え</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesGridlines.html#縦線カラー">縦線カラー</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesAppearance.html#縦スクロールバー">縦スクロールバー</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesResizingOptions.html#縦方向サイズ変更">縦方向サイズ変更</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesDisplay.html#表示状態">表示状態</a></td><td>○</td><td>○</td><td>○</td></tr>
<tr><td><a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#幅">幅</a></td><td>○</td><td>○</td><td>○</td></tr>
</tbody>
</table>
<blockquote>
<p>リストボックスの列、ヘッダーおよびフッターにもそれぞれ固有のプロパティがあります。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="フォームイベント"></a><a href="#フォームイベント" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>フォームイベント</h3>
<table>
<thead>
<tr><th>フォームイベント</th><th>取得される追加プロパティ (メインプロパティについては<a href="https://doc.4d.com/4Dv18/4D/18/FORM-Event.301-4522191.ja.html">Form event</a> 参照)</th><th>コメント</th></tr>
</thead>
<tbody>
<tr><td>On After Edit</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On After Keystroke</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On After Sort</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">headerName</a></li></td><td><em>複合フォーミュラはソート不可 <br>(例: This.firstName + This.lastName)</em></td></tr>
<tr><td>On Alternative Click</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td><em>配列リストボックスのみ</em></td></tr>
<tr><td>On Before Data Entry</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Before Keystroke</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Begin Drag Over</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Clicked</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Close Detail</td><td><li><a href="#追加プロパティ">row</a></li></td><td><em>カレントセレクション&amp;命名セレクションリストボックスのみ</em></td></tr>
<tr><td>On Collapse</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td><em>階層リストボックスのみ</em></td></tr>
<tr><td>On Column Moved</td><td><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">newPosition</a></li><li><a href="#追加プロパティ">oldPosition</a></li></td><td></td></tr>
<tr><td>On Column Resize</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">newSize</a></li><li><a href="#追加プロパティ">oldSize</a></li></td><td></td></tr>
<tr><td>On Data Change</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Delete Action</td><td><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Display Detail</td><td><li><a href="#追加プロパティ">isRowSelected</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Double Clicked</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Drag Over</td><td><li><a href="#追加プロパティ">area</a></li><li><a href="#追加プロパティ">areaName</a></li><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Drop</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Expand</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td><em>階層リストボックスのみ</em></td></tr>
<tr><td>On Footer Click</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">footerName</a></li></td><td><em>配列、カレントセレクション&amp;命名セレクションリストボックスのみ</em></td></tr>
<tr><td>On Getting Focus</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td><em>追加プロパティの取得はセル編集時のみ</em></td></tr>
<tr><td>On Header Click</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">headerName</a></li></td><td></td></tr>
<tr><td>On Load</td><td></td><td></td></tr>
<tr><td>On Losing Focus</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td><em>追加プロパティの取得はセル編集完了時のみ</em></td></tr>
<tr><td>On Mouse Enter</td><td><li><a href="#追加プロパティ">area</a></li><li><a href="#追加プロパティ">areaName</a></li><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Mouse Leave</td><td></td><td></td></tr>
<tr><td>On Mouse Move</td><td><li><a href="#追加プロパティ">area</a></li><li><a href="#追加プロパティ">areaName</a></li><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Open Detail</td><td><li><a href="#追加プロパティ">row</a></li></td><td><em>カレントセレクション&amp;命名セレクションリストボックスのみ</em></td></tr>
<tr><td>On Row Moved</td><td><li><a href="#追加プロパティ">newPosition</a></li><li><a href="#追加プロパティ">oldPosition</a></li></td><td><em>配列リストボックスのみ</em></td></tr>
<tr><td>On Selection Change</td><td></td><td></td></tr>
<tr><td>On Scroll</td><td><li><a href="#追加プロパティ">horizontalScroll</a></li><li><a href="#追加プロパティ">verticalScroll</a></li></td><td></td></tr>
<tr><td>On Unload</td><td></td><td></td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="追加プロパティ"></a><a href="#追加プロパティ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>追加プロパティ</h4>
<p>リストボックスやリストボックス列オブジェクトにて発生するフォームイベントは、次の追加プロパティを返すことがあります:</p>
<table>
<thead>
<tr><th>プロパティ</th><th>タイプ</th><th>説明</th></tr>
</thead>
<tbody>
<tr><td>area</td><td>text</td><td>リストボックスオブジェクトエリア (&quot;header&quot;, &quot;footer&quot;, &quot;cell&quot;)</td></tr>
<tr><td>areaName</td><td>text</td><td>エリアの名称</td></tr>
<tr><td>column</td><td>倍長整数</td><td>列番号</td></tr>
<tr><td>columnName</td><td>text</td><td>列の名称</td></tr>
<tr><td>footerName</td><td>text</td><td>フッターの名称</td></tr>
<tr><td>headerName</td><td>text</td><td>ヘッダーの名称</td></tr>
<tr><td>horizontalScroll</td><td>倍長整数</td><td>右方向スクロールの場合は正の数値、左方向の場合は負の数値</td></tr>
<tr><td>isRowSelected</td><td>boolean</td><td>行が選択されていれば true、でなければ false</td></tr>
<tr><td>newPosition</td><td>倍長整数</td><td>列あるいは行の変更後の位置</td></tr>
<tr><td>newSize</td><td>倍長整数</td><td>列または行の変更後のサイズ (ピクセル単位)</td></tr>
<tr><td>oldPosition</td><td>倍長整数</td><td>列あるいは行の変更前の位置</td></tr>
<tr><td>oldSize</td><td>倍長整数</td><td>列または行の変更前のサイズ (ピクセル単位)</td></tr>
<tr><td>row</td><td>倍長整数</td><td>行番号</td></tr>
<tr><td>verticalScroll</td><td>倍長整数</td><td>下方向スクロールの場合は正の数値、上方向の場合は負の数値</td></tr>
</tbody>
</table>
<blockquote>
<p>&quot;偽&quot; カラムや存在しないカラムにてイベントが発生した場合には、主に空の文字列が返されます。</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="リストボックス列"></a><a href="#リストボックス列" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>リストボックス列</h2>
<p>リストボックスは、それぞれ固有のプロパティを持つ 1つ以上の列オブジェクトから構成されています。 列を選択するには、フォームエディターでリストボックスオブジェクトが選択されているときに任意の列をクリックします:</p>
<p><img src="/docs/assets/en/FormObjects/listbox_column.png" alt=""></p>
<p>リストボックスの各列毎に標準のプロパティ (テキスト、背景色など) を設定できます。設定すると、リストボックスに対する設定よりもこちらが優先されます。</p>
<blockquote>
<p>配列型リストボックスのカラムについては、<a href="/docs/ja/FormObjects/propertiesObject.html#式の型-式タイプ">式タイプ</a> (テキスト、数値、整数、ブール、ピクチャー、時間、日付、あるいはオブジェクト) を定義することができます。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="列特有のプロパティ"></a><a href="#列特有のプロパティ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>列特有のプロパティ</h3>
<p><a href="/docs/ja/FormObjects/propertiesObject.html#オブジェクト名">オブジェクト名</a> - <a href="/docs/ja/FormObjects/propertiesObject.html#変数あるいは式">変数あるいは式</a> - <a href="/docs/ja/FormObjects/propertiesObject.html#式の型-式タイプ">式タイプ (配列リストボックス列)</a> - <a href="/docs/ja/FormObjects/propertiesObject.html#CSSクラス">CSSクラス</a> - <a href="/docs/ja/FormObjects/propertiesDataSource.html#デフォルト値">デフォルト値</a> - <a href="/docs/ja/FormObjects/propertiesDataSource.html#選択リスト">選択リスト</a> - <a href="/docs/ja/FormObjects/propertiesDataSource.html#式">式</a> - <a href="/docs/ja/FormObjects/propertiesDataSource.html#データタイプ">データタイプ (セレクションおよびコレクションリストボックス列)</a> - <a href="/docs/ja/FormObjects/propertiesDataSource.html#関連付け">関連付け</a> - <a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#幅">幅</a> - <a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#自動行高">自動行高</a> - <a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#最小幅">最小幅</a> - <a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#最大幅">最大幅</a> - <a href="/docs/ja/FormObjects/propertiesResizingOptions.html#サイズ変更可">サイズ変更可</a> - <a href="/docs/ja/FormObjects/propertiesEntry.html#入力可">入力可</a> - <a href="/docs/ja/FormObjects/propertiesEntry.html#入力フィルター">入力フィルター</a> - <a href="/docs/ja/FormObjects/propertiesRangeOfValues.html#指定リスト">指定リスト</a> - <a href="/docs/ja/FormObjects/propertiesRangeOfValues.html#除外リスト">除外リスト</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#表示タイプ">表示タイプ</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#文字フォーマット">文字フォーマット</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#数値フォーマット">数値フォーマット</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#テキスト-(True時)-テキスト-(False時)">テキスト (True時)/テキスト (False時)</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#日付フォーマット">日付フォーマット</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#時間フォーマット">時間フォーマット</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#ピクチャーフォーマット">ピクチャーフォーマット</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#表示状態">非表示</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#ワードラップ">ワードラップ</a> <a href="/docs/ja/FormObjects/propertiesDisplay.html#エリプシスを使用して省略">エリプシスを使用して省略</a> - <a href="/docs/ja/FormObjects/propertiesText.html#背景色">背景色</a> - <a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#交互に使用する背景色">交互に使用する背景色</a> - <a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#行背景色配列">行背景色配列</a> - <a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#背景色式">背景色式</a> - <a href="/docs/ja/FormObjects/propertiesText.html#フォント">フォント</a> - <a href="/docs/ja/FormObjects/propertiesText.html#太字">太字</a> - <a href="/docs/ja/FormObjects/propertiesText.html#イタリック">イタリック</a> - <a href="/docs/ja/FormObjects/propertiesText.html#下線">下線</a> - <a href="/docs/ja/FormObjects/propertiesText.html#行スタイル配列">行スタイル配列</a> - <a href="/docs/ja/FormObjects/propertiesText.html#スタイル式">スタイル式</a> - <a href="/docs/ja/FormObjects/propertiesText.html#フォントカラー">フォントカラー</a> - <a href="/docs/ja/FormObjects/propertiesText.html#行フォントカラー配列">行フォントカラー配列</a> - <a href="/docs/ja/FormObjects/propertiesText.html#行フォントカラー式">行フォントカラー式</a> - <a href="/docs/ja/FormObjects/propertiesText.html#横揃え">横揃え</a> - <a href="/docs/ja/FormObjects/propertiesText.html#縦揃え">縦揃え</a> - <a href="/docs/ja/FormObjects/propertiesText.html#マルチスタイル">マルチスタイル</a> - <a href="/docs/ja/FormObjects/propertiesAction.html#メソッド">メソッド</a></p>
<h3><a class="anchor" aria-hidden="true" id="フォームイベント-1"></a><a href="#フォームイベント-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>フォームイベント</h3>
<table>
<thead>
<tr><th>フォームイベント</th><th>取得される追加プロパティ (メインプロパティについては<a href="https://doc.4d.com/4Dv18/4D/18/FORM-Event.301-4522191.ja.html">Form event</a> 参照)</th><th>コメント</th></tr>
</thead>
<tbody>
<tr><td>On After Edit</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On After Keystroke</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On After Sort</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">headerName</a></li></td><td><em>複合フォーミュラはソート不可 <br>(例: This.firstName + This.lastName)</em></td></tr>
<tr><td>On Alternative Click</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td><em>配列リストボックスのみ</em></td></tr>
<tr><td>On Before Data Entry</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Before Keystroke</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Begin Drag Over</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Clicked</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Column Moved</td><td><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">newPosition</a></li><li><a href="#追加プロパティ">oldPosition</a></li></td><td></td></tr>
<tr><td>On Column Resize</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">newSize</a></li><li><a href="#追加プロパティ">oldSize</a></li></td><td></td></tr>
<tr><td>On Data Change</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Double Clicked</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Drag Over</td><td><li><a href="#追加プロパティ">area</a></li><li><a href="#追加プロパティ">areaName</a></li><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Drop</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td></td></tr>
<tr><td>On Footer Click</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">footerName</a></li></td><td><em>配列、カレントセレクション&amp;命名セレクションリストボックスのみ</em></td></tr>
<tr><td>On Getting Focus</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td><em>追加プロパティの取得はセル編集時のみ</em></td></tr>
<tr><td>On Header Click</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">headerName</a></li></td><td></td></tr>
<tr><td>On Load</td><td></td><td></td></tr>
<tr><td>On Losing Focus</td><td><li><a href="#追加プロパティ">column</a></li><li><a href="#追加プロパティ">columnName</a></li><li><a href="#追加プロパティ">row</a></li></td><td><em>追加プロパティの取得はセル編集完了時のみ</em></td></tr>
<tr><td>On Row Moved</td><td><li><a href="#追加プロパティ">newPosition</a></li><li><a href="#追加プロパティ">oldPosition</a></li></td><td><em>配列リストボックスのみ</em></td></tr>
<tr><td>On Scroll</td><td><li><a href="#追加プロパティ">horizontalScroll</a></li><li><a href="#追加プロパティ">verticalScroll</a></li></td><td></td></tr>
<tr><td>On Unload</td><td></td><td></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="リストボックスヘッダー"></a><a href="#リストボックスヘッダー" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>リストボックスヘッダー</h2>
<blockquote>
<p>リストボックスのヘッダープロパティにアクセスするためには、リストボックスのプロパティリストで <a href="/docs/ja/FormObjects/propertiesHeaders.html#ヘッダーを表示">ヘッダーを表示</a> オプションが選択されていなければなりません。</p>
</blockquote>
<p>ヘッダーが表示されていれば、フォームエディターでリストボックスオブジェクトが選択されているときに、リストボックスヘッダーをクリックするとヘッダーを選択できます:</p>
<p><img src="/docs/assets/en/FormObjects/listbox_header.png" alt=""></p>
<p>リストボックスの各列ヘッダー毎に標準のテキストプロパティを設定できます。設定すると、リストボックスや列に対する設定よりもこちらが優先されます。</p>
<p>さらに、ヘッダー特有のプロパティを設定することができます。 <a href="#ソートの管理">カスタマイズされた並び替え</a> などの用途に、ヘッダーの列タイトルの隣、あるいはタイトルの代わりにアイコンを表示することができます。</p>
<p><img src="/docs/assets/en/FormObjects/lbHeaderIcon.png" alt=""></p>
<p>ランタイムにおいてヘッダーで発生したイベントは、<a href="#オブジェクトメソッド">その列のオブジェクトメソッド</a> が受け取ります。</p>
<p>ヘッダーに <code>OBJECT SET VISIBLE</code> コマンドを使用すると、このコマンドに渡した引数に関わらず、そのリストボックスのすべてのヘッダーが対象になります。 たとえば、<code>OBJECT SET VISIBLE(*;&quot;header3&quot;;False)</code> という命令の場合、指定したヘッダーだけではなく、<em>header3</em> が属するリストボックスの全ヘッダーを非表示にします。</p>
<h3><a class="anchor" aria-hidden="true" id="ヘッダー特有のプロパティ"></a><a href="#ヘッダー特有のプロパティ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ヘッダー特有のプロパティ</h3>
<p><a href="/docs/ja/FormObjects/propertiesObject.html#オブジェクト名">オブジェクト名</a> - <a href="/docs/ja/FormObjects/propertiesObject.html#変数あるいは式">変数あるいは式</a> - <a href="/docs/ja/FormObjects/propertiesObject.html#タイトル">タイトル</a> - <a href="/docs/ja/FormObjects/propertiesObject.html#CSSクラス">CSSクラス</a> - <a href="/docs/ja/FormObjects/propertiesTextAndPicture.html#ピクチャーパス名">パス名</a> - <a href="/docs/ja/FormObjects/propertiesTextAndPicture.html#アイコンの場所">アイコンの場所</a> - <a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#幅">幅</a> - <a href="/docs/ja/FormObjects/propertiesText.html#フォント">フォント</a> - <a href="/docs/ja/FormObjects/propertiesText.html#フォントサイズ">フォントサイズ</a> - <a href="/docs/ja/FormObjects/propertiesText.html#太字">太字</a> - <a href="/docs/ja/FormObjects/propertiesText.html#イタリック">イタリック</a> - <a href="/docs/ja/FormObjects/propertiesText.html#下線">下線</a> - <a href="/docs/ja/FormObjects/propertiesText.html#フォントカラー">フォントカラー</a> - <a href="/docs/ja/FormObjects/propertiesText.html#横揃え">横揃え</a> - <a href="/docs/ja/FormObjects/propertiesText.html#縦揃え">縦揃え</a> - <a href="/docs/ja/FormObjects/propertiesHelp.html#ヘルプTips">ヘルプTips</a></p>
<h2><a class="anchor" aria-hidden="true" id="リストボックスフッター"></a><a href="#リストボックスフッター" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>リストボックスフッター</h2>
<blockquote>
<p>リストボックスのフッタープロパティにアクセスするためには、リストボックスのプロパティリストで <a href="/docs/ja/FormObjects/propertiesFooters.html#フッターを表示">フッターを表示</a> オプションが選択されていなければなりません。</p>
</blockquote>
<p>リストボックスは、追加の情報を表示するための入力を受け付けない &quot;フッター&quot; を持つことができます。 表形式で表示されるデータについて、合計や平均などの計算値を表示するためにフッターは通常使用されます。</p>
<p>フッターが表示されていれば、フォームエディターでリストボックスオブジェクトが選択されているときにフッターをクリックすることで選択できます:</p>
<p><img src="/docs/assets/en/FormObjects/listbox_footers.png" alt=""></p>
<p>リストボックスの各列フッター毎に標準のテキストプロパティを設定できます。設定すると、リストボックスや列に対する設定よりもこちらが優先されます。 さらに、フッター特有のプロパティを設定することができます。 <a href="/docs/ja/FormObjects/propertiesObject.html#変数の計算">カスタムまたは自動計算</a> をフッターに挿入することができます。</p>
<p>ランタイムにおいてフッターで発生したイベントは、<a href="#オブジェクトメソッド">その列のオブジェクトメソッド</a> が受け取ります。</p>
<p>フッターに <code>OBJECT SET VISIBLE</code> コマンドを使用すると、このコマンドに渡した引数に関わらず、そのリストボックスのすべてのフッターが対象になります。 たとえば、<code>OBJECT SET VISIBLE(*;&quot;footer3&quot;;False)</code> という命令の場合、指定したフッターだけではなく、<em>footer3</em> が属するリストボックスの全フッターを非表示にします。</p>
<h3><a class="anchor" aria-hidden="true" id="フッター特有のプロパティ"></a><a href="#フッター特有のプロパティ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>フッター特有のプロパティ</h3>
<p><a href="/docs/ja/FormObjects/propertiesObject.html#オブジェクト名">オブジェクト名</a> - <a href="/docs/ja/FormObjects/propertiesObject.html#変数あるいは式">変数あるいは式</a> - <a href="/docs/ja/FormObjects/propertiesObject.html#式の型">式の型</a> - <a href="/docs/ja/FormObjects/propertiesObject.html#変数の計算">変数の計算</a> - <a href="/docs/ja/FormObjects/propertiesObject.html#CSSクラス">CSSクラス</a> - <a href="/docs/ja/FormObjects/propertiesCoordinatesAndSizing.html#幅">幅</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#文字フォーマット">文字フォーマット</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#数値フォーマット">数値フォーマット</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#日付フォーマット">日付フォーマット</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#時間フォーマット">時間フォーマット</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#ピクチャーフォーマット">ピクチャーフォーマット</a> - <a href="/docs/ja/FormObjects/propertiesDisplay.html#ワードラップ">ワードラップ</a> <a href="/docs/ja/FormObjects/propertiesDisplay.html#エリプシスを使用して省略">エリプシスを使用して省略</a> - <a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#背景色-塗りカラー">背景色</a> - <a href="/docs/ja/FormObjects/propertiesText.html#フォント">フォント</a> - <a href="/docs/ja/FormObjects/propertiesText.html#フォントサイズ">フォントサイズ</a> - <a href="/docs/ja/FormObjects/propertiesText.html#太字">太字</a> - <a href="/docs/ja/FormObjects/propertiesText.html#イタリック">イタリック</a> - <a href="/docs/ja/FormObjects/propertiesText.html#下線">下線</a> - <a href="/docs/ja/FormObjects/propertiesText.html#フォントカラー">フォントカラー</a> - <a href="/docs/ja/FormObjects/propertiesText.html#横揃え">横揃え</a> - <a href="/docs/ja/FormObjects/propertiesText.html#縦揃え">縦揃え</a> - <a href="/docs/ja/FormObjects/propertiesHelp.html#ヘルプTips">ヘルプTips</a></p>
<h2><a class="anchor" aria-hidden="true" id="入力の管理"></a><a href="#入力の管理" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>入力の管理</h2>
<p>リストボックスのセルが入力可能であるには、以下の条件を満たす必要があります:</p>
<ul>
<li>セルが属する列が <a href="/docs/ja/FormObjects/propertiesEntry.html#入力可">入力可</a> に設定されている (でなければ、その列のセルには入力できません)。</li>
<li><code>On Before Data Entry</code> イベントで $0 が -1 を返さない。 カーソルがセルに入ると、その列のメソッドで <code>On Before Data Entry</code> イベントが生成されます。 このイベントのコンテキストにおいて、$0 に -1 を設定すると、そのセルは入力不可として扱われます。 <strong>Tab</strong> や <strong>Shift+Tab</strong> が押された後にイベントが生成された場合には、フォーカスはそれぞれ次あるいは前のセルに移動します。 $0 が -1 でなければ (デフォルトは 0)、列は入力可であり編集モードに移行します。</li>
</ul>
<p>2つの配列で構築されるリストボックスを考えてみましょう。1つは日付でもう 1つはテキストです。 日付配列は入力不可ですが、テキスト配列は日付が過去でない場合に入力可とします。</p>
<p><img src="/docs/assets/en/FormObjects/listbox_entry.png" alt=""></p>
<p><em>arrText</em> 列のメソッドは以下の通りです:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>
    :(FORM event.code=On Before Data Entry) <span class="hljs-comment">// セルがフォーカスを得たとき</span>
<span class="hljs-function">       LISTBOX GET CELL POSITION</span>(*;<span class="hljs-string">"lb"</span>;<span class="hljs-variable">$col</span>;<span class="hljs-variable">$row</span>)
  <span class="hljs-comment">// セルの特定</span><span class="hljs-keyword">
       If</span>(arrDate{<span class="hljs-variable">$row}</span>&lt;Current date) <span class="hljs-comment">// 過去の日付なら</span>
          <span class="hljs-variable">$0</span>:=<span class="hljs-number">-1</span> <span class="hljs-comment">// セルは入力不可</span><span class="hljs-keyword">
       Else</span>
  <span class="hljs-comment">// そうでなければ入力可</span><span class="hljs-keyword">
       End if</span><span class="hljs-keyword">
 End case</span>
</code></pre>
<p><code>On Before Data Entry</code> イベントは <code>On Getting Focus</code> より前に生成されます。</p>
<p>データの整合性を保つため、セレクション型とエンティティセレクション型のリストボックスにおいては、レコード/エンティティに対する変更はセル内の編集が確定されたときに自動的に保存されます。確定は、以下のような場合を指します:</p>
<ul>
<li>セルがアクティブでなくなったとき (ユーザーによるタブキー押下、クリック操作など)</li>
<li>リストボックスからフォーカスが外れたとき</li>
<li>フォームからフォーカスが外れたとき</li>
</ul>
<p>データ入力・編集操作にともなって発生するイベントのシーケンスは次のようになります:</p>
<table>
<thead>
<tr><th>動作</th><th>リストボックス型</th><th>イベントシーケンス</th></tr>
</thead>
<tbody>
<tr><td>セルが編集モードに切り替わったとき (ユーザー操作または <code>EDIT ITEM</code> コマンド)</td><td>すべて</td><td>On Before Data Entry</td></tr>
<tr><td></td><td>すべて</td><td>On Getting Focus</td></tr>
<tr><td>セルの値が編集されたとき</td><td>すべて</td><td>On Before Keystroke</td></tr>
<tr><td></td><td>すべて</td><td>On After Keystroke</td></tr>
<tr><td></td><td>すべて</td><td>On After Edit</td></tr>
<tr><td>ユーザーがセルを確定し、セルを移動したとき</td><td>セレクションリストボックス</td><td>保存</td></tr>
<tr><td></td><td>レコードセレクションリストボックス</td><td>On saving an existing record トリガー (設定されていれば)</td></tr>
<tr><td></td><td>セレクションリストボックス</td><td>On Data Change(*)</td></tr>
<tr><td></td><td>エンティティセレクションリストボックス</td><td>エンティティはオートマージオプション、オプティミスティック・ロックモードで保存されます (entity.save( ) を参照ください)。 正常に保存できた場合には、エンティティは更新され最新の状態が表示されます。 保存処理が失敗した場合、エラーが表示されます。</td></tr>
<tr><td></td><td>すべて</td><td>On Losing Focus</td></tr>
</tbody>
</table>
<p>(*) エンティティセレクションリストボックスでの <code>On Data Change</code> イベントの場合:</p>
<ul>
<li><a href="/docs/ja/FormObjects/propertiesDataSource.html#カレントの項目">カレントの項目</a> オブジェクトには編集前の値が格納されます。</li>
<li><code>This</code> オブジェクトには、編集後の値が格納されます。</li>
</ul>
<blockquote>
<p>コレクション/エンティティセレクション型では、式が null に評価される場合にリストボックスでのデータ入力に制約があります。 この場合、セル内の null 値を編集・削除することはできません。</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="選択行の管理"></a><a href="#選択行の管理" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>選択行の管理</h2>
<p>選択行の管理は、リストボックスのタイプが配列か、レコードのセレクションか、あるいはコレクション/エンティティセレクションかによって異なります。</p>
<ul>
<li><p><strong>セレクションリストボックス</strong>: 選択行は、デフォルトで <code>$ListboxSetX</code> と呼ばれる変更可能なセットにより管理されます (X は 0 から始まり、フォーム内のリストボックスの数に応じて一つずつ増加していきます)。 このセットはリストボックスの<a href="/docs/ja/FormObjects/propertiesListBox.html#ハイライトセット">プロパティリスト</a>で定義します。 このセットは 4D が自動で管理します。ユーザーがリストボックス中で 1つ以上の行を選択すると、セットが即座に更新されます。 他方、リストボックスの選択をプログラムから更新するために、&quot;セット&quot; テーマのコマンドを使用することができます。</p></li>
<li><p><strong>コレクション/エンティティセレクションリストボックス</strong>: 選択項目は、専用のリストボックスプロパティを通して管理されます。</p>
<ul>
<li><a href="/docs/ja/FormObjects/propertiesDataSource.html#カレントの項目">カレントの項目</a> は、選択された要素/エンティティを受け取るオブジェクトです。</li>
<li><a href="/docs/ja/FormObjects/propertiesDataSource.html#選択された項目">選択された項目</a> は、選択された項目のコレクションです。</li>
<li><a href="/docs/ja/FormObjects/propertiesDataSource.html#カレントの項目の位置">カレントの項目の位置</a> は、選択された要素あるいはエンティティの位置を返します。</li>
</ul></li>
<li><p><strong>配列リストボックス</strong>: <code>LISTBOX SELECT ROW</code> コマンドを使用して、プログラムからリストボックスの行を選択できます。 <a href="/docs/ja/FormObjects/propertiesObject.html#変数あるいは式">リストボックスオブジェクトにリンクされた変数</a> は、行選択の取得、設定、保存に使用します。 この変数はブール配列で、4Dが自動的に作成・管理します。 この配列のサイズは、リストボックスのサイズにより決定されます。つまり、各列に関連付けられた配列のうち、最も小さな配列と同じ数の要素を持ちます。 この配列の各要素には、対応する行が選択された場合には <code>true</code> が、それ以外の場合は <code>false</code> が設定されます。 4D は、ユーザーの動作に応じてこの配列の内容を更新します。 これとは逆に、この配列要素の値を変更して、リストボックス中の選択行を変更することができます。 他方、この配列への要素の挿入や削除はできず、行のタイプ変更もできません。 <code>Count in array</code> コマンドを使用して、選択された行の数を調べることができます。 たとえば、以下のメソッドは配列タイプのリストボックスで、最初の行の選択を切り替えます:</p></li>
</ul>
<pre><code class="hljs css language-4d"><span class="hljs-function"> ARRAY BOOLEAN</span>(tBListBox;<span class="hljs-number">10</span>)
  <span class="hljs-comment">// tBListBox はフォーム内にあるリストボックス変数の名前です</span><span class="hljs-keyword">
 If</span>(tBListBox{<span class="hljs-number">1</span>}=<span class="hljs-literal">True</span>)
    tBListBox{<span class="hljs-number">1</span>}:=<span class="hljs-literal">False</span><span class="hljs-keyword">
 Else</span>
    tBListBox{<span class="hljs-number">1</span>}:=<span class="hljs-literal">True</span><span class="hljs-keyword">
 End if</span>
</code></pre>
<blockquote>
<p><code>OBJECT SET SCROLL POSITION</code> コマンドは、最初に選択された行または指定された行を表示するようにリストボックスをスクロールします。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="選択行の見た目のカスタマイズ"></a><a href="#選択行の見た目のカスタマイズ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>選択行の見た目のカスタマイズ</h3>
<p>リストボックスの <a href="/docs/ja/FormObjects/propertiesAppearance.html#セレクションハイライトを非表示">セレクションハイライトを非表示</a> プロパティにチェックを入れている場合には、他のインターフェースオプションを活用してリストボックスの選択行を可視化する必要があります。 ハイライトが非表示になっていても選択行は引き続き 4D によって管理されています。つまり:</p>
<ul>
<li>配列タイプのリストボックスの場合、当該リストボックスにリンクしているブール配列変数から選択行を割り出します。</li>
<li>セレクションタイプのリストボックスの場合、特定行 (レコード) がリストボックスの <a href="/docs/ja/FormObjects/propertiesListBox.html#ハイライトセット">ハイライトセット</a> プロパティで指定しているセットに含まれているかを調べます。</li>
</ul>
<p>特定された選択行は、それらの背景色やフォントカラー、フォントスタイルなどをプログラムによって調整することで、選択行を独自の方法で可視化することが可能です。 リストボックスのタイプによって、表示の管理は配列や式を使用しておこないます (後述参照)。</p>
<blockquote>
<p>リストボックスの現アピアランス (フォントカラー、背景色、フォントスタイル等) を使うには <code>lk inherited</code> 定数が使用できます。</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="セレクションリストボックス-1"></a><a href="#セレクションリストボックス-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>セレクションリストボックス</h4>
<p>選択行を特定するには、リストボックスの <a href="/docs/ja/FormObjects/propertiesListBox.html#ハイライトセット">ハイライトセット</a> プロパティで指定されているセットに対象行が含まれているかを調べます: 選択行のアピアランスを定義するには、プロパティリストにて <a href="#配列と式の使用">カラー式またはスタイル式プロパティ</a> を 1つ以上使います。</p>
<p>次の場合には式が自動的に再評価されることに留意ください:</p>
<ul>
<li>リストボックスのセレクションが変わった場合</li>
<li>リストボックスがフォーカスを得た、あるいは失った場合</li>
<li>リストボックスが設置されたフォームウィンドウが最前面になった、あるいは最前面ではなくなった場合</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="配列リストボックス-1"></a><a href="#配列リストボックス-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>配列リストボックス</h4>
<p>選択行を特定するには、当該リストボックスにリンクしているブール配列 <a href="/docs/ja/FormObjects/propertiesObject.html#変数あるいは式">変数</a> を調べます:</p>
<p>選択行のアピアランスを定義するには、プロパティリストにて <a href="#配列と式の使用">行カラー配列または行スタイル配列プロパティ</a> を 1つ以上使います。</p>
<p>選択行のアピアランスを定義するリストボックス配列は、<code>On Selection Change</code> フォームイベント内で再計算する必要があることに留意が必要です。また、フォーカスの有無を選択行の表示に反映させるには、次のフォームイベント内でもこれらの配列を変更することができます:</p>
<ul>
<li><code>On Getting Focus</code> (リストボックスプロパティ)</li>
<li><code>On Losing Focus</code> (リストボックスプロパティ)</li>
<li><code>On Activate</code> (フォームプロパティ)</li>
<li><code>On Deactivate</code> (フォームプロパティ)</li>
</ul>
<h5><a class="anchor" aria-hidden="true" id="例題"></a><a href="#例題" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>例題</h5>
<p>システムのハイライトを非表示にして、リストボックスの選択行を緑の背景色で表しました:</p>
<p><img src="/docs/assets/en/FormObjects/listbox_styles7.png" alt=""></p>
<p>配列タイプのリストボックスの場合、<a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#行背景色配列">行背景色配列</a> をプログラムにより更新する必要があります。 JSON フォームにおいて、リストボックスに次の行背景色配列を定義した場合:</p>
<pre><code class="hljs">    <span class="hljs-string">"rowFillSource"</span>: <span class="hljs-string">"_ListboxBackground"</span>,
</code></pre>
<p>リストボックスのオブジェクトメソッドに次のように書けます:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>
    :(FORM event.code=On Selection Change)
       <span class="hljs-variable">$n</span>:=<span class="hljs-function">Size of array</span>(LB_Arrays)
<span class="hljs-function">       ARRAY LONGINT</span>(_ListboxBackground;<span class="hljs-variable">$n</span>) <span class="hljs-comment">// 行背景色配列</span><span class="hljs-keyword">
       For</span>(<span class="hljs-variable">$i</span>;<span class="hljs-number">1</span>;<span class="hljs-variable">$n</span>)<span class="hljs-keyword">
          If</span>(LB_Arrays{<span class="hljs-variable">$i}</span>=<span class="hljs-literal">True</span>) <span class="hljs-comment">// 選択されていれば</span>
             _ListboxBackground{<span class="hljs-variable">$i}</span>:=<span class="hljs-number">0x0080C080</span> <span class="hljs-comment">// 背景色を緑にします</span><span class="hljs-keyword">
          Else</span> <span class="hljs-comment">// 選択されていなければ</span>
             _ListboxBackground{<span class="hljs-variable">$i}</span>:=lk inherited<span class="hljs-keyword">
          End if</span><span class="hljs-keyword">
       End for</span><span class="hljs-keyword">
 End case</span>
</code></pre>
<p>セレクションタイプのリストボックスで同じ効果を得るには、<a href="/docs/ja/FormObjects/propertiesListBox.html#ハイライトセット">ハイライトセット</a> プロパティで指定されたセットに応じて <a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#背景色式">背景色式</a> が更新されるよう、メソッドを利用します。</p>
<p>JSON フォームにおいて、リストボックスに次のハイライトセットおよび背景色式を定義した場合:</p>
<pre><code class="hljs">    <span class="hljs-string">"highlightSet"</span>: <span class="hljs-string">"<span class="hljs-variable">$SampleSet</span>"</span>,
    <span class="hljs-string">"rowFillSource"</span>: <span class="hljs-string">"UI_SetColor"</span>,
</code></pre>
<p><em>UI_SetColor</em> メソッドに次のように書けます:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(<span class="hljs-function">Is in set</span>(<span class="hljs-string">"$SampleSet"</span>))
    <span class="hljs-variable">$color</span>:=<span class="hljs-number">0x0080C080</span> <span class="hljs-comment">// 背景色を緑にします</span><span class="hljs-keyword">
 Else</span>
    <span class="hljs-variable">$color</span>:=lk inherited<span class="hljs-keyword">
 End if</span>

 <span class="hljs-variable">$0</span>:=<span class="hljs-variable">$color</span>
</code></pre>
<blockquote>
<p>階層リストボックスにおいては、<a href="/docs/ja/FormObjects/propertiesAppearance.html#セレクションハイライトを非表示">セレクションハイライトを非表示</a> オプションをチェックした場合には、ブレーク行をハイライトすることができません。 同階層のヘッダーの色は個別指定することができないため、任意のブレーク行だけをプログラムでハイライト表示する方法はありません。</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="ソートの管理"></a><a href="#ソートの管理" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ソートの管理</h2>
<p>ヘッダーがクリックされると、リストボックスはデフォルトで標準的なカラムの並べ替えを自動的におこないます。 標準的な並べ替えとは、列の値を英数字順に並べ替え、続けてクリックされると昇順/降順を交互に切り替えます。 すべての列は常に自動で同期されます。</p>
<p>リストボックスの <a href="/docs/ja/FormObjects/propertiesAction.html#ソート可">ソート可</a> プロパティの選択を解除すると、ユーザーによる標準の並べ替えを禁止することができます。</p>
<p>開発者は、<code>LISTBOX SORT COLUMNS</code> コマンドを使用するか、または <code>On Header Click</code> と <code>On After Sort</code> フォームイベント (<code>FORM Event</code>コマンド参照) を 4D の配列管理コマンドを組み合わせて、独自の並べ替えを設定することができます。</p>
<blockquote>
<p><a href="/docs/ja/FormObjects/propertiesAction.html#ソート可">ソート可</a> プロパティは、ユーザーによる標準の並べ替えにのみ影響します。<code>LISTBOX SORT COLUMNS</code> コマンドは、このプロパティを考慮しません。</p>
</blockquote>
<p><a href="/docs/ja/FormObjects/propertiesObject.html#変数あるいは式">列ヘッダー変数</a>の値を使用すると、列の現在の並べ替え状況 (読み込み) や並べ替え矢印の表示など、追加情報を管理することができます。</p>
<ul>
<li><p>変数が 0 のとき、列は並べ替えられておらず、矢印は表示されていません;<br>
<img src="/docs/assets/en/FormObjects/sorticon0.png" alt=""></p></li>
<li><p>変数が 1 のとき、列は昇順で並べ替えられており、並べ替え矢印が表示されています;<br>
<img src="/docs/assets/en/FormObjects/sorticon1.png" alt=""></p></li>
<li><p>変数が 2 のとき、列は降順で並べ替えられており、並べ替え矢印が表示されています。<br>
<img src="/docs/assets/en/FormObjects/sorticon2.png" alt=""></p></li>
</ul>
<p>変数の値を設定して (たとえば Header2:=2)、ソートを表す矢印の表示を強制することができます。 しかし、列のソート順は変更されません、これを処理するのは開発者の役割です。</p>
<blockquote>
<p><code>OBJECT SET FORMAT</code> コマンドは、カスタマイズされた並べ替えアイコンをサポートする機能をリストボックスヘッダー用に提供しています。</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="スタイルとカラー、表示の管理"></a><a href="#スタイルとカラー、表示の管理" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>スタイルとカラー、表示の管理</h2>
<p>リストボックスの背景色、フォントカラー、そしてフォントスタイルを設定するためにはいくつかの方法があります:</p>
<ul>
<li><a href="#リストボックスオブジェクト">リストボックスオブジェクト</a> のプロパティリストを使用</li>
<li><a href="#リストボックス列">列</a> のプロパティリストを使用</li>
<li>リストボックスまたは列ごとの <a href="#配列と式の使用">配列や式</a> プロパティを使用</li>
<li>セルごとのテキストにて定義 (<a href="/docs/ja/FormObjects/propertiesText.html#マルチスタイル">マルチスタイルテキスト</a> の場合)</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="優先順位と継承"></a><a href="#優先順位と継承" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>優先順位と継承</h3>
<p>優先順位や継承の原理は、複数のレベルにわたって同じプロパティに異なる値が指定された場合に適用されます。</p>
<table>
<thead>
<tr><th>優先度</th><th>設定場所</th></tr>
</thead>
<tbody>
<tr><td>優先度高</td><td>セル単位 (マルチスタイル使用時)</td></tr>
<tr><td></td><td>列の配列/メソッド</td></tr>
<tr><td></td><td>リストボックスの配列/メソッド</td></tr>
<tr><td></td><td>列のプロパティ</td></tr>
<tr><td></td><td>リストボックスのプロパティ</td></tr>
<tr><td>優先度低</td><td>メタ情報式 (コレクションまたはエンティティセレクションリストボックスの場合)</td></tr>
</tbody>
</table>
<p>例として、リストボックスのプロパティにてフォントスタイルを設定しながら、列には行スタイル配列を使用して異なるスタイルを設定した場合、後者が有効となります。</p>
<p>それぞれの属性 (スタイル、カラー、背景色) について、デフォルトの値を使用した場合、属性の <strong>継承</strong> がおこなわれます:</p>
<ul>
<li>セル属性について: 行の属性値を受け継ぎます</li>
<li>行属性について: 列の属性値を受け継ぎます</li>
<li>列属性について: リストボックスの属性値を受け継ぎます</li>
</ul>
<p>このように、高次のレベルの属性値をオブジェクトに継承させたい場合は、定義するコマンドに <code>lk inherited</code> 定数 (デフォルト値) を渡すか、対応する行スタイル/カラー配列の要素に直接渡します。 以下のような、標準のフォントスタイルで行の背景色が交互に変わる配列リストボックスを考えます: <img src="/docs/assets/en/FormObjects/listbox_styles3.png" alt=""></p>
<p>以下の変更を加えます:</p>
<ul>
<li>リストボックスオブジェクトの <a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#行背景色配列">行背景色配列</a> プロパティを使用して、2行目の背景色を赤に変更します。</li>
<li>リストボックスオブジェクトの <a href="/docs/ja/FormObjects/propertiesText.html#行スタイル配列">行スタイル配列</a> を使用して、4 行目のスタイルをイタリックに変更します。</li>
<li>5 列目の列オブジェクトの <a href="/docs/ja/FormObjects/propertiesText.html#行スタイル配列">行スタイル配列</a> を使用して、5 列目の二つの要素を太字に変更します。</li>
<li>1、2 列目の列オブジェクトの <a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#行背景色配列">行背景色配列</a> を使用して、両列から一つずつ、計二つの背景色を濃い青に変更します:</li>
</ul>
<p><img src="/docs/assets/en/FormObjects/listbox_styles3.png" alt=""></p>
<p>リストボックスを元の状態に戻すには、以下の手順でおこないます:</p>
<ul>
<li>1、2 列目の行背景色配列の要素 2 に定数 <code>lk inherited</code> 定数を渡します。これにより行の赤の背景色を継承します。</li>
<li>5 列目の行スタイル配列の要素 3 と 4 に定数 <code>lk inherited</code> を渡します。これにより、要素 4 を除いて標準のスタイルを継承します (要素 4 はリストボックスの行スタイル配列にて指定されたイタリックの属性を継承します)。</li>
<li>リストボックスの行スタイル配列の要素 4 に定数 <code>lk inherited</code> を渡します。これにより、4 行目のイタリックのスタイルが除去されます。</li>
<li>リストボックスの行背景色配列の要素 2 に定数 <code>lk inherited</code> を渡します。これにより元の、背景色が交互に変わるリストボックスの状態に戻すことができます。</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="配列と式の使用"></a><a href="#配列と式の使用" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>配列と式の使用</h3>
<p>リストボックスのタイプに応じて、行のカラーやスタイル、表示について使用できるプロパティが異なります:</p>
<table>
<thead>
<tr><th>プロパティ</th><th>配列リストボックス</th><th>セレクションリストボックス</th><th>コレクションまたはエンティティセレクションリストボックス</th></tr>
</thead>
<tbody>
<tr><td>背景色</td><td><a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#行背景色配列">行背景色配列</a></td><td><a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#背景色式">背景色式</a></td><td><a href="/docs/ja/FormObjects/propertiesBackgroundAndBorder.html#背景色式">背景色式&quot;</a> または <a href="/docs/ja/FormObjects/propertiesText.html#メタ情報式">メタ情報式</a></td></tr>
<tr><td>フォントカラー</td><td><a href="/docs/ja/FormObjects/propertiesText.html#行フォントカラー式">行フォントカラー配列</a></td><td><a href="/docs/ja/FormObjects/propertiesText.html#フォントカラー式">フォントカラー式</a></td><td><a href="/docs/ja/FormObjects/propertiesText.html#フォントカラー式">フォントカラー式</a> または <a href="/docs/ja/FormObjects/propertiesText.html#メタ情報式">メタ情報式</a></td></tr>
<tr><td>フォントスタイル</td></tr>
</tbody>
</table>
<p><a href="/docs/ja/FormObjects/propertiesText.html#行スタイル配列">行スタイル配列</a>|<a href="/docs/ja/FormObjects/propertiesText.html#スタイル式">スタイル式</a>|<a href="/docs/ja/FormObjects/propertiesText.html#スタイル式">スタイル式</a> または <a href="/docs/ja/FormObjects/propertiesText.html#メタ情報式">メタ情報式</a>| 表示|<a href="/docs/ja/FormObjects/propertiesListBox.html#行コントロール配列">行コントロール配列</a>|-|-|</p>
<h2><a class="anchor" aria-hidden="true" id="リストボックスの印刷"></a><a href="#リストボックスの印刷" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>リストボックスの印刷</h2>
<p>リストボックスの印刷には 2つの印刷モードがあります: フォームオブジェクトのようにリストボックスを印刷する <strong>プレビューモード</strong> と、フォーム内でリストボックスオブジェクトの印刷方法を制御できる <strong>詳細モード</strong> があります。 フォームエディターで、リストボックスオブジェクトに &quot;印刷&quot; アピアランスを適用できる点に留意してください。</p>
<h3><a class="anchor" aria-hidden="true" id="プレビューモード"></a><a href="#プレビューモード" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>プレビューモード</h3>
<p>プレビューモードでのリストボックスの印刷は、標準の印刷コマンドや <strong>印刷</strong> メニューを使用して、リストボックスを含むフォームをそのまま出力します。 リストボックスはフォーム上に表示されている通りに印刷されます。 このモードでは、オブジェクトの印刷を細かく制御することはできません。とくに、表示されている以上の行を印刷することはできません。</p>
<h3><a class="anchor" aria-hidden="true" id="詳細モード"></a><a href="#詳細モード" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>詳細モード</h3>
<p>このモードでは、リストボックスの印刷は <code>Print object</code> コマンドを使用してプログラムにより実行されます (プロジェクトフォームとテーブルフォームがサポートされています)。 <code>LISTBOX GET PRINT INFORMATION</code> コマンドを使用してオブジェクトの印刷を制御できます。</p>
<p>このモードでは:</p>
<ul>
<li>オブジェクトの高さよりも印刷する行数が少ない場合、リストボックスオブジェクトの高さは自動で減少させられます (&quot;空白&quot; 行は印刷されません)。 他方、オブジェクトの内容に基づき高さが自動で増大することはありません。 実際に印刷されるオブジェクトのサイズは <code>LISTBOX GET PRINT INFORMATION</code> コマンドで取得できます。</li>
<li>リストボックスオブジェクトは &quot;そのまま&quot; 印刷されます。言い換えれば、ヘッダーやグリッド線の表示、表示/非表示行など、現在の表示設定が考慮されます。 これらの設定には印刷される最初の行も含みます。印刷を実行する前に <code>OBJECT SET SCROLL POSITION</code> を呼び出すと、リストボックスに印刷される最初の行はコマンドで指定した行になります。</li>
<li>自動メカニズムにより、表示可能な行以上の行数を含むリストボックスの印刷が容易になります。連続して <code>Print object</code> を呼び出し、呼び出し毎に別の行のまとまりを印刷することができます。 <code>LISTBOX GET PRINT INFORMATION</code> コマンドを使用して、印刷がおこなわれている間の状態をチェックできます。</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="階層リストボックス"></a><a href="#階層リストボックス" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>階層リストボックス</h2>
<p>4D ではリストボックスを階層表示にするよう指定することができます。 階層リストボックスは左の列が階層状に表示されます。このタイプの表示方法は、繰り返される値や、階層に依存するデータの表示などに適用できます (国/地域/都市など)。</p>
<blockquote>
<p><a href="#配列リストボックス">配列タイプ</a> のリストボックスのみを階層にできます。</p>
</blockquote>
<p>階層リストボックスはデータを表示する特別な方法ですが、データの構造 (配列) は変更しません。 階層リストボックスは通常のリストボックスとまったく同じ方法で管理されます。</p>
<h3><a class="anchor" aria-hidden="true" id="階層の指定"></a><a href="#階層の指定" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>階層の指定</h3>
<p>階層リストボックスとして指定するには、3つの方法があります:</p>
<ul>
<li>フォームエディターのプロパティリストを使用して階層要素を手作業で設定する (または JSON フォームを編集する)。</li>
<li>フォームエディターのリストボックス管理メニューを使用して階層を生成する。</li>
<li><a href="https://doc.4d.com/4Dv18/4D/18/LISTBOX-SET-HIERARCHY.301-4505193.ja.html">LISTBOX SET HIERARCHY</a> や <a href="https://doc.4d.com/4Dv18/4D/18/LISTBOX-GET-HIERARCHY.301-4505194.ja.html">LISTBOX GET HIERARCHY</a> コマンドを使用する (<em>4D ランゲージリファレンス</em> 参照)。</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="階層リストボックス-プロパティによる階層化"></a><a href="#階層リストボックス-プロパティによる階層化" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>&quot;階層リストボックス&quot; プロパティによる階層化</h4>
<p>このプロパティを使用してリストボックスの階層表示を設定します。 JSON フォームにおいては、リストボックス列の <a href="/docs/ja/FormObjects/propertiesObject.html#階層リストボックス"><em>dataSource</em> プロパティの値が配列名のコレクションであるとき</a> に階層化します。</p>
<p><em>階層リストボックス</em> プロパティが選択されると、追加プロパティである <strong>Variable 1...10</strong> が利用可能になります。これらには階層の各レベルとして使用するデータソース配列を指定します。これが <em>dataSource</em> の値である配列名のコレクションとなります。 入力欄に値が入力されると、新しい入力欄が追加されます。 10個までの変数を指定できます。 これらの変数は先頭列に表示される階層のレベルを設定します。</p>
<p>Variable 1 は常に、リストボックスの先頭列の変数名に対応します (この 2つの値は自動でバインドされます)。 Variable 1欄は常に表示され、入力できます。 例: country。 Variable 2 も常に表示され、入力できます。これは二番目の階層レベルを指定します。 例: regions。 三番目以降の欄は、その前の番号の欄が入力されると表示されます。 例えば: counties、cities等。 最大10レベルまで指定できます。 ある階層レベルの値を削除すると、その後の階層レベルが繰り上がります。</p>
<p>最後の変数に複数の同じ値が存在しても、この変数が階層になることはありません。 たとえば、arr1 に A A A B B B、arr2 に 1 1 1 2 2 2、そしてarr3 に X X Y Y Y Z が値として設定されている場合、A、B、1、そして 2 は階層で表示できますが、X と Y は階層になりません:</p>
<p><img src="/docs/assets/en/FormObjects/property_hierarchicalListBox.png" alt=""></p>
<p>この原則は階層がひとつだけ設定されている場合には適用されません。この場合、同じ値はグループ化されます。</p>
<blockquote>
<p>既存のリストボックスで階層を設定した場合、(最初のものを除き) これらの列を削除または非表示にしなければなりません。でないと、それらはリストボックス中で重複して表示されます。 エディターのポップアップメニューを使用して階層を設定すると (階層リストボックス参照)、不要な列は自動でリストボックスから取り除かれます。</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="コンテキストメニューを使用した階層化"></a><a href="#コンテキストメニューを使用した階層化" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>コンテキストメニューを使用した階層化</h4>
<p>フォームエディター内で配列タイプのリストボックスオブジェクトの一番目から任意の数の列を選択すると、<strong>階層を作成</strong> コマンドがコンテキストメニューから利用できるようになります:</p>
<p><img src="/docs/assets/en/FormObjects/listbox_hierarchy1.png" alt=""></p>
<p>このコマンドは階層化のショートカットです。 このコマンドを選択すると、以下のアクションが実行されます:</p>
<ul>
<li>そのオブジェクトのプロパティリストで <strong>階層リストボックス</strong> オプションが選択されます。</li>
<li>その列の変数が階層を指定するために使用されます。 既に設定されていた変数は置き換えられます。</li>
<li>(先頭列を除き) 選択された列はリストボックス内に表示されなくなります。</li>
</ul>
<p>例: 左から国、地域、都市、人口列が設定されたリストボックスがあります。 国、地域、都市が (下図の通り) 選択され、コンテキストメニューから <strong>階層を作成</strong> を選択すると、先頭列に3レベルの階層が作成され、二番目と三番目の列は取り除かれます。人口列が二番目になります:</p>
<p><img src="/docs/assets/en/FormObjects/listbox_hierarchy2.png" alt=""></p>
<h5><a class="anchor" aria-hidden="true" id="階層をキャンセル"></a><a href="#階層をキャンセル" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>階層をキャンセル</h5>
<p>階層リストボックスとして定義されたリストボックスで先頭列を選択すると、<strong>階層をキャンセル</strong> コマンドを使用できます。 このコマンドを選択すると以下のアクションが実行されます:</p>
<ul>
<li>そのオブジェクトの <strong>階層リストボックス</strong> オプションの選択が解除されます。</li>
<li>2番目以降の階層レベルが削除され、通常の列としてリストボックスに追加されます。</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="動作"></a><a href="#動作" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>動作</h3>
<p>階層リストボックスを含むフォームが最初に開かれる際、デフォルトですべての行が展開されています。</p>
<p>配列中で値が繰り返されていると、ブレーク行と階層 &quot;ノード&quot; がリストボックスに自動で追加されます。 たとえば、リストボックスに都市に関する 4つの配列が含まれていて、それぞれ国、地域、都市名、人口データが含まれているとします:</p>
<p><img src="/docs/assets/en/FormObjects/hierarch1.png" alt=""></p>
<p>リストボックスが階層形式で表示されると (先頭3つの配列が階層化されている場合)、以下のように表示されます:</p>
<p><img src="/docs/assets/en/FormObjects/hierarch2.png" alt=""></p>
<p>階層を正しく構築するためには、事前に配列をソートしなければなりません。 たとえば、配列中にデータが AAABBAACC の順で含まれていると、階層は以下のようになります:</p>
<pre><code class="hljs">&gt; A B A C
</code></pre>
<p>階層 &quot;ノード&quot; を展開したり折りたたんだりするには、ノード上をクリックします。 ノード上を <strong>Alt+クリック</strong> (Windows) または <strong>Option+クリック</strong> (macOS) すると、すべてのサブ要素が同時に展開されたり折りたたまれたりします。 これらの動作は <code>LISTBOX EXPAND</code> および <code>LISTBOX COLLAPSE</code> コマンドを使用することでプログラミングでも実行可能です。</p>
<p>階層リストボックスに日付や時間型の値を表示する際、それらは Short system format で表示されます。</p>
<h4><a class="anchor" aria-hidden="true" id="ソートの管理-1"></a><a href="#ソートの管理-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ソートの管理</h4>
<p>階層モードのリストボックスにおいて、(リストボックス列のヘッダーをクリックして実行される) 標準の並べ替えは常に以下のようにおこなわれます:</p>
<ul>
<li>まず階層列 (一番目の列) のすべてのレベルが自動で昇順にソートされます。</li>
<li>次にクリックされた列の値を使用して、昇順または降順にソートが実行されます。</li>
<li>すべての列が同期されます。</li>
<li>その後の非階層列のソート時には、階層列の最後のレベルのみがソートされます。 この列のソートはそのヘッダーをクリックすることでおこなえます。</li>
</ul>
<p>例として、まだソートされていない以下のリストボックスがあります:</p>
<p><img src="/docs/assets/en/FormObjects/hierarch3.png" alt=""></p>
<p>&quot;Population&quot; ヘッダーをクリックして人口に基づき昇順あるいは降順でソートを行おこなうと、データは以下のように表示されます:</p>
<p><img src="/docs/assets/en/FormObjects/hierarch4.png" alt=""></p>
<p>通常のリストボックスと同様、リストボックスの <a href="/docs/ja/FormObjects/propertiesAction.html#ソート可">ソート可</a> オプションの選択を解除することで標準のソートメカニズムを無効にし、プログラムでソートを管理できます。</p>
<h4><a class="anchor" aria-hidden="true" id="選択行とその位置の管理"></a><a href="#選択行とその位置の管理" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>選択行とその位置の管理</h4>
<p>階層リストボックスは、ノードの展開 / 折りたたみ状態により、スクリーン上に表示される行数が変わります。 しかし配列の行数が変わるわけではありません。 表示が変わるだけでデータに変更はありません。 この原則を理解することは重要です。階層リストボックスに対するプログラムによる管理は常に配列データに対しておこなわれるのであり、表示されたデータに対しておこなわれるわけではないからです。 とくに、自動で追加されるブレーク行は、表示オプション配列では考慮されません (後述参照)。</p>
<p>例として以下の配列を見てみましょう:</p>
<p><img src="/docs/assets/en/FormObjects/hierarch5.png" alt=""></p>
<p>これらの配列が階層的に表示されると、2つのブレーク行が追加されるため、&quot;Quimper&quot; 行は 2行目ではなく 4行目に表示されます:</p>
<p><img src="/docs/assets/en/FormObjects/hierarch6.png" alt=""></p>
<p>階層であってもなくても、リストボックスにどのようにデータが表示されているかにかかわらず、&quot;Quimper&quot; が含まれる行を太字にしたい場合はステートメント Style{2} = bold を使用しなければなりません。 配列中の行の位置のみが考慮されます。</p>
<p>この原則は以下のものを管理する内部的な配列に適用されます:</p>
<ul>
<li>カラー</li>
<li>背景色</li>
<li>スタイル</li>
<li>非表示行</li>
<li>選択行</li>
</ul>
<p>たとえば、Rennes を含む行を選択するには、以下のように書きます:</p>
<pre><code class="hljs css language-4d"> -&gt;MyListbox{<span class="hljs-number">3</span>}:=<span class="hljs-literal">True</span>
</code></pre>
<p>非階層表示: <img src="/docs/assets/en/FormObjects/hierarch7.png" alt=""> 階層表示: <img src="/docs/assets/en/FormObjects/hierarch8.png" alt=""></p>
<blockquote>
<p>親が折りたたまれているために行が非表示になっていると、それらは選択から除外されます。 (直接あるいはスクロールによって) 表示されている行のみを選択できます。 言い換えれば、行を選択かつ隠された状態にすることはできません。</p>
</blockquote>
<p>選択と同様に、<code>LISTBOX GET CELL POSITION</code> コマンドは階層リストボックスと非階層リストボックスにおいて同じ値を返します。 つまり以下の両方の例題で、<code>LISTBOX GET CELL POSITION</code> は同じ位置 (3;2) を返します。</p>
<p><em>非階層表示:</em> <img src="/docs/assets/en/FormObjects/hierarch9.png" alt=""></p>
<p><em>階層表示:</em> <img src="/docs/assets/en/FormObjects/hierarch10.png" alt=""></p>
<p>サブ階層のすべての行が隠されているとき、ブレーク行は自動で隠されます。 先の例題で 1から 3行目までが隠されていると、&quot;Brittany&quot; のブレーク行は表示されません。</p>
<h4><a class="anchor" aria-hidden="true" id="ブレーク行の管理"></a><a href="#ブレーク行の管理" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ブレーク行の管理</h4>
<p>ユーザーがブレーク行を選択すると、<code>LISTBOX GET CELL POSITION</code> は対応する配列の最初のオカレンスを返します。 以下のケースで:</p>
<p><img src="/docs/assets/en/FormObjects/hierarch11.png" alt=""></p>
<p><code>LISTBOX GET CELL POSITION</code> は (2;4) を返します。 プログラムでブレーク行を選択するには <code>LISTBOX SELECT BREAK</code> コマンドを使用する必要があります。</p>
<p>ブレーク行はリストボックスのグラフィカルな表示 (スタイルやカラー) を管理する内部的な配列では考慮されません。 しかし、オブジェクトのグラフィックを管理するオブジェクト (フォーム) テーマのコマンドを使用してブレーク行の表示を変更できます。 階層を構成する配列に対して、適切なコマンドを実行します。</p>
<p>以下のリストボックスを例題とします (割り当てた配列名は括弧内に記載しています):</p>
<p><em>非階層表示:</em> <img src="/docs/assets/en/FormObjects/hierarch12.png" alt=""></p>
<p><em>階層表示:</em> <img src="/docs/assets/en/FormObjects/hierarch13.png" alt=""></p>
<p>階層モードでは <code>tStyle</code> や <code>tColors</code> 配列で変更されたスタイルは、ブレーク行に適用されません。 ブレークレベルでカラーやスタイルを変更するには、以下のステートメントを実行します:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function"> OBJECT SET RGB COLORS</span>(T1;<span class="hljs-number">0x0000FF</span>;<span class="hljs-number">0xB0B0B0</span>)
<span class="hljs-function"> OBJECT SET FONT STYLE</span>(T2;Bold)
</code></pre>
<blockquote>
<p>このコンテキストでは、配列に割り当てられたオブジェクトがないため、オブジェクトプロパティコマンドで動作するのは、配列変数を使用したシンタックスのみです。</p>
</blockquote>
<p>結果:</p>
<p><img src="/docs/assets/en/FormObjects/hierarch14.png" alt=""></p>
<h4><a class="anchor" aria-hidden="true" id="展開折りたたみ管理の最適化"></a><a href="#展開折りたたみ管理の最適化" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>展開/折りたたみ管理の最適化</h4>
<p><code>On Expand</code> や <code>On Collapse</code> フォームイベントを使用して階層リストボックスの表示を最適化できます。</p>
<p>階層リストボックスはその配列の内容から構築されます。そのためこれらの配列すべてがメモリにロードされる必要があります。 大量のデータから (<code>SELECTION TO ARRAY</code> コマンドを使用して) 生成される配列をもとに階層リストボックスを構築するのは、表示速度だけでなくメモリ使用量の観点からも困難が伴います。</p>
<p><code>On Expand</code> と <code>On Collapse</code> フォームイベントを使用することで、この制限を回避できます。たとえば、ユーザーのアクションに基づいて階層の一部だけを表示したり、必要に応じて配列をロード/アンロードできます。 これらのイベントのコンテキストでは、<code>LISTBOX GET CELL POSITION</code> コマンドは、行を展開/折りたたむためにユーザーがクリックしたセルを返します。</p>
<p>この場合、開発者がコードを使用して配列を空にしたり値を埋めたりしなければなりません。 実装する際注意すべき原則は以下のとおりです:</p>
<ul>
<li><p>リストボックスが表示される際、先頭の配列のみ値を埋めます。 しかし 2番目の配列を空の値で生成し、リストボックスに展開/折りたたみアイコンが表示されるようにしなければなりません: <img src="/docs/assets/en/FormObjects/hierarch15.png" alt=""></p></li>
<li><p>ユーザーが展開アイコンをクリックすると <code>On Expand</code> イベントが生成されます。 <code>LISTBOX GET CELL POSITION</code> コマンドはクリックされたセルを返すので、適切な階層を構築します: 先頭の配列に繰り返しの値を設定し、2番目の配列には <code>SELECTION TO ARRAY</code> コマンドから得られる値を設定します。そして<code>LISTBOX INSERT ROWS</code> コマンドを使用して必要なだけ行を挿入します。 <img src="/docs/assets/en/FormObjects/hierarch16.png" alt=""></p></li>
<li><p>ユーザーが折りたたみアイコンをクリックすると <code>On Collapse</code> イベントが生成されます。 <code>LISTBOX GET CELL POSITION</code> コマンドはクリックされたセルを返すので、 <code>LISTBOX DELETE ROWS</code> コマンドを使用してリストボックスから必要なだけ行を削除します。</p></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="オブジェクト配列の使用"></a><a href="#オブジェクト配列の使用" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>オブジェクト配列の使用</h2>
<p>リストボックスのカラムはオブジェクト配列を扱えます。 オブジェクト配列は異なる種類のデータを格納できるので、この強力な機能を使用すれば、単一のカラム内の行ごとに異なる入力タイプを混ぜたり、様々なウィジェットを表示したりといったことができるようになります。 たとえば、最初の行にテキスト入力を挿入し、二行目にチェックボックスを、そして産業目にドロップダウンを挿入する、と言ったことが可能になります。 また、オブジェクト配列は、ボタンやカラーピッカーと言った新しいウィジェットへのアクセスも可能にします。</p>
<p>以下のリストボックスはオブジェクト配列を使用してデザインされました:</p>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray.png" alt=""></p>
<h3><a class="anchor" aria-hidden="true" id="オブジェクト配列カラムの設定"></a><a href="#オブジェクト配列カラムの設定" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>オブジェクト配列カラムの設定</h3>
<p>オブジェクト配列をリストボックスのカラムに割り当てるには、プロパティリスト (の &quot;変数名&quot; 欄) にオブジェクト配列名を設定するか、配列型のカラムのように <a href="https://doc.4d.com/4Dv18/4D/18/LISTBOX-INSERT-COLUMN.301-4505224.ja.html">LISTBOX INSERT COLUMN</a> コマンドを使用します。 プロパティリスト内では、カラムにおいて &quot;式タイプ&quot; にオブジェクトを選択できます:</p>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_config.png" alt=""></p>
<p>オブジェクトカラムに対しては、座標、サイズ、スタイルなどに関連した標準のプロパティが使用可能です。 プロパティリストを使用して定義する方法のほかにも、オブジェクト型のリストボックスカラムのそれぞれの行に対してスタイル、フォントカラー、背景色、表示状態をプログラムで定義することもできます。 これらのタイプのカラムは非表示にすることも可能です。</p>
<p>しかしながら、データソーステーマは、オブジェクト型のリストボックスカラムに対しては選択できません。 実際、カラムの各セルの中身は、それに対応するオブジェクト配列の要素の属性に基づいています。 配列の各オブジェクト要素には、以下を定義できます:</p>
<p>値の型 (必須): テキスト、カラー、イベント、他 値そのもの (任意): 入力/出力に使用 セルの内容表示 (任意): ボタン、リスト、他 追加の設定 (任意): 値の型によります これらのプロパティを定義するには、適切な属性をオブジェクト内に設定する必要があります (使用可能な属性は以下に一覧としてまとめてあります)。 たとえば、以下ような簡単なコードを使用してオブジェクトカラム内に &quot;Hello World!&quot; 書き込むことができます:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function">ARRAY OBJECT</span>(obColumn;<span class="hljs-number">0</span>) <span class="hljs-comment">// カラム配列</span>
<span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$ob</span>) <span class="hljs-comment">// 第一要素</span>
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"text"</span>) <span class="hljs-comment">// 値の型を定義 (必須)</span>
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"value"</span>;<span class="hljs-string">"Hello World!"</span>) <span class="hljs-comment">// 値を定義</span>
<span class="hljs-function"> APPEND TO ARRAY</span>(obColumn;<span class="hljs-variable">$ob</span>)  
</code></pre>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_helloWorld.png" alt=""></p>
<blockquote>
<p>表示フォーマットと入力フィルターはオブジェクトカラムに対しては設定できません。 これらは値の型に応じて自動的に変わるからです。</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="valuetypeとデータ表示"></a><a href="#valuetypeとデータ表示" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>valueTypeとデータ表示</h4>
<p>リストボックスカラムにオブジェクト配列が割り当てられているとき、セルの表示・入力・編集の方法は、配列の要素の valueType 属性に基づきます。 次の valueType の値がサポートされています:</p>
<ul>
<li>&quot;text&quot;: テキスト値</li>
<li>&quot;real&quot;: セパレーターを含む数値。セパレーターの例: &lt;space&gt;, &lt;.&gt;,  &lt;,&gt;</li>
<li>&quot;integer&quot;: 整数値</li>
<li>&quot;boolean&quot;: true/false 値</li>
<li>&quot;color&quot;: 背景色を定義</li>
<li>&quot;event&quot;: ラベル付ボタンを表示</li>
</ul>
<p>4D は &quot;valueType&quot; の値に応じたデフォルトのウィジェットを使用します (つまり、&quot;text&quot; と設定すればテキスト入力ウィジェットが表示され、&quot;boolean&quot; と設定すればチェックボックスが表示されます)。しかし、オプションを使用することによって表示方法の選択が可能な場合もあります (たとえば、&quot;real&quot; と設定した場合、ドロップダウンメニューとしても表示できます)。 以下の一覧はそれぞれの値の型に対してのデフォルトの表示方法と、他に選択可能な表示方の一覧を表しています:</p>
<table>
<thead>
<tr><th>valueType</th><th>デフォルトのウィジェット</th><th>他に選択可能なウィジェット</th></tr>
</thead>
<tbody>
<tr><td>text</td><td>テキスト入力</td><td>ドロップダウンメニュー (指定リスト) またはコンボボックス (選択リスト)</td></tr>
<tr><td>real</td><td>管理されたテキスト入力 (数字とセパレーター)</td><td>ドロップダウンメニュー (指定リスト) またはコンボボックス (選択リスト)</td></tr>
<tr><td>integer</td><td>管理されたテキスト入力 (数字のみ)</td><td>ドロップダウンメニュー (指定リスト) またはコンボボックス (選択リスト) またはスリーステートチェックボックス</td></tr>
<tr><td>boolean</td><td>チェックボックス</td><td>ドロップダウンメニュー (指定リスト)</td></tr>
<tr><td>color</td><td>背景色</td><td>text</td></tr>
<tr><td>event</td><td>ラベル付ボタン</td><td></td></tr>
<tr><td></td><td></td><td>すべてのウィジェットには、単位切り替えボタン または 省略ボタン を追加でセルに付属させることができます</td></tr>
</tbody>
</table>
<p>セルの表示とオプションは、オブジェクト内の特定の属性を使用することによって設定できます (以下を参照ください)。</p>
<h4><a class="anchor" aria-hidden="true" id="表示フォーマットと入力フィルター"></a><a href="#表示フォーマットと入力フィルター" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>表示フォーマットと入力フィルター</h4>
<p>オブジェクト型のリストボックスのカラムにおいては、表示フォーマットと入力フィルターを設定することはできません。 これらは値の型に応じて自動的に定義されます。 どのように定義されるかについては、以下一覧にまとめてあります:</p>
<table>
<thead>
<tr><th>値の型</th><th>デフォルトのフォーマット</th><th>入力コントロール</th></tr>
</thead>
<tbody>
<tr><td>テキスト</td><td>オブジェクト内で定義されているものと同じ</td><td>制限なし</td></tr>
<tr><td>実数</td><td>オブジェクト内で定義されているものと同じ (システムの小数点セパレーターを使用)</td><td>&quot;0-9&quot; と &quot;.&quot; と &quot;-&quot;</td></tr>
<tr><td></td><td></td><td>min&gt;=0 の場合、&quot;0-9&quot; と &quot;.&quot;</td></tr>
<tr><td>整数</td><td>オブジェクト内で定義されているものと同じ</td><td>&quot;0-9&quot; と &quot;-&quot;</td></tr>
<tr><td></td><td></td><td>min&gt;=0 の場合、&quot;0-9&quot; と &quot;.&quot;</td></tr>
<tr><td>ブール</td><td>チェックボックス</td><td>N/A</td></tr>
<tr><td>カラー</td><td>N/A</td><td>N/A</td></tr>
<tr><td>イベント</td><td>N/A</td><td>N/A</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="属性"></a><a href="#属性" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>属性</h3>
<p>オブジェクト配列の各要素は、セルの中身とデータ表示を定義する一つ以上の属性を格納するオブジェクトです (上記の例を参照ください)。</p>
<p>唯一必須の属性は &quot;valueType&quot; であり、サポートされる値は &quot;text&quot;、&quot;real&quot;、&quot;integer&quot;、&quot;boolean&quot;、&quot;color&quot; そして &quot;event&quot;です。 以下の表には、リストボックスオブジェクト配列において &quot;valueType&quot;の値に応じてサポートされるすべての属性がまとめてあります (他の属性はすべて無視されます)。 表示フォーマットに関しては、その更に下に詳細な説明と例があります。</p>
<table>
<thead>
<tr><th></th><th>valueType</th><th>text</th><th>real</th><th>integer</th><th>boolean</th><th>color</th><th>event</th></tr>
</thead>
<tbody>
<tr><td><em>属性</em></td><td><em>説明</em></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
<tr><td>value</td><td>セルの値 (入力または出力)</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>min</td><td>最小値</td><td></td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>max</td><td>最大値</td><td></td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>behavior</td><td>&quot;スリーステート&quot; の値</td><td></td><td></td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>requiredList</td><td>オブジェクト内で定義されたドロップダウンリスト</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>choiceList</td><td>オブジェクト内で定義されたコンボボックス</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>requiredListReference</td><td>4D リスト参照 (&quot;saveAs&quot;の値による)</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>requiredListName</td><td>4D リスト名 (&quot;saveAs&quot;の値による)</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>saveAs</td><td>&quot;reference&quot; または &quot;value&quot;</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>choiceListReference</td><td>4D リスト参照、コンボボックスを表示</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>choiceListName</td><td>4D リスト名、コンボボックスを表示</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>unitList</td><td>X要素の配列</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>unitReference</td><td>選択された要素のインデックス</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>unitsListReference</td><td>単位の4D リスト参照</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>unitsListName</td><td>単位の4D リスト名</td><td>○</td><td>○</td><td>○</td><td></td><td></td><td></td></tr>
<tr><td>alternateButton</td><td>切り替えボタンを追加</td><td>○</td><td>○</td><td>○</td><td>○</td><td>○</td><td></td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="value"></a><a href="#value" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>value</h4>
<p>セルの値は &quot;value&quot; 属性に保存されています。 この属性は入力と出力に使用されるほか、 リストを使用する際のデフォルト値を定義するのにも使用できます (以下参照)。</p>
<pre><code class="hljs css language-4d"><span class="hljs-function"> ARRAY OBJECT</span>(obColumn;<span class="hljs-number">0</span>) <span class="hljs-comment">// カラム配列</span>
<span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$ob1</span>)
 <span class="hljs-variable">$entry</span>:=<span class="hljs-string">"Hello world!"</span>
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob1</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"text"</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob1</span>;<span class="hljs-string">"value"</span>;<span class="hljs-variable">$entry</span>) <span class="hljs-comment">// ユーザーが新しい値を入力した場合、 編集された値は $entry に格納されます</span>
<span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$ob2</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob2</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"real"</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob2</span>;<span class="hljs-string">"value"</span>;<span class="hljs-number">2</span>/<span class="hljs-number">3</span>)
<span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$ob3</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob3</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"boolean"</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob3</span>;<span class="hljs-string">"value"</span>;<span class="hljs-literal">True</span>)

<span class="hljs-function"> APPEND TO ARRAY</span>(obColumn;<span class="hljs-variable">$ob1</span>)
<span class="hljs-function"> APPEND TO ARRAY</span>(obColumn;<span class="hljs-variable">$ob2</span>)
<span class="hljs-function"> APPEND TO ARRAY</span>(obColumn;<span class="hljs-variable">$ob3</span>)
</code></pre>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_helloWorld_value.png" alt=""></p>
<blockquote>
<p>null 値はサポートされており、空のセルとして表示されます。</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="min-と-max"></a><a href="#min-と-max" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>min と max</h4>
<p>&quot;valueType&quot; が&quot;real&quot; または &quot;integer&quot; であるとき、min と max 属性もオブジェクトに設定できます (値は適切な範囲で、かつ、valueType と同じ型である必要があります)。</p>
<p>これらの属性を使用すると入力値の範囲を管理することができます。 セルが評価されたとき (フォーカスを失ったとき)、入力された値が min の値より低い場合、または max の値より大きい場合には、その値は拒否されます。 この場合、入力をする前の値が保持され、tip として説明が表示されます。</p>
<pre><code class="hljs css language-4d"><span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$ob3</span>)
 <span class="hljs-variable">$entry3</span>:=<span class="hljs-number">2015</span>
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob3</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"integer"</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob3</span>;<span class="hljs-string">"value"</span>;<span class="hljs-variable">$entry3</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob3</span>;<span class="hljs-string">"min"</span>;<span class="hljs-number">2000</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob3</span>;<span class="hljs-string">"max"</span>;<span class="hljs-number">3000</span>)
</code></pre>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_helloWorld_minMax.png" alt=""></p>
<h4><a class="anchor" aria-hidden="true" id="behavior"></a><a href="#behavior" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>behavior</h4>
<p>behavior 属性は、値の通常の表示とは異なる表示方法を提供します。 4D v15では、一つだけ他の表示方法が用意されています:</p>
<table>
<thead>
<tr><th>属性</th><th>使用可能な値</th><th>valueType</th><th>説明</th></tr>
</thead>
<tbody>
<tr><td>behavior</td><td>threeStates</td><td>integer</td><td>スリーステートチェックボックスを数値として表現します。<br>2=セミチェック、1=チェック、0=チェックされていない、-1=非表示、-2=チェックなしが無効化、-3=チェックが無効化、-4=セミチェックが無効化</td></tr>
</tbody>
</table>
<pre><code class="hljs css language-4d"><span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$ob3</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob3</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"integer"</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob3</span>;<span class="hljs-string">"value"</span>;<span class="hljs-number">-3</span>)
<span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$ob4</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob4</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"integer"</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob4</span>;<span class="hljs-string">"value"</span>;<span class="hljs-number">-3</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob4</span>;<span class="hljs-string">"behavior"</span>;<span class="hljs-string">"threeStates"</span>)
</code></pre>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_helloWorld_behavior.png" alt=""></p>
<h4><a class="anchor" aria-hidden="true" id="requiredlist-と-choicelist"></a><a href="#requiredlist-と-choicelist" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>requiredList と choiceList</h4>
<p>&quot;choiceList&quot; または &quot;requiredList&quot; 属性がオブジェクト内に存在しているとき、テキスト入力は以下の属性に応じて、ドロップダウンリストまたはコンボボックスで置き換えられます:</p>
<ul>
<li>属性が &quot;choiceList&quot; の場合、セルはコンボボックスとして表示されます。 これはつまり、ユーザーは値を選択、または入力できるということです。</li>
<li>属性が &quot;requiredList&quot; の場合、セルはドロップダウンリストとして表示されます。これはつまり、ユーザーはリストに提供されている値からどれか一つを選択するしかないということです。</li>
</ul>
<p>どちらの場合においても、&quot;value&quot; 属性を使用してウィジェット内の値を事前に選択することができます。</p>
<blockquote>
<p>ウィジェットの値は配列を通して定義されます。 既存の 4Dリストをウィジェットに割り当てたい場合、&quot;requiredListReference&quot;、&quot;requiredListName&quot;、&quot;choiceListReference&quot;、または &quot;choiceListName&quot; 属性を使用する必要があります。</p>
</blockquote>
<p>例:</p>
<ul>
<li>選択肢が二つ (&quot;Open&quot; または &quot;Closed&quot;) しかないドロップダウンリストを表示したい場合を考えます。 デフォルトでは &quot;Closed&quot; が選択された状態にしたいとします:</li>
</ul>
<pre><code class="hljs css language-4d"><span class="hljs-function">    ARRAY TEXT</span>(<span class="hljs-variable">$RequiredList</span>;<span class="hljs-number">0</span>)
<span class="hljs-function">    APPEND TO ARRAY</span>(<span class="hljs-variable">$RequiredList</span>;<span class="hljs-string">"Open"</span>)
<span class="hljs-function">    APPEND TO ARRAY</span>(<span class="hljs-variable">$RequiredList</span>;<span class="hljs-string">"Closed"</span>)
<span class="hljs-function">    C_OBJECT</span>(<span class="hljs-variable">$ob</span>)
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"text"</span>)
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"value"</span>;<span class="hljs-string">"Closed"</span>)
<span class="hljs-function">    OB SET ARRAY</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"requiredList"</span>;<span class="hljs-variable">$RequiredList</span>)
</code></pre>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_helloWorld_openClosed.png" alt=""></p>
<ul>
<li>整数値であればすべて受け入れ可能な状態にしておいた上で、もっとも一般的な値を提示するためにコンボボックスを表示したい場合を考えます:</li>
</ul>
<pre><code class="hljs css language-4d"><span class="hljs-function">    ARRAY LONGINT</span>(<span class="hljs-variable">$ChoiceList</span>;<span class="hljs-number">0</span>)
<span class="hljs-function">    APPEND TO ARRAY</span>(<span class="hljs-variable">$ChoiceList</span>;<span class="hljs-number">5</span>)
<span class="hljs-function">    APPEND TO ARRAY</span>(<span class="hljs-variable">$ChoiceList</span>;<span class="hljs-number">10</span>)
<span class="hljs-function">    APPEND TO ARRAY</span>(<span class="hljs-variable">$ChoiceList</span>;<span class="hljs-number">20</span>)
<span class="hljs-function">    APPEND TO ARRAY</span>(<span class="hljs-variable">$ChoiceList</span>;<span class="hljs-number">50</span>)
<span class="hljs-function">    APPEND TO ARRAY</span>(<span class="hljs-variable">$ChoiceList</span>;<span class="hljs-number">100</span>)
<span class="hljs-function">    C_OBJECT</span>(<span class="hljs-variable">$ob</span>)
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"integer"</span>)
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"value"</span>;<span class="hljs-number">10</span>) <span class="hljs-comment">// 10 をデフォルト値として使用</span>
<span class="hljs-function">    OB SET ARRAY</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"choiceList"</span>;<span class="hljs-variable">$ChoiceList</span>)
</code></pre>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_helloWorld_commonValues.png" alt=""></p>
<h4><a class="anchor" aria-hidden="true" id="requiredlistname-と-requiredlistreference"></a><a href="#requiredlistname-と-requiredlistreference" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>requiredListName と requiredListReference</h4>
<p>&quot;requiredListName&quot; と &quot;requiredListReference&quot; 属性を使用すると、デザインモード (ツールボックス内) またはプログラミングによって (<code>New list</code> コマンドを使用して) 4Dで定義されたリストをリストボックスセル内において使用することが出来るようになります。 セルはドロップダウンリストとして表示されるようになります。 これはつまり、ユーザーはリスト内に提供された値のどれか一つのみを選択できるということを意味します。</p>
<p>&quot;requiredListName&quot; または &quot;requiredListReference&quot; は、リストの作成元に応じて使い分けます。リストがツールボックスで作成された場合、リスト名を渡します。リストがプログラミングによって定義された場合は、リストの参照を渡します。 どちらの場合においても、&quot;value&quot; 属性を使用してウィジェット内の値を事前に選択することができます。</p>
<blockquote>
<ul>
<li>これらの値を単純な配列を通して定義したい場合は、&quot;requiredList&quot; 属性を使用する必要があります。</li>
<li>リストが実数値を表すテキストを含んでいる場合、小数点はローカル設定に関わらず、ピリオド (&quot;.&quot;) である必要があります。例: &quot;17.6&quot; &quot;1234.456&quot;</li>
</ul>
</blockquote>
<p>例:</p>
<ul>
<li>ツールボックスで定義された &quot;colors&quot; リスト (&quot;blue&quot;、&quot;yellow&quot;、そして &quot;green&quot; の値を格納) に基づいたドロップダウンリストを表示し、値として保存し、デフォルトの表示は &quot;blue&quot; にしたい場合を考えます:</li>
</ul>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_colors.png" alt=""></p>
<pre><code class="hljs css language-4d"><span class="hljs-function">    C_OBJECT</span>(<span class="hljs-variable">$ob</span>)
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"text"</span>)
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"saveAs"</span>;<span class="hljs-string">"value"</span>)
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"value"</span>;<span class="hljs-string">"blue"</span>)
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"requiredListName"</span>;<span class="hljs-string">"colors"</span>) 
</code></pre>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_colorsResult.png" alt=""></p>
<ul>
<li>プログラミングによって定義されたリストに基づいたドロップダウンリストを表示し、参照として保存したい場合を考えます:</li>
</ul>
<pre><code class="hljs css language-4d">    <span class="hljs-variable">&lt;&gt;List</span>:=New list
<span class="hljs-function">    APPEND TO LIST</span>(<span class="hljs-variable">&lt;&gt;List</span>;<span class="hljs-string">"Paris"</span>;<span class="hljs-number">1</span>)
<span class="hljs-function">    APPEND TO LIST</span>(<span class="hljs-variable">&lt;&gt;List</span>;<span class="hljs-string">"London"</span>;<span class="hljs-number">2</span>)
<span class="hljs-function">    APPEND TO LIST</span>(<span class="hljs-variable">&lt;&gt;List</span>;<span class="hljs-string">"Berlin"</span>;<span class="hljs-number">3</span>)
<span class="hljs-function">    APPEND TO LIST</span>(<span class="hljs-variable">&lt;&gt;List</span>;<span class="hljs-string">"Madrid"</span>;<span class="hljs-number">4</span>)
<span class="hljs-function">    C_OBJECT</span>(<span class="hljs-variable">$ob</span>)
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"integer"</span>)
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"saveAs"</span>;<span class="hljs-string">"reference"</span>)
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"value"</span>;<span class="hljs-number">2</span>) <span class="hljs-comment">// デフォルトでLondonを表示</span>
<span class="hljs-function">    OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"requiredListReference"</span>;<span class="hljs-variable">&lt;&gt;List</span>)
</code></pre>
<pre><code class="hljs">![](/docs/assets/en/FormObjects/listbox_column_objectArray_cities.png)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="choicelistname-と-choicelistreference"></a><a href="#choicelistname-と-choicelistreference" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>choiceListName と choiceListReference</h4>
<p>&quot;choiceListName&quot; と &quot;choiceListReference&quot; 属性を使用すると、デザインモード (ツールボックス内) またはプログラミングによって (<code>New list</code> コマンドを使用して) 4Dで定義されたリストをリストボックスセル内において使用することが出来るようになります。 セルはコンボボックスとして表示されるようになります。これはつまり、ユーザーは値を選択、または入力できるということを意味します。</p>
<p>&quot;choiceListName&quot; または &quot;choiceListReference&quot; は、リストの作成元に応じて使い分けます。リストがツールボックスで作成された場合、リスト名を渡しま す。リストがプログラミングによって定義された場合は、リストの参照を渡します。 どちらの場合においても、&quot;value&quot; 属性を使用してウィジェット内の値を事前に選択することができます。</p>
<blockquote>
<ul>
<li>これらの値を単純な配列を通して定義したい場合は、&quot;choiceList&quot; 属性を使用する必要があります。</li>
<li>リストが実数値を表すテキストを含んでいる場合、小数点はローカル設定に関わらず、ピリオド (&quot;.&quot;) である必要があります。例: &quot;17.6&quot; &quot;1234.456&quot;</li>
</ul>
</blockquote>
<p>例:</p>
<p>ツールボックスで定義された &quot;colors&quot; リスト (&quot;blue&quot;、&quot;yellow&quot;、そして &quot;green&quot; の値を格納) に基づいたドロップダウンリストを表示し、値として保存し、デフォルトの表示は &quot;green&quot; にしたい場合を考えます:</p>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_colors.png" alt=""></p>
<pre><code class="hljs css language-4d"><span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$ob</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"text"</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"value"</span>;<span class="hljs-string">"blue"</span>)
<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"choiceListName"</span>;<span class="hljs-string">"colors"</span>)
</code></pre>
<p><img src="../assets/en/FormObjects/listbox_column_objectArray_colorsResult.png" alt=""></p>
<h4><a class="anchor" aria-hidden="true" id="unitslist、unitslistname、-unitslistreference-と-unitreference"></a><a href="#unitslist、unitslistname、-unitslistreference-と-unitreference" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>unitsList、unitsListName、 unitsListReference と unitReference</h4>
<p>特定の値を使用することで、セルの値に関連した単位を追加することができます (<em>例</em>: &quot;10 cm&quot;, &quot;20 pixels&quot; 等)。 単位リストを定義するためには、以下の属性のどれか一つを使用します:</p>
<ul>
<li>&quot;unitsList&quot;: 利用可能な単位 (例: &quot;cm&quot;、&quot;inches&quot;、&quot;km&quot;、&quot;miles&quot;、他) を定義するのに使用する x 要素を格納した配列。 オブジェクト内で単位を定義するためには、この属性を使用します。</li>
<li>&quot;unitsListReference&quot;: 利用可能な単位を含んだ 4Dリストへの参照。 <a href="https://doc.4d.com/4Dv18/4D/18/New-list.301-4505738.ja.html">New list</a> コマンドで作成された 4D リストで単位を定義するためには、この属性を使用します。</li>
<li>&quot;unitsListName&quot;: 利用可能な単位を含んだデザインモードで作成された 4Dリスト名。 ツールボックスで作成された 4Dリストで単位を定義するためには、この属性を使用します。</li>
</ul>
<p>単位リストが定義された方法に関わらず、以下の属性を関連付けることができます:</p>
<ul>
<li>&quot;unitReference&quot;: &quot;unitList&quot;、&quot;unitsListReference&quot; または &quot;unitsListName&quot; の値リスト内で選択された項目へのインデックス (1からx) を格納する単一の値。</li>
</ul>
<p>カレントの単位は、ボタンとして表示されます。このボタンは、クリックするたびに &quot;unitList&quot;、&quot;unitsListReference&quot; または &quot;unitsListName&quot; の値を切り替えていきます (例: &quot;pixels&quot; -&gt; &quot;rows&quot; -&gt; &quot;cm&quot; -&gt; &quot;pixels&quot; -&gt; 等)。</p>
<p>例:</p>
<p>数値の入力と、その後に可能性のある二つの単位 (&quot;lines&quot; または &quot;pixels&quot;) を続けて表示したい場合を考えます。 カレントの値は &quot;2&quot; + &quot;lines&quot; と、 オブジェクト内で直接定義された値 (&quot;unitsList&quot; 属性) を使用するものとします:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function">ARRAY TEXT</span>(<span class="hljs-variable">$_units</span>;<span class="hljs-number">0</span>)
<span class="hljs-function">APPEND TO ARRAY</span>(<span class="hljs-variable">$_units</span>;<span class="hljs-string">"lines"</span>)
<span class="hljs-function">APPEND TO ARRAY</span>(<span class="hljs-variable">$_units</span>;<span class="hljs-string">"pixels"</span>)
<span class="hljs-function">C_OBJECT</span>(<span class="hljs-variable">$ob</span>)
<span class="hljs-function">OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"integer"</span>)
<span class="hljs-function">OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"value"</span>;<span class="hljs-number">2</span>) <span class="hljs-comment">// 2 "units"</span>
<span class="hljs-function">OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"unitReference"</span>;<span class="hljs-number">1</span>) <span class="hljs-comment">//"lines"</span>
<span class="hljs-function">OB SET ARRAY</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"unitsList"</span>;<span class="hljs-variable">$_units</span>)
</code></pre>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_unitList.png" alt=""></p>
<h4><a class="anchor" aria-hidden="true" id="alternatebutton"></a><a href="#alternatebutton" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>alternateButton</h4>
<p>セルに省略ボタン [...] を追加したい場合、&quot;alternateButton&quot; 属性に true の値を入れてオブジェクトに渡すだけです。 省略ボタンは自動的にセル内に表示されます。</p>
<p>このボタンがユーザーによってクリックされた場合、<code>On Alternate Click</code> イベントが生成され、そのイベントを自由に管理することができます (詳細な情報に関しては <a href="#イベント管理">イベント管理</a> の章を参照ください)。</p>
<p>例:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function">C_OBJECT</span>(<span class="hljs-variable">$ob1</span>)
<span class="hljs-variable">$entry</span>:=<span class="hljs-string">"Hello world!"</span>
<span class="hljs-function">OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"text"</span>)
<span class="hljs-function">OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"alternateButton"</span>;<span class="hljs-literal">True</span>)
<span class="hljs-function">OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"value"</span>;<span class="hljs-variable">$entry</span>)
</code></pre>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_alternateButton.png" alt=""></p>
<h4><a class="anchor" aria-hidden="true" id="color-valuetype"></a><a href="#color-valuetype" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>color valueType</h4>
<p>&quot;color&quot; valueType を使用すると、色、または色を表すテキストを表示することができます。</p>
<ul>
<li><p>値が数字の場合、色付けされた長方形がセル内に表示されます。 例:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function">C_OBJECT</span>(<span class="hljs-variable">$ob4</span>)
<span class="hljs-function">OB SET</span>(<span class="hljs-variable">$ob4</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"color"</span>)
<span class="hljs-function">OB SET</span>(<span class="hljs-variable">$ob4</span>;<span class="hljs-string">"value"</span>;<span class="hljs-number">0x00FF0000</span>)
</code></pre></li>
</ul>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_colorValue.png" alt=""></p>
<ul>
<li>値がテキストの場合、そのテキストが表示されます (<em>例</em>: &quot;value&quot;;&quot;Automatic&quot;)。</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="event-valuetype"></a><a href="#event-valuetype" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>event valueType</h4>
<p>&quot;event&quot; valueType を使用すると、クリックした際に <code>On Clicked</code> イベントを生成する単純なボタンを表示します。 データまたは値を渡す/返すことはできません。</p>
<p>オプションとして、&quot;label&quot; 属性を渡すことができます。</p>
<p>例:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function">C_OBJECT</span>(<span class="hljs-variable">$ob</span>)
<span class="hljs-function">OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"valueType"</span>;<span class="hljs-string">"event"</span>)
<span class="hljs-function">OB SET</span>(<span class="hljs-variable">$ob</span>;<span class="hljs-string">"label"</span>;<span class="hljs-string">"Edit..."</span>)
</code></pre>
<p><img src="/docs/assets/en/FormObjects/listbox_column_objectArray_eventValueType.png" alt=""></p>
<h3><a class="anchor" aria-hidden="true" id="イベント管理"></a><a href="#イベント管理" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>イベント管理</h3>
<p>オブジェクトリストボックス配列を使用している際には、複数のイベントを管理することができます:</p>
<ul>
<li><strong>On Data Change</strong>: 以下の場所において、どんな値でも変更された場合には <code>On Data Change</code> イベントがトリガーされます:
<ul>
<li>テキスト入力</li>
<li>ドロップダウンリスト</li>
<li>コンボボックスエリア</li>
<li>単位ボタン (値 x が値 x+1 へとスイッチしたとき)</li>
<li>チェックボックス (チェック/チェックなしの状態がスイッチしたとき)</li>
</ul></li>
<li><strong>On Clicked</strong>: ユーザーが、&quot;event&quot; <em>valueType</em> 属性を使用して実装されたボタンをクリックした場合、<code>On Clicked</code> イベントが生成されます。 このイベントはプログラマーによって管理されます。</li>
<li><strong>On Alternative Click</strong>: ユーザーが省略ボタン (&quot;alternateButton&quot; 属性) をクリックした場合、<code>On Alternative Click</code> イベントが生成されます。 このイベントはプログラマーによって管理されます。</li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/ja/FormObjects/listOverview.html"><span class="arrow-prev">← </span><span>階層リスト</span></a><a class="docs-next button" href="/docs/ja/FormObjects/pictureButtonOverview.html"><span>ピクチャーボタン</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#概要">概要</a><ul class="toc-headings"><li><a href="#基本のユーザー機能">基本のユーザー機能</a></li><li><a href="#リストボックスの構成要素">リストボックスの構成要素</a></li><li><a href="#リストボックスの型">リストボックスの型</a></li><li><a href="#リストボックスの管理">リストボックスの管理</a></li></ul></li><li><a href="#リストボックスオブジェクト">リストボックスオブジェクト</a><ul class="toc-headings"><li><a href="#配列リストボックス">配列リストボックス</a></li><li><a href="#セレクションリストボックス">セレクションリストボックス</a></li><li><a href="#コレクションまたはエンティティセレクションリストボックス">コレクションまたはエンティティセレクションリストボックス</a></li><li><a href="#プロパティ一覧">プロパティ一覧</a></li><li><a href="#フォームイベント">フォームイベント</a></li></ul></li><li><a href="#リストボックス列">リストボックス列</a><ul class="toc-headings"><li><a href="#列特有のプロパティ">列特有のプロパティ</a></li><li><a href="#フォームイベント-1">フォームイベント</a></li></ul></li><li><a href="#リストボックスヘッダー">リストボックスヘッダー</a><ul class="toc-headings"><li><a href="#ヘッダー特有のプロパティ">ヘッダー特有のプロパティ</a></li></ul></li><li><a href="#リストボックスフッター">リストボックスフッター</a><ul class="toc-headings"><li><a href="#フッター特有のプロパティ">フッター特有のプロパティ</a></li></ul></li><li><a href="#入力の管理">入力の管理</a></li><li><a href="#選択行の管理">選択行の管理</a><ul class="toc-headings"><li><a href="#選択行の見た目のカスタマイズ">選択行の見た目のカスタマイズ</a></li></ul></li><li><a href="#ソートの管理">ソートの管理</a></li><li><a href="#スタイルとカラー、表示の管理">スタイルとカラー、表示の管理</a><ul class="toc-headings"><li><a href="#優先順位と継承">優先順位と継承</a></li><li><a href="#配列と式の使用">配列と式の使用</a></li></ul></li><li><a href="#リストボックスの印刷">リストボックスの印刷</a><ul class="toc-headings"><li><a href="#プレビューモード">プレビューモード</a></li><li><a href="#詳細モード">詳細モード</a></li></ul></li><li><a href="#階層リストボックス">階層リストボックス</a><ul class="toc-headings"><li><a href="#階層の指定">階層の指定</a></li><li><a href="#動作">動作</a></li></ul></li><li><a href="#オブジェクト配列の使用">オブジェクト配列の使用</a><ul class="toc-headings"><li><a href="#オブジェクト配列カラムの設定">オブジェクト配列カラムの設定</a></li><li><a href="#属性">属性</a></li><li><a href="#イベント管理">イベント管理</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2020 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:ja"]}
              });
            </script></body></html>
