<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper docs-doc-page docs-version-19 plugin-docs plugin-id-default docs-doc-id-API/DataClassClass">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">DataClass | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://4d.github.io/docs/ja/19/API/DataClassClass"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="19"><meta data-rh="true" name="docusaurus_tag" content="docs-default-19"><meta data-rh="true" name="docsearch:version" content="19"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-19"><meta data-rh="true" property="og:title" content="DataClass | 4D Docs"><meta data-rh="true" name="description" content="データクラス はデータベーステーブルへのオブジェクトインターフェースを提供します。 4Dアプリケーション内のデータクラスはすべて、ds データストア のプロパティとして利用可能です。"><meta data-rh="true" property="og:description" content="データクラス はデータベーステーブルへのオブジェクトインターフェースを提供します。 4Dアプリケーション内のデータクラスはすべて、ds データストア のプロパティとして利用可能です。"><link data-rh="true" rel="icon" href="/docs/ja/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://4d.github.io/docs/ja/19/API/DataClassClass"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/19/API/DataClassClass" hreflang="en"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/fr/19/API/DataClassClass" hreflang="fr"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/es/19/API/DataClassClass" hreflang="es"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/ja/19/API/DataClassClass" hreflang="ja"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/pt/19/API/DataClassClass" hreflang="pt"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/19/API/DataClassClass" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/ja/opensearch.xml"><link rel="stylesheet" href="/docs/ja/assets/css/styles.abfcc139.css">
<link rel="preload" href="/docs/ja/assets/js/runtime~main.512bea4f.js" as="script">
<link rel="preload" href="/docs/ja/assets/js/main.66492b9d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ナビゲーションバーの切り替え" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/ja/"><div class="navbar__logo"><img src="/docs/ja/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/ja/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">4D ドキュメンテーション</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/ja/19/GettingStarted/installation">19</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/ja/API/DataClassClass">20 R5 BETA</a></li><li><a class="dropdown__link" href="/docs/ja/20-R4/API/DataClassClass">20 R4</a></li><li><a class="dropdown__link" href="/docs/ja/20/API/DataClassClass">20</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/ja/19/API/DataClassClass">19</a></li><li><a class="dropdown__link" href="/docs/ja/18/GettingStarted/installation">18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>日本語</a><ul class="dropdown__menu"><li><a href="/docs/19/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/19/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/es/19/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/19/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja">日本語</a></li><li><a href="/docs/pt/19/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードとライトモードを切り替える (現在は ライトモード)" aria-label="ダークモードとライトモードを切り替える (現在は ライトモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="検索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">検索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="トップに戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/docs/ja/"><img src="/docs/ja/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/ja/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>4D ドキュメンテーション</b></a><nav aria-label="Docsサイドバー" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/GettingStarted/installation">はじめに</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/Project/overview">プロジェクト管理</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/Concepts/about">ランゲージのコンセプト</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/ORDA/overview">ORDA</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/ja/19/API/overview">クラス API リファレンス</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/overview">クラス関数とコマンド</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/ClassClass">Class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/CollectionClass">Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/CryptoKeyClass">CryptoKey</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/ja/19/API/DataClassClass">DataClass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/DataStoreClass">DataStore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/EmailObjectClass">Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/EntityClass">Entity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/EntitySelectionClass">EntitySelection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/FileClass">File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/FolderClass">Folder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/FunctionClass">Function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/IMAPTransporterClass">IMAPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/MailAttachmentClass">MailAttachment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/POP3TransporterClass">POP3Transporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/SessionClass">Session</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/SignalClass">Signal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/SMTPTransporterClass">SMTPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/WebServerClass">WebServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/ZipArchiveClass">ZIPArchive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/ZipFileClass">ZIPFile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ja/19/API/ZipFolderClass">ZIPFolder</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/Preferences/overview">環境設定</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/Admin/webAdmin">管理</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/Users/overview">アクセス権限</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/MSC/overview">メンテナンス＆セキュリティセンター</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/Backup/overview">バックアップと復元</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/WebServer/overview">Web サーバー</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/WebServer/gettingStarted">Web 開発</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/REST/gettingStarted">REST サーバー</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/Desktop/clientServer">クライアント/サーバー</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/FormEditor/forms">フォーム</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/FormEditor/jsonReference">フォームプロパティ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/FormObjects/formObjectsOverview">フォームオブジェクト</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/FormObjects/propertiesReference">フォームオブジェクトプロパティ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/Events/overview">フォームイベント</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/Menus/overview">メニュー</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ja/19/Desktop/building">アプリケーションビルド</a></div></li></ul></nav><button type="button" title="サイドバーを隠す" aria-label="サイドバーを隠す" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリスト"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/docs/ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">クラス API リファレンス</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">DataClass</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">バージョン: 19</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページ上で</button></div><div class="theme-doc-markdown markdown"><header><h1>DataClass</h1></header><p><a href="/docs/ja/19/ORDA/dsmapping#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%AF%E3%83%A9%E3%82%B9">データクラス</a> はデータベーステーブルへのオブジェクトインターフェースを提供します。 4Dアプリケーション内のデータクラスはすべて、<code>ds</code> <a href="/docs/ja/19/ORDA/dsmapping#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%B9%E3%83%88%E3%82%A2">データストア</a> のプロパティとして利用可能です。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="概要">概要<a href="#概要" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#attributename"><strong><em>.attributeName</em></strong> : object</a> <!-- --> <!-- --> <!-- --> <!-- -->プロパティとして直接利用可能なオブジェクトです</td></tr><tr><td><a href="#all"><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->データストアをクエリして、データクラスの全エンティティをエンティティセレクションとして返します</td></tr><tr><td><a href="#fromcollection"><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <em>objectCol</em> 引数のオブジェクトのコレクションに基づいてデータクラスのエンティティを更新あるいは作成し、対応するエンティティセレクションを返します</td></tr><tr><td><a href="#get"><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D.Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.Entity</a> <!-- --> <!-- --> <!-- --> <!-- -->データクラスをクエリして、<em>primaryKey</em> に渡したプライマリーキーに合致するエンティティを返します</td></tr><tr><td><a href="#getdatastore"><strong>.getDataStore()</strong> : cs.DataStore</a> <!-- --> <!-- --> <!-- --> <!-- -->指定したデータクラスが属しているデータストアを返します</td></tr><tr><td><a href="#getinfo"><strong>.getInfo()</strong> : Object </a> <!-- --> <!-- --> <!-- --> <!-- -->データクラスの情報を提供するオブジェクトを返します</td></tr><tr><td><a href="#new"><strong>.new()</strong> : 4D.Entity </a> <!-- --> <!-- --> <!-- --> <!-- -->メモリ内にデータクラスに空のエンティティを新規作成しそれを返します</td></tr><tr><td><a href="#newselection"><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D.EntitySelection </a> <!-- --> <!-- --> <!-- --> <!-- -->データクラスに紐づいた 追加可能な、空の新規エンティティセレクションをメモリ内に作成します</td></tr><tr><td><a href="#query"><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection </a> <!-- --> <!-- --> <!-- --> <!-- -->データクラスの全エンティティから、<em>queryString</em> または <em>formula</em> と任意の <em>value</em> 引数で指定した検索条件に合致するエンティティを検索します</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="attributename">.<em>attributeName</em><a href="#attributename" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table></div></div></details><p><strong><em>.attributeName</em></strong> : object</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明">説明<a href="#説明" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>データクラスの属性は、 プロパティとして直接利用可能なオブジェクトです 。</p><p>返されるオブジェクトのプロパティを読み取ることによって、データクラス属性に関する情報が取得できます。</p><blockquote><p>データクラス属性オブジェクトを編集することは可能ですが、元となるデータベースストラクチャーは変更されません。</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="返されるオブジェクト">返されるオブジェクト<a href="#返されるオブジェクト" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>返される属性オブジェクトには以下のプロパティが格納されています:</p><table><thead><tr><th>プロパティ</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>autoFilled</td><td>Boolean</td><td>属性値が 4D によって自動生成される場合に true です。 このプロパティは次の 4Dフィールドプロパティに対応しています: 数値型フィールドの &quot;自動インクリメント&quot; および UUID (文字型)フィールドの &quot;自動UUID&quot;。 <code>.kind</code> が &quot;relatedEntity&quot; または &quot;relatedEntities&quot; の場合には、このプロパティは返されません。</td></tr><tr><td>fieldNumber</td><td>integer</td><td>属性の内部的な 4Dフィールド番号。 <code>.kind</code> が &quot;relatedEntity&quot; または &quot;relatedEntities&quot; の場合には、このプロパティは返されません。</td></tr><tr><td>fieldType</td><td>Integer</td><td>属性の 4Dデータベースフィールドタイプ。 これは属性の種類 (<code>kind</code>) によります。 とりうる値: <li><code>.kind</code> = &quot;storage&quot; の場合は、対応する 4Dフィールドタイプ (<a href="https://doc.4d.com/4dv20/help/command/ja/page1509.html" target="_blank" rel="noopener noreferrer"><code>Value type</code></a> 参照)</li><li><code>.kind</code> = &quot;relatedEntity&quot; の場合: 38 (<code>is object</code>)</li><li><code>.kind</code> = &quot;relatedEntities&quot; の場合: 42 (<code>is collection</code>)</li></td></tr><tr><td>indexed</td><td>Boolean</td><td>属性に対して B-tree もしくは クラスターB-Tree インデックスが設定されている場合に true です。 <code>.kind</code> が &quot;relatedEntity&quot; または &quot;relatedEntities&quot; の場合には、このプロパティは返されません。</td></tr><tr><td>inverseName</td><td>Text</td><td>リレーション先の属性名。 <code>.kind</code> = &quot;relatedEntity&quot; または &quot;relatedEntities&quot; の場合にのみ返されます。</td></tr><tr><td>keywordIndexed</td><td>Boolean</td><td>属性にキーワードインデックスが存在すれば true です。 <code>.kind</code> が &quot;relatedEntity&quot; または &quot;relatedEntities&quot; の場合には、このプロパティは返されません。</td></tr><tr><td>kind</td><td>Text</td><td>属性の種類。 とりうる値:<li>&quot;storage&quot;: ストレージ (あるいはスカラー) 属性。つまり、属性は値を保存しており、他の属性への参照ではありません。</li><li>&quot;relatedEntity&quot;: N対1 リレーション属性 (エンティティへの参照)</li><li>&quot;relatedEntities&quot;: 1対N リレーション属性 (エンティティセレクションへの参照)</li></td></tr><tr><td>必須</td><td>Boolean</td><td>属性において Null値の入力が拒否されている場合に true です。 <code>.kind</code> が &quot;relatedEntity&quot; または &quot;relatedEntities&quot; の場合には、このプロパティは返されません。 注記: このプロパティは、4Dデータベースレベルの &quot;Null値の入力を拒否&quot; フィールドプロパティと対応しています。 フィールドのデータ入力制御オプションである既存の &quot;必須入力&quot; プロパティとは無関係です。</td></tr><tr><td>name</td><td>Text</td><td>属性名 (文字列)</td></tr><tr><td>relatedDataClass</td><td>Text</td><td>属性にリレートされているデータクラスの名称。 <code>.kind</code> = &quot;relatedEntity&quot; または &quot;relatedEntities&quot; の場合にのみ返されます。</td></tr><tr><td>type</td><td>Text</td><td>属性の概念的な値タイプ。汎用的なプログラミングに有用です。 これは属性の種類 (<code>kind</code>) によります。 とりうる値: <li><code>.kind</code> = &quot;storage&quot; の場合: &quot;bool&quot;, &quot;date&quot;, &quot;image&quot;, &quot;number&quot;, &quot;object&quot;, または &quot;string&quot;。 数値型の場合 &quot;number&quot; が返されます (時間を含む)。UUID、文字およびテキスト型フィールドの場合 &quot;string&quot; が返されます。</li><li><code>.kind</code> = &quot;relatedEntity&quot; の場合: リレートされたデータクラス名</li><li><code>.kind</code> = &quot;relatedEntities&quot; の場合: リレートされたデータクラス名 + &quot;Selection&quot; 接尾辞</li></td></tr><tr><td>unique</td><td>Boolean</td><td>属性値が重複不可の場合に true です。 <code>.kind</code> が &quot;relatedEntity&quot; または &quot;relatedEntities&quot; の場合には、このプロパティは返されません。</td></tr></tbody></table><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>汎用的なプログラミングにおいては、プロパティが返されない場合でも有効な値を取得するため、<code>Bool(attributeName.property)</code>、<code>Num(attributeName.property)</code>、または <code>String(attributeName.property)</code> をプロパティの型に応じて使用することが推奨されます。</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1">例題 1<a href="#例題-1" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$salary:=ds.Employee.salary // Employeeデータクラスの salary属性を返します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$compCity:=ds.Company[&quot;city&quot;] // Companyデータクラスの city属性を返します</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-2">例題 2<a href="#例題-2" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>以下のストラクチャーを前提とします:</p><p><img loading="lazy" src="/docs/ja/assets/images/dataclassAttribute-a6b39462dc310d6f9b5816409d863cee.png" width="454" height="634" class="img_ev3q"></p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $firstnameAtt;$employerAtt;$employeesAtt : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $firstnameAtt:=ds.Employee.firstname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //{name:firstname,kind:storage,fieldType:0,type:string,fieldNumber:2,indexed:true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //keyWordIndexed:false,autoFilled:false,mandatory:false,unique:false}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employerAtt:=ds.Employee.employer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //{name:employer,kind:relatedEntity,relatedDataClass:Company,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //fieldType:38,type:Company,inverseName:employees}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //38=Is object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employeesAtt:=ds.Company.employees</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //{name:employees,kind:relatedEntities,relatedDataClass:Employee,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //fieldType:42,type:EmployeeSelection,inverseName:employer}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //42=Is collection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-3">例題 3<a href="#例題-3" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>以下のテーブルプロパティを前提とします:</p><p><img loading="lazy" src="/docs/ja/assets/images/dataclassAttribute2-815959fd721b6dd175aaa338e04c2f38.png" width="405" height="383" class="img_ev3q"></p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sequenceNumberAtt : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sequenceNumberAtt=ds.Employee.sequenceNumber</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //{name:sequenceNumber,kind:storage,fieldType:0,type:string,fieldNumber:13,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //indexed:true,keyWordIndexed:false,autoFilled:true,mandatory:false,unique:true}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="all">.all()<a href="#all" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17 R5</td><td><em>settings</em> パラメーターをサポート</td></tr><tr><td>17</td><td>追加</td></tr></tbody></table></div></div></details><p><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D.EntitySelection</p><table><thead><tr><th>引数</th><th>タイプ</th><th align="center"></th><th>説明</th></tr></thead><tbody><tr><td>settings</td><td>Object</td><td align="center">-&gt;</td><td>ビルドオプション: context</td></tr><tr><td>戻り値</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>データクラスの全エンティティの参照</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-1">説明<a href="#説明-1" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p><code>.all()</code> 関数は、 データストアをクエリして、データクラスの全エンティティをエンティティセレクションとして返します。</p><p>エンティティはデフォルトの順番で返され、通常は作成順になっています。 ただし、エンティティ削除後に新規追加した場合には、デフォルトの順番は作成順を反映しない点に留意が必要です。</p><p>エンティティが見つからない場合、空のエンティティセレクションが返されます。</p><p>この関数には、レイジーローディングが適用されます。</p><p><strong>settings</strong></p><p>任意の <em>settings</em> パラメーターには、追加オプションを格納したオブジェクトを渡すことができます。 以下のプロパティがサポートされています:</p><table><thead><tr><th>プロパティ</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>エンティティセレクションに適用されている最適化コンテキストのラベル。 エンティティセレクションを扱うコードはこのコンテキストを使うことで最適化の恩恵を受けます。 この機能は <a href="/docs/ja/19/ORDA/entities#%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88/%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96">ORDA のクライアント/サーバー処理</a>を想定して設計されています。</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題">例題<a href="#例題" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $allEmp : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $allEmp:=ds.Employee.all()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fromcollection">.fromCollection()<a href="#fromcollection" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17 R5</td><td><em>settings</em> パラメーターをサポート</td></tr><tr><td>17</td><td>追加</td></tr></tbody></table></div></div></details><p><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D.EntitySelection</p><table><thead><tr><th>引数</th><th>タイプ</th><th align="center"></th><th>説明</th></tr></thead><tbody><tr><td>objectCol</td><td>Collection</td><td align="center">-&gt;</td><td>エンティティにマップするオブジェクトのコレクション</td></tr><tr><td>settings</td><td>Object</td><td align="center">-&gt;</td><td>ビルドオプション: context</td></tr><tr><td>戻り値</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>コレクションから作成したエンティティセレクション</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-2">説明<a href="#説明-2" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p><code>.fromCollection()</code> 関数は、 <em>objectCol</em> 引数のオブジェクトのコレクションに基づいてデータクラスのエンティティを更新あるいは作成し、対応するエンティティセレクションを返します。</p><p><em>objectCol</em> パラメーターには、データクラスの既存エンティティを更新、または新規エンティティを作成するためのオブジェクトのコレクションを渡します。 プロパティ名は、データクラスの属性名と同一である必要があります。 プロパティ名がデータクラスに存在しない場合、それは無視されます。 コレクション内で属性値が定義されていない場合、その値は null になります。</p><p>コレクションのオブジェクト要素とエンティティのマッピングは、<strong>属性名</strong> と <strong>型の合致</strong> をもって行われます。 オブジェクトプロパティがエンティティ属性と同じ名前であっても、型が合致しない場合には、エンティティの属性は空のままです。</p><p><strong>作成モードと更新モード</strong></p><p><em>objectCol</em> 引数の各オブジェクトついて:</p><ul><li>オブジェクトがブール型の &quot;<!-- -->_<!-- -->_<!-- -->NEW&quot; プロパティを含み、それが <strong>false</strong> に設定されている場合(あるいは &quot;<!-- -->_<!-- -->_<!-- -->NEW&quot; プロパティが含まれていない場合)、オブジェクトの対応する値でエンティティが更新あるいは作成されます。 プライマリーキーに関するチェックはおこなわれません:<ul><li>プライマリーキーが指定されていて実在する場合、エンティティは更新されます。 この場合、プライマリーキーはそのまま、あるいは &quot;<!-- -->_<!-- -->_<!-- -->KEY&quot; プロパティを (プライマリーキー値とともに) 使って指定することができます。</li><li>そのまま指定したプライマリーキーが実在しない場合、エンティティは作成されます。</li><li>プライマリーキーを指定していない場合、エンティティは作成され、標準のデータベースのルールに基づいてプライマリーキー値が割り当てられます。</li></ul></li><li>オブジェクトがブール型の &quot;<!-- -->_<!-- -->_<!-- -->NEW&quot; プロパティを含み、それが <strong>true</strong> に設定されている場合、オブジェクトの対応する値でエンティティが作成されます。 プライマリーキーに関するチェックがおこなわれます:<ul><li>そのまま指定したプライマリーキーが実在する場合、エラーが返されます。</li><li>そのまま指定したプライマリーキーが実在しない場合、エンティティは作成されます。</li><li>プライマリーキーを指定していない場合、エンティティは作成され、標準のデータベースのルールに基づいてプライマリーキー値が割り当てられます。<blockquote><p>値を持つ &quot;<!-- -->_<!-- -->_<!-- -->KEY&quot; プロパティは、&quot;<!-- -->_<!-- -->_<!-- -->NEW&quot; プロパティが <strong>false</strong> に設定 (あるいは省略) されていて、かつ対応するエンティティが存在する場合のみ、考慮されます。 それ以外の場合には、&quot;<!-- -->_<!-- -->_<!-- -->KEY&quot; プロパティ値は無視されるため、プライマリーキーの値はそのまま渡さなければなりません。</p></blockquote></li></ul></li></ul><p><strong>リレートエンティティ</strong></p><p><em>objectCol</em> 引数のオブジェクトは、一つ以上のリレートエンティティに対応するオブジェクトをネストすることができます。これはエンティティ間のリンクを作成・更新するのに有用です。</p><p>リレートエンティティに相当するネストされたオブジェクトは、リレートエンティティのプライマリーキー値を格納した &quot;<!-- -->_<!-- -->_<!-- -->KEY&quot; プロパティあるいはプライマリーキー属性を格納している必要があります。 ”<!-- -->_<!-- -->_<!-- -->KEY” プロパティを使用すると、プライマリーキー属性名に依存する必要がありません。</p><blockquote><p>この機構によって、リレートエンティティの中身を作成・更新することはできません。</p></blockquote><p><strong>スタンプ</strong></p><p>&quot;<!-- -->_<!-- -->_<!-- -->STAMP&quot; プロパティが指定された場合、データストアのスタンプとのチェックがおこなわれ、エラーが返されることがあります (&quot;与えられたスタンプはテーブルXXX のレコード# XXのカレントのものと合致しません&quot;)。 詳細については <a href="/docs/ja/19/ORDA/entities#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%83%AD%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0">エンティティロッキング</a> を参照ください。</p><p><strong>settings</strong></p><p>任意の <em>settings</em> パラメーターには、追加オプションを格納したオブジェクトを渡すことができます。 以下のプロパティがサポートされています:</p><table><thead><tr><th>プロパティ</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>エンティティセレクションに適用されている最適化コンテキストのラベル。 エンティティセレクションを扱うコードはこのコンテキストを使うことで最適化の恩恵を受けます。 この機能は <a href="/docs/ja/19/ORDA/entities#%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88/%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96">ORDA のクライアント/サーバー処理</a>を想定して設計されています。</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1-1">例題 1<a href="#例題-1-1" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>既存のエンティティを更新します。 <!-- -->_<!-- -->_<!-- -->NEW プロパティはなく、従業員のプライマリーキーは属性に実在の値を指定して渡します:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.ID:=668 // Employeeテーブルの実在する主キー</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;Arthur&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.employer:=New object(&quot;ID&quot;;121) // リレートデータクラス Company の実在する主キー</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // リレートデータクラス Company に実在する別の主キーを指定すれば、会社を変更することができます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-2-1">例題 2<a href="#例題-2-1" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>既存のエンティティを更新します。 <!-- -->_<!-- -->_<!-- -->NEW プロパティはなく、従業員のプライマリーキーは <!-- -->_<!-- -->_<!-- -->KEY プロパティに実在の値を指定して渡します:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.__KEY:=1720 // Employeeテーブルの実在する主キー</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;John&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Boorman&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.employer:=New object(&quot;ID&quot;;121) // リレートデータクラス Company の実在する主キー</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // リレートデータクラス Company に実在する別の主キーを指定すれば、会社を変更することができます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-3-1">例題 3<a href="#例題-3-1" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>単純に、コレクションから新しいエンティティを作成します:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;Victor&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Hugo&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-4">例題 4<a href="#例題-4" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>新規エンティティを作成します。 <!-- -->_<!-- -->_<!-- -->NEW プロパティは true で、従業員のプライマリーキーは指定しません:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;Mary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.employer:=New object(&quot;__KEY&quot;;121) // リレートデータクラス Company の実在する主キー</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.__NEW:=True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-5">例題 5<a href="#例題-5" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>新規エンティティを作成します。 <!-- -->_<!-- -->_<!-- -->NEW プロパティはなく、従業員のプライマリーキー属性を指定しますが、その値は実在しません:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.ID:=10000 // 実在しない主キー</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;Françoise&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Sagan&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-6">例題 6<a href="#例題-6" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>2つのエンティティが同じプライマリーキーを持つ場合、最初のエンティティは作成・保存されますが、2つめのエンティティの処理は失敗します:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp; $emp2 : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.ID:=10001 // 実在しない主キー</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;Simone&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.__NEW:=True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp2:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp2.ID:=10001 // 上と同じ主キー</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp2.firstName:=&quot;Marc&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp2.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp2.__NEW:=True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 最初のエンティティは作成されます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 2つめのエンティティは重複キーエラーになります</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="参照">参照<a href="#参照" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p><a href="/docs/ja/19/API/EntitySelectionClass#tocollection"><strong>.toCollection()</strong></a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="get">.get()<a href="#get" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table></div></div></details><p><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D.Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.Entity</p><table><thead><tr><th>引数</th><th>タイプ</th><th align="center"></th><th>説明</th></tr></thead><tbody><tr><td>primaryKey</td><td>Integer または Text</td><td align="center">-&gt;</td><td>取得するエンティティのプライマリーキー値</td></tr><tr><td>settings</td><td>Object</td><td align="center">-&gt;</td><td>ビルドオプション: context</td></tr><tr><td>戻り値</td><td>4D.Entity</td><td align="center">&lt;-</td><td>指定したプライマリーキーに合致するエンティティ</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-3">説明<a href="#説明-3" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p><code>.get()</code> 関数は データクラスをクエリして、<em>primaryKey</em> に渡したプライマリーキーに合致するエンティティを返します。</p><p><em>primaryKey</em> には、取得したいエンティティのプライマリーキーの値を渡します。 値の型は、データストアで設定されたプライマリーキーの型 (倍長整数あるいはテキスト) と合致している必要があります。 <a href="/docs/ja/19/API/EntityClass#getkey"><code>.getKey()</code></a> 関数に <code>dk key as string</code> 引数を渡すと、プライマリーキーの値が常にテキスト型で返されるように指定することができます。</p><p><em>primaryKey</em> 引数のプライマリーキーを持つエンティティが見つからない場合、<strong>Null</strong> エンティティが返されます。</p><p>この関数にはレイジーローディングが適用され、リレートデータは必要な時にのみディスクから読み込まれます。</p><p><strong>settings</strong></p><p>任意の <em>settings</em> パラメーターには、追加オプションを格納したオブジェクトを渡すことができます。 以下のプロパティがサポートされています:</p><table><thead><tr><th>プロパティ</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>エンティティに適用されている自動の最適化コンテキストのラベル。 エンティティを読み込む以降のコードは、このコンテキストを使うことで最適化の恩恵を受けます。 この機能は <a href="/docs/ja/19/ORDA/entities#%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88/%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96">ORDA のクライアント/サーバー処理</a>を想定して設計されています。</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1-2">例題 1<a href="#例題-1-2" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs.EmployeeEntity  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity2 : cs.InvoiceEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=ds.Employee.get(167) // プライマリーキーの値が 167のエンティティを返します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity2:=ds.Invoice.get(&quot;DGGX20030&quot;) // プライマリーキーの値が &quot;DGGX20030&quot; のエンティティを返します</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-2-2">例題 2<a href="#例題-2-2" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p><em>context</em> プロパティの使用について紹介します:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $e1; $e2; $e3; $e4 : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $settings; $settings2 : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings:=New object(&quot;context&quot;;&quot;detail&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings2:=New object(&quot;context&quot;;&quot;summary&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e1:=ds.Employee.get(1;$settings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> completeAllData($e1) // completeAllData メソッドにおいて最適化がトリガーされ、&quot;detail&quot; コンテキストが割り当てられます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e2:=ds.Employee.get(2;$settings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> completeAllData($e2) // completeAllData メソッドには、&quot;detail&quot; コンテキストに付随する最適化が適用されます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e3:=ds.Employee.get(3;$settings2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> completeSummary($e3) // completeSummary メソッドにおいて最適化がトリガーされ、&quot;summary&quot; コンテキストが割り当てられます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e4:=ds.Employee.get(4;$settings2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> completeSummary($e4) // completeSummary メソッドには、&quot;summary&quot; コンテキストに付随する最適化が適用されます</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getdatastore">.getDataStore()<a href="#getdatastore" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17 R5</td><td>追加</td></tr></tbody></table></div></div></details><p><strong>.getDataStore()</strong> : cs.DataStore</p><table><thead><tr><th>引数</th><th>タイプ</th><th align="center"></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>cs.DataStore</td><td align="center">&lt;-</td><td>データクラスが属しているデータストア</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-4">説明<a href="#説明-4" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p><code>.getDataStore()</code> 関数は、 指定したデータクラスが属しているデータストアを返します。</p><p>返されるデータストアは次のいずれかです:</p><ul><li><code>ds</code> コマンドによって返されるメインデータストア</li><li><code>Open datastore</code> コマンドを使用して開かれたリモートデータストア</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-7">例題<a href="#例題-7" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p><strong><em>SearchDuplicate</em></strong> プロジェクトメソッドは、任意のデータクラス内の重複した値を検索します。</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $pet : cs.CatsEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $pet:=ds.Cats.all().first() // エンティティを取得します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> SearchDuplicate($pet;&quot;Dogs&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  // SearchDuplicate メソッド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // SearchDuplicate(entity_to_search;dataclass_name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE ($pet : Object ; $dataClassName : Text)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $dataStore; $duplicates : Object  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $dataStore:=$pet.getDataClass().getDataStore()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $duplicates:=$dataStore[$dataClassName].query(&quot;name=:1&quot;;$pet.name)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getinfo">.getInfo()<a href="#getinfo" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17 R5</td><td>追加</td></tr></tbody></table></div></div></details><p><strong>.getInfo()</strong> : Object </p><table><thead><tr><th>引数</th><th>タイプ</th><th></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>Object</td><td>&lt;-</td><td>データクラスの情報</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-5">説明<a href="#説明-5" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p><code>.getInfo()</code> 関数は、 データクラスの情報を提供するオブジェクトを返します。 このメソッドは汎用的なコードを書くのに有用です。</p><p><strong>返されるオブジェクト</strong></p><table><thead><tr><th>プロパティ</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>name</td><td>Text</td><td>データクラスの名称</td></tr><tr><td>primaryKey</td><td>Text</td><td>データクラスのプライマリーキー属性の名称</td></tr><tr><td>tableNumber</td><td>Integer</td><td>内部的な 4Dテーブル番号</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1-3">例題 1<a href="#例題-1-3" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE ($entity : Object)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> computeEmployeeNumber($entity) // エンティティに対する何らかの操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$entity.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> if($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;テーブル &quot;+$entity.getDataClass().getInfo().name+&quot; のレコードが更新されました。&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-2-3">例題 2<a href="#例題-2-3" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $settings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.ClientsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings.parameters:=New object(&quot;receivedIds&quot;;getIds())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings.attributes:=New object(&quot;pk&quot;;ds.Clients.getInfo().primaryKey)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Clients.query(&quot;:pk in :receivedIds&quot;;$settings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-3-2">例題 3<a href="#例題-3-2" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $pk : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $dataClassAttribute : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $pk:=ds.Employee.getInfo().primaryKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $dataClassAttribute:=ds.Employee[$pk] // 必要に応じてプライマリーキー属性へのアクセスが可能です</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="new">.new()<a href="#new" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table></div></div></details><p><strong>.new()</strong> : 4D.Entity </p><table><thead><tr><th>引数</th><th>タイプ</th><th></th><th>説明</th></tr></thead><tbody><tr><td>戻り値</td><td>4D.Entity</td><td>&lt;-</td><td>データクラスの新規エンティティ</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-6">説明<a href="#説明-6" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p><code>.new()</code> 関数は、 メモリ内にデータクラスに空のエンティティを新規作成しそれを返します。</p><p>エンティティオブジェクトはメモリ内に作成されますが、<a href="/docs/ja/19/API/EntityClass#save"><code>.save( )</code></a> 関数が呼び出されるまでデータベースには保存されません。 エンティティを保存する前に削除した場合、復元することはできません。</p><p><strong>4D Server</strong>: クライアント/サーバーにおいては、対応するテーブルのプライマリーキーが自動インクリメントであった場合、エンティティがサーバー側に保存されたときに計算されます。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-8">例題<a href="#例題-8" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>以下のコードは &quot;Log&quot; データクラスに新しいエンティティを作成し、&quot;info&quot; 属性に情報を記録します:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs.LogEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=ds.Log.new() // 参照を作成します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.info:=&quot;New entry&quot; // 情報を格納します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.save() // エンティティを保存します</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="newselection">.newSelection()<a href="#newselection" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17</td><td>追加</td></tr></tbody></table></div></div></details><p><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D.EntitySelection </p><table><thead><tr><th>引数</th><th>タイプ</th><th></th><th>説明</th></tr></thead><tbody><tr><td>keepOrder</td><td>Integer</td><td>-&gt;</td><td><code>dk keep ordered</code>: 順列ありのエンティティセレクションを作成します<br><code>dk non ordered</code> (あるいは省略時): 順列なしのエンティティセレクションを作成します</td></tr><tr><td>戻り値</td><td>4D.EntitySelection</td><td>&lt;-</td><td>データクラスの空の新規エンティティセレクション</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-7">説明<a href="#説明-7" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p><code>.newSelection()</code> 関数は、 データクラスに紐づいた 追加可能な、空の新規エンティティセレクションをメモリ内に作成します。</p><blockquote><p>追加可能なエンティティセレクションについての詳細は <a href="/docs/ja/19/ORDA/entities#%E5%85%B1%E6%9C%89%E5%8F%AF%E8%83%BD%E8%BF%BD%E5%8A%A0%E5%8F%AF%E8%83%BD%E3%81%AA%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%BB%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3">共有可能/追加可能なエンティティセレクション</a> を参照ください。</p></blockquote><p>順列ありのエンティティセレクションを作成するには、<em>keepOrder</em> に <code>dk keep ordered</code> セレクターを渡します。 この引数を省略した場合のデフォルト、あるいは <code>dk non ordered</code> セレクターを渡した場合には、関数は順列なしのエンティティセレクションを返します。 順列なしのエンティティセレクションの方が速いですが、エンティティの位置に頼ることはできません。 詳細については、<a href="/docs/ja/19/ORDA/dsmapping#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%BB%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E9%A0%86%E5%88%97%E3%81%82%E3%82%8A%E9%A0%86%E5%88%97%E3%81%AA%E3%81%97">エンティティセレクションの順列あり/順列なし</a> を参照ください。</p><p>作成された時点では、エンティティセレクションにエンティティは含まれていません(<code>mySelection.length</code> は0を返します)。 あとから <a href="/docs/ja/19/API/EntitySelectionClass#add"><code>add()</code></a> 関数を呼び出すことで、エンティティセレクションを徐々にビルドしていくことができます。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-9">例題<a href="#例題-9" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $USelection; $OSelection : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $USelection:=ds.Employee.newSelection() // 順列なしの空のエンティティセレクションを作成します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $OSelection:=ds.Employee.newSelection(dk keep ordered) // 順列ありの空のエンティティセレクションを作成します</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="query">.query()<a href="#query" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>履歴</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>リリース</th><th>内容</th></tr></thead><tbody><tr><td>17 R6</td><td>Formula パラメーターをサポート</td></tr><tr><td>17 R5</td><td>値のプレースホルダーをサポート</td></tr><tr><td>17</td><td>追加</td></tr></tbody></table></div></div></details><p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection </p><table><thead><tr><th>引数</th><th>タイプ</th><th></th><th>説明</th></tr></thead><tbody><tr><td>queryString</td><td>Text</td><td>-&gt;</td><td>検索条件 (文字列)</td></tr><tr><td>formula</td><td>Object</td><td>-&gt;</td><td>検索条件 (フォーミュラオブジェクト)</td></tr><tr><td>value</td><td>any</td><td>-&gt;</td><td>プレースホルダー用の値</td></tr><tr><td>querySettings</td><td>Object</td><td>-&gt;</td><td>クエリオプション: parameters, attributes, args, allowFormulas, context, queryPath, queryPlan</td></tr><tr><td>戻り値</td><td>4D.EntitySelection</td><td>&lt;-</td><td><em>queryString</em> または <em>formula</em> に渡した検索条件に合致するエンティティから構成された新しいエンティティセレクション</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="説明-8">説明<a href="#説明-8" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p><code>.query()</code> 関数は、 データクラスの全エンティティから、<em>queryString</em> または <em>formula</em> と任意の <em>value</em> 引数で指定した検索条件に合致するエンティティを検索します。戻り値は、見つかったエンティティをすべて格納する <code>EntitySelection</code> 型の新しいオブジェクトです。 この関数には、レイジーローディングが適用されます。</p><p>エンティティが見つからない場合、空のエンティティセレクションが返されます。</p><p><strong>queryString 引数</strong></p><p><em>queryString</em> 引数には、以下のシンタックスを使用します:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">attributePath|formula 比較演算子 値   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> {論理演算子 attributePath|formula 比較演算子 値}   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> {order by attributePath {desc | asc}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>詳細は以下の通りです:</p><ul><li><p><strong>attributePath</strong>: クエリの実行対象となる属性パス。 この引数は、単純な名前 (&quot;country&quot; など) のほか、あらゆる有効な属性パス (&quot;country.name&quot; など) の形をとることができます。 属性パスが <code>Collection</code> 型である場合、すべてのオカレンスを管理するには<!-- -->[<!-- --> ] 記法を使用してください (例: &quot;children<!-- -->[<!-- --> ].age&quot; など)。 また、<strong>プレースホルダー</strong> を使用することもできます(後述参照)。</p><blockquote><p><em>&quot;.&quot;, &quot;<!-- -->[<!-- --> ]&quot;, や &quot;=&quot;, &quot;&gt;&quot;, &quot;#&quot;..., などの特殊文字はクエリ文字列の中で正しく評価されないため、これらが含まれた属性名を直接使用することはできません。 このような属性をクエリするには、プレースホルダーの使用を検討します。これにより、属性パス内で使用できる文字の範囲が広がります (後述の</em> <strong>プレースホルダーの使用</strong> <em>参照)。</em></p></blockquote></li><li><p><strong>formula</strong>: テキストまたはオブジェクト形式で渡された有効なフォーミュラ。 フォーミュラは処理されるエンティティごとに評価され、ブール値を返さなくてはなりません。 処理中のエンティティはフォーミュラ内において <code>This</code> で参照されます。</p><ul><li><p><strong>テキスト</strong>: フォーミュラ文字列の前に <code>eval( )</code> ステートメントが必要です。これにより、クエリが式を正しく解釈します。 例: <em>&quot;eval(length(This.lastname) &gt;=30)&quot;</em></p></li><li><p><strong>オブジェクト</strong>: <a href="/docs/ja/19/API/FunctionClass">フォーミュラオブジェクト</a> は <strong>プレースホルダー</strong> (後述参照) を使って受け渡します。 このフォーミュラは、<a href="/docs/ja/19/API/FunctionClass#formula"><code>Formula</code></a> または <a href="/docs/ja/19/API/FunctionClass#formula-from-string"><code>Formula from string</code></a> コマンドによって作成されたものでなくてはなりません。</p><blockquote><ul><li>4Dフォーミュラは、<code>&amp;</code> および <code>|</code> 記号のみを論理演算子としてサポートすることに留意が必要です。</li><li>フォーミュラ以外にも検索条件がある場合、クエリエンジンの最適化によってほかの検索条件 (たとえばインデックス属性) の処理が優先される場合があり、その場合はエンティティのサブセットのみがフォーミュラの評価対象となります。</li></ul></blockquote><p> クエリに使用するフォーミュラは $1 に引数を受け取ることができます。 詳細については後述の <strong>フォーミュラ引数</strong> を参照ください。</p><blockquote><ul><li>フォーミュラが複雑な場合など、<code>queryString</code> パラメーターを使わずに、<code>formula</code> パラメーターにオブジェクトを直接渡すこともできます。 後述の <strong>フォーミュラ引数</strong> を参照ください。</li><li>セキュリティのため、 <code>query()</code> 関数内のフォーミュラ使用を禁止することができます。 <code>querySettings</code> パラメーターの説明を参照ください。</li></ul></blockquote></li></ul></li><li><p><strong>比較演算子</strong>: <em>attributePath</em> 引数と <em>value</em> 引数の比較に使用する記号 以下の記号がサポートされます:</p><table><thead><tr><th>比較</th><th>記号</th><th>説明</th></tr></thead><tbody><tr><td>等しい</td><td>=, ==</td><td>一致するデータを取得します。ワイルドカード (@) をサポートし、文字の大小/アクセントの有無は区別しません。</td></tr><tr><td></td><td>===, IS</td><td>一致するデータを取得します。ワイルドカード (@) は標準の文字として認識され、文字の大小/アクセント記号の有無は区別しません。</td></tr><tr><td>等しくない</td><td>#, !=</td><td>ワイルドカード (@) をサポートします</td></tr><tr><td></td><td>!==, IS NOT</td><td>ワイルドカード (@) は標準の文字として認識されます</td></tr><tr><td>小さい</td><td>&lt;</td><td></td></tr><tr><td>大きい</td><td>&gt;</td><td></td></tr><tr><td>以下</td><td>&lt;=</td><td></td></tr><tr><td>以上</td><td>&gt;=</td><td></td></tr><tr><td>含まれる</td><td>IN</td><td>コレクション、あるいは複数の値のうち、どれか一つの値と等しいデータを取得します。ワイルドカード (@) をサポートします。</td></tr><tr><td>宣言に Not 条件を適用</td><td>NOT</td><td>複数の演算子が含まれる宣言の前に NOT を使用する場合にはカッコをつける必要があります。</td></tr><tr><td>キーワードを含む</td><td>%</td><td>キーワードは、文字列あるいはピクチャー型の属性内で使用されるものが対象です。</td></tr></tbody></table></li><li><p><strong>値</strong>: コレクションの各要素、あるいはエンティティセレクションの各エンティティのプロパティのカレント値に対して比較する値。 <strong>プレースホルダー</strong> (後述の <strong>プレースホルダーの使用</strong> 参照) か、あるいはデータ型プロパティと同じ型の式を使用することができます。 定数値を使用する場合、以下の原則に従う必要があります:</p><ul><li><strong>テキスト</strong> テキスト型の定数値の場合は単一引用符つき、あるいはなしでも渡すことができます(後述の <strong>引用符を使用する</strong> 参照)。 文字列中の文字列を検索する (&quot;含まれる&quot; クエリ) には、ワイルドカード記号 (@) を使用して検索文字列を指定します (例: &quot;@Smith@&quot;)。 また以下のキーワードはテキスト定数においては使用できません: true, false。</li><li><strong>ブール</strong> 型の定数値: <strong>true</strong> または <strong>false</strong> (文字の大小を区別します)</li><li><strong>数値</strong> 型の定数値: 浮動小数点は &#x27;.&#x27; (ピリオド) で区切られます。 日付型の定数値: &quot;YYYY-MM-DD&quot; フォーマット。</li><li><strong>null</strong> 定数値: &quot;null&quot; キーワードを使用した場合、<strong>null</strong> と <strong>undefined</strong> プロパティの両方が検索されます。</li><li>IN 記号を使用したクエリの場合、値はコレクションか、attributePath の型に合致する、<!-- -->[<!-- --> ] でくくられたカンマ区切りの値である必要があります (文字列においては、&quot; の記号は&quot;\&quot;でエスケープする必要があります)。</li></ul></li><li><p><strong>論理演算子</strong>: 複数の条件をクエリ内で結合させるのに使用します(任意)。 以下の論理演算子のいずれか一つを使用できます (名前あるいは記号のどちらかを渡します):</p><table><thead><tr><th>結合</th><th>記号</th></tr></thead><tbody><tr><td>AND</td><td>&amp;, &amp;&amp;, and</td></tr><tr><td>OR</td><td>|<!-- -->,<!-- -->|<!-- -->|<!-- -->, or</td></tr></tbody></table></li><li><p><strong>order by attributePath</strong>: クエリに &quot;order by attributePath&quot; ステートメントを追加することで、結果をソートすることができます。 カンマで区切ることで、複数の order by ステートメントを使用することもできます (例: order by <em>attributePath1</em> desc, <em>attributePath2</em> asc)。 デフォルトの並び順は昇順です。 並び順を指定するには、降順の場合は &#x27;desc&#x27;、昇順の場合は &#x27;asc&#x27; を追加します。</p><blockquote><ul><li>このステートメントを使用した場合、順序ありエンティティセレクションが返されます (詳細については <a href="/docs/ja/19/ORDA/dsmapping#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%BB%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E9%A0%86%E5%88%97%E3%81%82%E3%82%8A%E9%A0%86%E5%88%97%E3%81%AA%E3%81%97">エンティティセレクションの順列あり/順列なし</a> を参照ください)。</li></ul></blockquote></li></ul><p><strong>引用符を使用する</strong></p><p>クエリ内で引用符を使用する場合、クエリ内においては単一引用符 &#x27; &#x27; を使用し、クエリ全体をくくるには二重引用符 &quot; &quot; を使用します。クオートを混同するとエラーが返されます。 例:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;employee.name = &#x27;smith&#x27; AND employee.firstname = &#x27;john&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>単一引用符 (&#x27;) は、クエリ文字列を分解してしまうため、検索値としてはサポートされていません。 たとえば、&quot;comp.name = &#x27;John&#x27;s pizza&#x27; &quot; はエラーを生成します。 単一引用符を含む値を検索するには、プレースホルダーを使用します (後述参照)。</p></blockquote><p><strong>カッコを使用する</strong></p><p>クエリ内でカッコを使用すると、計算に優先順位をつけることができます。 たとえば、以下のようにクエリを整理することができます:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;(employee.age &gt;= 30 OR employee.age &lt;= 65) AND (employee.salary &lt;= 10000 OR employee.status = &#x27;Manager&#x27;)&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>プレースホルダーを使用する</strong></p><p>4D では、<em>queryString</em> 引数内の <em>attributePath</em>、<em>formula</em> および <em>値</em> にプレースホルダーを使用することができます。 プレースホルダーとは、クエリ文字列に挿入するパラメーターで、クエリ文字列が評価される際に他の値で置き換えられるものです。 プレースホルダーの値はクエリ開始時に一度だけ評価されます。 各要素に対して毎回評価されるわけではありません。</p><p>プレースホルダーには二つの種類があります。<strong>インデックスプレースホルダー</strong> および <strong>命名プレースホルダー</strong> です:</p><table><thead><tr><th>-</th><th>インデックスプレースホルダー</th><th>命名プレースホルダー</th></tr></thead><tbody><tr><td>定義</td><td>queryString に :paramIndex (例 :1, :2...) という形式でパラメーターが挿入され、それに対応する値は後に続く value 引数が提供します。 最大で 128個の value 引数を渡すことができます。</td><td>:paramName (例: myparam など) という形でパラメーターが挿入され、その値は querySettings 引数の attributes または parameters オブジェクトで提供されます。</td></tr><tr><td>例題</td><td>$r:=class.query(&quot;:1=:2&quot;;&quot;city&quot;;&quot;Chicago&quot;)</td><td>$o.attributes:=New object(&quot;att&quot;;&quot;city&quot;)<br> $o.parameters:=New object(&quot;name&quot;;&quot;Chicago&quot;)<br> $r:=class.query(&quot;:att=:name&quot;;$o)</td></tr></tbody></table><p><em>queryString</em> には、すべての種類の引数を混ぜて渡すことができます。 <em>queryString</em> 引数は、<em>attributePath</em> と <em>formula</em> と <em>値</em> に以下のものを含めることができます:</p><ul><li>定数値 (プレースホルダーを使用しない)</li><li>インデックスプレースホルダーや命名プレースホルダー</li></ul><p>以下の理由から、<strong>クエリでのプレースホルダーの使用が推奨されます</strong>:</p><ol><li><p>悪意あるコードの挿入を防ぎます: ユーザーによって値が代入された変数をクエリ文字列として直接使用した場合、余計なクエリ引数を入力することでユーザーがクエリ条件を変更する可能性があります。 たとえば、以下のようなクエリ文字列を考えます:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $vquery:=&quot;status = &#x27;public&#x27; &amp; name = &quot;+myname // ユーザーが自分の名前を入力します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$col.query($vquery)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>非公開のデータがフィルタリングされているため、このクエリは一見安全なように見えます。 しかしながら、もしユーザーが <em>myname</em> に <em>smith OR status=&#x27;private&#x27;</em> のような入力をした場合、クエリ文字列は解釈時に変更され、非公開データも返してしまう可能性があります。</p><p>プレースホルダーを使用した場合、セキュリティ条件を上書きすることは不可能です:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$col.query(&quot;status=&#x27;public&#x27; &amp; name=:1&quot;;myname)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>この場合、ユーザーが <em>myname</em> エリアに <em>smith OR status=&#x27;private&#x27;</em> と入力した場合でも、それはクエリ文字列とはみなされず、値として渡されるだけです。 &quot;smith OR status=&#x27;private&#x27; &quot; という名前の人物を検索したところで、結果は失敗に終わるだけです。</p></li><li><p>フォーマットや文字の問題を心配する必要がありません。これは、<em>attributePath</em> や <em>値</em> がたとえば &quot;.&quot;、&quot;[&#x27; ...などの英数字でない文字を格納している可能性がある場合にとくに有用です。</p></li><li><p>クエリに変数や式を使用することができます。 例:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$col.query(&quot;address.city = :1 &amp; name =:2&quot;;$city;$myVar+&quot;@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result2:=$col.query(&quot;company.name = :1&quot;;&quot;John&#x27;s Pizzas&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><p><strong>null値を検索する</strong></p><p>null値を検索する場合、プレースホルダーシンタックスは使用できません。 なぜならクエリエンジンは null を予期せぬ比較値としてみなすからです。 たとえば、以下のクエリを実行した場合:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$vSingles:=ds.Person.query(&quot;spouse = :1&quot;;Null) // 機能しません</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>この場合 4D は null値を、引数の評価 (別のクエリから渡された属性など) に起因するエラーと解釈するため、期待した結果は得られません。 このようなクエリをおこなうには、直接的なシンタックスを使用する必要があります:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $vSingles:=ds.Person.query(&quot;spouse = null&quot;) // 正しいシンタックス</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>コレクションにおける &quot;等しくない&quot;</strong></p><p>コレクションを含むデータクラス属性内を検索する場合、&quot;<em>値</em> と等しくない&quot; 比較演算子 (<code>#</code> または <code>!=</code>) は、すべてのプロパティが <em>値</em> と異なる要素を検索します (ほかの比較演算子とは異なり、少なくとも 1つのプロパティが <em>値</em> と異なる要素は検索しません)。 つまり、&quot;Not(プロパティ値が <em>value</em> と等しいコレクション要素を検索する)&quot; を検索することと同じです。 たとえば、以下のような エンティティがあるとき:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">エンティティ1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.name: &quot;A&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.info:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    { &quot;coll&quot; : [ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">エンティティ2:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.name: &quot;B&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.info:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    { &quot;coll&quot; : [ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">エンティティ3:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.name: &quot;C&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.info:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    { &quot;coll&quot; : [ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } ] }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>次のような結果になります:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.query(&quot;info.coll[].val = :1&quot;;0) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// B と C を返します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// &quot;少なくとも 1つの valプロパティ値が 0 と等しいエンティティ&quot; を探します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.query(&quot;info.coll[].val != :1&quot;;0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// A のみを返します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// &quot;すべての valプロパティ値が 0 と異なるエンティティ&quot; を探します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// これは、次のクエリと同義です: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.query(not(&quot;info.coll[].val = :1&quot;;0)) </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>&quot;少なくとも 1つのプロパティが <em>値</em> と異なる&quot; エンティティを検索するクエリを実装したい場合は、 <code>[]</code> に文字を入れた特別な表記を使用する必要があります:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.query(&quot;info.coll[a].val != :1&quot;;0)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// A と B を返します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// &quot;少なくとも 1つの valプロパティ値が 0 と異なるエンティティ&quot; を探します</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>[a]</code> 表記には、どのローマ字でも使用可能です。</p><p><strong>コレクション要素とクエリ条件をリンクする</strong></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>この機能は、データクラスおよび <a href="/docs/ja/19/API/EntitySelectionClass#query">エンティティセレクション</a> をクエリする場合にのみ利用可能です。 <a href="/docs/ja/19/API/CollectionClass#query">コレクション</a> をクエリする場合には利用できません。</p></div></div><p>コレクションを含むデータクラス属性を対象に、AND 演算子で結合された複数のクエリ条件を使用して検索するにあたって、検索条件に合致するプロパティが複数のコレクション要素にバラけているのではなく、一つのコレクション要素がすべてまとまっているエンティティを探したいとします。 これには、すべての条件に合致するコレクション要素のみが検出されるよう、クエリ条件をコレクション要素にリンクする必要があります。</p><p>たとえば、以下のような 2件のエンティティがあるとき:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">エンティティ1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.name: &quot;martin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.places:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    { &quot;locations&quot; : [ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;kind&quot;:&quot;home&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;city&quot;:&quot;paris&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">エンティティ2:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.name: &quot;smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.places:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    { &quot;locations&quot; : [ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;kind&quot;:&quot;home&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;city&quot;:&quot;lyon&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } , {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;kind&quot;:&quot;office&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;city&quot;:&quot;paris&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } ] }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>&quot;locations&quot; 属性に、&quot;kind=home&quot; かつ &quot;city=paris&quot; である要素を持つ人を探したいとします。 以下のように書いた場合:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.query(&quot;places.locations[].kind= :1 and places.locations[].city= :2&quot;;&quot;home&quot;;&quot;paris&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>... クエリは &quot;martin&quot; と &quot;smith&quot; の<strong>両方</strong>を返します。 なぜなら &quot;smith&quot; も &quot;kind=home&quot; である &quot;location&quot; 要素を持っており、&quot;city=paris&quot; である &quot;location&quot; 要素をも持っているからです (ですがこれら 2つは異なるコレクション要素です)。</p><p>検索条件に合致する属性が同一のコレクション要素に含まれるエンティティのみを取得するには、<strong>クエリ条件をリンク</strong> します。 クエリ条件をリンクするには:</p><ul><li>リンクする最初のクエリ条件にてパスの <!-- -->[<!-- -->] 内に文字を追加し、同様に他のクエリ条件でも同じ文字を追加します。 例: <code>locations[a].city and locations[a].kind</code>。 ローマ字であればどの文字でも使用可能です (文字の大小は区別されません)。</li><li>同じクエリ内に、異なるリンク条件を追加するには、別の文字を使用します。 単一のクエリ内では、最大で 26組のリンク条件を使用することができます。</li></ul><p>上記の 2件のエンティティにおいて、以下のように書いた場合:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.query(&quot;places.locations[a].kind= :1 and places.locations[a].city= :2&quot;;&quot;home&quot;;&quot;paris&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>... クエリは、&quot;kind=home&quot; かつ &quot;city=paris&quot; である &quot;locations&quot; 要素を持つエンティティ &quot;martin&quot; のみを返します。 &quot;home&quot; と &quot;paris&quot; が同じコレクション要素内にない &quot;smith&quot; は、クエリの結果に含まれません。</p><p><strong>formula 引数</strong></p><p><em>queryString</em> 引数にフォーミュラを挿入 (上記参照) する代わりに、formula オブジェクトをブール検索条件として直接渡すことができます。 トークナイズの利点を生かせる、コードが検索しやすく読みやすい、などといった面から、クエリにおけるフォーミュラオブジェクトの使用は <strong>推奨されています</strong>。</p><p>このフォーミュラは、<code>Formula</code> または <code>Formula from string</code> コマンドによって作成されたものでなくてはなりません。 この場合において:</p><ul><li>フォーミュラは処理されるエンティティごとに評価され、true または false を返さなくてはなりません。 クエリの実行中、フォーミュラの結果がブール値でなかった場合、それは false であるとみなされます。</li><li>処理中のエンティティはフォーミュラ内において <code>This</code> で参照されます。</li><li><code>Formula</code> オブジェクトが <strong>null</strong> の場合、エラー1626 (&quot;テキストまたはフォーミュラが必要です&quot;) が生成されます。このエラーは <code>ON ERR CALL</code> で実装したメソッドを使用して割り込み可能です。<blockquote><p>セキュリティのため、<code>query()</code> 関数内のフォーミュラ使用を禁止することができます。 <em>querySettings</em> パラメーターの説明を参照ください。</p></blockquote></li></ul><p><strong>フォーミュラに引数を渡す</strong></p><p><code>query()</code> クラス関数によって呼び出される <em>フォーミュラ</em> は、引数を受け取ることができます:</p><ul><li>引数は、<em>querySettings</em> 引数の <strong>args</strong> プロパティ (オブジェクト) を通して渡さなければなりません。</li><li>フォーミュラは <strong>args</strong> オブジェクトを <strong>$1</strong> に受け取ります。</li></ul><p>以下の短いコードは、引数をメソッドに渡す仕組みを示しています:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $settings:=New object(&quot;args&quot;;New object(&quot;exclude&quot;;&quot;-&quot;)) // 引数を渡すための args オブジェクト</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;eval(checkName($1.exclude))&quot;;$settings) // $1 が args を受け取ります</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>さらなる使用例は、例題3にて紹介されています。</p><p><strong>4D Server</strong>: クライアント/サーバーにおいては、フォーミュラはサーバー上で実行されます。 このコンテキストにおいては、<code>querySettings.args</code> オブジェクトのみがフォーミュラに送信されます。</p><p><strong>querySettings 引数</strong></p><p><em>querySettings</em> 引数は、追加のオプションを格納したオブジェクトです。 以下のプロパティがサポートされています:</p><table><thead><tr><th>プロパティ</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>parameters</td><td>Object</td><td><em>queryString</em> または <em>formula</em> に <strong>値の命名プレースホルダー</strong> を使用した場合に渡すオブジェクト。 値は、プロパティ/値のペアで表現されます。プロパティは、<em>queryString</em> または <em>formula</em> に値の代わりに挿入されたプレースホルダー名 (&quot;:placeholder&quot;など) で、値は、実際に比較される値です。 インデックスプレースホルダー (value引数として値を直接渡す方法) と命名プレースホルダーは、同じクエリ内で同時に使用することができます。</td></tr><tr><td>attributes</td><td>Object</td><td><em>queryString</em> または <em>formula</em> に <strong>属性パスの命名プレースホルダー</strong> を使用した場合に渡すオブジェクト。 属性パスは、プロパティ/値のペアで表現されます。プロパティは、<em>queryString</em> または <em>formula</em> に属性パスの代わりに挿入されたプレースホルダー名 (&quot;:placeholder&quot;など) で、値は、属性パスを表す文字列または文字列のコレクションです。 値には、データクラスのスカラー属性・リレート属性・オブジェクトフィールド内のプロパティへの属性パスを指定することができます。<table><tr><th>タイプ</th><th>説明</th></tr><tr><td>String</td><td>ドット記法を使用して表現された attributePath (例: &quot;name&quot; または &quot;user.address.zipCode&quot;)</td></tr><tr><td>String の Collection</td><td>コレクションの各要素が attributePath の階層を表します (例: <!-- -->[&quot;name&quot;]<!-- --> または <!-- -->[&quot;user&quot;,&quot;address&quot;,&quot;zipCode&quot;]<!-- -->)。 コレクションを使用することで、ドット記法に準じていない名前の属性に対してもクエリすることができます (例: <!-- -->[<!-- -->&quot;4Dv17.1&quot;,&quot;en/fr&quot;])。</td></tr></table>インデックスプレースホルダー (<em>value</em> 引数として値を直接渡す方法) と命名プレースホルダーは、同じクエリ内で同時に使用することができます。</td></tr><tr><td>args</td><td>Object</td><td>フォーミュラに渡す引数。 <strong>args</strong> オブジェクトは、フォーミュラ内の $1 が受け取るので、その値は <em>$1.property</em> という形で利用可能です (例題3 参照)。</td></tr><tr><td>allowFormulas</td><td>Boolean</td><td>クエリ内でフォーミュラの呼び出しを許可するには true (デフォルト)。 フォーミュラ実行を禁止するには false を渡します。 false に設定されているときに、フォーミュラが <code>query()</code> に渡された場合、エラーが発生します (1278 - フォーミュラはこのメンバーメソッドでは許可されていません)。</td></tr><tr><td>context</td><td>Text</td><td>エンティティセレクションに適用されている自動の最適化コンテキストのラベル。 エンティティセレクションを扱うコードはこのコンテキストを使うことで最適化の恩恵を受けます。 この機能はクライアント/サーバー処理を想定して設計されています。 詳細な情報については、<a href="https://doc.4d.com/4Dv19/4D/19/Entity-selections.300-5416640.ja.html#4461913" target="_blank" rel="noopener noreferrer"><strong>クライアント/サーバーの最適化</strong></a> の章を参照ください。</td></tr><tr><td>queryPlan</td><td>Boolean</td><td>戻り値のエンティティコレクションに、実行する直前のクエリの詳細 (クエリプラン) を含めるかどうかを指定します。 返されるプロパティは、クエリプラン あるいはサブクエリ (複合クエリの場合) を格納したオブジェクトです。 このオプションはアプリケーションの開発フェーズにおいて有用です。 このオプションは通常 queryPath と組み合わせて使用されます。 省略時のデフォルト: false。 <strong>注:</strong> このプロパティは <code>entitySelection.query( )</code> および <code>dataClass.query( )</code> 関数においてのみサポートされます。</td></tr><tr><td>queryPath</td><td>Boolean</td><td>戻り値のエンティティコレクションに、実際に実行されたクエリの詳細を含めるかどうかを指定します。 返されたプロパティは、クエリで実際に使用されたパス (通常は queryPlan と同一ですが、エンジンがクエリを最適化した場合には異なる場合があります)、処理時間と検出レコード数を格納したオブジェクトです。 このオプションはアプリケーションの開発フェーズにおいて有用です。 省略時のデフォルト: false。 <strong>注:</strong> このプロパティは <code>entitySelection.query( )</code> および <code>dataClass.query( )</code> 関数においてのみサポートされます。</td></tr></tbody></table><p><strong>queryPlan と queryPath について</strong></p><p><code>queryPlan</code>/<code>queryPath</code> に格納される情報には、クエリの種類 (インデックスあるいはシーケンシャル)、必要なサブクエリおよびその連結演算子が含まれます。 クエリパスには、見つかったエンティティの数と各検索条件を実行するににかかった時間も含まれます。 この情報は、アプリケーションの開発中に解析することで有効に活用できます。 一般的には、クエリプランとクエリパスの詳細は同一になるはずですが、4D はパフォーマンス向上のために動的な最適化をクエリ実行時に実装することがあり、異なることもあります。 たとえば、その方が早いと判断した場合には、4Dエンジンはインデックス付きクエリをシーケンシャルなものへと動的に変換することがあります。 これは検索されているエンティティの数が少ないときに起こりえます。</p><p>たとえば、以下のクエリを実行した場合:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds.Employee.query(&quot;salary &lt; :1 and employer.name = :2 or employer.revenues &gt; :3&quot;;\  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 50000;&quot;Lima West Kilo&quot;;10000000;New object(&quot;queryPath&quot;;True;&quot;queryPlan&quot;;True))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>queryPlan:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{Or:[{And:[{item:[index : Employee.salary ] &lt; 50000},  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> {item:Join on Table : Company  :  Employee.employerID = Company.ID,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> subquery:[{item:[index : Company.name ] = Lima West Kilo}]}]},  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> {item:Join on Table : Company  :  Employee.employerID = Company.ID,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> subquery:[{item:[index : Company.revenues ] &gt; 10000000}]}]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>queryPath:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{steps:[{description:OR,time:63,recordsfounds:1388132,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> steps:[{description:AND,time:32,recordsfounds:131,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> steps:[{description:[index : Employee.salary ] &lt; 50000,time:16,recordsfounds:728260},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:0,recordsfounds:131,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> steps:[{steps:[{description:[index : Company.name ] = Lima West Kilo,time:0,recordsfounds:1}]}]}]},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:31,recordsfounds:1388132,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> steps:[{steps:[{description:[index : Company.revenues ] &gt; 10000000,time:0,recordsfounds:933}]}]}]}]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-1-4">例題 1<a href="#例題-1-4" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>この例題では、様々なクエリの例を紹介します。</p><p>文字列のクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Customer.query(&quot;firstName = &#x27;S@&#x27;&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>NOT節を用いたクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;not(firstName=Kim)&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>日付のクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;birthDate &gt; :1&quot;;&quot;1970-01-01&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;birthDate &lt;= :1&quot;;Current date-10950)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>値のインデックスプレースホルダーを使用したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Customer.query(&quot;(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)&quot;;&quot;D@&quot;;&quot;R@&quot;;&quot;S@&quot;;&quot;K@&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>リレートデータクラス対して値のインデックスプレースホルダーを使用したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;lastName = :1 and manager.lastName = :2&quot;;&quot;M@&quot;;&quot;S@&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>降順の order by ステートメントを含んだ、インデックスプレースホルダーを使用したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Student.query(&quot;nationality = :1 order by campus.name desc, lastname&quot;;&quot;French&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>値の命名プレースホルダーを使用したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $querySettings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $managedCustomers : cs.CustomerSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$querySettings:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$querySettings.parameters:=New object(&quot;userId&quot;;1234;&quot;extraInfo&quot;;New object(&quot;name&quot;;&quot;Smith&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$managedCustomers:=ds.Customer.query(&quot;salesperson.userId = :userId and name = :extraInfo.name&quot;;$querySettings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>値の命名プレースホルダーと、値のインデックスプレースホルダーの両方を使用したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $querySettings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $managedCustomers : cs.CustomerSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$querySettings.parameters:=New object(&quot;userId&quot;;1234)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$managedCustomers:=ds.Customer.query(&quot;salesperson.userId = :userId and name=:1&quot;;&quot;Smith&quot;;$querySettings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>queryPlan および queryPath オブジェクトを返すクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)&quot;;&quot;D@&quot;;&quot;R@&quot;;&quot;S@&quot;;&quot;K@&quot;;New object(&quot;queryPlan&quot;;True;&quot;queryPath&quot;;True))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 戻り値のエンティティセレクションから以下のプロパティを取得できます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $queryPlan; $queryPath : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$queryPlan:=$entitySelection.queryPlan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$queryPath:=$entitySelection.queryPath</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>コレクション型の属性パスを用いたクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;extraInfo.hobbies[].name = :1&quot;;&quot;horsebackriding&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>コレクション型の属性パスとクエリ条件をリンクしたクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;extraInfo.hobbies[a].name = :1 and extraInfo.hobbies[a].level=:2&quot;;&quot;horsebackriding&quot;;2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>コレクション型の属性パスとクエリ条件を、複数リンクしたクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;extraInfo.hobbies[a].name = :1 and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> extraInfo.hobbies[a].level = :2 and extraInfo.hobbies[b].name = :3 and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> extraInfo.hobbies[b].level = :4&quot;;&quot;horsebackriding&quot;;2;&quot;Tennis&quot;;5)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>オブジェクト型の属性パスを用いたクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;extra.eyeColor = :1&quot;;&quot;blue&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>IN節を用いたクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;firstName in :1&quot;;New collection(&quot;Kim&quot;;&quot;Dixie&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>NOT (IN) 節を用いたクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;not (firstName in :1)&quot;;New collection(&quot;John&quot;;&quot;Jane&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>属性パスのインデックスプレースホルダーを使用したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $es : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$es:=ds.Employee.query(&quot;:1 = 1234 and :2 = &#x27;Smith&#x27;&quot;;&quot;salesperson.userId&quot;;&quot;name&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // salesperson はリレートエンティティです</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>属性パスのインデックスプレースホルダーと、値の命名プレースホルダーを使用したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $es : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $querySettings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$querySettings:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$querySettings.parameters:=New object(&quot;customerName&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$es:=ds.Customer.query(&quot;:1 = 1234 and :2 = :customerName&quot;;&quot;salesperson.userId&quot;;&quot;name&quot;;$querySettings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // salesperson はリレートエンティティです</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>属性パスと値のインデックスプレースホルダーを使用したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $es : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$es:=ds.Clients.query(&quot;:1 = 1234 and :2 = :3&quot;;&quot;salesperson.userId&quot;;&quot;name&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // salesperson はリレートエンティティです</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-2-4">例題 2<a href="#例題-2-4" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>この例題では、属性パスの命名プレースホルダーを使用するクエリを紹介します。</p><p>2件のエンティティをもつ Employee データクラスを前提に考えます:</p><p>エンティティ1:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name: &quot;Marie&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">number: 46</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">softwares:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Word 10.2&quot;: &quot;Installed&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Excel 11.3&quot;: &quot;To be upgraded&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Powerpoint 12.4&quot;: &quot;Not installed&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>エンティティ2:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name: &quot;Sophie&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">number: 47</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">softwares:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Word 10.2&quot;: &quot;Not installed&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Excel 11.3&quot;: &quot;To be upgraded&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Powerpoint 12.4&quot;: &quot;Not installed&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>属性パスの命名プレースホルダーを使用したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $querySettings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $querySettings:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $querySettings.attributes:=New object(&quot;attName&quot;;&quot;name&quot;;&quot;attWord&quot;;New collection(&quot;softwares&quot;;&quot;Word 10.2&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Employee.query(&quot;:attName = &#x27;Marie&#x27; and :attWord = &#x27;Installed&#x27;&quot;;$querySettings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$es.length=1 (Employee Marie)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>属性パスと値の命名プレースホルダーを使用したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $querySettings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $name : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $querySettings:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 値の命名プレースホルダー</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ユーザーに検索する名前を入力してもらいます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $name:=Request(&quot;検索する名前を入力してください:&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If(OK=1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $querySettings.parameters:=New object(&quot;givenName&quot;;$name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 属性パスの命名プレースホルダー</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $querySettings.attributes:=New object(&quot;attName&quot;;&quot;name&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $es:=ds.Employee.query(&quot;:attName= :givenName&quot;;$querySettings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="例題-3-3">例題 3<a href="#例題-3-3" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>この例題では、クエリにおいて、引数あり・引数なしでフォーミュラを使用する様々な方法を紹介します。</p><p><code>eval()</code> を使い、テキストとしてフォーミュラを <em>queryString</em> パラメーターに渡すクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;eval(length(This.lastname) &gt;=30) and nationality=&#x27;French&#x27;&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>プレースホルダーを使い、<code>Formula</code>オブジェクトとしてフォーミュラを渡すクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $formula : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula:=Formula(Length(This.lastname)&gt;=30)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;:1 and nationality=&#x27;French&#x27;&quot;;$formula)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>Formula</code> オブジェクトのみを検索条件として渡したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $formula : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula:=Formula(Length(This.lastname)&gt;=30)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query($formula)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>フォーミュラを複数適用したクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $formula1; $1; $formula2 ;$0 : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula1:=$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula2:=Formula(Length(This.firstname)&gt;=30)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $0:=ds.Students.query(&quot;:1 and :2 and nationality=&#x27;French&#x27;&quot;;$formula1;$formula2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em>queryString</em> のテキストフォーミュラが引数を受け取るクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $settings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings:=New object()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings.args:=New object(&quot;filter&quot;;&quot;-&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;eval(checkName($1.filter)) and nationality=:1&quot;;&quot;French&quot;;$settings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  // checkName メソッド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE($exclude : Text) -&gt; $result : Boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=(Position($exclude;This.lastname)=0)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>同じ <strong><em>checkName</em></strong> メソッドを <code>Formula</code> オブジェクトに格納してプレースホルダーで渡し、引数を受け取るクエリ:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $settings; $formula : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula:=Formula(checkName($1.filter))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings:=New object()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings.args:=New object(&quot;filter&quot;;&quot;-&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;:1 and nationality=:2&quot;;$formula;&quot;French&quot;;$settings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings.args.filter:=&quot;*&quot; // $formula オブジェクトは更新せずに引数を変更します</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;:1 and nationality=:2&quot;;$formula;&quot;French&quot;;$settings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ユーザーがクエリを入力する場合などに、フォーミュラを禁止する場合:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $settings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $queryString : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $queryString:=Request(&quot;Enter your query:&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> if(OK=1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $settings:=New object(&quot;allowFormulas&quot;;False)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $es:=ds.Students.query($queryString;$settings) // $queryString にフォーミュラが格納されていた場合にはエラーが生成されます</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="参照-1">参照<a href="#参照-1" class="hash-link" aria-label="見出しへの直接リンク" title="見出しへの直接リンク">​</a></h4><p>エンティティセレクションの <a href="/docs/ja/19/API/EntitySelectionClass#query"><code>.query()</code></a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataClassClass.md%20(19)&amp;body=Please%20enter%20your%20comment%3A" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページへコメントする</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントのナビゲーション"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/ja/19/API/CryptoKeyClass"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">CryptoKey</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/ja/19/API/DataStoreClass"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">DataStore</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#概要" class="table-of-contents__link toc-highlight">概要</a></li><li><a href="#attributename" class="table-of-contents__link toc-highlight">.<em>attributeName</em></a></li><li><a href="#all" class="table-of-contents__link toc-highlight">.all()</a></li><li><a href="#fromcollection" class="table-of-contents__link toc-highlight">.fromCollection()</a></li><li><a href="#get" class="table-of-contents__link toc-highlight">.get()</a></li><li><a href="#getdatastore" class="table-of-contents__link toc-highlight">.getDataStore()</a></li><li><a href="#getinfo" class="table-of-contents__link toc-highlight">.getInfo()</a></li><li><a href="#new" class="table-of-contents__link toc-highlight">.new()</a></li><li><a href="#newselection" class="table-of-contents__link toc-highlight">.newSelection()</a></li><li><a href="#query" class="table-of-contents__link toc-highlight">.query()</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">コミュニティ</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">デベロッパー・センター</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">サポート</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (旧ドキュメント)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">ナレッジベース</a></li><li class="footer__item"><a href="https://us.4d.com/product-download/Feature-Release" target="_blank" rel="noopener noreferrer" class="footer__link-item">ダウンロード<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">サポートを受ける<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">会社概要</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D社について<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">コンタクト<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">世界中の4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 4D SAS - All rights reserved</div></div></div></footer></div>
<script src="/docs/ja/assets/js/runtime~main.512bea4f.js"></script>
<script src="/docs/ja/assets/js/main.66492b9d.js"></script>
</body>
</html>