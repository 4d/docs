<!doctype html><html lang=ja dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-19 docs-doc-page docs-doc-id-API/CollectionClass" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Collection | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/ja/19/API/CollectionClass><meta data-rh=true property=og:locale content=ja><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=pt><meta data-rh=true name=docusaurus_locale content=ja><meta data-rh=true name=docsearch:language content=ja><meta data-rh=true name=docusaurus_version content=19><meta data-rh=true name=docusaurus_tag content=docs-default-19><meta data-rh=true name=docsearch:version content=19><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-19><meta data-rh=true property=og:title content="Collection | 4D Docs"><meta data-rh=true name=description content="Collectionクラスは コレクション 型の変数を扱います。"><meta data-rh=true property=og:description content="Collectionクラスは コレクション 型の変数を扱います。"><link data-rh=true rel=icon href=/docs/ja/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/ja/19/API/CollectionClass><link data-rh=true rel=alternate href=https://developer.4d.com/docs/19/API/CollectionClass hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/19/API/CollectionClass hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/19/API/CollectionClass hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/19/API/CollectionClass hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/19/API/CollectionClass hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/19/API/CollectionClass hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/ja/opensearch.xml><link rel=stylesheet href=/docs/ja/assets/css/styles.1ba35a04.css><script src=/docs/ja/assets/js/main.c036a306.js defer></script><script src=/docs/ja/assets/js/runtime~main.9b68fda7.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label=メインコンテンツまでスキップ><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>メインコンテンツまでスキップ</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label=ナビゲーションバーの切り替え aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/ja/><div class=navbar__logo><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D ドキュメンテーション</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/ja/19/API/CollectionClass>19</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/ja/API/CollectionClass>20 R9</a><li><a class=dropdown__link href=/docs/ja/20-R8/API/CollectionClass>20 R8</a><li><a class=dropdown__link href=/docs/ja/20/API/CollectionClass>20</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/ja/19/API/CollectionClass>19</a><li><a class=dropdown__link href=/docs/ja/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>日本語</a><ul class=dropdown__menu><li><a href=/docs/19/API/CollectionClass rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/19/API/CollectionClass rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/19/API/CollectionClass rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/19/API/CollectionClass rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=ja>日本語</a><li><a href=/docs/pt/19/API/CollectionClass rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="ダークモードとライトモードを切り替える (現在は ライトモード)" aria-label="ダークモードとライトモードを切り替える (現在は ライトモード)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="検索 (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>検索</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label=トップに戻る class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/ja/><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D ドキュメンテーション</b></a><nav aria-label=Docsサイドバー class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/GettingStarted/installation>はじめに</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Project/overview>プロジェクト管理</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Concepts/about>ランゲージのコンセプト</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/ORDA/overview>ORDA</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/docs/ja/19/API/overview>クラス API リファレンス</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/overview>クラス関数とコマンド</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/ClassClass>Class</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/ja/19/API/CollectionClass>Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/CryptoKeyClass>CryptoKey</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/DataClassClass>DataClass</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/DataStoreClass>DataStore</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/EmailObjectClass>Email</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/EntityClass>Entity</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/EntitySelectionClass>EntitySelection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/FileClass>File</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/FolderClass>Folder</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/FunctionClass>Function</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/IMAPTransporterClass>IMAPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/MailAttachmentClass>MailAttachment</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/POP3TransporterClass>POP3Transporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/SessionClass>Session</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/SignalClass>Signal</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/SMTPTransporterClass>SMTPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/WebServerClass>WebServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/ZipArchiveClass>ZIPArchive</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/ZipFileClass>ZIPFile</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/API/ZipFolderClass>ZIPFolder</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Preferences/overview>環境設定</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Admin/webAdmin>管理</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Users/overview>アクセス権限</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/MSC/overview>メンテナンス＆セキュリティセンター</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Backup/overview>バックアップと復元</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/WebServer/overview>Web サーバー</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/WebServer/gettingStarted>Web 開発</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/REST/gettingStarted>REST サーバー</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Desktop/clientServer>クライアント/サーバー</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/FormEditor/forms>Forms</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/FormEditor/jsonReference>フォームプロパティ</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/FormObjects/formObjectsOverview>フォームオブジェクト</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/FormObjects/propertiesReference>フォームオブジェクトプロパティ</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Events/overview>フォームイベント</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Menus/overview>メニュー</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Desktop/building>アプリケーションビルド</a></div></ul></nav><button type=button title=サイドバーを隠す aria-label=サイドバーを隠す class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=パンくずリスト><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label=ホームページ class=breadcrumbs__link href=/docs/ja/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>クラス API リファレンス</span><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Collection</span><meta itemprop=position content=2></ul></nav><span class="theme-doc-version-badge badge badge--secondary">バージョン: 19</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">このページ上で</button></div><div class="theme-doc-markdown markdown"><header><h1>Collection</h1></header><p>Collectionクラスは <a href=/docs/ja/19/Concepts/collection>コレクション</a> 型の変数を扱います。</p>
<p>コレクションは次のように初期化します:</p>














<table><thead><tr><th><tbody><tr><td><a href=#new-collection><strong>New collection</strong> {( <em>...value</em> : any )} : Collection</a>     空の、あるいは値の入った新規コレクションを作成し、その参照を返します<tr><td><a href=#new-shared-collection><strong>New shared collection</strong> {( <em>...value</em> : any )} : Collection</a>     空の、あるいは値の入った新規の共有コレクションを作成し、その参照を返します</table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題>例題<a href=#例題 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $colVar : Collection // コレクション型の 4D変数の宣言</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $colVar:=New collection // コレクションの初期化と 4D変数への代入</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=概要>概要<a href=#概要 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>





























































































































<table><thead><tr><th><tbody><tr><td><a href=#average><strong>.average</strong>( {<em>propertyPath</em> : Text } ) : Real</a>    コレクションインスタンス内で定義されている値の算術平均を返します<tr><td><a href=#clear><strong>.clear()</strong> : Collection</a>    コレクションインスタンス内の全要素を削除し、空のコレクションを返します<tr><td><a href=#combine><strong>.combine</strong>( <em>col2</em> : Collection {; <em>index</em> : Integer } ) : Collection</a>    コレクションインスタンスの最後、あるいは <em>index</em> で指定した位置に <em>col2</em> の要素を挿入し、変更された元のコレクションを返します<tr><td><a href=#concat><strong>.concat</strong>( <em>value</em> : any { <em>;...valueN</em> } ) : Collection</a>    <em>value</em> に指定した要素を元のコレクションの最後に追加した、新しいコレクションを返します<tr><td><a href=#copy><strong>.copy</strong>() : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ) : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ; <em>groupWithCol</em> : Collection ) : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ; <em>groupWithObj</em> : Object ) : Collection</a>     コレクションインスタンスのディープ・コピーを返します<tr><td><a href=#count><strong>.count</strong>( { <em>propertyPath</em> : Text } ) : Real</a>    コレクション内の、null ではない要素の個数を返します<tr><td><a href=#countvalues><strong>.countValues</strong>( <em>value</em> : any {; <em>propertyPath</em> : Text } ) : Real</a>    value 引数に指定した値がコレクション内において見つかった回数を返します<tr><td><a href=#distinct><strong>.distinct</strong>( {<em>option</em> : Integer} ) : Collection<br><strong>.distinct</strong>( <em>propertyPath</em> : Text {; <em>option</em> : Integer } ) : Collection</a>    元のコレクションから重複しない (異なる) 値のみを格納した新しいコレクションを返します<tr><td><a href=#equal><strong>.equal</strong>( <em>collection2</em> : Collection {; <em>option</em> : Integer } ) : Boolean</a>    コレクションを collection2 とディープ比較し、同一の場合には <strong>true</strong> を返します<tr><td><a href=#every><strong>.every</strong>( <em>methodName</em> : Text { ;<em>...param</em> : any } ) : Boolean<br><strong>.every</strong>( <em>startFrom</em> : Integer ; <em>methodName</em> : Text { ;<em>...param</em> : any } ) : Boolean</a>    コレクション内の全要素が、<em>methodName</em> に指定したメソッドで実装されたテストにパスした場合には <strong>true</strong> を返します<tr><td><a href=#extract><strong>.extract</strong>( <em>propertyPath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>propertyPath</em> : Text ;  <em>targetPath</em> : Text  { ;...<em>propertyPathOrTargetPathN</em> : Text } ) : Collection</a>    元のオブジェクトのコレクションから、<em>propertyPath</em> 引数が指定するプロパティ値を抽出し、新しいコレクションに格納して返します<tr><td><a href=#fill><strong>.fill</strong>( <em>value</em> : any ) : Collection<br><strong>.fill</strong>( <em>value</em> : any ;  <em>startFrom</em>  : Integer { ; <em>end</em> : Integer } ) : Collection</a>    コレクションを <em>value</em> 引数の値で満たし、同コレクションを返します。オプションとして、<em>startFrom</em> および <em>end</em> インデックスを渡して代入開始位置および終了位置を指定することもできます<tr><td><a href=#filter><strong>.filter</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Collection</a>    元のコレクション要素のうち、<em>methodName</em> メソッドの結果が <strong>true</strong> になる要素をすべて格納した新しいコレクションを返します<tr><td><a href=#find><strong>.find</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : any<br><strong>.find</strong>( <em>startFrom</em> : Integer ; <em>methodName</em> : Text { ; <em>...param</em> : any } ) : any</a>    <em>methodName</em> 引数のメソッドを各コレクション要素に適用して、<strong>true</strong> を返す最初の要素を返します<tr><td><a href=#find><strong>.findIndex</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Integer<br><strong>.findIndex</strong>( <em>startFrom</em> : Integer ; <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Integer</a>    <em>methodName</em> 引数のメソッドを各コレクション要素に適用して、<strong>true</strong> を返す最初の要素のインデックスを返します<tr><td><a href=#indexof><strong>.indexOf</strong>(  <em>toSearch</em> : expression { ; <em>startFrom</em> : Integer } ) : Integer </a>    <em>toSearch</em> 引数の式をコレクション要素の中から検索し、最初に見つかった要素のインデックス (見つからなかった場合には -1) を返します<tr><td><a href=#indices><strong>.indices</strong>(  <em>queryString</em> : Text { ; <em>...value</em> : any } ) : Collection </a>    <em>queryString</em> 引数の検索条件に合致する、元のコレクション要素のインデックスを返します<tr><td><a href=#insert><strong>.insert</strong>( <em>index</em> : Integer ; <em>element</em> : any ) : Collection </a>     <em>index</em> で指定したコレクションインスタンスの位置に <em>element</em> 要素を挿入し、変更された元のコレクションを返します<tr><td><a href=#join><strong>.join</strong>( <em>delimiter</em> : Text { ; <em>option</em> : Integer } ) : Text </a>    <em>delimiter</em> に渡した文字列を区切り文字として、コレクションの全要素を一つの文字列につなげます<tr><td><a href=#lastindexof><strong>.lastIndexOf</strong>( <em>toSearch</em> : expression { ; <em>startFrom</em> : Integer } ) : Integer </a>    <em>toSearch</em> 引数の式をコレクション要素の中から検索し、最後に見つかった要素のインデックスを返します<tr><td><a href=#length><strong>.length</strong> : Integer</a>    コレクション内の要素数を返します<tr><td><a href=#map><strong>.map</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Collection </a>    元のコレクションの各要素に対して <em>methodName</em> メソッドを呼び出した結果に基づいた、新しいコレクションを作成します<tr><td><a href=#max><strong>.max</strong>( { <em>propertyPath</em> : Text } ) : any </a>    コレクション内の最大値を持つ要素を返します<tr><td><a href=#min><strong>.min</strong>( { <em>propertyPath</em> : Text } ) : any </a>    コレクション内の最小値を持つ要素を返します<tr><td><a href=#orderby><strong>.orderBy</strong>( ) : Collection<br><strong>.orderBy</strong>( <em>pathStrings</em> : Text ) : Collection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : Collection<br><strong>.orderBy</strong>( <em>ascOrDesc</em> : Integer ) : Collection </a>    コレクションの要素を指定順に並べ替えた新しいコレクションを返します<tr><td><a href=#orderbymethod><strong>.orderByMethod</strong>( <em>methodName</em> : Text { ; ...<em>extraParam</em> : expression } ) : Collection </a>    <em>methodName</em> メソッドを通して定義された順番でコレクション要素を並べ替えた新しいコレクションを返します<tr><td><a href=#pop><strong>.pop()</strong> : any </a>    コレクションから最後の要素を取り除き、それを戻り値として返します<tr><td><a href=#push><strong>.push</strong>( <em>element</em> : any { ;...<em>elementN</em> } ) : Collection </a>    一つ以上の <em>element</em> 引数をコレクションインスタンスの最後に追加し、変更された元のコレクションを返します<tr><td><a href=#query><strong>.query</strong>( <em>queryString</em> : Text ; <em>...value</em> : any ) : Collection<br><strong>.query</strong>( <em>queryString</em> : Text ; <em>querySettings</em> : Object ) : Collection </a>    検索条件に合致するオブジェクトコレクションの要素をすべて返します<tr><td><a href=#reduce><strong>.reduce</strong>( <em>methodName</em> : Text ) : any <br><strong>.reduce</strong>( <em>methodName</em> : Text ; <em>initValue</em> : any { ; <em>...param</em> : expression } ) : any </a>    <em>methodName</em> コールバックをアキュムレーターおよびコレクションの各要素に (左から右へ) 適用して、単一の値にまとめます<tr><td><a href=#remove><strong>.remove</strong>( <em>index</em> : Integer { ; <em>howMany</em> : Integer } ) : Collection </a>    <em>index</em> で指定した位置から一つまた複数のコレクション要素を削除し、変更されたコレクションを返します<tr><td><a href=#resize><strong>.resize</strong>( <em>size</em> : Integer { ; <em>defaultValue</em> : any } ) : Collection </a>    コレクションの length を引数で指定されたサイズに設定し、変更された元のコレクションを返します<tr><td><a href=#reverse><strong>.reverse( )</strong> : Collection </a>    全要素が逆順になった、コレクションのディープ・コピーを返します<tr><td><a href=#shift><strong>.shift()</strong> : any</a>    コレクションの先頭要素を取り除き、それを戻り値として返します<tr><td><a href=#slice><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : Collection</a>    コレクションの一部を、新しいコレクションとして返します<tr><td><a href=#some><strong>.some</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Boolean<br><strong>.some</strong>( <em>startFrom</em> : Integer ; <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Boolean</a>    少なくとも一つのコレクション要素が、テストにパスした場合に true を返します<tr><td><a href=#sort><strong>.sort</strong>() : Collection<br><strong>.sort</strong>( <em>methodName</em> : Text { ; <em>...extraParam</em> : any } ) : Collection </a>    コレクションの要素を並べ替えます<tr><td><a href=#sum><strong>.sum</strong>( { <em>propertyPath</em> : Text } ) : Real</a>    コレクションインスタンスの全要素の値を合計して返します<tr><td><a href=#unshift><strong>.unshift</strong>( <em>value</em> : any { ;...<em>valueN</em> : any } ) : Collection</a>    一つ以上の <em>value</em> 引数をコレクションインスタンスの先頭に挿入します</table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=new-collection><code>New collection</code><a href=#new-collection class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p><strong>New collection</strong> {( <em>...value</em> : any )} : Collection</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>Number, Text, Date, Time, Boolean, Object, Collection, Picture, Pointer<td style=text-align:center>-><td>コレクションの値<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>新規のコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明>説明<a href=#説明 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>New collection</code> コマンドは、  空の、あるいは値の入った新規コレクションを作成し、その参照を返します 。</p>
<p>引数を渡さなかった場合、<code>New collection</code> は空のコレクションを作成し、その参照を返します。</p>
<p>返された参照は、コレクション型の 4D変数に代入する必要があります。</p>
<blockquote>
<p><code>var : Collection</code> や <code>C_COLLECTION</code> ステートメントはコレクション型の変数を宣言しますが、コレクション自体は作成しないという点に注意してください。</p>
</blockquote>
<p>任意で、一つ以上の <em>value</em> 引数を渡すことで、あらかじめ値の入った新しいコレクションを作成することができます。</p>
<p>または、あとから代入によって要素を一つずつ追加・編集していくことができます。 例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> myCol[10]:="My new element"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>コレクションの最終要素を超える要素番号 (インデックス) を指定した場合、コレクションは自動的にリサイズされ、合い間の要素にはすべて <strong>null</strong> 値が割り当てられらます。</p>
<p>サポートされている型 (数値、テキスト、日付、ピクチャー、ポインター、オブジェクト、コレクション等) であれば、個数に制限なく値を渡すことができます。 配列とは異なり、コレクションでは異なる型のデータを混ぜることができます。</p>
<p>ただし以下の変換問題については注意する必要があります:</p>
<ul>
<li>渡されたポインターは、そのまま保存されます。ポインターは <code>JSON Stringify</code> コマンドを使用することで評価されます。</li>
<li>日付は、"dates inside objects" データベース設定に応じて、"yyyy-mm-dd" という日付、または "YYYY-MM-DDTHH:mm:ss.SSSZ" というフォーマットの文字列で保存されます。 コレクションに保存する前に 4D日付をテキストに変換した場合、プログラムはデフォルトでローカルのタイムゾーンを使用します。 このふるまいは <code>SET DATABASE PARAMETER</code> コマンドで <code>Dates inside objects</code> セレクターを使用することで変更可能です。</li>
<li>時間を渡した場合、それはミリ秒の数 (実数) として保存されます。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1>例題 1<a href=#例題-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>新しい空のコレクションを作成し、それを 4Dコレクション変数に代入します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $myCol : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $myCol:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $myCol=[]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2>例題 2<a href=#例題-2 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>あらかじめ値の入ったコレクションを作成します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $filledColl : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $filledColl:=New collection(33;"mike";"november";->myPtr;Current date)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $filledColl=[33,"mike","november","->myPtr","2017-03-28T22:00:00.000Z"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3>例題 3<a href=#例題-3 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>新しいコレクションを作成し、そこに新しい要素を追加します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $coll : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $coll:=New collection("a";"b";"c")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $coll=["a","b","c"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $coll[9]:="z" // 値 "z" を10番目の要素として追加します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vcolSize:=$coll.length // 10</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $coll=["a","b","c",null,null,null,null,null,null,"z"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=new-shared-collection><code>New shared collection</code><a href=#new-shared-collection class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>New shared collection</strong> {( <em>...value</em> : any )} : Collection</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>数値、テキスト、日付、時間、ブール、オブジェクト、コレクション<td style=text-align:center>-><td>共有コレクションの値<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>新規の共有コレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-1>説明<a href=#説明-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>New shared collection</code> コマンドは、  空の、あるいは値の入った新規の共有コレクションを作成し、その参照を返します 。</p>
<p>このコレクションに要素を追加する場合には <a href=/docs/ja/19/Concepts/shared#useend-use><code>Use...End use</code></a> 構造でくくる必要があり、そうしない場合にはエラーが返されます。ただし、<a href=#push><code>push()</code></a> や <a href=#map><code>map()</code></a> などの関数を使用して要素を追加する場合は、自動で内部的に <em>Use...End use</em> が使用されるため、必要ありません。 ただし、属性の読み取りは <a href=/docs/ja/19/API/Concepts/shared#useend-use><code>Use...End use</code></a> 構造の外側でも可能です。</p>
<blockquote>
<p>共有コレクションについての詳細は、<a href=/docs/ja/19/Concepts/shared>共有オブジェクトと共有コレクション</a> のページを参照してください。</p>
</blockquote>
<p>引数を渡さない場合、<code>New shared collection</code> は空のコレクションを作成し、その参照を返します。</p>
<p>返された参照は、コレクション型の 4D変数に代入する必要があります。</p>
<blockquote>
<p><code>var : Collection</code> や <code>C_COLLECTION</code> ステートメントはコレクション型の変数を宣言しますが、コレクション自体は作成しないという点に注意してください。</p>
</blockquote>
<p>任意で、一つ以上の <em>value</em> 引数を渡すことで、あらかじめ値の入った新しい共有コレクションを作成することができます。 または、あとからオブジェクト記法による代入で要素を一つずつ追加・編集していくことができます (例題参照)。</p>
<p>共有コレクションの最終要素を超える要素番号 (インデックス) を指定した場合、共有コレクションは自動的にリサイズされ、合い間の要素にはすべて <strong>null</strong> 値が割り当てられらます。</p>
<p>以下のサポートされる型であれば、いくつでも値を渡すことができます:</p>
<ul>
<li>数値 (実数、倍長整数...)。 数値は常に実数として保存されます。</li>
<li>text</li>
<li>boolean</li>
<li>date</li>
<li>時間 (ミリ秒の数 (実数) として保存されます)。</li>
<li>null</li>
<li>共有オブジェクト</li>
<li>共有コレクション</li>
</ul>
<blockquote>
<p>標準のコレクション (非共有コレクション) とは異なり、共有コレクションはピクチャーやポインター、共有でないオブジェクトおよびコレクションはサポートしていません。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-4>例題<a href=#例題-4 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $mySharedCol:=New shared collection("alpha";"omega")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Use($mySharedCol)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $mySharedCol[1]:="beta"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End use</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=average>.average()<a href=#average class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.average</strong>( {<em>propertyPath</em> : Text } ) : Real</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>計算に使用するオブジェクトプロパティのパス<tr><td>戻り値<td>Real, Undefined<td style=text-align:center>&lt;-<td>コレクションの値の算術平均</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-2>説明<a href=#説明-2 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.average()</code> 関数は、 コレクションインスタンス内で定義されている値の算術平均を返します。</p>
<p>計算の対象となるのは数値のみです (他の型の要素は無視されます)。</p>
<p>コレクションがオブジェクトを格納している場合には、計算するオブジェクトプロパティのパスを <em>propertyPath</em> に渡します。</p>
<p><code>.average()</code> は以下の場合には <code>undefined</code> を返します:</p>
<ul>
<li>コレクションが空の場合</li>
<li>コレクションに数値が含まれていない場合</li>
<li><em>propertyPath</em> 引数で指定したパスがコレクション内で見つからない場合</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-1>例題 1<a href=#例題-1-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(10;20;"Monday";True;6)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vAvg:=$col.average() //12</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-1>例題 2<a href=#例題-2-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"salary";10000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"salary";50000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Gross";"salary";10500))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vAvg:=$col.average("salary") //23500</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=clear>.clear()<a href=#clear class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.clear()</strong> : Collection</p>

















<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>全要素が削除された元のコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-3>説明<a href=#説明-3 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.clear()</code> 関数は、 コレクションインスタンス内の全要素を削除し、空のコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-5>例題<a href=#例題-5 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection(1;2;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col.clear()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$vSize:=$col.length //$vSize=0</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=combine>.combine()<a href=#combine class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.combine</strong>( <em>col2</em> : Collection {; <em>index</em> : Integer } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>col2<td>Collection<td style=text-align:center>-><td>追加するコレクション<tr><td>index<td>Integer<td style=text-align:center>-><td>追加要素を挿入する位置 (デフォルトは length+1)<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>追加要素を格納した元のコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-4>説明<a href=#説明-4 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.combine()</code> 関数は、 コレクションインスタンスの最後、あるいは <em>index</em> で指定した位置に <em>col2</em> の要素を挿入し、変更された元のコレクションを返します。 <code>.insert()</code> 関数とは異なり、<code>.combine()</code> は <em>col2</em> の各要素を元のコレクション追加します (<em>col2</em> 自体が単一のコレクション要素としては挿入されるわけではありません)。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p>デフォルトでは、<em>col2</em> の要素は元のコレクションの最後に追加されます。 <em>index</em> に引数を渡すことで、<em>col2</em> の要素を挿入する位置を指定することができます。</p>
<blockquote>
<p><strong>警告</strong>: コレクション要素は 0 起点である点に注意してください。</p>
</blockquote>
<ul>
<li>指定した <em>index</em> がコレクションの length より大きい場合、実際の開始インデックスはコレクションの length に設定されます。</li>
<li><em>index</em> &lt; 0 の場合、<em>index:=index+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。</li>
<li>計算結果も負の値である場合、<em>index</em> は 0 に設定されます。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-6>例題<a href=#例題-6 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c; $fruits : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection(1;2;3;4;5;6)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$fruits:=New collection("Orange";"Banana";"Apple";"Grape")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.combine($fruits;3) //[1,2,3,"Orange","Banana","Apple","Grape",4,5,6]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=concat>.concat()<a href=#concat class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.concat</strong>( <em>value</em> : any { <em>;...valueN</em> } ) : Collection</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>Number, Text, Object, Collection, Date, Time, Boolean, Picture<td style=text-align:center>-><td>連結する値。 <em>value</em> がコレクションの場合、コレクションの全要素が元のコレクションに追加されます。<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>元のコレクションに値が追加された新規コレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-5>説明<a href=#説明-5 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.concat()</code> 関数は、 <em>value</em> に指定した要素を元のコレクションの最後に追加した、新しいコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>value</em> がコレクションの場合、その全要素が新しい要素として元のコレクションの最後に追加されます。 <em>value</em> がコレクションでない場合、それ自体が新しい要素として追加されます。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-7>例題<a href=#例題-7 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection(1;2;3;4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$fruits:=New collection("Orange";"Banana";"Apple";"Grape")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$fruits.push(New object("Intruder";"Tomato"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.concat($fruits) //[1,2,3,4,5,"Orange","Banana","Apple","Grape",{"Intruder":"Tomato"}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.concat(6;7;8) //[1,2,3,4,5,6,7,8]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=copy>.copy()<a href=#copy class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>18 R3<td><em>ck shared</em> オプションの追加。 <em>groupWith</em> パラメーターを追加。<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.copy</strong>() : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ) : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ; <em>groupWithCol</em> : Collection ) : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ; <em>groupWithObj</em> : Object ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>option<td>Integer<td style=text-align:center>-><td><code>ck resolve pointers</code>: コピー前にポインターを解決する<br><code>ck shared</code>: 共有コレクションを返す<tr><td>groupWithCol<td>Collection<td style=text-align:center>-><td>結果のコレクションとグループする共有コレクション<tr><td>groupWithObj<td>Object<td style=text-align:center>-><td>結果のコレクションとグループする共有オブジェクト<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>元のコレクションのディープ・コピー</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-6>説明<a href=#�説明-6 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.copy()</code> 関数は、  コレクションインスタンスのディープ・コピーを返します。<em><strong>ディープ・コピー</strong></em> とは、元のコレクション内のオブジェクトやコレクションは複製されることを意味し、返されたコレクションと元のコレクションは参照を共有しないということを意味します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>任意の <em>option</em> パラメーターには、以下のどちらか (あるいは両方) の定数を渡すことができます:</p>

















<table><thead><tr><th>option<th>説明<tbody><tr><td><code>ck resolve pointers</code><td>オリジナルのコレクションがポインター型の値を格納している場合、デフォルトではコピー先のオブジェクトもポインターを格納します。 しかしながら、<code>ck resolve pointers</code> 定数を渡すことで、コピー時にポインターを解決することができます。 この場合、コレクション内の各ポインターはコピー時に解決され、解決済みの値が使用されます。<tr><td><code>ck shared</code><td>共有コレクションに対して適用された場合でも、<code>copy()</code> はデフォルトで通常の (非共有の) コレクションを返します。 共有コレクションを作成するには、<code>ck shared</code> 定数を渡します。 この場合には、<em>groupWith</em> パラメーターに引数を渡して他の共有オブジェクトまたは共有コレクションに関連づけることもできます (以下参照)。</table>
<p><em>groupWithCol</em> または <em>groupWithObj</em> 引数を渡すと、結果のコレクションを関連づけるコレクションまたはオブジェクトを指定できます。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>注</div><div class=admonitionContent_BuS1><p>データストア、データクラス、およびエンティティオブジェクトはコピーできません。 これらを対象に <code>.copy()</code> を呼び出すと、<code>Null</code> 値が返されます。</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-2>例題 1<a href=#例題-1-2 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>通常の (非共有の) コレクション <em>$lastnames * を、共有オブジェクト <em>$sharedObject</em> 内にコピーします。 このためには、まず共有コレクション (</em>$sharedLastnames*) を作成する必要があります。</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $sharedObject : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $lastnames;$sharedLastnames : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sharedObject:=New shared object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:=Document to text(Get 4D folder(Current resources folder)+"lastnames.txt")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$lastnames:=JSON Parse($text) // $lastnames は通常のコレクションです</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sharedLastnames:=$lastnames.copy(ck shared) // $sharedLastnames は共有コレクションです</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $sharedLastnames は $sharedObject の中に入れられます</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Use($sharedObject)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $sharedObject.lastnames:=$sharedLastnames</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End use</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-2>例題 2<a href=#例題-2-2 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>どちらも共有コレクションである <em>$sharedColl1</em> と*$sharedColl2* を結合します。 これらは異なる共有グループに所属しているため、直接結合した場合にはエラーが生成されます。 そこで、 <em>$sharedColl1</em> のコピーを作成し、<em>$sharedColl2</em> をそのコピーの共有グループ先に指定します。</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $sharedColl1;$sharedColl2;$copyColl : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sharedColl1:=New shared collection(New shared object("lastname";"Smith"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sharedColl2:=New shared collection(New shared object("lastname";"Brown"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $copyColl を $sharedColl2  と同じ共有グループに所属させます</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $copyColl:=$sharedColl1.copy(ck shared;$sharedColl2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Use($sharedColl2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $sharedColl2.combine($copyColl)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End use</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-1>例題 3<a href=#例題-3-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>通常のコレクション (<em>$lastnames</em>) があり、それをアプリケーションの <strong>Storage</strong> に入れます。 これには、先に共有コレクション (<em>$sharedLastnames</em>) を作成しておく必要があります。</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $lastnames;$sharedLastnames : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:=Document to text(Get 4D folder(Current resources folder)+"lastnames.txt")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$lastnames:=JSON Parse($text) // $lastnames は通常の (非共有) コレクションです</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sharedLastnames:=$lastnames.copy(ck shared) // 共有コピー</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Use(Storage)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    Storage.lastnames:=$sharedLastnames</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End use</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-4-1>例題 4<a href=#例題-4-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>ck resolve pointers</code> オプションを使用した場合のふるまいです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $p : Pointer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $p:=->$what</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("alpha";"Hello";"num";1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("beta";"You";"what";$p))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col2:=$col.copy()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col2[1].beta:="World!"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT($col[0].alpha+" "+$col2[1].beta) // "Hello world!" を表示します</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $what:="You!"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col3:=$col2.copy(ck resolve pointers)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT($col3[0].alpha+" "+$col3[1].what) // "Hello You!" を表示します</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=count>.count()<a href=#count class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.count</strong>( { <em>propertyPath</em> : Text } ) : Real</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>計算に使用するオブジェクトプロパティのパス<tr><td>戻り値<td>Real<td style=text-align:center>&lt;-<td>コレクション内の要素の数</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-7>説明<a href=#説明-7 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.count()</code> 関数は、 コレクション内の、null ではない要素の個数を返します。</p>
<p>コレクションがオブジェクトを含んでいる場合、<em>propertyPath</em> 引数を渡すことができます。 この場合、<em>propertyPath</em> で指定したパスを含む要素のみがカウントされます。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-8>例題<a href=#例題-8 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $count1;$count2 : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(20;30;Null;40)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"salary";10000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"salary";50000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Gross";"salary";10500))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("lastName";"Henry";"salary";12000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $count1:=$col.count() // $count1=7</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $count2:=$col.count("name") // $count2=3</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=countvalues>.countValues()<a href=#countvalues class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.countValues</strong>( <em>value</em> : any {; <em>propertyPath</em> : Text } ) : Real</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>Text, Number, Boolean, Date, Object, Collection<td style=text-align:center>-><td>数える値<tr><td>propertyPath<td>Text<td style=text-align:center>-><td>計算に使用するオブジェクトプロパティのパス<tr><td>戻り値<td>Real<td style=text-align:center>&lt;-<td>値の出現回数</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-8>説明<a href=#説明-8 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.countValues()</code> 関数は、 value 引数に指定した値がコレクション内において見つかった回数を返します。</p>
<p><em>value</em> には、以下のいずれかを渡すことができます:</p>
<ul>
<li>スカラー値 (テキスト、数値、ブール、日付)</li>
<li>オブジェクトあるいはコレクションの参照</li>
</ul>
<p>要素が検出されるためには、<em>value</em> 引数の型が要素の型と合致している必要があります。このファンクションは等号演算子を使用します。</p>
<p>任意の <em>propertyPath</em> 引数を渡すと、オブジェクトのコレクションにおける値の個数を数えることができます。 <em>propertyPath</em> には値を検索するプロパティパスを渡します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-3>例題 1<a href=#例題-1-3 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $vCount : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(1;2;5;5;5;3;6;4)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vCount:=$col.countValues(5) // $vCount=3</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-3>例題 2<a href=#例題-2-3 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $vCount : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"age";5))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"age";2))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Jones";"age";3))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Henry";"age";4))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Gross";"age";5))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vCount:=$col.countValues(5;"age") //$vCount=2</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-2>例題 3<a href=#例題-3-2 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $numbers; $letters : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $vCount : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $letters:=New collection("a";"b";"c")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $numbers:=New collection(1;2;$letters;3;4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vCount:=$numbers.countValues($letters) //$vCount=1</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=distinct>.distinct()<a href=#distinct class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.distinct</strong>( {<em>option</em> : Integer} ) : Collection<br><strong>.distinct</strong>( <em>propertyPath</em> : Text {; <em>option</em> : Integer } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>option<td>Integer<td style=text-align:center>-><td><code>ck diacritical</code>: アクセント等の発音区別符号を無視しない評価 (たとえば "A" # "a")<tr><td>propertyPath<td>Text<td style=text-align:center>-><td>重複しない値を取得する属性のパス<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>重複しない値のみを格納した新規コレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-9>説明<a href=#説明-9 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.distinct()</code> 関数は、 元のコレクションから重複しない (異なる) 値のみを格納した新しいコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>返されたコレクションは自動的に並べ替えられています。 <strong>Null</strong> 値は返されません。</p>
<p>デフォルトでは、アクセント等の発音区別符号を無視した評価が実行されます。 評価の際に文字の大小を区別したり、アクセント記号を区別したい場合には、<em>option</em> に <code>ck diacritical</code> 定数を渡します。</p>
<p>コレクションがオブジェクトを格納している場合には、重複しない値を取得するオブジェクトプロパティのパスを <em>propertyPath</em> に渡します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-9>例題<a href=#例題-9 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push("a";"b";"c";"A";"B";"c";"b";"b")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("size";1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("size";3))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("size";1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.distinct() //$c2=["a","b","c",{"size":1},{"size":3},{"size":1}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.distinct(ck diacritical) //$c2=["a","A","b","B","c",{"size":1},{"size":3},{"size":1}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.distinct("size") //$c2=[1,3]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=equal>.equal()<a href=#equal class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.equal</strong>( <em>collection2</em> : Collection {; <em>option</em> : Integer } ) : Boolean</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>collection2<td>Collection<td style=text-align:center>-><td>比較するコレクション<tr><td>option<td>Integer<td style=text-align:center>-><td><code>ck diacritical</code>: アクセント等の発音区別符号を無視しない評価 (たとえば "A" # "a")<tr><td>戻り値<td>Boolean<td style=text-align:center>&lt;-<td>コレクションが同一の場合には true、それ以外は false</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-10>説明<a href=#説明-10 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.equal()</code> 関数は、 コレクションを collection2 とディープ比較し、同一の場合には <strong>true</strong> を返します 。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>注記</div><div class=admonitionContent_BuS1><ul>
<li><code>.equal()</code> 関数は、コレクション内の文字列、ブール値、数値、および null型要素の等価性をチェックするだけです。 ネイティブオブジェクトの等価性はチェックされません。</li>
<li><strong>null</strong>値の要素は undefined要素と同じとはみなされません。</li>
</ul></div></div>
<p>デフォルトでは、アクセント等の発音区別符号を無視した評価が実行されます。 評価の際に文字の大小を区別したり、アクセント記号を区別したい場合には、option に <code>ck diacritical</code> 定数を渡します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-10>例題<a href=#例題-10 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $b : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(New object("a";1;"b";"orange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=New collection(New object("a";1;"b";"orange");2;3;4)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.equal($c2) // false</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(New object("1";"a";"b";"orange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=New collection(New object("a";1;"b";"orange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.equal($c2) // false</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(New object("a";1;"b";"orange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=New collection(New object("a";1;"b";"ORange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.equal($c2) // true</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(New object("a";1;"b";"orange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=New collection(New object("a";1;"b";"ORange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.equal($c2;ck diacritical) //false</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=every>.every()<a href=#every class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.every</strong>( <em>methodName</em> : Text { ;<em>...param</em> : any } ) : Boolean<br><strong>.every</strong>( <em>startFrom</em> : Integer ; <em>methodName</em> : Text { ;<em>...param</em> : any } ) : Boolean</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>startFrom<td>Integer<td style=text-align:center>-><td>テストを開始するインデックス<tr><td>methodName<td>Text<td style=text-align:center>-><td>テストに呼び出すメソッド名<tr><td>param<td>複合<td style=text-align:center>-><td>methodName に渡す引数<tr><td>戻り値<td>Boolean<td style=text-align:center>&lt;-<td>すべての要素がテストをパスすれば true</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-11>説明<a href=#説明-11 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.every()</code> 関数は、 コレクション内の全要素が、<em>methodName</em> に指定したメソッドで実装されたテストにパスした場合には <strong>true</strong> を返します。</p>
<p><em>methodName</em> には、コレクション要素の評価に使用するメソッド名を渡します。<em>param</em> には、必要に応じて引数を渡します (任意)。 <em>methodName</em> で指定したメソッドはどんなテストでも実行でき、引数はあってもなくても構いません。 このメソッドは $1 にオブジェクトを受け取り、テストをパスした要素の <em>$1.result</em> を true に設定しなければなりません。</p>
<p><em>methodName</em> で指定したメソッドは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 評価する要素の値</li>
<li><em>$2</em>: param</li>
<li><em>$N...</em>: paramN...</li>
</ul>
<p><em>methodName</em> で指定したメソッドでは、以下の引数を設定します:</p>
<ul>
<li><em>$1.result</em> (ブール): 要素の値の評価が成功した場合には <strong>true</strong> 、それ以外は <strong>false</strong></li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<p><code>.every()</code> 関数は、<em>$1.result</em> に <strong>false</strong> を返すコレクション要素を発見すると、<em>methodName</em> メソッドの呼び出しをやめて <strong>false</strong> を返します。</p>
<p>デフォルトでは、<code>.every()</code> はコレクション全体をテストします。 任意で、<em>startFrom</em> にテストを開始する要素のインデックスを渡すこともできます。</p>
<ul>
<li><em>startFrom</em> がコレクションの length 以上だった場合、<strong>false</strong> が返されます。これはコレクションがテストされていないことを意味します。</li>
<li><em>startFrom</em> &lt; 0 の場合には、コレクションの終わりからのオフセットであるとみなされます(<em>startFrom:=startFrom+length</em>)。</li>
<li><em>startFrom</em> = 0 の場合、コレクション全体がテストされます (デフォルト)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-4>例題 1<a href=#例題-1-4 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $b : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(5;3;1;4;6;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$b:=$c.every("NumberGreaterThan0") // true を返します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(-1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$b:=$c.every("NumberGreaterThan0") // false を返します</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>NumberGreaterThan0</strong></em> メソッドの中身は以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$1.result:=$1.value>0</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-4>例題 2<a href=#例題-2-4 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>コレクション要素がすべて実数型であるかをテストします:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $b : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(5;3;1;4;6;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$b:=$c.every("TypeLookUp";Is real) //$b=true</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=$c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=$c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$b:=$c.every("TypeLookUp";Is real) //$b=false</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>TypeLookUp</strong></em> メソッドの中身は以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">#DECLARE ($toEval : Object ; $param : Integer) //$1; $2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">If(Value type($toEval.value)=$param)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $toEval.result:=True</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=extract>.extract()<a href=#extract class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.extract</strong>( <em>propertyPath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>propertyPath</em> : Text ;  <em>targetPath</em> : Text  { ;...<em>propertyPathOrTargetPathN</em> : Text } ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>新しいコレクションに抽出する値のオブジェクトプロパティパス<tr><td>targetpath<td>Text<td style=text-align:center>-><td>抽出先のプロパティパスあるいはプロパティ名<tr><td>option<td>Integer<td style=text-align:center>-><td><code>ck keep null</code>: 返されるコレクションに null プロパティを含めます (デフォルトでは無視されます)。 <em>targetPath</em> を渡した場合には、この引数は無視されます。<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>抽出した値を格納した新しいコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-12>説明<a href=#説明-12 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.extract()</code> 関数は、 元のオブジェクトのコレクションから、<em>propertyPath</em> 引数が指定するプロパティ値を抽出し、新しいコレクションに格納して返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>戻り値のコレクションの中身は、<em>targetPath</em> 引数によります:</p>
<ul>
<li><em>targetPath</em> が省略された場合、<code>.extract()</code> は元のコレクションの <em>propertyPath</em> と同じパスを使って、新しいコレクションに値を格納します。</li>
</ul>
<p>デフォルトでは、<em>propertyPath</em> のパスの要素が null あるいは undefined であった場合には、その要素は無視され、返されるコレクションに格納されません。 <em>option</em> パラメーターに <code>ck keep null</code> 定数を渡すと、これらの要素は返されるコレクションに null 要素として格納されます。</p>
<ul>
<li>一つ以上の <em>propertyPath</em> 引数に相当する、一つ以上の <em>targetPath</em> 引数が渡された場合、<code>.extract()</code> は元のコレクションの <em>propertyPath</em> から値を抽出し、合致する <em>targetPath</em> に値を保存したオブジェクトを新しいコレクションの各要素として格納します。 Null値はそのまま保持されます (このシンタックスでは <em>option</em> に引数を渡しても無視されます)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-5>例題 1<a href=#例題-1-5 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Cleveland"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("zip";5321))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Blountsville"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(42)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.extract("name") // $c2=[Cleveland,Blountsville]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.extract("name";ck keep null) //$c2=[Cleveland,null,Blountsville,null]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-5>例題 2<a href=#例題-2-5 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("zc";35060))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";Null;"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Adger";"zc";35006))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Clanton";"zc";35046))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Clanton";"zc";35045))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.extract("name";"City") //$c2=[{City:null},{City:Cleveland},{City:Blountsville},{City:Adger},{City:Clanton},{City:Clanton}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.extract("name";"City";"zc";"Zip") //$c2=[{Zip:35060},{City:null,Zip:35049},{City:Cleveland,Zip:35049},{City:Blountsville,Zip:35031},{City:Adger,Zip:35006},{City:Clanton,Zip:35046},{City:Clanton,Zip:35045}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=fill>.fill()<a href=#fill class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.fill</strong>( <em>value</em> : any ) : Collection<br><strong>.fill</strong>( <em>value</em> : any ;  <em>startFrom</em>  : Integer { ; <em>end</em> : Integer } ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>number, Text, Collection, Object, Date, Boolean<td style=text-align:center>-><td>代入する値<tr><td>startFrom<td>Integer<td style=text-align:center>-><td>開始インデックス (含まれる)<tr><td>end<td>Integer<td style=text-align:center>-><td>終了インデックス (含まれない)<tr><td>戻り値<td>collection<td style=text-align:center>&lt;-<td>値が代入された元のコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-13>説明<a href=#説明-13 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.fill()</code> 関数は、 コレクションを <em>value</em> 引数の値で満たし、同コレクションを返します。オプションとして、<em>startFrom</em> および <em>end</em> インデックスを渡して代入開始位置および終了位置を指定することもできます。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<ul>
<li><em>startFrom</em> 引数が渡されなかった場合、<em>value</em> 引数の値はコレクションの全要素に代入されます (つまり、<em>startFrom</em>=0)。</li>
<li><em>startFrom</em> 引数が渡され、かつ <em>end</em> 引数が省略された場合には、<em>value</em> 引数の値はコレクションの最後の要素まで設定されます (つまり、<em>end</em>=length)。</li>
<li><em>startFrom</em> と <em>end</em> 引数が両方渡された場合には、<em>startFrom</em> から <em>end</em> までの要素に <em>value</em> が代入されます。</li>
</ul>
<p>引数に矛盾がある場合、次のように解釈されます:</p>
<ul>
<li><em>startFrom</em> &lt; 0 の場合、<em>startFrom:=startFrom+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。 再計算された値も負の値だった場合、<em>startFrom</em> は 0 に設定されます。</li>
<li><em>end</em> &lt; 0 の場合、それは <em>end:=end+length</em> として再計算されます。</li>
<li>渡された値、あるいは再計算された値が <em>end</em> &lt; <em>startFrom</em> の場合、関数はなにもしません。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-11>例題<a href=#例題-11 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;3;"Lemon";Null;"";4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.fill("2") // $c:=[2,2,2,2,2,2,2,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.fill("Hello";5) // $c=[2,2,2,2,2,Hello,Hello,Hello]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.fill(0;1;5) // $c=[2,0,0,0,0,Hello,Hello,Hello]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.fill("world";1;-5) //-5+8=3 -> $c=[2,"world","world",0,0,Hello,Hello,Hello]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=filter>.filter()<a href=#filter class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.filter</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>methodName<td>Text<td style=text-align:center>-><td>コレクションをフィルターするために呼び出すメソッド名<tr><td>param<td>複合<td style=text-align:center>-><td><em>methodName</em> に渡す引数<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>フィルターされた要素を格納した新しいコレクション (シャロウ・コピー)</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-14>説明<a href=#説明-14 class=hash-link aria-label=見出しへの直接リンク title=見出しへの��直接リンク>​</a></h4>
<p><code>.filter()</code> 関数は、 元のコレクション要素のうち、<em>methodName</em> メソッドの結果が <strong>true</strong> になる要素をすべて格納した新しいコレクションを返します。 この関数は <em><strong>シャロウ・コピー</strong></em> を返します。つまり、元のコレクションにオブジェクト要素やコレクション要素が含まれていた場合、それらの参照は戻り値のコレクションで共有されます。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>methodName</em> には、コレクション要素の評価に使用するメソッド名を渡します。<em>param</em> には、必要に応じて引数を渡します (任意)。 <em>methodName</em> で指定したメソッドはどんなテストでも実行でき、引数はあってもなくても構いません。 このメソッドは $1 にオブジェクトを受け取り、メソッドの条件を満たして新規コレクションに代入されるべき要素の <em>$1.result</em> を <strong>true</strong> に設定しなければなりません。</p>
<p><em>methodName</em> で指定したメソッドは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: フィルターする要素の値</li>
<li><em>$2</em>: <em>param</em></li>
<li><em>$N...</em>: param2...paramN</li>
</ul>
<p><em>methodName</em> で指定したメソッドでは、以下の引数を設定します:</p>
<ul>
<li><em>$1.result</em> (ブール): 要素の値がフィルターの条件に合致し、新コレクションに代入すべき場合に <strong>true</strong></li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-6>例題 1<a href=#例題-1-6 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>コレクションから、長さが 6未満であるテキスト要素を取得します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col;$colNew : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection("hello";"world";"red horse";66;"tim";"san jose";"miami")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $colNew:=$col.filter("LengthLessThan";6)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$colNew=["hello","world","tim","miami"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>LengthLessThan</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> C_OBJECT($1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> C_LONGINT($2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If(Value type($1.value)=Is text)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $1.result:=(Length($1.value))&lt;$2</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-6>例題 2<a href=#例題-2-6 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>値の型に応じて要素をフィルターします:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c;$c2;$c3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(5;3;1;4;6;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.filter("TypeLookUp";Is real) // $c2=[5,3,1,4,6,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c3:=$c.filter("TypeLookUp";Is object)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $c3=[{name:Cleveland,zc:35049},{name:Blountsville,zc:35031}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>TypeLookUp</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> C_OBJECT($1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> C_LONGINT($2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If(OB Get type($1;"value")=$2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $1.result:=True</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=find>.find()<a href=#find class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.find</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : any<br><strong>.find</strong>( <em>startFrom</em> : Integer ; <em>methodName</em> : Text { ; <em>...param</em> : any } ) : any</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>startFrom<td>Integer<td style=text-align:center>-><td>検索を開始するインデックス<tr><td>methodName<td>Text<td style=text-align:center>-><td>検索用に呼び出すメソッド名<tr><td>param<td>any<td style=text-align:center>-><td><em>methodName</em> に渡す引数<tr><td>戻り値<td>any<td style=text-align:center>&lt;-<td>最初に見つかった値。見つからなかった場合には Undefined</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-15>説明<a href=#説明-15 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.find()</code> 関数は、 <em>methodName</em> 引数のメソッドを各コレクション要素に適用して、<strong>true</strong> を返す最初の要素を返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>methodName</em> には、コレクション要素の評価に使用するメソッド名を渡します。<em>param</em> には、必要に応じて引数を渡します (任意)。 <em>methodName</em> で指定したメソッドはどんなテストでも実行でき、引数はあってもなくても構いません。 このメソッドは $1 にオブジェクトを受け取り、条件を満たす最初の要素の <em>$1.result</em> を <strong>true</strong> に設定しなければなりません。</p>
<p><em>methodName</em> で指定したメソッドは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 評価する要素の値</li>
<li>in <em>$2: param</em></li>
<li><em>$N...</em>: param2...paramN</li>
</ul>
<p><em>methodName</em> で指定したメソッドでは、以下の引数を設定します:</p>
<ul>
<li><em>$1.result</em> (ブール): 要素の値が検索条件に合致する場合に <strong>true</strong></li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<p>デフォルトでは、<code>.find()</code> はコレクション全体をテストします。 任意で、<em>startFrom</em> に検索を開始する要素のインデックスを渡すこともできます。</p>
<ul>
<li><em>startFrom</em> がコレクションの length 以上だった場合、-1 が返されます。これはコレクションが検索されていないことを意味します。</li>
<li><em>startFrom</em> &lt; 0 の場合には、コレクションの終わりからのオフセットであるとみなされます(<em>startFrom:=startFrom+length</em>)。 <strong>注:</strong> <em>startFrom</em> が負の値であっても、コレクションは左から右へと検索されます。</li>
<li><em>startFrom</em> = 0 の場合、コレクション全体がテストされます (デフォルト)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-7>例題 1<a href=#例題-1-7 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>長さが 5未満の最初のテキスト要素を取得します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection("hello";"world";4;"red horse";"tim";"san jose")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $value:=$col.find("LengthLessThan";5) //$value="tim"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>LengthLessThan</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $1 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $2 : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If(Value type($1.value)=Is text)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $1.result:=(Length($1.value))&lt;$2</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-7>例題 2<a href=#例題-2-7 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>コレクション内を都市名で検索します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $c2 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Adger";"zc";35006))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35046))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35045))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.find("FindCity";"Clanton") //$c2={name:Clanton,zc:35046}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>FindCity</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $1 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $2 : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $1.result:=$1.value.name=$2 // name は、コレクションのオブジェクト要素内のプロパティ名です</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=findindex>.findIndex()<a href=#findindex class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.findIndex</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Integer<br><strong>.findIndex</strong>( <em>startFrom</em> : Integer ; <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Integer</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>startFrom<td>Integer<td style=text-align:center>-><td>検索を開始するインデックス<tr><td>methodName<td>Text<td style=text-align:center>-><td>検索用に呼び出すメソッド名<tr><td>param<td>any<td style=text-align:center>-><td><em>methodName</em> に渡す引数<tr><td>戻り値<td>Integer<td style=text-align:center>&lt;-<td>最初に見つかった値のインデックス。見つからなかった場合には -1</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-16>説明<a href=#説明-16 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.findIndex()</code> 関数は、 <em>methodName</em> 引数のメソッドを各コレクション要素に適用して、<strong>true</strong> を返す最初の要素のインデックスを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>methodName</em> には、コレクション要素の評価に使用するメソッド名を渡します。<em>param</em> には、必要に応じて引数を渡します (任意)。 <em>methodName</em> で指定したメソッドはどんなテストでも実行でき、引数はあってもなくても構いません。 このメソッドは $1 にオブジェクトを受け取り、条件を満たす最初の要素の <em>$1.result</em> を <strong>true</strong> に設定しなければなりません。</p>
<p><em>methodName</em> で指定したメソッドは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 評価する要素の値</li>
<li>in <em>$2: param</em></li>
<li><em>$N...</em>: param2...paramN</li>
</ul>
<p><em>methodName</em> で指定したメソッドでは、以下の引数を設定します:</p>
<ul>
<li><em>$1.result</em> (ブール): 要素の値が検索条件に合致する場合に <strong>true</strong></li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<p>デフォルトでは、<code>.findIndex()</code> はコレクション全体をテストします。 任意で、<em>startFrom</em> に検索を開始する要素のインデックスを渡すこともできます。</p>
<ul>
<li><em>startFrom</em> がコレクションの length 以上だった場合、-1 が返されます。これはコレクションが検索されていないことを意味します。</li>
<li><em>startFrom</em> &lt; 0 の場合には、コレクションの終わりからのオフセットであるとみなされます(<em>startFrom:=startFrom+length</em>)。 <strong>注:</strong> <em>startFrom</em> が負の値であっても、コレクションは左から右へと検索されます。</li>
<li><em>startFrom</em> = 0 の場合、コレクション全体がテストされます (デフォルト)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-12>例題<a href=#例題-12 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>コレクション内で最初に合致する都市名の位置を探します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $val2;$val3 : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Adger";"zc";35006))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35046))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35045))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $val2:=$c.findIndex("FindCity";"Clanton") // $val2=3</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $val3:=$c.findIndex($val2+1;"FindCity";"Clanton") //$val3=4</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>FindCity</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $1 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $2 : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $1.result:=$1.value.name=$2</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=indexof>.indexOf()<a href=#indexof class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.indexOf</strong>(  <em>toSearch</em> : expression { ; <em>startFrom</em> : Integer } ) : Integer</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>toSearch<td>式<td style=text-align:center>-><td>コレクション内を検索する式<tr><td>startFrom<td>Integer<td style=text-align:center>-><td>検索を開始するインデックス<tr><td>戻り値<td>Integer<td style=text-align:center>&lt;-<td>最初に見つかった toSearch のインデックス。見つからなかった場合には -1</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-17>説明<a href=#説明-17 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.indexOf()</code> 関数は、 <em>toSearch</em> 引数の式をコレクション要素の中から検索し、最初に見つかった要素のインデックス (見つからなかった場合には -1) を返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>toSearch</em> パラメーターには、コレクション内で検索する式を渡します。 以下のものを渡すことができます:</p>
<ul>
<li>スカラー値 (テキスト、数値、ブール、日付)</li>
<li>null 値</li>
<li>オブジェクトあるいはコレクションの参照</li>
</ul>
<p><em>toSearch</em> 引数は検出すべき要素と完全に一致している必要があります (等号演算子と同じルールが適用されます)。</p>
<p>オプションとして、<em>startFrom</em> 引数を渡すことで、検索を開始するコレクション要素のインデックスを指定することができます。</p>
<ul>
<li><em>startFrom</em> がコレクションの length 以上だった場合、-1 が返されます。これはコレクションが検索されていないことを意味します。</li>
<li><em>startFrom</em> &lt; 0 の場合には、コレクションの終わりからのオフセットであるとみなされます(<em>startFrom:=startFrom+length</em>)。 <strong>注:</strong> <em>startFrom</em> が負の値であっても、コレクションは左から右へと検索されます。</li>
<li><em>startFrom</em> = 0 の場合、コレクション全体がテストされます (デフォルト)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-13>例題<a href=#例題-13 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $i : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(1;2;"Henry";5;3;"Albert";6;4;"Alan";5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $i:=$col.indexOf(3) //$i=4</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $i:=$col.indexOf(5;5) //$i=9</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $i:=$col.indexOf("al@") //$i=5</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $i:=$col.indexOf("Hello") //$i=-1</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=indices>.indices()<a href=#indices class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.indices</strong>(  <em>queryString</em> : Text { ; <em>...value</em> : any } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>queryString<td>Text<td style=text-align:center>-><td>検索条件<tr><td>value<td>any<td style=text-align:center>-><td>プレースホルダー使用時: 比較する値<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>queryString に合致するコレクション要素のインデックス</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-18>説明<a href=#説明-18 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.indices()</code> 関数は <a href=#query><code>.query()</code></a> 関数と同様に機能しますが、 <em>queryString</em> 引数の検索条件に合致する、元のコレクション要素のインデックスを返します(コレクション要素自体は返しません)。 インデックスは、昇順に返されます。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>queryString</em> 引数には、以下のシンタックスを使用します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">propertyPath 比較演算子 値 {logicalOperator propertyPath 比較演算子 値}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em>queryString</em> および <em>value</em> パラメーターの詳細については、<a href=/docs/ja/19/API/dataclassClass.md#query><code>dataClass.query()</code></a> 関数を参照ください。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-14>例題<a href=#例題-14 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $icol : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Adger";"zc";35006))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35046))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35045))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $icol:=$c.indices("name = :1";"Cleveland") // $icol=[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $icol:=$c.indices("zc > 35040") // $icol=[0,3,4]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=insert>.insert()<a href=#insert class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.insert</strong>( <em>index</em> : Integer ; <em>element</em> : any ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>index<td>Integer<td style=text-align:center>-><td>要素の挿入位置<tr><td>element<td>any<td style=text-align:center>-><td>コレクションに挿入する要素<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>要素の挿入された元のコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-19>説明<a href=#説明-19 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><em>.insert()</em> 関数は、  <em>index</em> で指定したコレクションインスタンスの位置に <em>element</em> 要素を挿入し、変更された元のコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p><em>index</em> パラメーターには、コレクション内で要素を挿入する位置を渡します。</p>
<blockquote>
<p><strong>警告</strong>: コレクション要素は 0 起点である点に注意してください。</p>
</blockquote>
<ul>
<li>指定した <em>index</em> がコレクションの length より大きい場合、実際の開始インデックスはコレクションの length に設定されます。</li>
<li><em>index</em> &lt; 0 の場合、<em>index:=index+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。</li>
<li>計算結果も負の値である場合、index は 0 に設定されます。</li>
</ul>
<p>コレクションが受け入れるものであれば、どんな型の要素も (たとえば他のコレクションでも) 挿入可能です。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-15>例題<a href=#例題-15 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection("a";"b";"c";"d") //$col=["a","b","c","d"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.insert(2;"X") //$col=["a","b","X","c","d"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.insert(-2;"Y") //$col=["a","b","X","Y","c","d"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.insert(-10;"Hi") //$col=["Hi","a","b","X","Y","c","d"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=join>.join()<a href=#join class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.join</strong>( <em>delimiter</em> : Text { ; <em>option</em> : Integer } ) : Text</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>delimiter<td>Text<td style=text-align:center>-><td>要素間に用いる区切り文字<tr><td>option<td>Integer<td style=text-align:center>-><td><code>ck ignore null or empty</code>: 戻り値に null と空の文字列を含めない<tr><td>戻り値<td>Text<td style=text-align:center>&lt;-<td>区切り文字を使ってコレクションの全要素をつなげた文字列</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-20>説明<a href=#説明-20 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.join()</code> 関数は、 <em>delimiter</em> に渡した文字列を区切り文字として、コレクションの全要素を一つの文字列につなげます。戻り値はつなげられた文字列です。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>デフォルトで、コレクションの null あるいは空の要素も戻り値の文字列に含めます。 これらを戻り値の文字列に含めたくない場合は、<em>option</em> パラメーターに <code>ck ignore null or empty</code> 定数を渡します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-16>例題<a href=#例題-16 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $t1;$t2 : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;3;"Paris";Null;"";4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $t1:=$c.join("|") //1|2|3|Paris|null||4|5</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $t2:=$c.join("|";ck ignore null or empty) //1|2|3|Paris|4|5</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=lastindexof>.lastIndexOf()<a href=#lastindexof class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.lastIndexOf</strong>( <em>toSearch</em> : expression { ; <em>startFrom</em> : Integer } ) : Integer</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>toSearch<td>式<td style=text-align:center>-><td>コレクション内を検索する要素<tr><td>startFrom<td>Integer<td style=text-align:center>-><td>検索を開始するインデックス<tr><td>戻り値<td>Integer<td style=text-align:center>&lt;-<td>最後に見つかった toSearch のインデックス。見つからなかった場合には -1</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-21>説明<a href=#説明-21 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.lastIndexOf()</code> 関数は、 <em>toSearch</em> 引数の式をコレクション要素の中から検索し、最後に見つかった要素のインデックスを返します(見つからなかった場合には -1)。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>toSearch</em> パラメーターには、コレクション内で検索する式を渡します。 以下のものを渡すことができます:</p>
<ul>
<li>スカラー値 (テキスト、数値、ブール、日付)</li>
<li>null 値</li>
<li>オブジェクトあるいはコレクションの参照</li>
</ul>
<p><em>toSearch</em> 引数は検出すべき要素と完全に一致している必要があります (等号演算子と同じルールが適用されます)。</p>
<p>オプションとして、<em>startFrom</em> 引数を渡すことで、逆順検索を開始するコレクション要素のインデックスを指定することができます。</p>
<ul>
<li><em>startFrom</em> が、コレクションの length から 1を引いた数字 (coll.length-1) 以上の場合、コレクション全体が検索されます (デフォルト)。</li>
<li><em>startFrom</em> &lt; 0 の場合、<em>startFrom:=startFrom+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。 計算結果も負の値である場合、-1 が返されます。これはコレクションが検索されていないことを意味します。 <strong>注:</strong> <em>startFrom</em> が負の値であっても、コレクションは右から左へと検索されます。</li>
<li><em>startFrom</em> = 0 の場合、-1 が返されます。これはコレクションが検索されていないことを意味します。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-17>例題<a href=#例題-17 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $pos1;$pos2;$pos3;$pos4;$pos5 : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=Split string("a,b,c,d,e,f,g,h,i,j,e,k,e";",") //$col.length=13</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pos1:=$col.lastIndexOf("e") // 戻り値: 12</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pos2:=$col.lastIndexOf("e";6) // 戻り値: 4</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pos3:=$col.lastIndexOf("e";15) // 戻り値: 12</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pos4:=$col.lastIndexOf("e";-2) // 戻り値: 10</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pos5:=$col.lastIndexOf("x") // 戻り値: -1</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=length>.length<a href=#length class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R5<td>追加</table>
</div></div></details>
<p><strong>.length</strong> : Integer</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-22>説明<a href=#説明-22 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.length</code> プロパティは、 コレクション内の要素数を返します。</p>
<p><code>.length</code> プロパティは、コレクション作成時に初期化されます。 要素を追加・削除すると、必要に応じて length は更新されます。 このプロパティは <strong>読み取り専用</strong> です (これを使用してコレクションのサイズを設定することはできません)。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-18>例題<a href=#例題-18 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection // $col.length が 0 に初期化されます</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection("one";"two";"three") // $col.length が 3 に更新されます</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col[4]:="five" // $col.length が 5 に更新されます</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vSize:=$col.remove(0;3).length // $vSize=2</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=map>.map()<a href=#map class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.map</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>methodName<td>Text<td style=text-align:center>-><td>コレクション要素を変換するのに使用するメソッド名<tr><td>param<td>any<td style=text-align:center>-><td>methodName に渡す引数<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>変換された値を格納する新しいコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-23>説明<a href=#説明-23 class=hash-link aria-label=見出しへの直接リンク title=見出しへ��の直接リンク>​</a></h4>
<p><code>.map()</code> 関数は、 元のコレクションの各要素に対して <em>methodName</em> メソッドを呼び出した結果に基づいた、新しいコレクションを作成します。 オプションで、<em>param</em> パラメーターに、<em>methodName</em> に渡す引数を指定することができます。 <code>.map()</code> は常に、元のコレクションと同じサイズのコレクションを返します (<em>$1.stop</em> が使用された場合を除く (後述参照))。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>methodName</em> には、コレクション要素の評価に使用するメソッド名を渡します。<em>param</em> には、必要に応じて引数を渡します (任意)。 <em>methodName</em> で指定したメソッドはどんな処理でも実行でき、引数はあってもなくても構いません。</p>
<p><em>methodName</em> で指定したメソッドは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em> (任意の型): マップする要素の値</li>
<li>in <em>$2</em> (任意の型): <em>param</em></li>
<li>in <em>$N...</em> (任意の型): <em>paramN...</em></li>
</ul>
<p><em>methodName</em> で指定したメソッドでは、以下の引数を設定します:</p>
<ul>
<li><em>$1.result</em> (任意の型): 結果のコレクションに追加する、変換された値</li>
<li><em>$1.stop</em> (ブール): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-19>例題<a href=#例題-19 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;4;9;10;20)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.map("Percentage";$c.sum())</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$c2=[2.27,9.09,20.45,22.73,45.45]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>Percentage</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $1 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $2 : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $1.result:=Round(($1.value/$2)*100;2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=max>.max()<a href=#max class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.max</strong>( { <em>propertyPath</em> : Text } ) : any</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>評価するオブジェクトプロパティのパス<tr><td>戻り値<td>Boolean, Text, Number, Collection, Object, Date<td style=text-align:center>&lt;-<td>コレクション内の最大値</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-24>説明<a href=#説明-24 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.max()</code> 関数は、 コレクション内の最大値を持つ要素を返します (<a href=#sort><code>.sort()</code></a> 関数を使用して昇順に並べ替えたときのコレクションの最後の要素が最大値の要素です)。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>コレクションが異なる型の値を格納している場合、<code>.max()</code> 関数は型のリスト順の、最後の型の最大値を返します (<a href=#sort><code>.sort()</code></a> 参照)。</p>
<p>コレクションがオブジェクトを格納している場合には、最大値を取得するオブジェクトプロパティのパスを <em>propertyPath</em> に渡します。</p>
<p>コレクションが空の場合、 <code>.max()</code> は <em>Undefined</em> を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-20>例題<a href=#例題-20 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(200;150;55)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"salary";10000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"salary";50000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Alabama";"salary";10500))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $max:=$col.max() //{name:Alabama,salary:10500}</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $maxSal:=$col.max("salary") //50000</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $maxName:=$col.max("name") //"Wesson"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=min>.min()<a href=#min class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.min</strong>( { <em>propertyPath</em> : Text } ) : any</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>評価するオブジェクトプロパティのパス<tr><td>戻り値<td>Boolean, Text, Number, Collection, Object, Date<td style=text-align:center>&lt;-<td>コレクション内の最小値</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-25>説明<a href=#説明-25 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.min()</code> 関数は、 コレクション内の最小値を持つ要素を返します (<a href=#sort><code>.sort()</code></a> 関数を使用して昇順に並べ替えたときのコレクションの先頭の要素が最小値の要素です)。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>コレクションが異なる型の値を格納している場合、<code>.min()</code> 関数は型のリスト順の、最初の型の最小値を返します (<a href=#sort><code>.sort()</code></a> 参照)。</p>
<p>コレクションがオブジェクトを格納している場合には、最小値を取得するオブジェクトプロパティのパスを <em>propertyPath</em> に渡します。</p>
<p>コレクションが空の場合、 <code>.min()</code> は <em>Undefined</em> を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-21>例題<a href=#例題-21 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(200;150;55)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"salary";10000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"salary";50000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Alabama";"salary";10500))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $min:=$col.min() //55</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $minSal:=$col.min("salary") //10000</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $minName:=$col.min("name") //"Alabama"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=orderby>.orderBy()<a href=#orderby class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.orderBy</strong>( ) : Collection<br><strong>.orderBy</strong>( <em>pathStrings</em> : Text ) : Collection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : Collection<br><strong>.orderBy</strong>( <em>ascOrDesc</em> : Integer ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>pathStrings<td>Text<td style=text-align:center>-><td>コレクションの並べ替え基準とするプロパティパス<tr><td>pathObjects<td>Collection<td style=text-align:center>-><td>条件オブジェクトのコレクション<tr><td>ascOrDesc<td>Integer<td style=text-align:center>-><td><code>ck ascending</code> または <code>ck descending</code> (スカラー値)<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>並べ替えられたコレクションのコピー (シャロウ・コピー)</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-26>説明<a href=#説明-26 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>.orderBy() 関数は、 コレクションの要素を指定順に並べ替えた新しいコレクションを返します。</p>
<p>この関数は <em>シャロウ・コピー</em> を返します。つまり、元のコレクションにオブジェクト要素やコレクション要素が含まれていた場合、それらの参照は戻り値のコレクションで共有されます。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>引数を渡さなかった場合、メソッドはコレクション内のスカラー値を昇順に並べ替えます (オブジェクトやコレクションなどの他の型は並べ替えされないまま返されます)。 この自動並べ替え順は、<em>ascOrDesc</em> パラメーターに <code>ck ascending</code> あるいは <code>ck descending</code> 定数を渡すことで変更できます (以下参照)。</p>
<p>また、引数を渡すことで、コレクション要素をどのように並べ替えるかを指定することもできます。 次の 3つのシンタックスがサポートされています:</p>
<ul>
<li>
<p><em>pathStrings</em> : Text (フォーミュラ)。 <strong>シンタックス</strong>: <code>propertyPath1 {desc または asc}, propertyPath2 {desc または asc},...</code> (デフォルトの並び順: asc)。 <em>pathStrings</em> はカンマで区切られた、1〜n のプロパティパスと並び順 (任意) で構成されたフォーミュラを格納します。 プロパティを渡す順番が、コレクション要素の並べ替えの優先順位を決定します。 デフォルトでは、プロパティは昇順に並べ替えられます。 並び順を設定するには、プロパティパスの後に半角スペースで区切ったあとに、昇順を指定するには "asc"、降順を指定するには "desc" を渡します。</p>
</li>
<li>
<p><em>pathObjects</em> : Collection。 <em>pathObjects</em> コレクションには必要な数だけオブジェクトを追加することができます。 デフォルトでは、プロパティは昇順に並べ替えられます ("descending" は false)。 コレクションの各要素は、以下の構造を持つオブジェクトを格納します:</p>
</li>
</ul>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "propertyPath": string,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "descending": boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<ul>
<li><em>ascOrDesc</em> : Integer。 <strong>Objects and collections</strong> テーマから、以下の定数のいずれか一つを渡します:</li>
</ul>























<table><thead><tr><th>定数<th>型<th>値<th>説明<tbody><tr><td>ck ascending<td>Integer<td>0<td>要素は昇順に並べられます (デフォルト)<tr><td>ck descending<td>Integer<td>1<td>要素は降順に並べられます</table>
<p>このシンタックスは、コレクション内のスカラー値のみを並べ替えます (オブジェクトやコレクションなどの他の型は内部的な順序で返されます)。</p>
<p>コレクションが異なる型の要素を格納している場合、それらはまず型ごとにグループ分けされ、そのあとで並べ替えられます。 型は以下の順番で返されます:</p>
<ol>
<li>null</li>
<li>ブール</li>
<li>文字列</li>
<li>数値</li>
<li>オブジェクト</li>
<li>コレクション</li>
<li>日付</li>
</ol>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-8>例題 1<a href=#例題-1-8 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>数値のコレクションを昇順および降順に並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2; $3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For($vCounter;1;10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $c.push(Random)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy(ck ascending)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c3:=$c.orderBy(ck descending)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-8>例題 2<a href=#例題-2-8 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>オブジェクトのコレクションを、テキストフォーミュラに指定したプロパティ名に基づいて並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For($vCounter;1;10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $c.push(New object("id";$vCounter;"value";Random))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy("value desc")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy("value desc, id")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy("value desc, id asc")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>オブジェクトのコレクションをプロパティパスで並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"phones";New object("p1";"01";"p2";"02")))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"phones";New object("p1";"00";"p2";"03")))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy("phones.p1 asc")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-3>例題 3<a href=#例題-3-3 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>オブジェクトのコレクションを、<em>pathObjects</em> コレクションを使用して並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $crit; $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $crit:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For($vCounter;1;10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $c.push(New object("id";$vCounter;"value";Random))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $crit.push(New object("propertyPath";"value";"descending";True))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $crit.push(New object("propertyPath";"id";"descending";False))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy($crit)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>プロパティパスで並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $crit; $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"phones";New object("p1";"01";"p2";"02")))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"phones";New object("p1";"00";"p2";"03")))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $crit:=New collection(New object("propertyPath";"phones.p2";"descending";True))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy($crit)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=orderbymethod>.orderByMethod()<a href=#orderbymethod class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.orderByMethod</strong>( <em>methodName</em> : Text { ; ...<em>extraParam</em> : expression } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>methodName<td>Text<td style=text-align:center>-><td>並べ替え順の指定に使用するメソッド名<tr><td>extraParam<td>式<td style=text-align:center>-><td>methodName に渡す引数<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>並べ替えられたコレクションのコピー (シャロウ・コピー)</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-27>説明<a href=#説明-27 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.orderByMethod()</code> 関数は、 <em>methodName</em> メソッドを通して定義された順番でコレクション要素を並べ替えた新しいコレクションを返します。</p>
<p>この関数は <em>シャロウ・コピー</em> を返します。つまり、元のコレクションにオブジェクト要素やコレクション要素が含まれていた場合、それらの参照は戻り値のコレクションで共有されます。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>methodName</em> には、二つの値を比較して、最初の値が二つ目の値より低い場合に <em>$1.result</em> に <strong>true</strong> を返す比較メソッドの名称を渡します。 必要であれば <em>methodName</em> に追加の引数を渡すこともできます。</p>
<ul>
<li><em>methodName</em> で指定したメソッドは以下の引数を受け取ります:
<ul>
<li>$1 (オブジェクト):
<ul>
<li><em>$1.value</em> (任意の型): 比較する一つ目の要素の値</li>
<li><em>$1.value2</em> (任意の型): 比較する二つ目の要素の値</li>
</ul>
</li>
<li>$2...$N (任意の型): 追加の引数</li>
</ul>
</li>
<li><em>methodName</em> で指定したメソッドでは、以下の引数を設定します:
<ul>
<li><em>$1.result</em> (ブール): <em>$1.value &lt; $1.value2</em> の場合は <strong>true</strong>、それ以外は <strong>false</strong></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-9>例題 1<a href=#例題-1-9 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>文字列のコレクションをアルファベット順ではなく、数値順に並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2; $c3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push("33";"4";"1111";"222")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy() //$c2=["1111","222","33","4"], アルファベット順</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c3:=$c.orderByMethod("NumAscending") // $c3=["4","33","222","1111"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>NumAscending</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $1.result:=Num($1.value)&lt;Num($1.value2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-9>例題 2<a href=#例題-2-9 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>文字列のコレクションを、文字列の長さを基準に並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $fruits; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $fruits:=New collection("Orange";"Apple";"Grape";"pear";"Banana";"fig";"Blackberry";"Passion fruit")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$fruits.orderByMethod("WordLength")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$c2=[Passion fruit,Blackberry,Orange,Banana,Apple,Grape,pear,fig]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>WordLength</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $1.result:=Length(String($1.value))>Length(String($1.value2))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-4>例題 3<a href=#例題-3-4 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>文字コード順またはアルファベット順にコレクション要素を並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $strings1; $strings2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$strings1:=New collection("Alpha";"Charlie";"alpha";"bravo";"Bravo";"charlie")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// 文字コード順:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$strings2:=$strings1.orderByMethod("sortCollection";sk character codes)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// 結果 : ["Alpha","Bravo","Charlie","alpha","bravo","charlie"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// アルファベット順:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$strings2:=$strings1.orderByMethod("sortCollection";sk strict)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// 結果 : ["alpha","Alpha","bravo","Bravo","charlie","Charlie"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>sortCollection</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var$1Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var$2Integer // 並べ替えオプション</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$1.result:=(Compare strings($1.value;$1.value2;$2)&lt;0)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=ク��リップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=pop>.pop()<a href=#pop class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.pop()</strong> : any</p>

















<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>戻り値<td>any<td style=text-align:center>&lt;-<td>コレクションの最後の要素</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-28>説明<a href=#説明-28 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.pop()</code> 関数は、 コレクションから最後の要素を取り除き、それを戻り値として返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p>空のコレクションに適用した場合、 <code>.pop()</code> は <em><strong>Undefined</strong></em> を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-22>例題<a href=#例題-22 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.pop()</code> を <a href=#push><code>.push()</code></a> と組み合わせて使用すると、スタック (後入れ先出し構造) を実装することができます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $stack : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack:=New collection //$stack=[]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack.push(1;2) //$stack=[1,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack.pop() //$stack=[1] 、戻り値は 2 です</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack.push(New collection(4;5)) //$stack=[[1,[4,5]]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack.pop() //$stack=[1] 、戻り値は [4,5] です</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack.pop() //$stack=[] 、戻り値は 1 です</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=push>.push()<a href=#push class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.push</strong>( <em>element</em> : any { ;...<em>elementN</em> } ) : Collection</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>element<td>複合<td style=text-align:center>-><td>コレクションに追加する要素<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>要素の追加された元のコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-29>説明<a href=#説明-29 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.push()</code> 関数は、 一つ以上の <em>element</em> 引数をコレクションインスタンスの最後に追加し、変更された元のコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-10>例題 1<a href=#例題-1-10 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(1;2) //$col=[1,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(3) //$col=[1,2,3]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(6;New object("firstname";"John";"lastname";"Smith"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$col=[1,2,3,6,{firstname:John,lastname:Smith}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-10>例題 2<a href=#例題-2-10 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>戻り値のコレクションを並び替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col; $sortedCol : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(5;3;9) //$col=[5,3,9]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sortedCol:=$col.push(7;50).sort()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$col=[5,3,9,7,50]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$sortedCol=[3,5,7,9,50]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=query>.query()<a href=#query class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>17 R5<td>querySettings をサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.query</strong>( <em>queryString</em> : Text ; <em>...value</em> : any ) : Collection<br><strong>.query</strong>( <em>queryString</em> : Text ; <em>querySettings</em> : Object ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>queryString<td>Text<td style=text-align:center>-><td>検索条件<tr><td>value<td>複合<td style=text-align:center>-><td>プレースホルダー使用時: 比較する値<tr><td>querySettings<td>Object<td style=text-align:center>-><td>クエリオプション: parameters, attributes 他<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>queryString に合致するコレクション要素</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-30>説明<a href=#説明-30 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.query()</code> 関数は、 検索条件に合致するオブジェクトコレクションの要素をすべて返します 。検索条件は、<em>queryString</em> および、任意の <em>value</em> や <em>querySettings</em> パラメーターによって定義されます。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>queryString</em> 引数には、以下のシンタックスを使用します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">propertyPath 比較演算子 値 {logicalOperator propertyPath 比較演算子 値}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em>queryString</em> および <em>value</em> や <em>querySettings</em> パラメーターを使ってクエリをビルドする方法の詳細については、<a href=/docs/ja/19/API/DataClassClass#query><code>DataClass.query()</code></a> 関数を参照ください。</p>
<blockquote>
<p><em>queryString</em> 引数および <em>formula</em> オブジェクト引数の使用に関わらず、フォーミュラは <code>collection.query()</code> 関数でサポートされていません。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-11>例題 1<a href=#例題-1-11 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2; $c3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Adger";"zc";35006))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35046))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35045))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.query("name = :1";"Cleveland") //$c2=[{name:Cleveland,zc:35049}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c3:=$c.query("zc > 35040") //$c3=[{name:Cleveland,zc:35049},{name:Clanton,zc:35046},{name:Clanton,zc:35045}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-11>例題 2<a href=#例題-2-11 class=hash-link aria-label=見出しへの直接リンク title=見��出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Smith";"dateHired";!22-05-2002!;"age";45))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Wesson";"dateHired";!30-11-2017!))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Winch";"dateHired";!16-05-2018!;"age";36))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Sterling";"dateHired";!10-5-1999!;"age";Null))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Mark";"dateHired";!01-01-2002!))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>上記のオブジェクトに対し、以下のクエリは名前に "in" が含まれている人物を返します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $col:=$c.query("name = :1";"@in@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$col=[{name:Winch...},{name:Sterling...}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>以下のクエリは、変数に格納した文字列 (ユーザーが入力した文字列など) から名前が始まらない人物を返します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $col:=$c.query("name # :1";$aString+"@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //if $astring="W"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$col=[{name:Smith...},{name:Sterling...},{name:Mark...}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>以下のクエリは、年齢が不明な (プロパティが null あるいは undefined に設定されている) 人物を返します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $col:=$c.query("age=null") // "null" ではプレースホルダーは使えません</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$col=[{name:Wesson...},{name:Sterling...},{name:Mark...}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>以下のクエリは、採用から90日を超えている人物を返します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $col:=$c.query("dateHired &lt; :1";(Current date-90))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$col=[{name:Smith...},{name:Sterling...},{name:Mark...}] (今日が 01/10/2018 の場合)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-5>例題 3<a href=#例題-3-5 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>追加のクエリ例については、<a href=/docs/ja/19/API/dataclassClass.md#query><code>dataClass.query()</code></a> を参照してください。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=reduce>.reduce()<a href=#reduce class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.reduce</strong>( <em>methodName</em> : Text ) : any <br><strong>.reduce</strong>( <em>methodName</em> : Text ; <em>initValue</em> : any { ; <em>...param</em> : expression } ) : any</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>methodName<td>Text<td style=text-align:center>-><td>コレクション要素を処理するのに使用するメソッド名<tr><td>initValue<td>Text, Number, Object, Collection, Date, Boolean<td style=text-align:center>-><td><em>methodName</em> の最初の呼び出しに最初の引数として使用する値<tr><td>param<td>式<td style=text-align:center>-><td><em>methodName</em> に渡す引数<tr><td>戻り値<td>Text, Number, Object, Collection, Date, Boolean<td style=text-align:center>&lt;-<td>アキュムレーター値の結果</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-31>説明<a href=#説明-31 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.reduce()</code> 関数は、 <em>methodName</em> コールバックをアキュムレーターおよびコレクションの各要素に (左から右へ) 適用して、単一の値にまとめます。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>methodName</em> には、コレクション要素の評価に使用するメソッド名を渡します。<em>param</em> には、必要に応じて引数を渡します (任意)。 <em>methodName</em> はコレクションの各要素を受け取り、任意の処理を実行して、結果を <em>$1.accumulator</em> に蓄積します。この値は最終的に <em>$1.value</em> に返されます。</p>
<p><em>initValue</em> に引数を渡すことで、アキュムレーターを初期化することができます。 省略された場合は、<em>$1.accumulator</em> は <em>Undefined</em> から開始されます。</p>
<p><em>methodName</em> で指定したメソッドは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 処理する要素の値</li>
<li>in <em>$2: param</em></li>
<li>in <em>$N...</em>: <em>paramN...</em></li>
</ul>
<p><em>methodName</em> で指定したメソッドでは、以下の引数を設定します:</p>
<ul>
<li><em>$1.accumulator</em>: メソッドで変更する値。<em>initValue</em> によって初期化します。</li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-12>例題 1<a href=#例題-1-12 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> C_COLLECTION($c)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(5;3;5;1;3;4;4;6;2;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $r:=$c.reduce("Multiply";1) // 戻り値は 86400 です</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>Multiply</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> If(Value type($1.value)=Is real)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $1.accumulator:=$1.accumulator*$1.value</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-12>例題 2<a href=#例題-2-12 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>複数のコレクション要素を単一の値にまとめます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c;$r : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(0;1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(2;3))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(4;5))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(6;7))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $r:=$c.reduce("Flatten") //$r=[0,1,2,3,4,5,6,7]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピ��ー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>Flatten</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> If($1.accumulator=Null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $1.accumulator:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $1.accumulator.combine($1.value)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=remove>.remove()<a href=#remove class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.remove</strong>( <em>index</em> : Integer { ; <em>howMany</em> : Integer } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>index<td>Integer<td style=text-align:center>-><td>削除を開始する要素の位置<tr><td>howMany<td>Integer<td style=text-align:center>-><td>削除する要素の数、省略時は 1要素を削除<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>要素が削除された元のコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-32>説明<a href=#説明-32 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.remove()</code> 関数は、 <em>index</em> で指定した位置から一つまた複数のコレクション要素を削除し、変更されたコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p><em>index</em> パラメーターには、削除するコレクション要素の位置を渡します。</p>
<blockquote>
<p><strong>警告</strong>: コレクション要素は 0 起点である点に注意してください。 指定した <em>index</em> がコレクションの length より大きい場合、実際の開始インデックスはコレクションの length に設定されます。</p>
</blockquote>
<ul>
<li><em>index</em> &lt; 0 の場合、<em>index:=index+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。</li>
<li>計算結果も負の値である場合、<em>index</em> は 0 に設定されます。</li>
<li>計算結果がコレクションの length より大きい場合には、<em>index</em> は length に設定されます。</li>
</ul>
<p><em>howMany</em> には、<em>index</em> の位置から削除する要素の数を渡します。 <em>howMany</em> が省略された場合、1つの要素のみが削除されます。</p>
<p>空のコレクションから要素を削除しようとした場合、関数は何もしません (エラーは生成されません)。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-23>例題<a href=#例題-23 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection("a";"b";"c";"d";"e";"f";"g";"h")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.remove(3) // $col=["a","b","c","e","f","g","h"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.remove(3;2) // $col=["a","b","c","g","h"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.remove(-8;1) // $col=["b","c","g","h"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.remove(-3;1) // $col=["b","g","h"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resize>.resize()<a href=#resize class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.resize</strong>( <em>size</em> : Integer { ; <em>defaultValue</em> : any } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>size<td>Integer<td style=text-align:center>-><td>コレクションの新しいサイズ<tr><td>defaultValue<td>Number, Text, Object, Collection, Date, Boolean<td style=text-align:center>-><td>新規要素のデフォルト値<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>リサイズされた元のコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-33>説明<a href=#説明-33 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>.resize() 関数は、 コレクションの length を引数で指定されたサイズに設定し、変更された元のコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<ul>
<li><em>size</em> &lt; lengthの場合、余分な要素はコレクションから削除されます。</li>
<li><em>size</em> > lengthの場合、不足分の要素がコレクションに追加されます。</li>
</ul>
<p>デフォルトで、新規要素には <strong>null</strong> 値が格納されます。 <em>defaultValue</em> に引数を渡すことで、新規要素の値を指定することができます。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-24>例題<a href=#例題-24 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.resize(10) // $c=[null,null,null,null,null,null,null,null,null,null]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.resize(10;0) // $c=[0,0,0,0,0,0,0,0,0,0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;3;4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.resize(10;New object("name";"X")) //$c=[1,2,3,4,5,{name:X},{name:X},{name:X},{name:X},{name:X}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;3;4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.resize(2) //$c=[1,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=reverse>.reverse()<a href=#reverse class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.reverse( )</strong> : Collection</p>

















<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>逆順に要素を格納した新しいコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-34>説明<a href=#説明-34 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.reverse()</code> 関数は、 全要素が逆順になった、コレクションのディープ・コピーを返します。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-25>例題<a href=#例題-25 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;3;5;2;4;6)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.reverse() //$c2=[6,4,2,5,3,1]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=shift>.shift()<a href=#shift class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.shift()</strong> : any</p>

















<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>戻り値<td>any<td style=text-align:center>&lt;-<td>コレクションの先頭要素</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-35>説明<a href=#説明-35 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.shift()</code> 関数は、 コレクションの先頭要素を取り除き、それを戻り値として返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p>コレクションが空の場合、 関数はなにもしません。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-26>例題<a href=#例題-26 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $val : Variant</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;4;5;6;7;8)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $val:=$c.shift()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $val=1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $c=[2,4,5,6,7,8]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=slice>.slice()<a href=#slice class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>startFrom<td>Integer<td style=text-align:center>-><td>開始インデックス (含まれる)<tr><td>end<td>Integer<td style=text-align:center>-><td>終了インデックス (含まれない)<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>抜粋要素を格納した新しいコレクション(シャロウ・コピー)</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-36>説明<a href=#説明-36 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.slice()</code> 関数は、 コレクションの一部を、新しいコレクションとして返します。抜粋するのは、<em>startFrom</em> の位置 (含まれる) から <em>end</em> の位置 (含まれない) までの要素です。 この関数は <em>シャロウ・コピー</em> を返します。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>戻り値のコレクションには、<em>startFrom</em> 引数で指定した要素 (含まれる) から、<em>end</em> 引数で指定した要素まで (含まれない) の全要素が格納されます。 <em>startFrom</em> 引数のみを渡した場合には、<em>startFrom</em> 引数で指定した要素から最後の要素までが戻り値のコレクションに格納されます。</p>
<ul>
<li><em>startFrom</em> &lt; 0 の場合、<em>startFrom:=startFrom+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。</li>
<li>再計算された値も負の値だった場合、<em>startFrom</em> は 0 に設定されます。</li>
<li><em>end</em> &lt; 0 の場合、それは <em>end:=end+length</em> として再計算されます。</li>
<li>渡された値、あるいは再計算された値が <em>end</em> &lt; <em>startFrom</em> の場合、関数はなにもしません。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-27>例題<a href=#例題-27 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $nc : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;3;4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $nc:=$c.slice(0;3) //$nc=[1,2,3]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $nc:=$c.slice(3) //$nc=[4,5]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $nc:=$c.slice(1;-1) //$nc=[2,3,4]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $nc:=$c.slice(-3;-2) //$nc=[3]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=some>.some()<a href=#some class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.some</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Boolean<br><strong>.some</strong>( <em>startFrom</em> : Integer ; <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Boolean</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>startFrom<td>Integer<td style=text-align:center>-><td>テストを開始するインデックス<tr><td>methodName<td>Text<td style=text-align:center>-><td>テストに呼び出すメソッド名<tr><td>param<td>複合<td style=text-align:center>-><td><em>methodName</em> に渡す引数<tr><td>戻り値<td>Boolean<td style=text-align:center>&lt;-<td>少なくとも一つの要素がテストをパスすれば true</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-37>説明<a href=#説明-37 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.some()</code> 関数は、 少なくとも一つのコレクション要素が、テストにパスした場合に true を返します 。このテストは、<em>methodName</em> に指定したメソッドで実装します。</p>
<p><em>methodName</em> には、コレクション要素の評価に使用するメソッド名を渡します。<em>param</em> には、必要に応じて引数を渡します (任意)。 <em>methodName</em> で指定したメソッドはどんなテストでも実行でき、引数はあってもなくても構いません。 このメソッドは $1 にオブジェクトを受け取り、テストをパスした最初の要素の <em>$1.result</em> を <strong>true</strong> に設定しなければなりません。</p>
<p><em>methodName</em> で指定したメソッドは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 評価する要素の値</li>
<li><em>$2</em>: param</li>
<li><em>$N...</em>: param2...paramN</li>
</ul>
<p><em>methodName</em> で指定したメソッドでは、以下の引数を設定します:</p>
<ul>
<li><em>$1.result</em> (ブール): 要素の値の評価が成功した場合には <strong>true</strong> 、それ以外は <strong>false</strong></li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<p><code>.some()</code> 関数は、<em>$1.result</em> に <strong>true</strong> を返す最初のコレクション要素を発見すると、<em>methodName</em> メソッドの呼び出しをやめて <strong>true</strong> を返します。</p>
<p>デフォルトでは、<code>.some()</code> はコレクション全体をテストします。 オプションとして、<em>startFrom</em> 引数を渡すことで、テストを開始するコレクション要素のインデックスを指定することができます。</p>
<ul>
<li><em>startFrom</em> がコレクションの length 以上だった場合、<strong>false</strong> が返されます。これはコレクションがテストされていないことを意味します。</li>
<li><em>startFrom</em> &lt; 0 の場合には、コレクションの終わりからのオフセットであるとみなされます。</li>
<li><em>startFrom</em> = 0 の場合、コレクション全体がテストされます (デフォルト)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-28>例題<a href=#例題-28 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $b : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(-5;-3;-1;-4;-6;-2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.some("NumberGreaterThan0") // 戻り値は false</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.some("NumberGreaterThan0") // 戻り値は true</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(1;-5;-3;-1;-4;-6;-2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.some("NumberGreaterThan0") //$b=true</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.some(1;"NumberGreaterThan0") //$b=false</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em>NumberGreaterThan0</em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $1.result:=$1.value>0</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=sort>.sort()<a href=#sort class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.sort</strong>() : Collection<br><strong>.sort</strong>( <em>methodName</em> : Text { ; <em>...extraParam</em> : any } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>methodName<td>Text<td style=text-align:center>-><td>並べ替え順の指定に使用するメソッド名<tr><td>extraParam<td>any<td style=text-align:center>-><td>methodName に渡す引数<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>並べ替えられた元のコレクション</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-38>説明<a href=#説明-38 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.sort()</code> 関数は、 コレクションの要素を並べ替えます 。戻り値は並べ替えられた元のコレクションです。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p>引数もなしに呼び出された場合、<code>.sort()</code> はスカラー値 (数値、テキスト、日付、ブール) のみを並べ替えます。 デフォルトでは、要素はそれぞれの型に応じて昇順で並べ替えられます。 コレクションが異なる型の要素を格納している場合、それらはまず型ごとにグループ分けされ、そのあとで並べ替えられます。 型は以下の順番で返されます:</p>
<ol>
<li>null</li>
<li>ブール</li>
<li>文字列</li>
<li>数値</li>
<li>オブジェクト</li>
<li>コレクション</li>
<li>日付</li>
</ol>
<p>カスタマイズされた順番や、型に関係なくコレクション要素を並べ替えたい場合には、二つの値を比較して、最初の値が二つ目の値より低い場合に <em>$1.result</em> に <strong>true</strong> を返す比較メソッドの名称を <em>methodName</em> に渡します。 必要であれば <em>methodName</em> に追加の引数を渡すこともできます。</p>
<ul>
<li><em>methodName</em> で指定したメソッドは以下の引数を受け取ります:
<ul>
<li>$1 (オブジェクト):
<ul>
<li><em>$1.value</em> (任意の型): 比較する一つ目の要素の値</li>
<li><em>$1.value2</em> (任意の型): 比較する二つ目の要素の値</li>
</ul>
</li>
<li>$2...$N (任意の型): 追加の引数</li>
</ul>
</li>
</ul>
<p><em>methodName</em> で指定したメソッドでは、以下の引数を設定します:</p>
<ul>
<li><em>$1.result</em> (ブール): <em>$1.value &lt; $1.value2</em> の場合は <strong>true</strong>、それ以外は <strong>false</strong></li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-13>例題 1<a href=#例題-1-13 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col; $col2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection("Tom";5;"Mary";3;"Henry";1;"Jane";4;"Artie";6;"Chip";2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col2:=$col.sort() // $col2=["Artie","Chip","Henry","Jane","Mary","Tom",1,2,3,4,5,6]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $col=["Artie","Chip","Henry","Jane","Mary","Tom",1,2,3,4,5,6]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-13>例題 2<a href=#例題-2-13 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col; $col2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(10;20)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col2:=$col.push(5;3;1;4;6;2).sort() //$col2=[1,2,3,4,5,6,10,20]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-6>例題 3<a href=#例題-3-6 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col; $col2; $col3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(33;4;66;1111;222)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col2:=$col.sort() // 数値順: [4,33,66,222,1111]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col3:=$col.sort("numberOrder") // アルファベット順: [1111,222,33,4,66]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  // numberOrder プロジェクトメソッド</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $1 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $1.result:=String($1.value)&lt;String($1.value2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=sum>.sum()<a href=#sum class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.sum</strong>( { <em>propertyPath</em> : Text } ) : Real</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>計算に使用するオブジェクトプロパティのパス<tr><td>戻り値<td>Real<td style=text-align:center>&lt;-<td>コレクション要素の値の合計</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-39>説明<a href=#説明-39 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.sum()</code> 関数は、 コレクションインスタンスの全要素の値を合計して返します。</p>
<p>計算の対象となるのは数値のみです (他の型の要素は無視されます)。</p>
<p>コレクションがオブジェクトを格納している場合には、計算するオブジェクトプロパティのパスを <em>propertyPath</em> に渡します。</p>
<p><code>.sum()</code> は以下の場合には 0 を返します:</p>
<ul>
<li>コレクションが空の場合</li>
<li>コレクションに数値が含まれていない場合</li>
<li><em>propertyPath</em> 引数で指定したパスがコレクション内で見つからない場合</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-14>例題 1<a href=#例題-1-14 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $vSum : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(10;20;"Monday";True;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vSum:=$col.sum() //32</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-14>例題 2<a href=#例題-2-14 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $vSum : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"salary";10000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"salary";50000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Gross";"salary";10500,5))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vSum:=$col.sum("salary") //$vSum=70500,5</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=unshift>.unshift()<a href=#unshift class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.unshift</strong>( <em>value</em> : any { ;...<em>valueN</em> : any } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>Text, Number, Object, Collection, Date<td style=text-align:center>-><td>コレクションの先頭に挿入する値<tr><td>戻り値<td>Real<td style=text-align:center>&lt;-<td>要素の追加された元のコレクション<tr><td><td><td style=text-align:center><td></table>
<p>|                                        |    |                  |</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-40>説明<a href=#説明-40 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.unshift()</code> 関数は、 一つ以上の <em>value</em> 引数をコレクションインスタンスの先頭に挿入します 。戻り値は、変更された元のコレクションです。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p>複数の値が渡された場合、それらは一度に挿入されます。つまり、引数の順番と同じ順番で変更後のコレクションに格納されます。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-29>例題<a href=#例題-29 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.unshift(4) // $c=[4,1,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.unshift(5) //$c=[5,4,1,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.unshift(6;7) // $c=[6,7,5,4,1,2]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FCollectionClass.md%20(19)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>このページへコメントする</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label=ドキュメントのナビゲーション><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/ja/19/API/ClassClass><div class=pagination-nav__sublabel>前へ</div><div class=pagination-nav__label>Class</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/ja/19/API/CryptoKeyClass><div class=pagination-nav__sublabel>次へ</div><div class=pagination-nav__label>CryptoKey</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#例題 class="table-of-contents__link toc-highlight">例題</a><li><a href=#概要 class="table-of-contents__link toc-highlight">概要</a><li><a href=#new-collection class="table-of-contents__link toc-highlight"><code>New collection</code></a><li><a href=#new-shared-collection class="table-of-contents__link toc-highlight"><code>New shared collection</code></a><li><a href=#average class="table-of-contents__link toc-highlight">.average()</a><li><a href=#clear class="table-of-contents__link toc-highlight">.clear()</a><li><a href=#combine class="table-of-contents__link toc-highlight">.combine()</a><li><a href=#concat class="table-of-contents__link toc-highlight">.concat()</a><li><a href=#copy class="table-of-contents__link toc-highlight">.copy()</a><li><a href=#count class="table-of-contents__link toc-highlight">.count()</a><li><a href=#countvalues class="table-of-contents__link toc-highlight">.countValues()</a><li><a href=#distinct class="table-of-contents__link toc-highlight">.distinct()</a><li><a href=#equal class="table-of-contents__link toc-highlight">.equal()</a><li><a href=#every class="table-of-contents__link toc-highlight">.every()</a><li><a href=#extract class="table-of-contents__link toc-highlight">.extract()</a><li><a href=#fill class="table-of-contents__link toc-highlight">.fill()</a><li><a href=#filter class="table-of-contents__link toc-highlight">.filter()</a><li><a href=#find class="table-of-contents__link toc-highlight">.find()</a><li><a href=#findindex class="table-of-contents__link toc-highlight">.findIndex()</a><li><a href=#indexof class="table-of-contents__link toc-highlight">.indexOf()</a><li><a href=#indices class="table-of-contents__link toc-highlight">.indices()</a><li><a href=#insert class="table-of-contents__link toc-highlight">.insert()</a><li><a href=#join class="table-of-contents__link toc-highlight">.join()</a><li><a href=#lastindexof class="table-of-contents__link toc-highlight">.lastIndexOf()</a><li><a href=#length class="table-of-contents__link toc-highlight">.length</a><li><a href=#map class="table-of-contents__link toc-highlight">.map()</a><li><a href=#max class="table-of-contents__link toc-highlight">.max()</a><li><a href=#min class="table-of-contents__link toc-highlight">.min()</a><li><a href=#orderby class="table-of-contents__link toc-highlight">.orderBy()</a><li><a href=#orderbymethod class="table-of-contents__link toc-highlight">.orderByMethod()</a><li><a href=#pop class="table-of-contents__link toc-highlight">.pop()</a><li><a href=#push class="table-of-contents__link toc-highlight">.push()</a><li><a href=#query class="table-of-contents__link toc-highlight">.query()</a><li><a href=#reduce class="table-of-contents__link toc-highlight">.reduce()</a><li><a href=#remove class="table-of-contents__link toc-highlight">.remove()</a><li><a href=#resize class="table-of-contents__link toc-highlight">.resize()</a><li><a href=#reverse class="table-of-contents__link toc-highlight">.reverse()</a><li><a href=#shift class="table-of-contents__link toc-highlight">.shift()</a><li><a href=#slice class="table-of-contents__link toc-highlight">.slice()</a><li><a href=#some class="table-of-contents__link toc-highlight">.some()</a><li><a href=#sort class="table-of-contents__link toc-highlight">.sort()</a><li><a href=#sum class="table-of-contents__link toc-highlight">.sum()</a><li><a href=#unshift class="table-of-contents__link toc-highlight">.unshift()</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>コミュニティ</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="col footer__col"><div class=footer__title>サポート</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Documentation download<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (旧ドキュメント)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>ナレッジベース</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>ダウンロード</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>サポートを受ける</a></ul></div><div class="col footer__col"><div class=footer__title>会社概要</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>4D社について</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>コンタクト</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>世界中の4D</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2025 4D SAS - All rights reserved</div></div></div></footer></div>