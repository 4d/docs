<!doctype html><html lang=ja dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-19 docs-doc-page docs-doc-id-WebServer/httpRequests" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>HTTPリクエストの処理 | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/ja/19/WebServer/httpRequests><meta data-rh=true property=og:locale content=ja><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=pt><meta data-rh=true name=docusaurus_locale content=ja><meta data-rh=true name=docsearch:language content=ja><meta data-rh=true name=docusaurus_version content=19><meta data-rh=true name=docusaurus_tag content=docs-default-19><meta data-rh=true name=docsearch:version content=19><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-19><meta data-rh=true property=og:title content="HTTPリクエストの処理 | 4D Docs"><meta data-rh=true name=description content="4D Webサーバーは、HTTPリクエストを処理するための機能を複数備えています:"><meta data-rh=true property=og:description content="4D Webサーバーは、HTTPリクエストを処理するための機能を複数備えています:"><link data-rh=true rel=icon href=/docs/ja/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/ja/19/WebServer/httpRequests><link data-rh=true rel=alternate href=https://developer.4d.com/docs/19/WebServer/httpRequests hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/19/WebServer/httpRequests hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/19/WebServer/httpRequests hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/19/WebServer/httpRequests hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/19/WebServer/httpRequests hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/19/WebServer/httpRequests hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developer.4d.com/docs/ja/19/WebServer/httpRequests","name":"HTTPリクエストの処理","position":1}]}</script><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/ja/opensearch.xml><script src=https://kit.fontawesome.com/daeacc3fc4.js crossorigin=anonymous></script><link rel=stylesheet href=/docs/ja/assets/css/styles.ae3169d2.css><script src=/docs/ja/assets/js/runtime~main.006eefc8.js defer></script><script src=/docs/ja/assets/js/main.955ca695.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/docs/ja/img/logohome.png><div role=region aria-label=メインコンテンツまでスキップ><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>メインコンテンツまでスキップ</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label=ナビゲーションバーの切り替え aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/ja/><div class=navbar__logo><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D ドキュメンテーション</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/ja/19/WebServer/httpRequests>19</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/ja/WebServer/httpRequests>20 R10</a><li><a class=dropdown__link href=/docs/ja/20-R9/WebServer/httpRequests>20 R9</a><li><a class=dropdown__link href=/docs/ja/20/WebServer/httpRequests>20</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/ja/19/WebServer/httpRequests>19</a><li><a class=dropdown__link href=/docs/ja/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>日本語</a><ul class=dropdown__menu><li><a href=/docs/19/WebServer/httpRequests target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/19/WebServer/httpRequests target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/19/WebServer/httpRequests target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/19/WebServer/httpRequests target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=ja>日本語</a><li><a href=/docs/pt/19/WebServer/httpRequests target=_self rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="ダークモードとライトモードを切り替える (現在は system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="検索 (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>検索</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label=トップに戻る class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/ja/><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D ドキュメンテーション</b></a><nav aria-label=Docsサイドバー class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/GettingStarted/installation>はじめに</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Project/overview>プロジェクト管理</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Concepts/about>ランゲージのコンセプト</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/ORDA/overview>ORDA</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/API/overview>クラス API リファレンス</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Preferences/overview>環境設定</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Admin/webAdmin>管理</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Users/overview>アクセス権限</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/MSC/overview>メンテナンス＆セキュリティセンター</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Backup/overview>バックアップと復元</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/WebServer/overview>Web サーバー</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/docs/ja/19/WebServer/gettingStarted>Web 開発</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/WebServer/gettingStarted>はじめに</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/WebServer/templates>テンプレートページ</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/ja/19/WebServer/httpRequests>HTTPリクエストの処理</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/WebServer/allowProject>プロジェクトメソッドの許可</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/WebServer/errorPages>カスタム HTTPエラーページ</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/WebServer/authentication>認証</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/WebServer/sessions>ユーザーセッション</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/19/WebServer/preemptiveWeb>プリエンプティブWebプロセスの使用</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/REST/gettingStarted>REST サーバー</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Desktop/clientServer>クライアント/サーバー</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/FormEditor/forms>Forms</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/FormEditor/jsonReference>フォームプロパティ</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/FormObjects/formObjectsOverview>フォームオブジェクト</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/FormObjects/propertiesReference>フォームオブジェクトプロパティ</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Events/overview>フォームイベント</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Menus/overview>メニュー</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/ja/19/Desktop/building>アプリケーションビルド</a></div></ul></nav><button type=button title=サイドバーを隠す aria-label=サイドバーを隠す class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=パンくずリスト><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label=ホームページ class=breadcrumbs__link href=/docs/ja/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Web 開発</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>HTTPリクエストの処理</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">バージョン: 19</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">このページ上で</button></div><div class="theme-doc-markdown markdown"><header><h1>HTTPリクエストの処理</h1></header><p>4D Webサーバーは、HTTPリクエストを処理するための機能を複数備えています:</p>
<ul>
<li>Webアプリケーションのルーターとなる <code>On Web Connection</code> データベースメソッド。</li>
<li>サーバーサイドコードを呼び出すための <code>/4DACTION</code> URL。</li>
<li>サーバーに送信された HTMLオブジェクトから値を取得する <code>WEB GET VARIABLES</code>。</li>
<li><code>WEB GET HTTP BODY</code>、<code>WEB GET HTTP HEADER</code>、<code>WEB GET BODY PART</code> などのコマンドによって、リクエスト処理をカスタマイズすることができます (cookie 含む)。</li>
<li>変数を宣言するための <em>COMPILER_WEB</em> プロジェクトメソッド。</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=on-web-connection>On Web Connection<a href=#on-web-connection class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p><code>On Web Connection</code> データベースメソッドは、4D Webサーバーのエントリーポイントとして使用できます。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=データベースメソッドの呼び出し>データベースメソッドの呼び出し<a href=#データベースメソッドの呼び出し class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>データベースメソッドは、URL とともに呼び出されます。 データベースメソッドは、URL とともに呼び出されます。</p>
<p>たとえば、"<em>a/b/c</em>" という URL はデータベースメソッドを呼び出しますが、<a href=/docs/ja/19/WebServer/webServerConfig#%E3%83%AB%E3%83%BC%E3%83%88%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%83%BC>WebFolder</a> の "a/b" サブフォルダーに "c.html" というページが存在する場合、"<em>a/b/c.html</em>" はデータベースメソッドを呼び出しません。</p>
<blockquote>
<p>このリクエストは、事前に <a href=/docs/ja/19/WebServer/authentication#on-web-authentication><code>On Web Authentication</code></a> データベースメソッド (あれば) に受け入れられているべきで、Webサーバーも起動している必要があります。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=シンタックス>シンタックス<a href=#シンタックス class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p><strong>On Web Connection</strong>( <em>$1</em> : Text ; <em>$2</em> : Text ; <em>$3</em> : Text ; <em>$4</em> : Text ; <em>$5</em> : Text ; <em>$6</em> : Text )</p>















































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>$1<td>Text<td style=text-align:center>&lt;-<td>URL<tr><td>$2<td>Text<td style=text-align:center>&lt;-<td>HTTPヘッダー + HTTPボディ (32 KBまで)<tr><td>$3<td>Text<td style=text-align:center>&lt;-<td>Webクライアント (ブラウザー) の IPアドレス<tr><td>$4<td>Text<td style=text-align:center>&lt;-<td>サーバーの IPアドレス<tr><td>$5<td>Text<td style=text-align:center>&lt;-<td>ユーザー名<tr><td>$6<td>Text<td style=text-align:center>&lt;-<td>パスワード</table>
<p>これらの引数を以下のように宣言しなければなりません:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// On Web Connection データベースメソッド</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> C_TEXT($1;$2;$3;$4;$5;$6)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// メソッドのコード</span><br></span></code></pre></div></div>
<p>あるいは、<a href=/docs/ja/19/Concepts/parameters#%E5%90%8D%E5%89%8D%E4%BB%98%E3%81%8D%E5%BC%95%E6%95%B0>名前付き引数</a> シンタックスを利用することもできます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// On Web Connection データベースメソッド</span><br></span><span class=token-line style=color:#393A34><span class="token plain">#DECLARE ($url : Text; $header : Text; \</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  $BrowserIP : Text; $ServerIP : Text; \</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  $user : Text; $password : Text)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<blockquote>
<p>インターフェース要素 を表示する 4Dコマンド (<code>DIALOG</code>、<code>ALERT</code> など) の呼び出しは許可されず、メソッドの処理を終了します。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=1---url追加データ>$1 - URL追加データ<a href=#1---url追加データ class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>最初の引数 ($1) は、ユーザーが Webブラウザーのアドレスエリアに入力した URL からホストのアドレスを取り除いたものです。</p>
<p>イントラネット接続の場合を見てみましょう。 4D Webサーバーマシンの IPアドレスを 123.4.567.89 とします。 以下の表は Webブラウザーに入力された URL に対して、$1 が受け取る値を示しています:</p>





























<table><thead><tr><th>Webブラウザーに入力された値<th>$1 の値<tbody><tr><td>123.4.567.89<td>/<tr><td><a href=http://123.45.67.89 target=_blank rel="noopener noreferrer">http://123.45.67.89</a><td>/<tr><td>123.4.567.89/Customers<td>/Customers<tr><td><a href=http://123.45.67.89/Customers/Add target=_blank rel="noopener noreferrer">http://123.45.67.89/Customers/Add</a><td>/Customers/Add<tr><td>123.4.567.89/Do_This/If_OK/Do_That<td>/Do_This/If_OK/Do_That</table>
<p>この引数は必要に応じて自由に利用できます。 4D は単に URL のホスト部より後の部分を無視し、$1 に渡します。 たとえば、値 "<em>/Customers/Add</em>" が "<code>[Customers]</code> テーブルに新規レコードを直接追加する" ということを意味するような、オリジナルのルールを作成できます。 利用可能な値やデフォルトブックマークを Webユーザーに提供することで、アプリケーションの異なる部分へのショートカットを提供できます。 このようにして、Webユーザーは新しく接続するたびにナビゲーションを通過することなく、素早く Webサイトのリソースにアクセスできます。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=2---httpリクエストのヘッダーとボディ>$2 - HTTPリクエストのヘッダーとボディ<a href=#2---httpリクエストのヘッダーとボディ class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>二番目の引数 ($2) は、Webブラウザーから送信された HTTPリクエストのヘッダーとボディです。 この情報は <code>On Web Connection</code> データベースメソッドに "そのまま" 渡されることに留意してください。 その内容は、接続を試みた Webブラウザーの仕様により異なります。</p>
<p>アプリケーションでこの情報を使用するには、開発者がヘッダーとボディを解析しなければなりません。 <code>WEB GET HTTP HEADER</code> や <code>WEB GET HTTP BODY</code> コマンドを使うことができます。</p>
<blockquote>
<p>パフォーマンス上の理由により、$2 を介して渡されるデータのサイズは 32KB 以下でなくてはなりません。 これを超過する分は、4D HTTPサーバーにより切り取られます。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=3---webクライアントの-ipアドレス>$3 - Webクライアントの IPアドレス<a href=#3---webクライアントの-ipアドレス class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>$3 引数はブラウザーマシンの IPアドレスを受け取ります。 この情報を使用して、イントラネットアクセスとインターネットアクセスを区別できます。</p>
<blockquote>
<p>4D は IPv4 アドレスを、96-bit の接頭辞付きのハイブリッド型 IPv6/IPv4 フォーマットで返します。たとえば、::ffff:192.168.2.34 は、192.168.2.34 という IPv4 アドレスを意味します。 詳細については、<a href=/docs/ja/19/WebServer/webServerConfig#IPv6-%E3%81%AE%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6>IPv6 のサポートについて</a> の章を参照ください。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=4---サーバー-ipアドレス>$4 - サーバー IPアドレス<a href=#4---サーバー-ipアドレス class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>$4 引数は 4D Webサーバーによってリクエストされた IPアドレスを受け取ります。 4D はマルチホーミングをサポートしており、複数の IPアドレスを持つマシンを使用できます。 詳細は <a href=/docs/ja/19/WebServer/webServerConfig#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%82%92%E5%8F%97%E3%81%91%E4%BB%98%E3%81%91%E3%82%8B-IP%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9>設定ページ</a> を参照ください。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=5-と-6---ユーザー名とパスワード>$5 と $6 - ユーザー名とパスワード<a href=#5-と-6---ユーザー名とパスワード class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p><code>$5</code> と <code>$6</code> 引数は、ブラウザーが表示する標準の認証ダイアログにユーザーが入力したユーザー名とパスワードを受け取ります (入力されていれば; <a href=/docs/ja/19/WebServer/authentication>認証ページ</a> 参照)。</p>
<blockquote>
<p>ブラウザーから送信されたユーザー名が 4D に存在する場合、$6 引数 (ユーザーパスワード) はセキュリティのため渡されません。</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=4daction>/4DACTION<a href=#4daction class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p><em>/4DACTION/MethodName</em><br> <em>/4DACTION/MethodName/Param</em></p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>MethodName<td>Text<td style=text-align:center>-><td>実行する 4Dプロジェクトメソッド名<tr><td>Param<td>Text<td style=text-align:center>-><td>プロジェクトメソッドに渡されるテキスト引数</table>
<p><strong>利用法</strong>: URL またはフォームアクション</p>
<p>この URL を使用して、任意の <em>Param</em> テキスト引数とともに <em>MethodName</em> に指定した 4Dプロジェクトメソッドを呼び出すことができます。 このメソッドは引数を <em>$1</em> に受け取ります。</p>
<ul>
<li>4Dプロジェクトメソッドは、<a href=/docs/ja/19/WebServer/allowProject>Webリクエスト用に許可</a>されていなければなりません。 メソッドのプロパティで "公開オプション: 4DタグとURL(4DACTION...)" 属性がチェックされている必要があります。 属性がチェックされていない場合、Webリクエストは拒否されます。</li>
<li><code>/4DACTION/MyMethod/Param</code> リクエストを受け取ると、4D は <code>On Web Authentication</code> データベースメソッド (あれば) を呼び出します。</li>
</ul>
<p><code>4DACTION/</code> は、スタティックな Webページの URL に割り当てることもできます:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>A</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>HREF</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>/4DACTION/MyMethod/hello</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Do Something</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>A</span><span class="token tag punctuation" style=color:#393A34>></span><br></span></code></pre></div></div>
<p><code>MyMethod</code> プロジェクトメソッドは通常レスポンスを返すべきです (<code>WEB SEND FILE</code> や <code>WEB SEND BLOB</code> で HTMLページを送信するなど)。 ブラウザーをブロックしないように、処理は可能な限り短時間でおこなわれるようにします。</p>
<blockquote>
<p><code>4DACTION/</code> から呼び出されるメソッドは、インタフェース要素 (<code>DIALOG</code>, <code>ALERT</code> など) を呼び出してはいけません。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題>例題<a href=#例題 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>この例題は、HTMLピクチャーオブジェクトに <code>/4DACTION/</code> URL を割り当て、ページ上でピクチャーを動的に表示する方法を説明しています。 スタティック HTMLページに以下のコードを記述します:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>IMG</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>SRC</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>/4DACTION/getPhoto/smith</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><br></span></code></pre></div></div>
<p><code>getPhoto</code> メソッドは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">C_TEXT($1) // この引数は常に宣言する必要があります</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $path : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $PictVar : Picture</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $BlobVar : Blob</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> // Resources フォルダー内の Images フォルダー内でピクチャーを探します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$path:=Get 4D folder(Current resources folder)+"Images"+Folder separator+$1+".psd"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">READ PICTURE FILE($path;$PictVar) // ピクチャーをピクチャー変数に入れます</span><br></span><span class=token-line style=color:#393A34><span class="token plain">PICTURE TO BLOB($PictVar;$BLOB;".png") // ピクチャーを ".png" 形式に変換します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">WEB SEND BLOB($BLOB;"image/png")</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=4daction-を使用してフォームをポスト>4DACTION を使用してフォームをポスト<a href=#4daction-を使用してフォームをポスト class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<p>4D Webサーバーでは、ポストされたフォームを使用することもできます。 これはスタティックなページから Webサーバーにデータを送信し、すべての値を簡単に取得するというものです。 POSTタイプを使用し、フォームのアクションは /4DACTION/MethodName で始まっていなければなりません。</p>
<p>フォームは 2つのメソッドを使用してサブミットできます (4D では両方のタイプを使用できます):</p>
<ul>
<li>POST は通常 Webサーバーにデータを送信するのに使用します。</li>
<li>GET は通常 Webサーバーからデータをリクエストするのに使用します。</li>
</ul>
<blockquote>
<p>この場合、Webサーバーがポストされたフォームを受信すると、<code>On Web Authentication</code> データベースメソッドが (あれば) 呼び出されます。</p>
</blockquote>
<p>HTMLページからサーバーに送信されたフォームの <a href=#http%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E5%80%A4%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B>フィールド名とフィールド値を取得</a> するには、呼び出されたメソッド内で <code>WEB GET VARIABLES</code> コマンドを使用します。</p>
<p>フォームのアクションを定義する例:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>FORM</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>ACTION</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>/4DACTION/MethodName</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>METHOD</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value" style=color:#e3116c>POST</span><span class="token tag punctuation" style=color:#393A34>></span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1>例題<a href=#例題-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>Webアプリケーションにおいて、スタティックなHTMLページを使い、ブラウザーからレコードを検索できるようにしたいとします。 このページを "search.htm" とします。 アプリケーションには、検索結果を表示するためのスタティックページ ("results.htm") もあるとします。 POSTメソッドと <code>/4DACTION/PROCESSFORM</code> アクションがページに割り当てられています。</p>
<p>以下はこのページの HTMLコードです:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>form</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>action</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>/4daction/processForm</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>method</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value" style=color:#e3116c>POST</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value" style=color:#e3116c>text</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value" style=color:#e3116c>vName</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>value</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>br</span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value" style=color:#e3116c>checkbox</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value" style=color:#e3116c>vExact</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>value</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>Word</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Whole word</span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>br</span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value" style=color:#e3116c>submit</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value" style=color:#e3116c>OK</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>value</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>Search</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>FORM</span><span class="token tag punctuation" style=color:#393A34>></span><br></span></code></pre></div></div>
<p>データ入力エリアに "ABCD" とタイプし、"Whole word (句として検索)" オプションをチェックして <strong>Search</strong> (検索) ボタンをクリックします。 Webサーバーに送信されるリクエスト内部は以下の通りです:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">vName="ABCD"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">vExact="Word"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">OK="Search"</span><br></span></code></pre></div></div>
<p>4D は <code>On Web Authentication</code> データベースメソッドを (あれば) 呼び出し、そして以下の<code>processForm</code> プロジェクトメソッドを呼び出します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> C_TEXT($1) // コンパイルモードの場合必須</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> C_LONGINT($vName)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> C_TEXT(vName;vLIST)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ARRAY TEXT($arrNames;0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ARRAY TEXT($arrVals;0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> WEB GET VARIABLES($arrNames;$arrVals) // フォーム上の変数をすべて取得します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vName:=Find in array($arrNames;"vName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vName:=$arrVals{$vName}</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If(Find in array($arrNames;"vExact")=-1) // オプションがチェックされていない場合</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    vName:=vName+"@"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> QUERY([Jockeys];[Jockeys]Name=vName)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> FIRST RECORD([Jockeys])</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> While(Not(End selection([Jockeys])))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    vLIST:=vLIST+[Jockeys]Name+" "+[Jockeys]Tel+"&lt;br/>"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    NEXT RECORD([Jockeys])</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End while</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> WEB SEND FILE("results.htm") // 検索結果が挿入される results.htm を送信します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // このページには変数 vLIST の参照が含まれています</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // たとえば &lt;!--4DHTML vLIST--> など</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //...</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End if</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=httpリクエストから値を取得する>HTTPリクエストから値を取得する<a href=#httpリクエストから値を取得する class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p>4D Web サーバーでは、Webフォームや URL を介して POST や GET リクエストで送信されたデータを復元することができます。</p>
<p>ヘッダーや URL にデータが含まれたリクエストを Webサーバーが受信すると、4D はそれに含まれる HTMLオブジェクトの値を受け取ることができます。 たとえば <code>WEB SEND FILE</code> コマンドまたは <code>WEB SEND BLOB</code> コマンドで送信され、ユーザーが値を入力・修正して確定ボタンをクリックするような Webフォームにおいてもこの原理は使用可能です。</p>
<p>この場合 4D は <code>WEB GET VARIABLES</code> コマンドを使って、リクエスト内の HTMLオブジェクトの値を取得することができます。 <code>WEB GET VARIABLES</code> コマンドは、値をテキストとして受け取ります。</p>
<p>以下の HTMLページのソースコードがあるとき:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>html</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>head</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>title</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Welcome</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>title</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>script</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>language</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>JavaScript</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token comment" style=color:#999988;font-style:italic>&lt;!--</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>function GetBrowserInformation(formObj){</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>formObj.vtNav_appName.value = navigator.appName</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>formObj.vtNav_appVersion.value = navigator.appVersion</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>formObj.vtNav_appCodeName.value = navigator.appCodeName</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>formObj.vtNav_userAgent.value = navigator.userAgent</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>return true</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>}</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>function LogOn(formObj){</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>if(formObj.vtUserName.value!=""){</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>return true</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>} else {</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>alert("Enter your name, then try again.")</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>return false</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>}</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>}</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>//--></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>script</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>head</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>body</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>form</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>action</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>/4DACTION/WWW_STD_FORM_POST</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>method</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>post</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>frmWelcome</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f> </span><span class="token tag special-attr attr-name" style=color:#00a4db>onsubmit</span><span class="token tag special-attr attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag special-attr attr-value punctuation" style=color:#393A34>"</span><span class="token tag special-attr attr-value value javascript language-javascript keyword control-flow" style=color:#00009f>return</span><span class="token tag special-attr attr-value value javascript language-javascript" style=color:#e3116c> </span><span class="token tag special-attr attr-value value javascript language-javascript function maybe-class-name" style=color:#d73a49>GetBrowserInformation</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style=color:#393A34>(</span><span class="token tag special-attr attr-value value javascript language-javascript" style=color:#e3116c>frmWelcome</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style=color:#393A34>)</span><span class="token tag special-attr attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>h1</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Welcome to Spiders United</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>h1</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>p</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>b</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Please enter your name:</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>b</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>vtUserName</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>value</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>size</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>30</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>text</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>p</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>p</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>vsbLogOn</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>value</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>Log On</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag special-attr attr-name" style=color:#00a4db>onclick</span><span class="token tag special-attr attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag special-attr attr-value punctuation" style=color:#393A34>"</span><span class="token tag special-attr attr-value value javascript language-javascript keyword control-flow" style=color:#00009f>return</span><span class="token tag special-attr attr-value value javascript language-javascript" style=color:#e3116c> </span><span class="token tag special-attr attr-value value javascript language-javascript function maybe-class-name" style=color:#d73a49>LogOn</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style=color:#393A34>(</span><span class="token tag special-attr attr-value value javascript language-javascript" style=color:#e3116c>frmWelcome</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style=color:#393A34>)</span><span class="token tag special-attr attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>submit</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>vsbRegister</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>value</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>Register</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>submit</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>vsbInformation</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>value</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>Information</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>submit</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>p</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>p</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>vtNav_appName</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>value</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>hidden</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>vtNav_appVersion</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>value</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>hidden</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>vtNav_appCodeName</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>value</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>hidden</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>vtNav_userAgent</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>value</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>hidden</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>p</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>form</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>body</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>html</span><span class="token tag punctuation" style=color:#393A34>></span><br></span></code></pre></div></div>
<p>4D が Webブラウザーにページを送信すると、以下のように表示されます:</p>
<p><img decoding=async loading=lazy src=/docs/ja/assets/images/spiders-0e4915c8e3496e1dd10f0b15a4319274.png width=446 height=156 class=img_ev3q></p>
<p>このページの主な特徴は:</p>
<ul>
<li>送信のための <strong>Submit</strong> ボタンが 3つあります: <code>vsbLogOn</code>, <code>vsbRegister</code> そして <code>vsbInformation</code>。</li>
<li><strong>Log On</strong> をクリックすると、フォームからの送信はまず初めに JavaScript関数 <code>LogOn</code> によって処理されます。 名前が入力されていない場合、フォームは 4Dに送信すらされず、JavaScript による警告が表示されます。</li>
<li>フォームは POST 4Dメソッドに加えて、ブラウザープロパティを <em>vtNav_App</em> から始まる名称の 4つの隠しオブジェクトへとコピーする投稿スクリプト (<em>GetBrowserInformation</em>) を持っています。 また、このページには <code>vtUserName</code> オブジェクトも含まれます。</li>
</ul>
<p>ユーザーが HTMLフォーム上のボタンのどれかをクリックした際に呼び出される <code>WWW_STD_FORM_POST</code> という 4Dメソッドを検証してみましょう。</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  // 変数の値を取得します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ARRAY TEXT($arrNames;0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ARRAY TEXT($arrValues;0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> WEB GET VARIABLES($arrNames;$arrValues)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> C_LONGINT($user)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // Log On ボタンがクリックされた場合</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :(Find in array($arrNames;"vsbLogOn")#-1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       $user :=Find in array($arrNames;"vtUserName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       QUERY([WWW Users];[WWW Users]UserName=$arrValues{$user})</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       $0:=(Records in selection([WWW Users])>0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       If($0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">          WWW POST EVENT("Log On";WWW Log information)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // WWW POST EVENT メソッドが情報をデータベースのテーブルに保存します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       Else</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">          $0:=WWW Register</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // WWW Register メソッドは新規 Webユーザーの登録を処理します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // Register ボタンがクリックされた場合</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :(Find in array($arrNames;"vsbRegister")#-1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       $0:=WWW Register</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // Information ボタンがクリックされた場合</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :(Find in array($arrNames;"vsbInformation")#-1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       WEB SEND FILE("userinfos.html")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre></div></div>
<p>このメソッドの機能は:</p>
<ul>
<li>変数 <em>vtNav_appName</em>, <em>vtNav_appVersion</em>, <em>vtNav_appCodeName</em>, そして <em>vtNav_userAgent</em> の値 (同じ名前を持つ HTMLオブジェクトにそれぞれバインドされています) は 、<code>WEB GET VARIABLES</code> コマンドを使用することによって JavaScript のスクリプト <em>GetBrowserInformation</em> で作成された HTMLオブジェクトから取得することができます。</li>
<li>3つの投稿ボタンにバインドされている変数 <em>vsbLogOn</em>, <em>vsbRegister</em> と <em>vsbInformation</em> のうち、クリックされたボタンに対応するもののみが <code>WEB GET VARIABLES</code> コマンドによって取得されます。 この 3つのうちいずれかのボタンによって投稿がおこなわれたとき、ブラウザーはクリックされたボタンの値を 4D に返します。 これにより、どのボタンがクリックされたのかが分かります。</li>
</ul>
<p>HTMLではすべてのオブジェクトがテキストオブジェクトであることに留意が必要です。 SELECT要素を使用した場合、 <code>WEB GET VARIABLES</code> コマンドで返されるのはオブジェクト内でハイライトされている要素の値であり、4D のように配列内の要素の位置を返すわけではありません。 <code>WEB GET VARIABLES</code> コマンドは必ずテキスト型の値を返します。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=その他の-webサーバーコマンド>その他の Webサーバーコマンド<a href=#その他の-webサーバーコマンド class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p>4D Webサーバーには、リクエストの処理をカスタマイズするための、低レベル Webコマンドがいくつか用意されています。</p>
<ul>
<li><code>WEB GET HTTP BODY</code> コマンドは、ボディをそのままの状態でテキストとして返します。</li>
<li><code>WEB GET HTTP HEADER</code> コマンドは、リクエストのヘッダーを返します。 カスタムcookie などを処理するのに便利です (<code>WEB SET HTTP HEADER</code> コマンドも使用できます)。</li>
<li><code>WEB GET BODY PART</code> と <code>WEB Get body part count</code> コマンドは、マルチパートリクエストのボディパートを解析して、テキスト値を取得するだけでなく、ポストされたファイルもBLOBに取得します。</li>
</ul>
<p>これらのコマンドは次の図にまとめられています:</p>
<p><img decoding=async loading=lazy src=/docs/ja/assets/images/httpCommands-f0f40e81d3278591838e7c262365beb9.png width=676 height=374 class=img_ev3q></p>
<p>4D Webサーバーは、どの Webクライアントからでもチャンクド・エンコーディングでアップロードされたファイルをサポートするようになりました。 チャンクド・エンコーディングは HTTP/1.1 にて定義されているデータ転送方式です。 これを使用することにより、最終的なデータサイズを知る事なく、データを複数の "チャンク" (部分) に分けて転送することができます。 4D Webサーバーでは、サーバーから Webクライアントへのチャンクド・エンコーディングもサポートしています (<code>WEB SEND RAW DATA</code> を使用します)。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=compiler_web-プロジェクトメソッド>COMPILER_WEB プロジェクトメソッド<a href=#compiler_web-プロジェクトメソッド class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p>COMPILER_WEB メソッドが存在する場合、それは HTTPサーバーが動的なリクエストを受け取り、4Dエンジンを呼び出した場合に、システムを通して呼び出されます。 これはたとえば 4D Webサーバーが、ポストされたフォーム、または処理すべき URL を <a href=#on-web-connection><code>On Web Connection</code></a> に受け取る場合が該当します。 このメソッドは Web通信時に使用される型指定または変数初期化指示子を含めることを目的としています。 これはデータベースのコンパイル時にコンパイラーによって使用されます。 COMPILER_WEB メソッドはすべての Webフォームで共通です。 デフォルトでは、COMPILER_WEB メソッドは存在しません。 明示的に作成する必要があります。</p>
<blockquote>
<p>COMPILER_WEB プロジェクトメソッドは (存在すれば)、SOAPリクエストが受け入れられるごとに実行されます。</p>
</blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20WebServer%2FhttpRequests.md%20(19)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>このページへコメントする</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label=ドキュメントのナビゲーション><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/ja/19/WebServer/templates><div class=pagination-nav__sublabel>前へ</div><div class=pagination-nav__label>テンプレートページ</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/ja/19/WebServer/allowProject><div class=pagination-nav__sublabel>次へ</div><div class=pagination-nav__label>プロジェクトメソッドの許可</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#on-web-connection class="table-of-contents__link toc-highlight">On Web Connection</a><ul><li><a href=#データベースメソッドの呼び出し class="table-of-contents__link toc-highlight">データベースメソッドの呼び出し</a><li><a href=#シンタックス class="table-of-contents__link toc-highlight">シンタックス</a><li><a href=#1---url追加データ class="table-of-contents__link toc-highlight">$1 - URL追加データ</a><li><a href=#2---httpリクエストのヘッダーとボディ class="table-of-contents__link toc-highlight">$2 - HTTPリクエストのヘッダーとボディ</a><li><a href=#3---webクライアントの-ipアドレス class="table-of-contents__link toc-highlight">$3 - Webクライアントの IPアドレス</a><li><a href=#4---サーバー-ipアドレス class="table-of-contents__link toc-highlight">$4 - サーバー IPアドレス</a><li><a href=#5-と-6---ユーザー名とパスワード class="table-of-contents__link toc-highlight">$5 と $6 - ユーザー名とパスワード</a></ul><li><a href=#4daction class="table-of-contents__link toc-highlight">/4DACTION</a><ul><li><a href=#4daction-を使用してフォームをポスト class="table-of-contents__link toc-highlight">4DACTION を使用してフォームをポスト</a></ul><li><a href=#httpリクエストから値を取得する class="table-of-contents__link toc-highlight">HTTPリクエストから値を取得する</a><li><a href=#その他の-webサーバーコマンド class="table-of-contents__link toc-highlight">その他の Webサーバーコマンド</a><li><a href=#compiler_web-プロジェクトメソッド class="table-of-contents__link toc-highlight">COMPILER_WEB プロジェクトメソッド</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>コミュニティ</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>サポート</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Documentation download<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (旧ドキュメント)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>ナレッジベース</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>ダウンロード</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>サポートを受ける</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>会社概要</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>4D社について</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>コンタクト</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>世界中の4D</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2025 4D SAS - All rights reserved</div></div></div></footer></div>