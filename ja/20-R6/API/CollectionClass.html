<!doctype html><html lang=ja dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20-R6 docs-doc-page docs-doc-id-API/CollectionClass" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Collection | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/ja/20-R6/API/CollectionClass><meta data-rh=true property=og:locale content=ja><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=pt><meta data-rh=true name=docusaurus_locale content=ja><meta data-rh=true name=docsearch:language content=ja><meta data-rh=true name=docusaurus_version content=20-R6><meta data-rh=true name=docusaurus_tag content=docs-default-20-R6><meta data-rh=true name=docsearch:version content=20-R6><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20-R6><meta data-rh=true property=og:title content="Collection | 4D Docs"><meta data-rh=true name=description content="Collectionクラスは コレクション 型の変数を扱います。"><meta data-rh=true property=og:description content="Collectionクラスは コレクション 型の変数を扱います。"><link data-rh=true rel=icon href=/docs/ja/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/ja/20-R6/API/CollectionClass><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R6/API/CollectionClass hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/20-R6/API/CollectionClass hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/20-R6/API/CollectionClass hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/20-R6/API/CollectionClass hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/20-R6/API/CollectionClass hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R6/API/CollectionClass hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/ja/opensearch.xml><link rel=stylesheet href=/docs/ja/assets/css/styles.eef951bf.css><script src=/docs/ja/assets/js/main.64e5a4b8.js defer></script><script src=/docs/ja/assets/js/runtime~main.e7d1734d.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label=メインコンテンツまでスキップ><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>メインコンテンツまでスキップ</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label=ナビゲーションバーの切り替え aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/ja/><div class=navbar__logo><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D ドキュメンテーション</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/ja/20-R6/API/CollectionClass>20 R6</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/ja/API/CollectionClass>20 R7</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/ja/20-R6/API/CollectionClass>20 R6</a><li><a class=dropdown__link href=/docs/ja/20/API/CollectionClass>20</a><li><a class=dropdown__link href=/docs/ja/19/API/CollectionClass>19</a><li><a class=dropdown__link href=/docs/ja/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>日本語</a><ul class=dropdown__menu><li><a href=/docs/20-R6/API/CollectionClass rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/20-R6/API/CollectionClass rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/20-R6/API/CollectionClass rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/20-R6/API/CollectionClass rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=ja>日本語</a><li><a href=/docs/pt/20-R6/API/CollectionClass rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="ダークモードとライトモードを切り替える (現在は ライトモード)" aria-label="ダークモードとライトモードを切り替える (現在は ライトモード)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="検索 (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>検索</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label=トップに戻る class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/ja/><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/ja/img/logohome.png alt="4D ロゴ" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D ドキュメンテーション</b></a><nav aria-label=Docsサイドバー class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/ja/20-R6/category/getting-started>はじめに</a><button aria-label="サイドバーのカテゴリ 'はじめに ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/ja/20-R6/category/core-development>コア開発</a><button aria-label="サイドバーのカテゴリ 'コア開発 ' を閉じる" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/ja/20-R6/Project/overview>プロジェクト管理</a><button aria-label="サイドバーのカテゴリ 'プロジェクト管理 ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/ja/20-R6/Project/code-overview>開発環境</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/ja/20-R6/ORDA/overview>ORDA</a><button aria-label="サイドバーのカテゴリ 'ORDA ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/docs/ja/20-R6/Concepts/about>ランゲージ</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/ja/20-R6/Concepts/about>コンセプト</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a href=https://doc.4d.com/4Dv20R6/4D/20-R6/4D-Language-Reference.100-6957482.en.html target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex=0>コマンド<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/ja/20-R6/category/class-API-reference>クラス</a><button aria-label="サイドバーのカテゴリ 'クラス ' を閉じる" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/overview>クラス関数について</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/BlobClass>BLOB</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/ClassClass>Class</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/ja/20-R6/API/CollectionClass>Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/CryptoKeyClass>CryptoKey</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/DataClassClass>DataClass</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/DataStoreClass>DataStore</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/EmailObjectClass>Email</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/EntityClass>Entity</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/EntitySelectionClass>EntitySelection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/FileClass>File</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/FileHandleClass>FileHandle</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/FolderClass>Folder</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/FunctionClass>Function</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/HTTPAgentClass>HTTPAgent</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/HTTPRequestClass>HTTPRequest</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/IMAPTransporterClass>IMAPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/MailAttachmentClass>MailAttachment</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/POP3TransporterClass>POP3Transporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/SessionClass>Session</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/SignalClass>Signal</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/SMTPTransporterClass>SMTPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/SystemWorkerClass>SystemWorker</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/WebFormClass>WebForm</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/WebFormItemClass>WebFormItem</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/WebServerClass>WebServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/WebSocketClass>WebSocket</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/WebSocketConnectionClass>WebSocketConnection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/WebSocketServerClass>WebSocketServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/ZipArchiveClass>ZIPArchive</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/ZipFileClass>ZIPFile</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/API/ZipFolderClass>ZIPFolder</a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/ja/20-R6/Develop/processes>プロセス</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/ja/20-R6/Tags/transformation-tags>変換タグ</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/ja/20-R6/Preferences/overview>環境設定</a><button aria-label="サイドバーのカテゴリ '環境設定 ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/ja/20-R6/category/administration>管理</a><button aria-label="サイドバーのカテゴリ '管理 ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/ja/20-R6/Extensions/overview>拡張機能</a><button aria-label="サイドバーのカテゴリ '拡張機能 ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/ja/20-R6/category/web-applications>Web アプリ</a><button aria-label="サイドバーのカテゴリ 'Web アプリ ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/ja/20-R6/category/desktop-applications>デスクトップアプリ</a><button aria-label="サイドバーのカテゴリ 'デスクトップアプリ ' を開く" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a href=https://developer.4d.com/go-mobile/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false>モバイルアプリ</a></div></ul></nav><button type=button title=サイドバーを隠す aria-label=サイドバーを隠す class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=パンくずリスト><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label=ホームページ class=breadcrumbs__link href=/docs/ja/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/ja/20-R6/category/core-development><span itemprop=name>コア開発</span></a><meta itemprop=position content=1><li class=breadcrumbs__item><span class=breadcrumbs__link>ランゲージ</span><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/ja/20-R6/category/class-API-reference><span itemprop=name>クラス</span></a><meta itemprop=position content=3><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Collection</span><meta itemprop=position content=4></ul></nav><span class="theme-doc-version-badge badge badge--secondary">バージョン: 20 R6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">このページ上で</button></div><div class="theme-doc-markdown markdown"><header><h1>Collection</h1></header><p>Collectionクラスは <a href=/docs/ja/20-R6/Concepts/collection>コレクション</a> 型の変数を扱います。</p>
<p>コレクションは次のように初期化します:</p>














<table><thead><tr><th><tbody><tr><td><a href=#new-collection><strong>New collection</strong> {( <em>...value</em> : any )} : Collection</a><br>空の、あるいは値の入った新規コレクションを作成し、その参照を返します<tr><td><a href=#new-shared-collection><strong>New shared collection</strong> {( <em>...value</em> : any )} : Collection</a><br>空の、あるいは値が入った新規コレクションを作成し、その参照を返します</table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題>例題<a href=#例題 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $colVar : Collection // コレクション型の 4D変数の宣言</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $colVar:=New collection // コレクションの初期化と 4D変数への代入</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=概要>概要<a href=#概要 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h3>





















































































































































<table><thead><tr><th><tbody><tr><td><a href=#at><strong>.at</strong>( <em>index</em> : Integer ) : any </a><br><em>index</em> の位置にある要素を返します (<em>index</em> は正負の整数)<tr><td><a href=#average><strong>.average</strong>( {<em>propertyPath</em> : Text } ) : Real</a><br>コレクションインスタンス内で定義されている値の算術平均を返します<tr><td><a href=#clear><strong>.clear()</strong> : Collection</a><br>コレクションインスタンス内の全要素を削除し、空のコレクションを返します<tr><td><a href=#combine><strong>.combine</strong>( <em>col2</em> : Collection {; <em>index</em> : Integer } ) : Collection</a><br>コレクションインスタンスの最後、あるいは <em>index</em> で指定した位置に <em>col2</em> の要素を挿入し、変更された元のコレクションを返します<tr><td><a href=#concat><strong>.concat</strong>( <em>value</em> : any { <em>;...valueN</em> } ) : Collection</a><br><em>value</em> に指定した要素を元のコレクションの最後に追加した、新しいコレクションを返します<tr><td><a href=#copy><strong>.copy</strong>() : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ) : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ; <em>groupWithCol</em> : Collection ) : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ; <em>groupWithObj</em> : Object ) : Collection</a><br> コレクションインスタンスのディープ・コピーを返します<tr><td><a href=#count><strong>.count</strong>( { <em>propertyPath</em> : Text } ) : Real</a><br>コレクション内の、null ではない要素の個数を返します<tr><td><a href=#countvalues><strong>.countValues</strong>( <em>value</em> : any {; <em>propertyPath</em> : Text } ) : Real</a><br><em>value</em> 引数に指定した値がコレクション内において見つかった回数を返します<tr><td><a href=#distinct><strong>.distinct</strong>( {<em>options</em> : Integer} ) : Collection<br><strong>.distinct</strong>( <em>propertyPath</em> : Text {; <em>options</em> : Integer } ) : Collection</a><br>元のコレクションから重複しない (異なる) 値のみを格納した新しいコレクションを返します<tr><td><a href=#equal><strong>.equal</strong>( <em>collection2</em> : Collection {; <em>option</em> : Integer } ) : Boolean</a><br>コレクションの内容と <em>collection2</em> を再帰的に比較し (ディープ比較)、同一であれば <strong>true</strong> を返します<tr><td><a href=#every><strong>.every</strong>( { <em>startFrom</em> : Integer ; } <em>formula</em> : 4D.Function { ;<em>...param</em> : any } ) : Boolean<br><strong>.every</strong>( { <em>startFrom</em> : Integer ; } <em>methodName</em> : Text { ;<em>...param</em> : any } ) : Boolean</a><br>コレクション内の全要素が、<em>formula</em> オブジェクトまたは <em>methodName</em> に指定したメソッドで実装されたテストにパスした場合には <strong>true</strong> を返します<tr><td><a href=#extract><strong>.extract</strong>( <em>propertyPath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>propertyPath</em> : Text ;  <em>targetPath</em> : Text  { ;...<em>propertyPathOrTargetPathN</em> : Text } ) : Collection</a><br>元のオブジェクトのコレクションから、<em>propertyPath</em> 引数が指定するプロパティ値を抽出し、新しいコレクションに格納して返します<tr><td><a href=#fill><strong>.fill</strong>( <em>value</em> : any ) : Collection<br><strong>.fill</strong>( <em>value</em> : any ;  <em>startFrom</em>  : Integer { ; <em>end</em> : Integer } ) : Collection</a><br>コレクションを <em>value</em> 引数の値で満たし、同コレクションを返します。オプションとして、<em>startFrom</em> および <em>end</em> インデックスを渡して代入開始位置および終了位置を指定することもできます<tr><td><a href=#filter><strong>.filter</strong>( <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : Collection<br><strong>.filter</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Collection</a><br>元のコレクション要素のうち、<em>formula</em> または <em>methodName</em>　の結果が <strong>true</strong> になる要素をすべて格納した新しいコレクションを返します<tr><td><a href=#find><strong>.find</strong>( { <em>startFrom</em> : Integer ; }  <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : any<br><strong>.find</strong>( { <em>startFrom</em> : Integer ; }  <em>methodName</em> : Text { ; <em>...param</em> : any } ) : any</a><br><em>formula</em> 引数のフォーミュラまたは <em>methodName</em> 引数のメソッドを各コレクション要素に適用して、<strong>true</strong> を返す最初の要素を返します<tr><td><a href=#find><strong>.findIndex</strong>( { <em>startFrom</em> : Integer ; }  <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : Integer<br><strong>.findIndex</strong>( { <em>startFrom</em> : Integer ; }  <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Integer</a><br><em>formula</em> 引数のフォーミュラまたは <em>methodName</em> 引数のメソッドを各コレクション要素に適用して、<strong>true</strong> を返す最初の要素のインデックスを返します<tr><td><a href=#first><strong>.first</strong>() : any </a><br>コレクションの先頭要素を返します<tr><td><a href=#flat><strong>.flat</strong>( { <em>depth</em> : Integer } ) : Collection</a><br><em>depth</em> に指定した階層の深さまで、すべてのサブコレクション要素を再帰的に連結した新しいコレクションを作成します<tr><td><a href=#flatMap><strong>.flatMap</strong>( <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : Collection<br><strong>.flatMap</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Collection </a><br>元のコレクションの各要素に対して <em>formula</em> または <em>methodName</em> を呼び出した結果に基づき、1レベルのネストが解除された新しいコレクションを作成します<tr><td><a href=#includes><strong>.includes</strong>( <em>toSearch</em> : expression { ; <em>startFrom</em> : Integer } ) : Boolean</a><br><em>toSearch</em> に指定した式がコレクション内で見つかれば <strong>true</strong> を、そうでなければ <strong>false</strong> を返します<tr><td><a href=#indexof><strong>.indexOf</strong>(  <em>toSearch</em> : expression { ; <em>startFrom</em> : Integer } ) : Integer </a><br> <em>toSearch</em> 引数の式をコレクション要素の中から検索し、最初に見つかった要素のインデックス (見つからなかった場合には -1) を返します<tr><td><a href=#indices><strong>.indices</strong>(  <em>queryString</em> : Text { ; <em>...value</em> : any } ) : Collection </a><br><em>queryString</em> 引数の検索条件に合致する、元のコレクション要素のインデックスを返します<tr><td><a href=#insert><strong>.insert</strong>( <em>index</em> : Integer ; <em>element</em> : any ) : Collection </a><br><em>index</em> で指定したコレクションインスタンスの位置に <em>element</em> 要素を挿入し、変更された元のコレクションを返します<tr><td><a href=#join><strong>.join</strong>( <em>delimiter</em> : Text { ; <em>option</em> : Integer } ) : Text </a><br><em>delimiter</em> に渡した文字列を区切り文字として、コレクションの全要素を一つの文字列につなげます<tr><td><a href=#last><strong>.last</strong>() : any </a><br>コレクションの最後の要素を返します<tr><td><a href=#lastindexof><strong>.lastIndexOf</strong>( <em>toSearch</em> : expression { ; <em>startFrom</em> : Integer } ) : Integer </a><br> toSearch 引数の式をコレクション要素の中から検索し、最後に見つかった要素のインデックス (見つからなかった場合には -1) を返します<tr><td><a href=#length><strong>.length</strong> : Integer</a><br>コレクション内の要素数を返します<tr><td><a href=#map><strong>.map</strong>( <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : Collection<br><strong>.map</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Collection </a><br>元のコレクションの各要素に対して <em>formula</em> または <em>methodName</em> を呼び出した結果に基づいた、新しいコレクションを作成します<tr><td><a href=#max><strong>.max</strong>( { <em>propertyPath</em> : Text } ) : any </a><br>コレクション内の最大値を持つ要素を返します<tr><td><a href=#min><strong>.min</strong>( { <em>propertyPath</em> : Text } ) : any </a><br>コレクション内の最小値を持つ要素を返します<tr><td><a href=#multisort><strong>.multiSort</strong>() : Collection<br><strong>.multiSort</strong>( <em>colsToSort</em> : Collection ) : Collection<br><strong>.multiSort</strong>( <em>formula</em> : 4D.Function ; <em>colsToSort</em> : Collection ) : Collection</a><br>複数のコレクションに対して複数レベルの同期ソートを実行します<tr><td><a href=#orderby><strong>.orderBy</strong>( ) : Collection<br><strong>.orderBy</strong>( <em>pathStrings</em> : Text ) : Collection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : Collection<br><strong>.orderBy</strong>( <em>ascOrDesc</em> : Integer ) : Collection </a><br>コレクションの要素を指定順に並べ替えた新しいコレクションを返します<tr><td><a href=#orderbymethod><strong>.orderByMethod</strong>( <em>formula</em> : 4D.Function { ; ...<em>extraParam</em> : expression } ) : Collection<br><strong>.orderByMethod</strong>( <em>methodName</em> : Text { ; ...<em>extraParam</em> : expression } ) : Collection</a><br><em>formula</em> または <em>methodName</em> によって定義された順番でコレクション要素を並べ替えた新しいコレクションを返します<tr><td><a href=#pop><strong>.pop()</strong> : any </a><br>コレクションから最後の要素を取り除き、それを戻り値として返します<tr><td><a href=#push><strong>.push</strong>( <em>element</em> : any { ;...<em>elementN</em> } ) : Collection </a><br>一つ以上の <em>element</em> 引数をコレクションインスタンスの最後に追加し、変更された元のコレクションを返します<tr><td><a href=#query><strong>.query</strong>( <em>queryString</em> : Text ) : Collection<br><strong>.query</strong>( <em>queryString</em> : Text ; <em>...value</em> : any ) : Collection<br><strong>.query</strong>( <em>queryString</em> : Text ; <em>querySettings</em> : Object ) : Collection </a><br>検索条件に合致するオブジェクトコレクションの要素をすべて返します<tr><td><a href=#reduce><strong>.reduce</strong>( <em>formula</em> : 4D.Function { ; <em>initValue</em> : any { ; <em>...param</em> : expression }} ) : any<br><strong>.reduce</strong>( <em>methodName</em> : Text { ; <em>initValue</em> : any { ; <em>...param</em> : expression }} ) : any </a><br><em>formula</em> または <em>methodName</em> コールバックをアキュムレーターおよびコレクションの各要素に (左から右へ) 適用して、単一の値にまとめます<tr><td><a href=#reduceRight><strong>.reduceRight</strong>( <em>formula</em> : 4D.Function { ; <em>initValue</em> : any { ; <em>...param</em> : expression }} ) : any<br><strong>.reduceRight</strong>( <em>methodName</em> : Text { ; <em>initValue</em> : any { ; <em>...param</em> : expression }} ) : any </a><br><em>formula</em> または <em>methodName</em> コールバックをアキュムレーターおよびコレクションの各要素に (右から左へ) 適用して、単一の値にまとめます<tr><td><a href=#remove><strong>.remove</strong>( <em>index</em> : Integer { ; <em>howMany</em> : Integer } ) : Collection </a><br><em>index</em> で指定した位置から一つまた複数のコレクション要素を削除し、変更されたコレクションを返します<tr><td><a href=#resize><strong>.resize</strong>( <em>size</em> : Integer { ; <em>defaultValue</em> : any } ) : Collection </a><br>コレクションの length を引数で指定されたサイズに設定し、変更された元のコレクションを返します<tr><td><a href=#reverse><strong>.reverse( )</strong> : Collection </a><br>全要素が逆順になった、コレクションのディープ・コピーを返します<tr><td><a href=#shift><strong>.shift()</strong> : any</a><br>コレクションの先頭要素を取り除き、それを戻り値として返します<tr><td><a href=#slice><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : Collection</a><br>コレクションの一部を、新しいコレクションの中に返します<tr><td><a href=#some><strong>.some</strong>( { <em>startFrom</em> : Integer ; } <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : Boolean<br><strong>.some</strong>( { <em>startFrom</em> : Integer ; } <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Boolean</a><br>少なくとも一つのコレクション要素が、<em>formula</em> または <em>methodName</em> のコードで実装されたテストにパスした場合に <strong>true</strong> を返します<tr><td><a href=#sort><strong>.sort</strong>() : Collection<br><strong>.sort</strong>( <em>formula</em> : 4D.Function { ; <em>...extraParam</em> : any } ) : Collection<br><strong>.sort</strong>( <em>methodName</em> : Text { ; <em>...extraParam</em> : any } ) : Collection </a><br>コレクションの要素を並べ替え、並べ替えられた元のコレクションを返します<tr><td><a href=#sum><strong>.sum</strong>( { <em>propertyPath</em> : Text } ) : Real</a><br>コレクションインスタンスの全要素の値を合計して返します<tr><td><a href=#unshift><strong>.unshift</strong>( <em>value</em> : any { ;...<em>valueN</em> : any } ) : Collection</a><br>一つ以上の <em>value</em> 引数をコレクションインスタンスの先頭に挿入し、変更された元のコレクションを返します</table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=new-collection><code>New collection</code><a href=#new-collection class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<p><strong>New collection</strong> {( <em>...value</em> : any )} : Collection</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>Number, Text, Date, Time, Boolean, Object, Collection, Picture, Pointer<td style=text-align:center>-><td>コレクションの値<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>新規のコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明>説明<a href=#説明 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>New collection</code> コマンドは、空の、あるいは値の入った新規コレクションを作成し、その参照を返します。</p>
<p>引数を渡さなかった場合、<code>New collection</code> は空のコレクションを作成し、その参照を返します。</p>
<p>返された参照は、コレクション型の 4D変数に代入する必要があります。</p>
<blockquote>
<p><code>var : Collection</code> や <code>C_COLLECTION</code> ステートメントはコレクション型の変数を宣言しますが、コレクション自体は作成しないという点に注意してください。</p>
</blockquote>
<p>任意で、一つ以上の <em>value</em> 引数を渡すことで、あらかじめ値の入った新しいコレクションを作成することができます。</p>
<p>または、あとから代入によって要素を一つずつ追加・編集していくことができます。 例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> myCol[10]:="My new element"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>コレクションの最終要素を超える要素番号 (インデックス) を指定した場合、コレクションは自動的にリサイズされ、合い間の要素にはすべて <strong>null</strong> 値が割り当てられらます。</p>
<p>サポートされている型 (数値、テキスト、日付、ピクチャー、ポインター、オブジェクト、コレクション等) であれば、個数に制限なく値を渡すことができます。 配列とは異なり、コレクションでは異なる型のデータを混ぜることができます。</p>
<p>ただし以下の変換問題については注意する必要があります:</p>
<ul>
<li>渡されたポインターは、そのまま保存されます。ポインターは <code>JSON Stringify</code> コマンドを使用することで評価されます。</li>
<li>日付は、"dates inside objects" データベース設定に応じて、"yyyy-mm-dd" という日付、または "YYYY-MM-DDTHH:mm:ss.SSSZ" というフォーマットの文字列で保存されます。 コレクションに保存する前に 4D日付をテキストに変換した場合、プログラムはデフォルトでローカルのタイムゾーンを使用します。 このふるまいは <code>SET DATABASE PARAMETER</code> コマンドで <code>Dates inside objects</code> セレクターを使用することで変更可能です。</li>
<li>時間を渡した場合、それはミリ秒の数 (実数) として保存されます。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1>例題 1<a href=#例題-1 class=hash-link aria-label=見出しへの直接�リンク title=見出しへの直接リンク>​</a></h4>
<p>新しい空のコレクションを作成し、それを 4Dコレクション変数に代入します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $myCol : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $myCol:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $myCol=[]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2>例題 2<a href=#例題-2 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>あらかじめ値の入ったコレクションを作成します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $filledColl : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $filledColl:=New collection(33;"mike";"november";->myPtr;Current date)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $filledColl=[33,"mike","november","->myPtr","2017-03-28T22:00:00.000Z"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3>例題 3<a href=#例題-3 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>新しいコレクションを作成し、そこに新しい要素を追加します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $coll : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $coll:=New collection("a";"b";"c")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $coll=["a","b","c"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $coll[9]:="z" // 値 "z" を10番目の要素として追加します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vcolSize:=$coll.length // 10</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $coll=["a","b","c",null,null,null,null,null,null,"z"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=new-shared-collection><code>New shared collection</code><a href=#new-shared-collection class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>New shared collection</strong> {( <em>...value</em> : any )} : Collection</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>Number, Text, Date, Time, Boolean, Object, Collection<td style=text-align:center>-><td>共有コレクションの値<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>新規の共有コレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-1>説明<a href=#説明-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>New shared collection</code> コマンドは、空の、あるいは値が入った新規コレクションを作成し、その参照を返します。</p>
<p>このコレクションに要素を追加する場合には <a href=/docs/ja/20-R6/Concepts/shared#useend-use>Use...End use</a> 構造でくくる必要があり、そうしない場合にはエラーが返されます。ただし、<a href=#push><code>push()</code></a> や <a href=#map><code>map()</code></a> などの関数を使用して要素を追加する場合は、自動で内部的に <em>Use...End use</em> が使用されるため、必要ありません。 ただし、属性の読み取りは <a href=/docs/ja/20-R6/API/Concepts/shared#useend-use><code>Use...End use</code></a> 構造の外側でも可能です。</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>共有コレクションについての詳細は、<a href=/docs/ja/20-R6/Concepts/shared>共有オブジェクトと共有コレクション</a> のページを参照してください。</div></div>
<p>引数を渡さない場合、<code>New shared collection</code> は空のコレクションを作成し、その参照を返します。</p>
<p>返された参照は、コレクション型の 4D変数に代入する必要があります。</p>
<blockquote>
<p><code>var : Collection</code> や <code>C_COLLECTION</code> ステートメントはコレクション型の変数を宣言しますが、コレクション自体は作成しないという点に注意してください。</p>
</blockquote>
<p>任意で、一つ以上の <em>value</em> 引数を渡すことで、あらかじめ値の入った新しい共有コレクションを作成することができます。 または、あとからオブジェクト記法による代入で要素を一つずつ追加・編集していくことができます (例題参照)。</p>
<p>共有コレクションの最終要素を超える要素番号 (インデックス) を指定した場合、共有コレクションは自動的にリサイズされ、合い間の要素にはすべて <strong>null</strong> 値が割り当てられらます。</p>
<p>以下のサポートされる型であれば、いくつでも値を渡すことができます:</p>
<ul>
<li>数値 (実数、倍長整数...)。 数値は常に実数として保存されます。</li>
<li>テキスト</li>
<li>ブール</li>
<li>日付</li>
<li>時間 (ミリ秒の数 (実数) として保存されます)。</li>
<li>null</li>
<li>共有オブジェクト</li>
<li>共有コレクション</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>注</div><div class=admonitionContent_BuS1><p>標準のコレクション (非共有コレクション) とは異なり、共有コレクションはピクチャーやポインター、共有でないオブジェクトおよびコレクションはサポートしていません。</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-4>例題<a href=#例題-4 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $mySharedCol:=New shared collection("alpha";"omega")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Use($mySharedCol)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $mySharedCol[1]:="beta"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End use</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=at>.at()<a href=#at class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>20<td>追加</table>
</div></div></details>
<p><strong>.at</strong>( <em>index</em> : Integer ) : any</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>index<td>Integer<td style=text-align:center>-><td>取得する要素のインデックス<tr><td>戻り値<td>any<td style=text-align:center>&lt;-<td>そのインデックスにある要素</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-2>説明<a href=#説明-2 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.at()</code> 関数は、<em>index</em> の位置にある要素を返します (<em>index</em> は正負の整数)。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>負の整数が渡された場合、コレクションの最後の要素から逆向きに数えます。</p>
<p><em>index</em> がコレクションの範囲を超える場合、この関数は Undefined を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-5>例題<a href=#例題-5 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $col : Collection </span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection(10; 20; 30; 40; 50)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$element:=$col.at(0) // 10</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$element:=$col.at(1) // 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$element:=$col.at(-1) // 50</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$element:=$col.at(-2) // 40</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$element:=$col.at(10) // undefined</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=average>.average()<a href=#average class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.average</strong>( {<em>propertyPath</em> : Text } ) : Real</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>計算に使用するオブジェクトプロパティのパス<tr><td>戻り値<td>Real, Undefined<td style=text-align:center>&lt;-<td>コレクションの値の算術平均</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-3>説明<a href=#説明-3 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.average()</code> 関数は、コレクションインスタンス内で定義されている値の算術平均を返します。</p>
<p>計算の対象となるのは数値のみです (他の型の要素は無視されます)。</p>
<p>コレクションがオブジェクトを格納している場合には、計算するオブジェクトプロパティのパスを <em>propertyPath</em> に渡します。</p>
<p><code>.average()</code> は以下の場合には <code>undefined</code> を返します:</p>
<ul>
<li>コレクションが空の場合</li>
<li>コレクションに数値が含まれていない場合</li>
<li><em>propertyPath</em> 引数で指定したパスがコレクション内で見つからない場合</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-1>例題 1<a href=#例題-1-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(10;20;"Monday";True;6)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vAvg:=$col.average() //12</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-1>例題 2<a href=#例題-2-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"salary";10000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"salary";50000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Gross";"salary";10500))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vAvg:=$col.average("salary") //23500</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=clear>.clear()<a href=#clear class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.clear()</strong> : Collection</p>

















<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>全要素が削除された元のコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-4>説明<a href=#説明-4 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.clear()</code> 関数は、コレクションインスタンス内の全要素を削除し、空のコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-6>例題<a href=#例題-6 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection(1;2;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col.clear()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$vSize:=$col.length //$vSize=0</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=combine>.combine()<a href=#combine class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.combine</strong>( <em>col2</em> : Collection {; <em>index</em> : Integer } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>col2<td>Collection<td style=text-align:center>-><td>追加するコレクション<tr><td>index<td>Integer<td style=text-align:center>-><td>追加要素を挿入する位置 (デフォルトは length+1)<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>追加要素を格納した元のコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-5>説明<a href=#説明-5 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.combine()</code> 関数は、コレクションインスタンスの最後、あるいは <em>index</em> で指定した位置に <em>col2</em> の要素を挿入し、変更された元のコレクションを返します。 <code>.insert()</code> 関数とは異なり、<code>.combine()</code> は <em>col2</em> の各要素を元のコレクション追加します (<em>col2</em> 自体が単一のコレクション要素としては挿入されるわけではありません)。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p>デフォルトでは、<em>col2</em> の要素は元のコレクションの最後に追加されます。 <em>index</em> に引数を渡すことで、<em>col2</em> の要素を挿入する位置を指定することができます。</p>
<blockquote>
<p><strong>警告</strong>: コレクション要素は 0 起点である点に注意してください。</p>
</blockquote>
<ul>
<li>指定した <em>index</em> がコレクションの length より大きい場合、実際の開始インデックスはコレクションの length に設定されます。</li>
<li><em>index</em> &lt; 0 の場合、<em>index:=index+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。</li>
<li>計算結果も負の値である場合、<em>index</em> は 0 に設定されます。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-7>例題<a href=#例題-7 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c; $fruits : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection(1;2;3;4;5;6)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$fruits:=New collection("Orange";"Banana";"Apple";"Grape")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.combine($fruits;3) //[1,2,3,"Orange","Banana","Apple","Grape",4,5,6]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=concat>.concat()<a href=#concat class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.concat</strong>( <em>value</em> : any { <em>;...valueN</em> } ) : Collection</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>Number, Text, Object, Collection, Date, Time, Boolean, Picture<td style=text-align:center>-><td>連結する値。 <em>value</em> がコレクションの場合、コレクションの全要素が元のコレクションに追加されます。<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>元のコレクションに値が追加された新規コレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-6>説明<a href=#説明-6 class=hash-link aria-label=見出しへの直接リンク title=見出しへの��直接リンク>​</a></h4>
<p><code>.concat()</code> 関数は、<em>value</em> に指定した要素を元のコレクションの最後に追加した、新しいコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>value</em> がコレクションの場合、その全要素が新しい要素として元のコレクションの最後に追加されます。 <em>value</em> がコレクションでない場合、それ自体が新しい要素として追加されます。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-8>例題<a href=#例題-8 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection(1;2;3;4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$fruits:=New collection("Orange";"Banana";"Apple";"Grape")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$fruits.push(New object("Intruder";"Tomato"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.concat($fruits) //[1,2,3,4,5,"Orange","Banana","Apple","Grape",{"Intruder":"Tomato"}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.concat(6;7;8) //[1,2,3,4,5,6,7,8]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=copy>.copy()<a href=#copy class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>18 R3<td><em>ck shared</em> オプションの追加。 <em>groupWith</em> パラメーターを追加。<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.copy</strong>() : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ) : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ; <em>groupWithCol</em> : Collection ) : Collection<br><strong>.copy</strong>( <em>option</em> : Integer ; <em>groupWithObj</em> : Object ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>option<td>Integer<td style=text-align:center>-><td><code>ck resolve pointers</code>: コピー前にポインターを解決する<br><code>ck shared</code>: 共有コレクションを返す<tr><td>groupWithCol<td>Collection<td style=text-align:center>-><td>結果のコレクションとグループする共有コレクション<tr><td>groupWithObj<td>Object<td style=text-align:center>-><td>結果のコレクションとグループする共有オブジェクト<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>元のコレクションのディープ・コピー</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-7>説明<a href=#説明-7 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.copy()</code> 関数は、 コレクションインスタンスのディープ・コピーを返します。<em><strong>ディープ・コピー</strong></em> とは、元のコレクション内のオブジェクトやコレクションは複製されることを意味し、返されたコレクションと元のコレクションは参照を共有しないということを意味します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>任意の <em>option</em> パラメーターには、以下のどちらか (あるいは両方) の定数を渡すことができます:</p>

















<table><thead><tr><th>option<th>説明<tbody><tr><td><code>ck resolve pointers</code><td>オリジナルのコレクションがポインター型の値を格納している場合、デフォルトではコピー先のオブジェクトもポインターを格納します。 しかしながら、<code>ck resolve pointers</code> 定数を渡すことで、コピー時にポインターを解決することができます。 この場合、コレクション内の各ポインターはコピー時に解決され、解決済みの値が使用されます。<tr><td><code>ck shared</code><td>共有コレクションに対して適用された場合でも、<code>copy()</code> はデフォルトで通常の (非共有の) コレクションを返します。 共有コレクションを作成するには、<code>ck shared</code> 定数を渡します。 この場合には、<em>groupWith</em> パラメーターに引数を渡して他の共有オブジェクトまたは共有コレクションに関連づけることもできます (以下参照)。</table>
<p><em>groupWithCol</em> または <em>groupWithObj</em> 引数を渡すと、結果のコレクションを関連づけるコレクションまたはオブジェクトを指定できます。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>注</div><div class=admonitionContent_BuS1><p>データストア、データクラス、およびエンティティオブジェクトはコピーできません。 これらを対象に <code>.copy()</code> を呼び出すと、<code>Null</code> 値が返されます。</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-2>例題 1<a href=#例題-1-2 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>通常の (非共有の) コレクション <em>$lastnames * を、共有オブジェクト <em>$sharedObject</em> 内にコピーします。 このためには、まず共有コレクション (</em>$sharedLastnames*) を作成する必要があります。</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $sharedObject : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $lastnames;$sharedLastnames : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sharedObject:=New shared object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:=Document to text(Get 4D folder(Current resources folder)+"lastnames.txt")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$lastnames:=JSON Parse($text) // $lastnames は通常のコレクションです</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sharedLastnames:=$lastnames.copy(ck shared) // $sharedLastnames は共有コレクションです</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $sharedLastnames は $sharedObject の中に入れられます</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Use($sharedObject)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $sharedObject.lastnames:=$sharedLastnames</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End use</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-2>例題 2<a href=#例題-2-2 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>どちらも共有コレクションである <em>$sharedColl1</em> と*$sharedColl2* を結合します。 これらは異なる共有グループに所属しているため、直接結合した場合にはエラーが生成されます。 そこで、 <em>$sharedColl1</em> のコピーを作成し、<em>$sharedColl2</em> をそのコピーの共有グループ先に指定します。</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $sharedColl1;$sharedColl2;$copyColl : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sharedColl1:=New shared collection(New shared object("lastname";"Smith"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sharedColl2:=New shared collection(New shared object("lastname";"Brown"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $copyColl を $sharedColl2  と同じ共有グループに所属させます</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $copyColl:=$sharedColl1.copy(ck shared;$sharedColl2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Use($sharedColl2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $sharedColl2.combine($copyColl)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End use</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-1>例題 3<a href=#例題-3-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>通常のコレクション (<em>$lastnames</em>) があり、それをアプリケーションの <strong>Storage</strong> に入れます。 これには、先に共有コレクション (<em>$sharedLastnames</em>) を作成しておく必要があります。</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $lastnames;$sharedLastnames : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:=Document to text(Get 4D folder(Current resources folder)+"lastnames.txt")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$lastnames:=JSON Parse($text) // $lastnames は通常の (非共有) コレクションです</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sharedLastnames:=$lastnames.copy(ck shared) // 共有コピー</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Use(Storage)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    Storage.lastnames:=$sharedLastnames</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End use</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-4-1>例題 4<a href=#例題-4-1 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>ck resolve pointers</code> オプションを使用した場合のふるまいです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $p : Pointer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $p:=->$what</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("alpha";"Hello";"num";1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("beta";"You";"what";$p))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col2:=$col.copy()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col2[1].beta:="World!"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT($col[0].alpha+" "+$col2[1].beta) // "Hello world!" を表示します</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $what:="You!"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col3:=$col2.copy(ck resolve pointers)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT($col3[0].alpha+" "+$col3[1].what) // "Hello world!" を表示します</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=count>.count()<a href=#count class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.count</strong>( { <em>propertyPath</em> : Text } ) : Real</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>計算に使用するオブジェクトプロパティのパス<tr><td>戻り値<td>Real<td style=text-align:center>&lt;-<td>コレクション内の要素の数</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-8>説明<a href=#説明-8 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.count()</code> 関数は、コレクション内の、null ではない要素の個数を返します。</p>
<p>コレクションがオブジェクトを含んでいる場合、<em>propertyPath</em> 引数を渡すことができます。 この場合、<em>propertyPath</em> で指定したパスを含む要素のみがカウントされます。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-9>例題<a href=#例題-9 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $count1;$count2 : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(20;30;Null;40)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"salary";10000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"salary";50000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Gross";"salary";10500))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("lastName";"Henry";"salary";12000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $count1:=$col.count() //$count1=7</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $count2:=$col.count("name") //$count2=3</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=countvalues>.countValues()<a href=#countvalues class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.countValues</strong>( <em>value</em> : any {; <em>propertyPath</em> : Text } ) : Real</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>Text, Number, Boolean, Date, Object, Collection<td style=text-align:center>-><td>数える値<tr><td>propertyPath<td>Text<td style=text-align:center>-><td>計算に使用するオブジェクトプロパティのパス<tr><td>戻り値<td>Real<td style=text-align:center>&lt;-<td>値の出現回数</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-9>説明<a href=#説明-9 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.countValues()</code> 関数は、
<em>value</em> 引数に指定した値がコレクション内において見つかった回数を返します。</p>
<p><em>value</em> には、以下のいずれかを渡すことができます:</p>
<ul>
<li>スカラー値 (テキスト、数値、ブール、日付)</li>
<li>オブジェクトあるいはコレクションの参照</li>
</ul>
<p>要素が検出されるためには、<em>value</em> 引数の型が要素の型と合致している必要があります。このファンクションは等号演算子を使用します。</p>
<p>任意の <em>propertyPath</em> 引数を渡すと、オブジェクトのコレクションにおける値の個数を数えることができます。 <em>propertyPath</em> には値を検索するプロパティパスを渡します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-3>例題 1<a href=#例題-1-3 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $vCount : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(1;2;5;5;5;3;6;4)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vCount:=$col.countValues(5) // $vCount=3</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-3>例題 2<a href=#例題-2-3 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $vCount : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"age";5))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"age";2))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Jones";"age";3))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Henry";"age";4))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Gross";"age";5))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vCount:=$col.countValues(5;"age") //$vCount=2</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-2>例題 3<a href=#例題-3-2 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $numbers; $letters : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $vCount : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $letters:=New collection("a";"b";"c")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $numbers:=New collection(1;2;$letters;3;4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vCount:=$numbers.countValues($letters) //$vCount=1</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=distinct>.distinct()<a href=#distinct class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>20<td><code>ck count values</code> をサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.distinct</strong>( {<em>options</em> : Integer} ) : Collection<br><strong>.distinct</strong>( <em>propertyPath</em> : Text {; <em>options</em> : Integer } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>重複しない値を取得する属性のパス<tr><td>options<td>Integer<td style=text-align:center>-><td><code>ck diacritical</code>, <code>ck count values</code><tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>重複しない値のみを格納した新規コレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-10>説明<a href=#説明-10 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.distinct()</code> 関数は、
元のコレクションから重複しない (異なる) 値のみを格納した新しいコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>返されたコレクションは自動的に並べ替えられています。 <strong>Null</strong> 値は返されません。</p>
<p>コレクションがオブジェクトを格納している場合には、重複しない値を取得するオブジェクトプロパティのパスを <em>propertyPath</em> に渡します。</p>
<p><em>options</em> 引数として、以下の定数を 1つ、または組み合わせで渡すことができます:</p>




















<table><thead><tr><th>定数<th>値<th>説明<tbody><tr><td><code>ck diacritical</code><td>8<td>文字の大小とアクセントを区別して評価をおこないます。 省略された場合のデフォルトでは、アクセント等の発音区別符号を無視した評価が実行されます。<tr><td><code>ck count values</code><td>32<td>特定の値を持つ要素の数 (重複がなければ 1、重複があればその数) を返します。 このオプションを渡すと、<code>.distinct()</code> は、<code>{"value":*value*;"count":*count*}</code> のプロパティを含むオブジェクトのコレクションを返します。</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-10>例題<a href=#例題-10 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2; $c3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push("a";"b";"c";"A";"B";"c";"b";"b")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("size";1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("size";3))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("size";1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.distinct() //$c2=["a","b","c",{"size":1},{"size":3},{"size":1}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.distinct(ck diacritical) //$c2=["a","A","b","B","c",{"size":1},{"size":3},{"size":1}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.distinct("size") //$c2=[1,3]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c3:=$c.distinct("size";ck count values) //$c3=[{value:1,count:2},{value:3,count:1}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=equal>.equal()<a href=#equal class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.equal</strong>( <em>collection2</em> : Collection {; <em>option</em> : Integer } ) : Boolean</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>collection2<td>Collection<td style=text-align:center>-><td>比較するコレクション<tr><td>option<td>Integer<td style=text-align:center>-><td><code>ck diacritical</code>: アクセント等の発音区別符号を無視しない評価 (たとえば "A" # "a")<tr><td>戻り値<td>Boolean<td style=text-align:center>&lt;-<td>コレクションが同一の場合には true、それ以外は false</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-11>説明<a href=#説明-11 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.equal()</code> 関数は、コレクションの内容と <em>collection2</em> を再帰的に比較し (ディープ比較)、同一であれば <strong>true</strong> を返します。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>注記</div><div class=admonitionContent_BuS1><ul>
<li><code>.equal()</code> 関数は、コレクション内の文字列、ブール値、数値、および null型要素の等価性をチェックするだけです。 ネイティブオブジェクトの等価性はチェックされません。</li>
<li><strong>null</strong>値の要素は undefined要素と同じとはみなされません。</li>
</ul></div></div>
<p>デフォルトでは、アクセント等の発音区別符号を無視した評価が実行されます。 評価の際に文字の大小を区別したり、アクセント記号を区別したい場合には、option に <code>ck diacritical</code> 定数を渡します。</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_BuS1><p>コレクションが大きく深い場合には、コレクションの再帰的な比較は時間がかかる場合があります。 2つのコレクション参照を比較するだけの場合は、<a href=/docs/ja/20-R6/Concepts/collection#%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E6%BC%94%E7%AE%97%E5%AD%90>コレクション参照の <code>=</code>比較演算子</a> の使用を検討してください。</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-11>例題<a href=#例題-11 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $b : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(New object("a";1;"b";"orange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=New collection(New object("a";1;"b";"orange");2;3;4)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.equal($c2) // false</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(New object("1";"a";"b";"orange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=New collection(New object("a";1;"b";"orange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.equal($c2) // false</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(New object("a";1;"b";"orange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=New collection(New object("a";1;"b";"ORange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.equal($c2) // true</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(New object("a";1;"b";"orange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=New collection(New object("a";1;"b";"ORange");2;3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.equal($c2;ck diacritical) //false</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=every>.every()<a href=#every class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>19 R6<td>フォーミュラをサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.every</strong>( { <em>startFrom</em> : Integer ; } <em>formula</em> : 4D.Function { ;<em>...param</em> : any } ) : Boolean<br><strong>.every</strong>( { <em>startFrom</em> : Integer ; } <em>methodName</em> : Text { ;<em>...param</em> : any } ) : Boolean</p>









































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>startFrom<td>Integer<td style=text-align:center>-><td>テストを開始するインデックス<tr><td>formula<td>4D.Function<td style=text-align:center>-><td>フォーミュラオブジェクト<tr><td>methodName<td>Text<td style=text-align:center>-><td>メソッド名<tr><td>param<td>any<td style=text-align:center>-><td><em>formula</em> または <em>methodName</em> に渡す引数<tr><td>戻り値<td>Boolean<td style=text-align:center>&lt;-<td>すべての要素がテストをパスすれば true</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-12>説明<a href=#説明-12 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.every()</code> 関数は、 コレクション内の全要素が、<em>formula</em> オブジェクトまたは <em>methodName</em> に指定したメソッドで実装されたテストにパスした場合には <strong>true</strong> を返します。</p>
<p>次のいずれかを使用して、コレクション要素を評価するために実行されるコールバックを指定します:</p>
<ul>
<li><em>formula</em> (推奨シンタックス)、関数やプロジェクトメソッドを含むあらゆる実行可能な式を格納できる <a href=/docs/ja/20-R6/API/FunctionClass>Formula オブジェクト</a>。</li>
<li>または <em>methodName</em>、プロジェクトメソッドの名前 (テキスト)。</li>
</ul>
<p>コールバックには、<em>param</em> (任意) に指定した引数が渡されます。 引数の有無にかかわらず、コールバックは任意のテストを実行でき、テストを満たす要素に対しては <strong>true</strong> を返さなくてはなりません。 コールバックは最初のパラメーター ($1) に <code>Object</code> を受け取ります。</p>
<p>コールバックは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 評価する要素の値</li>
<li><em>$2</em>: param</li>
<li><em>$N...</em>: paramN...</li>
</ul>
<p>また、コールバックは以下のパラメーターを設定できます:</p>
<ul>
<li>(メソッドを使用する場合は必須) <em>$1.result</em> (ブール): 要素の値の評価が成功した場合には <strong>true</strong> 、それ以外は <strong>false</strong></li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<p><code>.every()</code> 関数は、<strong>false</strong> として評価されたコレクション要素を発見すると、コールバックの呼び出しをやめて <strong>false</strong> を返します。</p>
<p>デフォルトでは、<code>.every()</code> はコレクション全体をテストします。 任意で、<em>startFrom</em> にテストを開始する要素のインデックスを渡すこともできます。</p>
<ul>
<li><em>startFrom</em> がコレクションの length 以上だった場合、<strong>false</strong> が返されます。これはコレクションがテストされていないことを意味します。</li>
<li><em>startFrom</em> &lt; 0 の場合には、コレクションの終わりからのオフセットであるとみなされます(<em>startFrom:=startFrom+length</em>)。</li>
<li><em>startFrom</em> = 0 の場合、コレクション全体がテストされます (デフォルト)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-4>例題 1<a href=#例題-1-4 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $b : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $f : 4D.Function</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$f:=Formula($1.value>0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(5;3;1;4;6;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$b:=$c.every($f) // true を返します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(-1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$b:=$c.every($f) // false を返します</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-4>例題 2<a href=#例題-2-4 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>コレクション要素がすべて実数型であるかをテストします:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $b : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $f : 4D.Function</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$f:=Formula(Value type($1.value)=$2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(5;3;1;4;6;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$b:=$c.every($f;Is real) //$b=true</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=$c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=$c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$b:=$c.every($f;Is real) //$b=false</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=extract>.extract()<a href=#extract class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.extract</strong>( <em>propertyPath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>propertyPath</em> : Text ;  <em>targetPath</em> : Text  { ;...<em>propertyPathOrTargetPathN</em> : Text } ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>新しいコレクションに抽出する値のオブジェクトプロパティパス<tr><td>targetpath<td>Text<td style=text-align:center>-><td>抽出先のプロパティパスあるいはプロパティ名<tr><td>option<td>Integer<td style=text-align:center>-><td><code>ck keep null</code>: 返されるコレクションに null プロパティを含めます (デフォルトでは無視されます)。 <em>targetPath</em> を渡した場合には、この引数は無視されます。<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>抽出した値を格納した新しいコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-13>説明<a href=#説明-13 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.extract()</code> 関数は、元のオブジェクトのコレクションから、<em>propertyPath</em> 引数が指定するプロパティ値を抽出し、新しいコレクションに格納して返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>戻り値のコレクションの中身は、<em>targetPath</em> 引数によります:</p>
<ul>
<li>
<p><em>targetPath</em> が省略された場合、<code>.extract()</code> は元のコレクションの <em>propertyPath</em> と同じパスを使って、新しいコレクションに値を格納します。</p>
<p>デフォルトでは、<em>propertyPath</em> のパスの要素が null あるいは undefined であった場合には、その要素は無視され、返されるコレクションに格納されません。 <em>option</em> パラメーターに <code>ck keep null</code> 定数を渡すと、これらの要素は返されるコレクションに null 要素として格納されます。</p>
</li>
<li>
<p>一つ以上の <em>propertyPath</em> 引数に相当する、一つ以上の <em>targetPath</em> 引数が渡された場合、<code>.extract()</code> は元のコレクションの <em>propertyPath</em> から値を抽出し、合致する <em>targetPath</em> に値を保存したオブジェクトを新しいコレクションの各要素として格納します。 Null値はそのまま保持されます (このシンタックスでは <em>option</em> に引数を渡しても無視されます)。</p>
</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-5>例題 1<a href=#例題-1-5 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Cleveland"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("zip";5321))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Blountsville"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(42)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.extract("name") // $c2=[Cleveland,Blountsville]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.extract("name";ck keep null) //$c2=[Cleveland,null,Blountsville,null]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-5>例題 2<a href=#例題-2-5 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("zc";35060))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";Null;"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Adger";"zc";35006))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Clanton";"zc";35046))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Clanton";"zc";35045))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.extract("name";"City") //$c2=[{City:null},{City:Cleveland},{City:Blountsville},{City:Adger},{City:Clanton},{City:Clanton}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.extract("name";"City";"zc";"Zip") //$c2=[{Zip:35060},{City:null,Zip:35049},{City:Cleveland,Zip:35049},{City:Blountsville,Zip:35031},{City:Adger,Zip:35006},{City:Clanton,Zip:35046},{City:Clanton,Zip:35045}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=fill>.fill()<a href=#fill class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.fill</strong>( <em>value</em> : any ) : Collection<br><strong>.fill</strong>( <em>value</em> : any ;  <em>startFrom</em>  : Integer { ; <em>end</em> : Integer } ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>number, Text, Collection, Object, Date, Boolean<td style=text-align:center>-><td>代入する値<tr><td>startFrom<td>Integer<td style=text-align:center>-><td>開始インデックス (含まれる)<tr><td>end<td>Integer<td style=text-align:center>-><td>終了インデックス (含まれない)<tr><td>戻り値<td>collection<td style=text-align:center>&lt;-<td>値が代入された元のコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-14>説明<a href=#説明-14 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.fill()</code> 関数は、コレクションを <em>value</em> 引数の値で満たし、同コレクションを返します。オプションとして、<em>startFrom</em> および <em>end</em> インデックスを渡して代入開始位置および終了位置を指定することもできます。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<ul>
<li><em>startFrom</em> 引数が渡されなかった場合、<em>value</em> 引数の値はコレクションの全要素に代入されます (つまり、<em>startFrom</em>=0)。</li>
<li><em>startFrom</em> 引数が渡され、かつ <em>end</em> 引数が省略された場合には、<em>value</em> 引数の値はコレクションの最後の要素まで設定されます (つまり、<em>end</em>=length)。</li>
<li><em>startFrom</em> と <em>end</em> 引数が両方渡された場合には、<em>startFrom</em> から <em>end</em> までの要素に <em>value</em> が代入されます。</li>
</ul>
<p>引数に矛盾がある場合、次のように解釈されます:</p>
<ul>
<li><em>startFrom</em> &lt; 0 の場合、<em>startFrom:=startFrom+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。 再計算された値も負の値だった場合、<em>startFrom</em> は 0 に設定されます。</li>
<li><em>end</em> &lt; 0 の場合、それは <em>end:=end+length</em> として再計算されます。</li>
<li>渡された値、あるいは再計算された値が <em>end</em> &lt; <em>startFrom</em> の場合、関数はなにもしません。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-12>例題<a href=#例題-12 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;3;"Lemon";Null;"";4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.fill("2") // $c:=[2,2,2,2,2,2,2,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.fill("Hello";5) // $c=[2,2,2,2,2,Hello,Hello,Hello]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.fill(0;1;5) // $c=[2,0,0,0,0,Hello,Hello,Hello]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.fill("world";1;-5) //-5+8=3 -> $c=[2,"world","world",0,0,Hello,Hello,Hello]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=filter>.filter()<a href=#filter class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>19 R6<td>フォーミュラをサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.filter</strong>( <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : Collection<br><strong>.filter</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>formula<td>4D.Function<td style=text-align:center>-><td>フォーミュラオブジェクト<tr><td>methodName<td>Text<td style=text-align:center>-><td>メソッド名<tr><td>param<td>any<td style=text-align:center>-><td><em>formula</em> または <em>methodName</em> に渡す引数<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>フィルターされた要素を格納した新しいコレクション(シャロウ・コピー)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-15>説明<a href=#説明-15 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.filter()</code> 関数は、元のコレクション要素のうち、<em>formula</em> または <em>methodName</em>　の結果が <strong>true</strong> になる要素をすべて格納した新しいコレクションを返します。 この関数は <em><strong>シャロウ・コピー</strong></em> を返します。つまり、元のコレクションにオブジェクト要素やコレクション要素が含まれていた場合、それらの参照は戻り値のコレクションで共有されます。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>次のいずれかを使用して、コレクション要素をフィルターするために実行されるコールバックを指定します:</p>
<ul>
<li><em>formula</em> (推奨シンタックス)、関数やプロジェクトメソッドを含むあらゆる実行可能な式を格納できる <a href=/docs/ja/20-R6/API/FunctionClass>Formula オブジェクト</a>。</li>
<li>または <em>methodName</em>、プロジェクトメソッドの名前 (テキスト)。</li>
</ul>
<p>コールバックには、オブジェクトが 1番目の引数 (<em>$1</em>) として渡され、任意の <em>param</em> 引数がその後に続きます。 引数の有無にかかわらず、コールバックは任意のテストを実行でき、条件を満たす要素に対しては <strong>true</strong> を返すことで、新規コレクションにプッシュします。</p>
<p>コールバックは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 評価する要素の値</li>
<li><em>$2</em>: param</li>
<li><em>$N...</em>: paramN...</li>
</ul>
<p>また、コールバックは以下のパラメーターを設定できます:</p>
<ul>
<li><em>$1.result</em> (ブール): 要素の値がフィルター条件に合致する場合には <strong>true</strong> 、それ以外は <strong>false</strong>。</li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>注</div><div class=admonitionContent_BuS1><p><em>methodName</em> に指定したメソッドをコールバックとして使用し、このメソッドが値を返さない場合、<code>.filter()</code> は <em>$1.result</em> を調べます。この場合には、条件を満たす各要素に対して、<em>$1.result</em> を <strong>true</strong> に設定する必要があります。</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-6>例題 1<a href=#例題-1-6 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>コレクションから、長さが 6未満であるテキスト要素を取得します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $col;$colNew : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection("hello";"world";"red horse";66;"tim";"san jose";"miami")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$colNew:=$col.filter(Formula((Value type($1.value)=Is text) && (Length($1.value)&lt;$2)); 6)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$colNew=["hello","world","tim","miami"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-6>例題 2<a href=#例題-2-6 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>値の型に応じて要素をフィルターします:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c;$c2;$c3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $f : 4D.Function</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $f:=Formula(OB Get type($1;"value")=$2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(5;3;1;4;6;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.filter($f;Is real) // $c2=[5,3,1,4,6,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c3:=$c.filter($f;Is object)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $c3=[{name:Cleveland,zc:35049},{name:Blountsville,zc:35031}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=find>.find()<a href=#find class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>19 R6<td>フォーミュラをサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.find</strong>( { <em>startFrom</em> : Integer ; }  <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : any<br><strong>.find</strong>( { <em>startFrom</em> : Integer ; }  <em>methodName</em> : Text { ; <em>...param</em> : any } ) : any</p>









































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>startFrom<td>Integer<td style=text-align:center>-><td>検索を開始するインデックス<tr><td>formula<td>4D.Function<td style=text-align:center>-><td>フォーミュラオブジェクト<tr><td>methodName<td>Text<td style=text-align:center>-><td>メソッド名<tr><td>param<td>any<td style=text-align:center>-><td><em>formula</em> または <em>methodName</em> に渡す引数<tr><td>戻り値<td>any<td style=text-align:center>&lt;-<td>最初に見つかった値。見つからなかった場合には Undefined</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-16>説明<a href=#説明-16 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.find()</code> 関数は、<em>formula</em> 引数のフォーミュラまたは <em>methodName</em> 引数のメソッドを各コレクション要素に適用して、<strong>true</strong> を返す最初の要素を返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>次のいずれかを使用して、コレクション要素を評価するために実行されるコールバックを指定します:</p>
<ul>
<li><em>formula</em> (推奨シンタックス)、関数やプロジェクトメソッドを含むあらゆる実行可能な式を格納できる <a href=/docs/ja/20-R6/API/FunctionClass>Formula オブジェクト</a>。</li>
<li>または <em>methodName</em>、プロジェクトメソッドの名前 (テキスト)。</li>
</ul>
<p>コールバックには、<em>param</em> (任意) に指定した引数が渡されます。 引数の有無にかかわらず、コールバックは任意のテストを実行でき、条件を満たす最初の要素に対して <strong>true</strong> を返さなくてはなりません。 コールバックは最初のパラメーター ($1) に <code>Object</code> を受け取ります。</p>
<p>コールバックは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 評価する要素の値</li>
<li><em>$2</em>: param</li>
<li><em>$N...</em>: paramN...</li>
</ul>
<p>また、コールバックは以下のパラメーターを設定できます:</p>
<ul>
<li>(メソッドを使用する場合は必須) <em>$1.result</em> (ブール): 要素の値が検索条件に合致する場合には <strong>true</strong> 、それ以外は <strong>false</strong>。</li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<p>デフォルトでは、<code>.find()</code> はコレクション全体をテストします。 任意で、<em>startFrom</em> に検索を開始する要素のインデックスを渡すこともできます。</p>
<ul>
<li><em>startFrom</em> がコレクションの length 以上だった場合、-1 が返されます。これはコレクションが検索されていないことを意味します。</li>
<li><em>startFrom</em> &lt; 0 の場合には、コレクションの終わりからのオフセットであるとみなされます (<em>startFrom:=startFrom+length</em>)。
<strong>注:</strong> <em>startFrom</em> が負の値であっても、コレクションは左から右へと検索されます。</li>
<li><em>startFrom</em> = 0 の場合、コレクション全体がテストされます (デフォルト)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-7>例題 1<a href=#例題-1-7 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>長さが 5未満の最初のテキスト要素を取得します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection("hello";"world";4;"red horse";"tim";"san jose")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$value:=$col.find(Formula((Value type($1.value)=Is text) && (Length($1.value)&lt;$2)); 5) //$value="tim"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-7>例題 2<a href=#例題-2-7 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>コレクション内を都市名で検索します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $c2 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name"; "Cleveland"; "zc"; 35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name"; "Blountsville"; "zc"; 35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name"; "Adger"; "zc"; 35006))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name"; "Clanton"; "zc"; 35046))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name"; "Clanton"; "zc"; 35045))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.find(Formula($1.value.name=$2); "Clanton")  //$c2={name:Clanton,zc:35046}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=findindex>.findIndex()<a href=#findindex class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>19 R6<td>フォーミュラをサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.findIndex</strong>( { <em>startFrom</em> : Integer ; }  <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : Integer<br><strong>.findIndex</strong>( { <em>startFrom</em> : Integer ; }  <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Integer</p>









































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>startFrom<td>Integer<td style=text-align:center>-><td>検索を開始するインデックス<tr><td>formula<td>4D.Function<td style=text-align:center>-><td>フォーミュラオブジェクト<tr><td>methodName<td>Text<td style=text-align:center>-><td>メソッド名<tr><td>param<td>any<td style=text-align:center>-><td><em>formula</em> または <em>methodName</em> に渡す引数<tr><td>戻り値<td>Integer<td style=text-align:center>&lt;-<td>最初に見つかった値のインデックス。見つからなかった場合には -1</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-17>説明<a href=#説明-17 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.findIndex()</code> 関数は、<em>formula</em> 引数のフォーミュラまたは <em>methodName</em> 引数のメソッドを各コレクション要素に適用して、<strong>true</strong> を返す最初の要素のインデックスを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>次のいずれかを使用して、コレクション要素を評価するために実行されるコールバックを指定します:</p>
<ul>
<li><em>formula</em> (推奨シンタックス)、関数やプロジェクトメソッドを含むあらゆる実行可能な式を格納できる <a href=/docs/ja/20-R6/API/FunctionClass>Formula オブジェクト</a>。</li>
<li><em>methodName</em>、プロジェクトメソッドの名前 (テキスト)。</li>
</ul>
<p>コールバックには、<em>param</em> (任意) に指定した引数が渡されます。 引数の有無にかかわらず、コールバックは任意のテストを実行でき、条件を満たす最初の要素に対して <strong>true</strong> を返さなくてはなりません。 コールバックは最初のパラメーター ($1) に <code>Object</code> を受け取ります。</p>
<p>コールバックは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 評価する要素の値</li>
<li><em>$2</em>: param</li>
<li><em>$N...</em>: paramN...</li>
</ul>
<p>また、コールバックは以下のパラメーターを設定できます:</p>
<ul>
<li>(メソッドを使用する場合は必須) <em>$1.result</em> (ブール): 要素の値が検索条件に合致する場合には <strong>true</strong> 、それ以外は <strong>false</strong>。</li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<p>デフォルトでは、<code>.findIndex()</code> はコレクション全体をテストします。 任意で、<em>startFrom</em> に検索を開始する要素のインデックスを渡すこともできます。</p>
<ul>
<li><em>startFrom</em> がコレクションの length 以上だった場合、-1 が返されます。これはコレクションが検索されていないことを意味します。</li>
<li><em>startFrom</em> &lt; 0 の場合には、コレクションの終わりからのオフセットであるとみなされます (<em>startFrom:=startFrom+length</em>)。
<strong>注:</strong> <em>startFrom</em> が負の値であっても、コレクションは左から右へと検索されます。</li>
<li><em>startFrom</em> = 0 の場合、コレクション全体がテストされます (デフォルト)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-13>例題<a href=#例題-13 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>コレクション内で最初に合致する都市名の位置を探します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $val2;$val3 : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Adger";"zc";35006))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Clanton";"zc";35046))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c.push(New object("name";"Clanton";"zc";35045))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$val2:=$c.findIndex(Formula($1.value.name=$2);"Clanton") // $val2=3</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$val3:=$c.findIndex($val2+1;Formula($1.value.name=$2);"Clanton") //$val3=4</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=first>.first()<a href=#first class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>20<td>追加</table>
</div></div></details>
<p><strong>.first</strong>() : any</p>

















<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>戻り値<td>any<td style=text-align:center>&lt;-<td>コレクションの先頭要素</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-18>説明<a href=#説明-18 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.first()</code> 関数は、コレクションの先頭要素を返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>コレクションが空の場合、この関数は undefined を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-14>例題<a href=#例題-14 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $col; $emptyCol : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $first : Variant</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection(10; 20; 30; "hello"; 50)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$first:=$col.first() // 10</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$emptyCol:=New collection() // 空のコレクション</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $first:=$emptyCol[0] // このコードはエラーを返します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$first:=$emptyCol.first() // このコードは undefined を返します</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=flat>.flat()<a href=#flat class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>20<td>追加</table>
</div></div></details>
<p><strong>.flat</strong>( { <em>depth</em> : Integer } ) : Collection</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>depth<td>Integer<td style=text-align:center>-><td>ネストされたコレクションの階層をどの範囲まで平坦化するか。 デフォルト = 1<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>平坦化されたコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-19>説明<a href=#説明-19 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.flat()</code> 関数は、<em>depth</em> に指定した階層の深さまで、すべてのサブコレクション要素を再帰的に連結した新しいコレクションを作成します。</p>
<p><em>depth</em> が省略された場合のデフォルトでは、コレクション階層の一つ目のレベルのネストのみが解除されます。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-15>例題<a href=#例題-15 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection(1; 2; New collection(3; 4))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col.flat()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// [1, 2, 3, 4]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection(1; 2; New collection(3; 4; New collection(5; 6)))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col.flat() // $col.flat(1) と同じ</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// [1, 2, 3, 4, [5, 6]]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection(1; 2; New collection(3; 4; New collection(5; 6)))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col.flat(2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// [1, 2, 3, 4, 5, 6]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection(1; 2; New collection(3; 4; 5; 6; New collection(7; 8; New collection(9; 10))))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col.flat(MAXLONG)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=flatmap>.flatMap()<a href=#flatmap class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>20<td>追加</table>
</div></div></details>
<p><strong>.flatMap</strong>( <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : Collection<br><strong>.flatMap</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>formula<td>4D.Function<td style=text-align:center>-><td>フォーミュラオブジェクト<tr><td>methodName<td>Text<td style=text-align:center>-><td>メソッド名<tr><td>param<td>any<td style=text-align:center>-><td><em>formula</em> または <em>methodName</em> に渡す引数<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>変換された値を格納し、1レベルのネストが解除された新しいコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-20>説明<a href=#説明-20 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.flatMap()</code> 関数は、元のコレクションの各要素に対して <em>formula</em> または <em>methodName</em> を呼び出した結果に基づき、1レベルのネストが解除された新しいコレクションを作成します。 オプションで、<em>param</em> パラメーターに、<em>formula</em> または <em>methodName</em> に渡す引数を指定することができます。</p>
<p>この機能は、<a href=#map><code>map()</code></a> の呼び出し後に、depth = 1 で <a href=#flat><code>flat()</code></a> を呼び出すのと同じです。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>次のいずれかを使用して、コレクション要素を評価するために実行されるコールバックを指定します:</p>
<ul>
<li><em>formula</em> (推奨シンタックス)、関数やプロジェクトメソッドを含むあらゆる実行可能な式を格納できる <a href=/docs/ja/20-R6/API/FunctionClass>Formula オブジェクト</a>。</li>
<li>または <em>methodName</em>、プロジェクトメソッドの名前 (テキスト)。</li>
</ul>
<p>コールバックには、<em>param</em> (任意) に指定した引数が渡されます。 引数の有無にかかわらず、コールバックは任意の処理を実行でき、結果のコレクションに追加する変換後の新しい値を返さなくてはなりません。 コールバックは最初のパラメーター ($1) に <code>Object</code> を受け取ります。</p>
<p>コールバックは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 評価する要素の値</li>
<li><em>$2</em>: param</li>
<li><em>$N...</em>: paramN...</li>
</ul>
<p>また、コールバックは以下のパラメーターを設定できます:</p>
<ul>
<li>(メソッドを使用した場合は必須) <em>$1.result</em> (任意の型): 結果のコレクションに追加する、変換された値</li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-8>例題 1<a href=#例題-1-8 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $col ; $result : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection(1; 2; 3; 4)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$result:=$col.map(Formula(New collection($1.value*2))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> // [[2],[4],[6],[8]]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$result:=$col.flatMap(Formula(New collection($1.value*2))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// [2,4,6,8]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-8>例題 2<a href=#例題-2-8 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $col; $result : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection("Hello how"; ""; "are you ?")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$result:=$col.map(Formula(Split string($1.value; " ")))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// [["Hello", "how"], [], ["are", "you", "?"]]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$result:=$col.flatMap(Formula(Split string($1.value; " ")))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// ["Hello", "how", "are", "you", "?"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-3>例題 3<a href=#例題-3-3 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>コレクションに含まれる各値の合計に対する割合を計算します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $f : 4D.Function</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection(1; 4; 9; 10; 20)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$f:=Formula(New collection($1.value;Round(($1.value/$2)*100; 2)))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.flatMap($f; $c.sum())</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$c2=[1, 2.27, 4, 9.09,9, 20.45,10, 22.73, 20, 45.45]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=includes>.includes()<a href=#includes class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>20<td>追加</table>
</div></div></details>
<p><strong>.includes</strong>( <em>toSearch</em> : expression { ; <em>startFrom</em> : Integer } ) : Boolean</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>toSearch<td>式<td style=text-align:center>-><td>コレクション内を検索する式<tr><td>startFrom<td>Integer<td style=text-align:center>-><td>検索を開始するインデックス<tr><td>戻り値<td>Boolean<td style=text-align:center>&lt;-<td><em>toSearch</em> がコレクションにある場合は true。</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-21>説明<a href=#説明-21 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.includes()</code> 関数は、<em>toSearch</em> に指定した式がコレクション内で見つかれば <strong>true</strong> を、そうでなければ <strong>false</strong> を返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>toSearch</em> パラメーターには、コレクション内で検索する式を渡します。 以下のものを渡すことができます:</p>
<ul>
<li>スカラー値 (テキスト、数値、ブール、日付)</li>
<li>null 値</li>
<li>オブジェクトあるいはコレクションの参照</li>
</ul>
<p><em>toSearch</em> 引数は検出すべき要素と完全に一致している必要があります (等号演算子と同じルールが適用されます)。</p>
<p>オプションとして、<em>startFrom</em> 引数を渡すことで、検索を開始するコレクション要素のインデックスを指定することができます。</p>
<ul>
<li><em>startFrom</em> がコレクションの length 以上だった場合、false が返されます。これはコレクションが検索されていないことを意味します。</li>
<li><em>startFrom</em> &lt; 0 の場合には、コレクションの終わりからのオフセットであるとみなされます (<em>startFrom:=startFrom+length</em>)。 なお、<em>startFrom</em> が負の値であっても、コレクションは左から右へと検索されます。</li>
<li><em>startFrom</em> = 0 の場合、コレクション全体がテストされます (デフォルト)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-16>例題<a href=#例題-16 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $in : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $obj : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $obj:=New object("value"; 10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(1;2;"Henry";5;3;"Albert";6;4;"Alan";5;$obj)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $in:=$col.includes(3) //True</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $in:=$col.includes(5;6) //True</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $in:=$col.includes("al@") //True</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $in:=$col.includes("Hello") //False</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $in:=$col.includes($obj)  //True</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $in:=$col.includes(New object("value"; 10)) //False</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=indexof>.indexOf()<a href=#indexof class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リ��ンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.indexOf</strong>(  <em>toSearch</em> : expression { ; <em>startFrom</em> : Integer } ) : Integer</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>toSearch<td>式<td style=text-align:center>-><td>コレクション内を検索する式<tr><td>startFrom<td>Integer<td style=text-align:center>-><td>検索を開始するインデックス<tr><td>戻り値<td>Integer<td style=text-align:center>&lt;-<td>最初に見つかった toSearch のインデックス。見つからなかった場合には -1</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-22>説明<a href=#説明-22 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.indexOf()</code> 関数は、 <em>toSearch</em> 引数の式をコレクション要素の中から検索し、最初に見つかった要素のインデックス (見つからなかった場合には -1) を返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>toSearch</em> パラメーターには、コレクション内で検索する式を渡します。 以下のものを渡すことができます:</p>
<ul>
<li>スカラー値 (テキスト、数値、ブール、日付)</li>
<li>null 値</li>
<li>オブジェクトあるいはコレクションの参照</li>
</ul>
<p><em>toSearch</em> 引数は検出すべき要素と完全に一致している必要があります (等号演算子と同じルールが適用されます)。</p>
<p>オプションとして、<em>startFrom</em> 引数を渡すことで、検索を開始するコレクション要素のインデックスを指定することができます。</p>
<ul>
<li><em>startFrom</em> がコレクションの length 以上だった場合、-1 が返されます。これはコレクションが検索されていないことを意味します。</li>
<li><em>startFrom</em> &lt; 0 の場合には、コレクションの終わりからのオフセットであるとみなされます (<em>startFrom:=startFrom+length</em>)。
<strong>注:</strong> <em>startFrom</em> が負の値であっても、コレクションは左から右へと検索されます。</li>
<li><em>startFrom</em> = 0 の場合、コレクション全体がテストされます (デフォルト)。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-17>例題<a href=#例題-17 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $i : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(1;2;"Henry";5;3;"Albert";6;4;"Alan";5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $i:=$col.indexOf(3) //$i=4</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $i:=$col.indexOf(5;5) //$i=9</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $i:=$col.indexOf("al@") //$i=5</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $i:=$col.indexOf("Hello") //$i=-1</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=indices>.indices()<a href=#indices class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.indices</strong>(  <em>queryString</em> : Text { ; <em>...value</em> : any } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>queryString<td>Text<td style=text-align:center>-><td>検索条件<tr><td>value<td>any<td style=text-align:center>-><td>プレースホルダー使用時: 比較する値<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>queryString に合致するコレクション要素のインデックス</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-23>説明<a href=#説明-23 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.indices()</code> 関数は <a href=#query><code>.query()</code></a> 関数と同様に機能しますが、<em>queryString</em> 引数の検索条件に合致する、元のコレクション要素のインデックスを返します(コレクション要素自体は返しません)。 インデックスは、昇順に返されます。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>queryString</em> 引数には、以下のシンタックスを使用します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">propertyPath 比較演算子 値 {logicalOperator propertyPath 比較演算子 値}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em>queryString</em> および <em>value</em> パラメーターの詳細については、<a href=/docs/ja/20-R6/API/dataclassClass.md#query><code>dataClass.query()</code></a> 関数を参照ください。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-18>例題<a href=#例題-18 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $icol : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Adger";"zc";35006))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35046))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35045))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $icol:=$c.indices("name = :1";"Cleveland") // $icol=[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $icol:=$c.indices("zc > 35040") // $icol=[0,3,4]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=insert>.insert()<a href=#insert class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.insert</strong>( <em>index</em> : Integer ; <em>element</em> : any ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>index<td>Integer<td style=text-align:center>-><td>要素の挿入位置<tr><td>element<td>any<td style=text-align:center>-><td>コレクションに挿入する要素<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>要素の挿入された元のコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-24>説明<a href=#説明-24 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.insert()</code> 関数は、<em>index</em> で指定したコレクションインスタンスの位置に <em>element</em> 要素を挿入し、変更された元のコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p><em>index</em> パラメーターには、コレクション内で要素を挿入する位置を渡します。</p>
<blockquote>
<p><strong>警告</strong>: コレクション要素は 0 起点である点に注意してください。</p>
</blockquote>
<ul>
<li>指定した <em>index</em> がコレクションの length より大きい場合、実際の開始インデックスはコレクションの length に設定されます。</li>
<li><em>index</em> &lt;0 の場合、<em>index:=index+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。</li>
<li>計算結果も負の値である場合、index は 0 に設定されます。</li>
</ul>
<p>コレクションが受け入れるものであれば、どんな型の要素も (たとえば他のコレクションでも) 挿入可能です。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-19>例題<a href=#例題-19 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection("a";"b";"c";"d") //$col=["a","b","c","d"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.insert(2;"X") //$col=["a","b","X","c","d"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.insert(-2;"Y") //$col=["a","b","X","Y","c","d"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.insert(-10;"Hi") //$col=["Hi","a","b","X","Y","c","d"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=join>.join()<a href=#join class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.join</strong>( <em>delimiter</em> : Text { ; <em>option</em> : Integer } ) : Text</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>delimiter<td>Text<td style=text-align:center>-><td>要素間に用いる区切り文字<tr><td>option<td>Integer<td style=text-align:center>-><td><code>ck ignore null or empty</code>: 戻り値に null と空の文字列を含めない<tr><td>戻り値<td>Text<td style=text-align:center>&lt;-<td>区切り文字を使ってコレクションの全要素をつなげた文字列</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-25>説明<a href=#説明-25 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.join()</code> 関数は、<em>delimiter</em> に渡した文字列を区切り文字として、コレクションの全要素を一つの文字列につなげます。戻り値はつなげられた文字列です。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>デフォルトで、コレクションの null あるいは空の要素も戻り値の文字列に含めます。 これらを戻り値の文字列に含めたくない場合は、<em>option</em> パラメーターに <code>ck ignore null or empty</code> 定数を渡します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-20>例題<a href=#例題-20 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $t1;$t2 : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;3;"Paris";Null;"";4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $t1:=$c.join("|") //1|2|3|Paris|null||4|5</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $t2:=$c.join("|";ck ignore null or empty) //1|2|3|Paris|4|5</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=last>.last()<a href=#last class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>20<td>追加</table>
</div></div></details>
<p><strong>.last</strong>() : any</p>

















<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>戻り値<td>any<td style=text-align:center>&lt;-<td>コレクションの最後の要素</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-26>説明<a href=#説明-26 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.last()</code> 関数は、コレクションの最後の要素を返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>コレクションが空の場合、この関数は undefined を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-21>例題<a href=#例題-21 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $col; $emptyCol : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $last : Variant</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection(10; 20; 30; "hello"; 50)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$last:=$col.last() // 50</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$emptyCol:=New collection() // 空のコレクション</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $last:=$emptyCol[$emptyCol.length-1] // このコードはエラーを返します</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$last:=$emptyCol.last() // このコードは undefined を返します</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=lastindexof>.lastIndexOf()<a href=#lastindexof class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.lastIndexOf</strong>( <em>toSearch</em> : expression { ; <em>startFrom</em> : Integer } ) : Integer</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>toSearch<td>式<td style=text-align:center>-><td>コレクション内を検索する要素<tr><td>startFrom<td>Integer<td style=text-align:center>-><td>検索を開始するインデックス<tr><td>戻り値<td>Integer<td style=text-align:center>&lt;-<td>最後に見つかった toSearch のインデックス。見つからなかった場合には -1</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-27>説明<a href=#説明-27 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.lastIndexOf()</code> 関数は、 toSearch 引数の式をコレクション要素の中から検索し、最後に見つかった要素のインデックス (見つからなかった場合には -1) を返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p><em>toSearch</em> パラメーターには、コレクション内で検索する式を渡します。 以下のものを渡すことができます:</p>
<ul>
<li>スカラー値 (テキスト、数値、ブール、日付)</li>
<li>null 値</li>
<li>オブジェクトあるいはコレクションの参照</li>
</ul>
<p><em>toSearch</em> 引数は検出すべき要素と完全に一致している必要があります (等号演算子と同じルールが適用されます)。</p>
<p>オプションとして、<em>startFrom</em> 引数を渡すことで、逆順検索を開始するコレクション要素のインデックスを指定することができます。</p>
<ul>
<li><em>startFrom</em> が、コレクションの length から 1を引いた数字 (coll.length-1) 以上の場合、コレクション全体が検索されます (デフォルト)。</li>
<li><em>startFrom</em> &lt; 0 の場合、<em>startFrom:=startFrom+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。 計算結果も負の値である場合、-1 が返されます。これはコレクションが検索されていないことを意味します。
<strong>注:</strong> <em>startFrom</em> が負の値であっても、コレクションは右から左へと検索されます。</li>
<li><em>startFrom</em> = 0 の場合、-1 が返されます。これはコレクションが検索されていないことを意味します。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-22>例題<a href=#例題-22 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $pos1;$pos2;$pos3;$pos4;$pos5 : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=Split string("a,b,c,d,e,f,g,h,i,j,e,k,e";",") //$col.length=13</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pos1:=$col.lastIndexOf("e") // 戻り値: 12</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pos2:=$col.lastIndexOf("e";6) // 戻り値: 4</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pos3:=$col.lastIndexOf("e";15) // 戻り値: 12</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pos4:=$col.lastIndexOf("e";-2) // 戻り値: 10</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pos5:=$col.lastIndexOf("x") // 戻り値: -1</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=length>.length<a href=#length class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R5<td>追加</table>
</div></div></details>
<p><strong>.length</strong> : Integer</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-28>説明<a href=#説明-28 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.length</code> プロパティは、コレクション内の要素数を返します。</p>
<p><code>.length</code> プロパティは、コレクション作成時に初期化されます。 要素を追加・削除すると、必要に応じて length は更新されます。 このプロパティは <strong>読み取り専用</strong> です (これを使用してコレクションのサイズを設定することはできません)。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-23>例題<a href=#例題-23 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection // $col.length が 0 に初期化されます</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection("one";"two";"three") // $col.length が 3 に更新されます</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col[4]:="five" // $col.length が 5 に更新されます</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vSize:=$col.remove(0;3).length // $vSize=2</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=map>.map()<a href=#map class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>19 R6<td>フォーミュラをサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.map</strong>( <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : Collection<br><strong>.map</strong>( <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>formula<td>4D.Function<td style=text-align:center>-><td>フォーミュラオブジェクト<tr><td>methodName<td>Text<td style=text-align:center>-><td>メソッド名<tr><td>param<td>any<td style=text-align:center>-><td><em>formula</em> または <em>methodName</em> に渡す引数<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>変換された値を格納する新しいコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-29>説明<a href=#説明-29 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.map()</code> 関数は、 元のコレクションの各要素に対して <em>formula</em> または <em>methodName</em> を呼び出した結果に基づいた、新しいコレクションを作成します。 オプションで、<em>param</em> パラメーターに、<em>formula</em> または <em>methodName</em> に渡す引数を指定することができます。 <code>.map()</code> は常に、元のコレクションと同じサイズのコレクションを返します (<em>$1.stop</em> が使用された場合を除く (後述参照))。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>次のいずれかを使用して、コレクション要素を評価するために実行されるコールバックを指定します:</p>
<ul>
<li><em>formula</em> (推奨シンタックス)、関数やプロジェクトメソッドを含むあらゆる実行可能な式を格納できる <a href=/docs/ja/20-R6/API/FunctionClass>Formula オブジェクト</a>。</li>
<li>または <em>methodName</em>、プロジェクトメソッドの名前 (テキスト)。</li>
</ul>
<p>コールバックには、<em>param</em> (任意) に指定した引数が渡されます。 引数の有無にかかわらず、コールバックは任意の処理を実行でき、結果のコレクションに追加する変換後の新しい値を返さなくてはなりません。 コールバックは最初のパラメーター ($1) に <code>Object</code> を受け取ります。</p>
<p>コールバックは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 評価する要素の値</li>
<li><em>$2</em>: param</li>
<li><em>$N...</em>: paramN...</li>
</ul>
<p>また、コールバックは以下のパラメーターを設定できます:</p>
<ul>
<li>(メソッドを使用した場合は必須) <em>$1.result</em> (任意の型): 結果のコレクションに追加する、変換された値</li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-24>例題<a href=#例題-24 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection(1; 4; 9; 10; 20)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=$c.map(Formula(Round(($1.value/$2)*100; 2)); $c.sum())</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$c2=[2.27,9.09,20.45,22.73,45.45]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=max>.max()<a href=#max class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.max</strong>( { <em>propertyPath</em> : Text } ) : any</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>評価するオブジェクトプロパティのパス<tr><td>戻り値<td>Boolean, Text, Number, Collection, Object, Date<td style=text-align:center>&lt;-<td>コレクション内の最大値</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-30>説明<a href=#説明-30 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.max()</code> 関数は、コレクション内の最大値を持つ要素を返します (<a href=#sort><code>.sort()</code></a> 関数を使用して昇順に並べ替えたときのコレクションの最後の要素が最大値の要素です)。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>コレクションが異なる型の値を格納している場合、<code>.max()</code> 関数は型のリスト順の、最後の型の最大値を返します (<a href=#sort><code>.sort()</code></a> 参照)。</p>
<p>コレクションがオブジェクトを格納している場合には、最大値を取得するオブジェクトプロパティのパスを <em>propertyPath</em> に渡します。</p>
<p>コレクションが空の場合、 <code>.max()</code> は <em>Undefined</em> を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-25>例題<a href=#例題-25 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(200;150;55)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"salary";10000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"salary";50000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Alabama";"salary";10500))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $max:=$col.max() //{name:Alabama,salary:10500}</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $maxSal:=$col.max("salary") //50000</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $maxName:=$col.max("name") //"Wesson"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=min>.min()<a href=#min class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.min</strong>( { <em>propertyPath</em> : Text } ) : any</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>評価するオブジェクトプロパティのパス<tr><td>戻り値<td>Boolean, Text, Number, Collection, Object, Date<td style=text-align:center>&lt;-<td>コレクション内の最小値</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-31>説明<a href=#説明-31 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.min()</code> 関数は、コレクション内の最小値を持つ要素を返します (<a href=#sort><code>.sort()</code></a> 関数を使用して昇順に並べ替えたときのコレクションの先頭の要素が最小値の要素です)。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>コレクションが異なる型の値を格納している場合、<code>.min()</code> 関数は型のリスト順の、最初の型の最小値を返します (<a href=#sort><code>.sort()</code></a> 参照)。</p>
<p>コレクションがオブジェクトを格納している場合には、最小値を取得するオブジェクトプロパティのパスを <em>propertyPath</em> に渡します。</p>
<p>コレクションが空の場合、 <code>.min()</code> は <em>Undefined</em> を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-26>例題<a href=#例題-26 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(200;150;55)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"salary";10000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"salary";50000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Alabama";"salary";10500))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $min:=$col.min() //55</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $minSal:=$col.min("salary") //10000</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $minName:=$col.min("name") //"Alabama"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=multisort>.multiSort()<a href=#multisort class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>20 R3<td>追加</table>
</div></div></details>
<p><strong>.multiSort</strong>() : Collection<br><strong>.multiSort</strong>( <em>colsToSort</em> : Collection ) : Collection<br><strong>.multiSort</strong>( <em>formula</em> : 4D.Function ; <em>colsToSort</em> : Collection ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>formula<td>4D.Function<td style=text-align:center>-><td>フォーミュラオブジェクト<tr><td>colsToSort<td>Collection<td style=text-align:center>-><td>コレクションのコレクション、または {<code>collection</code>:<em>colToSort</em>;<code>order</code>:<code>ck ascending</code> / <code>ck descending</code>} プロパティを持つオブジェクトのコレクション<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>並べ替えられた元のコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-32>説明<a href=#説明-32 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.multiSort()</code> 関数は、複数のコレクションに対して複数レベルの同期ソートを実行します。</p>
<blockquote>
<p>この関数は、元のコレクションを変更します。また、<em>colsToSort</em> パラメーターに使用されたコレクションも変更されます。</p>
</blockquote>
<p><code>.multiSort()</code> が引数なしで呼び出された場合、この関数は <a href=#sort><code>.sort()</code></a> 関数と同じ効果を持ちます: コレクション要素は、スカラー値のみがデータ型に応じてデフォルトで昇順に並べ替えられます。 コレクションが異なる型の要素を格納している場合、それらはまず型ごとにグループ分けされ、そのあとで並べ替えられます。 型は以下の順番で返されます:</p>
<ol>
<li>null</li>
<li>ブール</li>
<li>文字列</li>
<li>数値</li>
<li>オブジェクト</li>
<li>コレクション</li>
<li>日付</li>
</ol>
<p><strong>単一レベルの同期ソート</strong></p>
<p>複数のコレクションを同期的にソートするには、<em>colsToSort</em> にソートするコレクションのコレクションを渡します。 渡せるコレクションの数に制限はありません。 呼び出し元のコレクションは昇順にソートされ、すべての <em>colsToSort</em> コレクションが同期ソートされます。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>注</div><div class=admonitionContent_BuS1><p><em>colsToSort</em> に渡すコレクションの要素数はすべて同じでなければなりません。そうでない場合はエラーが返されます。</div></div>
<p>昇順以外の方法でコレクションをソートしたい場合には、ソート順を定義する <em>formula</em> (<a href=/docs/ja/20-R6/API/FunctionClass#formula>Formula オブジェクト</a>) を指定する必要があります。 戻り値は、二つの要素の相対的な順番を示すブール値です。<em>$1.value</em> が <em>$1.value2</em> より小さい場合に <strong>true</strong> を、<em>$1.value</em> が <em>$1.value2</em> より大きい場合に <strong>false</strong> を返します。 必要に応じて、 追加の引数をフォーミュラに渡せます。</p>
<p>フォーミュラは以下の引数を受け取ります:</p>
<ul>
<li>$1 (オブジェクト):
<ul>
<li><em>$1.value</em> (任意の型): 比較する一つ目の要素の値</li>
<li><em>$1.value2</em> (任意の型): 比較する二つ目の要素の値</li>
</ul>
</li>
<li>$2...$N (任意の型): 追加の引数</li>
</ul>
<p><strong>複数レベルの同期ソート</strong></p>
<p>複数レベルの同期ソートを定義するには、サブレベルとして使用するコレクションについては、{<code>collection</code>:<em>colToSort</em>;<code>order</code>:<code>ck ascending</code> または <code>ck descending</code>} プロパティを含むオブジェクトを <em>colToSort</em> に格納して渡す必要があります。</p>
<p>ソートレベルは、<em>colsToSort</em> に渡されるコレクションの順序によって決定されます。 <code>collection</code>/<code>order</code> オブジェクトの構文内の位置が、そのソートレベルを決定します。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>注</div><div class=admonitionContent_BuS1><p><code>.multiSort()</code> 関数は、<a href=https://ja.wikipedia.org/wiki/%E3%82%BD%E3%83%BC%E3%83%88#%E5%AE%89%E5%AE%9A%E3%82%BD%E3%83%BC%E3%83%88 target=_blank rel="noopener noreferrer">安定性</a> のあるソートアルゴリズムを使用します。</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-9>例題 1<a href=#例題-1-9 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>異なる値の型を持つコレクションの単純な同期ソート:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $col;$col2;$col3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=["A"; "C"; "B"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col2:=[1; 2; 3]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col3:=[["Jim"; "Philip"; "Maria"]; ["blue"; "green"]; ["11"; 22; "33"]]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col.multiSort([$col2; $col3])</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$col=["A","B","C"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$col2=[1,3,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$col3[0]=["Jim","Philip","Maria"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$col3[1]=["11",22,"33"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$col3[2]=["blue","green"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-9>例題 2<a href=#例題-2-9 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>city (都市)、country (国)、continent (大陸) の 3つのコレクションを同期ソートします。 continent のコレクションを昇順にソートし、country のコレクションを同期ソートさせ、その次のレベルで city のコレクションを昇順にソートします:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $city : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $country : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $continent : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$city:=["Eching"; "Rabat"; "Paris"; "Lyon"; "San Diego"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$country:=["Germany"; "Morocco"; "France"; "France"; "US"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$continent:=["Europe"; "Africa"; "Europe"; "Europe"; "America"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$continent.multiSort([$country; {collection: $city; order: ck ascending}])</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$continent=["Africa", "America","Europe","Europe","Europe"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$country=["Morocco", "US","Germany","France","France"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$city=["Rabat","San Diego","Eching","Lyon","Paris"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-4>例題 3<a href=#例題-3-4 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>オブジェクトのコレクションを同期させることもできます。</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $name : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $address : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$name:=[]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$name.push({firstname: "John"; lastname: "Smith"})</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$name.push({firstname: "Alain"; lastname: "Martin"})</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$name.push({firstname: "Jane"; lastname: "Doe"})</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$name.push({firstname: "John"; lastname: "Doe"})</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$address:=[]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$address.push({city: "Paris"; country: "France"})</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$address.push({city: "Lyon"; country: "France"})</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$address.push({city: "Eching"; country: "Germany"})</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$address.push({city: "Berlin"; country: "Germany"})</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$name.multiSort(Formula($1.value.firstname&lt;$1.value2.firstname); [$address])</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//"Alain Martin","Jane Doe","John Smith","John Doe"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//"Lyon France","Eching Germany","Paris France","Berlin Germany"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=orderby>.orderBy()<a href=#orderby class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.orderBy</strong>( ) : Collection<br><strong>.orderBy</strong>( <em>pathStrings</em> : Text ) : Collection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : Collection<br><strong>.orderBy</strong>( <em>ascOrDesc</em> : Integer ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>pathStrings<td>Text<td style=text-align:center>-><td>コレクションの並べ替え基準とするプロパティパス<tr><td>pathObjects<td>Collection<td style=text-align:center>-><td>条件オブジェクトのコレクション<tr><td>ascOrDesc<td>Integer<td style=text-align:center>-><td><code>ck ascending</code> または <code>ck descending</code> (スカラー値)<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>並べ替えられたコレクションのコピー (シャロウ・コピー)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-33>説明<a href=#説明-33 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.orderBy()</code> 関数は、コレクションの要素を指定順に並べ替えた新しいコレクションを返します。</p>
<p>この関数は <em>シャロウ・コピー</em> を返します。つまり、元のコレクションにオブジェクト要素やコレクション要素が含まれていた場合、それらの参照は戻り値のコレクションで共有されます。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>引数を渡さなかった場合、メソッドはコレクション内のスカラー値を昇順に並べ替えます (オブジェクトやコレクションなどの他の型は内部的な順序で返されます)。 この自動並べ替え順は、<em>ascOrDesc</em> パラメーターに <code>ck ascending</code> あるいは <code>ck descending</code> 定数を渡すことで変更できます (以下参照)。</p>
<p>また、引数を渡すことで、コレクション要素をどのように並べ替えるかを指定することもできます。 次の 3つのシンタックスがサポートされています:</p>
<ul>
<li>
<p><em>pathStrings</em> : Text (フォーミュラ)。 <strong>シンタックス</strong>: <code>propertyPath1 {desc または asc}, propertyPath2 {desc または asc},...</code> (デフォルトの並び順: asc)。 <em>pathStrings</em> はカンマで区切られた、1〜n のプロパティパスと並び順 (任意) で構成されたフォーミュラを格納します。 プロパティを渡す順番が、コレクション要素の並べ替えの優先順位を決定します。 デフォルトでは、プロパティは昇順に並べ替えられます。 並び順を設定するには、プロパティパスの後に半角スペースで区切ったあとに、昇順を指定するには "asc"、降順を指定するには "desc" を渡します。</p>
</li>
<li>
<p><em>pathObjects</em> : Collection。 <em>pathObjects</em> コレクションには必要な数だけオブジェクトを追加することができます。 デフォルトでは、プロパティは昇順に並べ替えられます ("descending" は false)。 コレクションの各要素は、以下の構造を持つオブジェクトを格納します:</p>
</li>
</ul>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "propertyPath": string,</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "descending": boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<ul>
<li>
<p><em>ascOrDesc</em> : Integer。 <strong>Objects and collections</strong> テーマから、以下の定数のいずれか一つを渡します:</p>























<table><thead><tr><th>定数<th>型<th>値<th>説明<tbody><tr><td>ck ascending<td>Integer<td>0<td>要素は昇順に並べられます (デフォルト)<tr><td>ck descending<td>Integer<td>1<td>要素は降順に並べられます</table>
<p>このシンタックスは、コレクション内のスカラー値のみを並べ替えます (オブジェクトやコレクションなどの他の型は並べ替えされないまま返されます)。</p>
</li>
</ul>
<p>コレクションが異なる型の要素を格納している場合、それらはまず型ごとにグループ分けされ、そのあとで並べ替えられます。 型は以下の順番で返されます:</p>
<ol>
<li>null</li>
<li>ブール</li>
<li>文字列</li>
<li>数値</li>
<li>オブジェクト</li>
<li>コレクション</li>
<li>日付</li>
</ol>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-10>例題 1<a href=#例題-1-10 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>数値のコレクションを昇順および降順に並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2; $c3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For($vCounter;1;10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $c.push(Random)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy(ck ascending)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c3:=$c.orderBy(ck descending)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-10>例題 2<a href=#例題-2-10 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>オブジェクトのコレクションを、テキストフォーミュラに指定したプロパティ名に基づいて並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For($vCounter;1;10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $c.push(New object("id";$vCounter;"value";Random))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy("value desc")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy("value desc, id")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy("value desc, id asc")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>オブジェクトのコレクションをプロパティパスで並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"phones";New object("p1";"01";"p2";"02")))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"phones";New object("p1";"00";"p2";"03")))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy("phones.p1 asc")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-5>例題 3<a href=#例題-3-5 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>オブジェクトのコレクションを、<em x-id=3>pathObjects</em> コレクションを使用して並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $crit; $c; $c2 : COllection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $crit:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For($vCounter;1;10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $c.push(New object("id";$vCounter;"value";Random))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $crit.push(New object("propertyPath";"value";"descending";True))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $crit.push(New object("propertyPath";"id";"descending";False))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy($crit)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>プロパティパスで並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $crit; $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"phones";New object("p1";"01";"p2";"02")))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"phones";New object("p1";"00";"p2";"03")))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $crit:=New collection(New object("propertyPath";"phones.p2";"descending";True))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy($crit)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=orderbymethod>.orderByMethod()<a href=#orderbymethod class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>19 R6<td>フォーミュラをサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.orderByMethod</strong>( <em>formula</em> : 4D.Function { ; ...<em>extraParam</em> : expression } ) : Collection<br><strong>.orderByMethod</strong>( <em>methodName</em> : Text { ; ...<em>extraParam</em> : expression } ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>formula<td>4D.Function<td style=text-align:center>-><td>フォーミュラオブジェクト<tr><td>methodName<td>Text<td style=text-align:center>-><td>メソッド名<tr><td>extraParam<td>any<td style=text-align:center>-><td>渡す引数<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>並べ替えられたコレクションのコピー (シャロウ・コピー)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-34>説明<a href=#説明-34 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.orderByMethod()</code> 関数は、 <em>formula</em> または <em>methodName</em> によって定義された順番でコレクション要素を並べ替えた新しいコレクションを返します。</p>
<p>この関数は <em>シャロウ・コピー</em> を返します。つまり、元のコレクションにオブジェクト要素やコレクション要素が含まれていた場合、それらの参照は戻り値のコレクションで共有されます。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>次のいずれかを使用して、コレクション要素を評価するために実行されるコールバックを指定します:</p>
<ul>
<li>
<p><em>formula</em> (推奨シンタックス)、関数やプロジェクトメソッドを含むあらゆる実行可能な式を格納できる <a href=/docs/ja/20-R6/API/FunctionClass>Formula オブジェクト</a>。</p>
</li>
<li>
<p>または <em>methodName</em>、プロジェクトメソッドの名前 (テキスト)。</p>
</li>
</ul>
<p>コールバックには、二つの値を比較して、最初の値が二つ目の値より低い場合に <strong>true</strong> を返すコードの名称を渡します。 必要に応じて、 <em>extraParam</em> に指定した引数をコールバックに渡せます。</p>
<p>コールバックは以下の引数を受け取ります:</p>
<ul>
<li>$1 (オブジェクト):
<ul>
<li><em>$1.value</em> (任意の型): 比較する一つ目の要素の値</li>
<li><em>$1.value2</em> (任意の型): 比較する二つ目の要素の値</li>
<li>$2...$N (任意の型): 追加の引数</li>
</ul>
</li>
</ul>
<p>メソッドを使用する場合、以下の引数を設定する必要があります:</p>
<ul>
<li><em>$1.result</em> (ブール): <em>$1.value &lt; $1.value2</em> の場合は <strong>true</strong>、それ以外は <strong>false</strong>。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-11>例題 1<a href=#例題-1-11 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>文字列のコレクションをアルファベット順ではなく、数値順に並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2; $c3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push("33";"4";"1111";"222")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.orderBy() //$c2=["1111","222","33","4"], アルファベット順</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c3:=$c.orderByMethod(Formula(Num($1.value)&lt;Num($1.value2))) // $c3=["4","33","222","1111"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-11>例題 2<a href=#例題-2-11 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>文字列のコレクションを、文字列の長さを基準に並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $fruits; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $fruits:=New collection("Orange";"Apple";"Grape";"pear";"Banana";"fig";"Blackberry";"Passion fruit")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$fruits.orderByMethod(Formula(Length(String($1.value))>Length(String($1.value2))))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$c2=[Passion fruit,Blackberry,Orange,Banana,Apple,Grape,pear,fig]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-6>例題 3<a href=#例題-3-6 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>文字コード順またはアルファベット順にコレクション要素を並べ替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $strings1; $strings2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$strings1:=New collection("Alpha";"Charlie";"alpha";"bravo";"Bravo";"charlie")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// 文字コード順:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$strings2:=$strings1.orderByMethod(Function(sortCollection);sk character codes)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// 結果 : ["Alpha","Bravo","Charlie","alpha","bravo","charlie"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// アルファベット順:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$strings2:=$strings1.orderByMethod(Function(sortCollection);sk strict)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// 結果 : ["alpha","Alpha","bravo","Bravo","charlie","Charlie"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>sortCollection</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $1 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $2: Integer // 並べ替えオプション</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$1.result:=(Compare strings($1.value;$1.value2;$2)&lt;0)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=pop>.pop()<a href=#pop class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.pop()</strong> : any</p>

















<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>戻り値<td>any<td style=text-align:center>&lt;-<td>コレクションの最後の要素</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-35>説明<a href=#説明-35 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.pop()</code> 関数は、コレクションから最後の要素を取り除き、それを戻り値として返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p>空のコレクションに適用した場合、 <code>.pop()</code> は <em><strong>Undefined</strong></em> を返します。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-27>例題<a href=#例題-27 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.pop()</code> を <a href=#push><code>.push()</code></a> と組み合わせて使用すると、スタック (後入れ先出し構造) を実装することができます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $stack : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack:=New collection //$stack=[]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack.push(1;2) //$stack=[1,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack.pop() //$stack=[1] 、戻り値は 2 です</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack.push(New collection(4;5)) //$stack=[[1,[4,5]]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack.pop() //$stack=[1] 、戻り値は [4,5] です</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stack.pop() //$stack=[] 、戻り値は 1 です</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=push>.push()<a href=#push class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.push</strong>( <em>element</em> : any { ;...<em>elementN</em> } ) : Collection</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>element<td>any<td style=text-align:center>-><td>コレクションに追加する要素<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>要素の追加された元のコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-36>説明<a href=#説明-36 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.push()</code> 関数は、一つ以上の <em>element</em> 引数をコレクションインスタンスの最後に追加し、変更された元のコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-12>例題 1<a href=#例題-1-12 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(1;2) //$col=[1,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(3) //$col=[1,2,3]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(6;New object("firstname";"John";"lastname";"Smith"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$col=[1,2,3,6,{firstname:John,lastname:Smith}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-12>例題 2<a href=#例題-2-12 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>戻り値のコレクションを並び替えます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col; $sortedCol : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(5;3;9) //$col=[5,3,9]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sortedCol:=$col.push(7;50).sort()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$col=[5,3,9,7,50]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$sortedCol=[3,5,7,9,50]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=query>.query()<a href=#query class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>





















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>20 R6<td>オブジェクト参照またはコレクション参照を使用したクエリのサポート<tr><td>17 R5<td>querySettings をサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.query</strong>( <em>queryString</em> : Text ) : Collection<br><strong>.query</strong>( <em>queryString</em> : Text ; <em>...value</em> : any ) : Collection<br><strong>.query</strong>( <em>queryString</em> : Text ; <em>querySettings</em> : Object ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>queryString<td>Text<td style=text-align:center>-><td>検索条件<tr><td>value<td>any<td style=text-align:center>-><td>プレースホルダー使用時: 比較する値<tr><td>querySettings<td>Object<td style=text-align:center>-><td>クエリオプション: parameters, attributes 他<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>queryString に合致するコレクション要素</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-37>説明<a href=#説明-37 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.query()</code> 関数は、<em>queryString</em> および、任意の <em>value</em> や <em>querySettings</em> パラメーターによって定義された検索条件に合致するオブジェクトコレクションの要素をすべて返します。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<p>クエリの実行対象であるコレクションが検索値 <em>value</em> を含まない場合、空のコレクションが返されます。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=querystring-引数>queryString 引数<a href=#querystring-引数 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><em>queryString</em> 引数には、以下のシンタックスを使用します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">propertyPath 比較演算子 値 {logicalOperator propertyPath 比較演算子 値}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>詳細は以下の通りです:</p>
<ul>
<li>
<p><strong>propertyPath</strong>: クエリの実行対象となるプロパティのパス。 この引数は、単純な名前 ("country" など) のほか、あらゆる有効な属性パス ("country.name" など) の形をとることができます。 属性パスが <code>Collection</code> 型である場合、すべてのオカレンスを管理するには <code>[]</code> 記法を使用してください (例: <code>children[].age</code> など)。</p>
</li>
<li>
<p><strong>比較演算子</strong>: <em>propertyPath</em> 引数と <em>value</em> 引数の比較に使用する記号 以下の記号がサポートされます:</p>
</li>
</ul>




























































<table><thead><tr><th>比較<th>記号<th>説明<tbody><tr><td>等しい<td>=, ==<td>一致するデータを取得します。ワイルドカード (@) をサポートし、文字の大小/アクセントの有無は区別しません。<tr><td><td>===, IS<td>一致するデータを取得します。ワイルドカード (@) は標準の文字として認識され、文字の大小/アクセント記号の有無は区別しません。<tr><td>等しくない<td>#, !=<td>ワイルドカード (@) をサポートします。 "宣言に Not 条件を適用" と同じです (<a href=#%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B-%E7%AD%89%E3%81%97%E3%81%8F%E3%81%AA%E3%81%84>後述参照</a>)<tr><td><td>!==, IS NOT<td>ワイルドカード (@) は標準の文字として認識されます<tr><td>宣言に Not 条件を適用<td>NOT<td>複数の演算子が含まれる宣言の前に NOT を使用する場合にはカッコをつける必要があります。 "等しくない" と同じです (<a href=#%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B-%E7%AD%89%E3%81%97%E3%81%8F%E3%81%AA%E3%81%84>後述参照</a>)<tr><td>小さい<td>&lt;<td><tr><td>大きい<td>><td><tr><td>以下<td>&lt;=<td><tr><td>以上<td>> =<td><tr><td>含まれる<td>IN<td>コレクション、あるいは複数の値のうち、どれか一つの値と等しいデータを取得します。ワイルドカード (@) をサポートします。</table>
<ul>
<li>
<p><strong>値</strong> (value): コレクションの各要素のプロパティのカレント値に対して比較する値。 要素のデータ型に合致する任意の定数値の式または<a href=#%E3%83%97%E3%83%AC%E3%83%BC%E3%82%B9%E3%83%9B%E3%83%AB%E3%83%80%E3%83%BC%E3%82%92%E4%BB%95%E6%A7%98%E3%81%99%E3%82%8B><strong>プレースホルダー</strong></a>であることができます。
定数値を使用する場合、以下の原則に従う必要があります:</p>
<ul>
<li><strong>テキスト</strong> テキスト型の定数値の場合は単一引用符つき、あるいはなしでも渡すことができます(後述の <strong>引用符を使用する</strong> 参照)。 文字列中の文字列を検索する ("含まれる" クエリ) には、ワイルドカード記号 (@) を使用して検索文字列を指定します (例: "@Smith@")。 また以下のキーワードはテキスト定数においては使用できません: true, false。</li>
<li><strong>ブール</strong> 型の定数値: <strong>true</strong> または <strong>false</strong> (文字の大小を区別します)</li>
<li><strong>数値</strong> 型の定数値: 浮動小数点は '.' (ピリオド) で区切られます。</li>
<li><strong>日付</strong> 型の定数値: "YYYY-MM-DD" フォーマット。</li>
<li><strong>null</strong> 定数値: "null" キーワードを使用した場合、<strong>null</strong> と <strong>undefined</strong> プロパティの両方が検索されます。</li>
<li>IN 記号を使用したクエリの場合、<em>値</em> はコレクションか、attributePath の型に合致する、[ ] でくくられたカンマ区切りの値である必要があります (文字列においては、<code>"</code> の記号は <code>\</code> でエスケープする必要があります)。</li>
</ul>
</li>
<li>
<p><strong>論理演算子</strong>: 複数の条件をクエリ内で結合させるのに使用します(任意)。 以下の論理演算子のいずれか一つを使用できます (名前あるいは記号のどちらかを渡します):</p>
</li>
</ul>

















<table><thead><tr><th>結合<th>記号<tbody><tr><td>AND<td>&, &&, and<tr><td>OR<td>|,||, or</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=引用符を使用する>引用符を使用する<a href=#引用符��を使用する class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>クエリ内で引用符を使用する場合、クエリ内においては単一引用符 ' ' を使用し、クエリ全体をくくるには二重引用符 " " を使用します。クオートを混同するとエラーが返されます。 例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">"employee.name = 'smith' AND employee.firstname = 'john'"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<blockquote>
<p>単一引用符 (') は、クエリ文字列を分解してしまうため、検索値としてはサポートされていません。 たとえば、"comp.name = 'John's pizza' " はエラーを生成します。 単一引用符を含む値を検索するには、プレースホルダーを使用します (後述参照)。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=カッコを使用する>カッコを使用する<a href=#カッコを使用する class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>クエリ内でカッコを使用すると、計算に優先順位をつけることができます。 たとえば、以下のようにクエリを整理することができます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">"(employee.age >= 30 OR employee.age &lt;= 65) AND (employee.salary &lt;= 10000 OR employee.status = 'Manager')"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=プレースホルダーを使用する>プレースホルダーを使用する<a href=#プレースホルダーを使用する class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>4D では、<em>queryString</em> 引数内の <em>propertyPath</em> および <em>値 (value)</em> にプレースホルダーを使用することができます。 プレースホルダーとは、クエリ文字列に挿入するパラメーターで、クエリ文字列が評価される際に他の値で置き換えられるものです。 プレースホルダーの値はクエリ開始時に一度だけ評価されます。 各要素に対して毎回評価されるわけではありません。</p>
<p>プレースホルダーには二つの種類があります。<strong>インデックスプレースホルダー</strong> および <strong>命名プレースホルダー</strong> です。</p>
<ul>
<li><strong>インデックスプレースホルダー</strong>: <em>queryString</em> に <code>:paramIndex</code> (例 :1, :2...)  という形式でパラメーターが挿入され、それに対応する値は後に続く <em>value</em> 引数が提供します。 最大で 128個の <em>value</em> 引数を渡すことができます。</li>
</ul>
<p>例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$c:=$myCol.query(":1=:2";"city";"Chicago")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<ul>
<li><strong>命名プレースホルダー</strong>: パラメーターは <code>:paramName</code> (例: myparam など) という形で挿入され、その値は <em>querySettings</em> 引数の "attributes" または "parameters" オブジェクトで提供されます。</li>
</ul>
<p>例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$o.attributes:={att:"city"}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$o.parameters:={name:"Chicago")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=$myCol.query(":att=:name";$o)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em>queryString</em> には、すべての種類の引数を混ぜて渡すことができます。 <em>queryString</em> 引数は、<em>propertyPath</em> と <em>値</em> に以下のものを含めることができます:</p>
<ul>
<li>定数値 (プレースホルダーを使用しない)</li>
<li>インデックスプレースホルダーや命名プレースホルダー</li>
</ul>
<p>以下の理由から、クエリでのプレースホルダーの使用が <strong>推奨されます</strong>:</p>
<ol>
<li>悪意あるコードの挿入を防ぎます: ユーザーによって値が代入された変数をクエリ文字列として直接使用した場合、余計なクエリ引数を入力することでユーザーがクエリ条件を変更する可能性があります。 たとえば、以下のようなクエリ文字列を考えます:</li>
</ol>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $vquery:="status = 'public' & name = "+myname // ユーザーが自分の名前を入力します</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$col.query($vquery)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>非公開のデータがフィルタリングされているため、このクエリは一見安全なように見えます。 しかしながら、もしユーザーが <em>myname</em> に <em>smith OR status='private'</em> のような入力をした場合、クエリ文字列は解釈時に変更され、非公開データも返してしまう可能性があります。</p>
<p>プレースホルダーを使用した場合、セキュリティ条件を上書きすることは不可能です:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $result:=$col.query("status='public' & name=:1";myname)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>この場合、ユーザーが <em>myname</em> エリアに <em>smith OR status='private'</em> と入力した場合でも、それはクエリ文字列とはみなされず、値として渡されるだけです。 "smith OR status='private' " という名前の人物を検索したところで、結果は失敗に終わるだけです。</p>
<ol start=2>
<li>
<p>フォーマットや文字の問題を心配する必要がありません。これは、<em>propertyPath</em> や <em>値</em> がたとえば "."、"[' ...などの英数字でない文字を格納している可能性がある場合にとくに有用です。</p>
</li>
<li>
<p>クエリに変数や式を使用することができます。 例:</p>
</li>
</ol>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$result:=$col.query("address.city = :1 & name =:2";$city;$myVar+"@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$result2:=$col.query("company.name = :1";"John's Pizzas")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<blockquote>
<p><em>値 (value)</em> 引数内での <a href=#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%8F%82%E7%85%A7%E3%82%84%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E5%8F%82%E7%85%A7%E3%81%A7%E6%A4%9C%E7%B4%A2%E3%81%99%E3%82%8B><strong>コレクション参照</strong> または <strong>オブジェクト参照</strong></a> の使用は、このシンタックスではサポートされていません。 <a href=#querysettings-%E5%BC%95%E6%95%B0><em>querySettings</em> 引数</a>を使用する必要があります。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=null値を検索する>null値を検索する<a href=#null値を検索�する class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>null値を検索する場合、プレースホルダーシンタックスは使用できません。 なぜならクエリエンジンは null を予期せぬ比較値としてみなすからです。 たとえば、以下のクエリを実行した場合:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$vSingles:=$colPersons.query("spouse = :1";Null) // 機能しません</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>この場合 4D は null値を、引数の評価 (別のクエリから渡された属性など) に起因するエラーと解釈するため、期待した結果は得られません。 このようなクエリをおこなうには、直接的なシンタックスを使用する必要があります:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$vSingles:=$colPersons.query("spouse = null") // 正しいシンタックス</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=オブジェクト参照やコレクション参照で検索する>オブジェクト参照やコレクション参照で検索する<a href=#オブジェクト参照やコレクション参照で検索する class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><em>値 (value)</em> 引数にオブジェクト参照またはコレクション参照を渡して、コレクションをクエリすることができます。 クエリは、そのオブジェクトまたはコレクションの <strong>インスタンス</strong> と同じ参照先を持つオブジェクト要素を検索対象のコレクションにおいて探します。</p>
<p>次の比較演算子がサポートされています:</p>

















<table><thead><tr><th>比較<th>記号<tbody><tr><td>等しい<td>=, ==<tr><td>等しくない<td>#, !=</table>
<p>オブジェクトまたはコレクション参照を使用してクエリをビルドするには、<em>querySettings</em> 引数のシンタックスを使用する必要があります。 オブジェクト参照と比較する例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $o1:={a: 1}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $o2:={a: 1} // 同じオブジェクト、ただし別の参照</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $o3:=$o1 // 同じオブジェクト、かつ同じ参照</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $col; $colResult : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=[{o: $o1}; {o: $o2}; {o: $o3}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$colResult:=$col.query("o = :v"; {parameters: {v: $o3}})</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	// $colResult.length=2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	// $colResult[0].o=$o1 は true</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	// $colResult[1].o=$o1 は true</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>コレクション参照と比較する例:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c1:=[1; 2; 3]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c2:=[1; 2; 3] // 同じコレクション、ただし別の参照</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c3:=$c1 // 同じコレクション、かつ同じ参照</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=[{c: $c1}; {c: $c2}; {c: $c3}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col2:=$col.query("c = :v"; {parameters: {v: $c3}})</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	// $col2.length=2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	// $col2[0].c=$c1 は true</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	// $col2[1].c=$c1 は true</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=querysettings-引数>querySettings 引数<a href=#querysettings-引数 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><em>querySettings</em> 引数には、クエリのプレースホルダーをオブジェクトとして格納するオブジェクトを渡すことができます。 以下のプロパティがサポートされています:</p>




















<table><thead><tr><th>プロパティ<th>型<th>説明<tbody><tr><td>parameters<td>Object<td><em>queryString</em> に <strong>値の命名プレースホルダー</strong> を使用した場合に渡すオブジェクト。 値は、プロパティ/値のペアで表現されます。プロパティは、<em>queryString</em> に値の代わりに挿入されたプレースホルダー名 (":placeholder"など) で、値は、実際に比較される値です。 インデックスプレースホルダー (value引数として値を直接渡す方法) と命名プレースホルダーは、同じクエリ内で同時に使用することができます。<tr><td>attributes<td>Object<td><em>queryString</em> に <strong>属性パスの命名プレースホルダー</strong> を使用した場合に渡すオブジェクト。 属性パスは、プロパティ/値のペアで表現されます。プロパティは、<em>queryString</em> に属性パスの代わりに挿入されたプレースホルダー名 (":placeholder"など) で、値は、属性パスを表す文字列または文字列のコレクションです。 値には、コレクションのオブジェクト要素のプロパティへの属性パスを指定することができます。<table><tr><th>タイプ<th>説明<tr><td>String<td>ドット記法を使用して表現された attributePath (例: "name" または "user.address.zipCode")<tr><td>String の Collection<td>コレクションの各要素が attributePath の階層を表します (例: ["name"] または ["user","address","zipCode"])。 コレクションを使用することで、ドット記法に準じていない名前の属性に対してもクエリすることができます (例: ["4Dv17.1","en/fr"])。</table>インデックスプレースホルダー (<em>value</em> 引数として値を直接渡す方法) と命名プレースホルダーは、同じクエリ内で同時に使用することができます。</table>
<blockquote>
<p><a href=#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%8F%82%E7%85%A7%E3%82%84%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E5%8F%82%E7%85%A7%E3%81%A7%E6%A4%9C%E7%B4%A2%E3%81%99%E3%82%8B><strong>コレクション参照</strong>または<strong>オブジェクト参照</strong></a> を使用してコレクションをクエリする場合には、この引数を使用する必要があります。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-13>例題 1<a href=#例題-1-13 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2; $c3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Cleveland";"zc";35049))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Blountsville";"zc";35031))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Adger";"zc";35006))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35046))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Clanton";"zc";35045))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.query("name = :1";"Cleveland") //$c2=[{name:Cleveland,zc:35049}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c3:=$c.query("zc > 35040") //$c3=[{name:Cleveland,zc:35049},{name:Clanton,zc:35046},{name:Clanton,zc:35045}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-13>例題 2<a href=#例題-2-13 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Smith";"dateHired";!22-05-2002!;"age";45))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Wesson";"dateHired";!30-11-2017!))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Winch";"dateHired";!16-05-2018!;"age";36))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Sterling";"dateHired";!10-5-1999!;"age";Null))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New object("name";"Mark";"dateHired";!01-01-2002!))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>上記のオブジェクトに対し、以下のクエリは名前に "in" が含まれている人物を返します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $col:=$c.query("name = :1";"@in@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$col=[{name:Winch...},{name:Sterling...}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>以下のクエリは、変数に格納した文字列 (ユーザーが入力した文字列など) から名前が始まらない人物を返します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $col:=$c.query("name # :1";$aString+"@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //if $astring="W"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$col=[{name:Smith...},{name:Sterling...},{name:Mark...}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>以下のクエリは、年齢が不明な (プロパティが null あるいは undefined に設定されている) 人物を返します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $col:=$c.query("age=null") // "null" ではプレースホルダーは使えません</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$col=[{name:Wesson...},{name:Sterling...},{name:Mark...}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>以下のクエリは、採用から90日を超えている人物を返します:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $col:=$c.query("dateHired &lt; :1";(Current date-90))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // 今日が 01/10/2018 であれば $col=[{name:Smith...},{name:Sterling...},{name:Mark...}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-7>例題 3<a href=#例題-3-7 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>日付のクエリ:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("birthDate > :1";"1970-01-01")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("birthDate &lt;= :1";Current date-10950)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>追加のクエリ例については、<a href=/docs/ja/20-R6/API/dataclassClass.md#query><code>dataClass.query()</code></a> を参照してください。</div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=reduce>.reduce()<a href=#reduce class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>19 R6<td>フォーミュラをサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.reduce</strong>( <em>formula</em> : 4D.Function { ; <em>initValue</em> : any { ; <em>...param</em> : expression }} ) : any<br><strong>.reduce</strong>( <em>methodName</em> : Text { ; <em>initValue</em> : any { ; <em>...param</em> : expression }} ) : any</p>









































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>formula<td>4D.Function<td style=text-align:center>-><td>フォーミュラオブジェクト<tr><td>methodName<td>Text<td style=text-align:center>-><td>メソッド名<tr><td>initValue<td>Text, Number, Object, Collection, Date, Boolean<td style=text-align:center>-><td><em>formula</em> または <em>methodName</em> の最初の呼び出しに最初の引数として使用する値<tr><td>param<td>式<td style=text-align:center>-><td>渡す引数<tr><td>戻り値<td>Text, Number, Object, Collection, Date, Boolean<td style=text-align:center>&lt;-<td>アキュムレーター値の結果</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-38>説明<a href=#説明-38 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.reduce()</code> 関数は、<em>formula</em> または <em>methodName</em> コールバックをアキュムレーターおよびコレクションの各要素に (左から右へ) 適用して、単一の値にまとめます。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>次のいずれかを使用して、コレクション要素を評価するために実行されるコールバックを指定します:</p>
<ul>
<li><em>formula</em> (推奨シンタックス)、関数やプロジェクトメソッドを含むあらゆる実行可能な式を格納できる <a href=/docs/ja/20-R6/API/FunctionClass>Formula オブジェクト</a>。</li>
<li>または <em>methodName</em>、プロジェクトメソッドの名前 (テキスト)。</li>
</ul>
<p>コールバックはコレクションの各要素を受け取り、任意の処理を実行して、結果を <em>$1.accumulator</em> に蓄積します。この値は最終的に <em>$1.value</em> に返されます。</p>
<p><em>initValue</em> に引数を渡すことで、アキュムレーターを初期化することができます。 省略された場合は、<em>$1.accumulator</em> は <em>Undefined</em> から開始されます。</p>
<p>コールバックは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 処理する要素の値</li>
<li>in <em>$2: param</em></li>
<li>in <em>$N...</em>: <em>paramN...</em></li>
</ul>
<p>コールバックは以下のパラメーターを設定します:</p>
<ul>
<li><em>$1.accumulator</em>: メソッドで変更する値。<em>initValue</em> によって初期化します。</li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-14>例題 1<a href=#例題-1-14 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection(5;3;5;1;3;4;4;6;2;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$r:=$c.reduce(Formula($1.accumulator*=$1.value); 1)  // 戻り値は 86400 です</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-14>例題 2<a href=#例題-2-14 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>複数のコレクション要素を単一の値にまとめます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c;$r : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(0;1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(2;3))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(4;5))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(6;7))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $r:=$c.reduce(Formula(Flatten)) //$r=[0,1,2,3,4,5,6,7]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>Flatten</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> If($1.accumulator=Null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $1.accumulator:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $1.accumulator.combine($1.value)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=reduceright>.reduceRight()<a href=#reduceright class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>20<td>追加</table>
</div></div></details>
<p><strong>.reduceRight</strong>( <em>formula</em> : 4D.Function { ; <em>initValue</em> : any { ; <em>...param</em> : expression }} ) : any<br><strong>.reduceRight</strong>( <em>methodName</em> : Text { ; <em>initValue</em> : any { ; <em>...param</em> : expression }} ) : any</p>









































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>formula<td>4D.Function<td style=text-align:center>-><td>フォーミュラオブジェクト<tr><td>methodName<td>Text<td style=text-align:center>-><td>メソッド名<tr><td>initValue<td>Text, Number, Object, Collection, Date, Boolean<td style=text-align:center>-><td><em>formula</em> または <em>methodName</em> の最初の呼び出しに最初の引数として使用する値<tr><td>param<td>式<td style=text-align:center>-><td>渡す引数<tr><td>戻り値<td>Text, Number, Object, Collection, Date, Boolean<td style=text-align:center>&lt;-<td>アキュムレーター値の結果</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-39>説明<a href=#説明-39 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.reduceRight()</code> 関数は、<em>formula</em> または <em>methodName</em> コールバックをアキュムレーターおよびコレクションの各要素に (右から左へ) 適用して、単一の値にまとめます。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>次のいずれかを使用して、コレクション要素を評価するために実行されるコールバックを指定します:</p>
<ul>
<li><em>formula</em> (推奨シンタックス)、関数やプロジェクトメソッドを含むあらゆる実行可能な式を格納できる <a href=/docs/ja/20-R6/API/FunctionClass>Formula オブジェクト</a>。</li>
<li>または <em>methodName</em>、プロジェクトメソッドの名前 (テキスト)。</li>
</ul>
<p>コールバックはコレクションの各要素を受け取り、任意の処理を実行して、結果を <em>$1.accumulator</em> に蓄積します。この値は最終的に <em>$1.value</em> に返されます。</p>
<p><em>initValue</em> に引数を渡すことで、アキュムレーターを初期化することができます。 省略された場合は、<em>$1.accumulator</em> は <em>Undefined</em> から開始されます。</p>
<p>コールバックは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 処理する要素の値</li>
<li>in <em>$2: param</em></li>
<li>in <em>$N...</em>: <em>paramN...</em></li>
</ul>
<p>コールバックは以下のパラメーターを設定します:</p>
<ul>
<li><em>$1.accumulator</em>: メソッドで変更する値。<em>initValue</em> によって初期化します。</li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-15>例題 1<a href=#例題-1-15 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$c:=New collection(5;3;5;1;3;4;4;6;2;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$r:=$c.reduceRight(Formula($1.accumulator*=$1.value); 1)  // 戻り値は 86400 です</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-15>例題 2<a href=#例題-2-15 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>複数のコレクション要素を単一の値にまとめます:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c;$r : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(0;1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(2;3))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(4;5))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(New collection(6;7))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $r:=$c.reduceRight(Formula(Flatten)) //$r=[6,7,4,5,2,3,0,1]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><em><strong>Flatten</strong></em> メソッドのコードは以下のとおりです:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">	//Flatten プロジェクトメソッド</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($1.accumulator=Null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $1.accumulator:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $1.accumulator.combine($1.value)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=remove>.remove()<a href=#remove class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.remove</strong>( <em>index</em> : Integer { ; <em>howMany</em> : Integer } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>index<td>Integer<td style=text-align:center>-><td>削除を開始する要素の位置<tr><td>howMany<td>Integer<td style=text-align:center>-><td>削除する要素の数、省略時は 1要素を削除<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>要素が削除された元のコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-40>説明<a href=#説明-40 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.remove()</code> 関数は、<em>index</em> で指定した位置から一つまた複数のコレクション要素を削除し、変更されたコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p><em>index</em> パラメーターには、削除するコレクション要素の位置を渡します。</p>
<blockquote>
<p><strong>警告</strong>: コレクション要素は 0 起点である点に注意してください。 指定した <em>index</em> がコレクションの length より大きい場合、実際の開始インデックスはコレクションの length に設定されます。</p>
</blockquote>
<ul>
<li><em>index</em> &lt; 0 の場合、<em>index:=index+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。</li>
<li>計算結果も負の値である場合、<em>index</em> は 0 に設定されます。</li>
<li>計算結果がコレクションの length より大きい場合には、<em>index</em> は length に設定されます。</li>
</ul>
<p><em>howMany</em> には、<em>index</em> の位置から削除する要素の数を渡します。 <em>howMany</em> が省略された場合、1つの要素のみが削除されます。</p>
<p>空のコレクションから要素を削除しようとした場合、関数は何もしません (エラーは生成されません)。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-28>例題<a href=#例題-28 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection("a";"b";"c";"d";"e";"f";"g";"h")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.remove(3) // $col=["a","b","c","e","f","g","h"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.remove(3;2) // $col=["a","b","c","g","h"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.remove(-8;1) // $col=["b","c","g","h"]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.remove(-3;1) // $col=["b","g","h"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resize>.resize()<a href=#resize class=hash-link aria-label=見出しへ�の直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.resize</strong>( <em>size</em> : Integer { ; <em>defaultValue</em> : any } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>size<td>Integer<td style=text-align:center>-><td>コレクションの新しいサイズ<tr><td>defaultValue<td>Number, Text, Object, Collection, Date, Boolean<td style=text-align:center>-><td>新規要素のデフォルト値<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>リサイズされた元のコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-41>説明<a href=#説明-41 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.resize()</code> 関数は、コレクションの length を引数で指定されたサイズに設定し、変更された元のコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<ul>
<li><em>size</em> &lt; length の場合、余分な要素はコレクションから削除されます。</li>
<li><em>size</em> > length の場合、不足分の要素がコレクションに追加されます。</li>
</ul>
<p>デフォルトで、新規要素には <strong>null</strong> 値が格納されます。 <em>defaultValue</em> に引数を渡すことで、新規要素の値を指定することができます。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-29>例題<a href=#例題-29 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.resize(10) // $c=[null,null,null,null,null,null,null,null,null,null]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.resize(10;0) // $c=[0,0,0,0,0,0,0,0,0,0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;3;4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.resize(10;New object("name";"X")) //$c=[1,2,3,4,5,{name:X},{name:X},{name:X},{name:X},{name:X}]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;3;4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.resize(2) //$c=[1,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=reverse>.reverse()<a href=#reverse class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.reverse( )</strong> : Collection</p>

















<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>逆順に要素を格納した新しいコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-42>説明<a href=#説明-42 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.reverse()</code> 関数は、全要素が逆順になった、コレクションのディープ・コピーを返します。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-30>例題<a href=#例題-30 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $c2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;3;5;2;4;6)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c2:=$c.reverse() //$c2=[6,4,2,5,3,1]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=shift>.shift()<a href=#shift class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.shift()</strong> : any</p>

















<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>戻り値<td>any<td style=text-align:center>&lt;-<td>コレクションの先頭要素</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-43>説明<a href=#説明-43 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.shift()</code> 関数は、コレクションの先頭要素を取り除き、それを戻り値として返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p>コレクションが空の場合、 関数はなにもしません。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-31>例題<a href=#例題-31 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $val : Variant</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;4;5;6;7;8)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $val:=$c.shift()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $val=1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $c=[2,4,5,6,7,8]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=slice>.slice()<a href=#slice class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>startFrom<td>Integer<td style=text-align:center>-><td>開始インデックス (含まれる)<tr><td>end<td>Integer<td style=text-align:center>-><td>終了インデックス (含まれない)<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>抜粋要素を格納した新しいコレクション(シャロウ・コピー)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-44>説明<a href=#説明-44 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.slice()</code> 関数は、<em>startFrom</em> の位置 (含まれる) から <em>end</em> の位置 (含まれない) までの
コレクションの一部を、新しいコレクションの中に返します。 この関数は <em>シャロウ・コピー</em> を返します。 また、元のコレクションが共有コレクションであった場合、返されるコレクションもまた共有コレクションになります。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更しません。</p>
</blockquote>
<p>戻り値のコレクションには、<em>startFrom</em> 引数で指定した要素 (含まれる) から、<em>end</em> 引数で指定した要素まで (含まれない) の全要素が格納されます。 <em>startFrom</em> 引数のみを渡した場合には、<em>startFrom</em> 引数で指定した要素から最後の要素までが戻り値のコレクションに格納されます。</p>
<ul>
<li><em>startFrom</em> &lt; 0 の場合、<em>startFrom:=startFrom+length</em> として再計算されます (コレクションの終端からのオフセットであるとみなされます)。</li>
<li>再計算された値も負の値だった場合、<em>startFrom</em> は 0 に設定されます。</li>
<li><em>end</em> &lt; 0 の場合、それは <em>end:=end+length</em> として再計算されます。</li>
<li>渡された値、あるいは再計算された値が <em>end</em> &lt; <em>startFrom</em> の場合、関数はなにもしません。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-32>例題<a href=#例題-32 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c; $nc : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2;3;4;5)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $nc:=$c.slice(0;3) //$nc=[1,2,3]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $nc:=$c.slice(3) //$nc=[4,5]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $nc:=$c.slice(1;-1) //$nc=[2,3,4]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $nc:=$c.slice(-3;-2) //$nc=[3]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=some>.some()<a href=#some class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>19 R6<td>フォーミュラをサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.some</strong>( { <em>startFrom</em> : Integer ; } <em>formula</em> : 4D.Function { ; <em>...param</em> : any } ) : Boolean<br><strong>.some</strong>( { <em>startFrom</em> : Integer ; } <em>methodName</em> : Text { ; <em>...param</em> : any } ) : Boolean</p>









<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明</thead></table>
<p>| startFrom | Integer | -> | テストを開始するインデックス |
| formula | 4D.Function | -> | フォーミュラオブジェクト |
| methodName | Text | -> | メソッド名 |
| param | any | -> | 渡す引数 |
| 戻り値 | Boolean | &lt;- | 少なくとも一つの要素がテストをパスすれば true |</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-45>説明<a href=#説明-45 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>.some() 関数は、
少なくとも一つのコレクション要素が、<em>formula</em> または <em>methodName</em> のコードで実装されたテストにパスした場合に <strong>true</strong> を返します。</p>
<p>次のいずれかを使用して、コレクション要素を評価するために実行されるコード (コールバック) を指定します:</p>
<ul>
<li><em>formula</em> (推奨シンタックス)、関数やプロジェクトメソッドを含むあらゆる実行可能な式を格納できる <a href=/docs/ja/20-R6/API/FunctionClass>Formula オブジェクト</a>。</li>
<li>または <em>methodName</em>、プロジェクトメソッドの名前 (テキスト)。</li>
</ul>
<p>コールバックには、<em>param</em> (任意) に指定した引数が渡されます。 引数の有無にかかわらず、コールバックは任意のテストを実行でき、テストを満たす要素に対しては <strong>true</strong> を返さなくてはなりません。 コールバックは最初のパラメーター ($1) に <code>Object</code> を受け取ります。</p>
<p>コールバックは以下の引数を受け取ります:</p>
<ul>
<li><em>$1.value</em>: 処理する要素の値</li>
<li>in <em>$2: param</em></li>
<li>in <em>$N...</em>: <em>paramN...</em></li>
</ul>
<p>また、コールバックは以下のパラメーターを設定できます:</p>
<ul>
<li>(メソッドを使用する場合は必須) <em>$1.result</em> (ブール): 要素の値の評価が成功した場合には <strong>true</strong> 、それ以外は <strong>false</strong></li>
<li><em>$1.stop</em> (ブール、任意): メソッドコールバックを止める場合には <strong>true</strong>。 返された値は最後に計算されたものです。</li>
</ul>
<p><code>.some()</code> 関数は、true を返す最初のコレクション要素を発見すると、コールバックの呼び出しをやめて <strong>true</strong> を返します。</p>
<p>デフォルトでは、<code>.some()</code> はコレクション全体をテストします。 オプションとして、<em>startFrom</em> 引数を渡すことで、テストを開始するコレクション要素のインデックスを指定することができます。</p>
<ul>
<li>
<p><em>startFrom</em> がコレクションの length 以上だった場合、<strong>false</strong> が返されます。これはコレクションがテストされていないことを意味します。</p>
</li>
<li>
<p><em>startFrom</em> &lt; 0 の場合には、コレクションの終わりからのオフセットであるとみなされます。</p>
</li>
<li>
<p><em>startFrom</em> = 0 の場合、コレクション全体がテストされます (デフォルト)。</p>
</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-33>例題<a href=#例題-33 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p>コレクション要素のうち、0以上の値が少なくとも 1つあるかどうかを確認します。</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $b : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(-5;-3;-1;-4;-6;-2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.some(Formula($1.value>0)) // $b=false</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.some(Formula($1.value>0)) // $b=true</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.push(1;-5;-3;-1;-4;-6;-2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.some(Formula($1.value>0)) //$b=true</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $b:=$c.some(1;Formula($1.value>0)) //$b=false</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=sort>.sort()<a href=#sort class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>リリース<th>内容<tbody><tr><td>19 R6<td>フォーミュラをサポート<tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.sort</strong>() : Collection<br><strong>.sort</strong>( <em>formula</em> : 4D.Function { ; <em>...extraParam</em> : any } ) : Collection<br><strong>.sort</strong>( <em>methodName</em> : Text { ; <em>...extraParam</em> : any } ) : Collection</p>



































<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>formula<td>4D.Function<td style=text-align:center>-><td>フォーミュラオブジェクト<tr><td>methodName<td>Text<td style=text-align:center>-><td>メソッド名<tr><td>extraParam<td>any<td style=text-align:center>-><td>methodName に渡す引数<tr><td>戻り値<td>Collection<td style=text-align:center>&lt;-<td>並べ替えられた元のコレクション</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-46>説明<a href=#説明-46 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.sort()</code> 関数は、 コレクションの要素を並べ替え、並べ替えられた元のコレクションを返します 。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p>引数もなしに呼び出された場合、<code>.sort()</code> はスカラー値 (数値、テキスト、日付、ブール) のみを並べ替えます。 デフォルトでは、要素はそれぞれの型に応じて昇順で並べ替えられます。 コレクションが異なる型の要素を格納している場合、それらはまず型ごとにグループ分けされ、そのあとで並べ替えられます。 型は以下の順番で返されます:</p>
<ol>
<li>null</li>
<li>ブール</li>
<li>文字列</li>
<li>数値</li>
<li>オブジェクト</li>
<li>コレクション</li>
<li>日付</li>
</ol>
<p>カスタマイズされた順番や、型に関係なくコレクション要素を並べ替えたい場合には、並べ替え順を定義するコールバックを <em>formula</em> (<a href=/docs/ja/20-R6/API/FunctionClass>Formula オブジェクト</a>) または <em>methodName</em> (テキスト) に渡します。 戻り値は、二つの要素の相対的な順番を示すブール値です。<em>$1.value</em> が <em>$1.value2</em> より小さい場合に <strong>true</strong> を、<em>$1.value</em> が <em>$1.value2</em> より大きい場合に <strong>false</strong> を返します。 必要に応じて、 追加の引数をコールバックに渡せます。</p>
<p>コールバックは以下の引数を受け取ります:</p>
<ul>
<li>$1 (オブジェクト):
<ul>
<li><em>$1.value</em> (任意の型): 比較する一つ目の要素の値</li>
<li><em>$1.value2</em> (任意の型): 比較する二つ目の要素の値</li>
</ul>
</li>
<li>$2...$N (任意の型): 追加の引数</li>
</ul>
<p>メソッドを使用する場合、以下の引数を設定する必要があります:</p>
<ul>
<li><em>$1.result</em> (ブール): <em>$1.value &lt; $1.value2</em> の場合は <strong>true</strong>、それ以外は <strong>false</strong>。</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-16>例題 1<a href=#例題-1-16 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col; $col2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection("Tom";5;"Mary";3;"Henry";1;"Jane";4;"Artie";6;"Chip";2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col2:=$col.sort() // $col2=["Artie","Chip","Henry","Jane","Mary","Tom",1,2,3,4,5,6]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // $col=["Artie","Chip","Henry","Jane","Mary","Tom",1,2,3,4,5,6]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-16>例題 2<a href=#例題-2-16 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col; $col2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(10;20)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col2:=$col.push(5;3;1;4;6;2).sort() //$col2=[1,2,3,4,5,6,10,20]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-3-8>例題 3<a href=#例題-3-8 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $col; $col2; $col3 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col:=New collection(33;4;66;1111;222)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col2:=$col.sort() // 数値順: [4,33,66,222,1111]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$col3:=$col.sort(Formula(String($1.value)&lt;String($1.value2))) // アルファベット順: [1111,222,33,4,66]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=sum>.sum()<a href=#sum class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.sum</strong>( { <em>propertyPath</em> : Text } ) : Real</p>























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>propertyPath<td>Text<td style=text-align:center>-><td>計算に使用するオブジェクトプロパティのパス<tr><td>戻り値<td>Real<td style=text-align:center>&lt;-<td>コレクション要素の値の合計</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-47>説明<a href=#説明-47 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.sum()</code> 関数は、コレクションインスタンスの全要素の値を合計して返します。</p>
<p>計算の対象となるのは数値のみです (他の型の要素は無視されます)。</p>
<p>コレクションがオブジェクトを格納している場合には、計算するオブジェクトプロパティのパスを <em>propertyPath</em> に渡します。</p>
<p><code>.sum()</code> は以下の場合には 0 を返します:</p>
<ul>
<li>コレクションが空の場合</li>
<li>コレクションに数値が含まれていない場合</li>
<li><em>propertyPath</em> 引数で指定したパスがコレクション内で見つからない場合</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-1-17>例題 1<a href=#例題-1-17 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $vSum : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection(10;20;"Monday";True;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vSum:=$col.sum() //32</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-2-17>例題 2<a href=#例題-2-17 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $col : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $vSum : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Smith";"salary";10000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Wesson";"salary";50000))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push(New object("name";"Gross";"salary";10500,5))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vSum:=$col.sum("salary") //$vSum=70500,5</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=unshift>.unshift()<a href=#unshift class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>履歴</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>リリース<th>内容<tbody><tr><td>v16 R6<td>追加</table>
</div></div></details>
<p><strong>.unshift</strong>( <em>value</em> : any { ;...<em>valueN</em> : any } ) : Collection</p>





























<table><thead><tr><th>引数<th>型<th style=text-align:center><th>説明<tbody><tr><td>value<td>Text, Number, Object, Collection, Date<td style=text-align:center>-><td>コレクションの先頭に挿入する値<tr><td>戻り値<td>Real<td style=text-align:center>&lt;-<td>要素の追加された元のコレクション<tr><td><td><td style=text-align:center><td></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=説明-48>説明<a href=#説明-48 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<p><code>.unshift()</code> 関数は、一つ以上の <em>value</em> 引数をコレクションインスタンスの先頭に挿入し、変更された元のコレクションを返します。</p>
<blockquote>
<p>このコマンドは、元のコレクションを変更します。</p>
</blockquote>
<p>複数の値が渡された場合、それらは一度に挿入されます。つまり、引数の順番と同じ順番で変更後のコレクションに格納されます。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=例題-34>例題<a href=#例題-34 class=hash-link aria-label=見出しへの直接リンク title=見出しへの直接リンク>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $c : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=New collection(1;2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.unshift(4) // $c=[4,1,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.unshift(5) //$c=[5,4,1,2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c.unshift(6;7) // $c=[6,7,5,4,1,2]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=クリップボードにコードをコピー title=コピー class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FCollectionClass.md%20(20-R6)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>このページへコメントする</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label=ドキュメントのナビゲーション><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/ja/20-R6/API/ClassClass><div class=pagination-nav__sublabel>前へ</div><div class=pagination-nav__label>Class</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/ja/20-R6/API/CryptoKeyClass><div class=pagination-nav__sublabel>次へ</div><div class=pagination-nav__label>CryptoKey</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#例題 class="table-of-contents__link toc-highlight">例題</a><li><a href=#概要 class="table-of-contents__link toc-highlight">概要</a><li><a href=#new-collection class="table-of-contents__link toc-highlight"><code>New collection</code></a><li><a href=#new-shared-collection class="table-of-contents__link toc-highlight"><code>New shared collection</code></a><li><a href=#at class="table-of-contents__link toc-highlight">.at()</a><li><a href=#average class="table-of-contents__link toc-highlight">.average()</a><li><a href=#clear class="table-of-contents__link toc-highlight">.clear()</a><li><a href=#combine class="table-of-contents__link toc-highlight">.combine()</a><li><a href=#concat class="table-of-contents__link toc-highlight">.concat()</a><li><a href=#copy class="table-of-contents__link toc-highlight">.copy()</a><li><a href=#count class="table-of-contents__link toc-highlight">.count()</a><li><a href=#countvalues class="table-of-contents__link toc-highlight">.countValues()</a><li><a href=#distinct class="table-of-contents__link toc-highlight">.distinct()</a><li><a href=#equal class="table-of-contents__link toc-highlight">.equal()</a><li><a href=#every class="table-of-contents__link toc-highlight">.every()</a><li><a href=#extract class="table-of-contents__link toc-highlight">.extract()</a><li><a href=#fill class="table-of-contents__link toc-highlight">.fill()</a><li><a href=#filter class="table-of-contents__link toc-highlight">.filter()</a><li><a href=#find class="table-of-contents__link toc-highlight">.find()</a><li><a href=#findindex class="table-of-contents__link toc-highlight">.findIndex()</a><li><a href=#first class="table-of-contents__link toc-highlight">.first()</a><li><a href=#flat class="table-of-contents__link toc-highlight">.flat()</a><li><a href=#flatmap class="table-of-contents__link toc-highlight">.flatMap()</a><li><a href=#includes class="table-of-contents__link toc-highlight">.includes()</a><li><a href=#indexof class="table-of-contents__link toc-highlight">.indexOf()</a><li><a href=#indices class="table-of-contents__link toc-highlight">.indices()</a><li><a href=#insert class="table-of-contents__link toc-highlight">.insert()</a><li><a href=#join class="table-of-contents__link toc-highlight">.join()</a><li><a href=#last class="table-of-contents__link toc-highlight">.last()</a><li><a href=#lastindexof class="table-of-contents__link toc-highlight">.lastIndexOf()</a><li><a href=#length class="table-of-contents__link toc-highlight">.length</a><li><a href=#map class="table-of-contents__link toc-highlight">.map()</a><li><a href=#max class="table-of-contents__link toc-highlight">.max()</a><li><a href=#min class="table-of-contents__link toc-highlight">.min()</a><li><a href=#multisort class="table-of-contents__link toc-highlight">.multiSort()</a><li><a href=#orderby class="table-of-contents__link toc-highlight">.orderBy()</a><li><a href=#orderbymethod class="table-of-contents__link toc-highlight">.orderByMethod()</a><li><a href=#pop class="table-of-contents__link toc-highlight">.pop()</a><li><a href=#push class="table-of-contents__link toc-highlight">.push()</a><li><a href=#query class="table-of-contents__link toc-highlight">.query()</a><li><a href=#reduce class="table-of-contents__link toc-highlight">.reduce()</a><li><a href=#reduceright class="table-of-contents__link toc-highlight">.reduceRight()</a><li><a href=#remove class="table-of-contents__link toc-highlight">.remove()</a><li><a href=#resize class="table-of-contents__link toc-highlight">.resize()</a><li><a href=#reverse class="table-of-contents__link toc-highlight">.reverse()</a><li><a href=#shift class="table-of-contents__link toc-highlight">.shift()</a><li><a href=#slice class="table-of-contents__link toc-highlight">.slice()</a><li><a href=#some class="table-of-contents__link toc-highlight">.some()</a><li><a href=#sort class="table-of-contents__link toc-highlight">.sort()</a><li><a href=#sum class="table-of-contents__link toc-highlight">.sum()</a><li><a href=#unshift class="table-of-contents__link toc-highlight">.unshift()</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>コミュニティ</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://developer.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>デベロッパー・センター</a><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://twitter.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="col footer__col"><div class=footer__title>サポート</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (旧ドキュメント)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>ナレッジベース</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>ダウンロード<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>サポートを受ける<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>会社概要</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>4D社について<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>コンタクト<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>世界中の4D<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2024 4D SAS - All rights reserved</div></div></div></footer></div>