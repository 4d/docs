"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[35819],{942171:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>a});var t=s(474848),i=s(28453);const d={id:"classFunctions",title:"\u30af\u30e9\u30b9\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057"},r=void 0,l={id:"REST/classFunctions",title:"\u30af\u30e9\u30b9\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057",description:"You can call data model class functions defined for the ORDA Data Model and singleton class functions through REST requests, so that you can benefit from the exposed API of the targeted 4D application.",source:"@site/i18n/ja/docusaurus-plugin-content-docs/version-20-R7/REST/ClassFunctions.md",sourceDirName:"REST",slug:"/REST/classFunctions",permalink:"/docs/ja/REST/classFunctions",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2FClassFunctions.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"classFunctions",title:"\u30af\u30e9\u30b9\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057"},sidebar:"docs",previous:{title:"\u30c7\u30fc\u30bf\u64cd\u4f5c",permalink:"/docs/ja/REST/manData"},next:{title:"REST\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u3064\u3044\u3066",permalink:"/docs/ja/REST/REST_requests"}},c={},a=[{value:"\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057",id:"\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057",level:2},{value:"POST request",id:"post-request",level:4},{value:"GET request",id:"get-request",level:4},{value:"Function configuration",id:"function-configuration",level:2},{value:"<code>exposed</code>",id:"exposed",level:3},{value:"<code>onHttpGet</code>",id:"onhttpget",level:3},{value:"Thread-safe",id:"thread-safe",level:3},{value:"\u5f15\u6570",id:"\u5f15\u6570",level:2},{value:"\u30b9\u30ab\u30e9\u30fc\u5024\u306e\u5f15\u6570",id:"\u30b9\u30ab\u30e9\u30fc\u5024\u306e\u5f15\u6570",level:3},{value:"POST request",id:"post-request-1",level:4},{value:"GET request",id:"get-request-1",level:4},{value:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u5f15\u6570",id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u5f15\u6570",level:3},{value:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u5f15\u6570",id:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u5f15\u6570",level:4},{value:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u5f15\u6570",id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u5f15\u6570",level:3},{value:"POST request examples",id:"post-request-examples",level:2},{value:"\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u30fc\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",id:"\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u30fc\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",level:3},{value:"\u623b\u308a\u5024",id:"\u623b\u308a\u5024",level:4},{value:"DataClass\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",id:"dataclass\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",level:3},{value:"\u623b\u308a\u5024",id:"\u623b\u308a\u5024-1",level:4},{value:"Entity\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",id:"entity\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",level:3},{value:"\u623b\u308a\u5024",id:"\u623b\u308a\u5024-2",level:4},{value:"EntitySelection\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",id:"entityselection\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",level:3},{value:"\u623b\u308a\u5024",id:"\u623b\u308a\u5024-3",level:4},{value:"EntitySelection\u30af\u30e9\u30b9\u95a2\u6570\u3068\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30c3\u30c8\u3092\u4f7f\u7528\u3059\u308b",id:"entityselection\u30af\u30e9\u30b9\u95a2\u6570\u3068\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30c3\u30c8\u3092\u4f7f\u7528\u3059\u308b",level:3},{value:"\u623b\u308a\u5024",id:"\u623b\u308a\u5024-4",level:4},{value:"EntitySelection\u30af\u30e9\u30b9\u95a2\u6570\u3068 orderBy \u3092\u4f7f\u7528\u3059\u308b",id:"entityselection\u30af\u30e9\u30b9\u95a2\u6570\u3068-orderby-\u3092\u4f7f\u7528\u3059\u308b",level:3},{value:"\u623b\u308a\u5024",id:"\u623b\u308a\u5024-5",level:4},{value:"\u30b5\u30fc\u30d0\u30fc\u4e0a\u306b\u4f5c\u6210\u3055\u308c\u308b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f7f\u7528\u3059\u308b",id:"\u30b5\u30fc\u30d0\u30fc\u4e0a\u306b\u4f5c\u6210\u3055\u308c\u308b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f7f\u7528\u3059\u308b",level:3},{value:"\u623b\u308a\u5024",id:"\u623b\u308a\u5024-6",level:4},{value:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b",id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b",level:3},{value:"\u623b\u308a\u5024",id:"\u623b\u308a\u5024-7",level:4},{value:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u6301\u3064\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f5c\u6210\u3059\u308b",id:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u6301\u3064\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f5c\u6210\u3059\u308b",level:3},{value:"\u623b\u308a\u5024",id:"\u623b\u308a\u5024-8",level:4},{value:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u6301\u3064\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b",id:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u6301\u3064\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b",level:3},{value:"\u623b\u308a\u5024",id:"\u623b\u308a\u5024-9",level:4},{value:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b",id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b",level:3},{value:"\u623b\u308a\u5024",id:"\u623b\u308a\u5024-10",level:4},{value:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u66f4\u65b0\u3055\u308c\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b",id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u66f4\u65b0\u3055\u308c\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b",level:3},{value:"GET request examples",id:"get-request-examples",level:2},{value:"Returning a document",id:"returning-a-document",level:3},{value:"Using an entity to download a PDF document",id:"using-an-entity-to-download-a-pdf-document",level:3},{value:"Using an entity selection to get a list",id:"using-an-entity-selection-to-get-a-list",level:3}];function o(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["You can call ",(0,t.jsx)(n.a,{href:"/docs/ja/ORDA/ordaClasses",children:"data model class functions"})," defined for the ORDA Data Model and ",(0,t.jsx)(n.a,{href:"/docs/ja/REST/singleton",children:"singleton class functions"})," through REST requests, so that you can benefit from the exposed API of the targeted 4D application."]}),"\n",(0,t.jsx)(n.p,{children:"Functions can be called in two ways:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["using ",(0,t.jsx)(n.strong,{children:"POST requests"}),", with data parameters passed in the body of the request."]}),"\n",(0,t.jsxs)(n.li,{children:["using ",(0,t.jsx)(n.strong,{children:"GET requests"}),", with parameters directly passed in the URL."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"POST requests provide a better security level because they avoid running sensitive code through an action as simple as clicking on a link. However, GET requests can be more compliant with user experience, allowing to call functions by entering an URL in a browser (note: the developer must ensure no sensitive action is done in such functions)."}),"\n",(0,t.jsx)(n.h2,{id:"\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057",children:"\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057"}),"\n",(0,t.jsx)(n.p,{children:"The following ORDA and singleton functions can be called in REST:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u30af\u30e9\u30b9\u95a2\u6570"}),(0,t.jsx)(n.th,{children:"\u30b7\u30f3\u30bf\u30c3\u30af\u30b9"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/ja/ORDA/ordaClasses#datastore-%E3%82%AF%E3%83%A9%E3%82%B9",children:"DataStore \u30af\u30e9\u30b9"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/rest/$catalog/DataStoreClassFunction"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/ja/ORDA/ordaClasses#dataclass-%E3%82%AF%E3%83%A9%E3%82%B9",children:"DataClass \u30af\u30e9\u30b9"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/rest/\\{dataClass\\}/DataClassClassFunction"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/ja/ORDA/ordaClasses#entityselection-%E3%82%AF%E3%83%A9%E3%82%B9",children:"EntitySelection \u30af\u30e9\u30b9"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/rest/\\{dataClass\\}/EntitySelectionClassFunction"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/rest/{dataClass}/EntitySelectionClassFunction/$entityset/entitySetNumber"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/rest/{dataClass}/EntitySelectionClassFunction/$filter"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/rest/{dataClass}/EntitySelectionClassFunction/$orderby"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/ja/ORDA/ordaClasses#entity-%E3%82%AF%E3%83%A9%E3%82%B9",children:"Entity \u30af\u30e9\u30b9"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/rest/{dataClass}(key)/EntityClassFunction/"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/ja/Concepts/classes#%E3%82%B7%E3%83%B3%E3%82%B0%E3%83%AB%E3%83%88%E3%83%B3%E3%82%AF%E3%83%A9%E3%82%B9",children:"\u30b7\u30f3\u30b0\u30eb\u30c8\u30f3\u30af\u30e9\u30b9"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"/rest/$singleton/SingletonClass/SingletonClassFunction"})," (",(0,t.jsx)(n.a,{href:"/docs/ja/REST/singleton",children:"$singleton \u30da\u30fc\u30b8"})," \u53c2\u7167)"]})]})]})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"/rest/{dataClass}/Function"})," can be used to call either a dataclass or an entity selection function (",(0,t.jsx)(n.code,{children:"/rest/{dataClass}"})," returns all entities of the DataClass as an entity selection). EntitySelection \u30af\u30e9\u30b9\u306e\u95a2\u6570\u304c\u5148\u306b\u63a2\u3055\u308c\u307e\u3059\u3002 \u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306b\u3001DataClass\u30af\u30e9\u30b9\u3092\u63a2\u3057\u307e\u3059\u3002 \u3064\u307e\u308a\u3001\u540c\u3058\u540d\u79f0\u306e\u95a2\u6570\u304c DataClass\u30af\u30e9\u30b9\u3068 EntitySelection\u30af\u30e9\u30b9\u306e\u4e21\u65b9\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001DataClass\u30af\u30e9\u30b9\u306e\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002"]})}),"\n",(0,t.jsxs)(n.p,{children:["Functions are simply called on the appropriate ORDA interface or singleton class, without (). ",(0,t.jsx)(n.a,{href:"#parameters",children:"Parameters"})," are passed either in the body of the POST request (",(0,t.jsx)(n.code,{children:"POST"})," calls) or in the ",(0,t.jsx)(n.code,{children:"params"})," collection in the URL (",(0,t.jsx)(n.code,{children:"GET"})," calls)."]}),"\n",(0,t.jsxs)(n.p,{children:["\u305f\u3068\u3048\u3070\u3001City DataClass\u30af\u30e9\u30b9\u306b ",(0,t.jsx)(n.code,{children:"getCity()"})," \u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u305f\u5834\u5408\u3001\u6b21\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059:"]}),"\n",(0,t.jsx)(n.h4,{id:"post-request",children:"POST request"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"/rest/City/getCity"})}),"\n",(0,t.jsxs)(n.p,{children:["POST \u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3\u306b\u95a2\u6570\u306b\u6e21\u3059\u5f15\u6570\u3092\u542b\u3081\u307e\u3059: ",(0,t.jsx)(n.code,{children:'["Aguada"]'})]}),"\n",(0,t.jsx)(n.h4,{id:"get-request",children:"GET request"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"/rest/City/getCity?$params='[\"Aguada\"]'"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"getCity()"})," function must have been declared with the ",(0,t.jsx)(n.code,{children:"onHttpGet"})," keyword (see ",(0,t.jsx)(n.a,{href:"#function-configuration",children:"Function configuration"})," below)."]})}),"\n",(0,t.jsx)(n.p,{children:"\u3053\u306e\u547c\u3073\u51fa\u3057\u306f\u30014D\u30e9\u30f3\u30b2\u30fc\u30b8\u3067\u306f\u6b21\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306b\u76f8\u5f53\u3057\u307e\u3059:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'$city:=ds.City.getCity("Aguada")\n'})}),"\n",(0,t.jsx)(n.h2,{id:"function-configuration",children:"Function configuration"}),"\n",(0,t.jsx)(n.h3,{id:"exposed",children:(0,t.jsx)(n.code,{children:"exposed"})}),"\n",(0,t.jsxs)(n.p,{children:["All functions allowed to be called directly from HTTP REST requests (",(0,t.jsx)(n.code,{children:"POST"})," or ",(0,t.jsx)(n.code,{children:"GET"}),") must be declared with the ",(0,t.jsx)(n.code,{children:"exposed"})," keyword. \u4f8b:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"exposed Function getSomeInfo() : 4D.OutgoingMessage\n"})}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"/docs/ja/ORDA/ordaClasses#exposed-vs-non-exposed-functions",children:"Exposed vs non-exposed functions"})," section."]}),"\n",(0,t.jsx)(n.h3,{id:"onhttpget",children:(0,t.jsx)(n.code,{children:"onHttpGet"})}),"\n",(0,t.jsxs)(n.p,{children:["Functions allowed to be called from HTTP ",(0,t.jsx)(n.code,{children:"GET"})," requests must also be specifically declared with the ",(0,t.jsxs)(n.a,{href:"/docs/ja/ORDA/ordaClasses#onhttpget-keyword",children:[(0,t.jsx)(n.code,{children:"onHttpGet"})," keyword"]}),". \u4f8b:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"//allowing GET requests\nexposed onHttpGet Function getSomeInfo() : 4D.OutgoingMessage\n"})}),"\n",(0,t.jsx)(n.h3,{id:"thread-safe",children:"Thread-safe"}),"\n",(0,t.jsxs)(n.p,{children:["\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u6e08\u307f\u30e2\u30fc\u30c9\u3067\u5b9f\u884c\u3055\u308c\u308b\u5834\u5408\u3001REST\u30b5\u30fc\u30d0\u30fc\u306f\u5e38\u306b\u30d7\u30ea\u30a8\u30f3\u30d7\u30c6\u30a3\u30d6\u30d7\u30ed\u30bb\u30b9\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u3001REST\u30ea\u30af\u30a8\u30b9\u30c8\u304b\u3089\u547c\u3073\u51fa\u3055\u308c\u308b\u3059\u3079\u3066\u306e 4D\u30b3\u30fc\u30c9\u306f ",(0,t.jsx)(n.strong,{children:"\u30b9\u30ec\u30c3\u30c9\u30bb\u30fc\u30d5\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093"})," (",(0,t.jsxs)(n.a,{href:"/docs/ja/WebServer/preemptiveWeb#web%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E3%83%97%E3%83%AA%E3%82%A8%E3%83%B3%E3%83%97%E3%83%86%E3%82%A3%E3%83%96%E3%83%A2%E3%83%BC%E3%83%89%E3%82%92%E6%9C%89%E5%8A%B9%E5%8C%96%E3%81%99%E3%82%8B",children:[(0,t.jsx)(n.em,{children:"\u30d7\u30ea\u30a8\u30f3\u30d7\u30c6\u30a3\u30d6\u30d7\u30ed\u30bb\u30b9\u3092\u4f7f\u7528"})," \u306e\u8a2d\u5b9a\u5024"]})," \u306f\u3001REST\u30b5\u30fc\u30d0\u30fc\u306b\u3088\u3063\u3066\u7121\u8996\u3055\u308c\u307e\u3059)\u3002"]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["You can restrict calls to specific ORDA functions by configuring appropriate privileges in the ",(0,t.jsx)(n.a,{href:"/docs/ja/ORDA/privileges#rolesjson-file",children:(0,t.jsx)(n.strong,{children:"roles.json"})})," file."]})}),"\n",(0,t.jsx)(n.h2,{id:"\u5f15\u6570",children:"\u5f15\u6570"}),"\n",(0,t.jsxs)(n.p,{children:["You can send parameters to functions defined in ORDA user classes or singletons. \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u3067\u3053\u308c\u3089\u306e\u5f15\u6570\u306f\u3001\u30af\u30e9\u30b9\u95a2\u6570\u306e ",(0,t.jsx)(n.a,{href:"/docs/ja/Concepts/parameters#%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%83%BC%E3%81%AE%E5%AE%A3%E8%A8%80",children:"\u5ba3\u8a00\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc"})," \u306b\u53d7\u3051\u6e21\u3055\u308c\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u6b21\u306e\u30eb\u30fc\u30eb\u304c\u9069\u7528\u3055\u308c\u307e\u3059:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["In functions called through POST requests, parameters must be passed ",(0,t.jsx)(n.strong,{children:"in the body of the POST request"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["In functions called through GET requests, parameters must be passed ",(0,t.jsx)(n.strong,{children:'in the URL with "?$params=" syntax'}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Parameters must be enclosed within a collection (JSON format)."}),"\n",(0,t.jsx)(n.li,{children:"JSON \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u30b9\u30ab\u30e9\u30fc\u306a\u30c7\u30fc\u30bf\u578b\u306f\u3059\u3079\u3066\u5f15\u6570\u3068\u3057\u3066\u6e21\u305b\u307e\u3059\u3002"}),"\n",(0,t.jsxs)(n.li,{children:["\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3084\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3082\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u6e21\u305b\u307e\u3059\u3002 The parameter list must contain specific attributes used by the REST server to assign data to the corresponding ORDA objects: ",(0,t.jsx)(n.code,{children:"__DATACLASS"}),", ",(0,t.jsx)(n.code,{children:"__ENTITY"}),", ",(0,t.jsx)(n.code,{children:"__ENTITIES"}),", ",(0,t.jsx)(n.code,{children:"__DATASET"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%92%E5%BC%95%E6%95%B0%E3%81%A8%E3%81%97%E3%81%A6%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8B",children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b\u4f8b\u984c"})," \u3068 ",(0,t.jsx)(n.a,{href:"#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%BB%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E5%BC%95%E6%95%B0%E3%81%A8%E3%81%97%E3%81%A6%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8B",children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b\u4f8b\u984c"})," \u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002"]}),"\n",(0,t.jsx)(n.h3,{id:"\u30b9\u30ab\u30e9\u30fc\u5024\u306e\u5f15\u6570",children:"\u30b9\u30ab\u30e9\u30fc\u5024\u306e\u5f15\u6570"}),"\n",(0,t.jsx)(n.p,{children:'Scalar value parameter(s) must simply be enclosed in a collection. \u5f15\u6570\u3068\u3057\u3066\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u306e\u306f\u3001JSON\u30dd\u30a4\u30f3\u30bf\u30fc\u3092\u542b\u3080\u3059\u3079\u3066\u306e JSON \u306e\u30c7\u30fc\u30bf\u578b\u3067\u3059\u3002 \u65e5\u4ed8\u306f ISO 8601\u5f62\u5f0f\u306e\u6587\u5b57\u5217\u3068\u3057\u3066\u6e21\u305b\u307e\u3059 (\u4f8b: "2020-08-22T22:00:000Z")\u3002'}),"\n",(0,t.jsxs)(n.p,{children:["For example, with a  dataclass function ",(0,t.jsx)(n.code,{children:"getCities()"})," receiving text parameters:"]}),"\n",(0,t.jsx)(n.h4,{id:"post-request-1",children:"POST request"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"/rest/City/getCities"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u30dc\u30c7\u30a3\u306e\u5f15\u6570:"}),' ["Aguada","Paris"]']}),"\n",(0,t.jsx)(n.h4,{id:"get-request-1",children:"GET request"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:'/rest/City/getCities?$params=\'["Aguada","Paris"]\''})}),"\n",(0,t.jsx)(n.h3,{id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u5f15\u6570",children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u5f15\u6570"}),"\n",(0,t.jsx)(n.p,{children:"\u5f15\u6570\u3068\u3057\u3066\u6e21\u3055\u308c\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306f\u3001\u30ad\u30fc (__KEY \u30d7\u30ed\u30d1\u30c6\u30a3) \u306b\u3088\u3063\u3066\u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u53c2\u7167\u3055\u308c\u307e\u3059\u3002 If the key parameter is omitted in a request, a new entity is loaded in memory on the server.\n\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u304c\u6301\u3064\u5c5e\u6027\u306b\u3064\u3044\u3066\u3001\u5024\u3092\u53d7\u3051\u6e21\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 \u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u3053\u308c\u3089\u306e\u5024\u306f\u81ea\u52d5\u7684\u306b\u5f53\u8a72\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u7528\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\u30b5\u30fc\u30d0\u30fc\u4e0a\u306e\u65e2\u5b58\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u3064\u3044\u3066\u5909\u66f4\u3055\u308c\u305f\u5c5e\u6027\u5024\u3092\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u9001\u4fe1\u3057\u305f\u5834\u5408\u3001\u547c\u3073\u51fa\u3057\u305f ORDA\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u95a2\u6570\u306f\u81ea\u52d5\u7684\u306b\u5909\u66f4\u5f8c\u306e\u5024\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002 \u3053\u306e\u6a5f\u80fd\u306b\u3088\u3063\u3066\u3001\u305f\u3068\u3048\u3070\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u5bfe\u3059\u308b\u51e6\u7406\u306e\u3001\u3059\u3079\u3066\u306e\u30d3\u30b8\u30cd\u30b9\u30eb\u30fc\u30eb\u3092\u9069\u7528\u3057\u305f\u5f8c\u306e\u7d50\u679c\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u305d\u306e\u7d50\u679c\u3092\u3082\u3068\u306b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u4fdd\u5b58\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u65ad\u3067\u304d\u307e\u3059\u3002"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u30d7\u30ed\u30d1\u30c6\u30a3"}),(0,t.jsx)(n.th,{children:"\u578b"}),(0,t.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u5c5e\u6027"}),(0,t.jsx)(n.td,{children:"mixed"}),(0,t.jsx)(n.td,{children:"\u4efb\u610f - \u5909\u66f4\u3059\u308b\u5024"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"__DATACLASS"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u5fc5\u9808 - \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"__ENTITY"}),(0,t.jsx)(n.td,{children:"\u30d6\u30fc\u30eb"}),(0,t.jsx)(n.td,{children:"\u5fc5\u9808 - true \u306f\u5f15\u6570\u304c\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3067\u3042\u308b\u3053\u3068\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u901a\u77e5\u3057\u307e\u3059"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"__KEY"}),(0,t.jsx)(n.td,{children:"\u6df7\u5408 (\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc\u3068\u540c\u3058\u578b)"}),(0,t.jsx)(n.td,{children:"\u4efb\u610f - \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc"})]})]})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If ",(0,t.jsx)(n.code,{children:"__KEY"})," is not provided, a new entity is created on the server with the given attributes."]}),"\n",(0,t.jsxs)(n.li,{children:["If ",(0,t.jsx)(n.code,{children:"__KEY"})," is provided, the entity corresponding to ",(0,t.jsx)(n.code,{children:"__KEY"})," is loaded on the server with the given attributes"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["See examples for ",(0,t.jsx)(n.a,{href:"#creating-an-entity",children:"creating"})," or ",(0,t.jsx)(n.a,{href:"#updating-an-entity",children:"updating"})," entities with POST requests.\nSee an example of ",(0,t.jsx)(n.a,{href:"#using-an-entity-to-download-contents",children:"contents downloading using an entity"})," with a GET request."]}),"\n",(0,t.jsx)(n.h4,{id:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u5f15\u6570",children:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u5f15\u6570"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E5%BC%95%E6%95%B0",children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u5f15\u6570"})," \u3068\u540c\u3058\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6301\u3061\u307e\u3059\u3002 \u7570\u306a\u308b\u70b9\u306f\u3001\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306f\u5b58\u5728\u3057\u3066\u3044\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u305f\u3081\u3001\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc\u3092\u683c\u7d0d\u3059\u308b __KEY \u3092\u7701\u7565\u3067\u304d\u307e\u305b\u3093\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u6301\u3064\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092 ",(0,t.jsx)(n.a,{href:"#%E3%83%AA%E3%83%AC%E3%83%BC%E3%83%88%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%92%E6%8C%81%E3%81%A4%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B",children:"\u4f5c\u6210"})," \u307e\u305f\u306f ",(0,t.jsx)(n.a,{href:"#%E3%83%AA%E3%83%AC%E3%83%BC%E3%83%88%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%92%E6%8C%81%E3%81%A4%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%92%E6%9B%B4%E6%96%B0%E3%81%99%E3%82%8B",children:"\u66f4\u65b0"})," \u3059\u308b\u4f8b\u984c\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002"]}),"\n",(0,t.jsx)(n.h3,{id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u5f15\u6570",children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u5f15\u6570"}),"\n",(0,t.jsxs)(n.p,{children:["\u5f15\u6570\u3068\u3057\u3066\u6e21\u3059\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u306f\u3042\u3089\u304b\u3058\u3081 ",(0,t.jsx)(n.a,{href:"/docs/ja/REST/method#methodentityset",children:"$method=entityset"})," \u306b\u3088\u3063\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\u5909\u66f4\u3055\u308c\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3057\u305f\u5834\u5408\u3001\u547c\u3073\u51fa\u3057\u305f ORDA\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u95a2\u6570\u306f\u81ea\u52d5\u7684\u306b\u5909\u66f4\u5f8c\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u30d7\u30ed\u30d1\u30c6\u30a3"}),(0,t.jsx)(n.th,{children:"\u578b"}),(0,t.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u5c5e\u6027"}),(0,t.jsx)(n.td,{children:"mixed"}),(0,t.jsx)(n.td,{children:"\u4efb\u610f - \u5909\u66f4\u3059\u308b\u5024"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"__DATASET"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u5fc5\u9808 - \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30c3\u30c8ID (UUID)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"__ENTITIES"}),(0,t.jsx)(n.td,{children:"\u30d6\u30fc\u30eb"}),(0,t.jsx)(n.td,{children:"\u5fc5\u9808 - true \u306f\u5f15\u6570\u304c\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3067\u3042\u308b\u3053\u3068\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u901a\u77e5\u3057\u307e\u3059"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["See example for ",(0,t.jsx)(n.a,{href:"#receiving-an-entity-selection-as-parameter",children:"receiving an entity selection"})," with a POST request.\nSee example for ",(0,t.jsx)(n.a,{href:"#using-an-entity-selection-to-get-a-list",children:"getting a list built upon an entity selection"})," with a GET request."]}),"\n",(0,t.jsx)(n.h2,{id:"post-request-examples",children:"POST request examples"}),"\n",(0,t.jsx)(n.p,{children:"\u3053\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u3001localhost (\u30dd\u30fc\u30c88111) \u4e0a\u3067\u30ea\u30e2\u30fc\u30c8\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u30fc\u3068\u3057\u3066\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"alt-text",src:s(896592).A+"",width:"882",height:"599"})}),"\n",(0,t.jsx)(n.h3,{id:"\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u30fc\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",children:"\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u30fc\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b"}),"\n",(0,t.jsxs)(n.p,{children:["US_Cities ",(0,t.jsx)(n.code,{children:"DataStore"}),"\u30af\u30e9\u30b9\u306f API \u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'// DataStore \u30af\u30e9\u30b9\n\nClass extends DataStoreImplementation\n\nexposed Function getName() : Text\n    return "US cities and zip codes manager"\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u6b21\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"POST"})," ",(0,t.jsx)(n.code,{children:"127.0.0.1:8111/rest/$catalog/getName"})]}),"\n",(0,t.jsx)(n.h4,{id:"\u623b\u308a\u5024",children:"\u623b\u308a\u5024"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n"result": "US cities and zip codes manager"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"dataclass\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",children:"DataClass\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"City"})," \u306e DataClass\u30af\u30e9\u30b9\u306f\u3001\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u3063\u305f\u540d\u524d\u3092\u3082\u3068\u306b City \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8fd4\u3059 API \u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'// City\u30af\u30e9\u30b9\n\nClass extends DataClass\n\nexposed Function getCity($city : Text ) : cs.CityEntity\n    return This.query("name = :1";$city).first()\n\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u6b21\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"POST"})," ",(0,t.jsx)(n.code,{children:"127.0.0.1:8111/rest/City/getCity"})]}),"\n",(0,t.jsx)(n.p,{children:'\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3: ["Aguada"]'}),"\n",(0,t.jsx)(n.h4,{id:"\u623b\u308a\u5024-1",children:"\u623b\u308a\u5024"}),"\n",(0,t.jsx)(n.p,{children:"\u7d50\u679c\u306f\u3001\u6b21\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3067\u3059:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n    "__entityModel": "City",\n    "__DATACLASS": "City",\n    "__KEY": "1",\n    "__TIMESTAMP": "2020-03-09T08:03:19.923Z",\n    "__STAMP": 1,\n    "ID": 1,\n    "name": "Aguada",\n    "countyFIPS": 72003,\n    "county": {\n        "__deferred": {\n            "uri": "/rest/County(72003)",\n            "__KEY": "72003"\n        }\n    },\n    "zips": {\n        "__deferred": {\n            "uri": "/rest/City(1)/zips?$expand=zips"\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"entity\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",children:"Entity\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"CityEntity"})," \u306e Entity\u30af\u30e9\u30b9\u306f API \u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'// CityEntity\u30af\u30e9\u30b9\n\nClass extends Entity\n\nexposed Function getPopulation()\n    return This.zips.sum("population")\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u6b21\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"POST"})," ",(0,t.jsx)(n.code,{children:"127.0.0.1:8111/rest/City(2)/getPopulation"})]}),"\n",(0,t.jsx)(n.h4,{id:"\u623b\u308a\u5024-2",children:"\u623b\u308a\u5024"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n    "result": 48814\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"entityselection\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b",children:"EntitySelection\u30af\u30e9\u30b9\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"CitySelection"})," \u306e EntitySelection\u30af\u30e9\u30b9\u306f API \u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'// CitySelection \u30af\u30e9\u30b9\n\nClass extends EntitySelection\n\nexposed Function getPopulation()\n    return This.zips.sum("population")\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u6b21\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"POST"})," ",(0,t.jsx)(n.code,{children:'127.0.0.1:8111/rest/City/getPopulation/?$filter="ID<3"'})]}),"\n",(0,t.jsx)(n.h4,{id:"\u623b\u308a\u5024-3",children:"\u623b\u308a\u5024"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n    "result": 87256\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"entityselection\u30af\u30e9\u30b9\u95a2\u6570\u3068\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30c3\u30c8\u3092\u4f7f\u7528\u3059\u308b",children:"EntitySelection\u30af\u30e9\u30b9\u95a2\u6570\u3068\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30c3\u30c8\u3092\u4f7f\u7528\u3059\u308b"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"StudentsSelection"})," \u30af\u30e9\u30b9\u306f ",(0,t.jsx)(n.code,{children:"getAgeAverage"})," \u95a2\u6570\u3092\u6301\u3061\u307e\u3059:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"// StudentsSelection \u30af\u30e9\u30b9\n\nClass extends EntitySelection\n\nexposed Function getAgeAverage : Integer\n    var $sum : Integer\n    var $s : Object\n\n    $sum:=0\n    For each ($s;This)\n        $sum:=$sum+$s.age()\n    End for each\n    return $sum/This.length\n\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u3042\u3089\u304b\u3058\u3081\u4f5c\u6210\u3057\u305f\u65e2\u5b58\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30c3\u30c8\u3092\u4f7f\u3044\u3001\u6b21\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"POST"})," ",(0,t.jsx)(n.code,{children:"127.0.0.1:8044/rest/Students/getAgeAverage/$entityset/17E83633FFB54ECDBF947E5C620BB532"})]}),"\n",(0,t.jsx)(n.h4,{id:"\u623b\u308a\u5024-4",children:"\u623b\u308a\u5024"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n    "result": 34\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"entityselection\u30af\u30e9\u30b9\u95a2\u6570\u3068-orderby-\u3092\u4f7f\u7528\u3059\u308b",children:"EntitySelection\u30af\u30e9\u30b9\u95a2\u6570\u3068 orderBy \u3092\u4f7f\u7528\u3059\u308b"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"StudentsSelection"})," \u30af\u30e9\u30b9\u306f ",(0,t.jsx)(n.code,{children:"getLastSummary"})," \u95a2\u6570\u3092\u6301\u3061\u307e\u3059:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'// StudentsSelection \u30af\u30e9\u30b9\n\n\nClass extends EntitySelection\n\nexposed Function getLastSummary : Text\n    var $last : Object\n\n    $last:=This.last()\n    return =$last.firstname+" - "+$last.lastname+" is ... "+String($last.age())\n\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u6b21\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"POST"})," ",(0,t.jsx)(n.code,{children:'127.0.0.1:8044/rest/Students/getLastSummary/$entityset/?$filter="lastname=b@"&$orderby="lastname"'})]}),"\n",(0,t.jsx)(n.h4,{id:"\u623b\u308a\u5024-5",children:"\u623b\u308a\u5024"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n    "result": "Wilbert - Bull is ... 21"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u30b5\u30fc\u30d0\u30fc\u4e0a\u306b\u4f5c\u6210\u3055\u308c\u308b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f7f\u7528\u3059\u308b",children:"\u30b5\u30fc\u30d0\u30fc\u4e0a\u306b\u4f5c\u6210\u3055\u308c\u308b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f7f\u7528\u3059\u308b"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Students"})," DataClass\u30af\u30e9\u30b9\u306f\u3001\u30c7\u30fc\u30bf\u3092\u542b\u3080\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u53d7\u3051\u53d6\u308b ",(0,t.jsx)(n.code,{children:"pushData()"})," \u95a2\u6570\u3092\u6301\u3061\u307e\u3059\u3002 ",(0,t.jsx)(n.code,{children:"checkData()"})," \u30e1\u30bd\u30c3\u30c9\u306f\u3044\u304f\u3064\u304b\u306e\u691c\u8a3c\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u554f\u984c\u304c\u306a\u3051\u308c\u3070\u3001\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306f\u4fdd\u5b58\u3055\u308c\u3066\u8fd4\u3055\u308c\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"// Students \u30af\u30e9\u30b9\n\nClass extends DataClass\n\nexposed Function pushData($entity : Object) : Object\n    var $status : Object\n\n    $status:=checkData($entity) // $status is an object with a success boolean property\n\n    If ($status.success)\n        $status:=$entity.save()\n       If ($status.success)\n           return $entity\n      End if\n    End if\n\n    return $status\n\n\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6b21\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"POST"})," ",(0,t.jsx)(n.code,{children:"http://127.0.0.1:8044/rest/Students/pushData"})]}),"\n",(0,t.jsx)(n.p,{children:"\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'[{\n"__DATACLASS":"Students",\n"__ENTITY":true,\n"firstname":"Ann",\n"lastname":"Brown"\n}]\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"__KEY"})," \u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u306f ",(0,t.jsx)(n.strong,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u53d7\u3051\u53d6\u3063\u305f\u5c5e\u6027\u3092\u6301\u3064"})," \u65b0\u898f\u306e Students\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u304c\u8aad\u307f\u8fbc\u307e\u308c\u307e\u3059\u3002 ",(0,t.jsx)(n.code,{children:"pushData()"})," \u95a2\u6570\u304c ",(0,t.jsx)(n.code,{children:"save()"})," \u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u3001\u3053\u306e\u65b0\u898f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306f\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(n.h4,{id:"\u623b\u308a\u5024-6",children:"\u623b\u308a\u5024"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n    "__entityModel": "Students",\n    "__DATACLASS": "Students",\n    "__KEY": "55",\n    "__TIMESTAMP": "2020-06-16T10:54:41.805Z",\n    "__STAMP": 1,\n    "ID": 55,\n    "firstname": "Ann",\n    "lastname": "BROWN",\n    "schoolID": null,\n    "school": null\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b",children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b"}),"\n",(0,t.jsx)(n.p,{children:"__KEY \u5c5e\u6027\u3092\u4f7f\u3063\u3066\u3001\u4e0a\u306e\u4f8b\u984c\u3068\u540c\u3058\u3053\u3068\u3092\u304a\u3053\u306a\u3046\u3068\u3001\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u6b21\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"POST:"}),(0,t.jsx)(n.code,{children:"http://127.0.0.1:8044/rest/Students/pushData"})]}),"\n",(0,t.jsx)(n.p,{children:"\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'[{\n"__DATACLASS":"Students",\n"__ENTITY":true,\n"lastname":"Brownie",\n"__KEY":55\n}]\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"__KEY"})," \u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001",(0,t.jsx)(n.strong,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u53d7\u3051\u53d6\u3063\u305f lastname\u5c5e\u6027\u5024\u3092\u6301\u3064"})," \u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc\u304c 55 \u306e Students\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u304c\u8aad\u307f\u8fbc\u307e\u308c\u307e\u3059\u3002 pushData() \u95a2\u6570\u304c ",(0,t.jsx)(n.code,{children:"save()"})," \u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u3001\u3053\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306f\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(n.h4,{id:"\u623b\u308a\u5024-7",children:"\u623b\u308a\u5024"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n    "__entityModel": "Students",\n    "__DATACLASS": "Students",\n    "__KEY": "55",\n    "__TIMESTAMP": "2020-06-16T11:10:21.679Z",\n    "__STAMP": 3,\n    "ID": 55,\n    "firstname": "Ann",\n    "lastname": "BROWNIE",\n    "schoolID": null,\n    "school": null\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u6301\u3064\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f5c\u6210\u3059\u308b",children:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u6301\u3064\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f5c\u6210\u3059\u308b"}),"\n",(0,t.jsx)(n.p,{children:"\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc 2 \u3092\u6301\u3064 Schools\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3068\u3057\u3066\u3001\u65b0\u898f Students\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u6b21\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"POST:"}),(0,t.jsx)(n.code,{children:"http://127.0.0.1:8044/rest/Students/pushData"})]}),"\n",(0,t.jsx)(n.p,{children:"\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'[{\n"__DATACLASS":"Students",\n"__ENTITY":true,\n"firstname":"John",\n"lastname":"Smith",\n"school":{"__KEY":2}\n}]\n'})}),"\n",(0,t.jsx)(n.h4,{id:"\u623b\u308a\u5024-8",children:"\u623b\u308a\u5024"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n    "__entityModel": "Students",\n    "__DATACLASS": "Students",\n    "__KEY": "56",\n    "__TIMESTAMP": "2020-06-16T11:16:47.601Z",\n    "__STAMP": 1,\n    "ID": 56,\n    "firstname": "John",\n    "lastname": "SMITH",\n    "schoolID": 2,\n       "school": {\n        "__deferred": {\n            "uri": "/rest/Schools(2)",\n            "__KEY": "2"\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u6301\u3064\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b",children:"\u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u6301\u3064\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b"}),"\n",(0,t.jsxs)(n.p,{children:["\u65e2\u5b58\u306e Schools \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u65e2\u5b58\u306e Students\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u7d10\u4ed8\u3051\u307e\u3059\u3002 ",(0,t.jsx)(n.code,{children:"StudentsEntity"})," \u30af\u30e9\u30b9\u306f\u6b21\u306e API \u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"// cs.StudentsEntity \u30af\u30e9\u30b9\n\nClass extends Entity\n\nexposed Function putToSchool()\n    var $1, $school , $0, $status : Object\n\n        // $1 \u306f Schools \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\n    $school:=$1\n        // Schools \u30ea\u30ec\u30fc\u30c8\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u30ab\u30ec\u30f3\u30c8\u306e Students \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u7d10\u4ed8\u3051\u307e\u3059\n    This.school:=$school // \u3053\u306e\u3068\u304d\u3001school \u306f N\u5bfe1\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u540d\u3067\u3059\n\n    $status:=This.save()\n\n    $0:=$status\n\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You run this request, called on a Students entity : ",(0,t.jsx)(n.strong,{children:"POST"})," ",(0,t.jsx)(n.code,{children:"http://127.0.0.1:8044/rest/Students(1)/putToSchool"})," Body of the request:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'[{\n"__DATACLASS":"Schools",\n"__ENTITY":true,\n"__KEY":2\n}]\n'})}),"\n",(0,t.jsx)(n.h4,{id:"\u623b\u308a\u5024-9",children:"\u623b\u308a\u5024"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n    "result": {\n        "success": true\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b",children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Students"})," DataClass\u30af\u30e9\u30b9\u306f\u3001\u53d7\u3051\u53d6\u3063\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3 ($1) \u3092\u66f4\u65b0\u3059\u308b ",(0,t.jsx)(n.code,{children:"setFinalExam()"})," \u95a2\u6570\u3092\u6301\u3061\u307e\u3059\u3002 \u5b9f\u969b\u306b\u306f\u3001\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u5185\u306e\u5404\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e ",(0,t.jsx)(n.em,{children:"finalExam"})," \u5c5e\u6027\u5024\u3092\u30012\u3064\u76ee\u306b\u6e21\u3057\u305f\u5f15\u6570 ($2) \u306b\u66f4\u65b0\u3057\u307e\u3059\u3002 \u6700\u5f8c\u306b\u3001\u66f4\u65b0\u3055\u308c\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc\u3092\u8fd4\u3057\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"// Students class\n\nClass extends DataClass\n\nexposed Function setFinalExam()\n\n\n    var $1, $es, $student, $status : Object\n    var $2, $examResult : Text\n\n    var $keys, $0 : Collection\n\n      //Entity selection\n    $es:=$1\n\n    $examResult:=$2\n\n    $keys:=New collection()\n\n      //Loop on the entity selection\n    For each ($student;$es)\n        $student.finalExam:=$examResult\n        $status:=$student.save()\n        If ($status.success)\n            $keys.push($student.ID)\n        End if\n    End for each\n\n    $0:=$keys\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6b21\u306e\u3088\u3046\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30c3\u30c8\u3092\u3042\u3089\u304b\u3058\u3081\u4f5c\u6210\u3057\u307e\u3059:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:'http://127.0.0.1:8044/rest/Students/?$filter="ID<3"&$method=entityset'})}),"\n",(0,t.jsx)(n.p,{children:"\u6b21\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"POST"})," ",(0,t.jsx)(n.code,{children:"http://127.0.0.1:8044/rest/Students/setFinalExam"})]}),"\n",(0,t.jsx)(n.p,{children:"\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'[\n{\n"__ENTITIES":true,\n"__DATASET":"9B9C053A111E4A288E9C1E48965FE671"\n},\n"Passed"\n]\n\n\n'})}),"\n",(0,t.jsx)(n.h4,{id:"\u623b\u308a\u5024-10",children:"\u623b\u308a\u5024"}),"\n",(0,t.jsx)(n.p,{children:"\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc 1\u30682 \u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u304c\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n    "result": [\n        1,\n        2\n    ]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u66f4\u65b0\u3055\u308c\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u66f4\u65b0\u3055\u308c\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#EntitySelection%E3%82%AF%E3%83%A9%E3%82%B9%E9%96%A2%E6%95%B0%E3%81%A8%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%BB%E3%83%83%E3%83%88%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B",children:"\u524d\u8ff0"})," \u306e ",(0,t.jsx)(n.code,{children:"getAgeAverage()"})," \u95a2\u6570\u3092\u4f7f\u3044\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'var $remoteDS, $newStudent, $students : Object\nvar $ageAverage : Integer\n\n$remoteDS:=Open datastore(New object("hostname";"127.0.0.1:8044");"students")\n\n// $newStudent \u306f\u51e6\u7406\u3059\u308b Students\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3067\u3059\n$newStudent:=...\n$students:=$remoteDS.Students.query("school.name = :1";"Math school")\n// We add an entity to the $students entity selection on the client\n$students.add($newStudent)\n\n// We call a function on the StudentsSelection class returning the age average of the students in the entity selection\n// The function is executed on the server on the updated $students entity selection which included the student added from the client\n$ageAverage:=$students.getAgeAverage()\n\n'})}),"\n",(0,t.jsx)(n.h2,{id:"get-request-examples",children:"GET request examples"}),"\n",(0,t.jsx)(n.h3,{id:"returning-a-document",children:"Returning a document"}),"\n",(0,t.jsxs)(n.p,{children:["You want to propose a link to download the user manual for a selected product with several formats available. You write a ",(0,t.jsx)(n.code,{children:"getUserManual()"})," function of the Products dataclass. You return an object of the ",(0,t.jsxs)(n.a,{href:"/docs/ja/API/OutGoingMessageClass",children:[(0,t.jsx)(n.code,{children:"OutgoingMessage"})," class"]}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'// Product dataclass\nexposed onHTTPGet Function getUserManual($productId : Integer; $type : Text) : 4D.OutgoingMessage\n\t\nvar $file : 4D.File\nvar $response:=4D.OutgoingMessage.new()\nvar $doc:="/RESOURCES/User manuals/product_"+String($productId)\n\nCase of \n\t: ($type="pdf")\n\t\t$file:=File($doc+".pdf")\n                $response.setBody($file.getContent()) // This is binary content \n\t\t$response.setHeader("Content-Type"; "application/pdf")\n\t\t\t\n\t: ($type="jpeg")\n\t\t$file:=File($doc+".jpeg")\n                $response.setBody($file.getContent()) // This is binary content \n\t\t$response.setHeader("Content-Type"; "image/jpeg")\nEnd case \n\t\nreturn $response\n\n'})}),"\n",(0,t.jsx)(n.p,{children:"You can call the function using a request like:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"GET"})," ",(0,t.jsx)(n.code,{children:"http://127.0.0.1:8044/rest/Products/getUserManual?$params='[1,\"pdf\"]'"})]}),"\n",(0,t.jsx)(n.h3,{id:"using-an-entity-to-download-a-pdf-document",children:"Using an entity to download a PDF document"}),"\n",(0,t.jsx)(n.p,{children:"Same example as above but you want to pass an entity as parameter to the datastore function."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'// Product dataclass\nexposed onHTTPGet Function getUserManual($product : cs.ProductEntity) : 4D.OutgoingMessage\n\t\n\tvar $file : 4D.File\n\tvar $response := 4D.OutgoingMessage.new()\n\t\n\t$file:=File("/RESOURCES/User manuals/"+$product.name+".pdf")\n\t$response.setBody($file.getContent())\n\t$response.setHeader("Content-Type"; "application/pdf")\n\t\n\treturn $response\n'})}),"\n",(0,t.jsx)(n.p,{children:"You can call the function using this request:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"GET"})," ",(0,t.jsx)(n.code,{children:'http://127.0.0.1:8044/rest/Product/getUserManual?$params=\'[{"__DATACLASS":"Product","__ENTITY":true,"__KEY":41}]\''})]}),"\n",(0,t.jsx)(n.h3,{id:"using-an-entity-selection-to-get-a-list",children:"Using an entity selection to get a list"}),"\n",(0,t.jsxs)(n.p,{children:["You want to send an entity selection as parameter to a singleton function using a REST GET request and return a list using an object of the ",(0,t.jsxs)(n.a,{href:"/docs/ja/API/OutGoingMessageClass",children:[(0,t.jsx)(n.code,{children:"OutgoingMessage"})," class"]}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'shared singleton Class constructor()\n\t\nexposed onHTTPGet Function buildShoppingList($products : cs.ProductSelection) : 4D.OutgoingMessage\n\t\n\tvar $p : cs.ProductsEntity\n\tvar $content : Text\n\tvar $response := 4D.OutgoingMessage.new()\n\t\n\t$content:=""\n\t\n\tFor each ($p; $products)\n\t\t$content:=$content+" "+$p.manufacturer+" - "+$p.name\n\t\t$content:=$content+Char(Carriage return)\n\tEnd for each \n\t\n\t$response.setBody($content)\n\t$response.setHeader("Content-Type"; "text/plain")\n\t\n\treturn $response\n'})}),"\n",(0,t.jsx)(n.p,{children:"You can call the function using this request:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"GET"})," ",(0,t.jsx)(n.code,{children:'http://127.0.0.1:8044/rest/$singleton/Shopping/buildShoppingList?$params=\'[{"__DATASET":"8DB0556854HDK52FR5974F","__ENTITIES":true}]\''})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},896592:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/ordastructure-64d64d76ce9764a2365629e381bde282.png"},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(296540);const i={},d=t.createContext(i);function r(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);