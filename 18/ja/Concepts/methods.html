<!DOCTYPE html><html lang="ja"><head><meta name="docsearch:version" content="18"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>メソッド · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="メソッドとは、1つ以上の動作を実行するコードのことです。 4D ランゲージにおいて、2種類のメソッドが存在します:"/><meta name="docsearch:language" content="ja"/><meta property="og:title" content="メソッド · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io//docs/18/index.html"/><meta property="og:description" content="メソッドとは、1つ以上の動作を実行するコードのことです。 4D ランゲージにおいて、2種類のメソッドが存在します:"/><meta property="og:image" content="https://4d.github.io//docs/18/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io//docs/18/img/logohome.png"/><link rel="shortcut icon" href="/docs/18/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/18/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/18/js/code-blocks-buttons.js"></script><script src="/docs/18/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/18/css/main.css"/><script src="/docs/18/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/18/ja"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v18 R6 BETA</a></li><li class=""><a href="https://developer.4d.com/docs/Rx" target="_self">v18 R5</a></li><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/18/img/language.svg" alt="Languages icon"/>日本語</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/18/en/Concepts/methods.html">English</a></li><li><a href="/docs/18/de/Concepts/methods.html">Deutsch</a></li><li><a href="/docs/18/es/Concepts/methods.html">Español</a></li><li><a href="/docs/18/fr/Concepts/methods.html">Français</a></li><li><a href="/docs/18/pt/Concepts/methods.html">Português</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>ランゲージのコンセプト</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">はじめに<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/ja/GettingStarted/installation.html">インストールとアクティベーション</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ランゲージのコンセプト<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/about.html">4D ランゲージについて</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/quick-tour.html">概要</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/data-types.html">データタイプの概要</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/boolean.html">ブール</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/collection.html">コレクション</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/date.html">日付</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/null-undefined.html">Null と 未定義</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/number.html">数値 (実数、倍長整数、整数)</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/object.html">オブジェクト</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/picture.html">ピクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/pointer.html">ポインター</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/string.html">文字列</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/time.html">時間</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/variant.html">バリアント</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/variables.html">変数</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/arrays.html">配列</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/18/ja/Concepts/methods.html">メソッド</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/parameters.html">引数</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/shared.html">共有オブジェクトと共有コレクション</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/control-flow.html">制御フロー</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/branching.html">分岐構造</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/looping.html">ループ構造</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/error-handling.html">エラー処理</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/interpreted-compiled.html">インタープリターモードとコンパイル済みモード</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/components.html">コンポーネント</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/plug-ins.html">プラグイン</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Concepts/identifiers.html">識別子の命名規則</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">プロジェクトデータベース<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/ja/Project/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Project/creating.html">4D プロジェクトの作成</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Project/architecture.html">4D プロジェクトのアーキテクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Project/developing.html">プロジェクトの開発</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Project/building.html">プロジェクトパッケージのビルド</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">フォームエディター<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormEditor/objectLibrary.html">オブジェクトライブラリ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormEditor/stylesheets.html">スタイルシート</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormEditor/pictures.html">ピクチャー</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">フォームオブジェクト<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/formObjectsOverview.html">4D フォームオブジェクトについて</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/buttonOverview.html">ボタン</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/buttonGridOverview.html">ボタングリッド</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/checkboxOverview.html">チェックボックス</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/comboBoxOverview.html">コンボボックス</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/dropdownListOverview.html">ドロップダウンリスト</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/groupBox.html">グループボックス</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/inputOverview.html">入力</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/listOverview.html">階層リスト</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/listboxOverview.html">リストボックス</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/pictureButtonOverview.html">ピクチャーボタン</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/picturePopupMenuOverview.html">ピクチャーポップアップメニュー</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/pluginAreaOverview.html">プラグインエリア</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/progressIndicator.html">進捗インジケーター</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/radiobuttonOverview.html">ラジオボタン</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/ruler.html">ルーラー</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/shapesOverview.html">図形</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/spinner.html">スピナー</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/splitters.html">スプリッター</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/staticPicture.html">スタティックピクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/stepper.html">ステッパー</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/subformOverview.html">サブフォーム</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/tabControl.html">タブコントロール</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/text.html">テキスト</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/webAreaOverview.html">Webエリア</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/viewProAreaOverview.html">4D View Pro エリア</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/writeProAreaOverview.html">4D Write Pro エリア</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">フォームオブジェクトプロパティ<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesReference.html">JSON プロパティリスト</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesAction.html">動作</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesAnimation.html">アニメーション</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesAppearance.html">アピアランス</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesBackgroundAndBorder.html">背景色と境界線</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesCoordinatesAndSizing.html">座標とサイズ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesCrop.html">行列数</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesDataSource.html">データソース</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesDisplay.html">表示フォーマット</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesEntry.html">入力</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesFooters.html">フッター</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesGridlines.html">グリッド線</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesHeaders.html">ヘッダー</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesHelp.html">ヘルプ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesHierarchy.html">階層</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesListBox.html">リストボックス</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesObject.html">オブジェクト</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesPicture.html">ピクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesPlugIns.html">プラグイン</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesPrint.html">印刷</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesRangeOfValues.html">値の範囲</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesResizingOptions.html">リサイズオプション</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesScale.html">スケール</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesSubform.html">サブフォーム</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesText.html">テキスト</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesTextAndPicture.html">テキスト、ピクチャー</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/FormObjects/propertiesWebArea.html">Webエリア</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">メニュー<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/ja/Menus/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Menus/creating.html">メニューとメニューバーの作成</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Menus/properties.html">メニュープロパティ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Menus/bars.html">メニューバーの管理</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Menus/sdi.html">Windows での SDIモード</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">MSC<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/ja/MSC/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/MSC/information.html">情報ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/MSC/analysis.html">ログ解析ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/MSC/verify.html">検査ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/MSC/backup.html">バックアップページ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/MSC/compact.html">圧縮ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/MSC/rollback.html">ロールバックページ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/MSC/restore.html">復元ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/MSC/repair.html">修復ページ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/MSC/encrypt.html">暗号化ページ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">バックアップと復元<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/ja/Backup/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Backup/backup.html">バックアップ</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Backup/settings.html">バックアップ設定</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Backup/log.html">ログファイル (.journal)</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Backup/restore.html">復元</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ユーザー＆グループ<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/ja/Users/overview.html">概要</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/Users/editing.html">4Dユーザー＆グループの管理</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">REST サーバー<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/gettingStarted.html">はじめに</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/configuration.html">サーバー設定</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/authUsers.html">ユーザーとセッション</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/genInfo.html">サーバー情報の取得</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/manData.html">データ操作</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/REST_requests.html">RESTリクエストについて</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (general)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/catalog.html">$catalog</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/directory.html">$directory</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/info.html">$info</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/upload.html">$upload</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (dataClass)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/{dataClass}.html">{dataClass}</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/asArray.html">$asArray</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/atomic_$atonce.html">$atomic/$atonce</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/attributes.html">$attributes</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/binary.html">$binary</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/compute.html">$compute</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/distinct.html">$distinct</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/entityset.html">$entityset</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/expand.html">$expand</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/filter.html">$filter</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/imageformat.html">$imageformat</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/method.html">$method</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/orderby.html">$orderby</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/querypath.html">$querypath</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/queryplan.html">$queryplan</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/savedfilter.html">$savedfilter</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/savedorderby.html">$savedorderby</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/skip.html">$skip</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/timeout.html">$timeout</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/top_$limit.html">$top/$limit</a></li><li class="navListItem"><a class="navItem" href="/docs/18/ja/REST/version.html">$version</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/18/docs/Concepts/methods.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">メソッド</h1></header><article><div><span><p>メソッドとは、1つ以上の動作を実行するコードのことです。 4D ランゲージにおいて、2種類のメソッドが存在します:</p>
<ul>
<li><p><strong>ビルトインメソッド:</strong> 4D またはサードパーティーによって提供されるもので、これらをコード内で利用することができます。 ビルトインメソッドには次のものが含まれます:</p>
<ul>
<li>4D API のコマンドや関数 (<code>ALERT</code> や <code>Current date</code> など)</li>
<li>ネイティブオブジェクトやコレクションに付属しているメンバーメソッド (<code>collection.orderBy()</code> や <code>entity.save()</code> など)</li>
<li>4D やサードパーティーによって提供されるプラグインやコンポーネントのコマンド (<code>SVG_New_arc</code> など)</li>
</ul>
<p>ビルトインメソッドの詳細については、* 4D ランゲージリファレンス* マニュアルや、プラグイン・コンポーネントの専用マニュアルを参照ください。</p></li>
<li><p><strong>プロジェクトメソッド:</strong> 任意の動作の実行するためにデベロッパー自身が作成するコードのことです。 作成されたプロジェクトメソッドは、そのデータベースの中でランゲージの一部となります。 プロジェクトメソッドは、ステートメントで構成されます。ステートメントとは、メソッドの 1行のことで 1つの命令を実行します。 ステートメントは単純な場合もあれば、複雑な場合もあります。 各ステートメントは常に 1行ですが最大 32,000文字まで使用することができます。 プロジェクトメソッドは最大 2GBのテキストまたは、32000行まで記述できます。</p></li>
</ul>
<p><strong>注:</strong> 4D では、データベースイベントやフォームイベントによって自動的に実行されるメソッドも各種提供されています。 <a href="#特化されたメソッド">特化されたメソッド</a> 参照。</p>
<h2><a class="anchor" aria-hidden="true" id="プロジェクトメソッドの呼び出し"></a><a href="#プロジェクトメソッドの呼び出し" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>プロジェクトメソッドの呼び出し</h2>
<p>その実行方法や使用方法に応じて、プロジェクトメソッドは次のような役割を果たします:</p>
<ul>
<li>サブルーチンと関数</li>
<li>オブジェクトの付属メソッド</li>
<li>メニューメソッド</li>
<li>プロセスメソッド</li>
<li>イベントまたはエラー処理メソッド</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="サブルーチンと関数"></a><a href="#サブルーチンと関数" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>サブルーチンと関数</h3>
<p>サブルーチンは、処理の下請け的なプロジェクトメソッドです。 他のメソッドから呼ばれて、要求された処理を実行します。 関数は、呼び出し元のメソッドに値を返すサブルーチンのことです。</p>
<p>プロジェクトメソッドを作成すると、それは同データベースのランゲージの一部となります。 プロジェクトメソッドは、4Dのビルトインコマンドと同様に、ほかのプロジェクトメソッドや定義済みメソッドから呼び出すことができます。 このように使用されるプロジェクトメソッドをサブルーチンと呼びます。</p>
<p>サブルーチンは、以下のような目的で使います:</p>
<ul>
<li>重複コードの削減</li>
<li>メソッドの役割の明確化</li>
<li>メソッド改変の容易化</li>
<li>コードのモジュール化</li>
</ul>
<p>たとえば、顧客データベースがあるとします。 データベースをカスタマイズしていくうちに、顧客を検索してレコードを修正するという一連の作業を繰り返しおこなっていることに気づいたとします。 そのコーディングは以下のようになっています:</p>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">// 顧客を検索します</span>
<span class="hljs-function"> QUERY BY EXAMPLE</span>([Customers])
  <span class="hljs-comment">// 入力フォームを選択します</span>
<span class="hljs-function"> FORM SET INPUT</span>([Customers];<span class="hljs-string">"Data Entry"</span>)
  <span class="hljs-comment">// 顧客レコードを修正します</span>
<span class="hljs-function"> MODIFY RECORD</span>([Customers])
</code></pre>
<p>サブルーチンを使用しなければ、顧客レコード修正のたびにコードを作成しなければなりません。 データベースの 10箇所で同じ処理が必要であれば、同じコーディングを 10回も書かねばなりません。 サブルーチンを使用すれば 1回コーディングするだけですみます。 これがコーディングの重複を減らすというサブルーチンの第一の利点です。</p>
<p>先ほど説明したコードが <code>MODIFY CUSTOMER</code> と呼ばれるメソッドであるとすれば、他のメソッド内でそのメソッド名を使うことで実行できます。 たとえば、顧客のレコードを修正し、それからレコードをプリントするために、以下のようなメソッドを書くことができます:</p>
<pre><code class="hljs css language-4d"> MODIFY CUSTOMER
<span class="hljs-function"> PRINT SELECTION</span>([Customers])
</code></pre>
<p>この機能はメソッドを劇的にに簡素化します。 さきほどの例で言えば、<code>MODIFY CUSTOMER</code> メソッドがどのように動作するかは知る必要がなく、何をおこなうかだけ知っていればよいのです。 これはメソッドをサブルーチン化することの2番目の理由、役割の明確化です。 このように、作成されたメソッドは 4Dランゲージを拡張します。</p>
<p>このデータベースの例で顧客の検索方法を変える場合、10箇所ではなく、たった1つのメソッドを変更するだけですみます。 これがサブルーチンを使うもう一つの理由、改変の容易化です。</p>
<p>また、サブルーチンの利用はコードをモジュール化します。 これはコードをモジュール (サブルーチン) に分割することを意味し、それぞれは論理的な処理を実行します。 小切手振り出し口座のデータベースから、以下のコードを見てみましょう:</p>
<pre><code class="hljs css language-4d"> FIND CLEARED CHECKS <span class="hljs-comment">// 決済された小切手の検索</span>
 RECONCILE ACCOUNT <span class="hljs-comment">// 口座の照合</span>
 PRINT CHECK BOOK REPORT <span class="hljs-comment">// レポートの印刷</span>
</code></pre>
<p>データベースを知らない人でも、このプログラムが何をしているかはわかります。 各サブルーチンの処理手順を知る必要はありません。 各サブルーチンは長く、複雑な処理で構成されていることもありますが、それらが何を実行するのかだけを知っていれば十分なのです。 プログラムを論理的な処理単位やモジュールにできるだけ分割することをお勧めします。</p>
<h3><a class="anchor" aria-hidden="true" id="オブジェクトの付属メソッド"></a><a href="#オブジェクトの付属メソッド" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>オブジェクトの付属メソッド</h3>
<p>プロジェクトメソッドは、<strong>フォーミュラ</strong> オブジェクトにカプセル化して、オブジェクトから呼び出すことができます。</p>
<p><code>Formula</code> または <code>Formula from string</code> コマンドを使用すると、オブジェクトプロパティに格納可能な、ネイティブなフォーミュラオブジェクトを作成することができます: つまり、カスタムなオブジェクトメソッドを実装することが可能です。</p>
<p>オブジェクトプロパティに保存されているメソッドを実行するには、プロパティ名のあとに <strong>( )</strong> をつけます。 たとえば:</p>
<pre><code class="hljs css language-4d"><span class="hljs-comment">// myAlert プロジェクトメソッド</span>
<span class="hljs-function">ALERT</span>(<span class="hljs-string">"Hello world!"</span>)
</code></pre>
<p>この <code>myAlert</code> プロジェクトメソッドを任意のオブジェクトに格納し、呼び出すことができます:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function">C_OBJECT</span>(<span class="hljs-variable">$o</span>)
<span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"custom_Alert"</span>;<span class="hljs-function">Formula</span>(myAlert))
<span class="hljs-variable">$o</span>.<span class="hljs-function">custom_Alert</span>() <span class="hljs-comment">// "Hello world!" と表示します</span>
</code></pre>
<p>大カッコを使用したシンタックスもサポートされます:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$o</span>[<span class="hljs-string">"custom_Alert"</span>]() <span class="hljs-comment">// "Hello world!" と表示します</span>
</code></pre>
<p>4D プロジェクトメソッドのように、$1, $2, .... を使用して呼び出すことで、フォーミュラに <a href="/docs/18/ja/Concepts/parameters.html">引数を渡す</a> こともできます:</p>
<pre><code class="hljs css language-4d"><span class="hljs-comment">//fullName メソッド</span>
<span class="hljs-function">C_TEXT</span>(<span class="hljs-variable">$0</span>;<span class="hljs-variable">$1</span>;<span class="hljs-variable">$2</span>)
<span class="hljs-variable">$0</span>:=<span class="hljs-variable">$1</span>+<span class="hljs-string">" "</span>+<span class="hljs-variable">$2</span>
</code></pre>
<p><code>fullName</code> メソッドをオブジェクトに格納し、呼び出します:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function">C_OBJECT</span>(<span class="hljs-variable">$o</span>)
<span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"full_name"</span>;<span class="hljs-function">Formula</span>(fullName))
<span class="hljs-variable">$result</span>:=<span class="hljs-variable">$o</span>.<span class="hljs-function">full_name</span>(<span class="hljs-string">"John"</span>;<span class="hljs-string">"Smith"</span>)
<span class="hljs-comment">// $result = "John Smith"</span>
<span class="hljs-comment">// $result:=fullName("param1";"param2") と同義です</span>
</code></pre>
<p><code>This</code> 関数と組み合わせることで、オブジェクトメソッドを利用した汎用的なコードを書くことができます。 たとえば:</p>
<pre><code class="hljs css language-4d"><span class="hljs-comment">//fullName2 メソッド</span>
<span class="hljs-function">C_TEXT</span>(<span class="hljs-variable">$0</span>)
<span class="hljs-variable">$0</span>:=<span class="hljs-literal">This</span>.firstName+<span class="hljs-string">" "</span>+<span class="hljs-literal">This</span>.lastName
</code></pre>
<p>このメソッドをオブジェクトに格納すると、オブジェクトの新しい計算属性のように使えます:</p>
<pre><code class="hljs css language-4d"><span class="hljs-function">C_OBJECT</span>(<span class="hljs-variable">$o</span>)
<span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"firstName"</span>;<span class="hljs-string">"Jim"</span>;<span class="hljs-string">"lastName"</span>;<span class="hljs-string">"Wesson"</span>)
<span class="hljs-variable">$o</span>.fullName:=<span class="hljs-function">Formula</span>(fullName2) <span class="hljs-comment">// メソッドをオブジェクトに追加します</span>

<span class="hljs-variable">$result</span>:=<span class="hljs-variable">$o</span>.<span class="hljs-function">fullName</span>()
<span class="hljs-comment">// $result = "Jim Wesson"</span>
</code></pre>
<p>たとえ引数を受け取らなかったとしても、オブジェクトメソッドを実行するためにはカッコ () をつけて呼び出す必要があるという点に注意してください。 オブジェクトプロパティのみを呼び出した場合、フォーミュラへの新しい参照が返されます (そしてフォーミュラは実行はされません):</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$o</span>:=<span class="hljs-variable">$f</span>.message <span class="hljs-comment">// $o にはフォーミュラオブジェクトが返されます</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="メニューメソッド"></a><a href="#メニューメソッド" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>メニューメソッド</h3>
<p>メニューメソッドは、カスタムメニューから呼び出されるプロジェクトメソッドです。 メニューエディターまたは &quot;メニュー&quot; テーマのコマンドを使用して、メニューにメソッドを割り当てます。 メニューが選択されると、それに対応するメニューメソッドが実行されます。 この手順は、データベースをカスタマイズする主要な方法の一つです。 特定の処理を実行するメニューメソッドを割り当てたカスタムメニューを作成することで、データベースをカスタマイズすることができます。</p>
<p>メニューメソッドにより、単一または複数の処理を実行することができます。 たとえば、データ入力のメニューに、以下の2つの処理を実行するメソッドを割り当てられます。まず適切な入力フォームを表示し、次にユーザーがキャンセルするまでの間 <code>ADD RECORD</code> コマンドによるデータ入力を繰り返します。</p>
<p>連続した処理の自動化は、プログラミング言語の強力な機能の 1つです。 カスタムメニューを使用することで処理を自動化することができ、データベースのユーザーにより多くのガイダンスを提供することができます。</p>
<h3><a class="anchor" aria-hidden="true" id="プロセスメソッド"></a><a href="#プロセスメソッド" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>プロセスメソッド</h3>
<p><strong>プロセスメソッド</strong> とは、プロセスの開始時に呼び出されるプロジェクトメソッドのことです。 ワーカープロセスの場合を除いて、プロセスはプロセスメソッドが実行されている間だけ存続します。 メニューに属するメニューメソッドのプロパティとして <em>新規プロセス開始</em> をチェックしている場合、そのメニューメソッドは新規プロセスのプロセスメソッドでもあります。</p>
<h3><a class="anchor" aria-hidden="true" id="イベント・エラー処理メソッド"></a><a href="#イベント・エラー処理メソッド" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>イベント・エラー処理メソッド</h3>
<p><strong>イベント処理メソッド</strong> は、イベントを処理するプロセスメソッドとして、分離されたプロセス内で実行されます。 通常、開発者はイベント管理の大部分を 4Dに任せます。 たとえば、データ入力中にキーストロークやクリックを検出した 4Dは、正しいオブジェクトとフォームメソッドを呼び出します。このため開発者は、これらのメソッド内でイベントに対し適切に応答できるのです。 詳細については <code>ON EVENT CALL</code> コマンドの説明を参照してください。</p>
<p><strong>エラー処理メソッド</strong> は、割り込みを実行するプロジェクトメソッドです。 エラーや例外が起こる度に、エラー処理メソッドは自身がインストールされたプロセス内で実行されます。 詳細については <code>ON ERR CALL</code> コマンドの説明を参照してください。</p>
<h2><a class="anchor" aria-hidden="true" id="プロジェクトメソッドの再帰呼び出し"></a><a href="#プロジェクトメソッドの再帰呼び出し" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>プロジェクトメソッドの再帰呼び出し</h2>
<p>プロジェクトメソッドは、自分自身を呼び出すことができます。 たとえば:</p>
<ul>
<li>メソッドAがメソッドBを呼び出し、メソッドBはメソッドAを呼び出します。</li>
<li>メソッドAは自身を呼び出すことができます。</li>
</ul>
<p>これは再帰呼び出しと呼ばれています。 4D ランゲージは再帰呼び出しを完全にサポートしています。</p>
<p>次に例を示します。 以下のフィールドから成る <code>[Friends and Relatives]</code> テーブルがあります:</p>
<ul>
<li><code>[Friends and Relatives]Name</code></li>
<li><code>[Friends and Relatives]ChildrensName</code></li>
</ul>
<p>この例題では、フィールドの値は重複しない、つまり同じ名前の人間はいないとします。 名前を指定することで、以下のような文を作成します: “A friend of mine, John who is the child of Paul who is the child of Jane who is the child of Robert who is the child of Eleanor, does this for a living!”:</p>
<ol>
<li>この文を以下のように作成できます:</li>
</ol>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$vsName</span>:=<span class="hljs-function">Request</span>(<span class="hljs-string">"Enter the name:"</span>;<span class="hljs-string">"John"</span>)<span class="hljs-keyword">
 If</span>(OK=<span class="hljs-number">1</span>)
<span class="hljs-function">    QUERY</span>([Friends and Relatives];[Friends and Relatives]Name=<span class="hljs-variable">$vsName</span>)<span class="hljs-keyword">
    If</span>(<span class="hljs-function">Records in selection</span>([Friends and Relatives])&gt;<span class="hljs-number">0</span>)
       <span class="hljs-variable">$vtTheWholeStory</span>:=<span class="hljs-string">"A friend of mine, "</span>+<span class="hljs-variable">$vsName</span><span class="hljs-keyword">
       Repeat</span>
<span class="hljs-function">          QUERY</span>([Friends and Relatives];[Friends and Relatives]ChildrensName=<span class="hljs-variable">$vsName</span>)
          <span class="hljs-variable">$vlQueryResult</span>:=<span class="hljs-function">Records in selection</span>([Friends and Relatives])<span class="hljs-keyword">
          If</span>(<span class="hljs-variable">$vlQueryResult</span>&gt;<span class="hljs-number">0</span>)
             <span class="hljs-variable">$vtTheWholeStory</span>:=<span class="hljs-variable">$vtTheWholeStory</span>+<span class="hljs-string">" who is the child of "</span>+[Friends and Relatives]Name
             <span class="hljs-variable">$vsName</span>:=[Friends and Relatives]Name<span class="hljs-keyword">
          End if</span><span class="hljs-keyword">
       Until</span>(<span class="hljs-variable">$vlQueryResult</span>=<span class="hljs-number">0</span>)
       <span class="hljs-variable">$vtTheWholeStory</span>:=<span class="hljs-variable">$vtTheWholeStory</span>+<span class="hljs-string">", does this for a living!"</span>
<span class="hljs-function">       ALERT</span>(<span class="hljs-variable">$vtTheWholeStory</span>)<span class="hljs-keyword">
    End if</span><span class="hljs-keyword">
 End if</span>
</code></pre>
<ol start="2">
<li>以下の方法でも作成できます:</li>
</ol>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$vsName</span>:=<span class="hljs-function">Request</span>(<span class="hljs-string">"Enter the name:"</span>;<span class="hljs-string">"John"</span>)<span class="hljs-keyword">
 If</span>(OK=<span class="hljs-number">1</span>)
<span class="hljs-function">    QUERY</span>([Friends and Relatives];[Friends and Relatives]Name=<span class="hljs-variable">$vsName</span>)<span class="hljs-keyword">
    If</span>(<span class="hljs-function">Records in selection</span>([Friends and Relatives])&gt;<span class="hljs-number">0</span>)
<span class="hljs-function">       ALERT</span>(<span class="hljs-string">"A friend of mine, "</span>+<span class="hljs-function">Genealogy of</span>(<span class="hljs-variable">$vsName</span>)+<span class="hljs-string">", does this for a living!"</span>)<span class="hljs-keyword">
    End if</span><span class="hljs-keyword">
 End if</span>
</code></pre>
<p>再帰関数 <code>Genealogy of</code> は以下の通りです:</p>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">` Genealogy of プロジェクトメソッド</span>
<span class="hljs-function">  ` Genealogy of </span>( String ) -&gt; Text
<span class="hljs-function">  ` Genealogy of </span>( Name ) -&gt; Part of sentence

 <span class="hljs-variable">$0</span>:=<span class="hljs-variable">$1</span>
<span class="hljs-function"> QUERY</span>([Friends and Relatives];[Friends and Relatives]ChildrensName=<span class="hljs-variable">$1</span>)<span class="hljs-keyword">
 If</span>(<span class="hljs-function">Records in selection</span>([Friends and Relatives])&gt;<span class="hljs-number">0</span>)
    <span class="hljs-variable">$0</span>:=<span class="hljs-variable">$0</span>+<span class="hljs-string">" who is the child of "</span>+<span class="hljs-function">Genealogy of</span>([Friends and Relatives]Name)<span class="hljs-keyword">
 End if</span>
</code></pre>
<p><code>Genealogy of</code> メソッドが自分自身を呼び出していることに注目してください。</p>
<p>最初に挙げた方法は <strong>反復性のアルゴリズム</strong> です。 2番目に挙げた方法は <strong>再帰呼び出しのアルゴリズム</strong> です。</p>
<p>前述の例題のようなコードを実装する場合、反復性や再帰呼び出しを使用してメソッドを書くことができるということに留意してください。 再帰呼び出しは一般的に、より明瞭で読みやすく、維持しやすいコードを提供します。ただし、この使用は必須ではありません。</p>
<p>4D内での再帰呼び出しの代表的な使用方法は以下のとおりです:</p>
<ul>
<li>例題と同じく、互いに関連するテーブル内でのレコードの取り扱い。</li>
<li><code>FOLDER LIST</code> と <code>DOCUMENT LIST</code> コマンドを使用して、ディスク上にあるドキュメントとフォルダーをブラウズする。 フォルダーにはフォルダーとドキュメントが含まれており、サブフォルダーはまたフォルダーとドキュメントを含むことができます。</li>
</ul>
<p><strong>重要:</strong> 再帰呼び出しは、必ずある時点で終了する必要があります。 たとえば、<code>Genealogy of</code> メソッドが自身の呼び出しを止めるのは、クエリがレコードを返さないときです。 この条件のテストをしないと、メソッドは際限なく自身を呼び出します。 (メソッド内で使用される引数やローカル変数の蓄積を含む) 再帰呼び出しによって容量が一杯になると、最終的に 4Dは “スタックがいっぱいです” エラーを返します 。</p>
<h2><a class="anchor" aria-hidden="true" id="特化されたメソッド"></a><a href="#特化されたメソッド" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特化されたメソッド</h2>
<p>汎用的な <strong>プロジェクトメソッド</strong> とは別に、4D はイベント発生時に自動的に呼び出される特化されたメソッドをいくつかサポートしています:</p>
<table>
<thead>
<tr><th>タイプ</th><th>自動呼び出しのコンテキスト</th><th>引数の受け取り</th><th>説明</th></tr>
</thead>
<tbody>
<tr><td><strong>オブジェクト (ウィジェット) メソッド</strong></td><td>メソッドが設定されたフォームオブジェクトに関連したイベント発生時に</td><td>×</td><td>フォームオブジェクト (ウィジェットとも呼びます) のプロパティです。</td></tr>
<tr><td><strong>フォームメソッド</strong></td><td>メソッドが設定されたフォームに関連したイベント発生時に</td><td>×</td><td>フォームのプロパティです。 フォームメソッドを使用してデータとオブジェクトを管理することができます。ただし、これら目的には、オブジェクトメソッドを使用する方が通常は簡単であり、より効果的です。</td></tr>
<tr><td><strong>トリガー</strong> (別名 <em>テーブルメソッド</em>)</td><td>テーブルのレコード操作 (追加・削除・修正) の度に</td><td>×</td><td>テーブルのプロパティです。 トリガーは、データベースのレコードに対して「不正な」操作がおこなわれることを防ぎます。</td></tr>
<tr><td><strong>データベースメソッド</strong></td><td>作業セッションのイベント発生時に</td><td>○ (既定)</td><td>4D には 16のデータベースメソッドがあります。 詳細はデータベースメソッドの項を参照ください。</td></tr>
</tbody>
</table>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/18/ja/Concepts/arrays.html"><span class="arrow-prev">← </span><span>配列</span></a><a class="docs-next button" href="/docs/18/ja/Concepts/parameters.html"><span>引数</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#プロジェクトメソッドの呼び出し">プロジェクトメソッドの呼び出し</a><ul class="toc-headings"><li><a href="#サブルーチンと関数">サブルーチンと関数</a></li><li><a href="#オブジェクトの付属メソッド">オブジェクトの付属メソッド</a></li><li><a href="#メニューメソッド">メニューメソッド</a></li><li><a href="#プロセスメソッド">プロセスメソッド</a></li><li><a href="#イベント・エラー処理メソッド">イベント・エラー処理メソッド</a></li></ul></li><li><a href="#プロジェクトメソッドの再帰呼び出し">プロジェクトメソッドの再帰呼び出し</a></li><li><a href="#特化されたメソッド">特化されたメソッド</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/18/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://forums.4d.com/">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2021 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:ja","version:18"]}
              });
            </script></body></html>
