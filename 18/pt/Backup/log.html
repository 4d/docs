<!DOCTYPE html><html lang="pt"><head><meta name="docsearch:version" content="18"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Arquivo de Log (.journal) · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Um banco de dados de uso continuo sempre registra mudanças, adições ou apagamentos. Realizar backups ou cópias de segurança regularmente é importante mas lembre que não permite (em caso de problemas) restaurar os dados registrados depois do último backup. Para responder à essa necessidade, 4D oferece agora uma ferramenta específica: o arquivo de log. Este arquivo permite garantir a segurança permanente dos dados do banco de dados. Este arquivo permite garantir a segurança permanente dos dados do banco de dados."/><meta name="docsearch:language" content="pt"/><meta property="og:title" content="Arquivo de Log (.journal) · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io//docs/18/index.html"/><meta property="og:description" content="Um banco de dados de uso continuo sempre registra mudanças, adições ou apagamentos. Realizar backups ou cópias de segurança regularmente é importante mas lembre que não permite (em caso de problemas) restaurar os dados registrados depois do último backup. Para responder à essa necessidade, 4D oferece agora uma ferramenta específica: o arquivo de log. Este arquivo permite garantir a segurança permanente dos dados do banco de dados. Este arquivo permite garantir a segurança permanente dos dados do banco de dados."/><meta property="og:image" content="https://4d.github.io//docs/18/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io//docs/18/img/logohome.png"/><link rel="shortcut icon" href="/docs/18/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/18/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/18/js/code-blocks-buttons.js"></script><script src="/docs/18/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/18/css/main.css"/><script src="/docs/18/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/18/pt"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v19 R6 BETA</a></li><li class=""><a href="https://developer.4d.com/docs/Rx" target="_self">v19 R5</a></li><li class=""><a href="https://developer.4d.com/docs/19" target="_self">v19</a></li><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/18/img/language.svg" alt="Languages icon"/>Português</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/18/en/Backup/log.html">English</a></li><li><a href="/docs/18/ja/Backup/log.html">日本語</a></li><li><a href="/docs/18/de/Backup/log.html">Deutsch</a></li><li><a href="/docs/18/es/Backup/log.html">Español</a></li><li><a href="/docs/18/fr/Backup/log.html">Français</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Backup and Restore</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Começando<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/pt/GettingStarted/installation.html">Instalação e ativação</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">4D Language Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/about.html">Sobre a linguagem 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/quick-tour.html">Visão Rápida</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/data-types.html">Tipos de dados</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/boolean.html">Booleano</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/collection.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/date.html">Data</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/null-undefined.html">Null e indefinido</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/number.html">Number (Real, Longint, Integer)</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/object.html">Objetos</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/picture.html">Imagem</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/pointer.html">Ponteiro</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/string.html">String</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/time.html">Hora</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/variant.html">Variant</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/variables.html">Variáveis</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/arrays.html">Arrays</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/methods.html">Métodos</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/parameters.html">Parâmetros</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/shared.html">Objetos e coleções compartilhados</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/control-flow.html">Condições e loops</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/branching.html">Estruturas condicionais</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/looping.html">Estruturas de loop</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/error-handling.html">Gestão de erros</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/interpreted-compiled.html">Modos interpretado e compilado</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/components.html">Componentes</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Concepts/identifiers.html">Identificadores</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Bancos de dados Projeto<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/pt/Project/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Project/creating.html">Criar um projeto 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Project/architecture.html">Arquitetura de um projeto 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Project/developing.html">Desenvolver um projeto</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Project/building.html">Construir um pacote de projeto</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Editor<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormEditor/objectLibrary.html">Bibliotecas de objetos</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormEditor/stylesheets.html">Folhas de estilo</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormEditor/pictures.html">Imagens</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Objects<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/formObjectsOverview.html">Sobre os objetos formulários 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/buttonOverview.html">Botão</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/buttonGridOverview.html">Grade de botões</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/checkboxOverview.html">Check Box</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/comboBoxOverview.html">Combo Box</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/dropdownListOverview.html">Lista suspensa ou drop down</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/groupBox.html">Área de grupo</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/inputOverview.html">Entrada</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/listOverview.html">Hierarchical List</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/listboxOverview.html">List Box</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/pictureButtonOverview.html">Picture Button</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/picturePopupMenuOverview.html">Picture Pop-up Menu</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/pluginAreaOverview.html">Plug-in Area</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/progressIndicator.html">Progress Indicator</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/radiobuttonOverview.html">Radio Button</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/ruler.html">Ruler</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/shapesOverview.html">Formas</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/spinner.html">Spinner</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/splitters.html">Separador</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/staticPicture.html">Static picture</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/stepper.html">Stepper</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/subformOverview.html">Subform</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/tabControl.html">Tab Controls</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/text.html">Texto</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/webAreaOverview.html">Área Web</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/viewProAreaOverview.html">4D View Pro area</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/writeProAreaOverview.html">4D Write Pro area</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Object Properties<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesReference.html">JSON property list</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesAction.html">Ação</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesAnimation.html">Animação</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesAppearance.html">Aparência</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesBackgroundAndBorder.html">Background and Border</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesCoordinatesAndSizing.html">Coordinates &amp; Sizing</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesCrop.html">Crop</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesDataSource.html">Fonte de dados</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesDisplay.html">Visualização</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesEntry.html">Entrada</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesFooters.html">Footers</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesGridlines.html">Gridlines</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesHeaders.html">Cabeçalhos</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesHelp.html">Ajuda</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesHierarchy.html">Hierarchy</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesListBox.html">List Box</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesObject.html">Objetos</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesPicture.html">Imagem</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesPlugIns.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesPrint.html">Imprimir</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesRangeOfValues.html">Range of Values</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesResizingOptions.html">Resizing Options</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesScale.html">Escala</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesSubform.html">Subform</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesText.html">Texto</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesTextAndPicture.html">Text and Picture</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/FormObjects/propertiesWebArea.html">Área Web</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Menus<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/pt/Menus/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Menus/creating.html">Criação de menus e barras de menus</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Menus/properties.html">Propriedades dos menus</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Menus/bars.html">Barras de menus</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Menus/sdi.html">Modo SDI em Windows</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">CSM<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/pt/MSC/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/MSC/information.html">Página de informação</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/MSC/analysis.html">Página análise de atividades</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/MSC/verify.html">Página Verificação</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/MSC/backup.html">Página de Backup</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/MSC/compact.html">Página compactado</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/MSC/rollback.html">Página Retrocesso</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/MSC/restore.html">Página de reparação</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/MSC/repair.html">Página de reparação</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/MSC/encrypt.html">Página de criptografia</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Backup and Restore<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/pt/Backup/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Backup/backup.html">Backup</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Backup/settings.html">Configurações de Cópia de segurança</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/18/pt/Backup/log.html">Arquivo de Log (.journal)</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Backup/restore.html">Restaurar</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Usuários e grupos<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/18/pt/Users/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/Users/editing.html">Gestão de usuários e grupos 4D</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">REST Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/gettingStarted.html">Começando</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/configuration.html">Server Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/authUsers.html">Users and sessions</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/genInfo.html">Obter informação do servidor</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/manData.html">Manipulação de dados</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/REST_requests.html">Sobre petições REST</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (general)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/catalog.html">$catalog</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/directory.html">$directory</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/info.html">$info</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/upload.html">$upload</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (dataClass)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/{dataClass}.html">{dataClass}</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/asArray.html">$asArray</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/atomic_$atonce.html">$atomic/$atonce</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/attributes.html">$attributes</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/binary.html">$binary</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/compute.html">$compute</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/distinct.html">$distinct</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/entityset.html">$entityset</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/expand.html">$expand</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/filter.html">$filter</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/imageformat.html">$imageformat</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/method.html">$method</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/orderby.html">$orderby</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/querypath.html">$querypath</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/queryplan.html">$queryplan</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/savedfilter.html">$savedfilter</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/savedorderby.html">$savedorderby</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/skip.html">$skip</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/timeout.html">$timeout</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/top_$limit.html">$top/$limit</a></li><li class="navListItem"><a class="navItem" href="/docs/18/pt/REST/version.html">$version</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/18/docs/Backup/log.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Arquivo de Log (.journal)</h1></header><article><div><span><p>Um banco de dados de uso continuo sempre registra mudanças, adições ou apagamentos. Realizar backups ou cópias de segurança regularmente é importante mas lembre que não permite (em caso de problemas) restaurar os dados registrados depois do último backup. Para responder à essa necessidade, 4D oferece agora uma ferramenta específica: o arquivo de log. Este arquivo permite garantir a segurança permanente dos dados do banco de dados. Este arquivo permite garantir a segurança permanente dos dados do banco de dados.</p>
<p>Além disso, 4D trabalha constantemente com dados cache em memória. Todas as mudanças realizadas nos dados do banco de dados são armazenados temporariamente na cache antes de serem escritas no disco rígido. Isso acelera a operação das aplicações; na verdade, acessar a memória é mais rápido que acessar o disco rígido. Se acontecer algo no banco de dados antes que armazenagem dos dados na cache possa ser gravada no disco rígido, precisa incluir o arquivo de histórico atual para poder restaurar o banco de dados por completo.</p>
<p>Por último, 4D possui funções que analisam os conteúdos do arquivo de histórico, tornando possível reverter as operações realizadas sobre os dados do banco de dados. Essa funções estão disponíveis no MSC: veja a página de<a href="/docs/18/pt/MSC/analysis.html">Análise de atividade</a> e a página <a href="/docs/18/pt/MSC/rollback.html">Rollback</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="como-o-arquivo-de-histórico-funciona"></a><a href="#como-o-arquivo-de-histórico-funciona" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>como o arquivo de histórico funciona</h2>
<p>O arquivo de histórico gerado por 4D contém uma descrição de todas as operações realizadas nos dados das tbelas registradas no diário do banco de dados, as quais são registradas de forma sequencial. Como padrão, todas as tabelas são registradas, ou seja, incluidas no arquivo de histórico, mas pode desmarcar as tabelas individuais usando a propriedade de tabela <strong>Incluir no arquivo de histórico</strong>.</p>
<p>Dessa forma, cada operação realizada por um usuário causa duas ações simultâneas: a primeira no banco de dados (instrução é realizada normalmente) e a segunda ação no arquivo de histórico (a descrição da ação é registrada). O arquivo de historial se cria de forma independente, sem perturbar nem ralentar o trabalho do usuário. O arquivo de historial se cria de forma independente, sem perturbar nem ralentar o trabalho do usuário. O arquivo de historial registra os seguintes tipos de ações:</p>
<ul>
<li>Abertura e fechamento de arquivos de dados,</li>
<li>Abertura e fechamento de processos (contextos),</li>
<li>Adição de registros ou BLOBs,</li>
<li>Modificação de registros,</li>
<li>Eliminação de registros,</li>
<li>Criar ou fechar as transações.</li>
</ul>
<p>Para saber mais sobre essas ações, consulte a página <a href="/docs/18/pt/MSC/analysis.html">Análise de atividades</a> do CSM.</p>
<p>4D gerencia o arquivo de historial. Leva em consideração todas as operações que afetam o arquivo de dados por igual, independente das manipulações realizadas pelo usuário, métodos 4D, o motor SQL, os plug-ins, ou um navegador web ou uma aplicação móvel.</p>
<p>A instrução abaixo resume o funcionamento do arquivo de historial:</p>
<p><img src="/docs/18/assets/en/Backup/backup05.png" alt=""></p>
<p>O arquivo de historial atual se guarda automaticamente com o arquivo de dados atual. Este mecanismo tem duas vantagens distintas:</p>
<ul>
<li>Evitar a saturação do volume de disco onde se armazena o arquivo de historial. Sem uma cópia de segurança, o arquivo de histórico ficaria cada vez maior com o  uso, e acabaria utilizando todo o espaço disponível no disco. Para cada cópia de segurnça do arquivo de dados, 4D ou 4D Server fecha o arquivo de histórico atual e  imediatamente inicia um novo arquivo vazio, evitando assim o riesco de saturação. A continuação, o arquivo de historial antigo se arquiva e, finalmente, se destrói em função do mecanismo de gestão dos conjuntos de cópias de seguriança.</li>
<li>Conserva os arquivos de histórico correspondentes às cópias de segurança para poder analisar ou reparar um banco de dados em um momento posterior. A integração de um arquivo de histórico só pode ser realizada no banco de dados ao qual corresponde. Para poder integrar corretamente um arquivo de historial em uma cópia de segurança, é importante que as cópias de segurança e os arquivos de historial se arquivem simultaneamente.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="criar-o-arquivo-de-histórico"></a><a href="#criar-o-arquivo-de-histórico" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Criar o arquivo de histórico</h2>
<p>Como padrão, todo banco de dados criado com 4D utiliza um arquivo de histórico (opção definida na página <strong>Geral</strong> das Preferências). O arquivo de histórico é chamado <em>data.journal</em> e está na pasta Data.</p>
<p>Pode averiguar se seu banco de dados utiliza um arquivo de histórico a qualquer momento: só precisa comprovar se a opção <strong>Utilizar o arquivo de histórico</strong> estiver selecionada na página <strong>Backup/Configuración</strong> das Propriedades do banco. Se desmarcar essa opção, ou se usar um banco de dados sem arquivo de histórico, e quiser estabelecer uma estratégia de backup com um arquivo de histórico, vai precisar criar um.</p>
<p>Para criar um arquivo de histórico:</p>
<ol>
<li><p>Na página <strong>Cópia de segurança/Configuração</strong> das Propriedades do banco de dados, marque a opção <strong>Utilizar o arquivo de histórico</strong>. O programa exibe um caixa de diálogo abrir/novo arquivo. Como padrão, o nome arquivo é chamado <em>data.journal</em>.</p></li>
<li><p>Mantém o nome padrão ou renomeia, e daí seleciona o local do arquivo. Se tiver pelo menos dois discos rígidos, é recomendado que coloque o arquivo de histórico no disco que não tenha seu banco de dados. Se perder o disco rígido do banco de dados, poderá então recuperar o arquivo de histórico.</p></li>
<li><p>Clique <strong>Salvar</strong>. O disco e o nome do arquivo de histórico aberto agora estão exibidos na área <strong>Use Log</strong> da caixa de diálogo. Pode clicar nessa área para exibir um menu pop-up contendo a rota de histórico no disco.</p></li>
<li><p>Valide a caixa de diálogo das Propriedades do banco de dados.</p></li>
</ol>
<p>Para poder criar um arquivo de histórico diretamente, o banco de dados deve estar em uma das situações abaixo:</p>
<ul>
<li>O arquivo de dados está em branco,</li>
<li>Acaba de realizar uma cópia de segurança do banco de dados e ainda não foram realizadas mudanças nos dados.</li>
</ul>
<p>Em todos os outros casos, quando validar a caixa de diálogo Propriedades de Banco de Dados, um diálogo de alerta informará que é necessário fazer um backup. Se clicar em <strong>Aceitar</strong>, a cópia de segurança começa imediatamente, e depois se ativa o arquivo de histórico. Si clicar em <strong>Cancelar</strong>, a solicitação é salva mas a criação do arquivo de histórico é adiada e só criará depois da próxima cópia de segurança do banco de dados. Essa precaução é indispensável porque, para restaurar o banco de dados depois de um incidente, é preciso uma cópia do banco de dados na qual se integrarão às operações registradas no arquivo de histórico.</p>
<p>Sem ter que fazer nada a mais, todas as operações realizadas sobre os dados são registradas nesse arquivo, e são usadas no futuro quando abrir o banco de dados.</p>
<p>Precisa criar outro arquivo de histórico se criar um novo arquivo de dados. Precisa estabelecer ou criar outro arquivo de shitórico se abrir outro arquivo de dados que não estiver linnkado a um arquivo de histórico (ou se o arquivo de histórico estiver faltando).</p>
<h2><a class="anchor" aria-hidden="true" id="parar-um-arquivo-de-histórico"></a><a href="#parar-um-arquivo-de-histórico" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parar um arquivo de histórico</h2>
<p>Se quiser parar as operações de registro no arquivo de histórico atual, apenas desmarque a opção **Use Log|Usar o arquivo de histórico ** na página <strong>Backup/Configuration</strong> das Propriedades do banco de dados.</p>
<p>4D então exibe uma mensagem de alerta para avisar que a ação evita de aproveitar as vantagens de segurança de ter um arquivo de histórico:</p>
<p><img src="/docs/18/assets/en/Backup/backup06.png" alt=""></p>
<p>Se clicar <strong>Stop</strong>, o arquivo de histórico é imediatamente fechado (a caixa de diálogo Propriedades do banco de dados não precisa ser validada depois).</p>
<p>Se quiser fechar o arquivo de histórico atual porque é muito grande, pode considerar realizar um backup de arquivo de dados, o que vai fazer com que também se crie uma cópia de segurança do arquivo de histórico</p>
<blockquote>
<p><strong>4D Server:</strong> O comando <code>New log file</code> fecha automaticamente o arquivo de histórico atual e começa um novo. Se por alguma razão o arquivo de histórico ficar indisponível durante uma sessão de trabalho, o erro 1274 é gerado e o servidor 4D não permimte que o usuários escrevam mais dados. Quando o arquivo de histórico estiver disponível novamente, é preciso fazer um backup.</p>
</blockquote>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/18/pt/Backup/settings.html"><span class="arrow-prev">← </span><span>Configurações de Cópia de segurança</span></a><a class="docs-next button" href="/docs/18/pt/Backup/restore.html"><span>Restaurar</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#como-o-arquivo-de-histórico-funciona">como o arquivo de histórico funciona</a></li><li><a href="#criar-o-arquivo-de-histórico">Criar o arquivo de histórico</a></li><li><a href="#parar-um-arquivo-de-histórico">Parar um arquivo de histórico</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/18/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://forums.4d.com/">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2022 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:pt","version:18"]}
              });
            </script></body></html>