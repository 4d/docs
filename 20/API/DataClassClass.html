<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20 docs-doc-page docs-doc-id-API/DataClassClass" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>DataClass | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/20/API/DataClassClass><meta data-rh=true property=og:locale content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true property=og:locale:alternate content=pt><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=20><meta data-rh=true name=docusaurus_tag content=docs-default-20><meta data-rh=true name=docsearch:version content=20><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20><meta data-rh=true property=og:title content="DataClass | 4D Docs"><meta data-rh=true name=description content="A DataClass provides an object interface to a database table. All dataclasses in a 4D application are available as a property of the ds datastore."><meta data-rh=true property=og:description content="A DataClass provides an object interface to a database table. All dataclasses in a 4D application are available as a property of the ds datastore."><link data-rh=true rel=icon href=/docs/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/20/API/DataClassClass><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20/API/DataClassClass hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/20/API/DataClassClass hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/20/API/DataClassClass hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/20/API/DataClassClass hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/20/API/DataClassClass hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20/API/DataClassClass hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/opensearch.xml><link rel=stylesheet href=/docs/assets/css/styles.4aaeeab1.css><script src=/docs/assets/js/main.0ca38f6f.js defer></script><script src=/docs/assets/js/runtime~main.97c8dd7b.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/><div class=navbar__logo><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/20/API/DataClassClass>20</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/API/DataClassClass>20 R7 BETA</a><li><a class=dropdown__link href=/docs/20-R6/API/DataClassClass>20 R6</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/20/API/DataClassClass>20</a><li><a class=dropdown__link href=/docs/19/API/DataClassClass>19</a><li><a class=dropdown__link href=/docs/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/docs/20/API/DataClassClass rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a><li><a href=/docs/fr/20/API/DataClassClass rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/20/API/DataClassClass rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/20/API/DataClassClass rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/20/API/DataClassClass rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/20/category/getting-started>Getting Started</a><button aria-label="Expand sidebar category 'Getting Started'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/20/category/core-development>Core Development</a><button aria-label="Collapse sidebar category 'Core Development'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/20/Project/overview>Project Management</a><button aria-label="Expand sidebar category 'Project Management'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/20/category/4d-language-concepts>4D Language Concepts</a><button aria-label="Expand sidebar category '4D Language Concepts'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/20/ORDA/overview>ORDA</a><button aria-label="Expand sidebar category 'ORDA'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://doc.4d.com/4Dv20/4D/20/4D-Language-Reference.100-6237190.en.html target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex=0>4D Language Reference<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/20/category/class-API-reference>Class Functions</a><button aria-label="Collapse sidebar category 'Class Functions'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/overview>About class functions</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/BlobClass>Blob</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/ClassClass>Class</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/CollectionClass>Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/CryptoKeyClass>CryptoKey</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/20/API/DataClassClass>DataClass</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/DataStoreClass>DataStore</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/EmailObjectClass>Email</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/EntityClass>Entity</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/EntitySelectionClass>EntitySelection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/FileClass>File</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/FileHandleClass>FileHandle</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/FolderClass>Folder</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/FunctionClass>Function</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/HTTPRequestClass>HTTPRequest</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/IMAPTransporterClass>IMAPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/MailAttachmentClass>MailAttachment</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/POP3TransporterClass>POP3Transporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/SessionClass>Session</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/SignalClass>Signal</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/SMTPTransporterClass>SMTPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/SystemWorkerClass>SystemWorker</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/WebServerClass>WebServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/WebSocketConnectionClass>WebSocketConnection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/WebSocketServerClass>WebSocketServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/ZipArchiveClass>ZIPArchive</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/ZipFileClass>ZIPFile</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20/API/ZipFolderClass>ZIPFolder</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/20/code-editor/overview>Handling Code</a><button aria-label="Expand sidebar category 'Handling Code'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/20/Tags/tags>Tags</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/20/Debugging/basics>Debugging</a><button aria-label="Expand sidebar category 'Debugging'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/20/settings/overview>Settings</a><button aria-label="Expand sidebar category 'Settings'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/20/Preferences/overview>Preferences</a><button aria-label="Expand sidebar category 'Preferences'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/20/category/administration>Administration</a><button aria-label="Expand sidebar category 'Administration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/20/Extensions/overview>Extensions</a><button aria-label="Expand sidebar category 'Extensions'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/20/category/web-applications>Web Applications</a><button aria-label="Expand sidebar category 'Web Applications'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/20/category/desktop-applications>Desktop Applications</a><button aria-label="Expand sidebar category 'Desktop Applications'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a href=https://developer.4d.com/go-mobile/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false>Mobile Applications</a></div></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/docs/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/20/category/core-development><span itemprop=name>Core Development</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/20/category/class-API-reference><span itemprop=name>Class Functions</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>DataClass</span><meta itemprop=position content=3></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 20</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>DataClass</h1></header><p>A <a href=/docs/20/ORDA/dsmapping#dataclass>DataClass</a> provides an object interface to a database table. All dataclasses in a 4D application are available as a property of the <code>ds</code> <a href=/docs/20/ORDA/dsmapping#datastore>datastore</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=summary>Summary<a href=#summary class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>















































<table><thead><tr><th><tbody><tr><td><a href=#attributename><em><strong>.attributeName</strong></em> : object</a>    objects that are available directly as properties<tr><td><a href=#all><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D.EntitySelection</a>    queries the datastore to find all the entities related to the dataclass and returns them as an entity selection<tr><td><a href=#clearremotecache><strong>.clearRemoteCache()</strong></a>    empties the ORDA cache of a dataclass<tr><td><a href=#fromcollection><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D.EntitySelection</a>    updates or creates entities in the dataclass according to the <em>objectCol</em> collection of objects, and returns the corresponding entity selection<tr><td><a href=#get><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D.Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.Entity</a>    queries the dataclass to retrieve the entity matching the <em>primaryKey</em> parameter<tr><td><a href=#getcount><strong>.getCount()</strong> : Integer </a>     returns the number of entities in a dataclass<tr><td><a href=#getdatastore><strong>.getDataStore()</strong> : cs.DataStore</a>    returns the datastore for the specified dataclass<tr><td><a href=#getinfo><strong>.getInfo()</strong> : Object </a>    returns an object providing information about the dataclass<tr><td><a href=#getremotecache><strong>.getRemoteCache</strong>() : Object </a>    returns an object that holds the contents of the ORDA cache for a dataclass.<tr><td><a href=#new><strong>.new()</strong> : 4D.Entity </a>    creates in memory and returns a new blank entity related to the Dataclass<tr><td><a href=#newselection><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D.EntitySelection </a>    creates a new, blank, non-shareable entity selection, related to the dataclass, in memory<tr><td><a href=#query><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection </a>    searches for entities that meet the search criteria specified in <em>queryString</em> or <em>formula</em> and (optionally) <em>value</em>(s)<tr><td><a href=#setremotecachesettings><strong>.setRemoteCacheSettings</strong>(<em>settings</em> : Object) </a>    sets the timeout and maximum size of the ORDA cache for a dataclass.</table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=attributename>.<em>attributeName</em><a href=#attributename class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Changes<tbody><tr><td>19 R3<td>Added .exposed attribute<tr><td>17<td>Added</table>
</div></div></details>
<p><em><strong>.attributeName</strong></em> : object</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description>Description<a href=#description class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The attributes of dataclasses are objects that are available directly as properties of these classes.</p>
<p>The returned objects have properties that you can read to get information about your dataclass attributes.</p>
<blockquote>
<p>Dataclass attribute objects can be modified, but the underlying database structure will not be altered.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=returned-object>Returned object<a href=#returned-object class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>Returned attribute objects contain the following properties:</p>





















































































<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>autoFilled<td>Boolean<td>True if the attribute value is automatically filled by 4D. Corresponds to the following 4D field properties: "Autoincrement" for numeric type fields and "Auto UUID" for UUID (alpha) fields. Not returned if <code>.kind</code> = "relatedEntity" or "relatedEntities".<tr><td>exposed<td>Boolean<td>True if the attribute is exposed in REST<tr><td>fieldNumber<td>integer<td>Internal 4D field number of the attribute. Not returned if <code>.kind</code> = "relatedEntity" or "relatedEntities".<tr><td>fieldType<td>Integer<td>4D database field type of the attribute. Depends on the attribute <code>kind</code>. Possible values: <li>if <code>.kind</code> = "storage": corresponding 4D field type, see <a href=https://doc.4d.com/4dv20/help/command/en/page1509.html target=_blank rel="noopener noreferrer"><code>Value type</code></a></li><li>if <code>.kind</code> = "relatedEntity": 38 (<code>is object</code>)</li><li>if <code>.kind</code> = "relatedEntities": 42 (<code>is collection</code>)</li><li>if <code>.kind</code> = "calculated" or "alias" = same as above, depending on the resulting value (field type, relatedEntity or relatedEntities)</li><tr><td>indexed<td>Boolean<td>True if there is a B-tree or a Cluster B-tree index on the attribute. Not returned if <code>.kind</code> = "relatedEntity" or "relatedEntities".<tr><td>inverseName<td>Text<td>Name of the attribute which is at the other side of the relation. Returned only when <code>.kind</code> = "relatedEntity" or "relatedEntities".<tr><td>keywordIndexed<td>Boolean<td>True if there is a keyword index on the attribute. Not returned if <code>.kind</code> = "relatedEntity" or "relatedEntities".<tr><td>kind<td>Text<td>Category of the attribute. Possible values:<li>"storage": storage (or scalar) attribute, i.e. attribute storing a value, not a reference to another attribute</li><li>"calculated": computed attribute, i.e. defined through a <a href=/docs/20/ORDA/ordaClasses#function-get-attributename><code>get</code> function</a></li><li>"alias": attribute built upon <a href=/docs/20/ORDA/ordaClasses#alias-attributes-1>another attribute</a></li><li>"relatedEntity": N -> 1 relation attribute (reference to an entity)</li><li>"relatedEntities": 1 -> N relation attribute (reference to an entity selection)</li><tr><td>mandatory<td>Boolean<td>True if null value input is rejected for the attribute. Not returned if <code>.kind</code> = "relatedEntity" or "relatedEntities". Note: This property corresponds to the "Reject NULL value input" field property at the 4D database level. It is unrelated to the existing "Mandatory" property which is a data entry control option for a table.<tr><td>name<td>Text<td>Name of the attribute as string<tr><td>path<td>Text<td>Path of <a href=/docs/20/ORDA/ordaClasses#alias-attributes-1>an alias attribute</a> based upon a relation<tr><td>readOnly<td>Boolean<td>True if the attribute is read-only. For example, computed attributes without <a href=/docs/20/ORDA/ordaClasses#function-set-attributename><code>set</code> function</a> are read-only.<tr><td>relatedDataClass<td>Text<td>Name of the dataclass related to the attribute. Returned only when <code>.kind</code> = "relatedEntity" or "relatedEntities".<tr><td>type<td>Text<td>Conceptual value type of the attribute, useful for generic programming. Depends on the attribute <code>kind</code>. Possible values: <li>if <code>.kind</code> = "storage": "blob", "bool", "date", "image", "number", "object", or "string". "number" is returned for any numeric types including duration; "string" is returned for uuid, alpha and text attribute types; "blob" attributes are <a href=/docs/20/Concepts/blob#blob-type>blob objects</a>.</li><li>if <code>.kind</code> = "relatedEntity": related dataClass name</li><li>if <code>.kind</code> = "relatedEntities": related dataClass name + "Selection" suffix</li><li>if <code>.kind</code> = "calculated" or "alias": same as above, depending on the result</li><tr><td>unique<td>Boolean<td>True if the attribute value must be unique. Not returned if <code>.kind</code> = "relatedEntity" or "relatedEntities".</table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_BuS1><p>For generic programming, use <code>Bool(attributeName.property)</code>, <code>Num(attributeName.property)</code> or <code>String(attributeName.property)</code> (depending on the property type) to get a valid value even if the property is not returned.</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-1>Example 1<a href=#example-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$salary:=ds.Employee.salary //returns the salary attribute in the Employee dataclass</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$compCity:=ds.Company["city"] //returns the city attribute in the Company dataclass</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-2>Example 2<a href=#example-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>Considering the following database structure:</p>
<p><img decoding=async loading=lazy src=/docs/assets/images/dataclassAttribute-a6b39462dc310d6f9b5816409d863cee.png width=454 height=634 class=img_ev3q></p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $firstnameAtt;$employerAtt;$employeesAtt : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $firstnameAtt:=ds.Employee.firstname</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //{name:firstname,kind:storage,fieldType:0,type:string,fieldNumber:2,indexed:true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //keyWordIndexed:false,autoFilled:false,mandatory:false,unique:false}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employerAtt:=ds.Employee.employer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //{name:employer,kind:relatedEntity,relatedDataClass:Company,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //fieldType:38,type:Company,inverseName:employees}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //38=Is object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employeesAtt:=ds.Company.employees</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //{name:employees,kind:relatedEntities,relatedDataClass:Employee,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //fieldType:42,type:EmployeeSelection,inverseName:employer}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //42=Is collection</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-3>Example 3<a href=#example-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>Considering the following table properties:</p>
<p><img decoding=async loading=lazy src=/docs/assets/images/dataclassAttribute2-815959fd721b6dd175aaa338e04c2f38.png width=405 height=383 class=img_ev3q></p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $sequenceNumberAtt : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sequenceNumberAtt=ds.Employee.sequenceNumber</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //{name:sequenceNumber,kind:storage,fieldType:0,type:string,fieldNumber:13,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //indexed:true,keyWordIndexed:false,autoFilled:true,mandatory:false,unique:true}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=all>.all()<a href=#all class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17 R5<td>Support of the <em>settings</em> parameter<tr><td>17<td>Added</table>
</div></div></details>
<p><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D.EntitySelection</p>























<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>settings<td>Object<td style=text-align:center>-><td>Build option: context<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>&lt;-<td>References on all entities related to the Dataclass</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-1>Description<a href=#description-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.all()</code> function queries the datastore to find all the entities related to the dataclass and returns them as an entity selection.</p>
<p>The entities are returned in the default order, which is initially the order in which they were created. Note however that, if entities have been deleted and new ones added, the default order does not reflect the creation order anymore.</p>
<p>If no corresponding entity is found, an empty entity selection is returned.</p>
<p>Lazy loading is applied.</p>
<p><strong>settings</strong></p>
<p>In the optional <em>settings</em> parameter, you can pass an object containing additional options. The following property is supported:</p>















<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>context<td>Text<td>Label for the optimization context applied to the entity selection. This context will be used by the code that handles the entity selection so that it can benefit from the optimization. This feature is <a href=/docs/20/ORDA/entities#client-server-optimization>designed for ORDA client/server processing</a>.</table>
<blockquote>
<p>To know the total number of entities in a dataclass, it is recommended to use the <a href=#getcount><code>getCount()</code></a> function which is more optimized than the <code>ds.myClass.all().length</code> expression.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example>Example<a href=#example class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $allEmp : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $allEmp:=ds.Employee.all()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=clearremotecache>.clearRemoteCache()<a href=#clearremotecache class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>19 R5<td>Added</table>
</div></div></details>
<p><strong>.clearRemoteCache()</strong></p>

















<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td><td><td style=text-align:center><td>Does not require any parameters</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-2>Description<a href=#description-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.clearRemoteCache()</code> function empties the ORDA cache of a dataclass.</p>
<blockquote>
<p>This function does not reset the <code>timeout</code> and <code>maxEntries</code> values.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-4>Example<a href=#example-4 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $persons : cs.PersonsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $p : cs.PersonsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $cache : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $info : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$persons:=$ds.Persons.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:=""</span><br></span><span class=token-line style=color:#393A34><span class="token plain">For each ($p; $persons)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $text:=$p.firstname+" lives in "+$p.address.city+" / "</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$cache:=$ds.Persons.getRemoteCache()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds.Persons.clearRemoteCache()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Cache of the Persons dataclass = {timeout:30;maxEntries:30000;stamp:255;entries:[]}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=fromcollection>.fromCollection()<a href=#fromcollection class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17 R5<td>Support of the <em>settings</em> parameter<tr><td>17<td>Added</table>
</div></div></details>
<p><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D.EntitySelection</p>





























<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>objectCol<td>Collection<td style=text-align:center>-><td>Collection of objects to be mapped with entities<tr><td>settings<td>Object<td style=text-align:center>-><td>Build option: context<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>&lt;-<td>Entity selection filled from the collection</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-3>Description<a href=#description-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.fromCollection()</code> function updates or creates entities in the dataclass according to the <em>objectCol</em> collection of objects, and returns the corresponding entity selection.</p>
<p>In the <em>objectCol</em> parameter, pass a collection of objects to create new or update existing entities of the dataclass. The property names must be the same as attribute names in the dataclass. If a property name does not exist in the dataclass, it is ignored. If an attribute value is not defined in the collection, its value is null.</p>
<p>The mapping between the objects of the collection and the entities is done on the <strong>attribute names</strong> and <strong>matching types</strong>. If an object's property has the same name as an entity's attribute but their types do not match, the entity's attribute is not filled.</p>
<p><strong>Create or update mode</strong></p>
<p>For each object of <em>objectCol</em>:</p>
<ul>
<li>If the object contains a boolean property "__NEW" set to false (or does not contain a boolean "__NEW" property), the entity is updated or created with the corresponding values of the properties from the object. No check is performed in regards to the primary key:
<ul>
<li>If the primary key is given and exists, the entity is updated. In this case, the primary key can be given as is or with a "__KEY" property (filled with the primary key value).</li>
<li>If the primary key is given (as is) and does not exist, the entity is created</li>
<li>If the primary key is not given, the entity is created and the primary key value is assigned with respect to standard database rules.</li>
</ul>
</li>
<li>If the object contains a boolean property "__NEW" set to <strong>true</strong>, the entity is created with the corresponding values of the attributes from the object. A check is performed in regards to the primary key:
<ul>
<li>If the primary key is given (as is) and exists, an error is sent</li>
<li>If the primary key is given (as is) and does not exist, the entity is created</li>
<li>If the primary is not given, the entity is created and the primary key value is assigned with respect to standard database rules.</li>
</ul>
</li>
</ul>
<blockquote>
<p>The "__KEY" property containing a value is taken into account only when the "__NEW" property is set to <strong>false</strong> (or is omitted) and a corresponding entity exists. In all other cases, the "__KEY" property value is ignored, primary key value must be passed "as is".</p>
</blockquote>
<p><strong>Related entities</strong></p>
<p>The objects of <em>objectCol</em> may contain one or more nested object(s) featuring one or more related entities, which can be useful to create or update links between entities.</p>
<p>The nested objects featuring related entities must contain a "__KEY" property (filled with the primary key value of the related entity) or the primary key attribute of the related entity itself. The use of a __KEY property allows independence from the primary key attribute name.</p>
<blockquote>
<p>The content of the related entities cannot be created / updated through this mechanism.</p>
</blockquote>
<p><strong>Stamp</strong></p>
<p>If a __STAMP attribute is given, a check is performed with the stamp in the datastore and an error can be returned ("Given stamp does not match current one for record# XX of table XXXX"). For more information, see <a href=/docs/20/ORDA/entities#entity-locking>Entity locking</a>.</p>
<p><strong>settings</strong></p>
<p>In the optional <em>settings</em> parameter, you can pass an object containing additional options. The following property is supported:</p>















<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>context<td>Text<td>Label for the optimization context applied to the entity selection. This context will be used by the code that handles the entity selection so that it can benefit from the optimization. This feature is <a href=/docs/20/ORDA/entities#client-server-optimization>designed for ORDA client/server processing</a>.</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-1-1>Example 1<a href=#example-1-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>We want to update an existing entity. The __NEW property is not given, the employee primary key is given and exists:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.ID:=668 //Existing PK in Employee table</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="Arthur"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Martin"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer:=New object("ID";121) //Existing PK in the related dataClass Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // For this employee, we can change the Company by using another existing PK in the related dataClass Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-2-1>Example 2<a href=#example-2-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>We want to update an existing entity. The __NEW property is not given, the employee primary key is with the __KEY attribute and exists:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.__KEY:=1720 //Existing PK in Employee table</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="John"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Boorman"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer:=New object("ID";121) //Existing PK in the related dataClass Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // For this employee, we can change the Company by using another existing PK in the related dataClass Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-3-1>Example 3<a href=#example-3-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>We want to simply create a new entity from a collection:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="Victor"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Hugo"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-4-1>Example 4<a href=#example-4-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>We want to create an entity. The __NEW property is True, the employee primary key is not given:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="Mary"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer:=New object("__KEY";121) //Existing PK in the related dataClass Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.__NEW:=True</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-5>Example 5<a href=#example-5 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>We want to create an entity. The __NEW property is omitted, the employee primary key is given and does not exist:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.ID:=10000 //Unexisting primary key</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="Françoise"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Sagan"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-6>Example 6<a href=#example-6 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>In this example, the first entity will be created and saved but the second will fail since they both use the same primary key:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp; $emp2 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.ID:=10001 // Unexisting primary key</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="Simone"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Martin"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.__NEW:=True</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp2:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp2.ID:=10001 // Same primary key, already existing</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp2.firstName:="Marc"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp2.lastName:="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp2.__NEW:=True</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //first entity is created</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //duplicated key error for the second entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also>See also<a href=#see-also class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=/docs/20/API/EntitySelectionClass#tocollection><strong>.toCollection()</strong></a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=get>.get()<a href=#get class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17<td>Added</table>
</div></div></details>
<p><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D.Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.Entity</p>





























<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>primaryKey<td>Integer OR Text<td style=text-align:center>-><td>Primary key value of the entity to retrieve<tr><td>settings<td>Object<td style=text-align:center>-><td>Build option: context<tr><td>Result<td>4D.Entity<td style=text-align:center>&lt;-<td>Entity matching the designated primary key</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-4>Description<a href=#description-4 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.get()</code> function queries the dataclass to retrieve the entity matching the <em>primaryKey</em> parameter.</p>
<p>In <em>primaryKey</em>, pass the primary key value of the entity to retrieve. The value type must match the primary key type set in the datastore (Integer or Text). You can also make sure that the primary key value is always returned as Text by using the <a href=/docs/20/API/EntityClass#getkey><code>.getKey()</code></a> function with the <code>dk key as string</code> parameter.</p>
<p>If no entity is found with <em>primaryKey</em>, a <strong>Null</strong> entity is returned.</p>
<p>Lazy loading is applied, which means that related data is loaded from disk only when it is required.</p>
<p><strong>settings</strong></p>
<p>In the optional <em>settings</em> parameter, you can pass an object containing additional options. The following property is supported:</p>















<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>context<td>Text<td>Label for the automatic optimization context applied to the entity. This context will be used by the subsequent code that loads the entity so that it can benefit from the optimization. This feature is <a href=/docs/20/ORDA/entities#client-server-optimization>designed for ORDA client/server processing</a>.</table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>When you call the <code>.get()</code> function <strong>without</strong> <em>settings</em> parameter, a request for attribute values is directly sent to the server (the <a href=/docs/20/ORDA/entities#orda-cache>ORDA cache</a> is not used). On the other hand, when you call the <code>.get()</code> function <strong>with</strong> a <code>context</code> passed in the <em>settings</em> parameter, attribute values are retrieved from the ORDA cache corresponding to the context. It may be advisable in this case to call <a href=/docs/20/API/EntityClass#reload><code>reload()</code></a> to make sure the most recent data is retrieved from the server.</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-1-2>Example 1<a href=#example-1-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $entity : cs.EmployeeEntity  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $entity2 : cs.InvoiceEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=ds.Employee.get(167) // return the entity whose primary key value is 167</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity2:=ds.Invoice.get("DGGX20030") // return the entity whose primary key value is "DGGX20030"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-2-2>Example 2<a href=#example-2-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>This example illustrates the use of the <em>context</em> property:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $e1; $e2; $e3; $e4 : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $settings; $settings2 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings:=New object("context";"detail")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings2:=New object("context";"summary")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1:=ds.Employee.get(1;$settings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> completeAllData($e1) // In completeAllData method, an optimization is triggered and associated to context "detail"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e2:=ds.Employee.get(2;$settings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> completeAllData($e2) // In completeAllData method, the optimization associated to context "detail" is applied</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e3:=ds.Employee.get(3;$settings2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> completeSummary($e3) //In completeSummary method, an optimization is triggered and associated to context "summary"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e4:=ds.Employee.get(4;$settings2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> completeSummary($e4) //In completeSummary method, the optimization associated to context "summary" is applied</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getcount>.getCount()<a href=#getcount class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>19 R5<td>Added</table>
</div></div></details>
<p><strong>.getCount()</strong> : Integer</p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>result<td>Integer<td>&lt;-<td>Number of entities in the dataclass</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-5>Description<a href=#description-5 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.getCount()</code> function  returns the number of entities in a dataclass.</p>
<p>If this function is used within a transaction, entities created during the transaction will be taken into account.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-7>Example<a href=#example-7 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $number : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$number:=$ds.Persons.getCount()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getdatastore>.getDataStore()<a href=#getdatastore class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17 R5<td>Added</table>
</div></div></details>
<p><strong>.getDataStore()</strong> : cs.DataStore</p>

















<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>Result<td>cs.DataStore<td style=text-align:center>&lt;-<td>Datastore of the dataclass</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-6>Description<a href=#description-6 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.getDataStore()</code> function returns the datastore for the specified dataclass.</p>
<p>The datastore can be:</p>
<ul>
<li>the main datastore, as returned by the <code>ds</code> command.</li>
<li>a remote datastore, opened using the <code>Open datastore</code> command.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-8>Example<a href=#example-8 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <em><strong>SearchDuplicate</strong></em> project method searches for duplicated values in any dataclass.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $pet : cs.CatsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pet:=ds.Cats.all().first() //get an entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> SearchDuplicate($pet;"Dogs")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  // SearchDuplicate method</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // SearchDuplicate(entity_to_search;dataclass_name)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> #DECLARE ($pet : Object ; $dataClassName : Text)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $dataStore; $duplicates : Object  </span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $dataStore:=$pet.getDataClass().getDataStore()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $duplicates:=$dataStore[$dataClassName].query("name=:1";$pet.name)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getinfo>.getInfo()<a href=#getinfo class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Changes<tbody><tr><td>19 R3<td>Added exposed property<tr><td>17 R5<td>Added</table>
</div></div></details>
<p><strong>.getInfo()</strong> : Object</p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>Result<td>Object<td>&lt;-<td>Information on the dataclass</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-7>Description<a href=#description-7 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.getInfo()</code> function returns an object providing information about the dataclass. This function is useful for setting up generic code.</p>
<p><strong>Returned object</strong></p>






























<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>exposed<td>Boolean<td>True if the dataclass is exposed in REST<tr><td>name<td>Text<td>Name of the dataclass<tr><td>primaryKey<td>Text<td>Name of the primary key of the dataclass<tr><td>tableNumber<td>Integer<td>Internal 4D table number</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-1-3>Example 1<a href=#example-1-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> #DECLARE ($entity : Object)  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> computeEmployeeNumber($entity) //do some actions on entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$entity.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> if($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("Record updated in table "+$entity.getDataClass().getInfo().name)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-2-3>Example 2<a href=#example-2-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $settings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs.ClientsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings.parameters:=New object("receivedIds";getIds())</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings.attributes:=New object("pk";ds.Clients.getInfo().primaryKey)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Clients.query(":pk in :receivedIds";$settings)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-3-2>Example 3<a href=#example-3-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $pk : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $dataClassAttribute : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pk:=ds.Employee.getInfo().primaryKey</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $dataClassAttribute:=ds.Employee[$pk] // If needed the attribute matching the primary key is accessible</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getremotecache>.getRemoteCache()<a href=#getremotecache class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>19 R5<td>Added</table>
</div></div></details>
<p><strong>.getRemoteCache</strong>() : Object</p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>result<td>Object<td>&lt;-<td>Object describing the contents of the ORDA cache for the dataclass.</table>
<blockquote>
<p><strong>Advanced mode:</strong> This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-8>Description<a href=#description-8 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.getRemoteCache()</code> function returns an object that holds the contents of the ORDA cache for a dataclass..</p>
<p>Calling this function from a 4D single-user application returns <code>Null</code>.</p>
<p>The returned object has the following properties:</p>






























<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>maxEntries<td>Integer<td>Maximum number of entries collection.<tr><td>stamp<td>Integer<td>Stamp of the cache.<tr><td>timeout<td>Integer<td>Time remaining before the new entries in the cache are marked as expired.<tr><td>entries<td>Collection<td>Contains an entry object for each entity in the cache.</table>
<p>Each entry object in the <code>entries</code> collection has the following properties:</p>

























<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>data<td>Object<td>Object holding data on the entry.<tr><td>expired<td>Boolean<td>True if the entry has expired.<tr><td>key<td>Text<td>Primary key of the entity.</table>
<p>The <code>data</code> object in each entry contains the following properties:</p>






























<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>__KEY<td>Text<td>Primary key of the entity<tr><td>__STAMP<td>Integer<td>Timestamp of the entity in the database<tr><td>__TIMESTAMP<td>Text<td>Stamp of the entity in the database (format is YYYY-MM-DDTHH:MM:SS:ms:Z)<tr><td>dataClassAttributeName<td>Variant<td>If there is data in the cache for a dataclass attribute, it is returned in a property with the same type as in the database.</table>
<p>Data concerning related entities is stored in the cache of the data object.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-9>Example<a href=#example-9 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>In the following example, <code>$ds.Persons.all()</code> loads the first entity with all its attributes. Then, the request optimization is triggered, so only <code>firstname</code> and <code>address.city</code> are loaded.</p>
<p>Note that <code>address.city</code> is loaded in the cache of the <code>Persons</code> dataclass.</p>
<p>Only the first entity of the <code>Address</code> dataclass is stored in the cache. It is loaded during the first iteration of the loop.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $persons : cs.PersonsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $p : cs.PersonsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $cachePersons; $cacheAddress : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$persons:=$ds.Persons.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:=""</span><br></span><span class=token-line style=color:#393A34><span class="token plain">For each ($p; $persons)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $text:=$p.firstname+" lives in "+$p.address.city+" / "</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$cachePersons:=$ds.Persons.getRemoteCache()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$cacheAddress:=$ds.Adress.getRemoteCache()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-1>See also<a href=#see-also-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#setremotecachesettings>.setRemoteCacheSettings()</a><br><a href=#clearremotecache>.clearRemoteCache()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=new>.new()<a href=#new class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17<td>Added</table>
</div></div></details>
<p><strong>.new()</strong> : 4D.Entity</p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>Result<td>4D.Entity<td>&lt;-<td>New entity matching the Dataclass</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-9>Description<a href=#description-9 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.new()</code> function creates in memory and returns a new blank entity related to the Dataclass.</p>
<p>The entity object is created in memory and is not saved in the database until the <a href=/docs/20/API/EntityClass#save><code>.save( )</code></a> function is called. If the entity is deleted before being saved, it cannot be recovered.</p>
<p><strong>4D Server</strong>: In client-server, if the primary key of the corresponding table is auto-incremented, it will be calculated when the entity is saved on the server.</p>
<p>All attributes of the entity are initialized with the <strong>null</strong> value.</p>
<blockquote>
<p>Attributes can be initialized with default values if the <strong>Map NULL values to blank values</strong> option is selected at the 4D database structure level.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-10>Example<a href=#example-10 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>This example creates a new entity in the "Log" Dataclass and records information in the "info" attribute:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $entity : cs.LogEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=ds.Log.new() //create a reference</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.info:="New entry" //store some information</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.save() //save the entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=newselection>.newSelection()<a href=#newselection class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17<td>Added</table>
</div></div></details>
<p><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D.EntitySelection</p>























<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>keepOrder<td>Integer<td>-><td><code>dk keep ordered</code>: creates an ordered entity selection,<br><code>dk non ordered</code>: creates an unordered entity selection (default if omitted)<tr><td>Result<td>4D.EntitySelection<td>&lt;-<td>New blank entity selection related to the dataclass</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-10>Description<a href=#description-10 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.newSelection()</code> function creates a new, blank, non-shareable entity selection, related to the dataclass, in memory.</p>
<blockquote>
<p>For information on non-shareable entity selections, please refer to <a href=/docs/20/ORDA/entities#shareable-or-non-shareable-entity-selections>this section</a>.</p>
</blockquote>
<p>If you want to create an ordered entity selection, pass the <code>dk keep ordered</code> selector in the <em>keepOrder</em> parameter. By default if you omit this parameter, or if you pass the <code>dk non ordered</code> selector, the method creates an unordered entity selection. Unordered entity selections are faster but you cannot rely on entity positions. For more information, please see <a href=/docs/20/ORDA/dsmapping#ordered-or-unordered-entity-selection>Ordered vs Unordered entity selections</a>.</p>
<p>When created, the entity selection does not contain any entities (<code>mySelection.length</code> returns 0). This method lets you build entity selections gradually by making subsequent calls to the <a href=/docs/20/API/EntitySelectionClass#add><code>add()</code></a> function.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-11>Example<a href=#example-11 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $USelection; $OSelection : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $USelection:=ds.Employee.newSelection() //create an unordered empty entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $OSelection:=ds.Employee.newSelection(dk keep ordered) //create an ordered empty entity selection</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=query>.query()<a href=#query class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>





















<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17 R6<td>Support of Formula parameters<tr><td>17 R5<td>Support of placeholders for values<tr><td>17<td>Added</table>
</div></div></details>
<p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection</p>









































<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>queryString<td>Text<td>-><td>Search criteria as string<tr><td>formula<td>Object<td>-><td>Search criteria as formula object<tr><td>value<td>any<td>-><td>Value(s) to use for indexed placeholder(s)<tr><td>querySettings<td>Object<td>-><td>Query options: parameters, attributes, args, allowFormulas, context, queryPath, queryPlan<tr><td>Result<td>4D.EntitySelection<td>&lt;-<td>New entity selection made up of entities from dataclass meeting the search criteria specified in <em>queryString</em> or <em>formula</em></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-11>Description<a href=#description-11 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.query()</code> function searches for entities that meet the search criteria specified in <em>queryString</em> or <em>formula</em> and (optionally) <em>value</em>(s), for all the entities in the dataclass, and returns a new object of type <code>EntitySelection</code> containing all the entities that are found. Lazy loading is applied.</p>
<p>If no matching entities are found, an empty <code>EntitySelection</code> is returned.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=querystring-parameter>queryString parameter<a href=#querystring-parameter class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <em>queryString</em> parameter uses the following syntax:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">attributePath|formula comparator value   </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> {logicalOperator attributePath|formula comparator value}   </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> {order by attributePath {desc | asc}}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>where:</p>
<ul>
<li><strong>attributePath</strong>: path of attribute on which you want to execute the query. This parameter can be a simple name (for example "country") or any valid attribute path (for example "country.name".) In case of an attribute path whose type is <code>Collection</code>, <code>[]</code> notation is used to handle all the occurences (for example <code>children[].age</code>).</li>
</ul>
<blockquote>
<p><em>You cannot use directly attributes whose name contains special characters such as ".", "[ ]", or "=", ">", "#"..., because they will be incorrectly evaluated in the query string. If you need to query on such attributes, you must consider using placeholders, which allow an extended range of characters in attribute paths (see</em> <strong>Using placeholders</strong> <em>below).</em></p>
</blockquote>
<ul>
<li>
<p><strong>formula</strong>: a valid formula passed as <code>Text</code> or <code>Object</code>. The formula will be evaluated for each processed entity and must return a boolean value. Within the formula, the entity is available through the <code>This</code> object.</p>
<ul>
<li><strong>Text</strong>: the formula string must be preceeded by the <code>eval( )</code> statement, so that the query parser evaluates the expression correctly. For example: <em>"eval(length(This.lastname) >=30)"</em></li>
<li><strong>Object</strong>: the <a href=/docs/20/API/FunctionClass>formula object</a> is passed as a <strong>placeholder</strong> (see below). The formula must have been created using the <a href=/docs/20/API/FunctionClass#formula><code>Formula</code></a> or <a href=/docs/20/API/FunctionClass#formula-from-string><code>Formula from string</code></a> command.</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li>Keep in mind that 4D formulas only support <code>&</code> and <code>|</code> symbols as logical operators.</li>
<li>If the formula is not the only search criteria, the query engine optimizer could prior process other criteria (e.g. indexed attributes) and thus, the formula could be evaluated for only a subset of entities.</li>
</ul>
</blockquote>
<p>Formulas in queries can receive parameters through $1. This point is detailed in the <strong>formula parameter</strong> paragraph below.</p>
<blockquote>
<ul>
<li>You can also pass directy a <code>formula</code> parameter object instead of the <code>queryString</code> parameter (recommended when formulas are more complex). See <strong>formula parameter</strong> paragraph below.</li>
<li>For security reasons, formula calls within <code>query()</code> functions can be disallowed. See <code>querySettings</code> parameter description.</li>
</ul>
</blockquote>
<ul>
<li><strong>comparator</strong>: symbol that compares <em>attributePath</em> and <em>value</em>. The following symbols are supported:</li>
</ul>

































































<table><thead><tr><th>Comparison<th>Symbol(s)<th>Comment<tbody><tr><td>Equal to<td>=, ==<td>Gets matching data, supports the wildcard (@), neither case-sensitive nor diacritic.<tr><td><td>===, IS<td>Gets matching data, considers the @ as a standard character, neither case-sensitive nor diacritic<tr><td>Not equal to<td>#, !=<td>Supports the wildcard (@). Equivalent to "Not condition applied on a statement" (<a href=#not-equal-to-in-collections>see below</a>).<tr><td><td>!==, IS NOT<td>Considers the @ as a standard character<tr><td>Not condition applied on a statement<td>NOT<td>Parenthesis are mandatory when NOT is used before a statement containing several operators. Equivalent to "Not equal to" (<a href=#not-equal-to-in-collections>see below</a>).<tr><td>Less than<td>&lt;<td><tr><td>Greater than<td>><td><tr><td>Less than or equal to<td>&lt;=<td><tr><td>Greater than or equal to<td>>=<td><tr><td>Included in<td>IN<td>Gets data equal to at least one of the values in a collection or in a set of values, supports the wildcard (@)<tr><td>Contains keyword<td>%<td>Keywords can be used in attributes of string or picture type</table>
<ul>
<li><strong>value</strong>: the value to compare to the current value of the property of each entity in the entity selection or element in the collection. It can be a <strong>placeholder</strong> (see <strong>Using placeholders</strong> below) or any expression matching the data type property. Note that, in case of type mismatch with scalar types (text, date, number...), 4D will try to convert the <strong>value</strong> type to the attribute data type whenever possible, for an easier handling of values coming from the Internet. For example, if the string "v20" is entered as <strong>value</strong> to compare with an integer attribute, it will be converted to 20.
When using a constant value, the following rules must be respected:
<ul>
<li><strong>text</strong> type constant can be passed with or without simple quotes (see <strong>Using quotes</strong> below). To query a string within a string (a "contains" query), use the wildcard symbol (@) in value to isolate the string to be searched for as shown in this example: "@Smith@". The following keywords are forbidden for text constants: true, false.</li>
<li><strong>boolean</strong> type constants: <strong>true</strong> or <strong>false</strong> (case sensitive).</li>
<li><strong>numeric</strong> type constants: decimals are separated by a '.' (period).</li>
<li><strong>date</strong> type constants: "YYYY-MM-DD" format</li>
<li><strong>null</strong> constant: using the "null" keyword will find <strong>null</strong> and <strong>undefined</strong> properties.</li>
<li>in case of a query with an IN comparator, <em>value</em> must be a collection, or values matching the type of the attribute path between [ ] separated by commas (for strings, <code>"</code> characters must be escaped with <code>\</code>).</li>
</ul>
</li>
<li><strong>logicalOperator</strong>: used to join multiple conditions in the query (optional). You can use one of the following logical operators (either the name or the symbol can be used):</li>
</ul>

















<table><thead><tr><th>Conjunction<th>Symbol(s)<tbody><tr><td>AND<td>&, &&, and<tr><td>OR<td>|,||, or</table>
<ul>
<li><strong>order by attributePath</strong>: you can include an order by <em>attributePath</em> statement in the query so that the resulting data will be sorted according to that statement. You can use multiple order by statements, separated by commas (e.g., order by <em>attributePath1</em> desc, <em>attributePath2</em> asc). By default, the order is ascending. Pass 'desc' to define a descending order and 'asc' to define an ascending order.</li>
</ul>
<blockquote>
<p>If you use this statement, the returned entity selection is ordered (for more information, please refer to <a href=/docs/20/ORDA/dsmapping#ordered-or-unordered-entity-selection>Ordered vs Unordered entity selections</a>).</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=using-quotes>Using quotes<a href=#using-quotes class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>When you use quotes within queries, you must use single quotes ' ' inside the query and double quotes " " to enclose the whole query, otherwise an error is returned. For example:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">"employee.name = 'smith' AND employee.firstname = 'john'"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<blockquote>
<p>Single quotes (') are not supported in searched values since they would break the query string. For example "comp.name = 'John's pizza' " will generate an error. If you need to search on values with single quotes, you may consider using placeholders (see below).</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=using-parenthesis>Using parenthesis<a href=#using-parenthesis class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>You can use parentheses in the query to give priority to the calculation. For example, you can organize a query as follows:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">"(employee.age >= 30 OR employee.age &lt;= 65) AND (employee.salary &lt;= 10000 OR employee.status = 'Manager')"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=using-placeholders>Using placeholders<a href=#using-placeholders class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>4D allows you to use placeholders for <em>attributePath</em>, <em>formula</em> and <em>value</em> arguments within the <em>queryString</em> parameter. A placeholder is a parameter that you insert in query strings and that is replaced by another value when the query string is evaluated. The value of placeholders is evaluated once at the beginning of the query; it is not evaluated for each element.</p>
<p>Two types of placeholders can be used: <strong>indexed placeholders</strong> and <strong>named placeholders</strong>:</p>




















<table><thead><tr><th><th>Indexed placeholders<th>Named placeholders<tbody><tr><td>Definition<td>Parameters are inserted as <code>:paramIndex</code> (for example :1, :2...) in <em>queryString</em> and their corresponding values are provided by the sequence of <em>value</em> parameter(s). You can use up to 128 <em>value</em> parameters<td>Parameters are inserted as <code>:paramName</code> (for example :myparam) and their values are provided in the attributes and/or parameters objects in the <em>querySettings</em> parameter<tr><td>Example<td><code>$r:=class.query(":1=:2";"city";"Chicago")</code><td><code>$o.attributes:=New object("att";"city")</code><br> <code>$o.parameters:=New object("name";"Chicago")</code><br> <code>$r:=class.query(":att=:name";$o)</code></table>
<p>You can mix all argument kinds in <em>queryString</em>. A <em>queryString</em> can contain, for <em>attributePath</em>, <em>formula</em> and <em>value</em> parameters:</p>
<ul>
<li>direct values (no placeholders),</li>
<li>indexed placeholders and/or named placeholders.</li>
</ul>
<p>Using placeholders in queries <strong>is recommended</strong> for the following reasons:</p>
<ol>
<li>It prevents malicious code insertion: if you directly use user-filled variables within the query string, a user could modifiy the query conditions by entering additional query arguments. For example, imagine a query string like:</li>
</ol>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $vquery:="status = 'public' & name = "+myname //user enters their name</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$col.query($vquery)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This query seems secured since non-public data are filtered. However, if the user enters in the <em>myname</em> area something like <em>"smith OR status='private'</em>, the query string would be modified at the interpretation step and could return private data.</p>
<p>When using placeholders, overriding security conditions is not possible:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $result:=$col.query("status='public' & name=:1";myname)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>In this case if the user enters <em>smith OR status='private'</em> in the <em>myname</em> area, it will not be interpreted in the query string, but only passed as a value. Looking for a person named "smith OR status='private'" will just fail.</p>
<ol start=2>
<li>
<p>It prevents having to worry about formatting or character issues, especially when handling <em>attributePath</em> or <em>value</em> parameters that might contain non-alphanumeric characters such as ".", "['...</p>
</li>
<li>
<p>It allows the use of variables or expressions in query arguments. Examples:</p>
</li>
</ol>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$result:=$col.query("address.city = :1 & name =:2";$city;$myVar+"@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$result2:=$col.query("company.name = :1";"John's Pizzas")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=looking-for-null-values>Looking for null values<a href=#looking-for-null-values class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>When you look for null values, you cannot use the placeholder syntax because the query engine considers null as an unexpected comparison value. For example, if you execute the following query:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$vSingles:=ds.Person.query("spouse = :1";Null) // will NOT work</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>You will not get the expected result because the null value will be evaluated by 4D as an error resulting from the parameter evaluation (for example, an attribute coming from another query). For these kinds of queries, you must use the direct query syntax:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $vSingles:=ds.Person.query("spouse = null") //correct syntax</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=not-equal-to-in-collections>Not equal to in collections<a href=#not-equal-to-in-collections class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>When searching within dataclass object attributes containing collections, the "not equal to <em>value</em>" comparator (<code>#</code> or <code>!=</code>) will find elements where ALL properties are different from <em>value</em> (and not those where AT LEAST one property is different from <em>value</em>, which is how work other comparators). Basically, it is equivalent to search for "Not(find collection elements where property equals <em>value</em>"). For example, with the following entities:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Entity 1:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.name: "A"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.info:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    { "coll" : [ {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } ] }</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Entity 2:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.name: "B"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.info:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    { "coll" : [ {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":0</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } ] }</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Entity 3:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.name: "C"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.info:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    { "coll" : [ {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":0,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":0</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } ] }</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Consider the following results:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ds.Class.query("info.coll[].val = :1";0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// returns B and C</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// finds "entities with 0 in at least one val property"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.query("info.coll[].val != :1";0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// returns A only</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// finds "entities where all val properties are different from 0"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// which is the equivalent to</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.query(not("info.coll[].val = :1";0))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>If you want to implement a query that finds entities where "at least one property is different from <em>value</em>", you need to use a special notation using a letter in the <code>[]</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ds.Class.query("info.coll[a].val != :1";0)  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">// returns A and B</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// finds "entities where at least one val property is different from 0"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>You can use any letter from the alphabet as the <code>[a]</code> notation.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=linking-collection-attribute-query-arguments>Linking collection attribute query arguments<a href=#linking-collection-attribute-query-arguments class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>This feature is only available in queries on dataclasses and <a href=/docs/20/API/EntitySelectionClass#query>entity selections</a>. It cannot be used in queries on <a href=/docs/20/API/CollectionClass#query>collections</a>.</div></div>
<p>When searching within dataclass object attributes containing collections using multiple query arguments joined by the AND operator, you may want to make sure that only entities containing elements that match all arguments are returned, and not entities where arguments can be found in different elements. To do this, you need to link query arguments to collection elements, so that only single elements containing linked arguments are found.</p>
<p>For example, with the following two entities:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Entity 1:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.People.name: "martin"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.People.places:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    { "locations" : [ {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "kind":"home",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "city":"paris"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } ] }</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Entity 2:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.People.name: "smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.People.places:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    { "locations" : [ {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "kind":"home",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "city":"lyon"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } , {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "kind":"office",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "city":"paris"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } ] }</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>You want to find people with a "home" location kind in the city "paris". If you write:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ds.People.query("places.locations[].kind= :1 and places.locations[].city= :2";"home";"paris")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>... the query will return "martin" <strong>and</strong> "smith" because "smith" has a "locations" element whose "kind" is "home" and a "locations" element whose "city" is "paris", even though they are different elements.</p>
<p>If you want to only get entities where matching arguments are in the same collection element, you need to <strong>link arguments</strong>. To link query arguments:</p>
<ul>
<li>Add a letter between the [] in the first path to link and repeat the same letter in all linked arguments. For example: <code>locations[a].city and locations[a].kind</code>. You can use any letter of the Latin alphabet (not case sensitive).</li>
<li>To add different linked criteria in the same query, use another letter. You can create up to 26 combinations of criteria in a single query.</li>
</ul>
<p>With the above entities, if you write:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ds.People.query("places.locations[a].kind= :1 and places.locations[a].city= :2";"home";"paris")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>... the query will only return "martin" because it has a "locations" element whose "kind" is "home" and whose "city" is "paris". The query will not return "smith" because the values "home" and "paris" are not in the same collection element.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=queries-in-many-to-many-relations>Queries in many-to-many relations<a href=#queries-in-many-to-many-relations class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>ORDA offers a special syntax to facilitate queries in many-to-many relations. In this context, you may need to search for different values with an <code>AND</code> operator BUT in the same attribute. For example, take a look at the following structure:</p>
<p><img decoding=async loading=lazy alt=alt-text src=/docs/assets/images/manytomany-1ad2ed56ebdb101476120ab419c1994d.png width=537 height=268 class=img_ev3q></p>
<p>Imagine that you want to search all movies in which <em>both</em> actor A and actor B have a role. If you write a simple query using an <code>AND</code> operator, it will not work:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// invalid code</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$es:=ds.Movie.query("roles.actor.lastName = :1 AND roles.actor.lastName = :2";"Hanks";"Ryan")  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $es is empty</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Basically, the issue is related to the internal logic of the query: you cannot search for an attribute whose value would be both "A" and "B".</p>
<p>To make it possible to perform such queries, ORDA allows a special syntax: you just need to add a <em>class index</em> between <strong>{}</strong> in all additional relation attributes used in the string:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">"relationAttribute.attribute = :1 AND relationAttribute{x}.attribute = :2 [AND relationAttribute{y}.attribute...]"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>{x}</strong> tells ORDA to create another reference for the relation attribute. It will then perform all the necessary bitmap operations internally. Note that <strong>x</strong> can be any number <strong>except 0</strong>: {1}, or {2}, or {1540}... ORDA only needs a unique reference in the query for each class index.</p>
<p>In our example, it would be:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// valid code</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$es:=ds.Movie.query("roles.actor.lastName = :1 AND roles.actor{2}.lastName = :2";"Hanks";"Ryan")  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $es contains movies (You've Got Mail, Sleepless in Seattle, Joe Versus the Volcano)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=formula-parameter>formula parameter<a href=#formula-parameter class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>As an alternative to formula insertion within the <em>queryString</em> parameter (see above), you can pass directly a formula object as a boolean search criteria. Using a formula object for queries is <strong>recommended</strong> since you benefit from tokenization, and code is easier to search/read.</p>
<p>The formula must have been created using the <a href=/docs/20/API/FunctionClass#formula><code>Formula</code></a> or <a href=/docs/20/API/FunctionClass#formula-from-string><code>Formula from string</code></a> command. In this case:</p>
<ul>
<li>the <em>formula</em> is evaluated for each entity and must return true or false. During the execution of the query, if the formula's result is not a boolean, it is considered as false.</li>
<li>within the <em>formula</em>, the entity is available through the <code>This</code> object.</li>
<li>if the <code>Formula</code> object is <strong>null</strong>, the error 1626 ("Expecting a text or formula") is generated, that you call intercept using a method installed with <code>ON ERR CALL</code>.</li>
</ul>
<blockquote>
<p>For security reasons, formula calls within <code>query()</code> functions can be disallowed. See <em>querySettings</em> parameter description.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=passing-parameters-to-formulas>Passing parameters to formulas<a href=#passing-parameters-to-formulas class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>Any <em>formula</em> called by the <code>query()</code> class function can receive parameters:</p>
<ul>
<li>Parameters must be passed through the <strong>args</strong> property (object) of the <em>querySettings</em> parameter.</li>
<li>The formula receives this <strong>args</strong> object as a <strong>$1</strong> parameter.</li>
</ul>
<p>This small code shows the principles of how parameter are passed to methods:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $settings:=New object("args";New object("exclude";"-")) //args object to pass parameters</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Students.query("eval(checkName($1.exclude))";$settings) //args is received in $1</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Additional examples are provided in example 3.</p>
<p><strong>4D Server</strong>: In client/server, formulas are executed on the server. In this context, only the <code>querySettings.args</code> object is sent to the formulas.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=querysettings-parameter>querySettings parameter<a href=#querysettings-parameter class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>In the <em>querySettings</em> parameter, you can pass an object containing additional options. The following properties are supported:</p>













































<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>parameters<td>Object<td><strong>Named placeholders for values</strong> used in the <em>queryString</em> or <em>formula</em>. Values are expressed as property / value pairs, where property is the placeholder name inserted for a value in the <em>queryString</em> or <em>formula</em> (":placeholder") and value is the value to compare. You can mix indexed placeholders (values directly passed in value parameters) and named placeholder values in the same query.<tr><td>attributes<td>Object<td><strong>Named placeholders for attribute paths</strong> used in the <em>queryString</em> or <em>formula</em>. Attributes are expressed as property / value pairs, where property is the placeholder name inserted for an attribute path in the <em>queryString</em> or <em>formula</em> (":placeholder"), and value can be a string or a collection of strings. Each value is a path that can designate either a scalar or a related attribute of the dataclass or a property in an object field of the dataclass<table><tr><th>Type<th>Description<tr><td>String<td>attributePath expressed using the dot notation, e.g. "name" or "user.address.zipCode"<tr><td>Collection of strings<td>Each string of the collection represents a level of attributePath, e.g. ["name"] or ["user","address","zipCode"]. Using a collection allows querying on attributes with names that are not compliant with dot notation, e.g. ["4Dv17.1","en/fr"]</table>You can mix indexed placeholders (values directly passed in <em>value</em> parameters) and named placeholder values in the same query.<tr><td>args<td>Object<td>Parameter(s) to pass to formulas, if any. The <strong>args</strong> object will be received in $1 within formulas and thus its values will be available through <em>$1.property</em> (see example 3).<tr><td>allowFormulas<td>Boolean<td>True to allow the formula calls in the query (default). Pass false to disallow formula execution. If set to false and <code>query()</code> is given a formula, an error is sent (1278 - Formula not allowed in this member method).<tr><td>context<td>Text<td>Label for the automatic optimization context applied to the entity selection. This context will be used by the code that handles the entity selection so that it can benefit from the optimization. This feature is designed for client/server processing; for more information, please refer to the <a href=/docs/20/ORDA/datastores#context><strong>Client/server optimization</strong></a> section.<tr><td>queryPlan<td>Boolean<td>In the resulting entity selection, returns or does not return the detailed description of the query just before it is executed, i.e. the planned query. The returned property is an object that includes each planned query and subquery (in the case of a complex query). This option is useful during the development phase of an application. It is usually used in conjunction with queryPath. Default if omitted: false. <strong>Note</strong>: This property is supported only by the <code>entitySelection.query()</code> and <code>dataClass.query()</code> functions.<tr><td>queryPath<td>Boolean<td>In the resulting entity selection, returns or does not return the detailed description of the query as it is actually performed. The returned property is an object that contains the actual path used for the query (usually identical to that of the queryPlan, but may differ if the engine manages to optimize the query), as well as the processing time and the number of records found. This option is useful during the development phase of an application. Default if omitted: false. <strong>Note</strong>: This property is supported only by the <code>entitySelection.query()</code> and <code>dataClass.query()</code> functions.</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=about-queryplan-and-querypath>About queryPlan and queryPath<a href=#about-queryplan-and-querypath class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The information recorded in <code>queryPlan</code>/<code>queryPath</code> include the query type (indexed and sequential) and each necessary subquery along with conjunction operators. Query paths also contain the number of entities found and the time required to execute each search criterion. You may find it useful to analyze this information while developing your application(s). Generally, the description of the query plan and its path are identical but they can differ because 4D can implement dynamic optimizations when a query is executed in order to improve performance. For example, the 4D engine can dynamically convert an indexed query into a sequential one if it estimates that it is faster. This particular case can occur when the number of entities being searched for is low.</p>
<p>For example, if you execute the following query:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $sel:=ds.Employee.query("salary &lt; :1 and employer.name = :2 or employer.revenues > :3";\  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> 50000;"Lima West Kilo";10000000;New object("queryPath";True;"queryPlan";True))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>queryPlan:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{Or:[{And:[{item:[index : Employee.salary ] &lt; 50000},  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> {item:Join on Table : Company  :  Employee.employerID = Company.ID,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> subquery:[{item:[index : Company.name ] = Lima West Kilo}]}]},  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> {item:Join on Table : Company  :  Employee.employerID = Company.ID,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> subquery:[{item:[index : Company.revenues ] > 10000000}]}]}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>queryPath:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{steps:[{description:OR,time:63,recordsfounds:1388132,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> steps:[{description:AND,time:32,recordsfounds:131,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> steps:[{description:[index : Employee.salary ] &lt; 50000,time:16,recordsfounds:728260},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:0,recordsfounds:131,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> steps:[{steps:[{description:[index : Company.name ] = Lima West Kilo,time:0,recordsfounds:1}]}]}]},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:31,recordsfounds:1388132,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> steps:[{steps:[{description:[index : Company.revenues ] > 10000000,time:0,recordsfounds:933}]}]}]}]}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-1-4>Example 1<a href=#example-1-4 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>This section provides various examples of queries.</p>
<p>Query on a string:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Customer.query("firstName = 'S@'")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with a NOT statement:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("not(firstName=Kim)")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Queries with dates:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("birthDate > :1";"1970-01-01")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("birthDate &lt;= :1";Current date-10950)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with indexed placeholders for values:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Customer.query("(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)";"D@";"R@";"S@";"K@")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with indexed placeholders for values on a related dataclass:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("lastName = :1 and manager.lastName = :2";"M@";"S@")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with indexed placeholder including a descending order by statement:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Student.query("nationality = :1 order by campus.name desc, lastname";"French")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with named placeholders for values:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $querySettings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $managedCustomers : cs.CustomerSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$querySettings:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$querySettings.parameters:=New object("userId";1234;"extraInfo";New object("name";"Smith"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$managedCustomers:=ds.Customer.query("salesperson.userId = :userId and name = :extraInfo.name";$querySettings)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query that uses both named and indexed placeholders for values:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $querySettings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $managedCustomers : cs.CustomerSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$querySettings.parameters:=New object("userId";1234)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$managedCustomers:=ds.Customer.query("salesperson.userId = :userId and name=:1";"Smith";$querySettings)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with queryPlan and queryPath objects:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)";"D@";"R@";"S@";"K@";New object("queryPlan";True;"queryPath";True))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //you can then get these properties in the resulting entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $queryPlan; $queryPath : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$queryPlan:=$entitySelection.queryPlan</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$queryPath:=$entitySelection.queryPath</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with an attribute path of Collection type:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("extraInfo.hobbies[].name = :1";"horsebackriding")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with an attribute path of Collection type and linked attributes:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("extraInfo.hobbies[a].name = :1 and extraInfo.hobbies[a].level=:2";"horsebackriding";2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with an attribute path of Collection type and multiple linked attributes:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("extraInfo.hobbies[a].name = :1 and</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> extraInfo.hobbies[a].level = :2 and extraInfo.hobbies[b].name = :3 and</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> extraInfo.hobbies[b].level = :4";"horsebackriding";2;"Tennis";5)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with an attribute path of Object type:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("extra.eyeColor = :1";"blue")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with an IN statement:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("firstName in :1";New collection("Kim";"Dixie"))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with a NOT (IN) statement:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds.Employee.query("not (firstName in :1)";New collection("John";"Jane"))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with indexed placeholders for attributes:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $es : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$es:=ds.Employee.query(":1 = 1234 and :2 = 'Smith'";"salesperson.userId";"name")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //salesperson is a related entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with indexed placeholders for attributes and named placeholders for values:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $es : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $querySettings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$querySettings:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$querySettings.parameters:=New object("customerName";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$es:=ds.Customer.query(":1 = 1234 and :2 = :customerName";"salesperson.userId";"name";$querySettings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //salesperson is a related entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with indexed placeholders for attributes and values:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $es : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$es:=ds.Clients.query(":1 = 1234 and :2 = :3";"salesperson.userId";"name";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //salesperson is a related entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-2-4>Example 2<a href=#example-2-4 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>This section illustrates queries with named placeholders for attributes.</p>
<p>Given an Employee dataclass with 2 entities:</p>
<p>Entity 1:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">name: "Marie"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">number: 46</span><br></span><span class=token-line style=color:#393A34><span class="token plain">softwares:{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Word 10.2": "Installed",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Excel 11.3": "To be upgraded",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Powerpoint 12.4": "Not installed"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Entity 2:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">name: "Sophie"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">number: 47</span><br></span><span class=token-line style=color:#393A34><span class="token plain">softwares:{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Word 10.2": "Not installed",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Excel 11.3": "To be upgraded",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Powerpoint 12.4": "Not installed"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with named placeholders for attributes:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $querySettings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $querySettings:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $querySettings.attributes:=New object("attName";"name";"attWord";New collection("softwares";"Word 10.2"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Employee.query(":attName = 'Marie' and :attWord = 'Installed'";$querySettings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$es.length=1 (Employee Marie)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Query with named placeholders for attributes and values:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $querySettings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $name : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $querySettings:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Named placeholders for values</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //The user is asked for a name</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $name:=Request("Please enter the name to search:")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If(OK=1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $querySettings.parameters:=New object("givenName";$name)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Named placeholders for attribute paths</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $querySettings.attributes:=New object("attName";"name")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $es:=ds.Employee.query(":attName= :givenName";$querySettings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-3-3>Example 3<a href=#example-3-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>These examples illustrate the various ways to use formulas with or without parameters in your queries.</p>
<p>The formula is given as text with <code>eval()</code> in the <em>queryString</em> parameter:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Students.query("eval(length(This.lastname) >=30) and nationality='French'")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The formula is given as a <code>Formula</code> object through a placeholder:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $formula : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula:=Formula(Length(This.lastname)>=30)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Students.query(":1 and nationality='French'";$formula)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Only a <code>Formula</code> object is given as criteria:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $formula : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula:=Formula(Length(This.lastname)>=30)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Students.query($formula)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Several formulas can be applied:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $formula1; $1; $formula2 ;$0 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula1:=$1</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula2:=Formula(Length(This.firstname)>=30)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $0:=ds.Students.query(":1 and :2 and nationality='French'";$formula1;$formula2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>A text formula in <em>queryString</em> receives a parameter:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $settings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings:=New object()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings.args:=New object("filter";"-")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Students.query("eval(checkName($1.filter)) and nationality=:1";"French";$settings)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  //checkName method</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> #DECLARE($exclude : Text) -> $result : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=(Position($exclude;This.lastname)=0)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Using the same <em><strong>checkName</strong></em> method, a <code>Formula</code> object as placeholder receives a parameter:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $settings; $formula : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula:=Formula(checkName($1.filter))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings:=New object()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings.args:=New object("filter";"-")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Students.query(":1 and nationality=:2";$formula;"French";$settings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings.args.filter:="*" // change the parameters without updating the $formula object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Students.query(":1 and nationality=:2";$formula;"French";$settings)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>We want to disallow formulas, for example when the user enters their query:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $settings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $queryString : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $queryString:=Request("Enter your query:")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> if(OK=1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $settings:=New object("allowFormulas";False)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $es:=ds.Students.query($queryString;$settings) //An error is raised if $queryString contains a formula</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-2>See also<a href=#see-also-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=/docs/20/API/EntitySelectionClass#query><code>.query()</code></a> for entity selections</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=setremotecachesettings>.setRemoteCacheSettings()<a href=#setremotecachesettings class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>19 R5<td>Added</table>
</div></div></details>
<p><strong>.setRemoteCacheSettings</strong>(<em>settings</em> : Object)</p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>settings<td>Object<td>-><td>Object that sets the timeout and maximum size of the ORDA cache for the dataclass.</table>
<blockquote>
<p><strong>Advanced mode:</strong> This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-12>Description<a href=#description-12 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.setRemoteCacheSettings()</code> function sets the timeout and maximum size of the ORDA cache for a dataclass..</p>
<p>In the <em>settings</em> parameter, pass an object with the following properties:</p>




















<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>timeout<td>Integer<td>Timeout in seconds.<tr><td>maxEntries<td>Integer<td>Maximum number of entities.</table>
<p><code>timeout</code> sets the timeout of the ORDA cache for the dataclass (default is 30 seconds). Once the timeout has passed, the entities of the dataclass in the cache are considered as expired. This means that:</p>
<ul>
<li>the data is still there</li>
<li>the next time the data is needed, it will be asked to the server</li>
<li>4D automatically removes expired data when the maximum number of entities is reached</li>
</ul>
<p>Setting a <code>timeout</code> property sets a new timeout for the entities already present in the cache. It is useful when working with data that does not change very frequently, and thus when new requests to the server are not necessary.</p>
<p><code>maxEntries</code> sets the max number of entities in the ORDA cache. Default is 30 000.</p>
<p>The minimum number of entries is 300, so the value of <code>maxEntries</code> must be equal to or higher than 300. Otherwise it is ignored and the maximum number of entries is set to 300.</p>
<p>If no valid properties are passed as <code>timeout</code> and <code>maxEntries</code>, the cache remains unchanged, with its default or previously set values.</p>
<p>When an entity is saved, it is updated in the cache and expires once the timeout is reached.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-12>Example<a href=#example-12 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds.Buildings.setRemoteCacheSettings(New object("timeout"; 60; "maxEntries"; 350))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-3>See also<a href=#see-also-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#clearremotecache>.clearRemoteCache()</a><br><a href=#clearremotecache>.getRemoteCache()</a></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataClassClass.md%20(20)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Comment on this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/20/API/CryptoKeyClass><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>CryptoKey</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/20/API/DataStoreClass><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>DataStore</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#summary class="table-of-contents__link toc-highlight">Summary</a><li><a href=#attributename class="table-of-contents__link toc-highlight">.<em>attributeName</em></a><li><a href=#all class="table-of-contents__link toc-highlight">.all()</a><li><a href=#clearremotecache class="table-of-contents__link toc-highlight">.clearRemoteCache()</a><li><a href=#fromcollection class="table-of-contents__link toc-highlight">.fromCollection()</a><li><a href=#get class="table-of-contents__link toc-highlight">.get()</a><li><a href=#getcount class="table-of-contents__link toc-highlight">.getCount()</a><li><a href=#getdatastore class="table-of-contents__link toc-highlight">.getDataStore()</a><li><a href=#getinfo class="table-of-contents__link toc-highlight">.getInfo()</a><li><a href=#getremotecache class="table-of-contents__link toc-highlight">.getRemoteCache()</a><li><a href=#new class="table-of-contents__link toc-highlight">.new()</a><li><a href=#newselection class="table-of-contents__link toc-highlight">.newSelection()</a><li><a href=#query class="table-of-contents__link toc-highlight">.query()</a><li><a href=#setremotecachesettings class="table-of-contents__link toc-highlight">.setRemoteCacheSettings()</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://developer.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Developer Center</a><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://twitter.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="col footer__col"><div class=footer__title>Support</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Where It All Began)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Knowledgebase</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Downloads<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Get Support<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Company</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>About 4D<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contact us<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D around the world<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2024 4D SAS - All rights reserved</div></div></div></footer></div>