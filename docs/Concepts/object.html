<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Object · Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;Variables, fields or expressions of the Object type can contain various types of data. The structure of &amp;quot;native&amp;quot; 4D objects is based on the classic principle of &amp;quot;property/value&amp;quot; pairs. The syntax of these objects is based on JSON notation:&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Object · Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/index.html"/><meta property="og:description" content="&lt;p&gt;Variables, fields or expressions of the Object type can contain various types of data. The structure of &amp;quot;native&amp;quot; 4D objects is based on the classic principle of &amp;quot;property/value&amp;quot; pairs. The syntax of these objects is based on JSON notation:&lt;/p&gt;
"/><meta property="og:image" content="https://4d.github.io/docs/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/img/logohome.png"/><link rel="shortcut icon" href="/docs/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/js/code-blocks-buttons.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/"><img class="logo" src="/docs/img/4DlogoK.gif" alt="Documentation"/><h2 class="headerTitleWithLogo">Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/" target="_self">Developer Center</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>4D Language Concepts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">4D Language Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/doc1.html">About the 4D Language</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/quick-tour.html">A Quick Tour</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/data-types.html">Data types overview</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/boolean.html">Boolean</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/collection.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/date.html">Date</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/null-undefined.html">Null and Undefined</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/number.html">Number (Real, Longint, Integer)</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/docs/Concepts/object.html">Object</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/picture.html">Picture</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/pointer.html">Pointer</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/string.html">String</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/time.html">Time</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/variables.html">Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/arrays.html">Arrays</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/methods.html">Methods</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/parameters.html">Parameters</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/shared.html">Shared objects and collections</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/control-flow.html">Control flow overview</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/branching.html">Branching structures</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/looping.html">Looping structures</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/error-handling.html">Error handling</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/interpreted-compiled.html">Interpreted and Compiled modes</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/components.html">Components</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Concepts/identifiers.html">Identifiers</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">4D Projects (BETA)<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/docs/Project/overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Project/creating.html">Creating a 4D project</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Project/exporting.html">Exporting from a 4D database</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Project/architecture.html">Architecture of a 4D project</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Project/developing.html">Developing a project</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/Project/deploying.html">Deploying a project</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Object</h1></header><article><div><span><p>Variables, fields or expressions of the Object type can contain various types of data. The structure of &quot;native&quot; 4D objects is based on the classic principle of &quot;property/value&quot; pairs. The syntax of these objects is based on JSON notation:</p>
<ul>
<li><p>A property name is always a text, for example &quot;Name&quot;.</p></li>
<li><p>A property value can be of the following type:</p>
<ul>
<li>number (Real, Integer, etc.)</li>
<li>text</li>
<li>null</li>
<li>Boolean</li>
<li>pointer (stored as such, evaluated using the <code>JSON Stringify</code> command or when copying),</li>
<li>date (date type or ISO date format string)</li>
<li>object (objects can be nested on several levels)</li>
<li>picture(*)</li>
<li>collection</li>
</ul></li>
</ul>
<p>(*)When exposed as text in the debugger or exported to JSON, picture object properties print &quot;[object Picture]&quot;.</p>
<p><strong>Warning:</strong> Keep in mind that attribute names differentiate between upper and lower case.</p>
<p>You manage Object type variables, fields or expressions using the commands available in the <strong>Objects (Language)</strong> theme or through the object notation (see <a href="/docs/docs/Concepts/object.html#syntax-basics">Syntax basics</a>). Note that specific commands of the Queries theme such as <code>QUERY BY ATTRIBUTE</code>, <code>QUERY SELECTION BY ATTRIBUTE</code>, or <code>ORDER BY ATTRIBUTE</code> can be used to carry out processing on object fields.</p>
<p>Each property value accessed through the object notation is considered an expression. When the object notation is enabled in your database (see below), you can use such values wherever 4D expressions are expected:</p>
<ul>
<li>in 4D code, either written in the methods (Method editor) or externalized (formulas, 4D tags files processed by or the Web Server, export files, 4D Write Pro documents...),</li>
<li>in the Expression areas of the Debugger and the Runtime explorer,</li>
<li>in the Property list of the Form editor for form objects: Variable or Expression field as well as various selection list box and columns expressions (Data Source, background color, style, or font color).</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="initialization"></a><a href="#initialization" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Initialization</h2>
<p>Objects must have been initialized, for example using the <code>New object</code> command, otherwise trying to read or modify their properties will generate a syntax error.</p>
<p>Example:</p>
<pre><code class="hljs css language-code4d"> C_OBJECT(<span class="hljs-variable">$obVar</span>) <span class="hljs-comment">//creation of an object type 4D variable</span>
 <span class="hljs-variable">$obVar</span>:=New <span class="hljs-selector-tag">object</span> <span class="hljs-comment">//initialization of the object and assignment to the 4D variable</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="regular-or-shared-object"></a><a href="#regular-or-shared-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Regular or shared object</h3>
<p>You can create two types of objects:</p>
<ul>
<li>regular (non-shared) objects, using the <code>New object</code> command. These objects can be edited without any specific access control but cannot be shared between processes.</li>
<li>shared objects, using the <code>New shared object</code> command. These objects can be shared between processes, including preemptive threads. Access to these objects is controlled by <code>Use...End use</code> structures.
For more information, refer to the <a href="/docs/docs/Concepts/shared.html">Shared objects and collections</a> section.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="syntax-basics"></a><a href="#syntax-basics" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntax basics</h2>
<p>Object notation can be used to access object property values through a chain of tokens.</p>
<h3><a class="anchor" aria-hidden="true" id="object-properties"></a><a href="#object-properties" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Object properties</h3>
<p>With object notation, object properties can be accessed in two ways:</p>
<ul>
<li>using a &quot;dot&quot; symbol:
<blockquote>
<p>object.propertyName</p>
</blockquote></li>
</ul>
<p>Example:</p>
<pre><code class="hljs css language-code4d">     employee<span class="hljs-selector-class">.name</span>:=<span class="hljs-string">"Smith"</span>
</code></pre>
<ul>
<li>using a string within square brackets:
<blockquote>
<p>object[&quot;propertyName&quot;]</p>
</blockquote></li>
</ul>
<p>Examples:</p>
<pre><code class="hljs css language-code4d">     $vName:=employee[<span class="hljs-string">"name"</span>]
     //<span class="hljs-keyword">or</span> also:
     $<span class="hljs-keyword">property</span><span class="hljs-title"></span>:=<span class="hljs-string">"name"</span>
     $vName:=employee[$<span class="hljs-keyword">property</span><span class="hljs-title"></span>]

</code></pre>
<p>Since an object property value can be an object or a collection, object notation accepts a sequence of symbols to access sub-properties, for example:</p>
<pre><code class="hljs css language-code4d"> <span class="hljs-variable">$vAge</span>:=employee<span class="hljs-selector-class">.children</span>[<span class="hljs-number">2</span>]<span class="hljs-selector-class">.age</span>
</code></pre>
<p>Object notation is available on any language element that can contains or returns an object, i.e:</p>
<ul>
<li><strong>Objects</strong> themselves (stored in variables, fields, object properties, object arrays, or collection elements).
Examples:</li>
</ul>
<pre><code class="hljs css language-code4d">     <span class="hljs-variable">$age</span>:=<span class="hljs-variable">$myObjVar</span><span class="hljs-selector-class">.employee</span><span class="hljs-selector-class">.age</span> <span class="hljs-comment">//variable</span>
     <span class="hljs-variable">$addr</span>:=[Emp]data_obj<span class="hljs-selector-class">.address</span> <span class="hljs-comment">//field</span>
     <span class="hljs-variable">$city</span>:=<span class="hljs-variable">$addr</span><span class="hljs-selector-class">.city</span> <span class="hljs-comment">//property of an object</span>
     <span class="hljs-variable">$pop</span>:=<span class="hljs-variable">$aObjCountries</span>{<span class="hljs-number">2</span>}<span class="hljs-selector-class">.population</span> <span class="hljs-comment">//object array</span>
     <span class="hljs-variable">$val</span>:=<span class="hljs-variable">$myCollection</span>[<span class="hljs-number">3</span>]<span class="hljs-selector-class">.subvalue</span> <span class="hljs-comment">//collection element</span>
</code></pre>
<ul>
<li><strong>4D commands</strong> that return objects.
Example:</li>
</ul>
<pre><code class="hljs css language-code4d">     <span class="hljs-variable">$measures</span>:=Get database measures<span class="hljs-selector-class">.DB</span><span class="hljs-selector-class">.tables</span>
</code></pre>
<ul>
<li><strong>Project methods</strong> that return objects.
Example:</li>
</ul>
<pre><code class="hljs css language-code4d">      <span class="hljs-regexp">//</span> MyMethod1
     C_OBJECT(<span class="hljs-variable">$0</span>)
     <span class="hljs-variable">$0</span>:=New object(<span class="hljs-string">"a"</span>;<span class="hljs-number">10</span>;<span class="hljs-string">"b"</span>;<span class="hljs-number">20</span>)
     
      <span class="hljs-regexp">//my</span>Method2
     <span class="hljs-variable">$result</span>:=MyMethod1.a <span class="hljs-regexp">//</span><span class="hljs-number">10</span>
</code></pre>
<ul>
<li><strong>Collections</strong>
Example:</li>
</ul>
<pre><code class="hljs css language-code4d">     myColl<span class="hljs-selector-class">.length</span> <span class="hljs-comment">//size of the collection</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="pointers"></a><a href="#pointers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pointers</h3>
<p><strong>Preliminary Note:</strong> Since objects are always passed by reference, there is usually no need to use pointers. While just passing the object, internally 4D automatically uses a mechanism similar to a pointer, minimizing memory need and allowing you to modify the parameter and to return modifications. As a result, you should not need to use pointers. However, in case you want to use pointers, property values can be accessed through pointers.</p>
<p>Using object notation with pointers is very similar to using object notation directly with objects, except that the &quot;dot&quot; symbol must be omitted.</p>
<ul>
<li>Direct access:</li>
</ul>
<blockquote>
<p>pointerOnObject-&gt;propertyName</p>
</blockquote>
<ul>
<li>Access by name:</li>
</ul>
<blockquote>
<p>pointerOnObject-&gt;[&quot;propertyName&quot;]</p>
</blockquote>
<p>Example:</p>
<pre><code class="hljs css language-code4d"> C_OBJECT(vObj)
 C_POINTER(vPtr)
 vObj:=New <span class="hljs-selector-tag">object</span>
 vObj<span class="hljs-selector-class">.a</span>:=<span class="hljs-number">10</span>
 vPtr:=-&gt;vObj
 x:=vPtr-&gt;<span class="hljs-selector-tag">a</span> <span class="hljs-comment">//x=10</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="null-value"></a><a href="#null-value" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Null value</h3>
<p>When using the object notation, the <strong>null</strong> value is supported though the <strong>Null</strong> command. This command can be used to assign or compare the null value to object properties or collection elements, for example:</p>
<pre><code class="hljs css language-code4d"> myObject.address.zip:=<span class="hljs-built_in">Null</span>
 <span class="hljs-keyword">If</span>(myColl[<span class="hljs-number">2</span>]=<span class="hljs-built_in">Null</span>)
</code></pre>
<p>For more information, please refer to the <code>Null</code> command description.</p>
<h3><a class="anchor" aria-hidden="true" id="undefined-value"></a><a href="#undefined-value" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Undefined value</h3>
<p>Evaluating an object property can sometimes produce an undefined value. Typically when trying to read or assign undefined expressions, 4D will generate errors. This does not happen in the following cases:</p>
<ul>
<li>Reading a property of an undefined object or value returns undefined; assigning an undefined value to variables (except arrays) has the same effect as calling with them:</li>
</ul>
<pre><code class="hljs css language-code4d">     C_OBJECT(<span class="hljs-variable">$o</span>)
     C_LONGINT(<span class="hljs-variable">$val</span>)
     <span class="hljs-variable">$val:</span>=<span class="hljs-number">10</span> //<span class="hljs-variable">$val</span>=<span class="hljs-number">10</span>
     <span class="hljs-variable">$val:</span>=<span class="hljs-variable">$o</span>.a //<span class="hljs-variable">$o</span>.a <span class="hljs-literal">is</span> undefined (no<span class="hljs-built_in"> error</span>), <span class="hljs-keyword">and</span> assigning this <span class="hljs-keyword">value</span> clears the <span class="hljs-keyword">variable</span>
      //<span class="hljs-variable">$val</span>=<span class="hljs-number">0</span>
</code></pre>
<ul>
<li>Reading the <strong>length</strong> property of an undefined collection produces 0:</li>
</ul>
<pre><code class="hljs css language-code4d">     C_COLLECTION(<span class="hljs-variable">$c</span>) <span class="hljs-comment">//variable created but no collection is defined</span>
     <span class="hljs-variable">$size</span>:=<span class="hljs-variable">$c</span><span class="hljs-selector-class">.length</span> <span class="hljs-comment">//$size = 0</span>
</code></pre>
<ul>
<li>An undefined value passed as parameter to a project method is automatically converted to 0 or &quot;&quot; according to the declared parameter type.</li>
</ul>
<pre><code class="hljs css language-code4d">     C_OBJECT(<span class="hljs-variable">$o</span>)
     mymethod(<span class="hljs-variable">$o</span>.a) <span class="hljs-regexp">//</span>pass an undefined parameter
     
      <span class="hljs-regexp">//</span>In mymethod method
     C_TEXT(<span class="hljs-variable">$1</span>) <span class="hljs-regexp">//</span>parameter type is text
      <span class="hljs-regexp">//</span> <span class="hljs-variable">$1</span> contains <span class="hljs-string">""</span>
</code></pre>
<ul>
<li>A condition expression is automatically converted to false when evaluating to undefined with the If and Case of keywords:</li>
</ul>
<pre><code class="hljs css language-code4d">     C_OBJECT($o)
     <span class="hljs-keyword">If</span>($o.a) // <span class="hljs-literal">false</span>
     <span class="hljs-keyword">End</span> <span class="hljs-keyword">if</span>
     <span class="hljs-keyword">Case</span> <span class="hljs-keyword">of</span>
        :($o.a) // <span class="hljs-literal">false</span>
     <span class="hljs-keyword">End</span> <span class="hljs-keyword">case</span>
</code></pre>
<ul>
<li>Assigning an undefined value to an existing object property reinitializes or clears its value, depending on its type:</li>
<li>Object, collection, pointer: Null</li>
<li>Picture: Empty picture</li>
<li>Boolean: False</li>
<li>String: &quot;&quot;</li>
<li>Number: 0</li>
<li>Date: !00-00-00! if &quot;Use date type instead of ISO date format in objects&quot; setting is enabled, otherwise &quot;&quot;</li>
<li>Time: 0 (number of ms)</li>
<li>Undefined, Null: no change</li>
</ul>
<pre><code class="hljs css language-code4d">     C_OBJECT(<span class="hljs-built_in">$o</span>)
     <span class="hljs-built_in">$o</span>:=<span class="hljs-keyword">New</span> object(<span class="hljs-string">"a"</span><span class="hljs-comment">;2)</span>
     <span class="hljs-built_in">$o</span>.a:=<span class="hljs-built_in">$o</span>.b <span class="hljs-comment">//$o.a=0</span>
</code></pre>
<ul>
<li>Assigning an undefined value to a non existing object property does nothing.</li>
</ul>
<p>When expressions of a given type are expected in your 4D code, you can make sure they have the correct type even when evaluated to undefined by surrounding them with the appropriate 4D cast command: <code>String</code>, <code>Num</code>, <code>Date</code>, <code>Time</code>, <code>Bool</code>. These commands return an empty value of the specified type when the expression evaluates to undefined. For example:</p>
<pre><code class="hljs css language-code4d"> <span class="hljs-variable">$myString</span>:=Lowercase(String(<span class="hljs-variable">$o</span><span class="hljs-selector-class">.a</span><span class="hljs-selector-class">.b</span>)) <span class="hljs-comment">//make sure you get a string value even if undefined</span>
  <span class="hljs-comment">//to avoid errors in the code</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="object-property-identifiers"></a><a href="#object-property-identifiers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Object property identifiers</h2>
<p>Token member names (i.e., object property names accessed using the object notation) are more restrictive than standard 4D object names. They must comply with JavaScript Identifier Grammar (see ECMA Script standard):</p>
<ul>
<li>the first character must be a letter, an underscore (_), or a dollar sign ($),</li>
<li>subsequent characters may be any letter, digit, an underscore or dollar sign (space characters are NOT allowed),</li>
<li>they are case sensitive.</li>
</ul>
<p><strong>Note:</strong></p>
<ul>
<li>Using a table field as a collection index, for example a.b[[Table1]Id], is not allowed. You must use an intermediary variable.</li>
<li>Creating object attributes using a string in square brackets allows you to override the ECMA Script rules. For example, the $o[&quot;My Att&quot;] attribute is valid in 4D, despite the space. In this case, however, it will not be possible to use dot notation with this attribute.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="examples"></a><a href="#examples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples</h2>
<p>Using object notation simplifies the 4D code while handling objects. Note however that the command-based notation is still fully supported.</p>
<ul>
<li>Writing and reading objects (this example compares object notation and command notation):</li>
</ul>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">// Using the object notation</span>
 C_OBJECT($myObj) <span class="hljs-comment">//declares a 4D variable object</span>
 $myObj:=<span class="hljs-literal">New</span> object <span class="hljs-comment">//creates an object and assigns to the variable</span>
 $myObj.age:=<span class="hljs-number">56</span>
 $age:=$myObj.age <span class="hljs-comment">//56</span>
 
  <span class="hljs-comment">// Using the command notation</span>
 C_OBJECT($myObj2) <span class="hljs-comment">//declares a 4D variable object</span>
 OB <span class="hljs-built_in">SET</span>($myObj2;<span class="hljs-string">"age"</span>;<span class="hljs-number">42</span>) <span class="hljs-comment">//creates an object and adds the age property</span>
 $age:=OB Get($myObj2;<span class="hljs-string">"age"</span>) <span class="hljs-comment">//42</span>
 
  <span class="hljs-comment">// Of course, both notations can be mixed</span>
 C_OBJECT($myObj3)
 OB <span class="hljs-built_in">SET</span>($myObj3;<span class="hljs-string">"age"</span>;<span class="hljs-number">10</span>)
 $age:=$myObj3.age <span class="hljs-comment">//10</span>
</code></pre>
<ul>
<li>Create a property and assign values, including objects:</li>
</ul>
<pre><code class="hljs css language-code4d"> C_OBJECT($Emp)
 $Emp:=<span class="hljs-literal">New</span> object
 $Emp.city:=<span class="hljs-string">"London"</span> <span class="hljs-comment">//creates the city property and sets its value to "London"</span>
 $Emp.city:=<span class="hljs-string">"Paris"</span> <span class="hljs-comment">//modifies the city property</span>
 $Emp.phone:=<span class="hljs-literal">New</span> object(<span class="hljs-string">"office"</span>;<span class="hljs-string">"123456789"</span>;<span class="hljs-string">"home"</span>;<span class="hljs-string">"0011223344"</span>)
  <span class="hljs-comment">//creates the phone property and sets its value to an object</span>
</code></pre>
<ul>
<li>Get a value in a sub-object is very simple using the object notation:</li>
</ul>
<pre><code class="hljs css language-code4d"> <span class="hljs-variable">$vCity</span>:=<span class="hljs-variable">$Emp</span><span class="hljs-selector-class">.city</span> <span class="hljs-comment">//"Paris"</span>
 <span class="hljs-variable">$vPhone</span>:=<span class="hljs-variable">$Emp</span><span class="hljs-selector-class">.phone</span><span class="hljs-selector-class">.home</span> <span class="hljs-comment">//"0011223344"</span>
</code></pre>
<ul>
<li>You can access properties as strings using the [ ] operator</li>
</ul>
<pre><code class="hljs css language-code4d"> <span class="hljs-variable">$Emp</span>[<span class="hljs-string">"city"</span>]:=<span class="hljs-string">"Berlin"</span> <span class="hljs-regexp">//m</span>odifies the city property
  <span class="hljs-regexp">//</span>this can be useful <span class="hljs-keyword">for</span> creating properties through variables
 C_TEXT(<span class="hljs-variable">$addr</span>)
 <span class="hljs-variable">$addr</span>:=<span class="hljs-string">"address"</span>
 For(<span class="hljs-variable">$i</span>;<span class="hljs-number">1</span>;<span class="hljs-number">4</span>)
    <span class="hljs-variable">$Emp</span>[<span class="hljs-variable">$addr</span>+String(<span class="hljs-variable">$i</span>)]:=<span class="hljs-string">""</span>
 End <span class="hljs-keyword">for</span>
  <span class="hljs-regexp">//</span> creates <span class="hljs-number">4</span> empty properties <span class="hljs-string">"address1...address4"</span> <span class="hljs-keyword">in</span> the <span class="hljs-variable">$Emp</span> object
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/docs/Concepts/number.html"><span class="arrow-prev">← </span><span>Number (Real, Longint, Integer)</span></a><a class="docs-next button" href="/docs/docs/Concepts/picture.html"><span>Picture</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#initialization">Initialization</a><ul class="toc-headings"><li><a href="#regular-or-shared-object">Regular or shared object</a></li></ul></li><li><a href="#syntax-basics">Syntax basics</a><ul class="toc-headings"><li><a href="#object-properties">Object properties</a></li><li><a href="#pointers">Pointers</a></li><li><a href="#null-value">Null value</a></li><li><a href="#undefined-value">Undefined value</a></li></ul></li><li><a href="#object-property-identifiers">Object property identifiers</a></li><li><a href="#examples">Examples</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/docs/" class="nav-home"><img src="/docs/img/logohome.png" alt="Documentation" width="300"/></a><div><h5>Community</h5><a href="https://blog.4d.com/">4D Blog</a><a href="https://forums.4d.com/">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="https://taow.4d.com/">Get Support</a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a></div><div><h5>Product &amp; Company</h5><a href="https://store.4d.com/">Product Registration</a><a href="https://us.4d.com/product-life-cycle">Product Life Cycle</a><a href="https://us.4d.com/about-us">About us</a><a href="https://us.4d.com/contact-us">Contact us</a></div></section><section class="copyright">Copyright © 2019 4D SAS</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>