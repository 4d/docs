<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20-R7 docs-doc-page docs-doc-id-API/DataStoreClass" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>DataStore | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/API/DataStoreClass><meta data-rh=true property=og:locale content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true property=og:locale:alternate content=pt><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=20-R7><meta data-rh=true name=docusaurus_tag content=docs-default-20-R7><meta data-rh=true name=docsearch:version content=20-R7><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20-R7><meta data-rh=true property=og:title content="DataStore | 4D Docs"><meta data-rh=true name=description content="A Datastore is the interface object provided by ORDA to reference and access a database. Datastore objects are returned by the following commands:"><meta data-rh=true property=og:description content="A Datastore is the interface object provided by ORDA to reference and access a database. Datastore objects are returned by the following commands:"><link data-rh=true rel=icon href=/docs/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/API/DataStoreClass><link data-rh=true rel=alternate href=https://developer.4d.com/docs/API/DataStoreClass hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/API/DataStoreClass hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/API/DataStoreClass hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/API/DataStoreClass hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/API/DataStoreClass hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/API/DataStoreClass hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/opensearch.xml><link rel=stylesheet href=/docs/assets/css/styles.4aaeeab1.css><script src=/docs/assets/js/main.0ca38f6f.js defer></script><script src=/docs/assets/js/runtime~main.97c8dd7b.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/><div class=navbar__logo><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/API/DataStoreClass>20 R7 BETA</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/API/DataStoreClass>20 R7 BETA</a><li><a class=dropdown__link href=/docs/20-R6/API/DataStoreClass>20 R6</a><li><a class=dropdown__link href=/docs/20/API/DataStoreClass>20</a><li><a class=dropdown__link href=/docs/19/API/DataStoreClass>19</a><li><a class=dropdown__link href=/docs/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/docs/API/DataStoreClass rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a><li><a href=/docs/fr/API/DataStoreClass rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/API/DataStoreClass rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/API/DataStoreClass rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/API/DataStoreClass rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/getting-started>Getting Started</a><button aria-label="Expand sidebar category 'Getting Started'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/core-development>Core Development</a><button aria-label="Expand sidebar category 'Core Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/category/4D-language>4D Language</a><button aria-label="Collapse sidebar category '4D Language'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/Concepts/about>Concepts</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/category/commands>Commands</a><button aria-label="Expand sidebar category 'Commands'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/category/class-API-reference>Classes</a><button aria-label="Collapse sidebar category 'Classes'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/overview>About class functions</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/BlobClass>Blob</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/ClassClass>Class</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/CollectionClass>Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/CryptoKeyClass>CryptoKey</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/DataClassClass>DataClass</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/API/DataStoreClass>DataStore</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/EmailObjectClass>Email</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/EntityClass>Entity</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/EntitySelectionClass>EntitySelection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/FileClass>File</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/FileHandleClass>FileHandle</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/FolderClass>Folder</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/FunctionClass>Function</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/HTTPAgentClass>HTTPAgent</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/HTTPRequestClass>HTTPRequest</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/IMAPTransporterClass>IMAPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/MailAttachmentClass>MailAttachment</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/OutgoingMessageClass>OutgoingMessage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/POP3TransporterClass>POP3Transporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/SessionClass>Session</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/SignalClass>Signal</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/SMTPTransporterClass>SMTPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/SystemWorkerClass>SystemWorker</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/WebFormClass>WebForm</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/WebFormItemClass>WebFormItem</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/WebServerClass>WebServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/WebSocketClass>WebSocket</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/WebSocketConnectionClass>WebSocketConnection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/WebSocketServerClass>WebSocketServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/ZipArchiveClass>ZIPArchive</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/ZipFileClass>ZIPFile</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/API/ZipFolderClass>ZIPFolder</a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/administration>Administration</a><button aria-label="Expand sidebar category 'Administration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/Extensions/overview>Extensions</a><button aria-label="Expand sidebar category 'Extensions'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/web-applications>Web Applications</a><button aria-label="Expand sidebar category 'Web Applications'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/desktop-applications>Desktop Applications</a><button aria-label="Expand sidebar category 'Desktop Applications'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a href=https://developer.4d.com/go-mobile/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false>Mobile Applications</a></div></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/docs/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/category/4D-language><span itemprop=name>4D Language</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/category/class-API-reference><span itemprop=name>Classes</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>DataStore</span><meta itemprop=position content=3></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 20 R7 BETA</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>DataStore</h1></header><p>A <a href=/docs/ORDA/dsmapping#datastore>Datastore</a> is the interface object provided by ORDA to reference and access a database. <code>Datastore</code> objects are returned by the following commands:</p>
<ul>
<li><a href=/docs/commands/ds>ds</a>: a shortcut to the main datastore</li>
<li><a href=/docs/commands/open-datastore>Open datastore</a>: to open any remote datastore</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=summary>Summary<a href=#summary class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>







































































<table><thead><tr><th><tbody><tr><td><a href=#canceltransaction><strong>.cancelTransaction()</strong></a><br>cancels the transaction<tr><td><a href=#clearallremotecontexts><strong>.clearAllRemoteContexts()</strong></a><br>clears all the attributes for all the active contexts in the datastore<tr><td><a href=#dataclassname><em><strong>.dataclassName</strong></em> : 4D.DataClass</a><br>contains a description of the dataclass<tr><td><a href=#encryptionstatus><strong>.encryptionStatus()</strong>: Object</a><br>returns an object providing the encryption status for the current data file<tr><td><a href=#flushAndLock><strong>.flushAndLock()</strong></a><br>flushes the cache of the local datastore and prevents other processes from performing write operations on the database<tr><td><a href=#getallremotecontexts><strong>.getAllRemoteContexts()</strong> : Collection</a><br>returns a collection of objects containing information on all the active optimization contexts in the datastore<tr><td><a href=#getglobalstamp><strong>.getGlobalStamp</strong>() : Real</a><br>returns the current value of the global modification stamp of the datastore<tr><td><a href=#getinfo><strong>.getInfo()</strong>: Object</a><br>returns an object providing information about the datastore<tr><td><a href=#getremotecontextinfo><strong>.getRemoteContextInfo</strong>(<em>contextName</em> : Text) : Object </a><br> returns an object that holds information on the <em>contextName</em> optimization context in the datastore.<tr><td><a href=#getrequestlog><strong>.getRequestLog()</strong> : Collection</a><br>returns the ORDA requests logged in memory on the client side<tr><td><a href=#locked><strong>.locked()</strong> : Boolean</a><br>returns True if the local datastore is currently locked<tr><td><a href=#makeselectionsalterable><strong>.makeSelectionsAlterable()</strong></a><br>sets all entity selections as alterable by default in the current application datastores<tr><td><a href=#providedatakey><strong>.provideDataKey</strong>( <em>curPassPhrase</em> : Text ) : Object <br><strong>.provideDataKey</strong>( <em>curDataKey</em> : Object ) : Object </a><br>allows providing a data encryption key for the current data file of the datastore and detects if the key matches the encrypted data<tr><td><a href=#setadminprotection><strong>.setAdminProtection</strong>( <em>status</em> : Boolean )</a><br>allows disabling any data access on the <a href=/docs/Admin/webAdmin#http-port>web admin port</a>, including for the <a href=/docs/Admin/dataExplorer>Data Explorer</a> in <code>WebAdmin</code> sessions<tr><td><a href=#setglobalstamp><strong>.setGlobalStamp</strong>( <em>newStamp</em> : Real)</a><br>sets <em>newStamp</em> as new value for the current global modification stamp for the datastore<tr><td><a href=#setremotecontextinfo><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassName</em> : Text ; <em>attributes</em> : Text {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer}})<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassName</em> : Text; <em>attributesColl</em> : Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }} )<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassObject</em> : 4D.DataClass ; <em>attributes</em> : Text {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }})<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassObject</em> : 4D.DataClass ; <em>attributesColl</em> : Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }} )</a><br>links the specified dataclass attributes to the <em>contextName</em> optimization context<tr><td><a href=#startrequestlog><strong>.startRequestLog</strong>()<br><strong>.startRequestLog</strong>( <em>file</em> : 4D.File )<br><strong>.startRequestLog</strong>( <em>file</em> : 4D.File ; <em>options</em> : Integer )<br><strong>.startRequestLog</strong>( <em>reqNum</em> : Integer )</a><br>starts the logging of ORDA requests on the client side or on the server side<tr><td><a href=#starttransaction><strong>.startTransaction()</strong></a><br>starts a transaction in the current process on the database matching the datastore to which it applies<tr><td><a href=#stoprequestlog><strong>.stopRequestLog()</strong>  </a><br>stops any logging of ORDA requests on the machine it is called (client or server)<tr><td><a href=#unlock><strong>.unlock()</strong></a><br>removes the current lock on write operations in the datastore, if it has been set in the same process<tr><td><a href=#validatetransaction><strong>.validateTransaction()</strong>  </a><br>accepts the transaction</table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=dataclassname><em>.dataclassName</em><a href=#dataclassname class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17<td>Added</table>
</div></div></details>
<p><em><strong>.dataclassName</strong></em> : 4D.DataClass</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description>Description<a href=#description class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>Each dataclass in a datastore is available as a property of the <a href=/docs/ORDA/dsmapping#datastore>DataStore object</a>data. The returned object contains a description of the dataclass.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example>Example<a href=#example class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $emp : cs.Employee</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $sel : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee //$emp contains the Employee dataclass</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel:=$emp.all() //gets an entity selection of all employees</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //you could also write directly:</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel:=ds.Employee.all()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=canceltransaction>.cancelTransaction()<a href=#canceltransaction class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>18<td>Added</table>
</div></div></details>
<p><strong>.cancelTransaction()</strong></p>

















<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td><td><td style=text-align:center><td>Does not require any parameters</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-1>Description<a href=#description-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.cancelTransaction()</code> function cancels the transaction opened by the <a href=#starttransaction><code>.startTransaction()</code></a> function at the corresponding level in the current process for the specified datastore.</p>
<p>The <code>.cancelTransaction()</code> function cancels any changes made to the data during the transaction.</p>
<p>You can nest several transactions (sub-transactions). If the main transaction is cancelled, all of its sub-transactions are also cancelled, even if they were validated individually using the <a href=#validatetransactions><code>.validateTransaction()</code></a> function.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-1>Example<a href=#example-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>See example for the <a href=#starttransaction><code>.startTransaction()</code></a> function.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=clearallremotecontexts>.clearAllRemoteContexts()<a href=#clearallremotecontexts class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>19 R5<td>Added</table>
</div></div></details>
<p><strong>.clearAllRemoteContexts()</strong></p>

















<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td><td><td style=text-align:center><td>Does not require any parameters</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-2>Description<a href=#description-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.clearAllRemoteContexts()</code> function clears all the attributes for all the active contexts in the datastore.</p>
<p>This function is mainly used in the context of debugging. One thing to keep in mind is that when you open the debugger, it sends requests to the server and queries all the dataclass attributes to display them. This can overload your contexts with unnecessary data.</p>
<p>In such cases, you can use <code>.clearAllRemoteContexts()</code> to clear your contexts and keep them clean.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also>See also<a href=#see-also class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#getremotecontextinfo>.getRemoteContextInfo()</a><br><a href=#getallremotecontexts>.getAllRemoteContexts()</a><br><a href=#setremotecontextinfo>.setRemoteContextInfo()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=encryptionstatus>.encryptionStatus()<a href=#encryptionstatus class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17 R5<td>Added</table>
</div></div></details>
<p><strong>.encryptionStatus()</strong>: Object</p>

















<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>Result<td>Object<td style=text-align:center>&lt;-<td>Information about the encryption of the current datastore and of each table</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-3>Description<a href=#description-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.encryptionStatus()</code> function returns an object providing the encryption status for the current data file (i.e., the data file of the <code>ds</code> datastore). The status for each table is also provided.</p>
<blockquote>
<p>Use the <code>Data file encryption status</code> command to determine the encryption status of any other data file.</p>
</blockquote>
<p><strong>Returned value</strong></p>
<p>The returned object contains the following properties:</p>




































































<table><thead><tr><th>Property<th><th><th>Type<th>Description<tbody><tr><td>isEncrypted<td><td><td>Boolean<td>True if the data file is encrypted<tr><td>keyProvided<td><td><td>Boolean<td>True if the encryption key matching the encrypted data file is provided(*).<tr><td>tables<td><td><td>Object<td>Object containing as many properties as there are encryptable or encrypted tables.<tr><td><td><em>tableName</em><td><td>Object<td>Encryptable or Encrypted table<tr><td><td><td>name<td>Text<td>Name of the table<tr><td><td><td>num<td>Number<td>Table number<tr><td><td><td>isEncryptable<td>Boolean<td>True if the table is declared encryptable in the structure file<tr><td><td><td>isEncrypted<td>Boolean<td>True if the records of the table are encrypted in the data file</table>
<p>(*) The encryption key can be provided:</p>
<ul>
<li>with the <code>.provideDataKey()</code> command,</li>
<li>at the root of a connected device before opening the datastore,</li>
<li>with the <code>Discover data key</code> command.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-2>Example<a href=#example-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>You want to know the number of encrypted tables in the current data file:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=ds.encryptionStatus()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($status.isEncrypted) //the database is encrypted</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    C_LONGINT($vcount)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    C_TEXT($tabName)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    For each($tabName;$status.tables)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       If($status.tables[$tabName].isEncrypted)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">          $vcount:=$vcount+1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT(String($vcount)+" encrypted table(s) in this datastore.")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("This database is not encrypted.")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=flushandlock>.flushAndLock()<a href=#flushandlock class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>20<td>Added</table>
</div></div></details>
<p><strong>.flushAndLock()</strong></p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td><td><td><td>Does not require any parameters</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-4>Description<a href=#description-4 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.flushAndLock()</code> function flushes the cache of the local datastore and prevents other processes from performing write operations on the database. The datastore is set to a consistent, frozen state. Calling this function is necessary before executing an application snapshot, for example.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>This function can only be called:<ul>
<li>on the local datastore (<a href=/docs/commands/ds><code>ds</code></a>).</li>
<li>in client/server environment, on the server machine.</li>
</ul></div></div>
<p>Once this function is executed, write operations such as <code>.save()</code> or other <code>.flushAndLock()</code> calls are frozen in all other processes until the datastore is unlocked.</p>
<p>When multiple calls to <code>.flushAndLock()</code> have been done in the same process, the same number of <a href=#unlock><code>.unlock()</code></a> calls must be executed to actually unlock the datastore.</p>
<p>The datastore is unlocked when:</p>
<ul>
<li>the <a href=#unlock><code>.unlock()</code></a> function is called in the same process, or</li>
<li>the process that called the <code>.flushAndLock()</code> function is killed.</li>
</ul>
<p>If the datastore is already locked from another process, the <code>.flushAndLock()</code> call is frozen and will be executed when the datastore will be unlocked.</p>
<p>An error is triggered if the <code>.flushAndLock()</code> function cannot be executed (e.g. it is run on a remote 4D), .</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>caution</div><div class=admonitionContent_BuS1><p>Other 4D features and services including <a href=/docs/Backup/backup>backup</a>, <a href=https://doc.4d.com/4Dv20/4D/20/Using-Volume-Shadow-Copy-Service-on-Windows.300-6330532.en.html target=_blank rel="noopener noreferrer">vss</a>, and <a href=/docs/MSC/overview>MSC</a> can also lock the datastore. Before calling <code>.flushAndLock()</code>, make sure no other locking action is being used, in order to avoid any unexpected interaction.</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-3>Example<a href=#example-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>You want to create a copy of the data folder along with its current journal file:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$destination:=Folder(fk documents folder).folder("Archive")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$destination.create()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.flushAndLock() //Block write operations from other processes</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$dataFolder:=Folder(fk data folder)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$dataFolder.copyTo($destination) //Copy the data folder</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$oldJournalPath:=New log file //Close the journal and create a new one</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$oldJournal:=File($oldJournalPath; fk platform path)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$oldJournal.moveTo($destination) //Save the old journal with data</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.unlock() //Our copy is over, we can now unlock the datastore</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-1>See also<a href=#see-also-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#locked>.locked()</a><br><a href=#unlock>.unlock()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getallremotecontexts>.getAllRemoteContexts()<a href=#getallremotecontexts class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>19 R5<td>Added</table>
</div></div></details>
<p><strong>.getAllRemoteContexts()</strong> : Collection</p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>Result<td>Collection<td>&lt;-<td>Collection of optimization context objects</table>
<blockquote>
<p><strong>Advanced mode:</strong> This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-5>Description<a href=#description-5 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.getAllRemoteContexts()</code> function returns a collection of objects containing information on all the active optimization contexts in the datastore.</p>
<blockquote>
<p>For more information on how contexts can be created, see <a href=/docs/ORDA/client-server-optimization#optimization-context>client/server optimization</a>.</p>
</blockquote>
<p>Each object in the returned collection has the properties listed in the <a href=#properties-of-the-returned-object><code>.getRemoteContextInfo()</code></a> section.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-4>Example<a href=#example-4 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The following code sets up two contexts and retrieves them using <code>.getAllRemoteContexts()</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $persons : cs.PersonsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $addresses : cs.AddressSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $p : cs.PersonsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $a : cs.AddressEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $contextA; $contextB : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $info : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Open remote datastore</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Set context A</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$contextA:=New object("context"; "contextA")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$persons:=$ds.Persons.all($contextA)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:=""</span><br></span><span class=token-line style=color:#393A34><span class="token plain">For each ($p; $persons)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $text:=$p.firstname+" lives in "+$p.address.city+" / "</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Set context B</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$contextB:=New object("context"; "contextB")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$addresses:=$ds.Address.all($contextB)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:=""</span><br></span><span class=token-line style=color:#393A34><span class="token plain">For each ($a; $addresses)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $text:=$a.zipCode</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Get all remote contexts (in this case, contextA and contextB)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$info:=$ds.getAllRemoteContexts()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$info = [{name:"contextB"; dataclass:"Address"; main:"zipCode"},</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{name:"contextA";dataclass:"Persons";main:"firstname,address.city"}]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<blockquote>
<p>This example serves as a demonstration, it is not meant for real implementation.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-2>See also<a href=#see-also-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#getremotecontextinfo>.getRemoteContextInfo()</a><br><a href=#setremotecontextinfo>.setRemoteContextInfo()</a><br><a href=#clearallremotecontexts>.clearAllRemoteContexts()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getglobalstamp>.getGlobalStamp()<a href=#getglobalstamp class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>20 R3<td>Added</table>
</div></div></details>
<p><strong>.getGlobalStamp</strong>() : Real</p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>Result<td>Real<td>&lt;-<td>Current value of the global modification stamp</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-6>Description<a href=#description-6 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.getGlobalStamp()</code> function returns the current value of the global modification stamp of the datastore.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>This function can only be called:<ul>
<li>on the local datastore (<a href=/docs/commands/ds><code>ds</code></a>).</li>
<li>in client/server environment, on the server machine.</li>
</ul></div></div>
<p>For more information on global stamp and data change tracking, please refer to the <a href=/docs/ORDA/global-stamp><strong>Using the Global Stamp</strong></a> page.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-5>Example<a href=#example-5 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $currentStamp : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $hasModifications : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$currentStamp:=ds.getGlobalStamp()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">methodWhichCouldModifyEmployees //call some code</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$hasModifications:=($currentStamp # ds.getGlobalStamp())</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-3>See also<a href=#see-also-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#setglobalstamp>.setGlobalStamp()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getinfo>.getInfo()<a href=#getinfo class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17<td>Added</table>
</div></div></details>
<p><strong>.getInfo()</strong>: Object</p>

















<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>Result<td>Object<td style=text-align:center>&lt;-<td>Datastore properties</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-7>Description<a href=#description-7 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.getInfo()</code> function returns an object providing information about the datastore. This function is useful for setting up generic code.</p>
<p><strong>Returned object</strong></p>






























<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>type<td>string<td><li>"4D": main datastore, available through ds </li><li>"4D Server": remote datastore, open with Open datastore</li><tr><td>networked<td>boolean<td><li>True: the datastore is reached through a network connection.</li><li>False: the datastore is not reached through a network connection (local database)</li><tr><td>localID<td>text<td>ID of the datastore on the machine. Corresponds to the localId string given with the <code>Open datastore</code> command. Empty string ("") for main datastore.<tr><td>connection<td>object<td>Object describing the remote datastore connection (not returned for main datastore). Available properties:<table><tr><th>Property<th>Type<th>Description<tr><td>hostname<td>text<td>IP address or name of the remote datastore + ":" + port number<tr><td>tls<td>boolean<td>True if secured connection is used with the remote datastore<tr><td>idleTimeout<td>number<td>Session inactivity timeout (in minutes)<tr><td>user<td>text<td>User authenticated on the remote datastore</table></table>
<ul>
<li>If the <code>.getInfo()</code> function is executed on a 4D Server or 4D single-user, <code>networked</code> is False.</li>
<li>If the <code>.getInfo()</code> function is executed on a remote 4D, <code>networked</code> is True</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-1-1>Example 1<a href=#example-1-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $info : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $info:=ds.getInfo() //Executed on 4D Server or 4D</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //{"type":"4D","networked":false,"localID":""}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $info:=ds.getInfo() // Executed on 4D remote</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //{"type":"4D","networked":true,"localID":""}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-2-1>Example 2<a href=#example-2-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>On a remote datastore:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  var $remoteDS : cs.DataStore</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  var $info; $connectTo : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $connectTo:=New object("hostname";"111.222.33.44:8044";"user";"marie";"password";"aaaa")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $remoteDS:=Open datastore($connectTo;"students")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $info:=$remoteDS.getInfo()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //{"type":"4D Server",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //"localID":"students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //"networked":true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //"connection":{hostname:"111.222.33.44:8044","tls":false,"idleTimeout":2880,"user":"marie"}}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getremotecontextinfo>.getRemoteContextInfo()<a href=#getremotecontextinfo class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>19 R5<td>Added</table>
</div></div></details>
<p><strong>.getRemoteContextInfo</strong>(<em>contextName</em> : Text) : Object</p>























<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>contextName<td>Text<td>-><td>Name of the context<tr><td>Result<td>Object<td>&lt;-<td>Description of the optimization context</table>
<blockquote>
<p><strong>Advanced mode:</strong> This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-8>Description<a href=#description-8 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.getRemoteContextInfo()</code> function  returns an object that holds information on the <em>contextName</em> optimization context in the datastore..</p>
<p>For more information on how optimization contexts can be created, see <a href=/docs/ORDA/client-server-optimization#optimization-context>client/server optimization</a>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=returned-object>Returned object<a href=#returned-object class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The returned object has the following properties:</p>






























<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>name<td>Text<td>Name of the context<tr><td>main<td>Text<td>Attribute(s) associated to the context (attribute names are separated by a comma)<tr><td>dataclass<td>Text<td>Dataclass name<tr><td>currentItem (optional)<td>Text<td>The attributes of the <a href=/docs/ORDA/datastores#entity-selection-based-list-box>page mode</a> if the context is linked to a list box. Returned as <code>Null</code> or empty text element if the context name is not used for a list box, or if there is no context for the currentItem</table>
<p>Since contexts behave as filters for attributes, if <em>main</em> is returned empty, it means that no filter is applied, and that the server returns all the dataclass attributes.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-6>Example<a href=#example-6 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>See the example from the <a href=#example-1-3>.setRemoteContextInfo()</a> section.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-4>See also<a href=#see-also-4 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#setremotecontextinfo>.setRemoteContextInfo()</a><br><a href=#getallremotecontexts>.getAllRemoteContexts()</a><br><a href=#clearallremotecontexts>.clearAllRemoteContexts()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getrequestlog>.getRequestLog()<a href=#getrequestlog class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17 R6<td>Added</table>
</div></div></details>
<p><strong>.getRequestLog()</strong> : Collection</p>

















<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>Result<td>Collection<td style=text-align:center>&lt;-<td>Collection of objects, where each object describes a request</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-9>Description<a href=#description-9 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.getRequestLog()</code> function returns the ORDA requests logged in memory on the client side. The ORDA request logging must have previously been enabled using the <a href=#startrequestlog><code>.startRequestLog()</code></a> function.</p>
<p>This function must be called on a remote 4D, otherwise it returns an empty collection. It is designed for debugging purposes in client/server configurations.</p>
<p><strong>Returned value</strong></p>
<p>Collection of stacked request objects. The most recent request has index 0.</p>
<p>For a description of the ORDA request log format, please refer to the <a href=https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373 target=_blank rel="noopener noreferrer"><strong>ORDA client requests</strong></a> section.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-7>Example<a href=#example-7 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>See Example 2 of <a href=#startrequestlog><code>.startRequestLog()</code></a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=isadminprotected>.isAdminProtected()<a href=#isadminprotected class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>18 R6<td>Added</table>
</div></div></details>
<p><strong>.isAdminProtected()</strong> : Boolean</p>

















<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>Result<td>Boolean<td style=text-align:center>&lt;-<td>True if the Data Explorer access is disabled, False if it is enabled (default)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-10>Description<a href=#description-10 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.isAdminProtected()</code> function returns <code>True</code> if <a href=/docs/Admin/dataExplorer>Data Explorer</a> access has been disabled for the working session.</p>
<p>By default, the Data Explorer access is granted for <code>webAdmin</code> sessions, but it can be disabled to prevent any data access from administrators (see the <a href=#setadminprotection><code>.setAdminProtection()</code></a> function).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-5>See also<a href=#see-also-5 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#setadminprotection><code>.setAdminProtection()</code></a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=locked>.locked()<a href=#locked class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>20<td>Added</table>
</div></div></details>
<p><strong>.locked()</strong> : Boolean</p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>Result<td>Boolean<td>&lt;-<td>True if locked</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-11>Description<a href=#description-11 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.locked()</code> function returns True if the local datastore is currently locked.</p>
<p>You can lock the datastore using the <a href=#flushandlock>.flushAndLock()</a> function before executing a snapshot of the data file, for example.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>caution</div><div class=admonitionContent_BuS1><p>The function will also return <code>True</code> if the datastore was locked by another administration feature such as backup or vss (see <a href=#flushandlock>.flushAndLock()</a>).</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-6>See also<a href=#see-also-6 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#flushandlock>.flushAndLock()</a><br><a href=#unlock>.unlock()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=makeselectionsalterable>.makeSelectionsAlterable()<a href=#makeselectionsalterable class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>18 R5<td>Added</table>
</div></div></details>
<p><strong>.makeSelectionsAlterable()</strong></p>

















<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td><td><td style=text-align:center><td>Does not require any parameters</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-12>Description<a href=#description-12 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.makeSelectionsAlterable()</code> function sets all entity selections as alterable by default in the current application datastores (including <a href=/docs/ORDA/datastores>remote datastores</a>). It is intended to be used once, for example in the <code>On Startup</code> database method.</p>
<p>When this function is not called, new entity selections can be shareable, depending on the nature of their "parent", or <a href=/docs/ORDA/entities#shareable-or-non-shareable-entity-selections>how they are created</a>.</p>
<blockquote>
<p>This function does not modify entity selections created by <a href=#copy><code>.copy()</code></a> or <code>OB Copy</code> when the explicit <code>ck shared</code> option is used.</p>
</blockquote>
<blockquote>
<p><strong>Compatibility</strong>: This function must only be used in projects converted from 4D versions prior to 4D v18 R5 and containing <a href=/docs/API/EntitySelectionClass#add>.add()</a> calls. In this context, using <code>.makeSelectionsAlterable()</code> can save time by restoring instantaneously the previous 4D behavior in existing projects.
On the other hand, using this method in new projects created in 4D v18 R5 and higher <strong>is not recommended</strong>, since it prevents entity selections to be shared, which provides greater performance and scalabitlity.</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=providedatakey>.provideDataKey()<a href=#providedatakey class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>17 R5<td>Added</table>
</div></div></details>
<p><strong>.provideDataKey</strong>( <em>curPassPhrase</em> : Text ) : Object <br><strong>.provideDataKey</strong>( <em>curDataKey</em> : Object ) : Object</p>





























<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>curPassPhrase<td>Text<td>-><td>Current encryption passphrase<tr><td>curDataKey<td>Object<td>-><td>Current data encryption key<tr><td>Result<td>Object<td>&lt;-<td>Result of the encryption key matching</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-13>Description<a href=#description-13 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.provideDataKey()</code> function allows providing a data encryption key for the current data file of the datastore and detects if the key matches the encrypted data. This function can be used when opening an encrypted database, or when executing any encryption operation that requires the encryption key, such as re-encrypting the data file.</p>
<blockquote>
<ul>
<li>The <code>.provideDataKey()</code> function must be called in an encrypted database. If it is called in a non-encrypted database, the error 2003 (the encryption key does not match the data.) is returned. Use the <code>Data file encryption status</code> command to determine if the database is encrypted.</li>
<li>The <code>.provideDataKey()</code> function cannot be called from a remote 4D or an encrypted remote datastore.</li>
</ul>
</blockquote>
<p>If you use the <em>curPassPhrase</em> parameter, pass the string used to generate the data encryption key. When you use this parameter, an encryption key is generated.</p>
<p>If you use the <em>curDataKey</em> parameter, pass an object (with <em>encodedKey</em> property) that contains the data encryption key. This key may have been generated with the <code>New data key</code> command.</p>
<p>If a valid data encryption key is provided, it is added to the <em>keyChain</em> in memory and the encryption mode is enabled:</p>
<ul>
<li>all data modifications in encryptable tables are encrypted on disk (.4DD, .journal. 4Dindx files)</li>
<li>all data loaded from encryptable tables is decrypted in memory</li>
</ul>
<p><strong>Result</strong></p>
<p>The result of the command is described in the returned object:</p>



























































<table><thead><tr><th>Property<th><th>Type<th>Description<tbody><tr><td>success<td><td>Boolean<td>True if the provided encryption key matches the encrypted data, False otherwise<tr><td><td><td><td>Properties below are returned only if success is <em>FALSE</em><tr><td>status<td><td>Number<td>Error code (4 if the provided encryption key is wrong)<tr><td>statusText<td><td>Text<td>Error message<tr><td>errors<td><td>Collection<td>Stack of errors. The first error has the highest index<tr><td><td>[ ].componentSignature<td>Text<td>Internal component name<tr><td><td>[ ].errCode<td>Number<td>Error number<tr><td><td>[ ].message<td>Text<td>Error message</table>
<p>If no <em>curPassphrase</em> or <em>curDataKey</em> is given, <code>.provideDataKey()</code> returns <strong>null</strong> (no error is generated).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-8>Example<a href=#example-8 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $keyStatus : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $passphrase : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $passphrase:=Request("Enter the passphrase")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If(OK=1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $keyStatus:=ds.provideDataKey($passphrase)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    If($keyStatus.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("You have provided a valid encryption key")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    Else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("You have provided an invalid encryption key, you will not be able to work with encrypted data")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=setadminprotection>.setAdminProtection()<a href=#setadminprotection class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>18 R6<td>Added</table>
</div></div></details>
<p><strong>.setAdminProtection</strong>( <em>status</em> : Boolean )</p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>status<td>Boolean<td>-><td>True to disable Data Explorer access to data on the <code>webAdmin</code> port, False (default) to grant access</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-14>Description<a href=#description-14 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.setAdminProtection()</code> function allows disabling any data access on the <a href=/docs/Admin/webAdmin#http-port>web admin port</a>, including for the <a href=/docs/Admin/dataExplorer>Data Explorer</a> in <code>WebAdmin</code> sessions.</p>
<p>By default when the function is not called, access to data is always granted on the web administration port for a session with <code>WebAdmin</code> privilege using the Data Explorer. In some configurations, for example when the application server is hosted on a third-party machine, you might not want the administrator to be able to view your data, although they can edit the server configuration, including the <a href=/docs/Admin/webAdmin#access-key>access key</a> settings.</p>
<p>In this case, you can call this function to disable the data access from Data Explorer on the web admin port of the machine, even if the user session has the <code>WebAdmin</code> privilege. When this function is executed, the data file is immediately protected and the status is stored on disk: the data file will be protected even if the application is restarted.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-9>Example<a href=#example-9 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>You create a <em>protectDataFile</em> project method to call before deployments for example:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> ds.setAdminProtection(True) //Disables the Data Explorer data access</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-7>See also<a href=#see-also-7 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#isadminprotected><code>.isAdminProtected()</code></a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=setglobalstamp>.setGlobalStamp()<a href=#setglobalstamp class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>20 R3<td>Added</table>
</div></div></details>
<p><strong>.setGlobalStamp</strong>( <em>newStamp</em> : Real)</p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>newStamp<td>Real<td>-><td>New value of global modification stamp</table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>Advanced mode</div><div class=admonitionContent_BuS1><p>This function is intended for developers who need to modify the current global stamp value. It should be used with care.</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-15>Description<a href=#description-15 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.setGlobalStamp()</code> function sets <em>newStamp</em> as new value for the current global modification stamp for the datastore.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>This function can only be called:<ul>
<li>on the local datastore (<a href=/docs/commands/ds><code>ds</code></a>).</li>
<li>in client/server environment, on the server machine.</li>
</ul></div></div>
<p>For more information on global stamp and data change tracking, please refer to the <a href=/docs/ORDA/global-stamp><strong>Using the Global Stamp</strong></a> page.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-10>Example<a href=#example-10 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The following code sets the modification global stamp:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $newValue: Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$newValue:=ReadValueFrom //get a new value to assign</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.setGlobalStamp($newValue)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-8>See also<a href=#see-also-8 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#getglobalstamp>.getGlobalStamp()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=setremotecontextinfo>.setRemoteContextInfo()<a href=#setremotecontextinfo class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>19 R5<td>Added</table>
</div></div></details>
<p><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassName</em> : Text ; <em>attributes</em> : Text {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer}})<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassName</em> : Text; <em>attributesColl</em> : Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }} )<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassObject</em> : 4D.DataClass ; <em>attributes</em> : Text {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }})<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassObject</em> : 4D.DataClass ; <em>attributesColl</em> : Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }} )</p>





















































<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>contextName<td>Text<td>-><td>Name of the context<tr><td>dataClassName<td>Text<td>-><td>Name of the dataclass<tr><td>dataClassObject<td>4D.DataClass<td>-><td>dataclass object (e.g datastore.Employee)<tr><td>attributes<td>Text<td>-><td>Attribute list separated by a comma<tr><td>attributesColl<td>Collection<td>-><td>Collection of attribute names (text)<tr><td>contextType<td>Text<td>-><td>If provided, value must be "main" or "currentItem"<tr><td>pageLength<td>Integer<td>-><td>Page length of the entity selection linked to the context (default is 80)</table>
<blockquote>
<p><strong>Advanced mode:</strong> This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-16>Description<a href=#description-16 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.setRemoteContextInfo()</code> function links the specified dataclass attributes to the <em>contextName</em> optimization context. If an optimization context already exists for the specified attributes, this command replaces it.</p>
<p>When you pass a context to the ORDA class functions, the REST request optimization is triggered immediately:</p>
<ul>
<li>the first entity is not fully loaded as done in automatic mode</li>
<li>pages of 80 entities (or <code>pageLength</code> entities) are immediately asked to the server with only the attributes in the context</li>
</ul>
<blockquote>
<p>For more information on how optimization contexts are built, refer to the <a href=/docs/ORDA/client-server-optimization#optimization-context>client/server optimization paragraph</a></p>
</blockquote>
<p>In <em>contextName</em>, pass the name of the optimization context to link to the dataclass attributes.</p>
<p>To designate the dataclass that will receive the context, you can pass a <em>dataClassName</em> or a <em>dataClassObject</em>.</p>
<p>To designate the attributes to link to the context, pass either a list of attributes separated by a comma in <em>attributes</em> (Text), or a collection of attribute names in <em>attributesColl</em> (collection of text).</p>
<p>If <em>attributes</em> is an empty Text, or <em>attributesColl</em> is an empty collection, all the scalar attributes of the dataclass are put in the optimization context. If you pass an attribute that does not exist in the dataclass, the function ignores it and an error is thrown.</p>
<p>You can pass a <em>contextType</em> to  specify if the context is a standard context or the context of the current entity selection item displayed in a list box:</p>
<ul>
<li>If set to "main" (default), the <em>contextName</em> designates a standard context.</li>
<li>If set to "currentItem", the attributes passed are put in the context of the current item.  See  <a href=/docs/ORDA/datastores#entity-selection-based-list-box>Entity selection-based list box</a>.</li>
</ul>
<p>In <em>pageLength</em>, specify the number of dataclass entities to request from the server.</p>
<p>You can pass a <em>pageLength</em> for a relation attribute which is an entity selection (one to many). The syntax is <code>relationAttributeName:pageLength</code> (e.g employees:20).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-1-2>Example 1<a href=#example-1-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $persons : cs.PersonsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $p : cs.PersonsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $contextA : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $info : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Open remote datastore</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Set context info</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$contextA:=New object("context"; "contextA")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds.setRemoteContextInfo("contextA"; $ds.Persons; "firstname, lastname")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Send requests to the server using a loop</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$persons:=$ds.Persons.all($contextA)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:=""</span><br></span><span class=token-line style=color:#393A34><span class="token plain">For each ($p; $persons)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $text:=$p.firstname + " " + $p.lastname</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Check contents of the context</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$info:=$ds.getRemoteContextInfo("contextA")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $info = {name:"contextA";dataclass:"Persons";main:"firstname, lastname"}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<blockquote>
<p>This example serves as a demonstration, it is not meant for real implementation.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-2-2>Example 2<a href=#example-2-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The following piece of code requests pages of 30 entities of the <code>Address</code> dataclass from the server. The returned entities only contain the <code>zipCode</code> attribute.</p>
<p>For each <code>Address</code> entity, 20 Persons entities are returned, and they only contain the <code>lastname</code> and <code>firstname</code> attributes:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds.setRemoteContextInfo("contextA"; $ds.Address; "zipCode, persons:20,\</span><br></span><span class=token-line style=color:#393A34><span class="token plain">persons.lastname, persons.firstname"; "main"; 30)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-3---listbox>Example 3 - Listbox<a href=#example-3---listbox class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// When the form loads</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    : (Form event code=On Load)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        Form.ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">       // Set the attributes of the page context</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        Form.ds.setRemoteContextInfo("LB"; Form.ds.Persons; "age, gender,\</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        children"; "currentItem")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        Form.settings:=New object("context"; "LB")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        Form.persons:=Form.ds.Persons.all(Form.settings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // Form.persons is displayed in a list box</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End case</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// When you get the attributes in the context of the current item:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Form.currentItemLearntAttributes:=Form.selectedPerson.getRemoteContextAttributes()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Form.currentItemLearntAttributes = "age, gender, children"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-9>See also<a href=#see-also-9 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#getremotecontextinfo>.getRemoteContextInfo()</a><br><a href=#getallremotecontexts>.getAllRemoteContexts()</a><br><a href=#clearallremotecontexts>.clearAllRemoteContexts()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=startrequestlog>.startRequestLog()<a href=#startrequestlog class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Changes<tbody><tr><td>20<td>Server side support, new <code>options</code> parameter<tr><td>17 R6<td>Added</table>
</div></div></details>
<p><strong>.startRequestLog</strong>()<br><strong>.startRequestLog</strong>( <em>file</em> : 4D.File )<br><strong>.startRequestLog</strong>( <em>file</em> : 4D.File ; <em>options</em> : Integer )<br><strong>.startRequestLog</strong>( <em>reqNum</em> : Integer )</p>





























<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>file<td>4D.File<td>-><td>File object<tr><td>options<td>Integer<td>-><td>Log response option (server only)<tr><td>reqNum<td>Integer<td>-><td>Number of requests to keep in memory (client only)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-17>Description<a href=#description-17 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.startRequestLog()</code> function starts the logging of ORDA requests on the client side or on the server side. It is designed for debugging purposes in client/server configurations.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>For a description of the ORDA request log format, please refer to the <a href=/docs/Debugging/debugLogFiles#orda-requests><strong>ORDA requests</strong></a> section.</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=client-side>Client-side<a href=#client-side class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>To create a client-side ORDA request log, call this function on a remote machine. The log can be sent to a file or to memory, depending on the parameter type:</p>
<ul>
<li>If you passed a <em>file</em> object created with the <code>File</code> command, the log data is written in this file as a collection of objects (JSON format). Each object represents a request.<br>If the file does not already exist, it is created. Otherwise if the file already exists, the new log data is appended to it.
If <code>.startRequestLog()</code> is called with a file while a logging was previously started in memory, the memory log is stopped and emptied.</li>
</ul>
<blockquote>
<p>A ] character must be manually appended at the end of the file to perform a JSON validation</p>
</blockquote>
<ul>
<li>
<p>If you passed a <em>reqNum</em> integer, the log in memory is emptied (if any) and a new log is initialized. It will keep <em>reqNum</em> requests in memory until the number is reached, in which case the oldest entries are emptied (FIFO stack).<br>If <code>.startRequestLog()</code> is called with a <em>reqNum</em> while a logging was previously started in a file, the file logging is stopped.</p>
</li>
<li>
<p>If you did not pass any parameter, the log is started in memory. If <code>.startRequestLog()</code> was previously called with a <em>reqNum</em> (before a <code>.stopRequestLog()</code>), the log data is stacked in memory until the next time the log is emptied or <code>.stopRequestLog()</code> is called.</p>
</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=server-side>Server-side<a href=#server-side class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>To create a server-side ORDA request log, call this function on the server machine. The log data is written in a file in <code>.jsonl</code> format. Each object represents a request. If the file does not already exist, it is created. Otherwise if the file already exists, the new log data is appended to it.</p>
<ul>
<li>If you passed the <em>file</em> parameter, the log data is written in this file, at the requested location. - If you omit the <em>file</em> parameter or if it is null, the log data is written in a file named <em>ordaRequests.jsonl</em> and stored in the "/LOGS" folder.</li>
<li>The <em>options</em> parameter can be used to specify if the server response has to be logged, and if it should include the body. By default when the parameter is omitted, the full response is logged. The following constants can be used in this parameter:</li>
</ul>





















<table><thead><tr><th>Constant<th>Description<tbody><tr><td>srl log all<td>Log the response entirely (default value)<tr><td>srl log no response<td>Disable the logging of the response<tr><td>srl log response without body<td>Log the response without the body</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-1-3>Example 1<a href=#example-1-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>You want to log ORDA client requests in a file and use the log sequence number:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $file : 4D.File</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $e : cs.PersonsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $file:=File("/LOGS/ORDARequests.txt") //logs folder</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> SET DATABASE PARAMETER(Client Log Recording;1) //to trigger the global log sequence number</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ds.startRequestLog($file)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e:=ds.Persons.get(30001) //send a request</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ds.stopRequestLog()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> SET DATABASE PARAMETER(Client Log Recording;0)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-2-3>Example 2<a href=#example-2-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>You want to log ORDA client requests in memory:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs.PersonsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $log : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ds.startRequestLog(3) //keep 3 requests in memory</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Persons.query("name=:1";"Marie")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Persons.query("name IN :1";New collection("Marie"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds.Persons.query("name=:1";"So@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $log:=ds.getRequestLog()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT("The longest request lasted: "+String($log.max("duration"))+" ms")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-3-1>Example 3<a href=#example-3-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>You want to log ORDA server requests in a specific file and enable the log sequence number and duration:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">SET DATABASE PARAMETER(4D Server Log Recording;1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$file:=Folder(fk logs folder).file("myOrdaLog.jsonl")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.startRequestLog($file)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">...</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.stopRequestLog()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">SET DATABASE PARAMETER(4D Server Log Recording;0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=starttransaction>.startTransaction()<a href=#starttransaction class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>18<td>Added</table>
</div></div></details>
<p><strong>.startTransaction()</strong></p>

















<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td><td><td style=text-align:center><td>Does not require any parameters</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-18>Description<a href=#description-18 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.startTransaction()</code> function starts a transaction in the current process on the database matching the datastore to which it applies. Any changes made to the datastore's entities in the transaction's process are temporarily stored until the transaction is either validated or cancelled.</p>
<blockquote>
<p>If this method is called on the main datastore (i.e. the datastore returned by the <code>ds</code> command), the transaction is applied to all operations performed on the main datastore and on the underlying database, thus including ORDA and classic languages.</p>
</blockquote>
<p>You can nest several transactions (sub-transactions). Each transaction or sub-transaction must eventually be cancelled or validated. Note that if the main transaction is cancelled, all of its sub-transactions are also cancelled even if they were validated individually using the <code>.validateTransaction()</code> function.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-11>Example<a href=#example-11 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $connect; $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $person : cs.PersonsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $ds : cs.DataStore</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $choice : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $error : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($choice="local")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       $ds:=ds</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($choice="remote")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       $connect:=New object("hostname";"111.222.3.4:8044")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       $ds:=Open datastore($connect;"myRemoteDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $ds.startTransaction()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $person:=$ds.Persons.query("lastname=:1";"Peters").first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($person#Null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $person.lastname:="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $status:=$person.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ...</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ...</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($error)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $ds.cancelTransaction()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $ds.validateTransaction()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=stoprequestlog>.stopRequestLog()<a href=#stoprequestlog class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Changes<tbody><tr><td>20<td>Server side support<tr><td>17 R6<td>Added</table>
</div></div></details>
<p><strong>.stopRequestLog()</strong></p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td><td><td><td>Does not require any parameters</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-19>Description<a href=#description-19 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.stopRequestLog()</code> function stops any logging of ORDA requests on the machine it is called (client or server).</p>
<p>It actually closes the opened document on disk. On the client side, if the log was started in memory, it is stopped.</p>
<p>This function does nothing if logging of ORDA requests was not started on the machine.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-12>Example<a href=#example-12 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>See examples for <a href=#startrequestlog><code>.startRequestLog()</code></a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=unlock>.unlock()<a href=#unlock class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>20<td>Added</table>
</div></div></details>
<p><strong>.unlock()</strong></p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td><td><td><td>Does not require any parameters</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-20>Description<a href=#description-20 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.unlock()</code> function removes the current lock on write operations in the datastore, if it has been set in the same process. Write operations can be locked in the local datastore using the <a href=#flushandlock><code>.flushAndLock()</code></a> function.</p>
<p>If the current lock was the only lock on the datastore, write operations are immediately enabled. If the <code>.flushAndLock()</code> function was called several times in the process, the same number of <code>.unlock()</code> must be called to actually unlock the datastore.</p>
<p>The <code>.unlock()</code> function must be called from the process that called the corresponding <code>.flushAndLock()</code>, otherwise the function does nothing and the lock is not removed.</p>
<p>If the <code>.unlock()</code> function is called in an unlocked datastore, it does nothing.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=see-also-10>See also<a href=#see-also-10 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p><a href=#flushandlock>.flushAndLock()</a><br><a href=#locked>.locked()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=validatetransaction>.validateTransaction()<a href=#validatetransaction class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>18<td>Added</table>
</div></div></details>
<p><strong>.validateTransaction()</strong></p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td><td><td><td>Does not require any parameters</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=description-21>Description<a href=#description-21 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>The <code>.validateTransaction()</code> function accepts the transaction that was started with <a href=#starttransaction><code>.startTransaction()</code></a> at the corresponding level on the specified datastore.</p>
<p>The function saves the changes to the data on the datastore that occurred during the transaction.</p>
<p>You can nest several transactions (sub-transactions). If the main transaction is cancelled, all of its sub-transactions are also cancelled, even if they were validated individually using this function.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=example-13>Example<a href=#example-13 class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h4>
<p>See example for <a href=#starttransaction><code>.startTransaction()</code></a>.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataStoreClass.md%20(20-R7)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Comment on this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/API/DataClassClass><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>DataClass</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/API/EmailObjectClass><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Email</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#summary class="table-of-contents__link toc-highlight">Summary</a><li><a href=#dataclassname class="table-of-contents__link toc-highlight"><em>.dataclassName</em></a><li><a href=#canceltransaction class="table-of-contents__link toc-highlight">.cancelTransaction()</a><li><a href=#clearallremotecontexts class="table-of-contents__link toc-highlight">.clearAllRemoteContexts()</a><li><a href=#encryptionstatus class="table-of-contents__link toc-highlight">.encryptionStatus()</a><li><a href=#flushandlock class="table-of-contents__link toc-highlight">.flushAndLock()</a><li><a href=#getallremotecontexts class="table-of-contents__link toc-highlight">.getAllRemoteContexts()</a><li><a href=#getglobalstamp class="table-of-contents__link toc-highlight">.getGlobalStamp()</a><li><a href=#getinfo class="table-of-contents__link toc-highlight">.getInfo()</a><li><a href=#getremotecontextinfo class="table-of-contents__link toc-highlight">.getRemoteContextInfo()</a><li><a href=#getrequestlog class="table-of-contents__link toc-highlight">.getRequestLog()</a><li><a href=#isadminprotected class="table-of-contents__link toc-highlight">.isAdminProtected()</a><li><a href=#locked class="table-of-contents__link toc-highlight">.locked()</a><li><a href=#makeselectionsalterable class="table-of-contents__link toc-highlight">.makeSelectionsAlterable()</a><li><a href=#providedatakey class="table-of-contents__link toc-highlight">.provideDataKey()</a><li><a href=#setadminprotection class="table-of-contents__link toc-highlight">.setAdminProtection()</a><li><a href=#setglobalstamp class="table-of-contents__link toc-highlight">.setGlobalStamp()</a><li><a href=#setremotecontextinfo class="table-of-contents__link toc-highlight">.setRemoteContextInfo()</a><li><a href=#startrequestlog class="table-of-contents__link toc-highlight">.startRequestLog()</a><li><a href=#starttransaction class="table-of-contents__link toc-highlight">.startTransaction()</a><li><a href=#stoprequestlog class="table-of-contents__link toc-highlight">.stopRequestLog()</a><li><a href=#unlock class="table-of-contents__link toc-highlight">.unlock()</a><li><a href=#validatetransaction class="table-of-contents__link toc-highlight">.validateTransaction()</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://developer.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Developer Center</a><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://twitter.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="col footer__col"><div class=footer__title>Support</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Where It All Began)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Knowledgebase</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Downloads<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Get Support<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Company</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>About 4D<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contact us<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D around the world<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2024 4D SAS - All rights reserved</div></div></div></footer></div>