<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20-R10 docs-doc-page docs-doc-id-API/VectorClass" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Vector | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://developer.4d.com/docs/20-R10/API/VectorClass /><meta data-rh=true property=og:locale content=en /><meta data-rh=true property=og:locale:alternate content=fr /><meta data-rh=true property=og:locale:alternate content=es /><meta data-rh=true property=og:locale:alternate content=ja /><meta data-rh=true property=og:locale:alternate content=pt /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=20-R10 /><meta data-rh=true name=docusaurus_tag content=docs-default-20-R10 /><meta data-rh=true name=docsearch:version content=20-R10 /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20-R10 /><meta data-rh=true property=og:title content="Vector | 4D Docs"/><meta data-rh=true name=description content="The Vector class allows you to handle vectors and to execute distance and similarity calculations between them. This class is available from the 4D class store."/><meta data-rh=true property=og:description content="The Vector class allows you to handle vectors and to execute distance and similarity calculations between them. This class is available from the 4D class store."/><link data-rh=true rel=icon href=/docs/img/favicon/4d.gif /><link data-rh=true rel=canonical href=https://developer.4d.com/docs/20-R10/API/VectorClass /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R10/API/VectorClass hreflang=en /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/20-R10/API/VectorClass hreflang=fr /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/20-R10/API/VectorClass hreflang=es /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/20-R10/API/VectorClass hreflang=ja /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/20-R10/API/VectorClass hreflang=pt /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R10/API/VectorClass hreflang=x-default /><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developer.4d.com/docs/20-R10/category/4d-language","name":"4D Language","position":1},{"@type":"ListItem","item":"https://developer.4d.com/docs/20-R10/category/class-API-reference","name":"Classes","position":2},{"@type":"ListItem","item":"https://developer.4d.com/docs/20-R10/API/VectorClass","name":"Vector","position":3}]}</script><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/opensearch.xml><script src=https://kit.fontawesome.com/daeacc3fc4.js crossorigin=anonymous></script><link rel=stylesheet href=/docs/assets/css/styles.73ef7d2c.css /><script src=/docs/assets/js/runtime~main.37a13c26.js defer></script><script src=/docs/assets/js/main.e42a0720.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/docs/img/logohome.png /><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/><div class=navbar__logo><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/20-R10/API/VectorClass>20 R10</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/API/VectorClass>21 BETA</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/20-R10/API/VectorClass>20 R10</a><li><a class=dropdown__link href=/docs/20/GettingStarted/installation>20</a><li><a class=dropdown__link href=/docs/19/GettingStarted/installation>19</a><li><a class=dropdown__link href=/docs/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/docs/20-R10/API/VectorClass target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a><li><a href=/docs/fr/20-R10/API/VectorClass target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/20-R10/API/VectorClass target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/20-R10/API/VectorClass target=_self rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/20-R10/API/VectorClass target=_self rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/docs/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/20-R10/category/getting-started><span title="Getting Started" class=categoryLinkLabel_W154>Getting Started</span></a><button aria-label="Expand sidebar category 'Getting Started'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/20-R10/category/project-ide><span title="Project & IDE" class=categoryLinkLabel_W154>Project & IDE</span></a><button aria-label="Expand sidebar category 'Project & IDE'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/docs/20-R10/category/4d-language><span title="4D Language" class=categoryLinkLabel_W154>4D Language</span></a><button aria-label="Collapse sidebar category '4D Language'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/20-R10/Concepts/about><span title=Concepts class=categoryLinkLabel_W154>Concepts</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/commands/command-index><span title="Commands by name" class=linkLabel_WmDU>Commands by name</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/docs/20-R10/category/commands><span title="Commands by theme" class=categoryLinkLabel_W154>Commands by theme</span></a><button aria-label="Expand sidebar category 'Commands by theme'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/20-R10/category/class-API-reference><span title=Classes class=categoryLinkLabel_W154>Classes</span></a><button aria-label="Collapse sidebar category 'Classes'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/BlobClass><span title=Blob class=linkLabel_WmDU>Blob</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/ClassClass><span title=Class class=linkLabel_WmDU>Class</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/CollectionClass><span title=Collection class=linkLabel_WmDU>Collection</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/CryptoKeyClass><span title=CryptoKey class=linkLabel_WmDU>CryptoKey</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/DataClassClass><span title=DataClass class=linkLabel_WmDU>DataClass</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/DataStoreClass><span title=DataStore class=linkLabel_WmDU>DataStore</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/EmailObjectClass><span title=Email class=linkLabel_WmDU>Email</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/EntityClass><span title=Entity class=linkLabel_WmDU>Entity</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/EntitySelectionClass><span title=EntitySelection class=linkLabel_WmDU>EntitySelection</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/FileClass><span title=File class=linkLabel_WmDU>File</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/FileHandleClass><span title=FileHandle class=linkLabel_WmDU>FileHandle</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/FolderClass><span title=Folder class=linkLabel_WmDU>Folder</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/FunctionClass><span title=Function class=linkLabel_WmDU>Function</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/HTTPAgentClass><span title=HTTPAgent class=linkLabel_WmDU>HTTPAgent</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/HTTPRequestClass><span title=HTTPRequest class=linkLabel_WmDU>HTTPRequest</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/IMAPTransporterClass><span title=IMAPTransporter class=linkLabel_WmDU>IMAPTransporter</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/IncomingMessageClass><span title=IncomingMessage class=linkLabel_WmDU>IncomingMessage</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/MailAttachmentClass><span title=MailAttachment class=linkLabel_WmDU>MailAttachment</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/OutgoingMessageClass><span title=OutgoingMessage class=linkLabel_WmDU>OutgoingMessage</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/POP3TransporterClass><span title=POP3Transporter class=linkLabel_WmDU>POP3Transporter</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/SessionClass><span title=Session class=linkLabel_WmDU>Session</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/SignalClass><span title=Signal class=linkLabel_WmDU>Signal</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/SMTPTransporterClass><span title=SMTPTransporter class=linkLabel_WmDU>SMTPTransporter</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/SystemWorkerClass><span title=SystemWorker class=linkLabel_WmDU>SystemWorker</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/TCPConnectionClass><span title=TCPConnection class=linkLabel_WmDU>TCPConnection</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/TCPEventClass><span title=TCPEvent class=linkLabel_WmDU>TCPEvent</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/TCPListenerClass><span title=TCPListener class=linkLabel_WmDU>TCPListener</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/UDPEventClass><span title=UDPEvent class=linkLabel_WmDU>UDPEvent</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/UDPSocketClass><span title=UDPSocket class=linkLabel_WmDU>UDPSocket</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/20-R10/API/VectorClass><span title=Vector class=linkLabel_WmDU>Vector</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/WebFormClass><span title=WebForm class=linkLabel_WmDU>WebForm</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/WebFormItemClass><span title=WebFormItem class=linkLabel_WmDU>WebFormItem</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/WebServerClass><span title=WebServer class=linkLabel_WmDU>WebServer</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/WebSocketClass><span title=WebSocket class=linkLabel_WmDU>WebSocket</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/WebSocketConnectionClass><span title=WebSocketConnection class=linkLabel_WmDU>WebSocketConnection</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/WebSocketServerClass><span title=WebSocketServer class=linkLabel_WmDU>WebSocketServer</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/ZipArchiveClass><span title=ZIPArchive class=linkLabel_WmDU>ZIPArchive</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/ZipFileClass><span title=ZIPFile class=linkLabel_WmDU>ZIPFile</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/20-R10/API/ZipFolderClass><span title=ZIPFolder class=linkLabel_WmDU>ZIPFolder</span></a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/20-R10/category/core><span title="Core Development" class=categoryLinkLabel_W154>Core Development</span></a><button aria-label="Expand sidebar category 'Core Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/20-R10/category/web-applications><span title="Web Applications" class=categoryLinkLabel_W154>Web Applications</span></a><button aria-label="Expand sidebar category 'Web Applications'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/20-R10/category/desktop-applications><span title="Desktop Applications" class=categoryLinkLabel_W154>Desktop Applications</span></a><button aria-label="Expand sidebar category 'Desktop Applications'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/20-R10/category/administration><span title=Administration class=categoryLinkLabel_W154>Administration</span></a><button aria-label="Expand sidebar category 'Administration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/20-R10/category/extensions><span title=Extensions class=categoryLinkLabel_W154>Extensions</span></a><button aria-label="Expand sidebar category 'Extensions'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/docs/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/20-R10/category/4d-language><span>4D Language</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/20-R10/category/class-API-reference><span>Classes</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Vector</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 20 R10</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Vector</h1></header><p>The <code>Vector</code> class allows you to handle <strong>vectors</strong> and to execute distance and similarity calculations between them. This class is available from the <code>4D</code> class store.</p>
<p>In the world of AIs, a vector is a sequence of numbers that enables a machine to understand and manipulate complex data. For a detailed overview of the role of vectors with AIs, you can refer to <a href=https://aiforsocialgood.ca/blog/understanding-the-role-of-vectors-in-artificial-intelligence-a-comprehensive-guide target=_blank rel="noopener noreferrer" class="">this page</a>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=understanding-the-different-vector-computations>Understanding the different vector computations<a href=#understanding-the-different-vector-computations class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>The <code>4D.Vector</code> class proposes three types of vector computations. The following table summarizes the main characteristics of each one:</p>





























<table><thead><tr><th><th>cosineSimilarity<th>dotSimilarity<th>euclideanDistance<tbody><tr><td>Definition<td>Compares the orientation of two texts represented as vectors. The more they point in the same direction, the closer they are.<td>Sum of products between each vector dimension. It's like a weighted compatibility score.<td>Actual distance between two vectors, as if measured with a ruler.<tr><td>Simple analogy<td>Are we talking about the same subject?<td>Are you talking about the same subject insistently?<td>Are you really far away from what I'm saying?<tr><td>Example<td>Imagine you're looking for movies to watch on a video on-demand streaming service. Cosine similarity is used to compare your tastes (for example, you like action movies with a bit of comedy) to the movie descriptions in their database. It doesn't matter whether you're a "small" fan (you watch 1 film a month) or a "big" fan (you watch 10 films a week), what matters is whether the films have similar characteristics to what you like (action + comedy). The streaming service uses cosine similarity to recommend films that "point in the same direction" as your preferences.<td>Think of a search engine. When you type "chocolate cake recipe", the algorithm compares your query to web pages. The dot product can be used not only to check whether a page is talking about chocolate cakes (a similar direction to your search), but also to give more weight to pages that are highly relevant (for example, a page with lots of detailed content about chocolate cakes will have a greater "length" and therefore a higher score). A page with just one sentence on the subject will have a lower score.<td>Imagine a dating application. The algorithm can use Euclidean distance to compare your profile (your interests, age, location, etc.) with those of other users. If your profiles are very similar (for example, you both like hiking, pop music, and you live 5 km apart), the Euclidean distance between your profiles will be low, and the app will suggest this person as a good "match". Here, all differences (however small) count, not just the general direction of your tastes.</table>
<p>In any cases, it's a good idea to test the different vectors to determine which best suits your needs and data.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=vector-object>Vector object<a href=#vector-object class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>Vector objects are shared, immutable, and streamable.</p>























<table><thead><tr><th><tbody><tr><td><a href=#cosinesimilarity class=""><strong>.cosineSimilarity</strong>( <em>vector</em> : 4D.Vector ) : Real</a><br/>calculates the cosine similarity between the current 4D vector and the one you passed in the <em>vector</em> parameter<tr><td><a href=#dotsimilarity class=""><strong>.dotSimilarity</strong>( <em>vector</em> : 4D.Vector ) : Real</a><br/>calculates the dot product of the current 4D vector and the one you passed in the <em>vector</em> parameter<tr><td><a href=#euclideandistance class=""><strong>.euclideanDistance</strong>( <em>vector</em> : 4D.Vector ) : Real</a><br/>calculates the Euclidean distance between the current 4D vector and the one you passed in the <em>vector</em> parameter<tr><td><a href=#length class=""><strong>length</strong> : Integer</a><br/>the number of vector components<tr><td><a href=#tocollection class=""><strong>.toCollection</strong>() : Collection</a><br/>returns the vector components as a collection of reals</table>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=4dvectornew>4D.Vector.new()<a href=#4dvectornew class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>History</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Changes<tbody><tr><td>20 R10<td>Added</table>
</div></div></details>
<p><strong>4D.Vector.new</strong> ( <em>parameter</em> : Collection ) : 4D.Vector</p>























<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>parameter<td>Collection of reals<td>-><td>Collection of real numbers representing a vector<tr><td>Result<td>4D.Vector<td>&lt;-<td>New Vector object</table>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=description>Description<a href=#description class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>The <code>4D.Vector.new()</code> function creates and returns a new object of the <code>4D.Vector</code> type.</p>
<p>In <em>parameter</em>, pass a collection of real numbers representing the vector to create. These values are provided by artifical intelligences and represent mathematically objects like words or data.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=example>Example<a href=#example class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>To create a vector:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $vector := 4D.Vector.new([0.123; -0.456; 0.789]) </span><br/></span></code></pre></div></div>
<p>You can access individual components or convert the entire vector back to a collection:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $firstComponent := $vector[0]</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $collection := $vector.toCollection()</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=cosinesimilarity>.cosineSimilarity()<a href=#cosinesimilarity class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p><strong>.cosineSimilarity</strong>( <em>vector</em> : 4D.Vector ) : Real</p>























<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>vector<td>4D.Vector<td>-><td>Vector to compare with<tr><td>Result<td>Real<td>&lt;-<td>Distance between vectors</table>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=description-1>Description<a href=#description-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>The <code>.cosineSimilarity()</code> function calculates the cosine similarity between the current 4D vector and the one you passed in the <em>vector</em> parameter. Both vectors must have the same size.</p>
<p>This metric measures the <strong>angle between vectors</strong> and is commonly used to determine semantic similarity between texts. It is recommended for text embeddings, documents, sentences, and any data where <strong>direction</strong> matters more than <strong>magnitude</strong> (e.g. for semantic search or text classification).</p>
<p><strong>Returned value</strong></p>
<ul>
<li class="">Range: -1 (opposite) to 1 (identical).</li>
<li class="">The higher the returned value is, more similar vectors are.</li>
</ul>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=example-1>Example 1<a href=#example-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $vector := 4D.Vector.new([0.123; -0.456; 0.789]) </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $anotherVector := 4D.Vector.new([0.598; -0.951; 0.789])</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $similarity := $vector.cosineSimilarity($anotherVector)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=example-2>Example 2<a href=#example-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>This example uses the <a class="" href=/docs/20-R10/aikit/overview>4D AIKit extension</a> to generate embeddings.</div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $model:="text-embedding-ada-002"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $people:=ds.People.get(1)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$prompt:=String($people.Firstname)+" "+String($people.Lastname)+" was born on "+\</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">String($people.Birthday)+" and lives in "+String($people.Address)+", "+\</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">String($people.ZipCode)+", "+String($people.City)+", "+String($people.Country)+\</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">". Contact: "+String($people.email)+", "+String($people.Cell)+", "+\</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">String($people.Phone)+". Family IDs - Father: "+String($people.FatherID)+\</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">", Mother : "+String($people.MotherID)+", Partner: "+String($people.PartnerID)+"."</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $clientAI:=cs.AIKit.OpenAI.new(getAIKey())</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// Vector calculation with 4D AIKit</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $result:=$clientAI.embeddings.create($prompt; $model)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// 4D.vector object creation</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $vector:=$result.vector</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $question:="I'm looking for John who lives in USA"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// Vector calculation with 4D AIKit component</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $questionVector:=$clientAI.embeddings.create($question; $model).vector</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// similarity calculation</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">If ($vector.cosineSimilarity($questionVector)>0.9)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  ALERT("Interesting result")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">End if</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">//actual result: 0,7360136465949</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=dotsimilarity>.dotSimilarity()<a href=#dotsimilarity class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p><strong>.dotSimilarity</strong>( <em>vector</em> : 4D.Vector ) : Real</p>























<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>vector<td>4D.Vector<td>-><td>Vector to compare with<tr><td>Result<td>Real<td>&lt;-<td>Distance between vectors</table>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=description-2>Description<a href=#description-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>The <code>.dotSimilarity()</code> function calculates the dot product of the current 4D vector and the one you passed in the <em>vector</em> parameter. Both vectors must have the same size.</p>
<p>This metric reflects both <strong>similarity</strong> and <strong>magnitude</strong>, and is generally used in models where vector norms (magnitudes) vary. It is recommended for scenarios where embeddings have been fine-tuned with magnitude in mind (e.g., recommendation engines, scoring relevance).</p>
<p><strong>Returned value</strong></p>
<ul>
<li class="">Depends on vector magnitudes and directions</li>
<li class="">The higher the returned value is, more similar vectors are.</li>
</ul>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=example-3>Example<a href=#example-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $vector := 4D.Vector.new([0.123; -0.456; 0.789]) </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $anotherVector := 4D.Vector.new([0.598; -0.951; 0.789])</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $score := $vector.dotSimilarity($anotherVector)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=example-2-1>Example 2<a href=#example-2-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>This example uses the <a class="" href=/docs/20-R10/aikit/overview>4D AIKit extension</a> to generate embeddings.</div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $model:="text-embedding-ada-002"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $clientAI:=cs.AIKit.OpenAI.new(getAIKey())</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$documents:=[{text: "How to bake a chocolate cake"; similarity: 0}; \</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">{text: "Best hiking trails in the Alps"; similarity: 0}; \</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">{text: "Tips for learning 4D programming"; similarity: 0}; \</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">{text: "Top 10 sci-fi movies of all time"; similarity: 0}]</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$question:="4D coding tutorials"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// Vector calculation with 4D AIKit component</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$questionVector:=$clientAI.embeddings.create($question; $model).vector</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">For each ($document; $documents)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        // Vector calculation with 4D AIKit component</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $vector:=$clientAI.embeddings.create($document.text; $model).vector</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        // similarity</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $document.similarity:=$vector.dotSimilarity($questionVector)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">End for each</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$documents:=$documents.orderBy("similarity desc")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ALERT("Best answer: "+$documents[0].text)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">//$documents:</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">//{text:Tips for learning 4D programming,similarity:0.90409492325102}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">//{text:Top 10 sci-fi movies of all time,similarity:0.75362527646035}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">//{text:How to bake a chocolate cake,similarity:0.73664833336323}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">//{text:Best hiking trails in the Alps,similarity:0.73138600461065}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"> </span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=euclideandistance>.euclideanDistance()<a href=#euclideandistance class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p><strong>.euclideanDistance</strong>( <em>vector</em> : 4D.Vector ) : Real</p>























<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>vector<td>4D.Vector<td>-><td>Vector to compare with<tr><td>Result<td>Real<td>&lt;-<td>Distance between vectors</table>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=description-3>Description<a href=#description-3 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>The <code>.euclideanDistance()</code> function calculates the Euclidean distance between the current 4D vector and the one you passed in the <em>vector</em> parameter. Both vectors must have the same size.</p>
<p>This measures the straight-line distance in the vector space. It is recommended for numeric or structured data embeddings, or when using models where proximity in raw space directly correlates with similarity.</p>
<p><strong>Returned value</strong></p>
<ul>
<li class="">returned value >= 0</li>
<li class="">The lower the returned value is, more similar vectors are.</li>
</ul>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=example-1-1>Example 1<a href=#example-1-1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $vector := 4D.Vector.new([0.123; -0.456; 0.789]) </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $anotherVector := 4D.Vector.new([0.598; -0.951; 0.789])</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $distance := $vector.euclideanDistance($anotherVector)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=example-2-2>Example 2<a href=#example-2-2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$places:=[\</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">{name: "Eiffel Tower"; coord: [48.8584; 200.2945]; similarity: 0}; \</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">{name: "Louvre Museum"; coord: [48.8606; 200.3376]; similarity: 0}; \</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">{name: "Notre-Dame"; coord: [48.8529; 200.35]; similarity: 0}; \</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">{name: "Montmartre"; coord: [48.8867; 200.3431]; similarity: 0}\</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$userLocation:=[8.8566; 20.3522]</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $vector:=4D.Vector.new($userLocation)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">For each ($place; $places)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  $place.similarity:=$vector.euclideanDistance(4D.Vector.new($place.coord))</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">End for each</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$places:=$places.orderBy("similarity asc")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ALERT("Nearest monument: "+$places[0].name)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=length>.length<a href=#length class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p><strong>length</strong> : Integer</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=description-4>Description<a href=#description-4 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>The <code>.length</code> property contains the number of vector components.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=tocollection>.toCollection()<a href=#tocollection class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p><strong>.toCollection</strong>() : Collection</p>

















<table><thead><tr><th>Parameter<th>Type<th><th>Description<tbody><tr><td>Result<td>Collection<td>&lt;-<td>Collection of real numbers representing the vector components</table>
<p>The <code>.toCollection()</code> function returns the vector components as a collection of reals.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FVectorClass.md%20(20-R10)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Comment on this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/20-R10/API/UDPSocketClass><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>UDPSocket</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/20-R10/API/WebFormClass><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>WebForm</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#understanding-the-different-vector-computations class="table-of-contents__link toc-highlight">Understanding the different vector computations</a><li><a href=#vector-object class="table-of-contents__link toc-highlight">Vector object</a><li><a href=#4dvectornew class="table-of-contents__link toc-highlight">4D.Vector.new()</a><li><a href=#cosinesimilarity class="table-of-contents__link toc-highlight">.cosineSimilarity()</a><li><a href=#dotsimilarity class="table-of-contents__link toc-highlight">.dotSimilarity()</a><li><a href=#euclideandistance class="table-of-contents__link toc-highlight">.euclideanDistance()</a><li><a href=#length class="table-of-contents__link toc-highlight">.length</a><li><a href=#tocollection class="table-of-contents__link toc-highlight">.toCollection()</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Support</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Documentation download<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Where It All Began)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Knowledgebase</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Downloads</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Get Support</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Company</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>About 4D</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contact us</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D around the world</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2025 4D SAS - All rights reserved</div></div></div></footer></div></body>