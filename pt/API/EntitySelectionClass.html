<!doctype html><html lang=pt dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20-R7 docs-doc-page docs-doc-id-API/EntitySelectionClass" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>EntitySelection | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/pt/API/EntitySelectionClass><meta data-rh=true property=og:locale content=pt><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true name=docusaurus_locale content=pt><meta data-rh=true name=docsearch:language content=pt><meta data-rh=true name=docusaurus_version content=20-R7><meta data-rh=true name=docusaurus_tag content=docs-default-20-R7><meta data-rh=true name=docsearch:version content=20-R7><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20-R7><meta data-rh=true property=og:title content="EntitySelection | 4D Docs"><meta data-rh=true name=description content="Uma seleção de entidade é um objeto que contém uma ou mais referências a entidades pertencentes à mesma Dataclass. Uma seleção de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o número total de entidades contidas na dataclass."><meta data-rh=true property=og:description content="Uma seleção de entidade é um objeto que contém uma ou mais referências a entidades pertencentes à mesma Dataclass. Uma seleção de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o número total de entidades contidas na dataclass."><link data-rh=true rel=icon href=/docs/pt/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/pt/API/EntitySelectionClass><link data-rh=true rel=alternate href=https://developer.4d.com/docs/API/EntitySelectionClass hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/API/EntitySelectionClass hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/API/EntitySelectionClass hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/API/EntitySelectionClass hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/API/EntitySelectionClass hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/API/EntitySelectionClass hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/pt/opensearch.xml><link rel=stylesheet href=/docs/pt/assets/css/styles.4aaeeab1.css><script src=/docs/pt/assets/js/main.e2eede8d.js defer></script><script src=/docs/pt/assets/js/runtime~main.c43a4b4f.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Saltar para o conteúdo principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Saltar para o conteúdo principal</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label="Alternar barra de navegação" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/pt/><div class=navbar__logo><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Documentação 4D</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/pt/API/EntitySelectionClass>20 R7 BETA</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/pt/API/EntitySelectionClass>20 R7 BETA</a><li><a class=dropdown__link href=/docs/pt/20-R6/API/EntitySelectionClass>20 R6</a><li><a class=dropdown__link href=/docs/pt/20/API/EntitySelectionClass>20</a><li><a class=dropdown__link href=/docs/pt/19/API/EntitySelectionClass>19</a><li><a class=dropdown__link href=/docs/pt/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Português</a><ul class=dropdown__menu><li><a href=/docs/API/EntitySelectionClass rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/API/EntitySelectionClass rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/API/EntitySelectionClass rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/API/EntitySelectionClass rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/API/EntitySelectionClass rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Alternar entre os modos escuro e claro (atualmente modo Claro)" aria-label="Alternar entre os modos escuro e claro (atualmente modo Claro)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Pesquisa (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Pesquisa</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Voltar ao topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/pt/><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Documentação 4D</b></a><nav aria-label="Barra lateral de documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/category/getting-started>Começando</a><button aria-label="Expandir a categoria 'Começando' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/category/core-development>Desenvolvimento</a><button aria-label="Expandir a categoria 'Desenvolvimento' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/pt/category/4D-language>Línguagem 4D</a><button aria-label="Fechar categoria da barra lateral 'Línguagem 4D'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/pt/Concepts/about>Conceitos</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/pt/category/commands>Comandos</a><button aria-label="Expandir a categoria 'Comandos' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/pt/category/class-API-reference>Classes</a><button aria-label="Fechar categoria da barra lateral 'Classes'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/overview>Funções e comandos de classe</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/BlobClass>Blob</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/ClassClass>Class</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/CollectionClass>Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/CryptoKeyClass>CryptoKey</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/DataClassClass>DataClass</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/DataStoreClass>DataStore</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/EmailObjectClass>Email</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/EntityClass>Entity</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/pt/API/EntitySelectionClass>EntitySelection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/FileClass>File</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/FileHandleClass>FileHandle</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/FolderClass>Folder</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/FunctionClass>Function</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/HTTPAgentClass>HTTPAgent</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/HTTPRequestClass>HTTPRequest</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/IMAPTransporterClass>IMAPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/MailAttachmentClass>MailAttachment</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/OutgoingMessageClass>OutgoingMessage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/POP3TransporterClass>POP3Transporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/SessionClass>Session</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/SignalClass>Signal</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/SMTPTransporterClass>SMTPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/SystemWorkerClass>SystemWorker</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/WebFormClass>WebForm</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/WebFormItemClass>WebFormItem</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/WebServerClass>WebServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/WebSocketClass>WebSocket</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/WebSocketConnectionClass>WebSocketConnection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/WebSocketServerClass>WebSocketServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/ZipArchiveClass>ZIPArchive</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/ZipFileClass>ZIPFile</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/API/ZipFolderClass>ZIPFolder</a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/category/administration>Administração</a><button aria-label="Expandir a categoria 'Administração' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/Extensions/overview>Extensões</a><button aria-label="Expandir a categoria 'Extensões' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/category/web-applications>Aplicações Web</a><button aria-label="Expandir a categoria 'Aplicações Web' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/category/desktop-applications>Aplicações Desktop</a><button aria-label="Expandir a categoria 'Aplicações Desktop' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a href=https://developer.4d.com/go-mobile/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false>Aplicações móveis</a></div></ul></nav><button type=button title="Recolher a barra lateral" aria-label="Recolher a barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Trilha de navegação"><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Página inicial" class=breadcrumbs__link href=/docs/pt/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/pt/category/4D-language><span itemprop=name>Línguagem 4D</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/pt/category/class-API-reference><span itemprop=name>Classes</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>EntitySelection</span><meta itemprop=position content=3></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Versão: 20 R7 BETA</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">Nesta página</button></div><div class="theme-doc-markdown markdown"><header><h1>EntitySelection</h1></header><p>Uma seleção de entidade é um objeto que contém uma ou mais referências a <a href=/docs/pt/ORDA/dsmapping#entity>entidades</a> pertencentes à mesma <a href=/docs/pt/ORDA/dsmapping#dataclass>Dataclass</a>. Uma seleção de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o número total de entidades contidas na dataclass.</p>
<p>As seleções de entidades podem ser criadas a partir de seleções existentes usando várias funções da classe <a href=/docs/pt/API/DataClassClass><code>DataClass</code></a>, como <a href=/docs/pt/API/DataClassClass#all><code>.all()</code></a> ou <a href=/docs/pt/API/DataClassClass#query><code>.query()</code></a>, ou funções da própria classe <code>EntityClass</code>, como <a href=#and><code>.and()</code></a> ou <a href=#orderby><code>orderBy()</code></a>. You can also create blank entity selections using the <a href=/docs/pt/API/DataClassClass#newselection><code>dataClass.newSelection()</code></a> function or the <a href=/docs/pt/commands/create-entity-selection><code>Create entity selection</code></a> command.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resumo>Resumo<a href=#resumo class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>

















































































































<table><thead><tr><th><tbody><tr><td><a href=#91index93><em><strong>[index]</strong></em> : 4D.Entity</a><br>permite acessar entidades dentro da seleção de entidades usando a sintaxe de coleção padrão<tr><td><a href=#attributename><em><strong>.attributeName</strong></em> : Collection<br><em><strong>.attributeName</strong></em> : 4D.EntitySelection</a><br>uma "projeção" de valores para o atributo na seleção de entidade<tr><td><a href=#add><strong>.add</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.add</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</a><br>adiciona a <em>entidade</em> ou <em>entitySelection</em> especificada à seleção de entidade original e retorna a seleção de entidade modificada<tr><td><a href=#and><strong>.and</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</a><br>combina a seleção de entidades com um parâmetro <em>entity</em> ou <em>entitySelection</em> usando o operador lógico AND<tr><td><a href=#at><strong>.at</strong>( <em>index</em> : Integer ) : 4D.Entity </a><br>retorna a entidade na posição <em>index</em>, permitindo o uso de números inteiros positivos e negativos<tr><td><a href=#average><strong>.average</strong>( <em>attributePath</em> : Text ) : Real</a><br>retorna a média aritmética (média) de todos os valores não nulos de <em>attributePath</em> na seleção de entidades<tr><td><a href=#clean><strong>.clean</strong>() : 4D.EntitySelection</a><br>retorna uma nova seleção de entidade com base na seleção de entidade original, mas sem as entidades excluídas, se houver<tr><td><a href=#contains><strong>.contains</strong>( <em>entity</em> : 4D.Entity ) : Boolean</a><br>retorna true se a referência da entidade pertencer à seleção de entidades<tr><td><a href=#contains><strong>.copy</strong>( { <em>option</em> : Integer } ) : 4D.EntitySelection</a><br>retorna uma cópia da entity selection original<tr><td><a href=#count><strong>.count</strong>( <em>attributePath</em> : Text ) : Real</a><br>retorna o número de entidades na seleção de entidades com um valor não nulo em <em>attributePath</em><tr><td><a href=#distinct><strong>.distinct</strong>( <em>attributePath</em> : Text { ; <em>options</em> : Integer } ) : Collection</a><br>retorna uma coleção contendo apenas valores distintos (diferentes) do <em>attributePath</em> na seleção da entidade<tr><td><a href=#distinctPaths><strong>.distinctPaths</strong>( <em>attribute</em> : Text ) : Collection</a><br>retorna uma coleção de caminhos distintos encontrados no objeto indexado <em>atributo</em> para a seleção da entidade<tr><td><a href=#drop><strong>.drop</strong>( { <em>mode</em> : Integer } ) : 4D.EntitySelection</a><br>remove as entidades pertencentes à seleção de entidades da tabela relacionada à sua classe de dados no armazenamento de dados<tr><td><a href=#extract><strong>.extract</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>attributePath</em> { ; <em>targetPath</em> } { ; <em>...attributePathN</em> : Text ; <em>targetPathN</em> : Text } ) : Collection</a><br>retorna uma coleção contendo valores <em>attributePath</em> extraídos da seleção de entidades<tr><td><a href=#first><strong>.first</strong>() : 4D.Entity</a><br>retorna uma referência à entidade na primeira posição da seleção de entidades<tr><td><a href=#getdataclass><strong>.getDataClass</strong>() : 4D.DataClass</a><br>retorna a classe de dados da seleção da entidade<tr><td><a href=#getremotecontextattributes><strong>.getRemoteContextAttributes</strong>() : Text</a><br>returns information about the optimization context used by the entity<tr><td><a href=#isalterable><strong>.isAlterable</strong>() : Boolean</a><br>retorna True se a seleção da entidade for alterável<tr><td><a href=#isordered><strong>.isOrdered</strong>() : Boolean</a><br>retorna True se a seleção da entidade estiver ordenada<tr><td><a href=#last><strong>.last</strong>() : 4D.Entity</a><br>retorna uma referência à entidade na última posição da seleção de entidades<tr><td><a href=#length><strong>.length</strong> : Integer</a><br>retorna o número de entidades na seleção de entidades<tr><td><a href=#max><strong>.max</strong>( <em>attributePath</em> : Text ) : any</a><br>retorna o valor mais alto (ou máximo) entre todos os valores de <em>attributePath</em> na seleção da entidade<tr><td><a href=#min><strong>.min</strong>( <em>attributePath</em> : Text ) : any</a><br> retorna o valor mais baixo (ou mínimo) entre todos os valores de attributePath na seleção de entidades<tr><td><a href=#minus><strong>.minus</strong>( <em>entity</em> : 4D.Entity { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D.EntitySelection { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection</a><br>exclui da seleção de entidades à qual é aplicada a <em>entidade</em> ou as entidades de <em>entitySelection</em> e retorna a seleção de entidades resultante<tr><td><a href=#or><strong>.or</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</a><br>combina a seleção de entidades com o parâmetro <em>entity</em> ou <em>entitySelection</em> usando o operador lógico OR (não exclusivo)<tr><td><a href=#orderby><strong>.orderBy</strong>( <em>pathString</em> : Text ) : 4D.EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : 4D.EntitySelection</a><br>retorna uma nova seleção de entidade ordenada contendo todas as entidades da seleção de entidade na ordem especificada pelos critérios <em>pathString</em> ou <em>pathObjects</em><tr><td><a href=#orderbyformula><strong>.orderByFormula</strong>( <em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection</a><br>retorna uma nova seleção de entidades ordenada<tr><td><a href=#query><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection</a><br>busca entidades que atendam aos critérios de pesquisa especificados em <em>queryString</em> ou <em>formula</em> e (opcionalmente) <em>value</em>(s) entre todas as entidades na seleção de entidades<tr><td><a href=#querypath><strong>.queryPath</strong> : Text</a><br>contém uma descrição detalhada da consulta conforme ela foi realmente executada pelo 4D<tr><td><a href=#queryplan><strong>.queryPlan</strong> : Text</a><br> contém uma descrição detalhada da consulta imediatamente antes de ser executada (ou seja, a consulta planejada)<tr><td><a href=#refresh><strong>.refresh</strong>()</a><br>invalida imediatamente os dados de seleção de entidade no <a href=/docs/pt/ORDA/client-server-optimization#orda-cache>cache ORDA local</a><tr><td><a href=#selected><strong>.selected</strong>( <em>selectedEntities</em> : 4D.EntitySelection ) : Object</a><br>retorna um objeto que descreve a(s) posição(ões) de <em>selectedEntities</em> na seleção da entidade original<tr><td><a href=#slice><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : 4D.EntitySelection</a><br>retorna uma parte de uma seleção de entidades em uma nova seleção de entidades<tr><td><a href=#sum><strong>.sum</strong>( <em>attributePath</em> : Text ) : Real</a><br>retorna a soma de todos os valores <em>attributePath</em> na seleção de entidades<tr><td><a href=#tocollection><strong>.toCollection</strong>( { <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer } } ) : Collection<br><strong>.toCollection</strong>( <em>filterString</em> : Text {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : Collection<br><strong>.toCollection</strong>( <em>filterCol</em> : Collection {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : Collection</a><br>cria e retorna uma coleção em que cada elemento é um objeto que contém um conjunto de propriedades e valores</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=veja-também>Veja também<a href=#veja-também class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p><a href=/docs/pt/commands/use-entity-selection><code>USE ENTITY SELECTION</code></a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=91index93>&amp;#91<em>index</em>&amp;#93<a href=#91index93 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><em><strong>[index]</strong></em> : 4D.Entity</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição>Descrição<a href=#descrição class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A notação <code>EntitySelection[index]</code> permite acessar entidades dentro da seleção de entidades usando a sintaxe de coleção padrão: passe a posição da entidade que deseja obter no parâmetro <em>index</em>.</p>
<p>Lembre que a entidade correspondente é recarregada a partir da datastore.</p>
<p><em>index</em> pode ser qualquer número entre 0 e <code>.length</code>-1.</p>
<ul>
<li>Se <em>index</em> está fora do intervalo, se devolve um erro.</li>
<li>Se <em>index</em> corresponder a uma entidade descartada, um valor Null será retornado.</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>caution</div><div class=admonitionContent_BuS1><p><code>EntitySelection[index]</code> é uma expressão não atribuível, o que significa que não pode ser usada como uma referência editável da entidade com métodos como <a href=/docs/pt/API/EntityClass#lock><code>.lock()</code></a> ou <a href=/docs/pt/API/EntityClass#save><code>.save()</code></a>. Para trabalhar com a entidade correspondente, é necessário atribuir a expressão devolvida a uma expressão atribuível, como uma variável. Exemplos:<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $sel:=ds. Employee.all() //criação da entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //declarações não válidas:</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$sel[0].lock() //NÃO funcionará</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel[0].lastName:="Smith" //NÃO funcionará</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$sel[0].save() //NÃO funcionará</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //valid code:</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=$sel[0]  //OK</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.lastName:="Smith" //OK</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.save() //OK</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo>Exemplo<a href=#exemplo class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.query("lastName = :1";"H@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[2]  // A terceira entidade da seleção de entidades $employees se recarrega do banco de dados</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=attributename>.<em>attributeName</em><a href=#attributename class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><em><strong>.attributeName</strong></em> : Collection<br><em><strong>.attributeName</strong></em> : 4D.EntitySelection</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-1>Descrição<a href=#descrição-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Qualquer atributo de classe de dados pode ser usado como uma propriedade de uma seleção de entidade para retornar uma "projeção" de valores para o atributo na seleção de entidade. Os valores projetados podem ser uma coleção ou uma nova seleção de entidade, dependendo do <a href=/docs/pt/API/DataClassClass#attributename>kind</a> (<code>storage</code> ou <code>relation</code>) do atributo.</p>
<ul>
<li>Se o tipo de <em>attributeName</em> for <code>storage</code>:
<code>.attributeName</code> retorna uma coleção de valores do mesmo tipo que <em>attributeName</em>.</li>
<li>Se o tipo de <em>attributeName</em> for <code>relatedEntity</code>:
<code>.attributeName</code> retorna uma nova seleção de entidade de valores relacionados do mesmo tipo que <em>attributeName</em>. Se eliminam os duplicados (se devolve uma seleção de entidades desordenada).</li>
<li>Se o tipo de <em>attributeName</em> for <code>relatedEntities</code>:
<code>.attributeName</code> retorna uma nova seleção de entidade de valores relacionados do mesmo tipo que <em>attributeName</em>. Se eliminam os duplicados (se devolve uma seleção de entidades desordenada).</li>
</ul>
<p>Quando se utiliza um atributo de relação como propriedade de uma seleção de entidades, o resultado é sempre outra seleção de entidades, mesmo que só se devolva uma entidade. If the original entity selection and the <em x-id=3>entitySelection</em> parameter are empty, an empty entity selection is returned.</p>
<p>Se o atributo não existir na seleção de entidades, se devolve um erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1>Exemplo 1<a href=#exemplo-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Projeção de valores de armazenamento:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $firstNames : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entitySelection:=ds. Employee.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $firstNames:=$entitySelection.firstName // firstName é um string</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>A coleção resultante é uma coleção de strings, por exemplo:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "Joanna",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "Alexandra",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "Rick"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2>Exemplo 2<a href=#exemplo-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Projeção da entidade relacionada:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es; $entitySelection : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entitySelection:=ds. Employee.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=$entitySelection.employer // employer é relacionada aum  Company dataClass</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>O objeto resultane é uma seleção de entidade da Empresa com duplicações removidas (se houver).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3>Exemplo 3<a href=#exemplo-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Projeção de entidades relacionadas:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds. Employee.all().directReports // directReports é relacionada a dataclasse Funcionário</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>O objeto resultante é uma seleção de entidade da dataclasse Funcionario sem duplicatas (se houver).</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=add>.add()<a href=#add class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>





















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>18 R6<td>Suporte do parâmetro <em>entitySelection</em><tr><td>18 R5<td>Compatível apenas com seleções de entidade alteráveis<tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.add</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.add</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</p>





























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>entity<td>4D. Entity<td style=text-align:center>-><td>Entidade que deve ser adicinonada à entity selection<tr><td>entitySelection<td>4D. EntitySelection<td style=text-align:center>-><td>Seleção entidade paara ser adicionado a sellleção entidade originaal<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Seleção de entidades, incluindo a <em>entity</em> ou <em>entitySelection</em> adicionada</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-2>Descrição<a href=#descrição-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.add()</code> adiciona a <em>entidade</em> ou <em>entitySelection</em> especificada à seleção de entidade original e retorna a seleção de entidade modificada.</p>
<blockquote>
<p>Esta função não modifica a entity selection original.</p>
</blockquote>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>aviso</div><div class=admonitionContent_BuS1><p>A seleção da entidade deve ser <em>alterável</em>, ou seja, ter sido criada, por exemplo, por <a href=/docs/pt/API/DataClassClass#newselection><code>.newSelection()</code></a> ou <code>Create entity selection</code>, caso contrário, <code>.add()</code> retornará um erro. As entity selections partilháveis não aceitam a adição de entidades. Para mais informações, por favor consulte a seção <a href=/docs/pt/ORDA/entities#sele%C3%A7%C3%B5es-de-entidades-compartilh%C3%A1veis-ou-modific%C3%A1veis>Seleções de entidades compartilháveis ou modificáveis</a>.</div></div>
<p><strong>Adicionar uma entidade</strong></p>
<ul>
<li>Se a seleção da entidade for ordenada, <em>entidade</em> será adicionada ao final da seleção. Se uma referência a mesma entidade já pertencer a seleção de entidades, se duplica e se adiciona uma nova referência.</li>
<li>Se a seleção da entidade não tiver ordem, <em>entity</em> é adicionada em qualquer lugar da seleção, sem uma ordem específica.</li>
</ul>
<p><strong>Adicionar uma seleção de entidades</strong></p>
<ul>
<li>Se a selecção de entidades estiver ordenada, a sua ordem é mantida e <em>entitySelection</em> é adicionado no final da selecção. Se as referências às mesmas entidades de <em>entitySelection</em> já pertencerem à seleção de entidades, elas serão duplicadas e novas referências serão adicionadas.</li>
<li>Se a seleção de entidade nãofor ordenada, ela fica ordenada.</li>
</ul>
<blockquote>
<p>Para mais informações, por favor consulte a seção <a href=/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection>Seleções de entidades ordenadas ou não ordenadas</a>.</p>
</blockquote>
<p>A entity selection modificada é devolvida pela função, de modo que as chamadas à função podem ser encadeados.</p>
<p>Ocorrerá um erro se a <em>entidade</em> e a seleção da entidade não estiverem relacionadas à mesma classe de dados. Se <em>entity</em> for Null, não se produz nenhum erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-1>Exemplo 1<a href=#exemplo-1-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.query("lastName = :1";"S@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds. Employee.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.lastName:="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees.add($employee) //A entidade $employee se adiciona a entity selection $employees</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-1>Exemplo 2<a href=#exemplo-2-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>As chamadas à função podem ser encadeadas:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $sel : cs. ProductSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $p1;$p2;$p3 : cs. ProductEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $p1:=ds. Product.get(10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $p2:=ds. Product.get(11)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $p3:=ds. Product.get(12)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel:=ds. Product.query("ID &amp;gt; 50")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel:=$sel.add($p1).add($p2).add($p3)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3-1>Exemplo 3<a href=#exemplo-3-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Em uma interface de usuário, temos duas listas. O usuário seleciona itens da lista 1 e as adiciona na lista 2.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$sellist2:=$sellist2.add($sellist1)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=and>.and()<a href=#and class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.and</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</p>





























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>entity<td>4D. Entity<td style=text-align:center>-><td>Entidade a intersectar<tr><td>entitySelection<td>4D. EntitySelection<td style=text-align:center>-><td>Entity selection a intersectar<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Entity selection resultante da intersecção com o operador lógico AND</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-3>Descrição<a href=#descrição-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.and()</code> combina a seleção de entidades com um parâmetro <em>entity</em> ou <em>entitySelection</em> usando o operador lógico AND; ela retorna uma nova seleção de entidades não ordenada que contém apenas as entidades referenciadas na seleção de entidades e no parâmetro.</p>
<ul>
<li>Se você passar <em>entidade</em> como parâmetro, você combina essa entidade com a seleção de entidade. Se a entidade pertencer à entity selection, se devolve uma nova entity selection que só contém a entidade. Senão, uma seleção de entidades vazia é retornada.</li>
<li>Se você passar <em>entitySeletion</em> como parâmetro, combinará as duas seleções da entidade. Uma nova seleção de entidade que contenha só as entidades que são referenciadas em ambas as seleções sejam retornadas. Senão, uma nova seleção de entidade contém a seleção de entidade original e a entidade é retornada.</li>
</ul>
<blockquote>
<p>Para mais informações, por favor consulte <a href=/docs/pt/ORDA/dsmapping#sele%C3%A7%C3%A3o-de-entidades-ordenadas-ou-n%C3%A3o-ordenadas>Seleções de entidades ordenadas vs não ordenadas</a>. A seleção resultante é sempre desordenada.</p>
</blockquote>
<p>Se a seleção de entidade original ou o parâmetro <em>entitySelection</em> estiver vazio, ou se a <em>entidade</em> for Null, uma seleção de entidade vazia é retornada.</p>
<p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-2>Exemplo 1<a href=#exemplo-1-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees; $result : cs.ColaboradoreSeleção</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.ColaboradoreEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Empregado. uery("Último Nome = :1"; H@")   </span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //A seleção da entidade $employees contém a entidade</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  ///com chave primária 710 e outras entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //for ex. "Colin Hetrick" / "Diabo de Grade" / "Sherlock Holmes" (chave primária 710)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds. mployee.get(710) // Retorna "Sherlock Holmes"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$employees. nd($employee) //$result é uma entidade que contém   </span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //only a entidade com chave primária 710 ("Sherlock Holmes")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-2>Exemplo 2<a href=#exemplo-2-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Se quisermos ter uma seleção de empregados chamados "Jones" que morem em Nova York:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $sel1; $sel2; $sel3 : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel1:=ds.Employee.query("name =:1";"Jones")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel2:=ds.Employee.query("city=:1";"New York")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel3:=$sel1.and($sel2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=at>.at()<a href=#at class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>20<td>Adicionado</table>
</div></div></details>
<p><strong>.at</strong>( <em>index</em> : Integer ) : 4D.Entity</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>index<td>Integer<td style=text-align:center>-><td>Índice da entidade a devolver<tr><td>Resultados<td>4D. Entity<td style=text-align:center>&lt;-<td>A entidade nesse índice</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-4>Descrição<a href=#descrição-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.at()</code> retorna a entidade na posição <em>index</em>, permitindo o uso de números inteiros positivos e negativos.</p>
<p>Se <em>index</em> for negativo (de -1 a -n com n : comprimento da seleção de entidades), a entidade retornada será baseada na ordem inversa da seleção de entidades.</p>
<p>A função devolve Null se o <em>index</em> estiver para além dos limites de selecção de entidades.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-4>Exemplo<a href=#exemplo-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $emp1; $emp2 : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employees:=ds.Employee.query("lastName = :1"; "H@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$emp1:=$employees.at(2) //3ª entidade da seleção de entidades $employees</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$emp2:=$employees.at(-3) //começando do final, 3ª entidade</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	//da seleção de entidades $employees</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=average>.average()<a href=#average class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>18 R6<td>Retorna indefinido se uma seleção de entidade for vazia<tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.average</strong>( <em>attributePath</em> : Text ) : Real</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>attributePath<td>Text<td style=text-align:center>-><td>Rota do atributo que se utilizará para o cálculo<tr><td>Resultados<td>Real<td style=text-align:center>&lt;-<td>Media aritmética (média) dos valores das entidades para o atributo (Não se define para uma entity selection vazia)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-5>Descrição<a href=#descrição-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.average()</code> retorna a média aritmética (média) de todos os valores não nulos de <em>attributePath</em> na seleção de entidades.</p>
<p>Passe no parâmetro <em>attributePath</em> a rota de atributo a avaliar.</p>
<p>Só são levados em consideração os valores numéricos para o cálculo. Entretanto, observe que, se o <em>attributePath</em> da seleção da entidade contiver tipos de valores mistos, <code>.average()</code> levará em conta todos os elementos escalares para calcular o valor médio.</p>
<blockquote>
<p>Os valores de tipo Date são convertidos em valores numéricos (segundos) e são usados para calcular a média.</p>
</blockquote>
<p><code>.average()</code> retorna <strong>undefined</strong> se a seleção da entidade estiver vazia ou se <em>attributePath</em> não contiver valores numéricos.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-5>Exemplo<a href=#exemplo-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Se quisermos obter uma lista de funcionários cujo salário for superior ao salário médio:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $averageSalary : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $moreThanAv : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $averageSalary:=ds.Employee.all().average("salary")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $moreThanAv:=ds.Employee.query("salary > :1";$averageSalary)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=clean>.clean()<a href=#clean class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>20 R6<td>Adicionado</table>
</div></div></details>
<p><strong>.clean</strong>() : 4D.EntitySelection</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Nova seleção de entidades sem entidades excluídas</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-6>Descrição<a href=#descrição-6 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.clean()</code> retorna uma nova seleção de entidade com base na seleção de entidade original, mas sem as entidades excluídas, se houver.</p>
<p>Por padrão, quando uma entidade é <a href=/docs/pt/API/EntitySelectionClass#drop>descartada</a>, sua(s) referência(s) na(s) seleção(ões) de entidade(s) existente(s) se torna(m) <em>indefinida(s)</em>, mas não é(são) removida(s) do(s) objeto(s) de seleção de entidade. As entidades excluídas ainda estão incluídas na propriedade <a href=#length><code>.length</code></a> e são exibidas como linhas em branco se a seleção da entidade estiver vinculada a um objeto de interface, como uma lista. Nesse caso, chamar a função <code>.clean()</code> na seleção de entidades permite que você obtenha uma seleção de entidades nova e atualizada, que não contenha referências de entidades <em>undefined</em>.</p>
<p>The resulting entity selection keeps the same <a href=/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection>order criteria</a> and the same <a href=/docs/pt/ORDA/entities#shareable-or-alterable-entity-selections>alterable/shareable</a> property as the original entity selection.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-6>Exemplo<a href=#exemplo-6 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $sel; $sel2 : cs.SpecialitySelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sel:=ds.Speciality.query("ID &lt;= 4")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$status:=ds.Speciality.get(2).drop() //exclui a entidade da classe de dados</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$sel.length = 4</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sel2:=$sel.clean()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$sel2.length = 3</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><img decoding=async loading=lazy src=/docs/pt/assets/images/clean-9ca5451331f8f325210a8713835002fb.png width=943 height=451 class=img_ev3q></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=veja-também-1>Veja também<a href=#veja-também-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p><a href=#refresh><code>.refresh()</code></a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=contains>.contains()<a href=#contains class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.contains</strong>( <em>entity</em> : 4D.Entity ) : Boolean</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>entity<td>4D. Entity<td style=text-align:center>-><td>Entidade a ser avaliada<tr><td>Resultados<td>Parâmetros<td style=text-align:center>&lt;-<td>Truse se a entidade pertencer à entity selection, senão False</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-7>Descrição<a href=#descrição-7 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.contains()</code> retorna true se a referência da entidade pertencer à seleção de entidades, e false caso contrário.</p>
<p>Em <em>entity</em>, especifique a entidade a ser pesquisada na seleção de entidades. Se a entidade for Null, a função devolverá false.</p>
<p>Se <em>entity</em> e a entity selection não pertencerem à mesma dataclass, se produz um erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-7>Exemplo<a href=#exemplo-7 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName=:1";"H@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds. Employee.get(610)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($employees.contains($employee))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("A entidade com chave primaria 610 tem um sobrenome começando com H")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("A entidade com chave primária 610 não tem um sobrenome começando com H")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=count>.count()<a href=#count class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.count</strong>( <em>attributePath</em> : Text ) : Real</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>attributePath<td>Text<td style=text-align:center>-><td>Rota do atributo que se utilizará para o cálculo<tr><td>Resultados<td>Real<td style=text-align:center>&lt;-<td>Número de valores de <em>attributePath</em> que não são null na entity selection</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-8>Descrição<a href=#descrição-8 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.count()</code> retorna o número de entidades na seleção de entidades com um valor não nulo em <em>attributePath</em>.</p>
<blockquote>
<p>Só são levados em consideração os valores escalares. Os valores de tipo objeto ou coleção são considerados valores nulos.</p>
</blockquote>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-8>Exemplo<a href=#exemplo-8 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Se quisermos encontrar o número total de empregados para uma empresa sem contar aqueles cujos titulos de mprego não foram especificados:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $sel : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $count : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel:=ds.Employee.query("employer = :1";"Acme, Inc")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $count:=$sel.count("jobtitle")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=copy>.copy()<a href=#copy class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>18 R5<td>Adicionado</table>
</div></div></details>
<p><strong>.copy</strong>( { <em>option</em> : Integer } ) : 4D.EntitySelection</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>option<td>Integer<td style=text-align:center>-><td><code>ck shared</code>: retorna uma seleção de entidade compartilhável<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Cópia da entity selection</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-9>Descrição<a href=#descrição-9 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.copy()</code> retorna uma cópia da entity selection original.</p>
<blockquote>
<p>Esta função não modifica a seleção de entidades original.</p>
</blockquote>
<p>Como padrão, se o parâmetro <em>option</em> for omitido, a função retorna uma nova seleção de entidade modificável (mesmo que a função seja aplicada a uma seleção de entidade compartilhável). Passe a constante <code>ck shared</code> no parâmetro <em>option</em> se você quiser criar uma seleção de entidade compartilhável.</p>
<blockquote>
<p>Para informações sobre a propriedade compartilhável das seleções de entidades, consulte a seção <a href=/docs/pt/ORDA/entities#shareable-or-alterable-entity-selections>Seleções de entidades compartilháveis ou modificáveis</a>.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-9>Exemplo<a href=#exemplo-9 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Se criar uma nova seleção de entidade vazia de produtos quando o formulário for carregado:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :(Form event code=On Load)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       Form.products:=ds.Products.newSelection()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Então esta seleção de entidades é atualizada com produtos e se quiser compartilhar os produtos entre vários processos. Se copiar a seleçãod a entidade Form.products como compartilhável:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> ...</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // A seleção de entidades de Form.products se atualiza</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Form.products.add(Form.selectedProduct)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Use(Storage)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    If(Storage.products=Null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       Storage.products:=New shared object()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    Use(Storage.products)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       Storage.products:=Form.products.copy(ck shared)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    End use</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End use</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=distinct>.distinct()<a href=#distinct class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>20<td>Suporte de <code>dk count values</code><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.distinct</strong>( <em>attributePath</em> : Text { ; <em>options</em> : Integer } ) : Collection</p>





























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>attributePath<td>Text<td style=text-align:center>-><td>Rota do atributo cujos valores quer obter<tr><td>options<td>Integer<td style=text-align:center>-><td><code>dk diacritical</code>, <code>dk count values</code><tr><td>Resultados<td>Collection<td style=text-align:center>&lt;-<td>Coleção apenas com valores distintos</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-10>Descrição<a href=#descrição-10 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.distinct()</code> retorna uma coleção contendo apenas valores distintos (diferentes) do <em>attributePath</em> na seleção da entidade.</p>
<p>A coleção retornada é ordenada automaticamente. Os valores <strong>null</strong> não são devolvidos.</p>
<p>No parâmetro <em>attributePath</em>, passe o atributo de entidade cujos valores distintos você deseja obter. Só valores escalares (texto, número, booleano, ou data) podemser manejados. Se o <em>attributePath</em> levar a uma propriedade do objeto que contém valores de tipos diferentes, eles serão primeiro agrupados por tipo e, em seguida, classificados. Se <em x-id=3>attributePath</em> levar a uma propriedade de objeto que conter valores de diferentes tipos, primeiro se agrupam por tipo e se ordenam depois.</p>
<ol>
<li>booleans</li>
<li>strings</li>
<li>números</li>
<li>datas</li>
</ol>
<p>Você pode usar a notação <code>[]</code> para designar uma coleção quando <em>attributePath</em> é um caminho dentro de um objeto (ver exemplos).</p>
<p>No parâmetro <em>opções</em>, você pode passar uma ou uma combinação das seguintes constantes:</p>




















<table><thead><tr><th>Parâmetros<th>Valor<th>Comentário<tbody><tr><td><code>dk diacritical</code><td>8<td>A avaliação é sensível a maiúsculas e minúsculas e diferencia os caracteres acentuados. Como padrão, uma avaliação não-diacrítica é realizada.<tr><td><code>dk count values</code><td>32<td>Devolve a contagem de entidades para cada valor distinto. Quando essa opção é passada, <code>.distinct()</code> retorna uma coleção de objetos contendo um par de propriedades <code>{{"value":*value*; "count":*count*}</code>.</table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p>A opção <code>dk count values</code> só está disponível com atributos de armazenamento do tipo booleano, string, número e data.</div></div>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplos>Exemplos<a href=#exemplos class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Se quiser obter uma coleção que contenha um só elemento por nome de país:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $countries : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $countries:=ds. Employee.all().distinct("address.country")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><code>nicknames</code> é uma coleção e <code>extra</code> é um atributo de objeto:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$values:=ds. Employee.all().distinct("extra.nicknames[].first")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pretende obter o número de nomes de funções diferentes na empresa:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $jobs : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$jobs:=ds. Employee.all().distinct("jobName";dk count values)  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$jobs[0]={"value":"Developer";"count":17}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$jobs[1]={"value":"Office manager";"count":5}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$jobs[2]={"value":"Accountant";"count":2}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//...</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=distinctpaths>.distinctPaths()<a href=#distinctpaths class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>20<td>Adicionado</table>
</div></div></details>
<p><strong>.distinctPaths</strong>( <em>attribute</em> : Text ) : Collection</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>atributo<td>Text<td style=text-align:center>-><td>Nome do atributo do objecto cujos caminhos pretende obter<tr><td>Resultados<td>Collection<td style=text-align:center>&lt;-<td>Nova colecção com caminhos distintos</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-11>Descrição<a href=#descrição-11 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.distinctPaths()</code> retorna uma coleção de caminhos distintos encontrados no objeto indexado <em>atributo</em> para a seleção da entidade.</p>
<p>Se <em>attribute</em> não for um atributo de objeto indexado, será gerado um erro.</p>
<p>Depois da chamada, o tamanho da coleção retornada é igual ao número de caminhos distintos encontrados no <em>atributo</em> para a seleção da entidade. Os caminhos são devolvidos como cadeias de caracteres, incluindo atributos e colecções aninhados, por exemplo "info.address.number" ou "children[].birthdate". Entidades com um valor nulo no <em>atributo</em> não são consideradas.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-10>Exemplo<a href=#exemplo-10 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Você deseja obter todos os caminhos armazenados em um atributo objeto <em>fullData</em>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $paths : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$paths:=ds. Employee.all().distinctPaths("fullData")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$paths[0]="age"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$paths[1]="Children"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$paths[2]="Children[].age"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$paths[3]="Children[].name"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$paths[4]="Children.length"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">///...</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p><em>length</em> é automaticamente adicionado como caminho para propriedades de coleções aninhadas.</div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=drop>.drop()<a href=#drop class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.drop</strong>( { <em>mode</em> : Integer } ) : 4D.EntitySelection</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>mode<td>Integer<td style=text-align:center>-><td><code>dk stop dropping on first error</code>: para a execução do método na primeira entidade não eliminável<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Seleção de entidade vazia se bem-sucedida; caso contrário, seleção de entidade contendo entidades não descartáveis</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-12>Descrição<a href=#descrição-12 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.drop()</code> remove as entidades pertencentes à seleção de entidades da tabela relacionada à sua classe de dados no armazenamento de dados. A entity selection permanece na memória.</p>
<blockquote>
<p>A eliminação de entidades é permanente e não pode ser desfeita. É recomendado chamar esta ação em uma transação para ter uma opção de recuperação.</p>
</blockquote>
<p>Se encontrar uma entidade bloqueada durante a execução de <code>.drop()</code>, não é eliminado. Como padrão o método processa todas as entidades da seleção de entidades e retorna as entidades não elimináveis na entity selection. Se você deseja que o método pare a execução na primeira entidade não eliminável encontrada, passe a constante <code>dk stop dropping on first error</code> no parâmetro <em>mode</em>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-11>Exemplo<a href=#exemplo-11 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo sem a opção <code>dk stop dropping on first error</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees; $notDropped : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("firstName=:1";"S@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $notDropped:=$employees.drop() // $notDropped for uma entity selection que contém todas as entidades não suprimidas</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($notDropped.length=0) //A ação de eliminação for exitosa, todas as entidades foram eliminadas</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("You have dropped "+String($employees.length)+" employees") //A seleção de entidades eliminada permanece na memoria</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("Problem during drop, try later")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Exemplo com a opção <code>dk stop dropping on first error</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees; $notDropped : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("firstName=:1";"S@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $notDropped:=$employees.drop(dk stop dropping on first error) // $notDropped uma entity selection a primeira entidade não descartada</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($notDropped.length=0) //A ação de eliminação for exitosa, todas as entidades foram eliminadas</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("You have dropped "+String($employees.length)+" employees") //A seleção de entidades eliminada permanece na memoria</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("Problem during drop, try later")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=extract>.extract()<a href=#extract class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>18 R3<td>Adicionado</table>
</div></div></details>
<p><strong>.extract</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>attributePath</em> { ; <em>targetPath</em> } { ; <em>...attributePathN</em> : Text ; <em>targetPathN</em> : Text } ) : Collection</p>



































<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>attributePath<td>Text<td style=text-align:center>-><td>Rota de atributo cujos valores serão extraídos para nova coleção<tr><td>targetpath<td>Text<td style=text-align:center>-><td>Rota ou nome do atributo objetivo<tr><td>option<td>Integer<td style=text-align:center>-><td><code>ck keep null</code>: inclui atributos nulos na coleção retornada (ignorado por padrão)<tr><td>Resultados<td>Collection<td style=text-align:center>&lt;-<td>Coleção contendo valores extraídos</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-13>Descrição<a href=#descrição-13 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.extract()</code> retorna uma coleção contendo valores <em>attributePath</em> extraídos da seleção de entidades.</p>
<p><em>attributePath</em> pode se referir a:</p>
<ul>
<li>um atributo escalar de dataclass,</li>
<li>entidade relacionada,</li>
<li>entidades relacionadas.</li>
</ul>
<p>Se <em>attributePath</em> não for válido, se devolve uma coleção vazia.</p>
<p>Esta função aceita duas sintaxes.</p>
<p><strong>.extract( attributePath : Text { ; option : Integer } ) : Collection</strong></p>
<p>Com essa sintaxe, <code>.extract()</code> preenche a coleção retornada com os valores <em>attributePath</em> da seleção da entidade.</p>
<p>Como padrão, entidades para as quais <em>attributePath</em> for <em>null</em> ou undefined são ignoradas na coleção resultante. Você pode passar a constante <code>ck keep null</code> no parâmetro <em>option</em> para incluir esses valores como elementos <strong>nulos</strong> na coleção retornada.</p>
<ul>
<li>Os atributos de classe de dados com <a href=/docs/pt/API/DataClassClass#attributename>.kind</a> = "relatedEntity" são extraídos como uma coleção de entidades (as duplicações são mantidas).</li>
<li>Os atributos de classe de dados com <a href=/docs/pt/API/DataClassClass#attributename>.kind</a> = "relatedEntities" são extraídos como uma coleção de seleções de entidades.</li>
</ul>
<p><strong>.extract ( attributePath ; targetPath { ; ...attributePathN ; ... targetPathN}) : Collection</strong></p>
<p>Com essa sintaxe, <code>.extract()</code> preenche a coleção retornada com as propriedades <em>attributePath</em> da seleção da entidade. Cada elemento da coleção retornada é um objeto com propriedades <em>targetPath</em> preenchidas com as propriedades <em>attributePath</em> correspondentes. Os valores null são mantidos (o parâmetro <em>option</em> é ignorado com essa sintaxe).</p>
<p>Se vários <em>attributePath</em> forem fornecidos, um <em>targetPath</em> deverá ser fornecido para cada um deles. Somente pares válidos [<em>attributePath</em>, <em>targetPath</em>] são extraídos.</p>
<ul>
<li>Os atributos dataclass com <a href=/docs/pt/API/DataClassClass#attributename>.kind</a> = "relatedEntity" são extraídos como uma entidade.</li>
<li>Os atributos dataclass com <a href=/docs/pt/API/DataClassClass#attributename>.kind</a> = "relatedEntities" são extraídos como uma seleção de entidade.</li>
</ul>
<blockquote>
<p>As entidades de uma colecção de entidades acedidas por [ ] não são recarregadas da base de dados.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-12>Exemplo<a href=#exemplo-12 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Dada a seguinte tabela e relação:</p>
<p><img decoding=async loading=lazy src=/docs/pt/assets/images/entityselection-193aba9798fd8faddac31ad66bc75f26.PNG width=622 height=350 class=img_ev3q></p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $firstnames; $addresses; $mailing; $teachers : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$firstnames é uma coleção de Strings</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $firstnames:=ds. Teachers.all().extract("firstname")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$addresses é uma coleção de entities relacionadas ao dataclass Address</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Valores Null para o endereço são extraídos</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $addresses:=ds. Teachers.all().extract("address";ck keep null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$mailing é uma coleção de objetos com propriedades "who" e "to"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //conteúdo propriedade "who" é do tipo String</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //conteudo propriedade "to" é do tipo entity (Address dataclass)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $mailing:=ds. Teachers.all().extract("lastname";"who";"address";"to")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$mailing é uma coleção de objetos com propriedades "who" e "city"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //conteúdo propriedade "who" é tipo String</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //conteúdo propriedade "city" é tipo String</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $mailing:=ds. Teachers.all().extract("lastname";"who";"address.city";"city")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$teachers é uma coleção de objetos com propriedades "where" e "who"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //conteúdo propriedade "where" é String</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //conteúdo propriedade "who" é uma entity selection (Teachers dataclass)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $teachers:=ds. Address.all().extract("city";"where";"teachers";"who")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$teachers é uma coleção de entity selections</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $teachers:=ds. Address.all().extract("teachers")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=first>.first()<a href=#first class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.first</strong>() : 4D.Entity</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>4D. Entity<td style=text-align:center>&lt;-<td>Referência para a primeira entidade da seleção da entidade (Null se a seleção estiver vazia)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-14>Descrição<a href=#descrição-14 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.first()</code> retorna uma referência à entidade na primeira posição da seleção de entidades.</p>
<p>O resultado desta função é similar a:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $entity:=$entitySel[0]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Há, entretanto, uma diferença entre ambas as afirmações quando a seleção estiver vazia:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $entitySel : cs. EmpSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $entity : cs. EmpEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entitySel:=ds. Emp.query("lastName = :1";"Nonexistentname") //nenhuma entity correspondente</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //entity selection é esvaziada</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=$entitySel.first() //retorna Null</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=$entitySel[0]  //gera um erro</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-13>Exemplo<a href=#exemplo-13 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $entitySelection : cs.EmpSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $entity : cs.EmpEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entitySelection:=ds.Emp.query("salary > :1";100000)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($entitySelection.length#0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $entity:=$entitySelection.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getdataclass>.getDataClass()<a href=#getdataclass class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17 R5<td>Adicionado</table>
</div></div></details>
<p><strong>.getDataClass</strong>() : 4D.DataClass</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>4D. DataClass<td style=text-align:center>&lt;-<td>Objeto dataclass ao qual a seleção de entidade pertence</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-15>Descrição<a href=#descrição-15 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.getDataClass()</code> retorna a classe de dados da seleção da entidade.</p>
<p>Esta função é principalmente útil  no contexto do código genérico.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-14>Exemplo<a href=#exemplo-14 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>O seguinte código genérico duplica todas as entidades da entity selection:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  //duplicate_entities method</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //duplicate_entities($entity_selection)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> #DECLARE ( $entitySelection : 4D. EntitySelection )  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $dataClass : 4D. DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $entity; $duplicate : 4D. Entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $dataClass:=$entitySelection.getDataClass()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For each($entity;$entitySelection)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $duplicate:=$dataClass.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $duplicate.fromObject($entity.toObject())</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $duplicate[$dataClass.getInfo().primaryKey]:=Null //reset the primary key</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $status:=$duplicate.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for each</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getremotecontextattributes>.getRemoteContextAttributes()<a href=#getremotecontextattributes class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>19R5<td>Adicionado</table>
</div></div></details>
<p><strong>.getRemoteContextAttributes</strong>() : Text</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th><th>Descrição<tbody><tr><td>resultado<td>Text<td>&lt;-<td>Atributos de contexto conectados à seleção de entidade, separados por uma vírgula</table>
<blockquote>
<p><strong>Modo avançado:</strong> Essa função é destinada a desenvolvedores que precisam personalizar os recursos padrão do ORDA para configurações específicas. Na maioria dos casos, não necessitará de o utilizar.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-16>Descrição<a href=#descrição-16 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.getRemoteContextAttributes()</code> retorna informações sobre o contexto de otimização usado pela seleção de entidades.</p>
<p>Se não houver [contexto de otimização] (../ORDA/remoteDatastores.md#clientserver-optimization) para a seleção da entidade, a função retornará um texto vazio.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-15>Exemplo<a href=#exemplo-15 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D. DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $persons : cs. PersonsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $p : cs. PersonsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $info : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$persons:=$ds. Persons.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:="" For each ($p; $persons)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $text:=$p.firstname+" lives in "+$p.address.city+" / " End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$info:=$persons.getRemoteContextAttributes()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$info = "firstname,address,address.city"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=veja-também-2>Veja também<a href=#veja-também-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p><a href=/docs/pt/API/EntityClass#getRemoteContextAttributes>Entity.getRemoteContextAttributes()</a><br><a href=/docs/pt/API/DataStoreClass#clearallremotecontexts>.clearAllRemoteContexts()</a><br><a href=/docs/pt/API/DataStoreClass#getremotecontextinfo>.getRemoteContextInfo()</a><br><a href=/docs/pt/API/DataStoreClass#getallremotecontexts>.getAllRemoteContexts()</a><br><a href=/docs/pt/API/DataStoreClass#setremotecontextinfo>.setRemoteContextInfo()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=isalterable>.isAlterable()<a href=#isalterable class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>18 R5<td>Adicionado</table>
</div></div></details>
<p><strong>.isAlterable</strong>() : Boolean</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>Parâmetros<td style=text-align:center>&lt;-<td>True se a seleção de entidades for alterável, senão False</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-17>Descrição<a href=#descrição-17 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.isAlterable()</code> retorna True se a seleção da entidade for alterável e False se a seleção da entidade não for alterável.</p>
<p>Para obter mais informações, consulte [Seleções de entidades compartilháveis ou alteráveis] (ORDA/entities.md#shareable-or-alterable-entity-selections).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-16>Exemplo<a href=#exemplo-16 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Você está prestes a exibir <code>Form.products</code> em uma [caixa de listagem] (FormObjects/listbox_overview.md) para permitir que o usuário adicione novos produtos. Se quiser ter certeza que é alterável para que o usuário possa adicionar novos produtos sem erro:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">If (Not(Form.products.isAlterable()))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    Form.products:=Form.products.copy()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain">...</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Form.products.add(Form.product)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=isordered>.isOrdered()<a href=#isordered class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.isOrdered</strong>() : Boolean</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>Parâmetros<td style=text-align:center>&lt;-<td>True se a seleção de entidade for ordenada, senão False</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-18>Descrição<a href=#descrição-18 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.isOrdered()</code> retorna True se a seleção da entidade estiver ordenada e False se não estiver ordenada.</p>
<blockquote>
<p>Esta função devolve sempre True quando a selecção da entidade provém de um datastore remoto.</p>
</blockquote>
<p>Para mais informações, por favor consulte <a href=/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection>Seleções de entidades ordenadas ou não ordenadas</a>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-17>Exemplo<a href=#exemplo-17 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. mployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $isOrdered : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.newSeletion(dk mantém ordem)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds. Colaborador. et(714) // Obtém a entidade com chave primária 714</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //In uma entidade ordenada, podemos adicionar a mesma entidade várias vezes (duplicações são mantidas)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees. dd($employee)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees.add($employee)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees.add($employee)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $isOrdered:=$employees. sOrdered()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($isOrdered)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("A seleção da entidade é ordenada e contém "+String($employees. engalar)+" funcionários")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Final, se</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=last>.last()<a href=#last class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.last</strong>() : 4D.Entity</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>4D. Entity<td style=text-align:center>&lt;-<td>Referência à última entidade da seleção de entidades (Null se a seleção de entidades estiver vazia)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-19>Descrição<a href=#descrição-19 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.last()</code> retorna uma referência à entidade na última posição da seleção de entidades.</p>
<p>O resultado desta função é similar a:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $entity:=$entitySel[length-1]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Se a entity selection estiver vazia, a função devolve Null.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-18>Exemplo<a href=#exemplo-18 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $entitySelection : cs.EmpSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $entity : cs.EmpEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entitySelection:=ds.Emp.query("salary &lt; :1";50000)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($entitySelection.length#0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $entity:=$entitySelection.last()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=length>.length<a href=#length class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.length</strong> : Integer</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-20>Descrição<a href=#descrição-20 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A propriedade <code>.length</code> retorna o número de entidades na seleção de entidades. Se a entity selection estiver vazia, devolve 0.</p>
<p>As seleções de entidade sempre têm uma propriedade <code>.length</code>.</p>
<blockquote>
<p>Para saber o número total de entidades em uma classe de dados, recomenda-se usar a função <a href=/docs/pt/API/DataClassClass#getcount><code>getCount()</code></a>, que é mais otimizada do que a expressão <code>ds.myClass.all().length</code>.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-19>Exemplo<a href=#exemplo-19 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $vSize : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $vSize:=ds.Employee.query("gender = :1";"male").length</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT(String(vSize)+" male employees found.")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=max>.max()<a href=#max class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado<tr><td>18 R6<td>Retorna indefinido se uma seleção de entidade for vazia</table>
</div></div></details>
<p><strong>.max</strong>( <em>attributePath</em> : Text ) : any</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th><th>Descrição<tbody><tr><td>attributePath<td>Text<td>-><td>Rota do atributo que se utilizará para o cálculo<tr><td>Resultados<td>any<td>&lt;-<td>Maior valor do atributo</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-21>Descrição<a href=#descrição-21 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.max()</code> retorna o valor mais alto (ou máximo) entre todos os valores de <em>attributePath</em> na seleção da entidade. Na verdade, ele retorna o valor da última entidade da seleção de entidades, pois ela seria classificada em ordem crescente usando a função <a href=#orderby><code>.orderBy()</code></a>.</p>
<p>Se você passar em <em>attributePath</em> um caminho para uma propriedade de objeto que contenha diferentes tipos de valores, a função <code>.max()</code> retornará o valor máximo dentro do primeiro tipo escalar na ordem padrão da lista de tipos 4D (ver descrição de <a href=/docs/pt/API/CollectionClass#sort><code>sort()</code></a>).</p>
<p><code>.max()</code> retorna <strong>undefined</strong> se a seleção da entidade estiver vazia ou se <em>attributePath</em> não for encontrado no atributo do objeto.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-20>Exemplo<a href=#exemplo-20 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Se quisermos encontrar o maior salário entre as funcionárias mulheres:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $sel : cs.EmpSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $maxSalary : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel:=ds.Employee.query("gender = :1";"female")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $maxSalary:=$sel.max("salary")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=min>.min()<a href=#min class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado<tr><td>18 R6<td>Retorna indefinido se uma seleção de entidade for vazia</table>
</div></div></details>
<p><strong>.min</strong>( <em>attributePath</em> : Text ) : any</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>attributePath<td>Text<td style=text-align:center>-><td>Rota do atributo que se utilizará para o cálculo<tr><td>Resultados<td>any<td style=text-align:center>&lt;-<td>Menor valor do atributo</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-22>Descrição<a href=#descrição-22 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.min()</code>  retorna o valor mais baixo (ou mínimo) entre todos os valores de attributePath na seleção de entidades.  Na verdade, ele retorna a primeira entidade da seleção de entidades, pois ela seria classificada em ordem crescente usando a função <a href=#orderby><code>.orderBy()</code></a> (excluindo valores <strong>null</strong>).</p>
<p>Se você passar em <em>attributePath</em> um caminho para uma propriedade de objeto que contenha diferentes tipos de valores, a função <code>.min()</code> retornará o valor mínimo dentro do primeiro tipo de valor escalar na ordem da lista de tipos (consulte a descrição de <a href=/docs/pt/API/CollectionClass#sort><code>.sort()</code></a>).</p>
<p><code>.min()</code> retorna <strong>undefined</strong> se a seleção da entidade estiver vazia ou se <em>attributePath</em> não for encontrado no atributo do objeto.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-21>Exemplo<a href=#exemplo-21 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Neste exemplo, se quisermos encontrar o menor salário entre todos os funcionários mulheres:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $sel : cs.EmpSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $minSalary : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel:=ds.Employee.query("gender = :1";"female")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $minSalary:=$sel.min("salary")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=minus>.minus()<a href=#minus class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>18 R6<td>Suporte do parâmetro <em>keepOrder</em><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.minus</strong>( <em>entity</em> : 4D.Entity { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D.EntitySelection { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection</p>



































<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>entity<td>4D. Entity<td style=text-align:center>-><td>Entidade a substrair<tr><td>entitySelection<td>4D. EntitySelection<td style=text-align:center>-><td>seleção de entidade a subtrair<tr><td>keepOrder<td>Integer<td style=text-align:center>-><td><code>dk keep ordered</code> (inteiro) para manter a ordem inicial na seleção da entidade resultante<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Nova seleção de entidade ou uma nova referência na seleção de entidade existente</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-23>Descrição<a href=#descrição-23 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.minus()</code> exclui da seleção de entidades à qual é aplicada a <em>entidade</em> ou as entidades de <em>entitySelection</em> e retorna a seleção de entidades resultante.</p>
<ul>
<li>Se você passar <em>entity</em> como parâmetro, a função cria uma seleção de entidade sem <em>entity</em> (se <em>entity</em> pertencer à seleção de entidade). Se <em>entity</em> não foi incluída na seleção de entidade original, uma nova referência à seleção de entidade é retornada.</li>
<li>Se você passar <em>entitySeletion</em> como parâmetro, a função retorna uma seleção de uma entidade contendo as entidades pertencentes à seleção da entidade original sem as entidades pertencentes à <em>entitySelection</em>. Para mais informações, por favor consulte <a href=/docs/pt/ORDA/dsmapping#sele%C3%A7%C3%A3o-de-entidades-ordenadas-ou-n%C3%A3o-ordenadas>Seleções de entidades ordenadas vs não ordenadas</a>.</li>
</ul>
<p>Como padrão, se omitir o parâmetro <em>keepOrder</em>, a seleção de entidade resultado não é ordenada. Se quiser manter a ordem da seleção de entidade original (por exemplo se quiser reutilizar a seleção de entidade em uma interface de usuário), passe a constante <code>dk keep ordered</code> em <em>keepOrder</em>. Neste caso, o resultado é uma seleção de entidade ordenada e a ordem da seleção de entidade inicial é mantida</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p>Se você passar <code>dk keep ordered</code> em <em>keepOrder</em> e a <em>entitySelection</em> removida contiver entidades duplicadas na seleção de entidades original, todas as ocorrências das duplicatas serão removidas.</div></div>
<p>Se a seleção de entidade original ou a seleção de entidade original e o parâmetro <em>entitySelection</em> estiverem vazios, será retornada uma seleção de entidade vazia.</p>
<p>Se <em>entitySelection</em> estiver vazia ou se <em>entity</em> for Null, uma nova referência à seleção de entidade original é retornada.</p>
<p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-3>Exemplo 1<a href=#exemplo-1-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees; $result : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName = :1";"H@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // A seleção de entidade $employees contém a entidade com chave primária 710 e outras entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // por exemplo, "Colin Hetrick", "Grady Harness", "Sherlock Holmes" (chave primária 710)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds.Employee.get(710) // Retorna "Sherlock Holmes"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$employees.minus($employee) //$result contém "Colin Hetrick", "Grady Harness"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-3>Exemplo 2<a href=#exemplo-2-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Se quisermos ter uma seleção de empregados mulheres que se chamam "Jones" que vivem em Nova York:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $sel1; $sel2; $sel3 : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel1:=ds.Employee.query("name =:1";"Jones")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel2:=ds.Employee.query("city=:1";"New York")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sel3:=$sel1.and($sel2).minus(ds.Employee.query("gender='male'"))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3-2>Exemplo 3<a href=#exemplo-3-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Em uma interface de usuário se tivermos uma lista que exibe itens em uma ordem específica. Se o usuário selecionar itens na lista para remove-los, a ordem deve ser mantida quando refrescar a lista:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Employee.newSelection(dk keep ordered)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds.</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=or>.or()<a href=#or class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.or</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</p>





























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>entity<td>4D. Entity<td style=text-align:center>-><td>Entidade a intersectar<tr><td>entitySelection<td>4D. EntitySelection<td style=text-align:center>-><td>Entity selection a intersectar<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Nova seleção de entidade ou nova referência à seleção de entidade original</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-24>Descrição<a href=#descrição-24 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.or()</code> combina a seleção de entidades com o parâmetro <em>entity</em> ou <em>entitySelection</em> usando o operador lógico OR (não exclusivo); ela retorna uma nova seleção de entidades não ordenada que contém todas as entidades da seleção de entidades e do parâmetro.</p>
<ul>
<li>Se você passar <em>entity</em> como parâmetro, você compara essa entidade com a seleção de entidade. Se a entidade pertencer à selecção de entidades, é devolvida uma nova referência à selecção de entidades. Senão, uma nova seleção de entidade contém a seleção de entidade original e a entidade é retornada.</li>
<li>Se você passar <em>entitySeletion</em> como parâmetro, compare as entity selections. Uma nova seleção de entidades contendo as entidades pertencentes à seleção de entidade original ou <em>entitySelection</em> é retornada (ou não é exclusiva, as entidades referenciadas em ambas as seleções não são duplicadas na seleção resultante).</li>
</ul>
<blockquote>
<p>Para mais informações, por favor consulte <a href=/docs/pt/ORDA/dsmapping#sele%C3%A7%C3%A3o-de-entidades-ordenadas-ou-n%C3%A3o-ordenadas>Seleções de entidades ordenadas vs não ordenadas</a>. A seleção resultante é sempre desordenada.</p>
</blockquote>
<p>Se a seleção de entidade original e o parâmetro <em>entitySelection</em> estiverem vazios, uma seleção de entidade vazia é retornada. Se a seleção de entidade original estiver vazia, será retornada uma referência a <em>entitySelection</em> ou uma seleção de entidade contendo apenas <em>entity</em>.</p>
<p>Se <em>entitySelection</em> estiver vazia ou se <em>entity</em> for Null, uma nova referência à seleção de entidade original é retornada.</p>
<p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-4>Exemplo 1<a href=#exemplo-1-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees1; $employees2; $result : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees1:=ds.Employee.query("lastName = :1"; "H@") //Retorna "Colin Hetrick", "Grady Harness"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees2:=ds.Employee.query("firstName = :1"; "C@") //Retorna "Colin Hetrick", "Cath Kidston"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$employees1.or($employees2) //$result contém "Colin Hetrick", "Grady Harness", "Cath Kidston"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-4>Exemplo 2<a href=#exemplo-2-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees; $result : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName = :1"; "H@") // Retorna "Colin Hetrick", "Grady Harness", "Sherlock Holmes"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds.Employee.get(686) //a entidade com chave primária 686 não pertence à seleção de entidades $employees</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //ela corresponde ao funcionário "Mary Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$employees.or($employee) //$result contém "Colin Hetrick", "Grady Harness", "Sherlock Holmes", "Mary Smith"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=orderby>.orderBy()<a href=#orderby class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.orderBy</strong>( <em>pathString</em> : Text ) : 4D.EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : 4D.EntitySelection</p>





























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>pathString<td>Text<td style=text-align:center>-><td>Rota(s) de atributos e instruções de classificação para a entity selection<tr><td>pathObjects<td>Collection<td style=text-align:center>-><td>Coleção de objetos criterio<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Nova entity selection na ordem especificada</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-25>Descrição<a href=#descrição-25 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.orderBy()</code> retorna uma nova seleção de entidade ordenada contendo todas as entidades da seleção de entidade na ordem especificada pelos critérios <em>pathString</em> ou <em>pathObjects</em>.</p>
<blockquote>
<ul>
<li>Este método não modifica a seleção de entidade original</li>
<li>Para obter mais informações sobre seleções de entidades ordenadas, consulte a seção <a href=/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection>Ordered or unordered entity selection</a>.</li>
</ul>
</blockquote>
<p>Deve usar um parâmetro critério para definir como as entidades são ordenadas. Dois parâmetros diferentes são compatíveis:</p>
<ul>
<li><em>pathString</em> (Texto): esse parâmetro contém uma fórmula composta de 1 a x caminhos de atributos e (opcionalmente) ordens de classificação, separados por vírgulas. A sintaxe é:</li>
</ul>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">"attributePath1 {desc or asc}, attributePath2 {desc or asc},..."</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>A ordem na qual os atributos forem passados determina a prioridade de ordenação das entidades. Como padrão, atributos são ordenados em ordem ascendente. Pode definir a ordem de clasificação de uma propriedade na string de critérios, separado da rota da propriedade por um só espaço: passe "asc" para ordenar em ordem ascendente ou "desc" em ordem descendente.</p>
<ul>
<li><em>pathObjects</em> (coleção): cada elemento da coleção contém um objeto estruturado da seguinte maneira:</li>
</ul>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "propertyPath": string,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "descending": boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Como padrão, atributos são ordenados em ordem ascendente ("descendente" é false)</p>
<p>Pode adicionar quantos objetos quiser nos critérios da coleção.</p>
<blockquote>
<p>Valores null são avaliados como menor que outros valores.</p>
</blockquote>
<p>Se você passar um caminho de atributo inválido em <em>pathString</em> ou <em>pathObject</em>, a função retornará uma seleção de entidade vazia.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-22>Exemplo<a href=#exemplo-22 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// ordenar por fórmula</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy("firstName asc, salary desc")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy("firstName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // ordenar por colecção com ou sem ordenação</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $orderColl:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $orderColl.push(New object("propertyPath";"firstName";"descending";False))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $orderColl.push(New object("propertyPath";"salary";"descending";True))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy($orderColl)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $orderColl:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $orderColl.push(New object("propertyPath";"manager.lastName"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $orderColl.push(New object("propertyPath";"salary"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy($orderColl)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=orderbyformula>.orderByFormula()<a href=#orderbyformula class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17 R6<td>Adicionado</table>
</div></div></details>
<p><strong>.orderByFormula</strong>( <em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection</p>









































<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>formulaString<td>Text<td style=text-align:center>-><td>Formula string<tr><td>formulaObj<td>Object<td style=text-align:center>-><td>Objecto fórmula<tr><td>sortOrder<td>Integer<td style=text-align:center>-><td><code>dk ascending</code> (padrão) ou <code>dk descending</code><tr><td>settings<td>Object<td style=text-align:center>-><td>Parâmetros da fórmula<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Nova seleção de entidade ordenada</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-26>Descrição<a href=#descrição-26 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.orderByFormula()</code> retorna uma nova seleção de entidades ordenada contendo todas as entidades da seleção de entidades na ordem definida por meio dos parâmetros <em>formulaString</em> ou <em>formulaObj</em> e, opcionalmente, <em>sortOrder</em> e <em>settings</em>.</p>
<blockquote>
<p>Esta função não modifica a seleção de entidades original.</p>
</blockquote>
<p>Você pode usar um parâmetro <em>formulaString</em> ou <em>formulaObj</em>:</p>
<ul>
<li>*formulaString: passa uma expressão 4D como "Year of(this.birthDate)".</li>
<li><em>formulaObj</em>: passe um objeto de fórmula válido criado usando o comando <code>Formula</code> o <code>Formula from string</code>.</li>
</ul>
<p>O <em>formulaString</em> ou <em>formulaObj</em> é executado para cada entidade da seleção de entidade e seu resultado é usado para definir a posição da entidade na seleção de entidade retornada. O resultado deve ser um tipo ordenavel (booleano, data, número, texto, hora, null).</p>
<blockquote>
<p>Um resultado nullé sempre o menor valor.</p>
</blockquote>
<p>Como padrão, se omitir o parâmetro <em>sortOrder</em>, a seleção de entidade resultado é ordenada de forma ascendente. Opcionalmente, você pode passar um dos seguintes valores no parâmetro <em>sortOrder</em>:</p>




















<table><thead><tr><th>Parâmetros<th>Valor<th>Comentário<tbody><tr><td>dk ascending<td>0<td>Ordem ascendente (padrão)<tr><td>dk descending<td>1<td>Ordem descendente</table>
<p>Dentro da <em>formulaString</em> ou <em>formulaObj</em>, a entidade processada e, portanto, seus atributos estão disponíveis por meio do comando <code>This</code> (por exemplo, <code>This.lastName</code>).</p>
<p>Você pode passar parâmetro(s) para a fórmula usando a propriedade <code>args</code> (objeto) do parâmetro <code>configurações</code>: a fórmula recebe o objeto <code>settings.args</code> em $1.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-5>Exemplo 1<a href=#exemplo-1-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Ordenar estudantes usando uma fórmula fornecida como texto:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es1; $es2 : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es1:=ds.Students.query("nationality=:1"; "French")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es2:=$es1.orderByFormula("length(this.lastname)") //ascendente por padrão</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es2:=$es1.orderByFormula("length(this.lastname)";dk descendente)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Mesma ordem mas usando objeto fórmula:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es1; $es2 : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $formula : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es1:=ds.Students.query("nationality=:1"; "French")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula:=Formula(Length(This.lastname))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es2:=$es1.orderByFormula($formula) // ascendente por padrão</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es2:=$es1.orderByFormula($formula;dk descendente)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-5>Exemplo 2<a href=#exemplo-2-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Uma fórmula é dada como um objeto de fórmula com parâmetros; o objeto <code>settings.args</code> é recebido como $1 no método <em><strong>computeAverage</strong></em>.</p>
<p>Neste exemplo, o campo de objeto "marks" na classe de dados <strong>Students</strong> contém as notas dos estudantes para cada matéria. Um objeto fórmula é usado para computar a média das notas dos estudantes com coeficientes diferentes para schoolA e schoolB</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es1; $es2 : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $formula; $schoolA; $schoolB : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es1:=ds.Students.query("nationality=:1"; "French")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula:=Formula(computeAverage($1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $schoolA:=New object() // objeto de configurações</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $schoolA.args:=New object("english";1; "math";1; "history";1) // Coeficientes para calcular uma média</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Ordenar os alunos de acordo com os critérios da escola A</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es2:=$es1.entitySelection.orderByFormula($formula;$schoolA)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $schoolB:=New object() //objeto settings </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $schoolB.args:=New object("english";1; "math";2; "history";3) // Coeficientes para calcular uma média</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Ordenar os alunos de acordo com os critérios da escola B</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es2:=$es1.entitySelection.orderByFormula($formula;dk descending;$schoolB)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // método computeAverage</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // -----------------------------</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> #DECLARE ($coefList : Object)  -> $result : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $subject : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $average; $sum : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $average:=0</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sum:=0</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For each($subject;$coefList)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $sum:=$sum+$coefList[$subject]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For each($subject;This.marks)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $average:=$average+(This.marks[$subject]*$coefList[$subject])</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$average/$sum</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=query>.query()<a href=#query class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>





















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17 R6<td>Soporte dos Parâmetros Formula<tr><td>17 R5<td>Suporte dos marcadores para os valores<tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection</p>









































<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>queryString<td>Text<td style=text-align:center>-><td>Criterios de pesquisa como string<tr><td>formula<td>Object<td style=text-align:center>-><td>Criterios de pesquisa como objeto fórmula<tr><td>value<td>any<td style=text-align:center>-><td>Valores a usar para placeholders indexados<tr><td>querySettings<td>Object<td style=text-align:center>-><td>Opções de pesquisa: parâmetros, atributos, args, allowFormulas, contexto, queryPath,queryPlan<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Nova seleção de entidade composta de entidades da seleção de entidades que atendem aos critérios de pesquisa especificados em <em>queryString</em> ou <em>formula</em></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-27>Descrição<a href=#descrição-27 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.query()</code> busca entidades que atendam aos critérios de pesquisa especificados em <em>queryString</em> ou <em>formula</em> e (opcionalmente) <em>value</em>(s) entre todas as entidades na seleção de entidades, e retorna um novo objeto do tipo <code>EntitySelection</code> contendo todas as entidades encontradas. Se aplica carregamento diferido/lazy loading.</p>
<blockquote>
<p>Esta função não modifica a seleção de entidades original.</p>
</blockquote>
<p>Se nenhuma entidade correspondente for encontrada, uma <code>EntitySelection</code> vazia é retornada.</p>
<p>Para obter informações detalhadas sobre como criar uma consulta usando os parâmetros <em>queryString</em>, <em>value</em> e <em>querySettings</em>, consulte a descrição da função DataClass <a href=/docs/pt/API/DataClassClass#query><code>.query()</code></a>.</p>
<blockquote>
<p>Por padrão, se você omitir a instrução <strong>order by</strong> na <em>queryString</em>, a seleção da entidade retornada <a href=/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection>não está ordenada</a>. Note entretanto que em modo Cliente Servidor funciona como uma seleção de entidade ordenada (entidades são adicionadas no final da seleção)</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-6>Exemplo 1<a href=#exemplo-1-6 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $entitySelectionTemp : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entitySelectionTemp:=ds.Employee.query("lastName = :1";"M@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Form.emps:=$entitySelectionTemp.query("manager.lastName = :1";"S@")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-6>Exemplo 2<a href=#exemplo-2-6 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Mais exemplos de consultas podem ser encontrados na página DataClass <a href=/docs/pt/API/DataClassClass#query><code>.query()</code></a>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=veja-também-3>Veja também<a href=#veja-também-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p><a href=/docs/pt/API/DataClassClass#query><code>.query()</code></a> para dataclass</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=querypath>.queryPath<a href=#querypath class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.queryPath</strong> : Text</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-28>Descrição<a href=#descrição-28 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A propriedade <code>.queryPath</code> contém uma descrição detalhada da consulta conforme ela foi realmente executada pelo 4D. Esta propriedade é disponível para objetos <code>EntitySelection</code> gerados através de pesquisas se a propriedade "queryPlan":true for passada no parâmetro <em>querySettings</em> da função <a href=#query><code>.query()</code></a>.</p>
<p>Para mais informações, consulte o parágrafo do <strong>parâmetro querySettings</strong> na página da função Dataclass<a href=/docs/pt/API/DataClassClass#query><code>.query()</code></a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=queryplan>.queryPlan<a href=#queryplan class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.queryPlan</strong> : Text</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-29>Descrição<a href=#descrição-29 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A propriedade <code>.queryPlan</code>  contém uma descrição detalhada da consulta imediatamente antes de ser executada (ou seja, a consulta planejada). Esta propriedade está disponível para objectos EntitySelection gerados através de consultas se a propriedade "queryPath":true tiver sido passada no parâmetro <em>querySettings</em> da função <a href=#query><code>.query()</code></a>.</p>
<p>Para mais informações, consulte o parágrafo do <strong>parâmetro querySettings</strong> na página da função Dataclass<a href=/docs/pt/API/DataClassClass.html#query><code>.query()</code></a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=refresh>.refresh()<a href=#refresh class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>18 R3<td>Adicionado</table>
</div></div></details>
<p><strong>.refresh</strong>()</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td><td><td style=text-align:center><td>Não exige nenhum parâmetro</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-30>Descrição<a href=#descrição-30 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<blockquote>
<p>Essa função só funciona com um datastore remoto (conexão cliente/servidor ou <code>Open datastore</code>).</p>
</blockquote>
<p>A função <code>.refresh()</code> invalida imediatamente os dados de seleção de entidade no <a href=/docs/pt/ORDA/client-server-optimization#orda-cache>cache ORDA local</a>, para que da próxima vez que o 4D precisar da seleção de entidade, ela seja recarregada do banco de dados.</p>
<p>Como padrão, a cache ORDA local é invaidade depois de 30 segundos. No contexto de aplicações cliente/servidor usando ORDA e a linguagem clássica, este método permite assegurar que a aplicação remota vai sempre funcionar com os últimos dados.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-7>Exemplo 1<a href=#exemplo-1-7 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Neste exemplo, clássico e ORDA modifica os mesmos dados simultaneamente.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> //On a 4D remote</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $selection : cs. StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $student : cs. StudentsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $selection:=ds. Students.query("lastname=:1";"Collins")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //A primeira entidade é carregada na cache ORDA</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $student:=$selection.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Atualizar com clássico 4D, ORDA cache não está se</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> QUERY([Students];[Students]lastname="Collins")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> [Students]lastname:="Colin"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> SAVE RECORD([Students])</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //para obter a última versão a cache ORDA deve ser invalidada</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $selection.refresh()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // Mesmo se cache não for expirada, a primeira entidade é carregada do disco</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $student:=$selection.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$student.lastname contains "Colin"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-7>Exemplo 2<a href=#exemplo-2-7 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Uma list box exibe a seleção de entidade Form.students e vários clientes trabalham nele.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// Método de formulário:</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :(Form event code=On Load)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       Form.students:=ds. Students.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // Em client #1, o usuário carrega atualiza e salva a primeira entidade</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // Em client #2, o usuário carrega atualiza e salva a mesma entidade</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // Em client #1:</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Form.students.refresh() // Invalida a cache ORDA para a seleção de entidade Form.students</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // O conteúdo list box é atualizado na database com atuaização feita pelo  client #2</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=veja-também-4>Veja também<a href=#veja-também-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p><a href=#clean><code>.clean()</code></a><br>
<a href=/docs/pt/API/DataClassClass#clearremotecache>dataClass.clearRemoteCache()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=selected>.selected()<a href=#selected class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>19 R3<td>Adicionado</table>
</div></div></details>
<p><strong>.selected</strong>( <em>selectedEntities</em> : 4D.EntitySelection ) : Object</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Parâmetros<td>4D. EntitySelection<td style=text-align:center>-><td>Seleção de entidade com entidades para qual saber o ranking da seleção de entidade<tr><td>Resultados<td>Object<td style=text-align:center>&lt;-<td>Intervalos da seleção de entidade da seleção de entidade</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-31>Descrição<a href=#descrição-31 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.selected()</code> retorna um objeto que descreve a(s) posição(ões) de <em>selectedEntities</em> na seleção da entidade original.</p>
<blockquote>
<p>Esta função não modifica a seleção de entidades original.</p>
</blockquote>
<p>Passe o parâmetro <em>selectedEntities</em> uma seleção de entidade contendo entidades para qual quiser saber a posição na seleção de entidade original. <em>selectedEntities</em> deve ser uma seleção de entidade pertencente ao mesmo dataclass que a entidade original, caso contrário um erro 1587 - "A seleção da entidade vem de uma base de dados incompatível" é gerada.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados>Resultados<a href=#resultados class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>O objeto retornado contém as propriedades abaixo:</p>

























<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>ranges<td>Collection<td>Coleção de objetos intervalos<tr><td>ranges[].start<td>Integer<td>Primeiro indice de entidade do intervalo<tr><td>ranges[].end<td>Integer<td>Último indice de entidade no intervalo.</table>
<p>Se uma propriedade <code>ranges</code> contém uma única entidade, <code>start</code> = <code>end</code>. Indice começa em 0</p>
<p>A função retorna uma coleção vazia na propriedade <code>ranges</code> se a seleção de entidade original ou a seleção de entidade <em>selectedEntities</em> estiver vazia.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-23>Exemplo<a href=#exemplo-23 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $invoices; $cashSel; $creditSel : cs.Invoices</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $result1; $result2 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$invoices:=ds.Invoices.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$cashSelection:=ds.Invoices.query("payment = :1"; "Cash")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$creditSel:=ds.Invoices.query("payment IN :1"; New collection("Cash"; "Credit Card"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$result1:=$invoices.selected($cashSelection)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$result2:=$invoices.selected($creditSel)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$result1 = {ranges:[{start:0;end:0},{start:3;end:3},{start:6;end:6}]}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$result2 = {ranges:[{start:0;end:1},{start:3;end:4},{start:6;end:7}]}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=slice>.slice()<a href=#slice class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : 4D.EntitySelection</p>





























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>startFrom<td>Integer<td style=text-align:center>-><td>Indice para iniciar a operação em (incluido)<tr><td>end<td>Integer<td style=text-align:center>-><td>Final do índice (não incluído)<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Nova seleção de entidade contendo entidades fatiadas (cópia superficial)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-32>Descrição<a href=#descrição-32 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.slice()</code> retorna uma parte de uma seleção de entidades em uma nova seleção de entidades, selecionada a partir do índice <em>startFrom</em> até o índice <em>end</em> (<em>end</em> não está incluído) ou até a última entidade da seleção de entidades. Este método devolve uma cópia superficial da selecção de entidades (utiliza as mesmas referências de entidades).</p>
<blockquote>
<p>Esta função não modifica a seleção de entidades original.</p>
</blockquote>
<p>A seleção de entidade retornada contém as entidades especificadas por <em>startFrom</em> e todas as entidades subsequentes até, mas não incluindo, a entidade especificada por <em>end</em>. Se apenas o parâmetro <em>startFrom</em> for especificado, a seleção de entidades retornada contém todas as entidades desde <em>startFrom</em> até a última entidade da seleção de entidades original.</p>
<ul>
<li>Se <em>startFrom</em> &lt; 0, ele será recalculado como <em>startFrom:=startFrom+length</em> (ele é considerado como o deslocamento do final da seleção da entidade). If the calculated value &lt; 0, <em>startFrom</em> is set to 0.</li>
<li>Se <em>startFrom >= length</em>, a função retorna uma seleção vazia de entidade.</li>
<li>Se <em>end</em> &lt; 0, ele será recalculado como <em>end:=end+length</em>.</li>
<li>If <em>end &lt; startFrom</em> (passed or calculated values), the method does nothing.</li>
</ul>
<p>Se a seleção de entidade contém entidades que foram abandonadas, também serão retornadas.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-8>Exemplo 1<a href=#exemplo-1-8 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Se quiser obter uma seleção das primeiras 9 entidades da seleção de entidade:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $sel; $sliced : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sel:=ds.Employee.query("salary > :1";50000)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sliced:=$sel.slice(0;9) //</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-8>Exemplo 2<a href=#exemplo-2-8 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Assuming we have ds. Employee.all().length = 10</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $slice : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$slice:=ds.Employee.all().slice(-1;-2) //tenta retornar entidades do índice 9 a 8, mas como 9 > 8, retorna uma seleção de entidade vazia</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=sum>.sum()<a href=#sum class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.sum</strong>( <em>attributePath</em> : Text ) : Real</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>attributePath<td>Text<td style=text-align:center>-><td>Rota do atributo que se utilizará para o cálculo<tr><td>Resultados<td>Real<td style=text-align:center>&lt;-<td>Soma dos valores da seleção de entidade</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-33>Descrição<a href=#descrição-33 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.sum()</code> retorna a soma de todos os valores <em>attributePath</em> na seleção de entidades.</p>
<p><code>.sum()</code> devolve 0 se a entity selection estiver vazia.</p>
<p>A soma só pode ser feita em valores do tipo de número. Se o <em>attributePath</em> for uma propriedade do objeto, apenas valores numéricos são considerados para o cálculo (outros tipos de valores são ignorados). Neste caso, se <em>attributePath</em> levar a uma propriedade que não existe no objeto ou não contém nenhum valor numérico, <code>.sum()</code> retorna 0.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> não é um atributo numérico ou de objeto,</li>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-24>Exemplo<a href=#exemplo-24 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $sel : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $sum : Real</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sel:=ds.Employee.query("salary &lt; :1";20000)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$sum:=$sel.sum("salary")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=tocollection>.toCollection()<a href=#tocollection class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.toCollection</strong>( { <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer } } ) : Collection<br><strong>.toCollection</strong>( <em>filterString</em> : Text {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : Collection<br><strong>.toCollection</strong>( <em>filterCol</em> : Collection {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : Collection</p>















































<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>filterString<td>Text<td style=text-align:center>-><td>String com caminho(s) de atributo(s) de entidade a extrair<tr><td>filterCol<td>Collection<td style=text-align:center>-><td>Coleção de caminho(s) de atributo(s) de entidade a extrair<tr><td>options<td>Integer<td style=text-align:center>-><td><code>dk with primary key</code>: adiciona a chave primária<br><code>dk with stamp</code>: adiciona o marcador<tr><td>begin<td>Integer<td style=text-align:center>-><td>Designa o índice inicial<tr><td>howMany<td>Integer<td style=text-align:center>-><td>Número de entidades a extrair<tr><td>Resultados<td>Collection<td style=text-align:center>&lt;-<td>Colecção de objectos contendo atributos e valores de selecção de entidades</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-34>Descrição<a href=#descrição-34 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.toCollection()</code> cria e retorna uma coleção em que cada elemento é um objeto que contém um conjunto de propriedades e valores correspondentes aos nomes e valores dos atributos da seleção da entidade.</p>
<p>Se nenhum parâmetro de filtro for passado ou se o primeiro parâmetro contiver uma cadeia vazia ou "*", todos os atributos são extraídos. Atributos com propriedade <a href=/docs/pt/API/DataClassClass#attributename>kind</a> como "relatedEntity" são extraídos com a forma simples: um objeto com a propriedade __KEY (chave primária). Atributos com propriedade tipo como "Entidades relacionadas" não são extraídos.</p>
<p>Ou, pode designar os atributos da entidade a extrair utilizando um parâmetro de filtro. Pode usar um destes dois filtros:</p>
<ul>
<li>*filterString - uma string com caminhos de propriedade separados por vírgulas: "propertyPath1, propertyPath2, ...".</li>
<li>filterCol - uma coleção de strings contendo caminhos de propriedade: ["propertyPath1", "propertyPath2",...]</li>
</ul>
<p>Se um filtro for especificado para um atributo do tipo <code>relatedEntity</code>:</p>
<ul>
<li>propertyPath = "relatedEntity" -> é extraído de forma simples</li>
<li>propertyPath = "relatedEntity.*" -> todas as propriedades são extraídas</li>
<li>propertyPath = "relatedEntity.propertyName1, relatedEntity.propertyName2, ..." -> só se extraem essas propriedades</li>
</ul>
<p>Se um filtro for especificado para um atributo do tipo <code>relatedEntities</code>:</p>
<ul>
<li>propertyPath = "relatedEntities.*" -> all the properties are extracted</li>
<li>propertyPath = "relatedEntities.propertyName1, relatedEntities.propertyName2, ..." -> só se extraem essas propriedades</li>
</ul>
<p>No parâmetro <em>options</em>, você pode passar o(s) seletor(es) <code>dk with primary key</code> e/ou <code>dk with stamp</code> para adicionar as chaves primárias e/ou os selos da entidade nos objetos extraídos.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>Aviso</div><div class=admonitionContent_BuS1><p>Se utilizar outro atributo que não a chave primária como o atributo Um numa relação, o valor deste atributo será escrito na propriedade "__KEY". Lembre-se de que é recomendável usar a chave primária como um atributo em suas relações, especialmente quando você usar as funções <code>.toCollection()</code> e <code>.fromCollection()</code>.</div></div>
<p>O parâmetro <em>begin</em> permite que você indique o índice inicial das entidades a extrair. Pode passar qualquer valor entre 0 e o comprimento-1 da selecção da entidade.</p>
<p>O parâmetro <em>howMany</em> permite especificar o número de entidades a extrair, começando com o especificado em <em>begin</em>. As entidades abandonadas não são devolvidas, mas são tidas em conta de acordo com <em>howMany</em>. Por exemplo, se <em>howMany</em>= 3 e houver 1 entidade abandonada, apenas 2 entidades são extraídas.</p>
<p>Se <em>howMany</em> > comprimento da seleção da entidade, o método retorna (comprimento - <em>begin</em>) objetos.</p>
<p>Uma colecção vazia é devolvida se:</p>
<ul>
<li>a selecção da entidade está vazia, ou</li>
<li><em>begin</em> é maior do que a duração da selecção da entidade.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-9>Exemplo 1<a href=#exemplo-1-9 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A estrutura abaixo será usada nos exemplos desta seção:</p>
<p><img decoding=async loading=lazy src=/docs/pt/assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png width=1000 height=610 class=img_ev3q></p>
<p>Exemplo sem filtro ou parâmetro de opções:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employeesCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employeesCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employeesCollection:=$employees.toCollection()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "ID": 416,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Gregg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Wahl",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "salary": 79100,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "birthDate": "1963-02-01T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "managerID": 412,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": 412</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "ID": 417,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Irma",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Durham",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "salary": 47000,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "birthDate": "1992-06-16T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "woman": true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "managerID": 412,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": 412</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-9>Exemplo 2<a href=#exemplo-2-9 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo com opções:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $employeesCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employees:=ds. Employee.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=$employees.toCollection("";dk with primary key+dk with stamp)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 416,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__STAMP": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "ID": 416,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Gregg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Wahl",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "salary": 79100,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "birthDate": "1963-02-01T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "managerID": 412,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": 412</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 417,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__STAMP": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "ID": 417,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Irma",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Durham",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "salary": 47000,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "birthDate": "1992-06-16T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "woman": true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "managerID": 412,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": 412</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3-3>Exemplo 3<a href=#exemplo-3-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo com fatiagem e filtragem nas propriedades:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $employeesCollection; $filter : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$filter:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$filter.push("firstName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$filter.push("lastName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employees:=ds. Employee.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=$employees.toCollection($filter;0;0;2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Gregg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Wahl"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Irma",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Durham"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-25>Exemplo<a href=#exemplo-25 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo com o tipo 'relatedEntity' com uma forma simples:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $employeesCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=$employees.toCollection("firstName,lastName,employer")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Gregg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Wahl",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Irma",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Durham",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Lorena",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Boothe",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   ]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-10>Exemplo 2<a href=#exemplo-2-10 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo com o parâmetro <em>filterCol</em>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $employeesCollection; $coll : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$coll:=New collection("firstName";"lastName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=$employees.toCollection($coll)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Joanna",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Cabrera"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Alexandra",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Coleman"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-6-1>Exemplo 6<a href=#exemplo-6-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo com extracção de todas as propriedades de relatedEntity:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $employeesCollection; $coll : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$coll:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$coll.push("firstName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$coll.push("lastName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$coll.push("employer.*")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=$employees.toCollection($coll)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Gregg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Wahl",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "ID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "name": "Irma",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Durham",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "ID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "name": "Lorena",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Boothe",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "ID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "name": "India Astral Secretary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "creationDate": "1984-08-25T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "revenues": 12000000,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "extra": null</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  ]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3-4>Exemplo 3<a href=#exemplo-3-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo com extracção de algumas propriedades de uma relatedEntity:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $employeesCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=$employees.toCollection("firstName, lastName, employer.name")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Gregg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Wahl",</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "name": "Irma",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Durham",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "name": "Lorena",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Boothe",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "name": "India Astral Secretary"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-8-1>Exemplo 8<a href=#exemplo-8-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo com extracção de algumas propriedades de <code>relatedEntities</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employeesCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employeesCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employeesCollection:=$employees.toCollection("firstName, lastName, directReports.firstName")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Gregg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Wahl",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "directReports": []</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Mike",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Phan",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "directReports": [</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "firstName": "Gary"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "firstName": "Sadie"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "firstName": "Christie"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        ]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Gary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Reichert",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "directReports": [</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "firstName": "Rex"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "firstName": "Jenny"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "firstName": "Lowell"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        ]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-9-1>Exemplo 9<a href=#exemplo-9-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo com extração de todas as propriedades de <code>relatedEntities</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $employeesCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$employeesCollection:=$employees.toCollection("firstName, lastName, directReports.*")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Gregg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Wahl",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "directReports": []</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },    </span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Mike",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Phan",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "directReports": [</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "ID": 425,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "firstName": "Gary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "lastName": "Reichert",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "salary": 65800,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "birthDate": "1957-12-23T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "managerID": 424,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "employerID": 21,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    "__KEY": 21</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    "__KEY": 424</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "ID": 426,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "firstName": "Sadie",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "lastName": "Gallant",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "salary": 35200,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "birthDate": "2022-01-03T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "woman": true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "managerID": 424,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "employerID": 21,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    "__KEY": 21</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    "__KEY": 424</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                   ]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "firstName": "Gary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "lastName": "Reichert",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "directReports": [</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "ID": 428,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "firstName": "Rex",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "lastName": "Chance",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "salary": 71600,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "birthDate": "1968-08-09T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "managerID": 425,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "employerID": 21,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    "__KEY": 21</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    "__KEY": 425</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "ID": 429,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "firstName": "Jenny",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "lastName":</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntitySelectionClass.md%20(20-R7)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Comentar esta página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegação nas páginas dos documentos"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/pt/API/EntityClass><div class=pagination-nav__sublabel>Anterior</div><div class=pagination-nav__label>Entity</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/pt/API/FileClass><div class=pagination-nav__sublabel>Próximo</div><div class=pagination-nav__label>File</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#resumo class="table-of-contents__link toc-highlight">Resumo</a><li><a href=#91index93 class="table-of-contents__link toc-highlight">&amp;#91<em>index</em>&amp;#93</a><li><a href=#attributename class="table-of-contents__link toc-highlight">.<em>attributeName</em></a><li><a href=#add class="table-of-contents__link toc-highlight">.add()</a><li><a href=#and class="table-of-contents__link toc-highlight">.and()</a><li><a href=#at class="table-of-contents__link toc-highlight">.at()</a><li><a href=#average class="table-of-contents__link toc-highlight">.average()</a><li><a href=#clean class="table-of-contents__link toc-highlight">.clean()</a><li><a href=#contains class="table-of-contents__link toc-highlight">.contains()</a><li><a href=#count class="table-of-contents__link toc-highlight">.count()</a><li><a href=#copy class="table-of-contents__link toc-highlight">.copy()</a><li><a href=#distinct class="table-of-contents__link toc-highlight">.distinct()</a><li><a href=#distinctpaths class="table-of-contents__link toc-highlight">.distinctPaths()</a><li><a href=#drop class="table-of-contents__link toc-highlight">.drop()</a><li><a href=#extract class="table-of-contents__link toc-highlight">.extract()</a><li><a href=#first class="table-of-contents__link toc-highlight">.first()</a><li><a href=#getdataclass class="table-of-contents__link toc-highlight">.getDataClass()</a><li><a href=#getremotecontextattributes class="table-of-contents__link toc-highlight">.getRemoteContextAttributes()</a><li><a href=#isalterable class="table-of-contents__link toc-highlight">.isAlterable()</a><li><a href=#isordered class="table-of-contents__link toc-highlight">.isOrdered()</a><li><a href=#last class="table-of-contents__link toc-highlight">.last()</a><li><a href=#length class="table-of-contents__link toc-highlight">.length</a><li><a href=#max class="table-of-contents__link toc-highlight">.max()</a><li><a href=#min class="table-of-contents__link toc-highlight">.min()</a><li><a href=#minus class="table-of-contents__link toc-highlight">.minus()</a><li><a href=#or class="table-of-contents__link toc-highlight">.or()</a><li><a href=#orderby class="table-of-contents__link toc-highlight">.orderBy()</a><li><a href=#orderbyformula class="table-of-contents__link toc-highlight">.orderByFormula()</a><li><a href=#query class="table-of-contents__link toc-highlight">.query()</a><li><a href=#querypath class="table-of-contents__link toc-highlight">.queryPath</a><li><a href=#queryplan class="table-of-contents__link toc-highlight">.queryPlan</a><li><a href=#refresh class="table-of-contents__link toc-highlight">.refresh()</a><li><a href=#selected class="table-of-contents__link toc-highlight">.selected()</a><li><a href=#slice class="table-of-contents__link toc-highlight">.slice()</a><li><a href=#sum class="table-of-contents__link toc-highlight">.sum()</a><li><a href=#tocollection class="table-of-contents__link toc-highlight">.toCollection()</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Comunidade</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://developer.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Centro de desenvolvimento 4D</a><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://twitter.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="col footer__col"><div class=footer__title>Suporte</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Onde tudo começou)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Base de conhecimento</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Baixares<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Obter suporte<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Empresa</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>Sobre 4D<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contactar-nos<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D no mundo<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2024 4D SAS - Todos os direitos reservados</div></div></div></footer></div>