<!doctype html>
<html lang="pt" dir="ltr" class="docs-wrapper docs-doc-page docs-version-19-R7 plugin-docs plugin-id-default docs-doc-id-API/EntitySelectionClass">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">EntitySelection | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://doc4d.github.io//docs/pt/../assets/en/logohome.png"><meta data-rh="true" name="twitter:image" content="https://doc4d.github.io//docs/pt/../assets/en/logohome.png"><meta data-rh="true" property="og:url" content="https://doc4d.github.io//docs/pt/API/EntitySelectionClass"><meta data-rh="true" name="docusaurus_locale" content="pt"><meta data-rh="true" name="docsearch:language" content="pt"><meta data-rh="true" name="docusaurus_version" content="19-R7"><meta data-rh="true" name="docusaurus_tag" content="docs-default-19-R7"><meta data-rh="true" name="docsearch:version" content="19-R7"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-19-R7"><meta data-rh="true" property="og:title" content="EntitySelection | 4D Docs"><meta data-rh="true" name="description" content="Uma seleção de entidades é um objeto que contém uma ou mais referencias a entidades pertencentes à mesma Dataclass. Uma seleção de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o número total de entidades contidas na dataclass."><meta data-rh="true" property="og:description" content="Uma seleção de entidades é um objeto que contém uma ou mais referencias a entidades pertencentes à mesma Dataclass. Uma seleção de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o número total de entidades contidas na dataclass."><link data-rh="true" rel="icon" href="/docs/pt/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://doc4d.github.io//docs/pt/API/EntitySelectionClass"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/API/EntitySelectionClass" hreflang="en"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/fr/API/EntitySelectionClass" hreflang="fr"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/es/API/EntitySelectionClass" hreflang="es"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/ja/API/EntitySelectionClass" hreflang="ja"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/pt/API/EntitySelectionClass" hreflang="pt"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/API/EntitySelectionClass" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/pt/opensearch.xml"><link rel="stylesheet" href="/docs/pt/assets/css/styles.7bd82bcd.css">
<link rel="preload" href="/docs/pt/assets/js/runtime~main.d102819a.js" as="script">
<link rel="preload" href="/docs/pt/assets/js/main.ed90666d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/pt/"><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/pt/GettingStarted/installation">v19 R7 BETA</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/pt/API/EntitySelectionClass">v19 R7 BETA</a></li><li><a class="dropdown__link" href="/docs/pt/19-R6/API/EntitySelectionClass">v19 R6</a></li><li><a class="dropdown__link" href="/docs/pt/19/API/EntitySelectionClass">v19</a></li><li><a class="dropdown__link" href="/docs/pt/18/GettingStarted/installation">v18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Português</a><ul class="dropdown__menu"><li><a href="/docs/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/es/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/docs/pt/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Pesquisa"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Pesquisa</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/GettingStarted/installation">Começando</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/pt/Project/overview">Core Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/Project/overview">Project Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/Concepts/about">4D Language Concepts</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://doc.4d.com/4Dv19R6/4D/19-R6/4D-Language-Reference.100-5910320.en.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">4D Language Reference<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/ORDA/overview">ORDA</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/pt/API/overview">Class API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/overview">Class API Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/BlobClass">Blob</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/ClassClass">Class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/CollectionClass">Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/CryptoKeyClass">CryptoKey</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/DataClassClass">DataClass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/DataClassAttributeClass">DataClassAttribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/DataStoreClass">DataStore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/EmailObjectClass">Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/EntityClass">Entity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pt/API/EntitySelectionClass">EntitySelection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/FileClass">File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/FileHandleClass">FileHandle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/FolderClass">Folder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/FunctionClass">Formula</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/HTTPRequestClass">HTTPRequest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/IMAPTransporterClass">IMAPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/MailAttachmentClass">MailAttachment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/POP3TransporterClass">POP3Transporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/SessionClass">Session</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/SignalClass">Signal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/SMTPTransporterClass">SMTPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/SystemWorkerClass">SystemWorker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/WebServerClass">WebServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/ZipArchiveClass">ZIPArchive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/ZipFileClass">ZIPFile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/ZipFolderClass">ZIPFolder</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/code-editor/overview">Handling Code</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/Debugging/basics">Debugging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/settings/overview">Settings</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/Preferences/overview">Preferences</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/ServerWindow/overview">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/Extensions/overview">Extensions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/WebServer/overview">Web Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/Desktop/clientServer">Desktop Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developer.4d.com/go-mobile/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Mobile Applications</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/pt/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Core Development</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Class API Reference</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">EntitySelection</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v19 R7 BETA</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>EntitySelection</h1></header><p>Uma seleção de entidades é um objeto que contém uma ou mais referencias a <a href="/docs/pt/ORDA/dsmapping#entity">entidades</a> pertencentes à mesma <a href="/docs/pt/ORDA/dsmapping#dataclass">Dataclass</a>. Uma seleção de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o número total de entidades contidas na dataclass.</p><p>As seleções de entidades podem ser criadas a partir de seleções existentes utilizando varias funções da classe <a href="/docs/pt/API/DataClassClass"><code>DataClass</code> class</a> tais como <a href="/docs/pt/API/DataClassClass#all"><code>.all()</code></a> ou <a href="/docs/pt/API/DataClassClass#query"><code>.query()</code></a>, ou da classe <code>EntityClass</code> mesma, tal como <a href="#and"><code>.and()</code></a> ou <a href="#orderby"><code>orderBy()</code></a>. Também pode criar seleções de entidades em branco utilizando a função <a href="/docs/pt/API/DataClassClass#newselection"><code>dataClass.newSelection()</code></a> ou o comando <a href="#create-new-selection"><code>Create new selection</code></a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resumo">Resumo<a class="hash-link" href="#resumo" title="Direct link to heading">​</a></h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#91index93"><em>attributePath</em> for um atributo relativo,</a> <!-- --> <!-- --> <!-- --> <!-- -->allows you to access entities within the entity selection using the standard collection syntax</td></tr><tr><td><a href="#attributename"><strong><em>.attributeName</em></strong> : Collection<br><strong><em>.attributeName</em></strong> : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->a &quot;projection&quot; of values for the attribute in the entity selection</td></tr><tr><td><a href="#add"><strong>.add</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.add</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->adds the specified <em>entity</em> or <em>entitySelection</em> to the original entity selection and returns the modified entity selection</td></tr><tr><td><a href="#and"><strong>.and</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->combines the entity selection with an <em>entity</em> or <em>entitySelection</em> parameter using the logical AND operator</td></tr><tr><td><a href="#average"><strong>.average</strong>( {<em>propertyPath</em> : Text } ) : Real</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the arithmetic mean (average) of all the non-null values of <em>attributePath</em> in the entity selection</td></tr><tr><td><a href="#contains"><em>attributePath</em> for um atributo relativo,</a> <!-- --> <!-- --> <!-- --> <!-- -->returns true if entity reference belongs to the entity selection</td></tr><tr><td><a href="#count"><strong>.count</strong>( <em>attributePath</em> : Text ) : Real</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the number of entities in the entity selection with a non-null value in <em>attributePath</em></td></tr><tr><td><a href="#distinct"><strong>.distinct</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection</a> <!-- --> <!-- --> <!-- --> <!-- -->returns a collection containing only distinct (different) values from the <em>attributePath</em> in the entity selection</td></tr><tr><td><a href="#drop"><strong>.drop</strong>( { <em>mode</em> : Integer } ) : 4D. EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->removes the entities belonging to the entity selection from the table related to its dataclass within the datastore</td></tr><tr><td><a href="#extract"> <strong>.extract</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>attributePath</em> { ; <em>targetPath</em> } { ; <em>...attributePathN</em> : Text ; <em>targetPathN</em> : Text } ) : Collection</a> <!-- --> <!-- --> <!-- --> <!-- -->returns a collection containing <em>attributePath</em> values extracted from the entity selection</td></tr><tr><td><a href="#first"><strong>.first()</strong> : 4D. Entity</a> <!-- --> <!-- --> <!-- --> <!-- -->returns a reference to the entity in the first position of the entity selection</td></tr><tr><td><a href="#getdataclass"><strong>.getDataClass()</strong> : 4D. DataClass</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the dataclass of the entity selection</td></tr><tr><td><a href="#getremotecontextattributes"><strong>.getRemoteContextAttributes()</strong> : Text</a> <!-- --> <!-- --> <!-- --> <!-- -->returns information about the optimization context used by the entity</td></tr><tr><td><a href="#isalterable"><strong>.isAlterable()</strong> : Boolean</a> <!-- --> <!-- --> <!-- --> <!-- -->returns True if the entity selection is alterable</td></tr><tr><td><a href="#isordered"><strong>.isOrdered()</strong> : Boolean</a> <!-- --> <!-- --> <!-- --> <!-- -->returns True if the entity selection is ordered</td></tr><tr><td><a href="#last"><strong>.last()</strong> : 4D. Entity</a> <!-- --> <!-- --> <!-- --> <!-- -->returns a reference to the entity in last position of the entity selection</td></tr><tr><td><a href="#length"><strong>.length</strong> : Integer</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the number of entities in the entity selection</td></tr><tr><td><a href="#max"><strong>.max</strong>( <em>attributePath</em> : Text ) : any</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the highest (or maximum) value among all the values of <em>attributePath</em> in the entity selection</td></tr><tr><td><a href="#min"><strong>.min</strong>( <em>attributePath</em> : Text ) : any</a> <!-- --> <!-- --> <!-- --> <!-- --> returns the lowest (or minimum) value among all the values of attributePath in the entity selection</td></tr><tr><td><a href="#minus"><strong>.minus</strong>( <em>entity</em> : 4D.Entity { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D.EntitySelection { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->excludes from the entity selection to which it is applied the <em>entity</em> or the entities of <em>entitySelection</em> and returns the resulting entity selection</td></tr><tr><td><a href="#or"><strong>.or</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->combines the entity selection with the <em>entity</em> or <em>entitySelection</em> parameter using the logical (not exclusive) OR operator</td></tr><tr><td><a href="#orderby"><strong>.orderBy</strong>( <em>pathString</em> : Text ) : 4D.EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->returns a new ordered entity selection containing all entities of the entity selection in the order specified by <em>pathString</em> or <em>pathObjects</em> criteria</td></tr><tr><td><a href="#orderbyformula"><strong>.orderByFormula</strong>( <em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->returns a new, ordered entity selection</td></tr><tr><td><a href="#query"><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->searches for entities that meet the search criteria specified in <em>queryString</em> or <em>formula</em> and (optionally) <em>value</em>(s) among all the entities in the entity selection</td></tr><tr><td><a href="#querypath"><strong>.queryPath</strong> : Text</a> <!-- --> <!-- --> <!-- --> <!-- -->contains a detailed description of the query as it was actually performed by 4D</td></tr><tr><td><a href="#queryplan"><strong>.queryPlan</strong> : Text</a> <!-- --> <!-- --> <!-- --> <!-- --> contains a detailed description of the query just before it is executed (i.e., the planned query)</td></tr><tr><td><a href="#refresh"><strong>.refresh()</strong></a> <!-- --> <!-- --> <!-- --> <!-- -->immediately &quot;invalidates&quot; the entity selection data in the local ORDA cache</td></tr><tr><td><a href="#selected"><strong>.selected</strong>( <em>selectedEntities</em> : 4D. EntitySelection ) : Object</a> <!-- --> <!-- --> <!-- --> <!-- -->returns an object describing the position(s) of <em>selectedEntities</em> in the original entity selection</td></tr><tr><td><a href="#slice"><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : 4D. EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->returns a portion of an entity selection into a new entity selection</td></tr><tr><td><a href="#sum"><strong>.sum</strong>( <em>attributePath</em> : Text ) : Real</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the sum for all <em>attributePath</em> values in the entity selection</td></tr><tr><td><a href="#tocollection"><strong>.toCollection</strong>( { <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer } } ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterString</em> : Text {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterCol</em> : Collection {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em></a> <!-- --> <!-- --> <!-- --> <!-- -->creates and returns a collection where each element is an object containing a set of properties and values</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="criar-uma-seleção-de-entidades-entity-selection">Criar uma seleção de entidades (entity selection)<a class="hash-link" href="#criar-uma-seleção-de-entidades-entity-selection" title="Direct link to heading">​</a></h2><p><em>attributePath</em> não se encontra na classe de dados da entity selection.</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>dsTable</td><td>Tabela</td><td align="center">-&gt;</td><td>Tabela do banco de dados 4D cuja seleção atual se utilizará para construir a seleção de entidades</td></tr><tr><td>settings</td><td>Objeto</td><td align="center">-&gt;</td><td>Build option: context</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>Seleção de entidades que coincidem com a classe de dados relacionada com a tabela dada</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição">Descrição<a class="hash-link" href="#descrição" title="Direct link to heading">​</a></h4><p>O comando <code>Create entity selection</code> constrói e devolve uma nova, <a href="/docs/pt/ORDA/entities#shareable-or-alterable-entity-selections">alterável</a> seleção de entidade relacionada com a classe de dados que coincide com a tabela <em>dsTable</em> dada, segundo a seleção atual desta tabela.</p><p>Se a seleção atual for ordenada, é criada uma seleção de entidades <a href="/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection">ordenada</a> (se mantém a ordem da seleção atual). Se a seleção atual não for ordenada, se cria uma seleção de entidades não ordenada.</p><p>Se a tabela <em>dsTable</em> não estiver exposta em <a href="/docs/pt/API/DataStoreClass#ds"><code>ds</code></a>, se devolve um erro. Esse comando não pode usado com uma datastore remota.</p><p>No parâmetro opcional<em>settings</em> pode passar um objeto contendo as propriedades abaixo:</p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>Etiqueta para  <a href="/docs/pt/ORDA/entities#clientserver-optimization">contexto de optimização</a> aplicado a entity selection.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo">Exemplo<a class="hash-link" href="#exemplo" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $employees : cs. EmployeeSelection ALL RECORDS([Employee])</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employees:=Create entity selection([Employee]) </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// A entity selection $employees agora contém um conjunto de referências</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// em todas as entidades relacionadas com a classe de dados Employee</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também">Veja também<a class="hash-link" href="#veja-também" title="Direct link to heading">​</a></h4><p><a href="/docs/pt/API/DataClassClass#newselection"><code>dataClass.newSelection()</code></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-entity-selection">USE ENTITY SELECTION<a class="hash-link" href="#use-entity-selection" title="Direct link to heading">​</a></h2><p><strong>USE ENTITY SELECTION</strong> (<em>entitySelection</em>)</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entitySelection</td><td>EntitySelection</td><td align="center">-&gt;</td><td>An entity selection</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-1">Descrição<a class="hash-link" href="#descrição-1" title="Direct link to heading">​</a></h4><p>The <code>USE ENTITY SELECTION</code> command updates the current selection of the table matching the dataclass of the <em>entitySelection</em> parameter, according to the content of the entity selection.</p><p>This command cannot be used with a <a href="/docs/pt/ORDA/datastores">Remote datastore</a>.</p><blockquote><p>After a call to <code>USE ENTITY SELECTION</code>, the first record of the updated current selection (if not empty) becomes the current record, but it is not loaded in memory. If you need to use the values of the fields in the current record, use the <code>LOAD RECORD</code> command after the <code>USE ENTITY SELECTION</code> command.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1">Exemplo<a class="hash-link" href="#exemplo-1" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $entitySel : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySel:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;M@&quot;) //$entitySel is related to the Employee dataclass REDUCE SELECTION([Employee];0)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">USE ENTITY SELECTION($entitySel) //The current selection of the Employee table is updated</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="index">[<em>index</em>]<a class="hash-link" href="#index" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><em>attributePath</em> for um atributo relativo,</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-2">Descrição<a class="hash-link" href="#descrição-2" title="Direct link to heading">​</a></h4><p>The <code>EntitySelection[index]</code> notation allows you to access entities within the entity selection using the standard collection syntax: pass the position of the entity you want to get in the <em>index</em> parameter.</p><p>Lembre que a entidade correspondente é recarregada a partir da datastore.</p><p><em>index</em> pode ser qualquer número entre 0 e <code>.length</code>-1.</p><ul><li>Se <em>index</em> está fora do intervalo, se devolve um erro.</li><li>If <em>attributeName</em> kind is <code>storage</code>: <code>.attributeName</code> returns a collection of values of the same type as <em>attributeName</em>.</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p><code>EntitySelection[index]</code> is a non assignable expression, which means that it cannot be used as en editable entity reference with methods like <a href="/docs/pt/API/EntityClass#lock"><code>.lock()</code></a> or <a href="/docs/pt/API/EntityClass#save"><code>.save()</code></a>. Para trabalhar com a entidade correspondente, é necessário atribuir a expressão devolvida a uma expressão atribuível, como uma variável. Exemplos:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel:=ds. Employee.all() //criação da entity selection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //declarações não válidas:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $result:=$sel[0].lock() //NÃO funcionará</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel[0].lastName:=&quot;Smith&quot; //NÃO funcionará</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $result:=$sel[0].save() //NÃO funcionará</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //valid code:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity:=$sel[0]  //OK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity.lastName:=&quot;Smith&quot; //OK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity.save() //OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2">Exemplo<a class="hash-link" href="#exemplo-2" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees[2]  // A terceira entidade da seleção de entidades $employees se recarrega do banco de dados</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="attributename">.<em>attributeName</em><a class="hash-link" href="#attributename" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong><em>.attributeName</em></strong> : Collection<br><strong><em>.attributeName</em></strong> : 4D.EntitySelection</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-3">Descrição<a class="hash-link" href="#descrição-3" title="Direct link to heading">​</a></h4><p>Any dataclass attribute can be used as a property of an entity selection to return a &quot;projection&quot; of values for the attribute in the entity selection. Também pode criar seleções de entidades em branco utilizando a função <a href="/docs/pt/API/DataClassClass#newselection"><code>dataClass.newSelection()</code></a> ou o comando <a href="#create-new-selection"><code>Create new selection</code></a>.</p><ul><li>Se o &quot;kind&quot; de <em>attributeName</em> é <code>storage</code>: <code>.attributeName</code> devolve uma coleção de valores do mesmo tipo que <em>attributeName</em>.</li><li>If <em>attributeName</em> kind is <code>relatedEntity</code>: <code>.attributeName</code> returns a new entity selection of related values of the same type as <em>attributeName</em>. Se eliminam os duplicados (se devolve uma seleção de entidades desordenada).</li><li>If <em>attributeName</em> kind is <code>relatedEntities</code>: <code>.attributeName</code> returns a new entity selection of related values of the same type as <em>attributeName</em>. Se eliminam os duplicados (se devolve uma seleção de entidades desordenada).</li></ul><p>Quando se utiliza um atributo de relação como propriedade de uma seleção de entidades, o resultado é sempre outra seleção de entidades, mesmo que só se devolva uma entidade. If the original entity selection and the <em>entitySelection</em> parameter are empty, an empty entity selection is returned.</p><p>Se o atributo não existir na seleção de entidades, se devolve um erro.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-1">Exemplo 1<a class="hash-link" href="#exemplo-1-1" title="Direct link to heading">​</a></h4><p>Projeção de valores de armazenamento:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $firstNames : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entitySelection:=ds. Employee.all()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $firstNames:=$entitySelection.firstName // firstName é um string</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A coleção resultante é uma coleção de strings, por exemplo:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Joanna&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Alexandra&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Rick&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-1">Exemplo 2<a class="hash-link" href="#exemplo-2-1" title="Direct link to heading">​</a></h4><p>Projeção da entidade relacionada:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es; $entitySelection : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entitySelection:=ds. Employee.all()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=$entitySelection.employer // employer é relacionada aum  Company dataClass</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>O objeto resultane é uma seleção de entidade da Empresa com duplicações removidas (se houver).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3">Exemplo 3<a class="hash-link" href="#exemplo-3" title="Direct link to heading">​</a></h4><p>Projeção de entidades relacionadas:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Employee.all().directReports // directReports é relacionada a dataclasse Funcionário</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>O objeto resultante é uma seleção de entidade da dataclasse Funcionario sem duplicatas (se houver).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="add">.add()<a class="hash-link" href="#add" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v19 R7</td><td>Support of <em>entitySelection</em> parameter</td></tr><tr><td>v18 R5</td><td>Compatível apenas com seleções de entidade alteráveis</td></tr><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.add</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.add</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entity</td><td>4D. Entity</td><td align="center">-&gt;</td><td>Entidade que deve ser adicinonada à entity selection</td></tr><tr><td>entitySelection</td><td>4D. EntitySelection</td><td align="center">-&gt;</td><td>Entity selection to be added to the original entity selection</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">-&gt;</td><td>Entity selection including the added <em>entity</em> or <em>entitySelection</em></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-4">Descrição<a class="hash-link" href="#descrição-4" title="Direct link to heading">​</a></h4><p>The <code>.add()</code> function adds the specified <em>entity</em> or <em>entitySelection</em> to the original entity selection and returns the modified entity selection.</p><blockquote><p>Os valores de tipo Date são convertidos em valores numéricos (segundos) e são usados para calcular a média.</p></blockquote><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>warning</div><div class="admonitionContent_S0QG"><p>The entity selection must be <em>alterable</em>, i.e. it has been created for example by <a href="/docs/pt/API/DataClassClass#newselection"><code>.newSelection()</code></a> or <code>Create entity selection</code>, otherwise <code>.add()</code> will return an error. As entity selections partilháveis não aceitam a adição de entidades. Para saber mais, consulte <a href="/docs/pt/ORDA/entities#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis </a>.</p></div></div><p><strong>Adding an entity</strong></p><ul><li>Se a entity selection estiver ordenada, <em>entity</em> se adiciona ao final da seleção. Se uma referência a mesma entidade já pertencer a seleção de entidades, se duplica e se adiciona uma nova referência.</li><li>Se a entity selection não estiver ordenada, <em>entity</em> se adiciona em qualquer lugar da seleção, sem uma ordem específica.</li></ul><p><strong>Adding an entity selection</strong></p><ul><li>If the entity selection is ordered, its order is kept and <em>entitySelection</em> is added at the end of the selection. If references to the same entities of <em>entitySelection</em> already belong to the entity selection, they are duplicated and new references are added.</li><li>If the entity selection is unordered, it becomes ordered.<blockquote><p>Para saber mais veja <a href="/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection">Entity selections ordenada ou não ordenadas</a>.</p></blockquote></li></ul><p>A entity selection modificada é devolvida pela função, de modo que as chamadas à função podem ser encadeados.</p><p>Se produz um erro se <em>entity</em> e a entity selection não estão relacionadas com a mesma dataclass. Se <em>entity</em> for Null, não se produz nenhum erro.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-2">Exemplo 1<a class="hash-link" href="#exemplo-1-2" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=ds. Employee.new()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee.save()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees.add($employee) //A entidade $employee se adiciona a entity selection $employees</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-2">Exemplo 2<a class="hash-link" href="#exemplo-2-2" title="Direct link to heading">​</a></h4><p>As chamadas à função podem ser encadeadas:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $sel : cs. ProductSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $p1;$p2;$p3 : cs. ProductEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $p1:=ds. Product.get(10)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $p2:=ds. Product.get(11)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $p3:=ds. Product.get(12)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel:=ds. Product.query(&quot;ID &gt; 50&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel:=$sel.add($p1).add($p2).add($p3)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3-1">Exemplo 3<a class="hash-link" href="#exemplo-3-1" title="Direct link to heading">​</a></h4><p>In a user interface, we have two lists. The user selects items from the list1 to add them to the list2.</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$sellist2:=$sellist2.add($sellist1)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="and">.and()<a class="hash-link" href="#and" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.and</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entity</td><td>4D. Entity</td><td align="center">-&gt;</td><td>Entidade a intersectar</td></tr><tr><td>entitySelection</td><td>4D. EntitySelection</td><td align="center">-&gt;</td><td>Entity selection a intersectar</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>Entity selection resultante da intersecção com o operador lógico AND</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-5">Descrição<a class="hash-link" href="#descrição-5" title="Direct link to heading">​</a></h4><p>The <code>.and()</code> function combines the entity selection with an <em>entity</em> or <em>entitySelection</em> parameter using the logical AND operator; it returns a new, unordered entity selection that contains only the entities that are referenced in both the entity selection and the parameter.</p><ul><li>Se passar <em>entity</em> como parâmetro, se combina esta entidade com a entity selection. Se a entidade pertencer à entity selection, se devolve uma nova entity selection que só contém a entidade. Senão, uma seleção de entidades vazia é retornada.</li><li>If you pass <em>entity</em> as parameter, you compare this entity with the entity selection. If the entity belongs to the entity selection, a new reference to the entity selection is returned. Otherwise, a new entity selection containing the original entity selection and the entity is returned.<blockquote><blockquote><p>Pode comparar <a href="/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection">entity selections ordenadas ou desordenadas</a>. A seleção resultante é sempre desordenada.</p></blockquote></blockquote></li></ul><p>Se a entity selection inicial ou o parâmetro <em>entitySelection</em> estiverem vazios, ou se <em>entity</em> for Null, se devolve uma entity selection vazia.</p><p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-3">Exemplo 1<a class="hash-link" href="#exemplo-1-3" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees; $notDropped : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds.Employee.query(&quot;firstName=:1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $notDropped:=$employees.drop(dk stop dropping on first error) //$notDropped é uma entity selection que contém a primeira entidade não eliminada</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($notDropped.length=0) //A ação de eliminação é exitosa, todas as entidades foram eliminadas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;You have dropped &quot;+String($employees.length)+&quot; employees&quot;) //A seleção de entidades eliminada permanece na memória</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;Problem during drop, try later&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-3">Exemplo 2<a class="hash-link" href="#exemplo-2-3" title="Direct link to heading">​</a></h4><p>Se quisermos ter uma seleção de empregados chamados &quot;Jones&quot; que morem em Nova York:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $sel1; $sel2; $sel3 : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel1:=ds. Employee.query(&quot;name =:1&quot;;&quot;Jones&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel2:=ds. Employee.query(&quot;city=:1&quot;;&quot;New York&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel3:=$sel1.and($sel2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="average">.average()<a class="hash-link" href="#average" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18 R6</td><td>Retorna indefinido se uma seleção de entidade for vazia</td></tr><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.average</strong>( {<em>propertyPath</em> : Text } ) : Real</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Rota de atributo a utilizar para o cálculo</td></tr><tr><td>Resultados</td><td>Real</td><td align="center">&lt;-</td><td>Media aritmética (média) dos valores das entidades para o atributo (Não se define para uma entity selection vazia)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-6">Descrição<a class="hash-link" href="#descrição-6" title="Direct link to heading">​</a></h4><p>A função <code>.average()</code> returns the arithmetic mean (average) of all the non-null values of <em>attributePath</em> in the entity selection.</p><p>Passe no parâmetro <em>attributePath</em> a rota de atributo a avaliar.</p><p>Só são levados em consideração os valores numéricos para o cálculo. Lembre entretanto que se o <em>attributePath</em> da seleção de entidades conter tipos de valores mistos, <code>.average()</code> considera todos os elementos escalares para calcular o valor médio.</p><blockquote><p>Para saber mais sobre propriedade compartilhável de entity selections, consulte <a href="/docs/pt/ORDA/entities#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis</a>.</p></blockquote><p><code>.average()</code> returns <strong>undefined</strong>se a entity selection estiver vazia ou <em>attributePath</em> não conter valores numéricos.</p><p>Um erro é retornado se:</p><ul><li><em>attributePath</em> é um atributo relativo,</li><li><em>attributePath</em> designa um atributo que não existir na dataclass da entity selection.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-4">Exemplo<a class="hash-link" href="#exemplo-4" title="Direct link to heading">​</a></h4><p>Se quisermos obter uma lista de funcionários cujo salário for superior ao salário médio:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $averageSalary : Real</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $moreThanAv : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $averageSalary:=ds. Employee.all().average(&quot;salary&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $moreThanAv:=ds. Employee.query(&quot;salary &gt; :1&quot;;$averageSalary)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contains">.contains()<a class="hash-link" href="#contains" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><em>attributePath</em> for um atributo relativo,</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entity</td><td>4D. Entity</td><td align="center">-&gt;</td><td>Entidade a ser avaliada</td></tr><tr><td>Resultados</td><td>Booleano</td><td align="center">&lt;-</td><td>Truse se a entidade pertencer à entity selection, senão False</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-7">Descrição<a class="hash-link" href="#descrição-7" title="Direct link to heading">​</a></h4><p>The <code>.contains()</code> function returns true if entity reference belongs to the entity selection, and false otherwise.</p><p>Em <em>entity</em>, especifique a entidade a buscar na entity selection. Se a entidade for Null, a função devolverá false.</p><p>Se <em>entity</em> e a entity selection não pertencerem à mesma dataclass, se produz um erro.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-5">Exemplo<a class="hash-link" href="#exemplo-5" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;H@&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=ds. Employee.get(610)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($employees.contains($employee))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;A entidade com chave primaria 610 tem um sobrenome começando com H&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;A entidade com chave primária 610 não tem um sobrenome começando com H&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="count">.count()<a class="hash-link" href="#count" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.count</strong>( <em>attributePath</em> : Text ) : Real</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr><tr><td>Resultados</td><td>Real</td><td align="center">&lt;-</td><td>Número de valores de <em>attributePath</em> que não são null na entity selection</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-8">Descrição<a class="hash-link" href="#descrição-8" title="Direct link to heading">​</a></h4><p>A função <code>.count()</code> returns the number of entities in the entity selection with a non-null value in <em>attributePath</em>.</p><blockquote><p>Só são levados em consideração os valores escalares. Os valores de tipo objeto ou coleção são considerados valores nulos.</p></blockquote><p>Um erro é retornado se:</p><ul><li><em>attributePath</em> é um atributo relativo,</li><li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-6">Exemplo<a class="hash-link" href="#exemplo-6" title="Direct link to heading">​</a></h4><p>Se quisermos encontrar o número total de empregados para uma empresa sem contar aqueles cujos titulos de mprego não foram especificados:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $sel : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $count : Real</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel:=ds. Employee.query(&quot;employer = :1&quot;;&quot;Acme, Inc&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $count:=$sel.count(&quot;jobtitle&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="copy">.copy()<a class="hash-link" href="#copy" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.copy</strong>( { <em>option</em> : Integer } ) : 4D. EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>option</td><td>Integer</td><td align="center">-&gt;</td><td><code>ck shared</code>: devolve uma entity selection compartilhável</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>Cópia da entity selection</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-9">Descrição<a class="hash-link" href="#descrição-9" title="Direct link to heading">​</a></h4><p>A função <code>.copy()</code> returns a copy of the original entity selection.</p><blockquote><p>Esta função não modifica a entity selection original.</p></blockquote><p>Como padrão, se omitir o parámetro <em>option</em>, a função devolve uma nova entity selection alterável (mesmo se a função se aplicar a uma entity selection compartilhável). Passe a constante <code>ck shared</code> no parâmetro <em>option</em> se quiser criar uma entity selection compartilhável.</p><blockquote><p>Para saber mais sobre propriedade compartilhável de entity selections, consulte <a href="/docs/pt/ORDA/entities#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis</a>.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-7">Exemplo<a class="hash-link" href="#exemplo-7" title="Direct link to heading">​</a></h4><p>Se criar uma nova seleção de entidade vazia de produtos quando o formulário for carregado:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :(Form event code=On Load)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       Form.products:=ds. Products.newSelection()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End case</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Então esta seleção de entidades é atualizada com produtos e se quiser compartilhar os produtos entre vários processos. Se copiar a seleçãod a entidade Form.products como compartilhável:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // A seleção de entidades de Form.products se atualiza</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Form.products.add(Form.selectedProduct)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Use(Storage)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    If(Storage.products=Null)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       Storage.products:=New shared object()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    End if</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Use(Storage.products)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       Storage.products:=Form.products.copy(ck shared)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    End use</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End use</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="distinct">.distinct()<a class="hash-link" href="#distinct" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.distinct</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Rota do atributo cujos valores quer obter</td></tr><tr><td>option</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk diacritical</code>: avaliação diacríticos (&quot;A&quot; # &quot;a&quot; por exemplo)</td></tr><tr><td>Resultados</td><td>Collection</td><td align="center">&lt;-</td><td>Coleção apenas com valores distintos</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-10">Descrição<a class="hash-link" href="#descrição-10" title="Direct link to heading">​</a></h4><p>A função <code>.distinct()</code> returns a collection containing only distinct (different) values from the <em>attributePath</em> in the entity selection.</p><p>A coleção retornada é ordenada automaticamente. Valores <strong>Null</strong> não são retornados.</p><p>No parámetro <em>attributePath</em>, passe o atributo de entidade cujos valores distintos queira obter. Só valores escalares (texto, número, booleano, ou data) podemser manejados. Tipos são retornados na ordem abaixo: Se <em>attributePath</em> levar a uma propriedade de objeto que conter valores de diferentes tipos, primeiro se agrupam por tipo e se ordenam depois.</p><ol><li>booleans</li><li>strings</li><li>números</li><li>datas</li></ol><p>Pode utilizar a notação <code>[]</code> para designar uma coleção quando <em>attributePath</em> for uma rota dentro de um objeto (ver exemplos).</p><p>Como padrão, uma avaliação não-diacrítica é realizada. Se quiser que a avaliação diferencie minúsculas de maiúsculas ou que diferencie letras acentuadas, passe a constante <code>dk diacritical</code> no parâmetro<em>option</em>.</p><p>Um erro é retornado se:</p><ul><li><em>attributePath</em> é um atributo relativo,</li><li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplos">Exemplos<a class="hash-link" href="#exemplos" title="Direct link to heading">​</a></h4><p>Se quiser obter uma coleção que contenha um só elemento por nome de país:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $countries : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $countries:=ds. Employee.all().distinct(&quot;address.country&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>nicknames</code> é uma coleção e <code>extra</code> for um atributo de objeto:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$values:=ds. Employee.all().distinct(&quot;extra.nicknames[].first&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="drop">.drop()<a class="hash-link" href="#drop" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.drop</strong>( { <em>mode</em> : Integer } ) : 4D. EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk stop dropping on first error</code>: para a execução do método na primeira entidade não eliminável</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>Entidade de seleção vazia se for executada com êxito, se nenhuma entity selection contendo as entidades não elimináveis</td></tr><tr><td></td><td></td><td align="center"></td><td></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-11">Descrição<a class="hash-link" href="#descrição-11" title="Direct link to heading">​</a></h4><p>A função <code>.drop()</code> removes the entities belonging to the entity selection from the table related to its dataclass within the datastore. A entity selection permanece na memoria.</p><blockquote><p>A eliminação de entidades é permanente e não pode ser desfeita. É recomendado chamar esta ação em uma transação para ter uma opção de recuperação.</p></blockquote><p>Se encontrar uma entidade bloqueada durante a execução de <code>.drop()</code>, não é eliminado. Como padrão o método processa todas as entidades da seleção de entidades e retorna as entidades não elimináveis na entity selection. Se quiser que o método pare a execução na primeira entidade não eliminável encontrada, passe a constante <code>dk stop dropping on first error</code> no parâmetro <em>mode</em>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-8">Exemplo<a class="hash-link" href="#exemplo-8" title="Direct link to heading">​</a></h4><p>Exemplo sem a opção <code>dk stop dropping on first error</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees; $notDropped : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds.Employee.query(&quot;firstName=:1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $notDropped:=$employees.drop() // $notDropped for uma entity selection que contém todas as entidades não suprimidas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($notDropped.length=0) //A ação de eliminação for exitosa, todas as entidades foram eliminadas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;You have dropped &quot;+String($employees.length)+&quot; employees&quot;) //A seleção de entidades eliminada permanece na memoria</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;Problem during drop, try later&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Exemplo com a opção <code>dk stop dropping on first error</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees; $notDropped : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds.Employee.query(&quot;firstName=:1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $notDropped:=$employees.drop(dk stop dropping on first error) //$notDropped é uma entity selection que contém a primeira entidade não eliminada</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($notDropped.length=0) //A ação de eliminação é exitosa, todas as entidades foram eliminadas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;You have dropped &quot;+String($employees.length)+&quot; employees&quot;) //A seleção de entidades eliminada permanece na memória</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;Problem during drop, try later&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="extract">.extract()<a class="hash-link" href="#extract" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18 R3</td><td>Adicionado</td></tr></tbody></table></div></div></details><p> <strong>.extract</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>attributePath</em> { ; <em>targetPath</em> } { ; <em>...attributePathN</em> : Text ; <em>targetPathN</em> : Text } ) : Collection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Rota de atributo cujos valores serão extraídos para nova coleção</td></tr><tr><td>targetpath</td><td>Text</td><td align="center">-&gt;</td><td>Rota ou nome do atributo objetivo</td></tr><tr><td>option</td><td>Integer</td><td align="center">-&gt;</td><td><code>ck keep null</code>: inclui os atributos null na coleção devolvida (ignorados por padrão)</td></tr><tr><td>Resultados</td><td>Collection</td><td align="center">&lt;-</td><td>Collection containing extracted values</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-12">Descrição<a class="hash-link" href="#descrição-12" title="Direct link to heading">​</a></h4><p>A função <code>.extract()</code> returns a collection containing <em>attributePath</em> values extracted from the entity selection.</p><p><em>attributePath</em> pode ser:</p><ul><li>um atributo escalar de dataclass,</li><li>entidade relacionada,</li><li>entidades relacionadas.</li></ul><p>Se <em>attributePath</em> não for válido, se devolve uma coleção vazia.</p><p>Esta função aceita duas sintaxes.</p><p><strong>.extract( attributePath : Text { ; option : Integer } ) : Collection</strong></p><p>Com esta sintaxe, <code>.extract()</code> preenche a coleção devolvida com os valores <em>attributePath</em> da entity selection.</p><p>Como padrão, as entidades para as que <em>attributePath</em> for<em>null</em> ou indefinida são ignoradas na coleção resultante. Pode passar a constante <code>ck keep null</code> no parâmetro <em>option</em> para incluir esses valores como elementos<strong>null</strong>  na coleção retornada.</p><ul><li>Dataclass attributes with <a href="/docs/pt/API/DataClassAttributeClass#kind">.kind</a> = &quot;relatedEntity&quot; are extracted as a collection of entities (duplications are kept).</li><li>Dataclass attributes with <a href="/docs/pt/API/DataClassAttributeClass#kind">.kind</a> = &quot;relatedEntities&quot; are extracted as a collection of entity selections.</li></ul><p><strong>.extract ( attributePath ; targetPath { ; ...attributePathN ; ... targetPathN}) : Collection</strong></p><p>Com esta sintaxe, <code>.extract()</code> preenche a coleção devolvida com as propriedades <em>attributePath</em> da entity selection. Cada elemento da coleção devolvida é um objeto com as propriedades <em>targetPath</em> preenchidas com as propriedades <em>attributePath</em> correspondentes. Se mantém os valores null (o parámetro <em>option</em> se ignora) com esta sintaxe.</p><p>Se vários <em>attributePath</em>, forem dados, deve dar um <em>targetPath</em> para cada um. Só se extraem os pares válidos <!-- -->[<em>attributePath</em>, <em>targetPath</em>].</p><ul><li>Os atributos dataclass com <a href="/docs/pt/API/DataClassAttributeClass#kind">.kind</a> = &quot;relatedEntity&quot; se extraem como uma entidade.</li><li>Os atributos dataclass com <a href="/docs/pt/API/DataClassAttributeClass#kind">.kind</a> = &quot;relatedEntities&quot; se extraem como uma entity selection</li></ul><blockquote><p>Os valores Null são avaliados como inferiores aos outros valores.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-9">Exemplo<a class="hash-link" href="#exemplo-9" title="Direct link to heading">​</a></h4><p>Dada a seguinte tabela e relação:</p><p><img loading="lazy" src="/docs/pt/assets/images/entityselection-193aba9798fd8faddac31ad66bc75f26.PNG" width="622" height="350" class="img_ev3q"></p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $firstnames; $addresses; $mailing; $teachers : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //$firstnames é uma coleção de Strings</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $firstnames:=ds. Teachers.all().extract(&quot;firstname&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //$addresses é uma coleção de entities relacionadas ao dataclass Address</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //Valores Null para o endereço são extraídos</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $addresses:=ds. Teachers.all().extract(&quot;address&quot;;ck keep null)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //$mailing é uma coleção de objetos com propriedades &quot;who&quot; e &quot;to&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //conteúdo propriedade &quot;who&quot; é do tipo String</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //conteudo propriedade &quot;to&quot; é do tipo entity (Address dataclass)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $mailing:=ds. Teachers.all().extract(&quot;lastname&quot;;&quot;who&quot;;&quot;address&quot;;&quot;to&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //$mailing é uma coleção de objetos com propriedades &quot;who&quot; e &quot;city&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //conteúdo propriedade &quot;who&quot; é tipo String</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //conteúdo propriedade &quot;city&quot; é tipo String</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $mailing:=ds. Teachers.all().extract(&quot;lastname&quot;;&quot;who&quot;;&quot;address.city&quot;;&quot;city&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //$teachers é uma coleção de objetos com propriedades &quot;where&quot; e &quot;who&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //conteúdo propriedade &quot;where&quot; é String</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //conteúdo propriedade &quot;who&quot; é uma entity selection (Teachers dataclass)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $teachers:=ds. Address.all().extract(&quot;city&quot;;&quot;where&quot;;&quot;teachers&quot;;&quot;who&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //$teachers é uma coleção de entity selections</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $teachers:=ds. Address.all().extract(&quot;teachers&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="first">.first()<a class="hash-link" href="#first" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.first()</strong> : 4D. Entity</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. Entity</td><td align="center">&lt;-</td><td>Reference to the first entity of the entity selection (Null if selection is empty)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-13">Descrição<a class="hash-link" href="#descrição-13" title="Direct link to heading">​</a></h4><p>A função <code>.first()</code> returns a reference to the entity in the first position of the entity selection.</p><p>O resultado desta função é similar a:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity:=$entitySel[0]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Há, entretanto, uma diferença entre ambas as afirmações quando a seleção estiver vazia:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entitySel : cs. EmpSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entity : cs. EmpEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entitySel:=ds. Emp.query(&quot;lastName = :1&quot;;&quot;Nonexistentname&quot;) //nenhuma entity correspondente</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //entity selection é esvaziada</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity:=$entitySel.first() //retorna Null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity:=$entitySel[0]  //gera um erro</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-10">Exemplo<a class="hash-link" href="#exemplo-10" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entitySelection : cs. EmpSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entity : cs. EmpEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entitySelection:=ds. Emp.query(&quot;salary &gt; :1&quot;;100000)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($entitySelection.length#0)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $entity:=$entitySelection.first()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getdataclass">.getDataClass()<a class="hash-link" href="#getdataclass" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getDataClass()</strong> : 4D. DataClass</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. DataClass</td><td align="center">&lt;-</td><td>Dataclass object to which the entity selection belongs</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-14">Descrição<a class="hash-link" href="#descrição-14" title="Direct link to heading">​</a></h4><p>A função <code>.getDataClass()</code> returns the dataclass of the entity selection.</p><p>Esta função é principalmente útil  no contexto do código genérico.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-11">Exemplo<a class="hash-link" href="#exemplo-11" title="Direct link to heading">​</a></h4><p>O seguinte código genérico duplica todas as entidades da entity selection:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //duplicate_entities method</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //duplicate_entities($entity_selection)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> #DECLARE ( $entitySelection : 4D. EntitySelection )  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $dataClass : 4D. DataClass</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entity; $duplicate : 4D. Entity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $dataClass:=$entitySelection.getDataClass()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> For each($entity;$entitySelection)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $duplicate:=$dataClass.new()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $duplicate.fromObject($entity.toObject())</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $duplicate[$dataClass.getInfo().primaryKey]:=Null //reset the primary key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $status:=$duplicate.save()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End for each</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getremotecontextattributes">.getRemoteContextAttributes()<a class="hash-link" href="#getremotecontextattributes" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v19R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getRemoteContextAttributes()</strong> : Text</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>result</td><td>Text</td><td>&lt;-</td><td>Context attributes linked to the entity selection, separated by a comma</td></tr></tbody></table><blockquote><p><strong>Advanced mode:</strong> This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-15">Descrição<a class="hash-link" href="#descrição-15" title="Direct link to heading">​</a></h4><p>A função <code>.getRemoteContextAttributes()</code> returns information about the optimization context used by the entity selection.</p><p>If there is no <a href="/docs/pt/ORDA/datastores#clientserver-optimization">optimization context</a> for the entity selection, the function returns an empty Text.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-12">Exemplo<a class="hash-link" href="#exemplo-12" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $persons : cs.PersonsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $p : cs.PersonsEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $info : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $text : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$persons:=$ds.Persons.all()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$text:=&quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">For each ($p; $persons)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $text:=$p.firstname+&quot; lives in &quot;+$p.address.city+&quot; / &quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">End for each</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$info:=$persons.getRemoteContextAttributes()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">//$info = &quot;firstname,address,address.city&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também-1">Veja também<a class="hash-link" href="#veja-também-1" title="Direct link to heading">​</a></h4><p><a href="/docs/pt/API/EntityClass#getRemoteContextAttributes">Entity.getRemoteContextAttributes()</a><br><a href="/docs/pt/API/DataStoreClass#clearallremotecontexts">.clearAllRemoteContexts()</a><br><a href="/docs/pt/API/DataStoreClass#getremotecontextinfo">.getRemoteContextInfo()</a><br><a href="/docs/pt/API/DataStoreClass#getallremotecontexts">.getAllRemoteContexts()</a><br><a href="/docs/pt/API/DataStoreClass#setremotecontextinfo">.setRemoteContextInfo()</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="isalterable">.isAlterable()<a class="hash-link" href="#isalterable" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.isAlterable()</strong> : Boolean</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Booleano</td><td align="center">&lt;-</td><td>True if the entity selection is alterable, False otherwise</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-16">Descrição<a class="hash-link" href="#descrição-16" title="Direct link to heading">​</a></h4><p>The <code>.isAlterable()</code> function returns True if the entity selection is alterable, and False if the entity selection is not alterable.</p><p>Para mais informação, consulte a seção <a href="/docs/pt/ORDA/entities#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-13">Exemplo<a class="hash-link" href="#exemplo-13" title="Direct link to heading">​</a></h4><p>Vai mostrar <code>Form.products</code> em uma <a href="/docs/pt/FormObjects/listboxOverview">list box</a> para que o usuário possaa adicionar novos produtos. Se quiser ter certeza que é alterável para que o usuário possa adicionar novos produtos sem erro:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">If (Not(Form.products.isAlterable()))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Form.products:=Form.products.copy()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">End if</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Form.products.add(Form.product)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="isordered">.isOrdered()<a class="hash-link" href="#isordered" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.isOrdered()</strong> : Boolean</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Booleano</td><td align="center">&lt;-</td><td>True if the entity selection is ordered, False otherwise</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-17">Descrição<a class="hash-link" href="#descrição-17" title="Direct link to heading">​</a></h4><p>The <code>.isOrdered()</code> function returns True if the entity selection is ordered, and False if it is unordered.</p><blockquote><p>Esta função não modifica a seleção de entidades original.</p></blockquote><p>Para mais informação, consulte <a href="/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection">Entity selection ordenadas ou desordenadas</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-14">Exemplo<a class="hash-link" href="#exemplo-14" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $isOrdered : Boolean</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds.Employee.newSelection(dk keep ordered)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=ds.Employee.get(714) // Obtém a entidade com chave primaria 714</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //Em uma entity selection ordenada, podemos adicionar a mesma entidade várias vezes (os duplicados se mantém)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees.add($employee)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees.add($employee)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees.add($employee)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $isOrdered:=$employees.isOrdered()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($isOrdered)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;The entity selection is ordered and contains &quot;+String($employees.length)+&quot; employees&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="last">.last()<a class="hash-link" href="#last" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.last()</strong> : 4D. Entity</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. Entity</td><td align="center">&lt;-</td><td>Reference to the last entity of the entity selection (Null if empty entity selection)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-18">Descrição<a class="hash-link" href="#descrição-18" title="Direct link to heading">​</a></h4><p>A função <code>.last()</code> returns a reference to the entity in last position of the entity selection.</p><p>O resultado desta função é similar a:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity:=$entitySel[length-1]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Se a entity selection estiver vazia, a função devolve Null.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-15">Exemplo<a class="hash-link" href="#exemplo-15" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entitySelection : cs. EmpSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entity : cs. EmpEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entitySelection:=ds. Emp.query(&quot;salary &lt; :1&quot;;50000)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($entitySelection.length#0)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $entity:=$entitySelection.last()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="length">.length<a class="hash-link" href="#length" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.length</strong> : Integer</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-19">Descrição<a class="hash-link" href="#descrição-19" title="Direct link to heading">​</a></h4><p>A propriedade <code>.length</code> returns the number of entities in the entity selection. Summary --&gt;devolve o número de entidades na entity selection com um valor não null em <em>attributePath</em>.</p><p>As entity selections sempre têm uma propriedade <code>.length</code>.</p><blockquote><p>To know the total number of entities in a dataclass, it is recommended to use the <a href="/docs/pt/API/DataClassClass#getcount"><code>getCount()</code></a> function which is more optimized than the <code>ds.myClass.all().length</code> expression.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-16">Exemplo<a class="hash-link" href="#exemplo-16" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $vSize : Integer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $vSize:=ds. Employee.query(&quot;gender = :1&quot;;&quot;male&quot;).length</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ALERT(String(vSize)+&quot; male employees found.&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max">.max()<a class="hash-link" href="#max" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr><tr><td>v18 R6</td><td>Retorna indefinido se uma seleção de entidade for vazia</td></tr></tbody></table></div></div></details><p><strong>.max</strong>( <em>attributePath</em> : Text ) : any</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td>-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr><tr><td>Resultados</td><td>any</td><td>&lt;-</td><td>Highest value of attribute</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-20">Descrição<a class="hash-link" href="#descrição-20" title="Direct link to heading">​</a></h4><p>A função <code>.max()</code> returns the highest (or maximum) value among all the values of <em>attributePath</em> in the entity selection. Summary --&gt;combines the entity selection with the <em>entity</em> or <em>entitySelection</em> parameter using the logical (not exclusive) OR operator; it returns a new, unordered entity selection that contains all the entities from the entity selection and the parameter.</p><p>Se passar em <em>attributePath</em> uma rota a uma propriedade de objeto que contenha diferentes tipos de valores, a função <code>.max()</code> devolverá o valor máximo dentro do primeiro tipo escalar na ordem da lista de tipos 4D como padrão (ver a descrição de <a href="/docs/pt/API/CollectionClass#sort"><code>.sort()</code></a>).</p><p><code>.max()</code> returns <strong>undefined</strong> se a entity selection estiver vazia ou <em>attributePath</em> não for encontrado no atributo de objeto.</p><p>Um erro é retornado se:</p><ul><li><em>attributePath</em> é um atributo relativo,</li><li><em>attributePath</em> designa um atributo que não existir na dataclass da entity selection.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-17">Exemplo<a class="hash-link" href="#exemplo-17" title="Direct link to heading">​</a></h4><p>Se quisermos encontrar o maior salário entre as funcionárias mulheres:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $sel : cs. EmpSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $maxSalary : Real</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel:=ds. Employee.query(&quot;gender = :1&quot;;&quot;female&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $maxSalary:=$sel.max(&quot;salary&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="min">.min()<a class="hash-link" href="#min" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr><tr><td>v18 R6</td><td>Retorna indefinido se uma seleção de entidade for vazia</td></tr></tbody></table></div></div></details><p><strong>.min</strong>( <em>attributePath</em> : Text ) : any</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr><tr><td>Resultados</td><td>any</td><td align="center">&lt;-</td><td>Lowest value of attribute</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-21">Descrição<a class="hash-link" href="#descrição-21" title="Direct link to heading">​</a></h4><p>A função <code>.min()</code>  returns the lowest (or minimum) value among all the values of attributePath in the entity selection.  Summary --&gt;excludes from the entity selection to which it is applied the <em>entity</em> or the entities of <em>entitySelection</em> and returns the resulting entity selection.</p><p>Se passar em <em>attributePath</em> uma rota a uma propriedade objeto que contenha diferentes tipos de valores, a função <code>.min()</code> devolverá o valor mínimo dentro do primeiro tipo de valor escalar na ordem da lista de tipos (ver a descrição de <a href="/docs/pt/API/CollectionClass#sort"><code>.sort()</code></a>).</p><p><code>.min()</code> returns <strong>undefined</strong> if the entity selection is empty or <em>attributePath</em> is not found in the object attribute.</p><p>Um erro é retornado se:</p><ul><li><em>attributePath</em> é um atributo relativo,</li><li><em>attributePath</em> designa um atributo que não existir na dataclass da entity selection.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-18">Exemplo<a class="hash-link" href="#exemplo-18" title="Direct link to heading">​</a></h4><p>In this example, we want to find the lowest salary among all the female employees:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $sel : cs. EmpSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $minSalary : Real</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel:=ds. Employee.query(&quot;gender = :1&quot;;&quot;female&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $minSalary:=$sel.min(&quot;salary&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="minus">.minus()<a class="hash-link" href="#minus" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v19 R7</td><td>Support of <em>keepOrder</em> parameter</td></tr><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.minus</strong>( <em>entity</em> : 4D.Entity { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D.EntitySelection { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entity</td><td>4D. Entity</td><td align="center">-&gt;</td><td>Entity to substract</td></tr><tr><td>entitySelection</td><td>4D. EntitySelection</td><td align="center">-&gt;</td><td>Entity selection to substract</td></tr><tr><td>keepOrder</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk keep ordered</code> (integer) to keep the initial order in the resulting entity selection</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>New entity selection or a new reference on the existing entity selection</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-22">Descrição<a class="hash-link" href="#descrição-22" title="Direct link to heading">​</a></h4><p>The <code>.minus()</code> function excludes from the entity selection to which it is applied the <em>entity</em> or the entities of <em>entitySelection</em> and returns the resulting entity selection.</p><ul><li>If you pass <em>entity</em> as parameter, the function creates a new entity selection without <em>entity</em> (if <em>entity</em> belongs to the entity selection). If <em>entity</em> was not included in the original entity selection, a new reference to the entity selection is returned.</li><li>If you pass <em>entitySelection</em> as parameter, the function returns an entity selection containing the entities belonging to the original entity selection without the entities belonging to <em>entitySelection</em>. &gt; Pode comparar <a href="/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection">entity selections ordenadas ou desordenadas</a>.</li></ul><p>By default, if you omit the <em>keepOrder</em> parameter, the resulting entity selection is unordered. If you want to keep the order of the original entity selection (for example if you want to reuse the entity selection in a user interface), pass the <code>dk keep ordered</code> constant in <em>keepOrder</em>. In this case, the result is an ordered entity selection and the order of the initial entity selection is kept.</p><p>:::nota</p><p>If you pass <code>dk keep ordered</code> in <em>keepOrder</em> and the removed <em>entitySelection</em> contains entities duplicated in the original entity selection, all occurences of the duplicates are removed.</p><p>:::</p><p>If the original entity selection or both the original entity selection and the <em>entitySelection</em> parameter are empty, an empty entity selection is returned.</p><p>If <em>entitySelection</em> is empty or if <em>entity</em> is Null, a new reference to the original entity selection is returned.</p><p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-4">Exemplo 1<a class="hash-link" href="#exemplo-1-4" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds.Employee.query(&quot;firstName=:1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $notDropped:=$employees.drop() // $notDropped for uma entity selection que contém todas as entidades não suprimidas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($notDropped.length=0) //A ação de eliminação for exitosa, todas as entidades foram eliminadas</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;You have dropped &quot;+String($employees.length)+&quot; employees&quot;) //A seleção de entidades eliminada permanece na memoria</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;Problem during drop, try later&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if var $employees; $notDropped : cs.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-4">Exemplo 2<a class="hash-link" href="#exemplo-2-4" title="Direct link to heading">​</a></h4><p>We want to have a selection of female employees named &quot;Jones&quot; who live in New York :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $sel1; $sel2; $sel3 : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel1:=ds. Employee.query(&quot;name =:1&quot;;&quot;Jones&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel2:=ds. Employee.query(&quot;city=:1&quot;;&quot;New York&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel3:=$sel1.and($sel2).minus(ds. Employee.query(&quot;gender=&#x27;male&#x27;&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3-2">Exemplo 3<a class="hash-link" href="#exemplo-3-2" title="Direct link to heading">​</a></h4><p>In a user interface, we have a list that displays items in a specific order. If the user selects items in the list to remove them, the order must be kept when refreshing the list:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$listsel:=$listsel.minus($selectedItems; dk keep ordered)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="or">.or()<a class="hash-link" href="#or" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.or</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entity</td><td>4D. Entity</td><td align="center">-&gt;</td><td>Entidade a intersectar</td></tr><tr><td>entitySelection</td><td>4D. EntitySelection</td><td align="center">-&gt;</td><td>Entity selection a intersectar</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>New entity selection or new reference to the original entity selection</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-23">Descrição<a class="hash-link" href="#descrição-23" title="Direct link to heading">​</a></h4><p>The <code>.or()</code> function combines the entity selection with the <em>entity</em> or <em>entitySelection</em> parameter using the logical (not exclusive) OR operator; it returns a new, unordered entity selection that contains all the entities from the entity selection and the parameter.</p><ul><li>If you pass <em>entitySelection</em> as parameter, you compare entity selections. A new entity selection that contains only the entities that are referenced in both selections is returned. Otherwise, a new entity selection containing the original entity selection and the entity is returned.</li><li>If the original entity selection and the <em>entitySelection</em> parameter are empty, an empty entity selection is returned. If the original entity selection is empty, a reference to <em>entitySelection</em> or an entity selection containing only <em>entity</em> is returned.<blockquote><blockquote><p>Pode comparar <a href="/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection">entity selections ordenadas ou desordenadas</a>. A seleção resultante é sempre desordenada.</p></blockquote></blockquote></li></ul><p>If the original entity selection and the <em>entitySelection</em> parameter are empty, an empty entity selection is returned. If the original entity selection is empty, a reference to <em>entitySelection</em> or an entity selection containing only <em>entity</em> is returned.</p><p>If <em>entitySelection</em> is empty or if <em>entity</em> is Null, a new reference to the original entity selection is returned.</p><p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-5">Exemplo 1<a class="hash-link" href="#exemplo-1-5" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees1; $employees2; $result : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees1:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //Returns &quot;Colin Hetrick&quot;,&quot;Grady Harness&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees2:=ds. Employee.query(&quot;firstName = :1&quot;;&quot;C@&quot;) //Returns &quot;Colin Hetrick&quot;, &quot;Cath Kidston&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $result:=$employees1.or($employees2) //$result contains &quot;Colin Hetrick&quot;, &quot;Grady Harness&quot;,&quot;Cath Kidston&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-5">Exemplo 2<a class="hash-link" href="#exemplo-2-5" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees; $result : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) // Devuelve &quot;Colin Hetrick&quot;,&quot;Grady Harness&quot;, &quot;Sherlock Holmes&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=ds. Employee.get(686) //a entidade com chave primária 686 não pertence a entity selection $employees </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //Coincide com a funcionária &quot;Mary Smith&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $result:=$employees.or($employee) //$result contém &quot;Colin Hetrick&quot;, &quot;Grady Harness&quot;, &quot;Sherlock Holmes&quot;, &quot;Mary Smith&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="orderby">.orderBy()<a class="hash-link" href="#orderby" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.orderBy</strong>( <em>pathString</em> : Text ) : 4D.EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : 4D.EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>pathString</td><td>Text</td><td align="center">-&gt;</td><td>Rota(s) de atributos e instruções de clasificação para a entity selection</td></tr><tr><td>pathObjects</td><td>Collection</td><td align="center">-&gt;</td><td>Coleção de objetos criterio</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>New entity selection in the specified order</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-24">Descrição<a class="hash-link" href="#descrição-24" title="Direct link to heading">​</a></h4><p>A função <code>.orderBy()</code> returns a new ordered entity selection containing all entities of the entity selection in the order specified by <em>pathString</em> or <em>pathObjects</em> criteria.</p><blockquote><ul><li>This method does not modify the original entity selection.</li><li>For more information on ordered entity selections, please refer to the <a href="/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection">Ordered or unordered entity selection</a> section.</li></ul></blockquote><p>You must use a criteria parameter to define how the entities must be sorted. Two different parameters are supported:</p><ul><li><em>pathString</em> (Text) : This parameter contains a formula made of 1 to x attribute paths and (optionally) sort orders, separated by commas. The syntax is:</li></ul><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;attributePath1 {desc or asc}, attributePath2 {desc or asc},...&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The order in which the attributes are passed determines the sorting priority of the entities. By default, attributes are sorted in ascending order. Pode definir a ordem de clasificação de uma propriedade na string de critérios, separado da rota da propriedade por um só espaço: passe &quot;asc&quot; para ordenar em ordem ascendente ou &quot;desc&quot; em ordem descendente.</p><ul><li><em>pathObjects</em> (collection): each element of the collection contains an object structured in the following way:</li></ul><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;propertyPath&quot;: string,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;descending&quot;: boolean</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By default, attributes are sorted in ascending order (&quot;descending&quot; is false).</p><p>You can add as many objects in the criteria collection as necessary.</p><blockquote><p>Null values are evaluated as less than other values.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-19">Exemplo<a class="hash-link" href="#exemplo-19" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// order by formula</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy(&quot;firstName asc, salary desc&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // order by collection with or without sort orders</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $orderColl:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;firstName&quot;;&quot;descending&quot;;False))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;salary&quot;;&quot;descending&quot;;True))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy($orderColl)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $orderColl:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;manager.lastName&quot;))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;salary&quot;))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy($orderColl)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="orderbyformula">.orderByFormula()<a class="hash-link" href="#orderbyformula" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R6</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.orderByFormula</strong>( <em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>formulaString</td><td>Text</td><td align="center">-&gt;</td><td>Formula string</td></tr><tr><td>formulaObj</td><td>Objeto</td><td align="center">-&gt;</td><td>Formula object</td></tr><tr><td>sortOrder</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk ascending</code> (default) or <code>dk descending</code></td></tr><tr><td>settings</td><td>Objeto</td><td align="center">-&gt;</td><td>Parameter(s) for the formula</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>New ordered entity selection</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-25">Descrição<a class="hash-link" href="#descrição-25" title="Direct link to heading">​</a></h4><p>The <code>.orderByFormula()</code> function returns a new, ordered entity selection containing all entities of the entity selection in the order defined through the <em>formulaString</em> or <em>formulaObj</em> and, optionally, <em>sortOrder</em> and <em>settings</em> parameters.</p><blockquote><p>Esta função não modifica a entity selection original.</p></blockquote><p>You can use either a <em>formulaString</em> or a <em>formulaObj</em> parameter:</p><ul><li><em>formulaString</em>: you pass a 4D expression such as &quot;Year of(this.birthDate)&quot;.</li><li><em>formulaObj</em>: pass a valid formula object created using the <code>Formula</code> or <code>Formula from string</code> command.</li></ul><p>The <em>formulaString</em> or <em>formulaObj</em> is executed for each entity of the entity selection and its result is used to define the position of the entity in the returned entity selection. The result must be of a sortable type (boolean, date, number, text, time, null).</p><blockquote><p>A null result is always the smallest value.</p></blockquote><p>By default if you omit the <em>sortOrder</em> parameter, the resulting entity selection is sorted in ascending order. Optionnally, you can pass one of the following values in the <em>sortOrder</em> parameter:</p><table><thead><tr><th>Constante</th><th>Value</th><th>Comentário</th></tr></thead><tbody><tr><td>dk ascending</td><td>0</td><td>Ascending sort order (default)</td></tr><tr><td>dk descending</td><td>1</td><td>Descending sort order</td></tr></tbody></table><p>Within the <em>formulaString</em> or <em>formulaObj</em>, the processed entity and thus its attributes are available through the <code>This</code> command (for example, <code>This.lastName</code>).</p><p>You can pass parameter(s) to the formula using the <code>args</code> property (object) of the <code>settings</code> parameter: the formula receives the <code>settings.args</code> object in $1.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-6">Exemplo 1<a class="hash-link" href="#exemplo-1-6" title="Direct link to heading">​</a></h4><p>Sorting students using a formula provided as text:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es1; $es2 : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es1:=ds. Students.query(&quot;nationality=:1&quot;;&quot;French&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es2:=$es1.orderByFormula(&quot;length(this.lastname)&quot;) //ascending by default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es2:=$es1.orderByFormula(&quot;length(this.lastname)&quot;;dk descending)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Same sort order but using a formula object:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es1; $es2 : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $formula : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es1:=ds. Students.query(&quot;nationality=:1&quot;;&quot;French&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $formula:=Formula(Length(This.lastname))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es2:=$es1.orderByFormula($formula) // ascending by default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es2:=$es1.orderByFormula($formula;dk descending)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-6">Exemplo 2<a class="hash-link" href="#exemplo-2-6" title="Direct link to heading">​</a></h4><p>A formula is given as a formula object with parameters; <code>settings.args</code> object is received as $1 in the <strong><em>computeAverage</em></strong> method.</p><p>In this example, the &quot;marks&quot; object field in the <strong>Students</strong> dataClass contains students&#x27; grades for each subject. A single formula object is used to compute a student&#x27;s average grade with different coefficients for schoolA and schoolB.</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es1; $es2 : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $formula; $schoolA; $schoolB : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es1:=ds. Students.query(&quot;nationality=:1&quot;;&quot;French&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $formula:=Formula(computeAverage($1))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $schoolA:=New object() //settings object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $schoolA.args:=New object(&quot;english&quot;;1;&quot;math&quot;;1;&quot;history&quot;;1) // Coefficients to compute an average</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //Order students according to school A criteria</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es2:=$es1.entitySelection.orderByFormula($formula;$schoolA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $schoolB:=New object() //settings object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $schoolB.args:=New object(&quot;english&quot;;1;&quot;math&quot;;2;&quot;history&quot;;3) // Coefficients to compute an average</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //Order students according to school B criteria</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es2:=$es1.entitySelection.orderByFormula($formula;dk descending;$schoolB)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // computeAverage method</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // -----------------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> #DECLARE ($coefList : Object) -&gt; $result : Integer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $subject : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $average; $sum : Integer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $average:=0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sum:=0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> For each($subject;$coefList)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $sum:=$sum+$coefList[$subject]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End for each</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> For each($subject;This.marks)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $average:=$average+(This.marks[$subject]*$coefList[$subject])</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End for each</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $result:=$average/$sum</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query">.query()<a class="hash-link" href="#query" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R6</td><td>Soporte dos Parâmetros Formula</td></tr><tr><td>v17 R5</td><td>Suporte dos marcadores para os valores</td></tr><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>queryString</td><td>Text</td><td align="center">-&gt;</td><td>Criterios de pesquisa como string</td></tr><tr><td>formula</td><td>Objeto</td><td align="center">-&gt;</td><td>Criterios de pesquisa como objeto fórmula</td></tr><tr><td>value</td><td>any</td><td align="center">-&gt;</td><td>Valores a usar para placeholders indexados</td></tr><tr><td>querySettings</td><td>Objeto</td><td align="center">-&gt;</td><td>Opções de pesquisa: parâmetros, atributos, args, allowFormulas, contexto, queryPath,queryPlan</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>New entity selection made up of entities from entity selection meeting the search criteria specified in <em>queryString</em> or <em>formula</em></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-26">Descrição<a class="hash-link" href="#descrição-26" title="Direct link to heading">​</a></h4><p>A função <code>.query()</code> searches for entities that meet the search criteria specified in <em>queryString</em> or <em>formula</em> and (optionally) <em>value</em>(s) among all the entities in the entity selection, and returns a new object of type <code>EntitySelection</code> containing all the entities that are found. Se aplica carregamento diferido/lazy loading.</p><blockquote><p>Esta função não modifica a entity selection original.</p></blockquote><p>Se não houver entidades correspondentes encontradas, uma <code>EntitySelection</code> vazia é retornada.</p><p>For detailed information on how to build a query using <em>queryString</em>, <em>value</em>, and <em>querySettings</em> parameters, please refer to the DataClass <a href="/docs/pt/API/DataClassClass#query"><code>.query()</code></a> function description.</p><blockquote><p>By default if you omit the <strong>order by</strong> statement in the <em>queryString</em>, the returned entity selection is <a href="/docs/pt/ORDA/dsmapping#ordered-or-unordered-entity-selection">not ordered</a>. Note however that, in Client/Server mode, it behaves like an ordered entity selection (entities are added at the end of the selection).</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-7">Exemplo 1<a class="hash-link" href="#exemplo-1-7" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entitySelectionTemp : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entitySelectionTemp:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;M@&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Form.emps:=$entitySelectionTemp.query(&quot;manager.lastName = :1&quot;;&quot;S@&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-7">Exemplo 2<a class="hash-link" href="#exemplo-2-7" title="Direct link to heading">​</a></h4><p>More examples of queries can be found in the DataClass <a href="/docs/pt/API/DataClassClass#query"><code>.query()</code></a> page.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também-2">Veja também<a class="hash-link" href="#veja-também-2" title="Direct link to heading">​</a></h4><p><a href="/docs/pt/API/DataClassClass#query"><code>.query()</code></a> for dataclass</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="querypath">.queryPath<a class="hash-link" href="#querypath" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.queryPath</strong> : Text</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-27">Descrição<a class="hash-link" href="#descrição-27" title="Direct link to heading">​</a></h4><p>The <code>.queryPath</code> property contains a detailed description of the query as it was actually performed by 4D. Summary --&gt;retorna una coleção que contenha os valores de <em>attributePath</em> extraídos da entity selection.</p><p>For more information, refer to the <strong>querySettings parameter</strong> paragraph in the Dataclass<a href="/docs/pt/API/DataClassClass.html#query"><code>.query()</code></a> page.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="queryplan">.queryPlan<a class="hash-link" href="#queryplan" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.queryPlan</strong> : Text</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-28">Descrição<a class="hash-link" href="#descrição-28" title="Direct link to heading">​</a></h4><p>The <code>.queryPlan</code> property  contains a detailed description of the query just before it is executed (i.e., the planned query). This property is available for <code>EntitySelection</code> objects generated through queries if the <code>&quot;queryPlan&quot;:true</code> property was passed in the <em>querySettings</em> parameter of the <a href="#query"><code>.query()</code></a> function.</p><p>For more information, refer to the <strong>querySettings parameter</strong> paragraph in the Dataclass<a href="/docs/pt/API/DataClassClass.html#query"><code>.query()</code></a> page.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="refresh">.refresh()<a class="hash-link" href="#refresh" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18 R3</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.refresh()</strong></p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td></td><td></td><td align="center"></td><td>Does not require any parameters</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-29">Descrição<a class="hash-link" href="#descrição-29" title="Direct link to heading">​</a></h4><blockquote><p>This function only works with a remote datastore (client / server or <code>Open datastore</code> connection).</p></blockquote><p>The <code>.refresh()</code> function immediately &quot;invalidates&quot; the entity selection data in the local ORDA cache so that the next time 4D requires the entity selection, it will be reloaded from the database.</p><p>By default, the local ORDA cache is invalidated after 30 seconds. In the context of client / server applications using both ORDA and the classic language, this method allows you to make sure a remote application will always work with the latest data.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-8">Exemplo 1<a class="hash-link" href="#exemplo-1-8" title="Direct link to heading">​</a></h4><p>In this example, classic and ORDA code modify the same data simultaneously:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> //On a 4D remote</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $selection : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $student : cs. StudentsEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $selection:=ds. Students.query(&quot;lastname=:1&quot;;&quot;Collins&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //The first entity is loaded in the ORDA cache</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $student:=$selection.first()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //Update with classic 4D, ORDA cache is not aware of if</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> QUERY([Students];[Students]lastname=&quot;Collins&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> [Students]lastname:=&quot;Colin&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> SAVE RECORD([Students])</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //to get the latest version, the ORDA cache must be invalidated</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $selection.refresh()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Even if cache is not expired, the first entity is reloaded from disk</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $student:=$selection.first()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //$student.lastname contains &quot;Colin&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-8">Exemplo 2<a class="hash-link" href="#exemplo-2-8" title="Direct link to heading">​</a></h4><p>A list box displays the Form.students entity selection and several clients work on it.</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Form method:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :(Form event code=On Load)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       Form.students:=ds. Students.all()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End case</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // On client #1, the user loads, updates, and saves the first entity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // On client #2, the user loads, updates, and saves the same entity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // On client #1:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Form.students.refresh() // Invalidates the ORDA cache for the Form.students entity selection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // The list box content is refreshed from the database with update made by client #2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="selected">.selected()<a class="hash-link" href="#selected" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v19 R3</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.selected</strong>( <em>selectedEntities</em> : 4D. EntitySelection ) : Object</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>selectedEntities</td><td>4D. EntitySelection</td><td align="center">-&gt;</td><td>Entity selection with entities for which to know the rank in the entity selection</td></tr><tr><td>Resultados</td><td>Objeto</td><td align="center">&lt;-</td><td>Range(s) of selected entities in entity selection</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-30">Descrição<a class="hash-link" href="#descrição-30" title="Direct link to heading">​</a></h4><p>The <code>.selected()</code> function returns an object describing the position(s) of <em>selectedEntities</em> in the original entity selection.</p><blockquote><p>Esta função não modifica a entity selection original.</p></blockquote><p>Pass in the <em>selectedEntities</em> parameter an entity selection containing entities for which you want to know the position in the original entity selection. <em>selectedEntities</em> must be an entity selection belonging to the same dataclass as the original entity selection, otherwise an error 1587 - &quot;The entity selection comes from an incompatible dataclass&quot; is raised.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="resultados">Resultados<a class="hash-link" href="#resultados" title="Direct link to heading">​</a></h4><p>O objeto retornado contém as propriedades abaixo:</p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>ranges</td><td>Collection</td><td>Collection of range objects</td></tr><tr><td>ranges[].start</td><td>Integer</td><td>First entity index in the range</td></tr><tr><td>ranges[].end</td><td>Integer</td><td>Last entity index in the range</td></tr></tbody></table><p>If a <code>ranges</code> property contains a single entity, <code>start</code> = <code>end</code>. Index starts at 0.</p><p>The function returns an empty collection in the <code>ranges</code> property if the original entity selection or the <em>selectedEntities</em> entity selection is empty.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-20">Exemplo<a class="hash-link" href="#exemplo-20" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $invoices; $cashSel; $creditSel : cs. Invoices</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $result1; $result2 : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$invoices:=ds. Invoices.all()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$cashSelection:=ds. Invoices.query(&quot;payment = :1&quot;; &quot;Cash&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$creditSel:=ds. Invoices.query(&quot;payment IN :1&quot;; New collection(&quot;Cash&quot;; &quot;Credit Card&quot;))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$result1:=$invoices.selected($cashSelection)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$result2:=$invoices.selected($creditSel)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">//$result1 = {ranges:[{start:0;end:0},{start:3;end:3},{start:6;end:6}]}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">//$result2 = {ranges:[{start:0;end:1},{start:3;end:4},{start:6;end:7}]}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="slice">.slice()<a class="hash-link" href="#slice" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : 4D. EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>startFrom</td><td>Integer</td><td align="center">-&gt;</td><td>Index to start the operation at (included)</td></tr><tr><td>end</td><td>Integer</td><td align="center">-&gt;</td><td>Final do índice (não incluído)</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>New entity selection containing sliced entities (shallow copy)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-31">Descrição<a class="hash-link" href="#descrição-31" title="Direct link to heading">​</a></h4><p>A função <code>.slice()</code> returns a portion of an entity selection into a new entity selection, selected from the <em>startFrom</em> index to the <em>end</em> index (<em>end</em> is not included) or to the last entity of the entity selection. Summary --&gt; devolve uma cópia da entity selection original.</p><blockquote><p>Esta função não modifica a entity selection original.</p></blockquote><p>The returned entity selection contains the entities specified by <em>startFrom</em> and all subsequent entities up to, but not including, the entity specified by <em>end</em>. If only the <em>startFrom</em> parameter is specified, the returned entity selection contains all entities from <em>startFrom</em> to the last entity of the original entity selection.</p><ul><li>If <em>startFrom</em> &lt; 0, it is recalculated as <em>startFrom:=startFrom+length</em> (it is considered as the offset from the end of the entity selection). If the calculated value &lt; 0, <em>startFrom</em> is set to 0.</li><li>If <em>startFrom &gt;= length</em>, the function returns an empty entity selection.</li><li>If <em>end</em> &lt; 0, it is recalculated as <em>end:=end+length</em>.</li><li>If <em>end &lt; startFrom</em> (passed or calculated values), the method does nothing.</li></ul><p>If the entity selection contains entities that were dropped in the meantime, they are also returned.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-9">Exemplo 1<a class="hash-link" href="#exemplo-1-9" title="Direct link to heading">​</a></h4><p>You want to get a selection of the first 9 entities of the entity selection:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $sel; $sliced : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$sel:=ds. Employee.query(&quot;salary &gt; :1&quot;;50000)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$sliced:=$sel.slice(0;9) //</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-9">Exemplo 2<a class="hash-link" href="#exemplo-2-9" title="Direct link to heading">​</a></h4><p>Assuming we have ds. Employee.all().length = 10</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $slice : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$slice:=ds. Employee.all().slice(-1;-2) //tries to return entities from index 9 to 8, but since 9 &gt; 8, returns an empty entity selection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sum">.sum()<a class="hash-link" href="#sum" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.sum</strong>( <em>attributePath</em> : Text ) : Real</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr><tr><td>Resultados</td><td>Real</td><td align="center">&lt;-</td><td>Sum of entity selection values</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-32">Descrição<a class="hash-link" href="#descrição-32" title="Direct link to heading">​</a></h4><p>A função <code>.sum()</code> returns the sum for all <em>attributePath</em> values in the entity selection.</p><p><code>.sum()</code> returns 0 if the entity selection is empty.</p><p>The sum can only be done on values of number type. If the <em>attributePath</em> is an object property, only numerical values are taken into account for the calculation (other value types are ignored). In this case, if <em>attributePath</em> leads to a property that does not exist in the object or does not contain any numeric values, <code>.sum()</code> returns 0.</p><p>Um erro é retornado se:</p><ul><li><em>attributePath</em> is not a numerical or an object attribute,</li><li><em>attributePath</em> é um atributo relativo,</li><li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-21">Exemplo<a class="hash-link" href="#exemplo-21" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $sel : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $sum : Real</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$sel:=ds. Employee.query(&quot;salary &lt; :1&quot;;20000)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$sum:=$sel.sum(&quot;salary&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tocollection">.toCollection()<a class="hash-link" href="#tocollection" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.toCollection</strong>( { <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer } } ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterString</em> : Text {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterCol</em> : Collection {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em></p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>filterString</td><td>Text</td><td align="center">-&gt;</td><td>String with entity attribute path(s) to extract</td></tr><tr><td>filterCol</td><td>Collection</td><td align="center">-&gt;</td><td>Collection of entity attribute path(s) to extract</td></tr><tr><td>options</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk with primary key</code>: adds the primary key<br><code>dk with stamp</code>: adds the stamp</td></tr><tr><td>begin</td><td>Integer</td><td align="center">-&gt;</td><td>Designates the starting index</td></tr><tr><td>howMany</td><td>Integer</td><td align="center">-&gt;</td><td>Number of entities to extract</td></tr><tr><td>Resultados</td><td>Collection</td><td align="center">&lt;-</td><td>Collection of objects containing attributes and values of entity selection</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-33">Descrição<a class="hash-link" href="#descrição-33" title="Direct link to heading">​</a></h4><p>The <code>.toCollection()</code> function creates and returns a collection where each element is an object containing a set of properties and values corresponding to the attribute names and values for the entity selection.</p><p>If no filter parameter is passed or the first parameter contains an empty string or &quot;*&quot;, all the attributes are extracted. Attributes with <a href="/docs/pt/API/DataClassAttributeClass#kind">kind</a> property as &quot;relatedEntity&quot; are extracted with the simple form: an object with property <!-- -->_<!-- -->_<!-- -->KEY (primary key). Attributes with kind property as &quot;relatedEntities&quot; are not extracted.</p><p>Or, you can designate the entity attributes to extract using a filter parameter. You can use one of these two filters:</p><ul><li><em>filterString</em> --a string with property paths separated with commas: &quot;propertyPath1, propertyPath2, ...&quot;.</li><li><em>filterCol</em> --a collection of strings containing property paths: <!-- -->[<!-- -->&quot;propertyPath1&quot;,&quot;propertyPath2&quot;,...]</li></ul><p>If a filter is specified for an attribute of the <code>relatedEntity</code> kind:</p><ul><li>propertyPath = &quot;relatedEntity&quot; -&gt; it is extracted with simple form</li><li>propertyPath = &quot;relatedEntity.*&quot; -&gt; all the properties are extracted</li><li>propertyPath = &quot;relatedEntity.propertyName1, relatedEntity.propertyName2, ...&quot; -&gt; only those properties are extracted</li></ul><p>If a filter is specified for an attribute of the <code>relatedEntities</code> kind:</p><ul><li>propertyPath = &quot;relatedEntities.*&quot; -&gt; all the properties are extracted</li><li>propertyPath = &quot;relatedEntities.propertyName1, relatedEntities.propertyName2, ...&quot; -&gt; only those properties are extracted</li></ul><p>In the <em>options</em> parameter, you can pass the <code>dk with primary key</code> and/or <code>dk with stamp</code> selector(s) to add the entity&#x27;s primary keys and/or stamps in extracted objects.</p><p>The <em>begin</em> parameter allows you to indicate the starting index of the entities to extract. You can pass any value between 0 and entity selection length-1.</p><p>The <em>howMany</em> parameter lets you specify the number of entities to extract, starting with the one specified in <em>begin</em>. Dropped entities are not returned but are taken into account according to <em>howMany</em>. For example, if <em>howMany</em>= 3 and there is 1 dropped entity, only 2 entities are extracted.</p><p>If <em>howMany</em> &gt; length of the entity selection, the method returns (length - <em>begin</em>) objects.</p><p>An empty collection is returned if:</p><ul><li>the entity selection is empty, or</li><li><em>begin</em> is greater than the length of the entity selection.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-10">Exemplo 1<a class="hash-link" href="#exemplo-1-10" title="Direct link to heading">​</a></h4><p>The following structure will be used throughout all examples of this section:</p><p><img loading="lazy" src="/docs/pt/assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png" width="1000" height="610" class="img_ev3q"></p><p>Example without filter or options parameter:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.all()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employeesCollection:=$employees.toCollection()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;ID&quot;: 416,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;salary&quot;: 79100,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;ID&quot;: 417,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;salary&quot;: 47000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;birthDate&quot;: &quot;1992-06-16T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-10">Exemplo 2<a class="hash-link" href="#exemplo-2-10" title="Direct link to heading">​</a></h4><p>Example with options:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employees:=ds. Employee.all()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;&quot;;dk with primary key+dk with stamp)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__KEY&quot;: 416,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;ID&quot;: 416,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;salary&quot;: 79100,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__KEY&quot;: 417,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;ID&quot;: 417,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;salary&quot;: 47000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;birthDate&quot;: &quot;1992-06-16T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3-3">Exemplo 3<a class="hash-link" href="#exemplo-3-3" title="Direct link to heading">​</a></h4><p>Example with slicing and filtering on properties:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $employeesCollection; $filter : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$filter:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$filter.push(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$filter.push(&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employees:=ds.Employee.all()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=$employees.toCollection($filter;0;0;2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-4-1">Exemplo 4<a class="hash-link" href="#exemplo-4-1" title="Direct link to heading">​</a></h4><p>Example with <code>relatedEntity</code> type with simple form:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;firstName,lastName,employer&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-5-1">Exemplo 5<a class="hash-link" href="#exemplo-5-1" title="Direct link to heading">​</a></h4><p>Example with <em>filterCol</em> parameter:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $employeesCollection; $coll : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$coll:=New collection(&quot;firstName&quot;;&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=$employees.toCollection($coll)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Joanna&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Cabrera&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Alexandra&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Coleman&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-6-1">Exemplo 6<a class="hash-link" href="#exemplo-6-1" title="Direct link to heading">​</a></h4><p>Example with extraction of all properties of a relatedEntity:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $employeesCollection; $coll : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$coll:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$coll.push(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$coll.push(&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$coll.push(&quot;employer.*&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=$employees.toCollection($coll)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;India Astral Secretary&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;creationDate&quot;: &quot;1984-08-25T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;revenues&quot;: 12000000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;extra&quot;: null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-7-1">Exemplo 7<a class="hash-link" href="#exemplo-7-1" title="Direct link to heading">​</a></h4><p>Example with extraction of some properties of a relatedEntity:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;firstName, lastName, employer.name&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;India Astral Secretary&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-8-1">Exemplo 8<a class="hash-link" href="#exemplo-8-1" title="Direct link to heading">​</a></h4><p>Example with extraction of some properties of <code>relatedEntities</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employeesCollection:=$employees.toCollection(&quot;firstName, lastName, directReports.firstName&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;directReports&quot;: []</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Mike&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Phan&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;firstName&quot;: &quot;Gary&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;firstName&quot;: &quot;Sadie&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;firstName&quot;: &quot;Christie&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Gary&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Reichert&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;firstName&quot;: &quot;Rex&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;firstName&quot;: &quot;Jenny&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;firstName&quot;: &quot;Lowell&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-9-1">Exemplo 9<a class="hash-link" href="#exemplo-9-1" title="Direct link to heading">​</a></h4><p>Example with extraction of all properties of <code>relatedEntities</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;firstName, lastName, directReports.*&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;directReports&quot;: []</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Mike&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Phan&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;ID&quot;: 425,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;firstName&quot;: &quot;Gary&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;lastName&quot;: &quot;Reichert&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;salary&quot;: 65800,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;birthDate&quot;: &quot;1957-12-23T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;managerID&quot;: 424,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;employerID&quot;: 21,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;__KEY&quot;: 21</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;__KEY&quot;: 424</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;ID&quot;: 426,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;firstName&quot;: &quot;Sadie&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;lastName&quot;: &quot;Gallant&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;salary&quot;: 35200,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;birthDate&quot;: &quot;2022-01-03T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;managerID&quot;: 424,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;employerID&quot;: 21,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;__KEY&quot;: 21</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;__KEY&quot;: 424</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                   ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;firstName&quot;: &quot;Gary&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastName&quot;: &quot;Reichert&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;ID&quot;: 428,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;firstName&quot;: &quot;Rex&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;lastName&quot;: &quot;Chance&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;salary&quot;: 71600,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;birthDate&quot;: &quot;1968-08-09T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;managerID&quot;: 425,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;employerID&quot;: 21,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;__KEY&quot;: 21</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;__KEY&quot;: 425</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;ID&quot;: 429,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;firstName&quot;: &quot;Jenny&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;lastName&quot;: &quot;Parks&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;salary&quot;: 51300,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;birthDate&quot;: &quot;1984-05-25T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;managerID&quot;: 425,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;employerID&quot;: 21,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;__KEY&quot;: 21</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;__KEY&quot;: 425</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pt/API/EntityClass"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Entity</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pt/API/FileClass"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">File</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#resumo" class="table-of-contents__link toc-highlight">Resumo</a></li><li><a href="#criar-uma-seleção-de-entidades-entity-selection" class="table-of-contents__link toc-highlight">Criar uma seleção de entidades (entity selection)</a></li><li><a href="#use-entity-selection" class="table-of-contents__link toc-highlight">USE ENTITY SELECTION</a></li><li><a href="#index" class="table-of-contents__link toc-highlight">[<em>index</em>]</a></li><li><a href="#attributename" class="table-of-contents__link toc-highlight">.<em>attributeName</em></a></li><li><a href="#add" class="table-of-contents__link toc-highlight">.add()</a></li><li><a href="#and" class="table-of-contents__link toc-highlight">.and()</a></li><li><a href="#average" class="table-of-contents__link toc-highlight">.average()</a></li><li><a href="#contains" class="table-of-contents__link toc-highlight">.contains()</a></li><li><a href="#count" class="table-of-contents__link toc-highlight">.count()</a></li><li><a href="#copy" class="table-of-contents__link toc-highlight">.copy()</a></li><li><a href="#distinct" class="table-of-contents__link toc-highlight">.distinct()</a></li><li><a href="#drop" class="table-of-contents__link toc-highlight">.drop()</a></li><li><a href="#extract" class="table-of-contents__link toc-highlight">.extract()</a></li><li><a href="#first" class="table-of-contents__link toc-highlight">.first()</a></li><li><a href="#getdataclass" class="table-of-contents__link toc-highlight">.getDataClass()</a></li><li><a href="#getremotecontextattributes" class="table-of-contents__link toc-highlight">.getRemoteContextAttributes()</a></li><li><a href="#isalterable" class="table-of-contents__link toc-highlight">.isAlterable()</a></li><li><a href="#isordered" class="table-of-contents__link toc-highlight">.isOrdered()</a></li><li><a href="#last" class="table-of-contents__link toc-highlight">.last()</a></li><li><a href="#length" class="table-of-contents__link toc-highlight">.length</a></li><li><a href="#max" class="table-of-contents__link toc-highlight">.max()</a></li><li><a href="#min" class="table-of-contents__link toc-highlight">.min()</a></li><li><a href="#minus" class="table-of-contents__link toc-highlight">.minus()</a></li><li><a href="#or" class="table-of-contents__link toc-highlight">.or()</a></li><li><a href="#orderby" class="table-of-contents__link toc-highlight">.orderBy()</a></li><li><a href="#orderbyformula" class="table-of-contents__link toc-highlight">.orderByFormula()</a></li><li><a href="#query" class="table-of-contents__link toc-highlight">.query()</a></li><li><a href="#querypath" class="table-of-contents__link toc-highlight">.queryPath</a></li><li><a href="#queryplan" class="table-of-contents__link toc-highlight">.queryPlan</a></li><li><a href="#refresh" class="table-of-contents__link toc-highlight">.refresh()</a></li><li><a href="#selected" class="table-of-contents__link toc-highlight">.selected()</a></li><li><a href="#slice" class="table-of-contents__link toc-highlight">.slice()</a></li><li><a href="#sum" class="table-of-contents__link toc-highlight">.sum()</a></li><li><a href="#tocollection" class="table-of-contents__link toc-highlight">.toCollection()</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Developer Center</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Where It All Began)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Knowledgebase</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">About 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D around the world<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2022 4D SAS - All rights reserved</div></div></div></footer></div>
<script src="/docs/pt/assets/js/runtime~main.d102819a.js"></script>
<script src="/docs/pt/assets/js/main.ed90666d.js"></script>
</body>
</html>