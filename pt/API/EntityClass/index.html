<!doctype html>
<html lang="pt" dir="ltr" class="docs-wrapper docs-doc-page docs-version-19-R7 plugin-docs plugin-id-default docs-doc-id-API/EntityClass">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Entity | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://4d.github.io//docs/pt/../assets/en/logohome.png"><meta data-rh="true" name="twitter:image" content="https://4d.github.io//docs/pt/../assets/en/logohome.png"><meta data-rh="true" property="og:url" content="https://4d.github.io//docs/pt/API/EntityClass"><meta data-rh="true" name="docusaurus_locale" content="pt"><meta data-rh="true" name="docsearch:language" content="pt"><meta data-rh="true" name="docusaurus_version" content="19-R7"><meta data-rh="true" name="docusaurus_tag" content="docs-default-19-R7"><meta data-rh="true" name="docsearch:version" content="19-R7"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-19-R7"><meta data-rh="true" property="og:title" content="Entity | 4D Docs"><meta data-rh="true" name="description" content="Uma entidade  é uma instância de um Dataclass, como um registro da tabela que corresponde ao dataclass em seu datasture associado. Contém os mesmos atributos que o dataclass assim como os valores de dados e propriedades e funções específicas."><meta data-rh="true" property="og:description" content="Uma entidade  é uma instância de um Dataclass, como um registro da tabela que corresponde ao dataclass em seu datasture associado. Contém os mesmos atributos que o dataclass assim como os valores de dados e propriedades e funções específicas."><link data-rh="true" rel="icon" href="/docs/pt/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://4d.github.io//docs/pt/API/EntityClass"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/API/EntityClass" hreflang="en"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/fr/API/EntityClass" hreflang="fr"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/es/API/EntityClass" hreflang="es"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/ja/API/EntityClass" hreflang="ja"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/pt/API/EntityClass" hreflang="pt"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/API/EntityClass" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/pt/opensearch.xml"><link rel="stylesheet" href="/docs/pt/assets/css/styles.7bd82bcd.css">
<link rel="preload" href="/docs/pt/assets/js/runtime~main.d102819a.js" as="script">
<link rel="preload" href="/docs/pt/assets/js/main.b3a60ff9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/pt/"><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/pt/GettingStarted/installation">v19 R7 BETA</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/pt/API/EntityClass">v19 R7 BETA</a></li><li><a class="dropdown__link" href="/docs/pt/19-R6/API/EntityClass">v19 R6</a></li><li><a class="dropdown__link" href="/docs/pt/19/API/EntityClass">v19</a></li><li><a class="dropdown__link" href="/docs/pt/18/GettingStarted/installation">v18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Português</a><ul class="dropdown__menu"><li><a href="/docs/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/es/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/docs/pt/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Pesquisa"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Pesquisa</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/GettingStarted/installation">Começando</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/pt/Project/overview">Core Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/Project/overview">Project Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/Concepts/about">4D Language Concepts</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://doc.4d.com/4Dv19R6/4D/19-R6/4D-Language-Reference.100-5910320.en.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">4D Language Reference<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/ORDA/overview">ORDA</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/pt/API/overview">Class API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/overview">Class API Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/BlobClass">Blob</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/ClassClass">Class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/CollectionClass">Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/CryptoKeyClass">CryptoKey</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/DataClassClass">DataClass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/DataClassAttributeClass">DataClassAttribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/DataStoreClass">DataStore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/EmailObjectClass">Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pt/API/EntityClass">Entity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/EntitySelectionClass">EntitySelection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/FileClass">File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/FileHandleClass">FileHandle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/FolderClass">Folder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/FunctionClass">Formula</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/HTTPRequestClass">HTTPRequest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/IMAPTransporterClass">IMAPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/MailAttachmentClass">MailAttachment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/POP3TransporterClass">POP3Transporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/SessionClass">Session</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/SignalClass">Signal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/SMTPTransporterClass">SMTPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/SystemWorkerClass">SystemWorker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/WebServerClass">WebServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/ZipArchiveClass">ZIPArchive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/ZipFileClass">ZIPFile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/API/ZipFolderClass">ZIPFolder</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/code-editor/overview">Handling Code</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/Debugging/basics">Debugging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/settings/overview">Settings</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/Preferences/overview">Preferences</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/ServerWindow/overview">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/Extensions/overview">Extensions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/WebServer/overview">Web Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/Desktop/clientServer">Desktop Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developer.4d.com/go-mobile/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Mobile Applications</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/pt/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Core Development</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Class API Reference</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Entity</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v19 R7 BETA</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Entity</h1></header><p>Uma entidade <a href="/docs/pt/ORDA/dsmapping#entity"></a> é uma instância de um <a href="/docs/pt/ORDA/dsmapping#dataclass">Dataclass</a>, como um registro da tabela que corresponde ao dataclass em seu datasture associado. Contém os mesmos atributos que o dataclass assim como os valores de dados e propriedades e funções específicas.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resumo">Resumo<a class="hash-link" href="#resumo" title="Direct link to heading">​</a></h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#attributename"><strong><em>.attributeName</em></strong> : DataClassAttribute</a> <!-- --> <!-- --> <!-- --> <!-- -->stores the attribute value for the entity</td></tr><tr><td><a href="#clone"><strong>.clone()</strong> : 4D. Entity</a> <!-- --> <!-- --> <!-- --> <!-- -->creates in memory a new entity referencing the same record as the original entity</td></tr><tr><td><a href="#diff"><strong>.diff</strong>( <em>entityToCompare</em> : 4D. Entity { ; <em>attributesToCompare</em> : Collection } ) : Collection</a> <!-- --> <!-- --> <!-- --> <!-- -->compares the contents of two entities and returns their differences</td></tr><tr><td><a href="#drop"><strong>.drop</strong>( {<em>mode</em> : Integer} ) : Object</a> <!-- --> <!-- --> <!-- --> <!-- -->deletes the data contained in the entity from the datastore</td></tr><tr><td><a href="#first"><strong>.first()</strong>: 4D. Entity</a> <!-- --> <!-- --> <!-- --> <!-- -->returns a reference to the entity in first position of the entity selection which the entity belongs to</td></tr><tr><td><a href="#fromobject"><strong>.fromObject</strong>( <em>filler</em> : Object )</a> <!-- --> <!-- --> <!-- --> <!-- -->fills an entity with the <em>filler</em> content</td></tr><tr><td><a href="#getdataclass"><strong>.getDataClass()</strong> : 4D. DataClass</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the dataclass of the entity</td></tr><tr><td><a href="#getkey"><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Text<br><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Integer</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the primary key value of the entity</td></tr><tr><td><a href="#getremotecontextattributes"><strong>.getRemoteContextAttributes()</strong> : Text</a> <!-- --> <!-- --> <!-- --> <!-- -->returns information about the optimization context used by the entity</td></tr><tr><td><a href="#getselection"><strong>.getSelection()</strong>: 4D. EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the entity selection which the entity belongs to</td></tr><tr><td><a href="#getstamp"><strong>.getStamp()</strong> : Integer</a> <!-- --> <!-- --> <!-- --> <!-- --> returns the current value of the stamp of the entity</td></tr><tr><td><a href="#indexof"><strong>.indexOf</strong>( { <em>entitySelection</em> : 4D. EntitySelection } ) : Integer</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the position of the entity in an entity selection</td></tr><tr><td><a href="#isnew"><strong>.isNew()</strong> : Boolean</a> <!-- --> <!-- --> <!-- --> <!-- --> returns True if the entity to which it is applied has just been created and has not yet been saved in the datastore</td></tr><tr><td><a href="#last"><strong>.last()</strong> : 4D. Entity</a> <!-- --> <!-- --> <!-- --> <!-- -->returns a reference to the entity in last position of the entity selection which the entity belongs to</td></tr><tr><td><a href="#lock"><strong>.lock</strong>( { <em>mode</em> : Integer } ) : Object</a> <!-- --> <!-- --> <!-- --> <!-- -->puts a pessimistic lock on the record referenced by the entity</td></tr><tr><td>[</td></tr><tr><td><a href="#previous"><strong>.previous()</strong>  : 4D. Entity</a> <!-- --> <!-- --> <!-- --> <!-- --> returns a reference to the previous entity in the entity selection which the entity belongs to</td></tr><tr><td><a href="#reload"><strong>.reload()</strong> : Object</a> <!-- --> <!-- --> <!-- --> <!-- -->reloads the content of the entity in memory</td></tr><tr><td><a href="#save"><strong>.save</strong>( { <em>mode</em> : Integer } ) : Object</a> <!-- --> <!-- --> <!-- --> <!-- -->saves the changes made to the entity</td></tr><tr><td><a href="#toobject"><strong>.toObject</strong>() : Object<br><strong>.toObject</strong>( <em>filterString</em> : Text { ; <em>options</em> : Integer}  ) : Object<br><strong>.toObject</strong>( <em>filterCol</em> : Collection { ; <em>options</em> : Integer } ) : Object</a> <!-- --> <!-- --> <!-- --> <!-- -->returns an object which has been built from the entity</td></tr><tr><td><a href="#touched"><strong>.touched()</strong> : Boolean</a> <!-- --> <!-- --> <!-- --> <!-- -->tests whether or not an entity attribute has been modified since the entity was loaded into memory or saved</td></tr><tr><td><a href="#touchedattributes"><strong>.touchedAttributes()</strong> : Collection</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the names of the attributes that have been modified since the entity was loaded into memory</td></tr><tr><td><a href="#unlock"><strong>.unlock()</strong> : Object</a> <!-- --> <!-- --> <!-- --> <!-- -->removes the pessimistic lock on the record matching the entity</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="attributename">.<em>attributeName</em><a class="hash-link" href="#attributename" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong><em>.attributeName</em></strong> : DataClassAttribute</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição">Descrição<a class="hash-link" href="#descrição" title="Direct link to heading">​</a></h4><p>Any dataclass attribute is available as a property of an entity, which stores the attribute value for the entity.</p><blockquote><p>Atributos de Dataclass também podem ser alcançados usando a sintaxe alternativa com <!-- -->[<!-- --> ].</p></blockquote><p>O tipo de valor do atributo depende do tipo do atributo <a href="/docs/pt/API/DataClassAttributeClass#kind">atributo</a> (relação ou armazenamento):</p><ul><li>If <em>attributeName</em> kind is <strong>storage</strong>: <code>.attributeName</code> returns a value of the same type as <em>attributeName</em>.</li><li>If <em>attributeName</em> kind is <strong>relatedEntity</strong>: <code>.attributeName</code> returns the related entity. Valores da entidade relacionada estão diretamente disponíveis através de propriedades em cascata, por exemplo &quot;myEntity.employer.employees<!-- -->[<!-- -->0].lastname&quot;.</li><li>If <em>attributeName</em> kind is <strong>relatedEntities</strong>: <code>.attributeName</code> returns a new entity selection of related entities. Se eliminam os duplicados (se devolve uma seleção de entidades desordenada).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo">Exemplo<a class="hash-link" href="#exemplo" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $myEntity : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $myEntity:=ds. Employee.new() //Create a new entity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $myEntity.name:=&quot;Dupont&quot; // assign &#x27;Dupont&#x27; to the &#x27;name&#x27; attribute</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $myEntity.firstname:=&quot;John&quot; //assign &#x27;John&#x27; to the &#x27;firstname&#x27; attribute</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $myEntity.save() //save the entity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="clone">.clone()<a class="hash-link" href="#clone" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.clone()</strong> : 4D. Entity</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. Entity</td><td align="center">&lt;-</td><td>Nova entidade referenciando o registro</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-1">Descrição<a class="hash-link" href="#descrição-1" title="Direct link to heading">​</a></h4><p>A função <code>.clone()</code> creates in memory a new entity referencing the same record as the original entity. Esta função permite que você atualize as entidades separadamente.</p><blockquote><p>Tenha em mente que quaisquer modificações feitas a entidades serão salvas no registro referenciado somente quando o <a href="#save"><code>. ave( )</code></a> função for executada.</p></blockquote><p>Esta função só pode ser usada com entidades já salvas no banco de dados. Ele não pode ser chamado em uma entidade recém-criada (para a qual <a href="#isnew"><code>.isNew()</code></a> retorna <strong>Verdadeiro</strong>).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1">Exemplo<a class="hash-link" href="#exemplo-1" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp; $empCloned : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=ds. Employee.get(672)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empCloned:=$emp.clone()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.lastName:=&quot;Smith&quot; //Updates done on $emp are not done on $empCloned</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="diff">.diff()<a class="hash-link" href="#diff" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.diff</strong>( <em>entityToCompare</em> : 4D. Entity { ; <em>attributesToCompare</em> : Collection } ) : Collection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entityToCompare</td><td>4D. Entity</td><td align="center">-&gt;</td><td>Entidade a ser comparada com a entidade original</td></tr><tr><td>attributesToCompare</td><td>Collection</td><td align="center">-&gt;</td><td>Nome dos atributos a serem comparados</td></tr><tr><td>Resultados</td><td>Collection</td><td align="center">&lt;-</td><td>Diferenças entre as entidades</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-2">Descrição<a class="hash-link" href="#descrição-2" title="Direct link to heading">​</a></h4><p>A função <code>.diff()</code> compares the contents of two entities and returns their differences.</p><p>No <em>entityToCompare</em>, passe a entidade a ser comparada à entidade original.</p><p>Em <em>attributesToCompare</em>, pode designar atributos específicos para comparar. Se fornecida, a comparação é feita apenas nos atributos especificados. Se não for fornecida, todas as diferenças entre as entidades são devolvidas.</p><p>As diferenças são retornadas como uma coleção de objetos cujas propriedades são:</p><table><thead><tr><th>Nome da propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>attributeName</td><td>String</td><td>Nome do atributo</td></tr><tr><td>value</td><td>any - Depende do tipo de atributo</td><td>Valor do atributo na entidade</td></tr><tr><td>otherValue</td><td>any - Depende do tipo de atributo</td><td>Valor do atributo em <em>entityToCompare</em></td></tr></tbody></table><p>Apenas atributos com valores diferentes estão incluídos na coleção. Se nenhuma diferença for encontrada, <code>.diff()</code> retorna uma coleção vazia.</p><p>A função se aplica para propriedades cujo <a href="/docs/pt/API/DataClassAttributeClass#kind">tipo</a> é <strong>de armazenamento</strong> ou <strong>relacionada a Entidade</strong>. No caso de uma entidade relacionada ter sido atualizada (ou seja, a chave estrangeira), o nome da entidade relacionada e seu nome de chave primária são retornados como propriedades <em>attributeName</em> ( value*<em> e </em>outroValue* estão vazios para o nome da entidade relacionada).</p><p>Se uma das entidades comparadas for <strong>Null</strong>, um erro é gerado.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-1">Exemplo 1<a class="hash-link" href="#exemplo-1-1" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $diff1; $diff2 : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> employee:=ds. Employee.query(&quot;ID=1001&quot;).first()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $clone:=employee.clone()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> employee.firstName:=&quot;MARIE&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> employee.lastName:=&quot;SOPHIE&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> employee.salary:=500</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $diff1:=$clone.diff(employee) // All differences are returned</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $diff2:=$clone.diff(employee;New collection&quot;firstName&quot;;&quot;lastName&quot;))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Only differences on firstName and lastName are returned</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>$diff1:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: &quot;Natasha&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: &quot;MARIE&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: &quot;Locke&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: &quot;SOPHIE&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;salary&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: 66600,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: 500</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$diff2:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: &quot;Natasha&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: &quot;MARIE&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: &quot;Locke&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: &quot;SOPHIE&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2">Exemplo 2<a class="hash-link" href="#exemplo-2" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var vCompareResult1; vCompareResult2; vCompareResult3; $attributesToInspect : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> vCompareResult1:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> vCompareResult2:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> vCompareResult3:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $attributesToInspect:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e1:=ds. Employee.get(636)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e2:=ds. Employee.get(636)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e1.firstName:=$e1.firstName+&quot; update&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e1.lastName:=$e1.lastName+&quot; update&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $c:=ds. Company.get(117)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e1.employer:=$c</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e2.salary:=100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $attributesToInspect.push(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $attributesToInspect.push(&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> vCompareResult1:=$e1.diff($e2)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> vCompareResult2:=$e1.diff($e2;$attributesToInspect)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> vCompareResult3:=$e1.diff($e2;$e1.touchedAttributes())</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>vCompareResultado1 (todas as diferenças são devolvidas):</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: &quot;Karla update&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: &quot;Karla&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: &quot;Marrero update&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: &quot;Marrero&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;salary&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: 33500,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: 100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;employerID&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: 117,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: 118</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;employer&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: &quot;[object Entity]&quot;,// Entity 117 from Company</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: &quot;[object Entity]&quot;// Entity 118 from Company</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>vCompareResult2 (apenas diferenças em $attributesToInspect foram retornadas)</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;valor&quot;: &quot;Karla update&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;outroValor&quot;: &quot;Karla&quot;: &quot;Karla&quot;.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;últimoNome&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;valor&quot;: &quot;Marrero update&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;outroValor&quot;: &quot;Marrero&quot;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>vCompareResult3 (apenas as diferenças em $e1 atributos tocados são retornadas)</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: &quot;Karla update&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: &quot;Karla&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: &quot;Marrero update&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: &quot;Marrero&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;employerID&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: 117,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: 118</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;attributeName&quot;: &quot;employer&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;value&quot;: &quot;[object Entity]&quot;,// Entity 117 from Company</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;otherValue&quot;: &quot;[object Entity]&quot;// Entity 118 from Company</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="drop">.drop()<a class="hash-link" href="#drop" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.drop</strong>( {<em>mode</em> : Integer} ) : Object</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk force drop if stamp changed</code>: Força a queda mesmo se a estampa tiver mudado</td></tr><tr><td>Resultados</td><td>Objeto</td><td align="center">&lt;-</td><td>Result of drop operation</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-3">Descrição<a class="hash-link" href="#descrição-3" title="Direct link to heading">​</a></h4><p>A função <code>.drop()</code> deletes the data contained in the entity from the datastore, from the table related to its Dataclass. Note-se que a entidade permanece na memória.</p><p>Numa aplicação multiusuário ou multiprocesso, a função <code>.drop()</code> é executada sob um mecanismo <a href="/docs/pt/ORDA/entities#entity-locking">&quot;optimistic lock&quot;</a> , no qual um selo de bloqueio interno é automaticamente incrementado cada vez que o registo for guardado.</p><p>Por padrão, se o parâmetro <em>modo</em> for omitido, a função retornará um erro (veja abaixo) se a mesma entidade tiver sido modificada (ou seja, O selo mudou) por outro processo ou usuário nesse meio tempo.</p><p>Caso contrário, pode passar a opção <code>dk force drop if stamp changed</code> no parâmetro <em>mode</em> : nesse caso, a entidade é abandonada mesmo que a estampa tenha sido alterada (e a chave primária continua a ser a mesma).</p><p><strong>Resultados</strong></p><p>O objecto devolvido por <code>.drop( )</code> contém as seguintes propriedades:</p><table><thead><tr><th>Propriedade</th><th></th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>success</td><td></td><td>boolean</td><td>verdadeiro se a ação de queda for bem-sucedida, falso caso contrário.</td></tr><tr><td></td><td></td><td></td><td><strong><em>Disponível apenas em caso de erro:</em></strong></td></tr><tr><td>status(*)</td><td></td><td>number</td><td>Código de erro, ver abaixo</td></tr><tr><td>statusText(*)</td><td></td><td>text</td><td>Descrição do erro, ver abaixo</td></tr><tr><td></td><td></td><td></td><td><strong><em>Disponível apenas em caso de erro de bloqueio pessimista:</em></strong></td></tr><tr><td>LockKindText</td><td></td><td>text</td><td>&quot;Bloqueado pelo registro&quot;</td></tr><tr><td>lockInfo</td><td></td><td>object</td><td>Informações sobre a origem do bloqueio</td></tr><tr><td></td><td>task_id</td><td>number</td><td>Process ID</td></tr><tr><td></td><td>user_name</td><td>text</td><td>Nome de usuário de sessão na máquina</td></tr><tr><td></td><td>user4d_alias</td><td>text</td><td>Pseudônimo do usuário se definido por <code>SET USER ALIAS</code>, caso contrário, nome de usuário no diretório 4D</td></tr><tr><td></td><td>host_name</td><td>text</td><td>Nome da máquina</td></tr><tr><td></td><td>task_name</td><td>text</td><td>Nome de processo</td></tr><tr><td></td><td>client_version</td><td>text</td><td></td></tr><tr><td></td><td></td><td></td><td><strong><em>Disponível apenas em caso de erro grave (erro grave pode ser tentar duplicar uma chave primária, disco cheio...):</em></strong></td></tr><tr><td>errors</td><td></td><td>uma coleção de objetos</td><td></td></tr><tr><td></td><td>message</td><td>text</td><td>Mensagem de erro</td></tr><tr><td></td><td>assinatura de componentes</td><td>text</td><td>assinatura interna do componente (ex.: &quot;dmbg&quot; significa componente da base de dados)</td></tr><tr><td></td><td>errCode</td><td>number</td><td>Error code</td></tr></tbody></table><p>(<!-- -->*<!-- -->) Os seguintes valores podem ser devolvidos nas propriedades <em>status</em> e <em>statusText</em> do objecto <em>Result</em> em caso de erro:</p><table><thead><tr><th>Constante</th><th>Value</th><th>Comentário</th></tr></thead><tbody><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>A entidade não existe mais nos dados. Este erro pode ocorrer nos seguintes casos:<br><li>a entidade foi descartada (o selo mudou e o espaço de memória é agora livre)</li><li>a entidade foi descartada e substituída por outra chave primária (o selo mudou e uma nova entidade agora usa o espaço de memória). Ao utilizar entity.drop( ), este erro pode ser devolvido quando usar a opção dk force drop if stamp changed. Ao usar entity.lock( ), este erro pode ser retornado quando usar a opção dk if stamp changed</li> <strong>statusText asociado</strong>: &quot;A entidade já não existe&quot;</td></tr><tr><td><code>dk status locked</code></td><td>3</td><td>The entity is locked by a pessimistic lock.<br> <strong>Associated statusText</strong>: &quot;Already locked&quot;</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.<br><strong>Associated statusText</strong>: &quot;Other error&quot;</td></tr><tr><td><code>dk status stamp has changed</code></td><td>2</td><td>O valor de selo interno da entidade não corresponde a uma da entidade armazenada nos dados (bloqueio otimista).<br><li>com <code>.save( )</code>: erro apenas se a opção <code>dk auto merge&#x27; não for utilizada&lt;/li&gt;&lt;li&gt;com </code>.drop( )<code>: erro apenas se a opção </code>dk force drop if stamp changed&#x27; não for utilizada</li><li>com <code>.lock( )</code>: erro apenas se a opção <code>dk reload if stamp changed</code> não for usada</li><li><strong>Associated statusText*</strong>: &quot;O carimbo mudou&quot;</li></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-2">Exemplo 1<a class="hash-link" href="#exemplo-1-2" title="Direct link to heading">​</a></h4><p>Exemplo sem a opção <code>dk force drop if stamp changed</code> :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=$employee.drop()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT(&quot;You have dropped &quot;+$employee.firstName+&quot; &quot;+$employee.lastName) //The dropped entity remains in memory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-1">Exemplo 2<a class="hash-link" href="#exemplo-2-1" title="Direct link to heading">​</a></h4><p>Exemplo com a opção<code>dk force drop if stamp changed</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=$employee.drop(dk force drop if stamp changed)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT(&quot;You have dropped &quot;+$employee.firstName+&quot; &quot;+$employee.lastName) //The dropped entity remains in memory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.status=dk status entity does not exist anymore)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="first">.first()<a class="hash-link" href="#first" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.first()</strong>: 4D. Entity</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. Entity</td><td align="center">&lt;-</td><td>Reference to first entity of an entity selection (Null if not found)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-4">Descrição<a class="hash-link" href="#descrição-4" title="Direct link to heading">​</a></h4><p>A função <code>.first()</code> returns a reference to the entity in first position of the entity selection which the entity belongs to.</p><p>Se a entidade não pertence a nenhuma seleção de entidade existente (ex: <a href="#getselection">.getSelection( )</a> retorna Null), a função retorna um valor nulo.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3">Exemplo<a class="hash-link" href="#exemplo-3" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee; $firstEmployee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //This entity selection contains 3 entities</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees[2]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $firstEmployee:=$employee.first() //$firstEmployee is the first entity of the $employees entity selection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fromobject">.fromObject()<a class="hash-link" href="#fromobject" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.fromObject</strong>( <em>filler</em> : Object )</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>filler</td><td>Objeto</td><td align="center">-&gt;</td><td>Object from which to fill the entity</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-5">Descrição<a class="hash-link" href="#descrição-5" title="Direct link to heading">​</a></h4><p>A função <code>.fromObject()</code> fills an entity with the <em>filler</em> content.</p><blockquote><p>Essa função modifica a entidade original.</p></blockquote><p>O mapeamento entre o objecto e a entidade é feito sobre os nomes dos atributos:</p><ul><li>Se uma propriedade do objeto não existe nos dados (dataclass), ela é ignorada.</li><li>Os tipos de dados devem ser equivalentes. Se houver uma incompatibilidade de tipo entre o objeto e o dataclass, 4D tenta converter os dados sempre que possível (consulte <a href="/docs/pt/Concepts/data-types#converting-data-types"><code>Conversão de tipos de dados</code></a>), caso contrário, o atributo fica intacto.</li><li>A chave primária pode ser dada como é ou com uma propriedade &quot;__KEY&quot; (preenchida com o valor da chave primária). Se ainda não existir no dataclass, a entidade é criada com o valor dado quando <a href="#save">.save()</a> é chamado. Se a chave primária não for dada, a entidade é criada e o valor da chave primária é atribuído de acordo com as regras da base de dados. O auto-incremento só é calculado se a chave primária for nula.</li></ul><p><em>filler</em> pode tratar de uma entidade relacionada sob as seguintes condições:</p><ul><li><em>filler</em> contém a chave estrangeira em si, ou</li><li><em>filler</em> contém um objeto de propriedade com o mesmo nome da entidade relacionada, contendo uma propriedade única chamada &quot;<!-- -->_<!-- -->_<!-- -->KEY&quot;.</li><li>se a entidade relacionada não existir, ela é ignorada.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-4">Exemplo<a class="hash-link" href="#exemplo-4" title="Direct link to heading">​</a></h4><p>Com o seguinte objeto $o:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;firstName&quot;: &quot;Mary&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;lastName&quot;: &quot;Smith&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;salary&quot;: 36500,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;birthDate&quot;: &quot;1958-10-27T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;managerID&quot;: 411,// relatedEntity dada com PK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;employerID&quot;: 20 // relatedEntity dada com PK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>O código a seguir criará uma entidade com gerente e entidades relacionadas ao empregador.</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $o : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entity : cs. EmpEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity:=ds. Emp.new()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity.fromObject($o)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity.save()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Você também poderia usar uma entidade relacionada dada como um objeto:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;firstName&quot;: &quot;Marie&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;lastName&quot;: &quot;Lechat&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;salary&quot;: 68400,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;birthDate&quot;: &quot;1971-09-03T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;employer&quot;: {// relatedEntity dada como um objeto</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__KEY&quot;: &quot;21&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;manager&quot;: {// relatedEntity dada como um objeto</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__KEY&quot;: &quot;411&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getdataclass">.getDataClass()<a class="hash-link" href="#getdataclass" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getDataClass()</strong> : 4D. DataClass</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. DataClass</td><td align="center">&lt;-</td><td>DataClass object to which the entity belongs</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-6">Descrição<a class="hash-link" href="#descrição-6" title="Direct link to heading">​</a></h4><p>A função <code>.getDataClass()</code> returns the dataclass of the entity. Esta função é útil para configurar o código genérico.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-5">Exemplo<a class="hash-link" href="#exemplo-5" title="Direct link to heading">​</a></h4><p>O seguinte código genérico duplica qualquer entidade:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //duplicate_entity method</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //duplicate_entity($entity)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> #DECLARE($entity : 4D. Entity)  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entityNew : 4D. Entity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entityNew:=$entity.getDataClass().new() //create a new entity in the parent dataclass</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entityNew.fromObject($entity.toObject()) //get all attributes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entityNew[$entity.getDataClass().getInfo().primaryKey]:=Null //reset the primary key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=$entityNew.save() //save the duplicated entity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getkey">.getKey()<a class="hash-link" href="#getkey" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Text<br><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Integer</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk key as string</code>: a chave primária se devolve como uma string, sem importar o tipo de chave primária</td></tr><tr><td>Resultados</td><td>Text</td><td align="center">&lt;-</td><td>Valor do texto chave primária da entidade</td></tr><tr><td>Resultados</td><td>Integer</td><td align="center">&lt;-</td><td>Valor da chave primária numérica da entidade</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-7">Descrição<a class="hash-link" href="#descrição-7" title="Direct link to heading">​</a></h4><p>A função <code>.getKey()</code> returns the primary key value of the entity.</p><p>As chaves primárias podem ser números (Inteiro) ou strings. Você pode &quot;forçar&quot; o valor da chave primária retornado para ser uma string, independentemente do tipo de chave primária real, passando a <code>dk key como string</code> opção no parâmetro <em>modo</em>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-6">Exemplo<a class="hash-link" href="#exemplo-6" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ALERT(&quot;The primary key is &quot;+$employee.getKey(dk key as string))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getremotecontextattributes">.getRemoteContextAttributes()<a class="hash-link" href="#getremotecontextattributes" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v19R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getRemoteContextAttributes()</strong> : Text</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>result</td><td>Text</td><td>&lt;-</td><td>Context attributes linked to the entity, separated by a comma</td></tr></tbody></table><blockquote><p><strong>Advanced mode:</strong> This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-8">Descrição<a class="hash-link" href="#descrição-8" title="Direct link to heading">​</a></h4><p>A função <code>.getRemoteContextAttributes()</code> returns information about the optimization context used by the entity .</p><p>If there is no <a href="/docs/pt/ORDA/datastores#clientserver-optimization">optimization context</a> for the entity, the function returns an empty Text.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-7">Exemplo<a class="hash-link" href="#exemplo-7" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $ds : 4D. DataStoreImplementation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $address : cs. AddressEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $p : cs. PersonsEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $contextA : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $info : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $text : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$contextA:=New object(&quot;context&quot;; &quot;contextA&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$address:=$ds. Address.get(1; $contextA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$text:=&quot;&quot; For each ($p; $address.persons)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $text:=$p.firstname+&quot; &quot;+$p.lastname End for each</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$info:=$address.getRemoteContextAttributes()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">//$info = &quot;persons,persons.lastname,persons.firstname&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também">Veja também<a class="hash-link" href="#veja-também" title="Direct link to heading">​</a></h4><p><a href="/docs/pt/API/EntitySelectionClass#getRemoteContextAttributes">EntitySelection.getRemoteContextAttributes()</a><br><a href="/docs/pt/API/DataStoreClass#clearallremotecontexts">.clearAllRemoteContexts()</a><br><a href="/docs/pt/API/DataStoreClass#getremotecontextinfo">.getRemoteContextInfo()</a><br><a href="/docs/pt/API/DataStoreClass#getallremotecontexts">.getAllRemoteContexts()</a><br><a href="/docs/pt/API/DataStoreClass#setremotecontextinfo">.setRemoteContextInfo()</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getselection">.getSelection()<a class="hash-link" href="#getselection" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getSelection()</strong>: 4D. EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>Entity selection to which the entity belongs (Null if not found)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-9">Descrição<a class="hash-link" href="#descrição-9" title="Direct link to heading">​</a></h4><p>A função <code>.getSelection()</code> returns the entity selection which the entity belongs to.</p><p>Se a entidade não pertence à seleção de uma entidade, a função retorna Null.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-8">Exemplo<a class="hash-link" href="#exemplo-8" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees; $employees2 : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=ds. Employee.get(672) // This entity does not belong to any entity selection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=$emp.getSelection() // $employees is Null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees2:=ds. Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;) //This entity selection contains 6 entities</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=$employees2[0]  // This entity belongs to an entity selection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ALERT(&quot;The entity selection contains &quot;+String($emp.getSelection().length)+&quot; entities&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getstamp">.getStamp()<a class="hash-link" href="#getstamp" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getStamp()</strong> : Integer</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Integer</td><td align="center">&lt;-</td><td>Stamp of the entity (0 if entity has just been created)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-10">Descrição<a class="hash-link" href="#descrição-10" title="Direct link to heading">​</a></h4><p>A função <code>.getStamp()</code>  returns the current value of the stamp of the entity.</p><p>O selo interno é automaticamente incrementado por 4D cada vez que a entidade é gravada. Gere o acesso de usuários simultâneos e modificações às mesmas entidades (ver <a href="/docs/pt/ORDA/entities#entity-locking"><strong>bloqueio de entidades</strong></a>).</p><blockquote><p>Para uma nova entidade (nunca salva), a função retorna 0. Para saber se uma entidade acabou de ser criada, recomenda-se a utilização de <a href="#isnew">.isNew()</a>.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-9">Exemplo<a class="hash-link" href="#exemplo-9" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entity : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $stamp : Integer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity:=ds. Employee.new()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity.lastname:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity.save()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $stamp:=$entity.getStamp() //$stamp=1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity.lastname:=&quot;Wesson&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity.save()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $stamp:=$entity.getStamp() //$stamp=2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="indexof">.indexOf()<a class="hash-link" href="#indexof" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.indexOf</strong>( { <em>entitySelection</em> : 4D. EntitySelection } ) : Integer</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entitySelection</td><td>4D. EntitySelection</td><td align="center">-&gt;</td><td>A posição da entidade é dada de acordo com a selecção desta entidade</td></tr><tr><td>Resultados</td><td>Integer</td><td align="center">&lt;-</td><td>Posição da entidade numa selecção de entidade</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-11">Descrição<a class="hash-link" href="#descrição-11" title="Direct link to heading">​</a></h4><p>A função <code>.indexOf()</code> returns the position of the entity in an entity selection.</p><p>Por padrão, se o parâmetro <em>entitySelection</em> for omitido, a função retorna a posição da entidade dentro de sua própria seleção de entidade. Caso contrário, ele retorna a posição da entidade dentro da <em>entitySelection</em>.</p><p>O valor resultante é incluído entre 0 e o comprimento da selecção da entidade -1.</p><ul><li>Se a entidade não tiver uma selecção de entidade ou não pertencer a <em>entitySelection</em>, a função retorna -1.</li><li>Se <em>entitySelection</em> for Null ou não pertencer ao mesmo dataclass que a entidade, é apresentado um erro.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-10">Exemplo<a class="hash-link" href="#exemplo-10" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //This entity selection contains 3 entities</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees[1] //This entity belongs to an entity selection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ALERT(&quot;The index of the entity in its own entity selection is &quot;+String($employee.indexOf())) //1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=ds. Employee.get(725) //This entity does not belong to an entity selection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ALERT(&quot;The index of the entity is &quot;+String($employee.indexOf())) // -1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="isnew">.isNew()<a class="hash-link" href="#isnew" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.isNew()</strong> : Boolean</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Booleano</td><td align="center">&lt;-</td><td>É verdade se a entidade acabou de ser criada e ainda não foi salva. Caso contrário, Falso.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-12">Descrição<a class="hash-link" href="#descrição-12" title="Direct link to heading">​</a></h4><p>A função <code>.isNew()</code>  returns True if the entity to which it is applied has just been created and has not yet been saved in the datastore. .</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-11">Exemplo<a class="hash-link" href="#exemplo-11" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=ds. Employee.new()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($emp.isNew())</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;This is a new entity&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="last">.last()<a class="hash-link" href="#last" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.last()</strong> : 4D. Entity</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. Entity</td><td align="center">&lt;-</td><td>Referência para a última entidade de uma seleção de entidade (Null se não for encontrado)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-13">Descrição<a class="hash-link" href="#descrição-13" title="Direct link to heading">​</a></h4><p>A função <code>.last()</code> returns a reference to the entity in last position of the entity selection which the entity belongs to.</p><p>Se a entidade não pertence a nenhuma seleção de entidade existente (ex: <a href="#getselection">.getSelection( )</a> retorna Null), a função retorna um valor nulo.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-12">Exemplo<a class="hash-link" href="#exemplo-12" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee; $lastEmployee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //This entity selection contains 3 entities</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $lastEmployee:=$employee.last() //$lastEmployee is the last entity of the $employees entity selection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lock">.lock()<a class="hash-link" href="#lock" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.lock</strong>( { <em>mode</em> : Integer } ) : Object</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk reload if stamp changed</code>: Recarregar antes de bloquear se o carimbo for alterado</td></tr><tr><td>Resultados</td><td>Objeto</td><td align="center">&lt;-</td><td>Resultado da operação de bloqueio</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-14">Descrição<a class="hash-link" href="#descrição-14" title="Direct link to heading">​</a></h4><p>A função <code>.lock()</code> puts a pessimistic lock on the record referenced by the entity. O bloqueio de <a href="/docs/pt/ORDA/entities#entity-locking">é definido</a> para um registro e todas as referências da entidade no processo atual.</p><p>Outros processos verão este registro como bloqueado (o resultado. <code>a propriedade</code> uccess conterá Falso se eles tentarem bloquear a mesma entidade usando esta função). Só as funções executadas na sessão de &quot;bloqueio&quot; são permitidas para editar e guardar os atributos da entidade. A entidade pode ser carregada como apenas leitura por outras sessões, mas não serão capazes de introduzir e guardar valores.</p><p>A record locked by <code>.lock()</code> is unlocked:</p><ul><li>quando a função <a href="#unlock"><code>desbloqueia()</code></a> é chamada a uma entidade correspondente no mesmo processo</li><li>automaticamente, quando já não é referenciado por nenhuma entidade em memória. Por exemplo, se a fechadura for colocada apenas numa referência local de uma entidade, a entidade é desbloqueada quando a função termina. Enquanto houver referências à entidade em memória, o registo permanece bloqueado.</li></ul><blockquote><p>An entity can also be <a href="/docs/pt/REST/lock">locked by a REST session</a>, in which case it can only be unlocked by the session.</p></blockquote><p>Por padrão, se o parâmetro <em>modo</em> for omitido, a função retornará um erro (veja abaixo) se a mesma entidade tiver sido modificada (ou seja, O selo mudou) por outro processo ou usuário nesse meio tempo.</p><p>Caso contrário, você pode passar o parâmetro<code>dk reload if stamp changed</code> no parâmetro <em>mode</em> : neste caso, nenhum erro é retornado e a entidade é recarregada quando o selo mudou (se a entidade ainda existir e a chave primária ainda for a mesma).</p><p><strong>Resultados</strong></p><p>O objeto retornado por <code>.lock( )</code> contém as seguintes propriedades:</p><table><thead><tr><th>Propriedade</th><th></th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>success</td><td></td><td>boolean</td><td>true se a ação de bloqueio for bem sucedida (ou se a entidade já estiver bloqueada no processo atual), falso caso contrário.</td></tr><tr><td></td><td></td><td></td><td><strong><em>Disponível apenas se a opção<code>dk reload if stamp changed</code> for usada:</em></strong></td></tr><tr><td><strong>wasReloaded</strong></td><td></td><td>boolean</td><td>verdadeiro se a entidade foi recarregada com sucesso, falso caso contrário.</td></tr><tr><td></td><td></td><td></td><td><strong><em>Disponível apenas em caso de erro:</em></strong></td></tr><tr><td>status(<!-- -->*<!-- -->)</td><td></td><td>number</td><td>Código de erro, ver abaixo</td></tr><tr><td>statusText(<!-- -->*<!-- -->)</td><td></td><td>text</td><td>Descrição do erro, ver abaixo</td></tr><tr><td></td><td></td><td></td><td><strong><em>Disponível apenas em caso de erro de bloqueio pessimista:</em></strong></td></tr><tr><td>lockKindText</td><td></td><td>text</td><td>&quot;Locked by record&quot; if locked by a 4D process, &quot;Locked by session&quot; if locked by a REST session</td></tr><tr><td>lockInfo</td><td></td><td>object</td><td>Informações sobre a origem do bloqueio. Returned properties depend on the lock origin (4D process or REST session).</td></tr><tr><td></td><td></td><td></td><td><strong><em>Available only for a 4D process lock:</em></strong></td></tr><tr><td></td><td>task_id</td><td>number</td><td>ID do processo</td></tr><tr><td></td><td>user_name</td><td>text</td><td>Nome de usuário de sessão na máquina</td></tr><tr><td></td><td>user4d_alias</td><td>text</td><td>Nome ou apelido do usuário 4D</td></tr><tr><td></td><td>user4d_id</td><td>number</td><td>Id do usuário no diretório do banco de dados 4D</td></tr><tr><td></td><td>host_name</td><td>text</td><td>Nome da máquina</td></tr><tr><td></td><td>task_name</td><td>text</td><td>Nome de processo</td></tr><tr><td></td><td>client_version</td><td>text</td><td>Version of the client</td></tr><tr><td></td><td></td><td></td><td><strong><em>Available only for a REST session lock:</em></strong></td></tr><tr><td></td><td>host</td><td>text</td><td>URL that locked the entity (e.g. &quot;<a href="http://www.myserver.com%22" target="_blank" rel="noopener noreferrer">www.myserver.com&quot;</a>)</td></tr><tr><td></td><td>IPAddr</td><td>text</td><td>IP address of the locker (e.g. &quot;127.0.0.1&quot;)</td></tr><tr><td></td><td>userAgent</td><td>text</td><td>userAgent of the locker (e.g. Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36&quot;)</td></tr><tr><td></td><td></td><td></td><td><strong><em>Disponível apenas em caso de erro grave</em></strong> (a chave primária já existir, o disco estar cheio...):</td></tr><tr><td>errors</td><td></td><td>uma coleção de objetos</td><td></td></tr><tr><td></td><td>message</td><td>text</td><td>Mensagem de erro</td></tr><tr><td></td><td>assinatura de componentes</td><td>text</td><td>assinatura interna do componente (ex.: &quot;dmbg&quot; significa componente da base de dados)</td></tr><tr><td></td><td>errCode</td><td>number</td><td>Error code</td></tr></tbody></table><p>(<!-- -->*<!-- -->) Os seguintes valores podem ser devolvidos nas propriedades <em>status</em> e <em>statusText</em> do objecto <em>Result</em> em caso de erro:</p><table><thead><tr><th>Constante</th><th>Value</th><th>Comentário</th></tr></thead><tbody><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>A entidade não existe mais nos dados. Este erro pode ocorrer nos seguintes casos:<li>a entidade foi descartada (o selo mudou e o espaço de memória é agora livre)</li><li>a entidade foi descartada e substituída por outra chave primária (o selo mudou e uma nova entidade agora usa o espaço de memória). Ao usar <code>.drop( )</code>, este erro pode ser retornado quando a opção &quot;dk force drop if stamp changed&quot; for usada. Ao usar <code>.lock( )</code>, este erro pode ser retornado quando a opção `dk reload if stamp changed&quot; for usado</li><br><strong>statusText asociado</strong>: &quot;A entidade já não existe&quot;</td></tr><tr><td><code>dk status locked</code></td><td>3</td><td>The entity is locked by a pessimistic lock.<strong>Associated statusText</strong>: &quot;Already locked&quot;</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.<strong>Associated statusText</strong>: &quot;Other error&quot;</td></tr><tr><td><code>dk status stamp has changed</code></td><td>2</td><td>O valor de selo interno da entidade não corresponde a uma da entidade armazenada nos dados (bloqueio otimista).<li>com <code>.save( )</code>: erro apenas se a opção <code>dk auto merge&#x27; não for utilizada&lt;/li&gt;&lt;li&gt;com </code>.drop( )<code>: erro apenas se a opção </code>dk force drop if stamp changed&#x27; não for utilizada</li><li>com <code>.lock( )</code>: erro apenas se a opção <code>dk reload if stamp changed</code> não for usada</li><br><strong>Associated statusText</strong>: &quot;Stamp has changed&quot;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-3">Exemplo 1<a class="hash-link" href="#exemplo-1-3" title="Direct link to heading">​</a></h4><p>Exemplo com erro:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=ds. Employee.get(716)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=$employee.lock()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT(&quot;You have locked &quot;+$employee.firstName+&quot; &quot;+$employee.lastName)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-2">Exemplo 2<a class="hash-link" href="#exemplo-2-2" title="Direct link to heading">​</a></h4><p>Exemplo com <code>dk reload se o selo mudou a opção</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=ds. Employee.get(717)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=$employee.lock(dk reload if stamp changed)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT(&quot;You have locked &quot;+$employee.firstName+&quot; &quot;+$employee.lastName)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.status=dk status entity does not exist anymore)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next">.next()<a class="hash-link" href="#next" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p>|</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. Entity</td><td align="center">&lt;-</td><td>Referência para a próxima entidade de uma seleção de entidade (Null se não for encontrado)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-15">Descrição<a class="hash-link" href="#descrição-15" title="Direct link to heading">​</a></h4><p>A função <code>.next()</code> returns a reference to the next entity in the entity selection which the entity belongs to.</p><p>Se a entidade não pertencer a nenhuma seleção de entidade existente (ex: <a href="#getselection">.getSelection()</a> retorna Null), a função retorna um valor nulo.</p><p>Se não houver entidade seguinte válida na selecção da entidade (ou seja, se estiver na última entidade da selecção), a função devolve Null. Se a entidade seguinte tiver sido abandonada, a função devolve a entidade válida seguinte (e eventualmente Nula).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-13">Exemplo<a class="hash-link" href="#exemplo-13" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee; $nextEmployee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //This entity selection contains 3 entities</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $nextEmployee:=$employee.next() //$nextEmployee is the second entity of the $employees entity selection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="previous">.previous()<a class="hash-link" href="#previous" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.previous()</strong>  : 4D. Entity</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. Entity</td><td align="center">&lt;-</td><td>Referência a entidade anterior na seleção da entidade (Null se não for encontrado)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-16">Descrição<a class="hash-link" href="#descrição-16" title="Direct link to heading">​</a></h4><p>A função <code>.previous()</code>  returns a reference to the previous entity in the entity selection which the entity belongs to.</p><p>Se a entidade não pertencer a nenhuma seleção de entidade existente (ex: <a href="#getselection">.getSelection()</a> retorna Null), a função retorna um valor nulo.</p><p>Se não houver nenhuma entidade anterior válida na seleção da entidade (ou seja, você está na primeira entidade da seleção), a função retorna Null. Se a entidade anterior foi abandonada, a função retorna a entidade válida anterior (e eventualmente Null).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-14">Exemplo<a class="hash-link" href="#exemplo-14" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee; $previousEmployee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //This entity selection contains 3 entities</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees[1]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $previousEmployee:=$employee.previous() //$previousEmployee is the first entity of the $employees entity selection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reload-">.reload( )<a class="hash-link" href="#reload-" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.reload()</strong> : Object</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Objeto</td><td align="center">&lt;-</td><td>Objeto de estado</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-17">Descrição<a class="hash-link" href="#descrição-17" title="Direct link to heading">​</a></h4><p>A função <code>.reload()</code> reloads the content of the entity in memory, according to information stored in the table related to the dataclass in the datastore. A recarga só é feita se a entidade ainda existir com a mesma chave primária.</p><p><strong>Resultados</strong></p><p>O objeto retornado por <code>.reload( )</code> contém as seguintes propriedades:</p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>success</td><td>boolean</td><td>True if the reload action is successful, False otherwise.<strong><em>Available only in case of error</em></strong>:</td></tr><tr><td>status(<!-- -->*<!-- -->)</td><td>number</td><td>Código de erro, ver abaixo</td></tr><tr><td>statusText(<!-- -->*<!-- -->)</td><td>text</td><td>Descrição do erro, ver abaixo</td></tr></tbody></table><p>(<!-- -->*<!-- -->) Os seguintes valores podem ser devolvidos nas propriedades <em>status</em> e <em>statusText</em> do objecto <em>Result</em> em caso de erro:</p><table><thead><tr><th>Constante</th><th>Value</th><th>Comentário</th></tr></thead><tbody><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>A entidade não existe mais nos dados. Este erro pode ocorrer nos seguintes casos:<br><li>a entidade foi descartada (o selo mudou e o espaço de memória é agora livre)</li><li>a entidade foi descartada e substituída por outra chave primária (o selo mudou e uma nova entidade agora usa o espaço de memória). the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). Ao usar <code>.lock( )</code>, este erro pode ser retornado quando a opção `dk reload if stamp changed&quot; for usado</li><br><strong><em>statusText associado</em></strong>: &quot;a entidade já não existe&quot;</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>Um erro grave é um erro de banco de dados de baixo nível (por exemplo, chave duplicada), um erro de hardware, etc.<br><strong><em>Texto status associado</em></strong>: &quot;Outro erro&quot;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-15">Exemplo<a class="hash-link" href="#exemplo-15" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $result : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName=:1&quot;;&quot;Hollis&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee.firstName:=&quot;Mary&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $result:=$employee.reload()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($result.success)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT(&quot;Reload has been done&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($result.status=dk status entity does not exist anymore)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT(&quot;The entity has been dropped&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="save">.save()<a class="hash-link" href="#save" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.save</strong>( { <em>mode</em> : Integer } ) : Object</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk auto merge</code>: Permite o modo de fusão automática</td></tr><tr><td>Resultados</td><td>Objeto</td><td align="center">&lt;-</td><td>Resultado da operação de salvamento</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-18">Descrição<a class="hash-link" href="#descrição-18" title="Direct link to heading">​</a></h4><p>A função <code>.save()</code> saves the changes made to the entity in the table related to its dataClass. You must call this method after creating or modifying an entity if you want to save the changes made to it.</p><p>The save operation is executed only if at least one entity attribute has been &quot;touched&quot; (see the <a href="#touched"><code>.touched()</code></a> and <a href="#touchedattributes"><code>.touchedAttributes()</code></a> functions). Otherwise, the function does nothing (the trigger is not called).</p><p>In a multi-user or multi-process application, the <code>.save()</code> function is executed under an <a href="/docs/pt/ORDA/entities#entity-locking">&quot;optimistic lock&quot;</a> mechanism, wherein an internal locking stamp is automatically incremented each time the record is saved.</p><p>By default, if the <em>mode</em> parameter is omitted, the method will return an error (see below) whenever the same entity has been modified by another process or user in the meantime, no matter the modified attribute(s).</p><p>Otherwise, you can pass the <code>dk auto merge</code> option in the <em>mode</em> parameter: when the automatic merge mode is enabled, a modification done concurrently by another process/user on the same entity but on a different attribute will not result in an error. The resulting data saved in the entity will be the combination (the &quot;merge&quot;) of all non-concurrent modifications (if modifications were applied to the same attribute, the save fails and an error is returned, even with the auto merge mode).</p><blockquote><p>The automatic merge mode is not available for attributes of Picture, Object, and Text type when stored outside of the record. Concurrent changes in these attributes will result in a <code>dk status stamp has changed</code> error.</p></blockquote><p><strong>Resultados</strong></p><p>The object returned by <code>.save()</code> contains the following properties:</p><table><thead><tr><th>Propriedade</th><th></th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>success</td><td></td><td>boolean</td><td>True if the save action is successful, False otherwise.</td></tr><tr><td></td><td></td><td></td><td><strong><em>Available only if <code>dk auto merge</code> option is used</em></strong>:</td></tr><tr><td>autoMerged</td><td></td><td>boolean</td><td>True if an auto merge was done, False otherwise.</td></tr><tr><td></td><td></td><td></td><td><strong><em>Disponível apenas em caso de erro</em></strong>:</td></tr><tr><td>status</td><td></td><td>number</td><td>Error code, <a href="#status-and-statustext">see below</a></td></tr><tr><td>statusText</td><td></td><td>text</td><td>Description of the error, <a href="#status-and-statustext">see below</a></td></tr><tr><td></td><td></td><td></td><td><strong><em>Available only in case of pessimistic lock error</em></strong>:</td></tr><tr><td>lockKindText</td><td></td><td>text</td><td>&quot;Bloqueado pelo registro&quot;</td></tr><tr><td>lockInfo</td><td></td><td>object</td><td>Informações sobre a origem do bloqueio</td></tr><tr><td></td><td>task_id</td><td>number</td><td>Process ID</td></tr><tr><td></td><td>user_name</td><td>text</td><td>Nome de usuário de sessão na máquina</td></tr><tr><td></td><td>user4d_alias</td><td>text</td><td>Pseudônimo do usuário se definido por <code>SET USER ALIAS</code>, caso contrário, nome de usuário no diretório 4D</td></tr><tr><td></td><td>host_name</td><td>text</td><td>Nome da máquina</td></tr><tr><td></td><td>task_name</td><td>text</td><td>Nome de processo</td></tr><tr><td></td><td>client_version</td><td>text</td><td></td></tr><tr><td></td><td></td><td></td><td><strong><em>Available only in case of serious error</em></strong> (serious error - can be trying to duplicate a primary key, disk full...):</td></tr><tr><td>errors</td><td></td><td>uma coleção de objetos</td><td></td></tr><tr><td></td><td>message</td><td>text</td><td>Mensagem de erro</td></tr><tr><td></td><td>componentSignature</td><td>text</td><td>Assinatura interna do componente (ex.: &quot;dmbg&quot; significa componente da base de dados)</td></tr><tr><td></td><td>errCode</td><td>number</td><td>Error code</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_LWe7" id="status-and-statustext">status and statusText<a class="hash-link" href="#status-and-statustext" title="Direct link to heading">​</a></h5><p>The following values can be returned in the <code>status</code> and <code>statusText</code> properties of Result object in case of error:</p><table><thead><tr><th>Constante</th><th>Value</th><th>Comentário</th></tr></thead><tbody><tr><td><code>dk status automerge failed</code></td><td>6</td><td>(Only if the <code>dk auto merge</code> option is used) The automatic merge option failed when saving the entity.<strong>Associated statusText</strong>: &quot;Auto merge failed&quot;</td></tr><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>A entidade não existe mais nos dados. Este erro pode ocorrer nos seguintes casos:<br><li>a entidade foi descartada (o selo mudou e o espaço de memória é agora livre)</li><li>a entidade foi descartada e substituída por outra chave primária (o selo mudou e uma nova entidade agora usa o espaço de memória). the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). Ao usar <code>.lock( )</code>, este erro pode ser retornado quando a opção `dk reload if stamp changed&quot; for usado</li><br><strong>Associated statusText</strong>: &quot;Entity doesnot exist anymore&quot;</td></tr><tr><td><code>dk status locked</code></td><td>3</td><td>The entity is locked by a pessimistic lock.<strong>Associated statusText</strong>: &quot;Already locked&quot;</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.<strong>Associated statusText</strong>: &quot;Other error&quot;</td></tr><tr><td><code>dk status stamp has changed</code></td><td>2</td><td>O valor de selo interno da entidade não corresponde a uma da entidade armazenada nos dados (bloqueio otimista).<br><li>com <code>.save( )</code>: erro apenas se a opção <code>dk auto merge&#x27; não for utilizada&lt;/li&gt;&lt;li&gt;com </code>.drop( )<code>: erro apenas se a opção </code>dk force drop if stamp changed&#x27; não for utilizada</li><li>com <code>.lock( )</code>: erro apenas se a opção <code>dk reload if stamp changed</code> não for usada</li><br><strong>Associated statusText</strong>: &quot;Stamp has changed&quot;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-4">Exemplo 1<a class="hash-link" href="#exemplo-1-4" title="Direct link to heading">​</a></h4><p>Creating a new entity:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=ds. Employee.new()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee.firstName:=&quot;Mary&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=$employee.save()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($status.success)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;Employee created&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-3">Exemplo 2<a class="hash-link" href="#exemplo-2-3" title="Direct link to heading">​</a></h4><p>Updating an entity without <code>dk auto merge</code> option:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee.lastName:=&quot;Mac Arthur&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=$employee.save()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT(&quot;Employee updated&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3-1">Exemplo 3<a class="hash-link" href="#exemplo-3-1" title="Direct link to heading">​</a></h4><p>Updating an entity with <code>dk auto merge</code> option:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee.lastName:=&quot;Mac Arthur&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=$employee.save(dk auto merge)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT(&quot;Employee updated&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($status.status=dk status automerge failed)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="toobject">.toObject()<a class="hash-link" href="#toobject" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.toObject</strong>() : Object<br><strong>.toObject</strong>( <em>filterString</em> : Text { ; <em>options</em> : Integer}  ) : Object<br><strong>.toObject</strong>( <em>filterCol</em> : Collection { ; <em>options</em> : Integer } ) : Object</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>filterString</td><td>Text</td><td align="center">-&gt;</td><td>Attribute(s) to extract (comma-separated string)</td></tr><tr><td>filterCol</td><td>Collection</td><td align="center">-&gt;</td><td>Collection of attribute(s) to extract</td></tr><tr><td>options</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk with primary key</code>: adds the <!-- -->_<!-- -->KEY property;<br><code>dk with stamp</code>: adds the <!-- -->_<!-- -->STAMP property</td></tr><tr><td>Resultados</td><td>Objeto</td><td align="center">&lt;-</td><td>Object built from the entity</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-19">Descrição<a class="hash-link" href="#descrição-19" title="Direct link to heading">​</a></h4><p>A função <code>.toObject()</code> returns an object which has been built from the entity. Summary --&gt;returns the names of the attributes that have been modified since the entity was loaded into memory.</p><p>If no filter is specified, or if the <em>filterString</em> parameter contains an empty string or &quot;*&quot;, the returned object will contain:</p><ul><li>all storage entity attributes</li><li>attributes of the <code>relatedEntity</code> <a href="/docs/pt/API/DataClassAttributeClass#kind">kind</a>: you get a property with the same name as the related entity (name of the many-to-one link). Attribute is extracted with the simple form.</li><li>attributes of the <code>relatedEntities</code> <a href="/docs/pt/API/DataClassAttributeClass#kind">kind</a>: attribute is not returned.</li></ul><p>In the first parameter, you pass the entity attribute(s) to extract. Pode passar:</p><ul><li><em>filterString</em>: a string with property paths separated with commas: &quot;propertyPath1, propertyPath2, ...&quot;, or</li><li><em>filterCol</em>: a collection of strings: <!-- -->[<!-- -->&quot;propertyPath1&quot;,&quot;propertyPath2&quot;;...]</li></ul><p>If a filter is specified for attributes of the relatedEntity <a href="/docs/pt/API/DataClassAttributeClass#kind">kind</a>:</p><ul><li>propertyPath = &quot;relatedEntity&quot; -&gt; it is extracted with simple form: an object with property <!-- -->_<!-- -->_<!-- -->KEY (primary key).</li><li>propertyPath = &quot;relatedEntity.*&quot; -&gt; all the properties are extracted</li><li>propertyPath = &quot;relatedEntity.propertyName1; relatedEntity.propertyName2; ...&quot; -&gt; only those properties are extracted</li></ul><p>If a filter is specified for attributes of the relatedEntities <a href="/docs/pt/API/DataClassAttributeClass#kind">kind</a>:</p><ul><li>propertyPath = &quot;relatedEntities.*&quot; -&gt; all the properties are extracted</li><li>propertyPath = &quot;relatedEntities.propertyName1; relatedEntities.propertyName2; ...&quot; -&gt; only those properties are extracted</li></ul><p>In the <em>options</em> parameter, you can pass the <code>dk with primary key</code> and/or<code>dk with stamp</code> selector(s) to add the entity&#x27;s primary keys and/or stamps in extracted objects.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-5">Exemplo 1<a class="hash-link" href="#exemplo-1-5" title="Direct link to heading">​</a></h4><p>The following structure will be used throughout all examples of this section:</p><p><img loading="lazy" src="/docs/pt/assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png" width="1000" height="610" class="img_ev3q"></p><p>Without filter parameter:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">employeeObject:=employeeSelected.toObject()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;ID&quot;: 413,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;salary&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;employer&quot;: { // relatedEntity extraída com forma simples</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-4">Exemplo 2<a class="hash-link" href="#exemplo-2-4" title="Direct link to heading">​</a></h4><p>Extracting the primary key and the stamp:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">employeeObject:=employeeSelected.toObject(&quot;&quot;;dk with primary key+dk with stamp)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;__KEY&quot;: 413,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;ID&quot;: 413,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;salary&quot;: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3-2">Exemplo 3<a class="hash-link" href="#exemplo-3-2" title="Direct link to heading">​</a></h4><p>Expanding all the properties of <code>relatedEntities</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">employeeObject:=employeeSelected.toObject(&quot;directReports.*&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;ID&quot;: 418,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;firstName&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;salary&quot;: 44800,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;birthDate&quot;: &quot;1970-10-02T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;managerID&quot;: 413,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;__KEY&quot;: 413</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;ID&quot;: 419,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;firstName&quot;: &quot;Drew&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;lastName&quot;: &quot;Caudill&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;salary&quot;: 41000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;birthDate&quot;: &quot;2030-01-12T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;managerID&quot;: 413,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;__KEY&quot;: 413</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;ID&quot;: 420,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;firstName&quot;: &quot;Nathan&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;lastName&quot;: &quot;Gomes&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;salary&quot;: 46300,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;birthDate&quot;: &quot;2010-05-29T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;managerID&quot;: 413,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;__KEY&quot;: 413</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-4-1">Exemplo 4<a class="hash-link" href="#exemplo-4-1" title="Direct link to heading">​</a></h4><p>Extracting some properties of <code>relatedEntities</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> employeeObject:=employeeSelected.toObject(&quot;firstName, directReports.lastName&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;lastName&quot;: &quot;Boothe&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;lastName&quot;: &quot;Caudill&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;lastName&quot;: &quot;Gomes&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-5-1">Exemplo 5<a class="hash-link" href="#exemplo-5-1" title="Direct link to heading">​</a></h4><p>Extracting a <code>relatedEntity</code> with simple form:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $coll:=New collection(&quot;firstName&quot;;&quot;employer&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> employeeObject:=employeeSelected.toObject($coll)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-6-1">Exemplo 6<a class="hash-link" href="#exemplo-6-1" title="Direct link to heading">​</a></h4><p>Extracting all the properties of a <code>relatedEntity</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> employeeObject:=employeeSelected.toObject(&quot;employer.*&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;name&quot;: &quot;India Astral Secretary&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;creationDate&quot;: &quot;1984-08-25T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;revenues&quot;: 12000000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;extra&quot;: null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-7-1">Exemplo 7<a class="hash-link" href="#exemplo-7-1" title="Direct link to heading">​</a></h4><p>Extracting some properties of a <code>relatedEntity</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $col:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $col.push(&quot;employer.name&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $col.push(&quot;employer.revenues&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> employeeObject:=employeeSelected.toObject($col)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retorna:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;name&quot;: &quot;India Astral Secretary&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;revenues&quot;: 12000000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="touched-">.touched( )<a class="hash-link" href="#touched-" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.touched()</strong> : Boolean</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Booleano</td><td align="center">&lt;-</td><td>True if at least one entity attribute has been modified and not yet saved, else False</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-20">Descrição<a class="hash-link" href="#descrição-20" title="Direct link to heading">​</a></h4><p>A função <code>.touched()</code> tests whether or not an entity attribute has been modified since the entity was loaded into memory or saved.</p><p>If an attribute has been modified or calculated, the function returns True, else it returns False. You can use this function to determine if you need to save the entity.</p><p>This function returns False for a new entity that has just been created (with <a href="/docs/pt/API/DataClassClass#new"><code>.new( )</code></a>). Note however that if you use a function which calculates an attribute of the entity, the <code>.touched()</code> function will then return True. For example, if you call <a href="#getkey"><code>.getKey()</code></a> to calculate the primary key, <code>.touched()</code> returns True.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-16">Exemplo<a class="hash-link" href="#exemplo-16" title="Direct link to heading">​</a></h4><p>In this example, we check to see if it is necessary to save the entity:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=ds. Employee.get(672)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.firstName:=$emp.firstName //Even if updated with the same value, the attribute is marked as touched</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($emp.touched()) //if at least one of the attributes has been changed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $emp.save()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if // otherwise, no need to save the entity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="touchedattributes-">.touchedAttributes( )<a class="hash-link" href="#touchedattributes-" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.touchedAttributes()</strong> : Collection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Collection</td><td align="center">&lt;-</td><td>Names of touched attributes, or empty collection</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-21">Descrição<a class="hash-link" href="#descrição-21" title="Direct link to heading">​</a></h4><p>A função <code>.touchedAttributes()</code> returns the names of the attributes that have been modified since the entity was loaded into memory.</p><p>This applies for attributes of the <a href="/docs/pt/API/DataClassAttributeClass#kind">kind</a> <code>storage</code> or <code>relatedEntity</code>.</p><p>In the case of a related entity having been touched (i.e., the foreign key), the name of the related entity and its primary key&#x27;s name are returned.</p><p>If no entity attribute has been touched, the method returns an empty collection.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-6">Exemplo 1<a class="hash-link" href="#exemplo-1-6" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $touchedAttributes : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $touchedAttributes:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=ds. Employee.get(725)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.firstName:=$emp.firstName //Even if updated with the same value, the attribute is marked as touched</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $touchedAttributes:=$emp.touchedAttributes()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //$touchedAttributes: [&quot;firstName&quot;,&quot;lastName&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-5">Exemplo 2<a class="hash-link" href="#exemplo-2-5" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $touchedAttributes : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $company : cs. CompanyEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $touchedAttributes:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=ds. Employee.get(672)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.firstName:=$emp.firstName</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $company:=ds. Company.get(121)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.employer:=$company</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $touchedAttributes:=$emp.touchedAttributes()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //collection $touchedAttributes: [&quot;firstName&quot;,&quot;lastName&quot;,&quot;employer&quot;,&quot;employerID&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Nesse modo:</p><ul><li>firstName and lastName have a <code>storage</code> kind</li><li>employer has a <code>relatedEntity</code> kind</li><li>employerID is the foreign key of the employer related entity</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="unlock">.unlock()<a class="hash-link" href="#unlock" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.unlock()</strong> : Object</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Objeto</td><td align="center">&lt;-</td><td>Objeto de estado</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-22">Descrição<a class="hash-link" href="#descrição-22" title="Direct link to heading">​</a></h4><p>A função <code>.unlock()</code> removes the pessimistic lock on the record matching the entity in the datastore and table related to its dataclass.</p><blockquote><p>For more information, please refer to <a href="/docs/pt/ORDA/entities#entity-locking">Entity locking</a> section.</p></blockquote><p>A record is automatically unlocked when it is no longer referenced by any entities in the locking process (for example: if the lock is put only on one local reference of an entity, the entity and thus the record is unlocked when the process ends).</p><blockquote><p>When a record is locked, it must be unlocked from the locking process and on the entity reference which put the lock. Por exemplo:</p></blockquote><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e1:=ds. Emp.all()[0]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e2:=ds. Emp.all()[0]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $res:=$e1.lock() //$res.success=true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $res:=$e2.unlock() //$res.success=false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $res:=$e1.unlock() //$res.success=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Resultados</strong></p><p>The object returned by <code>.unlock()</code> contains the following property:</p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>success</td><td>Booleano</td><td>True if the unlock action is successful, False otherwise. If the unlock is done on a dropped entity, on a non locked record, or on a record locked by another process or entity, success is False.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-17">Exemplo<a class="hash-link" href="#exemplo-17" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employee:=ds. Employee.get(725)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=$employee.lock()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ... //processing</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=$employee.unlock()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($status.success)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;The entity is now unlocked&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pt/API/EmailObjectClass"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Email</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pt/API/EntitySelectionClass"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">EntitySelection</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#resumo" class="table-of-contents__link toc-highlight">Resumo</a></li><li><a href="#attributename" class="table-of-contents__link toc-highlight">.<em>attributeName</em></a></li><li><a href="#clone" class="table-of-contents__link toc-highlight">.clone()</a></li><li><a href="#diff" class="table-of-contents__link toc-highlight">.diff()</a></li><li><a href="#drop" class="table-of-contents__link toc-highlight">.drop()</a></li><li><a href="#first" class="table-of-contents__link toc-highlight">.first()</a></li><li><a href="#fromobject" class="table-of-contents__link toc-highlight">.fromObject()</a></li><li><a href="#getdataclass" class="table-of-contents__link toc-highlight">.getDataClass()</a></li><li><a href="#getkey" class="table-of-contents__link toc-highlight">.getKey()</a></li><li><a href="#getremotecontextattributes" class="table-of-contents__link toc-highlight">.getRemoteContextAttributes()</a></li><li><a href="#getselection" class="table-of-contents__link toc-highlight">.getSelection()</a></li><li><a href="#getstamp" class="table-of-contents__link toc-highlight">.getStamp()</a></li><li><a href="#indexof" class="table-of-contents__link toc-highlight">.indexOf()</a></li><li><a href="#isnew" class="table-of-contents__link toc-highlight">.isNew()</a></li><li><a href="#last" class="table-of-contents__link toc-highlight">.last()</a></li><li><a href="#lock" class="table-of-contents__link toc-highlight">.lock()</a></li><li><a href="#next" class="table-of-contents__link toc-highlight">.next()</a></li><li><a href="#previous" class="table-of-contents__link toc-highlight">.previous()</a></li><li><a href="#reload-" class="table-of-contents__link toc-highlight">.reload( )</a></li><li><a href="#save" class="table-of-contents__link toc-highlight">.save()</a></li><li><a href="#toobject" class="table-of-contents__link toc-highlight">.toObject()</a></li><li><a href="#touched-" class="table-of-contents__link toc-highlight">.touched( )</a></li><li><a href="#touchedattributes-" class="table-of-contents__link toc-highlight">.touchedAttributes( )</a></li><li><a href="#unlock" class="table-of-contents__link toc-highlight">.unlock()</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Developer Center</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Where It All Began)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Knowledgebase</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">About 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D around the world<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2022 4D SAS - All rights reserved</div></div></div></footer></div>
<script src="/docs/pt/assets/js/runtime~main.d102819a.js"></script>
<script src="/docs/pt/assets/js/main.b3a60ff9.js"></script>
</body>
</html>