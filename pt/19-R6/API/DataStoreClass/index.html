<!doctype html>
<html lang="pt" dir="ltr" class="docs-wrapper docs-doc-page docs-version-19-R6 plugin-docs plugin-id-default docs-doc-id-API/DataStoreClass">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">DataStore | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://doc4d.github.io//docs/pt/../assets/en/logohome.png"><meta data-rh="true" name="twitter:image" content="https://doc4d.github.io//docs/pt/../assets/en/logohome.png"><meta data-rh="true" property="og:url" content="https://doc4d.github.io//docs/pt/19-R6/API/DataStoreClass"><meta data-rh="true" name="docusaurus_locale" content="pt"><meta data-rh="true" name="docsearch:language" content="pt"><meta data-rh="true" name="docusaurus_version" content="19-R6"><meta data-rh="true" name="docusaurus_tag" content="docs-default-19-R6"><meta data-rh="true" name="docsearch:version" content="19-R6"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-19-R6"><meta data-rh="true" property="og:title" content="DataStore | 4D Docs"><meta data-rh="true" name="description" content="Um Datastore é o objeto de interface subministrado por ORDA para referenciar e acessar a uma base de dados. Objetos Datastore são retornado pelos comandos abaixo:"><meta data-rh="true" property="og:description" content="Um Datastore é o objeto de interface subministrado por ORDA para referenciar e acessar a uma base de dados. Objetos Datastore são retornado pelos comandos abaixo:"><link data-rh="true" rel="icon" href="/docs/pt/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://doc4d.github.io//docs/pt/19-R6/API/DataStoreClass"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/19-R6/API/DataStoreClass" hreflang="en"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/fr/19-R6/API/DataStoreClass" hreflang="fr"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/es/19-R6/API/DataStoreClass" hreflang="es"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/ja/19-R6/API/DataStoreClass" hreflang="ja"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/pt/19-R6/API/DataStoreClass" hreflang="pt"><link data-rh="true" rel="alternate" href="https://doc4d.github.io//docs/19-R6/API/DataStoreClass" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YOUR_APP_ID-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/pt/opensearch.xml"><link rel="stylesheet" href="/docs/pt/assets/css/styles.7bd82bcd.css">
<link rel="preload" href="/docs/pt/assets/js/runtime~main.d102819a.js" as="script">
<link rel="preload" href="/docs/pt/assets/js/main.6beea729.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/pt/"><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/pt/19-R6/GettingStarted/installation">v19 R6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/pt/API/DataStoreClass">v19 R7 BETA</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/pt/19-R6/API/DataStoreClass">v19 R6</a></li><li><a class="dropdown__link" href="/docs/pt/19/API/DataStoreClass">v19</a></li><li><a class="dropdown__link" href="/docs/pt/18/GettingStarted/installation">v18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Português</a><ul class="dropdown__menu"><li><a href="/docs/19-R6/API/DataStoreClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/19-R6/API/DataStoreClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/es/19-R6/API/DataStoreClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/19-R6/API/DataStoreClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/docs/pt/19-R6/API/DataStoreClass" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Pesquisa"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Pesquisa</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19-R6/GettingStarted/installation">Começando</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/pt/19-R6/Project/overview">Core Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/19-R6/Project/overview">Project Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/19-R6/Concepts/about">4D Language Concepts</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://doc.4d.com/4Dv19R6/4D/19-R6/4D-Language-Reference.100-5910320.en.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">4D Language Reference<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/19-R6/ORDA/overview">ORDA</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/pt/19-R6/API/overview">Class API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/overview">Class API Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/BlobClass">Blob</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/ClassClass">Class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/CollectionClass">Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/CryptoKeyClass">CryptoKey</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/DataClassClass">DataClass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/DataClassAttributeClass">DataClassAttribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pt/19-R6/API/DataStoreClass">DataStore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/EmailObjectClass">Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/EntityClass">Entity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/EntitySelectionClass">EntitySelection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/FileClass">File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/FolderClass">Folder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/FunctionClass">Formula</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/HTTPRequestClass">HTTPRequest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/IMAPTransporterClass">IMAPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/MailAttachmentClass">MailAttachment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/POP3TransporterClass">POP3Transporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/SessionClass">Session</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/SignalClass">Signal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/SMTPTransporterClass">SMTPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/SystemWorkerClass">SystemWorker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/WebServerClass">WebServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/ZipArchiveClass">ZIPArchive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/ZipFileClass">ZIPFile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19-R6/API/ZipFolderClass">ZIPFolder</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/19-R6/code-editor/overview">Handling Code</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/19-R6/Debugging/basics">Debugging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/19-R6/settings/overview">Settings</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pt/19-R6/Preferences/overview">Preferences</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19-R6/ServerWindow/overview">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19-R6/Extensions/overview">Extensions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19-R6/WebServer/overview">Web Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19-R6/Desktop/clientServer">Desktop Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developer.4d.com/go-mobile/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Mobile Applications</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/pt/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Core Development</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Class API Reference</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">DataStore</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v19 R6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>DataStore</h1></header><p>Um <a href="/docs/pt/19-R6/ORDA/dsmapping#datastore">Datastore</a> é o objeto de interface subministrado por ORDA para referenciar e acessar a uma base de dados. Objetos <code>Datastore</code> são retornado pelos comandos abaixo:</p><ul><li><a href="#ds">ds</a>: um atalho para datastore principl</li><li><a href="#open-datastore">Open datastore</a>: para abrir qualquer datastore remota</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resumo">Resumo<a class="hash-link" href="#resumo" title="Direct link to heading">​</a></h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#canceltransaction"><strong>.cancelTransaction()</strong></a> <!-- --> <!-- --> <!-- --> <!-- -->cancela a transação</td></tr><tr><td><a href="#clearallremotecontexts"><strong>.clearAllRemoteContexts()</strong></a> <!-- --> <!-- --> <!-- --> <!-- -->clears all the attributes for all the active contexts in the datastore</td></tr><tr><td><a href="#dataclassname"><strong><em>.dataclassName</em></strong> : 4D. DataClass</a> <!-- --> <!-- --> <!-- --> <!-- -->contains a description of the dataclass</td></tr><tr><td><a href="#encryptionstatus"><strong>.encryptionStatus()</strong>: Object</a> <!-- --> <!-- --> <!-- --> <!-- -->returns an object providing the encryption status for the current data file</td></tr><tr><td><a href="#getallremotecontexts"><strong>.getAllRemoteContexts()</strong> : Collection</a> <!-- --> <!-- --> <!-- --> <!-- -->returns a collection of objects containing information on all the active optimization contexts in the datastore</td></tr><tr><td><a href="#getinfo"><strong>.getInfo()</strong>: Object</a> <!-- --> <!-- --> <!-- --> <!-- -->The <code>.getInfo()</code> function</td></tr><tr><td><a href="#getremotecontextinfo"><strong>.getRemoteContextInfo</strong>(<em>contextName</em> : Text) : Object </a> <!-- --> <!-- --> <!-- --> <!-- --> returns an object that holds information on the <em>contextName</em> optimization context in the datastore.</td></tr><tr><td><a href="#getrequestlog"><strong>.getRequestLog()</strong> : Collection</a> <!-- --> <!-- --> <!-- --> <!-- -->returns the ORDA requests logged in memory on the client side</td></tr><tr><td><a href="#makeselectionsalterable"><strong>.makeSelectionsAlterable()</strong></a> <!-- --> <!-- --> <!-- --> <!-- -->sets all entity selections as alterable by default in the current application datastores</td></tr><tr><td><a href="#providedatakey"><strong>.provideDataKey</strong>( <em>curPassPhrase</em> : Text ) : Object <br><strong>.provideDataKey</strong>( <em>curDataKey</em> : Object ) : Object </a> <!-- --> <!-- --> <!-- --> <!-- -->allows providing a data encryption key for the current data file of the datastore and detects if the key matches the encrypted data</td></tr><tr><td><a href="#setadminprotection"> <strong>.setAdminProtection</strong>( <em>status</em> : Boolean )</a> <!-- --> <!-- --> <!-- --> <!-- -->allows disabling any data access on the <a href="/docs/pt/19-R6/Admin/webAdmin#http-port">web admin port</a>, including for the <a href="/docs/pt/19-R6/Admin/dataExplorer">Data Explorer</a> in <code>WebAdmin</code> sessions</td></tr><tr><td><a href="#setremotecontextinfo"><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassName</em> : Text ; <em>attributes</em> : Text {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer}})<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassName</em> : Text; <em>attributesColl</em> : Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }} )<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassObject</em> : 4D. DataClass ; <em>attributes</em> : Text {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }})<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassObject</em> : 4D. DataClass ; <em>attributesColl</em> : Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }} )</a> <!-- --> <!-- --> <!-- --> <!-- -->links the specified dataclass attributes to the <em>contextName</em> optimization context</td></tr><tr><td><a href="#startrequestlog"><strong>.startRequestLog</strong>()<br><strong>.startRequestLog</strong>( <em>file</em> : 4D. File )<br><strong>.startRequestLog</strong>( <em>reqNum</em> : Integer )</a> <!-- --> <!-- --> <!-- --> <!-- -->starts the logging of ORDA requests on the client side</td></tr><tr><td><a href="#starttransaction"><strong>.startTransaction()</strong></a> <!-- --> <!-- --> <!-- --> <!-- -->starts a transaction in the current process on the database matching the datastore to which it applies</td></tr><tr><td><a href="#stoprequestlog"><strong>.stopRequestLog()</strong>  </a> <!-- --> <!-- --> <!-- --> <!-- -->stops any logging of ORDA requests on the client side</td></tr><tr><td><a href="#validatetransaction"><strong>.validateTransaction()</strong>  </a> <!-- --> <!-- --> <!-- --> <!-- -->aceita a transação</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds">ds<a class="hash-link" href="#ds" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18</td><td>Suporte do parámetro localID</td></tr><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>ds</strong> { ( <em>localID</em> : Text ) } : cs. DataStore </p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>localID</td><td>Text</td><td>-&gt;</td><td>ID local del armazém de dados remoto a devolver</td></tr><tr><td>Resultados</td><td>cs. DataStore</td><td>&lt;-</td><td>Referencia ao armazém de dados</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição">Descrição<a class="hash-link" href="#descrição" title="Direct link to heading">​</a></h4><p>O comando <code>ds</code> returns a reference to the datastore matching the current 4D database or the database designated by <em>localID</em>.</p><p>Se omitir o parâmetro <em>localID</em> (ou se passa uma string vazia &quot;&quot;), o comando devolve uma referência ao armazém de dados que coincide com a base de dados local de 4D (ou  a base de datos de 4D Server em caso de abrir uma base de dados remota em 4D Server). O armazém de dados se abre automaticamente e está disponível diretamente através de <code>ds</code>.</p><p>Também pode obter uma referencia em um datastore remoto aberto passando seu id local no parâmetro <em>localID</em>. O armazém de dados deve ter sido aberto previamente com o comando <a href="#open-datastore"><code>Open datastore</code></a> pelo banco de dados atual (local ou componente). A identificação local se define quando se utilizar este comando.</p><blockquote><p>O escopo do id local do banco de dados no qual o armazen de dados foi aberto.</p></blockquote><p>Se não encontrar nenhum armazém de dados <em>localID</em>, o comando devolve <strong>Null</strong>.</p><p>Objects available in the <code>cs.Datastore</code> are mapped from the target database with respect to the <a href="/docs/pt/19-R6/ORDA/dsmapping#general-rules">ORDA general rules</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1">Exemplo 1<a class="hash-link" href="#exemplo-1" title="Direct link to heading">​</a></h4><p>Usar a datastore principal do banco de dados 4D:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $result:=ds. Employee.query(&quot;firstName = :1&quot;;&quot;S@&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2">Exemplo 2<a class="hash-link" href="#exemplo-2" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $connectTo; $firstFrench; $firstForeign : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $frenchStudents; $foreignStudents : cs. DataStore</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $connectTo:=New object(&quot;type&quot;;&quot;4D Server&quot;;&quot;hostname&quot;;&quot;192.168.18.11:8044&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $frenchStudents:=Open datastore($connectTo;&quot;french&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $connectTo.hostname:=&quot;192.168.18.11:8050&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $foreignStudents:=Open datastore($connectTo;&quot;foreign&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $firstFrench:=getFirst(&quot;french&quot;;&quot;Students&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $firstForeign:=getFirst(&quot;foreign&quot;;&quot;Students&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //getFirst method</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //getFirst(localID;dataclass) -&gt; entity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> #DECLARE( $localId : Text; $dataClassName : Text ) -&gt; $entity : 4D. Entity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $0:=ds($localId)[$dataClassName].all().first()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="open-datastore">Open datastore<a class="hash-link" href="#open-datastore" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>Open datastore</strong>( <em>connectionInfo</em> : Object ; <em>localID</em> : Text ) : cs. DataStore </p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>connectionInfo</td><td>Objeto</td><td>-&gt;</td><td>Propriedades de conexão utilizadas para alcançar o armazém de datos remoto</td></tr><tr><td>localID</td><td>Text</td><td>-&gt;</td><td>Id para assignar ao armazém de dados aberto na aplicação local (obrigatorio)</td></tr><tr><td>Resultados</td><td>cs. DataStore</td><td>&lt;-</td><td>Objeto do armazém de dados</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-1">Descrição<a class="hash-link" href="#descrição-1" title="Direct link to heading">​</a></h4><p><em>localID</em> is a local alias for the session opened on remote datastore. If <em>localID</em> already exists on the application, it is used. Otherwise, a new <em>localID</em> session is created when the datastore object is used.</p><p>O banco de dados <em>connectionInfo</em> 4D deve estar disponível como armazém de dados remoto, ou seja:</p><ul><li>seu servidor web deve ser lançado com http ou https ativado,</li><li>sua opção <a href="/docs/pt/19-R6/REST/configuration#starting-the-rest-server"><strong>Expor como servidor REST</strong></a> deve estar marcada,</li><li>se dispõe de ao menos uma licença cliente.</li></ul><p>Se não se encontrar nenhum banco de dados coincidente, <code>Open datastore</code> devolve <strong>Null</strong>.</p><p><em>localID</em> é um alias local para a sessão aberta no armazém de dados remoto. Se <em>localID</em> já existir na aplicação, se utiliza. Em caso contrário, se cria uma nova sessão <em>localID</em> quando se utiliza o objeto datastore.</p><p>Objects available in the <code>cs.Datastore</code> are mapped from the target database with respect to the <a href="/docs/pt/19-R6/ORDA/dsmapping#general-rules">ORDA general rules</a>.</p><p>Quando abrir a sessão, as sentenças abaixo são equivalentes e devolvem uma referência sobre o mesmo objeto datastore:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $myds:=Open datastore(connectionInfo;&quot;myLocalId&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $myds2:=ds(&quot;myLocalId&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //$myds e $myds2 são equivalentes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Passe em <em>connectionInfo</em> um objeto que desceva o armazém de dados remoto ao que quiser se conectar. Pode conter as propriedades abaixo (todas as propriedades são opcionais menos <em>hostname</em>):</p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>hostname</td><td>Text</td><td>Nome ou endereço IP da database remota + &quot;:&quot; + número de porta (o numero de porta é obrigatório)</td></tr><tr><td>user</td><td>Text</td><td>Nome de usuario</td></tr><tr><td>senha</td><td>Text</td><td>senha de usuario</td></tr><tr><td>idleTimeout</td><td>Longint</td><td>Tempo de espera da sessão de inatividade (em minutos) depois do qual a sessão é fechada automaticamente por 4D. Se for omitido, o valor normal é 60 minutos (1hora) O valor não pode ser inferior a 60: se definir um valor inferior, o tempo de espera se eleva até 60). Para saber mais informação, consulte <strong>Fechamento de sessões</strong>.</td></tr><tr><td>tls</td><td>Booleano</td><td>Utilize uma conexão segura(*). Se for omitido, o normal é falso Usar uma conexão segura é recomendado sempre que possível.</td></tr><tr><td>type</td><td>Text</td><td>Deve ser &quot;4D Server&quot;</td></tr></tbody></table><p>(*) Se tls for true, se utiliza o protocolo HTTPS se:</p><ul><li>HTTPS for ativado no armazém de dados remoto</li><li>o número de porto especificado coincide com o porto HTTPS configurado nos ajustes do banco de dados</li><li>um certificado válido e uma chave privada de criptografia estão instalados no banco de dados. Senão é mostrado o erro &quot;1610 - A remote request to host xxx has failed&quot;</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-1">Exemplo 1<a class="hash-link" href="#exemplo-1-1" title="Direct link to heading">​</a></h4><p>Conexão a uma datastore remota sem usuário ou senha:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $connectTo : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $remoteDS : cs. DataStore</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $connectTo:=New object(&quot;type&quot;;&quot;4D Server&quot;;&quot;hostname&quot;;&quot;192.168.18.11:8044&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $remoteDS:=Open datastore($connectTo;&quot;students&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ALERT(&quot;This remote datastore contains &quot;+String($remoteDS. Students.all().length)+&quot; students&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-1">Exemplo 2<a class="hash-link" href="#exemplo-2-1" title="Direct link to heading">​</a></h4><p>Conexão a uma datastore remota com usuário/ senha/ timetou/ tls</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $connectTo : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $remoteDS : cs. DataStore</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $connectTo:=New object(&quot;type&quot;;&quot;4D Server&quot;;&quot;hostname&quot;;\&quot;192.168.18.11:4443&quot;;\  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;user&quot;;&quot;marie&quot;;&quot;password&quot;;$pwd;&quot;idleTimeout&quot;;70;&quot;tls&quot;;True)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $remoteDS:=Open datastore($connectTo;&quot;students&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ALERT(&quot;This remote datastore contains &quot;+String($remoteDS. Students.all().length)+&quot; students&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3">Exemplo 3<a class="hash-link" href="#exemplo-3" title="Direct link to heading">​</a></h4><p>Trabalhando com várias datastores remotas:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $connectTo : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $frenchStudents; $foreignStudents : cs. DataStore</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $connectTo:=New object(&quot;hostname&quot;;&quot;192.168.18.11:8044&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $frenchStudents:=Open datastore($connectTo;&quot;french&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $connectTo.hostname:=&quot;192.168.18.11:8050&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $foreignStudents:=Open datastore($connectTo;&quot;foreign&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ALERT(&quot;They are &quot;+String($frenchStudents. Students.all().length)+&quot; French students&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ALERT(&quot;They are &quot;+String($foreignStudents. Students.all().length)+&quot; foreign students&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="gestão-de-erros">Gestão de erros<a class="hash-link" href="#gestão-de-erros" title="Direct link to heading">​</a></h4><p>Em caso de erro, o comando devolve <strong>Null</strong>. Se não for possível acessar o armazem de dados remotos (endereço incorreto, servidor web não inciiado, http e https não habilitados...), se produz o erro 1610 &quot; Uma petição remota ao host XXX falhou&quot;. Pode interceptar este erro com um método instalado por <code>ON ERR CALL</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dataclassname"><em>.dataclassName</em><a class="hash-link" href="#dataclassname" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong><em>.dataclassName</em></strong> : 4D. DataClass</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-2">Descrição<a class="hash-link" href="#descrição-2" title="Direct link to heading">​</a></h4><p>Um <a href="/docs/pt/19-R6/ORDA/dsmapping#datastore">Datastore</a> é o objeto de interface subministrado por ORDA para referenciar e acessar a uma base de dados. O objeto devolvido contains a description of the dataclass.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo">Exemplo<a class="hash-link" href="#exemplo" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp : cs. Employee</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $sel : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=ds. Employee //$emp contains the Employee dataclass</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel:=$emp.all() //gets an entity selection of all employees</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //you could also write directly:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel:=ds. Employee.all()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="canceltransaction">.cancelTransaction()<a class="hash-link" href="#canceltransaction" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.cancelTransaction()</strong></p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td></td><td></td><td align="center"></td><td>Does not require any parameters</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-3">Descrição<a class="hash-link" href="#descrição-3" title="Direct link to heading">​</a></h4><p>A função <code>.cancelTransaction()</code> cancela a transação opened by the <a href="#starttransaction"><code>.startTransaction()</code></a> function at the corresponding level in the current process for the specified datastore.</p><p>A função <code>.cancelTransaction()</code> cancela qualquer mudança realizado nos dados durante a transação.</p><p>Pode aninhar várias transações (subtransações). Se a transação principal for cancelada, todas suas subtransações também são canceladas, mesmo se validadas individualmente usando a função <a href="#validatetransactions"><code>.validateTransaction()</code></a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-4">Exemplo<a class="hash-link" href="#exemplo-4" title="Direct link to heading">​</a></h4><p>Ver  exemplo da função <a href="#starttransaction"><code>.startTransaction()</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="clearallremotecontexts">.clearAllRemoteContexts()<a class="hash-link" href="#clearallremotecontexts" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v19 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.clearAllRemoteContexts()</strong></p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td></td><td></td><td align="center"></td><td>Does not require any parameters</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-4">Descrição<a class="hash-link" href="#descrição-4" title="Direct link to heading">​</a></h4><p>A função <code>.clearAllRemoteContexts()</code> clears all the attributes for all the active contexts in the datastore.</p><p>This function is mainly used in the context of debugging. One thing to keep in mind is that when you open the debugger, it sends requests to the server and queries all the dataclass attributes to display them. This can overload your contexts with unnecessary data.</p><p>In such cases, you can use <code>.clearAllRemoteContexts()</code> to clear your contexts and keep them clean.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também">Veja também<a class="hash-link" href="#veja-também" title="Direct link to heading">​</a></h4><p><a href="#getremotecontextinfo">.getRemoteContextInfo()</a><br><a href="#getallremotecontexts">.getAllRemoteContexts()</a><br><a href="#setremotecontextinfo">.setRemoteContextInfo()</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="encryptionstatus">.encryptionStatus()<a class="hash-link" href="#encryptionstatus" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.encryptionStatus()</strong>: Object</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Objeto</td><td align="center">&lt;-</td><td>Informação sobre o cifrado do armazém de dados atual e de cada tabela</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-5">Descrição<a class="hash-link" href="#descrição-5" title="Direct link to heading">​</a></h4><p>A função <code>.encryptionStatus()</code> returns an object providing the encryption status for the current data file (i.e., the data file of the <code>ds</code> datastore). Também se proporciona o estado de cada tabela.</p><blockquote><p>Use the <code>Data file encryption status</code> command to determine the encryption status of any other data file.</p></blockquote><p><strong>Valor retornado</strong></p><p>O objeto retornado contém as propriedades abaixo:</p><table><thead><tr><th>Propriedade</th><th></th><th></th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>isEncrypted</td><td></td><td></td><td>Booleano</td><td>True se o arquivo de dados estiver criptografado</td></tr><tr><td>keyProvided</td><td></td><td></td><td>Booleano</td><td>True se proporcionar a chave de encriptação que coincide com o arquivo de dados encriptados(*).</td></tr><tr><td>tabelas</td><td></td><td></td><td>Objeto</td><td>Objeto que contém tantas propriedades como tabelas encriptadas ou codificadas.</td></tr><tr><td></td><td><em>tableName</em></td><td></td><td>Objeto</td><td>Tabla encriptada ou cifrada</td></tr><tr><td></td><td></td><td>name</td><td>Text</td><td>Nombre da tabela</td></tr><tr><td></td><td></td><td>num</td><td>Número</td><td>Número de tabela</td></tr><tr><td></td><td></td><td>isEncryptable</td><td>Booleano</td><td>Verdadero se a tabela estiver declarada como encriptada no arquivo de estrutura</td></tr><tr><td></td><td></td><td>isEncrypted</td><td>Booleano</td><td>True se os registros da tabela estiverem encriptados no arquivo de dados</td></tr></tbody></table><p>(*) a chave de criptografia pode ser fornecida:</p><ul><li>com o comando <code>.provideDataKey()</code>,</li><li>na raíz de um dispositivo conectado antes de abrir o datastore,</li><li>com o comando <code>Discover data key</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-5">Exemplo<a class="hash-link" href="#exemplo-5" title="Direct link to heading">​</a></h4><p>Se quiser saber o número de tabelas criptografadas no arquivo de dados atual:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=dataStore.encryptionStatus()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($status.isEncrypted) //the database is encrypted</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    C_LONGINT($vcount)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    C_TEXT($tabName)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    For each($tabName;$status.tables)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       If($status.tables[$tabName].isEncrypted)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          $vcount:=$vcount+1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       End if</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    End for each</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(String($vcount)+&quot; encrypted table(s) in this datastore.&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;This database is not encrypted.&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;This database is not encrypted.&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getallremotecontexts">.getAllRemoteContexts()<a class="hash-link" href="#getallremotecontexts" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v19 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getAllRemoteContexts()</strong> : Collection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Objeto</td><td>&lt;-</td><td>Collection of optimization context objects</td></tr></tbody></table><blockquote><p><strong>Advanced mode:</strong> This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-6">Descrição<a class="hash-link" href="#descrição-6" title="Direct link to heading">​</a></h4><p>A função <code>.getAllRemoteContexts()</code> returns a collection of objects containing information on all the active optimization contexts in the datastore.</p><blockquote><p>For more information on how contexts can be created, see <a href="/docs/pt/19-R6/ORDA/datastores#clientserver-optimization">client/server optimization</a>.</p></blockquote><p>Each object in the returned collection has the properties listed in the <a href="#properties-of-the-returned-object"><code>.getRemoteContextInfo()</code></a> section.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-6">Exemplo<a class="hash-link" href="#exemplo-6" title="Direct link to heading">​</a></h4><p>The following code sets up two contexts and retrieves them using <code>.getAllRemoteContexts()</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $ds : 4D. DataStoreImplementation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $persons : cs. PersonsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $addresses : cs. AddressSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $p : cs. PersonsEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $a : cs. AddressEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $contextA; $contextB : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $info : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $text : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Open remote datastore</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Set context A</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$contextA:=New object(&quot;context&quot;; &quot;contextA&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$persons:=$ds. Persons.all($contextA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$text:=&quot;&quot; For each ($p; $persons)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $text:=$p.firstname+&quot; lives in &quot;+$p.address.city+&quot; / &quot; End for each</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Set context B</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$contextB:=New object(&quot;context&quot;; &quot;contextB&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$addresses:=$ds. Address.all($contextB)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$text:=&quot;&quot; For each ($a; $addresses)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $text:=$a.zipCode End for each</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Get all remote contexts (in this case, contextA and contextB)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$info:=$ds.getAllRemoteContexts()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">//$info = [{name:&quot;contextB&quot;; dataclass:&quot;Address&quot;; main:&quot;zipCode&quot;},</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{name:&quot;contextA&quot;;dataclass:&quot;Persons&quot;;main:&quot;firstname,address.city&quot;}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>This example serves as a demonstration, it is not meant for real implementation.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também-1">Veja também<a class="hash-link" href="#veja-também-1" title="Direct link to heading">​</a></h4><p><a href="#getremotecontextinfo">.getRemoteContextInfo()</a><br><a href="#setremotecontextinfo">.setRemoteContextInfo()</a><br><a href="#clearallremotecontexts">.clearAllRemoteContexts()</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getinfo">.getInfo()<a class="hash-link" href="#getinfo" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getInfo()</strong>: Object</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Objeto</td><td align="center">&lt;-</td><td>Propiedades de datastore</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-7">Descrição<a class="hash-link" href="#descrição-7" title="Direct link to heading">​</a></h4><p>A função <code>.getInfo()</code> The <code>.getInfo()</code> function. Esta função é útil para configurar o código genérico.</p><p><strong>Objeto devolvido</strong></p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>type</td><td>string</td><td><li>&quot;4D&quot;: armazém de dados principal, disponível através de ds </li><li>&quot;4D Server&quot;: datastore remoto, aberto com Open datastore</li></td></tr><tr><td>networked</td><td>boolean</td><td><li>True: a datastore se alcança através de uma conexão de rede.</li><li>False: não se alcança a datastore através de uma conexão de rede (base de dados local)</li></td></tr><tr><td>localID</td><td>text</td><td>ID do armazém de dados na máquina. Corresponde à string localId dada com o comando <code>Open datastore</code>. String vazia (&quot;&quot;) para o datastore principal.</td></tr><tr><td>connection</td><td>object</td><td>Objeto descrevendo a conexão remota da datastore (não retornado para datastore principal) Propriedades disponiveis: Propriedades disponiveis:<table><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr><tr><td>hostname</td><td>text</td><td>Endereço IP ou nome da datastore remota + &quot;:&quot; + número porta</td></tr><tr><td>tls</td><td>boolean</td><td>True se conexão segura for usada com a datastore remota</td></tr><tr><td>idleTimeout</td><td>number</td><td>Tempo de inatividade da sessão (em minutos)</td></tr><tr><td>user</td><td>text</td><td>Usuario autentificado no datastore remoto</td></tr></table></td></tr></tbody></table><ul><li>Se a função <code>.getInfo()</code> for executada em um 4D Server ou 4D monoposto, <code>networked</code> é False.</li><li>Se a função <code>.getInfo()</code> for executada em um 4D remoto, <code>networked</code> é True</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-2">Exemplo 1<a class="hash-link" href="#exemplo-1-2" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $info : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $info:=ds.getInfo() //Executado em 4D Server ou 4D</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //{&quot;type&quot;:&quot;4D&quot;,&quot;networked&quot;:false,&quot;localID&quot;:&quot;&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $info:=ds.getInfo() // Executado em 4D remoto</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //{&quot;type&quot;:&quot;4D&quot;,&quot;networked&quot;:true,&quot;localID&quot;:&quot;&quot;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-2">Exemplo 2<a class="hash-link" href="#exemplo-2-2" title="Direct link to heading">​</a></h4><p>Em um armazém de dados remoto:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  var $remoteDS : cs. DataStore</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  var $info; $connectTo : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $connectTo:=New object(&quot;hostname&quot;;&quot;111.222.33.44:8044&quot;;&quot;user&quot;;&quot;marie&quot;;&quot;password&quot;;&quot;aaaa&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $remoteDS:=Open datastore($connectTo;&quot;students&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $info:=$remoteDS.getInfo()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //{&quot;type&quot;:&quot;4D Server&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //&quot;localID&quot;:&quot;students&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //&quot;networked&quot;:true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //&quot;connection&quot;:{hostname:&quot;111.222.33.44:8044&quot;,&quot;tls&quot;:false,&quot;idleTimeout&quot;:2880,&quot;user&quot;:&quot;marie&quot;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getremotecontextinfo">.getRemoteContextInfo()<a class="hash-link" href="#getremotecontextinfo" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v19 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getRemoteContextInfo</strong>(<em>contextName</em> : Text) : Object </p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>contextName</td><td>Text</td><td>-&gt;</td><td>Nome do contexto</td></tr><tr><td>Resultados</td><td>Objeto</td><td>&lt;-</td><td>Description of the optimization context</td></tr></tbody></table><blockquote><p><strong>Advanced mode:</strong> This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-8">Descrição<a class="hash-link" href="#descrição-8" title="Direct link to heading">​</a></h4><p>A função <code>.getRemoteContextInfo()</code>  returns an object that holds information on the <em>contextName</em> optimization context in the datastore..</p><p>For more information on how optimization contexts can be created, see <a href="/docs/pt/19-R6/ORDA/datastores#clientserver-optimization">client/server optimization</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="objeto-devolvido">Objeto devolvido<a class="hash-link" href="#objeto-devolvido" title="Direct link to heading">​</a></h4><p>The returned object has the following properties:</p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>name</td><td>Text</td><td>Nome do contexto</td></tr><tr><td>main</td><td>Text</td><td>Attribute(s) associated to the context (attribute names are separated by a comma)</td></tr><tr><td>dataclass</td><td>Text</td><td>Dataclass name</td></tr><tr><td>currentItem (opcional)</td><td>Text</td><td>The attributes of the <a href="/docs/pt/19-R6/ORDA/datastores#entity-selection-based-list-box">page mode</a> if the context is linked to a list box. Returned as <code>Null</code> or empty text element if the context name is not used for a list box, or if there is no context for the currentItem</td></tr></tbody></table><p>Since contexts behave as filters for attributes, if <em>main</em> is returned empty, it means that no filter is applied, and that the server returns all the dataclass attributes.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-7">Exemplo<a class="hash-link" href="#exemplo-7" title="Direct link to heading">​</a></h4><p>See the example from the <a href="#example-1-3">.setRemoteContextInfo()</a> section.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também-2">Veja também<a class="hash-link" href="#veja-também-2" title="Direct link to heading">​</a></h4><p><a href="#setremotecontextinfo">.setRemoteContextInfo()</a><br><a href="#getallremotecontexts">.getAllRemoteContexts()</a><br><a href="#clearallremotecontexts">.clearAllRemoteContexts()</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getrequestlog">.getRequestLog()<a class="hash-link" href="#getrequestlog" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R6</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getRequestLog()</strong> : Collection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Collection</td><td align="center">&lt;-</td><td>Collection of objects, where each object describes a request</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-9">Descrição<a class="hash-link" href="#descrição-9" title="Direct link to heading">​</a></h4><p>A função <code>.getRequestLog()</code> returns the ORDA requests logged in memory on the client side. .</p><p>Esta função deve ser chamada em um 4D remoto, do contrário devolve uma coleção vazia. Foi criado para depuração em configurações de cliente/servidor.</p><p><strong>Valor retornado</strong></p><p>Coleção de objetos de petição empilhados. A petição mais recente tem indice 0.</p><p>Para uma descrição do formato do registro de petições de ORDA, consulte a seção <a href="https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373" target="_blank" rel="noopener noreferrer"><strong>Perguntas do cliente ORDA</strong></a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-8">Exemplo<a class="hash-link" href="#exemplo-8" title="Direct link to heading">​</a></h4><p>Ver o exemplo 2 de <a href="#startrequestlog"><code>.startRequestLog()</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="isadminprotected">.isAdminProtected()<a class="hash-link" href="#isadminprotected" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18 R6</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.isAdminProtected()</strong> : Boolean</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Booleano</td><td align="center">&lt;-</td><td>True se o acesso ao Explorador de Dados estiver desativado, False se estiver ativado (por padrão)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-10">Descrição<a class="hash-link" href="#descrição-10" title="Direct link to heading">​</a></h4><p>A função <code>.isAdminProtected()</code> returns <code>True</code> if <a href="/docs/pt/19-R6/Admin/dataExplorer">Data Explorer</a> access has been disabled for the working session.</p><p>Como padrão, o acesso ao Explorador de Dados se concede para as sessões <code>webAdmin</code>, mas pode ser desativada para evitar qualquer acesso aos dados por parte dos administradores (ver a função <a href="#setadminprotection"><code>.setAdminProtection()</code></a>).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também-3">Veja também<a class="hash-link" href="#veja-também-3" title="Direct link to heading">​</a></h4><p><a href="#setadminprotection"><code>.setAdminProtection()</code></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="makeselectionsalterable">.makeSelectionsAlterable()<a class="hash-link" href="#makeselectionsalterable" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.makeSelectionsAlterable()</strong></p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td></td><td></td><td align="center"></td><td>Does not require any parameters</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-11">Descrição<a class="hash-link" href="#descrição-11" title="Direct link to heading">​</a></h4><p>A função <code>.makeSelectionsAlterable()</code> sets all entity selections as alterable by default in the current application datastores (including <a href="/docs/pt/19-R6/ORDA/datastores">remote datastores</a>). Está pensado para ser utilizado uma vez, por exemplo no método base <code>On Startup</code>.</p><p>quando nesta função não for chamada, as novas seleções de entidades podem ser compartilháveis, dependendo da natureza de seu &quot;pai&quot;, ou de <a href="/docs/pt/19-R6/ORDA/entities#shareable-or-non-shareable-entity-selections">como foram criadas</a>.</p><blockquote><p>Esta função não modifica as seleções de entidades criadas por <a href="#copy"><code>.copy()</code></a> ou <code>OB Copy</code> quando se utilizar a opção explícita <code>ck shared</code>.</p></blockquote><blockquote><p><strong>Compatibilidade</strong>: esta função só deve ser utilizada em projetos convertidos desde versões de 4D anteriores a 4D v18 R5 e que contenham chamadas <a href="/docs/pt/19-R6/API/EntitySelectionClass#add">.add()</a>. Nste contexto, o uso de <code>.makeSelectionsAlterable()</code> pode poupar tempo ao restaurar instantaneamente o comportamento anterior de 4D nos projetos existentes. Por outro lado, utilizar este método em projetos novos criados em 4D v18 R5 e superiores <strong>não é recomendável</strong>, já que impede compartir as seleções de entidades, o que oferece maior rendimento e escalabilidade.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="providedatakey">.provideDataKey()<a class="hash-link" href="#providedatakey" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.provideDataKey</strong>( <em>curPassPhrase</em> : Text ) : Object <br><strong>.provideDataKey</strong>( <em>curDataKey</em> : Object ) : Object </p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>curPassPhrase</td><td>Text</td><td>-&gt;</td><td>Frase de cifrado atual</td></tr><tr><td>curDataKey</td><td>Objeto</td><td>-&gt;</td><td>Chave de criptografia de dados atual</td></tr><tr><td>Resultados</td><td>Objeto</td><td>&lt;-</td><td>Resultado da coincidência da chave de criptografia</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-12">Descrição<a class="hash-link" href="#descrição-12" title="Direct link to heading">​</a></h4><p>A função <code>.provideDataKey()</code> allows providing a data encryption key for the current data file of the datastore and detects if the key matches the encrypted data. Esta função pode ser utilizada ao abrir um banco de dados criptografado, ou ao executar qualquer operação de criptografia que precise da chave de criptografia, como por exemplo voltar a criptografar o arquivo de dados.</p><blockquote><ul><li>A função <code>.provideDataKey()</code> deve ser chamada em um banco de dados criptografada. Se for chamado em uma database não criptografada, o erro 2003 (a chave de criptografia não corresponde aos dados) é retornada. Utilize o comando <code>Estado de cifrado do arquivo de dados</code> para determinar se o banco de dados estiver cifrada.</li><li>A função <code>.provideDataKey()</code> não pode ser chamada desde um 4D remoto ou uma datastore remoto encriptado.</li></ul></blockquote><p>Se utilizar o parâmetro <em>curPassPhrase</em>, passe a string utilizada para gerar a chave de cifrado de dados. Quando usar este parâmetro, uma chave de criptografia é gerada.</p><p>Se utilizar o parâmetro <em>curDataKey</em>, passe um objeto (com a propriedade <em>encodedKey</em>) que contenha a chave de cifrado dos dados. Esta chave pode ter sido gerada com o comando <code>New data key</code>.</p><p>Se aportar uma chave de cifrado de dados válida, se adicionar a <em>keyChain</em> da memória e se ativa o modo de cifrado:</p><ul><li>todas as modificações de dados nas tabelas encriptadas são cifradas no disco (.4DD, .journal. 4Dindx)</li><li>todos os dados carregados desde tabelas criptografadas são descifradas na memória</li></ul><p><strong>Resultados</strong></p><p>O resultado da ordem se descreve no objeto devolvido:</p><table><thead><tr><th>Propriedade</th><th></th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>success</td><td></td><td>Booleano</td><td>True se a chave da criptografia proporcionada coincide com os dados encriptados, False em caso contrário</td></tr><tr><td></td><td></td><td></td><td>As seguintes propriedades são devolvidas só se success for <em>FALSE</em></td></tr><tr><td>status</td><td></td><td>Número</td><td>Código de erro (4 se a chave de encriptação fornecida for errada)</td></tr><tr><td>statusText</td><td></td><td>Text</td><td>Mensagem de erro</td></tr><tr><td>errors</td><td></td><td>Collection</td><td>Pilha de erros. O primeiro erro tem o índice mais alto</td></tr><tr><td></td><td>[<!-- --> ].componentSignature</td><td>Text</td><td>Nome do componente interno</td></tr><tr><td></td><td>[<!-- --> ].errCode</td><td>Número</td><td>Número de erro</td></tr><tr><td></td><td>[<!-- --> ].message</td><td>Text</td><td>Mensagem de erro</td></tr></tbody></table><p>Se não for dada uma <em>curPassphrase</em> ou <em>curDataKey</em>, <code>.provideDataKey()</code> devolve <strong>null</strong> (não é gerado nenhum erro).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-9">Exemplo<a class="hash-link" href="#exemplo-9" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $keyStatus : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $passphrase : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $passphrase:=Request(&quot;Enter the passphrase&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If(OK=1)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $keyStatus:=ds.provideDataKey($passphrase)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    If($keyStatus.success)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT(&quot;You have provided a valid encryption key&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Else</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ALERT(&quot;You have provided an invalid encryption key, you will not be able to work with encrypted data&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    End if</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setadminprotection">.setAdminProtection()<a class="hash-link" href="#setadminprotection" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18 R6</td><td>Adicionado</td></tr></tbody></table></div></div></details><p> <strong>.setAdminProtection</strong>( <em>status</em> : Boolean )</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>status</td><td>Booleano</td><td>-&gt;</td><td>True para desativar o acesso Data Explorer aos dados do porto <code>webAdmin</code>, False (por padrão) para outorgar o acesso</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-13">Descrição<a class="hash-link" href="#descrição-13" title="Direct link to heading">​</a></h4><p>A função <code>.setAdminProtection()</code> allows disabling any data access on the <a href="/docs/pt/19-R6/Admin/webAdmin#http-port">web admin port</a>, including for the <a href="/docs/pt/19-R6/Admin/dataExplorer">Data Explorer</a> in <code>WebAdmin</code> sessions.</p><p>Por padrão, quando não chamar a função, o acesso aos dados se concede sempre no porto de administração web para uma sessão com privilégio <code>WebAdmin</code> utilizando o Explorador de Dados. Em algumas configurações, por exemplo, quando o servidor de aplicações estiver alojado em uma máquina de terceiros, é possivel que não quiser que o administrador possaa ver seus dados, mesmo que possa editar a configuração do servidor, incluindo a configuração da <a href="/docs/pt/19-R6/Admin/webAdmin#access-key">access key</a>.</p><p>Neste caso, pode chamar a esta função para desabilitar o acesso aos dados do Explorador de Dados no porto de administração web da máquina, mesmo se a sessão de usuário tiver o privilégio <code>WebAdmin</code>. Quando esta função for executada, o arquivo de dados é protegido imediatamente e o estado é armazenado no disco: o arquivo de dados é protegido mesmo se a aplicação for restaurada.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-10">Exemplo<a class="hash-link" href="#exemplo-10" title="Direct link to heading">​</a></h4><p>Se criar um método projeto <em>protectDataFile</em> para chamar antes dos lançamentos, por exemplo:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ds.setAdminProtection(True) //Desativa o acesso aos dados do Explorador de Dados</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também-4">Veja também<a class="hash-link" href="#veja-também-4" title="Direct link to heading">​</a></h4><p><a href="#isadminprotected"><code>.isAdminProtected()</code></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setremotecontextinfo">.setRemoteContextInfo()<a class="hash-link" href="#setremotecontextinfo" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v19 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassName</em> : Text ; <em>attributes</em> : Text {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer}})<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassName</em> : Text; <em>attributesColl</em> : Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }} )<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassObject</em> : 4D. DataClass ; <em>attributes</em> : Text {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }})<br><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text ; <em>dataClassObject</em> : 4D. DataClass ; <em>attributesColl</em> : Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> : Integer }} )</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>contextName</td><td>Text</td><td>-&gt;</td><td>Nome do contexto</td></tr><tr><td>dataClassName</td><td>Text</td><td>-&gt;</td><td>Nome da dataclass</td></tr><tr><td>dataClassObject</td><td>4D. DataClass</td><td>-&gt;</td><td>dataclass object (e.g datastore. Employee)</td></tr><tr><td>attributes</td><td>Text</td><td>-&gt;</td><td>Attribute list separated by a comma</td></tr><tr><td>attributesColl</td><td>Collection</td><td>-&gt;</td><td>Coleção de nomes de atributos (text)</td></tr><tr><td>contextType</td><td>Text</td><td>-&gt;</td><td>If provided, value must be &quot;main&quot; or &quot;currentItem&quot;</td></tr><tr><td>pageLength</td><td>Integer</td><td>-&gt;</td><td>Page length of the entity selection linked to the context (default is 80)</td></tr></tbody></table><blockquote><p><strong>Advanced mode:</strong> This function is intended for developers who need to customize ORDA default features for specific configurations. In most cases, you will not need to use it.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-14">Descrição<a class="hash-link" href="#descrição-14" title="Direct link to heading">​</a></h4><p>A função <code>.setRemoteContextInfo()</code> links the specified dataclass attributes to the <em>contextName</em> optimization context. Summary --&gt;links the specified dataclass attributes to the <em>contextName</em> optimization context.</p><p>When you pass a context to the ORDA class functions, the REST request optimization is triggered immediately:</p><ul><li>the first entity is not fully loaded as done in automatic mode</li><li>pages of 80 entities (or <code>pageLength</code> entities) are immediately asked to the server with only the attributes in the context</li></ul><blockquote><p>For more information on how optimization contexts are built, refer to the <a href="/docs/pt/19-R6/ORDA/datastores#clientserver-optimization">client/server optimization paragraph</a></p></blockquote><p>In <em>contextName</em>, pass the name of the optimization context to link to the dataclass attributes.</p><p>To designate the dataclass that will receive the context, you can pass a <em>dataClassName</em> or a <em>dataClassObject</em>.</p><p>To designate the attributes to link to the context, pass either a list of attributes separated by a comma in <em>attributes</em> (Text), or a collection of attribute names in <em>attributesColl</em> (collection of text).</p><p>If <em>attributes</em> is an empty Text, or <em>attributesColl</em> is an empty collection, all the scalar attributes of the dataclass are put in the optimization context. If you pass an attribute that does not exist in the dataclass, the function ignores it and an error is thrown.</p><p>You can pass a <em>contextType</em> to  specify if the context is a standard context or the context of the current entity selection item displayed in a list box:</p><ul><li>If set to &quot;main&quot; (default), the <em>contextName</em> designates a standard context.</li><li>If set to &quot;currentItem&quot;, the attributes passed are put in the context of the current item.  See  <a href="/docs/pt/19-R6/ORDA/datastores#entity-selection-based-list-box">Entity selection-based list box</a>.</li></ul><p>In <em>pageLength</em>, specify the number of dataclass entities to request from the server.</p><p>You can pass a <em>pageLength</em> for a relation attribute which is an entity selection (one to many). The syntax is <code>relationAttributeName:pageLength</code> (e.g employees:20).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-3">Exemplo 1<a class="hash-link" href="#exemplo-1-3" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $ds : 4D. DataStoreImplementation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $persons : cs. PersonsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $p : cs. PersonsEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $contextA : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $info : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $text : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Open remote datastore</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Set context info</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$contextA:=New object(&quot;context&quot;; &quot;contextA&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ds.setRemoteContextInfo(&quot;contextA&quot;; $ds. Persons; &quot;firstname, lastname&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Send requests to the server using a loop</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$persons:=$ds. Persons.all($contextA)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$text:=&quot;&quot; For each ($p; $persons)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $text:=$p.firstname + &quot; &quot; + $p.lastname End for each</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Check contents of the context</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$info:=$ds.getRemoteContextInfo(&quot;contextA&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// $info = {name:&quot;contextA&quot;;dataclass:&quot;Persons&quot;;main:&quot;firstname, lastname&quot;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>This example serves as a demonstration, it is not meant for real implementation.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-3">Exemplo 2<a class="hash-link" href="#exemplo-2-3" title="Direct link to heading">​</a></h4><p>The following piece of code requests pages of 30 entities of the <code>Address</code> dataclass from the server. The returned entities only contain the <code>zipCode</code> attribute.</p><p>For each <code>Address</code> entity, 20 Persons entities are returned, and they only contain the <code>lastname</code> and <code>firstname</code> attributes:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $ds : 4D. DataStoreImplementation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ds.setRemoteContextInfo(&quot;contextA&quot;; $ds. Address; &quot;zipCode, persons:20,\</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">persons.lastname, persons.firstname&quot;; &quot;main&quot;; 30)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3---listbox">Exemplo 3 - Listbox<a class="hash-link" href="#exemplo-3---listbox" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// When the form loads Case of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    : (Form event code=On Load)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Form.ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       // Set the attributes of the page context</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Form.ds.setRemoteContextInfo(&quot;LB&quot;; Form.ds. Persons; &quot;age, gender,\</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        children&quot;; &quot;currentItem&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Form.settings:=New object(&quot;context&quot;; &quot;LB&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Form.persons:=Form.ds. Persons.all(Form.settings)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // Form.persons is displayed in a list box End case</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// When you get the attributes in the context of the current item: Form.currentItemLearntAttributes:=Form.selectedPerson.getRemoteContextAttributes()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Form.currentItemLearntAttributes = &quot;age, gender, children&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também-5">Veja também<a class="hash-link" href="#veja-também-5" title="Direct link to heading">​</a></h4><p><a href="#getremotecontextinfo">.getRemoteContextInfo()</a><br><a href="#getallremotecontexts">.getAllRemoteContexts()</a><br><a href="#clearallremotecontexts">.clearAllRemoteContexts()</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="startrequestlog">.startRequestLog()<a class="hash-link" href="#startrequestlog" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R6</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.startRequestLog</strong>()<br><strong>.startRequestLog</strong>( <em>file</em> : 4D. File )<br><strong>.startRequestLog</strong>( <em>reqNum</em> : Integer )</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>file</td><td>4D. File</td><td>-&gt;</td><td>Objeto File</td></tr><tr><td>reqNum</td><td>Integer</td><td>-&gt;</td><td>Number of requests to keep in memory</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-15">Descrição<a class="hash-link" href="#descrição-15" title="Direct link to heading">​</a></h4><p>A função <code>.startRequestLog()</code> starts the logging of ORDA requests on the client side.</p><p>Esta função deve ser chamada em um 4D remoto, do contrário não faz nada. Foi criado para depuração em configurações de cliente/servidor.</p><p>O registro de petições ORDA pode ser enviado a um arquivo ou a memória, dependendo do tipo de parâmetro:</p><ul><li><p>Se passar um objeto <em>file</em> criado com o comando <code>File</code>, os dados de registro se escrevem neste arquivo como uma coleção de objetos (formato JSON). Each object represents a request.<br>If the file does not already exist, it is created. No caso contrário, ou seja, se o arquivo já existir, os novos dados de registro serão adicionados a ele. Se chamar a <code>.startRequestLog( )</code> com um arquivo enquanto se iniciou previamente um registro na memória, o registro em memória para e é esvaziado.</p><blockquote><p>Deve adicionar manualmente um caractere \N ao final do arquivo para realizar uma validação JSON</p></blockquote></li><li><p>Se passar um inteiro <em>reqNum</em>, se esvazia o registro em memória (se houver) e se inicializa um novo registro. It will keep <em>reqNum</em> requests in memory until the number is reached, in which case the oldest entries are emptied (FIFO stack).<br>If <code>.startRequestLog()</code> is called with a <em>reqNum</em> while a logging was previously started in a file, the file logging is stopped.</p></li><li><p>Se não tiver passado nenhum parâmetro, o registro se inicia na memória. Se chamou previamente a <code>.startRequestLog()</code> com um <em>reqNum</em> (antes de um <code>.stopRequestLog()</code>), os datos do registro são empilhados em memória até a próxima vez que se esvazie o registro ou se chame a <code>.stopRequestLog()</code>.</p></li></ul><p>Para uma descrição do formato do registro de petições de ORDA, consulte a seção <a href="https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373" target="_blank" rel="noopener noreferrer"><strong>Perguntas do cliente ORDA</strong></a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-4">Exemplo 1<a class="hash-link" href="#exemplo-1-4" title="Direct link to heading">​</a></h4><p>Se quiser registras as petições dos clientes ORDA em um arquivo e usar o número de sequencia do registro:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $file : 4D. File</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $e : cs. PersonsEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $file:=File(&quot;/LOGS/ORDARequests.txt&quot;) //logs folder</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> SET DATABASE PARAMETER(Client Log Recording;1) //to trigger the global log sequence number</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ds.startRequestLog($file)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e:=ds. Persons.get(30001) //send a request</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ds.stopRequestLog()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> SET DATABASE PARAMETER(Client Log Recording;0)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-4">Exemplo 2<a class="hash-link" href="#exemplo-2-4" title="Direct link to heading">​</a></h4><p>Se quiser registrar as petições dos clientes ORDA na memória:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es : cs. PersonsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $log : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ds.startRequestLog(3) //keep 3 requests in memory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Persons.query(&quot;name=:1&quot;;&quot;Marie&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Persons.query(&quot;name IN :1&quot;;New collection(&quot;Marie&quot;))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds.Persons.query(&quot;name=:1&quot;;&quot;So@&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $log:=ds.getRequestLog()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ALERT(&quot;The longest request lasted: &quot;+String($log.max(&quot;duration&quot;))+&quot; ms&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="starttransaction">.startTransaction()<a class="hash-link" href="#starttransaction" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.startTransaction()</strong></p><p>| Parâmetros | Tipo |  | Descrição                                                  |
| ---------- | ---- |  | ---------------------------------------------------------- |
|            |      |  | Does not require any parameters| |</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-16">Descrição<a class="hash-link" href="#descrição-16" title="Direct link to heading">​</a></h4><p>A função <code>.startTransaction()</code> starts a transaction in the current process on the database matching the datastore to which it applies. Summary --&gt;cancela a transação aberta pela função <a href="#starttransaction"><code>.startTransaction()</code></a> no nível correspondente do processo atual para o datastore especificado.</p><blockquote><p>Se chamar a este método no armazém de dados principal (ou seja, o armazém de dados devolvido pelo comando <code>ds</code>), a transação se aplica a todas as operações realizadas no armazém de dados principal e no banco de dados subjacente, incluindo portanto ORDA e as linguagens clássicas.</p></blockquote><p>Pode aninhar várias transações (subtransações). Cada transação ou subtransação deve ser eventualmente cancelada ou validada. Note que se cancelar a transação principal, também se cancelam todas suas subtransações, mesmo se tiver validado individualmente mediante a função <code>.validateTransaction()</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-11">Exemplo<a class="hash-link" href="#exemplo-11" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $connect; $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $person : cs. PersonsEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $ds : cs. DataStore</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $choice : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $error : Boolean</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($choice=&quot;local&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       $ds:=ds</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    :($choice=&quot;remote&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       $connect:=New object(&quot;hostname&quot;;&quot;111.222.3.4:8044&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       $ds:=Open datastore($connect;&quot;myRemoteDS&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End case</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $ds.startTransaction()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $person:=$ds. Persons.query(&quot;lastname=:1&quot;;&quot;Peters&quot;).first()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($person#Null)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $person.lastname:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $status:=$person.save()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If($error)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $ds.cancelTransaction()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $ds.validateTransaction()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stoprequestlog">.stopRequestLog()<a class="hash-link" href="#stoprequestlog" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R6</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.stopRequestLog()</strong>  </p><p>| Parâmetros | Tipo |  | Descrição                                                  |
| ---------- | ---- |  | ---------------------------------------------------------- |
|            |      |  | Does not require any parameters| |</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-17">Descrição<a class="hash-link" href="#descrição-17" title="Direct link to heading">​</a></h4><p>A função <code>.stopRequestLog()</code> stops any logging of ORDA requests on the client side (em arquivo ou em memória). É particularmente útil quando se registrar um arquivo, já que realmente fecha o documento aberto no disco.</p><p>Esta função deve ser chamada em um 4D remoto, do contrário não faz nada. Foi criado para depuração em configurações de cliente/servidor.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-12">Exemplo<a class="hash-link" href="#exemplo-12" title="Direct link to heading">​</a></h4><p>Ver exemplos <a href="#startrequestlog"><code>.startRequestLog()</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="validatetransaction">.validateTransaction()<a class="hash-link" href="#validatetransaction" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v18</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.validateTransaction()</strong>  </p><p>| Parâmetros | Tipo |  | Descrição                                                  |
| ---------- | ---- |  | ---------------------------------------------------------- |
|            |      |  | Does not require any parameters| |</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-18">Descrição<a class="hash-link" href="#descrição-18" title="Direct link to heading">​</a></h4><p>A função <code>.validateTransaction()</code> aceita a transação that was started with <a href="#starttransaction"><code>.startTransaction()</code></a> at the corresponding level on the specified datastore.</p><p>A função salva as mudanças nos dados do datastore que se produziram durante a transação.</p><p>Pode aninhar várias transações (subtransações). Se a transação principal for cancelada, todas suas subtransações também são canceladas, mesmo se validadas individualmente usando esta função.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-13">Exemplo<a class="hash-link" href="#exemplo-13" title="Direct link to heading">​</a></h4><p>Ver exemplos <a href="#starttransaction"><code>.startTransaction()</code></a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pt/19-R6/API/DataClassAttributeClass"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">DataClassAttribute</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pt/19-R6/API/EmailObjectClass"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Email</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#resumo" class="table-of-contents__link toc-highlight">Resumo</a></li><li><a href="#ds" class="table-of-contents__link toc-highlight">ds</a></li><li><a href="#open-datastore" class="table-of-contents__link toc-highlight">Open datastore</a></li><li><a href="#dataclassname" class="table-of-contents__link toc-highlight"><em>.dataclassName</em></a></li><li><a href="#canceltransaction" class="table-of-contents__link toc-highlight">.cancelTransaction()</a></li><li><a href="#clearallremotecontexts" class="table-of-contents__link toc-highlight">.clearAllRemoteContexts()</a></li><li><a href="#encryptionstatus" class="table-of-contents__link toc-highlight">.encryptionStatus()</a></li><li><a href="#getallremotecontexts" class="table-of-contents__link toc-highlight">.getAllRemoteContexts()</a></li><li><a href="#getinfo" class="table-of-contents__link toc-highlight">.getInfo()</a></li><li><a href="#getremotecontextinfo" class="table-of-contents__link toc-highlight">.getRemoteContextInfo()</a></li><li><a href="#getrequestlog" class="table-of-contents__link toc-highlight">.getRequestLog()</a></li><li><a href="#isadminprotected" class="table-of-contents__link toc-highlight">.isAdminProtected()</a></li><li><a href="#makeselectionsalterable" class="table-of-contents__link toc-highlight">.makeSelectionsAlterable()</a></li><li><a href="#providedatakey" class="table-of-contents__link toc-highlight">.provideDataKey()</a></li><li><a href="#setadminprotection" class="table-of-contents__link toc-highlight">.setAdminProtection()</a></li><li><a href="#setremotecontextinfo" class="table-of-contents__link toc-highlight">.setRemoteContextInfo()</a></li><li><a href="#startrequestlog" class="table-of-contents__link toc-highlight">.startRequestLog()</a></li><li><a href="#starttransaction" class="table-of-contents__link toc-highlight">.startTransaction()</a></li><li><a href="#stoprequestlog" class="table-of-contents__link toc-highlight">.stopRequestLog()</a></li><li><a href="#validatetransaction" class="table-of-contents__link toc-highlight">.validateTransaction()</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Developer Center</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Where It All Began)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Knowledgebase</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">About 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D around the world<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2022 4D SAS - All rights reserved</div></div></div></footer></div>
<script src="/docs/pt/assets/js/runtime~main.d102819a.js"></script>
<script src="/docs/pt/assets/js/main.6beea729.js"></script>
</body>
</html>