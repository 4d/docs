<!doctype html>
<html lang="pt" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-20-R4 docs-doc-page docs-doc-id-API/EntitySelectionClass" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">EntitySelection | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://4d.github.io/docs/pt/20-R4/API/EntitySelectionClass"><meta data-rh="true" property="og:locale" content="pt"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="pt"><meta data-rh="true" name="docsearch:language" content="pt"><meta data-rh="true" name="docusaurus_version" content="20-R4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-20-R4"><meta data-rh="true" name="docsearch:version" content="20-R4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-20-R4"><meta data-rh="true" property="og:title" content="EntitySelection | 4D Docs"><meta data-rh="true" name="description" content="Uma seleção de entidades é um objeto que contém uma ou mais referencias a entidades pertencentes à mesma Dataclass. Uma seleção de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o número total de entidades contidas na dataclass."><meta data-rh="true" property="og:description" content="Uma seleção de entidades é um objeto que contém uma ou mais referencias a entidades pertencentes à mesma Dataclass. Uma seleção de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o número total de entidades contidas na dataclass."><link data-rh="true" rel="icon" href="/docs/pt/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://4d.github.io/docs/pt/20-R4/API/EntitySelectionClass"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/20-R4/API/EntitySelectionClass" hreflang="en"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/fr/20-R4/API/EntitySelectionClass" hreflang="fr"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/es/20-R4/API/EntitySelectionClass" hreflang="es"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/ja/20-R4/API/EntitySelectionClass" hreflang="ja"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/pt/20-R4/API/EntitySelectionClass" hreflang="pt"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/20-R4/API/EntitySelectionClass" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/pt/opensearch.xml"><link rel="stylesheet" href="/docs/pt/assets/css/styles.dc9a4272.css">
<script src="/docs/pt/assets/js/runtime~main.7fe444d7.js" defer="defer"></script>
<script src="/docs/pt/assets/js/main.8ef7c659.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Saltar para o conteúdo principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar para o conteúdo principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar barra de navegação" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/pt/"><div class="navbar__logo"><img src="/docs/pt/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/pt/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Documentação 4D</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/pt/20-R4/GettingStarted/installation">20 R4</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/pt/API/EntitySelectionClass">20 R5</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/pt/20-R4/API/EntitySelectionClass">20 R4</a></li><li><a class="dropdown__link" href="/docs/pt/20/API/EntitySelectionClass">20</a></li><li><a class="dropdown__link" href="/docs/pt/19/API/EntitySelectionClass">19</a></li><li><a class="dropdown__link" href="/docs/pt/18/GettingStarted/installation">18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/pt/20-R4/API/EntitySelectionClass"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Português</a><ul class="dropdown__menu"><li><a href="/docs/20-R4/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/20-R4/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/es/20-R4/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/20-R4/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/docs/pt/20-R4/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Alternar entre os modos escuro e claro (atualmente modo Claro)" aria-label="Alternar entre os modos escuro e claro (atualmente modo Claro)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Pesquisa"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Pesquisa</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Voltar ao topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/docs/pt/"><img src="/docs/pt/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/pt/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Documentação 4D</b></a><nav aria-label="Barra lateral de documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pt/20-R4/category/getting-started">Começando</a><button aria-label="Expandir a categoria lateral &#x27;Começando&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/pt/20-R4/category/core-development">Desenvolvimento</a><button aria-label="Fechar a categoria lateral &#x27;Desenvolvimento&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pt/20-R4/Project/overview">Gestão de projectos</a><button aria-label="Expandir a categoria lateral &#x27;Gestão de projectos&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/pt/20-R4/Project/code-overview">Ambiente de desenvolvimento</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pt/20-R4/ORDA/overview">ORDA</a><button aria-label="Expandir a categoria lateral &#x27;ORDA&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/pt/20-R4/Concepts/about">Línguagem</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/pt/20-R4/Concepts/about">Conceitos</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a href="https://doc.4d.com/4Dv20R4/4D/20-R4/4D-Language-Reference.100-6655756.en.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Comandos<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/pt/20-R4/category/class-API-reference">Classes</a><button aria-label="Fechar a categoria lateral &#x27;Classes&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/overview">Sobre as funções classe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/BlobClass">Blob</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/ClassClass">Class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/CollectionClass">Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/CryptoKeyClass">CryptoKey</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/DataClassClass">DataClass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/DataStoreClass">DataStore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/EmailObjectClass">Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/EntityClass">Entity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pt/20-R4/API/EntitySelectionClass">EntitySelection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/FileClass">File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/FileHandleClass">FileHandle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/FolderClass">Folder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/FunctionClass">Function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/HTTPRequestClass">HTTPRequest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/IMAPTransporterClass">IMAPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/MailAttachmentClass">MailAttachment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/POP3TransporterClass">POP3Transporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/SessionClass">Session</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/SignalClass">Signal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/SMTPTransporterClass">SMTPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/SystemWorkerClass">SystemWorker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/WebFormClass">WebForm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/WebFormItemClass">WebFormItem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/WebServerClass">WebServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/WebSocketClass">WebSocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/WebSocketConnectionClass">WebSocketConnection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/WebSocketServerClass">WebSocketServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/ZipArchiveClass">ZIPArchive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/ZipFileClass">ZIPFile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/API/ZipFolderClass">ZIPFolder</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/pt/20-R4/Develop/processes">Processos</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20-R4/Tags/transformation-tags">Etiquetas de transformação</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pt/20-R4/Preferences/overview">Preferências</a><button aria-label="Expandir a categoria lateral &#x27;Preferências&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pt/20-R4/category/administration">Administração</a><button aria-label="Expandir a categoria lateral &#x27;Administração&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pt/20-R4/Extensions/overview">Extensões</a><button aria-label="Expandir a categoria lateral &#x27;Extensões&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pt/20-R4/category/web-applications">Aplicações Web</a><button aria-label="Expandir a categoria lateral &#x27;Aplicações Web&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pt/20-R4/category/desktop-applications">Aplicações Desktop</a><button aria-label="Expandir a categoria lateral &#x27;Aplicações Desktop&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developer.4d.com/go-mobile/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Aplicações móveis</a></div></li></ul></nav><button type="button" title="Recolher a barra lateral" aria-label="Recolher a barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Trilha de navegação"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Página inicial" class="breadcrumbs__link" href="/docs/pt/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pt/20-R4/category/core-development"><span itemprop="name">Desenvolvimento</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Línguagem</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pt/20-R4/category/class-API-reference"><span itemprop="name">Classes</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">EntitySelection</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Versão: 20 R4</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Nesta página</button></div><div class="theme-doc-markdown markdown"><header><h1>EntitySelection</h1></header><p>Uma seleção de entidades é um objeto que contém uma ou mais referencias a <a href="/docs/pt/20-R4/ORDA/dsmapping#entity">entidades</a> pertencentes à mesma <a href="/docs/pt/20-R4/ORDA/dsmapping#dataclass">Dataclass</a>. Uma seleção de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o número total de entidades contidas na dataclass.</p>
<p>As seleções de entidades podem ser criadas a partir de seleções existentes utilizando varias funções da classe <a href="/docs/pt/20-R4/API/DataClassClass"><code>DataClass</code> class</a> tais como <a href="/docs/pt/20-R4/API/DataClassClass#all"><code>.all()</code></a> ou <a href="/docs/pt/20-R4/API/DataClassClass#query"><code>.query()</code></a>, ou da classe <code>EntityClass</code> mesma, tal como <a href="/docs/pt/20-R4/API/EntitySelectionClass#and"><code>.and()</code></a> ou <a href="/docs/pt/20-R4/API/EntitySelectionClass#orderby"><code>orderBy()</code></a>. Também pode criar seleções de entidades em branco utilizando a função <a href="/docs/pt/20-R4/API/DataClassClass#newselection"><code>dataClass.newSelection()</code></a> ou o comando <a href="/docs/pt/20-R4/API/EntitySelectionClass#create-new-selection"><code>Create new selection</code></a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Resumo">Resumo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Resumo">​</a></h3>














































































































<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#91index93"><em><strong>[index]</strong></em> : 4D.Entity</a>    permite acessar entidades sem a seleção de entidade usando a sintaxe coleção padrão</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#attributename"><em><strong>.attributeName</strong></em> : Collection<br><em><strong>.attributeName</strong></em> : 4D. EntitySelection</a>    uma &quot;projeção&quot; de valores para o atributo na seleção de entidades</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#add"><strong>.add</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.add</strong>( <em>entitySelection</em> : 4D.</a>    addiciona a <em>entity</em> especificada ou <em>entitySelection</em> para a selleção de entidade original e retona a seleção de entidade modificada</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#and"><strong>.and</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</a>    combina a seleção da entidade com um parâmetro <em>entity</em> ou <em>entitySelection</em> utilizando o operador lógico AND</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#at"><strong>.at</strong>( <em>index</em> : Integer ) : 4D. Entity </a>    devolve a entidade na posição <em>index</em>, permitindo a utilização de números inteiros positivos e negativos</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#average"><strong>.average</strong>( {<em>propertyPath</em> : Text } ) : Real</a>    devolve a média aritmética (média) de todos os valores não nulos de <em>attributePath</em> na selecção de entidades</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#contains"><strong>.contains</strong>( <em>entity</em> : 4D.Entity ) : Boolean</a>    retorna true se a referência de entidade pertencer à seleção de entidade</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#contains"><strong>.copy</strong>( { <em>option</em> : Integer } ) : 4D. EntitySelection</a>    retorna uma cópia da entity selection original</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#count"><strong>.count</strong>( <em>attributePath</em> : Text ) : Real</a>    retorna o número de entidades da seleção de entidades com um valor não nulo em <em>attributePath</em></td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#distinct"><strong>.distinct</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection</a>    retorna uma coleção contendo apenas valores diferentes (distintos) em <em>attributePath</em> na seleç ão de entidade</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#distinctPaths"><strong>.distinctPaths</strong>( <em>attribute</em> : Text ) : Collection</a>    returns a collection containing only distinct (different) values from the <em>attributePath</em> in the entity selection</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#drop"><strong>.drop</strong>( { <em>mode</em> : Integer } ) : 4D. EntitySelection</a>    remove as entidades pertencendo à seleção de entidade da tabela relacionada a dataclasse dentro da datastore</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#extract"><strong>.extract</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>attributePath</em> { ; <em>targetPath</em> } { ; <em>...attributePathN</em> : Text ; <em>targetPathN</em> : Text } ) : Collection</a>    retorna uma coleção contendo <em>attributePath</em> valores extraídos da seleção de entidade</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#first"><strong>.first()</strong> : 4D. Entity</a>    devolve uma referência à entidade na primeira posição da selecção de entidades</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#getdataclass"><strong>.getDataClass()</strong> : 4D. DataClass</a>    retorna a dataclass da entity selection</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#getremotecontextattributes"><strong>.getRemoteContextAttributes()</strong> : Text</a>    retorna os nomes dos atributos que foram modificados desde que a entidade foi carregada na memória</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#isalterable"><strong>.isAlterable()</strong> : Boolean</a>    retorna True se a seleção de entidade for alterável</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#isordered"><strong>.isOrdered()</strong> : Boolean</a>    devolve True se a entity selection estiver ordenada</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#last">Parâmetros</a>    retorna uma referência à entidade na últim aposição da seleção de entidade</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#length"><strong>.length</strong> : Integer</a>    retorna o número de entidades na seleção de entidade</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#max"><strong>.max</strong>( <em>attributePath</em> : Text ) : any</a>    retorna o valor mais alto (ou máximo) entre todos os valores de <em>attributePath</em> na seleção de entidade</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#min"><strong>.min</strong>( <em>attributePath</em> : Text ) : any</a>     retorna o menor valor (mínimo) entre todos os valores de attributePath na seleção de entidade</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#minus"><strong>.minus</strong>( <em>entity</em> : 4D. Entity { ; <em>keepOrder</em> : Integer } ) : 4D. EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D. EntitySelection { ; <em>keepOrder</em> : Integer } ) : 4D.</a>    exclui da seleção de entidade que é aplicada a <em>entity</em> ou as entidaddes de <em>entitySelection</em> e retorna a seleção de entidade resultante</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#or"><strong>.or</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</a>    combina a seleção de entidade com <em>entity</em> ou parâmetro<em>entitySelection</em> usando o operador lógico (não exclusivo) OR</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#orderby"><strong>.orderBy</strong>( <em>pathString</em> : Text ) : 4D. EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : 4D. EntitySelection</a>    retorna uma nova seleção de entidade ordenada contendo todas as entidades da seleção de entidade na ordem especificada por <em>pathString</em> ou critérios<em>pathObjects</em></td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#orderbyformula"><strong>.orderByFormula</strong>( <em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection</a>    devolve uma nova entity selection ordenada</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#query"><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection</a>    pesquisa por entidades que satisfazem o critério de pesquisa especificado em <em>queryString</em> ou <em>formula</em> e (opcionalmente) <em>value</em>(s) entre todas as entidades na seleção de entidade</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#querypath"><strong>.queryPath</strong> : Text</a>    contém uma descrição detalhada da pesquisa como foi realizada em 4D</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#queryplan"><strong>.queryPlan</strong> : Text</a>     contém uma descrição detalhada da pesquisa antes da execução (ou seja, a pesquisa planejada)</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#refresh"><strong>.refresh()</strong></a>    imediatamente &quot;invalida&quot; os dados da seleção de entidade na cache local ORDA</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#selected"><strong>.selected</strong>( <em>selectedEntities</em> : 4D. EntitySelection ) : Object</a>    adds the specified <em>entity</em> to the entity selection and returns the modified entity selection</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#slice"><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : 4D. EntitySelection</a>    retorna uma porção da seleção de entidade em uma nova seleção de entidade</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#sum"><strong>.sum</strong>( <em>attributePath</em> : Text ) : Real</a>    retorna a soma de todos os valores <em>attributePath</em> na seleção de entidade</td></tr><tr><td><a href="/docs/pt/20-R4/API/EntitySelectionClass#tocollection"><strong>.toCollection</strong>( { <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer } } ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterString</em> : Text {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterCol</em> : Collection {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em></a>    cria e devolve uma colecção onde cada elemento é um objecto que contém um conjunto de propriedades e valores</td></tr></tbody></table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Criar-uma-seleção-de-entidades-entity-selection">Criar uma seleção de entidades (entity selection)<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Criar-uma-seleção-de-entidades-entity-selection">​</a></h2>
<p><strong>Create entity selection</strong> ( <em>dsTable</em> : Table { ; <em>settings</em> : Object } ) : 4D.EntitySelection</p>





























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>dsTable</td><td>Tabela</td><td style="text-align:center">-&gt;</td><td>Tabela do banco de dados 4D cuja seleção atual se utilizará para construir a seleção de entidades</td></tr><tr><td>settings</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Opção de construção: context</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Seleção de entidades que coincidem com a classe de dados relacionada com a tabela dada</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição">​</a></h4>
<p>O comando <code>Create entity selection</code> constrói e devolve uma nova, <a href="/docs/pt/20-R4/ORDA/entities#shareable-or-alterable-entity-selections">alterável</a> seleção de entidade relacionada com a classe de dados que coincide com a tabela <em>dsTable</em> dada, segundo a seleção atual desta tabela.</p>
<p>Se a seleção atual for ordenada, é criada uma seleção de entidades <a href="/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection">ordenada</a> (se mantém a ordem da seleção atual). Se a seleção atual não for ordenada, se cria uma seleção de entidades não ordenada.</p>
<p>Se a tabela <em>dsTable</em> não estiver exposta em <a href="/docs/pt/20-R4/API/DataStoreClass#ds"><code>ds</code></a>, se devolve um erro. Esse comando não pode usado com uma datastore remota.</p>
<p>No parâmetro opcional<em>settings</em> pode passar um objeto contendo as propriedades abaixo:</p>















<table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>Etiqueta para  <a href="/docs/pt/20-R4/ORDA/entities#clientserver-optimization">contexto de optimização</a> aplicado a entity selection.</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employees : cs. EmployeeSelection ALL RECORDS([Employee])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employees:=Create entity selection([Employee]) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// A entity selection $employees agora contém um conjunto de referências</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// em todas as entidades relacionadas com a classe de dados Employee</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Veja-também">Veja também<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Veja-também">​</a></h4>
<p><a href="/docs/pt/20-R4/API/DataClassClass#newselection"><code>dataClass.newSelection()</code></a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="USE-ENTITY-SELECTION">USE ENTITY SELECTION<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#USE-ENTITY-SELECTION">​</a></h2>
<p><strong>USE ENTITY SELECTION</strong> (<em>entitySelection</em>)</p>

















<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entitySelection</td><td>EntitySelection</td><td style="text-align:center">-&gt;</td><td>Seleção de entidades</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-1">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-1">​</a></h4>
<p>O comando <code>USE ENTITY SELECTION</code> atualiza a seleção atual da tabela correspondendo à dataclass do parâmetro <em>entitySelection</em> de acordo com o contexto da seleção de entidade.</p>
<p>Este comando não pode ser utilizado com um <a href="/docs/pt/20-R4/ORDA/datastores">datastore remoto</a>.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Esse comando foi projetado para fazer com que as seleções de corrente 4D se beneficiem do poder das consultas ORDA. Por motivos de desempenho, no 4D single-user e no 4D Server, o comando conecta diretamente <em>entitySelection</em> à seleção atual. Portanto, uma vez que <em>a entitySelection</em> tenha sido usada, ela não deve ser reutilizada ou alterada posteriormente.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>nota</div><div class="admonitionContent_BuS1"><p>Depois de uma chamada a <code>USE ENTITY SELECTION</code>, o primeiro registro da seleção atual (se não vazia) vira o registro atual, mas não é carregado na memória.. Se precisar usar os valores dos campos no registro atual, use o comando <code>LOAD RECORD</code> depois do comando <code>USE ENTITY SELECTION</code>.</p></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-1">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-1">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Parâmetros</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="index">[<em>index</em>]<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#index">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><em><strong>[index]</strong></em> : 4D.Entity</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-2">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-2">​</a></h4>
<p>A notação <code>EntitySelection[index]</code> permite acessar entidades sem a seleção de entidade usando a sintaxe coleção padrão: passe a posição da entidade que quiser colocar o padrão <em>index</em>.</p>
<p>Lembre que a entidade correspondente é recarregada a partir da datastore.</p>
<p><em>index</em> pode ser qualquer número entre 0 e <code>.length</code>-1.</p>
<ul>
<li>Se <em>index</em> está fora do intervalo, se devolve um erro.</li>
<li>Os valores Null são avaliados como inferiores aos outros valores.</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><blockquote>
<blockquote>
<p><strong>Atenção</strong>: <code>EntitySelection[index]</code> é uma expressão não atribuível, o que significa que não pode utilizar-se como referência editável da entidade com métodos como <a href="/docs/pt/20-R4/API/EntityClass#lock"><code>.lock()</code></a> o <a href="/docs/pt/20-R4/API/EntityClass#save"><code>.save()</code></a>. Para trabalhar com a entidade correspondente, é necessário atribuir a expressão devolvida a uma expressão atribuível, como uma variável. Exemplos:</p>
</blockquote>
</blockquote><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds. Employee.all() //criação da entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //declarações não válidas:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$sel[0].lock() //NÃO funcionará</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel[0].lastName:=&quot;Smith&quot; //NÃO funcionará</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$sel[0].save() //NÃO funcionará</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //valid code:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=$sel[0]  //OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.lastName:=&quot;Smith&quot; //OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.save() //OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[2]  // A terceira entidade da seleção de entidades $employees se recarrega do banco de dados</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="attributeName">.<em>attributeName</em><a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#attributeName">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><em><strong>.attributeName</strong></em> : Collection<br><em><strong>.attributeName</strong></em> : 4D. EntitySelection</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-3">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-3">​</a></h4>
<p>Quaalquer atributo de dataclass pode ser usado como um apropriedade de uma seleção de entidade a retornar uma &quot;projeção&quot; de valores para o atributo na seleção de entidades. Os valores projetados podem ser uma coleção ou uma nova seleção de entidades, dependendo do tipo de <a href="/docs/pt/20-R4/API/DataClassClass#attributename">kind</a> (<code>storage</code> ou <code>relation</code>) do atributo.</p>
<ul>
<li>Se o &quot;kind&quot; de <em>attributeName</em> é <code>storage</code>: <code>.attributeName</code> devolve uma coleção de valores do mesmo tipo que <em>attributeName</em>.</li>
<li>If <em>attributeName</em> kind is <code>relatedEntity</code>: <code>.attributeName</code> returns a new entity selection of related values of the same type as <em>attributeName</em>. Se eliminam os duplicados (se devolve uma seleção de entidades desordenada).</li>
<li>If <em>attributeName</em> kind is <code>relatedEntities</code>: <code>.attributeName</code> returns a new entity selection of related values of the same type as <em>attributeName</em>. Se eliminam os duplicados (se devolve uma seleção de entidades desordenada).</li>
</ul>
<p>Quando se utiliza um atributo de relação como propriedade de uma seleção de entidades, o resultado é sempre outra seleção de entidades, mesmo que só se devolva uma entidade. If the original entity selection and the <em>entitySelection</em> parameter are empty, an empty entity selection is returned.</p>
<p>Se o atributo não existir na seleção de entidades, se devolve um erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-1-1">Exemplo 1<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-1-1">​</a></h4>
<p>Projeção de valores de armazenamento:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $firstNames : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySelection:=ds. Employee.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $firstNames:=$entitySelection.firstName // firstName é um string</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A coleção resultante é uma coleção de strings, por exemplo:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Joanna&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Alexandra&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Rick&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2-1">Exemplo 2<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2-1">​</a></h4>
<p>Projeção da entidade relacionada:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es; $entitySelection : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySelection:=ds. Employee.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=$entitySelection.employer // employer é relacionada aum  Company dataClass</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>O objeto resultane é uma seleção de entidade da Empresa com duplicações removidas (se houver).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-3">Exemplo 3<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-3">​</a></h4>
<p>Projeção de entidades relacionadas:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds. Employee.all().directReports // directReports é relacionada a dataclasse Funcionário</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>O objeto resultante é uma seleção de entidade da dataclasse Funcionario sem duplicatas (se houver).</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="add">.add()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#add">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">





















<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>18 R6</td><td>Suporte do parâmetro <em>entitySelection</em></td></tr><tr><td>18 R5</td><td>Compatível apenas com seleções de entidade alteráveis</td></tr><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.add</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.add</strong>( <em>entitySelection</em> : 4D.</p>





























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entity</td><td>4D. Entity</td><td style="text-align:center">-&gt;</td><td>Entidade que deve ser adicinonada à entity selection</td></tr><tr><td>entitySelection</td><td>4D. EntitySelection</td><td style="text-align:center">-&gt;</td><td>Seleção entidade paara ser adicionado a sellleção entidade originaal</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td style="text-align:center">-&gt;</td><td>Seleção de entidades incluindo a <em>entity</em> adicionada</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-4">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-4">​</a></h4>
<p>A função <code>.add()</code> addiciona a <em>entity</em> especificada ou <em>entitySelection</em> para a selleção de entidade original e retona a seleção de entidade modificada.</p>
<blockquote>
<p>Esta função não modifica a entity selection original.</p>
</blockquote>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p><strong>Atenção:</strong> a entity selection deve ser <em>alteravel</em>, ou seja, foi criado por ejemplo, por <a href="/docs/pt/20-R4/API/DataClassClass#newselection"><code>.newSelection()</code></a> ou <code>Create entity selection</code>, do contrário <code>.add()</code> devolverá um erro. As entity selections partilháveis não aceitam a adição de entidades. Para saber mais, consulte <a href="/docs/pt/20-R4/ORDA/entities#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis </a>.</p></div></div>
<p><strong>Adicionar uma entidade</strong></p>
<ul>
<li>Se a entity selection estiver ordenada, <em>entity</em> se adiciona ao final da seleção. Se uma referência a mesma entidade já pertencer a seleção de entidades, se duplica e se adiciona uma nova referência.</li>
<li>returns a new, ordered entity selection contendo todas as entidades da seleção de entidade na ordem definida através de <em>formulaString</em> ou <em>formulaObj</em> e, opcionalmente, os parâmetros<em>sortOrder</em> e<em>settings</em>.</li>
</ul>
<p><strong>Adicionar uma seleção de entidades</strong></p>
<ul>
<li>Se a selecção de entidades estiver ordenada, a sua ordem é mantida e <em>entitySelection</em> é adicionado no final da selecção. Se as referências às mesmas entidades de <em>entitySelection</em> já pertencerem à selecção de entidades, são duplicadas e são adicionadas novas referências.</li>
<li>Se a seleção de entidade nãofor ordenada, ela fica ordenada.</li>
</ul>
<blockquote>
<p>Para saber mais veja <a href="/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection">Entity selections ordenada ou não ordenadas</a>.</p>
</blockquote>
<p>A entity selection modificada é devolvida pela função, de modo que as chamadas à função podem ser encadeados.</p>
<p>Se produz um erro se <em>entity</em> e a entity selection não estão relacionadas com a mesma dataclass. Se <em>entity</em> for Null, não se produz nenhum erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-1-2">Exemplo 1<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-1-2">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds. Employee.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees.add($employee) //A entidade $employee se adiciona a entity selection $employees</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2-2">Exemplo 2<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2-2">​</a></h4>
<p>As chamadas à função podem ser encadeadas:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel : cs. ProductSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $p1;$p2;$p3 : cs. ProductEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $p1:=ds. Product.get(10)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $p2:=ds. Product.get(11)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $p3:=ds. Product.get(12)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds. Product.query(&quot;ID &gt; 50&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=$sel.add($p1).add($p2).add($p3)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-3-1">Exemplo 3<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-3-1">​</a></h4>
<p>Em uma interface de usuário, temos duas listas. O usuário seleciona itens da lista 1 e as adiciona na lista 2.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$sellist2:=$sellist2.add($sellist1)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="and">.and()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#and">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.and</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</p>





























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entity</td><td>4D. Entity</td><td style="text-align:center">-&gt;</td><td>Entidade a intersectar</td></tr><tr><td>entitySelection</td><td>4D. EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection a intersectar</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Entity selection resultante da intersecção com o operador lógico AND</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-5">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-5">​</a></h4>
<p>A função <code>.and()</code> combina a seleção da entidade com um parâmetro <em>entity</em> ou <em>entitySelection</em> utilizando o operador lógico AND; se retornar uma nova e não ordenada seleção de entidade que contenha só as entidades referenciaadas tanto na seleção de entidade quanto no parâmetro.</p>
<ul>
<li>Se passar <em>entity</em> como parâmetro, se combina esta entidade com a entity selection. Se a entidade pertencer à entity selection, se devolve uma nova entity selection que só contém a entidade. Senão, uma seleção de entidades vazia é retornada.</li>
<li>Se passar como parâmetro <em>entitySelection</em> pode comparar seleç ões de entidade. Uma nova seleção de entidade que contenha só as entidades que são referenciadas em ambas as seleções sejam retornadas. Senão, uma nova seleção de entidade contém a seleção de entidade original e a entidade é retornada.</li>
</ul>
<blockquote>
<blockquote>
<blockquote>
<p>Pode comparar <a href="/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection">entity selections ordenadas ou desordenadas</a>. A seleção resultante é sempre desordenada.</p>
</blockquote>
</blockquote>
</blockquote>
<p>Se a entity selection inicial ou o parâmetro <em>entitySelection</em> estiverem vazios, ou se <em>entity</em> for Null, se devolve uma entity selection vazia.</p>
<p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-1-3">Exemplo 1<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-1-3">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees; $notDropped : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;firstName=:1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $notDropped:=$employees.drop(dk stop dropping on first error) //$notDropped é uma entity selection que contém a primeira entidade não eliminada</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($notDropped.length=0) //A ação de eliminação é exitosa, todas as entidades foram eliminadas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;You have dropped &quot;+String($employees.length)+&quot; employees&quot;) //A seleção de entidades eliminada permanece na memória</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Problem during drop, try later&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2-3">Exemplo 2<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2-3">​</a></h4>
<p>Se quisermos ter uma seleção de empregados chamados &quot;Jones&quot; que morem em Nova York:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel1; $sel2; $sel3 : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel1:=ds. Employee.query(&quot;name =:1&quot;;&quot;Jones&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel2:=ds. Employee.query(&quot;city=:1&quot;;&quot;New York&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel3:=$sel1.and($sel2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="at">.at()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#at">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>20</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.at</strong>( <em>index</em> : Integer ) : 4D. Entity</p>























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>index</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Índice da entidade a devolver</td></tr><tr><td>Resultados</td><td>4D. Entity</td><td style="text-align:center">&lt;-</td><td>A entidade nesse índice</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-6">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-6">​</a></h4>
<p>A função <code>.some()</code> devolve a entidade na posição <em>index</em>, permitindo a utilização de números inteiros positivos e negativos.</p>
<p>Se o <em>index</em> for negativo (de -1 a -n com n : comprimento da selecção de entidades), a entidade devolvida será baseada na ordem inversa da selecção de entidades.</p>
<p>A função devolve Null se o <em>index</em> estiver para além dos limites de selecção de entidades.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-4">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-4">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $emp1; $emp2 : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$emp1:=$employees.at(2)  //3rd entity of the $employees entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$emp2:=$employees.at(-3) //starting from the end, 3rd entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //of the $employees entity selection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="average">.average()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#average">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">

















<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>18 R6</td><td>Retorna indefinido se uma seleção de entidade for vazia</td></tr><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.average</strong>( {<em>propertyPath</em> : Text } ) : Real</p>























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr><tr><td>Resultados</td><td>Real</td><td style="text-align:center">&lt;-</td><td>Media aritmética (média) dos valores das entidades para o atributo (Não se define para uma entity selection vazia)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-7">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-7">​</a></h4>
<p>A função <code>.average()</code> devolve a média aritmética (média) de todos os valores não nulos de <em>attributePath</em> na selecção de entidades.</p>
<p>Passe no parâmetro <em>attributePath</em> a rota de atributo a avaliar.</p>
<p>Só são levados em consideração os valores numéricos para o cálculo. Lembre entretanto que se o <em>attributePath</em> da seleção de entidades conter tipos de valores mistos, <code>.average()</code> considera todos os elementos escalares para calcular o valor médio.</p>
<blockquote>
<p>Os valores de tipo Date são convertidos em valores numéricos (segundos) e são usados para calcular a média.</p>
</blockquote>
<p><code>.average()</code> returns <strong>undefined</strong>se a entity selection estiver vazia ou <em>attributePath</em> não conter valores numéricos.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> é um atributo relativo,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-5">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-5">​</a></h4>
<p>Se quisermos obter uma lista de funcionários cujo salário for superior ao salário médio:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $averageSalary : Real</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $moreThanAv : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $averageSalary:=ds. Employee.all().average(&quot;salary&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $moreThanAv:=ds. Employee.query(&quot;salary &gt; :1&quot;;$averageSalary)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="contains">.contains()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#contains">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.contains</strong>( <em>entity</em> : 4D.Entity ) : Boolean</p>























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entity</td><td>4D. Entity</td><td style="text-align:center">-&gt;</td><td>Entidade a ser avaliada</td></tr><tr><td>Resultados</td><td>Parâmetros</td><td style="text-align:center">&lt;-</td><td>Truse se a entidade pertencer à entity selection, senão False</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-8">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-8">​</a></h4>
<p>A função <code>.contains()</code> retorna true se a referência de entidade pertencer à seleção de entidadee false de outra forma.</p>
<p>Em <em>entity</em>, especifique a entidade a buscar na entity selection. Se a entidade for Null, a função devolverá false.</p>
<p>Se <em>entity</em> e a entity selection não pertencerem à mesma dataclass, se produz um erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-6">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-6">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;H@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds. Employee.get(610)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($employees.contains($employee))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;A entidade com chave primaria 610 tem um sobrenome começando com H&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;A entidade com chave primária 610 não tem um sobrenome começando com H&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="count">.count()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#count">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.count</strong>( <em>attributePath</em> : Text ) : Real</p>























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr><tr><td>Resultados</td><td>Real</td><td style="text-align:center">&lt;-</td><td>Número de valores de <em>attributePath</em> que não são null na entity selection</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-9">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-9">​</a></h4>
<p>A função <code>.count()</code> retorna o número de entidades da seleção de entidades com um valor não nulo em <em>attributePath</em>.</p>
<blockquote>
<p>Só são levados em consideração os valores escalares. Os valores de tipo objeto ou coleção são considerados valores nulos.</p>
</blockquote>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> é um atributo relativo,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-7">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-7">​</a></h4>
<p>Se quisermos encontrar o número total de empregados para uma empresa sem contar aqueles cujos titulos de mprego não foram especificados:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $count : Real</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds. Employee.query(&quot;employer = :1&quot;;&quot;Acme, Inc&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $count:=$sel.count(&quot;jobtitle&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="copy">.copy()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#copy">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>18 R5</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.copy</strong>( { <em>option</em> : Integer } ) : 4D. EntitySelection</p>























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>option</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>ck shared</code>: devolve uma entity selection compartilhável</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Cópia da entity selection</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-10">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-10">​</a></h4>
<p>A função <code>.copy()</code> retorna uma cópia da entity selection original.</p>
<blockquote>
<p>Esta função não modifica a seleção de entidades original.</p>
</blockquote>
<p>Como padrão, se omitir o parámetro <em>option</em>, a função devolve uma nova entity selection alterável (mesmo se a função se aplicar a uma entity selection compartilhável). Passe a constante <code>ck shared</code> no parâmetro <em>option</em> se quiser criar uma entity selection compartilhável.</p>
<blockquote>
<p>Para saber mais sobre propriedade compartilhável de entity selections, consulte <a href="/docs/pt/20-R4/ORDA/entities#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis</a>.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-8">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-8">​</a></h4>
<p>Se criar uma nova seleção de entidade vazia de produtos quando o formulário for carregado:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :(Form event code=On Load)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Form.products:=ds. Products.newSelection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Então esta seleção de entidades é atualizada com produtos e se quiser compartilhar os produtos entre vários processos. Se copiar a seleçãod a entidade Form.products como compartilhável:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // A seleção de entidades de Form.products se atualiza</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Form.products.add(Form.selectedProduct)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Use(Storage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    If(Storage.products=Null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Storage.products:=New shared object()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    End if</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Use(Storage.products)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Storage.products:=Form.products.copy(ck shared)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    End use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End use</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="distinct">.distinct()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#distinct">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">

















<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>20</td><td>Suporte de <code>dk count values</code></td></tr><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.distinct</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection</p>





























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Rota do atributo cujos valores quer obter</td></tr><tr><td>options</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk diacritical</code>: avaliação diacríticos (&quot;A&quot; # &quot;a&quot; por exemplo)</td></tr><tr><td>Resultados</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Coleção apenas com valores distintos</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-11">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-11">​</a></h4>
<p>A função <code>.distinct()</code> retorna uma coleção contendo apenas valores diferentes (distintos) em <em>attributePath</em> na seleção de entidade.</p>
<p>A coleção retornada é ordenada automaticamente. Valores <strong>Null</strong> não são retornados.</p>
<p>No parámetro <em>attributePath</em>, passe o atributo de entidade cujos valores distintos queira obter. Só valores escalares (texto, número, booleano, ou data) podemser manejados. Tipos são retornados na ordem abaixo: Se <em>attributePath</em> levar a uma propriedade de objeto que conter valores de diferentes tipos, primeiro se agrupam por tipo e se ordenam depois. Se <em>attributePath</em> levar a uma propriedade de objeto que conter valores de diferentes tipos, primeiro se agrupam por tipo e se ordenam depois.</p>
<ol>
<li>booleans</li>
<li>strings</li>
<li>números</li>
<li>datas</li>
</ol>
<p>Pode utilizar a notação <code>[]</code> para designar uma coleção quando <em>attributePath</em> for uma rota dentro de um objeto (ver exemplos).</p>
<p><em>pathString</em> (Text) : Este parâmetro contém uma fórmula feita de rotas de atributo 1 a x (e opcionalmente) ordenação separado por vírgulas A sintaxe é:</p>




















<table><thead><tr><th>Parâmetros</th><th>Valor</th><th>Comentário</th></tr></thead><tbody><tr><td><code>dk diacritical</code></td><td>8</td><td>A avaliação é sensível a maiúsculas e minúsculas e diferencia os caracteres acentuados. Como padrão, uma avaliação não-diacrítica é realizada.</td></tr><tr><td><code>dk count values</code></td><td>32</td><td>Devolve a contagem de entidades para cada valor distinto. Quando esta opção é passada, <code>.distinct()</code> devolve uma colecção de objectos contendo um par de propriedades <code>{&quot;value&quot;:*value*; &quot;count&quot;:*count*}</code>.</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>nota</div><div class="admonitionContent_BuS1"><p>A opção <code>dk count values</code> só est á disponível com atributos de armazenamento do tipo booleano, cadeia de caracteres, número e data.</p></div></div>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> é um atributo relativo,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplos">Exemplos<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplos">​</a></h4>
<p>Se quiser obter uma coleção que contenha um só elemento por nome de país:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $countries : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $countries:=ds. Employee.all().distinct(&quot;address.country&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>nicknames</code> é uma coleção e <code>extra</code> for um atributo de objeto:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$values:=ds. Employee.all().distinct(&quot;extra.nicknames[].first&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pretende obter o número de nomes de funções diferentes na empresa:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $jobs : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$jobs:=ds. Employee.all().distinct(&quot;jobName&quot;;dk count values)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$jobs[0]={&quot;value&quot;:&quot;Developer&quot;;&quot;count&quot;:17}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$jobs[1]={&quot;value&quot;:&quot;Office manager&quot;;&quot;count&quot;:5}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$jobs[2]={&quot;value&quot;:&quot;Accountant&quot;;&quot;count&quot;:2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="distinctPaths">.distinctPaths()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#distinctPaths">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>20</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.distinctPaths</strong>( <em>attribute</em> : Text ) : Collection</p>























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>atributo</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Nome do atributo do objecto cujos caminhos pretende obter</td></tr><tr><td>Resultados</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Nova colecção com caminhos distintos</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-12">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-12">​</a></h4>
<p>A função <code>.distinct()</code> returns a collection containing only distinct (different) values from the <em>attributePath</em> in the entity selection.</p>
<p><em>attributePath</em> não se encontra na classe de dados da entity selection.</p>
<p>Após a chamada, o tamanho da colecção devolvida é igual ao número de caminhos distintos encontrados em <em>attribute</em> para a selecção da entidade. Os caminhos são devolvidos como cadeias de caracteres, incluindo atributos e colecções aninhados, por exemplo &quot;info.address.number&quot; ou &quot;children[].birthdate&quot;. As entidades com um valor nulo no <em>attribute</em> não são tidas em conta.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-9">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-9">​</a></h4>
<p><em>attributePath</em> for um atributo relativo,</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $paths : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$paths:=ds. Employee.all().distinctPaths(&quot;fullData&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$paths[0]=&quot;age&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$paths[1]=&quot;Children&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$paths[2]=&quot;Children[].age&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$paths[3]=&quot;Children[].name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$paths[4]=&quot;Children.length&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">///...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>nota</div><div class="admonitionContent_BuS1"><p><em>attributePath</em> for um atributo relativo,</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="drop">.drop()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#drop">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.drop</strong>( { <em>mode</em> : Integer } ) : 4D. EntitySelection</p>























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk stop dropping on first error</code>: para a execução do método na primeira entidade não eliminável</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Entidade de seleção vazia se for executada com êxito, se nenhuma entity selection contendo as entidades não elimináveis</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-13">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-13">​</a></h4>
<p>A função <code>.drop()</code> remove as entidades pertencendo à seleção de entidade da tabela relacionada a dataclasse dentro da datastore. A entity selection permanece na memória.</p>
<blockquote>
<p>A eliminação de entidades é permanente e não pode ser desfeita. É recomendado chamar esta ação em uma transação para ter uma opção de recuperação.</p>
</blockquote>
<p>Se encontrar uma entidade bloqueada durante a execução de <code>.drop()</code>, não é eliminado. Como padrão o método processa todas as entidades da seleção de entidades e retorna as entidades não elimináveis na entity selection. Se quiser que o método pare a execução na primeira entidade não eliminável encontrada, passe a constante <code>dk stop dropping on first error</code> no parâmetro <em>mode</em>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-10">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-10">​</a></h4>
<p>Exemplo sem a opção <code>dk stop dropping on first error</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees; $notDropped : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;firstName=:1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $notDropped:=$employees.drop() // $notDropped for uma entity selection que contém todas as entidades não suprimidas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($notDropped.length=0) //A ação de eliminação for exitosa, todas as entidades foram eliminadas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;You have dropped &quot;+String($employees.length)+&quot; employees&quot;) //A seleção de entidades eliminada permanece na memoria</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Problem during drop, try later&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Exemplo com a opção <code>dk stop dropping on first error</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;firstName=:1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $notDropped:=$employees.drop() // $notDropped for uma entity selection que contém todas as entidades não suprimidas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($notDropped.length=0) //A ação de eliminação for exitosa, todas as entidades foram eliminadas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;You have dropped &quot;+String($employees.length)+&quot; employees&quot;) //A seleção de entidades eliminada permanece na memoria</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Problem during drop, try later&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if var $employees; $notDropped : cs.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extract">.extract()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#extract">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>18 R3</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.extract</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>attributePath</em> { ; <em>targetPath</em> } { ; <em>...attributePathN</em> : Text ; <em>targetPathN</em> : Text } ) : Collection</p>



































<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Rota de atributo cujos valores serão extraídos para nova coleção</td></tr><tr><td>targetpath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Rota ou nome do atributo objetivo</td></tr><tr><td>option</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>ck keep null</code>: inclui os atributos null na coleção devolvida (ignorados por padrão)</td></tr><tr><td>Resultados</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Coleção contendo valores extraídos</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-14">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-14">​</a></h4>
<p>A função <code>.extract()</code> retorna uma coleção contendo <em>attributePath</em> valores extraídos da seleção de entidade.</p>
<p><em>attributePath</em> pode ser:</p>
<ul>
<li>um atributo escalar de dataclass,</li>
<li>entidade relacionada,</li>
<li>entidades relacionadas.</li>
</ul>
<p>Se <em>attributePath</em> não for válido, se devolve uma coleção vazia.</p>
<p>Esta função aceita duas sintaxes.</p>
<p><strong>.extract( attributePath : Text { ; option : Integer } ) : Collection</strong></p>
<p>Com esta sintaxe, <code>.extract()</code> preenche a coleção devolvida com os valores <em>attributePath</em> da entity selection.</p>
<p>Como padrão, as entidades para as que <em>attributePath</em> for<em>null</em> ou indefinida são ignoradas na coleção resultante. Pode passar a constante <code>ck keep null</code> no parâmetro <em>option</em> para incluir esses valores como elementos<strong>null</strong>  na coleção retornada.</p>
<ul>
<li>Os atributos dataclass com <a href="/docs/pt/20-R4/API/DataClassClass#attributename">.kind</a> = &quot;relatedEntity&quot; são extraídos como uma coleção de entidades (as duplicações são mantidas).</li>
<li>Os atributos dataclass com <a href="/docs/pt/20-R4/API/DataClassClass#attributename">.kind</a> = &quot;relatedEntities&quot; se extraem como uma entity selection.</li>
</ul>
<p><strong>Atributos de Dataclass com <a href="/docs/pt/20-R4/API/DataClassAttributeClass.md#kind">.kind</a> = &quot;relatedEntity&quot; extraídos como uma coleção de entidades (duplicações são mantidas).</strong></p>
<p>Com esta sintaxe, <code>.extract()</code> preenche a coleção devolvida com as propriedades <em>attributePath</em> da entity selection. Cada elemento da coleção devolvida é um objeto com as propriedades <em>targetPath</em> preenchidas com as propriedades <em>attributePath</em> correspondentes. Se mantém os valores null (o parámetro <em>option</em> se ignora) com esta sintaxe.</p>
<p>Se vários <em>attributePath</em>, forem dados, deve dar um <em>targetPath</em> para cada um. Só se extraem os pares válidos [<em>attributePath</em>, <em>targetPath</em>].</p>
<ul>
<li>Atributos de dataclass com <a href="/docs/pt/20-R4/API/DataClassClass#attributename">.kind</a> = &quot;relatedEntities&quot; são extraídas como coleção de seleção de entidades.</li>
<li>Os atributos dataclass com <a href="/docs/pt/20-R4/API/DataClassClass#attributename">.kind</a> = &quot;relatedEntities&quot; são extraídos como uma seleção de entidade.</li>
</ul>
<blockquote>
<p>As entidades de uma colecção de entidades acedidas por [ ] não são recarregadas da base de dados.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-11">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-11">​</a></h4>
<p>Dada a seguinte tabela e relação:</p>
<p><img decoding="async" loading="lazy" src="/docs/pt/assets/images/entityselection-193aba9798fd8faddac31ad66bc75f26.PNG" width="622" height="350" class="img_ev3q"></p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $firstnames; $addresses; $mailing; $teachers : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$firstnames é uma coleção de Strings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $firstnames:=ds. Teachers.all().extract(&quot;firstname&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$addresses é uma coleção de entities relacionadas ao dataclass Address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Valores Null para o endereço são extraídos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $addresses:=ds. Teachers.all().extract(&quot;address&quot;;ck keep null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$mailing é uma coleção de objetos com propriedades &quot;who&quot; e &quot;to&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //conteúdo propriedade &quot;who&quot; é do tipo String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //conteudo propriedade &quot;to&quot; é do tipo entity (Address dataclass)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $mailing:=ds. Teachers.all().extract(&quot;lastname&quot;;&quot;who&quot;;&quot;address&quot;;&quot;to&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$mailing é uma coleção de objetos com propriedades &quot;who&quot; e &quot;city&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //conteúdo propriedade &quot;who&quot; é tipo String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //conteúdo propriedade &quot;city&quot; é tipo String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $mailing:=ds. Teachers.all().extract(&quot;lastname&quot;;&quot;who&quot;;&quot;address.city&quot;;&quot;city&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$teachers é uma coleção de objetos com propriedades &quot;where&quot; e &quot;who&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //conteúdo propriedade &quot;where&quot; é String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //conteúdo propriedade &quot;who&quot; é uma entity selection (Teachers dataclass)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $teachers:=ds. Address.all().extract(&quot;city&quot;;&quot;where&quot;;&quot;teachers&quot;;&quot;who&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$teachers é uma coleção de entity selections</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $teachers:=ds. Address.all().extract(&quot;teachers&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="first">.first()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#first">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.first()</strong> : 4D. Entity</p>

















<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. Entity</td><td style="text-align:center">&lt;-</td><td>Referência à primeira entidade da seleção de entidade (Null se seleção for vazia)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-15">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-15">​</a></h4>
<p>A função <code>.first()</code> devolve uma referência à entidade na primeira posição da selecção de entidades.</p>
<p>O resultado desta função é similar a:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=$entitySel[0]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Há, entretanto, uma diferença entre ambas as afirmações quando a seleção estiver vazia:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entitySel : cs. EmpSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs. EmpEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySel:=ds. Emp.query(&quot;lastName = :1&quot;;&quot;Nonexistentname&quot;) //nenhuma entity correspondente</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //entity selection é esvaziada</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=$entitySel.first() //retorna Null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=$entitySel[0]  //gera um erro</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-12">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-12">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entitySelection : cs. EmpSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs. EmpEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySelection:=ds. Emp.query(&quot;salary &gt; :1&quot;;100000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($entitySelection.length#0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $entity:=$entitySelection.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getDataClass">.getDataClass()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#getDataClass">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17 R5</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.getDataClass()</strong> : 4D. DataClass</p>

















<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. DataClass</td><td style="text-align:center">&lt;-</td><td>Objeto dataclass ao qual a seleção de entidade pertence</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-16">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-16">​</a></h4>
<p>A função <code>.getDataClass()</code> retorna a dataclass da entity selection.</p>
<p>Esta função é principalmente útil  no contexto do código genérico.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-13">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-13">​</a></h4>
<p>O seguinte código genérico duplica todas as entidades da entity selection:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  //duplicate_entities method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //duplicate_entities($entity_selection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE ( $entitySelection : 4D. EntitySelection )  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $dataClass : 4D. DataClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity; $duplicate : 4D. Entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $dataClass:=$entitySelection.getDataClass()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> For each($entity;$entitySelection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $duplicate:=$dataClass.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $duplicate.fromObject($entity.toObject())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $duplicate[$dataClass.getInfo().primaryKey]:=Null //reset the primary key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $status:=$duplicate.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End for each</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getRemoteContextAttributes">.getRemoteContextAttributes()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#getRemoteContextAttributes">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>19R5</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.getRemoteContextAttributes()</strong> : Text</p>

















<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>result</td><td>Text</td><td>&lt;-</td><td>Atributos de contexto conectados à seleção de entidade, separados por uma vírgula</td></tr></tbody></table>
<p>|</p>
<blockquote>
<p><strong>Modo avançado:</strong> Esta função destina-se a programadores que necessitem personalizar as características padrão ORDA para configurações específicas. Na maioria dos casos, não necessitará de o utilizar.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-17">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-17">​</a></h4>
<p>A função <code>.touchedAttributes()</code> retorna informação sobre o contexto de otimização usados pela seleção de entidade.</p>
<p>Se não houver <a href="/docs/pt/20-R4/ORDA/datastores#clientserver-optimization">optimization context</a> para a seleção de entidade, a função retorna um Texto vazio.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-14">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-14">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $ds : 4D. DataStoreImplementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $persons : cs. PersonsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $p : cs. PersonsEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $info : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $text : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$persons:=$ds. Persons.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$text:=&quot;&quot; For each ($p; $persons)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $text:=$p.firstname+&quot; lives in &quot;+$p.address.city+&quot; / &quot; End for each</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$info:=$persons.getRemoteContextAttributes()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$info = &quot;firstname,address,address.city&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Veja-também-1">Veja também<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Veja-também-1">​</a></h4>
<p><a href="/docs/pt/20-R4/API/EntityClass#getRemoteContextAttributes">Entity.getRemoteContextAttributes()</a><br><a href="/docs/pt/20-R4/API/DataStoreClass#clearallremotecontexts">.clearAllRemoteContexts()</a><br><a href="/docs/pt/20-R4/API/DataStoreClass#getremotecontextinfo">.getRemoteContextInfo()</a><br><a href="/docs/pt/20-R4/API/DataStoreClass#getallremotecontexts">.getAllRemoteContexts()</a><br><a href="/docs/pt/20-R4/API/DataStoreClass#setremotecontextinfo">.setRemoteContextInfo()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="isAlterable">.isAlterable()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#isAlterable">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>18 R5</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.isAlterable()</strong> : Boolean</p>

















<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Parâmetros</td><td style="text-align:center">&lt;-</td><td>True se a seleção de entidades for alterável, senão False</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-18">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-18">​</a></h4>
<p>A função <code>.isAlterable()</code> retorna True se a seleção de entidade for alterável, e False se a seleção de entidade não for alterável.</p>
<p>Para mais informação, consulte a seção <a href="/docs/pt/20-R4/ORDA/entities#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis</a>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-15">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-15">​</a></h4>
<p>Vai mostrar <code>Form.products</code> em uma <a href="/docs/pt/20-R4/FormObjects/listboxOverview">list box</a> para que o usuário possaa adicionar novos produtos. Se quiser ter certeza que é alterável para que o usuário possa adicionar novos produtos sem erro:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">If (Not(Form.products.isAlterable()))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Form.products:=Form.products.copy()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End if</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Form.products.add(Form.product)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="isOrdered">.isOrdered()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#isOrdered">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.isOrdered()</strong> : Boolean</p>

















<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Parâmetros</td><td style="text-align:center">&lt;-</td><td>True se a seleção de entidade for ordenada, senão False</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-19">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-19">​</a></h4>
<p>A função <code>.isOrdered()</code> devolve True se a entity selection estiver ordenada, e False se não for ordenada.</p>
<blockquote>
<p>Esta função devolve sempre True quando a selecção da entidade provém de um datastore remoto.</p>
</blockquote>
<p>Para mais informação, consulte <a href="/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection">Entity selection ordenadas ou desordenadas</a>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-16">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-16">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;firstName=:1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $notDropped:=$employees.drop() // $notDropped for uma entity selection que contém todas as entidades não suprimidas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($notDropped.length=0) //A ação de eliminação for exitosa, todas as entidades foram eliminadas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;You have dropped &quot;+String($employees.length)+&quot; employees&quot;) //A seleção de entidades eliminada permanece na memoria</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Problem during drop, try later&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if var $employees; $notDropped : cs.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="last">.last()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#last">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p>Parâmetros</p>

















<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. Entity</td><td style="text-align:center">&lt;-</td><td>Referência à última entidade da seleção de entidade (Null se seleção de entidade vazia)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-20">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-20">​</a></h4>
<p>A função <code>.last()</code> retorna uma referência à entidade na últim aposição da seleção de entidade.</p>
<p>O resultado desta função é similar a:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=$entitySel[length-1]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Se a entity selection estiver vazia, a função devolve Null.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-17">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-17">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entitySelection : cs. EmpSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs. EmpEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySelection:=ds. Emp.query(&quot;salary &lt; :1&quot;;50000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($entitySelection.length#0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $entity:=$entitySelection.last()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="length">.length<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#length">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.length</strong> : Integer</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-21">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-21">​</a></h4>
<p>A propriedade <code>.length</code> retorna o número de entidades na seleção de entidade. Se a entity selection estiver vazia, devolve 0.</p>
<p>As entity selections sempre têm uma propriedade <code>.length</code>.</p>
<blockquote>
<p>Para saber o número total de entidades em uma dataclasse, é recomendado usar a função <a href="/docs/pt/20-R4/API/DataClassClass#getcount"><code>getCount()</code></a> que é mais otimizada que a expressão <code>ds.myClass.all().length</code>.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-18">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-18">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $vSize : Integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $vSize:=ds. Employee.query(&quot;gender = :1&quot;;&quot;male&quot;).length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ALERT(String(vSize)+&quot; male employees found.&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="max">.max()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#max">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">

















<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr><tr><td>18 R6</td><td>Retorna indefinido se uma seleção de entidade for vazia</td></tr></tbody></table>
</div></div></details>
<p><strong>.max</strong>( <em>attributePath</em> : Text ) : any</p>























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td>-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr><tr><td>Resultados</td><td>any</td><td>&lt;-</td><td>Maior valor do atributo</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-22">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-22">​</a></h4>
<p>A função <code>.max()</code> retorna o valor mais alto (ou máximo) entre todos os valores de <em>attributePath</em> na seleção de entidade. De facto, devolve o valor da última entidade da selecção de entidades, tal como seria ordenada por ordem crescente utilizando a função <a href="/docs/pt/20-R4/API/EntitySelectionClass#orderby"><code>.orderBy()</code></a>.</p>
<p>Se passar em <em>attributePath</em> uma rota a uma propriedade de objeto que contenha diferentes tipos de valores, a função <code>.max()</code> devolverá o valor máximo dentro do primeiro tipo escalar na ordem da lista de tipos 4D como padrão (ver a descrição de <a href="/docs/pt/20-R4/API/CollectionClass#sort"><code>.sort()</code></a>).</p>
<p><code>.max()</code> devolve <strong>undefined</strong> se a entity selection estiver vazia ou <em>attributePath</em> não for encontrado no atributo de objeto.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> é um atributo relativo,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-19">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-19">​</a></h4>
<p>Se quisermos encontrar o maior salário entre as funcionárias mulheres:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel : cs. EmpSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $maxSalary : Real</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds. Employee.query(&quot;gender = :1&quot;;&quot;female&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $maxSalary:=$sel.max(&quot;salary&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="min">.min()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#min">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">

















<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr><tr><td>18 R6</td><td>Retorna indefinido se uma seleção de entidade for vazia</td></tr></tbody></table>
</div></div></details>
<p><strong>.min</strong>( <em>attributePath</em> : Text ) : any</p>























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr><tr><td>Resultados</td><td>any</td><td style="text-align:center">&lt;-</td><td>Menor valor do atributo</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-23">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-23">​</a></h4>
<p>A função <code>.min()</code>  retorna o menor valor (mínimo) entre todos os valores de attributePath na seleção de entidade.  De facto, devolve a primeira entidade da selecção de entidades, tal como seria ordenada por ordem ascendente utilizando a função <a href="/docs/pt/20-R4/API/EntitySelectionClass#orderby"><code>.orderBy()</code></a> (excluindo os valores <strong>null</strong>).</p>
<p>Se passar em <em>attributePath</em> uma rota a uma propriedade objeto que contenha diferentes tipos de valores, a função <code>.min()</code> devolverá o valor mínimo dentro do primeiro tipo de valor escalar na ordem da lista de tipos (ver a descrição de <a href="/docs/pt/20-R4/API/CollectionClass#sort"><code>.sort()</code></a>).</p>
<p><code>.min()</code> retorna <strong>undefined</strong> se a seleção entidade for vazia ou se <em>attributePath</em> não for encontrado no atributo objeto.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> é um atributo relativo,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-20">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-20">​</a></h4>
<p>Neste exemplo, se quisermos encontrar o menor salário entre todos os funcionários mulheres:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel : cs. EmpSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $minSalary : Real</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds. Employee.query(&quot;gender = :1&quot;;&quot;female&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $minSalary:=$sel.min(&quot;salary&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="minus">.minus()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#minus">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">

















<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>18 R6</td><td>Suporte do parâmetro <em>keepOrder</em></td></tr><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.minus</strong>( <em>entity</em> : 4D. Entity { ; <em>keepOrder</em> : Integer } ) : 4D. EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D. EntitySelection { ; <em>keepOrder</em> : Integer } ) : 4D.</p>



































<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entity</td><td>4D. Entity</td><td style="text-align:center">-&gt;</td><td>Entidade a substrair</td></tr><tr><td>entitySelection</td><td>4D. EntitySelection</td><td style="text-align:center">-&gt;</td><td>seleção de entidade a subtrair</td></tr><tr><td>keepOrder</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk keep ordered</code> (inteiro) para manter a ordem inicial na seleção de entidade resultado</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Nova seleção de entidade ou uma nova referência na seleção entidade existente.</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-24">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-24">​</a></h4>
<p>A função <code>.minus()</code> exclui da seleção de entidade que é aplicada a <em>entity</em> ou as entidaddes de <em>entitySelection</em> e retorna a seleção de entidade resultante.</p>
<ul>
<li>Se passar <em>entity</em> como parâmetro, a função cria uma nova seleção de entidade sem <em>entity</em> (se <em>entity</em> pertencer à seleção de entidade). Se <em>entity</em> não for incluída na seleção de entidade original, uma nova referência para a seleção de entidade é retornada.</li>
<li>Se a entity selection não estiver ordenada, <em>entity</em> se adiciona em qualquer lugar da seleção, sem uma ordem específica. &gt; &gt; Pode comparar <a href="/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection">entity selections ordenadas ou desordenadas</a>.</li>
</ul>
<p>Como padrão, se omitir o parâmetro <em>keepOrder</em> , a seleção de entidade resultado não é ordenada. Se quiser manter a ordem da seleção de entidade original (por exemplo se quiser reutilizar a seleção de entidade em uma interface de usuário) passe a constante <code>dk keep ordered</code> em <em>keepOrder</em>. Neste caso, o resultado é uma seleção de entidade ordenada e a ordem da seleção de entidade inicial é mantida</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>nota</div><div class="admonitionContent_BuS1"><p>Se passar <code>dk keep ordered</code> em <em>keepOrder</em> e removida <em>entitySelection</em> contém entidades duplicadas na seleção de entidade original, todas as ocorrências da duplicada são removidas.</p></div></div>
<p>Se a seleção de entidade original ou tanto a seleção de entidade quanto o parâmetro <em>entitySelection</em> vazios e uma seleção de entidade vazia é retornada.</p>
<p>Se <em>entitySelection</em> estiver vazia ou se <em>entity</em> for Null, uma nova referência à seleção de entidade original for retornada.</p>
<p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-1-4">Exemplo 1<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-1-4">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;H@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds. EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) // Devuelve &quot;Colin Hetrick&quot;,&quot;Grady Harness&quot;, &quot;Sherlock Holmes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2-4">Exemplo 2<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2-4">​</a></h4>
<p>Se quisermos ter uma seleção de empregados mulheres que se chamam &quot;Jones&quot; que vivem em Nova York:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel1; $sel2; $sel3 : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel1:=ds. Employee.query(&quot;name =:1&quot;;&quot;Jones&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel2:=ds. Employee.query(&quot;city=:1&quot;;&quot;New York&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel3:=$sel1.and($sel2).minus(ds. Employee.query(&quot;gender=&#x27;male&#x27;&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-3-2">Exemplo 3<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-3-2">​</a></h4>
<p>Em uma interface de usuário se tivermos uma lista que exibe itens em uma ordem específica. Se o usuário selecionar itens na lista para remove-los, a ordem deve ser mantida quando refrescar a lista:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Employee.newSelection(dk keep ordered)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="or">.or()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#or">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.or</strong>( <em>entity</em> : 4D. Entity ) : 4D. EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D. EntitySelection ) : 4D. EntitySelection</p>





























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>entity</td><td>4D. Entity</td><td style="text-align:center">-&gt;</td><td>Entidade a intersectar</td></tr><tr><td>entitySelection</td><td>4D. EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection a intersectar</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Nova seleção de entidade ou nova referência para a seleção de entidade original</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-25">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-25">​</a></h4>
<p>A função <code>.or()</code> combina a seleção de entidade com <em>entity</em> ou parâmetro<em>entitySelection</em> usando o operador lógico (não exclusivo) OR; retorna uma nova seleção de entidade não ordenada que contenha todas as entidades da seleção de entidade e o parâmetro.</p>
<ul>
<li>Se passar como parâmetro <em>entitySelection</em> pode comparar seleções de entidade. Se a entidade pertencer à selecção de entidades, é devolvida uma nova referência à selecção de entidades. Senão, uma nova seleção de entidade contém a seleção de entidade original e a entidade é retornada.</li>
<li>Se a seleção de entidade original e o parâmetro <em>entitySelection</em> for vazio, uma seleção de entidade vazia é retornada. Se a seleção de entidade original for vazia, uma referência a  <em>entitySelection</em> ou uma seleção de entidade contendo apenas <em>entity</em> será retornada.</li>
</ul>
<blockquote>
<blockquote>
<blockquote>
<p>Pode comparar <a href="/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection">entity selections ordenadas ou desordenadas</a>. A seleção resultante é sempre desordenada.</p>
</blockquote>
</blockquote>
</blockquote>
<p>A seleção de entidade retornada contém as entidades especificadas por <em>startFrom</em> e todas as entidades subsequentes até, mas não incluindo, a entidade especificada por <em>end</em>. Se só o parâmetro <em>startFrom</em> for especificado, a entidade de seleção retornada contém todas as entidades de <em>startFrom</em> à última entidade da seleção de entidade original.</p>
<p>Se <em>entitySelection</em> estiver vazia ou se <em>entity</em> for Null, uma nova referência à seleção de entidade original for retornada.</p>
<p>Se a entity selection inicial e o parâmetro não forem relacionados com a mesma dataclass, se produz um erro.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-1-5">Exemplo 1<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-1-5">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees1; $employees2; $result : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees1:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //Returns &quot;Colin Hetrick&quot;,&quot;Grady Harness&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees2:=ds. Employee.query(&quot;firstName = :1&quot;;&quot;C@&quot;) //Returns &quot;Colin Hetrick&quot;, &quot;Cath Kidston&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$employees1.or($employees2) //$result contains &quot;Colin Hetrick&quot;, &quot;Grady Harness&quot;,&quot;Cath Kidston&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2-5">Exemplo 2<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2-5">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees; $result : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) // Devuelve &quot;Colin Hetrick&quot;,&quot;Grady Harness&quot;, &quot;Sherlock Holmes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds. Employee.get(686) //a entidade com chave primária 686 não pertence a entity selection $employees </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Coincide com a funcionária &quot;Mary Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$employees.or($employee) //$result contém &quot;Colin Hetrick&quot;, &quot;Grady Harness&quot;, &quot;Sherlock Holmes&quot;, &quot;Mary Smith&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transfer ência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="orderBy">.orderBy()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#orderBy">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.orderBy</strong>( <em>pathString</em> : Text ) : 4D. EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : 4D. EntitySelection</p>





























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>pathString</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Rota(s) de atributos e instruções de classificação para a entity selection</td></tr><tr><td>pathObjects</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>Coleção de objetos criterio</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Nova entity selection na ordem especificada</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-26">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabe çalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-26">​</a></h4>
<p>A função <code>.orderBy()</code> retorna uma nova seleção de entidade ordenada contendo todas as entidades da seleção de entidade na ordem especificada por <em>pathString</em> ou critérios<em>pathObjects</em>.</p>
<blockquote>
<ul>
<li>Este método não modifica a seleção de entidade original</li>
<li>Para saber mais sobre propriedade compartilhável de entity selections, consulte <a href="/docs/pt/20-R4/ORDA/entities#shareable-or-alterable-entity-selections">Entity selections compartilháveis ou modificáveis</a>.</li>
</ul>
</blockquote>
<p>Deve usar um parâmetro critério para definir como as entidades são ordenadas. Dois parâmetros diferentes são compatíveis:</p>
<ul>
<li><em>pathString</em> (Text) : Este parâmetro contém uma fórmula feita de rotas de atributo 1 a x (e opcionalmente) ordenação separado por vírgulas. A sintaxe é:</li>
</ul>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;attributePath1 {desc or asc}, attributePath2 {desc or asc},...&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A ordem na qual os atributos forem passados determina a prioridade de ordenação das entidades. Como padrão, atributos são ordenados em ordem ascendente. Pode definir a ordem de clasificação de uma propriedade na string de critérios, separado da rota da propriedade por um só espaço: passe &quot;asc&quot; para ordenar em ordem ascendente ou &quot;desc&quot; em ordem descendente.</p>
<ul>
<li><em>pathObjects</em> (collection): cada elemento da coleção contém um objeto estruturado da seguinte maneira:</li>
</ul>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;propertyPath&quot;: string,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;descending&quot;: boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Como padrão, atributos são ordenados em ordem ascendente (&quot;descendente&quot; é false)</p>
<p>Pode adicionar quantos objetos quiser nos critérios da coleção.</p>
<blockquote>
<p>Valores null são avaliados como menor que outros valores.</p>
</blockquote>
<p>Se for passado um caminho de atributo inválido em <em>pathString</em> ou <em>pathObject</em>, a função devolve uma selecção de entidade vazia.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-21">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-21">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ordenar por fórmula</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy(&quot;firstName asc, salary desc&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ordenar por colecção com ou sem ordenação</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;firstName&quot;;&quot;descending&quot;;False))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;salary&quot;;&quot;descending&quot;;True))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy($orderColl)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;manager.lastName&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;salary&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy($orderColl)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="orderByFormula">.orderByFormula()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#orderByFormula">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17 R6</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.orderByFormula</strong>( <em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection</p>









































<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>formulaString</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Formula string</td></tr><tr><td>formulaObj</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Objecto fórmula</td></tr><tr><td>sortOrder</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk ascending</code> (normal) ou <code>dk descending</code></td></tr><tr><td>settings</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Parâmetros da fórmula</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Nova seleção de entidade ordenada</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-27">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-27">​</a></h4>
<p>A função <code>.orderByFormula()</code> devolve uma nova entity selection ordenada <strong>.orderByFormula</strong>( <em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.</p>
<blockquote>
<p>Esta função não modifica a seleção de entidades original.</p>
</blockquote>
<p>Pode usar <em>formulaString</em> ou um parâmetro <em>formulaObj</em>:</p>
<ul>
<li><em>formulaString</em>: passa uma expressão 4D como &quot;Year of(this.birthDate)&quot;.</li>
<li><em>formulaObj</em>: passa um objeto fórmulada valida criado usando <code>Formula</code> ou <code>Formula from string</code>.</li>
</ul>
<p><em>formulaString</em> ou<em>formulaObj</em> é executado para cada entidade da seleção de entidade e seu resultado é usado para definir a posição da entidade na seleção de entidade retornada.. O resultado deve ser um tipo ordenavel (booleano, data, número, texto, hora, null).</p>
<blockquote>
<p>Um resultado nullé sempre o menor valor.</p>
</blockquote>
<p>Como padrão, se omitir o parâmetro <em>keepOrder</em>, a seleção de entidade resultado é ordenada de forma ascendente. Opcionalmente pode passar um dos valores abaixo no parâmetro <em>sortOrder</em>:</p>




















<table><thead><tr><th>Parâmetros</th><th>Valor</th><th>Comentário</th></tr></thead><tbody><tr><td>dk ascending</td><td>0</td><td>Ordem ascendente (padrão)</td></tr><tr><td>dk descending</td><td>1</td><td>Ordem descendente</td></tr></tbody></table>
<p>Dentro de <em>formulaString</em> ou <em>formulaObj</em>, a entidade processada e seus atributos estão disponíveis através do comando <code>This</code> (por exemplo, <code>This.lastName</code>).</p>
<p>Pode passar parâmetro(s) à fórmula usando a propriedade (objecto) <code>args</code> do parâmetro <code>settings</code>: a fórmula recebe o objecto <code>settings.args</code> em $1.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-1-6">Exemplo 1<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-1-6">​</a></h4>
<p>Ordenar estudantes usando uma fórmula fornecida como texto:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es1; $es2 : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es1:=ds. Students.query(&quot;nationality=:1&quot;;&quot;French&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.orderByFormula(&quot;length(this.lastname)&quot;) //ascending by default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.orderByFormula(&quot;length(this.lastname)&quot;;dk descending)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Mesma ordem mas usando objeto fórmula:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es1; $es2 : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $formula : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es1:=ds. Students.query(&quot;nationality=:1&quot;;&quot;French&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula:=Formula(Length(This.lastname))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.orderByFormula($formula) // ascending by default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.orderByFormula($formula;dk descending)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2-6">Exemplo 2<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2-6">​</a></h4>
<p>Uma fórmula é dada como um objecto de fórmula com parâmetros; <code>settings.args</code> objecto é recebido como $1 no método <em><strong>computeAverage</strong></em>.</p>
<p>Neste exemplo, o objeto campo &quot;marks&quot; em <strong>Students</strong> dataClass contém as notas de estudantes para cada tema. Um objeto fórmula é usado para computar a média das notas dos estudantes com coeficientes diferentes para schoolA e schoolB</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es1; $es2 : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $formula; $schoolA; $schoolB : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es1:=ds. Students.query(&quot;nationality=:1&quot;;&quot;French&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula:=Formula(computeAverage($1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $schoolA:=New object() //settings object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $schoolA.args:=New object(&quot;english&quot;;1;&quot;math&quot;;1;&quot;history&quot;;1) // Coefficients to compute an average</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Order students according to school A criteria</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.entitySelection.orderByFormula($formula;$schoolA)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $schoolB:=New object() //settings object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $schoolB.args:=New object(&quot;english&quot;;1;&quot;math&quot;;2;&quot;history&quot;;3) // Coefficients to compute an average</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Order students according to school B criteria</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.entitySelection.orderByFormula($formula;dk descending;$schoolB)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // método computeAverage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // -----------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE ($coefList : Object) -&gt; $result : Integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $subject : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $average; $sum : Integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $average:=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sum:=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> For each($subject;$coefList)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $sum:=$sum+$coefList[$subject]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End for each</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> For each($subject;This.marks)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $average:=$average+(This.marks[$subject]*$coefList[$subject])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End for each</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$average/$sum</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="query">.query()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#query">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">





















<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17 R6</td><td>Soporte dos Parâmetros Formula</td></tr><tr><td>17 R5</td><td>Suporte dos marcadores para os valores</td></tr><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection</p>









































<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>queryString</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Criterios de pesquisa como string</td></tr><tr><td>formula</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Criterios de pesquisa como objeto fórmula</td></tr><tr><td>value</td><td>any</td><td style="text-align:center">-&gt;</td><td>Valores a usar para placeholders indexados</td></tr><tr><td>querySettings</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Opções de pesquisa: parâmetros, atributos, args, allowFormulas, contexto, queryPath,queryPlan</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Nova seleção de entidade feita de entidades da seleção de entidade que satisfazem o critério de pesquisa especificado em  <em>queryString</em> ou <em>formula</em></td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-28">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-28">​</a></h4>
<p>A função <code>.query()</code> pesquisa por entidades que satisfazem o critério de pesquisa especificado em <em>queryString</em> ou <em>formula</em> e (opcionalmente) <em>value</em>(s) entre todas as entidades na seleção de entidade, e retorna um novo objeto de tipo <code>EntitySelection</code> contendo todas as entidades que foram encontradas. Se aplica carregamento diferido/lazy loading.</p>
<blockquote>
<p>Esta função não modifica a seleção de entidades original.</p>
</blockquote>
<p>Se não houver entidades correspondentes encontradas, uma <code>EntitySelection</code> vazia é retornada.</p>
<p>para informações detalhadas de como usar <em>queryString</em>, <em>value</em>e <em>querySettings</em>, veja a descrição DataClass <a href="/docs/pt/20-R4/API/DataClassClass#query"><code>.query()</code></a>.</p>
<blockquote>
<p>Como padrão se omitir <strong>order by</strong> em <em>queryString</em>, a seleção de entidade retornada é <a href="/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection">não ordenada</a>. Note entretanto que em modo Cliente Servidor funciona como uma seleção de entidade ordenada (entidades são adicionadas no final da seleção)</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-1-7">Exemplo 1<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-1-7">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entitySelectionTemp : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySelectionTemp:=ds. Employee.query(&quot;lastName = :1&quot;;&quot;M@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Form.emps:=$entitySelectionTemp.query(&quot;manager.lastName = :1&quot;;&quot;S@&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2-7">Exemplo 2<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2-7">​</a></h4>
<p>A maioria dos exemplos de pesquisa podem ser encontrados na página DataClass <a href="/docs/pt/20-R4/API/DataClassClass#query"><code>.query()</code></a> .</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Veja-também-2">Veja também<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Veja-também-2">​</a></h4>
<p><a href="/docs/pt/20-R4/API/DataClassClass#query"><code>.query()</code></a> para dataclass</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="queryPath">.queryPath<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#queryPath">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.queryPath</strong> : Text</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-29">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-29">​</a></h4>
<p>A propriedade <code>.queryPath</code> contém uma descrição detalhada da pesquisa como foi realizada em 4D. Esta propriedade está disponível para objectos <code>EntitySelection</code> gerados através de consultas se a propriedade <code>&quot;queryPath&quot;:true</code> tiver sido passada no parâmetro <em>querySettings</em> da função <a href="/docs/pt/20-R4/API/EntitySelectionClass#query"><code>.query()</code></a>.</p>
<p>For more information, refer to the <strong>querySettings parameter</strong> paragraph in the Dataclass<a href="/docs/pt/20-R4/API/DataClassClass#query"><code>.query()</code></a> page.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="queryPlan">.queryPlan<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#queryPlan">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.queryPlan</strong> : Text</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-30">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-30">​</a></h4>
<p>A propriedade <code>.queryPlan</code>  contém uma descrição detalhada da pesquisa antes da execução (ou seja, a pesquisa planejada). Esta propriedade é disponível para objetos <code>EntitySelection</code> gerados através de pesquisas se a propriedade <code>&quot;queryPlan&quot;:true</code> for passada no parâmetro <em>querySettings</em> da função <a href="/docs/pt/20-R4/API/EntitySelectionClass#query"><code>.query()</code></a>.</p>
<p>Para saber mais veja o parágrafo <strong>querySettings parameter</strong> na página Dataclass<a href="/docs/pt/20-R4/API/DataClassClass.html#query"><code>.query()</code></a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="refresh">.refresh()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#refresh">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>18 R3</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.refresh()</strong></p>
<p>| Parâmetro | Tipo |  | Descrição                                             |
| --------- | ---- |::| ----------------------------------------------------- |
|           |      |  | Não exige nenhum parâmetro|</p>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-31">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-31">​</a></h4>
<blockquote>
<p>Esta função só funciona com datastore remota (cliente / servidor ou conexão<code>Open datastore</code> ).</p>
</blockquote>
<p>A função <code>.refresh()</code> imediatamente &quot;invalida&quot; os dados da seleção de entidade na cache local ORDA de forma que na próxima vez que 4D exige a seleção de entidade será recarregada da database.</p>
<p>Como padrão, a cache ORDA local é invaidade depois de 30 segundos. No contexto de aplicações cliente/servidor usando ORDA e a linguagem clássica, este método permite assegurar que a aplicação remota vai sempre funcionar com os últimos dados.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-1-8">Exemplo 1<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-1-8">​</a></h4>
<p>Neste exemplo, clássico e ORDA modifica os mesmos dados simultaneamente.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> //On a 4D remote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $selection : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $student : cs. StudentsEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $selection:=ds. Students.query(&quot;lastname=:1&quot;;&quot;Collins&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //A primeira entidade é carregada na cache ORDA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $student:=$selection.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Atualizar com clássico 4D, ORDA cache não está se</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> QUERY([Students];[Students]lastname=&quot;Collins&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [Students]lastname:=&quot;Colin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> SAVE RECORD([Students])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //pra obter a última versão a cache ORDA deve ser invalidada</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $selection.refresh()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Mesmo se cache não for expirada, a primeira entidade é carregada do disco</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $student:=$selection.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$student.lastname contains &quot;Colin&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2-8">Exemplo 2<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2-8">​</a></h4>
<p>Uma list box exibe a seleção de entidade Form.students e vários clientes trabalham nele.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Método de formulário:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :(Form event code=On Load)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Form.students:=ds. Students.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Em client #1, o usuário carrega atualiza e salva a primeira entidade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Em client #2, o usuário carrega atualiza e salva a mesma entidade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Em client #1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Form.students.refresh() // Invalida a cache ORDA para a seleção de entidade Form.students</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // O conteúdo list box é atualizado na database com atuaização feita pelo  client #2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="selected">.selected()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#selected">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>19 R3</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.selected</strong>( <em>selectedEntities</em> : 4D. EntitySelection ) : Object</p>























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Parâmetros</td><td>4D. EntitySelection</td><td style="text-align:center">-&gt;</td><td>Seleção de entidade com entidades para qual saber o ranking da seleção de entidade</td></tr><tr><td>Resultados</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Intervalos da seleção de entidade da seleção de entidade</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-32">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-32">​</a></h4>
<p>A função <code>.add()</code> adds the specified <em>entity</em> to the entity selection and returns the modified entity selection.</p>
<blockquote>
<p>Esta função não modifica a seleção de entidades original.</p>
</blockquote>
<p>Passe o parâmetro <em>selectedEntities</em> uma seleção de entidade contendo entidades para qual quiser saber a posição na seleção de entidade original. <em>selectedEntities</em> deve ser uma seleção de entidade pertencendo a mesma dataclass que a seleção de entidade original, senão acontece um erro 1587 - &quot;The entity selection comes from an incompatible dataclass&quot; .</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Resultados">Resultados<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Resultados">​</a></h4>
<p>O objeto retornado contém as propriedades abaixo:</p>

























<table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>ranges</td><td>Collection</td><td>Coleção de objetos intervalos</td></tr><tr><td>ranges[].start</td><td>Integer</td><td>Primeiro indice de entidade do intervalo</td></tr><tr><td>ranges[].end</td><td>Integer</td><td>Último indice de entidade no intervalo.</td></tr></tbody></table>
<p>Se uma propriedade <code>ranges</code> conter uma única entidade, <code>start</code> = <code>end</code>. Indice começa em 0</p>
<p>Se passar <em>entitySelection</em> como parâmetro, a função retorna uma seleção de entidade contendo as entidades que pertencem à seleção de entidade original sem as entidades que pertencem a <em>entitySelection</em>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-22">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-22">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $invoices; $cashSel; $creditSel : cs. Invoices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $result1; $result2 : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$invoices:=ds. Invoices.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$cashSelection:=ds. Invoices.query(&quot;payment = :1&quot;; &quot;Cash&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$creditSel:=ds. Invoices.query(&quot;payment IN :1&quot;; New collection(&quot;Cash&quot;; &quot;Credit Card&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result1:=$invoices.selected($cashSelection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result2:=$invoices.selected($creditSel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$result1 = {ranges:[{start:0;end:0},{start:3;end:3},{start:6;end:6}]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$result2 = {ranges:[{start:0;end:1},{start:3;end:4},{start:6;end:7}]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="slice">.slice()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#slice">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : 4D. EntitySelection</p>





























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>startFrom</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Indice para iniciar a operação em (incluido)</td></tr><tr><td>end</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Final do índice (não incluído)</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td style="text-align:center">&lt;-</td><td>Nova seleção de entidade contendo entidades slices (cópia superficial)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-33">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-33">​</a></h4>
<p>A função <code>.slice()</code> retorna uma porção da seleção de entidade em uma nova seleção de entidade, seleccionada a partir do índice <em>startFrom</em> para o índice <em>end</em> (<em>end</em> não está incluído) ou para a última entidade da selecção de entidades. Este método devolve uma cópia superficial da selecção de entidades (utiliza as mesmas referências de entidades).</p>
<blockquote>
<p>Esta função não modifica a seleção de entidades original.</p>
</blockquote>
<p>Se a entity selection estiver ordenada, <em>entity</em> se adiciona ao final da seleção. Se as referências às mesmas entidades de <em>entitySelection</em> já pertencem à seleção de entidades, se duplicam e se adicionam novas referencias.</p>
<ul>
<li>Se <em>startFrom</em> &lt; 0, é recalculada como <em>startFrom:=startFrom+length</em> (é considerada como o offset do final da entidade de seleção). Se o valor calculado &lt; 0, <em>index</em> será estabelecido como 0.</li>
<li>Se <em>startFrom &gt;= length</em>, a função retorna uma seleção vazia de entidade.</li>
<li>Se <em>end</em> &lt; 0, é recalculada como <em>end:=end+length</em>.</li>
<li>Se <em>end &lt; startFrom</em> (valores passados ou calculados), o método não faz nada.</li>
</ul>
<p>Se a seleção de entidade contém entidades que foram abandonadas, também serão retornadas.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-1-9">Exemplo 1<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-1-9">​</a></h4>
<p>Se quiser obter uma seleção das primeiras 9 entidades da seleção de entidade:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $sel; $sliced : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$sel:=ds. Employee.query(&quot;salary &gt; :1&quot;;50000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$sliced:=$sel.slice(0;9) //</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2-9">Exemplo 2<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2-9">​</a></h4>
<p>Assuming we have ds. Employee.all().length = 10</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $slice : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$slice:=ds.Employee.all().slice(-1;-2) //tenta devolver entidades do índice 9 a 8, mas como 9 &gt; 8, devolve uma seleção de entidades vazia</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sum">.sum()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#sum">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.sum</strong>( <em>attributePath</em> : Text ) : Real</p>























<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Rota do atributo que se utilizará para o cálculo</td></tr><tr><td>Resultados</td><td>Real</td><td style="text-align:center">&lt;-</td><td>Soma dos valores da seleção de entidade</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-34">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-34">​</a></h4>
<p>A função <code>.sum()</code> retorna a soma de todos os valores <em>attributePath</em> na seleção de entidade.</p>
<p><code>.sum()</code> retorna 0 se a seleção de entidade for vazia.</p>
<p>A soma só pode ser feita em valores do tipo de número. Se o atributo <em>attributePath</em> for uma propriedade objecto, apenas valores numéricos são tidos em conta para o cálculo (outros tipos de valores são ignorados). Neste caso, se <em>attributePath</em> conduz a uma propriedade que não existe no objecto ou não contém quaisquer valores numéricos, <code>.sum()</code> retorna 0.</p>
<p>Um erro é retornado se:</p>
<ul>
<li><em>attributePath</em> não é um atributo numérico nem um atributo de objecto,</li>
<li><em>attributePath</em> é um atributo relativo,</li>
<li><em>attributePath</em> não se encontra na classe de dados da entity selection.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-23">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-23">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $sel : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $sum : Real</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$sel:=ds. Employee.query(&quot;salary &lt; :1&quot;;20000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$sum:=$sel.sum(&quot;salary&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="toCollection">.toCollection()<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#toCollection">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Mudanças</th></tr></thead><tbody><tr><td>17</td><td>Adicionado</td></tr></tbody></table>
</div></div></details>
<p><strong>.toCollection</strong>( { <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer } } ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterString</em> : Text {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterCol</em> : Collection {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em></p>















































<table><thead><tr><th>Parâmetro</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr></thead><tbody><tr><td>filterString</td><td>Text</td><td style="text-align:center">-&gt;</td><td>String com caminho(s) de atributo(s) de entidade a extrair</td></tr><tr><td>filterCol</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>Coleção de caminho(s) de atributo(s) de entidade a extrair</td></tr><tr><td>options</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk com chave primária</code>: adiciona a chave primária<br><code>dk com selo</code>: adiciona o selo</td></tr><tr><td>begin</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Designa o índice inicial</td></tr><tr><td>howMany</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Número de entidades a extrair</td></tr><tr><td>Resultados</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Colecção de objectos contendo atributos e valores de selecção de entidades</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Descrição-35">Descrição<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Descrição-35">​</a></h4>
<p>A função <code>.toCollection()</code> cria e devolve uma colecção onde cada elemento é um objecto que contém um conjunto de propriedades e valores correspondentes aos nomes e valores dos atributos para a selecção da entidade.</p>
<p>Se nenhum parâmetro de filtro for passado ou se o primeiro parâmetro contiver uma cadeia vazia ou &quot;*&quot;, todos os atributos são extraídos. Os atributos com <a href="/docs/pt/20-R4/API/DataClassClass#attributename">tipo</a> propriedade como &quot;relatedEntity&quot; são extraídos com a forma simples: um objecto com propriedade _KEY (chave primária). Atributos com propriedade tipo como &quot;Entidades relacionadas&quot; não são extraídos.</p>
<p>Ou, pode designar os atributos da entidade a extrair utilizando um parâmetro de filtro. Pode usar um destes dois filtros:</p>
<ul>
<li><em>filterString</em> - uma string com caminhos de propriedade separados por vírgulas: &quot;propertyPath1, propertyPath2, ...&quot;.</li>
<li><em>filterCol</em> - uma coleção de strings contendo caminhos de propriedade: [&quot;propertyPath1&quot;, &quot;propertyPath2&quot;,...</li>
</ul>
<p>Se for especificado um filtro para um atributo do tipo <code>relatedEntity</code> :</p>
<ul>
<li>propertyPath = &quot;relatedEntity&quot; -&gt; é extraído de forma simples</li>
<li>propertyPath = &quot;relatedEntity.*&quot; -&gt; todas as propriedades foram extraídas</li>
<li>propertyPath = &quot;relatedEntity.propertyName1, relatedEntity.propertyName2, ...&quot; -&gt; só se extraem essas propriedades</li>
</ul>
<p>Se for especificado um filtro para um atributo do tipo <code>relatedEntities</code> :</p>
<ul>
<li>propertyPath = &quot;relatedEntities.*&quot; -&gt; se extraem todas as propriedades</li>
<li>propertyPath = &quot;relatedEntities.propertyName1, relatedEntities.propertyName2, ...&quot; -&gt; só se extraem essas propriedades</li>
</ul>
<p>No parâmetro <em>opções</em> , pode passar os seletores <code>dk com chave primária</code> e/ou <code>dk with stamp</code>  para adicionar as chaves primárias da entidade e/ou carimbos nos objectos extraídos.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Alerta</div><div class="admonitionContent_BuS1"><p>Se utilizar outro atributo que não a chave primária como o atributo Um numa relação, o valor deste atributo será escrito na propriedade &quot;__KEY&quot;. Tenha em mente que é recomendado usar a chave primária como um atributo nas suas relações, especialmente quando usa funções <code>.toCollection()</code> e <code>.fromCollection()</code>.</p></div></div>
<p>O parâmetro <em>start</em> permite indicar o índice inicial das entidades a extrair. Pode passar qualquer valor entre 0 e o comprimento-1 da selecção da entidade.</p>
<p>O parâmetro <em>howMany</em> permite especificar o número de entidades a extrair, começando com o especificado em <em>begin</em>. As entidades abandonadas não são devolvidas, mas são tidas em conta de acordo com <em>howMany</em>. Por exemplo, se <em>howMany</em>= 3 e houver 1 entidade abandonada, apenas 2 entidades são extraídas.</p>
<p>Se <em>howMany</em> &gt; comprimento da selecção da entidade, o método retorna (comprimento - <em>início</em>) objectos.</p>
<p>Uma colecção vazia é devolvida se:</p>
<ul>
<li>a selecção da entidade está vazia, ou</li>
<li><em>begin</em> é maior do que a duração da selecção da entidade.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-1-10">Exemplo 1<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-1-10">​</a></h4>
<p>A estrutura abaixo será usada nos exemplos desta seção:</p>
<p><img decoding="async" loading="lazy" src="/docs/pt/assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png" width="1000" height="610" class="img_ev3q"></p>
<p>Exemplo sem filtro ou parâmetro de opções:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds. Employee.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employeesCollection:=$employees.toCollection()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ID&quot;: 416,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;salary&quot;: 79100,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ID&quot;: 417,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;salary&quot;: 47000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;birthDate&quot;: &quot;1992-06-16T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2-10">Exemplo 2<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2-10">​</a></h4>
<p>Exemplo com opções:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employees:=ds. Employee.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;&quot;;dk with primary key+dk with stamp)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 416,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ID&quot;: 416,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;salary&quot;: 79100,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 417,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ID&quot;: 417,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;salary&quot;: 47000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;birthDate&quot;: &quot;1992-06-16T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-3-3">Exemplo 3<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-3-3">​</a></h4>
<p>Exemplo com fatiagem e filtragem nas propriedades:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection; $filter : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$filter:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$filter.push(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$filter.push(&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employees:=ds. Employee.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection($filter;0;0;2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-24">Exemplo<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-24">​</a></h4>
<p>Exemplo com <code>relatedEntity</code> tipo com formulário simples:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;firstName,lastName,employer&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-2-11">Exemplo 2<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-2-11">​</a></h4>
<p>Exemplo com parâmetro <em>filterCol</em>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection; $coll : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$coll:=New collection(&quot;firstName&quot;;&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection($coll)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Joanna&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Cabrera&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Alexandra&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Coleman&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-6-1">Exemplo 6<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-6-1">​</a></h4>
<p>Exemplo com extracção de todas as propriedades de relatedEntity:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection; $coll : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$coll:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$coll.push(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$coll.push(&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$coll.push(&quot;employer.*&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection($coll)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;India Astral Secretary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;creationDate&quot;: &quot;1984-08-25T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;revenues&quot;: 12000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;extra&quot;: null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-3-4">Exemplo 3<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-3-4">​</a></h4>
<p>Exemplo com extracção de algumas propriedades de uma relatedEntity:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;firstName, lastName, employer.name&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;India Astral Secretary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-8-1">Exemplo 8<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-8-1">​</a></h4>
<p>Exemplo com extracção de algumas propriedades de <code>relatedEntities</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employeesCollection:=$employees.toCollection(&quot;firstName, lastName, directReports.firstName&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Mike&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Phan&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Gary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Sadie&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Christie&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Reichert&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Rex&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Jenny&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Lowell&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Exemplo-9-1">Exemplo 9<a class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho" href="/docs/pt/20-R4/API/EntitySelectionClass#Exemplo-9-1">​</a></h4>
<p>Exemplo com extração de todas as propriedades de <code>relatedEntities</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;firstName, lastName, directReports.*&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Mike&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Phan&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ID&quot;: 425,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Gary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;lastName&quot;: &quot;Reichert&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;salary&quot;: 65800,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;birthDate&quot;: &quot;1957-12-23T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;managerID&quot;: 424,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employerID&quot;: 21,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 424</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ID&quot;: 426,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Sadie&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;lastName&quot;: &quot;Gallant&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;salary&quot;: 35200,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;birthDate&quot;: &quot;2022-01-03T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;managerID&quot;: 424,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employerID&quot;: 21,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 424</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Reichert&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ID&quot;: 428,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Rex&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;lastName&quot;: &quot;Chance&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;salary&quot;: 71600,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;birthDate&quot;: &quot;1968-08-09T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;managerID&quot;: 425,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employerID&quot;: 21,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 425</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ID&quot;: 429,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Jenny&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;lastName&quot;:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntitySelectionClass.md%20(20-R4)&amp;body=Please%20enter%20your%20comment%3A" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Comentar esta página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegação nas páginas dos documentos"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pt/20-R4/API/EntityClass"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Entity</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pt/20-R4/API/FileClass"><div class="pagination-nav__sublabel">Próximo</div><div class="pagination-nav__label">File</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#Resumo">Resumo</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#Criar-uma-seleção-de-entidades-entity-selection">Criar uma seleção de entidades (entity selection)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#USE-ENTITY-SELECTION">USE ENTITY SELECTION</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#index">[<em>index</em>]</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#attributeName">.<em>attributeName</em></a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#add">.add()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#and">.and()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#at">.at()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#average">.average()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#contains">.contains()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#count">.count()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#copy">.copy()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#distinct">.distinct()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#distinctPaths">.distinctPaths()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#drop">.drop()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#extract">.extract()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#first">.first()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#getDataClass">.getDataClass()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#getRemoteContextAttributes">.getRemoteContextAttributes()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#isAlterable">.isAlterable()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#isOrdered">.isOrdered()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#last">.last()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#length">.length</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#max">.max()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#min">.min()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#minus">.minus()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#or">.or()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#orderBy">.orderBy()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#orderByFormula">.orderByFormula()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#query">.query()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#queryPath">.queryPath</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#queryPlan">.queryPlan</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#refresh">.refresh()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#selected">.selected()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#slice">.slice()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#sum">.sum()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/pt/20-R4/API/EntitySelectionClass#toCollection">.toCollection()</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Comunidade</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Centro de desenvolvimento 4D</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Suporte</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Onde tudo começou)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Base de conhecimento</a></li><li class="footer__item"><a href="https://us.4d.com/product-download/Feature-Release" target="_blank" rel="noopener noreferrer" class="footer__link-item">Baixares<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Obter suporte<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Empresa</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sobre 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contactar-nos<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D no mundo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 4D SAS - Todos os direitos reservados</div></div></div></footer></div>
</body>
</html>