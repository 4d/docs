<!doctype html>
<html lang="pt" dir="ltr" class="docs-wrapper docs-doc-page docs-version-19 plugin-docs plugin-id-default docs-doc-id-API/DataClassClass">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">DataClass | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://4d.github.io//docs/pt/../assets/en/logohome.png"><meta data-rh="true" name="twitter:image" content="https://4d.github.io//docs/pt/../assets/en/logohome.png"><meta data-rh="true" property="og:url" content="https://4d.github.io//docs/pt/19/API/DataClassClass"><meta data-rh="true" name="docusaurus_locale" content="pt"><meta data-rh="true" name="docsearch:language" content="pt"><meta data-rh="true" name="docusaurus_version" content="19"><meta data-rh="true" name="docusaurus_tag" content="docs-default-19"><meta data-rh="true" name="docsearch:version" content="19"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-19"><meta data-rh="true" property="og:title" content="DataClass | 4D Docs"><meta data-rh="true" name="description" content="Uma DataClass oferece uma interface de objeto a uma tabela do banco de dados. Todas as classes de dados de uma aplicação 4D estão disponíveis como uma propriedade de ds datastore."><meta data-rh="true" property="og:description" content="Uma DataClass oferece uma interface de objeto a uma tabela do banco de dados. Todas as classes de dados de uma aplicação 4D estão disponíveis como uma propriedade de ds datastore."><link data-rh="true" rel="icon" href="/docs/pt/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://4d.github.io//docs/pt/19/API/DataClassClass"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/19/API/DataClassClass" hreflang="en"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/fr/19/API/DataClassClass" hreflang="fr"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/es/19/API/DataClassClass" hreflang="es"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/ja/19/API/DataClassClass" hreflang="ja"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/pt/19/API/DataClassClass" hreflang="pt"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/19/API/DataClassClass" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/pt/opensearch.xml"><link rel="stylesheet" href="/docs/pt/assets/css/styles.7bd82bcd.css">
<link rel="preload" href="/docs/pt/assets/js/runtime~main.a44fdf8b.js" as="script">
<link rel="preload" href="/docs/pt/assets/js/main.42f62292.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/pt/"><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/pt/19/GettingStarted/installation">v19</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/pt/API/DataClassClass">v19 R7 BETA</a></li><li><a class="dropdown__link" href="/docs/pt/19-R6/API/DataClassClass">v19 R6</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/pt/19/API/DataClassClass">v19</a></li><li><a class="dropdown__link" href="/docs/pt/18/GettingStarted/installation">v18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Português</a><ul class="dropdown__menu"><li><a href="/docs/19/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/19/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/es/19/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/19/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/docs/pt/19/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Pesquisa"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Pesquisa</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/GettingStarted/installation">Começando</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/Project/overview">Project Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/Concepts/about">4D Language Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://doc.4d.com/4Dv19/4D/19.4/4D-Language-Reference.100-6022604.en.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">4D Language Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/ORDA/overview">ORDA</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/pt/19/API/overview">Class API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/overview">Class API Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/ClassClass">Class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/CollectionClass">Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/CryptoKeyClass">CryptoKey</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pt/19/API/DataClassClass">DataClass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/DataClassAttributeClass">DataClassAttribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/DataStoreClass">DataStore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/EmailObjectClass">Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/EntityClass">Entity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/EntitySelectionClass">EntitySelection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/FileClass">File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/FolderClass">Folder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/FunctionClass">Formula</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/IMAPTransporterClass">IMAPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/MailAttachmentClass">MailAttachment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/POP3TransporterClass">POP3Transporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/SessionClass">Session</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/SignalClass">Signal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/SMTPTransporterClass">SMTPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/WebServerClass">WebServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/ZipArchiveClass">ZIPArchive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/ZipFileClass">ZIPFile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/19/API/ZipFolderClass">ZIPFolder</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/Preferences/overview">Preferences</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/Admin/webAdmin">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/Users/overview">Access Rights</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/MSC/overview">CSM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/Backup/overview">Backup and Restore</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/WebServer/overview">Servidor Web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/WebServer/gettingStarted">Web Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/REST/gettingStarted">Servidor REST</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/Desktop/clientServer">Client/Server</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/FormEditor/forms">Formulários</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/FormEditor/jsonReference">Form Properties</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/FormObjects/formObjectsOverview">Form Objects</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/FormObjects/propertiesReference">Form Object Properties</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/Events/overview">Eventos formulário</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/Menus/overview">Menus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pt/19/Desktop/building">Build application</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/pt/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Class API Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">DataClass</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v19</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>DataClass</h1></header><p>Uma <a href="/docs/pt/19/ORDA/dsmapping#dataclass">DataClass</a> oferece uma interface de objeto a uma tabela do banco de dados. Todas as classes de dados de uma aplicação 4D estão disponíveis como uma propriedade de <code>ds</code> <a href="/docs/pt/19/ORDA/dsmapping#datastore">datastore</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resumo">Resumo<a class="hash-link" href="#resumo" title="Direct link to heading">​</a></h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#attributename"><strong><em>.attributeName</em></strong> : DataClassAttribute</a> <!-- --> <!-- --> <!-- --> <!-- -->objectos que estão disponíveis directamente como propriedades</td></tr><tr><td><a href="#all"><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D. EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->consulta a datastore para encontrar todas as entidades relacionadas com a dataclass e devolve-as como uma selecção de entidade</td></tr><tr><td><a href="#fromcollection"><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D. EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->actualiza ou cria entidades no dataclass de acordo com a colecção de objectos <em>objectCol</em>, e devolve a selecção da entidade correspondente</td></tr><tr><td><a href="#get"><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D. Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.</a> <!-- --> <!-- --> <!-- --> <!-- -->queries the dataclass to retrieve the entity matching the <em>primaryKey</em> parameter</td></tr><tr><td>[</td></tr><tr><td><a href="#getinfo"><strong>.getInfo()</strong> : Objeto </a> <!-- --> <!-- --> <!-- --> <!-- -->devolve um objecto que fornece informação sobre o dataclass</td></tr><tr><td><a href="#new"><strong>.new()</strong> : 4D. Entity </a> <!-- --> <!-- --> <!-- --> <!-- -->creates in memory and returns a new blank entity related to the Dataclass</td></tr><tr><td><a href="#newselection"><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D. EntitySelection </a> <!-- --> <!-- --> <!-- --> <!-- -->creates a new, blank, non-shareable entity selection, related to the dataclass, in memory</td></tr><tr><td><a href="#query"><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection </a> <!-- --> <!-- --> <!-- --> <!-- -->searches for entities that meet the search criteria specified in <em>queryString</em> or <em>formula</em> and (optionally) <em>value</em>(s)</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="attributename">.<em>attributeName</em><a class="hash-link" href="#attributename" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong><em>.attributeName</em></strong> : DataClassAttribute</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição">Descrição<a class="hash-link" href="#descrição" title="Direct link to heading">​</a></h4><p>Os atributos dos dataclasses são objectos que estão disponíveis directamente como propriedades destas classes.</p><p>Os objetos retornados são do tipo class <a href="/docs/pt/19/API/DataClassAttributeClass"><code>DataClassAttribute</code></a>. Esses objetos têm propriedades que podem ser lidas para obter informação sobre seus atributos dataclass.</p><blockquote><p>Os objetos do atributo Dataclass podem ser modificados, mas a estrutura subjacente do banco de dados não será alterada.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1">Exemplo 1<a class="hash-link" href="#exemplo-1" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$salary:=ds. Employee.salary //returns the salary attribute in the Employee dataclass</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$compCity:=ds. Company[&quot;city&quot;] //returns the city attribute in the Company dataclass</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2">Exemplo 2<a class="hash-link" href="#exemplo-2" title="Direct link to heading">​</a></h4><p>Considerando a seguinte estrutura do banco de dados:</p><p><img loading="lazy" src="/docs/pt/assets/images/dataclassAttribute-a6b39462dc310d6f9b5816409d863cee.png" width="454" height="634" class="img_ev3q"></p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $firstnameAtt;$employerAtt;$employeesAtt : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $firstnameAtt:=ds. Employee.firstname</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //{name:firstname,kind:storage,fieldType:0,type:string,fieldNumber:2,indexed:true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //keyWordIndexed:false,autoFilled:false,mandatory:false,unique:false}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employerAtt:=ds. Employee.employer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //{name:employer,kind:relatedEntity,relatedDataClass:Company,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //fieldType:38,type:Company,inverseName:employees}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //38=Is object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employeesAtt:=ds. Company.employees</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //{name:employees,kind:relatedEntities,relatedDataClass:Employee,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //fieldType:42,type:EmployeeSelection,inverseName:employer}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //42=Is collection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3">Exemplo 3<a class="hash-link" href="#exemplo-3" title="Direct link to heading">​</a></h4><p>Considerando as propriedades de tabela abaixo:</p><p><img loading="lazy" src="/docs/pt/assets/images/dataclassAttribute2-815959fd721b6dd175aaa338e04c2f38.png" width="405" height="383" class="img_ev3q"></p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $sequenceNumberAtt : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sequenceNumberAtt=ds. Employee.sequenceNumber</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //{name:sequenceNumber,kind:storage,fieldType:0,type:string,fieldNumber:13,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //indexed:true,keyWordIndexed:false,autoFilled:true,mandatory:false,unique:true}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="all">.all()<a class="hash-link" href="#all" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R5</td><td>Compatibilidade do parâmetro <em>settings</em></td></tr><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D. EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>settings</td><td>Objeto</td><td align="center">-&gt;</td><td>Build option: context</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>Referencias sobre todas as entidades relacionadas com a classe de dados</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-1">Descrição<a class="hash-link" href="#descrição-1" title="Direct link to heading">​</a></h4><p>The <code>.all( )</code> function consulta a datastore para encontrar todas as entidades relacionadas com a dataclass e devolve-as como uma selecção de entidade.</p><p>As entidades são devolvidas na ordem padrão, que é inicialmente a ordem na qual foram criadas. Note no entanto que, se as entidades foram apagas e outras adicionadas, a ordem padrão não reflete mais sua ordem de criação.</p><p>Se nenhuma entidade correspondente for encontrada, uma seleção de entidade vazia é retornada.</p><p>Se aplica carregamento diferido/lazy loading.</p><p><strong>settings</strong></p><p>No  parâmetro <em>querySettings</em> é possível passar um objeto que conteha opções adicionais. As propriedades abaixo são compatíveis:</p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>Etiqueta para o contexto de otimização aplicado a seleção de entidades. Este contexto será utilizado pelo código que maneja a seleção de entidades para que possa se beneficiar da otimização. Essa funcionalidade foi criada para processamento cliente/servidor de ORDA <a href="/docs/pt/19/ORDA/entities#client-server-optimization"></a>.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo">Exemplo<a class="hash-link" href="#exemplo" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $allEmp : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $allEmp:=ds. Employee.all()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fromcollection">.fromCollection()<a class="hash-link" href="#fromcollection" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R5</td><td>Compatibilidade do parâmetro <em>settings</em></td></tr><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D. EntitySelection</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>objectCol</td><td>Collection</td><td align="center">-&gt;</td><td>Coleção de objetos a mapear com entidades</td></tr><tr><td>settings</td><td>Objeto</td><td align="center">-&gt;</td><td>Build option: context</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td align="center">&lt;-</td><td>Seleção de entidades preenchidas da coleção</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-2">Descrição<a class="hash-link" href="#descrição-2" title="Direct link to heading">​</a></h4><p>A função <code>.fromCollection()</code> actualiza ou cria entidades no dataclass de acordo com a colecção de objectos <em>objectCol</em>, e devolve a selecção da entidade correspondente.</p><p>No parâmetro <em>objectCol</em>, passa uma coleção de objetos para criar novas entidades ou atualizar as existentes da classe de dados. Os nomes das propriedades devem ser os mesmos que os dos atributos da classe de dados. Se um nome de propriedade não existir na dataclass, é ignorado. Se um valor de atributo não for definido na coleção, seu valor será null.</p><p>O mapeamento entre os objetos da coleção e as entidades se realiza sobre os <strong>nomes de atributos</strong> e <strong>tipos coincidentes</strong>. Se uma propriedade de um objeto tiver o mesmo nome que um atributo de entidade mas seus tipos não corresponderem, o atributo da entidade não é preenchido.</p><p><strong>Criar ou atualizar modos</strong></p><p>Para cada objeto de <em>objectCol</em>:</p><ul><li>Se o objeto conter uma propriedade booleana &quot;<!-- -->_<!-- -->_NEW&quot; estabelecida em false (ou não conter uma propriedade booleana &quot;<!-- -->_<!-- -->_NEW&quot;), a entidade se atualiza ou se cria com os valores correspondentes das propriedades do objeto. Nenhuma comprovação é realizada com respeito à chave primária:<ul><li>Se a chave primária for dada e existir, a entidade é atualizada. Nesse caso, a chave primária pode ser dada como etá ou com uma propriedade &quot;<!-- -->_<!-- -->_<!-- -->KEY&quot;  (preenchida com o valor da chave primária).</li><li>Se a chave primária for dada (como é) e não existir, a entidade é criada</li><li>Se a chave primária não for dada, a entidade é criada e o valor da chave primária é assignado com respeito às regras padrão de database.</li></ul></li><li>Se o objeto conter uma propriedade boolean &quot;<!-- -->_<!-- -->_<!-- -->NEW&quot; estabelecida como <strong>true</strong>, a entidade é criada com os valores correspondente dos atributos de objeto. Uma comprovação é realizada com relação à chave primária:<ul><li>Se a chave primária for dada (como está) e existir, um erro é enviado.</li><li>Se a chave primária for dada (como é) e não existir, a entidade é criada</li><li>Se a chave primária não for dada, a entidade é criada e o valor da chave primária é assignado com respeito às regras padrão de database.<blockquote><p>The nested objects featuring related entities must contain a &quot;<!-- -->_<!-- -->_<!-- -->KEY&quot; property (filled with the primary key value of the related entity) or the primary key attribute of the related entity itself. The use of a <!-- -->_<!-- -->_<!-- -->KEY property allows independence from the primary key attribute name.</p></blockquote></li></ul></li></ul><p><strong>Entidades relacionadas</strong></p><p>Os objetos de <em>objectCol</em> podem conter um ou mais objetos aninhados que apresentam uma ou mais entidades relacionadas, o que pode ser útil para criar ou atualizar links entre entidades.</p><p>Os objetos aninhados que apresentam entidades relacionadas devem conter uma propriedade &quot;<!-- -->_<!-- -->_<!-- -->KEY&quot; (preenchido com o valor da chave primária da entidade relacionada) ou o atributo de chave primária da própria entidade relacionada. O uso de uma propriedade <!-- -->_<!-- -->_<!-- -->KEY permite a independência do nome do atributo da chave primària.</p><blockquote><p>O conteúdo das entidades relacionadas não pode ser criado / atualizado através deste mecanismo.</p></blockquote><p><strong>Stamp</strong></p><p>Se um atributo <!-- -->_<!-- -->_<!-- -->STAMP for dado, se realiza uma comprovação com o selo no armazén de dados e se pode devolver um erro (&quot;O selo dado não coincide com o atual para o registro# XX da tabela XXXX&quot;). Para saber mais, consulte <a href="/docs/pt/19/ORDA/entities#entity-locking">Entity locking</a>.</p><p><strong>settings</strong></p><p>No  parâmetro <em>querySettings</em> é possível passar um objeto que conteha opções adicionais. As propriedades abaixo são compatíveis:</p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>Etiqueta para o contexto de otimização aplicado a seleção de entidades. Este contexto será utilizado pelo código que maneja a seleção de entidades para que possa se beneficiar da otimização. Essa funcionalidade foi criada para processamento cliente/servidor de ORDA <a href="/docs/pt/19/ORDA/entities#client-server-optimization"></a>.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-1">Exemplo 1<a class="hash-link" href="#exemplo-1-1" title="Direct link to heading">​</a></h4><p>Queremos atualizar uma entidade existente. A propriedade <!-- -->_<!-- -->_<!-- -->NEW não for dada, a chave primária do empregado é dada e existe:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.ID:=668 //Existing PK in Employee table</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.firstName:=&quot;Arthur&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.employer:=New object(&quot;ID&quot;;121) //Existing PK in the related dataClass Company</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // For this employee, we can change the Company by using another existing PK in the related dataClass Company</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-1">Exemplo 2<a class="hash-link" href="#exemplo-2-1" title="Direct link to heading">​</a></h4><p>Queremos atualizar uma entidade existente. A propriedade <!-- -->_<!-- -->_<!-- -->NEW não é dada, a chave primária do empregado com o atributo <!-- -->_<!-- -->_<!-- -->KEY e existir:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.__KEY:=1720 //Existing PK in Employee table</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.firstName:=&quot;John&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.lastName:=&quot;Boorman&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.employer:=New object(&quot;ID&quot;;121) //Existing PK in the related dataClass Company</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // For this employee, we can change the Company by using another existing PK in the related dataClass Company</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3-1">Exemplo 3<a class="hash-link" href="#exemplo-3-1" title="Direct link to heading">​</a></h4><p>Se quiser simplesmente criar uma nova entidade da coleção::</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.firstName:=&quot;Victor&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.lastName:=&quot;Hugo&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-4">Exemplo 4<a class="hash-link" href="#exemplo-4" title="Direct link to heading">​</a></h4><p>Queremos criar uma entidade. A propriedade <!-- -->_<!-- -->_<!-- -->NEW é True, a chave primária de empregado não é dada:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.firstName:=&quot;Mary&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.employer:=New object(&quot;__KEY&quot;;121) //Existing PK in the related dataClass Company</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.__NEW:=True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-5">Exemplo 5<a class="hash-link" href="#exemplo-5" title="Direct link to heading">​</a></h4><p>Queremos criar uma entidade. Se a propriedade <!-- -->_<!-- -->_<!-- -->NEW é omitida, a chave primária do empregado é dada e não existir:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.ID:=10000 //Unexisting primary key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.firstName:=&quot;Françoise&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.lastName:=&quot;Sagan&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-6">Exemplo 6<a class="hash-link" href="#exemplo-6" title="Direct link to heading">​</a></h4><p>Neste exemplo, a primeira entidade se criará e salvará mas a segunda falhará já que ambas utilizam a mesma chave primaria:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $emp; $emp2 : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.ID:=10001 // Unexisting primary key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.firstName:=&quot;Simone&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp.__NEW:=True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp2:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp2.ID:=10001 // Same primary key, already existing</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp2.firstName:=&quot;Marc&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp2.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $emp2.__NEW:=True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $empsCollection.push($emp2)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //first entity is created</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //duplicated key error for the second entity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também">Veja também<a class="hash-link" href="#veja-também" title="Direct link to heading">​</a></h4><p><a href="/docs/pt/19/API/EntitySelectionClass#tocollection"><strong>.toCollection()</strong></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="get">.get()<a class="hash-link" href="#get" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D. Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>primaryKey</td><td>Integer OR Text</td><td align="center">-&gt;</td><td>Valor da chave primária da entidade a recuperar</td></tr><tr><td>settings</td><td>Objeto</td><td align="center">-&gt;</td><td>Build option: context</td></tr><tr><td>Resultados</td><td>4D. Entity</td><td align="center">&lt;-</td><td>Entidade que coincide com a chave primária designada</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-3">Descrição<a class="hash-link" href="#descrição-3" title="Direct link to heading">​</a></h4><p>A função <code>.get()</code> queries the dataclass to retrieve the entity matching the <em>primaryKey</em> parameter.</p><p>Em <em>primaryKey</em>, passe o valor da chave primária da entidade a recuperar Em <em>primaryKey</em>, passe o valor da chave primária da entidade a recuperar O tipo valor deve coresponder com o tipo de chave primária estabelecido na datastore (Inteiro ou texto). Também pode se assegurar que o valor de chave primária seja sempre retornado como Texto ao usar a função <a href="/docs/pt/19/API/EntityClass#getkey"><code>.getKey()</code></a> com o parâmetro<code>dk key as string</code>.</p><p>Se nenhuma entidade for encontrada com  <em>primaryKey</em>, uma entidade<strong>Null</strong> é retornada.</p><p>É aplicado o lazy loading/carregamento diferido, ou seja os dados relacionados são carregados do disco só quando pedidos.</p><p><strong>settings</strong></p><p>No  parâmetro <em>querySettings</em> é possível passar um objeto que conteha opções adicionais. As propriedades abaixo são compatíveis:</p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>Etiqueta para o contexto de otimização automático aplicados à entidade. Esse contexto será usado pelo código subsequente que carrega a entidade para que se possa beneficiar da otimização. Essa funcionalidade foi criada para processamento cliente/servidor de ORDA <a href="/docs/pt/19/ORDA/entities#client-server-optimization"></a>.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-2">Exemplo 1<a class="hash-link" href="#exemplo-1-2" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entity : cs. EmployeeEntity  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entity2 : cs. InvoiceEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity:=ds. Employee.get(167) // return the entity whose primary key value is 167</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity2:=ds. Invoice.get(&quot;DGGX20030&quot;) // return the entity whose primary key value is &quot;DGGX20030&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-2">Exemplo 2<a class="hash-link" href="#exemplo-2-2" title="Direct link to heading">​</a></h4><p>Este exemplo ilustra o uso da propriedade <em>context</em> :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $e1; $e2; $e3; $e4 : cs. EmployeeEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $settings; $settings2 : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $settings:=New object(&quot;context&quot;;&quot;detail&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $settings2:=New object(&quot;context&quot;;&quot;summary&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e1:=ds. Employee.get(1;$settings)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> completeAllData($e1) // In completeAllData method, an optimization is triggered and associated to context &quot;detail&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e2:=ds. Employee.get(2;$settings)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> completeAllData($e2) // In completeAllData method, the optimization associated to context &quot;detail&quot; is applied</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e3:=ds. Employee.get(3;$settings2)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> completeSummary($e3) //In completeSummary method, an optimization is triggered and associated to context &quot;summary&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $e4:=ds. Employee.get(4;$settings2)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> completeSummary($e4) //In completeSummary method, the optimization associated to context &quot;summary&quot; is applied</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getdatastore">.getDataStore()<a class="hash-link" href="#getdatastore" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p>|</p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th align="center"></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>cs. DataStore</td><td align="center">&lt;-</td><td>Datastore da dataclass</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-4">Descrição<a class="hash-link" href="#descrição-4" title="Direct link to heading">​</a></h4><p>The <code>.getDataStore( )</code> function devolve o datastore para a dataclass especificada.</p><p>A datastore pode ser:</p><ul><li>a datastore principal, retornada pelo comando <code>ds</code>.</li><li>uma datastore remota, aberta com o comando <code>Open datastore</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-7">Exemplo<a class="hash-link" href="#exemplo-7" title="Direct link to heading">​</a></h4><p>O método de projeto <strong><em>SearchDuplicate</em></strong> procura por valores duplicados em qualquer dataclass.</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $pet : cs. CatsEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $pet:=ds. Cats.all().first() //get an entity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> SearchDuplicate($pet;&quot;Dogs&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // Pesquisa SearchDuplicate</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // SearchDuplicate(entity_to_search;dataclass_name)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> #DECLARE ($pet : Object ; $dataClassName : Text)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $dataStore; $duplicates : Object  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $dataStore:=$pet.getDataClass().getDataStore()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $duplicates:=$dataStore[$dataClassName].query(&quot;name=:1&quot;;$pet.name)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getinfo">.getInfo()<a class="hash-link" href="#getinfo" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R5</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.getInfo()</strong> : Objeto </p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>Objeto</td><td>&lt;-</td><td>Informação da dataclass</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-5">Descrição<a class="hash-link" href="#descrição-5" title="Direct link to heading">​</a></h4><p>The <code>.getInfo( )</code> function devolve um objecto que fornece informação sobre o dataclass. Esta função é útil para configurar o código genérico.</p><p><strong>Objeto devolvido</strong></p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>name</td><td>Text</td><td>Nome da dataclass</td></tr><tr><td>primaryKey</td><td>Text</td><td>Nome da chave primária da classe de dados</td></tr><tr><td>tableNumber</td><td>Integer</td><td>Número daa tabela 4D interna</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-3">Exemplo 1<a class="hash-link" href="#exemplo-1-3" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> #DECLARE ($entity : Object)  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> computeEmployeeNumber($entity) //faz uma ação na entidade</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $status:=$entity.save()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> if($status.success)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ALERT(&quot;Record updated in table &quot;+$entity.getDataClass().getInfo().name)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-3">Exemplo 2<a class="hash-link" href="#exemplo-2-3" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $settings : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es : cs. ClientsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $settings:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $settings.parameters:=New object(&quot;receivedIds&quot;;getIds())</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $settings.attributes:=New object(&quot;pk&quot;;ds. Clients.getInfo().primaryKey)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Clients.query(&quot;:pk in :receivedIds&quot;;$settings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3-2">Exemplo 3<a class="hash-link" href="#exemplo-3-2" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $pk : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $dataClassAttribute : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $pk:=ds. Employee.getInfo().primaryKey</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $dataClassAttribute:=ds. Employee[$pk] // If needed the attribute matching the primary key is accessible</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new">.new()<a class="hash-link" href="#new" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.new()</strong> : 4D. Entity </p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>Resultados</td><td>4D. Entity</td><td>&lt;-</td><td>Nova entidade que coincide com a classe de dados</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-6">Descrição<a class="hash-link" href="#descrição-6" title="Direct link to heading">​</a></h4><p>The <code>.new( )</code> function creates in memory and returns a new blank entity related to the Dataclass.</p><p>O objeto entidade se cria em memória e não se guarda no banco de dados até que se chama a função <a href="/docs/pt/19/API/EntityClass#save"><code>.save( )</code></a>. Se a entidade for apagada antes de ser salva, não se pode recuperar.</p><p><strong>4D Server</strong>: eám cliente-servidor, se a chave primaria da tabela correspondente se autoincrementa, se calculará quando a entidade se guarde no servidor.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-8">Exemplo<a class="hash-link" href="#exemplo-8" title="Direct link to heading">​</a></h4><p>Este exemplo cria uma nova entidade na classe de dados &quot;Log&quot; e registra a informação no atributo &quot;info&quot;:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $entity : cs. LogEntity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity:=ds. Log.new() //create a reference</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity.info:=&quot;New entry&quot; //store some information</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $entity.save() //save the entity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="newselection">.newSelection()<a class="hash-link" href="#newselection" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D. EntitySelection </p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>keepOrder</td><td>Integer</td><td>-&gt;</td><td><code>dk keep ordered</code>: cria uma seleção de entidades ordenada,<br><code>dk non ordered</code>: cria uma seleção de entidade não ordenada (padrão se omitido)</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td>&lt;-</td><td>Nova seleção de entidades em branco relacionadas com a classe de dados</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-7">Descrição<a class="hash-link" href="#descrição-7" title="Direct link to heading">​</a></h4><p>The <code>.newSelection( )</code> function creates a new, blank, non-shareable entity selection, related to the dataclass, in memory.</p><blockquote><p>Para mais informação sobre as seleçõees de entidades não compartilháveis, consulte <a href="/docs/pt/19/ORDA/entities#shareable-or-non-shareable-entity-selections">esta seção</a>.</p></blockquote><p>Se quiser uma seleção de entidades ordenada, passe o seletor <code>dk keep ordered</code> no parâmetro <em>keepOrder</em>. Como padrão se omitir este parâmetro ou se passar o seletor <code>dk non ordered</code>, o método cria uma seleção de entidades não ordenada. As seleções de entidades desordenadas são mais rápidas mas não se pode confiar nas posições das entidades. Para mas informação, consulte <a href="/docs/pt/19/ORDA/dsmapping#ordered-or-unordered-entity-selection">Seleções de entidades ordenadas e desordenadas</a>.</p><p>Quando for criada, a seleção de entidades não contém nenhuma entidade (<code>mySelection.length</code> devolve 0). Este método lhe permite criar seleções de entidades gradualmente fazendo chamadas posteriores à função <a href="/docs/pt/19/API/EntitySelectionClass#add"><code>add()</code></a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-9">Exemplo<a class="hash-link" href="#exemplo-9" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $USelection; $OSelection : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $USelection:=ds. Employee.newSelection() //create an unordered empty entity selection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $OSelection:=ds. Employee.newSelection(dk keep ordered) //create an ordered empty entity selection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query">.query()<a class="hash-link" href="#query" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Histórico</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Versão</th><th>Mudanças</th></tr></thead><tbody><tr><td>v17 R6</td><td>Soporte dos Parâmetros Formula</td></tr><tr><td>v17 R5</td><td>Suporte dos marcadores para os valores</td></tr><tr><td>v17</td><td>Adicionado</td></tr></tbody></table></div></div></details><p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection </p><table><thead><tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr></thead><tbody><tr><td>queryString</td><td>Text</td><td>-&gt;</td><td>Criterios de pesquisa como string</td></tr><tr><td>formula</td><td>Objeto</td><td>-&gt;</td><td>Criterios de pesquisa como objeto fórmula</td></tr><tr><td>value</td><td>any</td><td>-&gt;</td><td>Valores a usar para placeholders indexados</td></tr><tr><td>querySettings</td><td>Objeto</td><td>-&gt;</td><td>Opções de pesquisa: parâmetros, atributos, args, allowFormulas, contexto, queryPath,queryPlan</td></tr><tr><td>Resultados</td><td>4D. EntitySelection</td><td>&lt;-</td><td>Nova seleção de entidade feita de entidades de dataclass realizano o critério de pesquia especificado em <em>queryString</em> or <em>formula</em></td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="descrição-8">Descrição<a class="hash-link" href="#descrição-8" title="Direct link to heading">​</a></h4><p>The <code>.query( )</code> function searches for entities that meet the search criteria specified in <em>queryString</em> or <em>formula</em> and (optionally) <em>value</em>(s), for all the entities in the dataclass, and returns a new object of type <code>EntitySelection</code> containing all the entities that are found. Se aplica carregamento diferido/lazy loading.</p><p>Se não houver entidades correspondentes encontradas, uma <code>EntitySelection</code> vazia é retornada.</p><p><strong>parâmetro queryString</strong></p><p>O parâmetro <em>queryString</em> usa a sintaxe abaixo:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">attributePath|formula comparator value   </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> {logicalOperator attributePath|formula comparator value}   </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> {order by attributePath {desc | asc}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>onde:</p><ul><li><p><strong>Named placeholders for attribute paths</strong> used in the <em>queryString</em> or <em>formula</em>. Attributes are expressed as property / value pairs, where property is the placeholder name inserted for an attribute path in the <em>queryString</em> or <em>formula</em> (&quot;:placeholder&quot;), and value can be a string or a collection of strings. Each value is a path that can designate either a scalar or a related attribute of the dataclass or a property in an object field of the dataclass Também pode usar um <strong>placeholder</strong> (ver abaixo).</p><blockquote><p><em>Não pode usar diretamente atributos cujo nome contenha caracteres especiais como &quot;.&quot;, &quot;<!-- -->[<!-- --> ]&quot;, or &quot;=&quot;, &quot;&gt;&quot;, &quot;#&quot;..., porque serão avaliados incorretamente na string da query. Se precisar de uma query com esses atributos, deve considerar o uso de placeholders que permitem uma gama estendida de caracteres em rotas de atributo (ver</em> <strong>Using placeholders</strong> <em>below).</em></p></blockquote></li><li><p><strong>formula</strong>: uma fórmula válida passada como <code>Text</code> ou <code>Object</code>. A fórmula será avaliada para cada entidade processada e deve retornar um valor booleano. Dentro da fórmula, a entidade está disponível através do objeto <code>This</code>.</p><ul><li><p><strong>Text</strong>: A string de fórmula deve ser precidida da declaração <code>eval( )</code>,para que o parser da pesquisa avalie a expressão corretamente. Por exemplo: <em>&quot;eval(length(This.lastname) &gt;=30)&quot;</em></p></li><li><p><strong>Object</strong>: o objeto <a href="/docs/pt/19/API/FunctionClass">formula</a> é passado como um <strong>placeholder</strong> (ver abaixo). A fórmula deve ter sido criada usando  <a href="/docs/pt/19/API/FunctionClass#formula"><code>Formula</code></a> ou o comando<a href="/docs/pt/19/API/FunctionClass#formula-from-string"><code>Formula from string</code></a> command.</p><blockquote><ul><li><blockquote><ul><li>Keep in mind that 4D formulas only support <code>&amp;</code> and <code>|</code> symbols as logical operators.</li></ul></blockquote></li><li>Se a fórmula não for o único critério de pesquisa, o otimizador de motor debusca poderia processar outros critérios previamente (por exemplo atributos indexados) e assim, a fórmula poderia ser avaliada apenas para um subconjunto de entidades.</li></ul></blockquote><p> Fórmulas nas consultas podem receber parâmetros através de $1. Este ponto é detalhado no parágrafo <strong>Parâmetro fórmula</strong> mais abaixo.</p><blockquote><ul><li>Também pode passar diretamente um objeto parâmetro <code>formula</code> ao invés do parâmetro <code>queryString</code> (recomendado quando as fórmulas sejam mais complexas). Ver o parágrafo <strong>Parâmetro fórmula</strong> mais abaixo.</li><li>Por razões de segurança, as chamadas a fórmulas dentro dos métodos <code>query()</code> podem ser desativadas. Veja a descrição do parâmetro <code>querySettings</code>.</li></ul></blockquote></li></ul></li><li><p><strong>comparator</strong>: symbol que compara <em>attributePath</em> e <em>valor</em>. Os simbolos abaixo são compatíveis:</p><table><thead><tr><th>Comparação</th><th>Símbolos</th><th>Comentário</th></tr></thead><tbody><tr><td>Igual a</td><td>=, ==</td><td>Retorna os dados coincidentes, admite o coringa (@), não diferencia entre maiúsculas e minúsculas nem diacríticas.</td></tr><tr><td></td><td>===, IS</td><td>Retorna os dados coincidentes, considera @ como caractere padrão, não diferencia entre maiúsculas e minúsculas nem diacríticas</td></tr><tr><td>Diferente de</td><td>#, !=</td><td>Suporta o coringa (@)</td></tr><tr><td></td><td>!==, IS NOT</td><td>Considera  @ como um caractere normal</td></tr><tr><td>Menor que</td><td>&lt;</td><td></td></tr><tr><td>Maior que</td><td>&gt;</td><td></td></tr><tr><td>Menor que ou igual a</td><td>&lt;=</td><td></td></tr><tr><td>Maior ou igual a</td><td>&gt;=</td><td></td></tr><tr><td>Incluído em</td><td>IN</td><td>Retorna dados iguais a ao menos um dos valores de uma coleção ou de um conjunto de valores, admite o coringa (@)</td></tr><tr><td>Não se aplica à condição de uma sentença</td><td>NOT</td><td>Parentesis são obrigatórios quando usar NOT antes de uma instrução que contenha vários operadores</td></tr><tr><td>Contém palavra chave</td><td>%</td><td>As palavras chaves podem ser usadas em atributos de string ou imagem</td></tr></tbody></table></li><li><p><strong>value</strong>: o valor a comparar ao valor atual da propriedade de cada entidade na seleção de entidade ou elemento na coleção. Pode ser um <strong>marcador</strong> (ver <strong>Uso de marcadores</strong> mais adiante) ou qualquer expressão que coincida com a propriedad de tipo de dados. Quando usar um valor constante, as regras abaixo devem ser respeitadas:</p><ul><li>A constante de tipo <strong>texto</strong> pode ser passada com ou sem aspas simples (ver <strong>Uso de aspas</strong> mais abaixo). Para pesquisar uma stirng dentro de uma string (uma pesquisa &quot;contém&quot;) use o símbolo coringa (@) em valor para isolar a string a ser pesquisada como mostrado neste exemplo: &quot;@Smith@&quot;. As palavras chaves abaixo são proibidas para constantes de texto: true, false.</li><li>Valores constantes de tipo <strong>booleano</strong> : <strong>true</strong> ou <strong>false</strong> (diferencia maiuscula de minúscula).</li><li>Valores constantes de tipo <strong>numérico</strong>: os decimais se separam com um &#x27;.&#x27; (ponto). constantes de tipo de data: formato &quot;YYYY-MM-DD&quot;</li><li><strong>null</strong> constante: usando a palavra chave &quot;null&quot; encontra as propriedades <strong>null</strong> e <strong>undefined</strong>.</li><li>no caso de uma pesquisa com um comparador IN, o valor deve uma coleção, ou valores que coincidam com o tipo da rota do atributo entre <!-- -->[<!-- --> ] separados por vírgulas (para as strings, os caracteres &quot; devem escapar-se com &quot;\&quot;).</li></ul></li><li><p><strong>logicalOperator</strong>: utilizado para unir condições múltiplas na pesquisa (opcional). Pode usaar um dos operadores lógicos abaixo (ou o nome ou o símbolo podem ser usados):</p><table><thead><tr><th>Conjunção</th><th>Símbolos</th></tr></thead><tbody><tr><td>AND</td><td>&amp;, &amp;&amp;, and</td></tr><tr><td>OU</td><td>|<!-- -->,<!-- -->|<!-- -->|<!-- -->, or</td></tr></tbody></table></li><li><p><strong>order by attributePath</strong>: pode incluir uma declaração order by <em>attributePath</em> na pesquisa para que os dados resultantes sejam ordenados de acordo com esta declaração. Pode utilizar várias instruções de ordenação, separadas por vírgulas (por exemplo, ordenação por <em>attributePath1</em> desc, <em>attributePath2</em> asc). Como padrão, a ordem é ascendente. Passe &#x27;desc&#x27;&#x27; para definir uma ordem descendente e &#x27;asc&#x27; para definir uma ordem ascendente.</p><blockquote><blockquote><p>*If you use this statement, the returned entity selection is ordered (for more information, please refer to <a href="/docs/pt/19/ORDA/dsmapping#ordered-or-unordered-entity-selection">Ordered vs Unordered entity selections</a>).</p></blockquote></blockquote></li></ul><p><strong>Usar aspas</strong></p><p>Quando usar aspas com pesquisas, deve usar aspas simples &#x27;  &#x27;  dentro das pesquisas e aspas duplas &quot;   &quot;  para cercar a consulta inteira, senão um erro é retornado. Por exemplo:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;employee.name = &#x27;smith&#x27; AND employee.firstname = &#x27;john&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Aspas siples (&#x27;) não são permitidas nos valores pesquisados, já que quebrariam a string de pesquisa. Por exemplo, &quot;comp.name = &#x27;John&#x27;s pizza&#x27; &quot; gerará um erro. Se precisar pesquisar valores com aspas simples, pode considerar o uso de placeholders (ver abaixo).</p></blockquote><p><strong>Usando parêntesis</strong></p><p>Pode usar parêntesis na pesquisa para dar prioridade ao cálculo Por exemplo, pode organizar uma pesquisa da seguinte maneira: Por exemplo, pode organizar uma pesquisa da seguinte maneira:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;(employee.age &gt;= 30 OR employee.age &lt;= 65) AND (employee.salary &lt;= 10000 OR employee.status = &#x27;Manager&#x27;)&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Uso de placeholders</strong></p><p>4D lhe permite utilizar placeholders, marcadores de posição, para os argumentos <em>attributePath</em>, <em>formula</em> e <em>value</em> dentro do parâmetro <em>queryString</em>. Um placeholder é um parâmetro que é inserido em strings de pesquisa e que pode ser substituído por outro valor quando a string for realizada. O valor dos placeholders é avaliado uma vez ao inicio da pesquisa - não é avaliado para cada elemento.</p><p>Dois tipos de marcadores podem ser usados: <strong>placeholders indexados </strong> e <strong>placeholders nomeados</strong>:</p><table><thead><tr><th>-</th><th>Marcadores de posição indexados</th><th>Placeholders nomeados</th></tr></thead><tbody><tr><td>Definição</td><td>Os parâmetros são inseridos como :paramIndex (por exemplo :1, :2...) em queryString e seus valores correspondentes são fornecidos pela sequência de parâmetros value. Pode usara até 128 parâmetros de valor</td><td>Os parâmetros são inseridos como: paramName (por exemplo :myparam) e seus valores se proporcionam nos atributos ou objetos de parâmetros no parámetro querySettings</td></tr><tr><td>Exemplo</td><td>$r:=class.query(&quot;:1=:2&quot;;&quot;city&quot;;&quot;Chicago&quot;)</td><td>$o.attributes:=New object(&quot;att&quot;;&quot;city&quot;)<br> $o.parameters:=New object(&quot;name&quot;;&quot;Chicago&quot;)<br> $r:=class.query(&quot;:att=:name&quot;;$o)</td></tr></tbody></table><p>Pode misturar os tipos de argumentos em <em>queryString</em>. Um <em>queryString</em> pode conter, para os parâmetros <em>attributePath</em>, <em>formula</em> e <em>value</em> :</p><ul><li>valores diretos (sem marcadores),</li><li>marcadores indexados ou com nome.</li></ul><p><strong>É recomendado usar marcadores de posição ou placeholders nas consultas</strong> pelas razões abaixo:</p><ol><li><p>Evita a inserção de código malicioso: se user diretamente variáveis preenchidas com uma string de pesquisa, um usuário poderia modificar as condições de pesquisa entrando argumentos adicionais. Por exemplo, imagine uma string de pesquisa como:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $vquery:=&quot;status = &#x27;public&#x27; &amp; name = &quot;+myname //o usuário introduz seu nome</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $result:=$col.query($vquery)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Esta pesquisa parece segura já que se filtram os dados não públicos. Entretanto, se o usuário introduzr na área <em>myname</em> algo como <em>&quot;smith OR status=&#x27;private&#x27;</em>, a string de pesquisa se modificaría na etapa da interpretação e poderia devolver dados privados.</p><p>Quando usar marcadores de posição, não é possível anular as condições de segurança:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $result:=$col.query(&quot;status=&#x27;public&#x27; &amp; name=:1&quot;;myname)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Neste caso, se o usuário introduz <em>smith OR status=&#x27;private&#x27;</em> na área <em>myname</em>, não se interpretará na string de pesquisa, só será passada como um valor. Procurando por  &quot;smith OR status = &#x27;private&#x27; vai falhar</p></li><li><p>Evita ter que se preocupar por questões de formato ou caracteres, especialmente quando se manejam os parâmetros <em>attributePath</em> o <em>value</em> que podem conter não alfanuméricos como &quot;.&quot;, &quot;[&#x27;...</p></li><li><p>Permite o uso de variáveis ou expressões nos argumentos de pesquisa. Exemplos:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $result:=$col.query(&quot;address.city = :1 &amp; name =:2&quot;;$city;$myVar+&quot;@&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$result2:=$col.query(&quot;company.name = :1&quot;;&quot;John&#x27;s Pizzas&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><p><strong>Pesquisa de valores null</strong></p><p>Quando pesquisar por valores null não pode usar a sintaxe de placeholder porque o motor de pesquisa vai consider null como um valor de comparação inesperado. Por exemplo se executar esta pesquisa:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$vSingles:=ds. Person.query(&quot;spouse = :1&quot;;Null) // will NOT work</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Você não vai conseguir o resultado esperado porque o valor null será avaliado por 4D como um erro resultante da avaliação de parâmetro (por exemplo, um atributo de outra pesquisa) Para este tipo de pesquisa, deve usar a sintaxe de pesquisa direta: Para este tipo de pesquisa, deve usar a sintaxe de pesquisa direta:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $vSingles:=ds. Person.query(&quot;spouse = null&quot;) //correct syntax</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Linkar os argumentos de pesquisa com os atributos de coleção</strong></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>This feature is only available in queries on dataclasses and <a href="/docs/pt/19/API/EntitySelectionClass#query">entity selections</a>. It cannot be used in queries on <a href="/docs/pt/19/API/CollectionClass#query">collections</a>.</p></div></div><p>When searching within dataclass object attributes containing collections using multiple query arguments joined by the AND operator, you may want to make sure that only entities containing elements that match all arguments are returned, and not entities where arguments can be found in different elements. Para fazer isso, é necessário vincular os argumentos de pesquisa para elementos de coleção, para que apenas elementos únicos contendo argumentos linkados são encontrados.</p><p>Por exemplo, com as duas entidades abaixo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Entity 1:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds. People.name: &quot;martin&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds. People.places:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    { &quot;locations&quot; : [ {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;kind&quot;:&quot;home&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;city&quot;:&quot;paris&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            } ] } Entity 2:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds. People.name: &quot;smith&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds. People.places:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    { &quot;locations&quot; : [ {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;kind&quot;:&quot;home&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;city&quot;:&quot;lyon&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            } , {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;kind&quot;:&quot;office&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;city&quot;:&quot;paris&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            } ] }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Se quiser encontrar pessoas com um tipo de local &quot;home&quot; na cidade &quot;paris&quot;. Se escrever</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds. People.query(&quot;places.locations[].kind= :1 and places.locations[].city= :2&quot;;&quot;home&quot;;&quot;paris&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>... a pesquisa devolverá &quot;martin&quot; <strong>e</strong> &quot;smith&quot; porque &quot;smith&quot; tem um elemento &quot;locations&quot; cujo &quot;tipo&quot; é &quot;home&quot; e um elemento &quot;locations&quot; cuja &quot;cidade&quot; é &quot;paris&quot;, mesmo que sejam elementos diferentes.</p><p>Se quiser obter apenas entidades onde os argumentos correspondentes estão no mesmo elemento coleção, precisa  <strong>linkar os argumentos</strong>. Para linkar argumentos de pesquisa:</p><ul><li>Adicionar uma letra entre os <!-- -->[<!-- -->] na primeira rota a linkar e repita a mesma letra em todos os argumentos linkados. Por exemplo: <code>locations[a].city and locations[a].kind</code>. Pode usar qualquer letra do alfabeto latino (não diferencia maiúsculas e minúsculas).</li><li>Para adicionar critérios linkados na mesma pesquisa, use outra letra. Pode criar até 26 combinações de critérios em uma única pesquisa.</li></ul><p>Com as entidades acima, se escreve:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds. People.query(&quot;places.locations[a].kind= :1 and places.locations[a].city= :2&quot;;&quot;home&quot;;&quot;paris&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>... pesquisa só devolverá &quot;martin&quot; porque tem um elemento &quot;locations&quot; cujo &quot;kind&quot; é &quot;home&quot; e cujo &quot;city&quot; for &quot;paris&quot;. A pesquisa não devolverá &#x27;smith&#x27; porque os valores &#x27;home&#x27; e &#x27;paris&#x27; não estão no mesmo elemento de coleção.</p><p><strong>parâmetro de fórmula</strong></p><p>Como alternativa à inserção de fórmulas dentro do parâmetro <em>queryString</em> (ver acima), pode passar diretamente um objeto fórmula como critério de pesquisa booleano. A utilizaçã de um objeto fórmula para as pesquisas é <strong>recomendada</strong> já que se beneficia da tokenização, e o código é mais fácil de pesquisar/ler.</p><p>A fórmula deve ter sido criada com o comando <code>Formula</code> ou <code>Formula from string</code>. Nesse modo:</p><ul><li><em>fórmula</em> se avalia para cada entidade e deve devolver true ou false. Durante a execução da pesquisa, se o resultado da fórmula não for booleano, é considerado como False.</li><li>dentro da <em>fórmula</em>, a entidade está disponível através do objeto <code>This</code>.</li><li>Se o objeto <code>Formula</code> for <strong>null</strong>, o errro 1626 (&quot;Expecting a text or formula&quot;) é gerado, então pode interceptar a chamada com o método instalado <code>ON ERR CALL</code>.<blockquote><blockquote><p>For security reasons, formula calls within <code>query(</code>) member methods can be disallowed. Veja a descrição do parâmetro <em>querySettings</em>.</p></blockquote></blockquote></li></ul><p><strong>Passar parâmetros a fórmulas</strong></p><p>Todo parâmetro <em>formula</em> chamado pela função <code>query()</code> pode receber parâmetros:</p><ul><li>Parâmeters devem ser passados através da propriedade  <strong>args</strong>  (objeto) do parâmetro <em>querySettings</em>.</li><li>A fórmula recebe este objeto <strong>args</strong> como um parâmetro <strong>$1</strong>.</li></ul><p>Este pequeno código mostra os principios de como são passados os parâmetros aos métodos:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $settings:=New object(&quot;args&quot;;New object(&quot;exclude&quot;;&quot;-&quot;)) //args object to pass parameters</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Students.query(&quot;eval(checkName($1.exclude))&quot;;$settings) //args is received in $1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>No exemplo 3 são oferecidos mais exemplos.</p><p><strong>4D Server</strong>: em cliente/servidor, as fórmulas são executadas no servidor. Neste contexto, só se envia às fórmulas o objeto <code>querySettings.args</code>.</p><p><strong>parâmetro querySettings</strong></p><p>No parâmetro opcional<em>settings</em> pode passar um objeto contendo as opções abaixo. As propriedades abaixo são compatíveis:</p><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>parameters</td><td>Objeto</td><td><strong>Marcadores nomeados para os valores</strong> utilizados em <em>queryString</em> ou <em>fórmula</em>. Os valores se expressam como pares propriedade / valor, onde propriedade é o nome do marcador de posição inserido para um valor em <em>queryString</em> ou <em>formula</em> (&quot;:placeholder&quot;) e valor é o valor a comparar. Pode combinar marcadores de posição indexados (valores passados diretamente em parâmetros de valor) e valores de marcadores de posição com nome na mesma pesquisa.</td></tr><tr><td>attributes</td><td>Objeto</td><td><strong>attributePath</strong>: path of attribute on which you want to execute the query. Os atributos se expressam como pares propriedade/ valor, onde propriedade é o nome do marcador de posição inserido para uma rota de atributo em <em>queryString</em> ou <em>formula</em> (&quot;:placeholder&quot;) e valor pode ser uma string ou uma coleção de strings. Cada valor e uma rota que pode designar um escalar ou um atributo relacionado da dataclass ou uma propriedade num campo de objeto da dataclass<table><tr><th>Tipo</th><th>Descrição</th></tr><tr><td>String</td><td>attributePath expressado com a notação de pontos, por exemplo: &quot;name&quot; ou &quot;user.address.zipCode&quot;</td></tr><tr><td>Coleção de strings</td><td>Cada string da coleção representa um nível de attributePath, por exemplo: <!-- -->[<!-- -->&quot;name&quot;] ou <!-- -->[<!-- -->&quot;user&quot;,&quot;address&quot;,&quot;zipCode&quot;]. Usar uma coleção permite pesquisar atributos com nomes que não se ajustem à notação de pontos, por exemplo <!-- -->[<!-- -->&quot;4Dv17.1&quot;,&quot;en/fr&quot;]</td></tr></table>Pode combinar marcadores de posição indexados (valores passados diretamente nos parâmetros <em>value</em>) e os valores de marcadores de posição com nome na mesma pesquisa.</td></tr><tr><td>args</td><td>Objeto</td><td>Parámetro(s) a passar para as fórmulas, se houver. O objeto <strong>args</strong> será recebido em $1 dentro das fórmulas e, portanto, seus valores estarão disponíveis através de <em>$1.property</em> (ver exemplo 3).</td></tr><tr><td>allowFormulas</td><td>Booleano</td><td>True para permitir as chamadas de fórmulas na pesquisa (padrão). Passe falso para desautorizar a execução de fórmulas. Se for estabelecido como false y <code>query()</code> receber uma fórmula, se envia um erro (1278 - Fórmula não permitida neste método membro).</td></tr><tr><td>context</td><td>Text</td><td>Etiqueta para o contexto de otimização automático aplicados à seleção de entidade. Este contexto será utilizado pelo código que maneja a seleção de entidades para que possa se beneficiar da otimização. Esta função está projetada para o processamento cliente/servidor; para saber mais, consulte <strong>Otimização cliente/servidor</strong>.</td></tr><tr><td>queryPlan</td><td>Booleano</td><td>Na entity selection resultante, devolve ou não a descrição detalhada da pesquisa logo antes de ser executada, ou seja, a pesquisa planificada. A propriedade devolvida é um objeto que inclui cada pesquisa e subpesquisa prevista (no caso de uma pesquisa complexa). Esta opção é útil durante a fase de desenvolvimento de uma aplicação. Geralmente é usada em conjunto com queryPath. Como padrão é omitido: false. <strong>Nota</strong>: esta propriedade só são compatíveis com as funções<code>entitySelection.query( )</code> e <code>dataClass.query( )</code>.</td></tr><tr><td>queryPath</td><td>Booleano</td><td>Na entity selection resultante, devolve ou não a descrição detalhada da pesquisa tal qual for realizada. A propriedade retornada é um objeto que contém a rota atual usada para a pesquisa (geralmente idêntica àquela do queryPlan, mas deve diferenciar se o motor consegue otimizar a pesquisa), assim como o tempo de processamento e o número de registros encontrado. Esta opção é útil durante a fase de desenvolvimento de uma aplicação. Como padrão é omitido: false. <strong>Nota</strong>: esta propriedade só são compatíveis com as funções<code>entitySelection.query( )</code> e <code>dataClass.query( )</code>.</td></tr></tbody></table><p><strong>Sobre queryPlan e queryPath</strong></p><p>A informação registrada em <code>queryPlan</code>/<code>queryPath</code> inclui o tipo de pesquisa (indexada e sequencial) e cada subconsulta necessária junto com os operadores de conjunção. As rotas de acesso das petições também contém o número de entidades encontradas e o tempo necessário para executar cada critério de pesquisa. As rotas de acesso das petições também contém o número de entidades encontradas e o tempo necessário para executar cada critério de pesquisa. Geralmente a descrição do plano de pesquisa e sua rota são idênticas mas podem ser diferentes porque 4D pode implementar otimizações dinâmicas quando uma pesquisa for executada para melhorar a performance. Por exemplo, o motor 4D pode converter dinamicamente uma consulta indexada em uma consulta sequencial se estimar que seja mais rápido. Esse caso particular pode acontecer quando o número de entidades sendo pesquisada é baixo.</p><p>Por exemplo se executar esta pesquisa:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $sel:=ds. Employee.query(&quot;salary &lt; :1 and employer.name = :2 or employer.revenues &gt; :3&quot;;\  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> 50000;&quot;Lima West Kilo&quot;;10000000;New object(&quot;queryPath&quot;;True;&quot;queryPlan&quot;;True))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>queryPlan:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{Or:[{And:[{item:[index : Employee.salary ] &lt; 50000},  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> {item:Join on Table : Company  :  Employee.employerID = Company.ID,  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> subquery:[{item:[index : Company.name ] = Lima West Kilo}]}]},  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> {item:Join on Table : Company  :  Employee.employerID = Company.ID,  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> subquery:[{item:[index : Company.revenues ] &gt; 10000000}]}]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>queryPath:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{steps:[{description:OR,time:63,recordsfounds:1388132,  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> steps:[{description:AND,time:32,recordsfounds:131,  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> steps:[{description:[index : Employee.salary ] &lt; 50000,time:16,recordsfounds:728260},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:0,recordsfounds:131,  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> steps:[{steps:[{description:[index : Company.name ] = Lima West Kilo,time:0,recordsfounds:1}]}]}]},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:31,recordsfounds:1388132,  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> steps:[{steps:[{description:[index : Company.revenues ] &gt; 10000000,time:0,recordsfounds:933}]}]}]}]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-1-4">Exemplo 1<a class="hash-link" href="#exemplo-1-4" title="Direct link to heading">​</a></h4><p>Esta seção oferece vários exemplos de pesquisas.</p><p>Consultas em uma string:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Customer.query(&quot;firstName = &#x27;S@&#x27;&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com uma instrução NOT:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Employee.query(&quot;not(firstName=Kim)&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisas com datas:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Employee.query(&quot;birthDate &gt; :1&quot;;&quot;1970-01-01&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Employee.query(&quot;birthDate &lt;= :1&quot;;Current date-10950)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com marcadores de posição indexados para os valores:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Customer.query(&quot;(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)&quot;;&quot;D@&quot;;&quot;R@&quot;;&quot;S@&quot;;&quot;K@&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com marcadores de posição indexados para valores em u ma dataclass relacionada:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Employee.query(&quot;lastName = :1 and manager.lastName = :2&quot;;&quot;M@&quot;;&quot;S@&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com marcador de posição indexado que inclui uma instrução de ordem descendente:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Student.query(&quot;nationality = :1 order by campus.name desc, lastname&quot;;&quot;French&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com marcadores de posição com nome para os valores:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $querySettings : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $managedCustomers : cs. CustomerSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$querySettings:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$querySettings.parameters:=New object(&quot;userId&quot;;1234;&quot;extraInfo&quot;;New object(&quot;name&quot;;&quot;Smith&quot;))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$managedCustomers:=ds. Customer.query(&quot;salesperson.userId = :userId and name = :extraInfo.name&quot;;$querySettings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa que usa marcadores de posição nomeados e indexados para valores:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $querySettings : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $managedCustomers : cs. CustomerSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$querySettings.parameters:=New object(&quot;userId&quot;;1234)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$managedCustomers:=ds. Customer.query(&quot;salesperson.userId = :userId and name=:1&quot;;&quot;Smith&quot;;$querySettings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com objetos queryPlan e queryPath:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Employee.query(&quot;(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)&quot;;&quot;D@&quot;;&quot;R@&quot;;&quot;S@&quot;;&quot;K@&quot;;New object(&quot;queryPlan&quot;;True;&quot;queryPath&quot;;True))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //you can then get these properties in the resulting entity selection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $queryPlan; $queryPath : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$queryPlan:=$entitySelection.queryPlan</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$queryPath:=$entitySelection.queryPath</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com uma rota de atributo de tipo Collection:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Employee.query(&quot;extraInfo.hobbies[].name = :1&quot;;&quot;horsebackriding&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com uma rota de atributos de tipo Collection e atributos vinculados:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Employee.query(&quot;extraInfo.hobbies[a].name = :1 and extraInfo.hobbies[a].level=:2&quot;;&quot;horsebackriding&quot;;2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com uma rota de atributos de tipo Collection e múltiplos atributos vinculados:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Employee.query(&quot;extraInfo.hobbies[a].name = :1 and</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> extraInfo.hobbies[a].level = :2 and extraInfo.hobbies[b].name = :3 and</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> extraInfo.hobbies[b].level = :4&quot;;&quot;horsebackriding&quot;;2;&quot;Tennis&quot;;5)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com uma rota de atributo de tipo Objeto</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Employee.query(&quot;extra.eyeColor = :1&quot;;&quot;blue&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com uma instrução IN:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Employee.query(&quot;firstName in :1&quot;;New collection(&quot;Kim&quot;;&quot;Dixie&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com instrução NOT (IN):</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$entitySelection:=ds. Employee.query(&quot;not (firstName in :1)&quot;;New collection(&quot;John&quot;;&quot;Jane&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com marcadores de posição indexados para os atributos:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $es : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$es:=ds. Employee.query(&quot;:1 = 1234 and :2 = &#x27;Smith&#x27;&quot;;&quot;salesperson.userId&quot;;&quot;name&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //salesperson is a related entity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com marcadores de posição indexados para os atributos e marcadores de posição com nome para os valores:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $es : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $querySettings : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$querySettings:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$querySettings.parameters:=New object(&quot;customerName&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$es:=ds. Customer.query(&quot;:1 = 1234 and :2 = :customerName&quot;;&quot;salesperson.userId&quot;;&quot;name&quot;;$querySettings)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //salesperson is a related entity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com marcadores de posição indexados para os atributos e os valores:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var $es : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$es:=ds. Clients.query(&quot;:1 = 1234 and :2 = :3&quot;;&quot;salesperson.userId&quot;;&quot;name&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //salesperson is a related entity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-2-4">Exemplo 2<a class="hash-link" href="#exemplo-2-4" title="Direct link to heading">​</a></h4><p>Esta seção ilustra pesquisas com marcadores de posição com  nomes para os atributos.</p><p>Dada uma dataclass Employee com 2 entidades:</p><p>Entidade 1:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">name: &quot;Marie&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">number: 46</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">softwares:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;Word 10.2&quot;: &quot;Installed&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;Excel 11.3&quot;: &quot;To be upgraded&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;Powerpoint 12.4&quot;: &quot;Not installed&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Entidade 2:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">name: &quot;Sophie&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">number: 47</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">softwares:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;Word 10.2&quot;: &quot;Not installed&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;Excel 11.3&quot;: &quot;To be upgraded&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;Powerpoint 12.4&quot;: &quot;Not installed&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com marcadores de posição com nome para os atributos:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $querySettings : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $querySettings:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $querySettings.attributes:=New object(&quot;attName&quot;;&quot;name&quot;;&quot;attWord&quot;;New collection(&quot;softwares&quot;;&quot;Word 10.2&quot;))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Employee.query(&quot;:attName = &#x27;Marie&#x27; and :attWord = &#x27;Installed&#x27;&quot;;$querySettings)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //$es.length=1 (Employee Marie)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pesquisa com marcadores de posição com nome para os atributos e os valores:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $querySettings : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es : cs. EmployeeSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $name : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $querySettings:=New object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //Named placeholders for values</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //The user is asked for a name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $name:=Request(&quot;Please enter the name to search:&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> If(OK=1)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $querySettings.parameters:=New object(&quot;givenName&quot;;$name)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //Named placeholders for attribute paths</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $querySettings.attributes:=New object(&quot;attName&quot;;&quot;name&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $es:=ds. Employee.query(&quot;:attName= :givenName&quot;;$querySettings)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemplo-3-3">Exemplo 3<a class="hash-link" href="#exemplo-3-3" title="Direct link to heading">​</a></h4><p>Estes exemplos ilustram as distintas formas de utilizar fórmulas com ou sem parâmetros em suas pesquisas.</p><p>A fórmula se da como texto com <code>eval()</code> no parâmetro <em>queryString</em>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Students.query(&quot;eval(length(This.lastname) &gt;=30) and nationality=&#x27;French&#x27;&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A fórmula se dá como um objeto <code>Formula</code> através de um marcador de posição:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $formula : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $formula:=Formula(Length(This.lastname)&gt;=30)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Students.query(&quot;:1 and nationality=&#x27;French&#x27;&quot;;$formula)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Só se da como criterio um objeto <code>Formula</code>:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $formula : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $formula:=Formula(Length(This.lastname)&gt;=30)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Students.query($formula)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Podem ser aplicadas várias fórmulas:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $formula1; $1; $formula2 ;$0 : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $formula1:=$1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $formula2:=Formula(Length(This.firstname)&gt;=30)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $0:=ds. Students.query(&quot;:1 and :2 and nationality=&#x27;French&#x27;&quot;;$formula1;$formula2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Uma fórmula texto em <em>queryString</em> recebe um parámetro:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $settings : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $settings:=New object()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $settings.args:=New object(&quot;filter&quot;;&quot;-&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Students.query(&quot;eval(checkName($1.filter)) and nationality=:1&quot;;&quot;French&quot;;$settings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  //checkName method</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> #DECLARE($exclude : Text) -&gt; $result : Boolean</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $result:=(Position($exclude;This.lastname)=0)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Utilizando o mesmo método <strong><em>checkName</em></strong>, um objeto <code>Formula</code> como marcador de posição recebe um parámetro:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $settings; $formula : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $formula:=Formula(checkName($1.filter))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $settings:=New object()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $settings.args:=New object(&quot;filter&quot;;&quot;-&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Students.query(&quot;:1 and nationality=:2&quot;;$formula;&quot;French&quot;;$settings)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $settings.args.filter:=&quot;*&quot; // change the parameters without updating the $formula object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $es:=ds. Students.query(&quot;:1 and nationality=:2&quot;;$formula;&quot;French&quot;;$settings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Queremos desautorizar as fórmulas, por exemplo, quando el usuario introduz sua consulta:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $settings : Object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var $queryString : Text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> $queryString:=Request(&quot;Enter your query:&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> if(OK=1)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $settings:=New object(&quot;allowFormulas&quot;;False)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $es:=ds. Students.query($queryString;$settings) //An error is raised if $queryString contains a formula</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="veja-também-1">Veja também<a class="hash-link" href="#veja-também-1" title="Direct link to heading">​</a></h4><p><a href="/docs/pt/19/API/EntitySelectionClass#query"><code>.query()</code></a> para seleções de entidades</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pt/19/API/CryptoKeyClass"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">CryptoKey</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pt/19/API/DataClassAttributeClass"><div class="pagination-nav__sublabel">Próximo</div><div class="pagination-nav__label">DataClassAttribute</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#resumo" class="table-of-contents__link toc-highlight">Resumo</a></li><li><a href="#attributename" class="table-of-contents__link toc-highlight">.<em>attributeName</em></a></li><li><a href="#all" class="table-of-contents__link toc-highlight">.all()</a></li><li><a href="#fromcollection" class="table-of-contents__link toc-highlight">.fromCollection()</a></li><li><a href="#get" class="table-of-contents__link toc-highlight">.get()</a></li><li><a href="#getdatastore" class="table-of-contents__link toc-highlight">.getDataStore()</a></li><li><a href="#getinfo" class="table-of-contents__link toc-highlight">.getInfo()</a></li><li><a href="#new" class="table-of-contents__link toc-highlight">.new()</a></li><li><a href="#newselection" class="table-of-contents__link toc-highlight">.newSelection()</a></li><li><a href="#query" class="table-of-contents__link toc-highlight">.query()</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Developer Center</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Where It All Began)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Knowledgebase</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">About 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D around the world<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2022 4D SAS - All rights reserved</div></div></div></footer></div>
<script src="/docs/pt/assets/js/runtime~main.a44fdf8b.js"></script>
<script src="/docs/pt/assets/js/main.42f62292.js"></script>
</body>
</html>