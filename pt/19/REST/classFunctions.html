<!doctype html><html lang=pt dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-19 docs-doc-page docs-doc-id-REST/classFunctions" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Chamada de funções de classe ORDA | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/pt/19/REST/classFunctions><meta data-rh=true property=og:locale content=pt><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true name=docusaurus_locale content=pt><meta data-rh=true name=docsearch:language content=pt><meta data-rh=true name=docusaurus_version content=19><meta data-rh=true name=docusaurus_tag content=docs-default-19><meta data-rh=true name=docsearch:version content=19><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-19><meta data-rh=true property=og:title content="Chamada de funções de classe ORDA | 4D Docs"><meta data-rh=true name=description content="Pode chamar as funções de classe de modelos de dados definidas para o modelo de dados ORDA através dos seus pedidos REST, para poder beneficiar da API da aplicação 4D objetivo."><meta data-rh=true property=og:description content="Pode chamar as funções de classe de modelos de dados definidas para o modelo de dados ORDA através dos seus pedidos REST, para poder beneficiar da API da aplicação 4D objetivo."><link data-rh=true rel=icon href=/docs/pt/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/pt/19/REST/classFunctions><link data-rh=true rel=alternate href=https://developer.4d.com/docs/19/REST/classFunctions hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/19/REST/classFunctions hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/19/REST/classFunctions hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/19/REST/classFunctions hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/19/REST/classFunctions hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/19/REST/classFunctions hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developer.4d.com/docs/pt/19/REST/classFunctions","name":"Chamada de funções de classe ORDA","position":1}]}</script><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/pt/opensearch.xml><script src=https://kit.fontawesome.com/daeacc3fc4.js crossorigin=anonymous></script><link rel=stylesheet href=/docs/pt/assets/css/styles.ae3169d2.css><script src=/docs/pt/assets/js/runtime~main.2b46e151.js defer></script><script src=/docs/pt/assets/js/main.e369ec22.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/docs/pt/img/logohome.png><div role=region aria-label="Saltar para o conteúdo principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Saltar para o conteúdo principal</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar barra de navegação" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/pt/><div class=navbar__logo><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Documentação 4D</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/pt/19/REST/classFunctions>19</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/pt/REST/classFunctions>21 BETA</a><li><a class=dropdown__link href=/docs/pt/20-R10/REST/classFunctions>20 R10</a><li><a class=dropdown__link href=/docs/pt/20/REST/classFunctions>20</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/pt/19/REST/classFunctions>19</a><li><a class=dropdown__link href=/docs/pt/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Português</a><ul class=dropdown__menu><li><a href=/docs/19/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/19/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/19/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/19/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/19/REST/classFunctions target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Alternar entre os modos escuro e claro (atualmente system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Pesquisa (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Pesquisa</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Voltar ao topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/pt/><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Documentação 4D</b></a><nav aria-label="Barra lateral de documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/GettingStarted/installation>Começando</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/Project/overview>Gestão de projectos</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/Concepts/about>Conceitos da linguagem 4D</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/ORDA/overview>ORDA</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/API/overview>Referência da API de classe</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/Preferences/overview>Preferências</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/Admin/webAdmin>Administração</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/Users/overview>Direitos de acesso</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/MSC/overview>CSM</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/Backup/overview>Cópia de segurança e restauração</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/WebServer/overview>Servidor Web</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/WebServer/gettingStarted>Desenvolvimento Web</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/docs/pt/19/REST/gettingStarted>Servidor REST</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/docs/pt/19/REST/gettingStarted>Guias</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/19/REST/gettingStarted>Começando</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/19/REST/configuration>Configuração do servidor</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/19/REST/authUsers>Usuários e sessões</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/19/REST/genInfo>Obter informação do servidor</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/19/REST/manData>Manipulação de dados</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/pt/19/REST/classFunctions>Chamada de funções de classe ORDA</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/19/REST/REST_requests>Sobre petições REST</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/pt/19/REST/catalog>API (geral)</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/pt/19/REST/dataClass>API (dataClass)</a></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/Desktop/clientServer>Cliente/Servidor</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/FormEditor/forms>Formulários</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/FormEditor/jsonReference>Propriedades do formulário</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/FormObjects/formObjectsOverview>Objectos formulário</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/FormObjects/propertiesReference>Propriedades dos objectos formulário</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/Events/overview>Eventos formulário</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/Menus/overview>Menus</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/pt/19/Desktop/building>Criar aplicação</a></div></ul></nav><button type=button title="Recolher a barra lateral" aria-label="Recolher a barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Trilha de navegação"><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Página inicial" class=breadcrumbs__link href=/docs/pt/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Servidor REST</span><li class=breadcrumbs__item><span class=breadcrumbs__link>Guias</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Chamada de funções de classe ORDA</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Versão: 19</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">Nesta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Chamada de funções de classe ORDA</h1></header><p>Pode chamar as <a href=/docs/pt/19/ORDA/ordaClasses>funções de classe de modelos de dados</a> definidas para o modelo de dados ORDA através dos seus pedidos REST, para poder beneficiar da API da aplicação 4D objetivo.</p>
<p>As funções são simplesmente chamadas em pedidos POST na interface ORDA apropriada, sem (). Por exemplo, se tiver definido uma função <code>getCity()</code> na dataclass City, pode chamá-la utilizando o seguinte pedido:</p>
<p><code>/rest/City/getCity</code></p>
<p>com dados no corpo do pedido POST: <code>["Aguada"]</code></p>
<p>Na linguagem 4D, esta chamada é equivalente a:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$city:=ds. City.getCity("Aguada")</span><br></span></code></pre></div></div>
<blockquote>
<p>Apenas as funções com a palavra-chave <code>exposed</code> podem ser diretamente chamadas a partir de pedidos REST. Ver a secção <a href=/docs/pt/19/ORDA/ordaClasses#exposed-vs-non-exposed-functions>Funções expostas vs não expostas</a>.</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=chamadas-funções>Chamadas funções<a href=#chamadas-funções class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<p>As funções têm de ser sempre chamadas através de pedidos <strong>POST</strong> REST (um pedido GET dará origem a um erro).</p>
<p>As funções são chamadas no objeto correspondente no datastore do servidor.</p>





































<table><thead><tr><th>Função de classe<th>Sintaxe<tbody><tr><td><a href=/docs/pt/19/ORDA/ordaClasses#datastore-class>datastore class</a><td><code>/rest/$catalog/DataStoreClassFunction</code><tr><td><a href=/docs/pt/19/ORDA/ordaClasses#dataclass-class>dataclass class</a><td><code>/rest/{dataClass}/DataClassClassFunction</code><tr><td><a href=/docs/pt/19/ORDA/ordaClasses#entityselection-class>entitySelection class</a><td><code>/rest/{dataClass}/EntitySelectionClassFunction</code><tr><td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$entityset/entitySetNumber</code><tr><td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$filter</code><tr><td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$orderby</code><tr><td><a href=/docs/pt/19/ORDA/ordaClasses#entity-class>entity class</a><td><code>/rest/\{dataClass\}(key)/EntityClassFunction/</code></table>
<blockquote>
<p><code>/rest/\{dataClass\}/função</code> pode ser usado para chamar um dataclass ou uma função de seleção de entidade (<code>/rest/\{dataClass\}</code> retorna todas as entidades da DataClass como uma seleção de entidade). A função é pesquisada primeiro na classe de seleção de entidades. Se não for encontrado, é procurado na dataclass. Por outras palavras, se uma função com o mesmo nome for definida tanto na classe DataClass como na classe EntitySelection, a função da classe de dataClass nunca será executada.</p>
</blockquote>
<blockquote>
<p>All 4D code called from REST requests <strong>must be thread-safe</strong> if the project runs in compiled mode, because the REST Server always uses preemptive processes in this case (the <a href=/docs/pt/19/WebServer/webServerConfig#use-preemptive-processes><em>Use preemptive process</em> setting value</a> is ignored by the REST Server).</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=parâmetros>Parâmetros<a href=#parâmetros class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<p>É possível enviar parâmetros para funções definidas em classes usuários ORDA. No lado do servidor, serão recebidos nas funções de classe nos parâmetros normais $1, $2, etc.</p>
<p>As regras abaixo são válidas:</p>
<ul>
<li>Os parâmetros devem ser transmitidos no corpo <strong>do pedido POST</strong></li>
<li>Os parâmetros devem ser incluídos numa coleção (formato JSON)</li>
<li>Todos os tipos de dados escalares suportados nas coleções JSON podem ser passados como parâmetros.</li>
<li>A entidade e a seleção de entidades podem ser passadas como parâmetros. O objeto JSON deve conter atributos específicos utilizados pelo servidor REST para atribuir dados aos objetos ORDA correspondentes: __DATACLASS,__ENTITY, __ENTITIES,__DATASET.</li>
</ul>
<p>Veja <a href=#receiving-an-entity-selection-as-parameter>este exemplo</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=parâmetro-de-valor-escalar>Parâmetro de valor escalar<a href=#parâmetro-de-valor-escalar class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>Os parâmetros devem ser simplesmente incluídos numa coleção definida no corpo. Por exemplo, com uma função de classe de dados <code>getCities()</code> que recebe parâmetros de texto: <code>/rest/City/getCities</code></p>
<p><strong>Parâmetros no corpo:</strong> ["Aguada", "Paris"]</p>
<p>Todos os tipos de dados JSON são suportados nos parâmetros, incluindo os ponteiros JSON. As datas podem ser transmitidas como cadeias de caracteres no formato de data ISO 8601 (por exemplo, "2020-08-22T22:00:000Z").</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=parâmetro-da-entidade>Parâmetro da entidade<a href=#parâmetro-da-entidade class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>As entidades passadas nos parâmetros são referenciadas no servidor através da sua chave (<em>, ou seja, a propriedade</em> __KEY). Se o parâmetro chave for omitido num pedido, é carregada uma nova entidade na memória do servidor. Também é possível transmitir valores para quaisquer atributos da entidade. Estes valores serão automaticamente utilizados para a entidade tratada no servidor.</p>
<blockquote>
<p>Se o pedido enviar valores de atributos modificados para uma entidade existente no servidor, a função de modelo de dados ORDA chamada será automaticamente executada no servidor com valores modificados. Esta caraterística permite-lhe, por exemplo, verificar o resultado de uma operação numa entidade, depois de aplicar todas as regras de negócio, a partir da aplicação cliente. O usuário pode então decidir guardar ou não a entidade no servidor.</p>
</blockquote>






























<table><thead><tr><th>Propriedades<th>Tipo<th>Descrição<tbody><tr><td>Atributos da entidade<td>misto<td>Opcional - Valores a modificar<tr><td>__DATACLASS<td>Text<td>Obrigatório - Indica a Dataclass da entidade<tr><td>__ENTITY<td>Parâmetros<td>Obrigatório - Verdadeiro para indicar ao servidor que o parâmetro é uma entidade<tr><td>__KEY<td>misto (do mesmo tipo que a chave primária)<td>Facultativo - Chave primária da entidade</table>
<ul>
<li>Se __KEY não for fornecido, uma nova entidade é criada no servidor com os atributos fornecidos.</li>
<li>Se __KEY for fornecido, a entidade correspondente a __KEY é carregada no servidor com os atributos fornecidos</li>
</ul>
<p>Veja exemplos para criar ou atualizar entidades.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=parâmetro-de-entidade-relacionada>Parâmetro de entidade relacionada<a href=#parâmetro-de-entidade-relacionada class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Propriedades idênticas às de um parâmetro de entidade <a href=#entity-parameter></a>. Além disso, a entidade relacionada deve existir e ser referenciada por __KEY que contém a sua chave primária.</p>
<p>Ver exemplos para <a href=#creating-an-entity-with-a-related-entity>criar</a> ou <a href=#updating-an-entity-with-a-related-entity>atualizar</a> entidades com entidades relacionadas.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=parâmetro-de-seleção-da-entidade>Parâmetro de seleção da entidade<a href=#parâmetro-de-seleção-da-entidade class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>A seleção da entidade deve ter sido previamente definida utilizando <a href=/docs/pt/19/REST/method#methodentityset>$method=entityset</a>.</p>
<blockquote>
<p>Se o pedido enviar uma seleção de entidade modificada para o servidor, a função de modelo de dados ORDA chamada será automaticamente executada no servidor com a seleção de entidade modificada.</p>
</blockquote>

























<table><thead><tr><th>Propriedades<th>Tipo<th>Descrição<tbody><tr><td>Atributos da entidade<td>misto<td>Opcional - Valores a modificar<tr><td>__DATASET<td>Text<td>Obrigatório - entitySetID (UUID) da seleção de entidades<tr><td>__ENTITIES<td>Parâmetros<td>Obrigatório - Verdadeiro para indicar ao servidor que o parâmetro é uma seleção de entidade</table>
<p>Ver exemplo de<a href=#receiving-an-entity-selection-as-parameter>recepção de uma seleção de entidade</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplos-de-petições>Exemplos de petições<a href=#exemplos-de-petições class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<p>Esta base de dados é exposta como um datastore remoto no localhost (porta 8111):</p>
<p><img decoding=async loading=lazy alt=alt-text src=/docs/pt/assets/images/ordastructure-64d64d76ce9764a2365629e381bde282.png width=882 height=599 class=img_ev3q></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utilizar-uma-função-de-classe-do-datastore>Utilizar uma função de classe do datastore<a href=#utilizar-uma-função-de-classe-do-datastore class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>A classe de <code>DataStore</code> US_Cities fornece uma API:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// DataStore class Class extends DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getName()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $0:="US cities and zip codes manager" </span><br></span></code></pre></div></div>
<p>Pode então executar este pedido:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/$catalog/getName</code></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados>Resultados<a href=#resultados class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"result": "US cities and zip codes manager" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utilização-de-uma-função-de-classe-de-dataclass>Utilização de uma função de classe de dataclass<a href=#utilização-de-uma-função-de-classe-de-dataclass class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>A classe Dataclass <code>City</code> fornece uma API que devolve uma entidade cidade a partir de um nome passado como parâmetro:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// City class Class extends DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getCity()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $0 : cs. CityEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $1,$nameParam : text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $nameParam:=$1</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $0:=This.query("name = :1";$nameParam).first()</span><br></span></code></pre></div></div>
<p>Pode então executar este pedido:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City/getCity</code></p>
<p>Corpo do pedido: ["Aguada"]</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados-1>Resultados<a href=#resultados-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>O resultado é uma entidade:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "City",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "City",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "1",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-03-09T08:03:19.923Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "name": "Aguada",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "countyFIPS": 72003,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "county": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__deferred": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "uri": "/rest/County(72003)",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": "72003" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "zips": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__deferred": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "uri": "/rest/City(1)/zips?$expand=zips" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utilização-de-uma-função-de-classe-de-uma-entidade>Utilização de uma função de classe de uma entidade<a href=#utilização-de-uma-função-de-classe-de-uma-entidade class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>A classe de entidade <code>CityEntity</code> fornece uma API:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// CityEntity class Class extends Entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getPopulation()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $0:=This.zips.sum("population")</span><br></span></code></pre></div></div>
<p>Pode então executar este pedido:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City(2)/getPopulation</code></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados-2>Resultados<a href=#resultados-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": 48814</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=usar-uma-função-de-classe-de-uma-seleção-de-entidade>Usar uma função de classe de uma seleção de entidade<a href=#usar-uma-função-de-classe-de-uma-seleção-de-entidade class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>A classe de selection de entidade <code>CitySelection</code> fornece uma API:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// CitySelection class Class extends EntitySelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getPopulation()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $0:=This.zips.sum("population")</span><br></span></code></pre></div></div>
<p>Pode então executar este pedido:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City/getPopulation/?$filter="ID&lt;3"</code></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados-3>Resultados<a href=#resultados-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": 87256</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=usando-uma-função-de-classe-entityselection-e-um-entityset>Usando uma função de classe entitySelection e um entitySet<a href=#usando-uma-função-de-classe-entityselection-e-um-entityset class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>A classe <code>StudentsSelection</code> tem uma função <code>getAgeAverage</code>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// StudentsSelection Class Class extends EntitySelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getAgeAverage</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> C_LONGINT($sum;$0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> C_OBJECT($s)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sum:=0</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> For each ($s;This)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">     $sum:=$sum+$s.age()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End for each </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $0:=$sum/This.length</span><br></span></code></pre></div></div>
<p>Uma vez criado um conjunto de entidades, é possível executar este pedido:</p>
<p><strong>POST</strong> <code>127.0.0.1:8044/rest/Students/getAgeAverage/$entityset/17E83633FFB54ECDBF947E5C620BB532</code></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados-4>Resultados<a href=#resultados-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": 34</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=usando-uma-função-de-classe-de-seleção-de-entidades-e-um-orderby>Usando uma função de classe de seleção de entidades e um orderBy<a href=#usando-uma-função-de-classe-de-seleção-de-entidades-e-um-orderby class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>A classe <code>StudentsSelection</code> tem uma função <code>getLastSummary</code>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// StudentsSelection Class Class extends EntitySelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getLastSummary</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> C_TEXT($0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> C_OBJECT($last)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $last:=This.last()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $0:=$last.firstname+" - "+$last.lastname+" is ... "+String($last.age())</span><br></span></code></pre></div></div>
<p>Pode então executar este pedido:</p>
<p><strong>POST</strong> <code>127.0.0.1:8044/rest/Students/getLastSummary/$entityset/?$filter="lastname=b@"&$orderby="lastname"</code></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados-5>Resultados<a href=#resultados-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": "Wilbert - Bull is ... 21" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utilizar-uma-entidade-a-ser-criada-no-servidor>Utilizar uma entidade a ser criada no servidor<a href=#utilizar-uma-entidade-a-ser-criada-no-servidor class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>A classe de Dataclass <code>Students</code> tem a função <code>pushData()</code> que recebe uma entidade que contém dados do cliente. O método <code>checkData()</code> executa alguns controlos. Se estiverem corretas, a entidade é guardada e devolvida.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// Students Class Class extends DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function pushData</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $1, $entity, $status, $0 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=$1</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=checkData($entity) // $status is an object with a success boolean property</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $0:=$status</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If ($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">     $status:=$entity.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">     If ($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">         $0:=$entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">     End if </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<p>Executa-se este pedido:</p>
<p><strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Corpo do pedido:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"firstname":"Ann",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"lastname":"Brown" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br></span></code></pre></div></div>
<p>Já que não é dada nenhuma <code>__KEY</code> , é carregada uma nova entidade Estudantes no servidor <strong>com os atributos recebidos do cliente</strong>. Como a função <code>pushData()</code> executa uma ação <code>save()</code> , a nova entidade é criada.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados-6>Resultados<a href=#resultados-6 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "55",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-06-16T10:54:41.805Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 55,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstname": "Ann",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastname": "BROWN",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "schoolID": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "school": null</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utilizar-uma-entidade-a-atualizar-no-servidor>Utilizar uma entidade a atualizar no servidor<a href=#utilizar-uma-entidade-a-atualizar-no-servidor class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>O mesmo que acima, mas com um atributo __KEY</p>
<p>Executa-se este pedido:</p>
<p><strong>POST:</strong><code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Corpo do pedido:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"lastname":"Brownie",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__KEY":55</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br></span></code></pre></div></div>
<p>Uma vez que <code>__KEY</code> é fornecido, a entidade Estudantes com a chave primária 55 é carregada <strong>com o valor do sobrenome recebido do cliente</strong>. Como a função executa uma ação <code>save()</code> , a entidade é atualizada.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados-7>Resultados<a href=#resultados-7 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "55",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-06-16T11:10:21.679Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 3,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 55,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstname": "Ann",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastname": "BROWNIE",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "schoolID": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "school": null </span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=criação-de-uma-entidade-com-uma-entidade-relacionada>Criação de uma entidade com uma entidade relacionada<a href=#criação-de-uma-entidade-com-uma-entidade-relacionada class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>Neste exemplo, criamos uma nova entidade Estudantes com a entidade Escolas com a chave primária 2.</p>
<p>Executa-se este pedido:</p>
<p><strong>POST:</strong><code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Corpo do pedido:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"firstname":"John",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"lastname":"Smith",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"school":{"__KEY":2}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados-8>Resultados<a href=#resultados-8 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "56",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-06-16T11:16:47.601Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 56,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstname": "John",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastname": "SMITH",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "schoolID": 2,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       "school": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__deferred": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "uri": "/rest/Schools(2)",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": "2" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=atualização-de-uma-entidade-com-uma-entidade-relacionada>Atualização de uma entidade com uma entidade relacionada<a href=#atualização-de-uma-entidade-com-uma-entidade-relacionada class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>Neste exemplo, associamos uma escola existente a uma entidade Students. A classe <code>StudentEntity</code> tem um API:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// StudentsEntity class Class extends Entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function putToSchool()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $1, $school , $0, $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$1 is a Schools entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $school:=$1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Associar a entidade escola relacionada à entidade Students atual</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> This.school:=$school</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=This.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $0:=$status</span><br></span></code></pre></div></div>
<p>Você executa esta solicitação, chamada em uma entidade Students: <strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students(1)/putToSchool</code> Corpo da solicitação:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Schools",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__KEY":2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados-9>Resultados<a href=#resultados-9 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "success": true</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=receber-uma-seleção-de-entidade-como-parâmetro>Receber uma seleção de entidade como parâmetro<a href=#receber-uma-seleção-de-entidade-como-parâmetro class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>Na classe <code>Students</code> Dataclass, a função <code>setFinalExam()</code> atualiza uma seleção de entidade recebida ($1). Na realidade, atualiza o atributo <em>finalExam</em> com o valor recebido ($2). Devolve as chaves primárias das entidades atualizadas.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// Students class Class extends DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function setFinalExam()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    var $1, $es, $student, $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    var $2, $examResult : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    var $keys, $0 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      //Entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $es:=$1</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $examResult:=$2</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $keys:=New collection()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      //Loop on the entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    For each ($student;$es)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $student.finalExam:=$examResult</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $status:=$student.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        If ($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $keys.push($student.ID)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        End if </span><br></span><span class=token-line style=color:#393A34><span class="token plain">    End for each </span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $0:=$keys</span><br></span></code></pre></div></div>
<p>Um conjunto de entidades é criado primeiro com este pedido:</p>
<p><code>http://127.0.0.1:8044/rest/Students/?$filter="ID&lt;3"&$method=entityset</code></p>
<p>Em seguida, pode executar este pedido:</p>
<p><strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students/setFinalExam</code></p>
<p>Corpo do pedido:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITIES":true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__DATASET":"9B9C053A111E4A288E9C1E48965FE671" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">},</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Passed" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resultados-10>Resultados<a href=#resultados-10 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>As entidades com chaves primárias 1 e 2 foram atualizadas.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": [</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utilizar-uma-seleção-de-entidade-actualizada-no-cliente>Utilizar uma seleção de entidade actualizada no cliente<a href=#utilizar-uma-seleção-de-entidade-actualizada-no-cliente class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>
<p>Utilizando a função <code>getAgeAverage()</code> <a href=#using-an-entityselection-class-function-and-an-entityset>definida acima</a>.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $remoteDS, $newStudent, $students : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $ageAverage : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$remoteDS:=Open datastore(New object("hostname";"127.0.0.1:8044");"students")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $newStudent is a student entity to procees</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$newStudent:=...</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$students:=$remoteDS. Students.query("school.name = :1";"Math school")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// We add an entity to the $students entity selection on the client</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$students.add($newStudent) </span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// We call a function on the StudentsSelection class returning the age average of the students in the entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// The function is executed on the server on the updated $students entity selection which included the student added from the client</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ageAverage:=$students.getAgeAverage()</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2FClassFunctions.md%20(19)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Comentar esta página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Navegação nas páginas dos documentos"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/pt/19/REST/manData><div class=pagination-nav__sublabel>Anterior</div><div class=pagination-nav__label>Manipulação de dados</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/pt/19/REST/REST_requests><div class=pagination-nav__sublabel>Próximo</div><div class=pagination-nav__label>Sobre petições REST</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#chamadas-funções class="table-of-contents__link toc-highlight">Chamadas funções</a><li><a href=#parâmetros class="table-of-contents__link toc-highlight">Parâmetros</a><ul><li><a href=#parâmetro-de-valor-escalar class="table-of-contents__link toc-highlight">Parâmetro de valor escalar</a><li><a href=#parâmetro-da-entidade class="table-of-contents__link toc-highlight">Parâmetro da entidade</a><li><a href=#parâmetro-de-seleção-da-entidade class="table-of-contents__link toc-highlight">Parâmetro de seleção da entidade</a></ul><li><a href=#exemplos-de-petições class="table-of-contents__link toc-highlight">Exemplos de petições</a><ul><li><a href=#utilizar-uma-função-de-classe-do-datastore class="table-of-contents__link toc-highlight">Utilizar uma função de classe do datastore</a><li><a href=#utilização-de-uma-função-de-classe-de-dataclass class="table-of-contents__link toc-highlight">Utilização de uma função de classe de dataclass</a><li><a href=#utilização-de-uma-função-de-classe-de-uma-entidade class="table-of-contents__link toc-highlight">Utilização de uma função de classe de uma entidade</a><li><a href=#usar-uma-função-de-classe-de-uma-seleção-de-entidade class="table-of-contents__link toc-highlight">Usar uma função de classe de uma seleção de entidade</a><li><a href=#usando-uma-função-de-classe-entityselection-e-um-entityset class="table-of-contents__link toc-highlight">Usando uma função de classe entitySelection e um entitySet</a><li><a href=#usando-uma-função-de-classe-de-seleção-de-entidades-e-um-orderby class="table-of-contents__link toc-highlight">Usando uma função de classe de seleção de entidades e um orderBy</a><li><a href=#utilizar-uma-entidade-a-ser-criada-no-servidor class="table-of-contents__link toc-highlight">Utilizar uma entidade a ser criada no servidor</a><li><a href=#utilizar-uma-entidade-a-atualizar-no-servidor class="table-of-contents__link toc-highlight">Utilizar uma entidade a atualizar no servidor</a><li><a href=#criação-de-uma-entidade-com-uma-entidade-relacionada class="table-of-contents__link toc-highlight">Criação de uma entidade com uma entidade relacionada</a><li><a href=#atualização-de-uma-entidade-com-uma-entidade-relacionada class="table-of-contents__link toc-highlight">Atualização de uma entidade com uma entidade relacionada</a><li><a href=#receber-uma-seleção-de-entidade-como-parâmetro class="table-of-contents__link toc-highlight">Receber uma seleção de entidade como parâmetro</a><li><a href=#utilizar-uma-seleção-de-entidade-actualizada-no-cliente class="table-of-contents__link toc-highlight">Utilizar uma seleção de entidade actualizada no cliente</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Comunidade</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Suporte</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Documentation download<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Onde tudo começou)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Base de conhecimento</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Baixares</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Obter suporte</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Empresa</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>Sobre 4D</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contactar-nos</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D no mundo</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2025 4D SAS - Todos os direitos reservados</div></div></div></footer></div>