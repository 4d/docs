"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["30553"],{266438:function(e,n,o){o.r(n),o.d(n,{default:()=>h,frontMatter:()=>t,metadata:()=>s,assets:()=>i,toc:()=>c,contentTitle:()=>d});var s=JSON.parse('{"id":"commands-legacy/on-web-authentication-database-method","title":"On Web Authentication database method","description":"$url, $http, $ipBrowser, $ipServer, $user, $pw -> On Web Authentication database method : Boolean","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R8/commands-legacy/on-web-authentication-database-method.md","sourceDirName":"commands-legacy","slug":"/commands/on-web-authentication-database-method","permalink":"/docs/pt/20-R8/commands/on-web-authentication-database-method","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fon-web-authentication-database-method.md%20(20-R8)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R8","frontMatter":{"id":"on-web-authentication-database-method","title":"On Web Authentication database method","slug":"/commands/on-web-authentication-database-method","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"On System Event database method","permalink":"/docs/pt/20-R8/commands/on-system-event-database-method"},"next":{"title":"On Web Connection database method","permalink":"/docs/pt/20-R8/commands/on-web-connection-database-method"}}'),r=o("785893"),a=o("250065");let t={id:"on-web-authentication-database-method",title:"On Web Authentication database method",slug:"/commands/on-web-authentication-database-method",displayed_sidebar:"docs"},d=void 0,i={},c=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:2},{value:"On Web Authentication Database Method calls",id:"on-web-authentication-database-method-calls",level:2},{value:"Exemplo 1",id:"exemplo-1",level:2},{value:"Exemplo 2",id:"exemplo-2",level:2}];function l(e){let n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"$url, $http, $ipBrowser, $ipServer, $user, $pw -> On Web Authentication database method : Boolean"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$url"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"URL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$http"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"cabe\xe7alho HTTP + corpo HTTP"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$ipBrowser"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Endere\xe7o IP do navegador"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$ipServer"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Endere\xe7o IP do servidor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$user"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Nome de usu\xe1rio"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$pw"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Senha"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultado"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Verdadeiro = pedido aceito, Falso = pedido recusado"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["O On Web Authentication database method administra o acesso ao motor do servidor web. \xc9 chamado automaticamente por 4D ou 4D Server quando uma peti\xe7\xe3o de um navegador web pedir a execu\xe7\xe3o de um m\xe9todo 4D no servidor (chamada de um m\xe9todo atrav\xe9s um URL ",(0,r.jsx)(n.em,{children:"4DACTION"})," ou uma etiqueta ",(0,r.jsx)(n.em,{children:"4DSCRIPT"}),", etc.)."]}),"\n",(0,r.jsx)(n.p,{children:"Este m\xe9todo recebe seis par\xe2metros de tipo Texto, passados por 4D: $url, $http, $ipBrowser, $ipServer, $user, e $pw e retorna um booleano, $result. A descri\xe7\xe3o desses par\xe2metros \xe9 a seguinte:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Par\xe2metros"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Tipo"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Descri\xe7\xe3o"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$url"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"URL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$http"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"HTTP cabe\xe7alho + corpo HTTP (32 KB m\xe1ximo)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$ipBrowser"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"endere\xe7o IP do Web client (navegador)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$ipServer"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"endere\xe7o IP do servidor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$user"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"nome de usu\xe1rio"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$pw"}),(0,r.jsx)(n.td,{children:"Texto"}),(0,r.jsx)(n.td,{children:"Senha"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$result"}),(0,r.jsx)(n.td,{children:"Booleano"}),(0,r.jsx)(n.td,{children:"True = peti\xe7\xe3o aceita, False = peti\xe7\xe3o recusada"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Deve declarar esses par\xe2metros desta forma:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"\xa0\xa0// On Web Authentication Database Method\n\xa0\n\xa0#DECLARE($url : Text ; $http : Text ; $BrowserIP : Text ;\\ $ServerIP : Text ; $user : Text ; $password: Text) -> $result : Boolean\n\xa0\n\xa0\xa0// C\xf3digo para o m\xe9todo\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Nota:"})," todos os par\xe2metros do M\xe9todo de banco On Web Authentication n\xe3o seriam preenchidos. A informa\xe7\xe3o recebida pelo m\xe9todo de banco depende das op\xe7\xf5es que tiver selecionado previamente na caixa de di\xe1logo de Propriedades do banco. Consulte a se\xe7\xe3o ",(0,r.jsx)(n.em,{children:"Conex\xf5es de Seguran\xe7a"}),".)."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"URL"})}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"O primeiro par\xe2metro ($name) \xe9 a URL introduzida pelo usu\xe1rio na \xe1rea localiza\xe7\xe3o de seu navegador web, do qual o endere\xe7o local foi removido."}),"\n",(0,r.jsxs)(n.p,{children:["Tomemos o exemplo de uma conex\xe3o de Intranet. Suponhamos que o endere\xe7o IP de sua m\xe1quina servidor web 4D \xe9 ",(0,r.jsx)(n.em,{children:"123.45.67.89"}),". A seguinte tabela mostra os valores de (",(0,r.jsx)(n.em,{children:"$url"}),") dependendo da URL introduzida no navegador web:"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"URL inserida na \xe1rea de localiza\xe7\xe3o do navegador"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Valor do par\xe2metro $url"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"123.45.67.89"}),(0,r.jsx)(n.td,{children:"/"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"http://123.45.67.89",children:"http://123.45.67.89"})}),(0,r.jsx)(n.td,{children:"/"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"123.45.67.89/Clientes"}),(0,r.jsx)(n.td,{children:"/Clientes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"http://123.45.67.89/Clientes",children:"http://123.45.67.89/Clientes"})}),(0,r.jsx)(n.td,{children:"/Customers"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"http://123.45.67.89/Clientes/Adicionar",children:"http://123.45.67.89/Clientes/Adicionar"})}),(0,r.jsx)(n.td,{children:"/Clientes/Adicionar"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"123.45.67.89/Fazer_Isso/Se_OK/Fazer_Isso"}),(0,r.jsx)(n.td,{children:"/Fazer_Isso/Se_OK/Fazer_Aquilo"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Cabe\xe7alho e corpo da peti\xe7\xe3o HTTP"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["O segundo par\xe2metro (",(0,r.jsx)(n.em,{children:"$http"}),") \xe9 o cabe\xe7alho e o corpo da peti\xe7\xe3o HTTP enviada pelo navegador web. Note que esta informa\xe7\xe3o se passa ao On Web Authentication database method tal como est\xe1. O conte\xfado varia em fun\xe7\xe3o do tipo de navegador web que esteja tentando a conex\xe3o. Se sua aplica\xe7\xe3o manipular esta informa\xe7\xe3o, \xe9 sua decis\xe3o se analisa o cabe\xe7alho e o corpo."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Notas:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Por raz\xf5es de rendimento, o tamanho dos dados que transita atrav\xe9s do par\xe2metro $http n\xe3o deve superar os 32 KB. Do contr\xe1rio ser\xe3o truncados pelo servidor HTTP de 4D."}),"\n",(0,r.jsxs)(n.li,{children:["Para mais informa\xe7\xe3o sobre este par\xe2metro, consulte a descri\xe7\xe3o do ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R8/commands/on-web-connection-database-method",children:"On Web Connection database method"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Endere\xe7o IP do Web client"}),(0,r.jsx)(n.br,{}),"\nO terceiro par\xe2metro $ipBrowser recebe a dire\xe7\xe3o IP do m\xe1quina navegador. Esta informa\xe7\xe3o permite distinguir entre as conex\xf5es de Intranet e Internet."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Servidor de endere\xe7o IP"}),(0,r.jsx)(n.br,{}),"\nO quarto par\xe2metro $ipServer recebe o endere\xe7o IP utilizado para chamar ao servidor Web. 4D a partir da vers\xe3o 6.5 autoriza o multi-homing, permitindo explorar m\xe1quinas com mais de um endere\xe7o IP. Para maior informa\xe7\xe3o, consulte a se\xe7\xe3o ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R8/commands/qr-delete-column",children:"QR DELETE COLUMN"}),"."]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"NOme de usu\xe1rio e Senha"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Os par\xe2metros $user e $pw recebem o nome de usu\xe1rio e senha introduzidos pelo usu\xe1rio na caixa de di\xe1logo padr\xe3o de identifica\xe7\xe3o mostrada pelo navegador. Esta caixa de di\xe1logo aparece para cada conex\xe3o, se uma op\xe7\xe3o de gest\xe3o de senhas tiver sido selecionada nas Propriedades da banco (ver a se\xe7\xe3o ",(0,r.jsx)(n.em,{children:"Conex\xf5es de Seguran\xe7a"}),")."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," se o nome de usu\xe1rio enviado pelo navegador existir em 4D, o par\xe2metro $pw (a senha do usu\xe1rio) n\xe3o \xe9 retornada por raz\xf5es de seguran\xe7a."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"$result parameter"}),(0,r.jsx)(n.br,{}),"\nOn Web Authentication database method retorna um booleano em $result:\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Se $result for ",(0,r.jsx)(n.strong,{children:"True"}),", a conex\xe3o \xe9 aceita."]}),"\n",(0,r.jsxs)(n.li,{children:["Se $result for ",(0,r.jsx)(n.strong,{children:"False"}),", a conex\xe3o \xe9 recusada."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["O M\xe9todo de banco ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R8/commands/on-web-connection-database-method",children:"On Web Connection database method"})," s\xf3 \xe9 executado se a conex\xe3o tiver sido aceita por ",(0,r.jsx)(n.strong,{children:"On Web Authentication"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"AVISO"}),": se n\xe3o for passado nenhum valor em ",(0,r.jsx)(n.em,{children:"$result"})," ou se ",(0,r.jsx)(n.em,{children:"$result"})," n\xe3o se define no On Web Authentication database method, a conex\xe3o se considerar\xe1 como aceita e se executa o ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R8/commands/on-web-connection-database-method",children:"On Web Connection database method"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Notas"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["N\xe3o chame elementos de interface no On Web Authentication database method (",(0,r.jsx)(n.a,{href:"/docs/pt/20-R8/commands/alert",children:"ALERT"}),", ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R8/commands/dialog",children:"DIALOG"}),", etc.) porque do contr\xe1rio sua execu\xe7\xe3o ser\xe1 interrompida e a conex\xe3o ser\xe1 recusada. O mesmo acontece se for apresentado um erro durante seu processo."]}),"\n",(0,r.jsxs)(n.li,{children:["\xc9 poss\xedvel evitar a execu\xe7\xe3o por ",(0,r.jsx)(n.em,{children:"4DACTION"})," ou ",(0,r.jsx)(n.em,{children:"4DSCRIPT"})," de cada m\xe9todo de projeto com a ajuda da op\xe7\xe3o \u201CDispon\xedvel atrav\xe9s das etiquetas HTML e URLs. Para mais informa\xe7\xe3o, consulte ",(0,r.jsx)(n.em,{children:"Conex\xf5es de Seguran\xe7a"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"on-web-authentication-database-method-calls",children:"On Web Authentication Database Method calls"}),"\n",(0,r.jsx)(n.p,{children:"O On Web Authentication database method \xe9 chamada automaticamente, sem importar o modo, quando uma peti\xe7\xe3o ou processo requisitar a execu\xe7\xe3o de um m\xe9todo 4D. Tamb\xe9m se chama quando o servidor web recebe uma URL est\xe1tica inv\xe1lida (por exemplo, se a p\xe1gina est\xe1tica solicitada n\xe3o existir)."}),"\n",(0,r.jsx)(n.p,{children:"Portanto o On Web Authentication database method se chama nos seguintes casos:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["quando 4D recebe uma URL que come\xe7a por ",(0,r.jsx)(n.em,{children:"4DACTION/"})]}),"\n",(0,r.jsxs)(n.li,{children:["quando 4D recebe uma URL que come\xe7a por ",(0,r.jsx)(n.em,{children:"4DCGI/"})]}),"\n",(0,r.jsxs)(n.li,{children:["quando 4D recebe uma URL que come\xe7a por ",(0,r.jsx)(n.em,{children:"4DSYNC/"})]}),"\n",(0,r.jsx)(n.li,{children:"quando 4D recebe uma URL solicitando uma p\xe1gina est\xe1tica que n\xe3o existe"}),"\n",(0,r.jsxs)(n.li,{children:["quando 4D recebe uma URL de acesso a raiz e n\xe3o foi definida uma p\xe1gina de in\xedcio nas propriedades da base ou por meio do comando ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R8/commands/web-set-home-page",children:"WEB SET HOME PAGE"})]}),"\n",(0,r.jsxs)(n.li,{children:["quando 4D processa uma etiqueta ",(0,r.jsx)(n.em,{children:"4DSCRIPT"})," em uma p\xe1gina semi din\xe2mica"]}),"\n",(0,r.jsxs)(n.li,{children:["quando 4D processa uma etiqueta ",(0,r.jsx)(n.em,{children:"4DLOOP"})," baseada em um m\xe9todo em uma p\xe1gina semi din\xe2mica.\n",(0,r.jsx)(n.strong,{children:"Nota de compatibilidade"}),": o m\xe9todo banco tamb\xe9m se chama quando 4D recebe um URL que come\xe7a por ",(0,r.jsx)(n.em,{children:"4DMETHOD"}),"/. Esta URL \xe9 obsoleta e s\xf3 se conserva por raz\xf5es de compatibilidade."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Note que o On Web Authentication database method N\xc3O se chama quando o servidor recebe uma URL solicitando uma p\xe1gina est\xe1tica v\xe1lida."}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,r.jsxs)(n.p,{children:["Exemplo do On Web Authentication database method",(0,r.jsx)(n.em,{children:"Licenses"})," em modo BASIC:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0//M\xe9todo de banco On Web Authentication\n\xa0#DECLARE($url : Text ; $http : Text ; $BrowserIP : Text ;\\ $ServerIP : Text ; $user : Text ; $password: Text) -> $result : Boolean\n\xa0var $usu\xe1rio;$senha;$IPNavegador;$IPServidor : Text\n\xa0var $ipServerDusu\xe1rio : Boolean\n\xa0ARRAY TEXT($usu\xe1rios;0)\n\xa0ARRAY LONGINT($nums;0)\n\xa0var $upos : Integer\n\xa0\n\xa0$result:=False\n\xa0\n\xa0$usu\xe1rio:=$user\n\xa0$senha:=$pw\n\xa0$IPNavegador:=$ipBrowser\n\xa0$IPServidor:=$ipServer\n\xa0\n\xa0\xa0//Por raz\xf5es de seguran\xe7a, recusar nomes que contenham @\n\xa0If(WithWildcard($usuario)|WithWildcard($senha))\n\xa0\xa0\xa0\xa0$result:=False\n\xa0\xa0//O m\xe9todo WithWildcard \xe9 descrito abaixo\n\xa0Else\n\xa0\xa0//Verificar para ver se \xe9 um usu\xe1rio 4D\n\xa0\xa0\xa0\xa0GET USER LIST($usu\xe1rios;$nums)\n\xa0\xa0\xa0\xa0$upos:=Find in array($usu\xe1rios;$usu\xe1rio)\n\xa0\xa0\xa0\xa0If($upos >0)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$usuario4D:=Not(Is user deleted($nums{$upos}))\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$usuario4D:=False\n\xa0\xa0\xa0\xa0End if\n\xa0\n\xa0\xa0\xa0\xa0If(Not($usuario4D))\n\xa0\xa0//N\xe3o \xe9 um usu\xe1rio definido em 4D, procurar na tabela de usu\xe1rios Web\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0QUERY([UsuariosWeb];[UsuariosWeb]usuario=$usuario;*)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0QUERY([UsuariosWeb];\xa0&\xa0[UsuariosWeb]senha=$senha)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=(Records in selection([UsuariosWeb])=1)\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=True\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n\xa0\xa0//Esta \xe9 uma conex\xe3o de intranet?\n\xa0If(Substring($IPNavegador;1;7)#"192.100.")\n\xa0\xa0\xa0\xa0$result:=False\n\xa0End if\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.p,{children:"Exemplo do On Web Authentication database method em modo DIGEST:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"\xa0\xa0//M\xe9todo de banco On Web Authentication\n\xa0#DECLARE($url : Text ; $http : Text ; $BrowserIP : Text ;\\ $ServerIP : Text ; $user : Text ; $password: Text) -> $result : Boolean\n\xa0var $usuario : Text\n\xa0$result:=False\n\xa0$usuario:=$user\n\xa0\xa0//Por raz\xf5es de seguran\xe7a, recusar os nomes que contenham @\n\xa0If(WithWildcard($usuario))\n\xa0\xa0\xa0\xa0$result:=False\n\xa0\xa0//O m\xe9todo WithWildcard \xe9 descrito a seguir\n\xa0Else\n\xa0\xa0\xa0\xa0QUERY([UsuariosWeb];[UsuariosWeb]usuario=$usuario)\n\xa0\xa0\xa0\xa0If(OK=1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=WEB Validate digest($usuario;[UsuariosWeb]senha)\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=False\xa0//Usu\xe1rio inexistente\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n\xa0\n\xa0O m\xe9todo de projeto WithWildcard\xe9o seguinte:\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0//M\xe9todo WithWildcard\n\xa0\xa0//WithWildcard ( String) -> Booleano\n\xa0\xa0//WithWildcard ( Nome ) -> Cont\xe9m um car\xe1ctere arroba\n\xa0\n#DECLARE($name : Text) -> $result : Boolean\nvar $i : Integer\n\xa0\n\xa0$result:=False\n\xa0For($i;1;Length($name))\n\xa0\xa0\xa0\xa0If(Character code(Substring($name;$i;1))=Character code("@"))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=True\n\xa0\xa0\xa0\xa0End if\n\xa0End for\n'})})]})}function h(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},250065:function(e,n,o){o.d(n,{Z:function(){return d},a:function(){return t}});var s=o(667294);let r={},a=s.createContext(r);function t(e){let n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);