"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["12107"],{117180:function(e,a,r){r.r(a),r.d(a,{frontMatter:()=>i,default:()=>m,toc:()=>l,metadata:()=>o,assets:()=>c,contentTitle:()=>d});var o=JSON.parse('{"id":"commands-legacy/selection-range-to-array","title":"SELECTION RANGE TO ARRAY","description":"SELECTION RANGE TO ARRAY ( inicio ; fim {; umCampo | umaTabela ; array} {; umCampo | umaTabela2 ; array2 ; ... ; umCampo | umaTabelaN ; arrayN} )","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R9/commands-legacy/selection-range-to-array.md","sourceDirName":"commands-legacy","slug":"/commands/selection-range-to-array","permalink":"/docs/pt/20-R9/commands/selection-range-to-array","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fselection-range-to-array.md%20(20-R9)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R9","frontMatter":{"id":"selection-range-to-array","title":"SELECTION RANGE TO ARRAY","slug":"/commands/selection-range-to-array","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"MULTI SORT ARRAY","permalink":"/docs/pt/20-R9/commands/multi-sort-array"},"next":{"title":"SELECTION TO ARRAY","permalink":"/docs/pt/20-R9/commands/selection-to-array"}}'),s=r(785893),n=r(250065);let i={id:"selection-range-to-array",title:"SELECTION RANGE TO ARRAY",slug:"/commands/selection-range-to-array",displayed_sidebar:"docs"},d=void 0,c={},l=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:2},{value:"Exemplo 1",id:"exemplo-1",level:2},{value:"Exemplo 2",id:"exemplo-2",level:2},{value:"Exemplo 3",id:"exemplo-3",level:2},{value:"Exemplo 4",id:"exemplo-4",level:2},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:2},{value:"Propriedades",id:"propriedades",level:2}];function t(e){let a={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.strong,{children:"SELECTION RANGE TO ARRAY"})," ( ",(0,s.jsx)(a.em,{children:"inicio"})," ; ",(0,s.jsx)(a.em,{children:"fim"})," {; umCampo | umaTabela ; ",(0,s.jsx)(a.em,{children:"array"}),"} {; umCampo | umaTabela2 ; ",(0,s.jsx)(a.em,{children:"array2"})," ; ... ; umCampo | umaTabelaN ; ",(0,s.jsx)(a.em,{children:"arrayN"}),"} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(a.table,{children:[(0,s.jsx)(a.thead,{children:(0,s.jsxs)(a.tr,{children:[(0,s.jsx)(a.th,{children:"Par\xe2metro"}),(0,s.jsx)(a.th,{children:"Tipo"}),(0,s.jsx)(a.th,{}),(0,s.jsx)(a.th,{children:"Descri\xe7\xe3o"})]})}),(0,s.jsxs)(a.tbody,{children:[(0,s.jsxs)(a.tr,{children:[(0,s.jsx)(a.td,{children:"inicio"}),(0,s.jsx)(a.td,{children:"Integer"}),(0,s.jsx)(a.td,{children:"\u2192"}),(0,s.jsx)(a.td,{children:"N\xfamero do registro selecionado onde a recupera\xe7\xe3o de dados come\xe7a"})]}),(0,s.jsxs)(a.tr,{children:[(0,s.jsx)(a.td,{children:"fim"}),(0,s.jsx)(a.td,{children:"Integer"}),(0,s.jsx)(a.td,{children:"\u2192"}),(0,s.jsx)(a.td,{children:"N\xfamero de registro selecionado onde termina a recupera\xe7\xe3o de dados"})]}),(0,s.jsxs)(a.tr,{children:[(0,s.jsx)(a.td,{children:"umCampo | umaTabela"}),(0,s.jsx)(a.td,{children:"Campo, Tabela"}),(0,s.jsx)(a.td,{children:"\u2192"}),(0,s.jsx)(a.td,{children:"Campo usado para pedir dados ou Tabela usada para pedir n\xfameros de registros"})]}),(0,s.jsxs)(a.tr,{children:[(0,s.jsx)(a.td,{children:"array"}),(0,s.jsx)(a.td,{children:"Array"}),(0,s.jsx)(a.td,{children:"\u2190"}),(0,s.jsx)(a.td,{children:"Array para receber dados do campo ou n\xfamero de registros"})]})]})]}),"\n",(0,s.jsx)(a.h2,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.strong,{children:"SELECTION RANGE TO ARRAY"})," cria um ou mais arrays e copia os dados dos campos ou n\xfameros de registro da sele\xe7\xe3o atual para os arrays."]}),"\n",(0,s.jsxs)(a.p,{children:["Ao contr\xe1rio ",(0,s.jsx)(a.a,{href:"/docs/pt/20-R9/commands/selection-to-array",children:"SELECTION TO ARRAY"}),", que se aplica \xe0 sele\xe7\xe3o atual em sua totalidade, ",(0,s.jsx)(a.strong,{children:"SELECTION RANGE TO ARRAY"})," s\xf3 se aplica ao conjunto de registros selecionados especificado por par\xe2metros ",(0,s.jsx)(a.em,{children:"in\xedcio"})," e ",(0,s.jsx)(a.em,{children:"fim"}),"."]}),"\n",(0,s.jsxs)(a.p,{children:["O comando espera que voc\xea passe no in\xedcio e no final os n\xfameros de registros selecionados em conformidade com a f\xf3rmula ",(0,s.jsx)(a.em,{children:"1 <= inicio <= fim <= Records in selection ([...])."}),"."]}),"\n",(0,s.jsxs)(a.p,{children:["Se voc\xea passar ",(0,s.jsx)(a.em,{children:"1 <= in\xedcio = fim< Records in selection ([...])"}),", voc\xea vai carregar campos ou obter o n\xfamero do registro cujo registro selecionado \xe9 ",(0,s.jsx)(a.em,{children:"in\xedcio = fim"}),"."]}),"\n",(0,s.jsx)(a.p,{children:"Se voc\xea passar n\xfameros incorretos de registros selecionados, o comando faz o seguinte:"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Se ",(0,s.jsx)(a.em,{children:"fim > Records in selection ([...])"}),", a sele\xe7\xe3o retorna valores do registro selecionado especificado pelo ",(0,s.jsx)(a.em,{children:"in\xedcio"})," do \xfaltimo registro selecionado."]}),"\n",(0,s.jsxs)(a.li,{children:["Se ",(0,s.jsx)(a.em,{children:"in\xedcio > fim"}),", ele retorna valores do registro selecionado, cujo registro \xe9 ",(0,s.jsx)(a.em,{children:"in\xedcio"}),"."]}),"\n",(0,s.jsx)(a.li,{children:"Se ambos os par\xe2metros s\xe3o incompat\xedveis com o tamanho da sele\xe7\xe3o, ele retorna arrays vazios."}),"\n"]}),"\n",(0,s.jsxs)(a.p,{children:["Como ",(0,s.jsx)(a.a,{href:"/docs/pt/20-R9/commands/selection-to-array",children:"SELECTION TO ARRAY"}),", o comando ",(0,s.jsx)(a.strong,{children:"SELECTION RANGE TO ARRAY"})," aplica-se \xe0 sele\xe7\xe3o para o quadro especificado no primeiro par\xe2metro."]}),"\n",(0,s.jsxs)(a.p,{children:["Tamb\xe9m como ",(0,s.jsx)(a.a,{href:"/docs/pt/20-R9/commands/selection-to-array",children:"SELECTION TO ARRAY"}),", ",(0,s.jsx)(a.strong,{children:"SELECTION RANGE TO ARRAY"})," pode realizar o seguinte:"]}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Carregar os valores de um ou v\xe1rios campos"}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.em,{children:"Carregar n\xfamero de registros utilizando a tabela ...;[table];Array;..."})}),"\n",(0,s.jsxs)(a.li,{children:["Carregar valores de campos relacionados, se houver uma rela\xe7\xe3o autom\xe1tica de Muitos para Um entre as tabelas ou se voc\xea tiver chamado anteriormente ",(0,s.jsx)(a.a,{href:"/docs/pt/20-R9/commands/set-automatic-relations",children:"SET AUTOMATIC RELATIONS"})," para mudar manualmente as rela\xe7\xf5es Muito para um para autom\xe1tica. Em ambos os casos, os valores podem ser carregados a partir de tabelas com v\xe1rios n\xedveis de rela\xe7\xf5es Muitos para Um."]}),"\n"]}),"\n",(0,s.jsx)(a.p,{children:"Cada array \xe9 digitado de acordo com o tipo de campo. H\xe1 duas exce\xe7\xf5es:"}),"\n",(0,s.jsxs)(a.p,{children:["Quando aplica ",(0,s.jsx)(a.strong,{children:"SELECTION RANGE TO ARRAY"})," a um campo de tipo Hora, note que criar\xe1 um array de tipo Hora unicamente se o array n\xe3o foi definido como de outro tipo. Por exemplo, no seguinte contexto, o array ",(0,s.jsx)(a.em,{children:"myArray"})," conservar\xe1 o tipo Inteiro longo:"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-4d",children:"\xa0ARRAY LONGINT(myArray;0)\n\xa0SELECTION TO ARRAY([myTable]myTimeField;myArray)\n"})}),"\n",(0,s.jsx)(a.p,{children:"Se voc\xea carregar um n\xfamero de registros, eles s\xe3o copiados para um array Inteiro longo."}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.strong,{children:"Nota:"})," Voc\xea pode chamar o comando ",(0,s.jsx)(a.strong,{children:"SELECTION RANGE TO ARRAY"})," apenas com os par\xe2metros ",(0,s.jsx)(a.em,{children:"in\xedcio"})," e ",(0,s.jsx)(a.em,{children:"fim"}),". Esta sintaxe especial possa ser usado para lan\xe7ar, em uma sele\xe7\xe3o limitada, a execu\xe7\xe3o de uma s\xe9rie de comandos ",(0,s.jsx)(a.a,{href:"/docs/pt/20-R9/commands/selection-to-array",children:"SELECTION TO ARRAY"})," usando o par\xe2metro ",(0,s.jsx)(a.em,{children:"*"})," (ver exemplo 4])."]}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.strong,{children:"4D Server:"})," ",(0,s.jsx)(a.strong,{children:"SELECTION RANGE TO ARRAY"}),"\xe9 otimizado para 4D Server. Cada array \xe9 criado no servidor e, em seguida, enviado, na sua totalidade, para a m\xe1quina cliente."]}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.strong,{children:"Aten\xe7\xe3o:"})," ",(0,s.jsx)(a.strong,{children:"SELECTION RANGE TO ARRAY"})," pode criar arrays de grande porte, dependendo da faixa que voc\xea especificar no in\xedcio e fim, e sobre o tipo e o tamanho dos dados que voc\xea est\xe1 carregando. Arrays residem na mem\xf3ria, ent\xe3o \xe9 uma boa id\xe9ia testar o resultado depois que o comando seja conclu\xeddo. Para fazer isso, teste o tamanho de cada array resultante ou cubra a chamada para o comando, utilizando um m\xe9todo de projeto ",(0,s.jsx)(a.a,{href:"/docs/pt/20-R9/commands/on-err-call",children:"ON ERR CALL"}),"."]}),"\n",(0,s.jsxs)(a.p,{children:["Se o comando for bem sucedido, o tamanho de cada matriz resultante \xe9 igual a ",(0,s.jsx)(a.em,{children:"(fim-inicio)+1"}),", exceto se o par\xe2metro ",(0,s.jsx)(a.em,{children:"fim"})," excedeu o n\xfamero de registros da sele\xe7\xe3o. Nesse caso, cada array resultante cont\xe9m ",(0,s.jsx)(a.em,{children:"(Registros em sele\xe7\xe3o([...])-inicio)+1"})," elementos."]}),"\n",(0,s.jsx)(a.h2,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,s.jsxs)(a.p,{children:["O c\xf3digo a seguir endere\xe7a os 50 primeiros registros da sele\xe7\xe3o atual para a tabela ",(0,s.jsx)(a.em,{children:"[Faturas]."})," Ele carrega os valores do campo ",(0,s.jsx)(a.em,{children:"[Faturas]Fatura ID"})," e de ",(0,s.jsx)(a.em,{children:"[Clientes]Cliente ID"})," do campo relacionado."]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-4d",children:"\xa0SELECTION RANGE TO ARRAY(1;50;[Faturas]Faturas ID;alInvoID;[Clientes]Clientes ID;alCustID)\n"})}),"\n",(0,s.jsx)(a.h2,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,s.jsxs)(a.p,{children:["O c\xf3digo a seguir endere\xe7a os \xfaltimos 50 registros da sele\xe7\xe3o atual para a tabela ",(0,s.jsx)(a.em,{children:"[Faturas]"}),". Ele carrega os n\xfameros de registro da tabela ",(0,s.jsx)(a.em,{children:"[Faturas]"}),", bem como as do registros relacionados de ",(0,s.jsx)(a.em,{children:"[Clientes]"}),":"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-4d",children:"\xa0lSelTam:=Records in selection([Faturas])\n\xa0SELECTION RANGE TO ARRAY(lSelTam-49;lSelTam;[Faturas];alFacRegN;[Faturas];alCliRegN)\n"})}),"\n",(0,s.jsx)(a.h2,{id:"exemplo-3",children:"Exemplo 3"}),"\n",(0,s.jsx)(a.p,{children:'O seguinte processo de c\xf3digo seq\xfcencial divice em "peda\xe7os" de 1.000 registros, uma sele\xe7\xe3o que n\xe3o podia ser baixada na \xedntegra em arrays:'}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-4d",children:"\xa0lMaxPag:=1000\n\xa0lSelTam:=Records in selection([Diretorio Telefonico])\n\xa0For($lPage ;1;1+((lSelTam-1)\\lMaxPag))\n\xa0\xa0// Carregar os valores e/ou os n\xfameros de registros\n\xa0\xa0\xa0\xa0SELECTION RANGE TO ARRAY(1+(lMaxPag*($lPag-1));lMaxPag*$lPag;...;...;...;...;...;...)\n\xa0\xa0// Fazer algo com os arrays\n\xa0End for\n"})}),"\n",(0,s.jsx)(a.h2,{id:"exemplo-4",children:"Exemplo 4"}),"\n",(0,s.jsx)(a.p,{children:"Use os 50 primeiros registros atuais da tabela [facturas] para carregar v\xe1rios arrays, em execu\xe7\xe3o diferida:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-4d",children:"\xa0\xa0// Instru\xe7\xf5es diferidas\n\xa0SELECTION TO ARRAY([facturas]InvoiceRef;arrLInvRef;*)\n\xa0SELECTION TO ARRAY([facturas]Date;arrDInvDate;*)\n\xa0SELECTION TO ARRAY([Clients]ClientRef;arrLClientRef;*)\n\xa0\xa0// Execu\xe7\xe3o de instru\xe7\xf5es diferidas\n\xa0SELECTION RANGE TO ARRAY(1;50)\n"})}),"\n",(0,s.jsx)(a.h2,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.a,{href:"/docs/pt/20-R9/commands/on-err-call",children:"ON ERR CALL"}),(0,s.jsx)(a.br,{}),"\n",(0,s.jsx)(a.a,{href:"/docs/pt/20-R9/commands/selection-to-array",children:"SELECTION TO ARRAY"}),(0,s.jsx)(a.br,{}),"\n",(0,s.jsx)(a.a,{href:"/docs/pt/20-R9/commands/set-automatic-relations",children:"SET AUTOMATIC RELATIONS"})]}),"\n",(0,s.jsx)(a.h2,{id:"propriedades",children:"Propriedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(a.table,{children:[(0,s.jsx)(a.thead,{children:(0,s.jsxs)(a.tr,{children:[(0,s.jsx)(a.th,{}),(0,s.jsx)(a.th,{})]})}),(0,s.jsxs)(a.tbody,{children:[(0,s.jsxs)(a.tr,{children:[(0,s.jsx)(a.td,{children:"N\xfamero do comando"}),(0,s.jsx)(a.td,{children:"368"})]}),(0,s.jsxs)(a.tr,{children:[(0,s.jsx)(a.td,{children:"Thread-seguro"}),(0,s.jsx)(a.td,{children:"\u2713"})]})]})]})]})}function m(e={}){let{wrapper:a}={...(0,n.a)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},250065:function(e,a,r){r.d(a,{Z:()=>d,a:()=>i});var o=r(667294);let s={},n=o.createContext(s);function i(e){let a=o.useContext(n);return o.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(n.Provider,{value:a},e.children)}}}]);