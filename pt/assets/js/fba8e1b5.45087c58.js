"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[54277],{603905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>k});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),p=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},s=function(e){var t=p(e.components);return n.createElement(d.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,d=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),u=p(a),k=r,c=u["".concat(d,".").concat(k)]||u[k]||m[k]||o;return a?n.createElement(c,l(l({ref:t},s),{},{components:a})):n.createElement(c,l({ref:t},s))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=u;var i={};for(var d in t)hasOwnProperty.call(t,d)&&(i[d]=t[d]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},569780:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>d,toc:()=>s});a(667294);var n=a(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const l={id:"HTTPRequestClass",title:"HTTPRequest"},i=void 0,d={unversionedId:"API/HTTPRequestClass",id:"version-20-R4/API/HTTPRequestClass",title:"HTTPRequest",description:"A classe HTTPRequest permite-lhe tratar objectos HTTPRequest que podem ser utilizados para configurar e enviar pedidos para um servidor HTTP, bem como para processar as respostas do servidor HTTP.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R4/API/HTTPRequestClass.md",sourceDirName:"API",slug:"/API/HTTPRequestClass",permalink:"/docs/pt/API/HTTPRequestClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FHTTPRequestClass.md%20(20-R4)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R4",frontMatter:{id:"HTTPRequestClass",title:"HTTPRequest"},sidebar:"docs",previous:{title:"Function",permalink:"/docs/pt/API/FunctionClass"},next:{title:"IMAPTransporter",permalink:"/docs/pt/API/IMAPTransporterClass"}},p={},s=[{value:"Exemplo",id:"exemplo",level:3},{value:"Objeto HTTPRequest",id:"objeto-httprequest",level:3},{value:"4D.HTTPRequest.new()",id:"4dhttprequestnew",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"par\xe2metro <code>options</code>",id:"par\xe2metro-options",level:4},{value:"Fun\xe7\xf5es Callback",id:"fun\xe7\xf5es-callback",level:4},{value:"objecto evento",id:"objecto-evento",level:4},{value:"authentication-object",id:"authentication-object",level:4},{value:"HTTP Parse message",id:"http-parse-message",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:4},{value:"Exemplo",id:"exemplo-1",level:4},{value:".dataType",id:"datatype",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:4},{value:".encoding",id:"encoding",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-3",level:4},{value:".errors",id:"errors",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-4",level:4},{value:".headers",id:"headers",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-5",level:4},{value:".method",id:"method",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-6",level:4},{value:".protocol",id:"protocol",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-7",level:4},{value:".response",id:"response",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-8",level:4},{value:".returnResponseBody",id:"returnresponsebody",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-9",level:4},{value:".terminate()",id:"terminate",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-10",level:4},{value:".terminated",id:"terminated",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-11",level:4},{value:".timeout",id:"timeout",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-12",level:4},{value:".url",id:"url",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-13",level:4},{value:".wait()",id:"wait",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-14",level:4}],m={toc:s};function u(e){var{components:t}=e,a=o(e,["components"]);return(0,n.kt)("wrapper",r({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"A classe ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTPRequest")," permite-lhe tratar ",(0,n.kt)("a",r({parentName:"p"},{href:"#httprequest-object"}),(0,n.kt)("inlineCode",{parentName:"a"},"objectos HTTPRequest"))," que podem ser utilizados para configurar e enviar pedidos para um servidor HTTP, bem como para processar as respostas do servidor HTTP."),(0,n.kt)("p",null,"A classe ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTPRequest")," est\xe1 dispon\xedvel a partir da loja de classes ",(0,n.kt)("inlineCode",{parentName:"p"},"4D")," . Voc\xea cria e envia pedidos HTTP usando a fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"4D.HTTPRequest.new()")," , que retorna um objecto HTTPRequest ",(0,n.kt)("a",r({parentName:"p"},{href:"#httprequest-object"}),"``"),"."),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Vers\xe3o"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v19 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Classe adicionada"))))),(0,n.kt)("h3",r({},{id:"exemplo"}),"Exemplo"),(0,n.kt)("p",null,"Criar uma classe ",(0,n.kt)("inlineCode",{parentName:"p"},"MyHttpRequestOptions")," para as op\xe7\xf5es de pedido:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"Class constructor($method : Text; $headers : Object; $body : Text)\nThis.method:=$method This.headers:=$headers This.body:=$body Function onResponse($request : 4D.HTTPRequest; $event : Object)\n//M\xe9todo My onResponse, se quiser manejar a peti\xe7\xe3o de forma assincronica Function onError($request : 4D.HTTPRequest; $event : Object)\n//M\xe9todo My onError, se quiser manejar a peti\xe7\xe3o de forma assincr\xf4nica\n")),(0,n.kt)("p",null,"Pode agora criar o seu pedido:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $headers : Object\n$headers:=New object()\n$headers["field1"]:="value1"\n\nvar myHttpRequestOptions : cs. MyHttpRequestOptions\nmyHttpRequestOptions := cs. MyHttpRequestOptions.new("GET"; $headers; "")\n\nvar $request : 4D.HTTPRequest\n$request:=4D.HTTPRequest.new("www.google.com"; myHttpRequestOptions)\n$request.wait() //If you want to handle the request synchronously\n//Now pode usar $request.response para aceder ao resultado do pedido ou $request.error para verificar o erro que aconteceu.\n')),(0,n.kt)("h3",r({},{id:"objeto-httprequest"}),"Objeto HTTPRequest"),(0,n.kt)("p",null,"Um objecto HTTPRequest \xe9 um objecto n\xe3o partilh\xe1vel."),(0,n.kt)("p",null,"Os objectos HTTPRequest fornecem as seguintes propriedades e fun\xe7\xf5es:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#dataType"}),(0,n.kt)("strong",{parentName:"a"},"dataType")," : Text"),"\xa0","\xa0","\xa0","\xa0","o ",(0,n.kt)("inlineCode",{parentName:"td"},"dataType")," passou no objecto ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"op\xe7\xf5es"))," ao chamar ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"),', "auto" se foi omitido')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#encoding"}),(0,n.kt)("strong",{parentName:"a"},"encoding")," : Text"),"\xa0","\xa0","\xa0","\xa0","a codifica\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"td"},"passou nas op\xe7\xf5es ["),"](#options-parameter) ao chamar ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"),', "UTF-8" se foi omitido')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#errors"}),(0,n.kt)("strong",{parentName:"a"},"errors")," : Collection"),"\xa0","\xa0","\xa0","\xa0","a recolha de todos os erros, se pelo menos um erro tiver sido desencadeado")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#headers"}),(0,n.kt)("strong",{parentName:"a"},"headers")," : Object"),"\xa0","\xa0","\xa0","\xa0","os cabe\xe7alhos `",(0,n.kt)("inlineCode",{parentName:"td"}," passaram no objecto ["),"op\xe7\xf5es`](#options-parameter) ao chamar ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#method"}),(0,n.kt)("strong",{parentName:"a"},"method")," : Text"),"\xa0","\xa0","\xa0","\xa0","o m\xe9todo `",(0,n.kt)("inlineCode",{parentName:"td"}," passou no objecto ["),"op\xe7\xf5es`](#options-parameter) ao chamar ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#protocol"}),(0,n.kt)("strong",{parentName:"a"},"protocol")," : Text"),"\xa0","\xa0","\xa0","\xa0","o protocolo `",(0,n.kt)("inlineCode",{parentName:"td"}," passou no objecto ["),"op\xe7\xf5es`](#options-parameter) ao chamar ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#response"}),(0,n.kt)("strong",{parentName:"a"},"response")," : Object"),"\xa0","\xa0","\xa0","\xa0","a resposta ao pedido, se tiver recebido pelo menos o c\xf3digo de estatuto, indefinido de outra forma")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#returnResponseBody"}),(0,n.kt)("strong",{parentName:"a"},"returnResponseBody")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","o ",(0,n.kt)("inlineCode",{parentName:"td"},"returnResponseBody")," passado no objeto ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"op\xe7\xf5es"))," ao chamar ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#terminate"}),(0,n.kt)("strong",{parentName:"a"},".terminate()")),"\xa0","\xa0","\xa0","\xa0","aborta o pedido HTTP")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#terminated"}),(0,n.kt)("strong",{parentName:"a"},"terminated")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","Verdadeiro se o pedido for terminado (ap\xf3s a chamada para ",(0,n.kt)("inlineCode",{parentName:"td"},"onTerminate"),"), falso caso contr\xe1rio")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#timeout"}),(0,n.kt)("strong",{parentName:"a"},"timeout")," : Real"),"\xa0","\xa0","\xa0","\xa0","o ",(0,n.kt)("inlineCode",{parentName:"td"},"timeout")," passado no objeto ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"op\xe7\xf5es"))," ao chamar ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#url"}),(0,n.kt)("strong",{parentName:"a"},"url")," : Text"),"\xa0","\xa0","\xa0","\xa0","o URL do pedido HTTP")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#wait"}),(0,n.kt)("strong",{parentName:"a"},".wait"),"( { ",(0,n.kt)("em",{parentName:"a"},"time")," : Real } ) : HTTPRequestClass"),"\xa0","\xa0","\xa0","\xa0","aguarda a resposta do servidor")))),(0,n.kt)("h2",r({},{id:"4dhttprequestnew"}),"4D.HTTPRequest.new()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Vers\xe3o"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Valida\xe7\xe3o TLS por padr\xe3o")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v19 R7"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Suporte \xe0s propriedades ",(0,n.kt)("em",{parentName:"td"},"automaticRedirections")," e ",(0,n.kt)("em",{parentName:"td"},"decodeData")))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"4D.HTTPRequest.new"),"( ",(0,n.kt)("em",{parentName:"p"},"url")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"options")," : Object } ) : 4D.HTTPRequest"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"url"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"URL para onde enviar o pedido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Pedir propriedades de configura\xe7\xe3o")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.HTTPRequest"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Novo objecto HTTPRequest")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.HTTPRequest.new()")," cria e envia um pedido HTTP para o servidor HTTP definido em ",(0,n.kt)("em",{parentName:"p"},"url")," com as op\xe7\xf5es definidas **, e devolve um objecto ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.HTTPRequest"),"."),(0,n.kt)("p",null,"O objeto devolvido ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTPRequest")," \xe9 utilizado para processar respostas do servidor HTTP e m\xe9todos de chamada."),(0,n.kt)("p",null,"Em ",(0,n.kt)("em",{parentName:"p"},"url"),", passe o URL para onde pretende enviar o pedido. A sintaxe a utilizar \xe9:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),"{http://}[{user}:[{password}]@]host[:{port}][/{path}][?{queryString}]\n{https://}[{user}:[{password}]@]host[:{port}][/{path}][?{queryString}]\n")),(0,n.kt)("p",null,"Se voc\xea omitir a parte do esquema (",(0,n.kt)("inlineCode",{parentName:"p"},"http://")," ou ",(0,n.kt)("inlineCode",{parentName:"p"},"https://"),"), ser\xe1 enviada uma solicita\xe7\xe3o https."),(0,n.kt)("p",null,"Por exemplo, pode passar as seguintes cordas:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),'    http://www.myserver.com\n    www.myserver.com/path\n    http://www.myserver.com/path?name="jones"\n    https://www.myserver.com/login\n    http://123.45.67.89:8083\n    http://john:smith@123.45.67.89:8083\n    http://[2001:0db8:0000:0000:0000:ff00:0042:8329]\n    http://[2001:0db8:0000:0000:0000:ff00:0042:8329]:8080/index.html (**)\n')),(0,n.kt)("h4",r({},{id:"par\xe2metro-options"}),"par\xe2metro ",(0,n.kt)("inlineCode",{parentName:"h4"},"options")),(0,n.kt)("p",null,"No par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"op\xe7\xf5es")," , passe um objeto que possa conter as seguintes propriedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Por padr\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"automaticRedirections"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Se true, os redirecionamentos ser\xe3o realizados automaticamente (at\xe9 5 redirecionamentos s\xe3o tratados, a resposta do 6. \xba redirecionamento \xe9 retornada, se houver)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"body"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Diferente de"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Corpo do pedido (requerido no caso de ",(0,n.kt)("inlineCode",{parentName:"td"},"post")," ou ",(0,n.kt)("inlineCode",{parentName:"td"},"put")," requests). Pode ser um texto, um blob, ou um objecto. O tipo de conte\xfado \xe9 determinado a partir do tipo desta propriedade, a menos que seja colocado dentro dos cabe\xe7alhos"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"certificatesFolder"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/pt/API/FolderClass"}),"Folder")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Define a pasta de certificados de cliente activos"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataType"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Tipo de atributo do corpo de resposta. Valores: "texto", "blob", "objecto", ou "auto". Se "auto", o tipo do conte\xfado do corpo ser\xe1 deduzido do seu tipo MIME (objecto para JSON, texto para texto, javascript, xml, mensagem http e forma codificada url, ou ent\xe3o um blob)'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"decodeData"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Se for verdade, os dados recebidos em ",(0,n.kt)("inlineCode",{parentName:"td"},"onData")," callback n\xe3o s\xe3o compactados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"False")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"encoding"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Utilizado apenas em caso de pedidos com um ",(0,n.kt)("inlineCode",{parentName:"td"},"body")," (m\xe9todos ",(0,n.kt)("inlineCode",{parentName:"td"},"post")," ou ",(0,n.kt)("inlineCode",{parentName:"td"},"put"),"). Codifica\xe7\xe3o do conte\xfado do corpo do pedido se for um texto, ignorado se o tipo de conte\xfado for colocado dentro dos cabe\xe7alhos"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"UTF-8"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"headers"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cabe\xe7alhos do pedido. Sintaxe: ",(0,n.kt)("inlineCode",{parentName:"td"},"headers.key=valor")," (",(0,n.kt)("em",{parentName:"td"},"valor")," pode ser uma Colec\xe7\xe3o se a mesma chave tiver de aparecer v\xe1rias vezes)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objecto vazio")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"method"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"POST", "GET", ou outro m\xe9todo'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"GET"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"minTLSVersion"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Define a vers\xe3o m\xednima do TLS: "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_0"),'", "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_1"),'", "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_2"),'", "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_3"),'"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_2"),'"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onData"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/pt/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Chamada de retorno quando os dados do corpo s\xe3o recebidos. Recebe dois objectos como par\xe2metros (ver abaixo)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onError"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/pt/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Chamada de retorno quando ocorre um erro. Recebe dois objectos como par\xe2metros (ver abaixo)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onHeaders"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/pt/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Chamada de retorno quando os cabe\xe7alhos s\xe3o recebidos. Recebe dois objectos como par\xe2metros (ver abaixo)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onResponse"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/pt/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Chamada de retorno quando uma resposta \xe9 recebida. Recebe dois objectos como par\xe2metros (ver abaixo)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onTerminate"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/pt/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Chamada de retorno quando o pedido estiver terminado. Recebe dois objectos como par\xe2metros (ver abaixo)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"protocol"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto" ou "HTTP1". "auto" significa HTTP1 na implementa\xe7\xe3o actual'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"proxyAuthentication"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#authentication-object"}),"authentication-object")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Autentica\xe7\xe3o por procura\xe7\xe3o de tratamento de objectos"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"serverAuthentication"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#authentication-object"}),"authentication-object")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Autentica\xe7\xe3o do servidor de tratamento de objectos"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"returnResponseBody"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Se falso, o corpo de resposta n\xe3o \xe9 devolvido na ",(0,n.kt)("a",r({parentName:"td"},{href:"#response"}),(0,n.kt)("inlineCode",{parentName:"a"},"resposta")," objecto"),". Devolve um erro se falso e ",(0,n.kt)("inlineCode",{parentName:"td"},"onData")," \xe9 indefinido"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"timeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tempo de espera em segundos. Indefinido = sem timeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"validateTLSCertificate"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Se false, 4D n\xe3o valida o certificado TLS e n\xe3o retorna um erro se ele for inv\xe1lido (i.e. expirado, auto-assinado...). Importante: Na implementa\xe7\xe3o actual, a Autoridade de Certifica\xe7\xe3o em si n\xe3o \xe9 verificada."),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True")))),(0,n.kt)("h4",r({},{id:"fun\xe7\xf5es-callback"}),"Fun\xe7\xf5es Callback"),(0,n.kt)("p",null,"Todas as fun\xe7\xf5es de chamada de retorno recebem dois par\xe2metros de objectos:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"$param1"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#httprequest-object"}),"objeto ",(0,n.kt)("inlineCode",{parentName:"a"},"HTTPRequest")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"$param2"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#event-object"}),(0,n.kt)("inlineCode",{parentName:"a"},"Event")," objecto"))))),(0,n.kt)("p",null,"Aqui est\xe1 a sequ\xeancia de chamadas de retorno:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"onHeaders")," \xe9 sempre chamado uma vez")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"onData")," \xe9 chamado zero ou v\xe1rias vezes (n\xe3o chamado se o pedido n\xe3o tiver um corpo)")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Se n\xe3o ocorreu nenhum erro, ",(0,n.kt)("inlineCode",{parentName:"p"},"onResponse")," \xe9 sempre chamado uma vez")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Se ocorrer um erro, ",(0,n.kt)("inlineCode",{parentName:"p"},"onError")," \xe9 executado uma vez (e encerra o pedido)")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"onTerminate")," \xe9 sempre executado uma vez"))),(0,n.kt)("h4",r({},{id:"objecto-evento"}),"objecto evento"),(0,n.kt)("p",null,"Um evento `` objecto \xe9 devolvido quando uma fun\xe7\xe3o de retorno de chamada ",(0,n.kt)("a",r({parentName:"p"},{href:"#callback-functions"}))," \xe9 chamada. Cont\xe9m as seguintes propriedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".data"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"blob"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Dados recebidos. \xc9 sempre ",(0,n.kt)("em",{parentName:"td"},"indefinido")," excepto no ",(0,n.kt)("inlineCode",{parentName:"td"},"onData")," callback")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Tipo de evento. Poss\xedveis valores: "resposta", "erro", "cabe\xe7alhos", "dados", ou "terminar')))),(0,n.kt)("h4",r({},{id:"authentication-object"}),"authentication-object"),(0,n.kt)("p",null,"Um objecto de autentica\xe7\xe3o lida com o ",(0,n.kt)("inlineCode",{parentName:"p"},"options.serverAuthentication")," ou ",(0,n.kt)("inlineCode",{parentName:"p"},"options.proxyAuthentication")," propriedade. Pode conter as seguintes propriedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Por padr\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome utilizado para autentica\xe7\xe3o"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"senha"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Senha utilizada para autentica\xe7\xe3o"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"method"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'M\xe9todo utilizado para autentica\xe7\xe3o: "basic", "digest", "auto".'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto"')))),(0,n.kt)("h2",r({},{id:"http-parse-message"}),"HTTP Parse message"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Vers\xe3o"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v20 R4"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"HTTP Parse message"),"( ",(0,n.kt)("em",{parentName:"p"},"data")," : Text ) : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"HTTP Parse message"),"( ",(0,n.kt)("em",{parentName:"p"},"data")," : Blob ) : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"data"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text, Blob"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Dados a serem analisados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto, cada propriedade \xe9 uma parte dos dados de v\xe1rias partes")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-1"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"O comando ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTP Parse message"),' analisa um texto ou blob multipart/form-data (mensagem HTTP "response") e extrai o conte\xfado para um objeto. Cada propriedade do objeto retornado corresponde a uma parte dos dados multipartes.'),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},'HTTP em si, \xe9 um protocolo de comunica\xe7\xe3o sem estado. Neste quadro, os clientes iniciam uma comunica\xe7\xe3o enviando mensagens "request" aos servidores, especificando detalhes como m\xe9todo, alvo, cabe\xe7alhos, conte\xfado, etc. Os servidores, respondem com mensagens de "resposta" que incluem os mesmos detalhes. ',(0,n.kt)("inlineCode",{parentName:"p"},"HTTP Parse message"),' analisa a mensagem "request" ou de "response" em um objeto bem organizado.')),(0,n.kt)("h4",r({},{id:"exemplo-1"}),"Exemplo"),(0,n.kt)("p",null,"No exemplo a seguir, analisamos os dados de um arquivo de texto que cont\xe9m solicita\xe7\xf5es HTTP."),(0,n.kt)("p",null,"Aqui est\xe1 o conte\xfado do arquivo:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),"POST /batch/gmail/v1/ HTTP/1.1\nAccept-Encoding: gzip, deflate\nAuthorization: Bearer xxxxxx\nConnection: Close\nContent-Length: 442\nContent-Type: multipart/mixed; boundary=batch_19438756D576A14ABA87C112F56B9396; charset=UTF-8\nDate: Wed, 29 Nov 2023 13:51:35 GMT\nHost: gmail.googleapis.com\nUser-Agent: 4D/20.4.0\n\n\n--batch_19438756D576A14ABA87C112F56B9396\nContent-Type: application/http\nContent-ID: <item1>\n\nGET https://gmail.googleapis.com/gmail/v1/users/me/messages/18c1b58689824c92?format=raw HTTP/1.1\n\n\n--batch_19438756D576A14ABA87C112F56B9396\nContent-Type: application/http\nContent-ID: <item2>\n\nGET https://gmail.googleapis.com/gmail/v1/users/me/messages/18c1b58642b28e2b?format=raw HTTP/1.1\n\n--batch_19438756D576A14ABA87C112F56B9396--\n")),(0,n.kt)("p",null,"Para analisar o arquivo:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $message : Text:=File("/RESOURCES/HTTPrequest.txt").getText()\nvar $parsedMessage : Object:=HTTP Parse message($message)\n//$parsedMessage= {\n//headers:{"User-Agent":"4D/20.4.0",...},\n//parts:[{"contentType":"application/http","contentID":"item1",...}], \n//requestLine:"POST /batch/gmail/v1/ HTTP/1.1"\n//}\n')),(0,n.kt)("h2",r({},{id:"datatype"}),".dataType"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"dataType")," : Text"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-2"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".dataType")," cont\xe9m o ",(0,n.kt)("inlineCode",{parentName:"p"},"dataType")," passou no objecto ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"op\xe7\xf5es"))," ao chamar ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),', "auto" se foi omitido.'),(0,n.kt)("h2",r({},{id:"encoding"}),".encoding"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"encoding")," : Text"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-3"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".encoding")," cont\xe9m a codifica\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},"passou nas op\xe7\xf5es ["),"](#options-parameter) ao chamar ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),', "UTF-8" se foi omitido.'),(0,n.kt)("h2",r({},{id:"errors"}),".errors"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"errors")," : Collection"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-4"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".errors")," cont\xe9m a recolha de todos os erros, se pelo menos um erro tiver sido desencadeado."),(0,n.kt)("p",null,"Aqui est\xe1 o conte\xfado da propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".errors")," :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"errors"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"pilha de erros 4D em caso de erro")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].errCode"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"C\xf3digo de erro 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].message"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o do erro 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].componentSignature"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Assinatura da componente interna que devolveu o erro")))),(0,n.kt)("h2",r({},{id:"headers"}),".headers"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"headers")," : Object"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-5"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".headers")," cont\xe9m os cabe\xe7alhos `",(0,n.kt)("inlineCode",{parentName:"p"}," passaram no objecto ["),"op\xe7\xf5es`](#options-parameter) ao chamar ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),". Se foi omitido, cont\xe9m um objecto vazio."),(0,n.kt)("h2",r({},{id:"method"}),".method"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"method")," : Text"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-6"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".method")," cont\xe9m o m\xe9todo `",(0,n.kt)("inlineCode",{parentName:"p"}," passou no objecto ["),"op\xe7\xf5es`](#options-parameter) ao chamar ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),'. Se foi omitido, cont\xe9m "GET".'),(0,n.kt)("h2",r({},{id:"protocol"}),".protocol"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"protocol")," : Text"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-7"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".protocol")," cont\xe9m o protocolo `",(0,n.kt)("inlineCode",{parentName:"p"}," passou no objecto ["),"op\xe7\xf5es`](#options-parameter) ao chamar ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),'. Se foi omitido ou se "auto" foi utilizado, cont\xe9m a vers\xe3o do protocolo utilizado.'),(0,n.kt)("h2",r({},{id:"response"}),".response"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Vers\xe3o"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v19 R8"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},".headers")," devolve nomes em min\xfasculas. Novo propriedade ",(0,n.kt)("inlineCode",{parentName:"td"},".rawHeaders")))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"response")," : Object"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-8"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"O s\xedtio ",(0,n.kt)("inlineCode",{parentName:"p"},".resposta")," cont\xe9m a resposta ao pedido, se tiver recebido pelo menos o c\xf3digo de estatuto, indefinido de outra forma."),(0,n.kt)("p",null,"Uma ",(0,n.kt)("inlineCode",{parentName:"p"},"resposta")," objecto \xe9 um objecto n\xe3o partilh\xe1vel. Cont\xe9m as seguintes propriedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".body"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Diferente de"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Corpo da resposta. O tipo da mensagem \xe9 definido de acordo com a propriedade ",(0,n.kt)("a",r({parentName:"td"},{href:"#datatype"}),(0,n.kt)("inlineCode",{parentName:"a"},"dataType"))," . Indefinido se o corpo ainda n\xe3o tiver sido recebido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".headers"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cabe\xe7alhos da resposta. Os nomes dos cabe\xe7alhos s\xe3o devolvidos em min\xfasculas. ",(0,n.kt)("inlineCode",{parentName:"td"},"<headername>.key")," = valor (valor pode ser uma colec\xe7\xe3o se a mesma chave aparecer v\xe1rias vezes). Indefinido se os cabe\xe7alhos ainda n\xe3o tiverem sido recebidos.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".status"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"C\xf3digo de estado da resposta")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".statusText"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Mensagem que explica o c\xf3digo de estado")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".rawHeaders"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cabe\xe7alhos da resposta. Os nomes dos cabe\xe7alhos s\xe3o devolvidos intactos (com o seu caso original). ",(0,n.kt)("inlineCode",{parentName:"td"},"<headerName>.key")," = valor (valor pode ser uma colec\xe7\xe3o se a mesma chave aparecer v\xe1rias vezes). Indefinido se os cabe\xe7alhos ainda n\xe3o tiverem sido recebidos.")))),(0,n.kt)("h2",r({},{id:"returnresponsebody"}),".returnResponseBody"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"returnResponseBody")," : Boolean"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-9"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".returnResponseBody")," cont\xe9m o ",(0,n.kt)("inlineCode",{parentName:"p"},"returnResponseBody")," passado no objeto ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"op\xe7\xf5es"))," ao chamar ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),". Se foi omitido, cont\xe9m True."),(0,n.kt)("h2",r({},{id:"terminate"}),".terminate()"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".terminate()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xe3o exige nenhum par\xe2metro")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-10"}),"Descri\xe7\xe3o"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta fun\xe7\xe3o \xe9 thread segura.")),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".terminate()")," aborta o pedido HTTP. Desencadeia o evento ",(0,n.kt)("inlineCode",{parentName:"p"},"onTerminate")," ."),(0,n.kt)("h2",r({},{id:"terminated"}),".terminated"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"terminated")," : Boolean"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-11"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".terminated")," cont\xe9m Verdadeiro se o pedido for terminado (ap\xf3s a chamada para ",(0,n.kt)("inlineCode",{parentName:"p"},"onTerminate"),"), falso caso contr\xe1rio."),(0,n.kt)("h2",r({},{id:"timeout"}),".timeout"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"timeout")," : Real"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-12"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".timeout")," cont\xe9m o ",(0,n.kt)("inlineCode",{parentName:"p"},"timeout")," passado no objeto ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"op\xe7\xf5es"))," ao chamar ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),". Se foi omitido, cont\xe9m Indefinido."),(0,n.kt)("h2",r({},{id:"url"}),".url"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"url")," : Text"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-13"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".url")," cont\xe9m o URL do pedido HTTP."),(0,n.kt)("h2",r({},{id:"wait"}),".wait()"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".wait"),"( { ",(0,n.kt)("em",{parentName:"p"},"time")," : Real } ) : HTTPRequestClass"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"time"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tempo m\xe1ximo em segundos para esperar pela resposta")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.HTTPRequest"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"HTTPRequest object")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-14"}),"Descri\xe7\xe3o"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta fun\xe7\xe3o \xe9 thread segura.")),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},"wait()")," aguarda a resposta do servidor."),(0,n.kt)("p",null,"Se for passado um par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"tempo")," , a fun\xe7\xe3o esperar\xe1 no m\xe1ximo o n\xfamero definido de segundos."),(0,n.kt)("p",null,"Se a resposta do servidor j\xe1 tiver chegado, a fun\xe7\xe3o regressa imediatamente."))}u.isMDXComponent=!0}}]);