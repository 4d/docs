"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["29301"],{81489:function(e,n,d){d.r(n),d.d(n,{metadata:()=>r,contentTitle:()=>i,default:()=>m,assets:()=>t,toc:()=>c,frontMatter:()=>o});var r=JSON.parse('{"id":"commands-legacy/create-index","title":"CREATE INDEX","description":"CREATE INDEX ( tabela ; arrayCampos ; tipoIndice ; nomeIndice {; *} )","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/create-index.md","sourceDirName":"commands-legacy","slug":"/commands/create-index","permalink":"/docs/pt/commands/create-index","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fcreate-index.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"create-index","title":"CREATE INDEX","slug":"/commands/create-index","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"Structure Access","permalink":"/docs/pt/category/structure-access"},"next":{"title":"DELETE INDEX","permalink":"/docs/pt/commands/delete-index"}}'),a=d("785893"),s=d("250065");let o={id:"create-index",title:"CREATE INDEX",slug:"/commands/create-index",displayed_sidebar:"docs"},i=void 0,t={},c=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Nota para lan\xe7amento",id:"nota-para-lan\xe7amento",level:4},{value:"Exemplo 1",id:"exemplo-1",level:4},{value:"Exemplo 2",id:"exemplo-2",level:4},{value:"Exemplo 3",id:"exemplo-3",level:4},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:4}];function l(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"CREATE INDEX"})," ( ",(0,a.jsx)(n.em,{children:"tabela"})," ; ",(0,a.jsx)(n.em,{children:"arrayCampos"})," ; ",(0,a.jsx)(n.em,{children:"tipoIndice"})," ; ",(0,a.jsx)(n.em,{children:"nomeIndice"})," {; *} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Par\xe2metro"}),(0,a.jsx)(n.th,{children:"Tipo"}),(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"tabela"}),(0,a.jsx)(n.td,{children:"Table"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Tabela para qual criar um \xedndice"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"arrayCampos"}),(0,a.jsx)(n.td,{children:"Pointer array"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Ponteiros aos campos a serem indexados"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"tipoIndice"}),(0,a.jsx)(n.td,{children:"Integer"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Tipo de \xedndice a criar: -1 = Palavra chave, 0 = padr\xe3o, 1 = B-Tree padr\xe3o, 3 = Cluster B-Tree"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"nomeIndice"}),(0,a.jsx)(n.td,{children:"Text"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Nome de \xcdndice a criar"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"*"}),(0,a.jsx)(n.td,{children:"Operador"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Se passado = \xedndice assincr\xf4nico"})]})]})]}),"\n",(0,a.jsx)(n.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,a.jsxs)(n.p,{children:["O comando ",(0,a.jsx)(n.strong,{children:"CREATE INDEX"})," permite criar:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Um \xedndice padr\xe3o em um ou mais campos (\xedndice composto) ou"}),"\n",(0,a.jsxs)(n.li,{children:["Um \xedndice de palavras chaves em um campo.\nO \xedndice \xe9 criado para a tabela ",(0,a.jsx)(n.em,{children:"minhaTabela"})," utilizando um ou mais campos determinados pelo array de ponteiros ",(0,a.jsx)(n.em,{children:"arrayCampos"}),". Este array cont\xe9m apenas uma linha se quiser criar um \xedndice simples e dois ou mais quando quiser criar um \xedndice composto (exceto no caso de um \xedndice de palavras chaves). No caso dos \xedndices compostos, a ordem dos campos no array \xe9 importante durante a constru\xe7\xe3o do \xedndice."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["O par\xe2metro ",(0,a.jsx)(n.em,{children:"tipoIndice"})," permite definir o tipo de \xedndice a criar. Pode passar uma das seguintes constantes, que se encontram no tema ",(0,a.jsx)(n.em,{children:"Tipo de \xcdndice"}),":"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Constante"}),(0,a.jsx)(n.th,{children:"Tipo"}),(0,a.jsx)(n.th,{children:"Valor"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Cluster BTree Index"}),(0,a.jsx)(n.td,{children:"Inteiro longo"}),(0,a.jsx)(n.td,{children:"3"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Default Index Type"}),(0,a.jsx)(n.td,{children:"Inteiro longo"}),(0,a.jsx)(n.td,{children:"0"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Keywords Index"}),(0,a.jsx)(n.td,{children:"Inteiro longo"}),(0,a.jsx)(n.td,{children:"-1"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Standard BTree Index"}),(0,a.jsx)(n.td,{children:"Inteiro longo"}),(0,a.jsx)(n.td,{children:"1"})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Nota:"})," um \xedndice B-Tree associado a um campo de tipo texto armazena como m\xe1ximo os primeiros 1024 caracteres do campo. Portanto nesse contexto, as pesquisas nas cadeias que contenham mais de 1024 caracteres falhar\xe3o."]}),"\n",(0,a.jsxs)(n.p,{children:["Passe em ",(0,a.jsx)(n.em,{children:"nomeIndice"}),", o nome do \xedndice a criar. \xc9 necess\xe1rio dar nomes aos \xedndices se v\xe1rios \xedndices de diferentes tipos podem associados a um mesmo campo e se preferir poder apag\xe1-los individualmente com a ajuda do comando ",(0,a.jsx)(n.a,{href:"/docs/pt/commands/delete-index",children:"DELETE INDEX"}),". Se o \xedndice ",(0,a.jsx)(n.em,{children:"nomeIndice"})," j\xe1 existir, o comando n\xe3o faz nada."]}),"\n",(0,a.jsxs)(n.p,{children:["O par\xe2metro opcional ",(0,a.jsx)(n.em,{children:"*"}),", quando for passado, permite realizar a indexa\xe7\xe3o em modo assincr\xf4nico. Nesse modo, o m\xe9todo original continua sua execu\xe7\xe3o depois da chamada do comando, sem importar se a indexa\xe7\xe3o terminou ou n\xe3o."]}),"\n",(0,a.jsxs)(n.p,{children:["Se o comando ",(0,a.jsx)(n.strong,{children:"CREATE INDEX"})," encontrar registros bloqueados, estes n\xe3o ser\xe3o indexados e o comando esperar\xe1 que sejam desbloqueados."]}),"\n",(0,a.jsx)(n.p,{children:"Se ocorrer um problema durante a execu\xe7\xe3o do comando (campo n\xe3o index\xe1vel, tentativa de cria\xe7\xe3o de um \xedndice de palavras chaves em mais de um campo, etc.), um erro \xe9 gerado. Este erro pode ser interceptado utilizando um m\xe9todo de gest\xe3o de erros."}),"\n",(0,a.jsx)(n.h4,{id:"nota-para-lan\xe7amento",children:"Nota para lan\xe7amento"}),"\n",(0,a.jsxs)(n.p,{children:["Dado que este comando modifica a estrutura do banco de dados, n\xe3o pode ser utilizado no contexto de uma aplica\xe7\xe3o empacotada de apenas leitura (arquivo .4dc instalado na pasta ",(0,a.jsx)(n.em,{children:"Arquivos de programa"})," ou arquivo .4dz)."]}),"\n",(0,a.jsx)(n.h4,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,a.jsx)(n.p,{children:"Cria\xe7\xe3o de dois \xedndices padr\xe3o nos campos \u201CSobrenome\u201D e \u201CTelefone\u201D da tabela [Clientes]:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY POINTER(arrayPtrCampo;1)\n\xa0fieldPtrArr{1}:=->[Clientes]Sobrenome\n\xa0CREATE INDEX([Clientes];arrayPtrCampo;Standard BTree Index;"CustLNameIdx")\n\xa0fieldPtrArr{1}:=->[Clientes]Telefone\n\xa0CREATE INDEX([Clientes];arrayPtrCampo;Standard BTree Index;"CustTelIdx")\n'})}),"\n",(0,a.jsx)(n.h4,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,a.jsx)(n.p,{children:'Cria\xe7\xe3o de um \xedndice de palavras chaves no campo "Observa\xe7\xf5es da tabela [Clientes]:'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY POINTER(arrayPtrCampo;1)\n\xa0fieldPtrArr{1}:=->[Clientes]Observa\xe7\xf5es\n\xa0CREATE INDEX([Clientes];arrayPtrCampo;Keywords Index;"CustObsIdx")\n'})}),"\n",(0,a.jsx)(n.h4,{id:"exemplo-3",children:"Exemplo 3"}),"\n",(0,a.jsx)(n.p,{children:"Cria\xe7\xe3o de um \xedndice composto nos campos \u201CCidade\u201D e \u201CC\xf3digoPostal\u201D da tabela [Clientes]:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY POINTER(arrayPtrCampo;2)\n\xa0fieldPtrArr{1}:=->[Clientes]Cidade\n\xa0fieldPtrArr{2}:=->[Clientes]CodigoPostal\n\xa0CREATE INDEX([Clientes];arrayPtrCampo;Standard BTree Index;"CidadeCEP")\n'})}),"\n",(0,a.jsx)(n.h4,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"/docs/pt/commands/delete-index",children:"DELETE INDEX"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/pt/commands/resume-indexes",children:"RESUME INDEXES"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/pt/commands/set-index",children:"SET INDEX"})]})]})}function m(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},250065:function(e,n,d){d.d(n,{Z:function(){return i},a:function(){return o}});var r=d(667294);let a={},s=r.createContext(a);function o(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);