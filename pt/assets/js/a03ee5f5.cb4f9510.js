"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["30054"],{321164:function(e,s,n){n.r(s),n.d(s,{default:()=>h,frontMatter:()=>o,metadata:()=>i,assets:()=>a,toc:()=>t,contentTitle:()=>l});var i=JSON.parse('{"id":"API/SessionClass","title":"Session","description":"Os objetos de sess\xe3o s\xe3o retornados pelo comando Session. Esses objetos fornecem ao desenvolvedor uma interface que permite gerenciar a sess\xe3o atual do usu\xe1rio e executar a\xe7\xf5es como armazenar dados contextuais, compartilhar informa\xe7\xf5es entre processos de sess\xe3o, iniciar processos preemptivos relacionados \xe0 sess\xe3o ou (somente na Web) gerenciar privil\xe9gios.","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R7/API/SessionClass.md","sourceDirName":"API","slug":"/API/SessionClass","permalink":"/docs/pt/20-R7/API/SessionClass","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSessionClass.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"SessionClass","title":"Session"},"sidebar":"docs","previous":{"title":"POP3Transporter","permalink":"/docs/pt/20-R7/API/POP3TransporterClass"},"next":{"title":"Signal","permalink":"/docs/pt/20-R7/API/SignalClass"}}'),r=n("785893"),d=n("250065");let o={id:"SessionClass",title:"Session"},l=void 0,a={},t=[{value:"Tipos de sess\xe3o",id:"tipos-de-sess\xe3o",level:3},{value:"Resumo",id:"resumo",level:3},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo",id:"exemplo",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:4},{value:"Exemplo",id:"exemplo-1",level:4},{value:".getPrivileges()",id:"getprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:4},{value:"Exemplo",id:"exemplo-2",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-3",level:4},{value:"Exemplo",id:"exemplo-3",level:4},{value:".id",id:"id",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-4",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-5",level:4},{value:"Exemplo",id:"exemplo-4",level:4},{value:".info",id:"info",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-6",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-7",level:4},{value:"Exemplo",id:"exemplo-5",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-8",level:4},{value:"Exemplo",id:"exemplo-6",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-1",level:4},{value:".storage",id:"storage",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-9",level:4},{value:"Exemplo de sess\xe3o na web",id:"exemplo-de-sess\xe3o-na-web",level:4},{value:"Exemplo de sess\xe3o remota",id:"exemplo-de-sess\xe3o-remota",level:4},{value:".userName",id:"username",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-10",level:4}];function c(e){let s={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["Os objetos de sess\xe3o s\xe3o retornados pelo comando ",(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/commands/session",children:(0,r.jsx)(s.code,{children:"Session"})}),". Esses objetos fornecem ao desenvolvedor uma interface que permite gerenciar a sess\xe3o atual do usu\xe1rio e executar a\xe7\xf5es como armazenar dados contextuais, compartilhar informa\xe7\xf5es entre processos de sess\xe3o, iniciar processos preemptivos relacionados \xe0 sess\xe3o ou (somente na Web) gerenciar ",(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/ORDA/privileges",children:"privil\xe9gios"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"tipos-de-sess\xe3o",children:"Tipos de sess\xe3o"}),"\n",(0,r.jsx)(s.p,{children:"Tr\xeas tipos de sess\xf5es s\xe3o suportados por essa classe:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/WebServer/sessions",children:(0,r.jsx)(s.strong,{children:"Sess\xf5es de usu\xe1rio web"})}),": sess\xf5es de usu\xe1rio web est\xe3o dispon\xedveis quando ",(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/WebServer/sessions#enabling-web-sessions",children:"sess\xf5es escal\xe1veis est\xe3o habilitadas em seu projeto"}),". Eles s\xe3o usados para conex\xf5es Web e REST e podem receber privil\xe9gios."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/Desktop/clientServer#remote-user-sessions",children:(0,r.jsx)(s.strong,{children:"Sess\xf5es de usu\xe1rio cliente remoto"})}),": em aplica\xe7\xf5es cliente/servidor, os usu\xe1rios remotos t\xeam suas pr\xf3prias sess\xf5es gerenciadas no servidor."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://doc.4d.com/4Dv20/4D/20/4D-Server-and-the-4D-Language.300-6330554.en.html",children:(0,r.jsx)(s.strong,{children:"Sess\xe3o de procedimentos armazenados"})}),": Todos os procedimentos armazenados executados no servidor compartilham a mesma sess\xe3o de usu\xe1rio virtual."]}),"\n"]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["A disponibilidade de propriedades e fun\xe7\xf5es no objeto ",(0,r.jsx)(s.code,{children:"Session"})," depende do tipo de sess\xe3o."]})}),"\n",(0,r.jsx)(s.h3,{id:"resumo",children:"Resumo"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsx)(s.tr,{children:(0,r.jsx)(s.th,{})})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#clearprivileges",children:[(0,r.jsx)(s.strong,{children:".clearPrivileges()"})," : Boolean"]}),(0,r.jsx)(s.br,{}),"remove todos os privil\xe9gios associados \xe0 sess\xe3o e retorna ",(0,r.jsx)(s.strong,{children:"True"})," se a execu\xe7\xe3o foi bem sucedida"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#expirationdate",children:[(0,r.jsx)(s.strong,{children:".expirationDate"})," : Text"]}),(0,r.jsx)(s.br,{}),"a data e a hora de expira\xe7\xe3o do cookie de sess\xe3o"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#getprivileges",children:[(0,r.jsx)(s.strong,{children:".getPrivileges"}),"() : Collection"]}),(0,r.jsx)(s.br,{}),"retorna uma cole\xe7\xe3o de todos os nomes de privil\xe9gios associados \xe0 sess\xe3o"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#hasprivilege",children:[(0,r.jsx)(s.strong,{children:".hasPrivilege"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean"]}),(0,r.jsx)(s.br,{}),"retorna True se o ",(0,r.jsx)(s.em,{children:"privilege"})," estiver associado \xe0 sess\xe3o e False caso contr\xe1rio"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#id",children:[(0,r.jsx)(s.strong,{children:".id"})," : Text"]}),(0,r.jsx)(s.br,{})," o identificador \xfanico (UUID) da sess\xe3o no servidor"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#idletimeout",children:[(0,r.jsx)(s.strong,{children:".idleTimeout"})," : Integer"]}),(0,r.jsx)(s.br,{}),"o tempo limite da sess\xe3o de inatividade (em minutos), ap\xf3s o qual a sess\xe3o \xe9 automaticamente encerrada pelo 4D"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#info",children:[(0,r.jsx)(s.strong,{children:".info"})," : Object"]}),(0,r.jsx)(s.br,{}),"descreve o cliente remoto ou a sess\xe3o do procedimento armazenado no servidor"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#isguest",children:[(0,r.jsx)(s.strong,{children:".isGuest()"})," : Boolean"]}),(0,r.jsx)(s.br,{}),"retorna True se a sess\xe3o for uma sess\xe3o Guest (ou seja, n\xe3o tem privil\xe9gios)"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#setprivileges",children:[(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privileges"})," : Collection )",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"settings"})," : Object ) : Boolean"]}),(0,r.jsx)(s.br,{}),"associa os privil\xe9gios e/ou pap\xe9is definidos no par\xe2metro para a sess\xe3o e retorna ",(0,r.jsx)(s.strong,{children:"True"})," se a execu\xe7\xe3o foi bem sucedida"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#storage",children:[(0,r.jsx)(s.strong,{children:".storage"})," : Object"]}),(0,r.jsx)(s.br,{})," um objeto compartilhado que pode ser usado para armazenar informa\xe7\xf5es dispon\xedveis para todos os processos da sess\xe3o"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#username",children:[(0,r.jsx)(s.strong,{children:".userName"})," : Text"]}),(0,r.jsx)(s.br,{}),"o nome de usu\xe1rio associado \xe0 sess\xe3o"]})})]})]}),"\n",(0,r.jsx)(s.h2,{id:"clearprivileges",children:".clearPrivileges()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".clearPrivileges()"})," : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Par\xe2metros"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"True se a execu\xe7\xe3o for bem-sucedida"})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Essa fun\xe7\xe3o n\xe3o faz nada e sempre retorna ",(0,r.jsx)(s.strong,{children:"True"})," com cliente remoto e sess\xf5es de procedimento armazenado."]})}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".clearPrivileges()"})," remove todos os privil\xe9gios associados \xe0 sess\xe3o e retorna ",(0,r.jsx)(s.strong,{children:"True"})," se a execu\xe7\xe3o foi bem sucedida . Como resultado, a sess\xe3o torna-se automaticamente uma sess\xe3o de convidado."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo",children:"Exemplo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"//Invalidar uma sess\xe3o de usu\xe1rio da web\nvar $isGuest : Boolean\nvar $isOK : Boolean\n\n$isOK:=Session.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest \xe9 True\n"})}),"\n",(0,r.jsx)(s.h2,{id:"expirationdate",children:".expirationDate"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".expirationDate"})," : Text"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-1",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Essa propriedade s\xf3 est\xe1 dispon\xedvel com sess\xf5es de usu\xe1rio da Web."})}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".expirationDate"})," cont\xe9m a data e a hora de expira\xe7\xe3o do cookie de sess\xe3o. O valor \xe9 expresso como texto no formato ISO 8601: ",(0,r.jsx)(s.code,{children:"YYYY-MM-DDTHH:MM:SS.mmmZ"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,r.jsx)(s.strong,{children:"somente leitura"}),". Ele ser\xe1 automaticamente recalculado se o valor da propriedade ",(0,r.jsx)(s.a,{href:"#idletimeout",children:(0,r.jsx)(s.code,{children:".idleTimeout"})})," for modificado."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-1",children:"Exemplo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'var $expiration : Text\n$expiration:=Session.expirationDate //por exemplo "2021-11-05T17:10:42Z"\n'})}),"\n",(0,r.jsx)(s.h2,{id:"getprivileges",children:".getPrivileges()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".getPrivileges"}),"() : Collection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Collection"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"Cole\xe7\xe3o de nomes de privil\xe9gios (strings)"})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-2",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".getPrivileges()"})," retorna uma cole\xe7\xe3o de todos os nomes de privil\xe9gios associados \xe0 sess\xe3o."]}),"\n",(0,r.jsx)(s.p,{children:'Com sess\xf5es de cliente remoto e procedimento armazenado, essa fun\xe7\xe3o retorna uma cole\xe7\xe3o que cont\xe9m apenas "WebAdmin".'}),"\n",(0,r.jsx)(s.admonition,{type:"info",children:(0,r.jsxs)(s.p,{children:["Os privil\xe9gios s\xe3o atribu\xeddos a uma sess\xe3o usando a fun\xe7\xe3o ",(0,r.jsx)(s.a,{href:"#setprivileges",children:(0,r.jsx)(s.code,{children:"setPrivileges()"})}),"."]})}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-2",children:"Exemplo"}),"\n",(0,r.jsxs)(s.p,{children:["O seguinte arquivo ",(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/ORDA/privileges#rolesjson-file",children:(0,r.jsx)(s.code,{children:"roles.json"})})," foi definido:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n   "privileges":[\n      {\n         "privilege":"simple",\n         "includes":[\n\n         ]\n      },\n      {\n         "privilege":"medium",\n         "includes":[\n            "simple"\n         ]\n      }\n   ],\n   "roles":[\n      {\n         "role":"Medium",\n         "privileges":[\n            "medium"\n         ]\n      }\n   ],\n   "permissions":{\n      "allowed":[\n\n      ]\n   }\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["O papel de sess\xe3o \xe9 atribu\xeddo em uma fun\xe7\xe3o de datastore ",(0,r.jsx)(s.code,{children:"authentify()"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"  //Datastore Class\n\nexposed Function authentify($role : Text) : Text\n	Session.clearPrivileges()\n	Session.setPrivileges({roles: $role})\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Assumindo que a fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:"authentify()"}),' seja chamada com o papel "M\xe9dio":']}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'var $privileges : Collection\n$privileges := Session.getPrivileges()\n//$privileges: ["simple","medium"]\n'})}),"\n",(0,r.jsx)(s.h4,{id:"veja-tamb\xe9m",children:"Veja tamb\xe9m"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"#setprivileges",children:".setPrivileges()"}),(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.a,{href:"https://blog.4d.com/permissions-inspect-the-privileges-in-the-session-for-an-easy-debugging",children:"Permiss\xf5es - Inspecionar os privil\xe9gios na sess\xe3o para facilitar a depura\xe7\xe3o (publica\xe7\xe3o no blog)"})]}),"\n",(0,r.jsx)(s.h2,{id:"hasprivilege",children:".hasPrivilege()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".hasPrivilege"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privilege"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:"Nome do privilegio a verificar"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Par\xe2metros"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsxs)(s.td,{children:["True se a sess\xe3o tiver ",(0,r.jsx)(s.em,{children:"privilege"}),", False caso contr\xe1rio"]})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-3",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".hasPrivilege()"})," retorna True se o ",(0,r.jsx)(s.em,{children:"privilege"})," estiver associado \xe0 sess\xe3o e False caso contr\xe1rio."]}),"\n",(0,r.jsxs)(s.p,{children:["Com sess\xf5es de procedimento armazenado e cliente remoto, essa fun\xe7\xe3o sempre retorna True, independentemente do ",(0,r.jsx)(s.em,{children:"privil\xe9gio"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-3",children:"Exemplo"}),"\n",(0,r.jsx)(s.p,{children:'se quiser verificar se o privil\xe9gio "WebAdmin" est\xe1 associado \xe0 sess\xe3o do usu\xe1rio web:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'Se (Session.hasPrivilege("WebAdmin"))\n	\xa3//Acesso \xe9 concedido, n\xe3o fa\xe7a nada\nElse\n	\u27B2 //Exibe uma p\xe1gina de autentica\xe7\xe3o\n\nEnd se\n'})}),"\n",(0,r.jsx)(s.h2,{id:"id",children:".id"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R5"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".id"})," : Text"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-4",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".id"})," cont\xe9m  o identificador \xfanico (UUID) da sess\xe3o no servidor. Esta string \xfanica \xe9 automaticamente atribu\xedda pelo servidor para cada sess\xe3o e permite que voc\xea identifique seus processos."]}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsxs)(s.p,{children:["Voc\xea pode usar essa propriedade para obter o objeto ",(0,r.jsx)(s.a,{href:"#storage",children:(0,r.jsx)(s.code,{children:".storage"})})," de uma sess\xe3o gra\xe7as ao comando ",(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/commands/session-storage",children:(0,r.jsx)(s.code,{children:"storage"})}),"."]})}),"\n",(0,r.jsx)(s.h2,{id:"idletimeout",children:".idleTimeout"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(s.table,{children:(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})})}),"\n",(0,r.jsx)(s.p,{children:"|v18 R6|Adicionado|"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".idleTimeout"})," : Integer"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-5",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Essa propriedade s\xf3 est\xe1 dispon\xedvel com sess\xf5es de usu\xe1rio da Web."})}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".idleTimeout"})," cont\xe9m o tempo limite da sess\xe3o de inatividade (em minutos), ap\xf3s o qual a sess\xe3o \xe9 automaticamente encerrada pelo 4D."]}),"\n",(0,r.jsx)(s.p,{children:"Se n\xe3o se definir esta propriedade, o valor padr\xe3o \xe9 60 (1h)."}),"\n",(0,r.jsxs)(s.p,{children:["Quando essa propriedade \xe9 definida, a propriedade ",(0,r.jsx)(s.a,{href:"#expirationdate",children:(0,r.jsx)(s.code,{children:".expirationDate"})})," \xe9 atualizada de acordo."]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"O valor n\xe3o pode ser inferior a 60: se definir um valor inferior, o tempo de espera se eleva at\xe9 60."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,r.jsx)(s.strong,{children:"leitura escrita"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-4",children:"Exemplo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"Se (Session.isGuest())\n		\u300C// Uma sess\xe3o de convidado ser\xe1 fechada ap\xf3s 60 minutos de inatividade\n	Sess\xe3o. dleTimeout:=60\nSen\xe3o\n		\u300C// Outras sess\xf5es ser\xe3o fechadas ap\xf3s 120 minutos de inatividade\n	\u251CSession.idleTimeout:=120\nEnd se\n\n"})}),"\n",(0,r.jsx)(s.h2,{id:"info",children:".info"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R5"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".info"})," : Object"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-6",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Essa propriedade s\xf3 est\xe1 dispon\xedvel com sess\xf5es de procedimento armazenado e cliente remoto."})}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".info"})," descreve o cliente remoto ou a sess\xe3o do procedimento armazenado no servidor."]}),"\n",(0,r.jsxs)(s.p,{children:["O objeto ",(0,r.jsx)(s.code,{children:".info"})," \xe9 o mesmo objeto retornado pelo comando ",(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/commands/process-activity",children:(0,r.jsx)(s.code,{children:"Process activity"})})," para sess\xf5es de cliente remoto e procedimento armazenado."]}),"\n",(0,r.jsxs)(s.p,{children:["O objeto ",(0,r.jsx)(s.code,{children:".info"})," cont\xe9m as seguintes propriedades:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Propriedade"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"type"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:'Tipo de sess\xe3o: "remote" ou "storedProcedure"'})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"userName"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsxs)(s.td,{children:["Nome de usu\xe1rio 4D (o mesmo valor que ",(0,r.jsx)(s.a,{href:"#username",children:(0,r.jsx)(s.code,{children:".userName"})}),")"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"machineName"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"Sess\xf5es remotas: nome da m\xe1quina remota. Sess\xf5es remotas: nome da m\xe1quina remota."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"systemUserName"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"Sess\xf5es remotas: nome da sess\xe3o do sistema aberta na m\xe1quina remota."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"IPAddress"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"Endere\xe7o IP da m\xe1quina remota"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"hostType"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:'Tipo de host: "windows" ou "mac"'})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"creationDateTime"}),(0,r.jsx)(s.td,{children:"Date ISO 8601"}),(0,r.jsx)(s.td,{children:"Data e hora de cria\xe7\xe3o da sess\xe3o"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"state"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:'Estado da sess\xe3o: "ativa", "adiada", "em espera"'})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"ID"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsxs)(s.td,{children:["UUID da sess\xe3o (mesmo valor que ",(0,r.jsx)(s.a,{href:"#id",children:(0,r.jsx)(s.code,{children:".id"})}),")"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"persistentID"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"Sess\xf5es remotas: ID persistente da sess\xe3o"})]})]})]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Desde ",(0,r.jsx)(s.code,{children:". nfo"})," \xe9 uma propriedade computada, \xe9 recomend\xe1vel cham\xe1-lo uma vez e ent\xe3o armazen\xe1-lo em uma vari\xe1vel local se voc\xea quiser fazer algum processamento em suas propriedades."]})}),"\n",(0,r.jsx)(s.h2,{id:"isguest",children:".isGuest()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".isGuest()"})," : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Par\xe2metros"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"True se a sess\xe3o for uma sess\xe3o Guest, False caso contr\xe1rio"})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-7",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Essa fun\xe7\xe3o sempre retorna ",(0,r.jsx)(s.strong,{children:"False"})," com sess\xf5es de procedimento armazenado e cliente remoto."]})}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".isGuest()"})," retorna True se a sess\xe3o for uma sess\xe3o Guest (ou seja, n\xe3o tem privil\xe9gios)."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-5",children:"Exemplo"}),"\n",(0,r.jsxs)(s.p,{children:["No m\xe9todo base ",(0,r.jsx)(s.code,{children:"On Web Connection"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"If (Session.isGuest())\n	//Fazer algo para o usu\xe1rio convidado\nEnd if\n"})}),"\n",(0,r.jsx)(s.h2,{id:"setprivileges",children:".setPrivileges()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"19 R8"}),(0,r.jsx)(s.td,{children:'Suporte da propriedade "roles" das Settings'})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privileges"})," : Collection )",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"settings"})," : Object ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privilege"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:"Nome do privil\xe9gio"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privileges"}),(0,r.jsx)(s.td,{children:"Collection"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:"Collection de nomes de privil\xe9gios"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"settings"}),(0,r.jsx)(s.td,{children:"Object"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:'Objetos com as propriedades "privil\xe9gios" (string ou collection)'})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Par\xe2metros"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"True se a execu\xe7\xe3o for bem-sucedida"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-8",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Essa fun\xe7\xe3o n\xe3o faz nada e sempre retorna ",(0,r.jsx)(s.strong,{children:"False"})," com sess\xf5es de cliente remoto e procedimento armazenado."]})}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".setPrivileges()"})," associa os privil\xe9gios e/ou pap\xe9is definidos no par\xe2metro para a sess\xe3o e retorna ",(0,r.jsx)(s.strong,{children:"True"})," se a execu\xe7\xe3o foi bem sucedida ."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["No par\xe2metro ",(0,r.jsx)(s.em,{children:"privilege"}),", passe uma cadeia de caracteres contendo um nome de privil\xe9gio (ou v\xe1rios nomes de privil\xe9gio separados por v\xedrgula)."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["No par\xe2metro ",(0,r.jsx)(s.em,{children:"privileges"}),", passe uma cole\xe7\xe3o de cadeias de caracteres contendo nomes de privil\xe9gios."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["No par\xe2metro ",(0,r.jsx)(s.em,{children:"settings"}),", passe um objeto que contenha as seguintes propriedades:"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Propriedade"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privileges"}),(0,r.jsx)(s.td,{children:"Text ou Collection"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.li,{children:"String contendo um nome de privil\xe9gio, ou"}),(0,r.jsx)(s.li,{children:"Cole\xe7\xe3o de cadeias de caracteres contendo nomes de privil\xe9gios"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"roles"}),(0,r.jsx)(s.td,{children:"Text ou Collection"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.li,{children:"String que cont\xe9m uma fun\xe7\xe3o, ou"}),(0,r.jsx)(s.li,{children:"Cole\xe7\xe3o de cadeias de caracteres contendo fun\xe7\xf5es"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"userName"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"Nome de usu\xe1rio associado \xe0 sess\xe3o (opcional)"})]})]})]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Os privil\xe9gios e as fun\xe7\xf5es s\xe3o definidos no arquivo ",(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/ORDA/privileges#rolesjson-file",children:(0,r.jsx)(s.code,{children:"roles.json"})})," do projeto. Para obter mais informa\xe7\xf5es, consulte a se\xe7\xe3o ",(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/ORDA/privileges",children:(0,r.jsx)(s.strong,{children:"Privil\xe9gios"})}),"."]})}),"\n",(0,r.jsxs)(s.p,{children:["Se a propriedade ",(0,r.jsx)(s.code,{children:"privileges"})," ou ",(0,r.jsx)(s.code,{children:"roles"})," tiverem um nome que n\xe3o seja declarado no arquivo ",(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/ORDA/privileges#rolesjson-file",children:(0,r.jsx)(s.code,{children:"roles.json"})}),", ele ser\xe1 ignorado."]}),"\n",(0,r.jsxs)(s.p,{children:["Como padr\xe3o quando n\xe3o houver um privil\xe9gio associado \xe0 sess\xe3o, a sess\xe3o \xe9 uma ",(0,r.jsx)(s.a,{href:"#isguest",children:"Sess\xe3o de convidados"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.a,{href:"#username",children:(0,r.jsx)(s.code,{children:"userName"})})," est\xe1 dispon\xedvel no n\xedvel do objeto de sess\xe3o (somente leitura)."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-6",children:"Exemplo"}),"\n",(0,r.jsx)(s.p,{children:'Em um m\xe9todo de autentica\xe7\xe3o personalizado, deve estabecer o privil\xe9gio "WebAdmin" ao usu\xe1rio:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'var $userOK : Boolean\n\n... //Autenticar o usu\xe1rio\n\nIf ($userOK) //O usu\xe1rio foi aprovado\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection("WebAdmin")\n  Session.setPrivileges($info)\nEnd if\n\n'})}),"\n",(0,r.jsx)(s.h4,{id:"veja-tamb\xe9m-1",children:"Veja tamb\xe9m"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#getprivileges",children:".getPrivileges()"})}),"\n",(0,r.jsx)(s.h2,{id:"storage",children:".storage"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R5"}),(0,r.jsx)(s.td,{children:"Suporte a sess\xf5es de procedimento armazenado e cliente remoto"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".storage"})," : Object"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-9",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".storage"})," cont\xe9m  um objeto compartilhado que pode ser usado para armazenar informa\xe7\xf5es dispon\xedveis para todos os processos da sess\xe3o."]}),"\n",(0,r.jsxs)(s.p,{children:["Quando um objeto ",(0,r.jsx)(s.code,{children:"Session"})," \xe9 criado, a propriedade ",(0,r.jsx)(s.code,{children:".storage"})," est\xe1 vazia. Como se trata de um objeto compartilhado, essa propriedade estar\xe1 dispon\xedvel no objeto ",(0,r.jsx)(s.code,{children:"Storage"})," do servidor."]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["Como o objeto ",(0,r.jsx)(s.code,{children:"Storage"})," do servidor, a propriedade ",(0,r.jsx)(s.code,{children:".storage"}),' \xe9 sempre "\xfanica": adicionar um objeto compartilhado ou uma cole\xe7\xe3o compartilhada a ',(0,r.jsx)(s.code,{children:".storage"})," n\xe3o cria um grupo compartilhado."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,r.jsx)(s.strong,{children:"apenas de leitura"}),", mas retorna um objeto de leitura e grava\xe7\xe3o."]}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsxs)(s.p,{children:["Voc\xea pode obter a propriedade ",(0,r.jsx)(s.code,{children:".storage"})," de uma sess\xe3o usando o comando ",(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/commands/session-storage",children:(0,r.jsx)(s.code,{children:"Session storage"})}),"."]})}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-de-sess\xe3o-na-web",children:"Exemplo de sess\xe3o na web"}),"\n",(0,r.jsxs)(s.p,{children:["Voc\xea deseja armazenar o IP do cliente na propriedade ",(0,r.jsx)(s.code,{children:".storage"}),". Voc\xea pode escrever no m\xe9todo de banco de dados ",(0,r.jsx)(s.code,{children:"On Web Authentication"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'If (Session.storage.clientIP=Null) //first access\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use End if\n'})}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-de-sess\xe3o-remota",children:"Exemplo de sess\xe3o remota"}),"\n",(0,r.jsx)(s.p,{children:"Voc\xea deseja compartilhar dados entre processos na mesma sess\xe3o:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'Use (Session.storage)\n Session.storage.settings:=New shared object("property"; $value; "property2"; $value2)\nEnd use\n'})}),"\n",(0,r.jsx)(s.h2,{id:"username",children:".userName"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R5"}),(0,r.jsx)(s.td,{children:"Suporte a sess\xf5es de procedimento armazenado e cliente remoto"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".userName"})," : Text"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-10",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".userName"})," cont\xe9m o nome de usu\xe1rio associado \xe0 sess\xe3o. Pode us\xe1-la para identificar o usu\xe1rio dentro de seu c\xf3digo."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Com sess\xf5es da Web, essa propriedade \xe9 uma cadeia de caracteres vazia por padr\xe3o. Ele pode ser definido usando a propriedade ",(0,r.jsx)(s.code,{children:"privileges"})," da fun\xe7\xe3o ",(0,r.jsx)(s.a,{href:"#setprivileges",children:(0,r.jsx)(s.code,{children:"setPrivileges()"})}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Com sess\xf5es de procedimento remotas e armazenadas, esta propriedade retorna o mesmo nome de usu\xe1rio que o comando ",(0,r.jsx)(s.a,{href:"/docs/pt/20-R7/commands/current-user",children:(0,r.jsx)(s.code,{children:"usu\xe1rio atual"})}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,r.jsx)(s.strong,{children:"somente leitura"}),"."]})]})}function h(e={}){let{wrapper:s}={...(0,d.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},250065:function(e,s,n){n.d(s,{Z:function(){return l},a:function(){return o}});var i=n(667294);let r={},d=i.createContext(r);function o(e){let s=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(d.Provider,{value:s},e.children)}}}]);