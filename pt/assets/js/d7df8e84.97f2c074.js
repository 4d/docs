"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[21007],{525803:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>l,contentTitle:()=>t,default:()=>m,frontMatter:()=>n,metadata:()=>d,toc:()=>i});var r=o(474848),s=o(28453);const n={id:"subtotal",title:"Subtotal",slug:"/commands/subtotal",displayed_sidebar:"docs"},t=void 0,d={id:"commands-legacy/subtotal",title:"Subtotal",description:"Subtotal ( valores {; saltoPag} ) -> Resultado",source:"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/subtotal.md",sourceDirName:"commands-legacy",slug:"/commands/subtotal",permalink:"/docs/pt/commands/subtotal",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fsubtotal.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"subtotal",title:"Subtotal",slug:"/commands/subtotal",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"SET PRINTABLE MARGIN",permalink:"/docs/pt/commands/set-printable-margin"},next:{title:"Process (Communications)",permalink:"/docs/pt/category/commands/Process (Communications)"}},l={},i=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo",id:"exemplo",level:4},{value:"Ativa\xe7\xe3o de n\xedveis de quebra nos formul\xe1rios de relat\xf3rios",id:"ativa\xe7\xe3o-de-n\xedveis-de-quebra-nos-formul\xe1rios-de-relat\xf3rios",level:4},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:4}];function c(e){const a={a:"a",br:"br",code:"code",em:"em",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Subtotal"})," ( ",(0,r.jsx)(a.em,{children:"valores"})," {; ",(0,r.jsx)(a.em,{children:"saltoPag"}),"} ) -> Resultado"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(a.table,{children:[(0,r.jsx)(a.thead,{children:(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.th,{children:"Par\xe2metro"}),(0,r.jsx)(a.th,{children:"Tipo"}),(0,r.jsx)(a.th,{}),(0,r.jsx)(a.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(a.tbody,{children:[(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"valores"}),(0,r.jsx)(a.td,{children:"Field"}),(0,r.jsx)(a.td,{children:"\u2192"}),(0,r.jsx)(a.td,{children:"Campo n\xfamerico ou vari\xe1vel onde quer devolver o subtotal"})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"saltoPag"}),(0,r.jsx)(a.td,{children:"Integer"}),(0,r.jsx)(a.td,{children:"\u2192"}),(0,r.jsx)(a.td,{children:"Nivel de quebra para o qual realizar um salto de p\xe1gina"})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"Resultado"}),(0,r.jsx)(a.td,{children:"Real"}),(0,r.jsx)(a.td,{children:"\u2190"}),(0,r.jsx)(a.td,{children:"Subtotal dos valores"})]})]})]}),"\n",(0,r.jsx)(a.p,{children:(0,r.jsx)(a.em,{children:"Esse comando n\xe3o \xe9 seguro para thread e n\xe3o pode ser usado em c\xf3digo adequado."})}),"\n",(0,r.jsx)(a.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(a.p,{children:["Subtotal devolve o subtotal de valores para o n\xedvel de quebra atual ou anterior. Subtotal s\xf3 funciona quando uma sele\xe7\xe3o ordenada \xe9 impressa com ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/print-selection",children:"PRINT SELECTION"})," ou utilizando Imprimir no ambiente Desenho. O par\xe2metro ",(0,r.jsx)(a.em,{children:"valores"})," deve ser de tipo real, inteiro, ou inteiro longo. Voc\xea deve atribuir o resultado da fun\xe7\xe3o Subtotal a uma vari\xe1vel localizada na \xe1rea de quebra do formul\xe1rio."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Advert\xeancia"}),": deve executar os comandos ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/break-level",children:"BREAK LEVEL"})," e ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/accumulate",children:"ACCUMULATE"})," antes de cada relat\xf3rio de formul\xe1rio para o qual queira fazer processo de quebra e calcular subtotais. Ver a discuss\xe3o ao final da descri\xe7\xe3o deste comando.",(0,r.jsx)(a.br,{}),"\nO segundo par\xe2metro (opcional) da fun\xe7\xe3o Subtotal se utiliza para provocar saltos de p\xe1gina durante a impress\xe3o. Se ",(0,r.jsx)(a.em,{children:"saltoPag"})," for 0, Subtotal n\xe3o gera nenhum salto de p\xe1gina. Se ",(0,r.jsx)(a.em,{children:"saltoPag"})," for igual a 1, Subtotal gera um salto de p\xe1gina para cada n\xedvel de quebra 1. Se ",(0,r.jsx)(a.em,{children:"saltoPag"})," for igual a 2, Subtotal gera um salto de p\xe1gina para cada n\xedvel de quebra 1 e 2, etc."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Dica"}),": se executa Subtotal desde um formul\xe1rio de sa\xedda mostrado em tela, um erro ser\xe1 gerado, disparando um loop infinito de atualiza\xe7\xf5es entre o formul\xe1rio e a janela de erro. Para sair deste loop, pressione Alt+Shift (Windows) ou Op\xe7\xe3o-Shift (Macintosh) e clique no bot\xe3o Abortar na janela de erro (provavelmente ter\xe1 que fazer isto v\xe1rias vezes). Isso par\xe1 temporariamente as atualiza\xe7\xf5es da janela do formul\xe1rio. Selecione outro formul\xe1rio de sa\xedda de maneira a que o erro n\xe3o se repita. Regresse ao ambiente Desenho e isole a chamada a Subtotal para um teste Form event=On Printing Break,  se deseja utilizar o mesmo formul\xe1rio de sa\xedda para a visualiza\xe7\xe3o e a impress\xe3o"]}),"\n",(0,r.jsx)(a.h4,{id:"exemplo",children:"Exemplo"}),"\n",(0,r.jsxs)(a.p,{children:["O exemplo a seguir \xe9 um m\xe9todo de objeto numa \xe1rea de quebra de um formul\xe1rio (B0, a \xe1rea localizada sobre o marcador B0). A vari\xe1vel ",(0,r.jsx)(a.em,{children:"vSalario"})," est\xe1 localizada na \xe1rea de quebra. A vari\xe1vel toma o valor do subtotal do campo Sal\xe1rio para este n\xedvel de quebra. O tratamento de quebra deve ter sido ativado de antem\xe3o utilizando os comandos ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/break-level",children:"BREAK LEVEL"})," e ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/accumulate",children:"ACCUMULATE"}),"."]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-4d",children:"\xa0Case of\n\xa0\xa0\xa0\xa0:(FORM Event=On Printing Break)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0vSalario:=Subtotal([Empregados]Salario)\n\xa0End case\n"})}),"\n",(0,r.jsx)(a.p,{children:"Para maior informa\xe7\xe3o sobre design de formul\xe1rio com \xe1reas de cabe\xe7alho e de quebra, consulte o manual de Desenho."}),"\n",(0,r.jsx)(a.h4,{id:"ativa\xe7\xe3o-de-n\xedveis-de-quebra-nos-formul\xe1rios-de-relat\xf3rios",children:"Ativa\xe7\xe3o de n\xedveis de quebra nos formul\xe1rios de relat\xf3rios"}),"\n",(0,r.jsxs)(a.p,{children:["Para poder gerar relat\xf3rios com quebras, deve ativar o tratamento de quebras chamando os comandos ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/break-level",children:"BREAK LEVEL"})," e ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/accumulate",children:"ACCUMULATE"}),"."]}),"\n",(0,r.jsx)(a.p,{children:"Deve executar ambos comandos antes de imprimir um relat\xf3rio de formul\xe1rio. A fun\xe7\xe3o Subtotal \xe9 necess\xe1ria para mostrar os valores em um formul\xe1rio. Deve ordenar ao menos o n\xfamero de n\xedveis de quebras que necessite."}),"\n",(0,r.jsxs)(a.p,{children:["Quando utilize ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/break-level",children:"BREAK LEVEL"})," e ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/accumulate",children:"ACCUMULATE"}),", o processo de imprimir um relat\xf3rio \xe9 geralmente como este:"]}),"\n",(0,r.jsx)(a.p,{children:"1. Selecione os registros a imprimir."}),"\n",(0,r.jsxs)(a.p,{children:["2. Ordene os registros utilizando ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/order-by",children:"ORDER BY"}),". Ordene o mesmo n\xfamero de n\xedveis como quebras."]}),"\n",(0,r.jsxs)(a.p,{children:["3. Executa ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/break-level",children:"BREAK LEVEL"})," e ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/accumulate",children:"ACCUMULATE"}),"."]}),"\n",(0,r.jsxs)(a.p,{children:["4. Imprima o relat\xf3rio utilizando",(0,r.jsx)(a.a,{href:"/docs/pt/commands/print-selection",children:"PRINT SELECTION"}),"."]}),"\n",(0,r.jsx)(a.p,{children:"A fun\xe7\xe3o Subtotal \xe9 necess\xe1ria para mostrar valores em um formul\xe1rio."}),"\n",(0,r.jsx)(a.h4,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.a,{href:"/docs/pt/commands/accumulate",children:"ACCUMULATE"}),(0,r.jsx)(a.br,{}),"\n",(0,r.jsx)(a.a,{href:"/docs/pt/commands/break-level",children:"BREAK LEVEL"}),(0,r.jsx)(a.br,{}),"\n",(0,r.jsx)(a.a,{href:"/docs/pt/commands/level",children:"Level "}),(0,r.jsx)(a.br,{}),"\n",(0,r.jsx)(a.a,{href:"/docs/pt/commands/print-selection",children:"PRINT SELECTION"})]})]})}function m(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,a,o)=>{o.d(a,{R:()=>t,x:()=>d});var r=o(296540);const s={},n=r.createContext(s);function t(e){const a=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(n.Provider,{value:a},e.children)}}}]);