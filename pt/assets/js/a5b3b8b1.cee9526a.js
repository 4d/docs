"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["44368"],{660873:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>i,toc:()=>l,default:()=>h,metadata:()=>d,assets:()=>o,contentTitle:()=>a});var d=JSON.parse('{"id":"API/EntityClass","title":"Entity","description":"Uma entity \xe9 uma inst\xe2ncia de uma Dataclass, como um registro da tabela que corresponde \xe0 dataclass em seu datastore associado. Cont\xe9m os mesmos atributos que o dataclass assim como os valores de dados e propriedades e fun\xe7\xf5es espec\xedficas.","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-21/API/EntityClass.md","sourceDirName":"API","slug":"/API/EntityClass","permalink":"/docs/pt/API/EntityClass","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntityClass.md%20(21)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"21","frontMatter":{"id":"EntityClass","title":"Entity"},"sidebar":"docs","previous":{"title":"Email","permalink":"/docs/pt/API/EmailObjectClass"},"next":{"title":"EntitySelection","permalink":"/docs/pt/API/EntitySelectionClass"}}'),r=s(785893),t=s(250065);let i={id:"EntityClass",title:"Entity"},a=void 0,o={},l=[{value:"Resumo",id:"resumo",level:3},{value:".<em>attributeName</em>",id:"attributename",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo",id:"exemplo",level:4},{value:".clone()",id:"clone",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:4},{value:"Exemplo 1",id:"exemplo-1",level:4},{value:"Exemplo 2",id:"exemplo-2",level:4},{value:".diff()",id:"diff",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:4},{value:"Exemplo 1",id:"exemplo-1-1",level:4},{value:"Exemplo 2",id:"exemplo-2-1",level:4},{value:".drop()",id:"drop",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-3",level:4},{value:"Exemplo 1",id:"exemplo-1-2",level:4},{value:"Exemplo 2",id:"exemplo-2-2",level:4},{value:".first()",id:"first",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-4",level:4},{value:"Exemplo",id:"exemplo-3",level:4},{value:".fromObject()",id:"fromobject",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-5",level:4},{value:"Exemplo",id:"exemplo-4",level:4},{value:".getDataClass()",id:"getdataclass",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-6",level:4},{value:"Exemplo",id:"exemplo-5",level:4},{value:".getKey()",id:"getkey",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-7",level:4},{value:"Exemplo",id:"exemplo-6",level:4},{value:".getRemoteContextAttributes()",id:"getremotecontextattributes",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-8",level:4},{value:"Exemplo",id:"exemplo-7",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m",level:4},{value:".getSelection()",id:"getselection",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-9",level:4},{value:"Exemplo",id:"exemplo-8",level:4},{value:".getStamp()",id:"getstamp",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-10",level:4},{value:"Exemplo",id:"exemplo-9",level:4},{value:".indexOf()",id:"indexof",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-11",level:4},{value:"Exemplo",id:"exemplo-10",level:4},{value:".isNew()",id:"isnew",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-12",level:4},{value:"Exemplo",id:"exemplo-11",level:4},{value:".last()",id:"last",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-13",level:4},{value:"Exemplo",id:"exemplo-12",level:4},{value:".lock()",id:"lock",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-14",level:4},{value:"Exemplo 1",id:"exemplo-1-3",level:4},{value:"Exemplo 2",id:"exemplo-2-3",level:4},{value:".next()",id:"next",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-15",level:4},{value:"Exemplo",id:"exemplo-13",level:4},{value:".previous()",id:"previous",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-16",level:4},{value:"Exemplo",id:"exemplo-14",level:4},{value:".reload()",id:"reload",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-17",level:4},{value:"Exemplo",id:"exemplo-15",level:4},{value:".save()",id:"save",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-18",level:4},{value:"status e statusText",id:"status-e-statustext",level:5},{value:"Exemplo 1",id:"exemplo-1-4",level:4},{value:"Exemplo 2",id:"exemplo-2-4",level:4},{value:"Exemplo 3",id:"exemplo-3-1",level:4},{value:".toObject()",id:"toobject",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-19",level:4},{value:"Exemplo 1",id:"exemplo-1-5",level:4},{value:"Exemplo 2",id:"exemplo-2-5",level:4},{value:"Exemplo 3",id:"exemplo-3-2",level:4},{value:"Exemplo",id:"exemplo-16",level:4},{value:"Exemplo 2",id:"exemplo-2-6",level:4},{value:"Exemplo 6",id:"exemplo-6-1",level:4},{value:"Exemplo 3",id:"exemplo-3-3",level:4},{value:".touched()",id:"touched",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-20",level:4},{value:"Exemplo",id:"exemplo-17",level:4},{value:".touchedAttributes()",id:"touchedattributes",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-21",level:4},{value:"Exemplo 1",id:"exemplo-1-6",level:4},{value:"Exemplo 2",id:"exemplo-2-7",level:4},{value:".unlock()",id:"unlock",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-22",level:4},{value:"Exemplo",id:"exemplo-18",level:4}];function c(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Uma ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/dsmapping#entity",children:"entity"})," \xe9 uma inst\xe2ncia de uma ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/dsmapping#dataclass",children:"Dataclass"}),", como um registro da tabela que corresponde \xe0 dataclass em seu datastore associado. Cont\xe9m os mesmos atributos que o dataclass assim como os valores de dados e propriedades e fun\xe7\xf5es espec\xedficas."]}),"\n",(0,r.jsx)(n.h3,{id:"resumo",children:"Resumo"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsx)(n.tr,{children:(0,r.jsx)(n.th,{})})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#attributename",children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:".attributeName"})})," : any"]}),(0,r.jsx)(n.br,{}),"armazena o valor do atributo para a entidade"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#clone",children:[(0,r.jsx)(n.strong,{children:".clone()"})," : 4D.Entity"]}),(0,r.jsx)(n.br,{}),"cria na mem\xf3ria uma nova entidade referenciando o mesmo registro que a entidade original"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#diff",children:[(0,r.jsx)(n.strong,{children:".diff"}),"( ",(0,r.jsx)(n.em,{children:"entityToCompare"})," : 4D.Entity { ; ",(0,r.jsx)(n.em,{children:"attributesToCompare"})," : Collection } ) : Collection"]}),(0,r.jsx)(n.br,{}),"compara o conte\xfado de duas entidades e retorna suas diferen\xe7as"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#drop",children:[(0,r.jsx)(n.strong,{children:".drop"}),"( {",(0,r.jsx)(n.em,{children:"mode"})," : Integer} ) : Object"]}),(0,r.jsx)(n.br,{}),"exclui os dados contidos na entidade do armazenamento de dados"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#first",children:[(0,r.jsx)(n.strong,{children:".first()"}),": 4D.Entity"]}),(0,r.jsx)(n.br,{}),"retorna uma refer\xeancia \xe0 entidade na primeira posi\xe7\xe3o da sele\xe7\xe3o de entidades \xe0 qual a entidade pertence"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#fromobject",children:[(0,r.jsx)(n.strong,{children:".fromObject"}),"( ",(0,r.jsx)(n.em,{children:"filler"})," : Object )"]}),(0,r.jsx)(n.br,{}),"preenche uma entidade com o conte\xfado ",(0,r.jsx)(n.em,{children:"filler"})]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#getdataclass",children:[(0,r.jsx)(n.strong,{children:".getDataClass()"})," : 4D.DataClass"]}),(0,r.jsx)(n.br,{}),"retorna a dataclass da entidade"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#getkey",children:[(0,r.jsx)(n.strong,{children:".getKey"}),"( { ",(0,r.jsx)(n.em,{children:"mode"})," : Integer } ) : qualquer"]}),(0,r.jsx)(n.br,{}),"retorna o valor da chave prim\xe1ria da entidade"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#getremotecontextattributes",children:[(0,r.jsx)(n.strong,{children:".getRemoteContextAttributes()"})," : Text"]}),(0,r.jsx)(n.br,{}),"retorna informa\xe7\xf5es sobre o contexto de otimiza\xe7\xe3o usado pela entidade"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#getselection",children:[(0,r.jsx)(n.strong,{children:".getSelection()"}),": 4D.EntitySelection"]}),(0,r.jsx)(n.br,{}),"retorna a sele\xe7\xe3o da entidade \xe0 qual a entidade pertence"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#getstamp",children:[(0,r.jsx)(n.strong,{children:".getStamp()"})," : Integer"]}),(0,r.jsx)(n.br,{})," retorna o valor atual do carimbo da entidade"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#indexof",children:[(0,r.jsx)(n.strong,{children:".indexOf"}),"( { ",(0,r.jsx)(n.em,{children:"entitySelection"})," : 4D.EntitySelection } ) : Integer"]}),(0,r.jsx)(n.br,{}),"retorna a posi\xe7\xe3o da entidade em uma entity selection"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#isnew",children:[(0,r.jsx)(n.strong,{children:".isNew()"})," : Boolean"]}),(0,r.jsx)(n.br,{})," retorna True se a entidade \xe0 qual ela \xe9 aplicada tiver acabado de ser criada e ainda n\xe3o tiver sido salva no reposit\xf3rio de dados"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#last",children:[(0,r.jsx)(n.strong,{children:".last()"})," : 4D.Entity"]}),(0,r.jsx)(n.br,{}),"retorna uma refer\xeancia \xe0 entidade na \xfaltima posi\xe7\xe3o da sele\xe7\xe3o de entidades \xe0 qual a entidade pertence"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#lock",children:[(0,r.jsx)(n.strong,{children:".lock"}),"( { ",(0,r.jsx)(n.em,{children:"mode"})," : Integer } ) : Object"]}),(0,r.jsx)(n.br,{}),"coloca um bloqueio pessimista no registro referenciado pela entidade"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#next",children:[(0,r.jsx)(n.strong,{children:".next()"})," : 4D.Entity"]}),(0,r.jsx)(n.br,{}),"retorna uma refer\xeancia \xe0 pr\xf3xima entidade na sele\xe7\xe3o de entidades \xe0 qual a entidade pertence"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#previous",children:[(0,r.jsx)(n.strong,{children:".previous()"}),"  : 4D.Entity"]}),(0,r.jsx)(n.br,{})," retorna uma refer\xeancia \xe0 entidade anterior na sele\xe7\xe3o de entidades \xe0 qual a entidade pertence"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#reload",children:[(0,r.jsx)(n.strong,{children:".reload()"})," : Object"]}),(0,r.jsx)(n.br,{}),"recarrega o conte\xfado da entidade na mem\xf3ria"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#save",children:[(0,r.jsx)(n.strong,{children:".save"}),"( { ",(0,r.jsx)(n.em,{children:"mode"})," : Integer } ) : Object"]}),(0,r.jsx)(n.br,{}),"salva as altera\xe7\xf5es feitas na entidade"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#toobject",children:[(0,r.jsx)(n.strong,{children:".toObject"}),"() : Object",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".toObject"}),"( ",(0,r.jsx)(n.em,{children:"filterString"})," : Text { ; ",(0,r.jsx)(n.em,{children:"options"})," : Integer}  ) : Object",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".toObject"}),"( ",(0,r.jsx)(n.em,{children:"filterCol"})," : Collection { ; ",(0,r.jsx)(n.em,{children:"options"})," : Integer } ) : Object"]}),(0,r.jsx)(n.br,{}),"retorna um objeto que foi criado a partir da entidade"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#touched",children:[(0,r.jsx)(n.strong,{children:".touched()"})," : Boolean"]}),(0,r.jsx)(n.br,{}),"retorna True se pelo menos um atributo de entidade tiver sido modificado desde que a entidade foi carregada na mem\xf3ria ou salva"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#touchedattributes",children:[(0,r.jsx)(n.strong,{children:".touchedAttributes()"})," : Collection"]}),(0,r.jsx)(n.br,{})," retorna os nomes dos atributos que foram modificados desde que a entidade foi carregada na mem\xf3ria"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#unlock",children:[(0,r.jsx)(n.strong,{children:".unlock()"})," : Object"]}),(0,r.jsx)(n.br,{}),"remove o bloqueio pessimista do registro correspondente \xe0 entidade"]})})]})]}),"\n",(0,r.jsxs)(n.h2,{id:"attributename",children:[".",(0,r.jsx)(n.em,{children:"attributeName"})]}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:".attributeName"})})," : any"]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(n.p,{children:"Qualquer atributo de classe de dados est\xe1 dispon\xedvel como uma propriedade de uma entidade, que armazena o valor do atributo para a entidade."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Atributos de Dataclass tamb\xe9m podem ser alcan\xe7ados usando a sintaxe alternativa com [ ]."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["O tipo de valor do atributo depende do atributo ",(0,r.jsx)(n.a,{href:"/docs/pt/API/DataClassClass#attributename",children:"kind"})," (rela\xe7\xe3o ou armazenamento):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Se o tipo de ",(0,r.jsx)(n.em,{children:"attributeName"})," for ",(0,r.jsx)(n.strong,{children:"storage"}),":\n",(0,r.jsx)(n.code,{children:".attributeName"})," retorna um valor do mesmo tipo que ",(0,r.jsx)(n.em,{children:"attributeName"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Se o tipo ",(0,r.jsx)(n.em,{children:"attributeName"})," est\xe1 ",(0,r.jsx)(n.strong,{children:"relatedEntity"}),":\n",(0,r.jsx)(n.code,{children:".attributeName"}),' retorna a entidade relacionada. Valores da entidade relacionada est\xe3o diretamente dispon\xedveis atrav\xe9s de propriedades em cascata, por exemplo "myEntity.employer.employees[0].lastname".']}),"\n",(0,r.jsxs)(n.li,{children:["Se o tipo ",(0,r.jsx)(n.em,{children:"attributeName"})," for ",(0,r.jsx)(n.strong,{children:"relatedEntities"}),":\n",(0,r.jsx)(n.code,{children:".attributeName"})," retorna uma nova sele\xe7\xe3o de entidades relacionadas. Se eliminam os duplicados (se devolve uma sele\xe7\xe3o de entidades desordenada)."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $myEntity : cs. EmployeeEntity\n $myEntity:=ds. Employee.new() //Create a new entity\n $myEntity.name:=\"Dupont\" // assign 'Dupont' to the 'name' attribute\n $myEntity.firstname:=\"John\" //assign 'John' to the 'firstname' attribute\n $myEntity.save() //save the entity\n"})}),"\n",(0,r.jsx)(n.h2,{id:"clone",children:".clone()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".clone()"})," : 4D.Entity"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. Entity"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Nova entidade referenciando o registro"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-1",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".clone()"})," cria na mem\xf3ria uma nova entidade referenciando o mesmo registro que a entidade original."]}),"\n",(0,r.jsx)(n.p,{children:"This function allows you to update entities separately. No entanto, por raz\xf5es de desempenho, a nova entidade compartilha a mesma refer\xeancia de atributos de objeto que a entidade clonada."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Tenha em mente que quaisquer modifica\xe7\xf5es feitas em entidades ser\xe3o salvas no registro referenciado somente quando a fun\xe7\xe3o ",(0,r.jsx)(n.a,{href:"#save",children:(0,r.jsx)(n.code,{children:".save()"})})," for executada."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Esta fun\xe7\xe3o s\xf3 pode ser usada com entidades j\xe1 salvas no banco de dados. N\xe3o pode ser chamado em uma entidade rec\xe9m-criada (para a qual ",(0,r.jsx)(n.a,{href:"#isnew",children:(0,r.jsx)(n.code,{children:".isNew()"})})," retorna ",(0,r.jsx)(n.strong,{children:"True"}),")."]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $emp; $empCloned : cs.EmployeeEntity\n $emp:=ds.Employee.get(672)\n $empCloned:=$emp.clone()\n\n $emp.lastName:="Smith" //Atualiza\xe7\xf5es feitas em $emp n\xe3o s\xe3o feitas em $empCloned\n\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.p,{children:"If you don't want the new entity to share object-type attribute references, you must copy them."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $emp; $empCloned : cs.EmployeeEntity\n $emp:=ds.Employee.all().first()\n $empCloned:=$emp.clone()\n $empCloned.objectAtt:=OB Copy($emp.objectAtt)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"diff",children:".diff()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".diff"}),"( ",(0,r.jsx)(n.em,{children:"entityToCompare"})," : 4D.Entity { ; ",(0,r.jsx)(n.em,{children:"attributesToCompare"})," : Collection } ) : Collection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"entityToCompare"}),(0,r.jsx)(n.td,{children:"4D. Entity"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Entidade a ser comparada com a entidade original"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"attributesToCompare"}),(0,r.jsx)(n.td,{children:"Collection"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Nome dos atributos a serem comparados"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Collection"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Diferen\xe7as entre as entidades"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-2",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".diff()"})," compara o conte\xfado de duas entidades e retorna suas diferen\xe7as."]}),"\n",(0,r.jsxs)(n.p,{children:["No ",(0,r.jsx)(n.em,{children:"entityToCompare"}),", passe a entidade a ser comparada \xe0 entidade original."]}),"\n",(0,r.jsxs)(n.p,{children:["Em ",(0,r.jsx)(n.em,{children:"attributesToCompare"}),", voc\xea pode designar atributos espec\xedficos para comparar. Se fornecida, a compara\xe7\xe3o \xe9 feita apenas nos atributos especificados. Se n\xe3o for fornecida, todas as diferen\xe7as entre as entidades s\xe3o devolvidas."]}),"\n",(0,r.jsx)(n.p,{children:"As diferen\xe7as s\xe3o retornadas como uma cole\xe7\xe3o de objetos cujas propriedades s\xe3o:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nome da propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"attributeName"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Nome do atributo"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"value"}),(0,r.jsx)(n.td,{children:"any - Depende do tipo de atributo"}),(0,r.jsx)(n.td,{children:"Valor do atributo na entidade"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"otherValue"}),(0,r.jsx)(n.td,{children:"any - Depende do tipo de atributo"}),(0,r.jsxs)(n.td,{children:["Valor do atributo em ",(0,r.jsx)(n.em,{children:"entityToCompare"})]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Apenas atributos com valores diferentes est\xe3o inclu\xeddos na cole\xe7\xe3o. Se nenhuma diferen\xe7a for encontrada, ",(0,r.jsx)(n.code,{children:".diff()"})," retorna uma cole\xe7\xe3o vazia."]}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o se aplica a propriedades cujo ",(0,r.jsx)(n.a,{href:"/docs/pt/API/DataClassClass#attributename",children:"kind"})," \xe9 ",(0,r.jsx)(n.strong,{children:"storage"})," ou ",(0,r.jsx)(n.strong,{children:"relatedEntity"}),". Caso uma entidade relacionada tenha sido atualizada (ou seja, a chave estrangeira), o nome da entidade relacionada e o nome de sua chave prim\xe1ria s\xe3o retornados como propriedades ",(0,r.jsx)(n.em,{children:"attributeName"})," (",(0,r.jsx)(n.em,{children:"value"})," e ",(0,r.jsx)(n.em,{children:"otherValue"})," est\xe3o vazios para o nome da entidade relacionada)."]}),"\n",(0,r.jsxs)(n.p,{children:["Se uma das entidades comparadas for ",(0,r.jsx)(n.strong,{children:"Null"}),", um erro \xe9 gerado."]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1-1",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $diff1; $diff2 : Collection\n employee:=ds. Employee.query("ID=1001").first()\n $clone:=employee.clone()\n employee.firstName:="MARIE"\n employee.lastName:="SOPHIE"\n employee.salary:=500\n $diff1:=$clone.diff(employee) // All differences are returned\n $diff2:=$clone.diff(employee;New collection"firstName";"lastName"))\n  // Only differences on firstName and lastName are returned\n'})}),"\n",(0,r.jsx)(n.p,{children:"$diff1:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'[\n    {\n        "attributeName": "firstName",\n        "value": "Natasha",\n        "otherValue": "MARIE"\n    },\n    {\n        "attributeName": "lastName",\n        "value": "Locke",\n        "otherValue": "SOPHIE"\n    },\n    {\n        "attributeName": "salary",\n        "value": 66600,\n        "otherValue": 500\n    }\n]\n$diff2:\n\n[\n    {\n        "attributeName": "firstName",\n        "value": "Natasha",\n        "otherValue": "MARIE"\n    },\n    {\n        "attributeName": "lastName",\n        "value": "Locke",\n        "otherValue": "SOPHIE"\n    }\n]\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-1",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var vCompareResult1; vCompareResult2; vCompareResult3; $attributesToInspect : Collection\n vCompareResult1:=New collection\n vCompareResult2:=New collection\n vCompareResult3:=New collection\n $attributesToInspect:=New collection\n\n $e1:=ds.Employee.get(636)\n $e2:=ds.Employee.get(636)\n\n $e1.firstName:=$e1.firstName+" update"\n $e1.lastName:=$e1.lastName+" update"\n\n $c:=ds.Company.get(117)\n $e1.employer:=$c\n $e2.salary:=100\n\n $attributesToInspect.push("firstName")\n $attributesToInspect.push("lastName")\n\n vCompareResult1:=$e1.diff($e2)\n vCompareResult2:=$e1.diff($e2;$attributesToInspect)\n vCompareResult3:=$e1.diff($e2;$e1.touchedAttributes())\n'})}),"\n",(0,r.jsx)(n.p,{children:"vCompareResult3 (apenas as diferen\xe7as em $e1 atributos tocados s\xe3o retornadas)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'[\n    {\n        "attributeName": "firstName",\n        "value": "Karla update",\n        "otherValue": "Karla"\n    },\n    {\n        "attributeName": "lastName",\n        "value": "Marrero update",\n        "otherValue": "Marrero"\n    },\n    {\n        "attributeName": "salary",\n        "value": 33500,\n        "otherValue": 100\n    },\n    {\n        "attributeName": "employerID",\n        "value": 117,\n        "otherValue": 118\n    },\n  {\n        "attributeName": "employer",\n        "value": "[object Entity]",// Entity 117 from Company\n        "otherValue": "[object Entity]"// Entity 118 from Company\n    }\n]\n'})}),"\n",(0,r.jsx)(n.p,{children:"vCompareResult2 (apenas diferen\xe7as em $attributesToInspect foram retornadas)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'[\n    {\n        "attributeName": "firstName",\n        "value": "Karla update",\n        "otherValue": "Karla"\n    },\n    {\n        "attributeName": "lastName",\n        "value": "Marrero update",\n        "otherValue": "Marrero"\n    }\n]\n'})}),"\n",(0,r.jsx)(n.p,{children:"vCompareResultado1 (todas as diferen\xe7as s\xe3o devolvidas):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'[\n    {\n        "attributeName": "firstName",\n        "value": "Karla update",\n        "otherValue": "Karla"\n    },\n    {\n        "attributeName": "lastName",\n        "value": "Marrero update",\n        "otherValue": "Marrero"\n    },\n    {\n        "attributeName": "employerID",\n        "value": 117,\n        "otherValue": 118\n    },\n     {\n        "attributeName": "employer",\n        "value": "[object Entity]",// Entity 117 from Company\n        "otherValue": "[object Entity]"// Entity 118 from Company\n\n    }\n]\n'})}),"\n",(0,r.jsx)(n.h2,{id:"drop",children:".drop()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"21"}),(0,r.jsx)(n.td,{children:"Added status 7 and 8"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".drop"}),"( {",(0,r.jsx)(n.em,{children:"mode"})," : Integer} ) : Object"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"mode"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"dk force drop if stamp changed"}),": for\xe7a o drop mesmo se a estampa tenha mudado"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Resultado da opera\xe7\xe3o de exclus\xe3o"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-3",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".drop()"})," exclui os dados contidos na entidade do armazenamento de dados, da tabela relacionada \xe0 sua classe de dados. Note-se que a entidade permanece na mem\xf3ria."]}),"\n",(0,r.jsxs)(n.p,{children:["Em uma aplica\xe7\xe3o multiusu\xe1rio ou multiprocesso, a fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".drop()"})," \xe9 executada sob um mecanismo ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/entities#entity-locking",children:'"optimistic lock"'}),", onde um carimbo de bloqueio interno \xe9 automaticamente incrementado sempre que o registro \xe9 salvo."]}),"\n",(0,r.jsxs)(n.p,{children:["Por padr\xe3o, se o par\xe2metro ",(0,r.jsx)(n.em,{children:"mode"})," for omitido, a fun\xe7\xe3o retornar\xe1 um erro (veja abaixo) se a mesma entidade tiver sido modificada (ou seja, o selo mudou) por outro processo ou usu\xe1rio nesse meio tempo."]}),"\n",(0,r.jsxs)(n.p,{children:["Caso contr\xe1rio, voc\xea pode passar a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk force drop if stamp changed"})," no par\xe2metro ",(0,r.jsx)(n.em,{children:"mode"}),": nesse caso, a entidade \xe9 descartada mesmo que o carimbo tenha sido alterado (e a chave prim\xe1ria ainda seja a mesma)."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Resultado"})}),"\n",(0,r.jsxs)(n.p,{children:["The object returned by ",(0,r.jsx)(n.code,{children:".drop()"})," contains the following properties:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"success"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"verdadeiro se a a\xe7\xe3o de queda for bem-sucedida, falso caso contr\xe1rio."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel apenas em caso de erro:"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"status(*)"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"C\xf3digo de erro, ver abaixo"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"statusText(*)"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Descri\xe7\xe3o do erro, ver abaixo"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel apenas em caso de erro de bloqueio pessimista:"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"LockKindText"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:'"Bloqueado pelo registro"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"lockInfo"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"Informa\xe7\xf5es sobre a origem do bloqueio"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"task_id"}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"user_name"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Nome de usu\xe1rio de sess\xe3o na m\xe1quina"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"user4d_alias"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsxs)(n.td,{children:["Alias usu\xe1rio se definido por ",(0,r.jsx)(n.code,{children:"SET USER ALIAS"}),", caso contr\xe1rio, nome de usu\xe1rio no diret\xf3rio 4D"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"host_name"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Nome da m\xe1quina"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"task_name"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Nome de processo"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"client_version"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel apenas em caso de erro grave (erro grave pode ser tentar duplicar uma chave prim\xe1ria, disco cheio...):"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"errors"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"uma cole\xe7\xe3o de objetos"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"message"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Mensagem de erro"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"assinatura de componentes"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:'assinatura interna do componente (ex.: "dmbg" significa componente da base de dados)'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"errCode"}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"C\xf3digo de erro"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["(*) Os seguintes valores podem ser retornados no ",(0,r.jsx)(n.em,{children:"status"})," e nas propriedades ",(0,r.jsx)(n.em,{children:"statusText"})," do objeto ",(0,r.jsx)(n.em,{children:"Result"})," em caso de erro:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metros"}),(0,r.jsx)(n.th,{children:"Valor"}),(0,r.jsx)(n.th,{children:"Coment\xe1rio"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status entity does not exist anymore"})}),(0,r.jsx)(n.td,{children:"5"}),(0,r.jsxs)(n.td,{children:["A entidade n\xe3o existe mais nos dados. Este erro pode ocorrer nos seguintes casos:",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.li,{children:"a entidade foi descartada (o selo mudou e o espa\xe7o de mem\xf3ria agora \xe9 livre)"}),(0,r.jsx)(n.li,{children:"a entidade foi descartada e substitu\xedda por outra chave prim\xe1ria (o selo mudou e uma nova entidade agora usa o espa\xe7o de mem\xf3ria). When using entity.drop(), this error can be returned when dk force drop if stamp changed option is used. When using entity.lock(), this error can be returned when dk reload if stamp changed option is used."})," ",(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Entity does not exist anymore"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status locked"})}),(0,r.jsx)(n.td,{children:"3"}),(0,r.jsxs)(n.td,{children:["A entidade est\xe1 trancada por um bloqueio pessimista.",(0,r.jsx)(n.br,{})," ",(0,r.jsx)(n.strong,{children:"Texto de status"}),': "J\xe1 bloqueado"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status validation failed"})}),(0,r.jsx)(n.td,{children:"7"}),(0,r.jsxs)(n.td,{children:["Non fatal error sent by the developer for a ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/orda-events",children:"validate event"}),". ",(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Mild Validation Error"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status serious error"})}),(0,r.jsx)(n.td,{children:"4"}),(0,r.jsxs)(n.td,{children:["A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Other error"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status serious validation error"})}),(0,r.jsx)(n.td,{children:"8"}),(0,r.jsxs)(n.td,{children:["Fatal error sent by the developer for a ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/orda-events",children:"validate event"}),". ",(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Serious Validation Error"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status stamp has changed"})}),(0,r.jsx)(n.td,{children:"2"}),(0,r.jsxs)(n.td,{children:["The internal stamp value of the entity does not match the one of the entity stored in the data (optimistic lock).",(0,r.jsx)(n.br,{}),(0,r.jsxs)(n.li,{children:["with ",(0,r.jsx)(n.code,{children:".save()"}),": error only if the ",(0,r.jsx)(n.code,{children:"dk auto merge"})," option is not used"]}),(0,r.jsxs)(n.li,{children:["with ",(0,r.jsx)(n.code,{children:".drop()"}),": error only if the ",(0,r.jsx)(n.code,{children:"dk force drop if stamp changed"})," option is not used"]}),(0,r.jsxs)(n.li,{children:["with ",(0,r.jsx)(n.code,{children:".lock()"}),": error only if the ",(0,r.jsx)(n.code,{children:"dk reload if stamp changed"})," option is not used"]}),(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Stamp has changed"']})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status wrong permission"})}),(0,r.jsx)(n.td,{children:"1"}),(0,r.jsxs)(n.td,{children:["Os privil\xe9gios actuais n\xe3o permitem a queda da entidade. ",(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Permission Error"']})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1-2",children:"Exemplo 1"}),"\n",(0,r.jsxs)(n.p,{children:["Exemplo sem a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk force drop if stamp changed"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n var $status : Object\n $employees:=ds.Employee.query("lastName=:1";"Smith")\n $employee:=$employees.first()\n $status:=$employee.drop()\n Case of\n    :($status.success)\n       ALERT("You have dropped "+$employee.firstName+" "+$employee.lastName) //A entidade descartada permanece na mem\xf3ria\n    :($status.status=dk status stamp has changed)\n       ALERT($status.statusText)\n End case\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-2",children:"Exemplo 2"}),"\n",(0,r.jsxs)(n.p,{children:["Exemplo com a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk force drop if stamp changed"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n var $status : Object\n $employees:=ds.Employee.query("lastName=:1";"Smith")\n $employee:=$employees.first()\n $status:=$employee.drop(dk force drop if stamp changed)\n Case of\n    :($status.success)\n       ALERT("You have dropped "+$employee.firstName+" "+$employee.lastName) //A entidade descartada permanece na mem\xf3ria\n    :($status.status=dk status entity does not exist anymore)\n       ALERT($status.statusText)\n End case\n'})}),"\n",(0,r.jsx)(n.h2,{id:"first",children:".first()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".first()"}),": 4D.Entity"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. Entity"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Referencia \xe0 primeira entidade da entity selection (Null se a sele\xe7\xe3o estiver vazia)"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-4",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".first()"})," retorna uma refer\xeancia \xe0 entidade na primeira posi\xe7\xe3o da sele\xe7\xe3o de entidades \xe0 qual a entidade pertence."]}),"\n",(0,r.jsxs)(n.p,{children:["Se a entidade n\xe3o pertencer a nenhuma sele\xe7\xe3o de entidade existente (ou seja, ",(0,r.jsx)(n.a,{href:"#getselection",children:".getSelection( )"})," retorna Null), a fun\xe7\xe3o retorna um valor Null."]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-3",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employees : cs.EmployeeSelection\n var $employee; $firstEmployee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1"; "H@") //Esta sele\xe7\xe3o de entidades cont\xe9m 3 entidades\n $employee:=$employees[2]\n $firstEmployee:=$employee.first() //$firstEmployee \xe9 a primeira entidade da sele\xe7\xe3o de entidades $employees\n'})}),"\n",(0,r.jsx)(n.h2,{id:"fromobject",children:".fromObject()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".fromObject"}),"( ",(0,r.jsx)(n.em,{children:"filler"})," : Object )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"filler"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Objeto para o qual vai preencher a entidade"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-5",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".fromObject()"})," preenche uma entidade com o conte\xfado ",(0,r.jsx)(n.em,{children:"filler"}),"."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Essa fun\xe7\xe3o modifica a entidade original."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"O mapeamento entre o objecto e a entidade \xe9 feito sobre os nomes dos atributos:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Se uma propriedade do objeto n\xe3o existe nos dados (dataclass), ela \xe9 ignorada."}),"\n",(0,r.jsxs)(n.li,{children:["Os tipos de dados devem ser equivalentes. Se houver uma incompatibilidade de tipo entre o objeto e o dataclass, 4D tenta converter os dados sempre que poss\xedvel (consulte ",(0,r.jsx)(n.a,{href:"/docs/pt/Concepts/data-types#converting-data-types",children:(0,r.jsx)(n.code,{children:"Convertendo tipos de dados"})}),"), caso contr\xe1rio, o atributo fica intocado."]}),"\n",(0,r.jsxs)(n.li,{children:['A chave prim\xe1ria pode ser dada como \xe9 ou com uma propriedade "__KEY" (preenchida com o valor da chave prim\xe1ria). Se ela ainda n\xe3o existir na classe de dados, a entidade ser\xe1 criada com o valor fornecido quando ',(0,r.jsx)(n.a,{href:"#save",children:".save()"})," for chamado. Se a chave prim\xe1ria n\xe3o for dada, a entidade \xe9 criada e o valor da chave prim\xe1ria \xe9 atribu\xeddo de acordo com as regras da base de dados. O auto-incremento s\xf3 \xe9 calculado se a chave prim\xe1ria for nula."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"filler"})," pode tratar de uma entidade relacionada sob as seguintes condi\xe7\xf5es:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"filler"})," cont\xe9m a chave estrangeira em si, ou"]}),"\n",(0,r.jsxs)(n.li,{children:["O ",(0,r.jsx)(n.em,{children:"filler"}),' cont\xe9m um objeto de propriedade com o mesmo nome da entidade relacionada, contendo uma \xfanica propriedade chamada "__KEY".']}),"\n",(0,r.jsx)(n.li,{children:"se a entidade relacionada n\xe3o existir, ela \xe9 ignorada."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-4",children:"Exemplo"}),"\n",(0,r.jsx)(n.p,{children:"Com o seguinte objeto $o:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'{\n    "firstName": "Mary",\n    "lastName": "Smith",\n    "salary": 36500,\n    "birthDate": "1958-10-27T00:00:00.000Z",\n    "woman": true,\n    "managerID": 411,// relatedEntity dada com PK\n    "employerID": 20 // relatedEntity dada com PK\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"O c\xf3digo a seguir criar\xe1 uma entidade com gerente e entidades relacionadas ao empregador."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $o : Object\n var $entity : cs.EmpEntity\n $entity:=ds.Emp.new()\n $entity.fromObject($o)\n $entity.save()\n"})}),"\n",(0,r.jsx)(n.p,{children:"Voc\xea tamb\xe9m poderia usar uma entidade relacionada dada como um objeto:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\n{\n    "firstName": "Marie",\n    "lastName": "Lechat",\n    "salary": 68400,\n    "birthDate": "1971-09-03T00:00:00.000Z",\n    "woman": false,\n    "employer": {// relatedEntity dada como um objeto\n        "__KEY": "21"\n    },\n    "manager": {// relatedEntity dada como um objeto\n        "__KEY": "411"\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"getdataclass",children:".getDataClass()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17 R5"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".getDataClass()"})," : 4D.DataClass"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. DataClass"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Objeto DataClass ao qual a entidade pertence"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-6",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".getDataClass()"})," retorna a dataclass da entidade. Esta fun\xe7\xe3o \xe9 \xfatil para configurar o c\xf3digo gen\xe9rico."]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-5",children:"Exemplo"}),"\n",(0,r.jsx)(n.p,{children:"O seguinte c\xf3digo gen\xe9rico duplica qualquer entidade:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"  //m\xe9todo duplicate_entity\n  //duplicate_entity($entity)\n\n #DECLARE($entity : 4D.Entity)  \n var $entityNew : 4D.Entity\n var $status : Object\n\n $entityNew:=$entity.getDataClass().new() //criar uma nova entidade na classe de dados pai\n $entityNew.fromObject($entity.toObject()) //obter todos os atributos\n $entityNew[$entity.getDataClass().getInfo().primaryKey]:=Null //redefinir a chave prim\xe1ria\n $status:=$entityNew.save() //salvar a entidade duplicada\n"})}),"\n",(0,r.jsx)(n.h2,{id:"getkey",children:".getKey()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".getKey"}),"( { ",(0,r.jsx)(n.em,{children:"mode"})," : Integer } ) : qualquer"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"mode"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"dk key as string"}),": a chave prim\xe1ria \xe9 retornada como uma string, independentemente do tipo de chave prim\xe1ria"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Valor da chave prim\xe1ria da entidade (Inteiro ou Texto)"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-7",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".getKey()"})," retorna o valor da chave prim\xe1ria da entidade."]}),"\n",(0,r.jsxs)(n.p,{children:['As chaves prim\xe1rias podem ser n\xfameros (Inteiro) ou strings. Voc\xea pode "for\xe7ar" o valor da chave prim\xe1ria retornada a ser uma cadeia de caracteres, independentemente do tipo real da chave prim\xe1ria, passando a op\xe7\xe3o ',(0,r.jsx)(n.code,{children:"dk key as string"})," no par\xe2metro ",(0,r.jsx)(n.em,{children:"mode"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-6",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName=:1";"Smith")\n $employee:=$employees[0]\n ALERT("The primary key is "+$employee.getKey(dk key as string))\n'})}),"\n",(0,r.jsx)(n.h2,{id:"getremotecontextattributes",children:".getRemoteContextAttributes()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"19R5"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".getRemoteContextAttributes()"})," : Text"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"resultado"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"<-"}),(0,r.jsx)(n.td,{children:"Atributos de contexto linkados \xe0 entidade, separados por uma v\xedrgula"})]})})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Modo avan\xe7ado:"})," Essa fun\xe7\xe3o \xe9 destinada a desenvolvedores que precisam personalizar os recursos padr\xe3o do ORDA para configura\xe7\xf5es espec\xedficas. Na maioria dos casos, n\xe3o necessitar\xe1 de o utilizar."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-8",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".getRemoteContextAttributes()"})," retorna informa\xe7\xf5es sobre o contexto de otimiza\xe7\xe3o usado pela entidade."]}),"\n",(0,r.jsxs)(n.p,{children:["Se n\xe3o houver ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/client-server-optimization",children:"contexto de otimiza\xe7\xe3o"})," para a entidade, a fun\xe7\xe3o retornar\xe1 um texto vazio."]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-7",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $ds : 4D. DataStoreImplementation\nvar $address : cs. AddressEntity\nvar $p : cs. PersonsEntity\nvar $contextA : Object\nvar $info : Text\nvar $text : Text\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$contextA:=New object("context"; "contextA")\n\n$address:=$ds. Address.get(1; $contextA)\n$text:="" For each ($p; $address.persons)\n    $text:=$p.firstname+" "+$p.lastname End for each\n\n$info:=$address.getRemoteContextAttributes()\n\n//$info = "persons,persons.lastname,persons.firstname"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"veja-tamb\xe9m",children:"Veja tamb\xe9m"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/pt/API/EntitySelectionClass#getremotecontextattributes",children:"EntitySelection.getRemoteContextAttributes()"}),(0,r.jsx)(n.br,{}),(0,r.jsx)(n.a,{href:"/docs/pt/API/DataStoreClass#clearallremotecontexts",children:".clearAllRemoteContexts()"}),(0,r.jsx)(n.br,{}),(0,r.jsx)(n.a,{href:"/docs/pt/API/DataStoreClass#getremotecontextinfo",children:".getRemoteContextInfo()"}),(0,r.jsx)(n.br,{}),(0,r.jsx)(n.a,{href:"/docs/pt/API/DataStoreClass#getallremotecontexts",children:".getAllRemoteContexts()"}),(0,r.jsx)(n.br,{}),(0,r.jsx)(n.a,{href:"/docs/pt/API/DataStoreClass#setremotecontextinfo",children:".setRemoteContextInfo()"})]}),"\n",(0,r.jsx)(n.h2,{id:"getselection",children:".getSelection()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".getSelection()"}),": 4D.EntitySelection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. EntitySelection"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Sele\xe7\xe3o de entidade a que pertence a entidade (null se n\xe3o for encontrado)"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-9",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".getSelection()"})," retorna a sele\xe7\xe3o da entidade \xe0 qual a entidade pertence."]}),"\n",(0,r.jsx)(n.p,{children:"Se a entidade n\xe3o pertence \xe0 sele\xe7\xe3o de uma entidade, a fun\xe7\xe3o retorna Null."}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-8",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $emp : cs.EmployeeEntity\n var $employees; $employees2 : cs.EmployeeSelection\n $emp:=ds.Employee.get(672) // Esta entidade n\xe3o pertence a nenhuma sele\xe7\xe3o de entidades\n $employees:=$emp.getSelection() // $employees \xe9 nulo\n\n $employees2:=ds.Employee.query("lastName=:1"; "Smith") /Esta sele\xe7\xe3o de entidades cont\xe9m 6 entidades\n $emp:=$employees2[0]  // Esta entidade pertence a uma sele\xe7\xe3o de entidades\n\n ALERT("A sele\xe7\xe3o de entidades cont\xe9m "+String($emp.getSelection().length)+" entidades")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"getstamp",children:".getStamp()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".getStamp()"})," : Integer"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Estampa da entidade (0 se a entidade foi criada)"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-10",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".getStamp()"}),"  retorna o valor atual do carimbo da entidade."]}),"\n",(0,r.jsxs)(n.p,{children:["O selo interno \xe9 automaticamente incrementado por 4D cada vez que a entidade \xe9 gravada. Ele gerencia os acessos simult\xe2neos e as modifica\xe7\xf5es de usu\xe1rios \xe0s mesmas entidades (consulte ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/entities#entity-locking",children:(0,r.jsx)(n.strong,{children:"bloqueio de uma entidade"})}),")."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Para uma nova entidade (nunca salva), a fun\xe7\xe3o retorna 0. Para saber se uma entidade acabou de ser criada, recomenda-se a utiliza\xe7\xe3o de ",(0,r.jsx)(n.a,{href:"#isnew",children:".isNew()"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-9",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $entity : cs.EmployeeEntity\n var $stamp : Integer\n\n $entity:=ds.Employee.new()\n $entity.lastname:="Smith"\n $entity.save()\n $stamp:=$entity.getStamp() //$stamp=1\n\n $entity.lastname:="Wesson"\n $entity.save()\n $stamp:=$entity.getStamp() //$stamp=2\n'})}),"\n",(0,r.jsx)(n.h2,{id:"indexof",children:".indexOf()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".indexOf"}),"( { ",(0,r.jsx)(n.em,{children:"entitySelection"})," : 4D.EntitySelection } ) : Integer"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"entitySelection"}),(0,r.jsx)(n.td,{children:"4D. EntitySelection"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"A posi\xe7\xe3o da entidade \xe9 dada de acordo com a selec\xe7\xe3o desta entidade"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Posi\xe7\xe3o da entidade numa selec\xe7\xe3o de entidade"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-11",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".indexOf()"})," retorna a posi\xe7\xe3o da entidade em uma entity selection."]}),"\n",(0,r.jsxs)(n.p,{children:["Por padr\xe3o, se o par\xe2metro ",(0,r.jsx)(n.em,{children:"entitySelection"})," for omitido, a fun\xe7\xe3o retornar\xe1 a posi\xe7\xe3o da entidade em sua pr\xf3pria sele\xe7\xe3o de entidades. Caso contr\xe1rio, ele retorna a posi\xe7\xe3o da entidade dentro da ",(0,r.jsx)(n.em,{children:"entitySelection"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"O valor resultante \xe9 inclu\xeddo entre 0 e o comprimento da selec\xe7\xe3o da entidade -1."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Se a entidade n\xe3o tiver uma selec\xe7\xe3o de entidade ou n\xe3o pertencer a ",(0,r.jsx)(n.em,{children:"entitySelection"}),", a fun\xe7\xe3o retorna -1."]}),"\n",(0,r.jsxs)(n.li,{children:["Se ",(0,r.jsx)(n.em,{children:"entitySelection"})," for Null ou n\xe3o pertencer ao mesmo dataclass que a entidade, \xe9 apresentado um erro."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-10",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employees : cs. EmployeeSelection\n var $employee : cs. EmployeeEntity\n $employees:=ds. Employee.query("lastName = :1";"H@") //This entity selection contains 3 entities\n $employee:=$employees[1] //This entity belongs to an entity selection\n ALERT("The index of the entity in its own entity selection is "+String($employee.indexOf())) //1\n\n $employee:=ds. Employee.get(725) //This entity does not belong to an entity selection\n ALERT("The index of the entity is "+String($employee.indexOf())) // -1\n'})}),"\n",(0,r.jsx)(n.h2,{id:"isnew",children:".isNew()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".isNew()"})," : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"\xc9 True se a entidade acabou de ser criada e ainda n\xe3o foi salva. Caso contr\xe1rio, False."})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-12",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".isNew()"}),"  retorna True se a entidade \xe0 qual ela \xe9 aplicada tiver acabado de ser criada e ainda n\xe3o tiver sido salva no reposit\xf3rio de dados. Caso contr\xe1rio, devolve False."]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-11",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $emp : cs. EmployeeEntity\n\n $emp:=ds. Employee.new()\n\n If($emp.isNew())\n    ALERT("This is a new entity")\n End if\n'})}),"\n",(0,r.jsx)(n.h2,{id:"last",children:".last()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".last()"})," : 4D.Entity"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. Entity"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Refer\xeancia para a \xfaltima entidade de uma sele\xe7\xe3o de entidade (Null se n\xe3o for encontrado)"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-13",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".last()"})," retorna uma refer\xeancia \xe0 entidade na \xfaltima posi\xe7\xe3o da sele\xe7\xe3o de entidades \xe0 qual a entidade pertence."]}),"\n",(0,r.jsxs)(n.p,{children:["Se a entidade n\xe3o pertencer a nenhuma sele\xe7\xe3o de entidade existente (ou seja, ",(0,r.jsx)(n.a,{href:"#getselection",children:".getSelection( )"})," retorna Null), a fun\xe7\xe3o retorna um valor Null."]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-12",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employees : cs. EmployeeSelection\n var $employee; $lastEmployee : cs. EmployeeEntity\n $employees:=ds. Employee.query("lastName = :1";"H@") //This entity selection contains 3 entities\n $employee:=$employees[0]\n $lastEmployee:=$employee.last() //$lastEmployee is the last entity of the $employees entity selection\n'})}),"\n",(0,r.jsx)(n.h2,{id:"lock",children:".lock()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".lock"}),"( { ",(0,r.jsx)(n.em,{children:"mode"})," : Integer } ) : Object"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"mode"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"dk reload if stamp changed"}),": Recarregar antes de bloquear se o selo for alterado"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Resultado da opera\xe7\xe3o de bloqueio"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-14",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".lock()"})," coloca um bloqueio pessimista no registro referenciado pela entidade. O ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/entities#entity-locking",children:"bloqueio \xe9 definido"})," para um registro e todas as refer\xeancias da entidade no processo atual."]}),"\n",(0,r.jsxs)(n.p,{children:["Outros processos ver\xe3o este registro como bloqueado (a propriedade ",(0,r.jsx)(n.code,{children:"result.success"}),' conter\xe1 Falso se eles tentarem bloquear a mesma entidade usando esta fun\xe7\xe3o). S\xf3 as fun\xe7\xf5es executadas na sess\xe3o de "bloqueio" s\xe3o permitidas para editar e guardar os atributos da entidade. A entidade pode ser carregada como apenas leitura por outras sess\xf5es, mas n\xe3o ser\xe3o capazes de introduzir e guardar valores.']}),"\n",(0,r.jsxs)(n.p,{children:["Um registro bloqueado por ",(0,r.jsx)(n.code,{children:".lock()"})," \xe9 desbloqueado:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["quando a fun\xe7\xe3o ",(0,r.jsx)(n.a,{href:"#unlock",children:(0,r.jsx)(n.code,{children:"unlock()"})})," \xe9 chamada em uma entidade correspondente no mesmo processo"]}),"\n",(0,r.jsx)(n.li,{children:"automaticamente, quando j\xe1 n\xe3o \xe9 referenciado por nenhuma entidade em mem\xf3ria. Por exemplo, se a fechadura for colocada apenas numa refer\xeancia local de uma entidade, a entidade \xe9 desbloqueada quando a fun\xe7\xe3o termina. Enquanto houver refer\xeancias \xe0 entidade em mem\xf3ria, o registo permanece bloqueado."}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Notas",type:"note",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#unlock",children:(0,r.jsx)(n.code,{children:"unlock()"})})," deve ser chamado tantas vezes quanto ",(0,r.jsx)(n.code,{children:"lock()"})," foi chamado no mesmo processo para que a entidade seja realmente desbloqueada."]}),"\n",(0,r.jsxs)(n.li,{children:["Uma entidade tamb\xe9m pode ser ",(0,r.jsx)(n.a,{href:"/docs/pt/REST/lock",children:"travada por uma sess\xe3o REST"}),", caso em que s\xf3 pode ser destravada pela sess\xe3o."]}),"\n"]})}),"\n",(0,r.jsxs)(n.p,{children:["Por padr\xe3o, se o par\xe2metro ",(0,r.jsx)(n.em,{children:"mode"})," for omitido, a fun\xe7\xe3o retornar\xe1 um erro (veja abaixo) se a mesma entidade tiver sido modificada (ou seja, o selo mudou) por outro processo ou usu\xe1rio nesse meio tempo."]}),"\n",(0,r.jsxs)(n.p,{children:["Caso contr\xe1rio, voc\xea pode passar a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk reload if stamp changed"})," no par\xe2metro ",(0,r.jsx)(n.em,{children:"mode"}),": nesse caso, nenhum erro \xe9 retornado e a entidade \xe9 recarregada quando o carimbo \xe9 alterado (se a entidade ainda existir e a chave prim\xe1ria ainda for a mesma)."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Resultado"})}),"\n",(0,r.jsxs)(n.p,{children:["O objeto retornado por ",(0,r.jsx)(n.code,{children:".lock()"})," cont\xe9m as seguintes propriedades:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"success"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"true se a a\xe7\xe3o de bloqueio for bem sucedida (ou se a entidade j\xe1 estiver bloqueada no processo atual), falso caso contr\xe1rio."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:(0,r.jsxs)(n.strong,{children:["Dispon\xedvel somente se a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk reload if stamp changed"})," for usada:"]})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"wasReloaded"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"verdadeiro se a entidade foi recarregada com sucesso, falso caso contr\xe1rio."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel apenas em caso de erro:"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"status(*)"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"C\xf3digo de erro, ver abaixo"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"statusText(*)"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Descri\xe7\xe3o do erro, ver abaixo"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel apenas em caso de erro de bloqueio pessimista:"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"lockKindText"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:'"Locked by record" se trancado por um processo 4D, "Locked by session" se trancado por uma sess\xe3o REST'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"lockInfo"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"Informa\xe7\xf5es sobre a origem do bloqueio. Retorna propriedades dependendo da origem da trava (processo 4D ou sess\xe3o REST)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel s\xf3 para um processo trava 4D:"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"task_id"}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"Process ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"user_name"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Nome de usu\xe1rio de sess\xe3o na m\xe1quina"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"user4d_alias"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Nome ou apelido do usu\xe1rio 4D"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"user4d_id"}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"Id do usu\xe1rio no diret\xf3rio do banco de dados 4D"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"host_name"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Nome da m\xe1quina"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"task_name"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Nome de processo"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"client_version"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Vers\xe3o do cliente"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel s\xf3 para um processo trava REST:"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"host"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsxs)(n.td,{children:['URL que bloqueou a entidade (por exemplo, "',(0,r.jsx)(n.a,{href:"http://www.myserver.com%60",children:"www.myserver.com`"}),'")']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"IPAddr"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:'Endere\xe7o IP da trava (por exemplo. "127.0.0.1")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"userAgent"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:'userAgent of the locker (e.g. Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel somente em caso de erro grave"})})," (chave prim\xe1ria j\xe1 existe, disco cheio...):"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"errors"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"uma cole\xe7\xe3o de objetos"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"message"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Mensagem de erro"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"assinatura de componentes"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:'assinatura interna do componente (ex.: "dmbg" significa componente da base de dados)'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"errCode"}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"C\xf3digo de erro"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["(*) Os seguintes valores podem ser retornados no ",(0,r.jsx)(n.em,{children:"status"})," e nas propriedades ",(0,r.jsx)(n.em,{children:"statusText"})," do objeto ",(0,r.jsx)(n.em,{children:"Resultado"})," em caso de erro:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metros"}),(0,r.jsx)(n.th,{children:"Valor"}),(0,r.jsx)(n.th,{children:"Coment\xe1rio"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status entity does not exist anymore"})}),(0,r.jsx)(n.td,{children:"5"}),(0,r.jsxs)(n.td,{children:["A entidade n\xe3o existe mais nos dados. Esse erro pode ocorrer nos seguintes casos",(0,r.jsx)(n.li,{children:":a entidade foi descartada (o carimbo foi alterado e o espa\xe7o de mem\xf3ria agora est\xe1 livre)"}),(0,r.jsxs)(n.li,{children:["a entidade foi descartada e substitu\xedda por outra com outra chave prim\xe1ria (o carimbo foi alterado e uma nova entidade agora usa o espa\xe7o de mem\xf3ria). When using ",(0,r.jsx)(n.code,{children:".drop()"}),", this error can be returned when dk force drop if stamp changed option is used. Quando usando ",(0,r.jsx)(n.code,{children:". ock()"}),", este erro pode ser retornado quando a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk reload se o carimbo mudar"})," \xe9 usada"]}),(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:"Associado statusText"}),': "Entidade n\xe3o existe mais"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status locked"})}),(0,r.jsx)(n.td,{children:"3"}),(0,r.jsxs)(n.td,{children:["A entidade est\xe1 bloqueada por um bloqueio pessimista.",(0,r.jsx)(n.strong,{children:"statusText associado"}),': "Already locked"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status serious error"})}),(0,r.jsx)(n.td,{children:"4"}),(0,r.jsxs)(n.td,{children:["A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Other error"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status stamp has changed"})}),(0,r.jsx)(n.td,{children:"2"}),(0,r.jsxs)(n.td,{children:["The internal stamp value of the entity does not match the one of the entity stored in the data (optimistic lock).",(0,r.jsxs)(n.li,{children:["with ",(0,r.jsx)(n.code,{children:".save()"}),": error only if the ",(0,r.jsx)(n.code,{children:"dk auto merge"})," option is not used"]}),(0,r.jsxs)(n.li,{children:["with ",(0,r.jsx)(n.code,{children:".drop()"}),": error only if the ",(0,r.jsx)(n.code,{children:"dk force drop if stamp changed"})," option is not used"]}),(0,r.jsxs)(n.li,{children:["with ",(0,r.jsx)(n.code,{children:".lock()"}),": error only if the ",(0,r.jsx)(n.code,{children:"dk reload if stamp changed"})," option is not used"]}),(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Stamp has changed"']})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1-3",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.p,{children:"Exemplo com erro:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employee : cs. EmployeeEntity\n var $status : Object\n $employee:=ds. Employee.get(716)\n $status:=$employee.lock()\n Case of\n    :($status.success)\n       ALERT("You have locked "+$employee.firstName+" "+$employee.lastName)\n    :($status.status=dk status stamp has changed)\n       ALERT($status.statusText)\n End case\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-3",children:"Exemplo 2"}),"\n",(0,r.jsxs)(n.p,{children:["Exemplo com a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk reload if stamp changed"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employee : cs. EmployeeEntity\n var $status : Object\n $employee:=ds. Employee.get(717)\n $status:=$employee.lock(dk reload if stamp changed)\n Case of\n    :($status.success)\n       ALERT("You have locked "+$employee.firstName+" "+$employee.lastName)\n    :($status.status=dk status entity does not exist anymore)\n       ALERT($status.statusText)\n End case\n'})}),"\n",(0,r.jsx)(n.h2,{id:"next",children:".next()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".next()"})," : 4D.Entity"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. Entity"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Refer\xeancia a entidade anterior na sele\xe7\xe3o da entidade (Null se n\xe3o for encontrado)"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-15",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".next()"})," retorna uma refer\xeancia \xe0 pr\xf3xima entidade na sele\xe7\xe3o de entidades \xe0 qual a entidade pertence."]}),"\n",(0,r.jsxs)(n.p,{children:["Se a entidade n\xe3o pertencer a nenhuma sele\xe7\xe3o de entidade existente (ou seja, ",(0,r.jsx)(n.a,{href:"#getselection",children:".getSelection()"})," retorna Null), a fun\xe7\xe3o retorna um valor Null."]}),"\n",(0,r.jsx)(n.p,{children:"Se n\xe3o houver entidade seguinte v\xe1lida na selec\xe7\xe3o da entidade (ou seja, se estiver na \xfaltima entidade da selec\xe7\xe3o), a fun\xe7\xe3o devolve Null. Se a entidade seguinte tiver sido abandonada, a fun\xe7\xe3o devolve a entidade v\xe1lida seguinte (e eventualmente Nula)."}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-13",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employees : cs.EmployeeSelection\n var $employee; $nextEmployee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1"; "H@") //Esta sele\xe7\xe3o de entidades cont\xe9m 3 entidades\n $employee:=$employees[0]\n $nextEmployee:=$employee.next() //$nextEmployee \xe9 a segunda entidade da sele\xe7\xe3o de entidades $employees\n\n'})}),"\n",(0,r.jsx)(n.h2,{id:"previous",children:".previous()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".previous()"}),"  : 4D.Entity"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. Entity"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Refer\xeancia para a pr\xf3xima entidade de uma sele\xe7\xe3o de entidade (Null se n\xe3o for encontrado)"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-16",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".previous()"}),"  retorna uma refer\xeancia \xe0 entidade anterior na sele\xe7\xe3o de entidades \xe0 qual a entidade pertence."]}),"\n",(0,r.jsxs)(n.p,{children:["Se a entidade n\xe3o pertencer a nenhuma sele\xe7\xe3o de entidade existente (ou seja, ",(0,r.jsx)(n.a,{href:"#getselection",children:".getSelection()"})," retorna Null), a fun\xe7\xe3o retorna um valor Null."]}),"\n",(0,r.jsx)(n.p,{children:"Se n\xe3o houver nenhuma entidade anterior v\xe1lida na sele\xe7\xe3o da entidade (ou seja, voc\xea est\xe1 na primeira entidade da sele\xe7\xe3o), a fun\xe7\xe3o retorna Null. Se a entidade anterior foi abandonada, a fun\xe7\xe3o retorna a entidade v\xe1lida anterior (e eventualmente Null)."}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-14",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employees : cs. EmployeeSelection\n var $employee; $previousEmployee : cs. EmployeeEntity\n $employees:=ds. Employee.query("lastName = :1";"H@") //This entity selection contains 3 entities\n $employee:=$employees[1]\n $previousEmployee:=$employee.previous() //$previousEmployee is the first entity of the $employees entity selection\n'})}),"\n",(0,r.jsx)(n.h2,{id:"reload",children:".reload()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".reload()"})," : Object"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Objeto de estado"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-17",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".reload()"})," recarrega o conte\xfado da entidade na mem\xf3ria, de acordo com as informa\xe7\xf5es armazenadas na tabela relacionada \xe0 classe de dados no datacastore. A recarga s\xf3 \xe9 feita se a entidade ainda existir com a mesma chave prim\xe1ria."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Resultado"})}),"\n",(0,r.jsxs)(n.p,{children:["O objeto retornado por ",(0,r.jsx)(n.code,{children:".reload( )"})," cont\xe9m as seguintes propriedades:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"success"}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsxs)(n.td,{children:["True se a a\xe7\xe3o de recarga for bem-sucedida, Falso caso contr\xe1rio.",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel apenas em caso de erro"})}),":"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"status(*)"}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"C\xf3digo de erro, ver abaixo"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"statusText(*)"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Descri\xe7\xe3o do erro, ver abaixo"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["(*) Os seguintes valores podem ser retornados no ",(0,r.jsx)(n.em,{children:"status"})," e nas propriedades ",(0,r.jsx)(n.em,{children:"statusText"})," do objeto ",(0,r.jsx)(n.em,{children:"Result"})," em caso de erro:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metros"}),(0,r.jsx)(n.th,{children:"Valor"}),(0,r.jsx)(n.th,{children:"Coment\xe1rio"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status entity does not exist anymore"})}),(0,r.jsx)(n.td,{children:"5"}),(0,r.jsxs)(n.td,{children:["A entidade n\xe3o existe mais nos dados. Este erro pode ocorrer nos seguintes casos:",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.li,{children:"a entidade foi descartada (o selo mudou e o espa\xe7o de mem\xf3ria agora \xe9 livre)"}),(0,r.jsxs)(n.li,{children:["a entidade foi descartada e substitu\xedda por outra chave prim\xe1ria (o selo mudou e uma nova entidade agora usa o espa\xe7o de mem\xf3ria). When using ",(0,r.jsx)(n.code,{children:".drop()"}),", this error can be returned when ",(0,r.jsx)(n.code,{children:"dk force drop if stamp changed"})," option is used. Quando usando ",(0,r.jsx)(n.code,{children:". ock()"}),", este erro pode ser retornado quando a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk reload se o carimbo mudar"})," \xe9 usada"]}),(0,r.jsx)(n.br,{}),(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Associado statusText"})}),': "Entidade n\xe3o existe mais"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status serious error"})}),(0,r.jsx)(n.td,{children:"4"}),(0,r.jsxs)(n.td,{children:["A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Associated statusText"})}),': "Other error"']})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-15",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employee : cs. EmployeeEntity\n var $employees : cs. EmployeeSelection\n var $result : Object\n\n $employees:=ds. Employee.query("lastName=:1";"Hollis")\n $employee:=$employees[0]\n $employee.firstName:="Mary"\n $result:=$employee.reload()\n Case of\n    :($result.success)\n       ALERT("Reload has been done")\n    :($result.status=dk status entity does not exist anymore)\n       ALERT("The entity has been dropped")\n End case\n'})}),"\n",(0,r.jsx)(n.h2,{id:"save",children:".save()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"21"}),(0,r.jsx)(n.td,{children:"Added status 7 and 8"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".save"}),"( { ",(0,r.jsx)(n.em,{children:"mode"})," : Integer } ) : Object"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"mode"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"dk auto merge"}),": ativa o modo de mesclagem autom\xe1tica"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Resultado da opera\xe7\xe3o de salvamento"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-18",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".save()"})," salva as altera\xe7\xf5es feitas na entidade na tabela relacionada \xe0 sua classe de dados. na tabela relacionada para a dataClass Deve salvar este m\xe9todo depois de criar ou modificar uma entidade se quiser salvar as mudan\xe7as feitas nela."]}),"\n",(0,r.jsxs)(n.p,{children:['A opera\xe7\xe3o de salvamento \xe9 executada somente se pelo menos um atributo de entidade tiver sido "tocado" (consulte as fun\xe7\xf5es ',(0,r.jsx)(n.a,{href:"#touched",children:(0,r.jsx)(n.code,{children:".touched()"})})," e ",(0,r.jsx)(n.a,{href:"#touchedattributes",children:(0,r.jsx)(n.code,{children:".touchedAttributes()"})}),"). Sen\xe3o a fun\xe7\xe3o n\xe3o faz nada (o trigger n\xe3o \xe9 ativado)"]}),"\n",(0,r.jsxs)(n.p,{children:["Em uma aplica\xe7\xe3o multi-usu\xe1rio ou multi-processo, a fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".save()"})," \xe9 executada sob um mecanismo de ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/entities#entity-locking",children:'"bloqueio otimista"'}),", onde um selo de bloqueio interno \xe9 automaticamente incrementado cada vez que o registro \xe9 salvo."]}),"\n",(0,r.jsxs)(n.p,{children:["Por padr\xe3o, se o par\xe2metro ",(0,r.jsx)(n.em,{children:"mode"})," for omitido, o m\xe9todo retornar\xe1 um erro (veja abaixo) sempre que a mesma entidade tiver sido modificada por outro processo ou usu\xe1rio enquanto isso n\xe3o importa ao(s) atributo(s) modificado(s)."]}),"\n",(0,r.jsxs)(n.p,{children:["Caso contr\xe1rio, voc\xea pode passar a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk auto merge"})," no par\xe2metro ",(0,r.jsx)(n.em,{children:"mode"}),': quando o modo de mesclagem autom\xe1tica estiver ativado, uma modifica\xe7\xe3o feita simultaneamente por outro processo/usu\xe1rio na mesma entidade, mas em um atributo diferente, n\xe3o resultar\xe1 em um erro. Os dados resultantes salvos na entidade ser\xe3o a combina\xe7\xe3o ("merge"/fus\xe3o) de todas as modifica\xe7\xf5es n\xe3o simult\xe2neas (se modifica\xe7\xf5es forem aplicadas ao mesmo atributo, a opera\xe7\xe3o de salvar falha e um erro \xe9 retornado, mesmo com o modo auto fus\xe3o)']}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["O modo autom\xe1tico merge n\xe3o est\xe1 dispon\xedvel para atributos de tipo Imagem, Objeto e Texto quando armazenado fora do registro. Altera\xe7\xf5es simult\xe2neas nesses atributos resultar\xe3o em um erro do tipo ",(0,r.jsx)(n.code,{children:"dk status stamp has changed"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Resultado"})}),"\n",(0,r.jsxs)(n.p,{children:["O objeto retornado por ",(0,r.jsx)(n.code,{children:".save()"})," cont\xe9m as seguintes propriedades:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"success"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"True se a a\xe7\xe3o salvar tiver sucesso, sen\xe3o False"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:(0,r.jsxs)(n.strong,{children:["Dispon\xedvel apenas se a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk auto merge"})," for usada"]})}),":"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"autoMerged"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"True se fizer uma auto merge, sen\xe3o False"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel apenas em caso de erro"})}),":"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"status"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsxs)(n.td,{children:["C\xf3digo de erro, ",(0,r.jsx)(n.a,{href:"#status-and-statustext",children:"veja abaixo"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"statusText"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsxs)(n.td,{children:["Descri\xe7\xe3o do erro, ",(0,r.jsx)(n.a,{href:"#status-and-statustext",children:"veja abaixo"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel apenas em caso de erro de bloqueio pessimista"})}),":"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"lockKindText"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:'"Bloqueado pelo registro"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"lockInfo"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"Informa\xe7\xf5es sobre a origem do bloqueio"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"task_id"}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"user_name"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Nome de usu\xe1rio de sess\xe3o na m\xe1quina"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"user4d_alias"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsxs)(n.td,{children:["Alias usu\xe1rio se definido por ",(0,r.jsx)(n.code,{children:"SET USER ALIAS"}),", caso contr\xe1rio, nome de usu\xe1rio no diret\xf3rio 4D"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"host_name"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Nome da m\xe1quina"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"task_name"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Nome de processo"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"client_version"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Dispon\xedvel apenas em caso de erro grave"})})," (erro grave - pode estar tentando duplicar uma chave prim\xe1ria, disco cheio...):"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"errors"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"uma cole\xe7\xe3o de objetos"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"message"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:"Mensagem de erro"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"componentSignature"}),(0,r.jsx)(n.td,{children:"text"}),(0,r.jsx)(n.td,{children:'Assinatura interna do componente (ex.: "dmbg" significa componente da base de dados)'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"errCode"}),(0,r.jsx)(n.td,{children:"number"}),(0,r.jsx)(n.td,{children:"C\xf3digo de erro"})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"status-e-statustext",children:"status e statusText"}),"\n",(0,r.jsxs)(n.p,{children:["Os valores a seguir podem ser retornados nas propriedades ",(0,r.jsx)(n.code,{children:"status"})," e ",(0,r.jsx)(n.code,{children:"statusText"})," do objeto Result em caso de erro:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metros"}),(0,r.jsx)(n.th,{children:"Valor"}),(0,r.jsx)(n.th,{children:"Coment\xe1rio"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status automerge failed"})}),(0,r.jsx)(n.td,{children:"6"}),(0,r.jsxs)(n.td,{children:["(Only if the ",(0,r.jsx)(n.code,{children:"dk auto merge"})," option is used) The automatic merge option failed when saving the entity. ",(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Auto merge failed"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status entity does not exist anymore"})}),(0,r.jsx)(n.td,{children:"5"}),(0,r.jsxs)(n.td,{children:["A entidade n\xe3o existe mais nos dados. Este erro pode ocorrer nos seguintes casos:",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.li,{children:"a entidade foi descartada (o selo mudou e o espa\xe7o de mem\xf3ria agora \xe9 livre)"}),(0,r.jsxs)(n.li,{children:["a entidade foi descartada e substitu\xedda por outra chave prim\xe1ria (o selo mudou e uma nova entidade agora usa o espa\xe7o de mem\xf3ria). When using ",(0,r.jsx)(n.code,{children:".drop()"}),", this error can be returned when ",(0,r.jsx)(n.code,{children:"dk force drop if stamp changed"})," option is used. Quando usando ",(0,r.jsx)(n.code,{children:". ock()"}),", este erro pode ser retornado quando a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk reload se o carimbo mudar"})," \xe9 usada"]}),(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:"Associado statusText"}),': "Entidade n\xe3o existe mais"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status locked"})}),(0,r.jsx)(n.td,{children:"3"}),(0,r.jsxs)(n.td,{children:["A entidade est\xe1 fechada por uma fechadura pessimista. ",(0,r.jsx)(n.strong,{children:"Texto de status"}),': "J\xe1 bloqueado"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status validation failed"})}),(0,r.jsx)(n.td,{children:"7"}),(0,r.jsxs)(n.td,{children:["Non fatal error sent by the developer for a ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/orda-events",children:"validate event"}),". ",(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Mild Validation Error"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status serious error"})}),(0,r.jsx)(n.td,{children:"4"}),(0,r.jsxs)(n.td,{children:["A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc. ",(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Other error"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status serious validation error"})}),(0,r.jsx)(n.td,{children:"8"}),(0,r.jsxs)(n.td,{children:["Fatal error sent by the developer for a ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/orda-events",children:"validate event"}),". ",(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Serious Validation Error"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status stamp has changed"})}),(0,r.jsx)(n.td,{children:"2"}),(0,r.jsxs)(n.td,{children:["The internal stamp value of the entity does not match the one of the entity stored in the data (optimistic lock).",(0,r.jsx)(n.br,{}),(0,r.jsxs)(n.li,{children:["with ",(0,r.jsx)(n.code,{children:".save()"}),": error only if the ",(0,r.jsx)(n.code,{children:"dk auto merge"})," option is not used"]}),(0,r.jsxs)(n.li,{children:["with ",(0,r.jsx)(n.code,{children:".drop()"}),": error only if the ",(0,r.jsx)(n.code,{children:"dk force drop if stamp changed"})," option is not used"]}),(0,r.jsxs)(n.li,{children:["with ",(0,r.jsx)(n.code,{children:".lock()"}),": error only if the ",(0,r.jsx)(n.code,{children:"dk reload if stamp changed"})," option is not used"]}),(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Stamp has changed"']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dk status wrong permission"})}),(0,r.jsx)(n.td,{children:"1"}),(0,r.jsxs)(n.td,{children:["Os privil\xe9gios actuais n\xe3o permitem a salvaguarda da entidade. ",(0,r.jsx)(n.strong,{children:"Associated statusText"}),': "Permission Error"']})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1-4",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.p,{children:"Criar uma nova entidade:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $status : Object\n var $employee : cs. EmployeeEntity\n $employee:=ds. Employee.new()\n $employee.firstName:="Mary"\n $employee.lastName:="Smith"\n $status:=$employee.save()\n If($status.success)\n    ALERT("Employee created")\n End if\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-4",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.p,{children:"Atualizar uma entidade sem a op\xe7\xe3o dk auto merge:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $status : Object\n var $employee : cs. EmployeeEntity\n var $employees : cs. EmployeeSelection\n $employees:=ds. Employee.query("lastName=:1";"Smith")\n $employee:=$employees.first()\n $employee.lastName:="Mac Arthur"\n $status:=$employee.save()\n Case of\n    :($status.success)\n       ALERT("Employee updated")\n    :($status.status=dk status stamp has changed)\n       ALERT($status.statusText)\n End case\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-3-1",children:"Exemplo 3"}),"\n",(0,r.jsxs)(n.p,{children:["Atualiza\xe7\xe3o de uma entidade com a op\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk auto merge"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $status : Object\n\n var $employee : cs. EmployeeEntity\n var $employees : cs. EmployeeSelection\n\n $employees:=ds. Employee.query("lastName=:1";"Smith")\n $employee:=$employees.first()\n $employee.lastName:="Mac Arthur"\n $status:=$employee.save(dk auto merge)\n Case of\n    :($status.success)\n       ALERT("Employee updated")\n    :($status.status=dk status automerge failed)\n       ALERT($status.statusText)\n End case\n'})}),"\n",(0,r.jsx)(n.h2,{id:"toobject",children:".toObject()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".toObject"}),"() : Object",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".toObject"}),"( ",(0,r.jsx)(n.em,{children:"filterString"})," : Text { ; ",(0,r.jsx)(n.em,{children:"options"})," : Integer}  ) : Object",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".toObject"}),"( ",(0,r.jsx)(n.em,{children:"filterCol"})," : Collection { ; ",(0,r.jsx)(n.em,{children:"options"})," : Integer } ) : Object"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"filterString"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Atributos a extrair (string separada por v\xedrgulas)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"filterCol"}),(0,r.jsx)(n.td,{children:"Collection"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Cole\xe7\xe3o de atributos a extrair"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"options"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"dk with primary key"}),": adiciona a propriedade __KEY;",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.code,{children:"dk with stamp"}),": adiciona a propriedade _STAMP"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Objeto criado a partir da entidade"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-19",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".toObject()"})," retorna um objeto que foi criado a partir da entidade. Os nomes das propriedades no objecto correspondem aos nomes dos atributos da entidade."]}),"\n",(0,r.jsxs)(n.p,{children:["If no filter is specified, or if the ",(0,r.jsx)(n.em,{children:"filterString"}),' parameter contains an empty string or "*", the returned object will contain:']}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"todos os atributos de entidade de armazenagem"}),"\n",(0,r.jsxs)(n.li,{children:["atributos de ",(0,r.jsx)(n.a,{href:"/docs/pt/API/DataClassClass#attributename",children:"kind"})," ",(0,r.jsx)(n.code,{children:"relatedEntity"}),": voc\xea obt\xe9m uma propriedade com o mesmo nome da entidade relacionada (nome do link de muitos para um). Atributo \xe9 extraido com um formul\xe1rio simples."]}),"\n",(0,r.jsxs)(n.li,{children:["atributos de ",(0,r.jsx)(n.code,{children:"relatedEntities"})," ",(0,r.jsx)(n.a,{href:"/docs/pt/API/DataClassClass#attributename",children:"kind"}),": o atributo n\xe3o \xe9 retornado."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"No primeiro par|\xe2metro, passa os atributos entidade a extrair. Pode passar:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'*filterString: uma string com rotas de propriedades separadas por v\xedrgulas: "propertyPath1, propertyPath2, ...", ou'}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"filterCol"}),': uma cole\xe7\xe3o de cadeias de caracteres: ["propertyPath1", "propertyPath2";...]']}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Se um filtro for especificado para os atributos onde ",(0,r.jsx)(n.a,{href:"/docs/pt/API/DataClassClass#attributename",children:"kind"})," \xe9 relatedEntity:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'propertyPath = "relatedEntity" -> \xe9 extra\xeddo de forma simples: um objeto com a propriedade __KEY (chave prim\xe1ria).'}),"\n",(0,r.jsx)(n.li,{children:'propertyPath = "relatedEntity.*" -> todas as propriedades s\xe3o extra\xeddas'}),"\n",(0,r.jsx)(n.li,{children:'propertyPath = "relatedEntity.propertyName1; relatedEntity.propertyName2; ..." -> s\xf3 se extraem essas propriedades'}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Se um filtro for especificado para atributos cujo ",(0,r.jsx)(n.a,{href:"/docs/pt/API/DataClassClass#attributename",children:"kind"})," \xe9 relatedEntities:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'propertyPath = "relatedEntities.*" -> all the properties are extracted'}),"\n",(0,r.jsx)(n.li,{children:'propertyPath = "relatedEntities.propertyName1; relatedEntities.propertyName2; ..." -> s\xf3 se extraem essas propriedades'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"No par\xe2metro op\xe7\xf5es , pode passar os seletores dk com chave prim\xe1ria e/ou dk with stamp  para adicionar as chaves prim\xe1rias da entidade e/ou carimbos nos objectos extra\xeddos."}),"\n",(0,r.jsx)(n.admonition,{title:"Aviso",type:"caution",children:(0,r.jsxs)(n.p,{children:['Se utilizar outro atributo que n\xe3o a chave prim\xe1ria como o atributo Um numa rela\xe7\xe3o, o valor deste atributo ser\xe1 escrito na propriedade "__KEY". Lembre-se de que \xe9 recomend\xe1vel usar a chave prim\xe1ria como um atributo em suas rela\xe7\xf5es, especialmente quando voc\xea usar as fun\xe7\xf5es ',(0,r.jsx)(n.code,{children:".toObject()"})," e ",(0,r.jsx)(n.code,{children:".fromObject()"}),"."]})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1-5",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.p,{children:"A estrutura abaixo ser\xe1 usada nos exemplos desta se\xe7\xe3o:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:s(669237).Z+"",width:"1000",height:"610"})}),"\n",(0,r.jsx)(n.p,{children:"Sem par\xe2metros de filtro:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"employeeObject:=employeeSelected.toObject()\n"})}),"\n",(0,r.jsx)(n.p,{children:"Retorna:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'{\n    "ID": 413,\n    "firstName": "Greg",\n    "lastName": "Wahl",\n    "salary": 0,\n    "birthDate": "1963-02-01T00:00:00.000Z",\n    "woman": false,\n    "managerID": 412,\n    "employerID": 20,\n    "photo": "[object Picture]",\n    "extra": null,\n    "employer": { // relatedEntity extra\xedda com forma simples\n        "__KEY": 20\n    },\n    "manager": {\n        "__KEY": 412\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-5",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.p,{children:"Extrair a chave prim\xe1ria e a estampa:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'employeeObject:=employeeSelected.toObject("";dk with primary key+dk with stamp)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Retorna:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'{\n    "__KEY": 413,\n   "__STAMP": 1,\n    "ID": 413,\n    "firstName": "Greg",\n    "lastName": "Wahl",\n    "salary": 0,\n    "birthDate": "1963-02-01T00:00:00.000Z",\n    "woman": false,\n    "managerID": 412,\n    "employerID": 20,\n    "photo": "[object Picture]",\n    "extra": null,\n    "employer": {\n        "__KEY": 20\n    },\n    "manager": {\n        "__KEY": 412\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-3-2",children:"Exemplo 3"}),"\n",(0,r.jsxs)(n.p,{children:["Expande todas as propriedades de ",(0,r.jsx)(n.code,{children:"relatedEntities"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'employeeObject:=employeeSelected.toObject("directReports.*")\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'{\n    "directReports": [\n        {\n            "ID": 418,\n            "firstName": "Lorena",\n            "lastName": "Boothe",\n            "salary": 44800,\n            "birthDate": "1970-10-02T00:00:00.000Z",\n            "woman": true,\n            "managerID": 413,\n            "employerID": 20,\n            "photo": "[object Picture]",\n            "extra": null,\n            "employer": {\n                "__KEY": 20\n            },\n            "manager": {\n                "__KEY": 413\n            }\n        },\n        {\n            "ID": 419,\n            "firstName": "Drew",\n            "lastName": "Caudill",\n            "salary": 41000,\n            "birthDate": "2030-01-12T00:00:00.000Z",\n            "woman": false,\n            "managerID": 413,\n            "employerID": 20,\n            "photo": "[object Picture]",\n            "extra": null,\n            "employer": {\n                "__KEY": 20\n            },\n            "manager": {\n                "__KEY": 413\n            }\n        },\n        {\n            "ID": 420,\n            "firstName": "Nathan",\n            "lastName": "Gomes",\n            "salary": 46300,\n            "birthDate": "2010-05-29T00:00:00.000Z",\n            "woman": false,\n            "managerID": 413,\n            "employerID": 20,\n            "photo": "[object Picture]",\n            "extra": null,\n            "employer": {\n                "__KEY": 20\n            },\n            "manager": {\n                "__KEY": 413\n            }\n        }\n    ]\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-16",children:"Exemplo"}),"\n",(0,r.jsxs)(n.p,{children:["Extra\xe7\xe3o de algumas propriedades de ",(0,r.jsx)(n.code,{children:"relatedEntities"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' employeeObject:=employeeSelected.toObject("firstName, directReports.lastName")\n'})}),"\n",(0,r.jsx)(n.p,{children:"Retorna:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'{\n    "firstName": "Greg",\n    "directReports": [\n        {\n            "lastName": "Boothe"\n        },\n        {\n            "lastName": "Caudill"\n        },\n        {\n            "lastName": "Gomes"\n        }\n    ]\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-6",children:"Exemplo 2"}),"\n",(0,r.jsxs)(n.p,{children:["Extraindo uma ",(0,r.jsx)(n.code,{children:"relatedEntity"})," de forma simple:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' $coll:=New collection("firstName";"employer")\n employeeObject:=employeeSelected.toObject($coll)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Retorna:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'{\n    "firstName": "Greg",\n    "employer": {\n        "__KEY": 20\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-6-1",children:"Exemplo 6"}),"\n",(0,r.jsxs)(n.p,{children:["Expande todas as propriedades de ",(0,r.jsx)(n.code,{children:"relatedEntity"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' employeeObject:=employeeSelected.toObject("employer.*")\n'})}),"\n",(0,r.jsx)(n.p,{children:"Retorna:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'{\n    "employer": {\n        "ID": 20,\n        "name": "India Astral Secretary",\n        "creationDate": "1984-08-25T00:00:00.000Z",\n        "revenues": 12000000,\n        "extra": null\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-3-3",children:"Exemplo 3"}),"\n",(0,r.jsxs)(n.p,{children:["Extra\xe7\xe3o de algumas propriedades de ",(0,r.jsx)(n.code,{children:"relatedEntity"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' $col:=New collection\n $col.push("employer.name")\n $col.push("employer.revenues")\n employeeObject:=employeeSelected.toObject($col)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Retorna:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'{\n    "employer": {\n        "name": "India Astral Secretary",\n        "revenues": 12000000\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"touched",children:".touched()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".touched()"})," : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"True se tiver modificado ao menos um atributo da entidade e ainda n\xe3o for salvo, se n\xe3o, False"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-20",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".touched()"})," retorna True se pelo menos um atributo de entidade tiver sido modificado desde que a entidade foi carregada na mem\xf3ria ou salva. Pode usar essa fun\xe7\xe3o para determinar se precisar salvar a entidade."]}),"\n",(0,r.jsxs)(n.p,{children:["Isso se aplica somente a atributos de ",(0,r.jsx)(n.a,{href:"/docs/pt/API/DataClassClass#returned-object",children:(0,r.jsx)(n.code,{children:"kind"})}),' "storage" ou "relatedEntity".']}),"\n",(0,r.jsxs)(n.p,{children:["Para uma nova entidade que foi criada (com ",(0,r.jsx)(n.a,{href:"/docs/pt/API/DataClassClass#new",children:(0,r.jsx)(n.code,{children:".new()"})}),"), a fun\xe7\xe3o retorna False. No entanto, neste contexto, se voc\xea acessar um atributo cuja propriedade ",(0,r.jsx)(n.a,{href:"/docs/pt/API/DataClassClass#returned-object",children:(0,r.jsx)(n.code,{children:"autoFilled"})})," \xe9 True, a fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".touched()"})," retornar\xe1 True. Por exemplo, depois que voc\xea executa ",(0,r.jsx)(n.code,{children:"$id:=ds.Employee.ID"}),' para uma nova entidade (supondo que o atributo ID tenha a propriedade "Autoincrement"), ',(0,r.jsx)(n.code,{children:".touched()"})," retorna True."]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-17",children:"Exemplo"}),"\n",(0,r.jsx)(n.p,{children:"Neste exemplo, vemos se \xe9 necess\xe1rio salvar a entidade:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $emp : cs.EmployeeEntity\n $emp:=ds.Employee.get(672)\n $emp.firstName:=$emp.firstName //Mesmo que seja atualizado com o mesmo valor, o atributo \xe9 marcado como tocado\n\n If($emp.touched()) //se pelo menos um dos atributos tiver sido alterado\n    $emp.save()\n End if // caso contr\xe1rio, n\xe3o \xe9 necess\xe1rio salvar a entidade\n"})}),"\n",(0,r.jsx)(n.h2,{id:"touchedattributes",children:".touchedAttributes()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".touchedAttributes()"})," : Collection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Collection"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Nomes de atributos touched ou cole\xe7\xe3o vazia"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-21",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".touchedAttributes()"}),"  retorna os nomes dos atributos que foram modificados desde que a entidade foi carregada na mem\xf3ria."]}),"\n",(0,r.jsxs)(n.p,{children:["Isso se aplica somente a atributos de ",(0,r.jsx)(n.a,{href:"/docs/pt/API/DataClassClass#returned-object",children:(0,r.jsx)(n.code,{children:"kind"})}),' "storage" ou "relatedEntity".']}),"\n",(0,r.jsx)(n.p,{children:"No caso de uma entidade relacionada que foi tocada (touched) *ou seja, a chave prim\xe1ria) o nome da entidade relacionada e sua chave prim\xe1ria s\xe3o retornados."}),"\n",(0,r.jsx)(n.p,{children:"Se nenhum atributo de entidade for tocado, o m\xe9todo retorna uma cole\xe7\xe3o vazia."}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1-6",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $touchedAttributes : Collection\n var $emp : cs. EmployeeEntity\n\n $touchedAttributes:=New collection\n $emp:=ds. Employee.get(725)\n $emp.firstName:=$emp.firstName //Even if updated with the same value, the attribute is marked as touched\n $emp.lastName:="Martin"\n $touchedAttributes:=$emp.touchedAttributes()\n  //$touchedAttributes: ["firstName","lastName"]\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-7",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $touchedAttributes : Collection\n var $emp : cs. EmployeeEntity\n var $company : cs. CompanyEntity\n\n $touchedAttributes:=New collection\n\n $emp:=ds. Employee.get(672)\n $emp.firstName:=$emp.firstName\n $emp.lastName:="Martin"\n\n $company:=ds. Company.get(121)\n $emp.employer:=$company\n\n $touchedAttributes:=$emp.touchedAttributes()\n\n  //collection $touchedAttributes: ["firstName","lastName","employer","employerID"]\n'})}),"\n",(0,r.jsx)(n.p,{children:"Nesse modo:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["firstName and lastName tem um tipo ",(0,r.jsx)(n.code,{children:"storage"})]}),"\n",(0,r.jsx)(n.li,{children:"employer tem um tipo 'relatedEntity'"}),"\n",(0,r.jsx)(n.li,{children:"employerID \xe9 a chave estrangeira da entidade relacionada employer"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"unlock",children:".unlock()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".unlock()"})," : Object"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Objeto de estado"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-22",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".unlock()"})," remove o bloqueio pessimista do registro correspondente \xe0 entidade no armazenamento de dados e na tabela relacionada \xe0 sua dataclass."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Para mais informa\xe7\xf5es, consulte a se\xe7\xe3o ",(0,r.jsx)(n.a,{href:"/docs/pt/ORDA/entities#entity-locking",children:"Bloqueio de entidades"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Um registro \xe9 destrancado automaticamente quando n\xe3o for mais referenciado por nenhuma entidade no processo de trancamento (por exemplo, se uma tranca for posta apenas na refer\xeancia local da entidade, a entidade e o registro \xe9 destrancado quando o processo terminar)."}),"\n",(0,r.jsx)(n.p,{children:"Quando um registro for trancado, deve ser destrancado do processo de trancamento e na refer\xeancia de entidade que colocou a tranca. Por exemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" $e1:=ds. Emp.all()[0]\n $e2:=ds. Emp.all()[0]\n $res:=$e1.lock() //$res.success=true\n $res:=$e2.unlock() //$res.success=false\n $res:=$e1.unlock() //$res.success=true\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"unlock()"})," deve ser chamado tantas vezes quanto ",(0,r.jsx)(n.a,{href:"#lock",children:(0,r.jsx)(n.code,{children:"lock()"})})," foi chamado no mesmo processo para que a entidade seja realmente desbloqueada."]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Resultado"})}),"\n",(0,r.jsxs)(n.p,{children:["O objeto retornado por ",(0,r.jsx)(n.code,{children:".unlock()"})," cont\xe9m a seguinte propriedade:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"success"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsx)(n.td,{children:"True se a a\xe7\xe3o de destrancar for bem-sucedida, False caso contr\xe1rio. Se o desbloqueio for feito em uma entidade abandonada, em um registro n\xe3o bloqueado ou em um registro bloqueado por outro processo ou entidade, o sucesso \xe9 False."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"wasNotLocked"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsx)(n.td,{children:'(only if "success" is False) True if the entity was not locked in the process.'})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-18",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $employee : cs. EmployeeEntity\n var $status : Object\n\n $employee:=ds. Employee.get(725)\n $status:=$employee.lock()\n ... //processing\n $status:=$employee.unlock()\n If($status.success)\n    ALERT("The entity is now unlocked")\n End if\n'})})]})}function h(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},669237:function(e,n,s){s.d(n,{Z:()=>d});let d=s.p+"assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png"},250065:function(e,n,s){s.d(n,{Z:()=>a,a:()=>i});var d=s(667294);let r={},t=d.createContext(r);function i(e){let n=d.useContext(t);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),d.createElement(t.Provider,{value:n},e.children)}}}]);