"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[75271],{603905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>k});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),m=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=m(e.components);return n.createElement(d.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,d=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=m(a),k=r,c=u["".concat(d,".").concat(k)]||u[k]||s[k]||l;return a?n.createElement(c,o(o({ref:t},p),{},{components:a})):n.createElement(c,o({ref:t},p))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=u;var i={};for(var d in t)hasOwnProperty.call(t,d)&&(i[d]=t[d]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var m=2;m<l;m++)o[m]=a[m];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},65771:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>d,toc:()=>p});a(667294);var n=a(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={id:"EntitySelectionClass",title:"EntitySelection"},i=void 0,d={unversionedId:"API/EntitySelectionClass",id:"version-20-R4/API/EntitySelectionClass",title:"EntitySelection",description:"Uma sele\xe7\xe3o de entidades \xe9 um objeto que cont\xe9m uma ou mais referencias a entidades pertencentes \xe0 mesma Dataclass. Uma sele\xe7\xe3o de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o n\xfamero total de entidades contidas na dataclass.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R4/API/EntitySelectionClass.md",sourceDirName:"API",slug:"/API/EntitySelectionClass",permalink:"/docs/pt/20-R4/API/EntitySelectionClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntitySelectionClass.md%20(20-R4)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R4",frontMatter:{id:"EntitySelectionClass",title:"EntitySelection"},sidebar:"docs",previous:{title:"Entity",permalink:"/docs/pt/20-R4/API/EntityClass"},next:{title:"File",permalink:"/docs/pt/20-R4/API/FileClass"}},m={},p=[{value:"Resumo",id:"resumo",level:3},{value:"Criar uma sele\xe7\xe3o de entidades (entity selection)",id:"criar-uma-sele\xe7\xe3o-de-entidades-entity-selection",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo",id:"exemplo",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m",level:4},{value:"USE ENTITY SELECTION",id:"use-entity-selection",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:4},{value:"Exemplo",id:"exemplo-1",level:4},{value:"[<em>index</em>]",id:"index",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:4},{value:"Exemplo",id:"exemplo-2",level:4},{value:".<em>attributeName</em>",id:"attributename",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-3",level:4},{value:"Exemplo 1",id:"exemplo-1-1",level:4},{value:"Exemplo 2",id:"exemplo-2-1",level:4},{value:"Exemplo 3",id:"exemplo-3",level:4},{value:".add()",id:"add",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-4",level:4},{value:"Exemplo 1",id:"exemplo-1-2",level:4},{value:"Exemplo 2",id:"exemplo-2-2",level:4},{value:"Exemplo 3",id:"exemplo-3-1",level:4},{value:".and()",id:"and",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-5",level:4},{value:"Exemplo 1",id:"exemplo-1-3",level:4},{value:"Exemplo 2",id:"exemplo-2-3",level:4},{value:".at()",id:"at",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-6",level:4},{value:"Exemplo",id:"exemplo-4",level:4},{value:".average()",id:"average",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-7",level:4},{value:"Exemplo",id:"exemplo-5",level:4},{value:".contains()",id:"contains",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-8",level:4},{value:"Exemplo",id:"exemplo-6",level:4},{value:".count()",id:"count",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-9",level:4},{value:"Exemplo",id:"exemplo-7",level:4},{value:".copy()",id:"copy",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-10",level:4},{value:"Exemplo",id:"exemplo-8",level:4},{value:".distinct()",id:"distinct",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-11",level:4},{value:"Exemplos",id:"exemplos",level:4},{value:".distinctPaths()",id:"distinctpaths",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-12",level:4},{value:"Exemplo",id:"exemplo-9",level:4},{value:".drop()",id:"drop",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-13",level:4},{value:"Exemplo",id:"exemplo-10",level:4},{value:".extract()",id:"extract",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-14",level:4},{value:"Exemplo",id:"exemplo-11",level:4},{value:".first()",id:"first",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-15",level:4},{value:"Exemplo",id:"exemplo-12",level:4},{value:".getDataClass()",id:"getdataclass",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-16",level:4},{value:"Exemplo",id:"exemplo-13",level:4},{value:".getRemoteContextAttributes()",id:"getremotecontextattributes",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-17",level:4},{value:"Exemplo",id:"exemplo-14",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-1",level:4},{value:".isAlterable()",id:"isalterable",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-18",level:4},{value:"Exemplo",id:"exemplo-15",level:4},{value:".isOrdered()",id:"isordered",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-19",level:4},{value:"Exemplo",id:"exemplo-16",level:4},{value:".last()",id:"last",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-20",level:4},{value:"Exemplo",id:"exemplo-17",level:4},{value:".length",id:"length",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-21",level:4},{value:"Exemplo",id:"exemplo-18",level:4},{value:".max()",id:"max",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-22",level:4},{value:"Exemplo",id:"exemplo-19",level:4},{value:".min()",id:"min",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-23",level:4},{value:"Exemplo",id:"exemplo-20",level:4},{value:".minus()",id:"minus",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-24",level:4},{value:"Exemplo 1",id:"exemplo-1-4",level:4},{value:"Exemplo 2",id:"exemplo-2-4",level:4},{value:"Exemplo 3",id:"exemplo-3-2",level:4},{value:".or()",id:"or",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-25",level:4},{value:"Exemplo 1",id:"exemplo-1-5",level:4},{value:"Exemplo 2",id:"exemplo-2-5",level:4},{value:".orderBy()",id:"orderby",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-26",level:4},{value:"Exemplo",id:"exemplo-21",level:4},{value:".orderByFormula()",id:"orderbyformula",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-27",level:4},{value:"Exemplo 1",id:"exemplo-1-6",level:4},{value:"Exemplo 2",id:"exemplo-2-6",level:4},{value:".query()",id:"query",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-28",level:4},{value:"Exemplo 1",id:"exemplo-1-7",level:4},{value:"Exemplo 2",id:"exemplo-2-7",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-2",level:4},{value:".queryPath",id:"querypath",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-29",level:4},{value:".queryPlan",id:"queryplan",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-30",level:4},{value:".refresh()",id:"refresh",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-31",level:4},{value:"Exemplo 1",id:"exemplo-1-8",level:4},{value:"Exemplo 2",id:"exemplo-2-8",level:4},{value:".selected()",id:"selected",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-32",level:4},{value:"Resultados",id:"resultados",level:4},{value:"Exemplo",id:"exemplo-22",level:4},{value:".slice()",id:"slice",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-33",level:4},{value:"Exemplo 1",id:"exemplo-1-9",level:4},{value:"Exemplo 2",id:"exemplo-2-9",level:4},{value:".sum()",id:"sum",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-34",level:4},{value:"Exemplo",id:"exemplo-23",level:4},{value:".toCollection()",id:"tocollection",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-35",level:4},{value:"Exemplo 1",id:"exemplo-1-10",level:4},{value:"Exemplo 2",id:"exemplo-2-10",level:4},{value:"Exemplo 3",id:"exemplo-3-3",level:4},{value:"Exemplo",id:"exemplo-24",level:4},{value:"Exemplo 2",id:"exemplo-2-11",level:4},{value:"Exemplo 6",id:"exemplo-6-1",level:4},{value:"Exemplo 3",id:"exemplo-3-4",level:4},{value:"Exemplo 8",id:"exemplo-8-1",level:4},{value:"Exemplo 9",id:"exemplo-9-1",level:4}],s={toc:p};function u(e){var{components:t}=e,o=l(e,["components"]);return(0,n.kt)("wrapper",r({},s,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Uma sele\xe7\xe3o de entidades \xe9 um objeto que cont\xe9m uma ou mais referencias a ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/dsmapping#entity"}),"entidades")," pertencentes \xe0 mesma ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/dsmapping#dataclass"}),"Dataclass"),". Uma sele\xe7\xe3o de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o n\xfamero total de entidades contidas na dataclass."),(0,n.kt)("p",null,"As sele\xe7\xf5es de entidades podem ser criadas a partir de sele\xe7\xf5es existentes utilizando varias fun\xe7\xf5es da classe ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass"}),(0,n.kt)("inlineCode",{parentName:"a"},"DataClass")," class")," tais como ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#all"}),(0,n.kt)("inlineCode",{parentName:"a"},".all()"))," ou ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#query"}),(0,n.kt)("inlineCode",{parentName:"a"},".query()")),", ou da classe ",(0,n.kt)("inlineCode",{parentName:"p"},"EntityClass")," mesma, tal como ",(0,n.kt)("a",r({parentName:"p"},{href:"#and"}),(0,n.kt)("inlineCode",{parentName:"a"},".and()"))," ou ",(0,n.kt)("a",r({parentName:"p"},{href:"#orderby"}),(0,n.kt)("inlineCode",{parentName:"a"},"orderBy()")),". Tamb\xe9m pode criar sele\xe7\xf5es de entidades em branco utilizando a fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#newselection"}),(0,n.kt)("inlineCode",{parentName:"a"},"dataClass.newSelection()"))," ou o comando ",(0,n.kt)("a",r({parentName:"p"},{href:"#create-new-selection"}),(0,n.kt)("inlineCode",{parentName:"a"},"Create new selection")),"."),(0,n.kt)("h3",r({},{id:"resumo"}),"Resumo"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#91index93"}),(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("em",{parentName:"strong"},"[","index","]"))," : 4D.Entity"),"\xa0","\xa0","\xa0","\xa0","permite acessar entidades sem a sele\xe7\xe3o de entidade usando a sintaxe cole\xe7\xe3o padr\xe3o")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#attributename"}),(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("em",{parentName:"strong"},".attributeName"))," : Collection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("em",{parentName:"strong"},".attributeName"))," : 4D. EntitySelection"),"\xa0","\xa0","\xa0","\xa0",'uma "proje\xe7\xe3o" de valores para o atributo na sele\xe7\xe3o de entidades')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#add"}),(0,n.kt)("strong",{parentName:"a"},".add"),"( ",(0,n.kt)("em",{parentName:"a"},"entity")," : 4D. Entity ) : 4D. EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".add"),"( ",(0,n.kt)("em",{parentName:"a"},"entitySelection")," : 4D."),"\xa0","\xa0","\xa0","\xa0","addiciona a ",(0,n.kt)("em",{parentName:"td"},"entity")," especificada ou ",(0,n.kt)("em",{parentName:"td"},"entitySelection")," para a selle\xe7\xe3o de entidade original e retona a sele\xe7\xe3o de entidade modificada")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#and"}),(0,n.kt)("strong",{parentName:"a"},".and"),"( ",(0,n.kt)("em",{parentName:"a"},"entity")," : 4D. Entity ) : 4D. EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".and"),"( ",(0,n.kt)("em",{parentName:"a"},"entitySelection")," : 4D. EntitySelection ) : 4D. EntitySelection"),"\xa0","\xa0","\xa0","\xa0","combina a sele\xe7\xe3o da entidade com um par\xe2metro ",(0,n.kt)("em",{parentName:"td"},"entity")," ou ",(0,n.kt)("em",{parentName:"td"},"entitySelection")," utilizando o operador l\xf3gico AND")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#at"}),(0,n.kt)("strong",{parentName:"a"},".at"),"( ",(0,n.kt)("em",{parentName:"a"},"index")," : Integer ) : 4D. Entity "),"\xa0","\xa0","\xa0","\xa0","devolve a entidade na posi\xe7\xe3o ",(0,n.kt)("em",{parentName:"td"},"index"),", permitindo a utiliza\xe7\xe3o de n\xfameros inteiros positivos e negativos")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#average"}),(0,n.kt)("strong",{parentName:"a"},".average"),"( {",(0,n.kt)("em",{parentName:"a"},"propertyPath")," : Text } ) : Real"),"\xa0","\xa0","\xa0","\xa0","devolve a m\xe9dia aritm\xe9tica (m\xe9dia) de todos os valores n\xe3o nulos de ",(0,n.kt)("em",{parentName:"td"},"attributePath")," na selec\xe7\xe3o de entidades")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#contains"}),(0,n.kt)("strong",{parentName:"a"},".contains"),"( ",(0,n.kt)("em",{parentName:"a"},"entity")," : 4D.Entity ) : Boolean"),"\xa0","\xa0","\xa0","\xa0","retorna true se a refer\xeancia de entidade pertencer \xe0 sele\xe7\xe3o de entidade")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#contains"}),(0,n.kt)("strong",{parentName:"a"},".copy"),"( { ",(0,n.kt)("em",{parentName:"a"},"option")," : Integer } ) : 4D. EntitySelection"),"\xa0","\xa0","\xa0","\xa0","retorna uma c\xf3pia da entity selection original")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#count"}),(0,n.kt)("strong",{parentName:"a"},".count"),"( ",(0,n.kt)("em",{parentName:"a"},"attributePath")," : Text ) : Real"),"\xa0","\xa0","\xa0","\xa0","retorna o n\xfamero de entidades da sele\xe7\xe3o de entidades com um valor n\xe3o nulo em ",(0,n.kt)("em",{parentName:"td"},"attributePath"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#distinct"}),(0,n.kt)("strong",{parentName:"a"},".distinct"),"( ",(0,n.kt)("em",{parentName:"a"},"attributePath")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"option")," : Integer } ) : Collection"),"\xa0","\xa0","\xa0","\xa0","retorna uma cole\xe7\xe3o contendo apenas valores diferentes (distintos) em ",(0,n.kt)("em",{parentName:"td"},"attributePath")," na sele\xe7\xe3o de entidade")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#distinctPaths"}),(0,n.kt)("strong",{parentName:"a"},".distinctPaths"),"( ",(0,n.kt)("em",{parentName:"a"},"attribute")," : Text ) : Collection"),"\xa0","\xa0","\xa0","\xa0","returns a collection containing only distinct (different) values from the ",(0,n.kt)("em",{parentName:"td"},"attributePath")," in the entity selection")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#drop"}),(0,n.kt)("strong",{parentName:"a"},".drop"),"( { ",(0,n.kt)("em",{parentName:"a"},"mode")," : Integer } ) : 4D. EntitySelection"),"\xa0","\xa0","\xa0","\xa0","remove as entidades pertencendo \xe0 sele\xe7\xe3o de entidade da tabela relacionada a dataclasse dentro da datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#extract"}),(0,n.kt)("strong",{parentName:"a"},".extract"),"( ",(0,n.kt)("em",{parentName:"a"},"attributePath")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"option")," : Integer } ) : Collection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".extract"),"( ",(0,n.kt)("em",{parentName:"a"},"attributePath")," { ; ",(0,n.kt)("em",{parentName:"a"},"targetPath")," } { ; ",(0,n.kt)("em",{parentName:"a"},"...attributePathN")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"targetPathN")," : Text } ) : Collection"),"\xa0","\xa0","\xa0","\xa0","retorna uma cole\xe7\xe3o contendo ",(0,n.kt)("em",{parentName:"td"},"attributePath")," valores extra\xeddos da sele\xe7\xe3o de entidade")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#first"}),(0,n.kt)("strong",{parentName:"a"},".first()")," : 4D. Entity"),"\xa0","\xa0","\xa0","\xa0","devolve uma refer\xeancia \xe0 entidade na primeira posi\xe7\xe3o da selec\xe7\xe3o de entidades")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getdataclass"}),(0,n.kt)("strong",{parentName:"a"},".getDataClass()")," : 4D. DataClass"),"\xa0","\xa0","\xa0","\xa0","retorna a dataclass da entity selection")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getremotecontextattributes"}),(0,n.kt)("strong",{parentName:"a"},".getRemoteContextAttributes()")," : Text"),"\xa0","\xa0","\xa0","\xa0","retorna os nomes dos atributos que foram modificados desde que a entidade foi carregada na mem\xf3ria")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#isalterable"}),(0,n.kt)("strong",{parentName:"a"},".isAlterable()")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","retorna True se a sele\xe7\xe3o de entidade for alter\xe1vel")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#isordered"}),(0,n.kt)("strong",{parentName:"a"},".isOrdered()")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","devolve True se a entity selection estiver ordenada")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#last"}),"Par\xe2metros"),"\xa0","\xa0","\xa0","\xa0","retorna uma refer\xeancia \xe0 entidade na \xfaltim aposi\xe7\xe3o da sele\xe7\xe3o de entidade")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#length"}),(0,n.kt)("strong",{parentName:"a"},".length")," : Integer"),"\xa0","\xa0","\xa0","\xa0","retorna o n\xfamero de entidades na sele\xe7\xe3o de entidade")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#max"}),(0,n.kt)("strong",{parentName:"a"},".max"),"( ",(0,n.kt)("em",{parentName:"a"},"attributePath")," : Text ) : any"),"\xa0","\xa0","\xa0","\xa0","retorna o valor mais alto (ou m\xe1ximo) entre todos os valores de ",(0,n.kt)("em",{parentName:"td"},"attributePath")," na sele\xe7\xe3o de entidade")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#min"}),(0,n.kt)("strong",{parentName:"a"},".min"),"( ",(0,n.kt)("em",{parentName:"a"},"attributePath")," : Text ) : any"),"\xa0","\xa0","\xa0","\xa0"," retorna o menor valor (m\xednimo) entre todos os valores de attributePath na sele\xe7\xe3o de entidade")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#minus"}),(0,n.kt)("strong",{parentName:"a"},".minus"),"( ",(0,n.kt)("em",{parentName:"a"},"entity")," : 4D. Entity { ; ",(0,n.kt)("em",{parentName:"a"},"keepOrder")," : Integer } ) : 4D. EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".minus"),"( ",(0,n.kt)("em",{parentName:"a"},"entitySelection")," : 4D. EntitySelection { ; ",(0,n.kt)("em",{parentName:"a"},"keepOrder")," : Integer } ) : 4D."),"\xa0","\xa0","\xa0","\xa0","exclui da sele\xe7\xe3o de entidade que \xe9 aplicada a ",(0,n.kt)("em",{parentName:"td"},"entity")," ou as entidaddes de ",(0,n.kt)("em",{parentName:"td"},"entitySelection")," e retorna a sele\xe7\xe3o de entidade resultante")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#or"}),(0,n.kt)("strong",{parentName:"a"},".or"),"( ",(0,n.kt)("em",{parentName:"a"},"entity")," : 4D. Entity ) : 4D. EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".or"),"( ",(0,n.kt)("em",{parentName:"a"},"entitySelection")," : 4D. EntitySelection ) : 4D. EntitySelection"),"\xa0","\xa0","\xa0","\xa0","combina a sele\xe7\xe3o de entidade com ",(0,n.kt)("em",{parentName:"td"},"entity")," ou par\xe2metro",(0,n.kt)("em",{parentName:"td"},"entitySelection")," usando o operador l\xf3gico (n\xe3o exclusivo) OR")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#orderby"}),(0,n.kt)("strong",{parentName:"a"},".orderBy"),"( ",(0,n.kt)("em",{parentName:"a"},"pathString")," : Text ) : 4D. EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".orderBy"),"( ",(0,n.kt)("em",{parentName:"a"},"pathObjects")," : Collection ) : 4D. EntitySelection"),"\xa0","\xa0","\xa0","\xa0","retorna uma nova sele\xe7\xe3o de entidade ordenada contendo todas as entidades da sele\xe7\xe3o de entidade na ordem especificada por ",(0,n.kt)("em",{parentName:"td"},"pathString")," ou crit\xe9rios",(0,n.kt)("em",{parentName:"td"},"pathObjects"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#orderbyformula"}),(0,n.kt)("strong",{parentName:"a"},".orderByFormula"),"( ",(0,n.kt)("em",{parentName:"a"},"formulaString")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"sortOrder")," : Integer } { ; ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object} ) : 4D.EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".orderByFormula"),"( ",(0,n.kt)("em",{parentName:"a"},"formulaObj")," : Object { ; ",(0,n.kt)("em",{parentName:"a"},"sortOrder")," : Integer } { ; ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object} ) : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","devolve uma nova entity selection ordenada")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#query"}),(0,n.kt)("strong",{parentName:"a"},".query"),"( ",(0,n.kt)("em",{parentName:"a"},"queryString")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"...value")," : any } { ; ",(0,n.kt)("em",{parentName:"a"},"querySettings")," : Object } ) : 4D. EntitySelection ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".query"),"( ",(0,n.kt)("em",{parentName:"a"},"formula")," : Object { ; ",(0,n.kt)("em",{parentName:"a"},"querySettings")," : Object } ) : 4D. EntitySelection"),"\xa0","\xa0","\xa0","\xa0","pesquisa por entidades que satisfazem o crit\xe9rio de pesquisa especificado em ",(0,n.kt)("em",{parentName:"td"},"queryString")," ou ",(0,n.kt)("em",{parentName:"td"},"formula")," e (opcionalmente) ",(0,n.kt)("em",{parentName:"td"},"value"),"(s) entre todas as entidades na sele\xe7\xe3o de entidade")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#querypath"}),(0,n.kt)("strong",{parentName:"a"},".queryPath")," : Text"),"\xa0","\xa0","\xa0","\xa0","cont\xe9m uma descri\xe7\xe3o detalhada da pesquisa como foi realizada em 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#queryplan"}),(0,n.kt)("strong",{parentName:"a"},".queryPlan")," : Text"),"\xa0","\xa0","\xa0","\xa0"," cont\xe9m uma descri\xe7\xe3o detalhada da pesquisa antes da execu\xe7\xe3o (ou seja, a pesquisa planejada)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#refresh"}),(0,n.kt)("strong",{parentName:"a"},".refresh()")),"\xa0","\xa0","\xa0","\xa0",'imediatamente "invalida" os dados da sele\xe7\xe3o de entidade na cache local ORDA')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#selected"}),(0,n.kt)("strong",{parentName:"a"},".selected"),"( ",(0,n.kt)("em",{parentName:"a"},"selectedEntities")," : 4D. EntitySelection ) : Object"),"\xa0","\xa0","\xa0","\xa0","adds the specified ",(0,n.kt)("em",{parentName:"td"},"entity")," to the entity selection and returns the modified entity selection")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#slice"}),(0,n.kt)("strong",{parentName:"a"},".slice"),"( ",(0,n.kt)("em",{parentName:"a"},"startFrom")," : Integer { ; ",(0,n.kt)("em",{parentName:"a"},"end")," : Integer } ) : 4D. EntitySelection"),"\xa0","\xa0","\xa0","\xa0","retorna uma por\xe7\xe3o da sele\xe7\xe3o de entidade em uma nova sele\xe7\xe3o de entidade")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#sum"}),(0,n.kt)("strong",{parentName:"a"},".sum"),"( ",(0,n.kt)("em",{parentName:"a"},"attributePath")," : Text ) : Real"),"\xa0","\xa0","\xa0","\xa0","retorna a soma de todos os valores ",(0,n.kt)("em",{parentName:"td"},"attributePath")," na sele\xe7\xe3o de entidade")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#tocollection"}),(0,n.kt)("strong",{parentName:"a"},".toCollection"),"( { ",(0,n.kt)("em",{parentName:"a"},"options")," : Integer { ; ",(0,n.kt)("em",{parentName:"a"},"begin")," : Integer { ; ",(0,n.kt)("em",{parentName:"a"},"howMany")," : Integer } } ) : ",(0,n.kt)("em",{parentName:"a"},"Collection"),(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".toCollection"),"( ",(0,n.kt)("em",{parentName:"a"},"filterString")," : Text {; ",(0,n.kt)("em",{parentName:"a"},"options")," : Integer { ; ",(0,n.kt)("em",{parentName:"a"},"begin")," : Integer { ; ",(0,n.kt)("em",{parentName:"a"},"howMany")," : Integer }}} ) : ",(0,n.kt)("em",{parentName:"a"},"Collection"),(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".toCollection"),"( ",(0,n.kt)("em",{parentName:"a"},"filterCol")," : Collection {; ",(0,n.kt)("em",{parentName:"a"},"options")," : Integer { ; ",(0,n.kt)("em",{parentName:"a"},"begin")," : Integer { ; ",(0,n.kt)("em",{parentName:"a"},"howMany")," : Integer }}} ) : ",(0,n.kt)("em",{parentName:"a"},"Collection")),"\xa0","\xa0","\xa0","\xa0","cria e devolve uma colec\xe7\xe3o onde cada elemento \xe9 um objecto que cont\xe9m um conjunto de propriedades e valores")))),(0,n.kt)("h2",r({},{id:"criar-uma-sele\xe7\xe3o-de-entidades-entity-selection"}),"Criar uma sele\xe7\xe3o de entidades (entity selection)"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Create entity selection")," ( ",(0,n.kt)("em",{parentName:"p"},"dsTable")," : Table { ; ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object } ) : 4D.EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dsTable"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tabela"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tabela do banco de dados 4D cuja sele\xe7\xe3o atual se utilizar\xe1 para construir a sele\xe7\xe3o de entidades")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Op\xe7\xe3o de constru\xe7\xe3o: context")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Sele\xe7\xe3o de entidades que coincidem com a classe de dados relacionada com a tabela dada")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"O comando ",(0,n.kt)("inlineCode",{parentName:"p"},"Create entity selection")," constr\xf3i e devolve uma nova, ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/entities#shareable-or-alterable-entity-selections"}),"alter\xe1vel")," sele\xe7\xe3o de entidade relacionada com a classe de dados que coincide com a tabela ",(0,n.kt)("em",{parentName:"p"},"dsTable")," dada, segundo a sele\xe7\xe3o atual desta tabela."),(0,n.kt)("p",null,"Se a sele\xe7\xe3o atual for ordenada, \xe9 criada uma sele\xe7\xe3o de entidades ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"ordenada")," (se mant\xe9m a ordem da sele\xe7\xe3o atual). Se a sele\xe7\xe3o atual n\xe3o for ordenada, se cria uma sele\xe7\xe3o de entidades n\xe3o ordenada."),(0,n.kt)("p",null,"Se a tabela ",(0,n.kt)("em",{parentName:"p"},"dsTable")," n\xe3o estiver exposta em ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataStoreClass#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),", se devolve um erro. Esse comando n\xe3o pode usado com uma datastore remota."),(0,n.kt)("p",null,"No par\xe2metro opcional",(0,n.kt)("em",{parentName:"p"},"settings")," pode passar um objeto contendo as propriedades abaixo:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"context"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Etiqueta para  ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/pt/20-R4/ORDA/entities#clientserver-optimization"}),"contexto de optimiza\xe7\xe3o")," aplicado a entity selection.")))),(0,n.kt)("h4",r({},{id:"exemplo"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"var $employees : cs. EmployeeSelection ALL RECORDS([Employee])\n$employees:=Create entity selection([Employee]) \n// A entity selection $employees agora cont\xe9m um conjunto de refer\xeancias\n// em todas as entidades relacionadas com a classe de dados Employee\n")),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#newselection"}),(0,n.kt)("inlineCode",{parentName:"a"},"dataClass.newSelection()"))),(0,n.kt)("h2",r({},{id:"use-entity-selection"}),"USE ENTITY SELECTION"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"USE ENTITY SELECTION")," (",(0,n.kt)("em",{parentName:"p"},"entitySelection"),")"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Sele\xe7\xe3o de entidades")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-1"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"O comando ",(0,n.kt)("inlineCode",{parentName:"p"},"USE ENTITY SELECTION")," atualiza a sele\xe7\xe3o atual da tabela correspondendo \xe0 dataclass do par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," de acordo com o contexto da sele\xe7\xe3o de entidade."),(0,n.kt)("p",null,"Este comando n\xe3o pode ser utilizado com um ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/datastores"}),"datastore remoto"),"."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Esse comando foi projetado para fazer com que as sele\xe7\xf5es de corrente 4D se beneficiem do poder das consultas ORDA. Por motivos de desempenho, no 4D single-user e no 4D Server, o comando conecta diretamente ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," \xe0 sele\xe7\xe3o atual. Portanto, uma vez que ",(0,n.kt)("em",{parentName:"p"},"a entitySelection")," tenha sido usada, ela n\xe3o deve ser reutilizada ou alterada posteriormente.")),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Depois de uma chamada a ",(0,n.kt)("inlineCode",{parentName:"p"},"USE ENTITY SELECTION"),", o primeiro registro da sele\xe7\xe3o atual (se n\xe3o vazia) vira o registro atual, mas n\xe3o \xe9 carregado na mem\xf3ria.. Se precisar usar os valores dos campos no registro atual, use o comando ",(0,n.kt)("inlineCode",{parentName:"p"},"LOAD RECORD")," depois do comando ",(0,n.kt)("inlineCode",{parentName:"p"},"USE ENTITY SELECTION"),".")),(0,n.kt)("h4",r({},{id:"exemplo-1"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"Par\xe2metros\n")),(0,n.kt)("h2",r({},{id:"index"}),"[",(0,n.kt)("em",{parentName:"h2"},"index"),"]"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},"[","index","]"))," : 4D.Entity"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-2"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A nota\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},"EntitySelection[index]")," permite acessar entidades sem a sele\xe7\xe3o de entidade usando a sintaxe cole\xe7\xe3o padr\xe3o: passe a posi\xe7\xe3o da entidade que quiser colocar o padr\xe3o ",(0,n.kt)("em",{parentName:"p"},"index"),"."),(0,n.kt)("p",null,"Lembre que a entidade correspondente \xe9 recarregada a partir da datastore."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"index")," pode ser qualquer n\xfamero entre 0 e ",(0,n.kt)("inlineCode",{parentName:"p"},".length"),"-1."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Se ",(0,n.kt)("em",{parentName:"li"},"index")," est\xe1 fora do intervalo, se devolve um erro."),(0,n.kt)("li",{parentName:"ul"},"Os valores Null s\xe3o avaliados como inferiores aos outros valores.")),(0,n.kt)("admonition",r({},{type:"caution"}),(0,n.kt)("blockquote",{parentName:"admonition"},(0,n.kt)("blockquote",{parentName:"blockquote"},(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Aten\xe7\xe3o"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"EntitySelection[index]")," \xe9 uma express\xe3o n\xe3o atribu\xedvel, o que significa que n\xe3o pode utilizar-se como refer\xeancia edit\xe1vel da entidade com m\xe9todos como ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/EntityClass#lock"}),(0,n.kt)("inlineCode",{parentName:"a"},".lock()"))," o ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/EntityClass#save"}),(0,n.kt)("inlineCode",{parentName:"a"},".save()")),". Para trabalhar com a entidade correspondente, \xe9 necess\xe1rio atribuir a express\xe3o devolvida a uma express\xe3o atribu\xedvel, como uma vari\xe1vel. Exemplos:"))),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $sel:=ds. Employee.all() //cria\xe7\xe3o da entity selection\n  //declara\xe7\xf5es n\xe3o v\xe1lidas:\n $result:=$sel[0].lock() //N\xc3O funcionar\xe1\n $sel[0].lastName:="Smith" //N\xc3O funcionar\xe1\n $result:=$sel[0].save() //N\xc3O funcionar\xe1\n  //valid code:\n $entity:=$sel[0]  //OK\n $entity.lastName:="Smith" //OK\n $entity.save() //OK\n'))),(0,n.kt)("h4",r({},{id:"exemplo-2"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $employees : cs. EmployeeSelection\n var $employee : cs. EmployeeEntity\n $employees:=ds. Employee.query("lastName = :1";"H@")\n $employee:=$employees[2]  // A terceira entidade da sele\xe7\xe3o de entidades $employees se recarrega do banco de dados\n')),(0,n.kt)("h2",r({},{id:"attributename"}),".",(0,n.kt)("em",{parentName:"h2"},"attributeName")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},".attributeName"))," : Collection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},".attributeName"))," : 4D. EntitySelection"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-3"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,'Quaalquer atributo de dataclass pode ser usado como um apropriedade de uma sele\xe7\xe3o de entidade a retornar uma "proje\xe7\xe3o" de valores para o atributo na sele\xe7\xe3o de entidades. Os valores projetados podem ser uma cole\xe7\xe3o ou uma nova sele\xe7\xe3o de entidades, dependendo do tipo de ',(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#attributename"}),"kind")," (",(0,n.kt)("inlineCode",{parentName:"p"},"storage")," ou ",(0,n.kt)("inlineCode",{parentName:"p"},"relation"),") do atributo."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'Se o "kind" de ',(0,n.kt)("em",{parentName:"li"},"attributeName")," \xe9 ",(0,n.kt)("inlineCode",{parentName:"li"},"storage"),": ",(0,n.kt)("inlineCode",{parentName:"li"},".attributeName")," devolve uma cole\xe7\xe3o de valores do mesmo tipo que ",(0,n.kt)("em",{parentName:"li"},"attributeName"),"."),(0,n.kt)("li",{parentName:"ul"},"If ",(0,n.kt)("em",{parentName:"li"},"attributeName")," kind is ",(0,n.kt)("inlineCode",{parentName:"li"},"relatedEntity"),": ",(0,n.kt)("inlineCode",{parentName:"li"},".attributeName")," returns a new entity selection of related values of the same type as ",(0,n.kt)("em",{parentName:"li"},"attributeName"),". Se eliminam os duplicados (se devolve uma sele\xe7\xe3o de entidades desordenada)."),(0,n.kt)("li",{parentName:"ul"},"If ",(0,n.kt)("em",{parentName:"li"},"attributeName")," kind is ",(0,n.kt)("inlineCode",{parentName:"li"},"relatedEntities"),": ",(0,n.kt)("inlineCode",{parentName:"li"},".attributeName")," returns a new entity selection of related values of the same type as ",(0,n.kt)("em",{parentName:"li"},"attributeName"),". Se eliminam os duplicados (se devolve uma sele\xe7\xe3o de entidades desordenada).")),(0,n.kt)("p",null,"Quando se utiliza um atributo de rela\xe7\xe3o como propriedade de uma sele\xe7\xe3o de entidades, o resultado \xe9 sempre outra sele\xe7\xe3o de entidades, mesmo que s\xf3 se devolva uma entidade. If the original entity selection and the ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," parameter are empty, an empty entity selection is returned."),(0,n.kt)("p",null,"Se o atributo n\xe3o existir na sele\xe7\xe3o de entidades, se devolve um erro."),(0,n.kt)("h4",r({},{id:"exemplo-1-1"}),"Exemplo 1"),(0,n.kt)("p",null,"Proje\xe7\xe3o de valores de armazenamento:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $firstNames : Collection\n $entitySelection:=ds. Employee.all()\n $firstNames:=$entitySelection.firstName // firstName \xe9 um string\n")),(0,n.kt)("p",null,"A cole\xe7\xe3o resultante \xe9 uma cole\xe7\xe3o de strings, por exemplo:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'[\n    "Joanna",\n    "Alexandra",\n    "Rick"\n]\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-1"}),"Exemplo 2"),(0,n.kt)("p",null,"Proje\xe7\xe3o da entidade relacionada:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $es; $entitySelection : cs. EmployeeSelection\n $entitySelection:=ds. Employee.all()\n $es:=$entitySelection.employer // employer \xe9 relacionada aum  Company dataClass\n")),(0,n.kt)("p",null,"O objeto resultane \xe9 uma sele\xe7\xe3o de entidade da Empresa com duplica\xe7\xf5es removidas (se houver)."),(0,n.kt)("h4",r({},{id:"exemplo-3"}),"Exemplo 3"),(0,n.kt)("p",null,"Proje\xe7\xe3o de entidades relacionadas:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $es : cs. EmployeeSelection\n $es:=ds. Employee.all().directReports // directReports \xe9 relacionada a dataclasse Funcion\xe1rio\n")),(0,n.kt)("p",null,"O objeto resultante \xe9 uma sele\xe7\xe3o de entidade da dataclasse Funcionario sem duplicatas (se houver)."),(0,n.kt)("h2",r({},{id:"add"}),".add()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Suporte do par\xe2metro ",(0,n.kt)("em",{parentName:"td"},"entitySelection"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Compat\xedvel apenas com sele\xe7\xf5es de entidade alter\xe1veis")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".add"),"( ",(0,n.kt)("em",{parentName:"p"},"entity")," : 4D. Entity ) : 4D. EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".add"),"( ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," : 4D."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entity"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. Entity"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Entidade que deve ser adicinonada \xe0 entity selection")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Sele\xe7\xe3o entidade paara ser adicionado a sellle\xe7\xe3o entidade originaal")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Sele\xe7\xe3o de entidades incluindo a ",(0,n.kt)("em",{parentName:"td"},"entity")," adicionada")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-4"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".add()")," addiciona a ",(0,n.kt)("em",{parentName:"p"},"entity")," especificada ou ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," para a selle\xe7\xe3o de entidade original e retona a sele\xe7\xe3o de entidade modificada."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta fun\xe7\xe3o n\xe3o modifica a entity selection original.")),(0,n.kt)("admonition",r({},{title:"warning",type:"info"}),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("strong",{parentName:"p"},"Aten\xe7\xe3o:")," a entity selection deve ser ",(0,n.kt)("em",{parentName:"p"},"alteravel"),", ou seja, foi criado por ejemplo, por ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#newselection"}),(0,n.kt)("inlineCode",{parentName:"a"},".newSelection()"))," ou ",(0,n.kt)("inlineCode",{parentName:"p"},"Create entity selection"),", do contr\xe1rio ",(0,n.kt)("inlineCode",{parentName:"p"},".add()")," devolver\xe1 um erro. As entity selections partilh\xe1veis n\xe3o aceitam a adi\xe7\xe3o de entidades. Para saber mais, consulte ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/entities#shareable-or-alterable-entity-selections"}),"Entity selections compartilh\xe1veis ou modific\xe1veis "),".")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Adicionar uma entidade")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Se a entity selection estiver ordenada, ",(0,n.kt)("em",{parentName:"li"},"entity")," se adiciona ao final da sele\xe7\xe3o. Se uma refer\xeancia a mesma entidade j\xe1 pertencer a sele\xe7\xe3o de entidades, se duplica e se adiciona uma nova refer\xeancia."),(0,n.kt)("li",{parentName:"ul"},"returns a new, ordered entity selection contendo todas as entidades da sele\xe7\xe3o de entidade na ordem definida atrav\xe9s de ",(0,n.kt)("em",{parentName:"li"},"formulaString")," ou ",(0,n.kt)("em",{parentName:"li"},"formulaObj")," e, opcionalmente, os par\xe2metros",(0,n.kt)("em",{parentName:"li"},"sortOrder")," e",(0,n.kt)("em",{parentName:"li"},"settings"),".")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Adicionar uma sele\xe7\xe3o de entidades")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Se a selec\xe7\xe3o de entidades estiver ordenada, a sua ordem \xe9 mantida e ",(0,n.kt)("em",{parentName:"li"},"entitySelection")," \xe9 adicionado no final da selec\xe7\xe3o. Se as refer\xeancias \xe0s mesmas entidades de ",(0,n.kt)("em",{parentName:"li"},"entitySelection")," j\xe1 pertencerem \xe0 selec\xe7\xe3o de entidades, s\xe3o duplicadas e s\xe3o adicionadas novas refer\xeancias."),(0,n.kt)("li",{parentName:"ul"},"Se a sele\xe7\xe3o de entidade n\xe3ofor ordenada, ela fica ordenada.",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"Para saber mais veja ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"Entity selections ordenada ou n\xe3o ordenadas"),".")))),(0,n.kt)("p",null,"A entity selection modificada \xe9 devolvida pela fun\xe7\xe3o, de modo que as chamadas \xe0 fun\xe7\xe3o podem ser encadeados."),(0,n.kt)("p",null,"Se produz um erro se ",(0,n.kt)("em",{parentName:"p"},"entity")," e a entity selection n\xe3o est\xe3o relacionadas com a mesma dataclass. Se ",(0,n.kt)("em",{parentName:"p"},"entity")," for Null, n\xe3o se produz nenhum erro."),(0,n.kt)("h4",r({},{id:"exemplo-1-2"}),"Exemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $employees : cs. EmployeeSelection\n var $employee : cs. EmployeeEntity\n $employees:=ds. Employee.query("lastName = :1";"S@")\n $employee:=ds. Employee.new()\n $employee.lastName:="Smith"\n $employee.save()\n $employees.add($employee) //A entidade $employee se adiciona a entity selection $employees\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-2"}),"Exemplo 2"),(0,n.kt)("p",null,"As chamadas \xe0 fun\xe7\xe3o podem ser encadeadas:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $sel : cs. ProductSelection\n var $p1;$p2;$p3 : cs. ProductEntity\n\n $p1:=ds. Product.get(10)\n $p2:=ds. Product.get(11)\n $p3:=ds. Product.get(12)\n $sel:=ds. Product.query("ID > 50")\n $sel:=$sel.add($p1).add($p2).add($p3)\n')),(0,n.kt)("h4",r({},{id:"exemplo-3-1"}),"Exemplo 3"),(0,n.kt)("p",null,"Em uma interface de usu\xe1rio, temos duas listas. O usu\xe1rio seleciona itens da lista 1 e as adiciona na lista 2."),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"$sellist2:=$sellist2.add($sellist1)\n")),(0,n.kt)("h2",r({},{id:"and"}),".and()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".and"),"( ",(0,n.kt)("em",{parentName:"p"},"entity")," : 4D. Entity ) : 4D. EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".and"),"( ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," : 4D. EntitySelection ) : 4D. EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entity"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. Entity"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Entidade a intersectar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Entity selection a intersectar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Entity selection resultante da intersec\xe7\xe3o com o operador l\xf3gico AND")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-5"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".and()")," combina a sele\xe7\xe3o da entidade com um par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"entity")," ou ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," utilizando o operador l\xf3gico AND; se retornar uma nova e n\xe3o ordenada sele\xe7\xe3o de entidade que contenha s\xf3 as entidades referenciaadas tanto na sele\xe7\xe3o de entidade quanto no par\xe2metro."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Se passar ",(0,n.kt)("em",{parentName:"li"},"entity")," como par\xe2metro, se combina esta entidade com a entity selection. Se a entidade pertencer \xe0 entity selection, se devolve uma nova entity selection que s\xf3 cont\xe9m a entidade. Sen\xe3o, uma sele\xe7\xe3o de entidades vazia \xe9 retornada."),(0,n.kt)("li",{parentName:"ul"},"Se passar como par\xe2metro ",(0,n.kt)("em",{parentName:"li"},"entitySelection")," pode comparar sele\xe7\xf5es de entidade. Uma nova sele\xe7\xe3o de entidade que contenha s\xf3 as entidades que s\xe3o referenciadas em ambas as sele\xe7\xf5es sejam retornadas. Sen\xe3o, uma nova sele\xe7\xe3o de entidade cont\xe9m a sele\xe7\xe3o de entidade original e a entidade \xe9 retornada.",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("blockquote",{parentName:"blockquote"},(0,n.kt)("blockquote",{parentName:"blockquote"},(0,n.kt)("p",{parentName:"blockquote"},"Pode comparar ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"entity selections ordenadas ou desordenadas"),". A sele\xe7\xe3o resultante \xe9 sempre desordenada.")))))),(0,n.kt)("p",null,"Se a entity selection inicial ou o par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," estiverem vazios, ou se ",(0,n.kt)("em",{parentName:"p"},"entity")," for Null, se devolve uma entity selection vazia."),(0,n.kt)("p",null,"Se a entity selection inicial e o par\xe2metro n\xe3o forem relacionados com a mesma dataclass, se produz um erro."),(0,n.kt)("h4",r({},{id:"exemplo-1-3"}),"Exemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $employees; $notDropped : cs. EmployeeSelection\n $employees:=ds.Employee.query("firstName=:1";"S@")\n $notDropped:=$employees.drop(dk stop dropping on first error) //$notDropped \xe9 uma entity selection que cont\xe9m a primeira entidade n\xe3o eliminada\n If($notDropped.length=0) //A a\xe7\xe3o de elimina\xe7\xe3o \xe9 exitosa, todas as entidades foram eliminadas\n    ALERT("You have dropped "+String($employees.length)+" employees") //A sele\xe7\xe3o de entidades eliminada permanece na mem\xf3ria\n Else\n    ALERT("Problem during drop, try later")\n End if\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-3"}),"Exemplo 2"),(0,n.kt)("p",null,'Se quisermos ter uma sele\xe7\xe3o de empregados chamados "Jones" que morem em Nova York:'),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $sel1; $sel2; $sel3 : cs. EmployeeSelection\n $sel1:=ds. Employee.query("name =:1";"Jones")\n $sel2:=ds. Employee.query("city=:1";"New York")\n $sel3:=$sel1.and($sel2)\n')),(0,n.kt)("h2",r({},{id:"at"}),".at()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".at"),"( ",(0,n.kt)("em",{parentName:"p"},"index")," : Integer ) : 4D. Entity "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"index"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"\xcdndice da entidade a devolver")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. Entity"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A entidade nesse \xedndice")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-6"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".some()")," devolve a entidade na posi\xe7\xe3o ",(0,n.kt)("em",{parentName:"p"},"index"),", permitindo a utiliza\xe7\xe3o de n\xfameros inteiros positivos e negativos."),(0,n.kt)("p",null,"Se o ",(0,n.kt)("em",{parentName:"p"},"index")," for negativo (de -1 a -n com n : comprimento da selec\xe7\xe3o de entidades), a entidade devolvida ser\xe1 baseada na ordem inversa da selec\xe7\xe3o de entidades."),(0,n.kt)("p",null,"A fun\xe7\xe3o devolve Null se o ",(0,n.kt)("em",{parentName:"p"},"index")," estiver para al\xe9m dos limites de selec\xe7\xe3o de entidades."),(0,n.kt)("h4",r({},{id:"exemplo-4"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $employees : cs.EmployeeSelection\nvar $emp1; $emp2 : cs.EmployeeEntity\n$employees:=ds.Employee.query("lastName = :1";"H@")\n$emp1:=$employees.at(2)  //3rd entity of the $employees entity selection\n$emp2:=$employees.at(-3) //starting from the end, 3rd entity\n    //of the $employees entity selection\n')),(0,n.kt)("h2",r({},{id:"average"}),".average()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retorna indefinido se uma sele\xe7\xe3o de entidade for vazia")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".average"),"( {",(0,n.kt)("em",{parentName:"p"},"propertyPath")," : Text } ) : Real"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributePath"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Rota do atributo que se utilizar\xe1 para o c\xe1lculo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Media aritm\xe9tica (m\xe9dia) dos valores das entidades para o atributo (N\xe3o se define para uma entity selection vazia)")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-7"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".average()")," devolve a m\xe9dia aritm\xe9tica (m\xe9dia) de todos os valores n\xe3o nulos de ",(0,n.kt)("em",{parentName:"p"},"attributePath")," na selec\xe7\xe3o de entidades."),(0,n.kt)("p",null,"Passe no par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"attributePath")," a rota de atributo a avaliar."),(0,n.kt)("p",null,"S\xf3 s\xe3o levados em considera\xe7\xe3o os valores num\xe9ricos para o c\xe1lculo. Lembre entretanto que se o ",(0,n.kt)("em",{parentName:"p"},"attributePath")," da sele\xe7\xe3o de entidades conter tipos de valores mistos, ",(0,n.kt)("inlineCode",{parentName:"p"},".average()")," considera todos os elementos escalares para calcular o valor m\xe9dio."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Os valores de tipo Date s\xe3o convertidos em valores num\xe9ricos (segundos) e s\xe3o usados para calcular a m\xe9dia.")),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},".average()")," returns ",(0,n.kt)("strong",{parentName:"p"},"undefined"),"se a entity selection estiver vazia ou ",(0,n.kt)("em",{parentName:"p"},"attributePath")," n\xe3o conter valores num\xe9ricos."),(0,n.kt)("p",null,"Um erro \xe9 retornado se:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," \xe9 um atributo relativo,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," n\xe3o se encontra na classe de dados da entity selection.")),(0,n.kt)("h4",r({},{id:"exemplo-5"}),"Exemplo"),(0,n.kt)("p",null,"Se quisermos obter uma lista de funcion\xe1rios cujo sal\xe1rio for superior ao sal\xe1rio m\xe9dio:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $averageSalary : Real\n var $moreThanAv : cs. EmployeeSelection\n $averageSalary:=ds. Employee.all().average("salary")\n $moreThanAv:=ds. Employee.query("salary > :1";$averageSalary)\n')),(0,n.kt)("h2",r({},{id:"contains"}),".contains()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".contains"),"( ",(0,n.kt)("em",{parentName:"p"},"entity")," : 4D.Entity ) : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entity"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. Entity"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Entidade a ser avaliada")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Truse se a entidade pertencer \xe0 entity selection, sen\xe3o False")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-8"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".contains()")," retorna true se a refer\xeancia de entidade pertencer \xe0 sele\xe7\xe3o de entidadee false de outra forma."),(0,n.kt)("p",null,"Em ",(0,n.kt)("em",{parentName:"p"},"entity"),", especifique a entidade a buscar na entity selection. Se a entidade for Null, a fun\xe7\xe3o devolver\xe1 false."),(0,n.kt)("p",null,"Se ",(0,n.kt)("em",{parentName:"p"},"entity")," e a entity selection n\xe3o pertencerem \xe0 mesma dataclass, se produz um erro."),(0,n.kt)("h4",r({},{id:"exemplo-6"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $employees : cs. EmployeeSelection\n var $employee : cs. EmployeeEntity\n\n $employees:=ds.Employee.query("lastName=:1";"H@")\n $employee:=ds. Employee.get(610)\n\n If($employees.contains($employee))\n    ALERT("A entidade com chave primaria 610 tem um sobrenome come\xe7ando com H")\n Else\n    ALERT("A entidade com chave prim\xe1ria 610 n\xe3o tem um sobrenome come\xe7ando com H")\n End if\n')),(0,n.kt)("h2",r({},{id:"count"}),".count()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".count"),"( ",(0,n.kt)("em",{parentName:"p"},"attributePath")," : Text ) : Real"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributePath"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Rota do atributo que se utilizar\xe1 para o c\xe1lculo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de valores de ",(0,n.kt)("em",{parentName:"td"},"attributePath")," que n\xe3o s\xe3o null na entity selection")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-9"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".count()")," retorna o n\xfamero de entidades da sele\xe7\xe3o de entidades com um valor n\xe3o nulo em ",(0,n.kt)("em",{parentName:"p"},"attributePath"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"S\xf3 s\xe3o levados em considera\xe7\xe3o os valores escalares. Os valores de tipo objeto ou cole\xe7\xe3o s\xe3o considerados valores nulos.")),(0,n.kt)("p",null,"Um erro \xe9 retornado se:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," \xe9 um atributo relativo,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," n\xe3o se encontra na classe de dados da entity selection.")),(0,n.kt)("h4",r({},{id:"exemplo-7"}),"Exemplo"),(0,n.kt)("p",null,"Se quisermos encontrar o n\xfamero total de empregados para uma empresa sem contar aqueles cujos titulos de mprego n\xe3o foram especificados:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $sel : cs. EmployeeSelection\n var $count : Real\n\n $sel:=ds. Employee.query("employer = :1";"Acme, Inc")\n $count:=$sel.count("jobtitle")\n')),(0,n.kt)("h2",r({},{id:"copy"}),".copy()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".copy"),"( { ",(0,n.kt)("em",{parentName:"p"},"option")," : Integer } ) : 4D. EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"option"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"ck shared"),": devolve uma entity selection compartilh\xe1vel")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"C\xf3pia da entity selection")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-10"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".copy()")," retorna uma c\xf3pia da entity selection original."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta fun\xe7\xe3o n\xe3o modifica a sele\xe7\xe3o de entidades original.")),(0,n.kt)("p",null,"Como padr\xe3o, se omitir o par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"option"),", a fun\xe7\xe3o devolve uma nova entity selection alter\xe1vel (mesmo se a fun\xe7\xe3o se aplicar a uma entity selection compartilh\xe1vel). Passe a constante ",(0,n.kt)("inlineCode",{parentName:"p"},"ck shared")," no par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"option")," se quiser criar uma entity selection compartilh\xe1vel."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Para saber mais sobre propriedade compartilh\xe1vel de entity selections, consulte ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/entities#shareable-or-alterable-entity-selections"}),"Entity selections compartilh\xe1veis ou modific\xe1veis"),".")),(0,n.kt)("h4",r({},{id:"exemplo-8"}),"Exemplo"),(0,n.kt)("p",null,"Se criar uma nova sele\xe7\xe3o de entidade vazia de produtos quando o formul\xe1rio for carregado:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," Case of\n    :(Form event code=On Load)\n       Form.products:=ds. Products.newSelection()\n End case\n\n")),(0,n.kt)("p",null,"Ent\xe3o esta sele\xe7\xe3o de entidades \xe9 atualizada com produtos e se quiser compartilhar os produtos entre v\xe1rios processos. Se copiar a sele\xe7\xe3od a entidade Form.products como compartilh\xe1vel:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," ...\n  // A sele\xe7\xe3o de entidades de Form.products se atualiza\n Form.products.add(Form.selectedProduct)\n\n Use(Storage)\n    If(Storage.products=Null)\n       Storage.products:=New shared object()\n    End if\n\n    Use(Storage.products)\n       Storage.products:=Form.products.copy(ck shared)\n    End use\n End use\n")),(0,n.kt)("h2",r({},{id:"distinct"}),".distinct()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Suporte de ",(0,n.kt)("inlineCode",{parentName:"td"},"dk count values"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".distinct"),"( ",(0,n.kt)("em",{parentName:"p"},"attributePath")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"option")," : Integer } ) : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributePath"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Rota do atributo cujos valores quer obter")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk diacritical"),': avalia\xe7\xe3o diacr\xedticos ("A" # "a" por exemplo)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cole\xe7\xe3o apenas com valores distintos")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-11"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".distinct()")," retorna uma cole\xe7\xe3o contendo apenas valores diferentes (distintos) em ",(0,n.kt)("em",{parentName:"p"},"attributePath")," na sele\xe7\xe3o de entidade."),(0,n.kt)("p",null,"A cole\xe7\xe3o retornada \xe9 ordenada automaticamente. Valores ",(0,n.kt)("strong",{parentName:"p"},"Null")," n\xe3o s\xe3o retornados."),(0,n.kt)("p",null,"No par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"attributePath"),", passe o atributo de entidade cujos valores distintos queira obter. S\xf3 valores escalares (texto, n\xfamero, booleano, ou data) podemser manejados. Tipos s\xe3o retornados na ordem abaixo: Se ",(0,n.kt)("em",{parentName:"p"},"attributePath")," levar a uma propriedade de objeto que conter valores de diferentes tipos, primeiro se agrupam por tipo e se ordenam depois. Se ",(0,n.kt)("em",{parentName:"p"},"attributePath")," levar a uma propriedade de objeto que conter valores de diferentes tipos, primeiro se agrupam por tipo e se ordenam depois."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"booleans"),(0,n.kt)("li",{parentName:"ol"},"strings"),(0,n.kt)("li",{parentName:"ol"},"n\xfameros"),(0,n.kt)("li",{parentName:"ol"},"datas")),(0,n.kt)("p",null,"Pode utilizar a nota\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},"[]")," para designar uma cole\xe7\xe3o quando ",(0,n.kt)("em",{parentName:"p"},"attributePath")," for uma rota dentro de um objeto (ver exemplos)."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"pathString")," (Text) : Este par\xe2metro cont\xe9m uma f\xf3rmula feita de rotas de atributo 1 a x (e opcionalmente) ordena\xe7\xe3o separado por v\xedrgulas A sintaxe \xe9:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Valor"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Coment\xe1rio"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk diacritical")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"8"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A avalia\xe7\xe3o \xe9 sens\xedvel a mai\xfasculas e min\xfasculas e diferencia os caracteres acentuados. Como padr\xe3o, uma avalia\xe7\xe3o n\xe3o-diacr\xedtica \xe9 realizada.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk count values")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"32"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Devolve a contagem de entidades para cada valor distinto. Quando esta op\xe7\xe3o \xe9 passada, ",(0,n.kt)("inlineCode",{parentName:"td"},".distinct()")," devolve uma colec\xe7\xe3o de objectos contendo um par de propriedades ",(0,n.kt)("inlineCode",{parentName:"td"},'{"value":*value*; "count":*count*}'),".")))),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"A op\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},"dk count values")," s\xf3 est\xe1 dispon\xedvel com atributos de armazenamento do tipo booleano, cadeia de caracteres, n\xfamero e data.")),(0,n.kt)("p",null,"Um erro \xe9 retornado se:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," \xe9 um atributo relativo,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," n\xe3o se encontra na classe de dados da entity selection.")),(0,n.kt)("h4",r({},{id:"exemplos"}),"Exemplos"),(0,n.kt)("p",null,"Se quiser obter uma cole\xe7\xe3o que contenha um s\xf3 elemento por nome de pa\xeds:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $countries : Collection\n $countries:=ds. Employee.all().distinct("address.country")\n')),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"nicknames")," \xe9 uma cole\xe7\xe3o e ",(0,n.kt)("inlineCode",{parentName:"p"},"extra")," for um atributo de objeto:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$values:=ds. Employee.all().distinct("extra.nicknames[].first")\n')),(0,n.kt)("p",null,"Pretende obter o n\xfamero de nomes de fun\xe7\xf5es diferentes na empresa:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $jobs : Collection\n$jobs:=ds. Employee.all().distinct("jobName";dk count values)  \n//$jobs[0]={"value":"Developer";"count":17}\n//$jobs[1]={"value":"Office manager";"count":5}\n//$jobs[2]={"value":"Accountant";"count":2}\n//...\n')),(0,n.kt)("h2",r({},{id:"distinctpaths"}),".distinctPaths()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".distinctPaths"),"( ",(0,n.kt)("em",{parentName:"p"},"attribute")," : Text ) : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"atributo"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome do atributo do objecto cujos caminhos pretende obter")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nova colec\xe7\xe3o com caminhos distintos")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-12"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".distinct()")," returns a collection containing only distinct (different) values from the ",(0,n.kt)("em",{parentName:"p"},"attributePath")," in the entity selection."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"attributePath")," n\xe3o se encontra na classe de dados da entity selection."),(0,n.kt)("p",null,"Ap\xf3s a chamada, o tamanho da colec\xe7\xe3o devolvida \xe9 igual ao n\xfamero de caminhos distintos encontrados em ",(0,n.kt)("em",{parentName:"p"},"attribute"),' para a selec\xe7\xe3o da entidade. Os caminhos s\xe3o devolvidos como cadeias de caracteres, incluindo atributos e colec\xe7\xf5es aninhados, por exemplo "info.address.number" ou "children[].birthdate". As entidades com um valor nulo no ',(0,n.kt)("em",{parentName:"p"},"attribute")," n\xe3o s\xe3o tidas em conta."),(0,n.kt)("h4",r({},{id:"exemplo-9"}),"Exemplo"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"attributePath")," for um atributo relativo,"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $paths : Collection\n$paths:=ds. Employee.all().distinctPaths("fullData")\n//$paths[0]="age"\n//$paths[1]="Children"\n//$paths[2]="Children[].age"\n//$paths[3]="Children[].name"\n//$paths[4]="Children.length"\n///...\n')),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("em",{parentName:"p"},"attributePath")," for um atributo relativo,")),(0,n.kt)("h2",r({},{id:"drop"}),".drop()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".drop"),"( { ",(0,n.kt)("em",{parentName:"p"},"mode")," : Integer } ) : 4D. EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"mode"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk stop dropping on first error"),": para a execu\xe7\xe3o do m\xe9todo na primeira entidade n\xe3o elimin\xe1vel")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Entidade de sele\xe7\xe3o vazia se for executada com \xeaxito, se nenhuma entity selection contendo as entidades n\xe3o elimin\xe1veis")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-13"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".drop()")," remove as entidades pertencendo \xe0 sele\xe7\xe3o de entidade da tabela relacionada a dataclasse dentro da datastore. A entity selection permanece na mem\xf3ria."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"A elimina\xe7\xe3o de entidades \xe9 permanente e n\xe3o pode ser desfeita. \xc9 recomendado chamar esta a\xe7\xe3o em uma transa\xe7\xe3o para ter uma op\xe7\xe3o de recupera\xe7\xe3o.")),(0,n.kt)("p",null,"Se encontrar uma entidade bloqueada durante a execu\xe7\xe3o de ",(0,n.kt)("inlineCode",{parentName:"p"},".drop()"),", n\xe3o \xe9 eliminado. Como padr\xe3o o m\xe9todo processa todas as entidades da sele\xe7\xe3o de entidades e retorna as entidades n\xe3o elimin\xe1veis na entity selection. Se quiser que o m\xe9todo pare a execu\xe7\xe3o na primeira entidade n\xe3o elimin\xe1vel encontrada, passe a constante ",(0,n.kt)("inlineCode",{parentName:"p"},"dk stop dropping on first error")," no par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"mode"),"."),(0,n.kt)("h4",r({},{id:"exemplo-10"}),"Exemplo"),(0,n.kt)("p",null,"Exemplo sem a op\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},"dk stop dropping on first error"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $employees; $notDropped : cs. EmployeeSelection\n $employees:=ds.Employee.query("firstName=:1";"S@")\n $notDropped:=$employees.drop() // $notDropped for uma entity selection que cont\xe9m todas as entidades n\xe3o suprimidas\n If($notDropped.length=0) //A a\xe7\xe3o de elimina\xe7\xe3o for exitosa, todas as entidades foram eliminadas\n    ALERT("You have dropped "+String($employees.length)+" employees") //A sele\xe7\xe3o de entidades eliminada permanece na memoria\n Else\n    ALERT("Problem during drop, try later")\n End if\n')),(0,n.kt)("p",null,"Exemplo com a op\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},"dk stop dropping on first error"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' EmployeeSelection\n $employees:=ds.Employee.query("firstName=:1";"S@")\n $notDropped:=$employees.drop() // $notDropped for uma entity selection que cont\xe9m todas as entidades n\xe3o suprimidas\n If($notDropped.length=0) //A a\xe7\xe3o de elimina\xe7\xe3o for exitosa, todas as entidades foram eliminadas\n    ALERT("You have dropped "+String($employees.length)+" employees") //A sele\xe7\xe3o de entidades eliminada permanece na memoria\n Else\n    ALERT("Problem during drop, try later")\n End if var $employees; $notDropped : cs.\n')),(0,n.kt)("h2",r({},{id:"extract"}),".extract()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".extract"),"( ",(0,n.kt)("em",{parentName:"p"},"attributePath")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"option")," : Integer } ) : Collection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".extract"),"( ",(0,n.kt)("em",{parentName:"p"},"attributePath")," { ; ",(0,n.kt)("em",{parentName:"p"},"targetPath")," } { ; ",(0,n.kt)("em",{parentName:"p"},"...attributePathN")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"targetPathN")," : Text } ) : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributePath"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Rota de atributo cujos valores ser\xe3o extra\xeddos para nova cole\xe7\xe3o")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"targetpath"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Rota ou nome do atributo objetivo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"option"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"ck keep null"),": inclui os atributos null na cole\xe7\xe3o devolvida (ignorados por padr\xe3o)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cole\xe7\xe3o contendo valores extra\xeddos")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-14"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".extract()")," retorna uma cole\xe7\xe3o contendo ",(0,n.kt)("em",{parentName:"p"},"attributePath")," valores extra\xeddos da sele\xe7\xe3o de entidade."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"attributePath")," pode ser:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"um atributo escalar de dataclass,"),(0,n.kt)("li",{parentName:"ul"},"entidade relacionada,"),(0,n.kt)("li",{parentName:"ul"},"entidades relacionadas.")),(0,n.kt)("p",null,"Se ",(0,n.kt)("em",{parentName:"p"},"attributePath")," n\xe3o for v\xe1lido, se devolve uma cole\xe7\xe3o vazia."),(0,n.kt)("p",null,"Esta fun\xe7\xe3o aceita duas sintaxes."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".extract( attributePath : Text { ; option : Integer } ) : Collection")),(0,n.kt)("p",null,"Com esta sintaxe, ",(0,n.kt)("inlineCode",{parentName:"p"},".extract()")," preenche a cole\xe7\xe3o devolvida com os valores ",(0,n.kt)("em",{parentName:"p"},"attributePath")," da entity selection."),(0,n.kt)("p",null,"Como padr\xe3o, as entidades para as que ",(0,n.kt)("em",{parentName:"p"},"attributePath")," for",(0,n.kt)("em",{parentName:"p"},"null")," ou indefinida s\xe3o ignoradas na cole\xe7\xe3o resultante. Pode passar a constante ",(0,n.kt)("inlineCode",{parentName:"p"},"ck keep null")," no par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"option")," para incluir esses valores como elementos",(0,n.kt)("strong",{parentName:"p"},"null"),"  na cole\xe7\xe3o retornada."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Os atributos dataclass com ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20-R4/API/DataClassClass#attributename"}),".kind"),' = "relatedEntity" s\xe3o extra\xeddos como uma cole\xe7\xe3o de entidades (as duplica\xe7\xf5es s\xe3o mantidas).'),(0,n.kt)("li",{parentName:"ul"},"Os atributos dataclass com ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20-R4/API/DataClassClass#attributename"}),".kind"),' = "relatedEntities" se extraem como uma entity selection.')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Atributos de Dataclass com ",(0,n.kt)("a",r({parentName:"strong"},{href:"DataClassAttributeClass.md#kind"}),".kind"),' = "relatedEntity" extra\xeddos como uma cole\xe7\xe3o de entidades (duplica\xe7\xf5es s\xe3o mantidas).')),(0,n.kt)("p",null,"Com esta sintaxe, ",(0,n.kt)("inlineCode",{parentName:"p"},".extract()")," preenche a cole\xe7\xe3o devolvida com as propriedades ",(0,n.kt)("em",{parentName:"p"},"attributePath")," da entity selection. Cada elemento da cole\xe7\xe3o devolvida \xe9 um objeto com as propriedades ",(0,n.kt)("em",{parentName:"p"},"targetPath")," preenchidas com as propriedades ",(0,n.kt)("em",{parentName:"p"},"attributePath")," correspondentes. Se mant\xe9m os valores null (o par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"option")," se ignora) com esta sintaxe."),(0,n.kt)("p",null,"Se v\xe1rios ",(0,n.kt)("em",{parentName:"p"},"attributePath"),", forem dados, deve dar um ",(0,n.kt)("em",{parentName:"p"},"targetPath")," para cada um. S\xf3 se extraem os pares v\xe1lidos ","[",(0,n.kt)("em",{parentName:"p"},"attributePath"),", ",(0,n.kt)("em",{parentName:"p"},"targetPath"),"]."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Atributos de dataclass com ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20-R4/API/DataClassClass#attributename"}),".kind"),' = "relatedEntities" s\xe3o extra\xeddas como cole\xe7\xe3o de sele\xe7\xe3o de entidades.'),(0,n.kt)("li",{parentName:"ul"},"Os atributos dataclass com ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20-R4/API/DataClassClass#attributename"}),".kind"),' = "relatedEntities" s\xe3o extra\xeddos como uma sele\xe7\xe3o de entidade.')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"As entidades de uma colec\xe7\xe3o de entidades acedidas por ","["," ] n\xe3o s\xe3o recarregadas da base de dados.")),(0,n.kt)("h4",r({},{id:"exemplo-11"}),"Exemplo"),(0,n.kt)("p",null,"Dada a seguinte tabela e rela\xe7\xe3o:"),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(903016).Z,width:"622",height:"350"})),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $firstnames; $addresses; $mailing; $teachers : Collection\n  //\n  //\n  //$firstnames \xe9 uma cole\xe7\xe3o de Strings\n\n\n $firstnames:=ds. Teachers.all().extract("firstname")\n  //\n  //$addresses \xe9 uma cole\xe7\xe3o de entities relacionadas ao dataclass Address\n  //Valores Null para o endere\xe7o s\xe3o extra\xeddos\n $addresses:=ds. Teachers.all().extract("address";ck keep null)\n  //\n  //\n  //$mailing \xe9 uma cole\xe7\xe3o de objetos com propriedades "who" e "to"\n  //conte\xfado propriedade "who" \xe9 do tipo String\n  //conteudo propriedade "to" \xe9 do tipo entity (Address dataclass)\n $mailing:=ds. Teachers.all().extract("lastname";"who";"address";"to")\n  //\n  //\n  //$mailing \xe9 uma cole\xe7\xe3o de objetos com propriedades "who" e "city"\n  //conte\xfado propriedade "who" \xe9 tipo String\n  //conte\xfado propriedade "city" \xe9 tipo String\n $mailing:=ds. Teachers.all().extract("lastname";"who";"address.city";"city")\n  //\n  //$teachers \xe9 uma cole\xe7\xe3o de objetos com propriedades "where" e "who"\n  //conte\xfado propriedade "where" \xe9 String\n  //conte\xfado propriedade "who" \xe9 uma entity selection (Teachers dataclass)\n $teachers:=ds. Address.all().extract("city";"where";"teachers";"who")\n  //\n  //$teachers \xe9 uma cole\xe7\xe3o de entity selections\n $teachers:=ds. Address.all().extract("teachers")\n')),(0,n.kt)("h2",r({},{id:"first"}),".first()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".first()")," : 4D. Entity"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. Entity"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Refer\xeancia \xe0 primeira entidade da sele\xe7\xe3o de entidade (Null se sele\xe7\xe3o for vazia)")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-15"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".first()")," devolve uma refer\xeancia \xe0 entidade na primeira posi\xe7\xe3o da selec\xe7\xe3o de entidades."),(0,n.kt)("p",null,"O resultado desta fun\xe7\xe3o \xe9 similar a:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," $entity:=$entitySel[0]\n")),(0,n.kt)("p",null,"H\xe1, entretanto, uma diferen\xe7a entre ambas as afirma\xe7\xf5es quando a sele\xe7\xe3o estiver vazia:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $entitySel : cs. EmpSelection\n var $entity : cs. EmpEntity\n $entitySel:=ds. Emp.query("lastName = :1";"Nonexistentname") //nenhuma entity correspondente\n  //entity selection \xe9 esvaziada\n $entity:=$entitySel.first() //retorna Null\n $entity:=$entitySel[0]  //gera um erro\n')),(0,n.kt)("h4",r({},{id:"exemplo-12"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $entitySelection : cs. EmpSelection\n var $entity : cs. EmpEntity\n $entitySelection:=ds. Emp.query("salary > :1";100000)\n If($entitySelection.length#0)\n    $entity:=$entitySelection.first()\n End if\n')),(0,n.kt)("h2",r({},{id:"getdataclass"}),".getDataClass()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getDataClass()")," : 4D. DataClass"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. DataClass"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto dataclass ao qual a sele\xe7\xe3o de entidade pertence")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-16"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".getDataClass()")," retorna a dataclass da entity selection."),(0,n.kt)("p",null,"Esta fun\xe7\xe3o \xe9 principalmente \xfatil  no contexto do c\xf3digo gen\xe9rico."),(0,n.kt)("h4",r({},{id:"exemplo-13"}),"Exemplo"),(0,n.kt)("p",null,"O seguinte c\xf3digo gen\xe9rico duplica todas as entidades da entity selection:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"  //duplicate_entities method\n  //duplicate_entities($entity_selection)\n\n #DECLARE ( $entitySelection : 4D. EntitySelection )  \n var $dataClass : 4D. DataClass\n var $entity; $duplicate : 4D. Entity\n var $status : Object\n $dataClass:=$entitySelection.getDataClass()\n For each($entity;$entitySelection)\n    $duplicate:=$dataClass.new()\n    $duplicate.fromObject($entity.toObject())\n    $duplicate[$dataClass.getInfo().primaryKey]:=Null //reset the primary key\n    $status:=$duplicate.save()\n End for each\n")),(0,n.kt)("h2",r({},{id:"getremotecontextattributes"}),".getRemoteContextAttributes()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRemoteContextAttributes()")," : Text"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Atributos de contexto conectados \xe0 sele\xe7\xe3o de entidade, separados por uma v\xedrgula")))),(0,n.kt)("p",null,"|"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Modo avan\xe7ado:")," Esta fun\xe7\xe3o destina-se a programadores que necessitem personalizar as caracter\xedsticas padr\xe3o ORDA para configura\xe7\xf5es espec\xedficas. Na maioria dos casos, n\xe3o necessitar\xe1 de o utilizar.")),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-17"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".touchedAttributes()")," retorna informa\xe7\xe3o sobre o contexto de otimiza\xe7\xe3o usados pela sele\xe7\xe3o de entidade."),(0,n.kt)("p",null,"Se n\xe3o houver ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/datastores#clientserver-optimization"}),"optimization context")," para a sele\xe7\xe3o de entidade, a fun\xe7\xe3o retorna um Texto vazio."),(0,n.kt)("h4",r({},{id:"exemplo-14"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D. DataStoreImplementation\nvar $persons : cs. PersonsSelection\nvar $p : cs. PersonsEntity\n\nvar $info : Text\nvar $text : Text\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$persons:=$ds. Persons.all()\n$text:="" For each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / " End for each\n\n$info:=$persons.getRemoteContextAttributes()\n//$info = "firstname,address,address.city"\n')),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-1"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/EntityClass#getRemoteContextAttributes"}),"Entity.getRemoteContextAttributes()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataStoreClass#clearallremotecontexts"}),".clearAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataStoreClass#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataStoreClass#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataStoreClass#setremotecontextinfo"}),".setRemoteContextInfo()")),(0,n.kt)("h2",r({},{id:"isalterable"}),".isAlterable()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isAlterable()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True se a sele\xe7\xe3o de entidades for alter\xe1vel, sen\xe3o False")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-18"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".isAlterable()")," retorna True se a sele\xe7\xe3o de entidade for alter\xe1vel, e False se a sele\xe7\xe3o de entidade n\xe3o for alter\xe1vel."),(0,n.kt)("p",null,"Para mais informa\xe7\xe3o, consulte a se\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/entities#shareable-or-alterable-entity-selections"}),"Entity selections compartilh\xe1veis ou modific\xe1veis"),"."),(0,n.kt)("h4",r({},{id:"exemplo-15"}),"Exemplo"),(0,n.kt)("p",null,"Vai mostrar ",(0,n.kt)("inlineCode",{parentName:"p"},"Form.products")," em uma ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/FormObjects/listboxOverview"}),"list box")," para que o usu\xe1rio possaa adicionar novos produtos. Se quiser ter certeza que \xe9 alter\xe1vel para que o usu\xe1rio possa adicionar novos produtos sem erro:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"If (Not(Form.products.isAlterable()))\n    Form.products:=Form.products.copy()\nEnd if\n...\nForm.products.add(Form.product)\n")),(0,n.kt)("h2",r({},{id:"isordered"}),".isOrdered()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isOrdered()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True se a sele\xe7\xe3o de entidade for ordenada, sen\xe3o False")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-19"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".isOrdered()")," devolve True se a entity selection estiver ordenada, e False se n\xe3o for ordenada."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta fun\xe7\xe3o devolve sempre True quando a selec\xe7\xe3o da entidade prov\xe9m de um datastore remoto.")),(0,n.kt)("p",null,"Para mais informa\xe7\xe3o, consulte ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"Entity selection ordenadas ou desordenadas"),"."),(0,n.kt)("h4",r({},{id:"exemplo-16"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' EmployeeSelection\n $employees:=ds.Employee.query("firstName=:1";"S@")\n $notDropped:=$employees.drop() // $notDropped for uma entity selection que cont\xe9m todas as entidades n\xe3o suprimidas\n If($notDropped.length=0) //A a\xe7\xe3o de elimina\xe7\xe3o for exitosa, todas as entidades foram eliminadas\n    ALERT("You have dropped "+String($employees.length)+" employees") //A sele\xe7\xe3o de entidades eliminada permanece na memoria\n Else\n    ALERT("Problem during drop, try later")\n End if var $employees; $notDropped : cs.\n')),(0,n.kt)("h2",r({},{id:"last"}),".last()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,"Par\xe2metros"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. Entity"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Refer\xeancia \xe0 \xfaltima entidade da sele\xe7\xe3o de entidade (Null se sele\xe7\xe3o de entidade vazia)")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-20"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".last()")," retorna uma refer\xeancia \xe0 entidade na \xfaltim aposi\xe7\xe3o da sele\xe7\xe3o de entidade."),(0,n.kt)("p",null,"O resultado desta fun\xe7\xe3o \xe9 similar a:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," $entity:=$entitySel[length-1]\n")),(0,n.kt)("p",null,"Se a entity selection estiver vazia, a fun\xe7\xe3o devolve Null."),(0,n.kt)("h4",r({},{id:"exemplo-17"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $entitySelection : cs. EmpSelection\n var $entity : cs. EmpEntity\n $entitySelection:=ds. Emp.query("salary < :1";50000)\n If($entitySelection.length#0)\n    $entity:=$entitySelection.last()\n End if\n')),(0,n.kt)("h2",r({},{id:"length"}),".length"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".length")," : Integer"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-21"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".length")," retorna o n\xfamero de entidades na sele\xe7\xe3o de entidade. Se a entity selection estiver vazia, devolve 0."),(0,n.kt)("p",null,"As entity selections sempre t\xeam uma propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".length"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Para saber o n\xfamero total de entidades em uma dataclasse, \xe9 recomendado usar a fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#getcount"}),(0,n.kt)("inlineCode",{parentName:"a"},"getCount()"))," que \xe9 mais otimizada que a express\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},"ds.myClass.all().length"),".")),(0,n.kt)("h4",r({},{id:"exemplo-18"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $vSize : Integer\n $vSize:=ds. Employee.query("gender = :1";"male").length\n ALERT(String(vSize)+" male employees found.")\n')),(0,n.kt)("h2",r({},{id:"max"}),".max()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retorna indefinido se uma sele\xe7\xe3o de entidade for vazia"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".max"),"( ",(0,n.kt)("em",{parentName:"p"},"attributePath")," : Text ) : any"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributePath"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Rota do atributo que se utilizar\xe1 para o c\xe1lculo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"any"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Maior valor do atributo")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-22"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".max()")," retorna o valor mais alto (ou m\xe1ximo) entre todos os valores de ",(0,n.kt)("em",{parentName:"p"},"attributePath")," na sele\xe7\xe3o de entidade. De facto, devolve o valor da \xfaltima entidade da selec\xe7\xe3o de entidades, tal como seria ordenada por ordem crescente utilizando a fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#orderby"}),(0,n.kt)("inlineCode",{parentName:"a"},".orderBy()")),"."),(0,n.kt)("p",null,"Se passar em ",(0,n.kt)("em",{parentName:"p"},"attributePath")," uma rota a uma propriedade de objeto que contenha diferentes tipos de valores, a fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".max()")," devolver\xe1 o valor m\xe1ximo dentro do primeiro tipo escalar na ordem da lista de tipos 4D como padr\xe3o (ver a descri\xe7\xe3o de ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/CollectionClass#sort"}),(0,n.kt)("inlineCode",{parentName:"a"},".sort()")),")."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},".max()")," devolve ",(0,n.kt)("strong",{parentName:"p"},"undefined")," se a entity selection estiver vazia ou ",(0,n.kt)("em",{parentName:"p"},"attributePath")," n\xe3o for encontrado no atributo de objeto."),(0,n.kt)("p",null,"Um erro \xe9 retornado se:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," \xe9 um atributo relativo,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," n\xe3o se encontra na classe de dados da entity selection.")),(0,n.kt)("h4",r({},{id:"exemplo-19"}),"Exemplo"),(0,n.kt)("p",null,"Se quisermos encontrar o maior sal\xe1rio entre as funcion\xe1rias mulheres:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $sel : cs. EmpSelection\n var $maxSalary : Real\n $sel:=ds. Employee.query("gender = :1";"female")\n $maxSalary:=$sel.max("salary")\n')),(0,n.kt)("h2",r({},{id:"min"}),".min()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retorna indefinido se uma sele\xe7\xe3o de entidade for vazia"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".min"),"( ",(0,n.kt)("em",{parentName:"p"},"attributePath")," : Text ) : any"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributePath"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Rota do atributo que se utilizar\xe1 para o c\xe1lculo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"any"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Menor valor do atributo")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-23"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".min()"),"  retorna o menor valor (m\xednimo) entre todos os valores de attributePath na sele\xe7\xe3o de entidade.  De facto, devolve a primeira entidade da selec\xe7\xe3o de entidades, tal como seria ordenada por ordem ascendente utilizando a fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#orderby"}),(0,n.kt)("inlineCode",{parentName:"a"},".orderBy()"))," (excluindo os valores ",(0,n.kt)("strong",{parentName:"p"},"null"),")."),(0,n.kt)("p",null,"Se passar em ",(0,n.kt)("em",{parentName:"p"},"attributePath")," uma rota a uma propriedade objeto que contenha diferentes tipos de valores, a fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".min()")," devolver\xe1 o valor m\xednimo dentro do primeiro tipo de valor escalar na ordem da lista de tipos (ver a descri\xe7\xe3o de ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/CollectionClass#sort"}),(0,n.kt)("inlineCode",{parentName:"a"},".sort()")),")."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},".min()")," retorna ",(0,n.kt)("strong",{parentName:"p"},"undefined")," se a sele\xe7\xe3o entidade for vazia ou se ",(0,n.kt)("em",{parentName:"p"},"attributePath")," n\xe3o for encontrado no atributo objeto."),(0,n.kt)("p",null,"Um erro \xe9 retornado se:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," \xe9 um atributo relativo,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," n\xe3o se encontra na classe de dados da entity selection.")),(0,n.kt)("h4",r({},{id:"exemplo-20"}),"Exemplo"),(0,n.kt)("p",null,"Neste exemplo, se quisermos encontrar o menor sal\xe1rio entre todos os funcion\xe1rios mulheres:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $sel : cs. EmpSelection\n var $minSalary : Real\n $sel:=ds. Employee.query("gender = :1";"female")\n $minSalary:=$sel.min("salary")\n')),(0,n.kt)("h2",r({},{id:"minus"}),".minus()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Suporte do par\xe2metro ",(0,n.kt)("em",{parentName:"td"},"keepOrder"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".minus"),"( ",(0,n.kt)("em",{parentName:"p"},"entity")," : 4D. Entity { ; ",(0,n.kt)("em",{parentName:"p"},"keepOrder")," : Integer } ) : 4D. EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".minus"),"( ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," : 4D. EntitySelection { ; ",(0,n.kt)("em",{parentName:"p"},"keepOrder")," : Integer } ) : 4D."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entity"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. Entity"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Entidade a substrair")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"sele\xe7\xe3o de entidade a subtrair")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"keepOrder"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk keep ordered")," (inteiro) para manter a ordem inicial na sele\xe7\xe3o de entidade resultado")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nova sele\xe7\xe3o de entidade ou uma nova refer\xeancia na sele\xe7\xe3o entidade existente.")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-24"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".minus()")," exclui da sele\xe7\xe3o de entidade que \xe9 aplicada a ",(0,n.kt)("em",{parentName:"p"},"entity")," ou as entidaddes de ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," e retorna a sele\xe7\xe3o de entidade resultante."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Se passar ",(0,n.kt)("em",{parentName:"li"},"entity")," como par\xe2metro, a fun\xe7\xe3o cria uma nova sele\xe7\xe3o de entidade sem ",(0,n.kt)("em",{parentName:"li"},"entity")," (se ",(0,n.kt)("em",{parentName:"li"},"entity")," pertencer \xe0 sele\xe7\xe3o de entidade). Se ",(0,n.kt)("em",{parentName:"li"},"entity")," n\xe3o for inclu\xedda na sele\xe7\xe3o de entidade original, uma nova refer\xeancia para a sele\xe7\xe3o de entidade \xe9 retornada."),(0,n.kt)("li",{parentName:"ul"},"Se a entity selection n\xe3o estiver ordenada, ",(0,n.kt)("em",{parentName:"li"},"entity")," se adiciona em qualquer lugar da sele\xe7\xe3o, sem uma ordem espec\xedfica. > > Pode comparar ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"entity selections ordenadas ou desordenadas"),".")),(0,n.kt)("p",null,"Como padr\xe3o, se omitir o par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"keepOrder")," , a sele\xe7\xe3o de entidade resultado n\xe3o \xe9 ordenada. Se quiser manter a ordem da sele\xe7\xe3o de entidade original (por exemplo se quiser reutilizar a sele\xe7\xe3o de entidade em uma interface de usu\xe1rio) passe a constante ",(0,n.kt)("inlineCode",{parentName:"p"},"dk keep ordered")," em ",(0,n.kt)("em",{parentName:"p"},"keepOrder"),". Neste caso, o resultado \xe9 uma sele\xe7\xe3o de entidade ordenada e a ordem da sele\xe7\xe3o de entidade inicial \xe9 mantida"),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Se passar ",(0,n.kt)("inlineCode",{parentName:"p"},"dk keep ordered")," em ",(0,n.kt)("em",{parentName:"p"},"keepOrder")," e removida ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," cont\xe9m entidades duplicadas na sele\xe7\xe3o de entidade original, todas as ocorr\xeancias da duplicada s\xe3o removidas.")),(0,n.kt)("p",null,"Se a sele\xe7\xe3o de entidade original ou tanto a sele\xe7\xe3o de entidade quanto o par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," vazios e uma sele\xe7\xe3o de entidade vazia \xe9 retornada."),(0,n.kt)("p",null,"Se ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," estiver vazia ou se ",(0,n.kt)("em",{parentName:"p"},"entity")," for Null, uma nova refer\xeancia \xe0 sele\xe7\xe3o de entidade original for retornada."),(0,n.kt)("p",null,"Se a entity selection inicial e o par\xe2metro n\xe3o forem relacionados com a mesma dataclass, se produz um erro."),(0,n.kt)("h4",r({},{id:"exemplo-1-4"}),"Exemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $employees : cs. EmployeeSelection\n var $employee : cs. EmployeeEntity\n\n $employees:=ds.Employee.query("lastName=:1";"H@")\n $employee:=ds. EmployeeEntity\n $employees:=ds. Employee.query("lastName = :1";"H@") // Devuelve "Colin Hetrick","Grady Harness", "Sherlock Holmes"\n $employee:=ds.\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-4"}),"Exemplo 2"),(0,n.kt)("p",null,'Se quisermos ter uma sele\xe7\xe3o de empregados mulheres que se chamam "Jones" que vivem em Nova York:'),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $sel1; $sel2; $sel3 : cs. EmployeeSelection\n $sel1:=ds. Employee.query("name =:1";"Jones")\n $sel2:=ds. Employee.query("city=:1";"New York")\n $sel3:=$sel1.and($sel2).minus(ds. Employee.query("gender=\'male\'"))\n')),(0,n.kt)("h4",r({},{id:"exemplo-3-2"}),"Exemplo 3"),(0,n.kt)("p",null,"Em uma interface de usu\xe1rio se tivermos uma lista que exibe itens em uma ordem espec\xedfica. Se o usu\xe1rio selecionar itens na lista para remove-los, a ordem deve ser mantida quando refrescar a lista:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"Employee.newSelection(dk keep ordered)\n $employee:=ds.\n")),(0,n.kt)("h2",r({},{id:"or"}),".or()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".or"),"( ",(0,n.kt)("em",{parentName:"p"},"entity")," : 4D. Entity ) : 4D. EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".or"),"( ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," : 4D. EntitySelection ) : 4D. EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entity"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. Entity"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Entidade a intersectar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Entity selection a intersectar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nova sele\xe7\xe3o de entidade ou nova refer\xeancia para a sele\xe7\xe3o de entidade original")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-25"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".or()")," combina a sele\xe7\xe3o de entidade com ",(0,n.kt)("em",{parentName:"p"},"entity")," ou par\xe2metro",(0,n.kt)("em",{parentName:"p"},"entitySelection")," usando o operador l\xf3gico (n\xe3o exclusivo) OR; retorna uma nova sele\xe7\xe3o de entidade n\xe3o ordenada que contenha todas as entidades da sele\xe7\xe3o de entidade e o par\xe2metro."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Se passar como par\xe2metro ",(0,n.kt)("em",{parentName:"li"},"entitySelection")," pode comparar sele\xe7\xf5es de entidade. Se a entidade pertencer \xe0 selec\xe7\xe3o de entidades, \xe9 devolvida uma nova refer\xeancia \xe0 selec\xe7\xe3o de entidades. Sen\xe3o, uma nova sele\xe7\xe3o de entidade cont\xe9m a sele\xe7\xe3o de entidade original e a entidade \xe9 retornada."),(0,n.kt)("li",{parentName:"ul"},"Se a sele\xe7\xe3o de entidade original e o par\xe2metro ",(0,n.kt)("em",{parentName:"li"},"entitySelection")," for vazio, uma sele\xe7\xe3o de entidade vazia \xe9 retornada. Se a sele\xe7\xe3o de entidade original for vazia, uma refer\xeancia a  ",(0,n.kt)("em",{parentName:"li"},"entitySelection")," ou uma sele\xe7\xe3o de entidade contendo apenas ",(0,n.kt)("em",{parentName:"li"},"entity")," ser\xe1 retornada.",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("blockquote",{parentName:"blockquote"},(0,n.kt)("blockquote",{parentName:"blockquote"},(0,n.kt)("p",{parentName:"blockquote"},"Pode comparar ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"entity selections ordenadas ou desordenadas"),". A sele\xe7\xe3o resultante \xe9 sempre desordenada.")))))),(0,n.kt)("p",null,"A sele\xe7\xe3o de entidade retornada cont\xe9m as entidades especificadas por ",(0,n.kt)("em",{parentName:"p"},"startFrom")," e todas as entidades subsequentes at\xe9, mas n\xe3o incluindo, a entidade especificada por ",(0,n.kt)("em",{parentName:"p"},"end"),". Se s\xf3 o par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"startFrom")," for especificado, a entidade de sele\xe7\xe3o retornada cont\xe9m todas as entidades de ",(0,n.kt)("em",{parentName:"p"},"startFrom")," \xe0 \xfaltima entidade da sele\xe7\xe3o de entidade original."),(0,n.kt)("p",null,"Se ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," estiver vazia ou se ",(0,n.kt)("em",{parentName:"p"},"entity")," for Null, uma nova refer\xeancia \xe0 sele\xe7\xe3o de entidade original for retornada."),(0,n.kt)("p",null,"Se a entity selection inicial e o par\xe2metro n\xe3o forem relacionados com a mesma dataclass, se produz um erro."),(0,n.kt)("h4",r({},{id:"exemplo-1-5"}),"Exemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $employees1; $employees2; $result : cs. EmployeeSelection\n $employees1:=ds. Employee.query("lastName = :1";"H@") //Returns "Colin Hetrick","Grady Harness"\n $employees2:=ds. Employee.query("firstName = :1";"C@") //Returns "Colin Hetrick", "Cath Kidston"\n $result:=$employees1.or($employees2) //$result contains "Colin Hetrick", "Grady Harness","Cath Kidston"\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-5"}),"Exemplo 2"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $employees; $result : cs. EmployeeSelection\n var $employee : cs. EmployeeEntity\n $employees:=ds. Employee.query("lastName = :1";"H@") // Devuelve "Colin Hetrick","Grady Harness", "Sherlock Holmes"\n $employee:=ds. Employee.get(686) //a entidade com chave prim\xe1ria 686 n\xe3o pertence a entity selection $employees \n  //Coincide com a funcion\xe1ria "Mary Smith"\n\n $result:=$employees.or($employee) //$result cont\xe9m "Colin Hetrick", "Grady Harness", "Sherlock Holmes", "Mary Smith"\n')),(0,n.kt)("h2",r({},{id:"orderby"}),".orderBy()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".orderBy"),"( ",(0,n.kt)("em",{parentName:"p"},"pathString")," : Text ) : 4D. EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".orderBy"),"( ",(0,n.kt)("em",{parentName:"p"},"pathObjects")," : Collection ) : 4D. EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"pathString"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Rota(s) de atributos e instru\xe7\xf5es de classifica\xe7\xe3o para a entity selection")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"pathObjects"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cole\xe7\xe3o de objetos criterio")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nova entity selection na ordem especificada")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-26"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".orderBy()")," retorna uma nova sele\xe7\xe3o de entidade ordenada contendo todas as entidades da sele\xe7\xe3o de entidade na ordem especificada por ",(0,n.kt)("em",{parentName:"p"},"pathString")," ou crit\xe9rios",(0,n.kt)("em",{parentName:"p"},"pathObjects"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"Este m\xe9todo n\xe3o modifica a sele\xe7\xe3o de entidade original"),(0,n.kt)("li",{parentName:"ul"},"Para saber mais sobre propriedade compartilh\xe1vel de entity selections, consulte ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20-R4/ORDA/entities#shareable-or-alterable-entity-selections"}),"Entity selections compartilh\xe1veis ou modific\xe1veis"),"."))),(0,n.kt)("p",null,"Deve usar um par\xe2metro crit\xe9rio para definir como as entidades s\xe3o ordenadas. Dois par\xe2metros diferentes s\xe3o compat\xedveis:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"pathString")," (Text) : Este par\xe2metro cont\xe9m uma f\xf3rmula feita de rotas de atributo 1 a x (e opcionalmente) ordena\xe7\xe3o separado por v\xedrgulas. A sintaxe \xe9:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'"attributePath1 {desc or asc}, attributePath2 {desc or asc},..."\n')),(0,n.kt)("p",null,'A ordem na qual os atributos forem passados determina a prioridade de ordena\xe7\xe3o das entidades. Como padr\xe3o, atributos s\xe3o ordenados em ordem ascendente. Pode definir a ordem de clasifica\xe7\xe3o de uma propriedade na string de crit\xe9rios, separado da rota da propriedade por um s\xf3 espa\xe7o: passe "asc" para ordenar em ordem ascendente ou "desc" em ordem descendente.'),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"pathObjects")," (collection): cada elemento da cole\xe7\xe3o cont\xe9m um objeto estruturado da seguinte maneira:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'{\n    "propertyPath": string,\n    "descending": boolean\n}\n')),(0,n.kt)("p",null,'Como padr\xe3o, atributos s\xe3o ordenados em ordem ascendente ("descendente" \xe9 false)'),(0,n.kt)("p",null,"Pode adicionar quantos objetos quiser nos crit\xe9rios da cole\xe7\xe3o."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Valores null s\xe3o avaliados como menor que outros valores.")),(0,n.kt)("p",null,"Se for passado um caminho de atributo inv\xe1lido em ",(0,n.kt)("em",{parentName:"p"},"pathString")," ou ",(0,n.kt)("em",{parentName:"p"},"pathObject"),", a fun\xe7\xe3o devolve uma selec\xe7\xe3o de entidade vazia."),(0,n.kt)("h4",r({},{id:"exemplo-21"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'// ordenar por f\xf3rmula\n $sortedEntitySelection:=$entitySelection.orderBy("firstName asc, salary desc")\n $sortedEntitySelection:=$entitySelection.orderBy("firstName")\n\n  // ordenar por colec\xe7\xe3o com ou sem ordena\xe7\xe3o\n $orderColl:=New collection\n $orderColl.push(New object("propertyPath";"firstName";"descending";False))\n $orderColl.push(New object("propertyPath";"salary";"descending";True))\n $sortedEntitySelection:=$entitySelection.orderBy($orderColl)\n\n $orderColl:=New collection\n $orderColl.push(New object("propertyPath";"manager.lastName"))\n $orderColl.push(New object("propertyPath";"salary"))\n $sortedEntitySelection:=$entitySelection.orderBy($orderColl)\n')),(0,n.kt)("h2",r({},{id:"orderbyformula"}),".orderByFormula()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".orderByFormula"),"( ",(0,n.kt)("em",{parentName:"p"},"formulaString")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"sortOrder")," : Integer } { ; ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object} ) : 4D.EntitySelection",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".orderByFormula"),"( ",(0,n.kt)("em",{parentName:"p"},"formulaObj")," : Object { ; ",(0,n.kt)("em",{parentName:"p"},"sortOrder")," : Integer } { ; ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object} ) : 4D.EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"formulaString"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Formula string")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"formulaObj"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objecto f\xf3rmula")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"sortOrder"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk ascending")," (normal) ou ",(0,n.kt)("inlineCode",{parentName:"td"},"dk descending"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros da f\xf3rmula")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nova sele\xe7\xe3o de entidade ordenada")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-27"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".orderByFormula()")," devolve uma nova entity selection ordenada ",(0,n.kt)("strong",{parentName:"p"},".orderByFormula"),"( ",(0,n.kt)("em",{parentName:"p"},"formulaString")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"sortOrder")," : Integer } { ; ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object} ) : 4D."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta fun\xe7\xe3o n\xe3o modifica a sele\xe7\xe3o de entidades original.")),(0,n.kt)("p",null,"Pode usar ",(0,n.kt)("em",{parentName:"p"},"formulaString")," ou um par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"formulaObj"),":"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"formulaString"),': passa uma express\xe3o 4D como "Year of(this.birthDate)".'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"formulaObj"),": passa um objeto f\xf3rmulada valida criado usando ",(0,n.kt)("inlineCode",{parentName:"li"},"Formula")," ou ",(0,n.kt)("inlineCode",{parentName:"li"},"Formula from string"),".")),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"formulaString")," ou",(0,n.kt)("em",{parentName:"p"},"formulaObj")," \xe9 executado para cada entidade da sele\xe7\xe3o de entidade e seu resultado \xe9 usado para definir a posi\xe7\xe3o da entidade na sele\xe7\xe3o de entidade retornada.. O resultado deve ser um tipo ordenavel (booleano, data, n\xfamero, texto, hora, null)."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Um resultado null\xe9 sempre o menor valor.")),(0,n.kt)("p",null,"Como padr\xe3o, se omitir o par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"keepOrder"),", a sele\xe7\xe3o de entidade resultado \xe9 ordenada de forma ascendente. Opcionalmente pode passar um dos valores abaixo no par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"sortOrder"),":"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Valor"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Coment\xe1rio"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dk ascending"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"0"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ordem ascendente (padr\xe3o)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dk descending"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"1"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ordem descendente")))),(0,n.kt)("p",null,"Dentro de ",(0,n.kt)("em",{parentName:"p"},"formulaString")," ou ",(0,n.kt)("em",{parentName:"p"},"formulaObj"),", a entidade processada e seus atributos est\xe3o dispon\xedveis atrav\xe9s do comando ",(0,n.kt)("inlineCode",{parentName:"p"},"This")," (por exemplo, ",(0,n.kt)("inlineCode",{parentName:"p"},"This.lastName"),")."),(0,n.kt)("p",null,"Pode passar par\xe2metro(s) \xe0 f\xf3rmula usando a propriedade (objecto) ",(0,n.kt)("inlineCode",{parentName:"p"},"args")," do par\xe2metro ",(0,n.kt)("inlineCode",{parentName:"p"},"settings"),": a f\xf3rmula recebe o objecto ",(0,n.kt)("inlineCode",{parentName:"p"},"settings.args")," em $1."),(0,n.kt)("h4",r({},{id:"exemplo-1-6"}),"Exemplo 1"),(0,n.kt)("p",null,"Ordenar estudantes usando uma f\xf3rmula fornecida como texto:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $es1; $es2 : cs. StudentsSelection\n $es1:=ds. Students.query("nationality=:1";"French")\n $es2:=$es1.orderByFormula("length(this.lastname)") //ascending by default\n $es2:=$es1.orderByFormula("length(this.lastname)";dk descending)\n')),(0,n.kt)("p",null,"Mesma ordem mas usando objeto f\xf3rmula:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $es1; $es2 : cs. StudentsSelection\n var $formula : Object\n $es1:=ds. Students.query("nationality=:1";"French")\n $formula:=Formula(Length(This.lastname))\n $es2:=$es1.orderByFormula($formula) // ascending by default\n $es2:=$es1.orderByFormula($formula;dk descending)\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-6"}),"Exemplo 2"),(0,n.kt)("p",null,"Uma f\xf3rmula \xe9 dada como um objecto de f\xf3rmula com par\xe2metros; ",(0,n.kt)("inlineCode",{parentName:"p"},"settings.args")," objecto \xe9 recebido como $1 no m\xe9todo ",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},"computeAverage")),"."),(0,n.kt)("p",null,'Neste exemplo, o objeto campo "marks" em ',(0,n.kt)("strong",{parentName:"p"},"Students")," dataClass cont\xe9m as notas de estudantes para cada tema. Um objeto f\xf3rmula \xe9 usado para computar a m\xe9dia das notas dos estudantes com coeficientes diferentes para schoolA e schoolB"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $es1; $es2 : cs. StudentsSelection\n var $formula; $schoolA; $schoolB : Object\n $es1:=ds. Students.query("nationality=:1";"French")\n $formula:=Formula(computeAverage($1))\n\n $schoolA:=New object() //settings object\n $schoolA.args:=New object("english";1;"math";1;"history";1) // Coefficients to compute an average\n\n  //Order students according to school A criteria\n $es2:=$es1.entitySelection.orderByFormula($formula;$schoolA)\n\n $schoolB:=New object() //settings object\n $schoolB.args:=New object("english";1;"math";2;"history";3) // Coefficients to compute an average\n\n  //Order students according to school B criteria\n $es2:=$es1.entitySelection.orderByFormula($formula;dk descending;$schoolB)\n')),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"  //\n  // m\xe9todo computeAverage\n  // -----------------------------\n #DECLARE ($coefList : Object) -> $result : Integer\n var $subject : Text\n var $average; $sum : Integer\n\n $average:=0\n $sum:=0\n\n For each($subject;$coefList)\n    $sum:=$sum+$coefList[$subject]\n End for each\n\n For each($subject;This.marks)\n    $average:=$average+(This.marks[$subject]*$coefList[$subject])\n End for each\n\n $result:=$average/$sum\n")),(0,n.kt)("h2",r({},{id:"query"}),".query()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Soporte dos Par\xe2metros Formula")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Suporte dos marcadores para os valores")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".query"),"( ",(0,n.kt)("em",{parentName:"p"},"queryString")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"...value")," : any } { ; ",(0,n.kt)("em",{parentName:"p"},"querySettings")," : Object } ) : 4D. EntitySelection ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".query"),"( ",(0,n.kt)("em",{parentName:"p"},"formula")," : Object { ; ",(0,n.kt)("em",{parentName:"p"},"querySettings")," : Object } ) : 4D. EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"queryString"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Criterios de pesquisa como string")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"formula"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Criterios de pesquisa como objeto f\xf3rmula")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"value"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"any"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Valores a usar para placeholders indexados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"querySettings"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Op\xe7\xf5es de pesquisa: par\xe2metros, atributos, args, allowFormulas, contexto, queryPath,queryPlan")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nova sele\xe7\xe3o de entidade feita de entidades da sele\xe7\xe3o de entidade que satisfazem o crit\xe9rio de pesquisa especificado em  ",(0,n.kt)("em",{parentName:"td"},"queryString")," ou ",(0,n.kt)("em",{parentName:"td"},"formula"))))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-28"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".query()")," pesquisa por entidades que satisfazem o crit\xe9rio de pesquisa especificado em ",(0,n.kt)("em",{parentName:"p"},"queryString")," ou ",(0,n.kt)("em",{parentName:"p"},"formula")," e (opcionalmente) ",(0,n.kt)("em",{parentName:"p"},"value"),"(s) entre todas as entidades na sele\xe7\xe3o de entidade, e retorna um novo objeto de tipo ",(0,n.kt)("inlineCode",{parentName:"p"},"EntitySelection")," contendo todas as entidades que foram encontradas. Se aplica carregamento diferido/lazy loading."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta fun\xe7\xe3o n\xe3o modifica a sele\xe7\xe3o de entidades original.")),(0,n.kt)("p",null,"Se n\xe3o houver entidades correspondentes encontradas, uma ",(0,n.kt)("inlineCode",{parentName:"p"},"EntitySelection")," vazia \xe9 retornada."),(0,n.kt)("p",null,"para informa\xe7\xf5es detalhadas de como usar ",(0,n.kt)("em",{parentName:"p"},"queryString"),", ",(0,n.kt)("em",{parentName:"p"},"value"),"e ",(0,n.kt)("em",{parentName:"p"},"querySettings"),", veja a descri\xe7\xe3o DataClass ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#query"}),(0,n.kt)("inlineCode",{parentName:"a"},".query()")),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Como padr\xe3o se omitir ",(0,n.kt)("strong",{parentName:"p"},"order by")," em ",(0,n.kt)("em",{parentName:"p"},"queryString"),", a sele\xe7\xe3o de entidade retornada \xe9 ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"n\xe3o ordenada"),". Note entretanto que em modo Cliente Servidor funciona como uma sele\xe7\xe3o de entidade ordenada (entidades s\xe3o adicionadas no final da sele\xe7\xe3o)")),(0,n.kt)("h4",r({},{id:"exemplo-1-7"}),"Exemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $entitySelectionTemp : cs. EmployeeSelection\n $entitySelectionTemp:=ds. Employee.query("lastName = :1";"M@")\n Form.emps:=$entitySelectionTemp.query("manager.lastName = :1";"S@")\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-7"}),"Exemplo 2"),(0,n.kt)("p",null,"A maioria dos exemplos de pesquisa podem ser encontrados na p\xe1gina DataClass ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#query"}),(0,n.kt)("inlineCode",{parentName:"a"},".query()"))," ."),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-2"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#query"}),(0,n.kt)("inlineCode",{parentName:"a"},".query()"))," para dataclass"),(0,n.kt)("h2",r({},{id:"querypath"}),".queryPath"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".queryPath")," : Text"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-29"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".queryPath")," cont\xe9m uma descri\xe7\xe3o detalhada da pesquisa como foi realizada em 4D. Esta propriedade est\xe1 dispon\xedvel para objectos ",(0,n.kt)("inlineCode",{parentName:"p"},"EntitySelection")," gerados atrav\xe9s de consultas se a propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},'"queryPath":true')," tiver sido passada no par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"querySettings")," da fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#query"}),(0,n.kt)("inlineCode",{parentName:"a"},".query()")),"."),(0,n.kt)("p",null,"For more information, refer to the ",(0,n.kt)("strong",{parentName:"p"},"querySettings parameter")," paragraph in the Dataclass",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#query"}),(0,n.kt)("inlineCode",{parentName:"a"},".query()"))," page."),(0,n.kt)("h2",r({},{id:"queryplan"}),".queryPlan"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".queryPlan")," : Text"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-30"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".queryPlan"),"  cont\xe9m uma descri\xe7\xe3o detalhada da pesquisa antes da execu\xe7\xe3o (ou seja, a pesquisa planejada). Esta propriedade \xe9 dispon\xedvel para objetos ",(0,n.kt)("inlineCode",{parentName:"p"},"EntitySelection")," gerados atrav\xe9s de pesquisas se a propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},'"queryPlan":true')," for passada no par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"querySettings")," da fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#query"}),(0,n.kt)("inlineCode",{parentName:"a"},".query()")),"."),(0,n.kt)("p",null,"Para saber mais veja o par\xe1grafo ",(0,n.kt)("strong",{parentName:"p"},"querySettings parameter")," na p\xe1gina Dataclass",(0,n.kt)("a",r({parentName:"p"},{href:"DataClassClass.html#query"}),(0,n.kt)("inlineCode",{parentName:"a"},".query()")),"."),(0,n.kt)("h2",r({},{id:"refresh"}),".refresh()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".refresh()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xe3o exige nenhum par\xe2metro")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-31"}),"Descri\xe7\xe3o"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta fun\xe7\xe3o s\xf3 funciona com datastore remota (cliente / servidor ou conex\xe3o",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," ).")),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".refresh()"),' imediatamente "invalida" os dados da sele\xe7\xe3o de entidade na cache local ORDA de forma que na pr\xf3xima vez que 4D exige a sele\xe7\xe3o de entidade ser\xe1 recarregada da database.'),(0,n.kt)("p",null,"Como padr\xe3o, a cache ORDA local \xe9 invaidade depois de 30 segundos. No contexto de aplica\xe7\xf5es cliente/servidor usando ORDA e a linguagem cl\xe1ssica, este m\xe9todo permite assegurar que a aplica\xe7\xe3o remota vai sempre funcionar com os \xfaltimos dados."),(0,n.kt)("h4",r({},{id:"exemplo-1-8"}),"Exemplo 1"),(0,n.kt)("p",null,"Neste exemplo, cl\xe1ssico e ORDA modifica os mesmos dados simultaneamente."),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' //On a 4D remote\n\n var $selection : cs. StudentsSelection\n var $student : cs. StudentsEntity\n\n $selection:=ds. Students.query("lastname=:1";"Collins")\n  //A primeira entidade \xe9 carregada na cache ORDA\n $student:=$selection.first()\n\n  //Atualizar com cl\xe1ssico 4D, ORDA cache n\xe3o est\xe1 se\n QUERY([Students];[Students]lastname="Collins")\n [Students]lastname:="Colin"\n SAVE RECORD([Students])\n\n  //pra obter a \xfaltima vers\xe3o a cache ORDA deve ser invalidada\n $selection.refresh()\n  // Mesmo se cache n\xe3o for expirada, a primeira entidade \xe9 carregada do disco\n $student:=$selection.first()\n\n  //$student.lastname contains "Colin"\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-8"}),"Exemplo 2"),(0,n.kt)("p",null,"Uma list box exibe a sele\xe7\xe3o de entidade Form.students e v\xe1rios clientes trabalham nele."),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"// M\xe9todo de formul\xe1rio:\n Case of\n    :(Form event code=On Load)\n       Form.students:=ds. Students.all()\n End case\n  //\n  //\n  // Em client #1, o usu\xe1rio carrega atualiza e salva a primeira entidade\n  // Em client #2, o usu\xe1rio carrega atualiza e salva a mesma entidade\n  //\n  //\n  // Em client #1:\n Form.students.refresh() // Invalida a cache ORDA para a sele\xe7\xe3o de entidade Form.students\n  // O conte\xfado list box \xe9 atualizado na database com atuaiza\xe7\xe3o feita pelo  client #2\n")),(0,n.kt)("h2",r({},{id:"selected"}),".selected()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".selected"),"( ",(0,n.kt)("em",{parentName:"p"},"selectedEntities")," : 4D. EntitySelection ) : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Sele\xe7\xe3o de entidade com entidades para qual saber o ranking da sele\xe7\xe3o de entidade")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Intervalos da sele\xe7\xe3o de entidade da sele\xe7\xe3o de entidade")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-32"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".add()")," adds the specified ",(0,n.kt)("em",{parentName:"p"},"entity")," to the entity selection and returns the modified entity selection."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta fun\xe7\xe3o n\xe3o modifica a sele\xe7\xe3o de entidades original.")),(0,n.kt)("p",null,"Passe o par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"selectedEntities")," uma sele\xe7\xe3o de entidade contendo entidades para qual quiser saber a posi\xe7\xe3o na sele\xe7\xe3o de entidade original. ",(0,n.kt)("em",{parentName:"p"},"selectedEntities"),' deve ser uma sele\xe7\xe3o de entidade pertencendo a mesma dataclass que a sele\xe7\xe3o de entidade original, sen\xe3o acontece um erro 1587 - "The entity selection comes from an incompatible dataclass" .'),(0,n.kt)("h4",r({},{id:"resultados"}),"Resultados"),(0,n.kt)("p",null,"O objeto retornado cont\xe9m as propriedades abaixo:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ranges"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cole\xe7\xe3o de objetos intervalos")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ranges[].start"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Primeiro indice de entidade do intervalo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ranges[].end"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"\xdaltimo indice de entidade no intervalo.")))),(0,n.kt)("p",null,"Se uma propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},"ranges")," conter uma \xfanica entidade, ",(0,n.kt)("inlineCode",{parentName:"p"},"start")," = ",(0,n.kt)("inlineCode",{parentName:"p"},"end"),". Indice come\xe7a em 0"),(0,n.kt)("p",null,"Se passar ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," como par\xe2metro, a fun\xe7\xe3o retorna uma sele\xe7\xe3o de entidade contendo as entidades que pertencem \xe0 sele\xe7\xe3o de entidade original sem as entidades que pertencem a ",(0,n.kt)("em",{parentName:"p"},"entitySelection"),"."),(0,n.kt)("h4",r({},{id:"exemplo-22"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $invoices; $cashSel; $creditSel : cs. Invoices\nvar $result1; $result2 : Object\n\n$invoices:=ds. Invoices.all()\n\n$cashSelection:=ds. Invoices.query("payment = :1"; "Cash")\n$creditSel:=ds. Invoices.query("payment IN :1"; New collection("Cash"; "Credit Card"))\n\n$result1:=$invoices.selected($cashSelection)\n$result2:=$invoices.selected($creditSel)\n\n//$result1 = {ranges:[{start:0;end:0},{start:3;end:3},{start:6;end:6}]}\n//$result2 = {ranges:[{start:0;end:1},{start:3;end:4},{start:6;end:7}]}\n\n')),(0,n.kt)("h2",r({},{id:"slice"}),".slice()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".slice"),"( ",(0,n.kt)("em",{parentName:"p"},"startFrom")," : Integer { ; ",(0,n.kt)("em",{parentName:"p"},"end")," : Integer } ) : 4D. EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"startFrom"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Indice para iniciar a opera\xe7\xe3o em (incluido)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"end"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Final do \xedndice (n\xe3o inclu\xeddo)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nova sele\xe7\xe3o de entidade contendo entidades slices (c\xf3pia superficial)")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-33"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".slice()")," retorna uma por\xe7\xe3o da sele\xe7\xe3o de entidade em uma nova sele\xe7\xe3o de entidade, seleccionada a partir do \xedndice ",(0,n.kt)("em",{parentName:"p"},"startFrom")," para o \xedndice ",(0,n.kt)("em",{parentName:"p"},"end")," (",(0,n.kt)("em",{parentName:"p"},"end")," n\xe3o est\xe1 inclu\xeddo) ou para a \xfaltima entidade da selec\xe7\xe3o de entidades. Este m\xe9todo devolve uma c\xf3pia superficial da selec\xe7\xe3o de entidades (utiliza as mesmas refer\xeancias de entidades)."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta fun\xe7\xe3o n\xe3o modifica a sele\xe7\xe3o de entidades original.")),(0,n.kt)("p",null,"Se a entity selection estiver ordenada, ",(0,n.kt)("em",{parentName:"p"},"entity")," se adiciona ao final da sele\xe7\xe3o. Se as refer\xeancias \xe0s mesmas entidades de ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," j\xe1 pertencem \xe0 sele\xe7\xe3o de entidades, se duplicam e se adicionam novas referencias."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Se ",(0,n.kt)("em",{parentName:"li"},"startFrom")," < 0, \xe9 recalculada como ",(0,n.kt)("em",{parentName:"li"},"startFrom:=startFrom+length")," (\xe9 considerada como o offset do final da entidade de sele\xe7\xe3o). Se o valor calculado < 0, ",(0,n.kt)("em",{parentName:"li"},"index")," ser\xe1 estabelecido como 0."),(0,n.kt)("li",{parentName:"ul"},"Se ",(0,n.kt)("em",{parentName:"li"},"startFrom >= length"),", a fun\xe7\xe3o retorna uma sele\xe7\xe3o vazia de entidade."),(0,n.kt)("li",{parentName:"ul"},"Se ",(0,n.kt)("em",{parentName:"li"},"end")," < 0, \xe9 recalculada como ",(0,n.kt)("em",{parentName:"li"},"end:=end+length"),"."),(0,n.kt)("li",{parentName:"ul"},"Se ",(0,n.kt)("em",{parentName:"li"},"end < startFrom")," (valores passados ou calculados), o m\xe9todo n\xe3o faz nada.")),(0,n.kt)("p",null,"Se a sele\xe7\xe3o de entidade cont\xe9m entidades que foram abandonadas, tamb\xe9m ser\xe3o retornadas."),(0,n.kt)("h4",r({},{id:"exemplo-1-9"}),"Exemplo 1"),(0,n.kt)("p",null,"Se quiser obter uma sele\xe7\xe3o das primeiras 9 entidades da sele\xe7\xe3o de entidade:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $sel; $sliced : cs. EmployeeSelection\n$sel:=ds. Employee.query("salary > :1";50000)\n$sliced:=$sel.slice(0;9) //\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-9"}),"Exemplo 2"),(0,n.kt)("p",null,"Assuming we have ds. Employee.all().length = 10"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"var $slice : cs.EmployeeSelection\n\n\n$slice:=ds.Employee.all().slice(-1;-2) //tenta devolver entidades do \xedndice 9 a 8, mas como 9 > 8, devolve uma sele\xe7\xe3o de entidades vazia\n\n")),(0,n.kt)("h2",r({},{id:"sum"}),".sum()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".sum"),"( ",(0,n.kt)("em",{parentName:"p"},"attributePath")," : Text ) : Real"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributePath"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Rota do atributo que se utilizar\xe1 para o c\xe1lculo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Soma dos valores da sele\xe7\xe3o de entidade")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-34"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".sum()")," retorna a soma de todos os valores ",(0,n.kt)("em",{parentName:"p"},"attributePath")," na sele\xe7\xe3o de entidade."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},".sum()")," retorna 0 se a sele\xe7\xe3o de entidade for vazia."),(0,n.kt)("p",null,"A soma s\xf3 pode ser feita em valores do tipo de n\xfamero. Se o atributo ",(0,n.kt)("em",{parentName:"p"},"attributePath")," for uma propriedade objecto, apenas valores num\xe9ricos s\xe3o tidos em conta para o c\xe1lculo (outros tipos de valores s\xe3o ignorados). Neste caso, se ",(0,n.kt)("em",{parentName:"p"},"attributePath")," conduz a uma propriedade que n\xe3o existe no objecto ou n\xe3o cont\xe9m quaisquer valores num\xe9ricos, ",(0,n.kt)("inlineCode",{parentName:"p"},".sum()")," retorna 0."),(0,n.kt)("p",null,"Um erro \xe9 retornado se:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," n\xe3o \xe9 um atributo num\xe9rico nem um atributo de objecto,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," \xe9 um atributo relativo,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"attributePath")," n\xe3o se encontra na classe de dados da entity selection.")),(0,n.kt)("h4",r({},{id:"exemplo-23"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $sel : cs. EmployeeSelection\nvar $sum : Real\n\n$sel:=ds. Employee.query("salary < :1";20000)\n$sum:=$sel.sum("salary")\n')),(0,n.kt)("h2",r({},{id:"tocollection"}),".toCollection()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".toCollection"),"( { ",(0,n.kt)("em",{parentName:"p"},"options")," : Integer { ; ",(0,n.kt)("em",{parentName:"p"},"begin")," : Integer { ; ",(0,n.kt)("em",{parentName:"p"},"howMany")," : Integer } } ) : ",(0,n.kt)("em",{parentName:"p"},"Collection"),(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".toCollection"),"( ",(0,n.kt)("em",{parentName:"p"},"filterString")," : Text {; ",(0,n.kt)("em",{parentName:"p"},"options")," : Integer { ; ",(0,n.kt)("em",{parentName:"p"},"begin")," : Integer { ; ",(0,n.kt)("em",{parentName:"p"},"howMany")," : Integer }}} ) : ",(0,n.kt)("em",{parentName:"p"},"Collection"),(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".toCollection"),"( ",(0,n.kt)("em",{parentName:"p"},"filterCol")," : Collection {; ",(0,n.kt)("em",{parentName:"p"},"options")," : Integer { ; ",(0,n.kt)("em",{parentName:"p"},"begin")," : Integer { ; ",(0,n.kt)("em",{parentName:"p"},"howMany")," : Integer }}} ) : ",(0,n.kt)("em",{parentName:"p"},"Collection")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"filterString"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"String com caminho(s) de atributo(s) de entidade a extrair")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"filterCol"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cole\xe7\xe3o de caminho(s) de atributo(s) de entidade a extrair")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk com chave prim\xe1ria"),": adiciona a chave prim\xe1ria",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"dk com selo"),": adiciona o selo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"begin"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Designa o \xedndice inicial")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"howMany"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de entidades a extrair")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Colec\xe7\xe3o de objectos contendo atributos e valores de selec\xe7\xe3o de entidades")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-35"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".toCollection()")," cria e devolve uma colec\xe7\xe3o onde cada elemento \xe9 um objecto que cont\xe9m um conjunto de propriedades e valores correspondentes aos nomes e valores dos atributos para a selec\xe7\xe3o da entidade."),(0,n.kt)("p",null,'Se nenhum par\xe2metro de filtro for passado ou se o primeiro par\xe2metro contiver uma cadeia vazia ou "*", todos os atributos s\xe3o extra\xeddos. Os atributos com ',(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20-R4/API/DataClassClass#attributename"}),"tipo"),' propriedade como "relatedEntity" s\xe3o extra\xeddos com a forma simples: um objecto com propriedade ',"_",'KEY (chave prim\xe1ria). Atributos com propriedade tipo como "Entidades relacionadas" n\xe3o s\xe3o extra\xeddos.'),(0,n.kt)("p",null,"Ou, pode designar os atributos da entidade a extrair utilizando um par\xe2metro de filtro. Pode usar um destes dois filtros:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"filterString"),' - uma string com caminhos de propriedade separados por v\xedrgulas: "propertyPath1, propertyPath2, ...".'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"filterCol")," - uma cole\xe7\xe3o de strings contendo caminhos de propriedade: ","[",'"propertyPath1", "propertyPath2",...')),(0,n.kt)("p",null,"Se for especificado um filtro para um atributo do tipo ",(0,n.kt)("inlineCode",{parentName:"p"},"relatedEntity")," :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity" -> \xe9 extra\xeddo de forma simples'),(0,n.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity.*" -> todas as propriedades foram extra\xeddas'),(0,n.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity.propertyName1, relatedEntity.propertyName2, ..." -> s\xf3 se extraem essas propriedades')),(0,n.kt)("p",null,"Se for especificado um filtro para um atributo do tipo ",(0,n.kt)("inlineCode",{parentName:"p"},"relatedEntities")," :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntities.*" -> se extraem todas as propriedades'),(0,n.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntities.propertyName1, relatedEntities.propertyName2, ..." -> s\xf3 se extraem essas propriedades')),(0,n.kt)("p",null,"No par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"op\xe7\xf5es")," , pode passar os seletores ",(0,n.kt)("inlineCode",{parentName:"p"},"dk com chave prim\xe1ria")," e/ou ",(0,n.kt)("inlineCode",{parentName:"p"},"dk with stamp"),"  para adicionar as chaves prim\xe1rias da entidade e/ou carimbos nos objectos extra\xeddos."),(0,n.kt)("admonition",r({},{title:"Alerta",type:"caution"}),(0,n.kt)("p",{parentName:"admonition"},'Se utilizar outro atributo que n\xe3o a chave prim\xe1ria como o atributo Um numa rela\xe7\xe3o, o valor deste atributo ser\xe1 escrito na propriedade "__KEY". Tenha em mente que \xe9 recomendado usar a chave prim\xe1ria como um atributo nas suas rela\xe7\xf5es, especialmente quando usa fun\xe7\xf5es ',(0,n.kt)("inlineCode",{parentName:"p"},".toCollection()")," e ",(0,n.kt)("inlineCode",{parentName:"p"},".fromCollection()"),".")),(0,n.kt)("p",null,"O par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"start")," permite indicar o \xedndice inicial das entidades a extrair. Pode passar qualquer valor entre 0 e o comprimento-1 da selec\xe7\xe3o da entidade."),(0,n.kt)("p",null,"O par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"howMany")," permite especificar o n\xfamero de entidades a extrair, come\xe7ando com o especificado em ",(0,n.kt)("em",{parentName:"p"},"begin"),". As entidades abandonadas n\xe3o s\xe3o devolvidas, mas s\xe3o tidas em conta de acordo com ",(0,n.kt)("em",{parentName:"p"},"howMany"),". Por exemplo, se ",(0,n.kt)("em",{parentName:"p"},"howMany"),"= 3 e houver 1 entidade abandonada, apenas 2 entidades s\xe3o extra\xeddas."),(0,n.kt)("p",null,"Se ",(0,n.kt)("em",{parentName:"p"},"howMany")," > comprimento da selec\xe7\xe3o da entidade, o m\xe9todo retorna (comprimento - ",(0,n.kt)("em",{parentName:"p"},"in\xedcio"),") objectos."),(0,n.kt)("p",null,"Uma colec\xe7\xe3o vazia \xe9 devolvida se:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"a selec\xe7\xe3o da entidade est\xe1 vazia, ou"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"begin")," \xe9 maior do que a dura\xe7\xe3o da selec\xe7\xe3o da entidade.")),(0,n.kt)("h4",r({},{id:"exemplo-1-10"}),"Exemplo 1"),(0,n.kt)("p",null,"A estrutura abaixo ser\xe1 usada nos exemplos desta se\xe7\xe3o:"),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(77221).Z,width:"1000",height:"610"})),(0,n.kt)("p",null,"Exemplo sem filtro ou par\xe2metro de op\xe7\xf5es:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $employeesCollection : Collection\n var $employees : cs. EmployeeSelection\n\n $employeesCollection:=New collection\n $employees:=ds. Employee.all()\n $employeesCollection:=$employees.toCollection()\n")),(0,n.kt)("p",null,"Retorna:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "ID": 416,\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "salary": 79100,\n        "birthDate": "1963-02-01T00:00:00.000Z",\n        "woman": false,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n        }\n    },\n    {\n        "ID": 417,\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "salary": 47000,\n        "birthDate": "1992-06-16T00:00:00.000Z",\n        "woman": true,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n        }\n    }\n]\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-10"}),"Exemplo 2"),(0,n.kt)("p",null,"Exemplo com op\xe7\xf5es:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\nvar $employees : cs. EmployeeSelection\n\n$employeesCollection:=New collection\n$employees:=ds. Employee.all()\n$employeesCollection:=$employees.toCollection("";dk with primary key+dk with stamp)\n')),(0,n.kt)("p",null,"Retorna:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "__KEY": 416,\n        "__STAMP": 1,\n        "ID": 416,\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "salary": 79100,\n        "birthDate": "1963-02-01T00:00:00.000Z",\n        "woman": false,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n        }\n    },\n    {\n        "__KEY": 417,\n        "__STAMP": 1,\n        "ID": 417,\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "salary": 47000,\n        "birthDate": "1992-06-16T00:00:00.000Z",\n        "woman": true,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n        }\n    }]\n')),(0,n.kt)("h4",r({},{id:"exemplo-3-3"}),"Exemplo 3"),(0,n.kt)("p",null,"Exemplo com fatiagem e filtragem nas propriedades:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection; $filter : Collection\nvar $employees : cs. EmployeeSelection\n\n$employeesCollection:=New collection\n$filter:=New collection\n$filter.push("firstName")\n$filter.push("lastName")\n\n$employees:=ds. Employee.all()\n$employeesCollection:=$employees.toCollection($filter;0;0;2)\n')),(0,n.kt)("p",null,"Retorna:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl"\n    },\n    {\n        "firstName": "Irma",\n        "lastName": "Durham"\n    }\n]\n\n')),(0,n.kt)("h4",r({},{id:"exemplo-24"}),"Exemplo"),(0,n.kt)("p",null,"Exemplo com ",(0,n.kt)("inlineCode",{parentName:"p"},"relatedEntity")," tipo com formul\xe1rio simples:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\n$employeesCollection:=New collection\n$employeesCollection:=$employees.toCollection("firstName,lastName,employer")\n')),(0,n.kt)("p",null,"retorna:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "employer": {\n            "__KEY": 20\n        }\n    },\n    {\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "employer": {\n            "__KEY": 20\n        }\n    },\n    {\n        "firstName": "Lorena",\n        "lastName": "Boothe",\n        "employer": {\n            "__KEY": 20\n        }\n    }\n   ]\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-11"}),"Exemplo 2"),(0,n.kt)("p",null,"Exemplo com par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"filterCol"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection; $coll : Collection\n$employeesCollection:=New collection\n$coll:=New collection("firstName";"lastName")\n$employeesCollection:=$employees.toCollection($coll)\n')),(0,n.kt)("p",null,"Retorna:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Joanna",\n        "lastName": "Cabrera"\n    },\n    {\n        "firstName": "Alexandra",\n        "lastName": "Coleman"\n    }\n]\n')),(0,n.kt)("h4",r({},{id:"exemplo-6-1"}),"Exemplo 6"),(0,n.kt)("p",null,"Exemplo com extrac\xe7\xe3o de todas as propriedades de relatedEntity:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection; $coll : Collection\n$employeesCollection:=New collection\n$coll:=New collection\n$coll.push("firstName")\n$coll.push("lastName")\n$coll.push("employer.*")\n$employeesCollection:=$employees.toCollection($coll)\n')),(0,n.kt)("p",null,"Retorna:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "employer": {\n            "ID": 20,\n            "name": "Irma",\n        "lastName": "Durham",\n        "employer": {\n            "ID": 20,\n            "name": "Lorena",\n        "lastName": "Boothe",\n        "employer": {\n            "ID": 20,\n            "name": "India Astral Secretary",\n            "creationDate": "1984-08-25T00:00:00.000Z",\n            "revenues": 12000000,\n            "extra": null\n        }\n    }\n  ]\n')),(0,n.kt)("h4",r({},{id:"exemplo-3-4"}),"Exemplo 3"),(0,n.kt)("p",null,"Exemplo com extrac\xe7\xe3o de algumas propriedades de uma relatedEntity:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\n$employeesCollection:=New collection\n$employeesCollection:=$employees.toCollection("firstName, lastName, employer.name")\n')),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n\n        "employer": {\n            "name": "Irma",\n        "lastName": "Durham",\n        "employer": {\n            "name": "Lorena",\n        "lastName": "Boothe",\n        "employer": {\n            "name": "India Astral Secretary"\n        }\n    }]\n')),(0,n.kt)("h4",r({},{id:"exemplo-8-1"}),"Exemplo 8"),(0,n.kt)("p",null,"Exemplo com extrac\xe7\xe3o de algumas propriedades de ",(0,n.kt)("inlineCode",{parentName:"p"},"relatedEntities"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $employeesCollection : Collection\n $employeesCollection:=New collection\n $employeesCollection:=$employees.toCollection("firstName, lastName, directReports.firstName")\n')),(0,n.kt)("p",null,"Retorna:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "directReports": []\n    },\n    {\n        "firstName": "Mike",\n        "lastName": "Phan",\n        "directReports": [\n            {\n                "firstName": "Gary"\n            },\n            {\n                "firstName": "Sadie"\n            },\n            {\n                "firstName": "Christie"\n            }\n        ]\n    },\n    {\n        "firstName": "Gary",\n\n        "lastName": "Reichert",\n        "directReports": [\n            {\n                "firstName": "Rex"\n            },\n            {\n                "firstName": "Jenny"\n            },\n            {\n                "firstName": "Lowell"\n            }\n        ]\n    }]\n')),(0,n.kt)("h4",r({},{id:"exemplo-9-1"}),"Exemplo 9"),(0,n.kt)("p",null,"Exemplo com extra\xe7\xe3o de todas as propriedades de ",(0,n.kt)("inlineCode",{parentName:"p"},"relatedEntities"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\n$employeesCollection:=New collection\n$employeesCollection:=$employees.toCollection("firstName, lastName, directReports.*")\n\n')),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "directReports": []\n    },    \n    {\n        "firstName": "Mike",\n        "lastName": "Phan",\n        "directReports": [\n            {\n                "ID": 425,\n                "firstName": "Gary",\n                "lastName": "Reichert",\n                "salary": 65800,\n                "birthDate": "1957-12-23T00:00:00.000Z",\n                "woman": false,\n                "managerID": 424,\n                "employerID": 21,\n                "photo": "[object Picture]",\n                "extra": null,\n                "employer": {\n                    "__KEY": 21\n                },\n                "manager": {\n                    "__KEY": 424\n                }\n            },\n            {\n                "ID": 426,\n                "firstName": "Sadie",\n                "lastName": "Gallant",\n                "salary": 35200,\n                "birthDate": "2022-01-03T00:00:00.000Z",\n                "woman": true,\n                "managerID": 424,\n                "employerID": 21,\n                "photo": "[object Picture]",\n                "extra": null,\n                "employer": {\n                    "__KEY": 21\n                },\n                "manager": {\n                    "__KEY": 424\n                }\n            }\n                   ]\n    },\n    {\n        "firstName": "Gary",\n        "lastName": "Reichert",\n        "directReports": [\n            {\n                "ID": 428,\n                "firstName": "Rex",\n                "lastName": "Chance",\n                "salary": 71600,\n                "birthDate": "1968-08-09T00:00:00.000Z",\n                "woman": false,\n\n                "managerID": 425,\n                "employerID": 21,\n                "photo": "[object Picture]",\n                "extra": null,\n                "employer": {\n                    "__KEY": 21\n                },\n                "manager": {\n                    "__KEY": 425\n                }\n            },\n            {\n                "ID": 429,\n                "firstName": "Jenny",\n                "lastName":\n')))}u.isMDXComponent=!0},77221:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png"},903016:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/entityselection-193aba9798fd8faddac31ad66bc75f26.PNG"}}]);