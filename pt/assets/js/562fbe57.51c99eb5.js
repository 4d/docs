"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[53233],{340164:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>c});var i=n(474848),r=n(28453);const d={id:"SessionClass",title:"Session"},o=void 0,t={id:"API/SessionClass",title:"Session",description:"Os objetos de sess\xe3o s\xe3o retornados pelo comando Session. These objects provide the developer with an interface allowing to manage the current user session and execute actions such as store contextual data, share information between session processes, launch session-related preemptive processes, or (web only) manage privileges.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R6/API/SessionClass.md",sourceDirName:"API",slug:"/API/SessionClass",permalink:"/docs/pt/API/SessionClass",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSessionClass.md%20(20-R6)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R6",frontMatter:{id:"SessionClass",title:"Session"},sidebar:"docs",previous:{title:"POP3Transporter",permalink:"/docs/pt/API/POP3TransporterClass"},next:{title:"Signal",permalink:"/docs/pt/API/SignalClass"}},l={},c=[{value:"Tipos de sess\xe3o",id:"tipos-de-sess\xe3o",level:3},{value:"Resumo",id:"resumo",level:3},{value:"Session",id:"session",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Sess\xf5es web",id:"sess\xf5es-web",level:4},{value:"Sess\xf5es cliente remoto",id:"sess\xf5es-cliente-remoto",level:4},{value:"a sess\xe3o de procedimentos armazenados",id:"a-sess\xe3o-de-procedimentos-armazenados",level:4},{value:"Exemplo",id:"exemplo",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m",level:3},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:4},{value:"Exemplo",id:"exemplo-1",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:4},{value:"Exemplo",id:"exemplo-2",level:4},{value:".getPrivileges()",id:"getprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-3",level:4},{value:"Exemplo",id:"exemplo-3",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-1",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-4",level:4},{value:"Exemplo",id:"exemplo-4",level:4},{value:".id",id:"id",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-5",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-6",level:4},{value:"Exemplo",id:"exemplo-5",level:4},{value:".info",id:"info",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-7",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-8",level:4},{value:"Exemplo",id:"exemplo-6",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-9",level:4},{value:"Exemplo",id:"exemplo-7",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-2",level:4},{value:".storage",id:"storage",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-10",level:4},{value:"Exemplo de sess\xe3o na web",id:"exemplo-de-sess\xe3o-na-web",level:4},{value:"Exemplo de sess\xe3o remota",id:"exemplo-de-sess\xe3o-remota",level:4},{value:".userName",id:"username",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-11",level:4}];function a(e){const s={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:["Os objetos de sess\xe3o s\xe3o retornados pelo comando ",(0,i.jsx)(s.a,{href:"#session",children:(0,i.jsx)(s.code,{children:"Session"})}),". These objects provide the developer with an interface allowing to manage the current user session and execute actions such as store contextual data, share information between session processes, launch session-related preemptive processes, or (web only) manage ",(0,i.jsx)(s.a,{href:"/docs/pt/ORDA/privileges",children:"privileges"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"tipos-de-sess\xe3o",children:"Tipos de sess\xe3o"}),"\n",(0,i.jsx)(s.p,{children:"Tr\xeas tipos de sess\xf5es s\xe3o suportados por essa classe:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/pt/WebServer/sessions",children:(0,i.jsx)(s.strong,{children:"Web user sessions"})}),": Web user sessions are available when ",(0,i.jsx)(s.a,{href:"/docs/pt/WebServer/sessions#enabling-sessions",children:"scalable sessions are enabled in your project"}),". Eles s\xe3o usados para conex\xf5es Web e REST e podem receber privil\xe9gios."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/pt/Desktop/clientServer#remote-user-sessions",children:(0,i.jsx)(s.strong,{children:"Remote client user sessions"})}),": In client/server applications, remote users have their own sessions managed on the server."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html",children:(0,i.jsx)(s.strong,{children:"Stored procedures session"})}),": All stored procedures executed on the server share the same virtual user session."]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.p,{children:["The availability of properties and functions in the ",(0,i.jsx)(s.code,{children:"Session"})," object depends on the session type."]})}),"\n",(0,i.jsx)(s.h3,{id:"resumo",children:"Resumo"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsx)(s.tr,{children:(0,i.jsx)(s.th,{})})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsx)(s.tr,{children:(0,i.jsxs)(s.td,{children:[(0,i.jsxs)(s.a,{href:"#clearprivileges",children:[(0,i.jsx)(s.strong,{children:".clearPrivileges()"})," : Boolean"]}),(0,i.jsx)(s.br,{}),"removes all the privileges associated to the session and returns ",(0,i.jsx)(s.strong,{children:"True"})," if the execution was successful"]})}),(0,i.jsx)(s.tr,{children:(0,i.jsxs)(s.td,{children:[(0,i.jsxs)(s.a,{href:"#expirationdate",children:[(0,i.jsx)(s.strong,{children:".expirationDate"})," : Text"]}),(0,i.jsx)(s.br,{}),"the expiration date and time of the session cookie"]})}),(0,i.jsx)(s.tr,{children:(0,i.jsxs)(s.td,{children:[(0,i.jsxs)(s.a,{href:"#getprivileges",children:[(0,i.jsx)(s.strong,{children:".getPrivileges"}),"() : Collection"]}),(0,i.jsx)(s.br,{}),"returns a collection of all the privilege names associated to the session"]})}),(0,i.jsx)(s.tr,{children:(0,i.jsxs)(s.td,{children:[(0,i.jsxs)(s.a,{href:"#hasprivilege",children:[(0,i.jsx)(s.strong,{children:".hasPrivilege"}),"( ",(0,i.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean"]}),(0,i.jsx)(s.br,{}),"returns True if the ",(0,i.jsx)(s.em,{children:"privilege"})," is associated to the session, and False otherwise"]})}),(0,i.jsx)(s.tr,{children:(0,i.jsxs)(s.td,{children:[(0,i.jsxs)(s.a,{href:"#id",children:[(0,i.jsx)(s.strong,{children:".id"})," : Text"]}),(0,i.jsx)(s.br,{}),"the unique identifier (UUID) of the session on the server"]})}),(0,i.jsx)(s.tr,{children:(0,i.jsxs)(s.td,{children:[(0,i.jsxs)(s.a,{href:"#idletimeout",children:[(0,i.jsx)(s.strong,{children:".idleTimeout"})," : Integer"]}),(0,i.jsx)(s.br,{}),"the inactivity session timeout (in minutes), after which the session is automatically closed by 4D"]})}),(0,i.jsx)(s.tr,{children:(0,i.jsxs)(s.td,{children:[(0,i.jsxs)(s.a,{href:"#info",children:[(0,i.jsx)(s.strong,{children:".info"})," : Object"]}),(0,i.jsx)(s.br,{}),"describes the remote client or stored procedure session on the server"]})}),(0,i.jsx)(s.tr,{children:(0,i.jsxs)(s.td,{children:[(0,i.jsxs)(s.a,{href:"#isguest",children:[(0,i.jsx)(s.strong,{children:".isGuest()"})," : Boolean"]}),(0,i.jsx)(s.br,{}),"returns True if the session is a Guest session (i.e. it has no privileges)"]})}),(0,i.jsx)(s.tr,{children:(0,i.jsxs)(s.td,{children:[(0,i.jsxs)(s.a,{href:"#setprivileges",children:[(0,i.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,i.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean",(0,i.jsx)(s.br,{}),(0,i.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,i.jsx)(s.em,{children:"privileges"})," : Collection )",(0,i.jsx)(s.br,{}),(0,i.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,i.jsx)(s.em,{children:"settings"})," : Object ) : Boolean"]}),(0,i.jsx)(s.br,{}),"associates the privilege(s) and/or role(s) defined in the parameter to the session and returns ",(0,i.jsx)(s.strong,{children:"True"})," if the execution was successful"]})}),(0,i.jsx)(s.tr,{children:(0,i.jsxs)(s.td,{children:[(0,i.jsxs)(s.a,{href:"#storage",children:[(0,i.jsx)(s.strong,{children:".storage"})," : Object"]}),(0,i.jsx)(s.br,{}),"a shared object that can be used to store information available to all processes of the session"]})}),(0,i.jsx)(s.tr,{children:(0,i.jsxs)(s.td,{children:[(0,i.jsxs)(s.a,{href:"#username",children:[(0,i.jsx)(s.strong,{children:".userName"})," : Text"]}),(0,i.jsx)(s.br,{}),"the user name associated to the session"]})})]})]}),"\n",(0,i.jsx)(s.h2,{id:"session",children:"Session"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"20 R5"}),(0,i.jsx)(s.td,{children:"Support of remote client and stored procedure sessions"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"18 R6"}),(0,i.jsx)(s.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Session"})," : 4D.Session"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Par\xe2metro"}),(0,i.jsx)(s.th,{children:"Tipo"}),(0,i.jsx)(s.th,{style:{textAlign:"center"}}),(0,i.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Resultados"}),(0,i.jsx)(s.td,{children:"4D. Session"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,i.jsx)(s.td,{children:"Objecto Session"})]})})]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"Session"})," command returns the ",(0,i.jsx)(s.code,{children:"Session"})," object corresponding to the current user session."]}),"\n",(0,i.jsx)(s.p,{children:"Dependendo do processo a partir do qual o comando \xe9 chamado, a sess\xe3o atual do usu\xe1rio pode ser:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["a web session (when ",(0,i.jsx)(s.a,{href:"/docs/pt/WebServer/sessions#enabling-sessions",children:"scalable sessions are enabled"}),"),"]}),"\n",(0,i.jsx)(s.li,{children:"uma sess\xe3o de cliente remoto,"}),"\n",(0,i.jsx)(s.li,{children:"a sess\xe3o de procedimentos armazenados."}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Para obter mais informa\xe7\xf5es, consulte o par\xe1grafo ",(0,i.jsx)(s.a,{href:"#session-types",children:"Tipos de sess\xe3o"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["If the command is called from a non supported context (single-user application, scalable sessions disabled...), it returns ",(0,i.jsx)(s.em,{children:"Null"}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"sess\xf5es-web",children:"Sess\xf5es web"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"Session"})," object of web sessions is available from any web process:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"On Web Authentication"}),", ",(0,i.jsx)(s.code,{children:"On Web Connection"}),", and ",(0,i.jsx)(s.code,{children:"On REST Authentication"})," database methods,"]}),"\n",(0,i.jsx)(s.li,{children:"c\xf3digo processado a trav\xe9s das etiquetas 4D nas p\xe1ginas semidin\xe2micas (4DTEXT, 4DHTML, 4DEVAL, 4DSCRIPT/, 4DCODE)"}),"\n",(0,i.jsx)(s.li,{children:'os m\xe9todos projeto com o atributo "Available through 4D tags and URLs (4DACTION...)" e chamados atrav\xe9s de 4DACTION/ urls,'}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-authentication",children:(0,i.jsx)(s.code,{children:"On Mobile App Authentication"})})," and ",(0,i.jsx)(s.a,{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-action",children:(0,i.jsx)(s.code,{children:"On Mobile App Action"})})," database methods for mobile requests,"]}),"\n",(0,i.jsxs)(s.li,{children:["Fun\xe7\xf5es ORDA ",(0,i.jsx)(s.a,{href:"/docs/pt/REST/classFunctions",children:"chamadas com solicita\xe7\xf5es REST"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["For more information on web user sessions, please refer to the ",(0,i.jsx)(s.a,{href:"/docs/pt/WebServer/sessions",children:"Web Server Sessions"})," section."]}),"\n",(0,i.jsx)(s.h4,{id:"sess\xf5es-cliente-remoto",children:"Sess\xf5es cliente remoto"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"Session"})," object of remote client sessions is available from:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["M\xe9todos de projeto que t\xeam o atributo ",(0,i.jsx)(s.a,{href:"/docs/pt/Project/code-overview#execute-on-server",children:"Execute on Server"}),' (s\xe3o executados no processo "geminado" do processo do cliente),']}),"\n",(0,i.jsx)(s.li,{children:"Triggers,"}),"\n",(0,i.jsx)(s.li,{children:"'Conex\xe3o aberta com o servidor' e 'Conex\xe3o com o servidor' m\xe9todos de banco de dados."}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Para mais informa\xe7\xf5es em sess\xf5es usu\xe1rios remotos, consulte o par\xe1grafo ",(0,i.jsx)(s.a,{href:"/docs/pt/Desktop/clientServer#remote-user-sessions",children:(0,i.jsx)(s.strong,{children:"Sess\xf5es usu\xe1rio cliente remoto"})}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"a-sess\xe3o-de-procedimentos-armazenados",children:"a sess\xe3o de procedimentos armazenados"}),"\n",(0,i.jsxs)(s.p,{children:["Todos os processos de procedimento armazenado compartilham a mesma sess\xe3o de usu\xe1rio virtual. O objeto ",(0,i.jsx)(s.code,{children:"Session"})," de procedimentos armazenados est\xe1 dispon\xedvel em:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["methods called with the ",(0,i.jsx)(s.a,{href:"https://doc.4d.com/4dv20/help/command/en/page373.html",children:(0,i.jsx)(s.code,{children:"Execute on server"})})," command,"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"On Server Startup"}),", ",(0,i.jsx)(s.code,{children:"On Server Shutdown"}),", ",(0,i.jsx)(s.code,{children:"On Backup Startup"}),", ",(0,i.jsx)(s.code,{children:"On Backup Shutdown"}),", and ",(0,i.jsx)(s.code,{children:"On System event"})," database methods"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["For information on stored procedures virtual user session, please refer to the ",(0,i.jsx)(s.a,{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html",children:"4D Server and the 4D Language"})," page."]}),"\n",(0,i.jsx)(s.h4,{id:"exemplo",children:"Exemplo"}),"\n",(0,i.jsxs)(s.p,{children:["You have defined the ",(0,i.jsx)(s.code,{children:"action_Session"}),' method with attribute "Available through 4D tags and URLs". Pode chamar ao m\xe9todo introduzindo a URL abaixo no navegador:']}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"IP:port/4DACTION/action_Session\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:'  //action_Session method\n Case of\n    :(Session#Null)\n       If(Session.hasPrivilege("WebAdmin")) //calling the hasPrivilege function\n          WEB SEND TEXT("4DACTION --\x3e Session is WebAdmin")\n       Else\n          WEB SEND TEXT("4DACTION --\x3e Session is not WebAdmin")\n       End if\n    Else\n       WEB SEND TEXT("4DACTION --\x3e Session is null")\n End case\n'})}),"\n",(0,i.jsx)(s.h3,{id:"veja-tamb\xe9m",children:"Veja tamb\xe9m"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://doc.4d.com/4dv20R6/help/command/en/page1839.html",children:(0,i.jsx)(s.code,{children:"Session storage by ID"})})}),"\n",(0,i.jsx)(s.h2,{id:"clearprivileges",children:".clearPrivileges()"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"18 R6"}),(0,i.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:".clearPrivileges()"})," : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Par\xe2metro"}),(0,i.jsx)(s.th,{children:"Tipo"}),(0,i.jsx)(s.th,{style:{textAlign:"center"}}),(0,i.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Resultados"}),(0,i.jsx)(s.td,{children:"Par\xe2metros"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,i.jsx)(s.td,{children:"True se a execu\xe7\xe3o for bem-sucedida"})]})})]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o-1",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.p,{children:["This function does nothing and always returns ",(0,i.jsx)(s.strong,{children:"False"})," with remote client and stored procedure sessions."]})}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".clearPrivileges()"})," function removes all the privileges associated to the session and returns ",(0,i.jsx)(s.strong,{children:"True"})," if the execution was successful. Como resultado, a sess\xe3o torna-se automaticamente uma sess\xe3o de convidado."]}),"\n",(0,i.jsx)(s.h4,{id:"exemplo-1",children:"Exemplo"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:"//Invalidate a web user session\nvar $isGuest : Boolean\nvar $isOK : Boolean\n\n$isOK:=Session.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest is True\n"})}),"\n",(0,i.jsx)(s.h2,{id:"expirationdate",children:".expirationDate"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"18 R6"}),(0,i.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:".expirationDate"})," : Text"]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o-2",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsx)(s.p,{children:"Essa propriedade s\xf3 est\xe1 dispon\xedvel com sess\xf5es de usu\xe1rio da Web."})}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".expirationDate"})," property contains the expiration date and time of the session cookie. The value is expressed as text in the ISO 8601 format: ",(0,i.jsx)(s.code,{children:"YYYY-MM-DDTHH:MM:SS.mmmZ"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,i.jsx)(s.strong,{children:"somente leitura"}),". Ele ser\xe1 automaticamente recalculado se o valor da propriedade ",(0,i.jsx)(s.a,{href:"#idletimeout",children:(0,i.jsx)(s.code,{children:".idleTimeout"})})," for modificado."]}),"\n",(0,i.jsx)(s.h4,{id:"exemplo-2",children:"Exemplo"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:'var $expiration : Text\n$expiration:=Session.expirationDate //por exemplo "2021-11-05T17:10:42Z"\n'})}),"\n",(0,i.jsx)(s.h2,{id:"getprivileges",children:".getPrivileges()"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"20 R6"}),(0,i.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:".getPrivileges"}),"() : Collection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Par\xe2metro"}),(0,i.jsx)(s.th,{children:"Tipo"}),(0,i.jsx)(s.th,{style:{textAlign:"center"}}),(0,i.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Resultados"}),(0,i.jsx)(s.td,{children:"Collection"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,i.jsx)(s.td,{children:"Cole\xe7\xe3o de nomes de privil\xe9gios (strings)"})]})})]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o-3",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".getPrivileges()"})," function returns a collection of all the privilege names associated to the session."]}),"\n",(0,i.jsx)(s.p,{children:'With remote client and stored procedure sessions, this function returns a collection only containing "WebAdmin".'}),"\n",(0,i.jsx)(s.admonition,{type:"info",children:(0,i.jsxs)(s.p,{children:["Privileges are assigned to a Session using the ",(0,i.jsx)(s.a,{href:"#setprivileges",children:(0,i.jsx)(s.code,{children:"setPrivileges()"})})," function."]})}),"\n",(0,i.jsx)(s.h4,{id:"exemplo-3",children:"Exemplo"}),"\n",(0,i.jsxs)(s.p,{children:["The following ",(0,i.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#rolesjson-file",children:(0,i.jsx)(s.code,{children:"roles.json"})})," has been defined:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n   "privileges":[\n      {\n         "privilege":"simple",\n         "includes":[\n\n         ]\n      },\n      {\n         "privilege":"medium",\n         "includes":[\n            "simple"\n         ]\n      }\n   ],\n   "roles":[\n      {\n         "role":"Medium",\n         "privileges":[\n            "medium"\n         ]\n      }\n   ],\n   "permissions":{\n      "allowed":[\n\n      ]\n   }\n}\n'})}),"\n",(0,i.jsxs)(s.p,{children:["O papel de sess\xe3o \xe9 atribu\xeddo em uma fun\xe7\xe3o de datastore ",(0,i.jsx)(s.code,{children:"authentify()"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:"  //Datastore Class\n\nexposed Function authentify($role : Text) : Text\n\tSession.clearPrivileges()\n\tSession.setPrivileges({roles: $role})\n"})}),"\n",(0,i.jsxs)(s.p,{children:["Assuming the ",(0,i.jsx)(s.code,{children:"authentify()"}),' function is called with the "Medium" role:']}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:'var $privileges : Collection\n$privileges := Session.getPrivileges()\n//$privileges: ["simple","medium"]\n'})}),"\n",(0,i.jsx)(s.h4,{id:"veja-tamb\xe9m-1",children:"Veja tamb\xe9m"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"#setprivileges",children:".setPrivileges()"}),(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.a,{href:"https://blog.4d.com/permissions-inspect-the-privileges-in-the-session-for-an-easy-debugging",children:"Permissions \u2013 Inspect the privileges in the session for an easy debugging (blog post)"})]}),"\n",(0,i.jsx)(s.h2,{id:"hasprivilege",children:".hasPrivilege()"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"18 R6"}),(0,i.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:".hasPrivilege"}),"( ",(0,i.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Par\xe2metro"}),(0,i.jsx)(s.th,{children:"Tipo"}),(0,i.jsx)(s.th,{style:{textAlign:"center"}}),(0,i.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"privilege"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,i.jsx)(s.td,{children:"Nome do privilegio a verificar"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Resultados"}),(0,i.jsx)(s.td,{children:"Par\xe2metros"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,i.jsxs)(s.td,{children:["True se a sess\xe3o tiver ",(0,i.jsx)(s.em,{children:"privilege"}),", False caso contr\xe1rio"]})]})]})]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o-4",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".hasPrivilege()"})," function returns True if the ",(0,i.jsx)(s.em,{children:"privilege"})," is associated to the session, and False otherwise."]}),"\n",(0,i.jsxs)(s.p,{children:["With remote client and stored procedure sessions, this function always returns True, whatever the ",(0,i.jsx)(s.em,{children:"privilege"}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"exemplo-4",children:"Exemplo"}),"\n",(0,i.jsx)(s.p,{children:'You want to check if the "WebAdmin" privilege is associated to the web user session:'}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:'If (Session.hasPrivilege("WebAdmin"))\n\t//Access is granted, do nothing\nElse\n\t//Display an authentication page\n\nEnd if\n'})}),"\n",(0,i.jsx)(s.h2,{id:"id",children:".id"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"20 R5"}),(0,i.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:".id"})," : Text"]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o-5",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".id"})," property contains the unique identifier (UUID) of the session on the server. Esta string \xfanica \xe9 automaticamente atribu\xedda pelo servidor para cada sess\xe3o e permite que voc\xea identifique seus processos."]}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsxs)(s.p,{children:["You can use this property to get the ",(0,i.jsx)(s.a,{href:"#storage",children:(0,i.jsx)(s.code,{children:".storage"})})," object of a session thanks to the ",(0,i.jsx)(s.a,{href:"https://doc.4d.com/4dv20R6/help/command/en/page1839.html",children:(0,i.jsx)(s.code,{children:"Session storage by ID"})})," command."]})}),"\n",(0,i.jsx)(s.h2,{id:"idletimeout",children:".idleTimeout"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(s.table,{children:(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})})}),"\n",(0,i.jsx)(s.p,{children:"|v18 R6|Adicionado|"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:".idleTimeout"})," : Integer"]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o-6",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsx)(s.p,{children:"Essa propriedade s\xf3 est\xe1 dispon\xedvel com sess\xf5es de usu\xe1rio da Web."})}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".idleTimeout"})," property contains the inactivity session timeout (in minutes), after which the session is automatically closed by 4D."]}),"\n",(0,i.jsx)(s.p,{children:"Se n\xe3o se definir esta propriedade, o valor padr\xe3o \xe9 60 (1h)."}),"\n",(0,i.jsxs)(s.p,{children:["Quando essa propriedade \xe9 definida, a propriedade ",(0,i.jsx)(s.a,{href:"#expirationdate",children:(0,i.jsx)(s.code,{children:".expirationDate"})})," \xe9 atualizada de acordo."]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"O valor n\xe3o pode ser inferior a 60: se definir um valor inferior, o tempo de espera se eleva at\xe9 60."}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,i.jsx)(s.strong,{children:"leitura escrita"}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"exemplo-5",children:"Exemplo"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:"If (Session.isGuest())\n\t\t// A Guest session will close after 60 minutes of inactivity\n\tSession.idleTimeout:=60\nElse\n\t\t// Other sessions will close after 120 minutes of inactivity\n\tSession.idleTimeout:=120\nEnd if\n\n"})}),"\n",(0,i.jsx)(s.h2,{id:"info",children:".info"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"20 R5"}),(0,i.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:".info"})," : Object"]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o-7",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsx)(s.p,{children:"Essa propriedade s\xf3 est\xe1 dispon\xedvel com sess\xf5es de procedimento armazenado e cliente remoto."})}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".info"})," property describes the remote client or stored procedure session on the server."]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".info"})," object is the same object as the one returned by the ",(0,i.jsx)(s.a,{href:"https://doc.4d.com/4dv20/help/command/en/page1495.html",children:(0,i.jsx)(s.code,{children:"Get process activity"})})," command for remote client and stored procedure sessions."]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".info"})," object contains the following properties:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Propriedade"}),(0,i.jsx)(s.th,{children:"Tipo"}),(0,i.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"type"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:'Tipo de sess\xe3o: "remote" ou "storedProcedure"'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"userName"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsxs)(s.td,{children:["4D user name (same value as ",(0,i.jsx)(s.a,{href:"#username",children:(0,i.jsx)(s.code,{children:".userName"})}),")"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"machineName"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:"Sess\xf5es remotas: nome da m\xe1quina remota. Sess\xe3o de procedimentos armazenados: nome da m\xe1quina do servidor"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"systemUserName"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:"Sess\xf5es remotas: nome da sess\xe3o do sistema aberta na m\xe1quina remota."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"IPAddress"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:"Endere\xe7o IP da m\xe1quina remota"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"hostType"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:'Tipo de host: "windows" ou "mac"'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"creationDateTime"}),(0,i.jsx)(s.td,{children:"Date ISO 8601"}),(0,i.jsx)(s.td,{children:"Data e hora de cria\xe7\xe3o da sess\xe3o"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"state"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:'Estado da sess\xe3o: "ativa", "adiada", "em espera"'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"ID"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsxs)(s.td,{children:["UUID da sess\xe3o (mesmo valor que ",(0,i.jsx)(s.a,{href:"#id",children:(0,i.jsx)(s.code,{children:".id"})}),")"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"persistentID"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:"ID persistente da sess\xe3o"})]})]})]}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.p,{children:["Since ",(0,i.jsx)(s.code,{children:".info"})," is a computed property, it is recommended to call it once and then to store it in a local variable if you want to do some processing on its properties."]})}),"\n",(0,i.jsx)(s.h2,{id:"isguest",children:".isGuest()"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"18 R6"}),(0,i.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:".isGuest()"})," : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Par\xe2metro"}),(0,i.jsx)(s.th,{children:"Tipo"}),(0,i.jsx)(s.th,{style:{textAlign:"center"}}),(0,i.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Resultados"}),(0,i.jsx)(s.td,{children:"Par\xe2metros"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,i.jsx)(s.td,{children:"True se a sess\xe3o for uma sess\xe3o Guest, False caso contr\xe1rio"})]})})]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o-8",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.p,{children:["Essa fun\xe7\xe3o sempre retorna ",(0,i.jsx)(s.strong,{children:"False"})," com sess\xf5es de procedimento armazenado e cliente remoto."]})}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".isGuest()"})," function returns True if the session is a Guest session (i.e. it has no privileges)."]}),"\n",(0,i.jsx)(s.h4,{id:"exemplo-6",children:"Exemplo"}),"\n",(0,i.jsxs)(s.p,{children:["No m\xe9todo base ",(0,i.jsx)(s.code,{children:"On Web Connection"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:"If (Session.isGuest())\n\t//Do something for Guest user\nEnd if\n"})}),"\n",(0,i.jsx)(s.h2,{id:"setprivileges",children:".setPrivileges()"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"19 R8"}),(0,i.jsx)(s.td,{children:'Suporte da propriedade "roles" das Settings'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"18 R6"}),(0,i.jsx)(s.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,i.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean",(0,i.jsx)(s.br,{}),(0,i.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,i.jsx)(s.em,{children:"privileges"})," : Collection )",(0,i.jsx)(s.br,{}),(0,i.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,i.jsx)(s.em,{children:"settings"})," : Object ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Par\xe2metro"}),(0,i.jsx)(s.th,{children:"Tipo"}),(0,i.jsx)(s.th,{style:{textAlign:"center"}}),(0,i.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"privilege"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,i.jsx)(s.td,{children:"Nome do privil\xe9gio"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"privileges"}),(0,i.jsx)(s.td,{children:"Collection"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,i.jsx)(s.td,{children:"Collection de nomes de privil\xe9gios"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"settings"}),(0,i.jsx)(s.td,{children:"Object"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,i.jsx)(s.td,{children:'Objetos com as propriedades "privil\xe9gios" (string ou collection)'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Resultados"}),(0,i.jsx)(s.td,{children:"Par\xe2metros"}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,i.jsx)(s.td,{children:"True se a execu\xe7\xe3o for bem-sucedida"})]})]})]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o-9",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.p,{children:["This function does nothing and always returns ",(0,i.jsx)(s.strong,{children:"False"})," with remote client and stored procedure sessions."]})}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".setPrivileges()"})," function associates the privilege(s) and/or role(s) defined in the parameter to the session and returns ",(0,i.jsx)(s.strong,{children:"True"})," if the execution was successful."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["In the ",(0,i.jsx)(s.em,{children:"privilege"})," parameter, pass a string containing a privilege name (or several comma-separated privilege names)."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["In the ",(0,i.jsx)(s.em,{children:"privileges"})," parameter, pass a collection of strings containing privilege names."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["In the ",(0,i.jsx)(s.em,{children:"settings"})," parameter, pass an object containing the following properties:"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Propriedade"}),(0,i.jsx)(s.th,{children:"Tipo"}),(0,i.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"privileges"}),(0,i.jsx)(s.td,{children:"Text ou Collection"}),(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.li,{children:"String containing a privilege name, or"}),(0,i.jsx)(s.li,{children:"Collection of strings containing privilege names"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"roles"}),(0,i.jsx)(s.td,{children:"Text ou Collection"}),(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.li,{children:"String containing a role, or"}),(0,i.jsx)(s.li,{children:"Collection of strings containing roles"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"userName"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:"Nome de usu\xe1rio associado \xe0 sess\xe3o (opcional)"})]})]})]}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.p,{children:["Privileges and roles are defined in ",(0,i.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#rolesjson-file",children:(0,i.jsx)(s.code,{children:"roles.json"})})," file of the project. Para obter mais informa\xe7\xf5es, consulte a se\xe7\xe3o ",(0,i.jsx)(s.a,{href:"/docs/pt/ORDA/privileges",children:(0,i.jsx)(s.strong,{children:"Privil\xe9gios"})}),"."]})}),"\n",(0,i.jsxs)(s.p,{children:["If the ",(0,i.jsx)(s.code,{children:"privileges"})," or ",(0,i.jsx)(s.code,{children:"roles"})," property contains a name that is not declared in the ",(0,i.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#rolesjson-file",children:(0,i.jsx)(s.code,{children:"roles.json"})})," file, it is ignored."]}),"\n",(0,i.jsxs)(s.p,{children:["By default when no privilege or role is associated to the session, the session is a ",(0,i.jsx)(s.a,{href:"#isguest",children:"Guest session"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.a,{href:"#username",children:(0,i.jsx)(s.code,{children:"userName"})})," property is available at session object level (read-only)."]}),"\n",(0,i.jsx)(s.h4,{id:"exemplo-7",children:"Exemplo"}),"\n",(0,i.jsx)(s.p,{children:'Em um m\xe9todo de autentica\xe7\xe3o personalizado, deve estabecer o privil\xe9gio "WebAdmin" ao usu\xe1rio:'}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:'var $userOK : Boolean\n\n... //Authenticate the user\n\nIf ($userOK) //The user has been approved\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection("WebAdmin")\n  Session.setPrivileges($info)\nEnd if\n\n'})}),"\n",(0,i.jsx)(s.h4,{id:"veja-tamb\xe9m-2",children:"Veja tamb\xe9m"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"#getprivileges",children:".getPrivileges()"})}),"\n",(0,i.jsx)(s.h2,{id:"storage",children:".storage"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"20 R5"}),(0,i.jsx)(s.td,{children:"Support of remote client and stored procedure sessions"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"18 R6"}),(0,i.jsx)(s.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:".storage"})," : Object"]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o-10",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".storage"})," property contains a shared object that can be used to store information available to all processes of the session."]}),"\n",(0,i.jsxs)(s.p,{children:["Quando um objeto ",(0,i.jsx)(s.code,{children:"Session"})," \xe9 criado, a propriedade ",(0,i.jsx)(s.code,{children:".storage"})," est\xe1 vazia. Since it is a shared object, this property will be available in the ",(0,i.jsx)(s.code,{children:"Storage"})," object of the server."]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Like the ",(0,i.jsx)(s.code,{children:"Storage"})," object of the server, the ",(0,i.jsx)(s.code,{children:".storage"}),' property is always "single": adding a shared object or a shared collection to ',(0,i.jsx)(s.code,{children:".storage"})," does not create a shared group."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,i.jsx)(s.strong,{children:"apenas de leitura"}),", mas retorna um objeto de leitura e grava\xe7\xe3o."]}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsxs)(s.p,{children:["You can get the ",(0,i.jsx)(s.code,{children:".storage"})," property of a session using the ",(0,i.jsx)(s.a,{href:"https://doc.4d.com/4dv20R6/help/command/en/page1839.html",children:(0,i.jsx)(s.code,{children:"Session storage by ID"})})," command."]})}),"\n",(0,i.jsx)(s.h4,{id:"exemplo-de-sess\xe3o-na-web",children:"Exemplo de sess\xe3o na web"}),"\n",(0,i.jsxs)(s.p,{children:["Voc\xea deseja armazenar o IP do cliente na propriedade ",(0,i.jsx)(s.code,{children:".storage"}),". Voc\xea pode escrever no m\xe9todo de banco de dados ",(0,i.jsx)(s.code,{children:"On Web Authentication"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:'If (Session.storage.clientIP=Null) //first access\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use End if\n'})}),"\n",(0,i.jsx)(s.h4,{id:"exemplo-de-sess\xe3o-remota",children:"Exemplo de sess\xe3o remota"}),"\n",(0,i.jsx)(s.p,{children:"Voc\xea deseja compartilhar dados entre processos na mesma sess\xe3o:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:'Use (Session.storage)\n Session.storage.settings:=New shared object("property"; $value; "property2"; $value2)\nEnd use\n'})}),"\n",(0,i.jsx)(s.h2,{id:"username",children:".userName"}),"\n",(0,i.jsxs)(s.details,{children:[(0,i.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Release"}),(0,i.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"20 R5"}),(0,i.jsx)(s.td,{children:"Support of remote client and stored procedure sessions"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"18 R6"}),(0,i.jsx)(s.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:".userName"})," : Text"]}),"\n",(0,i.jsx)(s.h4,{id:"descri\xe7\xe3o-11",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:".userName"})," property contains the user name associated to the session. Pode us\xe1-la para identificar o usu\xe1rio dentro de seu c\xf3digo."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Com sess\xf5es da Web, essa propriedade \xe9 uma cadeia de caracteres vazia por padr\xe3o. Ele pode ser definido usando a propriedade ",(0,i.jsx)(s.code,{children:"privileges"})," da fun\xe7\xe3o ",(0,i.jsx)(s.a,{href:"#setprivileges",children:(0,i.jsx)(s.code,{children:"setPrivileges()"})}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["With remote and stored procedure sessions, this property returns the same user name as the ",(0,i.jsx)(s.a,{href:"https://doc.4d.com/4dv20/help/command/en/page182.html",children:(0,i.jsx)(s.code,{children:"Current user"})})," command."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,i.jsx)(s.strong,{children:"somente leitura"}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>t});var i=n(296540);const r={},d=i.createContext(r);function o(e){const s=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(d.Provider,{value:s},e.children)}}}]);