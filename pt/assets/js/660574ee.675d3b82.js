"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["68303"],{753257:function(e,o,r){r.r(o),r.d(o,{default:()=>c,frontMatter:()=>s,metadata:()=>n,assets:()=>i,toc:()=>m,contentTitle:()=>d});var n=JSON.parse('{"id":"WritePro/commands-legacy/wp-new","title":"WP New","description":"WP New {( fonte {; op\xe7\xe3o} )} -> Resultado","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R8/WritePro/commands-legacy/wp-new.md","sourceDirName":"WritePro/commands-legacy","slug":"/WritePro/commands/wp-new","permalink":"/docs/pt/WritePro/commands/wp-new","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20WritePro%2Fcommands-legacy%2Fwp-new.md%20(20-R8)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R8","frontMatter":{"id":"wp-new","title":"WP New","slug":"/WritePro/commands/wp-new","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"WP Is font style supported","permalink":"/docs/pt/WritePro/commands/wp-is-font-style-supported"},"next":{"title":"WP NEW BOOKMARK","permalink":"/docs/pt/WritePro/commands/wp-new-bookmark"}}'),a=r("785893"),t=r("250065");let s={id:"wp-new",title:"WP New",slug:"/WritePro/commands/wp-new",displayed_sidebar:"docs"},d=void 0,i={},m=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:2},{value:"Exemplo 1",id:"exemplo-1",level:2},{value:"Exemplo 2",id:"exemplo-2",level:2},{value:"Exemplo 3",id:"exemplo-3",level:2},{value:"Exemplo 4",id:"exemplo-4",level:2},{value:"Exemplo 5",id:"exemplo-5",level:2},{value:"Exemplo 6",id:"exemplo-6",level:2},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:2}];function l(e){let o={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.p,{children:[(0,a.jsx)(o.strong,{children:"WP New"})," {( ",(0,a.jsx)(o.em,{children:"fonte"})," {; ",(0,a.jsx)(o.em,{children:"op\xe7\xe3o"}),"} )} -> Resultado"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(o.table,{children:[(0,a.jsx)(o.thead,{children:(0,a.jsxs)(o.tr,{children:[(0,a.jsx)(o.th,{children:"Par\xe2metro"}),(0,a.jsx)(o.th,{children:"Tipo"}),(0,a.jsx)(o.th,{}),(0,a.jsx)(o.th,{children:"Descri\xe7\xe3o"})]})}),(0,a.jsxs)(o.tbody,{children:[(0,a.jsxs)(o.tr,{children:[(0,a.jsx)(o.td,{children:"fonte"}),(0,a.jsx)(o.td,{children:"Text, Blob, Object"}),(0,a.jsx)(o.td,{children:"\u2192"}),(0,a.jsx)(o.td,{children:"Fonte HTML 4D ou Blob 4D Write"})]}),(0,a.jsxs)(o.tr,{children:[(0,a.jsx)(o.td,{children:"op\xe7\xe3o"}),(0,a.jsx)(o.td,{children:"Integer"}),(0,a.jsx)(o.td,{children:"\u2192"}),(0,a.jsx)(o.td,{children:"Op\xe7\xe3o de importa\xe7\xe3o para express\xf5es HTML"})]}),(0,a.jsxs)(o.tr,{children:[(0,a.jsx)(o.td,{children:"Resultado"}),(0,a.jsx)(o.td,{children:"Object"}),(0,a.jsx)(o.td,{children:"\u2190"}),(0,a.jsx)(o.td,{children:"Objeto 4D Write Pro"})]})]})]}),"\n",(0,a.jsx)(o.h2,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,a.jsxs)(o.p,{children:["O comando ",(0,a.jsx)(o.strong,{children:"WP New"})," cria e devolve um objeto 4D Write Pro.[#/descv]. O objeto retornado \xe9 um documento completo que pode ser passado ao comando ",(0,a.jsx)(o.a,{href:"/docs/pt/WritePro/commands/wp-insert-document-body",children:"WP INSERT DOCUMENT"}),", por exemplo."]}),"\n",(0,a.jsxs)(o.p,{children:["Por padr\xe3o, se omitir o par\xe2metro ",(0,a.jsx)(o.em,{children:"fonte"}),", o comando devolve um objeto 4D Write Pro vazio."]}),"\n",(0,a.jsxs)(o.p,{children:["Tamb\xe9m pode utilizar o par\xe2metro ",(0,a.jsx)(o.em,{children:"fonte"}),", em cujo caso o novo objeto 4D Write Pro ser\xe1 preenchido com o conte\xfado da ",(0,a.jsx)(o.em,{children:"fonte"}),". Pode passar:"]}),"\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsxs)(o.li,{children:["um par\xe2metro ",(0,a.jsx)(o.em,{children:"cadeia"}),": Neste caso, passe uma fonte HTML 4D, ou seja, um texto exportado por ",(0,a.jsx)(o.a,{href:"/docs/pt/WritePro/commands/wp-export-variable",children:"WP EXPORT VARIABLE"})," com a op\xe7\xe3o wk web page html 4D. Este texto pode conter refer\xeancias (etiquetas e express\xf5es 4D) e imagens aninhadas)."]}),"\n",(0,a.jsxs)(o.li,{children:["ou um par\xe2metro ",(0,a.jsx)(o.em,{children:"blob"}),": Neste caso, deve passar ou:\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsxs)(o.li,{children:["um formato de documento 4D Write Pro (.4wp) armazenado em um BLOB. Para saber mais sobre o formato 4D Write Pro, veja ",(0,a.jsx)(o.em,{children:"formato de documento .4wp"}),"."]}),"\n",(0,a.jsxs)(o.li,{children:["uma \xe1rea de legado 4D Write carregada em um BLOB (Blobs contendo documentos .4w7 ou .4wt s\xe3o suportados). Para uma lista detalhada de propriedades de 4D Write suportadas em documentos 4D Write Pro, veja a se\xe7\xe3o ",(0,a.jsx)(o.em,{children:"Importar documentos 4D Write"})]}),"\n",(0,a.jsxs)(o.li,{children:["Se deseja importar um documento 4D Write (.4w7 ou .4wt) armazenado no disco, tamb\xe9m pode considerar o uso do comando ",(0,a.jsx)(o.a,{href:"/docs/pt/WritePro/commands/wp-import-document",children:"WP Import document"}),"."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(o.li,{children:["un par\xe1metro ",(0,a.jsx)(o.a,{href:"#",title:"Estruturas de dados como objetos 4D nativos",children:"objeto"})," que puede ser:\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsxs)(o.li,{children:["uma range.",(0,a.jsx)(o.br,{}),"\n",(0,a.jsx)(o.strong,{children:"WP New"})," retorna um novo documento criado a partir da range especificada. Note que, se a range n\xe3o for igual a range completa do documento, s\xf3 a primeira se\xe7\xe3o \xe9 exportada e bookmarks n\xe3o s\xe3o exportadas"]}),"\n",(0,a.jsxs)(o.li,{children:["um elemento de refer\xeancia (tabela / fila/ par\xe1grafo / imagem inline / cabe\xe7alho / rodap\xe9/se\xe7\xe3o/subse\xe7\xe3o).",(0,a.jsx)(o.br,{}),"\n",(0,a.jsx)(o.strong,{children:"WP New"})," retorna um novo documento contendo s\xf3 os conte\xfados da refer\xeancia de elementos na parte do corpo (para uma fila, o novo documento vai conter um elemento de tabela com a fila)."]}),"\n",(0,a.jsxs)(o.li,{children:["um documento 4D Write Pro.",(0,a.jsx)(o.br,{}),"\n",(0,a.jsx)(o.strong,{children:"WP New"})," vai retornar uma c\xf3pia do documento especificado."]}),"\n",(0,a.jsx)(o.li,{children:"um documento 4D Write Pro"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(o.p,{children:["Como padr\xe3o, express\xf5es HTML inseridas em documentos 4D WRite legados n\xe3o s\xe3o importados (n\xe3o t\xeam compatibilidade com 4D Write Pro). Se passar a constante wk import html expressions as text no par\xe2metro ",(0,a.jsx)(o.em,{children:"op\xe7\xe3o"}),", express\xf5es HTML ser\xe3o importadas como texto raw entre as tags ",(0,a.jsx)(o.em,{children:"##htmlBegin##"})," e ",(0,a.jsx)(o.em,{children:"##htmlEnd##"})," -- que exigir\xe1 depois a\xe7\xf5es de formata\xe7\xe3o. Por exemplo:"]}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-RAW",children:"##htmlBegin##Imported titlebold##htmlEnd##\n"})}),"\n",(0,a.jsx)(o.p,{children:'Nota de compatibilidade: Folhas de estilo de caracteres em documentos 4D Write "legado" usam um mecanismo propriet\xe1rio, que n\xe3o \xe9 mais compat\xedvel com o 4D Write Pro. Para obter os melhores resultados de textos importados, atributos de folha de estilo s\xe3o convertidos para atributos de estilo "hard coded". Folhas de estilo caractere "legado" n\xe3o s\xe3o importadas e n\xe3o s\xe3o mais referenciadas no documento.'}),"\n",(0,a.jsx)(o.h2,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,a.jsx)(o.p,{children:"Deseja criar um objeto 4D Write Pro vazio:"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-4d",children:"\xa0myWPObject:=WP New\n"})}),"\n",(0,a.jsx)(o.h2,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,a.jsx)(o.p,{children:"Se quiser criar um novo objeto 4D Write Pro al\xe9m de um documento 4D Write Pro armazenado em disco :"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-4d",children:'\xa0var $BlobDoc : Blob\n\xa0C_OBJET(myWPArea)\n\xa0DOCUMENT VERS BLOB("myDoc.4wp";$BlobDoc)\xa0//carrega o documento a partir de um Blob\n\xa0myWPArea:=WP Nouveau($BlobDoc)\n'})}),"\n",(0,a.jsx)(o.h2,{id:"exemplo-3",children:"Exemplo 3"}),"\n",(0,a.jsx)(o.p,{children:"Deseja criar um objeto 4D Write Pro que cont\xe9m uma refer\xeancia de express\xe3o 4D simples:"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-4d",children:'\xa0var myText : Text\n\xa0myText:="Today is "\n\xa0ST INSERT EXPRESSION(myText;"string(current date;System date long)";ST End text)\n\xa0myWPA:=WP New(myText)\n'})}),"\n",(0,a.jsx)(o.h2,{id:"exemplo-4",children:"Exemplo 4"}),"\n",(0,a.jsx)(o.p,{children:"Voc\xea deseja inicializar sua \xe1rea 4D Write Pro com um modelo criado previamente:"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-4d",children:"\xa0\xa0//Exportar modelo desde uma \xe1rea existente\n\xa0var wpTemplate : Text\n\xa0WP EXPORT VARIABLE(myWPArea;wpTemplate;wk web page html 4D)\n\xa0\n\xa0\xa0// Utilizar o modelo para uma nova \xe1rea\n\xa0var myNewWPA : Object\n\xa0myNewWPA:=WP New(wpTemplate)\n"})}),"\n",(0,a.jsx)(o.h2,{id:"exemplo-5",children:"Exemplo 5"}),"\n",(0,a.jsx)(o.p,{children:"Se quiser importar um documento armazenado em um campo BLOB do registro atual do anterior plug-in 4D Write em uma \xe1rea nova 4D Write Pro e manter as express\xf5es HTML:"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-4d",children:"\xa0var wpArea : Object\n\xa0wpArea=WP New([Templates]Reference_;wk import html expressions as text)\n"})}),"\n",(0,a.jsx)(o.h2,{id:"exemplo-6",children:"Exemplo 6"}),"\n",(0,a.jsx)(o.p,{children:"Se definir um documento modelo com partes pr\xe9-formatadas diferentemente, cada uma das quais sendo armazenadas como uma bookmark. Quando produzir um documento final do modelo, pode extrair qualquer bookmark como um novo documento e inserir a bookmark no documento final."}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-4d",children:'\xa0ARRAY TEXT($_BookmarkNames;0)\n\xa0WP GET BOOKMARKS([TEMPLATES]WP;$_BookmarkNames)\xa0//obt\xe9m as bookmarks do modelo\n\xa0$targetRange:=WP New\xa0//criar um documento vazio (ser\xe1 o documento final)\n\xa0\n\xa0$p:=Find in array($_BookmarkNames;"Main_Header")\xa0//gerencia a parte principal cabe\xe7alho\xa0\n\xa0If($p>0)\n\xa0\xa0\xa0\xa0$Range:=WP Get bookmark range(WParea;$_BookmarkNames{$p})\xa0//seleciona a faixa\n\xa0\xa0\xa0\xa0$RangeDoc:=WP New($Range)\xa0//cria um novo documento da faixa\n\xa0\xa0\xa0\xa0WP INSERT DOCUMENT($buildRange;$RangeDoc;wk prepend+wk freeze expressions)\xa0//wk prepend=after replacement, $buildRange \xe9 igual ao fim do texto substitu\xeddo\n\xa0End if\n'})}),"\n",(0,a.jsx)(o.h2,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,a.jsxs)(o.p,{children:[(0,a.jsx)(o.a,{href:"/docs/pt/WritePro/commands/wp-import-document",children:"WP Import document"}),(0,a.jsx)(o.br,{}),"\n",(0,a.jsx)(o.a,{href:"/docs/pt/WritePro/commands/wp-insert-document-body",children:"WP INSERT DOCUMENT"})]})]})}function c(e={}){let{wrapper:o}={...(0,t.a)(),...e.components};return o?(0,a.jsx)(o,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},250065:function(e,o,r){r.d(o,{Z:function(){return d},a:function(){return s}});var n=r(667294);let a={},t=n.createContext(a);function s(e){let o=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(t.Provider,{value:o},e.children)}}}]);