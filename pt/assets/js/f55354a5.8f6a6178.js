"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["57401"],{929878:function(e,s,o){o.r(s),o.d(s,{metadata:()=>a,contentTitle:()=>d,default:()=>m,assets:()=>i,toc:()=>l,frontMatter:()=>t});var a=JSON.parse('{"id":"commands-legacy/delete-selection","title":"DELETE SELECTION","description":"DELETE SELECTION {( tabela )}","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/delete-selection.md","sourceDirName":"commands-legacy","slug":"/commands/delete-selection","permalink":"/docs/pt/commands/delete-selection","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fdelete-selection.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"delete-selection","title":"DELETE SELECTION","slug":"/commands/delete-selection","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"CREATE SELECTION FROM ARRAY","permalink":"/docs/pt/commands/create-selection-from-array"},"next":{"title":"DISPLAY SELECTION","permalink":"/docs/pt/commands/display-selection"}}'),n=o("785893"),r=o("250065");let t={id:"delete-selection",title:"DELETE SELECTION",slug:"/commands/delete-selection",displayed_sidebar:"docs"},d=void 0,i={},l=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo 1",id:"exemplo-1",level:4},{value:"Exemplo 2",id:"exemplo-2",level:4},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:4},{value:"Propriedades",id:"propriedades",level:4}];function c(e){let s={a:"a",br:"br",code:"code",em:"em",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"DELETE SELECTION"})," {( ",(0,n.jsx)(s.em,{children:"tabela"})," )}"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Par\xe2metro"}),(0,n.jsx)(s.th,{children:"Tipo"}),(0,n.jsx)(s.th,{}),(0,n.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"tabela"}),(0,n.jsx)(s.td,{children:"Table"}),(0,n.jsx)(s.td,{children:"\u2192"}),(0,n.jsx)(s.td,{children:"Tabela a qual apagar a sele\xe7\xe3o atual, ou tabela padr\xe3o, se omitido"})]})})]}),"\n",(0,n.jsx)(s.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,n.jsxs)(s.p,{children:["DELETE SELECTION apaga a sele\xe7\xe3o atual de registros de ",(0,n.jsx)(s.em,{children:"tabela"}),". Se a sele\xe7\xe3o atual estiver vazia, DELETE SELECTION n\xe3o faz nada. Depois de apagar os registros, a sele\xe7\xe3o atual fica vazia. Os registros que s\xe3o apagados durante uma transa\xe7\xe3o est\xe3o bloqueados para os outros usu\xe1rios e processos at\xe9 que a transa\xe7\xe3o seja confirmada ou cancelada."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Advert\xeancia"}),": a elimina\xe7\xe3o de uma sele\xe7\xe3o de registros \xe9 uma opera\xe7\xe3o definitiva e n\xe3o pode ser desfeita."]}),"\n",(0,n.jsxs)(s.p,{children:["Desmarcar a op\xe7\xe3o ",(0,n.jsx)(s.strong,{children:"Registros apagados definitivamente"})," no Inspetor de tabelas lhe permite aumentar a velocidade das elimina\xe7\xf5es durante o uso de DELETE SELECTION (ver ",(0,n.jsx)(s.em,{children:"Registros eliminados definitivamente"})," no manual ",(0,n.jsx)(s.em,{children:"Modo Desenho"}),")."]}),"\n",(0,n.jsx)(s.h4,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,n.jsx)(s.p,{children:"O seguinte exemplo mostra todos os registros da tabela [Pessoas] e permite ao usu\xe1rio selecionar quais apagar. O exemplo tem duas partes. A primeira \xe9 um m\xe9todo para mostrar os registros. A segunda \xe9 um m\xe9todo de objeto para um bot\xe3o Apagar. Este \xe9 o primeiro m\xe9todo:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-4d",children:'\xa0ALL RECORDS([Pessoas])\xa0// Sele\xe7\xe3o de todos os registros\n\xa0&NBSP;FORM SET OUTPUT([Pessoas];"Lista")\xa0// Defini\xe7\xe3o do formul\xe1rio para listar os registros DISPLAY SELECTION ([Pessoas]) ` Mostrar todos os registros\n'})}),"\n",(0,n.jsx)(s.p,{children:"Abaixo h\xe1 o m\xe9todo de objeto do bot\xe3o Apagar, que aparece no rodap\xe9 do formul\xe1rio de sa\xedda. O m\xe9todo de objeto utiliza os registros selecionados pelo usu\xe1rio (o conjunto sistema UserSet) para apagar a sele\xe7\xe3o. Note que se o usu\xe1rio n\xe3o seleciona nenhum registro, DELETE SELECTION n\xe3o tem nenhum efeito."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-4d",children:'\xa0\xa0// Solicitar confirma\xe7\xe3o de que o usu\xe1rio realmente quer apagar os registros CONFIRM("Voc\xeae selecionou"+String(Records in set ("UserSet"))+" pessoas a apagar."\n\xa0+Char(13)+"Clique em OK para apag\xe1-las.")\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0&NBSP;USE SET("UserSet")\xa0// Utilizar os registros escolhidos pelo usu\xe1rio\n\xa0\xa0\xa0\xa0DELETE SELECTION([Pessoas])\xa0// Apagar a sele\xe7\xe3o de registros\n\xa0\xa0\xa0\xa0&NBSP;End if\n\xa0\xa0\xa0\xa0&NBSP;ALL RECORDS([Pessoas])\xa0// Sele\xe7\xe3o de todos os registros\n'})}),"\n",(0,n.jsx)(s.h4,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,n.jsx)(s.p,{children:"Se for encontrado um registro bloqueado durante a execu\xe7\xe3o de DELETE SELECTION, esse registro n\xe3o se apaga. Todos os registros bloqueados s\xe3o colocados em um conjunto sistema chamado LockedSet. Depois da execu\xe7\xe3o de DELETE SELECTION, pode testar LockedSet para verificar se os registros estavam bloqueados. O seguinte loop ser\xe1 executado at\xe9 que todos os registros s\xe3o apagados:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-4d",children:'\xa0Repeat\xa0// Repetir para cada registro bloqueado\n\xa0\xa0\xa0\xa0&NBSP;DELETE SELECTION([EstaTabela])\n\xa0\xa0\xa0\xa0&NBSP;If(Records in set("LockedSet")#0)\xa0// Se houver registros bloqueados\n\xa0\xa0\xa0\xa0&NBSP;USE SET("LockedSet")\xa0// Selecionar apenas os registros bloqueados\n\xa0\xa0\xa0\xa0&NBSP;End if Until(Records in set("LockedSet")=0)\xa0// At\xe9 que n\xe3o haja mais registros bloqueados\n'})}),"\n",(0,n.jsx)(s.h4,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.em,{children:"Conjuntos"}),(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)(s.a,{href:"/docs/pt/commands/display-selection",children:"DISPLAY SELECTION"}),(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)(s.a,{href:"/docs/pt/commands/modify-selection",children:"MODIFY SELECTION"}),(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)(s.em,{children:"Record Locking"}),(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)(s.a,{href:"/docs/pt/commands/truncate-table",children:"TRUNCATE TABLE"})]}),"\n",(0,n.jsx)(s.h4,{id:"propriedades",children:"Propriedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{}),(0,n.jsx)(s.th,{})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"N\xfamero do comando"}),(0,n.jsx)(s.td,{children:"66"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Thread-seguro"}),(0,n.jsx)(s.td,{children:"\u2713"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Modificar a sele\xe7\xe3o atual"}),(0,n.jsx)(s.td,{})]})]})]})]})}function m(e={}){let{wrapper:s}={...(0,r.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},250065:function(e,s,o){o.d(s,{Z:function(){return d},a:function(){return t}});var a=o(667294);let n={},r=a.createContext(n);function t(e){let s=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),a.createElement(r.Provider,{value:s},e.children)}}}]);