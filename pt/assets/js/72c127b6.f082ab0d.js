"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["388"],{245413:function(e,n,o){o.r(n),o.d(n,{default:()=>m,frontMatter:()=>l,metadata:()=>r,assets:()=>d,toc:()=>c,contentTitle:()=>t});var r=JSON.parse('{"id":"commands/formula","title":"Formula","description":"Hist\xf3ria","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R7/commands/formula.md","sourceDirName":"commands","slug":"/commands/formula","permalink":"/docs/pt/commands/formula","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands%2Fformula.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"formula","title":"Formula","slug":"/commands/formula","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"EXECUTE FORMULA","permalink":"/docs/pt/commands/execute-formula"},"next":{"title":"Formula from string","permalink":"/docs/pt/commands/formula-from-string"}}'),a=o("785893"),s=o("250065");let l={id:"formula",title:"Formula",slug:"/commands/formula",displayed_sidebar:"docs"},t=void 0,d={},c=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo 1",id:"exemplo-1",level:4},{value:"Exemplo 2",id:"exemplo-2",level:4},{value:"Exemplo 3",id:"exemplo-3",level:4},{value:"Exemplo",id:"exemplo",level:4},{value:"Exemplo 2",id:"exemplo-2-1",level:4},{value:"Exemplo 6",id:"exemplo-6",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m",level:4},{value:"Propriedades",id:"propriedades",level:4}];function i(e){let n={a:"a",br:"br",code:"code",details:"details",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.details,{children:[(0,a.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Release"}),(0,a.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"17 R6"}),(0,a.jsx)(n.td,{children:"Renomeado (New formula -> Formula)"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"17 R3"}),(0,a.jsx)(n.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Formula"})," ( ",(0,a.jsx)(n.em,{children:"formulaExp"})," : Expression ) : 4D.Function"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Par\xe2metro"}),(0,a.jsx)(n.th,{children:"Tipo"}),(0,a.jsx)(n.th,{style:{textAlign:"center"}}),(0,a.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"formulaExp"}),(0,a.jsx)(n.td,{children:"Expression"}),(0,a.jsx)(n.td,{style:{textAlign:"center"},children:"\u2192"}),(0,a.jsx)(n.td,{children:"F\xf3rmula a ser retornada como objeto"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Resultados"}),(0,a.jsx)(n.td,{children:"4D. Function"}),(0,a.jsx)(n.td,{style:{textAlign:"center"},children:"\u2190"}),(0,a.jsx)(n.td,{children:"Fun\xe7\xe3o nativa encapsulando a f\xf3rmula"})]})]})]}),"\n",(0,a.jsx)(n.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"Formula"})," command creates a ",(0,a.jsx)(n.code,{children:"4D Function"})," object based upon the ",(0,a.jsx)(n.em,{children:"formulaExp"})," expression. ",(0,a.jsx)(n.em,{children:"formulaExp"})," can be as simple as a single value or complex, such as a project method with parameters."]}),"\n",(0,a.jsx)(n.p,{children:'Ter uma f\xf3rmula como se fosse um objeto permite que seja passada como um par\xe2metro (atributo calculado) para comandos ou m\xe9todos, ou para ser executado a partir de v\xe1rios componentes, sem precisar declar\xe1-los como "partilhados por componentes e database host". Quando chamado, o objeto f\xf3rmula \xe9 avaliado sem o contexto do banco de dados ou componente que o criou.'}),"\n",(0,a.jsx)(n.p,{children:"A f\xf3rmula retornada pode ser chamada com:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["os m\xe9todos ",(0,a.jsx)(n.a,{href:"#call",children:(0,a.jsx)(n.code,{children:".call()"})})," ou ",(0,a.jsx)(n.a,{href:"#apply",children:(0,a.jsx)(n.code,{children:".apply()"})}),","]}),"\n",(0,a.jsxs)(n.li,{children:["a sintaxe de nota\xe7\xe3o de objeto (consulte ",(0,a.jsx)(n.a,{href:"#formula-object",children:"objeto formula"}),")."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:' var $f : 4D. Function\n $f:=Formula(1+2)\n $o:=New object("myFormula";$f)\n\n  //tr\xeas formas diferentes de chamar a f\xf3rmula\n $f.call($o) //retorna 3\n $f.apply($o) //retorna 3\n $o.myFormula() //retorna 3\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Voc\xea pode passar ",(0,a.jsx)(n.a,{href:"#passing-parameters",children:"par\xe2metros"})," para ",(0,a.jsx)(n.code,{children:"Formula"}),", como visto abaixo no ",(0,a.jsx)(n.a,{href:"#exemplo-4",children:"exemplo 4"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Voc\xea pode especificar o objeto no qual a f\xf3rmula \xe9 executada, como visto em ",(0,a.jsx)(n.a,{href:"#exemplo-5",children:"exemplo 5"}),". As propriedades do objeto podem ser acessadas via o comando ",(0,a.jsx)(n.code,{children:"This"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["If ",(0,a.jsx)(n.em,{children:"formulaExp"})," uses local variables, their values are copied and stored in the returned formula object when it is created. Quando executados, a f\xf3rmula usa esses valores copiados ao inv\xe9s do valor atual da vari\xe1vel local. Note que usar arrays como vari\xe1veis locais n\xe3o s\xe3o compat\xedveis."]}),"\n",(0,a.jsxs)(n.p,{children:["The object created by ",(0,a.jsx)(n.code,{children:"Formula"})," can be saved, for example, in a database field or in a blob document."]}),"\n",(0,a.jsx)(n.h4,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,a.jsx)(n.p,{children:"Uma f\xf3rmula simples:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:' var $f : 4D. Function\n $f:=Formula(1+2)\n\n var $o : Object\n $o:=New object("f";$f)\n\n $result:=$o.f() // devolu\xe7\xf5es 3\n'})}),"\n",(0,a.jsx)(n.h4,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,a.jsx)(n.p,{children:"Uma f\xf3rmula usando um m\xe9todo projeto com par\xe2metros:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\n\n $value:=10\n $o:=New object("f";Formula($value))\n $value:=20\n\n $result:=$o.f() // retorna 10\n'})}),"\n",(0,a.jsx)(n.h4,{id:"exemplo-3",children:"Exemplo 3"}),"\n",(0,a.jsx)(n.p,{children:"Uma f\xf3rmula usando vari\xe1veis locais:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:' $o:=New object("f";Formula($1+$2))\n $result:=$o.f(10;20) //retorna 30\n'})}),"\n",(0,a.jsx)(n.h4,{id:"exemplo",children:"Exemplo"}),"\n",(0,a.jsx)(n.p,{children:"Uma f\xf3rmula simples usando par\xe2metros:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:' $o:=New object("f";Formula(myMethod))\n $result:=$o.f("param1";"param2") // equivalent to $result:=myMethod("param1";"param2")\n'})}),"\n",(0,a.jsx)(n.h4,{id:"exemplo-2-1",children:"Exemplo 2"}),"\n",(0,a.jsxs)(n.p,{children:["Usando ",(0,a.jsx)(n.code,{children:"This"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:' $o:=New object("fullName";Formula(This.firstName+" "+This.lastName))\n $o.firstName:="John"\n $o.lastName:="Smith"\n $result:=$o.fullName() //retorna "John Smith"\n'})}),"\n",(0,a.jsx)(n.h4,{id:"exemplo-6",children:"Exemplo 6"}),"\n",(0,a.jsx)(n.p,{children:"Chamar uma f\xf3rmula usando nota\xe7\xe3o de objeto:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:' var $feta; $robot : Object\n var $calc : 4D. Function\n $robot:=New object("name";"Robot";"price";543;"quantity";2)\n $feta:=New object("name";"Feta";"price";12.5;"quantity";5)\n\n $calc:=Formula(This.total:=This.price*This.quantity)\n\n  //estabelece a f\xf3rmula \xe0s propriedades objeto\n $feta.calc:=$calc\n $robot.calc:=$calc\n\n  //chame a f\xf3rmula\n $feta.calc() // $feta={name:Feta,price:12.5,quantity:5,total:62.5,calc:"[object Formula]"}\n $robot.calc() // $robot={name:Robot,price:543,quantity:2,total:1086,calc:"[object Formula]"}\n'})}),"\n",(0,a.jsx)(n.h4,{id:"veja-tamb\xe9m",children:"Veja tamb\xe9m"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://blog.4d.com/new-formula-more-power-behind-simplicity/",children:"4D Blog - Formula: More power behind simplicity"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"https://blog.4d.com/new-formula-think-outside-the-box/",children:"4D Blog - Formula: Think outside the box"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"https://blog.4d.com/write-your-own-methods-for-objects/",children:"4D Blog - Write your own methods for objects"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/pt/commands/formula-from-string",children:"Formula from string"})]}),"\n",(0,a.jsx)(n.h4,{id:"propriedades",children:"Propriedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Command number"}),(0,a.jsx)(n.td,{children:"1597"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Thread safe"}),(0,a.jsx)(n.td,{children:"&check;"})]})]})]})]})}function m(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}},250065:function(e,n,o){o.d(n,{Z:function(){return t},a:function(){return l}});var r=o(667294);let a={},s=r.createContext(a);function l(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);