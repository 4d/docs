"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[89305],{603905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var r=a(667294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),s=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,p=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=s(a),u=n,k=c["".concat(p,".").concat(u)]||c[u]||m[u]||l;return a?r.createElement(k,o(o({ref:t},d),{},{components:a})):r.createElement(k,o({ref:t},d))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,o=new Array(l);o[0]=c;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:n,o[1]=i;for(var s=2;s<l;s++)o[s]=a[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},540074:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>p,toc:()=>d});a(667294);var r=a(603905);function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}const o={id:"ZipArchiveClass",title:"ZIPArchive"},i=void 0,p={unversionedId:"API/ZipArchiveClass",id:"version-20-R5/API/ZipArchiveClass",title:"ZIPArchive",description:'A 4D ZIP archive is a File or Folder object containing one or more files or folders, which are compressed to be smaller than their original size. Esses arquivos s\xe3o criados com uma extens\xe3o ".zip" e podem ser usados para poupar espa\xe7o em disco ou transferir arquivos via meios que tenham limita\xe7\xf5es de tamanho (por exemplo, um email ou por uma rede).',source:"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R5/API/ZipArchiveClass.md",sourceDirName:"API",slug:"/API/ZipArchiveClass",permalink:"/docs/pt/API/ZipArchiveClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FZipArchiveClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"ZipArchiveClass",title:"ZIPArchive"},sidebar:"docs",previous:{title:"WebSocketServer",permalink:"/docs/pt/API/WebSocketServerClass"},next:{title:"ZIPFile",permalink:"/docs/pt/API/ZipFileClass"}},s={},d=[{value:"Exemplo",id:"exemplo",level:3},{value:"Resumo",id:"resumo",level:3},{value:"ZIP Create archive",id:"zip-create-archive",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo 1",id:"exemplo-1",level:4},{value:"Exemplo 2",id:"exemplo-2",level:4},{value:"Exemplo 3",id:"exemplo-3",level:4},{value:"Exemplo",id:"exemplo-4",level:4},{value:"Exemplo 2",id:"exemplo-2-1",level:4},{value:"ZIP Read archive",id:"zip-read-archive",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:4},{value:"Exemplo",id:"exemplo-5",level:4},{value:".root",id:"root",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:4}],m={toc:d};function c(e){var{components:t}=e,a=l(e,["components"]);return(0,r.kt)("wrapper",n({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"A 4D ZIP archive is a ",(0,r.kt)("inlineCode",{parentName:"p"},"File")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"Folder"),' object containing one or more files or folders, which are compressed to be smaller than their original size. Esses arquivos s\xe3o criados com uma extens\xe3o ".zip" e podem ser usados para poupar espa\xe7o em disco ou transferir arquivos via meios que tenham limita\xe7\xf5es de tamanho (por exemplo, um email ou por uma rede).'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You create a 4D ZIP archive with the ",(0,r.kt)("a",n({parentName:"li"},{href:"#zip-create-archive"}),"ZIP Create archive")," command."),(0,r.kt)("li",{parentName:"ul"},"4D ",(0,r.kt)("a",n({parentName:"li"},{href:"/docs/pt/API/ZipFileClass"}),(0,r.kt)("inlineCode",{parentName:"a"},"ZIPFile"))," and ",(0,r.kt)("a",n({parentName:"li"},{href:"/docs/pt/API/ZipFolderClass"}),(0,r.kt)("inlineCode",{parentName:"a"},"ZIPFolder"))," instances are available through the ",(0,r.kt)("a",n({parentName:"li"},{href:"#root"}),(0,r.kt)("inlineCode",{parentName:"a"},"root"))," property (",(0,r.kt)("inlineCode",{parentName:"li"},"ZIPFolder"),") of the object returned by ",(0,r.kt)("a",n({parentName:"li"},{href:"#zip-read-archive"}),"ZIP Read archive")," command.")),(0,r.kt)("h3",n({},{id:"exemplo"}),"Exemplo"),(0,r.kt)("p",null,"Para recuperar e ver os conte\xfados de um objeto ZIP file:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'var $path; $archive : 4D. File\nvar $zipFile : 4D. ZipFile\nvar $zipFolder : 4D. ZipFolder\nvar $txt : Text\n\n$path:=Folder(fk desktop folder).file("MyDocs/Archive.zip")\n$archive:=ZIP Read archive($path)\n$zipFolder:=$archive.root // store the zip main folder\n$zipFile:=$zipFolder.files()[0] //read the first zipped file If($zipFile.extension=".txt")\n $txt:=$zipFile.getText()\nEnd if\n')),(0,r.kt)("h3",n({},{id:"resumo"}),"Resumo"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",n({parentName:"tr"},{align:null})))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),(0,r.kt)("a",n({parentName:"td"},{href:"#root"}),(0,r.kt)("strong",{parentName:"a"},".root")," : 4D.ZipFolder"),(0,r.kt)("br",null),"a virtual folder providing access to the contents of the ZIP archive")))),(0,r.kt)("h2",n({},{id:"zip-create-archive"}),"ZIP Create archive"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Hist\xf3ria"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Release"),(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"19 R3"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Added ",(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Compression LZMA"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Compression xy"),", ",(0,r.kt)("inlineCode",{parentName:"td"},".level")," property")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"18"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Adicionado"))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"ZIP Create archive")," ( ",(0,r.kt)("em",{parentName:"p"},"fileToZip")," : 4D.File ; ",(0,r.kt)("em",{parentName:"p"},"destinationFile")," : 4D.File ) : Object",(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"p"},"ZIP Create archive")," ( ",(0,r.kt)("em",{parentName:"p"},"folderToZip")," : 4D.Folder ; ",(0,r.kt)("em",{parentName:"p"},"destinationFile")," : 4D.File { ; ",(0,r.kt)("em",{parentName:"p"},"options")," : Integer }) : Object",(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"p"},"ZIP Create archive")," ( ",(0,r.kt)("em",{parentName:"p"},"zipStructure")," : Object ; ",(0,r.kt)("em",{parentName:"p"},"destinationFile")," : 4D.File ) : Object"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Tipo"),(0,r.kt)("th",n({parentName:"tr"},{align:"center"})),(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"fileToZip"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"4D. File"),(0,r.kt)("td",n({parentName:"tr"},{align:"center"}),"->"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Objeto File ou Folder a comprimir")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"folderToZip"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"4D. Folder"),(0,r.kt)("td",n({parentName:"tr"},{align:"center"}),"->"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Objeto File ou Folder a comprimir")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"zipStructure"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Object"),(0,r.kt)("td",n({parentName:"tr"},{align:"center"}),"->"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Objeto File ou Folder a comprimir")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"destinationFile"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"4D. File"),(0,r.kt)("td",n({parentName:"tr"},{align:"center"}),"->"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Arquivo destino para o arquivo")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"options"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Integer"),(0,r.kt)("td",n({parentName:"tr"},{align:"center"}),"->"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),(0,r.kt)("em",{parentName:"td"},"folderToZip")," option: ",(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Without enclosing folder"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Resultados"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Object"),(0,r.kt)("td",n({parentName:"tr"},{align:"center"}),"<-"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Objeto de estado")))),(0,r.kt)("h4",n({},{id:"descri\xe7\xe3o"}),"Descri\xe7\xe3o"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"ZIP Create archive")," command creates a compressed ZIP archive object and returns the status of the operation."),(0,r.kt)("p",null,"You can pass a 4D. File, a 4D. Folder, or a zip structure object as first parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("em",{parentName:"p"},"fileToZip"),": You simply pass a ",(0,r.kt)("inlineCode",{parentName:"p"},"4D.File")," to compress.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("em",{parentName:"p"},"folderToZip"),": You pass a ",(0,r.kt)("inlineCode",{parentName:"p"},"4D.Folder")," to compress. In this case, the ",(0,r.kt)("em",{parentName:"p"},"options")," parameter allows you to compress only the contents of the folder (i.e., exclude the enclosing folder). By default, ",(0,r.kt)("inlineCode",{parentName:"p"},"ZIP Create archive")," will compress the folder and its contents, so that the decompressing operation will recreate a folder. If you want the decompressing operation to restore only the contents of the folder, pass the ",(0,r.kt)("inlineCode",{parentName:"p"},"ZIP Without enclosing folder")," constant in the ",(0,r.kt)("em",{parentName:"p"},"options")," parameter.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("em",{parentName:"p"},"zipStructure"),": You pass an object describing the ZIP archive object. As propriedades abaixo est\xe3o dispon\xedveis para definir a estrutura:"))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Propriedade"),(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Tipo"),(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"compression"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Integer"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Compression standard"),": Deflate compression (default)"),(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Compression LZMA"),": LZMA compression"),(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Compression XZ"),": XZ compression"),(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Compression none"),": No compression"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"level"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Integer"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"N\xedvel de compress\xe3o. Valores poss\xedveis: de 1 a 10. Um valor pequeno produz um arquivo de maior tamanho, enquanto um valor grande produz um arquivo de tamanho menor. O n\xedvel de compacta\xe7\xe3o tem um impacto na performance. Default values if omitted: ",(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Compression standard"),": 6"),(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Compression LZMA"),": 4"),(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Compression XZ"),": 4"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"encryption"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Integer"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"The encryption to use if a password is set:",(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Encryption AES128"),": AES encryption using 128-bit key."),(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Encryption AES192"),": AES encryption using 192-bit key."),(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Encryption AES256"),": AES encryption using 256-bit key (default if password is set)."),(0,r.kt)("li",null,(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Encryption none"),": Data is not encrypted (default if no password is set)"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"senha"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Text"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Uma senha a usar se a criptografia for necess\xe1ria.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"files"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Collection"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),(0,r.kt)("li",null,"a collection of ",(0,r.kt)("inlineCode",{parentName:"td"},"4D.File")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"4D.Folder")," objects or"),(0,r.kt)("li",null,"a collection of objects with the following properties:"),(0,r.kt)("table",null,(0,r.kt)("tr",null,(0,r.kt)("td",null,"Property"),(0,r.kt)("td",null,"Type"),(0,r.kt)("td",null,"Description")),(0,r.kt)("tr",null,(0,r.kt)("td",null,"source"),(0,r.kt)("td",null,"4D.File or 4D.Folder"),(0,r.kt)("td",null,"File or Folder")),(0,r.kt)("tr",null,(0,r.kt)("td",null,"destination"),(0,r.kt)("td",null,"Text"),(0,r.kt)("td",null,"(optional) - Specify a relative filepath to change the organization of the contents of the archive")),(0,r.kt)("tr",null,(0,r.kt)("td",null,"option"),(0,r.kt)("td",null,"number"),(0,r.kt)("td",null,"(optional) - ",(0,r.kt)("inlineCode",{parentName:"td"},"ZIP Ignore invisible files")," or 0 to compress all of the file"))))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"callback"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"4D. Function"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Uma f\xf3rmula de callback (retrochamada) que recebe o progresso da compacta\xe7\xe3o (0-100) em $1.")))),(0,r.kt)("p",null,"In the ",(0,r.kt)("em",{parentName:"p"},"destinationFile")," parameter, pass a ",(0,r.kt)("inlineCode",{parentName:"p"},"4D.File"),' object describing the ZIP archive to create (name, location, etc.). \xc9 recomendado usar a extens\xe3o ".zip" se quiser que o arquivo ZIP seja processado automaticamente por um software.'),(0,r.kt)("p",null,"Once an archive is created, you can use the ",(0,r.kt)("a",n({parentName:"p"},{href:"#zip-read-archive"}),"ZIP Read archive")," command to access it."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Status object")),(0,r.kt)("p",null,"O estado do objeto retornado cont\xe9m as propriedades abaixo:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Propriedade"),(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Tipo"),(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"statusText"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Text"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Error message (if any):",(0,r.kt)("li",null,"Cannot open ZIP archive"),(0,r.kt)("li",null,"Cannot create ZIP archive"),(0,r.kt)("li",null,"Password is required for encryption"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"status"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Integer"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"C\xf3digo de estado")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"success"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"True se o arquivo for criado com sucesso, sen\xe3o false")))),(0,r.kt)("h4",n({},{id:"exemplo-1"}),"Exemplo 1"),(0,r.kt)("p",null,"To compress a ",(0,r.kt)("inlineCode",{parentName:"p"},"4D.File"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),' var $file; $destination : 4D.File\n var $status : Object\n\n $destination:=Folder(fk desktop folder).file("MyDocs/file.zip")\n $file:=Folder(fk desktop folder).file("MyDocs/text.txt")\n\n $status:=ZIP Create archive($file;$destination)\n')),(0,r.kt)("h4",n({},{id:"exemplo-2"}),"Exemplo 2"),(0,r.kt)("p",null,"To compress a ",(0,r.kt)("inlineCode",{parentName:"p"},"4D.Folder")," without the folder itself:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),' var $folder : 4D.Folder\n var $destination : 4D.File\n var $status : Object\n\n $destination:=Folder(fk desktop folder).file("MyDocs/Images.zip")\n $folder:=Folder(fk desktop folder).folder("MyDocs/Images")\n\n $status:=ZIP Create archive($folder;$destination;ZIP Without enclosing folder)\n')),(0,r.kt)("h4",n({},{id:"exemplo-3"}),"Exemplo 3"),(0,r.kt)("p",null,"Para compactar uma estrutura de arquivo ZIP sem uma senha e barra de progresso:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),' var $destination : 4D.File\n var $zip;$status : Object\n var progID : Integer\n\n $destination:=Folder(fk desktop folder).file("MyDocs/Archive.zip")\n\n $zip:=New object\n $zip.files:=Folder(fk desktop folder).folder("MyDocs/Resources").folders()\n $zip.password:="password"\n $zip.callback:=Formula(myFormulaCompressingMethod($1))\n\n progID:=Progress New //we use the 4D Progress component\n\n $status:=ZIP Create archive($zip;$destination)\n\n Progress QUIT(progID)\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"myFormulaCompressingMethod"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"})," var $1 : Integer\n Progress SET PROGRESS(progID;Num($1/100))\n")),(0,r.kt)("h4",n({},{id:"exemplo-4"}),"Exemplo"),(0,r.kt)("p",null,"You want to pass a collection of folders and files to compress to the ",(0,r.kt)("em",{parentName:"p"},"zipStructure")," object:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),' var $destination : 4D.File\n var $zip;$err : Object\n $zip:=New object\n $zip.files:=New collection\n $zip.files.push(New object("source";Folder(fk desktop folder).file("Tests/text.txt")))\n $zip.files.push(New object("source";Folder(fk desktop folder).file("Tests/text2.txt")))\n $zip.files.push(New object("source";Folder(fk desktop folder).file("Images/image.png")))\n\n $destination:=Folder(fk desktop folder).file("file.zip")\n $err:=ZIP Create archive($zip;$destination)\n')),(0,r.kt)("h4",n({},{id:"exemplo-2-1"}),"Exemplo 2"),(0,r.kt)("p",null,"Deseja utilizar um algoritmo de compress\xe3o alternativo com um elevado n\xedvel de compress\xe3o:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'var $destination : 4D. File\nvar $zip; $err : Object\n\n$zip:=New object\n$zip.files:=New collection\n$zip.files.push(Folder(fk desktop folder).folder("images"))\n$zip.compression:=ZIP Compression LZMA\n$zip.level:=7 //padr\xe3o \xe9 4\n\n$destination:=Folder(fk desktop folder).file("images.zip")\n$err:=ZIP Create archive($zip; $destination)\n')),(0,r.kt)("h2",n({},{id:"zip-read-archive"}),"ZIP Read archive"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Hist\xf3ria"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Release"),(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"18"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Adicionado"))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"ZIP Read archive")," ( ",(0,r.kt)("em",{parentName:"p"},"zipFile")," : 4D.File { ; ",(0,r.kt)("em",{parentName:"p"},"password")," : Text }) : 4D.ZipArchive"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Tipo"),(0,r.kt)("th",n({parentName:"tr"},{align:"center"})),(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"zipFile"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"4D. File"),(0,r.kt)("td",n({parentName:"tr"},{align:"center"}),"->"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Arquivos Zip")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"senha"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Text"),(0,r.kt)("td",n({parentName:"tr"},{align:"center"}),"->"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Senha do arquivo ZIP, se houver")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Resultados"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,r.kt)("td",n({parentName:"tr"},{align:"center"}),"<-"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"Objeto arquivo")))),(0,r.kt)("h4",n({},{id:"descri\xe7\xe3o-1"}),"Descri\xe7\xe3o"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"ZIP Read archive")," command retrieves the contents of ",(0,r.kt)("em",{parentName:"p"},"zipFile")," and returns it as a ",(0,r.kt)("inlineCode",{parentName:"p"},"4D.ZipArchive")," object."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"O comando n\xe3o descompacta o arquivo ZIP, apenas oferece uma vis\xe3o de seus conte\xfados. To extract the contents of an archive, you need to use methods such as ",(0,r.kt)("a",n({parentName:"p"},{href:"/docs/pt/API/Document#copyto"}),"file.copyTo()")," or ",(0,r.kt)("a",n({parentName:"p"},{href:"/docs/pt/API/Directory#copyto"}),"folder.copyTo()"),".")),(0,r.kt)("p",null,"Pass a ",(0,r.kt)("inlineCode",{parentName:"p"},"4D.File")," object referencing the compressed ZIP archive in the ",(0,r.kt)("em",{parentName:"p"},"zipFile")," parameter. The target archive file will be opened until the ",(0,r.kt)("inlineCode",{parentName:"p"},"ZIP Read archive")," has finished executing and all contents/references have been extracted/released, then it will be closed automatically."),(0,r.kt)("p",null,"If the ",(0,r.kt)("em",{parentName:"p"},"zipFile")," is password protected, you need to use the optional ",(0,r.kt)("em",{parentName:"p"},"password")," parameter to provide a password. Se uma senha for exigida mas n\xe3o for passada, quando tentar ler os conte\xfados do arquivo um erro ser\xe1 gerado."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Archive object")),(0,r.kt)("p",null,"The returned ",(0,r.kt)("inlineCode",{parentName:"p"},"4D.ZipArchive")," object contains a single ",(0,r.kt)("a",n({parentName:"p"},{href:"#root"}),(0,r.kt)("inlineCode",{parentName:"a"},"root"))," property whose value is a ",(0,r.kt)("inlineCode",{parentName:"p"},"4D.ZipFolder")," object. Esta pasta descreve todo o conte\xfado do ficheiro ZIP."),(0,r.kt)("h4",n({},{id:"exemplo-5"}),"Exemplo"),(0,r.kt)("p",null,"Para recuperar e ver os conte\xfados de um objeto ZIP file:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),' var $archive : 4D.ZipArchive\n var $path : 4D.File\n\n $path:=Folder(fk desktop folder).file("MyDocs/Archive.zip")\n $archive:=ZIP Read archive($path)\n')),(0,r.kt)("p",null,"Para recuperar a lista dos arquivos e pastas no arquivo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"})," $folders:=$archive.root.folders()\n $files:=$archive.root.files()\n")),(0,r.kt)("p",null,"Para extrair da pasta root:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'\n If($files[$i].extension=".txt")\n    $txt:=$files[$i].getText()\n Else\n    $blob:=$files[$i].getContent()\n End if\n')),(0,r.kt)("p",null,"Para ler todos os conte\xfados de um arquivo sem extra\xed-lo da pasta root:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'  //extract a file\n $folderResult:=$files[$i].copyTo(Folder(fk desktop folder).folder("MyDocs"))\n\n  //extract all files\n $folderResult:=$archive.root.copyTo(Folder(fk desktop folder).folder("MyDocs"))\n')),(0,r.kt)("h2",n({},{id:"root"}),".root"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},".root")," : 4D.ZipFolder"),(0,r.kt)("h4",n({},{id:"descri\xe7\xe3o-2"}),"Descri\xe7\xe3o"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},".root")," property contains a virtual folder providing access to the contents of the ZIP archive."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"root")," folder and its contents can be manipulated with the ",(0,r.kt)("a",n({parentName:"p"},{href:"/docs/pt/API/ZipFileClass"}),"ZipFile")," and ",(0,r.kt)("a",n({parentName:"p"},{href:"/docs/pt/API/ZipFolderClass"}),"ZipFolder")," functions and properties."),(0,r.kt)("p",null,"Essa propriedade \xe9 ",(0,r.kt)("strong",{parentName:"p"},"somente leitura"),"."))}c.isMDXComponent=!0}}]);