"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[74820],{603905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>c});var n=a(667294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),s=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):d(d({},t),e)),a},p=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=s(a),c=o,k=u["".concat(l,".").concat(c)]||u[c]||m[c]||r;return a?n.createElement(k,d(d({ref:t},p),{},{components:a})):n.createElement(k,d({ref:t},p))}));function c(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,d=new Array(r);d[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,d[1]=i;for(var s=2;s<r;s++)d[s]=a[s];return n.createElement.apply(null,d)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},893658:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>d,metadata:()=>l,toc:()=>p});a(667294);var n=a(603905);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function r(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}const d={id:"method",title:"$method"},i=void 0,l={unversionedId:"REST/method",id:"version-20-R5/REST/method",title:"$method",description:"Este par\xe2metro permite-lhe definir a opera\xe7\xe3o a executar com a entidade ou a sele\xe7\xe3o de entidades devolvida.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R5/REST/$method.md",sourceDirName:"REST",slug:"/REST/method",permalink:"/docs/pt/REST/method",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2F%24method.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"method",title:"$method"},sidebar:"docs",previous:{title:"$lock",permalink:"/docs/pt/REST/lock"},next:{title:"$orderby",permalink:"/docs/pt/REST/orderby"}},s={},p=[{value:"Sintaxe dispon\xedvel",id:"sintaxe-dispon\xedvel",level:2},{value:"$method=delete",id:"methoddelete",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:3},{value:"Exemplo",id:"exemplo",level:3},{value:"$method=entityset",id:"methodentityset",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:3},{value:"Exemplo",id:"exemplo-1",level:3},{value:"$method=release",id:"methodrelease",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:3},{value:"Exemplo",id:"exemplo-2",level:3},{value:"Responsa:",id:"responsa",level:4},{value:"$method=subentityset",id:"methodsubentityset",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-3",level:3},{value:"Exemplo",id:"exemplo-3",level:3},{value:"Responsa:",id:"responsa-1",level:4},{value:"$method=update",id:"methodupdate",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-4",level:3}],m={toc:p};function u(e){var{components:t}=e,a=r(e,["components"]);return(0,n.kt)("wrapper",o({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Este par\xe2metro permite-lhe definir a opera\xe7\xe3o a executar com a entidade ou a sele\xe7\xe3o de entidades devolvida."),(0,n.kt)("h2",o({},{id:"sintaxe-dispon\xedvel"}),"Sintaxe dispon\xedvel"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:null}),"Sintaxe"),(0,n.kt)("th",o({parentName:"tr"},{align:null}),"Exemplo"),(0,n.kt)("th",o({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null}),(0,n.kt)("a",o({parentName:"td"},{href:"#methoddelete"}),(0,n.kt)("strong",{parentName:"a"},"$method=delete"))),(0,n.kt)("td",o({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},'POST /Employee?$filter="ID=11"& $method=delete')),(0,n.kt)("td",o({parentName:"tr"},{align:null}),"Elimina a entidade, cole\xe7\xe3o de entidades ou sele\xe7\xe3o de entidades atual")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null}),(0,n.kt)("a",o({parentName:"td"},{href:"#methodentityset"}),(0,n.kt)("strong",{parentName:"a"},"$method=entityset"))),(0,n.kt)("td",o({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},'GET /People/?$filter="ID>320"& $method=entityset& $timeout=600')),(0,n.kt)("td",o({parentName:"tr"},{align:null}),"Cria um conjunto de entidades no cache do 4D Server baseado na cole\xe7\xe3o de entidades definidas no pedido REST")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null}),(0,n.kt)("a",o({parentName:"td"},{href:"#methodrelease"}),(0,n.kt)("strong",{parentName:"a"},"$method=release"))),(0,n.kt)("td",o({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"GET /Employee/$entityset/<entitySetID>?$method=release")),(0,n.kt)("td",o({parentName:"tr"},{align:null}),"Libera um conjunto de entidades existente armazenado no cache do 4D Server")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null}),(0,n.kt)("a",o({parentName:"td"},{href:"#methodsubentityset"}),(0,n.kt)("strong",{parentName:"a"},"$method=subentityset"))),(0,n.kt)("td",o({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"GET /Company(1)/staff?$expand=staff& $method=subentityset&   $subOrderby=lastName ASC")),(0,n.kt)("td",o({parentName:"tr"},{align:null}),"Cria um conjunto de entidades com base na cole\xe7\xe3o de entidades relacionadas definidas no pedido REST")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null}),(0,n.kt)("a",o({parentName:"td"},{href:"#methodupdate"}),(0,n.kt)("strong",{parentName:"a"},"$method=update"))),(0,n.kt)("td",o({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"POST /Person/?$method=update")),(0,n.kt)("td",o({parentName:"tr"},{align:null}),"Actualiza e/ou cria uma ou mais entidades")))),(0,n.kt)("h2",o({},{id:"methoddelete"}),"$method=delete"),(0,n.kt)("p",null,"Elimina a entidade, cole\xe7\xe3o de entidades ou sele\xe7\xe3o de entidades atual (criada atrav\xe9s de REST)"),(0,n.kt)("h3",o({},{id:"descri\xe7\xe3o"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"Con ",(0,n.kt)("inlineCode",{parentName:"p"},"$method=delete"),", puede eliminar una entidad o una colecci\xf3n de entidades entera. You can define the collection of entities by using, for example, ",(0,n.kt)("a",o({parentName:"p"},{href:"/docs/pt/REST/filter"}),(0,n.kt)("inlineCode",{parentName:"a"},"$filter"))," or specifying one directly using ",(0,n.kt)("a",o({parentName:"p"},{href:"%7BdataClass%7D.html#dataclasskey"}),(0,n.kt)("inlineCode",{parentName:"a"},"{dataClass}({key})"))," ",(0,n.kt)("em",{parentName:"p"},"(e.g."),", /Employee(22))."),(0,n.kt)("p",null,"You can also delete the entities in an entity set, by calling ",(0,n.kt)("a",o({parentName:"p"},{href:"/docs/pt/REST/entityset#entitysetentitysetid"}),(0,n.kt)("inlineCode",{parentName:"a"},"$entityset/{entitySetID}")),"."),(0,n.kt)("h3",o({},{id:"exemplo"}),"Exemplo"),(0,n.kt)("p",null,"Pode ent\xe3o escrever o seguinte pedido REST para eliminar a entidade cuja chave \xe9 22:"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee(22)/?$method=delete")),(0,n.kt)("p",null,"Tamb\xe9m \xe9 poss\xedvel efetuar uma consulta utilizando $filter:"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},'POST  /rest/Employee?$filter="ID=11"&$method=delete')),(0,n.kt)("p",null,"Tamb\xe9m \xe9 poss\xedvel eliminar um conjunto de entidades utilizando $entityset/{entitySetID}:"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee/$entityset/73F46BE3A0734EAA9A33CA8B14433570?$method=delete")),(0,n.kt)("p",null,"Responsa:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-json"}),'{\n    "ok": true\n}\n')),(0,n.kt)("h2",o({},{id:"methodentityset"}),"$method=entityset"),(0,n.kt)("p",null,"Cria um conjunto de entidades no cache do 4D Server baseado na cole\xe7\xe3o de entidades definidas no pedido REST"),(0,n.kt)("h3",o({},{id:"descri\xe7\xe3o-1"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"Quando cria uma cole\xe7\xe3o de entidades em REST, pode tamb\xe9m criar um conjunto de entidades que ser\xe1 guardado na cache do 4D Server. El conjunto de entidades tendr\xe1 un n\xfamero de referencia que puede pasar a ",(0,n.kt)("inlineCode",{parentName:"p"},"$entityset/{entitySetID}")," para acceder a \xe9l. Por padr\xe3o, \xe9 v\xe1lido durante duas horas; no entanto, pode modificar esse tempo passando um valor (em segundos) para $timeout."),(0,n.kt)("p",null,"Si ha utilizado ",(0,n.kt)("inlineCode",{parentName:"p"},"$savedfilter")," y/o ",(0,n.kt)("inlineCode",{parentName:"p"},"$savedorderby")," (junto con ",(0,n.kt)("inlineCode",{parentName:"p"},"$filter")," y/o ",(0,n.kt)("inlineCode",{parentName:"p"},"$orderby"),") cuando cre\xf3 su conjunto de entidades, puede volver a crearlo con el mismo ID de referencia aunque se haya eliminado de la cach\xe9 de 4D Server."),(0,n.kt)("h3",o({},{id:"exemplo-1"}),"Exemplo"),(0,n.kt)("p",null,"Para crear un conjunto de entidades, que se guardar\xe1 en la cach\xe9 de 4D Server durante dos horas, a\xf1ada ",(0,n.kt)("inlineCode",{parentName:"p"},"$method=entityset")," al final de su petici\xf3n REST:"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},'GET  /rest/People/?$filter="ID>320"&$method=entityset')),(0,n.kt)("p",null,"Puede crear un conjunto de entidades que se almacenar\xe1 en la cach\xe9 de 4D Server durante s\xf3lo diez minutos pasando un nuevo tiempo de espera a ",(0,n.kt)("inlineCode",{parentName:"p"},"$timeout"),":"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},'GET  /rest/People/?$filter="ID>320"&$method=entityset&$timeout=600')),(0,n.kt)("p",null,"Tambi\xe9n puede guardar el filtro y ordenar por, pasando true a ",(0,n.kt)("inlineCode",{parentName:"p"},"$savedfilter")," y ",(0,n.kt)("inlineCode",{parentName:"p"},"$savedorderby"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("inlineCode",{parentName:"p"},"$skip")," y ",(0,n.kt)("inlineCode",{parentName:"p"},"$top/$limit")," no se tienen en cuenta al guardar un conjunto de entidades.")),(0,n.kt)("p",null,"Despu\xe9s de crear un conjunto de entidades, el primer elemento, ",(0,n.kt)("inlineCode",{parentName:"p"},"__ENTITYSET"),", se a\xf1ade al objeto devuelto e indica la URI a utilizar para acceder al conjunto de entidades:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-json"}),'__ENTITYSET: "http://127.0.0.1:8081/rest/Employee/$entityset/9718A30BF61343C796345F3BE5B01CE7"`\n')),(0,n.kt)("h2",o({},{id:"methodrelease"}),"$method=release"),(0,n.kt)("p",null,"Libera um conjunto de entidades existente armazenado no cache do 4D Server."),(0,n.kt)("h3",o({},{id:"descri\xe7\xe3o-2"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"You can release an entity set, which you created using ",(0,n.kt)("a",o({parentName:"p"},{href:"#methodentityset"}),(0,n.kt)("inlineCode",{parentName:"a"},"$method=entityset")),", from 4D Server's cache."),(0,n.kt)("h3",o({},{id:"exemplo-2"}),"Exemplo"),(0,n.kt)("p",null,"Mostra um conjunto de entidades existente:"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Employee/$entityset/4C51204DD8184B65AC7D79F09A077F24?$method=release")),(0,n.kt)("h4",o({},{id:"responsa"}),"Responsa:"),(0,n.kt)("p",null,"Se o pedido for bem sucedido, \xe9 devolvida a seguinte resposta:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-json"}),'{\n    "ok": true\n} If the entity set wasn\'t found, an error is returned:\n\n{\n    "__ERROR": [\n        {\n            "message": "Error code: 1802\\nEntitySet  \\"4C51204DD8184B65AC7D79F09A077F24\\" cannot be found\\ncomponent:  \'dbmg\'\\ntask 22, name: \'HTTP connection handler\'\\n",\n            "componentSignature": "dbmg",\n            "errCode": 1802\n        }\n    ]\n}\n')),(0,n.kt)("h2",o({},{id:"methodsubentityset"}),"$method=subentityset"),(0,n.kt)("p",null,"Cria um conjunto de entidades no cache do 4D Server baseado na cole\xe7\xe3o de entidades relacionadas definidas no pedido REST"),(0,n.kt)("h3",o({},{id:"descri\xe7\xe3o-3"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"$method=subentityset")," permite ordenar los datos devueltos por el atributo relacional definido en la petici\xf3n REST."),(0,n.kt)("p",null,"Para ordenar los datos, se utiliza la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},"$subOrderby"),". Para cada atributo, especifica a ordem como ASC (ou asc) para ordem ascendente e DESC (desc) para ordem descendente. Por defeito, os dados s\xe3o ordenados por ordem ascendente."),(0,n.kt)("p",null,"Si desea especificar varios atributos, puede delimitarlos con una coma, \xb5, ",(0,n.kt)("inlineCode",{parentName:"p"},'$subOrderby="lastName desc, firstName asc"'),"."),(0,n.kt)("h3",o({},{id:"exemplo-3"}),"Exemplo"),(0,n.kt)("p",null,"Se pretender recuperar apenas as entidades relacionadas para uma entidade espec\xedfica, pode efetuar o seguinte pedido REST em que staff \xe9 o atributo de rela\xe7\xe3o na dataclass Company ligada \xe0 dataclass Employee:"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"}," GET  /rest/Company(1)/staff?$expand=staff&$method=subentityset&$subOrderby=lastName ASC")),(0,n.kt)("h4",o({},{id:"responsa-1"}),"Responsa:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-json"}),'{\n \n    "__ENTITYSET": "/rest/Employee/$entityset/FF625844008E430B9862E5FD41C741AB",\n    "__entityModel": "Employee",\n    "__COUNT": 2,\n    "__SENT": 2,\n    "__FIRST": 0,\n    "__ENTITIES": [\n        {\n            "__KEY": "4",\n            "__STAMP": 1,\n            "ID": 4,\n            "firstName": "Linda",\n            "lastName": "Jones",\n            "birthday": "1970-10-05T14:23:00Z",\n            "employer": {\n                "__deferred": {\n                    "uri": "/rest/Company(1)",\n                    "__KEY": "1"\n                }\n            }\n        },\n        {\n            "__KEY": "1",\n            "__STAMP": 3,\n            "ID": 1,\n            "firstName": "John",\n            "lastName": "Smith",\n            "birthday": "1985-11-01T15:23:00Z",\n            "employer": {\n                "__deferred": {\n                    "uri": "/rest/Company(1)",\n                    "__KEY": "1"\n                }\n            }\n        }\n    ]\n \n}\n')),(0,n.kt)("h2",o({},{id:"methodupdate"}),"$method=update"),(0,n.kt)("p",null,"Actualiza e/ou cria uma ou mais entidades"),(0,n.kt)("h3",o({},{id:"descri\xe7\xe3o-4"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"$method=update")," le permite actualizar y/o crear una o m\xe1s entidades en un solo ",(0,n.kt)("strong",{parentName:"p"},"POST"),". Si se actualiza y/o crea una entidad, se efect\xfaa en un objeto con, para cada propiedad, un atributo y su valor, ",(0,n.kt)("em",{parentName:"p"},"por ejemplo")," ",(0,n.kt)("inlineCode",{parentName:"p"},'{ lastName: "Smith" }'),". Se forem atualizadas e/ou criadas v\xe1rias entidades, \xe9 necess\xe1rio criar uma cole\xe7\xe3o de objetos."),(0,n.kt)("p",null,"En cualquier caso, debe definir los ",(0,n.kt)("strong",{parentName:"p"},"POST")," datos en el ",(0,n.kt)("strong",{parentName:"p"},"body")," de la petici\xf3n."),(0,n.kt)("p",null,"Para actualizar una entidad, debes pasar los par\xe1metros ",(0,n.kt)("inlineCode",{parentName:"p"},"__KEY")," y ",(0,n.kt)("inlineCode",{parentName:"p"},"__STAMP")," en el objeto junto con todos los atributos modificados. Si faltan ambos par\xe1metros, se a\xf1adir\xe1 una entidad con los valores del objeto que env\xede en el cuerpo de su ",(0,n.kt)("strong",{parentName:"p"},"POST"),"."),(0,n.kt)("p",null,"Os triggers s\xe3o executados imediatamente ao guardar a entidade no servidor. A resposta cont\xe9m todos os dados tal como existem no servidor."),(0,n.kt)("p",null,"Tambi\xe9n puede poner estas solicitudes para crear o actualizar entidades en una transacci\xf3n llamando a ",(0,n.kt)("inlineCode",{parentName:"p"},"$atomic/$atOnce"),". Se ocorrerem erros durante a valida\xe7\xe3o de dados, nenhuma das entidades \xe9 guardada. Tambi\xe9n puede utilizar ",(0,n.kt)("inlineCode",{parentName:"p"},"$method=validate")," para validar las entidades antes de crearlas o actualizarlas."),(0,n.kt)("p",null,"Se surgir um problema ao adicionar ou modificar uma entidade, ser-lhe-\xe1 enviado um erro com essa informa\xe7\xe3o."),(0,n.kt)("admonition",o({},{type:"note"}),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Las fechas"),' deben expresarse en formato JS: YYYY-MM-DDTHH:MM:SSZ (por ejemplo, "2010-10-05T23:00:00Z"). Se tiver selecionado a propriedade Apenas data para o seu atributo Data, o fuso hor\xe1rio e a hora (hora, minutos e segundos) ser\xe3o removidos. Neste caso, tamb\xe9m pode enviar a data no formato que lhe \xe9 devolvido dd!mm!yyyy (por exemplo, 05!10!2013).'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Booleanos")," son true o false."),(0,n.kt)("li",{parentName:"ul"},"Los archivos subidos mediante ",(0,n.kt)("inlineCode",{parentName:"li"},"$upload")," pueden aplicarse a un atributo de tipo Imagen o BLOB pasando el objeto devuelto en el siguiente formato ",(0,n.kt)("inlineCode",{parentName:"li"},'{ "ID": "D507BC03E613487E9B4C2F6A0512FE50"}'),":::")),(0,n.kt)("h3",o({parentName:"admonition"},{id:"exemplo-4"}),"Exemplo"),(0,n.kt)("p",{parentName:"admonition"},"Para atualizar uma entidade espec\xedfica, utilizar o seguinte URL:"),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Person/?$method=update")),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("strong",{parentName:"p"},"POST data:")),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-json"}),'{\n    __KEY: "340",\n    __STAMP: 2,\n    firstName: "Pete",\n    lastName: "Miller"\n}\n')),(0,n.kt)("p",{parentName:"admonition"},"Os atributos firstName e lastName na entidade indicada acima ser\xe3o modificados, deixando todos os outros atributos (exceto os calculados com base nestes atributos) inalterados."),(0,n.kt)("p",{parentName:"admonition"},"Se voc\xea quiser criar uma entidade, poder\xe1 enviar os atributos via POST usando este URL:"),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Person/?$method=update")),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("strong",{parentName:"p"},"POST data:")),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-json"}),'{ \n    firstName: "John",\n    lastName: "Smith"\n}\n')),(0,n.kt)("p",{parentName:"admonition"},"Tamb\xe9m \xe9 poss\xedvel criar e atualizar v\xe1rias entidades em simult\xe2neo, utilizando o mesmo URL acima, passando v\xe1rios objetos num array para o POST:"),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Person/?$method=update")),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("strong",{parentName:"p"},"POST data:")),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-json"}),'[{ \n    "__KEY": "309",\n    "__STAMP": 5,\n    "ID": "309",\n    "firstName": "Penelope",\n    "lastName": "Miller"\n}, { \n    "firstName": "Ann",\n    "lastName": "Jones"\n}]\n')),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("strong",{parentName:"p"},"Response:")),(0,n.kt)("p",{parentName:"admonition"},"Quando se adiciona ou modifica uma entidade, esta \xe9-lhe devolvida com os atributos modificados. Por exemplo, se criar o novo empregado acima, ser-lhe-\xe1 devolvido o seguinte:"),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-json"}),'{\n    "__KEY": "622", \n    "__STAMP": 1, \n    "uri": "http://127.0.0.1:8081/rest/Employee(622)", \n    "__TIMESTAMP": "!!2020-04-03!!",\n    "ID": 622, \n    "firstName": "John", \n    "firstName": "Smith"\n}\n')),(0,n.kt)("p",{parentName:"admonition"},"Se, por exemplo, o carimbo n\xe3o estiver correto, \xe9 apresentado o seguinte erro:"),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-json"}),'{\n    "__STATUS": {\n        "status": 2,\n        "statusText": "Stamp has changed",\n        "success": false\n    },\n    "__KEY": "1",\n    "__STAMP": 12,\n    "__TIMESTAMP": "!!2020-03-31!!",\n    "ID": 1,\n    "firstname": "Denise",\n    "lastname": "O\'Peters",\n    "isWoman": true,\n    "numberOfKids": 1,\n    "addressID": 1,\n    "gender": true,\n    "imageAtt": {\n        "__deferred": {\n            "uri": "/rest/Persons(1)/imageAtt?$imageformat=best&$version=12&$expand=imageAtt",\n            "image": true\n        }\n    },\n    "extra": {\n        "num": 1,\n        "alpha": "I am 1"\n    },\n    "address": {\n        "__deferred": {\n            "uri": "/rest/Address(1)",\n            "__KEY": "1"\n        }\n    },\n    "__ERROR": [\n        {\n            "message": "Given stamp does not match current one for record# 0 of table Persons",\n            "componentSignature": "dbmg",\n            "errCode": 1263\n        },\n        {\n            "message": "Cannot save record 0 in table Persons of database remote_dataStore",\n            "componentSignature": "dbmg",\n            "errCode": 1046\n        },\n        {\n            "message": "The entity# 1 in the \\"Persons\\" dataclass cannot be saved",\n            "componentSignature": "dbmg",\n            "errCode": 1517\n        }\n    ]\n}{}\n\n'))))}u.isMDXComponent=!0}}]);