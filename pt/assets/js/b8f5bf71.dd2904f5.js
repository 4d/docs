"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["71098"],{464507:function(e,a,o){o.r(a),o.d(a,{metadata:()=>s,contentTitle:()=>t,default:()=>m,assets:()=>i,toc:()=>c,frontMatter:()=>d});var s=JSON.parse('{"id":"commands-legacy/distinct-values","title":"DISTINCT VALUES","description":"DISTINCT VALUES ( campo ; array {; contArray} )","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/distinct-values.md","sourceDirName":"commands-legacy","slug":"/commands/distinct-values","permalink":"/docs/pt/commands/distinct-values","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fdistinct-values.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"distinct-values","title":"DISTINCT VALUES","slug":"/commands/distinct-values","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"DISTINCT ATTRIBUTE VALUES","permalink":"/docs/pt/commands/distinct-attribute-values"},"next":{"title":"Find in array","permalink":"/docs/pt/commands/find-in-array"}}'),r=o("785893"),n=o("250065");let d={id:"distinct-values",title:"DISTINCT VALUES",slug:"/commands/distinct-values",displayed_sidebar:"docs"},t=void 0,i={},c=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo 1",id:"exemplo-1",level:4},{value:"Exemplo 2",id:"exemplo-2",level:4},{value:"Exemplo 3",id:"exemplo-3",level:4},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:4},{value:"Propriedades",id:"propriedades",level:4}];function l(e){let a={a:"a",br:"br",code:"code",em:"em",h4:"h4",h5:"h5",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"DISTINCT VALUES"})," ( ",(0,r.jsx)(a.em,{children:"campo"})," ; ",(0,r.jsx)(a.em,{children:"array"})," {; ",(0,r.jsx)(a.em,{children:"contArray"}),"} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(a.table,{children:[(0,r.jsx)(a.thead,{children:(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.th,{children:"Par\xe2metro"}),(0,r.jsx)(a.th,{children:"Tipo"}),(0,r.jsx)(a.th,{}),(0,r.jsx)(a.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(a.tbody,{children:[(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"campo"}),(0,r.jsx)(a.td,{children:"Field"}),(0,r.jsx)(a.td,{children:"\u2192"}),(0,r.jsx)(a.td,{children:"Campo ou subcampo index\xe1vel a utilizar para dados"})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"array"}),(0,r.jsx)(a.td,{children:"Array"}),(0,r.jsx)(a.td,{children:"\u2190"}),(0,r.jsx)(a.td,{children:"Array a receber os dados do campo"})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"contArray"}),(0,r.jsx)(a.td,{children:"Integer array, Real array"}),(0,r.jsx)(a.td,{children:"\u2190"}),(0,r.jsx)(a.td,{children:"Array a receber o contador de cada valor"})]})]})]}),"\n",(0,r.jsx)(a.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(a.p,{children:["O comando ",(0,r.jsx)(a.strong,{children:"DISTINCT VALUES"})," cria e preenche o array ",(0,r.jsx)(a.em,{children:"array"})," com valores n\xe3o-repetidos (\xfanicos) do campo ",(0,r.jsx)(a.em,{children:"campo"})," para a sele\xe7\xe3o atual da tabela que pertence ao campo ou subcampo."]}),"\n",(0,r.jsxs)(a.p,{children:["Voc\xea pode passar a ",(0,r.jsx)(a.strong,{children:"DISTINCT VALUES"})," qualquer campo index\xe1vel, ou seja, cujo tipo suporte ",(0,r.jsx)(a.strong,{children:"index\xe1vel"}),", sem que necessariamente esteja indexado."]}),"\n",(0,r.jsx)(a.p,{children:"Entretanto, executar este comando com campos n\xe3o index\xe1veis ser\xe1 um processo mais lento. Tamb\xe9m note que neste caso, o comando perde o registro atual."}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"DISTINCT VALUES"})," analisa e extrai os valores n\xe3o repetidos nos registros selecionados."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Nota:"})," quando o comando ",(0,r.jsx)(a.strong,{children:"DISTINCT VALUES"})," \xe9 utilizado durante a transa\xe7\xe3o que n\xe3o tenha terminado ainda, o comando leva em considera\xe7\xe3o os registros criados durante a transa\xe7\xe3o."]}),"\n",(0,r.jsx)(a.p,{children:"Se criar o array antes da chamada, DISTINCT VALUES espera um tipo de array compat\xecvel com o campo que passar. De outra maneira, em modo interpretado, DISTINCT VALUES vai criar um array do tipo apropriado H\xe1 uma exce\xe7\xe3o a essa regra: se o campo \xe9 do tipo Imagem (e est\xe1 associado com um \xedndex de palavras-chave), o array correspondente deve ser do tipo Texto."}),"\n",(0,r.jsxs)(a.p,{children:["Depois de acionado, o tamanho do array \xe9 igual ao n\xfamero de valores distintos encontrados na sele\xe7\xe3o. O comando n\xe3o muda a sele\xe7\xe3o atual nem o registro atual. O comando ",(0,r.jsx)(a.strong,{children:"DISTINCT VALUES"})," usa o index do campo, ent\xe3o os elementos no array s\xe3o devolvidos ordenados em ordem ascendente. Se este \xe9 o comando que necessitam n\xe3o \xe9 preciso acionar ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/sort-array",children:"SORT ARRAY"})," depois de utilizar ",(0,r.jsx)(a.strong,{children:"DISTINCT VALUES"}),"."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Nota:"})," quando ",(0,r.jsx)(a.strong,{children:"DISTINCT VALUES"})," \xe9 executado com um campo de texto associado com um \xedndice de palavras chave, o comando preenche o array com as palavras chave do \xedndice. Diferente de outros tipos de dados, os valores devolvidos diferem de acordo com a exist\xeancia do \xedndex. No caso de um campo de texto, o \xedndex de palavras-chave \xe9 sempre tido em conta, mesmo quando o campo tamb\xe9m \xe9 associado com um \xedndice padr\xe3o. Se o campo texto ou imagem n\xe3o est\xe1 associado com um \xedndice de palavras-chave, o array \xe9 retornado vazio."]}),"\n",(0,r.jsxs)(a.p,{children:["O comando aceita um array ",(0,r.jsx)(a.em,{children:"contArray"})," como um par\xe2metro opcional. Quando se passar, este array devolve, para cada valor n\xe3o repetido em ",(0,r.jsx)(a.em,{children:"campo"}),", o n\xfamero de ocorr\xeancias detectadas na sele\xe7\xe3o atual. O array ",(0,r.jsx)(a.em,{children:"contArray"})," Se dimensiona automaticamente ao n\xfamero de elementos em ",(0,r.jsx)(a.em,{children:"array"}),'. Por exemplo, para uma sele\xe7\xe3o que contenha tr\xeas registros com os valores de campos "A", "B" e "A", ',(0,r.jsx)(a.em,{children:"array"})," conter\xe1 {A;B} e ",(0,r.jsx)(a.em,{children:"contArray"})," contendr\xe1 {2;1}. Pode passar um array Inteiro longo ou Real em ",(0,r.jsx)(a.em,{children:"contArray"}),"."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Nota:"})," o par\xe2metro ",(0,r.jsx)(a.em,{children:"contArray"})," n\xe3o \xe9 suportado para os campos texto ou imagem associados aos \xedndices de palavras chaves (neste contexto, se devolve vazio)."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Advert\xeancia:"})," ",(0,r.jsx)(a.strong,{children:"DISTINCT VALUES"})," pode criar arrays grandes, dependendo do tamanho da sele\xe7\xe3o atual e do tipo e tamanho de dados para carregar. Os arrays residem na mem\xf3ria, portanto \xe9 uma boa id\xe9ia testar o resultado depois que o comando esteja completo. Para fazer isso, teste o tamanho do array resultante ou cubra o chamado do comando, usando um m\xe9todo projeto de intercepta\xe7\xe3o de erro instalado pelo comando ",(0,r.jsx)(a.a,{href:"/docs/pt/commands/on-err-call",children:"ON ERR CALL"}),"."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"4D Server:"})," o comando \xe9 otimizado para 4D Server. O array \xe9 criado e os valores s\xe3o calculados na maquina do servidor. O array \xe9 ent\xe3o enviado, em sua integridade, ao cliente."]}),"\n",(0,r.jsx)(a.h5,{id:""}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Nota:"})," Este comando n\xe3o \xe9 compat\xedvel com campos tipo Objeto"]}),"\n",(0,r.jsx)(a.h4,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,r.jsx)(a.p,{children:"O exemplo a seguir cria uma lista de cidades a partir da sele\xe7\xe3o atual e indica ao usu\xe1rio o n\xfamero de cidades nas quais a empresa tem filiais:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-4d",children:'\xa0ALL RECORDS([Filiais])\xa0// Criar uma sele\xe7\xe3o de registros\n\xa0DISTINCT VALUES([Filiais]Cidade;asCidades)\n\xa0ALERT("A empresa tem filiais em "+String(Size of array(asCidades))+" cidades.")\n'})}),"\n",(0,r.jsx)(a.h4,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,r.jsx)(a.p,{children:'Voc\xea deseja obter uma lista completa de palavras-chaves contidas no \xedndice de palavras-chave do campo "Pictures":'}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-4d",children:"\xa0ALL RECORDS([PICTURES])\n\xa0ARRAY TEXT(<>_MyKeywords;10)\n\xa0DISTINCT VALUES([PICTURES]Photos;<>_MyKeywords)\n"})}),"\n",(0,r.jsx)(a.h4,{id:"exemplo-3",children:"Exemplo 3"}),"\n",(0,r.jsx)(a.p,{children:"Para calcular as estat\xedsticas, se quiser ordenar o n\xfamero de valores distintos em um campo em ordem descendente:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-4d",children:"\xa0ARRAY TEXT($_issue_type;0)\n\xa0ARRAY LONGINT($_issue_type_instance;0)\n\xa0DISTINCT VALUES([Issue]iType;$_issue_type;$_issue_type_instances)\n\xa0SORT ARRAY($_issue_type_instances;$_issue_type;<)\n"})}),"\n",(0,r.jsx)(a.h4,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.a,{href:"/docs/pt/commands/get-text-keywords",children:"GET TEXT KEYWORDS"}),(0,r.jsx)(a.br,{}),"\n",(0,r.jsx)(a.a,{href:"/docs/pt/commands/on-err-call",children:"ON ERR CALL"}),(0,r.jsx)(a.br,{}),"\n",(0,r.jsx)(a.a,{href:"/docs/pt/commands/selection-range-to-array",children:"SELECTION RANGE TO ARRAY"}),(0,r.jsx)(a.br,{}),"\n",(0,r.jsx)(a.a,{href:"/docs/pt/commands/selection-to-array",children:"SELECTION TO ARRAY"})]}),"\n",(0,r.jsx)(a.h4,{id:"propriedades",children:"Propriedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(a.table,{children:[(0,r.jsx)(a.thead,{children:(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.th,{}),(0,r.jsx)(a.th,{})]})}),(0,r.jsxs)(a.tbody,{children:[(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"N\xfamero do comando"}),(0,r.jsx)(a.td,{children:"339"})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"Thread-seguro"}),(0,r.jsx)(a.td,{children:"\u2713"})]})]})]})]})}function m(e={}){let{wrapper:a}={...(0,n.a)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},250065:function(e,a,o){o.d(a,{Z:function(){return t},a:function(){return d}});var s=o(667294);let r={},n=s.createContext(r);function d(e){let a=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(n.Provider,{value:a},e.children)}}}]);