"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["31905"],{265568:function(e,r,s){s.r(r),s.d(r,{frontMatter:()=>i,toc:()=>d,default:()=>h,metadata:()=>t,assets:()=>a,contentTitle:()=>l});var t=JSON.parse('{"id":"REST/filter","title":"$filter","description":"Permite consultar los datos de una clase de datos o de un m\xe9todo (p. ej., $filter=\\"firstName!=\'\' AND salary>30000\\")","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-21/REST/$filter.md","sourceDirName":"REST","slug":"/REST/filter","permalink":"/docs/pt/REST/filter","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2F%24filter.md%20(21)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"21","frontMatter":{"id":"filter","title":"$filter"},"sidebar":"docs","previous":{"title":"$expand","permalink":"/docs/pt/REST/expand"},"next":{"title":"$format","permalink":"/docs/pt/REST/format"}}'),n=s(785893),o=s(250065);let i={id:"filter",title:"$filter"},l=void 0,a={},d=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:2},{value:"Utilizar um filtro simples",id:"utilizar-um-filtro-simples",level:3},{value:"Utilizar um filtro complexo",id:"utilizar-um-filtro-complexo",level:3},{value:"Utilizar a propriedade params",id:"utilizar-a-propriedade-params",level:3},{value:"Atributo",id:"atributo",level:2},{value:"Comparador",id:"comparador",level:2},{value:"Vector similarity",id:"vector-similarity",level:2},{value:"Exemplos",id:"exemplos",level:2}];function c(e){let r={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:["Permite consultar los datos de una clase de datos o de un m\xe9todo ",(0,n.jsx)(r.em,{children:"(p. ej."}),", ",(0,n.jsx)(r.code,{children:"$filter=\"firstName!='' AND salary>30000\""}),")"]}),"\n",(0,n.jsx)(r.h2,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,n.jsx)(r.p,{children:"Este par\xe2metro permite-lhe definir o filtro para a sua dataclass ou m\xe9todo."}),"\n",(0,n.jsx)(r.h3,{id:"utilizar-um-filtro-simples",children:"Utilizar um filtro simples"}),"\n",(0,n.jsx)(r.p,{children:"Um filtro \xe9 composto pelos seguintes elementos:"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"{attribute} {comparator} {value}"})}),"\n",(0,n.jsxs)(r.p,{children:["Por ejemplo: ",(0,n.jsx)(r.code,{children:'$filter="firstName=john"'})," donde ",(0,n.jsx)(r.code,{children:"firstName"})," es el ",(0,n.jsx)(r.strong,{children:"atributo"}),", ",(0,n.jsx)(r.code,{children:"="})," es el ",(0,n.jsx)(r.strong,{children:"comparador"})," y ",(0,n.jsx)(r.code,{children:"john"})," es el ",(0,n.jsx)(r.strong,{children:"valor"}),"."]}),"\n",(0,n.jsx)(r.h3,{id:"utilizar-um-filtro-complexo",children:"Utilizar um filtro complexo"}),"\n",(0,n.jsx)(r.p,{children:"A more complex filter is composed of the following elements, which joins two queries:"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"{attribute} {comparator} {value} {AND/OR/EXCEPT} {attribute} {comparator} {value}"})}),"\n",(0,n.jsxs)(r.p,{children:["Por ejemplo: ",(0,n.jsx)(r.code,{children:'$filter="firstName=john AND salary>20000"'})," donde ",(0,n.jsx)(r.code,{children:"firstName"})," y ",(0,n.jsx)(r.code,{children:"salary"})," son atributos de la clase de datos Employee."]}),"\n",(0,n.jsx)(r.h3,{id:"utilizar-a-propriedade-params",children:"Utilizar a propriedade params"}),"\n",(0,n.jsxs)(r.p,{children:["You can also use 4D's ",(0,n.jsx)(r.code,{children:"params"})," property which is a collection of values."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:'{attribute} {comparator} {placeholder} {AND/OR/EXCEPT} {attribute} {comparator} {placeholder}&$params=\'["{value1}","{value2}"]\''})}),"\n",(0,n.jsxs)(r.p,{children:["Por ejemplo: ",(0,n.jsx)(r.code,{children:'$filter="firstName=:1 AND salary>:2"&$params=\'["john",20000]\''})," donde firstName y salary son los atributos de la clase de datos Employee."]}),"\n",(0,n.jsxs)(r.p,{children:["Para m\xe1s informaci\xf3n sobre c\xf3mo consultar datos en 4D, consulte la documentaci\xf3n de ",(0,n.jsx)(r.a,{href:"/docs/pt/API/DataClassClass#query",children:"dataClass.query()"}),"."]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsx)(r.p,{children:"Ao inserir aspas (') ou aspas duplas (\"), deve escapar-lhes utilizando o seu c\xf3digo de caracteres:"}),"\n",(0,n.jsx)(r.li,{children:"Aspas ('): \\u0027"}),"\n",(0,n.jsx)(r.li,{children:"Quotes ('): \\u0027 Double quotes (\"): \\u0022"}),"\n",(0,n.jsxs)(r.p,{children:["For example, you can write the following when passing a value with a quote when using the ",(0,n.jsx)(r.em,{children:"params"})," property:",(0,n.jsx)(r.br,{}),"\n",(0,n.jsx)(r.code,{children:'http://127.0.0.1:8081/rest/Person/?$filter="lastName=:1"&$params=\'["O\\u0027Reilly"]\''})]}),"\n",(0,n.jsxs)(r.p,{children:["Se voc\xea passar o valor diretamente, poder\xe1 escrever o seguinte:\n",(0,n.jsx)(r.code,{children:'http://127.0.0.1:8081/rest/Person/?$filter="lastName=O\'Reilly"'})]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"atributo",children:"Atributo"}),"\n",(0,n.jsxs)(r.p,{children:["Si el atributo est\xe1 en la misma clase de datos, puede pasarlo directamente (",(0,n.jsx)(r.em,{children:"p. ej."}),", ",(0,n.jsx)(r.code,{children:"firstName"}),"). Sin embargo, si quiere consultar otra clase de datos, debe incluir el nombre del atributo relacional y el nombre del atributo, es decir, la ruta de acceso (",(0,n.jsx)(r.em,{children:"por ejemplo"}),", nombre.empleador). El nombre del atributo distingue entre may\xfasculas y min\xfasculas (",(0,n.jsx)(r.code,{children:"firstName"})," no es igual a ",(0,n.jsx)(r.code,{children:"FirstName"}),")."]}),"\n",(0,n.jsx)(r.p,{children:'Tamb\xe9m \xe9 poss\xedvel consultar atributos do tipo Object utilizando a nota\xe7\xe3o de ponto. Por exemplo, se tiver um atributo cujo nome \xe9 "objAttribute" com a seguinte estrutura:'}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'{\n    prop1: "this is my first property",\n    prop2: 9181,\n    prop3: ["abc","def","ghi"]\n}\n'})}),"\n",(0,n.jsx)(r.p,{children:"\xc9 poss\xedvel pesquisar no objeto escrevendo o seguinte:"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.code,{children:' GET  /rest/Person/?filter="objAttribute.prop2 == 9181"'})}),"\n",(0,n.jsx)(r.h2,{id:"comparador",children:"Comparador"}),"\n",(0,n.jsx)(r.p,{children:"O comparador deve ser um dos seguintes valores:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Comparador"}),(0,n.jsx)(r.th,{children:"Descri\xe7\xe3o"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"="}),(0,n.jsx)(r.td,{children:"\xe9 igual a"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"!="}),(0,n.jsx)(r.td,{children:"diferente de"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:">"}),(0,n.jsx)(r.td,{children:"maior que"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"> ="}),(0,n.jsx)(r.td,{children:"maior ou igual a"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"<"}),(0,n.jsx)(r.td,{children:"menor que"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"<="}),(0,n.jsx)(r.td,{children:"menor que ou igual a"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"begin"}),(0,n.jsx)(r.td,{children:"come\xe7a com"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"vector-similarity",children:"Vector similarity"}),"\n",(0,n.jsxs)(r.p,{children:["If the attribute stores ",(0,n.jsx)(r.a,{href:"/docs/pt/API/VectorClass",children:(0,n.jsx)(r.strong,{children:"vector objects"})})," (see how to ",(0,n.jsx)(r.a,{href:"/docs/pt/Develop/field-properties#class",children:"configure a 4D field to only store 4D.Vector class objects"}),"), you can filter the dataclass using ",(0,n.jsx)(r.strong,{children:"vectors"}),", aka ",(0,n.jsx)(r.strong,{children:"embeddings"}),"."]}),"\n",(0,n.jsxs)(r.p,{children:["For more information about vector similarity searches, please refer to ",(0,n.jsx)(r.a,{href:"/docs/pt/API/DataClassClass#query-by-vector-similarity",children:"Query by vector similarity"})," section."]}),"\n",(0,n.jsxs)(r.p,{children:["Use the ",(0,n.jsx)(r.code,{children:"params"})," property to provide the filter with the vector comparison parameter, using a syntax like:"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"{vectorAttribute} {comparator} {placeholder}&$params=vectorComparison"})}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.em,{children:"vectorComparison"})," parameter is a collection of the following elements:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Propriedade"}),(0,n.jsx)(r.th,{children:"Tipo"}),(0,n.jsx)(r.th,{children:"Descri\xe7\xe3o"}),(0,n.jsx)(r.th,{})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"[].vector"}),(0,n.jsx)(r.td,{children:"Uma cole\xe7\xe3o de objetos)"}),(0,n.jsx)(r.td,{children:"Obrigat\xf3rio. A collection that represents the vector to compare"}),(0,n.jsx)(r.td,{})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"[].metric"}),(0,n.jsx)(r.td,{children:"Text"}),(0,n.jsxs)(r.td,{children:["Opcional. ",(0,n.jsx)(r.a,{href:"/docs/pt/API/VectorClass#understanding-the-different-vector-computations",children:"Vector computation"})," to use for the query. Supported values:",(0,n.jsx)(r.li,{children:'"cosine" (default if omitted): calculates the cosine distance between vectors.'}),(0,n.jsx)(r.li,{children:'"dot": calculates the dot similarity of vectors.'}),(0,n.jsx)(r.li,{children:'"euclidean": calculates the Euclidean distance between vectors.'})]}),(0,n.jsx)(r.td,{})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{}),(0,n.jsx)(r.td,{children:"[].threshold"}),(0,n.jsx)(r.td,{children:"Real"}),(0,n.jsx)(r.td,{children:'Optional (default: 0.5). A threshold value used to filter vector comparisons based on their cosine, dot or euclidean similarity score according to the selected "metric". It is highly recommended to choose a similarity that best fits your specific use case for optimal results.'})]})]})]}),"\n",(0,n.jsxs)(r.p,{children:["Only a subset of ",(0,n.jsx)(r.strong,{children:"comparator"})," symbols are supported with vector comparisons. Note that they compare results to the threshold value:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Comparador"}),(0,n.jsx)(r.th,{children:"S\xedmbolos"}),(0,n.jsx)(r.th,{children:"Coment\xe1rio"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Menor que"}),(0,n.jsx)(r.td,{children:"<"}),(0,n.jsx)(r.td,{children:"Lower than the threshold"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Maior que"}),(0,n.jsx)(r.td,{children:">"}),(0,n.jsx)(r.td,{children:"Greater than the threshold"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Menor que ou igual a"}),(0,n.jsx)(r.td,{children:"<="}),(0,n.jsx)(r.td,{children:"Lower than or equal to the threshold"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Maior ou igual a"}),(0,n.jsx)(r.td,{children:"> ="}),(0,n.jsx)(r.td,{children:"Greater than or equal to the threshold"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"exemplos",children:"Exemplos"}),"\n",(0,n.jsx)(r.p,{children:'No exemplo seguinte, procuramos todos os empregados cujo apelido come\xe7a por "j":'}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:' GET  /rest/Employee?$filter="lastName begin j"\n'})}),"\n",(0,n.jsx)(r.p,{children:"Nesse exemplo pesquisamos na classe de dados Empregado todos os empregados cujo sal\xe1rio seja superior a  20.000 e que n\xe3o trabalhem para uma empresa chamada Acme:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:' GET  /rest/Employee?$filter="salary>20000 AND  \n employer.name!=acme"&$orderby="lastName,firstName"\n'})}),"\n",(0,n.jsx)(r.p,{children:"Neste exemplo, buscamos na classe de dados Person todas as pessoas cuja propriedade n\xfamero no atributo anotherobj de tipo Object for maior que 50:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:' GET  /rest/Person/?filter="anotherobj.mynum > 50"\n'})}),"\n",(0,n.jsx)(r.p,{children:"In this example, we do a vector search with basic values:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:" GET  /rest/Person/?filter=\"VectorAtt>=:1\"&$params='[{vector:[1,2,3],threshold:1}]'\n"})})]})}function h(e={}){let{wrapper:r}={...(0,o.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},250065:function(e,r,s){s.d(r,{Z:()=>l,a:()=>i});var t=s(667294);let n={},o=t.createContext(n);function i(e){let r=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(o.Provider,{value:r},e.children)}}}]);