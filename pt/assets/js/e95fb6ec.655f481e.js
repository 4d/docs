"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["19694"],{520938:function(e,s,n){n.r(s),n.d(s,{frontMatter:()=>o,toc:()=>c,default:()=>h,metadata:()=>i,assets:()=>t,contentTitle:()=>l});var i=JSON.parse('{"id":"API/SessionClass","title":"Session","description":"Os objetos de sess\xe3o s\xe3o retornados pelo comando Session. Esses objetos fornecem ao desenvolvedor uma interface que permite gerenciar a sess\xe3o atual do usu\xe1rio e executar a\xe7\xf5es como armazenar dados contextuais, compartilhar informa\xe7\xf5es entre processos de sess\xe3o, iniciar processos preemptivos relacionados \xe0 sess\xe3o ou (somente na Web) gerenciar privil\xe9gios.","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R10/API/SessionClass.md","sourceDirName":"API","slug":"/API/SessionClass","permalink":"/docs/pt/API/SessionClass","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSessionClass.md%20(20-R10)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R10","frontMatter":{"id":"SessionClass","title":"Session"},"sidebar":"docs","previous":{"title":"POP3Transporter","permalink":"/docs/pt/API/POP3TransporterClass"},"next":{"title":"Signal","permalink":"/docs/pt/API/SignalClass"}}'),r=n(785893),d=n(250065);let o={id:"SessionClass",title:"Session"},l=void 0,t={},c=[{value:"Tipos de sess\xe3o",id:"tipos-de-sess\xe3o",level:3},{value:"Resumo",id:"resumo",level:3},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo",id:"exemplo",level:4},{value:".createOTP()",id:"createotp",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:4},{value:"Exemplo",id:"exemplo-1",level:4},{value:".demote()",id:"demote",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:4},{value:"Exemplo",id:"exemplo-2",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-3",level:4},{value:"Exemplo",id:"exemplo-3",level:4},{value:".getPrivileges()",id:"getprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-4",level:4},{value:"Exemplo",id:"exemplo-4",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-1",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-5",level:4},{value:"Exemplo",id:"exemplo-5",level:4},{value:".id",id:"id",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-6",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-7",level:4},{value:"Exemplo",id:"exemplo-6",level:4},{value:".info",id:"info",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-8",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-9",level:4},{value:"Exemplo",id:"exemplo-7",level:4},{value:".promote()",id:"promote",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-10",level:4},{value:"Exemplo",id:"exemplo-8",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-2",level:4},{value:".restore()",id:"restore",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-11",level:4},{value:"Exemplo",id:"exemplo-9",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-3",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-12",level:4},{value:"Exemplo",id:"exemplo-10",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-4",level:4},{value:".storage",id:"storage",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-13",level:4},{value:"Exemplo de sess\xe3o na web",id:"exemplo-de-sess\xe3o-na-web",level:4},{value:"Exemplo de sess\xe3o remota",id:"exemplo-de-sess\xe3o-remota",level:4},{value:".userName",id:"username",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-14",level:4}];function a(e){let s={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["Os objetos de sess\xe3o s\xe3o retornados pelo comando ",(0,r.jsx)(s.a,{href:"/docs/pt/commands/session",children:(0,r.jsx)(s.code,{children:"Session"})}),". Esses objetos fornecem ao desenvolvedor uma interface que permite gerenciar a sess\xe3o atual do usu\xe1rio e executar a\xe7\xf5es como armazenar dados contextuais, compartilhar informa\xe7\xf5es entre processos de sess\xe3o, iniciar processos preemptivos relacionados \xe0 sess\xe3o ou (somente na Web) gerenciar ",(0,r.jsx)(s.a,{href:"/docs/pt/ORDA/privileges",children:"privil\xe9gios"}),"."]}),"\n",(0,r.jsx)(s.admonition,{title:"Related blog posts",type:"tip",children:(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://blog.4d.com/scalable-sessions-for-advanced-web-applications/",children:"Scalable sessions for advanced web applications"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://blog.4d.com/permissions-inspect-session-privileges-for-easy-debugging/",children:"Permissions: Inspect Session Privileges for Easy Debugging"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://blog.4d.com/connect-your-web-apps-to-third-party-systems/",children:"Generate, share and use web sessions One-Time Passcodes (OTP)"})}),"\n"]})}),"\n",(0,r.jsx)(s.h3,{id:"tipos-de-sess\xe3o",children:"Tipos de sess\xe3o"}),"\n",(0,r.jsx)(s.p,{children:"Os seguintes tipos de sess\xf5es s\xe3o suportados por essa classe:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/pt/WebServer/sessions",children:(0,r.jsx)(s.strong,{children:"Sess\xf5es de usu\xe1rio web"})}),": sess\xf5es de usu\xe1rio web est\xe3o dispon\xedveis quando ",(0,r.jsx)(s.a,{href:"/docs/pt/WebServer/sessions#enabling-web-sessions",children:"sess\xf5es escal\xe1veis est\xe3o habilitadas em seu projeto"}),". Eles s\xe3o usados para conex\xf5es Web e REST e podem receber privil\xe9gios."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/pt/Desktop/clientServer#remote-user-sessions",children:(0,r.jsx)(s.strong,{children:"Sess\xf5es de usu\xe1rio cliente remoto"})}),": em aplica\xe7\xf5es cliente/servidor, os usu\xe1rios remotos t\xeam suas pr\xf3prias sess\xf5es gerenciadas no servidor."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://doc.4d.com/4Dv20/4D/20/4D-Server-and-the-4D-Language.300-6330554.en.html",children:(0,r.jsx)(s.strong,{children:"Sess\xe3o de procedimentos armazenados"})}),": Todos os procedimentos armazenados executados no servidor compartilham a mesma sess\xe3o de usu\xe1rio virtual."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/pt/Project/overview#development",children:(0,r.jsx)(s.strong,{children:"Standalone session"})}),": Objeto de sess\xe3o local retornado em aplicativo de usu\xe1rio \xfanico (\xfatil nas fases de desenvolvimento e teste de aplicativos cliente/servidor)."]}),"\n"]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["A disponibilidade de propriedades e fun\xe7\xf5es no objeto ",(0,r.jsx)(s.code,{children:"Session"})," depende do tipo de sess\xe3o."]})}),"\n",(0,r.jsx)(s.h3,{id:"resumo",children:"Resumo"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsx)(s.tr,{children:(0,r.jsx)(s.th,{})})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#clearprivileges",children:[(0,r.jsx)(s.strong,{children:".clearPrivileges()"})," : Boolean"]}),(0,r.jsx)(s.br,{}),"removes all the privileges associated to the session (excluding promoted privileges) and returns ",(0,r.jsx)(s.strong,{children:"True"})," if the execution was successful"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#createotp",children:[(0,r.jsx)(s.strong,{children:".createOTP"})," ( { ",(0,r.jsx)(s.em,{children:"lifespan"})," : Integer } ) : Text "]}),(0,r.jsx)(s.br,{}),"cria um novo OTP (uma senha \xfanica) para a sess\xe3o e retorna seu UUID"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#demote",children:[(0,r.jsx)(s.strong,{children:".demote"}),"( ",(0,r.jsx)(s.em,{children:"promoteId"})," : Integer )"]}),(0,r.jsx)(s.br,{}),"removes the promoted privilege whose id you passed in ",(0,r.jsx)(s.em,{children:"promoteId"})," from the web process, if it was previously added by the ",(0,r.jsx)(s.a,{href:"#promote",children:(0,r.jsx)(s.code,{children:".promote()"})})," function"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#expirationdate",children:[(0,r.jsx)(s.strong,{children:".expirationDate"})," : Text"]}),(0,r.jsx)(s.br,{}),"a data e a hora de expira\xe7\xe3o do cookie de sess\xe3o"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#getprivileges",children:[(0,r.jsx)(s.strong,{children:".getPrivileges"}),"() : Collection"]}),(0,r.jsx)(s.br,{}),"retorna uma cole\xe7\xe3o de todos os nomes de privil\xe9gios associados \xe0 sess\xe3o"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#hasprivilege",children:[(0,r.jsx)(s.strong,{children:".hasPrivilege"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean"]}),(0,r.jsx)(s.br,{}),"retorna True se o ",(0,r.jsx)(s.em,{children:"privilege"})," estiver associado \xe0 sess\xe3o e False caso contr\xe1rio"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#id",children:[(0,r.jsx)(s.strong,{children:".id"})," : Text"]}),(0,r.jsx)(s.br,{})," o identificador \xfanico (UUID) da sess\xe3o do usu\xe1rio"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#idletimeout",children:[(0,r.jsx)(s.strong,{children:".idleTimeout"})," : Integer"]}),(0,r.jsx)(s.br,{}),"o tempo limite da sess\xe3o de inatividade (em minutos), ap\xf3s o qual a sess\xe3o \xe9 automaticamente encerrada pelo 4D"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#info",children:[(0,r.jsx)(s.strong,{children:".info"})," : Object"]}),(0,r.jsx)(s.br,{}),"descreve o cliente remoto ou a sess\xe3o do procedimento armazenado no servidor, ou a sess\xe3o aut\xf4noma"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#isguest",children:[(0,r.jsx)(s.strong,{children:".isGuest()"})," : Boolean"]}),(0,r.jsx)(s.br,{}),"retorna True se a sess\xe3o for uma sess\xe3o Guest (ou seja, n\xe3o tem privil\xe9gios)"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#promote",children:[(0,r.jsx)(s.strong,{children:".promote"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Integer"]}),(0,r.jsx)(s.br,{}),"adds the privilege defined in the ",(0,r.jsx)(s.em,{children:"privilege"})," parameter to the current process during the execution of the calling function and returns the id of the promoted privilege"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#restore",children:[(0,r.jsx)(s.strong,{children:".restore"})," ( ",(0,r.jsx)(s.em,{children:"token"})," : Text ) : Boolean "]}),(0,r.jsx)(s.br,{}),"substitui a sess\xe3o do usu\xe1rio da web pela sua sess\xe3o original correspondente ao ",(0,r.jsx)(s.em,{children:"token"})," UUID"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#setprivileges",children:[(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privileges"})," : Collection )",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"settings"})," : Object ) : Boolean"]}),(0,r.jsx)(s.br,{}),"associa os privil\xe9gios e/ou pap\xe9is definidos no par\xe2metro para a sess\xe3o e retorna ",(0,r.jsx)(s.strong,{children:"True"})," se a execu\xe7\xe3o foi bem sucedida"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#storage",children:[(0,r.jsx)(s.strong,{children:".storage"})," : Object"]}),(0,r.jsx)(s.br,{})," um objeto compartilhado que pode ser usado para armazenar informa\xe7\xf5es dispon\xedveis para todos os processos da sess\xe3o"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#username",children:[(0,r.jsx)(s.strong,{children:".userName"})," : Text"]}),(0,r.jsx)(s.br,{}),"o nome de usu\xe1rio associado \xe0 sess\xe3o"]})})]})]}),"\n",(0,r.jsx)(s.h2,{id:"clearprivileges",children:".clearPrivileges()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".clearPrivileges()"})," : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Par\xe2metros"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"True se a execu\xe7\xe3o for bem-sucedida"})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Esta fun\xe7\xe3o n\xe3o faz nada e sempre retorna ",(0,r.jsx)(s.strong,{children:"Verdadeiro"})," com cliente remoto, procedimento armazenado e sess\xf5es aut\xf4nomas."]})}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:".clearPrivileges()"})," function removes all the privileges associated to the session (excluding promoted privileges) and returns ",(0,r.jsx)(s.strong,{children:"True"})," if the execution was successful."]}),"\n",(0,r.jsxs)(s.p,{children:["A menos que esteja no modo ",(0,r.jsx)(s.a,{href:"/docs/pt/REST/authUsers#force-login-mode",children:'"forceLogin"'}),', a sess\xe3o se torna automaticamente uma sess\xe3o de convidado. No modo "forceLogin", ',(0,r.jsx)(s.code,{children:".clearPrivileges()"})," n\xe3o transforma a sess\xe3o em uma sess\xe3o Guest, apenas limpa os privil\xe9gios da sess\xe3o."]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["This function does not remove ",(0,r.jsx)(s.strong,{children:"promoted privileges"})," from the web process, whether they are added through the ",(0,r.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#rolesjson-file",children:"roles.json"})," file or the ",(0,r.jsx)(s.a,{href:"#promote",children:(0,r.jsx)(s.code,{children:"promote()"})})," function."]})}),"\n",(0,r.jsx)(s.h4,{id:"exemplo",children:"Exemplo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"//Invalidar uma sess\xe3o de usu\xe1rio da web\nvar $isGuest : Boolean\nvar $isOK : Boolean\n\n$isOK:=Session.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest \xe9 True\n"})}),"\n",(0,r.jsx)(s.h2,{id:"createotp",children:".createOTP()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R9"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".createOTP"})," ( { ",(0,r.jsx)(s.em,{children:"lifespan"})," : Integer } ) : Text"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"lifespan"}),(0,r.jsx)(s.td,{children:"Integer"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:"Dura\xe7\xe3o do token de sess\xe3o em segundos"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"UUID da sess\xe3o"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-1",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Essa fun\xe7\xe3o s\xf3 est\xe1 dispon\xedvel com sess\xf5es de usu\xe1rio Web. Ele retorna uma string vazia em outros contextos."})}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".createOTP()"})," cria um novo OTP (uma senha \xfanica) para a sess\xe3o e retorna seu UUID. Esse token \xe9 exclusivo da sess\xe3o em que foi gerado."]}),"\n",(0,r.jsxs)(s.p,{children:["Para mais informa\xe7\xf5es sobre os tokens OTP, consulte ",(0,r.jsx)(s.a,{href:"/docs/pt/WebServer/sessions#session-token-otp",children:"esta se\xe7\xe3o"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Por padr\xe3o, se o par\xe2metro ",(0,r.jsx)(s.em,{children:"lifespan"})," for omitido, o token ser\xe1 criado com o mesmo tempo de vida que o ",(0,r.jsx)(s.a,{href:"#idletimeout",children:(0,r.jsx)(s.code,{children:".idleTimeOut"})})," da sess\xe3o. You can set a custom timeout by passing a value in seconds in ",(0,r.jsx)(s.em,{children:"lifespan"}),". Se um token expirado for usado para restaurar uma sess\xe3o de usu\xe1rio Web, ele ser\xe1 ignorado."]}),"\n",(0,r.jsx)(s.p,{children:"O token retornado pode ent\xe3o ser usado em trocas com aplicativos ou sites de terceiros para identificar a sess\xe3o com seguran\xe7a. Por exemplo, o token de sess\xe3o OTP pode ser usado com um aplicativo de pagamento."}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-1",children:"Exemplo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"var $token : Text\n$token := Session.createOTP( 60 ) //o token \xe9 v\xe1lido por 1 mn\n"})}),"\n",(0,r.jsx)(s.h2,{id:"demote",children:".demote()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R10"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".demote"}),"( ",(0,r.jsx)(s.em,{children:"promoteId"})," : Integer )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"promoteId"}),(0,r.jsx)(s.td,{children:"Integer"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsxs)(s.td,{children:["Id returned by the ",(0,r.jsx)(s.code,{children:"promote()"})," function"]})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-2",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"This function does nothing in remote client, stored procedure, and standalone sessions."})}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:".demote()"})," function removes the promoted privilege whose id you passed in ",(0,r.jsx)(s.em,{children:"promoteId"})," from the web process, if it was previously added by the ",(0,r.jsx)(s.a,{href:"#promote",children:(0,r.jsx)(s.code,{children:".promote()"})})," function."]}),"\n",(0,r.jsxs)(s.p,{children:["If no privilege with ",(0,r.jsx)(s.em,{children:"promoteId"})," was promoted using ",(0,r.jsx)(s.a,{href:"#promote",children:(0,r.jsx)(s.code,{children:".promote()"})})," in the web process, the function does nothing."]}),"\n",(0,r.jsxs)(s.p,{children:["If several privileges have been added to the web process, the ",(0,r.jsx)(s.code,{children:"demote()"})," function must be called for each one with the appropriate ",(0,r.jsx)(s.em,{children:"promoteId"}),". Privileges are stacked in the order they have been added to the process, it is recommended to unstack privileges in a LIFO (",(0,r.jsx)(s.em,{children:"Last In, First Out"}),") order."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-2",children:"Exemplo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'exposed Function search($search : Text) : Collection\n	\n	var $employees : Collection\n	var $promoteId1; $promoteId2 : Integer\n	\n	$promoteId1:=Session.promote("admin")\n	$promoteId2:=Session.promote("superAdmin")\n	\n	$search:="@"+$search+"@"\n	\n	$employees:=This.query("type = :1 and lastname = :2"; "Intern"; $search).toCollection()\n	\n	Session.demote($promoteId2)\n	Session.demote($promoteId1)\n	\n	return $employees\n'})}),"\n",(0,r.jsx)(s.h4,{id:"veja-tamb\xe9m",children:"Veja tamb\xe9m"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#promote",children:(0,r.jsx)(s.code,{children:".promote()"})})}),"\n",(0,r.jsx)(s.h2,{id:"expirationdate",children:".expirationDate"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".expirationDate"})," : Text"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-3",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Essa propriedade s\xf3 est\xe1 dispon\xedvel com sess\xf5es de usu\xe1rio da Web."})}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".expirationDate"})," cont\xe9m a data e a hora de expira\xe7\xe3o do cookie de sess\xe3o. O valor \xe9 expresso como texto no formato ISO 8601: ",(0,r.jsx)(s.code,{children:"YYYY-MM-DDTHH:MM:SS.mmmZ"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,r.jsx)(s.strong,{children:"somente leitura"}),". Ele ser\xe1 automaticamente recalculado se o valor da propriedade ",(0,r.jsx)(s.a,{href:"#idletimeout",children:(0,r.jsx)(s.code,{children:".idleTimeout"})})," for modificado."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-3",children:"Exemplo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'var $expiration : Text\n$expiration:=Session.expirationDate //por exemplo "2021-11-05T17:10:42Z"\n'})}),"\n",(0,r.jsx)(s.h2,{id:"getprivileges",children:".getPrivileges()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".getPrivileges"}),"() : Collection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Collection"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"Cole\xe7\xe3o de nomes de privil\xe9gios (strings)"})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-4",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".getPrivileges()"})," retorna uma cole\xe7\xe3o de todos os nomes de privil\xe9gios associados \xe0 sess\xe3o."]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["This function returns privileges assigned to a Session using the ",(0,r.jsx)(s.a,{href:"#setprivileges",children:(0,r.jsx)(s.code,{children:"setPrivileges()"})})," function only. Promoted privileges are NOT returned by the function, whether they are added through the ",(0,r.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#rolesjson-file",children:"roles.json"})," file or the ",(0,r.jsx)(s.a,{href:"#promote",children:(0,r.jsx)(s.code,{children:"promote()"})})," function."]})}),"\n",(0,r.jsx)(s.p,{children:'Com cliente remoto, procedimento armazenado e sess\xf5es aut\xf4nomas, essa fun\xe7\xe3o retorna uma cole\xe7\xe3o que cont\xe9m apenas "WebAdmin".'}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-4",children:"Exemplo"}),"\n",(0,r.jsxs)(s.p,{children:["O seguinte arquivo ",(0,r.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#rolesjson-file",children:(0,r.jsx)(s.code,{children:"roles.json"})})," foi definido:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n   "privileges":[\n      {\n         "privilege":"simple",\n         "includes":[\n\n         ]\n      },\n      {\n         "privilege":"medium",\n         "includes":[\n            "simple"\n         ]\n      }\n   ],\n   "roles":[\n      {\n         "role":"Medium",\n         "privileges":[\n            "medium"\n         ]\n      }\n   ],\n   "permissions":{\n      "allowed":[\n\n      ]\n   }\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["O papel de sess\xe3o \xe9 atribu\xeddo em uma fun\xe7\xe3o de datastore ",(0,r.jsx)(s.code,{children:"authentify()"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"  //Datastore Class\n\nexposed Function authentify($role : Text) : Text\n	Session.clearPrivileges()\n	Session.setPrivileges({roles: $role})\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Assumindo que a fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:"authentify()"}),' seja chamada com o papel "Medium":']}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'var $privileges : Collection\n$privileges := Session.getPrivileges()\n//$privileges: ["simple","medium"]\n'})}),"\n",(0,r.jsx)(s.h4,{id:"veja-tamb\xe9m-1",children:"Veja tamb\xe9m"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"#setprivileges",children:".setPrivileges()"}),(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.a,{href:"https://blog.4d.com/permissions-inspect-the-privileges-in-the-session-for-an-easy-debugging",children:"Permissions \u2013 Inspect the privileges in the session for an easy debugging (blog post)"})]}),"\n",(0,r.jsx)(s.h2,{id:"hasprivilege",children:".hasPrivilege()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"21"}),(0,r.jsx)(s.td,{children:"Returns True for promoted privileges"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".hasPrivilege"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privilege"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:"Nome do privilegio a verificar"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Par\xe2metros"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsxs)(s.td,{children:["True se a sess\xe3o tiver ",(0,r.jsx)(s.em,{children:"privilege"}),", False caso contr\xe1rio"]})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-5",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".hasPrivilege()"})," retorna True se o ",(0,r.jsx)(s.em,{children:"privilege"})," estiver associado \xe0 sess\xe3o e False caso contr\xe1rio."]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["This function returns True for the ",(0,r.jsx)(s.em,{children:"privilege"})," if called from a function that was promoted for this privilege (either through the ",(0,r.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#rolesjson-file",children:"roles.json"})," file or the ",(0,r.jsx)(s.a,{href:"#promote",children:(0,r.jsx)(s.code,{children:"promote()"})})," function)."]})}),"\n",(0,r.jsxs)(s.p,{children:["Com cliente remoto, procedimento armazenado e sess\xf5es aut\xf4nomas, essa fun\xe7\xe3o sempre retorna True, independentemente do ",(0,r.jsx)(s.em,{children:"privil\xe9gio"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-5",children:"Exemplo"}),"\n",(0,r.jsx)(s.p,{children:'Voc\xea deseja verificar se o privil\xe9gio "WebAdmin" est\xe1 associado \xe0 sess\xe3o do usu\xe1rio da Web:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'If (Session.hasPrivilege("WebAdmin"))\n	//Acesso \xe9 concedido, n\xe3o fa\xe7a nada\nElse\n	//Exibe uma p\xe1gina de autentica\xe7\xe3o\n\nEnd if\n'})}),"\n",(0,r.jsx)(s.h2,{id:"id",children:".id"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R5"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".id"})," : Text"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-6",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".id"})," cont\xe9m  o identificador \xfanico (UUID) da sess\xe3o do usu\xe1rio. Com o 4D Server, essa string exclusiva \xe9 atribu\xedda automaticamente pelo servidor para cada sess\xe3o e permite que voc\xea identifique seus processos."]}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsxs)(s.p,{children:["Voc\xea pode usar essa propriedade para obter o objeto ",(0,r.jsx)(s.a,{href:"#storage",children:(0,r.jsx)(s.code,{children:".storage"})})," de uma sess\xe3o gra\xe7as ao comando ",(0,r.jsx)(s.a,{href:"/docs/pt/commands/session-storage",children:(0,r.jsx)(s.code,{children:"storage"})}),"."]})}),"\n",(0,r.jsx)(s.h2,{id:"idletimeout",children:".idleTimeout"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(s.table,{children:(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})})}),"\n",(0,r.jsx)(s.p,{children:"|v18 R6|Adicionado|"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".idleTimeout"})," : Integer"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-7",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Essa propriedade s\xf3 est\xe1 dispon\xedvel com sess\xf5es de usu\xe1rio da Web."})}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".idleTimeout"})," cont\xe9m o tempo limite da sess\xe3o de inatividade (em minutos), ap\xf3s o qual a sess\xe3o \xe9 automaticamente encerrada pelo 4D."]}),"\n",(0,r.jsx)(s.p,{children:"Se n\xe3o se definir esta propriedade, o valor padr\xe3o \xe9 60 (1h)."}),"\n",(0,r.jsxs)(s.p,{children:["Quando essa propriedade \xe9 definida, a propriedade ",(0,r.jsx)(s.a,{href:"#expirationdate",children:(0,r.jsx)(s.code,{children:".expirationDate"})})," \xe9 atualizada de acordo."]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"O valor n\xe3o pode ser inferior a 60: se definir um valor inferior, o tempo de espera se eleva at\xe9 60."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,r.jsx)(s.strong,{children:"leitura escrita"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-6",children:"Exemplo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"If (Session.isGuest())\n		// Uma sess\xe3o de convidado ser\xe1 fechada ap\xf3s 60 minutos de inatividade\n	Session.idleTimeout:=60\nElse\n		// Outras sess\xf5es ser\xe3o fechadas ap\xf3s 120 minutos de inatividade\n	Session.idleTimeout:=120\nEnd if\n\n"})}),"\n",(0,r.jsx)(s.h2,{id:"info",children:".info"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R5"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".info"})," : Object"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-8",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Essa propriedade s\xf3 est\xe1 dispon\xedvel com cliente remoto, procedimento armazenado e sess\xf5es aut\xf4nomas."})}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".info"})," descreve o cliente remoto ou a sess\xe3o do procedimento armazenado no servidor, ou a sess\xe3o aut\xf4noma."]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["O objeto ",(0,r.jsx)(s.code,{children:".info"}),' \xe9 o mesmo objeto retornado na propriedade "session" pelo comando ',(0,r.jsx)(s.a,{href:"/docs/pt/commands/process-activity",children:(0,r.jsx)(s.code,{children:"Process activity"})})," para sess\xf5es de procedimento armazenado e cliente remoto."]}),"\n",(0,r.jsxs)(s.li,{children:["O objeto ",(0,r.jsx)(s.code,{children:".info"})," \xe9 o mesmo objeto retornado pelo comando ",(0,r.jsx)(s.a,{href:"/docs/pt/commands/session-info",children:(0,r.jsx)(s.code,{children:"Session info"})})," para uma sess\xe3o aut\xf4noma."]}),"\n"]})}),"\n",(0,r.jsxs)(s.p,{children:["O objeto ",(0,r.jsx)(s.code,{children:".info"})," cont\xe9m as seguintes propriedades:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Propriedade"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"type"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:'Tipo de sess\xe3o: "remote", "storedProcedure", "standalone"'})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"userName"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsxs)(s.td,{children:["Nome de usu\xe1rio 4D (o mesmo valor que ",(0,r.jsx)(s.a,{href:"#username",children:(0,r.jsx)(s.code,{children:".userName"})}),")"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"machineName"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"Sess\xf5es remotas: nome da m\xe1quina remota. Sess\xe3o de procedimentos armazenados: nome da m\xe1quina do servidor. Sess\xe3o aut\xf4noma: nome da m\xe1quina"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"systemUserName"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"Sess\xf5es remotas: nome da sess\xe3o do sistema aberta na m\xe1quina remota."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"IPAddress"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"Endere\xe7o IP da m\xe1quina remota"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"hostType"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:'Tipo de host: "windows" ou "mac"'})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"creationDateTime"}),(0,r.jsx)(s.td,{children:"Date ISO 8601"}),(0,r.jsx)(s.td,{children:"Data e hora de cria\xe7\xe3o da sess\xe3o. Sess\xe3o aut\xf4noma: data e hora da inicializa\xe7\xe3o do aplicativo"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"state"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:'Estado da sess\xe3o: "ativa", "adiada", "em espera"'})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"ID"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsxs)(s.td,{children:["UUID da sess\xe3o (mesmo valor que ",(0,r.jsx)(s.a,{href:"#id",children:(0,r.jsx)(s.code,{children:".id"})}),")"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"persistentID"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"Sess\xf5es remotas: ID persistente da sess\xe3o"})]})]})]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Desde ",(0,r.jsx)(s.code,{children:". nfo"})," \xe9 uma propriedade computada, \xe9 recomend\xe1vel cham\xe1-lo uma vez e ent\xe3o armazen\xe1-lo em uma vari\xe1vel local se voc\xea quiser fazer algum processamento em suas propriedades."]})}),"\n",(0,r.jsx)(s.h2,{id:"isguest",children:".isGuest()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".isGuest()"})," : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Par\xe2metros"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"True se a sess\xe3o for uma sess\xe3o Guest, False caso contr\xe1rio"})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-9",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Essa fun\xe7\xe3o sempre retorna ",(0,r.jsx)(s.strong,{children:"False"})," com cliente remoto, procedimento armazenado e sess\xf5es aut\xf4nomas."]})}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".isGuest()"})," retorna True se a sess\xe3o for uma sess\xe3o Guest (ou seja, n\xe3o tem privil\xe9gios)."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-7",children:"Exemplo"}),"\n",(0,r.jsxs)(s.p,{children:["No m\xe9todo base ",(0,r.jsx)(s.code,{children:"On Web Connection"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"If (Session.isGuest())\n	//Fazer algo para o usu\xe1rio convidado\nEnd if\n"})}),"\n",(0,r.jsx)(s.h2,{id:"promote",children:".promote()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R10"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".promote"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Integer"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privilege"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:"Nome do privil\xe9gio"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Integer"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsxs)(s.td,{children:["id to use when calling the ",(0,r.jsx)(s.a,{href:"#demote",children:(0,r.jsx)(s.code,{children:"demote()"})})," function"]})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-10",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"This function does nothing in remote client, stored procedure, and standalone sessions."})}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:".promote()"})," function adds the privilege defined in the ",(0,r.jsx)(s.em,{children:"privilege"})," parameter to the current process during the execution of the calling function and returns the id of the promoted privilege."]}),"\n",(0,r.jsxs)(s.p,{children:['Dynamically adding privileges is useful when access rights depend on the execution context, which cannot be fully defined in the "roles.json" file. This is particularly relevant when the same function can be executed by users with different access levels. The use of ',(0,r.jsx)(s.code,{children:".promote()"})," ensures that only the current process is granted the necessary privileges, without affecting others."]}),"\n",(0,r.jsx)(s.p,{children:"The function does nothing and returns 0 if:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["the ",(0,r.jsx)(s.em,{children:"privilege"})," does not exist in the ",(0,r.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#rolesjson-file",children:(0,r.jsx)(s.code,{children:"roles.json"})})," file,"]}),"\n",(0,r.jsxs)(s.li,{children:["the ",(0,r.jsx)(s.em,{children:"privilege"})," is already assigned to the current process (using ",(0,r.jsx)(s.code,{children:".promote()"})," or through a static ",(0,r.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#permission-actions",children:"promote action"})," declared for the calling function in the ",(0,r.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#rolesjson-file",children:(0,r.jsx)(s.code,{children:"roles.json"})})," file)."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["You can call the ",(0,r.jsx)(s.code,{children:"promote()"})," function several times in the same process to add different privileges."]}),"\n",(0,r.jsx)(s.p,{children:"The returned id is incremented each time a privilege is dynamically added to the process."}),"\n",(0,r.jsxs)(s.p,{children:["To remove a privilege dynamically, call the ",(0,r.jsx)(s.code,{children:"demote()"})," function with the appropriate id."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-8",children:"Exemplo"}),"\n",(0,r.jsx)(s.p,{children:'Several users connect to a single endpoint that serves different applications. A user from application #1 does not need the "super_admin" privilege because they don\'t create "VerySensitiveInfo". A user from application #2 needs "super_admin" privilege.'}),"\n",(0,r.jsxs)(s.p,{children:["You can dynamically provide appropriate privileges in the ",(0,r.jsx)(s.em,{children:"CreateInfo"})," function:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'exposed Function createInfo($info1 : Text; $info2 : Text)\n	\nvar $sensitive : cs.SensitiveInfoEntity\nvar $verySensitiveInfo : cs.VerySensitiveInfoEntity\nvar $status : Object\nvar $promoteId : Integer\n	\n$sensitive:=ds.SensitiveInfo.new()\n$sensitive.info:=$info1\n$status:=$sensitive.save()\n	\nIf (Session.storage.role.name="userApp2")\n	$promoteId:=Session.promote("super_admin")\n	$verySensitiveInfo:=ds.VerySensitiveInfo.new()\n	$verySensitiveInfo.info:=$info2\n	$status:=$verySensitiveInfo.save()\n	Session.demote($promoteId)\nEnd if \n'})}),"\n",(0,r.jsx)(s.h4,{id:"veja-tamb\xe9m-2",children:"Veja tamb\xe9m"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"#demote",children:(0,r.jsx)(s.code,{children:".demote()"})}),(0,r.jsx)(s.br,{}),(0,r.jsx)(s.a,{href:"#hasprivilege",children:(0,r.jsx)(s.code,{children:"hasPrivilege()"})})]}),"\n",(0,r.jsx)(s.h2,{id:"restore",children:".restore()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R9"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".restore"})," ( ",(0,r.jsx)(s.em,{children:"token"})," : Text ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"token"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:"UUID do token de sess\xe3o"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Par\xe2metros"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"True se a sess\xe3o atual tiver sido substitu\xedda com \xeaxito pela sess\xe3o no token"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-11",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Essa fun\xe7\xe3o s\xf3 est\xe1 dispon\xedvel com sess\xf5es de usu\xe1rio Web. Ele retorna False em outros contextos."})}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".restore()"})," substitui a sess\xe3o do usu\xe1rio da web pela sua sess\xe3o original correspondente ao ",(0,r.jsx)(s.em,{children:"token"})," UUID. O armazenamento e os privil\xe9gios da sess\xe3o s\xe3o restaurados."]}),"\n",(0,r.jsxs)(s.p,{children:["Se a sess\xe3o original do usu\xe1rio tiver sido restaurada corretamente, a fun\xe7\xe3o retornar\xe1 ",(0,r.jsx)(s.code,{children:"true"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o retorna ",(0,r.jsx)(s.code,{children:"false"})," se:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"o token de sess\xe3o j\xe1 foi usado,"}),"\n",(0,r.jsx)(s.li,{children:"o token de sess\xe3o expirou,"}),"\n",(0,r.jsx)(s.li,{children:"o token de sess\xe3o n\xe3o existe,"}),"\n",(0,r.jsx)(s.li,{children:"a pr\xf3pria sess\xe3o original expirou."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Nesse caso, a sess\xe3o atual do usu\xe1rio da Web n\xe3o \xe9 alterada (nenhuma sess\xe3o \xe9 restaurada)."}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-9",children:"Exemplo"}),"\n",(0,r.jsx)(s.p,{children:"Em um singleton chamado por um manipulador de solicita\xe7\xe3o HTTP personalizado:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"shared singleton Class constructor()\n\nFunction callback($request : 4D.IncomingMessage) : 4D.OutgoingMessage\n   Session.restore($request.urlQuery.state) \n"})}),"\n",(0,r.jsx)(s.h4,{id:"veja-tamb\xe9m-3",children:"Veja tamb\xe9m"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#createotp",children:(0,r.jsx)(s.code,{children:".createOTP()"})})}),"\n",(0,r.jsx)(s.h2,{id:"setprivileges",children:".setPrivileges()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"19 R8"}),(0,r.jsx)(s.td,{children:'Suporte da propriedade "roles" das Settings'})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privileges"})," : Collection )",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"settings"})," : Object ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privilege"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:"Nome do privil\xe9gio"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privileges"}),(0,r.jsx)(s.td,{children:"Collection"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:"Collection de nomes de privil\xe9gios"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"settings"}),(0,r.jsx)(s.td,{children:"Object"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:'Objetos com as propriedades "privil\xe9gios" (string ou collection)'})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Par\xe2metros"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"True se a execu\xe7\xe3o for bem-sucedida"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-12",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Essa fun\xe7\xe3o n\xe3o faz nada e sempre retorna ",(0,r.jsx)(s.strong,{children:"False"})," com cliente remoto, procedimento armazenado e sess\xf5es aut\xf4nomas."]})}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".setPrivileges()"})," associa os privil\xe9gios e/ou pap\xe9is definidos no par\xe2metro para a sess\xe3o e retorna ",(0,r.jsx)(s.strong,{children:"True"})," se a execu\xe7\xe3o foi bem sucedida ."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["No par\xe2metro ",(0,r.jsx)(s.em,{children:"privilege"}),", passe uma cadeia de caracteres contendo um nome de privil\xe9gio (ou v\xe1rios nomes de privil\xe9gio separados por v\xedrgula)."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["No par\xe2metro ",(0,r.jsx)(s.em,{children:"privileges"}),", passe uma cole\xe7\xe3o de cadeias de caracteres contendo nomes de privil\xe9gios."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["No par\xe2metro ",(0,r.jsx)(s.em,{children:"settings"}),", passe um objeto que contenha as seguintes propriedades:"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Propriedade"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privileges"}),(0,r.jsx)(s.td,{children:"Text ou Collection"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.li,{children:"String contendo um nome de privil\xe9gio, ou"}),(0,r.jsx)(s.li,{children:"Cole\xe7\xe3o de cadeias de caracteres contendo nomes de privil\xe9gios"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"roles"}),(0,r.jsx)(s.td,{children:"Text ou Collection"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.li,{children:"String que cont\xe9m uma fun\xe7\xe3o, ou"}),(0,r.jsx)(s.li,{children:"Cole\xe7\xe3o de cadeias de caracteres contendo fun\xe7\xf5es"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"userName"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"Nome de usu\xe1rio associado \xe0 sess\xe3o (opcional)"})]})]})]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Os privil\xe9gios e as fun\xe7\xf5es s\xe3o definidos no arquivo ",(0,r.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#rolesjson-file",children:(0,r.jsx)(s.code,{children:"roles.json"})})," do projeto. Para obter mais informa\xe7\xf5es, consulte a se\xe7\xe3o ",(0,r.jsx)(s.a,{href:"/docs/pt/ORDA/privileges",children:(0,r.jsx)(s.strong,{children:"Privil\xe9gios"})}),"."]})}),"\n",(0,r.jsxs)(s.p,{children:["Se a propriedade ",(0,r.jsx)(s.code,{children:"privileges"})," ou ",(0,r.jsx)(s.code,{children:"roles"})," tiverem um nome que n\xe3o seja declarado no arquivo ",(0,r.jsx)(s.a,{href:"/docs/pt/ORDA/privileges#rolesjson-file",children:(0,r.jsx)(s.code,{children:"roles.json"})}),", ele ser\xe1 ignorado."]}),"\n",(0,r.jsxs)(s.p,{children:["Como padr\xe3o quando n\xe3o houver um privil\xe9gio associado \xe0 sess\xe3o, a sess\xe3o \xe9 uma ",(0,r.jsx)(s.a,{href:"#isguest",children:"Sess\xe3o de convidados"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.a,{href:"#username",children:(0,r.jsx)(s.code,{children:"userName"})})," est\xe1 dispon\xedvel no n\xedvel do objeto de sess\xe3o (somente leitura)."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-10",children:"Exemplo"}),"\n",(0,r.jsx)(s.p,{children:'Em um m\xe9todo de autentica\xe7\xe3o personalizado, deve estabecer o privil\xe9gio "WebAdmin" ao usu\xe1rio:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'var $userOK : Boolean\n\n... //Autenticar o usu\xe1rio\n\nIf ($userOK) //O usu\xe1rio foi aprovado\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection("WebAdmin")\n  Session.setPrivileges($info)\nEnd if\n\n'})}),"\n",(0,r.jsx)(s.h4,{id:"veja-tamb\xe9m-4",children:"Veja tamb\xe9m"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"#getprivileges",children:".getPrivileges()"})}),"\n",(0,r.jsx)(s.h2,{id:"storage",children:".storage"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R5"}),(0,r.jsx)(s.td,{children:"Suporte a sess\xf5es de procedimento armazenado e cliente remoto"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".storage"})," : Object"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-13",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".storage"})," cont\xe9m  um objeto compartilhado que pode ser usado para armazenar informa\xe7\xf5es dispon\xedveis para todos os processos da sess\xe3o."]}),"\n",(0,r.jsxs)(s.p,{children:["Quando um objeto ",(0,r.jsx)(s.code,{children:"Session"})," \xe9 criado, a propriedade ",(0,r.jsx)(s.code,{children:".storage"})," est\xe1 vazia. Como se trata de um objeto compartilhado, essa propriedade estar\xe1 dispon\xedvel no objeto ",(0,r.jsx)(s.code,{children:"Storage"})," do servidor."]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["Como o objeto ",(0,r.jsx)(s.code,{children:"Storage"})," do servidor, a propriedade ",(0,r.jsx)(s.code,{children:".storage"}),' \xe9 sempre "single": adicionar um objeto compartilhado ou uma cole\xe7\xe3o compartilhada a ',(0,r.jsx)(s.code,{children:".storage"})," n\xe3o cria um grupo compartilhado."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,r.jsx)(s.strong,{children:"apenas de leitura"}),", mas retorna um objeto de leitura e grava\xe7\xe3o."]}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsxs)(s.p,{children:["Voc\xea pode obter a propriedade ",(0,r.jsx)(s.code,{children:".storage"})," de uma sess\xe3o usando o comando ",(0,r.jsx)(s.a,{href:"/docs/pt/commands/session-storage",children:(0,r.jsx)(s.code,{children:"Session storage"})}),"."]})}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-de-sess\xe3o-na-web",children:"Exemplo de sess\xe3o na web"}),"\n",(0,r.jsxs)(s.p,{children:["Voc\xea deseja armazenar o IP do cliente na propriedade ",(0,r.jsx)(s.code,{children:".storage"}),". Voc\xea pode escrever no m\xe9todo de banco de dados ",(0,r.jsx)(s.code,{children:"On Web Authentication"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'If (Session.storage.clientIP=Null) //first access\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use End if\n'})}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-de-sess\xe3o-remota",children:"Exemplo de sess\xe3o remota"}),"\n",(0,r.jsx)(s.p,{children:"Voc\xea deseja compartilhar dados entre processos na mesma sess\xe3o:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'Use (Session.storage)\n Session.storage.settings:=New shared object("property"; $value; "property2"; $value2)\nEnd use\n'})}),"\n",(0,r.jsx)(s.h2,{id:"username",children:".userName"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"20 R5"}),(0,r.jsx)(s.td,{children:"Suporte a sess\xf5es de procedimento armazenado e cliente remoto"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".userName"})," : Text"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-14",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".userName"})," cont\xe9m o nome de usu\xe1rio associado \xe0 sess\xe3o. Pode us\xe1-la para identificar o usu\xe1rio dentro de seu c\xf3digo."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Com sess\xf5es da Web, essa propriedade \xe9 uma cadeia de caracteres vazia por padr\xe3o. Ele pode ser definido usando a propriedade ",(0,r.jsx)(s.code,{children:"privileges"})," da fun\xe7\xe3o ",(0,r.jsx)(s.a,{href:"#setprivileges",children:(0,r.jsx)(s.code,{children:"setPrivileges()"})}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Com sess\xf5es de procedimento remotas e armazenadas, esta propriedade retorna o mesmo nome de usu\xe1rio que o comando ",(0,r.jsx)(s.a,{href:"/docs/pt/commands/current-user",children:(0,r.jsx)(s.code,{children:"Current user"})}),"."]}),"\n",(0,r.jsxs)(s.li,{children:['Com sess\xf5es aut\xf4nomas, essa propriedade cont\xe9m "designer" ou o nome definido com o comando ',(0,r.jsx)(s.a,{href:"/docs/pt/commands/set-user-alias",children:(0,r.jsx)(s.code,{children:"SET USER ALIAS"})}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,r.jsx)(s.strong,{children:"somente leitura"}),"."]})]})}function h(e={}){let{wrapper:s}={...(0,d.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},250065:function(e,s,n){n.d(s,{Z:()=>l,a:()=>o});var i=n(667294);let r={},d=i.createContext(r);function o(e){let s=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(d.Provider,{value:s},e.children)}}}]);