"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["29371"],{716145:function(e,o,r){r.r(o),r.d(o,{metadata:()=>a,contentTitle:()=>d,default:()=>p,assets:()=>i,toc:()=>l,frontMatter:()=>s});var a=JSON.parse('{"id":"commands-legacy/export-data","title":"EXPORT DATA","description":"EXPORT DATA ( nomeArquivo {; projeto {; *}} )","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/export-data.md","sourceDirName":"commands-legacy","slug":"/commands/export-data","permalink":"/docs/pt/commands/export-data","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fexport-data.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"export-data","title":"EXPORT DATA","slug":"/commands/export-data","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"Import and Export","permalink":"/docs/pt/category/import-and-export"},"next":{"title":"EXPORT DIF","permalink":"/docs/pt/commands/export-dif"}}'),n=r("785893"),t=r("250065");let s={id:"export-data",title:"EXPORT DATA",slug:"/commands/export-data",displayed_sidebar:"docs"},d=void 0,i={},l=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo 1",id:"exemplo-1",level:4},{value:"Exemplo 2",id:"exemplo-2",level:4},{value:"Vari\xe1veis e conjuntos do sistema",id:"vari\xe1veis-e-conjuntos-do-sistema",level:4},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:4},{value:"Propriedades",id:"propriedades",level:4}];function c(e){let o={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"EXPORT DATA"})," ( ",(0,n.jsx)(o.em,{children:"nomeArquivo"})," {; ",(0,n.jsx)(o.em,{children:"projeto"})," {; *}} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(o.table,{children:[(0,n.jsx)(o.thead,{children:(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.th,{children:"Par\xe2metro"}),(0,n.jsx)(o.th,{children:"Tipo"}),(0,n.jsx)(o.th,{}),(0,n.jsx)(o.th,{children:"Descri\xe7\xe3o"})]})}),(0,n.jsxs)(o.tbody,{children:[(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"nomeArquivo"}),(0,n.jsx)(o.td,{children:"Text"}),(0,n.jsx)(o.td,{children:"\u2192"}),(0,n.jsx)(o.td,{children:"Rota de acesso do arquivo a exportar"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"projeto"}),(0,n.jsx)(o.td,{children:"Text, Blob"}),(0,n.jsx)(o.td,{children:"\u2192"}),(0,n.jsx)(o.td,{children:"Conte\xfado do projeto de exporta\xe7\xe3o"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"\u2190"}),(0,n.jsx)(o.td,{children:"Novo conte\xfado do projeto de exporta\xe7\xe3o (se for passado o par\xe2metro *)"}),(0,n.jsx)(o.td,{}),(0,n.jsx)(o.td,{})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"*"}),(0,n.jsx)(o.td,{children:"Operador"}),(0,n.jsx)(o.td,{children:"\u2192"}),(0,n.jsx)(o.td,{children:"Visualiza\xe7\xe3o da caixa de di\xe1logo de exporta\xe7\xe3o e atualiza\xe7\xe3o do projeto"})]})]})]}),"\n",(0,n.jsx)(o.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,n.jsxs)(o.p,{children:["O comando EXPORT DATA exporta dados no arquivo ",(0,n.jsx)(o.em,{children:"nomArquivo"}),". 4D pode exportar dados nos seguintes formatos: Texto, Texto de longitude fixa, XML, SYLK, DIF, DBF (dBase) e 4D."]}),"\n",(0,n.jsxs)(o.p,{children:["Se passa uma string vazia em ",(0,n.jsx)(o.em,{children:"nomArquivo"}),", EXPORT DATA mostra a caixa de di\xe1logo comum de guardar arquivos, permitindo ao usu\xe1rio definir o nome, tipo e localiza\xe7\xe3o do arquivo de exporta\xe7\xe3o. Quando aceitar a caixa de di\xe1logo, a vari\xe1vel sistema Documento cont\xe9m a rota de acesso e o nome do arquivo. Se o usu\xe1rio clicar em ",(0,n.jsx)(o.strong,{children:"Cancelar"}),", \xe9 parado a execu\xe7\xe3o do comando e a vari\xe1vel sistema OK toma o valor 0."]}),"\n",(0,n.jsxs)(o.p,{children:["O par\xe2metro opcional ",(0,n.jsx)(o.em,{children:"projeto"})," permite utilizar um projeto para exportar dados. Quando passa este par\xe2metro, a exporta\xe7\xe3o \xe9 realizada diretamente, sem nenhuma interven\xe7\xe3o (a menos que se utilize a op\xe7\xe3o *, ver a continua\xe7\xe3o). Se n\xe3o passa este par\xe2metro, aparece a caixa de di\xe1logo de exporta\xe7\xe3o. O usu\xe1rio pode definir seus par\xe2metros de exporta\xe7\xe3o ou carregar um projeto de exporta\xe7\xe3o existente."]}),"\n",(0,n.jsxs)(o.p,{children:["Um projeto de exporta\xe7\xe3o cont\xe9m todos os par\xe2metros de exporta\xe7\xe3o, tais como as tabelas e campos a exportar, os delimitadores, etc. No par\xe2metro ",(0,n.jsx)(o.em,{children:"projeto"})," pode passar uma variable Texto com XML ou uma variable Texto com uma refer\xeancia a um elemento DOM pre existente, ou um BLOB. Os projetos podem ser criados por programa\xe7\xe3o (projetos de formato XML unicamente) ou carregando os par\xe2metros previamente definidos na caixa de di\xe1logo de exporta\xe7\xe3o. No \xfaltimo caso, h\xe1 duas solu\xe7\xf5es dispon\xedveis:"]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Usar o comando EXPORT DATA com um par\xe2metro ",(0,n.jsx)(o.em,{children:"projeto"})," vazio e o par\xe2metro opcional ",(0,n.jsx)(o.em,{children:"*"}),", depois guardar o par\xe2metro ",(0,n.jsx)(o.em,{children:"projeto"})," em um campo Texto ou BLOB (ver a continua\xe7\xe3o). Esta solu\xe7\xe3o lhe permite guardar o projeto com o arquivo de dados."]}),"\n",(0,n.jsxs)(o.li,{children:["Guardar o projeto no disco, depois carreg\xe1-lo utilizando o comando DOM Parse XML source e passando sua refer\xeancia no par\xe2metro ",(0,n.jsx)(o.em,{children:"projeto"}),".\n",(0,n.jsx)(o.strong,{children:"Nota de compatibilidade"}),": a partir da vers\xe3o 12 de 4D, os projetos de exporta\xe7\xe3o s\xe3o codificados em XML. 4D pode abrir os projetos de exporta\xe7\xe3o gerados com as vers\xf5es anteriores de 4D (formato BLOB), entretanto os projetos criados a partir da v12 n\xe3o podem ser abertos com uma vers\xe3o 11 ou anterior. Al\xe9m disso \xe9 recomendado utilizar vari\xe1veis Texto para manipular os arquivos de exporta\xe7\xe3o."]}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:["O par\xe2metro opcional ",(0,n.jsx)(o.em,{children:"*"}),", se for especificado, que apare\xe7a a caixa de di\xe1logo de exporta\xe7\xe3o com os par\xe2metros definidos em ",(0,n.jsx)(o.em,{children:"projeto"}),". Esta caracter\xedstica lhe permite utilizar um projeto pr\xe9-definido, enquanto tem ainda a possibilidade de modificar um ou mais par\xe2metros. Al\xe9m disso, o par\xe2metro ",(0,n.jsx)(o.em,{children:"projeto"})," cont\xe9m, depois de fechar a caixa de di\xe1logo de exporta\xe7\xe3o, os par\xe2metros do \u201Cnovo\u201D projeto. Ent\xe3o pode armazenar o novo projeto em um campo BLOB, em disco, etc."]}),"\n",(0,n.jsx)(o.p,{children:"Se a exporta\xe7\xe3o foi exitosa, a vari\xe1vel sistema OK \xe9 igual a 1."}),"\n",(0,n.jsx)(o.h4,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,n.jsx)(o.p,{children:"Este exemplo apresenta o uso do comando EXPORT DATA para exportar dados em formato bin\xe1rio."}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"Este m\xe9todo faz um loop por todas as tabelas do banco e chama ao m\xe9todo ExportBinary:"}),"\n"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:'\xa0var $ExportPath : Text\n\xa0var $i : Integer\n\xa0$ExportPath:=Select folder("Por favor selecione a pasta de exporta\xe7\xe3o:")\n\xa0If(Ok=1)\n\xa0\xa0\xa0\xa0For($i;1;Last table number)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(Is table number valid($i))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0ExportBinary(Table($i);$ExportPath+Table name($i);True)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0End for\n\xa0End if\n'})}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"Este \xe9 o c\xf3digo do m\xe9todo ExportBinary:"}),"\n"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:'\xa0var $1 : Pointer\xa0//tabela\n\xa0var $2 : Text\xa0//rota do arquvo de destino\n\xa0var $3 : Boolean\xa0//exportar todos os registros\n\xa0var $i : Integer\n\xa0var $ref : Text\n\xa0$ref:=DOM Create XML Ref("settings-import-export")\n\xa0\xa0// Exportar a tabela "$1" em formato bin\xe1rio \'4D\', todos os registros ou unicamente a sele\xe7\xe3o atual\n\xa0DOM SET XML ATTRIBUTE($ref;"table_no";Table($1);"format";"4D";"all_records";$3)\n\xa0\xa0// Defini\xe7\xe3o dos campos a exportar\n\xa0For($i;1;Last field number($1))\n\xa0\xa0\xa0\xa0If(Is field number valid($1;$i))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$elt:=DOM Create XML element($ref;"field";"table_no";Table($1);"field_no";$i)\n\xa0\xa0\xa0\xa0End if\n\xa0End for\n\xa0EXPORT DATA($2;$ref)\n\xa0If(Ok=0)\n\xa0\xa0\xa0\xa0ALERT("Erro durante a exporta\xe7\xe3o da tabela "+Table name($1))\n\xa0End if\n\xa0DOM CLOSE XML($ref)\n'})}),"\n",(0,n.jsx)(o.h4,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,n.jsx)(o.p,{children:"Este exemplo cria um projeto vazio e guarda os par\xe2metros definidos pelo usu\xe1rio na caixa de di\xe1logo de exporta\xe7\xe3o:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:'\xa0var $exportParams : Text\n\xa0EXPORT DATA("DocExport.txt";$exportParams;*)\xa0// Visualiza\xe7\xe3o da caixa de di\xe1logo de exporta\xe7\xe3o\n'})}),"\n",(0,n.jsx)(o.h4,{id:"vari\xe1veis-e-conjuntos-do-sistema",children:"Vari\xe1veis e conjuntos do sistema"}),"\n",(0,n.jsxs)(o.p,{children:["Se o usu\xe1rio clicar em ",(0,n.jsx)(o.strong,{children:"Cancelar"})," na caixa de di\xe1logo padr\xe3o de abrir arquivos ou de exporta\xe7\xe3o, a vari\xe1vel sistema OK toma o valor 0. Se a exporta\xe7\xe3o foi exitosa, a vari\xe1vel sistema OK toma o valor 1."]}),"\n",(0,n.jsx)(o.h4,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.a,{href:"/docs/pt/commands/export-dif",children:"EXPORT DIF"}),(0,n.jsx)(o.br,{}),"\n",(0,n.jsx)(o.a,{href:"/docs/pt/commands/export-sylk",children:"EXPORT SYLK"}),(0,n.jsx)(o.br,{}),"\n",(0,n.jsx)(o.a,{href:"/docs/pt/commands/export-text",children:"EXPORT TEXT"}),(0,n.jsx)(o.br,{}),"\n",(0,n.jsx)(o.a,{href:"/docs/pt/commands/import-data",children:"IMPORT DATA"})]}),"\n",(0,n.jsx)(o.h4,{id:"propriedades",children:"Propriedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(o.table,{children:[(0,n.jsx)(o.thead,{children:(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.th,{}),(0,n.jsx)(o.th,{})]})}),(0,n.jsxs)(o.tbody,{children:[(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"N\xfamero do comando"}),(0,n.jsx)(o.td,{children:"666"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Thread-seguro"}),(0,n.jsx)(o.td,{children:"\u2717"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Modificar vari\xe1veis"}),(0,n.jsx)(o.td,{children:"OK, Document"})]})]})]})]})}function p(e={}){let{wrapper:o}={...(0,t.a)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},250065:function(e,o,r){r.d(o,{Z:function(){return d},a:function(){return s}});var a=r(667294);let n={},t=a.createContext(n);function s(e){let o=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),a.createElement(t.Provider,{value:o},e.children)}}}]);