"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["58210"],{660603:function(e,a,s){s.r(a),s.d(a,{default:()=>u,frontMatter:()=>t,metadata:()=>o,assets:()=>i,toc:()=>l,contentTitle:()=>r});var o=JSON.parse('{"id":"ORDA/dsmapping","title":"Objetos Data Model","description":"A tecnologia ORDA baseia-se em um mapeamento autom\xe1tico de uma estrutura de banco de dados subjacente. Tamb\xe9m fornece acesso aos dados atrav\xe9s de objetos sele\xe7\xe3o de entidades (entity selection) e entidades (entity). Como resultado, ORDA exp\xf5e toda a base de dados como um conjunto de objetos de modelo de dados.","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R8/ORDA/dsMapping.md","sourceDirName":"ORDA","slug":"/ORDA/dsmapping","permalink":"/docs/pt/20-R8/ORDA/dsmapping","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20ORDA%2FdsMapping.md%20(20-R8)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R8","frontMatter":{"id":"dsmapping","title":"Objetos Data Model"},"sidebar":"docs","previous":{"title":"ORDA","permalink":"/docs/pt/20-R8/ORDA/overview"},"next":{"title":"Classes de modelo de dados","permalink":"/docs/pt/20-R8/ORDA/ordaClasses"}}'),d=s("785893"),n=s("250065");let t={id:"dsmapping",title:"Objetos Data Model"},r=void 0,i={},l=[{value:"Mapeamento da estrutura",id:"mapeamento-da-estrutura",level:2},{value:"Regras gerais",id:"regras-gerais",level:3},{value:"Regras para o controlo do acesso remoto",id:"regras-para-o-controlo-do-acesso-remoto",level:3},{value:"Actualiza\xe7\xe3o do modelo de dados",id:"actualiza\xe7\xe3o-do-modelo-de-dados",level:3},{value:"Defini\xe7\xe3o de objetos",id:"defini\xe7\xe3o-de-objetos",level:2},{value:"Datastore",id:"datastore",level:3},{value:"Dataclass",id:"dataclass",level:3},{value:"Atributo",id:"atributo",level:3},{value:"Atributos de armazenamento e de rela\xe7\xe3o",id:"atributos-de-armazenamento-e-de-rela\xe7\xe3o",level:4},{value:"Atributos computados e alias",id:"atributos-computados-e-alias",level:4},{value:"Entity",id:"entity",level:3},{value:"Sele\xe7\xe3o de entidades",id:"sele\xe7\xe3o-de-entidades",level:3},{value:"Entity selections ordenadas ou n\xe3o ordenadas",id:"entity-selections-ordenadas-ou-n\xe3o-ordenadas",level:4}];function c(e){let a={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.p,{children:"A tecnologia ORDA baseia-se em um mapeamento autom\xe1tico de uma estrutura de banco de dados subjacente. Tamb\xe9m fornece acesso aos dados atrav\xe9s de objetos sele\xe7\xe3o de entidades (entity selection) e entidades (entity). Como resultado, ORDA exp\xf5e toda a base de dados como um conjunto de objetos de modelo de dados."}),"\n",(0,d.jsx)(a.h2,{id:"mapeamento-da-estrutura",children:"Mapeamento da estrutura"}),"\n",(0,d.jsxs)(a.p,{children:["Quando voc\xea chama um datastore usando os comandos ",(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/commands/ds",children:(0,d.jsx)(a.code,{children:"ds"})})," ou ",(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/commands/open-datastore",children:(0,d.jsx)(a.code,{children:"Open datastore"})}),", 4D faz automaticamente refer\xeancia a tabelas e campos da estrutura 4D correspondente como propriedades do objeto ",(0,d.jsx)(a.a,{href:"#datastore",children:"datastore"})," retornado:"]}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsx)(a.li,{children:"As tabelas correspondem \xe0s dataclasses."}),"\n",(0,d.jsx)(a.li,{children:"Os campos s\xe3o mapeados para atributos de armazenamento."}),"\n",(0,d.jsx)(a.li,{children:"As rela\xe7\xf5es s\xe3o mapeadas para atributos de rela\xe7\xf5es - os nomes de rela\xe7\xf5es, definidos no editor de estrutura, s\xe3o usados como nomes de atributos de rela\xe7\xf5es."}),"\n"]}),"\n",(0,d.jsx)(a.p,{children:(0,d.jsx)(a.img,{src:s(680544).Z+"",width:"961",height:"480"})}),"\n",(0,d.jsx)(a.h3,{id:"regras-gerais",children:"Regras gerais"}),"\n",(0,d.jsx)(a.p,{children:"As seguintes regras s\xe3o aplicadas a quaisquer convers\xf5es:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsxs)(a.li,{children:["Os nomes de tabelas, campos e rela\xe7\xf5es s\xe3o mapeados para nomes de propriedade de objeto. Aseg\xfarese de que dichos nombres cumplen con las reglas generales de denominaci\xf3n de objetos, como se explica en la secci\xf3n ",(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/Concepts/identifiers",children:"Convenciones de denominaci\xf3n de objetos"}),"."]}),"\n",(0,d.jsx)(a.li,{children:"Uma datastore s\xf3 referencia as tabelas com uma \xfanica chave prim\xe1ria. As tabelas seguintes n\xe3o s\xe3o referenciadas:"}),"\n",(0,d.jsx)(a.li,{children:"Tabelas sem chave prim\xe1ria"}),"\n",(0,d.jsx)(a.li,{children:"Tabelas com chaves prim\xe1rias compostas."}),"\n",(0,d.jsxs)(a.li,{children:["Os campos BLOB est\xe3o automaticamente dispon\xedveis como atributos do tipo ",(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/Concepts/blob#blob-types",children:"objeto Blob"}),"."]}),"\n"]}),"\n",(0,d.jsxs)(a.blockquote,{children:["\n",(0,d.jsx)(a.p,{children:"O mapeamento ORDA n\xe3o leva em considera\xe7\xe3o:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsx)(a.li,{children:'a op\xe7\xe3o "Invis\xedvel" para tabelas ou campos,'}),"\n",(0,d.jsxs)(a.li,{children:["a estrutura virtual definida atrav\xe9s de ",(0,d.jsx)(a.code,{children:"SET TABLE TITLES"})," ou ",(0,d.jsx)(a.code,{children:"SET FIELD TITLES"}),","]}),"\n",(0,d.jsx)(a.li,{children:'a propriedade "Manual" ou "Autom\xe1tica" das rela\xe7\xf5es.'}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(a.h3,{id:"regras-para-o-controlo-do-acesso-remoto",children:"Regras para o controlo do acesso remoto"}),"\n",(0,d.jsxs)(a.p,{children:["Cuando se accede a un datastore remoto a trav\xe9s del comando ",(0,d.jsx)(a.code,{children:"Abrir datastore"})," o ",(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/REST/gettingStarted",children:"peticiones REST"}),", s\xf3lo las tablas y los campos con la propiedad ",(0,d.jsx)(a.strong,{children:"Exponer como recurso REST"})," est\xe1n disponibles de forma remota."]}),"\n",(0,d.jsx)(a.p,{children:"Essa op\xe7\xe3o deve ser selecionada no n\xedvel da estrutura 4D para cada tabela e cada campo que voc\xea deseja expor como classe de dados e atributo no armazenamento de dados:"}),"\n",(0,d.jsx)(a.p,{children:(0,d.jsx)(a.img,{src:s(170516).Z+"",width:"279",height:"362"})}),"\n",(0,d.jsx)(a.h3,{id:"actualiza\xe7\xe3o-do-modelo-de-dados",children:"Actualiza\xe7\xe3o do modelo de dados"}),"\n",(0,d.jsx)(a.p,{children:"Quaisquer modifica\xe7\xf5es aplicadas no n\xedvel da estrutura da base de dados invalidam a camada atual de data ORDA. Estas modifica\xe7\xf5es incluem:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsx)(a.li,{children:"adicionar ou remover uma tabela, um campo ou uma rela\xe7\xe3o"}),"\n",(0,d.jsx)(a.li,{children:"renomea\xe7\xe3o de uma tabela, um campo ou uma rela\xe7\xe3o"}),"\n",(0,d.jsx)(a.li,{children:"alterar uma propriedade principal de um campo (tipo, exclusivo, \xedndice, autoincremento, suporte a valor null)"}),"\n"]}),"\n",(0,d.jsxs)(a.p,{children:["Cuando la capa actual del modelo ORDA ha sido invalidada, es autom\xe1ticamente recargada y actualizada en llamadas posteriores del datastore local ",(0,d.jsx)(a.code,{children:"ds"})," en 4D y 4D Server. Observe que as refer\xeancias existentes a objetos ORDA, como entidades ou sele\xe7\xf5es de entidades, continuar\xe3o a usar o modelo a partir do qual foram criadas, at\xe9 que sejam geradas novamente."]}),"\n",(0,d.jsx)(a.p,{children:"No entanto, a camada atualizada do modelo ORDA n\xe3o est\xe1 automaticamente dispon\xedvel nos seguintes contextos:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsx)(a.li,{children:"uma aplica\xe7\xe3o remota 4D conectada a 4D Server -- a aplica\xe7\xe3o remota deve reconectar ao servidor."}),"\n",(0,d.jsxs)(a.li,{children:["un datastore remoto abierto mediante ",(0,d.jsx)(a.code,{children:"Open datastore"})," o a trav\xe9s de ",(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/REST/gettingStarted",children:"llamadas REST"})," -- debe abrirse una nueva sesi\xf3n."]}),"\n"]}),"\n",(0,d.jsx)(a.h2,{id:"defini\xe7\xe3o-de-objetos",children:"Defini\xe7\xe3o de objetos"}),"\n",(0,d.jsx)(a.h3,{id:"datastore",children:"Datastore"}),"\n",(0,d.jsxs)(a.p,{children:["O datastore \xe9 o objeto de interface para um banco de dados. Constr\xf3i uma representa\xe7\xe3o de todo o banco de dados como objeto. Un datastore est\xe1 formado por un ",(0,d.jsx)(a.strong,{children:"modelo"})," y ",(0,d.jsx)(a.strong,{children:"datos"}),":"]}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsx)(a.li,{children:"O modelo cont\xe9m e descreve todas as dataclasses que comp\xf5em o datastore. \xc9 independente do pr\xf3prio banco de dados subjacente."}),"\n",(0,d.jsx)(a.li,{children:"Os dados referem-se \xe0 informa\xe7\xe3o que vai ser utilizada e armazenada neste modelo. Por exemplo, nomes, endere\xe7os e datas de nascimento dos funcion\xe1rios s\xe3o pe\xe7as de dados com os quais voc\xea pode trabalhar em um datastore."}),"\n"]}),"\n",(0,d.jsxs)(a.p,{children:["Cuando se maneja a trav\xe9s del c\xf3digo, el datastore es un objeto cuyas propiedades son todas las ",(0,d.jsx)(a.a,{href:"#dataclass",children:"dataclasses"})," que se han expuesto espec\xedficamente."]}),"\n",(0,d.jsx)(a.p,{children:"4D permite lidar com os seguintes datastores:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsxs)(a.li,{children:["el datastore local, basado en la base 4D actual, devuelta por el comando ",(0,d.jsx)(a.code,{children:"ds"})," (el datastore principal)."]}),"\n",(0,d.jsxs)(a.li,{children:["uno o m\xe1s datastores remotos expuestos como recursos REST en las bases 4D remotas, devueltos por el comando ",(0,d.jsx)(a.code,{children:"Open datastore"}),"."]}),"\n"]}),"\n",(0,d.jsx)(a.p,{children:"Um datastore faz refer\xeancia apenas a um \xfanico banco de dados local ou remoto."}),"\n",(0,d.jsx)(a.p,{children:"O pr\xf3prio objeto datastore n\xe3o pode ser copiado como um objeto:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-4d",children:"$mydatastore:=OB Copy(ds) //retorna nulo\n"})}),"\n",(0,d.jsx)(a.p,{children:"No entanto, as propriedades do datastore s\xe3o enumer\xe1veis:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-4d",children:" ARRAY TEXT($prop;0)\n OB GET PROPERTY NAMES(ds;$prop)\n  //$prop cont\xe9m os nomes de todas as classes de dados\n"})}),"\n",(0,d.jsxs)(a.p,{children:["El datastore principal (por defecto) siempre est\xe1 disponible a trav\xe9s del comando ",(0,d.jsx)(a.code,{children:"ds"}),", pero el comando ",(0,d.jsx)(a.code,{children:"Open datastore"})," permite hacer referencia a todo datastore remoto."]}),"\n",(0,d.jsx)(a.h3,{id:"dataclass",children:"Dataclass"}),"\n",(0,d.jsx)(a.p,{children:"Uma dataclass \xe9 o equivalente a uma tabela. \xc9 usado como um modelo de objeto e referir-se a todos os campos como atributos, incluindo atributos relativo (atributos constru\xeddos sobre as rela\xe7\xf5es entre os dataclasses). Os atributos relacionais podem ser utilizados em consultas como qualquer outro atributo."}),"\n",(0,d.jsxs)(a.p,{children:["Todas las dataclasses de un proyecto 4D est\xe1n disponibles como propiedad del datastore ",(0,d.jsx)(a.code,{children:"ds"}),". For remote datastores accessed through ",(0,d.jsx)(a.code,{children:"Open datastore"})," or ",(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/REST/gettingStarted",children:"REST requests"}),", the ",(0,d.jsx)(a.strong,{children:"Expose as REST resource"})," option must be selected at the 4D structure level for each exposed table that you want to be exposed as dataclass in the datastore."]}),"\n",(0,d.jsx)(a.p,{children:"Por exemplo, considere a seguinte tabela na estrutura 4D:"}),"\n",(0,d.jsx)(a.p,{children:(0,d.jsx)(a.img,{src:s(123639).Z+"",width:"137",height:"188"})}),"\n",(0,d.jsxs)(a.p,{children:["La tabla ",(0,d.jsx)(a.code,{children:"Company"})," est\xe1 disponible autom\xe1ticamente como dataclass en el datastore ",(0,d.jsx)(a.code,{children:"ds"}),". Voc\xea pode escrever:"]}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-4d",children:"var $compClass : cs. Company //declares a $compClass object variable of the Company class\n$compClass:=ds. Company //assigns the Company dataclass reference to $compClass\n"})}),"\n",(0,d.jsx)(a.p,{children:"Um objeto de classe de dados pode conter:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsx)(a.li,{children:"attributes"}),"\n",(0,d.jsx)(a.li,{children:"atributos relacionais"}),"\n"]}),"\n",(0,d.jsx)(a.p,{children:"A classe de dados oferece uma abstra\xe7\xe3o do banco de dados f\xedsico e permite a manipula\xe7\xe3o de um modelo de dados conceitual. A dataclass \xe9 a \xfanica forma de consultar o datastore. Uma consulta \xe9 feita a partir de uma \xfanica dataclass. As consultas s\xe3o constru\xeddas em torno de atributos e nomes de atributos de rela\xe7\xe3o das dataclasses. Assim, os atributos de rela\xe7\xe3o s\xe3o o meio de envolver v\xe1rias tabelas ligadas numa consulta."}),"\n",(0,d.jsx)(a.p,{children:"O pr\xf3prio objeto dataclass n\xe3o pode ser copiado como um objeto:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-4d",children:"$mydataclass:=OB Copy(ds. Employee) //returns null\n"})}),"\n",(0,d.jsx)(a.p,{children:"No entanto, as propriedades da dataclass s\xe3o enumer\xe1veis:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-code4d",children:"ARRAY TEXT($prop;0)\nOB GET PROPERTY NAMES(ds. Employee;$prop)\n//$prop contains the names of all the dataclasse attributes\n"})}),"\n",(0,d.jsx)(a.h3,{id:"atributo",children:"Atributo"}),"\n",(0,d.jsx)(a.p,{children:"As propriedades de dataclass s\xe3o objetos de atributo que descrevem os campos ou rela\xe7\xf5es subjacentes. Por exemplo:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-4d",children:' $nameAttribute:=ds. Company.name //reference to class attribute\n $revenuesAttribute:=ds. Company["revenues"] //alternate way\n'})}),"\n",(0,d.jsxs)(a.p,{children:["Este c\xf3digo asigna a ",(0,d.jsx)(a.code,{children:"$nameAttribute"})," y ",(0,d.jsx)(a.code,{children:"$revenuesAttribute"})," las referencias a los atributos name y revenues de la clase ",(0,d.jsx)(a.code,{children:"Company"}),". Essa sintaxe NAO devolve valores mantidos dentro do atributo, mas sim devolve refer\xeancias aos pr\xf3prios atributos. Para manejar los valores, es necesario pasar por ",(0,d.jsx)(a.a,{href:"#entity",children:"Entidades"}),"."]}),"\n",(0,d.jsxs)(a.p,{children:["Todos los campos elegibles de una tabla est\xe1n disponibles como atributos de su ",(0,d.jsx)(a.a,{href:"#dataclass",children:"dataclass"})," padre. Para los datastores remotos a los que se accede a trav\xe9s de ",(0,d.jsx)(a.code,{children:"Open datastore"})," o ",(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/REST/gettingStarted",children:"peticiones REST"}),", se debe seleccionar la opci\xf3n ",(0,d.jsx)(a.strong,{children:"Exponer como recurso REST"})," al nivel de la estructura 4D para cada campo que se desee exponer como at"]}),"\n",(0,d.jsx)(a.h4,{id:"atributos-de-armazenamento-e-de-rela\xe7\xe3o",children:"Atributos de armazenamento e de rela\xe7\xe3o"}),"\n",(0,d.jsxs)(a.p,{children:["Atributos da Dataclass v\xeam em v\xe1rios tipos: armazenamento, relatedEntity e relatedEntities. Los atributos escalares (",(0,d.jsx)(a.em,{children:"es decir"}),", ofrecen un \xfanico valor) soportan todos los tipos de datos est\xe1ndar 4D (entero, texto, objeto, etc.)."]}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsxs)(a.li,{children:["Un ",(0,d.jsx)(a.strong,{children:"atributo de almacenamiento"})," equivale a un campo en la base de datos 4D y puede indexarse. Os valores atribu\xeddos a um atributo de armazenamento s\xe3o armazenados como parte da entidade quando ela \xe9 salva. Quando um atributo de armazenamento \xe9 acessado, seu valor vem diretamente do datastore. Atributos de armazenamento s\xe3o o bloco de constru\xe7\xe3o mais b\xe1sico de uma entidade sendo definidos pelo nome e tipo de dados."]}),"\n",(0,d.jsxs)(a.li,{children:["Un ",(0,d.jsx)(a.strong,{children:"atributo relacional"}),' ofrece acceso a otras entidades. Os atributos rela\xe7\xe3o podem resultar em uma \xfanica entidade (ou nenhuma entidade) ou em uma sele\xe7\xe3o de entidades (de 0 a N). Os atributos relacional s\xe3o criados com base em rela\xe7\xf5es "cl\xe1ssicas" na estrutura relacional para fornecer acesso direto a entidades relacionadas ou a entidades relacionadas. Os atributos de rela\xe7\xe3o est\xe3o diretamente dispon\xedveis no ORDA usando seus nomes.']}),"\n"]}),"\n",(0,d.jsx)(a.p,{children:"Por exemplo, considere a seguinte estrutura de banco de dados parcial e as propriedades de rela\xe7\xe3o:"}),"\n",(0,d.jsx)(a.p,{children:(0,d.jsx)(a.img,{src:s(934394).Z+"",width:"690",height:"533"})}),"\n",(0,d.jsx)(a.p,{children:"Todos os atributos de armazenamento estar\xe3o automaticamente dispon\xedveis:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsx)(a.li,{children:'na dataclass Project: "ID", "name" e "companyID"'}),"\n",(0,d.jsx)(a.li,{children:'na dataclass Company: "ID", "name" e "discount"'}),"\n"]}),"\n",(0,d.jsx)(a.p,{children:"Al\xe9m disso, os seguintes atributos de rela\xe7\xe3o tamb\xe9m estar\xe3o automaticamente dispon\xedveis:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsxs)(a.li,{children:["en la dataclass Project: el atributo ",(0,d.jsx)(a.strong,{children:"theClient"}),', del tipo "relatedEntity"; hay como m\xe1ximo una Empresa para cada Proyecto (el cliente)']}),"\n",(0,d.jsxs)(a.li,{children:["en la dataclass Company: el atributo ",(0,d.jsx)(a.strong,{children:"companyProjects"}),', del tipo "relatedEntities"; para cada empresa existe un cierto n\xfamero de proyectos relacionados.']}),"\n"]}),"\n",(0,d.jsxs)(a.blockquote,{children:["\n",(0,d.jsx)(a.p,{children:"> > > > A propriedade Manual ou Autom\xe1tica de uma rela\xe7\xe3o de banco de dados n\xe3o tem efeito no ORDA."}),"\n"]}),"\n",(0,d.jsx)(a.p,{children:"Todos os atributos da dataclass s\xe3o expostos como propriedades da dataclass:"}),"\n",(0,d.jsx)(a.p,{children:(0,d.jsx)(a.img,{src:s(517157).Z+"",width:"1049",height:"288"})}),"\n",(0,d.jsxs)(a.p,{children:["Tenha em mente que esses objetos descrevem os atributos, mas n\xe3o d\xe3o acesso aos dados. La lectura o escritura de los datos se realiza a trav\xe9s de los ",(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/ORDA/entities#using-entity-attributes",children:"objetos entidad"}),"."]}),"\n",(0,d.jsx)(a.h4,{id:"atributos-computados-e-alias",children:"Atributos computados e alias"}),"\n",(0,d.jsxs)(a.p,{children:["Los ",(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/ORDA/ordaClasses#computed-attributes",children:"atributos calculados"})," y ",(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/ORDA/ordaClasses#alias-attributes",children:"alias"}),' son atributos "virtuales". O seu valor n\xe3o \xe9 armazenado, mas avaliado sempre que s\xe3o acedidos. Eles n\xe3o pertencem \xe0 estrutura de banco de dados subjacente, mas s\xe3o constru\xeddos sobre ela e podem ser usados como qualquer atributo do modelo de dados.']}),"\n",(0,d.jsx)(a.h3,{id:"entity",children:"Entity"}),"\n",(0,d.jsxs)(a.p,{children:["Uma entidade \xe9 o equivalente a um registo. Na verdade, \xe9 um objeto que referir-se a um registo no banco de dados. Puede verse como una instancia de una ",(0,d.jsx)(a.a,{href:"#dataclass",children:"dataclass"}),", como un registro de la tabla correspondiente a la dataclass. No entanto, uma entidade tamb\xe9m cont\xe9m dados correlacionados ao banco de dados relacionado ao datastore."]}),"\n",(0,d.jsx)(a.p,{children:"O objetivo da entidade \xe9 gerir dados (criar, atualizar, apagar). Quando uma refer\xeancia de entidade \xe9 obtida por uma sele\xe7\xe3o de entidade, ela tamb\xe9m ret\xe9m informa\xe7\xf5es sobre a sele\xe7\xe3o de entidade, o que permite a itera\xe7\xe3o por meio da sele\xe7\xe3o."}),"\n",(0,d.jsx)(a.p,{children:"O objeto entidade em si n\xe3o pode ser copiado como um objeto:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-4d",children:" $myentity:=OB Copy(ds. Employee.get(1)) //retorna null\n"})}),"\n",(0,d.jsx)(a.p,{children:"As propriedades da entidade s\xe3o, no entanto, enumer\xe1veis:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-4d",children:" ARRAY TEXT($prop;0)\n OB GET PROPERTY NAMES(ds. Employee.get(1);$prop)\n  //$prop contains the names of all the entity attributes\n"})}),"\n",(0,d.jsx)(a.h3,{id:"sele\xe7\xe3o-de-entidades",children:"Sele\xe7\xe3o de entidades"}),"\n",(0,d.jsx)(a.p,{children:"Uma sele\xe7\xe3o de entidade \xe9 um objeto contendo uma ou mais refer\xeancia(s) a entidades pertencentes \xe0 mesma dataclass. \xc9 normalmente criado como resultado de uma consulta ou devolvido a partir de um atributo de rela\xe7\xe3o. Uma sele\xe7\xe3o de entidades pode conter 0, 1 ou X entidades da dataclass -- onde X pode representar o n\xfamero total de entidades contidas na dataclass."}),"\n",(0,d.jsx)(a.p,{children:"Exemplo:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-4d",children:"var $e : cs. EmployeeSelection //declares a $e object variable of the EmployeeSelection class type\n$e:=ds. Employee.all() //assigns the resulting entity selection reference to the $e variable\n"})}),"\n",(0,d.jsxs)(a.p,{children:['Las entity selections pueden estar "ordenadas" o "sin ordenar" (',(0,d.jsx)(a.a,{href:"#ordered-or-unordered-entity-selection",children:"ver abajo"}),")."]}),"\n",(0,d.jsxs)(a.blockquote,{children:["\n",(0,d.jsxs)(a.p,{children:['Las entity selections tambi\xe9n pueden ser "compartibles" o "no compartibles", dependiendo de ',(0,d.jsx)(a.a,{href:"/docs/pt/20-R8/ORDA/entities#shareable-or-alterable-entity-selections",children:"c\xf3mo se hayan creado"}),"."]}),"\n"]}),"\n",(0,d.jsx)(a.p,{children:"O pr\xf3prio objeto de sele\xe7\xe3o de entidades n\xe3o pode ser copiado como um objeto:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-4d",children:" $myentitysel:=OB Copy(ds. Employee.all()) //returns null\n"})}),"\n",(0,d.jsx)(a.p,{children:"No entanto, as propriedades de sele\xe7\xe3o de entidades s\xe3o enumer\xe1veis:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-4d",children:' ARRAY TEXT($prop;0)\n OB GET PROPERTY NAMES(ds. Employee.all();$prop)\n  //$prop contains the names of the entity selection properties\n  //("length", 00", "01"...)\n'})}),"\n",(0,d.jsx)(a.h4,{id:"entity-selections-ordenadas-ou-n\xe3o-ordenadas",children:"Entity selections ordenadas ou n\xe3o ordenadas"}),"\n",(0,d.jsxs)(a.p,{children:["Por razones de optimizaci\xf3n, por defecto, 4D ORDA normalmente crea selecciones de entidades no ordenadas, excepto cuando utiliza el m\xe9todo ",(0,d.jsx)(a.code,{children:"orderBy( )"}),' o utiliza opciones espec\xedficas. Nesta documenta\xe7\xe3o, a menos que especificado, "entity selection" geralmente se refere a uma "entity selection n\xe3o ordenada".']}),"\n",(0,d.jsx)(a.p,{children:"As sele\xe7\xf5es das entidades ordenadas s\xe3o criadas apenas quando necess\xe1rias ou quando solicitadas especificamente usando op\xe7\xf5es, ou seja, nos seguintes casos:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsxs)(a.li,{children:["resultado de un ",(0,d.jsx)(a.code,{children:"orderBy()"})," sobre una selecci\xf3n (de cualquier tipo) o de un ",(0,d.jsx)(a.code,{children:"orderBy()"})," sobre una dataclass"]}),"\n",(0,d.jsxs)(a.li,{children:["resultado del m\xe9todo ",(0,d.jsx)(a.code,{children:"newSelection()"})," con la opci\xf3n ",(0,d.jsx)(a.code,{children:"dk keep ordered"})]}),"\n"]}),"\n",(0,d.jsx)(a.p,{children:"As selec\xe7\xf5es de entidades n\xe3o ordenadas s\xe3o criadas nos seguintes casos:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsxs)(a.li,{children:["resultado de un ",(0,d.jsx)(a.code,{children:"query()"})," est\xe1ndar sobre una selecci\xf3n (de cualquier tipo) o de un ",(0,d.jsx)(a.code,{children:"query()"})," sobre una dataclass,"]}),"\n",(0,d.jsxs)(a.li,{children:["resultado del m\xe9todo ",(0,d.jsx)(a.code,{children:"newSelection()"})," sin opci\xf3n,"]}),"\n",(0,d.jsxs)(a.li,{children:["resultado de uno de los m\xe9todos de comparaci\xf3n, sean cuales sean los tipos de selecci\xf3n de entrada: ",(0,d.jsx)(a.code,{children:"or()"}),", ",(0,d.jsx)(a.code,{children:"and()"}),", ",(0,d.jsx)(a.code,{children:"minus()"}),"."]}),"\n"]}),"\n",(0,d.jsxs)(a.blockquote,{children:["\n",(0,d.jsxs)(a.p,{children:["Las siguientes selecciones de entidades son siempre ",(0,d.jsx)(a.strong,{children:"ordenadas"}),":"]}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsx)(a.li,{children:"sele\xe7\xf5es de entidades retornadas pelo 4D Server para um cliente remoto"}),"\n",(0,d.jsx)(a.li,{children:"selec\xe7\xf5es de entidades constru\xeddas em datastores remotos."}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(a.p,{children:"Observe que quando uma sele\xe7\xe3o de entidade ordenada se torna uma sele\xe7\xe3o de entidade n\xe3o ordenada, quaisquer refer\xeancias repetidas s\xe3o removidas."})]})}function u(e={}){let{wrapper:a}={...(0,n.a)(),...e.components};return a?(0,d.jsx)(a,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},170516:function(e,a,s){s.d(a,{Z:function(){return o}});let o=s.p+"assets/images/ExposeDataclass-493afc3bdbd30cb758f171009c9d11bb.png"},123639:function(e,a,s){s.d(a,{Z:function(){return o}});let o=s.p+"assets/images/companyTable-15e8c71e579a6392b89a8e3f45aa8536.png"},517157:function(e,a,s){s.d(a,{Z:function(){return o}});let o=s.p+"assets/images/dataclassProperties-b0e6524ae14723315b5d45435df82853.png"},680544:function(e,a,s){s.d(a,{Z:function(){return o}});let o=s.p+"assets/images/datastoreMapping-833be12255d9e7b9cde49426a0cc902f.png"},934394:function(e,a,s){s.d(a,{Z:function(){return o}});let o=s.p+"assets/images/relationProperties-f7d9bc6fc793e2bae76ea2164c37ffe3.png"},250065:function(e,a,s){s.d(a,{Z:function(){return r},a:function(){return t}});var o=s(667294);let d={},n=o.createContext(d);function t(e){let a=o.useContext(n);return o.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),o.createElement(n.Provider,{value:a},e.children)}}}]);