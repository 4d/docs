"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["82183"],{639894:function(e,n,s){s.r(n),s.d(n,{metadata:()=>a,contentTitle:()=>i,default:()=>m,assets:()=>t,toc:()=>l,frontMatter:()=>d});var a=JSON.parse('{"id":"API/DataClassClass","title":"DataClass","description":"A DataClass fornece uma interface de objeto para uma tabela de banco de dados. Todas as lasses de um aplicativo 4D est\xe3o dispon\xedveis como propriedade de \'ds\' datastore.","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R6/API/DataClassClass.md","sourceDirName":"API","slug":"/API/DataClassClass","permalink":"/docs/pt/20-R6/API/DataClassClass","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataClassClass.md%20(20-R6)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R6","frontMatter":{"id":"DataClassClass","title":"DataClass"},"sidebar":"docs","previous":{"title":"CryptoKey","permalink":"/docs/pt/20-R6/API/CryptoKeyClass"},"next":{"title":"DataStore","permalink":"/docs/pt/20-R6/API/DataStoreClass"}}'),r=s("785893"),o=s("250065");let d={id:"DataClassClass",title:"DataClass"},i=void 0,t={},l=[{value:"Resumo",id:"resumo",level:3},{value:"Exemplo 1",id:"exemplo-1",level:4},{value:"Exemplo 2",id:"exemplo-2",level:4},{value:".<em>attributeName</em>",id:"attributename",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Objeto devolvido",id:"objeto-devolvido",level:4},{value:"Exemplo 1",id:"exemplo-1-1",level:4},{value:"Exemplo 2",id:"exemplo-2-1",level:4},{value:"Exemplo 3",id:"exemplo-3",level:4},{value:".all()",id:"all",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:4},{value:"Exemplo",id:"exemplo",level:4},{value:".clearRemoteCache()",id:"clearremotecache",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:4},{value:"Exemplo",id:"exemplo-4",level:4},{value:".fromCollection()",id:"fromcollection",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-3",level:4},{value:"Exemplo 1",id:"exemplo-1-2",level:4},{value:"Exemplo 2",id:"exemplo-2-2",level:4},{value:"Exemplo 3",id:"exemplo-3-1",level:4},{value:"Exemplo",id:"exemplo-5",level:4},{value:"Exemplo 2",id:"exemplo-2-3",level:4},{value:"Exemplo 6",id:"exemplo-6",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m",level:4},{value:".get()",id:"get",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-4",level:4},{value:"Exemplo 1",id:"exemplo-1-3",level:4},{value:"Exemplo 2",id:"exemplo-2-4",level:4},{value:".getCount()",id:"getcount",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-5",level:4},{value:"Exemplo",id:"exemplo-7",level:4},{value:".getDataStore()",id:"getdatastore",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-6",level:4},{value:"Exemplo",id:"exemplo-8",level:4},{value:".getInfo()",id:"getinfo",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-7",level:4},{value:"Exemplo 1",id:"exemplo-1-4",level:4},{value:"Exemplo 2",id:"exemplo-2-5",level:4},{value:"Exemplo 3",id:"exemplo-3-2",level:4},{value:".getRemoteCache()",id:"getremotecache",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-8",level:4},{value:"Exemplo",id:"exemplo-9",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-1",level:4},{value:".new()",id:"new",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-9",level:4},{value:"Exemplo",id:"exemplo-10",level:4},{value:".newSelection()",id:"newselection",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-10",level:4},{value:"Exemplo",id:"exemplo-11",level:4},{value:".query()",id:"query",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-11",level:4},{value:"par\xe2metro queryString",id:"par\xe2metro-querystring",level:4},{value:"Usar aspas",id:"usar-aspas",level:4},{value:"Usando par\xeantesis",id:"usando-par\xeantesis",level:4},{value:"Uso de placeholders",id:"uso-de-placeholders",level:4},{value:"Pesquisa de valores null",id:"pesquisa-de-valores-null",level:4},{value:"N\xe3o igual a em colec\xe7\xf5es",id:"n\xe3o-igual-a-em-colec\xe7\xf5es",level:4},{value:"Linkar os argumentos de pesquisa com os atributos de cole\xe7\xe3o",id:"linkar-os-argumentos-de-pesquisa-com-os-atributos-de-cole\xe7\xe3o",level:4},{value:"Consultas em rela\xe7\xf5es Muitos para Muitos",id:"consultas-em-rela\xe7\xf5es-muitos-para-muitos",level:4},{value:"Par\xe2metro formula",id:"par\xe2metro-formula",level:4},{value:"Passar par\xe2metros a f\xf3rmulas",id:"passar-par\xe2metros-a-f\xf3rmulas",level:4},{value:"Par\xe2metro querySettings",id:"par\xe2metro-querysettings",level:4},{value:"Sobre queryPlan e queryPath",id:"sobre-queryplan-e-querypath",level:4},{value:"Exemplo 1",id:"exemplo-1-5",level:4},{value:"Exemplo 2",id:"exemplo-2-6",level:4},{value:"Exemplo 3",id:"exemplo-3-3",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-2",level:4},{value:".setRemoteCacheSettings()",id:"setremotecachesettings",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-12",level:4},{value:"Exemplo",id:"exemplo-12",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-3",level:4}];function c(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/dsmapping#dataclass",children:"DataClass"})," fornece uma interface de objeto para uma tabela de banco de dados. Todas as lasses de um aplicativo 4D est\xe3o dispon\xedveis como propriedade de 'ds' ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/dsmapping#datastore",children:"datastore"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"resumo",children:"Resumo"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsx)(n.tr,{children:(0,r.jsx)(n.th,{})})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#attributename",children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:".attributeName"})})," : object"]}),(0,r.jsx)(n.br,{}),"objetos que est\xe3o dispon\xedveis diretamente como propriedades"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#all",children:[(0,r.jsx)(n.strong,{children:".all"})," ( { ",(0,r.jsx)(n.em,{children:"settings"})," : Object } ) : 4D.EntitySelection"]}),(0,r.jsx)(n.br,{}),"consulta a datastore para encontrar todas as entidades relacionadas \xe0 classe de dados e as retorna como uma entity selection"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.a,{href:"#clearremotecache",children:(0,r.jsx)(n.strong,{children:".clearRemoteCache()"})}),(0,r.jsx)(n.br,{}),"esvazia o cache ORDA de uma dataclass"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#fromcollection",children:[(0,r.jsx)(n.strong,{children:".fromCollection"}),"( ",(0,r.jsx)(n.em,{children:"objectCol"})," : Collection { ; ",(0,r.jsx)(n.em,{children:"settings"})," : Object } ) : 4D.EntitySelection"]}),(0,r.jsx)(n.br,{})," atualiza ou cria entidades na dataclass de acordo com a cole\xe7\xe3o ",(0,r.jsx)(n.em,{children:"objectCol"})," de objetos e retorna a sele\xe7\xe3o de entidades correspondente"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#get",children:[(0,r.jsx)(n.strong,{children:".get"}),"( ",(0,r.jsx)(n.em,{children:"primaryKey"})," : Integer { ; ",(0,r.jsx)(n.em,{children:"settings"})," : Object } ) : 4D.Entity",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".get"}),"( ",(0,r.jsx)(n.em,{children:"primaryKey"})," : Text { ; ",(0,r.jsx)(n.em,{children:"settings"})," : Object } ) : 4D.Entity"]}),(0,r.jsx)(n.br,{}),"consulta o dataclass para recuperar a entidade que corresponde ao par\xe2metro ",(0,r.jsx)(n.em,{children:"primaryKey"}),"."]})})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Em ",(0,r.jsx)(n.em,{children:"primaryKey"}),", passe a chave prim\xe1ria da entidade para recuperar. Em ",(0,r.jsx)(n.em,{"x-id":"3",children:"primaryKey"}),", passe o valor da chave prim\xe1ria da entidade a recuperar Em ",(0,r.jsx)(n.em,{"x-id":"3",children:"primaryKey"}),", passe o valor da chave prim\xe1ria da entidade a recuperar O tipo valor deve coresponder com o tipo de chave prim\xe1ria estabelecido na datastore (Inteiro ou texto). Voc\xea tamb\xe9m pode ter certeza de que o valor da chave prim\xe1ria \xe9 sempre retornado como Texto usando o ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/EntityClass#getkey",children:(0,r.jsx)(n.code,{children:". etKey()"})})," com a fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk key como par\xe2metro"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Se nenhuma entidade for encontrada com ",(0,r.jsx)(n.em,{children:"primaryKey"}),", uma entidade ",(0,r.jsx)(n.strong,{children:"Null"})," ser\xe1 retornada."]}),"\n",(0,r.jsx)(n.p,{children:"\xc9 aplicado o lazy loading/carregamento diferido, ou seja os dados relacionados s\xe3o carregados do disco s\xf3 quando pedidos."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"settings"})}),"\n",(0,r.jsxs)(n.p,{children:["No par\xe2metro opcional ",(0,r.jsx)(n.em,{children:"settings"}),", voc\xea pode passar um objeto que contenha op\xe7\xf5es adicionais. As propriedades abaixo s\xe3o compat\xedveis:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"context"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["Etiqueta para o contexto de otimiza\xe7\xe3o autom\xe1tico aplicados \xe0 entidade. Esse contexto ser\xe1 usado pelo c\xf3digo subsequente que carrega a entidade para que se possa beneficiar da otimiza\xe7\xe3o. Esta funcionalidade \xe9 ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/client-server-optimization",children:"concebida para processamento ORDA cliente/servidor"}),"."]})]})})]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Quando voc\xea chama a fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".get()"})," ",(0,r.jsx)(n.strong,{children:"sem"})," par\xe2metro ",(0,r.jsx)(n.em,{children:"configura\xe7\xf5es"}),", uma solicita\xe7\xe3o para valores de atributos \xe9 enviada diretamente para o servidor (o [cache ORDA](. /ORDA/client-server-optimization.md#orda-cache) n\xe3o \xe9 usado). Por outro lado, quando voc\xea chama o ",(0,r.jsx)(n.code,{children:". fun\xe7\xe3o et()"})," ",(0,r.jsx)(n.strong,{children:"com"})," um ",(0,r.jsx)(n.code,{children:"context"})," passado no par\xe2metro ",(0,r.jsx)(n.em,{children:"settings"}),", valores de atributo s\xe3o recuperados do cache ORDA correspondente ao contexto. Nesse caso, pode ser aconselh\xe1vel chamar [",(0,r.jsx)(n.code,{children:"reload()"}),"] (EntityClass.md#reload) para garantir que os dados mais recentes sejam recuperados do servidor."]})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $entity : cs.EmployeeEntity  \n var $entity2 : cs.InvoiceEntity\n $entity:=ds.Employee.get(167) // retorna a entidade cujo valor da chave prim\xe1ria \xe9 167\n $entity2:=ds.Invoice.get("DGGX20030") // retorna a entidade cujo valor da chave prim\xe1ria \xe9 "DGGX20030"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,r.jsxs)(n.p,{children:["Este exemplo ilustra o uso da propriedade ",(0,r.jsx)(n.em,{children:"context"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $e1; $e2; $e3; $e4 : cs. mployeeEntity\n var $settings; $settings2 : Objeto\n\n $settings:=Novo objeto("contexto"; de")\n $settings2:=Novo objeto("contexto";"resumo")\n\n $e1:=ds. Colaborador. et(1;$settings)\n completeAllData($e1) // Em completeAllData m\xe9todo uma otimiza\xe7\xe3o \xe9 acionada e associada ao contexto "detalhe"\n\n $e2:=ds. Colaborador. et(2;$settings)\n completeAllData($e2) // Em completeAllData m\xe9todo a otimiza\xe7\xe3o associada ao "detalhe" \xe9 aplicada\n\n $e3:=ds.Employee. et(3;$settings2)\n completeSum\xe1rio ($e3) //Em resumo completo, uma otimiza\xe7\xe3o \xe9 acionada e associada ao contexto "resumo"\n\n $e4:=ds. mployee.get(4;$settings2)\n completeSummary($e4) //In completeSummary m\xe9todo, a otimiza\xe7\xe3o associada ao contexto "resumo" \xe9 aplicada\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"                                                      |\n"})}),"\n",(0,r.jsxs)(n.p,{children:["| ",(0,r.jsxs)(n.a,{href:"#getcount",children:[(0,r.jsx)(n.strong,{children:".getCount()"})," : Integer "]}),(0,r.jsx)(n.br,{})," retorna o n\xfamero de entidades em uma dataclass                                           |\n| ",(0,r.jsxs)(n.a,{href:"#getdatastore",children:[(0,r.jsx)(n.strong,{children:".getDataStore()"})," : cs.DataStore"]}),(0,r.jsx)(n.br,{}),"retorna o datastore para a dataclass especificada                               |\n| ",(0,r.jsxs)(n.a,{href:"#getinfo",children:[(0,r.jsx)(n.strong,{children:".getInfo()"})," : Object "]}),(0,r.jsx)(n.br,{}),"retorna um objeto que fornece informa\xe7\xf5es sobre a dataclass                                              |\n| ",(0,r.jsxs)(n.a,{href:"#getremotecache",children:[(0,r.jsx)(n.strong,{children:".getRemoteCache"}),"() : Object "]}),(0,r.jsx)(n.br,{}),"                         |\n| ",(0,r.jsxs)(n.a,{href:"#new",children:[(0,r.jsx)(n.strong,{children:".new()"})," : 4D.Entity "]}),(0,r.jsx)(n.br,{}),"cria na mem\xf3ria e retorna uma nova entidade em branco relacionada \xe0 Dataclass                                                          |\n| ",(0,r.jsxs)(n.a,{href:"#newselection",children:[(0,r.jsx)(n.strong,{children:".newSelection"}),"( { ",(0,r.jsx)(n.em,{children:"keepOrder"})," : Integer } ) : 4D.EntitySelection "]}),(0,r.jsx)(n.br,{}),"cria uma nova sele\xe7\xe3o de entidades em branco, n\xe3o compartilh\xe1vel, relacionada \xe0 dataclass, na mem\xf3ria                               |\n| ",(0,r.jsxs)(n.a,{href:"#query",children:[(0,r.jsx)(n.strong,{children:".query"}),"( ",(0,r.jsx)(n.em,{children:"queryString"})," : Text { ; ",(0,r.jsx)(n.em,{children:"...value"})," : any } { ; ",(0,r.jsx)(n.em,{children:"querySettings"})," : Object } ) : 4D.EntitySelection ",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".query"}),"( ",(0,r.jsx)(n.em,{children:"formula"})," : Object { ; ",(0,r.jsx)(n.em,{children:"querySettings"})," : Object } ) : 4D.EntitySelection "]}),(0,r.jsx)(n.br,{}),"                                                    |\n| ",(0,r.jsxs)(n.a,{href:"#setremotecachesettings",children:[(0,r.jsx)(n.strong,{children:".setRemoteCacheSettings"}),"(",(0,r.jsx)(n.em,{children:"settings"})," : Object) "]}),(0,r.jsx)(n.br,{}),"sets the timeout and maximum size of the ORDA cache for a dataclass. |"]}),"\n",(0,r.jsxs)(n.h2,{id:"attributename",children:[".",(0,r.jsx)(n.em,{children:"attributeName"})]}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"19 R3"}),(0,r.jsx)(n.td,{children:"Adicionado o atributo .exposed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:".attributeName"})})," : object"]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsx)(n.p,{children:"Os atributos das lasses de dados s\xe3o objetos que est\xe3o dispon\xedveis diretamente como propriedades dessas classes."}),"\n",(0,r.jsx)(n.p,{children:"Os objetos retornados t\xeam propriedades que voc\xea pode ler para obter informa\xe7\xf5es sobre os atributos da classe de dados."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Os objetos do atributo Dataclass podem ser modificados, mas a estrutura subjacente do banco de dados n\xe3o ser\xe1 alterada."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"objeto-devolvido",children:"Objeto devolvido"}),"\n",(0,r.jsx)(n.p,{children:"Os objetos atributos retornados cont\xeam as seguintes propriedades:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"autoFilled"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsxs)(n.td,{children:['True se o valor do atributo for automaticamente preenchido por 4D. Corresponde \xe0s seguintes propriedades de campos 4D: "Autoincrement" para os campos de tipo num\xe9rico e "Auto UUID" para os campos UUID (alfa). N\xe3o retornado se ',(0,r.jsx)(n.code,{children:".kind"}),' = "relatedEntity" ou "relatedEntities".']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"exposed"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsx)(n.td,{children:"True se o atributo estiver exposto no REST"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"fieldNumber"}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsxs)(n.td,{children:["N\xfamero interno do campo 4D do atributo. N\xe3o retornado se ",(0,r.jsx)(n.code,{children:".kind"}),' = "relatedEntity" ou "relatedEntities".']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"fieldType"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsxs)(n.td,{children:["Tipo de campo de banco de dados 4D do atributo. Depende do atributo ",(0,r.jsx)(n.code,{children:"kind"}),". Valores poss\xedveis: ",(0,r.jsxs)(n.li,{children:["if ",(0,r.jsx)(n.code,{children:".kind"}),' = "storage": corresponding 4D field type pe, consulte [',(0,r.jsx)(n.code,{children:"Value type"}),"](",(0,r.jsx)(n.a,{href:"https://doc.4d",children:"https://doc.4d"}),". om/4dv20/help/command/en/page1509.html)"]}),(0,r.jsxs)(n.li,{children:["if ",(0,r.jsx)(n.code,{children:".kind"}),' = "relatedEntity": 38 (',(0,r.jsx)(n.code,{children:"is object"}),")"]}),(0,r.jsxs)(n.li,{children:["if ",(0,r.jsx)(n.code,{children:". ind"}),' = "relatedEntities": 42 (',(0,r.jsx)(n.code,{children:"is collection"}),")"]}),(0,r.jsxs)(n.li,{children:["if ",(0,r.jsx)(n.code,{children:". ind"}),' = "calculado" ou "alias" = o mesmo que acima, dependendo do valor resultante (tipo de campo, relatedEntity ou relatedEntities)']})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"indexed"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsxs)(n.td,{children:["True se houver um \xedndice B-tree ou Cluster B-tree no atributo. N\xe3o retornado se ",(0,r.jsx)(n.code,{children:".kind"}),' = "relatedEntity" ou "relatedEntities".']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"inverseName"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["Nome do atributo que est\xe1 do outro lado da rela\xe7\xe3o. Retornado somente quando ",(0,r.jsx)(n.code,{children:".kind"}),' = "relatedEntity" ou "relatedEntities".']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"keywordIndexed"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsxs)(n.td,{children:["True se houver um \xedndice de palavras-chave no atributo. N\xe3o retornado se ",(0,r.jsx)(n.code,{children:".kind"}),' = "relatedEntity" ou "relatedEntities".']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"kind"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["Categoria do atributo. Valores poss\xedveis:",(0,r.jsx)(n.li,{children:'"storage": armazenamento (ou escala), atributo ex: atributo armazenando um valor, n\xe3o uma refer\xeancia a outro atributo'}),(0,r.jsxs)(n.li,{children:['"calculated": atributo calculado, ou seja, definido atrav\xe9s de uma fun\xe7\xe3o ',(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/ordaClasses#function-get-attributename",children:(0,r.jsx)(n.code,{children:"get"})})]}),(0,r.jsxs)(n.li,{children:['"alias": atributo constru\xeddo sobre ',(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/ordaClasses#alias-attributes-1",children:"outro atributo"})]}),(0,r.jsx)(n.li,{children:'"relatedEntity": N -> 1 atributo de rela\xe7\xe3o (refer\xeancia a uma entidade)'}),(0,r.jsx)(n.li,{children:'"relatedEntities": 1 -> N atributo de rela\xe7\xe3o (refer\xeancia a uma sele\xe7\xe3o de entidade)'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"obrigat\xf3rio"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsxs)(n.td,{children:["True se a entrada de um valor null for rejeitada para o atributo. N\xe3o retornado se ",(0,r.jsx)(n.code,{children:".kind"}),' = "relatedEntity" ou "relatedEntities". Nota: Esta propriedade corresponde \xe0 propriedade do campo "Reject NULL value input" ao n\xedvel do banco de dados 4D. N\xe3o tem rela\xe7\xe3o com a propriedade existente "Mandatory"/obrigat\xf3rio que \xe9 uma op\xe7\xe3o de controle de entrada de dados para uma tabela.']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"name"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Nome do atributo como string"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"path"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["Caminho do ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/ordaClasses#alias-attributes-1",children:"atributo de pseud\xf4nimo"})," baseado em uma rela\xe7\xe3o"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"readOnly"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsxs)(n.td,{children:["True se o atributo for apenas de leitura. Por exemplo, atributos computados sem ",(0,r.jsxs)(n.a,{href:"/docs/pt/20-R6/ORDA/ordaClasses#function-set-attributename",children:["fun\xe7\xe3o",(0,r.jsx)(n.code,{children:"set"})]})," s\xe3o somente leitura."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"relatedDataClass"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["Nome dadataclass relacionada ao atributo. Retornado somente quando ",(0,r.jsx)(n.code,{children:".kind"}),' = "relatedEntity" ou "relatedEntities".']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"type"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["Tipo conceitual do valor do atributo, \xfatil para programa\xe7\xe3o gen\xe9rica. Depende do atributo ",(0,r.jsx)(n.code,{children:"kind"}),". Valores poss\xedveis: ",(0,r.jsxs)(n.li,{children:["if ",(0,r.jsx)(n.code,{children:".kind"}),' = "storage": "blob", "bool", "date", "image", "number", "object", ou "string". "number" is returned for any numeric types including duration; "string" is returned for uuid, alpha and text attribute types; "blob" attributes are ',(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/Concepts/blob#blob-type",children:"blob objects"}),"."]}),(0,r.jsxs)(n.li,{children:["if ",(0,r.jsx)(n.code,{children:".kind"}),' = "relatedEntity": related dataClass name']}),(0,r.jsxs)(n.li,{children:["if ",(0,r.jsx)(n.code,{children:".kind"}),' = "relatedEntities": related dataClass name + "Selection" suffix']}),(0,r.jsxs)(n.li,{children:["if ",(0,r.jsx)(n.code,{children:".kind"}),' = "calculated" or "alias": same as above, depending on the result']})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"unique"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsxs)(n.td,{children:["True se o valor do atributo tiver que ser \xfanico. N\xe3o retornado se ",(0,r.jsx)(n.code,{children:".kind"}),' = "relatedEntity" ou "relatedEntities".']})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Para programa\xe7\xe3o gen\xe9rica, use ",(0,r.jsx)(n.code,{children:"Bool(attributeName.property)"}),", ",(0,r.jsx)(n.code,{children:"Num(attributeName.property)"})," ou ",(0,r.jsx)(n.code,{children:"String(attributeName.property)"})," (dependendo do tipo de propriedade) para obter um valor v\xe1lido mesmo que a propriedade n\xe3o seja retornada."]})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1-1",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$salary:=ds. Employee.salary //returns the salary attribute in the Employee dataclass\n$compCity:=ds. Company["city"] //returns the city attribute in the Company dataclass\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-1",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.p,{children:"Considerando a seguinte estrutura do banco de dados:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:s(66620).Z+"",width:"454",height:"634"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"var $firstnameAtt;$employerAtt;$employeesAtt : Object\n\n $firstnameAtt:=ds. Employee.firstname\n  //{name:firstname,kind:storage,fieldType:0,type:string,fieldNumber:2,indexed:true,\n  //keyWordIndexed:false,autoFilled:false,mandatory:false,unique:false}\n\n $employerAtt:=ds. Employee.employer\n  //{name:employer,kind:relatedEntity,relatedDataClass:Company,\n  //fieldType:38,type:Company,inverseName:employees}\n  //38=Is object\n\n $employeesAtt:=ds. Company.employees\n  //{name:employees,kind:relatedEntities,relatedDataClass:Employee,\n  //fieldType:42,type:EmployeeSelection,inverseName:employer}\n  //42=Is collection\n"})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-3",children:"Exemplo 3"}),"\n",(0,r.jsx)(n.p,{children:"Considerando as propriedades de tabela abaixo:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:s(363835).Z+"",width:"405",height:"383"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $sequenceNumberAtt : Object\n $sequenceNumberAtt=ds.Employee.sequenceNumber\n  //{name:sequenceNumber,kind:storage,fieldType:0,type:string,fieldNumber:13,\n  //indexed:true,keyWordIndexed:false,autoFilled:true,mandatory:false,unique:true}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"all",children:".all()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17 R5"}),(0,r.jsxs)(n.td,{children:["Suporte do par\xe2metro ",(0,r.jsx)(n.em,{children:"settings"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".all"})," ( { ",(0,r.jsx)(n.em,{children:"settings"})," : Object } ) : 4D.EntitySelection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"settings"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Op\xe7\xe3o de constru\xe7\xe3o: context"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. EntitySelection"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Referencias sobre todas as entidades relacionadas com a classe de dados"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-1",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".all()"})," consulta a datastore para encontrar todas as entidades relacionadas \xe0 classe de dados e as retorna como uma entity selection."]}),"\n",(0,r.jsx)(n.p,{children:"As entidades s\xe3o devolvidas na ordem padr\xe3o, que \xe9 inicialmente a ordem na qual foram criadas. Note no entanto que, se as entidades foram apagas e outras adicionadas, a ordem padr\xe3o n\xe3o reflete mais sua ordem de cria\xe7\xe3o."}),"\n",(0,r.jsx)(n.p,{children:"Se nenhuma entidade correspondente for encontrada, uma sele\xe7\xe3o de entidade vazia \xe9 retornada."}),"\n",(0,r.jsx)(n.p,{children:"Se aplica carregamento diferido/lazy loading."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"settings"})}),"\n",(0,r.jsxs)(n.p,{children:["No par\xe2metro opcional ",(0,r.jsx)(n.em,{children:"settings"}),", voc\xea pode passar um objeto que contenha op\xe7\xf5es adicionais. As propriedades abaixo s\xe3o compat\xedveis:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"context"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["Etiqueta para o contexto de otimiza\xe7\xe3o aplicado a sele\xe7\xe3o de entidades. Este contexto ser\xe1 utilizado pelo c\xf3digo que maneja a sele\xe7\xe3o de entidades para que possa se beneficiar da otimiza\xe7\xe3o. Esta funcionalidade \xe9 ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/client-server-optimization",children:"concebida para processamento ORDA cliente/servidor"}),"."]})]})})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Para conhecer o n\xfamero total de entidades em um dataclass, \xe9 recomendado utilizar a fun\xe7\xe3o ",(0,r.jsx)(n.a,{href:"#getcount",children:(0,r.jsx)(n.code,{children:"getCount()"})})," que \xe9 mais otimizada do que a express\xe3o ",(0,r.jsx)(n.code,{children:"ds.myClass.all().length"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $allEmp : cs.EmployeeSelection\n $allEmp:=ds.Employee.all()\n"})}),"\n",(0,r.jsx)(n.h2,{id:"clearremotecache",children:".clearRemoteCache()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"19 R5"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:".clearRemoteCache()"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{style:{textAlign:"center"}}),(0,r.jsx)(n.td,{children:"N\xe3o exige nenhum par\xe2metro"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-2",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".clearRemoteCache()"})," esvazia o cache ORDA de uma dataclass."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Esta fun\xe7\xe3o n\xe3o reinicia os valores ",(0,r.jsx)(n.code,{children:"timeout"})," e ",(0,r.jsx)(n.code,{children:"maxEntries"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-4",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $ds : 4D. DataStoreImplementation\nvar $persons : cs. PersonsSelection\nvar $p : cs. PersonsEntity\nvar $cache : Object\nvar $info : Collection\nvar $text : Text\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$persons:=$ds. Persons.all()\n$text:="" For each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / " End for each\n\n$cache:=$ds. Persons.getRemoteCache()\n\n$ds. Persons.clearRemoteCache()\n// Cache of the Persons dataclass = {timeout:30;maxEntries:30000;stamp:255;entries:[]}\n'})}),"\n",(0,r.jsx)(n.p,{children:"####Veja tamb\xe9m"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/EntitySelectionClass#refresh",children:(0,r.jsx)(n.code,{children:"entitySelection.refresh()"})})}),"\n",(0,r.jsx)(n.h2,{id:"fromcollection",children:".fromCollection()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17 R5"}),(0,r.jsxs)(n.td,{children:["Suporte do par\xe2metro ",(0,r.jsx)(n.em,{children:"settings"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".fromCollection"}),"( ",(0,r.jsx)(n.em,{children:"objectCol"})," : Collection { ; ",(0,r.jsx)(n.em,{children:"settings"})," : Object } ) : 4D.EntitySelection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"objectCol"}),(0,r.jsx)(n.td,{children:"Collection"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Cole\xe7\xe3o de objetos a mapear com entidades"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"settings"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Op\xe7\xe3o de constru\xe7\xe3o: context"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. EntitySelection"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Sele\xe7\xe3o de entidades preenchidas da cole\xe7\xe3o"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-3",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".fromCollection()"})," atualiza ou cria entidades na dataclass de acordo com a cole\xe7\xe3o ",(0,r.jsx)(n.em,{children:"objectCol"})," de objetos e retorna a sele\xe7\xe3o de entidades correspondente."]}),"\n",(0,r.jsxs)(n.p,{children:["No par\xe2metro ",(0,r.jsx)(n.em,{children:"objectCol"}),", passa uma cole\xe7\xe3o de objetos para criar novas entidades ou atualizar as existentes da classe de dados. Os nomes das propriedades devem ser os mesmos que os dos atributos da classe de dados. Se um nome de propriedade n\xe3o existir na dataclass, \xe9 ignorado. Se um valor de atributo n\xe3o for definido na cole\xe7\xe3o, seu valor ser\xe1 null."]}),"\n",(0,r.jsxs)(n.p,{children:["O mapeamento entre os objetos da cole\xe7\xe3o e as entidades \xe9 feito sobre os ",(0,r.jsx)(n.strong,{children:"nomes dos atributos"})," e ",(0,r.jsx)(n.strong,{children:"tipos correspondentes"}),". Se uma propriedade de um objeto tiver o mesmo nome que um atributo de entidade mas seus tipos n\xe3o corresponderem, o atributo da entidade n\xe3o \xe9 preenchido."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Modo cria\xe7\xe3o ou atualiza\xe7\xe3o"})}),"\n",(0,r.jsxs)(n.p,{children:["Para cada objeto de ",(0,r.jsx)(n.em,{children:"objectCol"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:['Se o objeto conter uma propriedade booleana "__NEW" estabelecida em false (ou n\xe3o conter uma propriedade booleana "__NEW"), a entidade se atualiza ou se cria com os valores correspondentes das propriedades do objeto. Nenhuma comprova\xe7\xe3o \xe9 realizada com respeito \xe0 chave prim\xe1ria:\n',(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Se a chave prim\xe1ria for dada e existir, a entidade \xe9 atualizada. Nesse caso, a chave prim\xe1ria pode ser dada como et\xe1 ou com uma propriedade "__KEY"  (preenchida com o valor da chave prim\xe1ria).'}),"\n",(0,r.jsx)(n.li,{children:"Se a chave prim\xe1ria for dada (como \xe9) e n\xe3o existir, a entidade \xe9 criada"}),"\n",(0,r.jsx)(n.li,{children:"Se a chave prim\xe1ria n\xe3o for dada, a entidade \xe9 criada e o valor da chave prim\xe1ria \xe9 assignado com respeito \xe0s regras padr\xe3o de database."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:['Se o objeto conter uma propriedade boolean "__NEW" estabelecida como ',(0,r.jsx)(n.strong,{children:"true"}),", a entidade \xe9 criada com os valores correspondente dos atributos de objeto. Uma comprova\xe7\xe3o \xe9 realizada com rela\xe7\xe3o \xe0 chave prim\xe1ria:\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Se a chave prim\xe1ria for dada (como est\xe1) e existir, um erro \xe9 enviado."}),"\n",(0,r.jsx)(n.li,{children:"Se a chave prim\xe1ria for dada (como \xe9) e n\xe3o existir, a entidade \xe9 criada"}),"\n",(0,r.jsx)(n.li,{children:"Se a chave prim\xe1ria n\xe3o for dada, a entidade \xe9 criada e o valor da chave prim\xe1ria \xe9 assignado com respeito \xe0s regras padr\xe3o de database."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:['A propriedade "_*KEY" que cont\xe9m um valor s\xf3 \xe9 tida em conta quando a propriedade "**NEW" est\xe1 definida como ',(0,r.jsx)(n.strong,{children:"false"}),' (ou \xe9 omitida) e existe uma entidade correspondente. Em todos os outros casos, o valor da propriedade "*_KEY" \xe9 ignorado, o valor da chave prim\xe1ria deve ser passado "tal como est\xe1".']}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Entidades relacionadas"})}),"\n",(0,r.jsxs)(n.p,{children:["Os objetos de ",(0,r.jsx)(n.em,{children:"objectCol"})," podem conter um ou mais objetos aninhados que apresentam uma ou mais entidades relacionadas, o que pode ser \xfatil para criar ou atualizar links entre entidades."]}),"\n",(0,r.jsx)(n.p,{children:'Os objetos aninhados que apresentam entidades relacionadas devem conter uma propriedade "_*KEY" (preenchido com o valor da chave prim\xe1ria da entidade relacionada) ou o atributo de chave prim\xe1ria da pr\xf3pria entidade relacionada. O uso de uma propriedade *_KEY permite a independ\xeancia do nome do atributo da chave prim\xe0ria.'}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"O conte\xfado das entidades relacionadas n\xe3o pode ser criado / atualizado atrav\xe9s deste mecanismo."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Stamp"})}),"\n",(0,r.jsxs)(n.p,{children:['Se um atributo __STAMP for dado, se realiza uma comprova\xe7\xe3o com o selo no armaz\xe9n de dados e se pode devolver um erro ("O selo dado n\xe3o coincide com o atual para o registro# XX da tabela XXXX"). Para obter mais informa\xe7\xf5es, consulte ',(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/entities#entity-locking",children:"Bloqueio de Entity"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"settings"})}),"\n",(0,r.jsxs)(n.p,{children:["No par\xe2metro opcional ",(0,r.jsx)(n.em,{children:"settings"}),", voc\xea pode passar um objeto que contenha op\xe7\xf5es adicionais. As propriedades abaixo s\xe3o compat\xedveis:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"context"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["Etiqueta para o contexto de otimiza\xe7\xe3o aplicado a sele\xe7\xe3o de entidades. Este contexto ser\xe1 utilizado pelo c\xf3digo que maneja a sele\xe7\xe3o de entidades para que possa se beneficiar da otimiza\xe7\xe3o. Esta funcionalidade \xe9 ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/client-server-optimization",children:"concebida para processamento ORDA cliente/servidor"}),"."]})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1-2",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.p,{children:"Queremos atualizar uma entidade existente. A propriedade __NEW n\xe3o for dada, a chave prim\xe1ria do empregado \xe9 dada e existe:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs. EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.ID:=668 //PK existente na tabela Employee\n $emp.firstName:="Arthur"\n $emp.lastName:="Martin"\n $emp.employer:=New object("ID";121) //PK existente na dataClass Company\n  // Para este funcion\xe1rio, podemos alterar a Company usando outro PK existente na dataClass Company\n $empsCollection.push($emp)\n $employees:=ds. Employee.fromCollection($empsCollection)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-2",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.p,{children:"Queremos atualizar uma entidade existente. A propriedade _*NEW n\xe3o \xe9 dada, a chave prim\xe1ria do empregado com o atributo *_KEY e existir:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $empsCollection : Cole\xe7\xe3o\n var $emp : Objeto\n var $employees : cs. ColloyeeSelection\n\n $empsCollection:=Nova cole\xe7\xe3o\n $emp:=Novo objeto\n $emp. _KEY:=1720 //Existente PK na tabela\n $emp.firstName:="John"\n $emp. astName:="Boorman"\n $emp. mployer:=Novo objeto("ID"; 21) //PK existente na dataClass Company\n  // Para este funcion\xe1rio, podemos alterar a Empresa usando outro PK existente na dataClass\n $empsCollection. ush($emp)\n $employees:=ds.Empregado.fromCollection($empsCollection)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-3-1",children:"Exemplo 3"}),"\n",(0,r.jsx)(n.p,{children:"Se quiser simplesmente criar uma nova entidade da cole\xe7\xe3o::"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.firstName:="Victor"\n $emp.lastName:="Hugo"\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-5",children:"Exemplo"}),"\n",(0,r.jsx)(n.p,{children:"Queremos criar uma entidade. A propriedade __NEW \xe9 True, a chave prim\xe1ria de empregado n\xe3o \xe9 dada:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs. EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.ID:=668 //PK existente na tabela Employee\n $emp.firstName:="Arthur"\n $emp.lastName:="Martin"\n $emp.employer:=New object("ID";121) //PK existente na dataClass Company\n // FPara este funcion\xe1rio, podemos alterar a Company usando outro PK existente na dataClass Company\n $empsCollection.push($emp)\n $employees:=ds. Employee.fromCollection($empsCollection)\n\n\n\n\n\n\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-3",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.p,{children:"Queremos criar uma entidade. Se a propriedade __NEW \xe9 omitida, a chave prim\xe1ria do empregado \xe9 dada e n\xe3o existir:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=Nova cole\xe7\xe3o\n $emp:=Novo objeto\n $emp.ID:=10000 //Chave prim\xe1ria inexistente\n $emp.firstName:="Fran\xe7oise"\n $emp.lastName:="Sagan"\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-6",children:"Exemplo 6"}),"\n",(0,r.jsx)(n.p,{children:"Neste exemplo, a primeira entidade se criar\xe1 e salvar\xe1 mas a segunda falhar\xe1 j\xe1 que ambas utilizam a mesma chave primaria:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $empsCollection : Collection\n var $emp; $emp2 : Object\n var $employees : cs. EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.ID:=10001 // Unexisting primary key\n $emp.firstName:="Simone"\n $emp.lastName:="Martin"\n $emp.__NEW:=True\n $empsCollection.push($emp)\n\n $emp2:=New object\n $emp2.ID:=10001 // Same primary key, already existing\n $emp2.firstName:="Marc"\n $emp2.lastName:="Smith"\n $emp2.__NEW:=True\n $empsCollection.push($emp2)\n $employees:=ds. Employee.fromCollection($empsCollection)\n  //first entity is created\n  //duplicated key error for the second entity\n'})}),"\n",(0,r.jsx)(n.h4,{id:"veja-tamb\xe9m",children:"Veja tamb\xe9m"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/EntitySelectionClass#tocollection",children:(0,r.jsx)(n.strong,{children:".toCollection()"})})}),"\n",(0,r.jsx)(n.h2,{id:"get",children:".get()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".get"}),"( ",(0,r.jsx)(n.em,{children:"primaryKey"})," : Integer { ; ",(0,r.jsx)(n.em,{children:"settings"})," : Object } ) : 4D.Entity",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".get"}),"( ",(0,r.jsx)(n.em,{children:"primaryKey"})," : Text { ; ",(0,r.jsx)(n.em,{children:"settings"})," : Object } ) : 4D.Entity"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"primaryKey"}),(0,r.jsx)(n.td,{children:"Integer OR Text"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Valor da chave prim\xe1ria da entidade a recuperar"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"settings"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Op\xe7\xe3o de constru\xe7\xe3o: context"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. Entity"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Entidade que coincide com a chave prim\xe1ria designada"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-4",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".get()"})," consulta o dataclass para recuperar a entidade que corresponde ao par\xe2metro ",(0,r.jsx)(n.em,{children:"primaryKey"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Em ",(0,r.jsx)(n.em,{children:"primaryKey"}),", passe a chave prim\xe1ria da entidade para recuperar. Em ",(0,r.jsx)(n.em,{"x-id":"3",children:"primaryKey"}),", passe o valor da chave prim\xe1ria da entidade a recuperar Em ",(0,r.jsx)(n.em,{"x-id":"3",children:"primaryKey"}),", passe o valor da chave prim\xe1ria da entidade a recuperar O tipo valor deve coresponder com o tipo de chave prim\xe1ria estabelecido na datastore (Inteiro ou texto). Voc\xea tamb\xe9m pode ter certeza de que o valor da chave prim\xe1ria \xe9 sempre retornado como Texto usando o ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/EntityClass#getkey",children:(0,r.jsx)(n.code,{children:". etKey()"})})," com a fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:"dk key como par\xe2metro"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Se nenhuma entidade for encontrada com ",(0,r.jsx)(n.em,{children:"primaryKey"}),", uma entidade ",(0,r.jsx)(n.strong,{children:"Null"})," ser\xe1 retornada."]}),"\n",(0,r.jsx)(n.p,{children:"\xc9 aplicado o lazy loading/carregamento diferido, ou seja os dados relacionados s\xe3o carregados do disco s\xf3 quando pedidos."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"settings"})}),"\n",(0,r.jsxs)(n.p,{children:["No par\xe2metro opcional ",(0,r.jsx)(n.em,{children:"settings"}),", voc\xea pode passar um objeto que contenha op\xe7\xf5es adicionais. As propriedades abaixo s\xe3o compat\xedveis:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"context"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["Etiqueta para o contexto de otimiza\xe7\xe3o autom\xe1tico aplicados \xe0 entidade. Esse contexto ser\xe1 usado pelo c\xf3digo subsequente que carrega a entidade para que se possa beneficiar da otimiza\xe7\xe3o. Esta funcionalidade \xe9 ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/client-server-optimization",children:"concebida para processamento ORDA cliente/servidor"}),"."]})]})})]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Quando voc\xea chama a fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".get()"})," ",(0,r.jsx)(n.strong,{children:"sem"})," par\xe2metro ",(0,r.jsx)(n.em,{children:"configura\xe7\xf5es"}),", uma solicita\xe7\xe3o para valores de atributos \xe9 enviada diretamente para o servidor (o [cache ORDA](. /ORDA/client-server-optimization.md#orda-cache) n\xe3o \xe9 usado). Por outro lado, quando voc\xea chama o ",(0,r.jsx)(n.code,{children:". fun\xe7\xe3o et()"})," ",(0,r.jsx)(n.strong,{children:"com"})," um ",(0,r.jsx)(n.code,{children:"context"})," passado no par\xe2metro ",(0,r.jsx)(n.em,{children:"settings"}),", valores de atributo s\xe3o recuperados do cache ORDA correspondente ao contexto. Nesse caso, pode ser aconselh\xe1vel chamar [",(0,r.jsx)(n.code,{children:"reload()"}),"] (EntityClass.md#reload) para garantir que os dados mais recentes sejam recuperados do servidor."]})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1-3",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $entity : cs.EmployeeEntity  \n var $entity2 : cs.InvoiceEntity\n $entity:=ds.Employee.get(167) // retorna a entidade cujo valor da chave prim\xe1ria \xe9 167\n $entity2:=ds.Invoice.get("DGGX20030") // retorna a entidade cujo valor da chave prim\xe1ria \xe9 "DGGX20030"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-4",children:"Exemplo 2"}),"\n",(0,r.jsxs)(n.p,{children:["Este exemplo ilustra o uso da propriedade ",(0,r.jsx)(n.em,{children:"context"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $e1; $e2; $e3; $e4 : cs. mployeeEntity\n var $settings; $settings2 : Objeto\n\n $settings:=Novo objeto("contexto"; de")\n $settings2:=Novo objeto("contexto";"resumo")\n\n $e1:=ds. Colaborador. et(1;$settings)\n completeAllData($e1) // Em completeAllData m\xe9todo uma otimiza\xe7\xe3o \xe9 acionada e associada ao contexto "detalhe"\n\n $e2:=ds. Colaborador. et(2;$settings)\n completeAllData($e2) // Em completeAllData m\xe9todo a otimiza\xe7\xe3o associada ao "detalhe" \xe9 aplicada\n\n $e3:=ds.Employee. et(3;$settings2)\n completeSum\xe1rio ($e3) //Em resumo completo, uma otimiza\xe7\xe3o \xe9 acionada e associada ao contexto "resumo"\n\n $e4:=ds. mployee.get(4;$settings2)\n completeSummary($e4) //In completeSummary m\xe9todo, a otimiza\xe7\xe3o associada ao contexto "resumo" \xe9 aplicada\n'})}),"\n",(0,r.jsx)(n.h2,{id:"getcount",children:".getCount()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"19 R5"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".getCount()"})," : Integer"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"resultado"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"<-"}),(0,r.jsx)(n.td,{children:"N\xfamero de entidades na classe de dados"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-5",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".getCount()"}),"  retorna o n\xfamero de entidades em uma dataclass."]}),"\n",(0,r.jsx)(n.p,{children:"Se esta fun\xe7\xe3o for utilizada dentro de uma transac\xe7\xe3o, as entidades criadas durante a transa\xe7\xe3o ser\xe3o levadas em considera\xe7\xe3o."}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-7",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $ds : 4D. DataStoreImplementation\nvar $number : Integer\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$number:=$ds. Persons.getCount()\n'})}),"\n",(0,r.jsx)(n.h2,{id:"getdatastore",children:".getDataStore()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17 R5"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".getDataStore()"})," : cs.DataStore"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"cs. DataStore"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Informa\xe7\xe3o da dataclass"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-6",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".getDataStore()"})," retorna o datastore para a dataclass especificada."]}),"\n",(0,r.jsx)(n.p,{children:"A datastore pode ser:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["o datastore principal, como devolvido pelo comando ",(0,r.jsx)(n.code,{children:"ds"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["uma datastore remota, aberta usando o comando ",(0,r.jsx)(n.code,{children:"Open datastore"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-8",children:"Exemplo"}),"\n",(0,r.jsxs)(n.p,{children:["O m\xe9todo de projeto ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"SearchDuplicate"})})," procura por valores duplicados em qualquer dataclass."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $pet : cs.CatsEntity\n\n $pet:=ds.Cats.all().first() //obter uma entidade\n SearchDuplicate($pet;"Dogs")\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'  // SearchDuplicate method\n  // SearchDuplicate(entity_to_search;dataclass_name)\n\n #DECLARE ($pet : Object ; $dataClassName : Text)\n var $dataStore; $duplicates : Object  \n\n $dataStore:=$pet.getDataClass().getDataStore()\n $duplicates:=$dataStore[$dataClassName].query("name=:1";$pet.name)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"getinfo",children:".getInfo()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"19 R3"}),(0,r.jsx)(n.td,{children:"A propriedade exposed foi adicionada"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17 R5"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".getInfo()"})," : Object"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"<-"}),(0,r.jsx)(n.td,{children:"Datastore da dataclass"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-7",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".getInfo()"})," retorna um objeto que fornece informa\xe7\xf5es sobre a dataclass. Esta fun\xe7\xe3o \xe9 \xfatil para configurar o c\xf3digo gen\xe9rico."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Objeto devolvido"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"exposed"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsx)(n.td,{children:"True se a dataclass for exposta em REST"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"name"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Nome da dataclass"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"primaryKey"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Nome da chave prim\xe1ria da classe de dados"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"tableNumber"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"N\xfamero daa tabela 4D interna"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1-4",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' #DECLARE ($entity : Object)  \n var $status : Object\n\n computeEmployeeNumber($entity) //faz uma a\xe7\xe3o na entidade\n\n $status:=$entity.save()\n if($status.success)\n    ALERT("Record updated in table "+$entity.getDataClass().getInfo().name)\n End if\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-5",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $settings : Object\n var $es : cs.ClientsSelection\n\n $settings:=New object\n $settings.parameters:=New object("receivedIds";getIds())\n $settings.attributes:=New object("pk";ds.Clients.getInfo().primaryKey)\n $es:=ds.Clients.query(":pk in :receivedIds";$settings)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-3-2",children:"Exemplo 3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $pk : Text\n var $dataClassAttribute : Object\n\n $pk:=ds.Employee.getInfo().primaryKey\n $dataClassAttribute:=ds.Employee[$pk] // Se necess\xe1rio, o atributo correspondente \xe0 chave prim\xe1ria estar\xe1 acess\xedvel\n"})}),"\n",(0,r.jsx)(n.h2,{id:"getremotecache",children:".getRemoteCache()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"19 R5"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".getRemoteCache"}),"() : Object"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"resultado"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"<-"}),(0,r.jsx)(n.td,{children:"Objecto que descreve o conte\xfado da cache ORDA para o dataclass."})]})})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Modo avan\xe7ado:"})," Essa fun\xe7\xe3o \xe9 destinada a desenvolvedores que precisam personalizar os recursos padr\xe3o do ORDA para configura\xe7\xf5es espec\xedficas. Na maioria dos casos, n\xe3o necessitar\xe1 de o utilizar."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-8",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".getRemoteCache()"})," retorna um objeto que cont\xe9m os conte\xfados do cache ORDA para um dataclass.."]}),"\n",(0,r.jsxs)(n.p,{children:["Chamar esta fun\xe7\xe3o a partir de uma aplica\xe7\xe3o 4D monousu\xe1rio retorna ",(0,r.jsx)(n.code,{children:"Null"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"O objeto retornado tem as propriedades abaixo:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"maxEntries"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"N\xfamero m\xe1ximo de entradas recolhidas."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"stamp"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Carimbo da cache."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"timeout"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Tempo restante antes que as novas entradas na cache sejam marcadas como expiradas."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"|"}),(0,r.jsx)(n.td,{children:"Collection"}),(0,r.jsx)(n.td,{children:"Cont\xe9m um objecto de entrada para cada entidade na cache."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Cada objeto de entrada na cole\xe7\xe3o ",(0,r.jsx)(n.code,{children:"entries"})," possui as seguintes propriedades:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"data"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"Objeto que cont\xe9m os dados da entrada"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"expired"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsx)(n.td,{children:"True se a entrada tiver expirado"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"|"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Chave prim\xe1ria da entidade."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["O objecto ",(0,r.jsx)(n.code,{children:"data"})," em cada entrada cont\xe9m as seguintes propriedades:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"__KEY"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Chave prim\xe1ria da entidade"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"__STAMP"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Stamp da entidade na base de dados"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"__TIMESTAMP"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Stamp da entidade na base de dados (formato \xe9 YYYY-MM-DDTHH:MM:SS:ms:Z)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"dataClassAttributeName"}),(0,r.jsx)(n.td,{children:"Diferente de"}),(0,r.jsx)(n.td,{children:"Se houver dados na cache para um atributo dataclass, estes s\xe3o devolvidos numa propriedade com o mesmo tipo que na base de dados."})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Os dados relativos a entidades relacionadas s\xe3o armazenados na cache do objecto de dados."}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-9",children:"Exemplo"}),"\n",(0,r.jsxs)(n.p,{children:["No exemplo seguinte, ",(0,r.jsx)(n.code,{children:"$ds.Persons.all()"})," carrega a primeira entidade com todos os seus atributos. Depois, a optimiza\xe7\xe3o do pedido \xe9 desencadeada, pelo que apenas ",(0,r.jsx)(n.code,{children:"firstname"})," e ",(0,r.jsx)(n.code,{children:"address.city"})," s\xe3o carregados."]}),"\n",(0,r.jsx)(n.p,{children:"Note que o arquivo 'address.city' est\xe1 carregado no cache das 'Persons'."}),"\n",(0,r.jsxs)(n.p,{children:["Apenas a primeira entidade da dataclass ",(0,r.jsx)(n.code,{children:"Address"})," \xe9 armazenada na cache. \xc9 carregado durante a primeira itera\xe7\xe3o do loop."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $ds : 4D. DataStoreImplementation\nvar $persons : cs. PersonsSelection\nvar $p : cs. PersonsEntity\nvar $cachePersons; $cacheAddress : Object\nvar $text : Text\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$persons:=$ds. Persons.all()\n\n$text:="" For each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / " End for each\n\n$cachePersons:=$ds. Persons.getRemoteCache()\n$cacheAddress:=$ds. Adress.getRemoteCache()\n'})}),"\n",(0,r.jsx)(n.h4,{id:"veja-tamb\xe9m-1",children:"Veja tamb\xe9m"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"#setremotecachesettings",children:".setRemoteCacheSettings()"}),(0,r.jsx)(n.br,{}),(0,r.jsx)(n.a,{href:"#clearremotecache",children:".clearRemoteCache()"})]}),"\n",(0,r.jsx)(n.h2,{id:"new",children:".new()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".new()"})," : 4D.Entity"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. Entity"}),(0,r.jsx)(n.td,{children:"<-"}),(0,r.jsx)(n.td,{children:"Nova entidade que coincide com a classe de dados"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-9",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".new()"})," cria na mem\xf3ria e retorna uma nova entidade em branco relacionada \xe0 Dataclass."]}),"\n",(0,r.jsxs)(n.p,{children:["O objeto entidade \xe9 criado em mem\xf3ria e n\xe3o \xe9 salvo no banco de dados at\xe9 que a fun\xe7\xe3o ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/EntityClass#save",children:(0,r.jsx)(n.code,{children:".save( )"})})," seja chamada. Se a entidade for apagada antes de ser salva, n\xe3o se pode recuperar."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"4D Servidor"}),": No servidor cliente, se a chave prim\xe1ria da tabela correspondente for auto-incrementada, ser\xe1 calculado quando a entidade for salva no servidor."]}),"\n",(0,r.jsxs)(n.p,{children:["Todos os atributos da entidade s\xe3o inicializados com o valor ",(0,r.jsx)(n.strong,{children:"null"}),"."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Atributos podem ser inicializados com valores padr\xe3o se a op\xe7\xe3o ",(0,r.jsx)(n.strong,{children:"Mapa NULL para valores em branco"})," for selecionada no n\xedvel de estrutura de banco de dados 4D."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-10",children:"Exemplo"}),"\n",(0,r.jsx)(n.p,{children:'Este exemplo cria uma nova entidade na classe de dados "Log" e registra a informa\xe7\xe3o no atributo "info":'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $entity : cs.LogEntity\n $entity:=ds.Log.new() //create a reference\n $entity.info:="Nova entrada" //armazenar alguma informa\xe7\xe3o\n $entity.save() //salvar a entidade\n'})}),"\n",(0,r.jsx)(n.h2,{id:"newselection",children:".newSelection()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".newSelection"}),"( { ",(0,r.jsx)(n.em,{children:"keepOrder"})," : Integer } ) : 4D.EntitySelection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"keepOrder"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"->"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"dk keep ordered"}),": cria uma sele\xe7\xe3o de entidades ordenada,",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.code,{children:"dk non ordered"}),": cria uma sele\xe7\xe3o de entidade n\xe3o ordenada (padr\xe3o se omitido)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. EntitySelection"}),(0,r.jsx)(n.td,{children:"<-"}),(0,r.jsx)(n.td,{children:"Nova sele\xe7\xe3o de entidades em branco relacionadas com a classe de dados"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-10",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".newSelection()"})," cria uma nova sele\xe7\xe3o de entidades em branco, n\xe3o compartilh\xe1vel, relacionada \xe0 dataclass, na mem\xf3ria."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Para informa\xe7\xf5es sobre sele\xe7\xf5es de entidades n\xe3o compartilh\xe1veis, consulte ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/entities#sele%C3%A7%C3%B5es-de-entidades-compartilh%C3%A1veis-ou-n%C3%A3o-compartilh%C3%A1veis",children:"esta se\xe7\xe3o"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Se quiser criar uma sele\xe7\xe3o de entidades ordenada, passe o seletor ",(0,r.jsx)(n.code,{children:"dk keep ordered"})," no par\xe2metro ",(0,r.jsx)(n.em,{children:"keepOrder"}),". Por padr\xe3o, se voc\xea omitir este par\xe2metro, ou se passar o seletor ",(0,r.jsx)(n.code,{children:"dk non ordered"}),", o m\xe9todo cria uma sele\xe7\xe3o de entidades n\xe3o ordenada. As sele\xe7\xf5es de entidades desordenadas s\xe3o mais r\xe1pidas mas n\xe3o se pode confiar nas posi\xe7\xf5es das entidades. Para mais informa\xe7\xf5es, por favor consulte ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/dsmapping#sele%C3%A7%C3%A3o-de-entidades-ordenadas-ou-n%C3%A3o-ordenadas",children:"Sele\xe7\xf5es de entidades ordenadas vs n\xe3o ordenadas"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Quando criada, a sele\xe7\xe3o de entidades n\xe3o cont\xe9m nenhuma entidade (",(0,r.jsx)(n.code,{children:"mySelection.length"})," retorna 0). Este m\xe9todo permite construir sele\xe7\xf5es de entidades gradualmente fazendo chamadas subsequentes \xe0 fun\xe7\xe3o ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/EntitySelectionClass#add",children:(0,r.jsx)(n.code,{children:"add()"})}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-11",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $USelection; $OSelection : cs.EmployeeSelection\n $USelection:=ds.Employee.newSelection() //criar uma sele\xe7\xe3o vazia sem ordena\xe7\xe3o da entidade\n $OSelection:=ds.Employee.newSelection(dk keep ordered) //criar uma sele\xe7\xe3o de entidade vazia ordenada\n"})}),"\n",(0,r.jsx)(n.h2,{id:"query",children:".query()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17 R6"}),(0,r.jsx)(n.td,{children:"Soporte dos Par\xe2metros Formula"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17 R5"}),(0,r.jsx)(n.td,{children:"Suporte dos marcadores para os valores"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"17"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".query"}),"( ",(0,r.jsx)(n.em,{children:"queryString"})," : Text { ; ",(0,r.jsx)(n.em,{children:"...value"})," : any } { ; ",(0,r.jsx)(n.em,{children:"querySettings"})," : Object } ) : 4D.EntitySelection ",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".query"}),"( ",(0,r.jsx)(n.em,{children:"formula"})," : Object { ; ",(0,r.jsx)(n.em,{children:"querySettings"})," : Object } ) : 4D.EntitySelection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"queryString"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"->"}),(0,r.jsx)(n.td,{children:"Criterios de pesquisa como string"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"formula"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"->"}),(0,r.jsx)(n.td,{children:"Criterios de pesquisa como objeto f\xf3rmula"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"value"}),(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"->"}),(0,r.jsx)(n.td,{children:"Valores a usar para placeholders indexados"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"querySettings"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"->"}),(0,r.jsx)(n.td,{children:"Op\xe7\xf5es de pesquisa: par\xe2metros, atributos, args, allowFormulas, contexto, queryPath,queryPlan"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultados"}),(0,r.jsx)(n.td,{children:"4D. EntitySelection"}),(0,r.jsx)(n.td,{children:"<-"}),(0,r.jsxs)(n.td,{children:["Nova sele\xe7\xe3o de entidade composta por entidades da classe de dados que atendem aos crit\xe9rios de pesquisa especificados em ",(0,r.jsx)(n.em,{children:"queryString"})," ou ",(0,r.jsx)(n.em,{children:"formula"})]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-11",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(n.code,{children:".query()"})," busca entidades que atendam aos crit\xe9rios de pesquisa especificados em ",(0,r.jsx)(n.em,{children:"queryString"})," ou ",(0,r.jsx)(n.em,{children:"formula"})," e (opcionalmente) ",(0,r.jsx)(n.em,{children:"value"}),"(s), para todas as entidades na classe de dados, e retorna um novo objeto do tipo ",(0,r.jsx)(n.code,{children:"EntitySelection"})," contendo todas as entidades encontradas. Se aplica carregamento diferido/lazy loading."]}),"\n",(0,r.jsxs)(n.p,{children:["Se nenhuma entidade correspondente for encontrada, uma ",(0,r.jsx)(n.code,{children:"EntitySelection"})," vazia \xe9 retornada."]}),"\n",(0,r.jsx)(n.h4,{id:"par\xe2metro-querystring",children:"par\xe2metro queryString"}),"\n",(0,r.jsxs)(n.p,{children:["O par\xe2metro ",(0,r.jsx)(n.em,{children:"queryString"})," usa a seguinte sintaxe:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"attributePath|formula comparator value   \n {logicalOperator attributePath|formula comparator value}   \n {order by attributePath {desc | asc}}\n"})}),"\n",(0,r.jsx)(n.p,{children:"onde:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"attributePath"}),": caminho de atributo no qual se pretende executar a consulta. Os atributos se expressam como pares propriedade/ valor, onde propriedade \xe9 o nome do marcador de posi\xe7\xe3o inserido para uma rota de atributo em ",(0,r.jsx)(n.em,{"x-id":"3",children:"queryString"})," ou ",(0,r.jsx)(n.em,{"x-id":"3",children:"formula"}),' (":placeholder") e valor pode ser uma string ou uma cole\xe7\xe3o de strings. No caso de um caminho de atributo cujo tipo \xe9 ',(0,r.jsx)(n.code,{children:"Collection"}),", a nota\xe7\xe3o ",(0,r.jsx)(n.code,{children:"[]"})," \xe9 usada para lidar todas as ocorr\xeancias (por exemplo ",(0,r.jsx)(n.code,{children:"children[].age"}),")."]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:'Voc\xea n\xe3o pode usar diretamente atributos cujo nome cont\xe9m caracteres especiais, como ". , "[ ]", ou "=", ">", "#"..., porque eles ser\xe3o avaliados incorretamente na frase da consulta. Se precisar consultar tais atributos, deve considerar o uso de espa\xe7os reservados, que permite uma gama extendida de caracteres em caminhos de atributos (veja'})," ",(0,r.jsx)(n.strong,{children:"Usando espa\xe7os reservados"})," ",(0,r.jsx)(n.em,{children:"abaixo)."})]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"formula"}),": uma f\xf3rmula v\xe1lida passada como ",(0,r.jsx)(n.code,{children:"Text"})," ou ",(0,r.jsx)(n.code,{children:"Object"}),". A f\xf3rmula ser\xe1 avaliada para cada entidade processada e deve retornar um valor booleano. Na f\xf3rmula, a entidade est\xe1 dispon\xedvel atrav\xe9s do objeto ",(0,r.jsx)(n.code,{children:"This"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Text"}),": a string de f\xf3rmula deve ser precedida pela declara\xe7\xe3o ",(0,r.jsx)(n.code,{children:"eval()"}),", para que o parser da consulta avalie a express\xe3o corretamente. Por exemplo: ",(0,r.jsx)(n.em,{children:'"eval(length(This.lastname) >=30) "'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Objeto"}),": o ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/FunctionClass",children:"objeto f\xf3rmula"})," \xe9 passado como um ",(0,r.jsx)(n.strong,{children:"marcador de posi\xe7\xe3o"})," (ver abaixo). A f\xf3rmula deve ter sido criada usando o comando ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/FunctionClass#formula",children:(0,r.jsx)(n.code,{children:"F\xf3rmula"})})," ou ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/FunctionClass#formula-from-string",children:(0,r.jsx)(n.code,{children:"Formula da string"})}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Lembre que as f\xf3rmulas 4D s\xf3 suportam os s\xedmbolos ",(0,r.jsx)(n.code,{children:"&"})," e ",(0,r.jsx)(n.code,{children:"|"})," como operadores l\xf3gicos."]}),"\n",(0,r.jsx)(n.li,{children:"Se a f\xf3rmula n\xe3o for o \xfanico crit\xe9rio de pesquisa, o otimizador de motor debusca poderia processar outros crit\xe9rios previamente (por exemplo atributos indexados) e assim, a f\xf3rmula poderia ser avaliada apenas para um subconjunto de entidades."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["F\xf3rmulas nas consultas podem receber par\xe2metros atrav\xe9s de $1. Este ponto est\xe1 detalhado no par\xe1grafo de ",(0,r.jsx)(n.strong,{children:"f\xf3rmula"})," abaixo."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Voc\xea tamb\xe9m pode passar diretamente um objeto par\xe2metro ",(0,r.jsx)(n.code,{children:"formula"})," em vez do par\xe2metro ",(0,r.jsx)(n.code,{children:"queryString"})," (recomendado quando as f\xf3rmulas s\xe3o mais complexas). Ver o par\xe1grafo ",(0,r.jsx)(n.strong,{children:"Par\xe2metro f\xf3rmula"})," mais abaixo."]}),"\n",(0,r.jsxs)(n.li,{children:["Por raz\xf5es de seguran\xe7a, chamadas de f\xf3rmula dentro de fun\xe7\xf5es ",(0,r.jsx)(n.code,{children:"query()"})," podem ser desabilitadas. Consulte a descri\xe7\xe3o do par\xe2metro ",(0,r.jsx)(n.code,{children:"querySettings"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"comparator"}),": s\xedmbolo que compara ",(0,r.jsx)(n.em,{children:"attributePath"})," e ",(0,r.jsx)(n.em,{children:"value"}),". Os simbolos abaixo s\xe3o compat\xedveis:"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Compara\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"S\xedmbolos"}),(0,r.jsx)(n.th,{children:"Coment\xe1rio"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Igual a"}),(0,r.jsx)(n.td,{children:"=, =="}),(0,r.jsx)(n.td,{children:"Retorna os dados coincidentes, admite o coringa (@), n\xe3o diferencia entre mai\xfasculas e min\xfasculas nem diacr\xedticas."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"===, IS"}),(0,r.jsx)(n.td,{children:"Retorna os dados coincidentes, considera @ como caractere padr\xe3o, n\xe3o diferencia entre mai\xfasculas e min\xfasculas nem diacr\xedticas"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Diferente de"}),(0,r.jsx)(n.td,{children:"#, !="}),(0,r.jsxs)(n.td,{children:['Suporta o coringa (@). Equivalente a "Condi\xe7\xe3o n\xe3o aplicada em uma declara\xe7\xe3o" (',(0,r.jsx)(n.a,{href:"#not-equal-to-in-collections",children:"ver abaixo"}),")."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"!==, IS NOT"}),(0,r.jsx)(n.td,{children:"Considera  @ como um caractere normal"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"N\xe3o se aplica \xe0 condi\xe7\xe3o de uma senten\xe7a"}),(0,r.jsx)(n.td,{children:"NOT"}),(0,r.jsxs)(n.td,{children:['Parentesis s\xe3o obrigat\xf3rios quando usar NOT antes de uma instru\xe7\xe3o que contenha v\xe1rios operadores. Equivalente a "Not equal to" (',(0,r.jsx)(n.a,{href:"#not-equal-to-in-collections",children:"veja abaixo"}),")."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Menor que"}),(0,r.jsx)(n.td,{children:"<"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Maior que"}),(0,r.jsx)(n.td,{children:">"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Menor que ou igual a"}),(0,r.jsx)(n.td,{children:"<="}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Maior ou igual a"}),(0,r.jsx)(n.td,{children:"> ="}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Inclu\xeddo em"}),(0,r.jsx)(n.td,{children:"IN"}),(0,r.jsx)(n.td,{children:"Retorna dados iguais a ao menos um dos valores de uma cole\xe7\xe3o ou de um conjunto de valores, admite o coringa (@)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Cont\xe9m palavra chave"}),(0,r.jsx)(n.td,{children:"%"}),(0,r.jsx)(n.td,{children:"As palavras chaves podem ser usadas em atributos de string ou imagem"})]})]})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"value"}),": o valor a comparar ao valor atual da propriedade de cada entidade na sele\xe7\xe3o de entidade. Pode ser um ",(0,r.jsx)(n.strong,{children:"marcador"})," (ver ",(0,r.jsx)(n.strong,{children:"Uso de marcadores"})," abaixo) ou qualquer express\xe3o que coincida com a propriedade de tipo de dados.\nQuando usar um valor constante, as regras abaixo devem ser respeitadas:\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A constante de tipo texto pode ser passada com ou sem aspas simples (ver ",(0,r.jsx)(n.strong,{children:"Uso de aspas mais abaixo"}),'). Para pesquisar uma stirng dentro de uma string (uma pesquisa "cont\xe9m") use o s\xedmbolo coringa (@) em valor para isolar a string a ser pesquisada como mostrado neste exemplo: "@Smith@". As palavras chaves abaixo s\xe3o proibidas para constantes de texto: true, false.']}),"\n",(0,r.jsxs)(n.li,{children:["Valores constantes de tipo ",(0,r.jsx)(n.strong,{children:"booleano"}),": ",(0,r.jsx)(n.strong,{children:"true"})," ou ",(0,r.jsx)(n.strong,{children:"false"})," (diferencia mai\xfascula de min\xfascula)."]}),"\n",(0,r.jsxs)(n.li,{children:["**Valores constantes de tipo ",(0,r.jsx)(n.strong,{children:"num\xe9rico"}),": os decimais se separam com um '.' (ponto)."]}),"\n",(0,r.jsxs)(n.li,{children:["constantes de tipo ",(0,r.jsx)(n.strong,{children:"date"}),': formato "YYYY-MM-DD"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"null"}),' constante: usando a palavra-chave "null" ir\xe1 encontrar as propriedades ',(0,r.jsx)(n.strong,{children:"null"})," e ",(0,r.jsx)(n.strong,{children:"undefined"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["no caso de uma pesquisa com um comparador IN, ",(0,r.jsx)(n.em,{children:"valor"})," deve ser uma cole\xe7\xe3o, ou valores que coincidam com o tipo da rota do atributo entre [ ] separados por v\xedrgulas (para as strings, os caracteres ",(0,r.jsx)(n.code,{children:'"'})," devem ser escapados com ",(0,r.jsx)(n.code,{children:"\\"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"logicalOperator"}),": usado para participar de m\xfaltiplas condi\xe7\xf5es na consulta (opcional). Pode usaar um dos operadores l\xf3gicos abaixo (ou o nome ou o s\xedmbolo podem ser usados):"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Conjun\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"S\xedmbolos"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"AND"}),(0,r.jsx)(n.td,{children:"&, &&, and"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"OU"}),(0,r.jsx)(n.td,{children:"|,||, or"})]})]})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ordem por attributePath"}),": voc\xea pode incluir uma ordem pela instru\xe7\xe3o ",(0,r.jsx)(n.em,{children:"attributePath"})," na consulta, para que os dados resultantes sejam classificados de acordo com essa afirma\xe7\xe3o. Voc\xea pode usar v\xe1rias ordens por declara\xe7\xf5es, separadas por v\xedrgulas (por exemplo, ordem por ",(0,r.jsx)(n.em,{children:"attributePath1"})," desc, ",(0,r.jsx)(n.em,{children:"attributePath2"})," ascens). Como padr\xe3o, a ordem \xe9 ascendente. Passe 'desc'' para definir uma ordem descendente e 'asc' para definir uma ordem ascendente."]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Se voc\xea usar essa declara\xe7\xe3o, a sele\xe7\xe3o de entidade retornada ser\xe1 ordenada (para mais informa\xe7\xf5es, por favor consulte ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/dsmapping#sele%C3%A7%C3%A3o-de-entidades-ordenadas-ou-n%C3%A3o-ordenadas",children:"Sele\xe7\xf5es de entidades ordenadas vs n\xe3o ordenadas"}),")."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"usar-aspas",children:"Usar aspas"}),"\n",(0,r.jsx)(n.p,{children:"Ao usar aspas dentro das consultas, voc\xea deve usar aspas simples ' ' dentro da consulta e aspas duplas \" \" para envolver toda a consulta, caso contr\xe1rio, ser\xe1 retornado um erro. Por exemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"\"employee.name = 'smith' AND employee.firstname = 'john'\"\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Aspas siples (') n\xe3o s\xe3o permitidas nos valores pesquisados, j\xe1 que quebrariam a string de pesquisa. Por exemplo, \"comp.name = 'John's pizza' \" gerar\xe1 um erro. Se precisar pesquisar valores com aspas simples, pode considerar o uso de placeholders (ver abaixo)."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"usando-par\xeantesis",children:"Usando par\xeantesis"}),"\n",(0,r.jsx)(n.p,{children:"Voc\xea pode usar par\xeanteses na consulta para dar prioridade ao c\xe1lculo. Por exemplo, pode organizar uma pesquisa da seguinte maneira:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"\"(employee.age >= 30 OR employee.age <= 65) AND (employee.salary <= 10000 OR employee.status = 'Manager')\"\n"})}),"\n",(0,r.jsx)(n.h4,{id:"uso-de-placeholders",children:"Uso de placeholders"}),"\n",(0,r.jsx)(n.p,{children:"4D lhe permite utilizar placeholders, marcadores de posi\xe7\xe3o, para os argumentos attributePath, formula e value dentro do par\xe2metro queryString. Um placeholder \xe9 um par\xe2metro que voc\xea insere em cadeias de consulta e que \xe9 substitu\xeddo por outro valor quando a cadeia de consulta \xe9 avaliada. O valor dos placeholders \xe9 avaliado uma vez no in\xedcio da consulta; ele n\xe3o \xe9 avaliado para cada elemento."}),"\n",(0,r.jsxs)(n.p,{children:["Dois tipos de marcadores podem ser usados: placeholders indexados ** e ",(0,r.jsx)(n.strong,{children:"placeholders nomeados"}),":"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Marcadores de posi\xe7\xe3o indexados"}),(0,r.jsx)(n.th,{children:"Placeholders nomeados"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Defini\xe7\xe3o"}),(0,r.jsxs)(n.td,{children:["Os par\xe2metros s\xe3o inseridos como ",(0,r.jsx)(n.code,{children:":paramIndex"})," (por exemplo :1, :2...) no ",(0,r.jsx)(n.em,{children:"queryString"})," e seus respectivos valores s\xe3o fornecidos pela sequ\xeancia de par\xe2metro(s) ",(0,r.jsx)(n.em,{children:"value"}),". \xc9 poss\xedvel utilizar at\xe9 128 par\xe2metros ",(0,r.jsx)(n.em,{children:"value"})]}),(0,r.jsxs)(n.td,{children:["Os par\xe2metros s\xe3o inseridos como ",(0,r.jsx)(n.code,{children:":paramName"})," (por exemplo :myparam) e seus valores s\xe3o fornecidos nos atributos e/ou objetos de par\xe2metros no par\xe2metro ",(0,r.jsx)(n.em,{children:"querySettings"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Exemplo"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'$r:=class.query(":1=:2";"city";"Chicago")'})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'$o.attributes:=New object("att";"city")'}),(0,r.jsx)(n.br,{})," ",(0,r.jsx)(n.code,{children:'$o.parameters:=New object("name";"Chicago")'}),(0,r.jsx)(n.br,{})," ",(0,r.jsx)(n.code,{children:'$r:=class.query(":att=:name";$o)'})]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["\xc9 poss\xedvel misturar todos os tipos de argumentos em ",(0,r.jsx)(n.em,{children:"queryString"}),". Um ",(0,r.jsx)(n.em,{children:"queryString"})," pode conter, para os par\xe2metros ",(0,r.jsx)(n.em,{children:"attributePath"}),", ",(0,r.jsx)(n.em,{children:"formula"})," e ",(0,r.jsx)(n.em,{children:"value"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"valores diretos (sem placeholders),"}),"\n",(0,r.jsx)(n.li,{children:"placeholders indexados ou com nome."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["O uso de placeholders em consultas ",(0,r.jsx)(n.strong,{children:"\xe9 recomendado"})," pelos seguintes motivos:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Evita a inser\xe7\xe3o de c\xf3digo malicioso: se user diretamente vari\xe1veis preenchidas com uma string de pesquisa, um usu\xe1rio poderia modificar as condi\xe7\xf5es de pesquisa entrando argumentos adicionais. Por exemplo, imagine uma string de pesquisa como:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" $vquery:=\"status = 'p\xfablico' & nome = \"+meunome //usu\xe1rio entra em seu nome\n $result:=$col.query($vquery)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Essa consulta parece segura, pois os dados n\xe3o p\xfablicos s\xe3o filtrados. No entanto, se o usu\xe1rio inserir na \xe1rea ",(0,r.jsx)(n.em,{children:"myname"})," algo como ",(0,r.jsx)(n.em,{children:"\"smith OR status='private'"}),",* a string de consulta ser\xe1 modificada na etapa de interpreta\xe7\xe3o e poder\xe1 retornar dados privados."]}),"\n",(0,r.jsx)(n.p,{children:"Ao usar placeholders, n\xe3o \xe9 poss\xedvel substituir as condi\xe7\xf5es de seguran\xe7a:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" $result:=$col.query(\"status='public' & name=:1\";myname)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Neste caso, se o usu\xe1rio digitar ",(0,r.jsx)(n.em,{children:"smith OR status='private'"})," na \xe1rea ",(0,r.jsx)(n.em,{children:"myname"}),", isso n\xe3o ser\xe1 interpretado na string de consulta, mas apenas passado como um valor. A busca por uma pessoa chamada \"smith OR status='private'\" simplesmente falhar\xe1."]}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Isso evita ter que se preocupar com problemas de formata\xe7\xe3o ou caracteres, especialmente ao lidar com os par\xe2metros ",(0,r.jsx)(n.em,{children:"attributePath"})," ou ",(0,r.jsx)(n.em,{children:"value"}),' que podem conter caracteres n\xe3o alfanum\xe9ricos, como ".", "[\'...']}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Permite o uso de vari\xe1veis ou express\xf5es nos argumentos de pesquisa. Exemplos:"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$result:=$col.query("address.city = :1 & name =:2";$city;$myVar+"@")\n$result2:=$col.query("company.name = :1";"John\'s Pizzas")\n'})}),"\n",(0,r.jsx)(n.h4,{id:"pesquisa-de-valores-null",children:"Pesquisa de valores null"}),"\n",(0,r.jsx)(n.p,{children:"Quando pesquisar por valores null n\xe3o pode usar a sintaxe do marcador de posi\xe7\xe3o porque o motor de consulta considera o valor null como um valor de compara\xe7\xe3o inesperado. Por exemplo, se executar esta pesquisa:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$vSingles:=ds. Person.query("spouse = :1";Null) // will NOT work\n'})}),"\n",(0,r.jsx)(n.p,{children:"N\xe3o obter\xe1 o resultado esperado porque o valor nulo ser\xe1 avaliado por 4D como um erro resultante da avalia\xe7\xe3o do par\xe2metro (por exemplo, um atributo vindo de outra consulta). Para este tipo de pesquisa, deve usar a sintaxe de pesquisa direta:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' $vSingles:=ds.Person.query("spouse = null") //sintaxe correta\n'})}),"\n",(0,r.jsx)(n.h4,{id:"n\xe3o-igual-a-em-colec\xe7\xf5es",children:"N\xe3o igual a em colec\xe7\xf5es"}),"\n",(0,r.jsxs)(n.p,{children:['Ao pesquisar nos atributos de objectos de classe de dados que cont\xeam colec\xe7\xf5es, o comparador "n\xe3o igual a valor" (',(0,r.jsx)(n.code,{children:"#"})," ou ",(0,r.jsx)(n.code,{children:"!="}),') encontrar\xe1 elementos em que TODAS as propriedades s\xe3o diferentes de valor (e n\xe3o aqueles em que PELO MENOS uma propriedade \xe9 diferente de valor, que \xe9 como funcionam outros comparadores). Basicamente, \xe9 equivalente \xe0 pesquisa por "Not(encontrar elementos da cole\xe7\xe3o onde a propriedade \xe9 igual a ',(0,r.jsx)(n.em,{children:"value"}),'"). Por exemplo, com as seguintes entidades:']}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Entity 1:\nds.Class.name: "A"\nds.Class.info:\n    { "coll" : [ {\n                "val":1,\n                "val":1\n            } ] }\n\nEntity 2:\nds.Class.name: "B"\nds.Class.info:\n    { "coll" : [ {\n                "val":1,\n                "val":0\n            } ] }\n\nEntity 3:\nds.Class.name: "C"\nds.Class.info:\n    { "coll" : [ {\n                "val":0,\n                "val":0\n            } ] }\n'})}),"\n",(0,r.jsx)(n.p,{children:"Considere os seguintes resultados:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'ds.Class.query("info.coll[].val = :1";0) \n// retorna B e C\n// encontra "entities with 0 in at least one val property"\n\nds.Class.query("info.coll[].val != :1";0)\n// retorna apenas A\n// encontra "entities where all val properties are different from 0"\n// que \xe9 equivalente a \nds.Class.query(not("info.coll[].val = :1";0))\n'})}),"\n",(0,r.jsxs)(n.p,{children:['Se voc\xea quer implementar uma consulta que encontra entidades onde "pelo menos uma propriedade \xe9 diferente de ',(0,r.jsx)(n.em,{children:"valor"}),'", voc\xea precisa usar uma nota\xe7\xe3o especial usando uma carta no ',(0,r.jsx)(n.code,{children:"[]"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'ds.Class.query("info.coll[a].val := :1";0)  \n// devolve A e B\n// encontra "entidades em que pelo menos uma propriedade val \xe9 diferente de 0"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Voc\xea pode usar qualquer letra do alfabeto como a nota\xe7\xe3o ",(0,r.jsx)(n.code,{children:"[a]"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"linkar-os-argumentos-de-pesquisa-com-os-atributos-de-cole\xe7\xe3o",children:"Linkar os argumentos de pesquisa com os atributos de cole\xe7\xe3o"}),"\n",(0,r.jsx)(n.p,{children:"Ao pesquisar nos atributos de objetos de classe de dados que cont\xeam cole\xe7\xf5es usando v\xe1rios argumentos de consulta unidos pelo operador AND, voc\xea pode querer garantir que somente as entidades que cont\xeam elementos que correspondem a todos os argumentos sejam retornadas, e n\xe3o as entidades em que os argumentos podem ser encontrados em elementos diferentes. Para tal, \xe9 necess\xe1rio ligar argumentos de consulta a elementos de cole\xe7\xe3o, de modo a que apenas sejam encontrados elementos individuais que contenham argumentos ligados."}),"\n",(0,r.jsx)(n.p,{children:"Por exemplo, com as duas entidades abaixo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Entity 1:\nds. People.name: "martin"\nds. People.places:\n    { "locations" : [ {\n                "kind":"home",\n                "city":"paris"\n            } ] } Entity 2:\nds. People.name: "smith"\nds. People.places:\n    { "locations" : [ {\n                "kind":"home",\n                "city":"lyon"\n            } , {\n                "kind":"office",\n                "city":"paris"\n            } ] }\n'})}),"\n",(0,r.jsx)(n.p,{children:'Voc\xea deseja encontrar pessoas com um tipo de local de "resid\xeancia" na cidade "paris". Se escrever:'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'ds. People.query("places.locations[].kind= :1 and places.locations[].city= :2";"home";"paris")\n'})}),"\n",(0,r.jsxs)(n.p,{children:['... a consulta retornar\xe1 "martin" ',(0,r.jsx)(n.strong,{children:"e"}),' "smith" porque "smith" possui um elemento "locations" cujo "tipo" \xe9 "home" e um elemento "locations" cuja "cidade" \xe9 "paris", mesmo que sejam elementos diferentes.']}),"\n",(0,r.jsxs)(n.p,{children:["Se voc\xea quiser apenas obter entidades em que os argumentos correspondentes est\xe3o no mesmo elemento da cole\xe7\xe3o, voc\xea precisa ",(0,r.jsx)(n.strong,{children:"linkar os argumentos"}),". Para linkar argumentos de pesquisa:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Adicionar uma letra entre os [] na primeira rota a linkar e repita a mesma letra em todos os argumentos linkados. Por exemplo: ",(0,r.jsx)(n.code,{children:"locations[a].city and locations[a].kind"}),". Pode usar qualquer letra do alfabeto latino (n\xe3o diferencia mai\xfasculas e min\xfasculas)."]}),"\n",(0,r.jsx)(n.li,{children:"Para adicionar crit\xe9rios linkados na mesma pesquisa, use outra letra. Pode criar at\xe9 26 combina\xe7\xf5es de crit\xe9rios em uma \xfanica pesquisa."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Com as entidades acima, se escreve:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'ds. People.query("places.locations[a].kind= :1 and places.locations[a].city= :2";"home";"paris")\n'})}),"\n",(0,r.jsx)(n.p,{children:'... pesquisa s\xf3 devolver\xe1 "martin" porque tem um elemento "locations" cujo "kind" \xe9 "home" e cujo "city" for "paris". A consulta n\xe3o devolver\xe1 "smith" porque os valores "home" e "paris" n\xe3o est\xe3o no mesmo elemento de cole\xe7\xe3o.'}),"\n",(0,r.jsx)(n.h4,{id:"consultas-em-rela\xe7\xf5es-muitos-para-muitos",children:"Consultas em rela\xe7\xf5es Muitos para Muitos"}),"\n",(0,r.jsx)(n.p,{children:"O ORDA oferece uma sintaxe especial para facilitar as consultas em rela\xe7\xf5es muitos-para-muitos. Neste contexto, poder\xe1 ter de procurar valores diferentes com um operador E MAS no mesmo atributo. Por exemplo, veja a seguinte estrutura:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"alt-text",src:s(308754).Z+"",width:"537",height:"268"})}),"\n",(0,r.jsxs)(n.p,{children:["Imagine que voc\xea queira pesquisar todos os filmes em que ambos o ator A e o ator B tenham um papel. Se voc\xea escrever uma consulta simples usando um operador ",(0,r.jsx)(n.code,{children:"AND"}),", ela n\xe3o funcionar\xe1:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'// invalid code\n$es:=ds. Movie.query("roles.actor.lastName = :1 AND roles.actor.lastName = :2";"Hanks";"Ryan")  \n// $es is empty\n'})}),"\n",(0,r.jsx)(n.p,{children:'Basicamente, o problema est\xe1 relacionado \xe0 l\xf3gica interna da consulta: voc\xea n\xe3o pode pesquisar um atributo cujo valor seja "A" e "B".'}),"\n",(0,r.jsxs)(n.p,{children:["Para tornar poss\xedvel a realiza\xe7\xe3o de tais consultas, a ORDA permite uma sintaxe especial: voc\xea s\xf3 precisa adicionar um ",(0,r.jsx)(n.em,{children:"\xedndice de classe"})," entre ",(0,r.jsx)(n.strong,{children:"{}"})," em todos os atributos de rela\xe7\xe3o adicionais usados na string:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'"relationAttribute.attribute = :1 AND relationAttribute{x}.attribute = :2 [AND relationAttribute{y}.attribute...]"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"{x}"})," informa ao ORDA para criar outra refer\xeancia para o atributo de rela\xe7\xe3o. Em seguida, ele executar\xe1 internamente todas as opera\xe7\xf5es de bitmap necess\xe1rias. Note que ",(0,r.jsx)(n.strong,{children:"x"})," pode ser qualquer n\xfamero ",(0,r.jsx)(n.strong,{children:"exceto 0"}),": {1}, ou {2}, ou {1540}... O ORDA s\xf3 precisa de uma refer\xeancia exclusiva na consulta para cada \xedndice de classe."]}),"\n",(0,r.jsx)(n.p,{children:"No nosso exemplo, seria:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'// valid code\n$es:=ds. Movie.query("roles.actor.lastName = :1 AND roles.actor{2}.lastName = :2";"Hanks";"Ryan")  \n// $es contains movies (You\'ve Got Mail, Sleepless in Seattle, Joe Versus the Volcano)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"par\xe2metro-formula",children:"Par\xe2metro formula"}),"\n",(0,r.jsxs)(n.p,{children:["Como alternativa \xe0 inser\xe7\xe3o de f\xf3rmulas dentro do par\xe2metro queryString (ver acima), pode passar diretamente um objeto f\xf3rmula como crit\xe9rio de pesquisa booleano. Usar um objeto f\xf3rmula para consultas \xe9 ",(0,r.jsx)(n.strong,{children:"recomendado"})," pois voc\xea se beneficia da tokeniza\xe7\xe3o, e o c\xf3digo \xe9 mais f\xe1cil de pesquisar/ler."]}),"\n",(0,r.jsxs)(n.p,{children:["A f\xf3rmula deve ter sido criada usando o comando ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/FunctionClass#formula",children:(0,r.jsx)(n.code,{children:"F\xf3rmula"})})," ou ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/FunctionClass#formula-from-string",children:(0,r.jsx)(n.code,{children:"Formula da string"})}),". Nesse modo:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"formula"})," se avalia para cada entidade e deve devolver true ou false. Durante a execu\xe7\xe3o da pesquisa, se o resultado da f\xf3rmula n\xe3o for booleano, \xe9 considerado como False."]}),"\n",(0,r.jsxs)(n.li,{children:["dentro da ",(0,r.jsx)(n.em,{children:"f\xf3rmula"}),", a entidade est\xe1 dispon\xedvel atrav\xe9s do objeto ",(0,r.jsx)(n.code,{children:"This"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["se o objeto ",(0,r.jsx)(n.code,{children:"F\xf3rmula"})," for ",(0,r.jsx)(n.strong,{children:"null"}),', o erro 1626 ("Esperando um texto ou f\xf3rmula") \xe9 gerado, que voc\xea chama intercepta\xe7\xe3o usando um m\xe9todo instalado com ',(0,r.jsx)(n.code,{children:"NO ERR CALL"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Por raz\xf5es de seguran\xe7a, chamadas de f\xf3rmula dentro de fun\xe7\xf5es ",(0,r.jsx)(n.code,{children:"query()"})," podem ser desabilitadas. Veja a descri\xe7\xe3o do par\xe2metro ",(0,r.jsx)(n.em,{children:"querySettings"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"passar-par\xe2metros-a-f\xf3rmulas",children:"Passar par\xe2metros a f\xf3rmulas"}),"\n",(0,r.jsxs)(n.p,{children:["Qualquer ",(0,r.jsx)(n.em,{children:"f\xf3rmula"})," chamada pela fun\xe7\xe3o de classe ",(0,r.jsx)(n.code,{children:"query()"})," pode receber par\xe2metros:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Par\xe2metros devem ser passados atrav\xe9s da propriedade ",(0,r.jsx)(n.strong,{children:"args"})," (objeto) do par\xe2metro ",(0,r.jsx)(n.em,{children:"querySettings"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["A f\xf3rmula recebe esse objeto ",(0,r.jsx)(n.strong,{children:"args"})," como um par\xe2metro ",(0,r.jsx)(n.strong,{children:"$1"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Este pequeno c\xf3digo mostra os principios de como s\xe3o passados os par\xe2metros aos m\xe9todos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' $settings:=New object("args";New object("exclude";"-")) //args objeto para passar par\xe2metros\n $es:=ds.Students.query("eval(checkName($1.exclude))";$settings) //args \xe9 recebido em $1\n'})}),"\n",(0,r.jsx)(n.p,{children:"No exemplo 3 s\xe3o oferecidos mais exemplos."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"4D Server"}),": em cliente/servidor, as f\xf3rmulas s\xe3o executadas no servidor. Neste contexto, s\xf3 se envia \xe0s f\xf3rmulas o objeto ",(0,r.jsx)(n.code,{children:"querySettings.args"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"par\xe2metro-querysettings",children:"Par\xe2metro querySettings"}),"\n",(0,r.jsxs)(n.p,{children:["No par\xe2metro ",(0,r.jsx)(n.em,{children:"querySettings"})," \xe9 poss\xedvel passar um objeto que conteha op\xe7\xf5es adicionais. As propriedades abaixo s\xe3o compat\xedveis:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"parameters"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.strong,{children:"Espa\xe7os reservados nomeados para valores"})," usados na ",(0,r.jsx)(n.em,{children:"queryString"})," ou ",(0,r.jsx)(n.em,{children:"formula"}),". Os valores s\xe3o expressos como pares propriedade / valor, onde propriedade \xe9 o nome do marcador de posi\xe7\xe3o inserido para um valor na ",(0,r.jsx)(n.em,{children:"queryString"})," ou na ",(0,r.jsx)(n.em,{children:"formula"}),' (":placeholder") e valor \xe9 o valor a ser comparado. Pode combinar marcadores de posi\xe7\xe3o indexados (valores passados diretamente em par\xe2metros de valor) e valores de marcadores de posi\xe7\xe3o com nome na mesma pesquisa.']})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"attributes"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.strong,{children:"Espa\xe7os reservados nomeados para caminhos de atributos"})," usados na ",(0,r.jsx)(n.em,{children:"queryString"})," ou ",(0,r.jsx)(n.em,{children:"formula"}),". Os atributos se expressam como pares propriedade/ valor, onde propriedade \xe9 o nome do marcador de posi\xe7\xe3o inserido para uma rota de atributo em ",(0,r.jsx)(n.em,{children:"queryString"})," ou ",(0,r.jsx)(n.em,{children:"formula"}),' (":placeholder") e valor pode ser uma string ou uma cole\xe7\xe3o de strings. Cada valor \xe9 um caminho que pode designar um escalar ou um atributo relacionado da classe de dados ou uma propriedade em um campo de objeto da classe de dados.',(0,r.jsx)(n.table,{children:(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:'attributePath expresso usando a nota\xe7\xe3o de ponto, por exemplo, "nome" ou "usuario.endereco.cep"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Cole\xe7\xe3o de strings"}),(0,r.jsx)(n.td,{children:'Cada string da cole\xe7\xe3o representa um n\xedvel do attributePath, por exemplo, ["nome"] ou ["usuario","endereco","cep"]. Using a collection allows querying on attributes with names that are not compliant with dot notation, e.g. ["4Dv17.1","en/fr"]'})]})]})}),"You can mix indexed placeholders (values directly passed in ",(0,r.jsx)(n.em,{children:"value"})," parameters) and named placeholder values in the same query."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"args"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsxs)(n.td,{children:["Par\xe1metro(s) a passar para as f\xf3rmulas, se houver. The ",(0,r.jsx)(n.strong,{children:"args"})," object will be received in $1 within formulas and thus its values will be available through ",(0,r.jsx)(n.em,{children:"$1.property"})," (see example 3)."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"allowFormulas"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsxs)(n.td,{children:["True para permitir as chamadas de f\xf3rmulas na pesquisa (padr\xe3o). Passe falso para desautorizar a execu\xe7\xe3o de f\xf3rmulas. If set to false and ",(0,r.jsx)(n.code,{children:"query()"})," is given a formula, an error is sent (1278 - Formula not allowed in this member method)."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"context"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["Etiqueta para o contexto de otimiza\xe7\xe3o autom\xe1tico aplicados \xe0 sele\xe7\xe3o de entidade. Este contexto ser\xe1 utilizado pelo c\xf3digo que maneja a sele\xe7\xe3o de entidades para que possa se beneficiar da otimiza\xe7\xe3o. This feature is designed for client/server processing; for more information, please refer to the ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/ORDA/client-server-optimization#optimization-context",children:(0,r.jsx)(n.strong,{children:"Client/server optimization"})})," section."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"queryPlan"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsx)(n.td,{children:"Na entity selection resultante, devolve ou n\xe3o a descri\xe7\xe3o detalhada da pesquisa logo antes de ser executada, ou seja, a pesquisa planificada. A propriedade devolvida \xe9 um objeto que inclui cada pesquisa e subpesquisa prevista (no caso de uma pesquisa complexa). Esta op\xe7\xe3o \xe9 \xfatil durante a fase de desenvolvimento de uma aplica\xe7\xe3o. Geralmente \xe9 usada em conjunto com queryPath. Como padr\xe3o \xe9 omitido: false."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"queryPath"}),(0,r.jsx)(n.td,{children:"Par\xe2metros"}),(0,r.jsx)(n.td,{children:"Na entity selection resultante, devolve ou n\xe3o a descri\xe7\xe3o detalhada da pesquisa tal qual for realizada. A propriedade retornada \xe9 um objeto que cont\xe9m a rota atual usada para a pesquisa (geralmente id\xeantica \xe0quela do queryPlan, mas deve diferenciar se o motor consegue otimizar a pesquisa), assim como o tempo de processamento e o n\xfamero de registros encontrado. Esta op\xe7\xe3o \xe9 \xfatil durante a fase de desenvolvimento de uma aplica\xe7\xe3o. Como padr\xe3o \xe9 omitido: false."})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"sobre-queryplan-e-querypath",children:"Sobre queryPlan e queryPath"}),"\n",(0,r.jsxs)(n.p,{children:["The information recorded in ",(0,r.jsx)(n.code,{children:"queryPlan"}),"/",(0,r.jsx)(n.code,{children:"queryPath"})," include the query type (indexed and sequential) and each necessary subquery along with conjunction operators. As rotas de acesso das peti\xe7\xf5es tamb\xe9m cont\xe9m o n\xfamero de entidades encontradas e o tempo necess\xe1rio para executar cada crit\xe9rio de pesquisa. As rotas de acesso das peti\xe7\xf5es tamb\xe9m cont\xe9m o n\xfamero de entidades encontradas e o tempo necess\xe1rio para executar cada crit\xe9rio de pesquisa. Geralmente a descri\xe7\xe3o do plano de pesquisa e sua rota s\xe3o id\xeanticas, mas podem diferir porque 4D pode implementar otimiza\xe7\xf5es din\xe2micas quando uma pesquisa for executada para melhorar desempenho. Por exemplo, o motor 4D pode converter dinamicamente uma consulta indexada em uma consulta sequencial se estimar que seja mais r\xe1pido. Esse caso particular pode acontecer quando o n\xfamero de entidades sendo pesquisada \xe9 baixo."]}),"\n",(0,r.jsx)(n.p,{children:"Por exemplo, se executar esta pesquisa:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' $sel:=ds.Employee.query("salary < :1 and employer.name = :2 or employer.revenues > :3";\\  \n 50000;"Lima West Kilo";10000000;New object("queryPath";True;"queryPlan";True))\n'})}),"\n",(0,r.jsx)(n.p,{children:"queryPlan:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"{Or:[{And:[{item:[index : Employee.salary ] < 50000},  \n {item:Join on Table : Company  :  Employee.employerID = Company.ID,  \n subquery:[{item:[index : Company.name ] = Lima West Kilo}]}]},  \n {item:Join on Table : Company  :  Employee.employerID = Company.ID,  \n subquery:[{item:[index : Company.revenues ] > 10000000}]}]}\n"})}),"\n",(0,r.jsx)(n.p,{children:"queryPath:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"{steps:[{description:OR,time:63,recordsfounds:1388132,  \n steps:[{description:AND,time:32,recordsfounds:131,  \n steps:[{description:[index : Employee.salary ] < 50000,time:16,recordsfounds:728260},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:0,recordsfounds:131,  \n steps:[{steps:[{description:[index : Company.name ] = Lima West Kilo,time:0,recordsfounds:1}]}]}]},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:31,recordsfounds:1388132,  \n steps:[{steps:[{description:[index : Company.revenues ] > 10000000,time:0,recordsfounds:933}]}]}]}]}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-1-5",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.p,{children:"Esta se\xe7\xe3o oferece v\xe1rios exemplos de pesquisas."}),"\n",(0,r.jsx)(n.p,{children:"Consultas em uma string:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"$entitySelection:=ds. Customer.query(\"firstName = 'S@'\")\n"})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com uma instru\xe7\xe3o NOT:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds. Employee.query("not(firstName=Kim)")\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisas com datas:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds.Employee.query("birthDate > :1";"1970-01-01")\n$entitySelection:=ds.Employee.query("birthDate <= :1";Current date-10950)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com marcadores de posi\xe7\xe3o indexados para os valores:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds. Customer.query("(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)";"D@";"R@";"S@";"K@")\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com marcadores de posi\xe7\xe3o indexados para valores em uma dataclass relacionada:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds. Employee.query("lastName = :1 and manager.lastName = :2";"M@";"S@")\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com marcador de posi\xe7\xe3o indexado que inclui uma instru\xe7\xe3o de ordem descendente:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds. Student.query("nationality = :1 order by campus.name desc, lastname";"French")\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com marcadores de posi\xe7\xe3o com nome para os valores:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $querySettings : Object\nvar $managedCustomers : cs. CustomerSelection\n$querySettings:=New object\n$querySettings.parameters:=New object("userId";1234;"extraInfo";New object("name";"Smith"))\n$managedCustomers:=ds. Customer.query("salesperson.userId = :userId and name = :extraInfo.name";$querySettings)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa que usa marcadores de posi\xe7\xe3o nomeados e indexados para valores:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $querySettings : Object\nvar $managedCustomers : cs. CustomerSelection\n$querySettings.parameters:=New object("userId";1234)\n$managedCustomers:=ds. Customer.query("salesperson.userId = :userId and name=:1";"Smith";$querySettings)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com objetos queryPlan e queryPath:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds. Employee.query("(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)";"D@";"R@";"S@";"K@";New object("queryPlan";True;"queryPath";True))\n\n  //you can then get these properties in the resulting entity selection\nvar $queryPlan; $queryPath : Object\n$queryPlan:=$entitySelection.queryPlan\n$queryPath:=$entitySelection.queryPath\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com uma rota de atributo de tipo Collection:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds. Employee.query("extraInfo.hobbies[].name = :1";"horsebackriding")\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com uma rota de atributos de tipo Collection e atributos vinculados:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds. Employee.query("extraInfo.hobbies[a].name = :1 and extraInfo.hobbies[a].level=:2";"horsebackriding";2)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com uma rota de atributos de tipo Collection e m\xfaltiplos atributos vinculados:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds. Employee.query("extraInfo.hobbies[a].name = :1 and\n extraInfo.hobbies[a].level = :2 and extraInfo.hobbies[b].name = :3 and\n extraInfo.hobbies[b].level = :4";"horsebackriding";2;"Tennis";5)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com uma rota de atributo de tipo Objeto:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds. Employee.query("extra.eyeColor = :1";"blue")\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com uma instru\xe7\xe3o IN:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds. Employee.query("firstName in :1";New collection("Kim";"Dixie"))\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com instru\xe7\xe3o NOT (IN):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'$entitySelection:=ds. Employee.query("not (firstName in :1)";New collection("John";"Jane"))\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com marcadores de posi\xe7\xe3o indexados para os atributos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $es : cs. EmployeeSelection\n$es:=ds. Employee.query(":1 = 1234 and :2 = \'Smith\'";"salesperson.userId";"name")\n  //salesperson is a related entity\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com marcadores de posi\xe7\xe3o indexados para os atributos e marcadores de posi\xe7\xe3o com nome para os valores:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $es : cs. EmployeeSelection\nvar $querySettings : Object\n$querySettings:=New object\n$querySettings.parameters:=New object("customerName";"Smith")\n$es:=ds. Customer.query(":1 = 1234 and :2 = :customerName";"salesperson.userId";"name";$querySettings)\n  //salesperson is a related entity\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com marcadores de posi\xe7\xe3o indexados para os atributos e os valores:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $es : cs. EmployeeSelection\n$es:=ds. Clients.query(":1 = 1234 and :2 = :3";"salesperson.userId";"name";"Smith")\n  //salesperson is a related entity\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-2-6",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.p,{children:"Esta se\xe7\xe3o ilustra pesquisas com marcadores de posi\xe7\xe3o com nomes para os atributos."}),"\n",(0,r.jsx)(n.p,{children:"Dada uma dataclass Employee com 2 entidades:"}),"\n",(0,r.jsx)(n.p,{children:"Entidade 1:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'name: "Marie"\nnumber: 46\nsoftwares:{\n"Word 10.2": "Installed",\n"Excel 11.3": "To be upgraded",\n"Powerpoint 12.4": "Not installed"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Entidade 2:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'name: "Sophie"\nnumber: 47\nsoftwares:{\n"Word 10.2": "Not installed",\n"Excel 11.3": "To be upgraded",\n"Powerpoint 12.4": "Not installed"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com marcadores de posi\xe7\xe3o com nome para os atributos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $querySettings : Object\n var $es : cs.EmployeeSelection\n $querySettings:=New object\n $querySettings.attributes:=New object("attName";"name";"attWord";New collection("softwares";"Word 10.2"))\n $es:=ds.Employee.query(":attName = \'Marie\' and :attWord = \'Installed\'";$querySettings)\n  //$es.length=1 (Employee Marie)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Pesquisa com marcadores de posi\xe7\xe3o com nome para os atributos e os valores:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $querySettings : Object\n var $es : cs.EmployeeSelection\n var $name : Text\n $querySettings:=New object\n  //Named placeholders for values\n  //The user is asked for a name\n $name:=Request("Please enter the name to search:")\n If(OK=1)\n    $querySettings.parameters:=New object("givenName";$name)\n  //Named placeholders for attribute paths\n    $querySettings.attributes:=New object("attName";"name")\n    $es:=ds.Employee.query(":attName= :givenName";$querySettings)\n End if\n'})}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-3-3",children:"Exemplo 3"}),"\n",(0,r.jsx)(n.p,{children:"Estes exemplos ilustram as distintas formas de utilizar f\xf3rmulas com ou sem par\xe2metros em suas pesquisas."}),"\n",(0,r.jsxs)(n.p,{children:["A f\xf3rmula \xe9 fornecida como texto com ",(0,r.jsx)(n.code,{children:"eval()"})," no par\xe2metro ",(0,r.jsx)(n.em,{children:"queryString"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $es : cs.StudentsSelection\n $es:=ds.Students.query(\"eval(length(This.lastname) >=30) and nationality='French'\")\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The formula is given as a ",(0,r.jsx)(n.code,{children:"Formula"})," object through a placeholder:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $es : cs.StudentsSelection\n var $formula : Object\n $formula:=Formula(Length(This.lastname)>=30)\n $es:=ds.Students.query(\":1 and nationality='French'\";$formula)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["S\xf3 se da como criterio um objeto ",(0,r.jsx)(n.code,{children:"Formula"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $es : cs.StudentsSelection\n var $formula : Object\n $formula:=Formula(Length(This.lastname)>=30)\n $es:=ds.Students.query($formula)\n"})}),"\n",(0,r.jsx)(n.p,{children:"Podem ser aplicadas v\xe1rias f\xf3rmulas:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:" var $formula1; $1; $formula2 ;$0 : Object\n $formula1:=$1\n $formula2:=Formula(Length(This.firstname)>=30)\n $0:=ds.Students.query(\":1 and :2 and nationality='French'\";$formula1;$formula2)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["A text formula in ",(0,r.jsx)(n.em,{children:"queryString"})," receives a parameter:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $es : cs.StudentsSelection\n var $settings : Object\n $settings:=New object()\n $settings.args:=New object("filter";"-")\n $es:=ds.Students.query("eval(checkName($1.filter)) and nationality=:1";"French";$settings)\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"  //m\xe9todo checkName\n #DECLARE($exclude : Text) -> $result : Boolean\n $result:=(Position($exclude;This.lastname)=0)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Usando o mesmo m\xe9todo ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"checkName"})}),", um objeto ",(0,r.jsx)(n.code,{children:"Formula"})," como espa\xe7o reservado recebe um par\xe2metro:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $es : cs.StudentsSelection\n var $settings; $formula : Object\n $formula:=Formula(checkName($1.filter))\n $settings:=New object()\n $settings.args:=New object("filter";"-")\n $es:=ds.Students.query(":1 and nationality=:2";$formula;"French";$settings)\n $settings.args.filter:="*" // change the parameters without updating the $formula object\n $es:=ds.Students.query(":1 and nationality=:2";$formula;"French";$settings)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Queremos desautorizar as f\xf3rmulas, por exemplo, quando el usu\xe1rio introduz sua consulta:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:' var $es : cs.StudentsSelection\n var $settings : Object\n var $queryString : Text\n $queryString:=Request("Enter your query:")\n if(OK=1)\n    $settings:=New object("allowFormulas";False)\n    $es:=ds.Students.query($queryString;$settings) //An error is raised if $queryString contains a formula\n End if\n'})}),"\n",(0,r.jsx)(n.h4,{id:"veja-tamb\xe9m-2",children:"Veja tamb\xe9m"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/pt/20-R6/API/EntitySelectionClass#query",children:(0,r.jsx)(n.code,{children:".query()"})})," para as sele\xe7\xf5es de entidade"]}),"\n",(0,r.jsx)(n.h2,{id:"setremotecachesettings",children:".setRemoteCacheSettings()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Hist\xf3ria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Release"}),(0,r.jsx)(n.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"19 R5"}),(0,r.jsx)(n.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".setRemoteCacheSettings"}),"(",(0,r.jsx)(n.em,{children:"settings"})," : Object)"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"settings"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"->"}),(0,r.jsx)(n.td,{children:"Objecto que define o tempo limite e o tamanho m\xe1ximo da cache ORDA para a dataclass."})]})})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Modo avan\xe7ado:"})," Essa fun\xe7\xe3o \xe9 destinada a desenvolvedores que precisam personalizar os recursos padr\xe3o do ORDA para configura\xe7\xf5es espec\xedficas. Na maioria dos casos, n\xe3o necessitar\xe1 de o utilizar."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"descri\xe7\xe3o-12",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:".setRemoteCacheSettings()"})," function sets the timeout and maximum size of the ORDA cache for a dataclass.."]}),"\n",(0,r.jsxs)(n.p,{children:["No par\xe2metro ",(0,r.jsx)(n.em,{children:"settings"}),", passe um objeto contendo as propriedades abaixo:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propriedade"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"timeout"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Tempo de espera em segundos."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"maxEntries"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"N\xfamero m\xe1ximo de entidades."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"timeout"})," sets the timeout of the ORDA cache for the dataclass (default is 30 seconds). Uma vez decorrido o tempo limite, as entidades da classe de dados na cache s\xe3o consideradas como expiradas. Isto significa que:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"os dados ainda est\xe3o l\xe1"}),"\n",(0,r.jsx)(n.li,{children:"na pr\xf3xima vez que os dados forem necess\xe1rios, ser\xe3o solicitados ao servidor"}),"\n",(0,r.jsx)(n.li,{children:"4D remove automaticamente os dados expirados quando o n\xfamero m\xe1ximo de entidades \xe9 atingido"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Setting a ",(0,r.jsx)(n.code,{children:"timeout"})," property sets a new timeout for the entities already present in the cache. \xc9 \xfatil quando se trabalha com dados que n\xe3o mudam com muita frequ\xeancia, e, portanto, quando n\xe3o s\xe3o necess\xe1rios novos pedidos ao servidor."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"maxEntries"})," define o n\xfamero m\xe1ximo de entidades na cache ORDA. O padr\xe3o \xe9 de 30 000."]}),"\n",(0,r.jsxs)(n.p,{children:["The minimum number of entries is 300, so the value of ",(0,r.jsx)(n.code,{children:"maxEntries"})," must be equal to or higher than 300. Caso contr\xe1rio, \xe9 ignorado e o n\xfamero m\xe1ximo de entradas \xe9 fixado em 300."]}),"\n",(0,r.jsxs)(n.p,{children:["If no valid properties are passed as ",(0,r.jsx)(n.code,{children:"timeout"})," and ",(0,r.jsx)(n.code,{children:"maxEntries"}),", the cache remains unchanged, with its default or previously set values."]}),"\n",(0,r.jsx)(n.p,{children:"Quando uma entidade \xe9 guardada, \xe9 actualizada na cache e expira quando o tempo limite \xe9 atingido."}),"\n",(0,r.jsx)(n.h4,{id:"exemplo-12",children:"Exemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $ds : 4D. DataStoreImplementation\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$ds. Buildings.setRemoteCacheSettings(New object("timeout"; 60; "maxEntries"; 350))\n'})}),"\n",(0,r.jsx)(n.h4,{id:"veja-tamb\xe9m-3",children:"Veja tamb\xe9m"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"#clearremotecache",children:".clearRemoteCache()"}),(0,r.jsx)(n.br,{}),(0,r.jsx)(n.a,{href:"#clearremotecache",children:".getRemoteCache()"})]})]})}function m(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},66620:function(e,n,s){s.d(n,{Z:function(){return a}});let a=s.p+"assets/images/dataclassAttribute-a6b39462dc310d6f9b5816409d863cee.png"},363835:function(e,n,s){s.d(n,{Z:function(){return a}});let a=s.p+"assets/images/dataclassAttribute2-815959fd721b6dd175aaa338e04c2f38.png"},308754:function(e,n,s){s.d(n,{Z:function(){return a}});let a=s.p+"assets/images/manytomany-1ad2ed56ebdb101476120ab419c1994d.png"},250065:function(e,n,s){s.d(n,{Z:function(){return i},a:function(){return d}});var a=s(667294);let r={},o=a.createContext(r);function d(e){let n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);