"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["95798"],{470348:function(e,s,n){n.r(s),n.d(s,{default:()=>h,frontMatter:()=>o,metadata:()=>i,assets:()=>a,toc:()=>t,contentTitle:()=>l});var i=JSON.parse('{"id":"API/SessionClass","title":"Session","description":"Os objetos Session s\xe3o devolvidos pelo comando Session quando s\xe3o habilitadas as sess\xf5es escal\xe1veis em seu projeto. O objeto Session \xe9 criado e mantido automaticamente pelo servidor web 4D para controlar a sess\xe3o de um cliente web (por exemplo, um navegador). Esse objeto oferece ao desenvolvedor web uma interface para a sess\xe3o de usu\xe1rio, permitindo gerenciar privil\xe9gios, armazenar dados contextuais, partilhar informa\xe7\xe3o entre processos e lan\xe7ar processos preemptivos relacionados a sess\xe3o.","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-19/API/SessionClass.md","sourceDirName":"API","slug":"/API/SessionClass","permalink":"/docs/pt/19/API/SessionClass","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSessionClass.md%20(19)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"19","frontMatter":{"id":"SessionClass","title":"Session"},"sidebar":"docs","previous":{"title":"POP3Transporter","permalink":"/docs/pt/19/API/POP3TransporterClass"},"next":{"title":"Signal","permalink":"/docs/pt/19/API/SignalClass"}}'),r=n("785893"),d=n("250065");let o={id:"SessionClass",title:"Session"},l=void 0,a={},t=[{value:"Resumo",id:"resumo",level:3},{value:"Session",id:"session",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo",id:"exemplo",level:4},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:4},{value:"Exemplo",id:"exemplo-1",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:4},{value:"Exemplo",id:"exemplo-2",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-3",level:4},{value:"Exemplo",id:"exemplo-3",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-4",level:4},{value:"Exemplo",id:"exemplo-4",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-5",level:4},{value:"Exemplo",id:"exemplo-5",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-6",level:4},{value:"Exemplo",id:"exemplo-6",level:4},{value:".storage",id:"storage",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-7",level:4},{value:"Exemplo",id:"exemplo-7",level:4},{value:".userName",id:"username",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-8",level:4}];function c(e){let s={a:"a",blockquote:"blockquote",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["Os objetos Session s\xe3o devolvidos pelo comando ",(0,r.jsx)(s.a,{href:"#session",children:(0,r.jsx)(s.code,{children:"Session"})})," quando ",(0,r.jsx)(s.a,{href:"/docs/pt/19/WebServer/sessions#enabling-sessions",children:"s\xe3o habilitadas as sess\xf5es escal\xe1veis em seu projeto"}),". O objeto Session \xe9 criado e mantido automaticamente pelo servidor web 4D para controlar a sess\xe3o de um cliente web (por exemplo, um navegador). Esse objeto oferece ao desenvolvedor web uma interface para a sess\xe3o de usu\xe1rio, permitindo gerenciar privil\xe9gios, armazenar dados contextuais, partilhar informa\xe7\xe3o entre processos e lan\xe7ar processos preemptivos relacionados a sess\xe3o."]}),"\n",(0,r.jsxs)(s.p,{children:["Para obter informa\xe7\xe3o detalhada sobre a implementa\xe7\xe3o da sess\xe3o, consulte ",(0,r.jsx)(s.a,{href:"/docs/pt/19/WebServer/sessions",children:"Sess\xf5es do servidor web"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"resumo",children:"Resumo"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsx)(s.tr,{children:(0,r.jsx)(s.th,{})})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.a,{href:"#clearprivileges",children:(0,r.jsx)(s.strong,{children:".clearPrivileges()"})}),"\xa0\xa0\xa0\xa0retira todos os privil\xe9gios associados \xe0 sess\xe3o"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#expirationdate",children:[(0,r.jsx)(s.strong,{children:".expirationDate"})," : Text"]}),"\xa0\xa0\xa0\xa0a data e hora de expira\xe7\xe3o do cookie da sess\xe3o"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#hasprivilege",children:[(0,r.jsx)(s.strong,{children:".hasPrivilege"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean"]}),"\xa0\xa0\xa0\xa0retorna Verdadeiro se o privil\xe9gio estiver associado \xe0 sess\xe3o, e Falso de outra forma"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#idletimeout",children:[(0,r.jsx)(s.strong,{children:".idleTimeout"})," : Integer"]}),"\xa0\xa0\xa0\xa0o tempo limite da sess\xe3o de inatividade (em minutos), ap\xf3s o qual a sess\xe3o \xe9 automaticamente encerrada por 4D"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#isguest",children:[(0,r.jsx)(s.strong,{children:".isGuest()"})," : Boolean"]}),"\xa0\xa0\xa0\xa0retorna True se a sess\xe3o for uma sess\xe3o de Convidado (ou seja, n\xe3o tem privil\xe9gios)"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#setprivileges",children:[(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text )",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privileges"})," : Collection )",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"settings"})," : Object )"]}),"\xa0\xa0\xa0\xa0associa o(s) privil\xe9gio(s) definido(s) no par\xe2metro para a sess\xe3o"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#storage",children:[(0,r.jsx)(s.strong,{children:".storage"})," : Object"]}),"\xa0\xa0\xa0\xa0um objeto partilhado que pode ser utilizado para armazenar informa\xe7\xe3o dispon\xedvel para todos os pedidos do cliente da web"]})}),(0,r.jsx)(s.tr,{children:(0,r.jsxs)(s.td,{children:[(0,r.jsxs)(s.a,{href:"#username",children:[(0,r.jsx)(s.strong,{children:".userName"})," : Text"]}),"\xa0\xa0\xa0\xa0o nome de usu\xe1rio associado \xe0 sess\xe3o"]})})]})]}),"\n",(0,r.jsx)(s.h2,{id:"session",children:"Session"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3rico"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Session"})," : 4D. Session"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"4D. Session"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"Objecto Session"})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["O comando ",(0,r.jsx)(s.code,{children:"Session"})," devolve o objecto ",(0,r.jsx)(s.code,{children:"Sess\xe3o"})," correspondente \xe0 actual sess\xe3o web escal\xe1vel do utilizador."]}),"\n",(0,r.jsxs)(s.p,{children:["Este comando s\xf3 funciona quando ",(0,r.jsx)(s.a,{href:"/docs/pt/19/WebServer/sessions#enabling-sessions",children:"est\xe3o ativadas as sess\xf5es escal\xe1veis"}),". Devolve ",(0,r.jsx)(s.em,{children:"Null"})," quando as sess\xf5es estiverem desabilitadas ou quando utilizar sess\xf5es herdadas."]}),"\n",(0,r.jsxs)(s.p,{children:["Quando se habilitam as sess\xf5es escal\xe1veis, o objeto ",(0,r.jsx)(s.code,{children:"Sess\xe3o"})," est\xe1 dispon\xedvel desde qualquer processo web nos seguintes contextos:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"On Web Authentication"}),", ",(0,r.jsx)(s.code,{children:"On Web Connection"}),", e m\xe9todos database",(0,r.jsx)(s.code,{children:"On REST Authentication"}),","]}),"\n",(0,r.jsxs)(s.li,{children:["as ",(0,r.jsx)(s.a,{href:"/docs/pt/19/ORDA/ordaClasses",children:"fun\xe7\xf5es Data Model Class"})," ORDA chamadas pelas peti\xe7\xf5es REST,"]}),"\n",(0,r.jsx)(s.li,{children:"c\xf3digo processado a trav\xe9s das etiquetas 4D nas p\xe1ginas semidin\xe2micas (4DTEXT, 4DHTML, 4DEVAL, 4DSCRIPT/, 4DCODE)"}),"\n",(0,r.jsx)(s.li,{children:'os m\xe9todos projeto com o atributo "Available through 4D tags and URLs (4DACTION...)" e chamados atrav\xe9s de 4DACTION/ urls.'}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo",children:"Exemplo"}),"\n",(0,r.jsxs)(s.p,{children:["Se definiu o m\xe9todo ",(0,r.jsx)(s.code,{children:"action_Session"}),' com o atributo "Available through 4D tags and URLs". Pode chamar ao m\xe9todo introduzindo a URL abaixo no navegador:']}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"IP:port/4DACTION/action_Session\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'  //m\xe9todo action_Session\n Case of\n    :(Session#Null)\n       If(Session.hasPrivilege("WebAdmin")) //chamada da fun\xe7\xe3o hasPrivilege\n          WEB SEND TEXT("4DACTION --\x3e Session is WebAdmin")\n       Else\n          WEB SEND TEXT("4DACTION --\x3e Session is not WebAdmin")\n       End if\n    Else\n       WEB SEND TEXT("4DACTION --\x3e Sesion is null")\n End case\n'})}),"\n",(0,r.jsx)(s.h2,{id:"clearprivileges",children:".clearPrivileges()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3rico"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:".clearPrivileges()"})}),"\n",(0,r.jsx)(s.p,{children:"| Par\xe2metro | Tipo |  | Descri\xe7\xe3o                  |\n| --------- | ---- |::| -------------------------- |\n|           |      |  | N\xe3o exige nenhum par\xe2metro |"}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-1",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".clearPrivileges()"})," retira todos os privil\xe9gios associados \xe0 sess\xe3o. Como resultado, a sess\xe3o torna-se automaticamente uma sess\xe3o de convidado."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-1",children:"Exemplo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"//Invalidate a session\nvar $isGuest : Boolean Session.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest is True\n"})}),"\n",(0,r.jsx)(s.h2,{id:"expirationdate",children:".expirationDate"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3rico"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".expirationDate"})," : Text"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-2",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".expirationDate"})," cont\xe9m a data e hora de expira\xe7\xe3o do cookie da sess\xe3o. ."]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,r.jsx)(s.strong,{children:"apenas leitura"}),". \xc9 recalculada automaticamente se modificar o valor da propriedade ",(0,r.jsx)(s.a,{href:"#idletimeout",children:(0,r.jsx)(s.code,{children:".idleTimeout"})}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-2",children:"Exemplo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'var $expiration : Text\n$expiration:=Session.expirationDate //por exemplo "2021-11-05T17:10:42Z"\n'})}),"\n",(0,r.jsx)(s.h2,{id:"hasprivilege",children:".hasPrivilege()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3rico"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".hasPrivilege"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privilege"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"Nome do privilegio a verificar"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Par\xe2metros"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsxs)(s.td,{children:["True se a sess\xe3o tiver ",(0,r.jsx)(s.em,{children:"privilege"}),", False caso contr\xe1rio"]})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-3",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".hasPrivilege()"})," retorna Verdadeiro se o privil\xe9gio estiver associado \xe0 sess\xe3o, e Falso de outra forma."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-3",children:"Exemplo"}),"\n",(0,r.jsx)(s.p,{children:'Se quiser comprovar se o privil\xe9gio "WebAdmin" est\xe1 associado \xe0 sess\xe3o:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'If (Session.hasPrivilege("WebAdmin"))\n //O acesso \xe9 concedido, n\xe3o fa\xe7a nada\nElse\n //Exibir uma p\xe1gina de autentica\xe7\xe3o\nEnd if\n'})}),"\n",(0,r.jsx)(s.h2,{id:"idletimeout",children:".idleTimeout"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3rico"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".idleTimeout"})," : Integer"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-4",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".idleTimeout"})," cont\xe9m o tempo limite da sess\xe3o de inatividade (em minutos), ap\xf3s o qual a sess\xe3o \xe9 automaticamente encerrada por 4D."]}),"\n",(0,r.jsx)(s.p,{children:"Se n\xe3o se definir esta propriedade, o valor padr\xe3o \xe9 60 (1h)."}),"\n",(0,r.jsxs)(s.p,{children:["Quando se definir esta propriedade, a propriedade ",(0,r.jsx)(s.a,{href:"#expirationdate",children:(0,r.jsx)(s.code,{children:".expirationDate"})})," \xe9 atualizada em consequ\xeancia."]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"O valor n\xe3o pode ser inferior a 60: se definir um valor inferior, o tempo de espera se eleva at\xe9 60."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9",(0,r.jsx)(s.strong,{children:"apenas escrita"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-4",children:"Exemplo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"If (Session.isGuest())\n  // Uma sess\xe3o de convidado ser\xe1 fechada ap\xf3s 60 minutos de inatividade\n Session.idleTimeout:=60\nElse\n  // Outras sess\xf5es ser\xe3o fechadas ap\xf3s 120 minutos de inatividade\n Session.idleTimeout:=120\nEnd if\n\n"})}),"\n",(0,r.jsx)(s.h2,{id:"isguest",children:".isGuest()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3rico"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".isGuest()"})," : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Resultados"}),(0,r.jsx)(s.td,{children:"Par\xe2metros"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(s.td,{children:"True se a sess\xe3o for uma sess\xe3o Guest, False caso contr\xe1rio"})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-5",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".isGuest()"})," retorna True se a sess\xe3o for uma sess\xe3o de Convidado (ou seja, n\xe3o tem privil\xe9gios)."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-5",children:"Exemplo"}),"\n",(0,r.jsxs)(s.p,{children:["No m\xe9todo base ",(0,r.jsx)(s.code,{children:"On Web Connection"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"If (Session.isGuest())\n //Fazer algo para o usu\xe1rio convidado\nEnd if\n"})}),"\n",(0,r.jsx)(s.h2,{id:"setprivileges",children:".setPrivileges()"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3rico"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privilege"})," : Text )",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"privileges"})," : Collection )",(0,r.jsx)(s.br,{}),(0,r.jsx)(s.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(s.em,{children:"settings"})," : Object )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Par\xe2metro"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{style:{textAlign:"center"}}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privilege"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:"Nome do privil\xe9gio"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privileges"}),(0,r.jsx)(s.td,{children:"Collection"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:"Collection de nomes de privil\xe9gios"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"settings"}),(0,r.jsx)(s.td,{children:"Object"}),(0,r.jsx)(s.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(s.td,{children:'Objetos com as propriedades "privil\xe9gios" (string ou collection)'})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-6",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A fun\xe7\xe3o ",(0,r.jsx)(s.code,{children:".setPrivileges()"})," associa o(s) privil\xe9gio(s) definido(s) no par\xe2metro para a sess\xe3o."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["No par\xe2metro ",(0,r.jsx)(s.em,{children:"privilege"}),", passe uma string contendo um nome de privil\xe9gio (ou v\xe1rios nomes de privil\xe9gio separados por v\xedgulas)."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["No par\xe2metro ",(0,r.jsx)(s.em,{children:"privileges"}),", passe uma cole\xe7\xe3o de strings contendo nomes de privil\xe9gios."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["No par\xe2metro ",(0,r.jsx)(s.em,{children:"settings"}),", passe um objeto contendo as propriedades abaixo:"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Propriedade"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"privileges"}),(0,r.jsx)(s.td,{children:"Text ou Collection"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.li,{children:"Strings contendo um nome de privil\xe9gio ou"}),(0,r.jsx)(s.li,{children:"Collection de strings contendo nomes de privil\xe9gios"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"userName"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"Nome de usu\xe1rio associado \xe0 sess\xe3o (opcional)"})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["Se a propriedade ",(0,r.jsx)(s.code,{children:"privileges"})," cont\xe9m um nome de privil\xe9gio inv\xe1lido, ele \xe9 ignorado."]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:'Na implementa\xe7\xe3o atual, apenas o privil\xe9gio "WebAdmin" est\xe1 dispon\xedvel.'}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Por padr\xe3o quando nenhum privil\xe9gio est\xe1 associado \xe0 sess\xe3o, a sess\xe3o \xe9 uma ",(0,r.jsx)(s.a,{href:"#isguest",children:"Sess\xe3o Convidado"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.a,{href:"#username",children:(0,r.jsx)(s.code,{children:"userName"})})," est\xe1 dispon\xedvel no n\xedvel do objeto da sess\xe3o (apenas leitura)."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-6",children:"Exemplo"}),"\n",(0,r.jsx)(s.p,{children:'Em um m\xe9todo de autentica\xe7\xe3o personalizado, deve estabecer o privil\xe9gio "WebAdmin" ao usu\xe1rio:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'var $userOK : Boolean\n\n... //Authenticate the user If ($userOK) //The user has been approved\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection("WebAdmin")\n  Session.setPrivileges($info)\nEnd if\n\n'})}),"\n",(0,r.jsx)(s.h2,{id:"storage",children:".storage"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3rico"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".storage"})," : Object"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-7",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".storage"})," cont\xe9m um objeto partilhado que pode ser utilizado para armazenar informa\xe7\xe3o dispon\xedvel para todos os pedidos do cliente da web."]}),"\n",(0,r.jsxs)(s.p,{children:["Quando um objeto ",(0,r.jsx)(s.code,{children:"Session"})," for criado, a propriedade ",(0,r.jsx)(s.code,{children:".storage"})," \xe9 vazia. J\xe1 que \xe9 um objeto partilhado, essa propriedade estar\xe1 dispon\xedvel no objeto ",(0,r.jsx)(s.code,{children:"Storage"})," do servidor."]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["Da mesma forma que o objeto ",(0,r.jsx)(s.code,{children:"Storage"})," do servidor, a propriedade ",(0,r.jsx)(s.code,{children:".storage"}),' sempre ser\xe1 "single": adicionar um objeto partilhado ou uma collection partilhada a ',(0,r.jsx)(s.code,{children:".storage"})," n\xe3o cria um grupo partilhado."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Esas propriedade \xe9 ",(0,r.jsx)(s.strong,{children:"read only"})," mas retorna um objeto  read-write."]}),"\n",(0,r.jsx)(s.h4,{id:"exemplo-7",children:"Exemplo"}),"\n",(0,r.jsxs)(s.p,{children:["Se quiser armazenar a IP do cliente na propriedade ",(0,r.jsx)(s.code,{children:".storage"}),". Pode escrever no m\xe9todo de banco de dados ",(0,r.jsx)(s.code,{children:"On Web Authentication"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:'If (Session.storage.clientIP=Null) //first access\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use End if\n\n'})}),"\n",(0,r.jsx)(s.h2,{id:"username",children:".userName"}),"\n",(0,r.jsxs)(s.details,{children:[(0,r.jsx)(s.summary,{children:"Hist\xf3rico"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Release"}),(0,r.jsx)(s.th,{children:"Mudan\xe7as"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"18 R6"}),(0,r.jsx)(s.td,{children:"Adicionado"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:".userName"})," : Text"]}),"\n",(0,r.jsx)(s.h4,{id:"descri\xe7\xe3o-8",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["A propriedade ",(0,r.jsx)(s.code,{children:".userName"})," cont\xe9m o nome de usu\xe1rio associado \xe0 sess\xe3o. Pode us\xe1-la para identificar o usu\xe1rio dentro de seu c\xf3digo."]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9 uma string vazia como padr\xe3o. Pode ser estabelecida usando a propriedade ",(0,r.jsx)(s.code,{children:"privileges"})," da fun\xe7\xe3o ",(0,r.jsx)(s.a,{href:"#setprivileges",children:(0,r.jsx)(s.code,{children:"setPrivileges()"})}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Essa propriedade \xe9 ",(0,r.jsx)(s.strong,{children:"apenas leitura"}),"."]})]})}function h(e={}){let{wrapper:s}={...(0,d.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},250065:function(e,s,n){n.d(s,{Z:function(){return l},a:function(){return o}});var i=n(667294);let r={},d=i.createContext(r);function o(e){let s=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(d.Provider,{value:s},e.children)}}}]);