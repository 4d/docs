"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["67133"],{424219:function(e,o,a){a.r(o),a.d(o,{default:()=>m,frontMatter:()=>i,metadata:()=>r,assets:()=>t,toc:()=>l,contentTitle:()=>d});var r=JSON.parse('{"id":"commands-legacy/variable-to-blob","title":"VARIABLE TO BLOB","description":"VARIABLE TO BLOB ( vari\xe1vel ; BLOB {; offset\xa0|\xa0*} )","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/variable-to-blob.md","sourceDirName":"commands-legacy","slug":"/commands/variable-to-blob","permalink":"/docs/pt/commands/variable-to-blob","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fvariable-to-blob.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"variable-to-blob","title":"VARIABLE TO BLOB","slug":"/commands/variable-to-blob","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"TEXT TO BLOB","permalink":"/docs/pt/commands/text-to-blob"},"next":{"title":"Boolean","permalink":"/docs/pt/category/boolean"}}'),n=a("785893"),s=a("250065");let i={id:"variable-to-blob",title:"VARIABLE TO BLOB",slug:"/commands/variable-to-blob",displayed_sidebar:"docs"},d=void 0,t={},l=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Nota",id:"nota",level:5},{value:"Vari\xe1veis e conjuntos do sistema",id:"vari\xe1veis-e-conjuntos-do-sistema",level:4},{value:"Exemplo 1",id:"exemplo-1",level:4},{value:"Exemplo 2",id:"exemplo-2",level:4},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:4},{value:"Propriedades",id:"propriedades",level:4}];function c(e){let o={a:"a",br:"br",code:"code",em:"em",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"VARIABLE TO BLOB"})," ( ",(0,n.jsx)(o.em,{children:"vari\xe1vel"})," ; ",(0,n.jsx)(o.em,{children:"BLOB"})," {; offset\xa0|\xa0*} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(o.table,{children:[(0,n.jsx)(o.thead,{children:(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.th,{children:"Par\xe2metro"}),(0,n.jsx)(o.th,{children:"Tipo"}),(0,n.jsx)(o.th,{}),(0,n.jsx)(o.th,{children:"Descri\xe7\xe3o"})]})}),(0,n.jsxs)(o.tbody,{children:[(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"vari\xe1vel"}),(0,n.jsx)(o.td,{children:"Variable"}),(0,n.jsx)(o.td,{children:"\u2192"}),(0,n.jsx)(o.td,{children:"Vari\xe1vel a ser armazenada no BLOB"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Blob"}),(0,n.jsx)(o.td,{children:"Blob"}),(0,n.jsx)(o.td,{children:"\u2192"}),(0,n.jsx)(o.td,{children:"BLOB a receber a vari\xe1vel"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"offset\xa0|\xa0*"}),(0,n.jsx)(o.td,{children:"Vari\xe1vel, Operador"}),(0,n.jsx)(o.td,{children:"\u2194"}),(0,n.jsx)(o.td,{children:"Offset da vari\xe1vel(expressado em bytes) no BLOB ou * para adicionar o valor"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{}),(0,n.jsx)(o.td,{}),(0,n.jsx)(o.td,{}),(0,n.jsx)(o.td,{children:"Novo offset depois de escrita se * for omitido"})]})]})]}),"\n",(0,n.jsx)(o.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,n.jsxs)(o.p,{children:["O comando VARIABLE TO BLOB armazena a ",(0,n.jsx)(o.em,{children:"vari\xe1vel"})," no BLOB ",(0,n.jsx)(o.em,{children:"blob"}),"."]}),"\n",(0,n.jsx)(o.p,{children:"Se voc\xea especificar o par\xe2metro opcional *, a vari\xe1vel \xe9 acrescentada ao BLOB e o tamanho do BLOB \xe9 aumentado em conformidade. Usando o par\xe2metro opcional *, voc\xea pode armazenar qualquer n\xfamero de vari\xe1veis ou listas (ver outros comandos BLOB) em um BLOB, enquanto o BLOB couber na mem\xf3ria."}),"\n",(0,n.jsx)(o.p,{children:"Se voc\xea n\xe3o especificar o par\xe2metro opcional * ou o par\xe2metro de deslocamento vari\xe1vel, a vari\xe1vel \xe9 armazenada no in\xedcio do BLOB, substituindo o conte\xfado anterior, o tamanho do BLOB \xe9 ajustado em conformidade."}),"\n",(0,n.jsx)(o.p,{children:"Se voc\xea passar o par\xe2metro de deslocamento vari\xe1vel, a vari\xe1vel \xe9 escrita no offset (a partir do zero) dentro do BLOB. N\xe3o importa onde voc\xea escreva a vari\xe1vel, o tamanho do BLOB \xe9 aumentado de acordo com o local que voc\xea passou (mais o tamanho da vari\xe1vel, se necess\xe1rio). Bytes rec\xe9m-alocados, com exce\xe7\xe3o do que voc\xea est\xe1 escrevendo, s\xe3o inicializados em zero."}),"\n",(0,n.jsxs)(o.p,{children:["Ap\xf3s a chamada, o par\xe2metro vari\xe1vel ",(0,n.jsx)(o.em,{children:"offset"})," \xe9 devolvido, incrementado pelo n\xfamero de bytes que foram escritos. Portanto, voc\xea pode reutilizar a mesma vari\xe1vel com outro comando de escrita BLOB para escrever uma outra vari\xe1vel ou lista."]}),"\n",(0,n.jsx)(o.p,{children:"VARIABLE TO BLOB aceita qualquer tipo de vari\xe1vel (incluindo outros BLOBs), exceto os seguintes:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"Ponteiros"}),"\n",(0,n.jsx)(o.li,{children:"Array de ponteiros"}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"Note que:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Se guardar uma vari\xe1vel de tipo Inteiro longo que \xe9 uma refer\xeancia a uma lista hier\xe1rquica (ListRef), VARIABLE TO BLOB guardar\xe1 a vari\xe1vel Inteiro longo, n\xe3o a lista. Para guardar e recuperar as listas hier\xe1rquicas em um BLOB, utilize os comandos ",(0,n.jsx)(o.a,{href:"/docs/pt/commands/list-to-blob",children:"LIST TO BLOB"})," e ",(0,n.jsx)(o.a,{href:"/docs/pt/commands/blob-to-list",children:"BLOB to list"}),"."]}),"\n",(0,n.jsxs)(o.li,{children:["Se passar um objeto ou uma cole\xe7\xe3o no par\xe2metro ",(0,n.jsx)(o.em,{children:"variavel"}),", o comando p\xf5e uma c\xf3pia (e n\xe3o uma refer\xeancia) no BLOB. Se o objeto cont\xe9m ponteiros, os valores n\xe3o referenciados s\xe3o guardados no BLOB, n\xe3o os ponteiros mesmos."]}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"ATEN\xc7\xc3O:"})," Se voc\xea usar um BLOB para armazenar as vari\xe1veis, voc\xea deve usar mais tarde o comando ",(0,n.jsx)(o.a,{href:"/docs/pt/commands/blob-to-variable",children:"BLOB TO VARIABLE"})," para reler o conte\xfado do BLOB, pois as vari\xe1veis s\xe3o armazenadas em BLOBs usando um formato interno de 4D."]}),"\n",(0,n.jsx)(o.p,{children:"Ap\xf3s a chamada, se a vari\xe1vel foi armazenada com sucesso, a vari\xe1vel OK \xe9 definida como 1. Se a opera\xe7\xe3o n\xe3o p\xf4de ser executada, a vari\xe1vel OK \xe9 definida como 0, por exemplo, n\xe3o havia mem\xf3ria suficiente."}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Nota sobre a independ\xeancia de plataforma:"})," VARIABLE TO BLOB e ",(0,n.jsx)(o.a,{href:"/docs/pt/commands/blob-to-variable",children:"BLOB TO VARIABLE"})," usam um formato interno de 4D para lidar com vari\xe1veis armazenadas em BLOBs. Como benef\xedcio, voc\xea n\xe3o precisa se preocupar com a troca de bytes entre as plataformas ao usar esses dois comandos. Em outras palavras, um BLOB criado no Windows usando um desses comandos podem ser reutilizados em Macintosh, e vice-versa."]}),"\n",(0,n.jsx)(o.h5,{id:"nota",children:"Nota"}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Nota de compatibilidade"}),": como este comando altera o blob passado como par\xe2metro, n\xe3o \xe9 compat\xedvel com objetos blob (tipo 4D.Blob). Ver ",(0,n.jsx)(o.em,{children:"Passing blobs and blob objects to 4D commands"})," em developer.4d.com"]}),"\n",(0,n.jsx)(o.h4,{id:"vari\xe1veis-e-conjuntos-do-sistema",children:"Vari\xe1veis e conjuntos do sistema"}),"\n",(0,n.jsx)(o.p,{children:"A vari\xe1vel OK \xe9 definida como 1 se a vari\xe1vel foi armazenada com sucesso, caso contr\xe1rio, ela \xe9 definido como 0."}),"\n",(0,n.jsx)(o.h4,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,n.jsx)(o.p,{children:"Os dois m\xe9todos de projeto a seguir permitem armazenar e recuperar rapidamente qualquer conjunto de vari\xe1veis de/para um BLOB:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:"\xa0\xa0// M\xe9todo de projeto GUARDAR VARIABLES EN BLOB\n\xa0\xa0// GUARDAR VARIABLES EN BLOB ( Ponteiro{ ;\xa0Ponteiro... { ;\xa0Ponteiro} } )\n\xa0\xa0// GUARDAR VARIABLES EN BLOB ( BLOB { ; Var1 ... { ; Var2 } } )\n\xa0var ${1} : Pointer\n\xa0var $vlParam : Integer\n\xa0\n\xa0SET BLOB SIZE($1->;0)\n\xa0For($vlParam;2;Count parameters)\n\xa0\xa0\xa0\xa0VARIABLE TO BLOB(${$vlParam}->;$1->;*)\n\xa0End for\n\xa0\n\xa0\n\xa0\xa0// M\xe9todo de projeto RECUPERAR VARIAVEIS DO BLOB\n\xa0\xa0// RECUPERAR\xa0VARIAVEIS DO\xa0BLOB ( Ponteiro{ ;\xa0Ponteiro... { ;\xa0Ponteiro} } )\n\xa0\xa0// RECUPERAR\xa0VARIAVEIS DO\xa0BLOB ( BLOB { ; Var1 ... { ; Var2 } } )\n\xa0var ${1} : Pointer\n\xa0var $vlParam;$vlOffset : Integer\n\xa0\n\xa0$vlOffset:=0\n\xa0For($vlParam;2;Count parameters)\n\xa0\xa0\xa0\xa0BLOB TO VARIABLE($1->;${$vlParam}->;$vlOffset)\n\xa0End for\n"})}),"\n",(0,n.jsx)(o.p,{children:"Depois que estes m\xe9todos foram adicionados ao seu aplicativo, voc\xea pode escrever:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:"\xa0GUARDAR VARIABLES EN BLOB(->vxBLOB;->vgImagem;->comoUmArray;->aoOutroArray)\n\xa0\xa0// ...\n\xa0RECUPERAR VARIABLES DEL BLOB(->vxBLOB;->vgImagem;->comoUmArray;->aoOutroArray)\n"})}),"\n",(0,n.jsx)(o.h4,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,n.jsx)(o.p,{children:"Os dois m\xe9todos de projeto a seguir permitem armazenar e recuperar rapidamente arrays e documentos em disco:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:"\xa0\xa0// SAVE ARRAY project method\n\xa0\n\xa0// SAVE ARRAY (Text ; Pointer)\n\xa0\xa0// SAVE ARRAY (Document ; -> Array)\n\xa0var $1 : Text\n\xa0var $2 : Pointer\n\xa0var $vxArrayData : Blob\n\xa0VARIABLE TO BLOB($2->;$vxArrayData)\xa0//Armazena o array em BLOB\n\xa0COMPRESS BLOB($vxArrayData)\xa0// Comprime o BLOB\n\xa0BLOB TO DOCUMENT($1;$vxArrayData)\xa0// Salva o BLOB em disco\n\n\n"})}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:"\xa0\xa0// LOAD ARRAY project method\n\xa0\xa0// LOAD ARRAY (Text ; Pointer)\n\xa0\xa0// LOAD ARRAY (Document ; -> Array)\n\xa0var $1 : Text\n\xa0var $2 : Pointer\n\xa0var $vxArrayData : Blob\n\xa0DOCUMENT TO BLOB($1;$vxArrayData)\xa0// Carrega o BLOB a partir do disco\n\xa0EXPAND BLOB($vxArrayData)\xa0// Expande o BLOB\n\xa0BLOB TO VARIABLE($vxArrayData;$2->)\xa0// Busca o array do BLOB\n"})}),"\n",(0,n.jsx)(o.p,{children:"Depois que esses m\xe9todos foram adicionados a sua aplica\xe7\xe3o, pode escrever:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:"\xa0ARRAY TEXT(...;asAnyArray;...)\n\xa0\xa0//\xa0 ...\n\xa0SAVE ARRAY($vsDocName;->asAnyArray)\n\xa0\xa0//\xa0 ...\n\xa0LOAD ARRAY($vsDocName;->asAnyArray)\n"})}),"\n",(0,n.jsx)(o.h4,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.a,{href:"/docs/pt/commands/blob-to-list",children:"BLOB to list"}),(0,n.jsx)(o.br,{}),"\n",(0,n.jsx)(o.a,{href:"/docs/pt/commands/blob-to-variable",children:"BLOB TO VARIABLE"}),(0,n.jsx)(o.br,{}),"\n",(0,n.jsx)(o.a,{href:"/docs/pt/commands/list-to-blob",children:"LIST TO BLOB"})]}),"\n",(0,n.jsx)(o.h4,{id:"propriedades",children:"Propriedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(o.table,{children:[(0,n.jsx)(o.thead,{children:(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.th,{}),(0,n.jsx)(o.th,{})]})}),(0,n.jsxs)(o.tbody,{children:[(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"N\xfamero do comando"}),(0,n.jsx)(o.td,{children:"532"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Thread-seguro"}),(0,n.jsx)(o.td,{children:"\u2713"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Modificar vari\xe1veis"}),(0,n.jsx)(o.td,{children:"OK"})]})]})]})]})}function m(e={}){let{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},250065:function(e,o,a){a.d(o,{Z:function(){return d},a:function(){return i}});var r=a(667294);let n={},s=r.createContext(n);function i(e){let o=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),r.createElement(s.Provider,{value:o},e.children)}}}]);