"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["99281"],{748230:function(e,o,s){s.r(o),s.d(o,{metadata:()=>r,contentTitle:()=>i,default:()=>l,assets:()=>c,toc:()=>t,frontMatter:()=>d});var r=JSON.parse('{"id":"commands-legacy/new-process","title":"New process","description":"New process ( metodo ; pilha {; nome {; param {; param2 ; ... ; paramN}}}{; *} ) : Integer","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/new-process.md","sourceDirName":"commands-legacy","slug":"/commands/new-process","permalink":"/docs/pt/commands/new-process","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fnew-process.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"new-process","title":"New process","slug":"/commands/new-process","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"GET REGISTERED CLIENTS","permalink":"/docs/pt/commands/get-registered-clients"},"next":{"title":"PAUSE PROCESS","permalink":"/docs/pt/commands/pause-process"}}'),n=s("785893"),a=s("250065");let d={id:"new-process",title:"New process",slug:"/commands/new-process",displayed_sidebar:"docs"},i=void 0,c={},t=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"M\xe9todo de processo",id:"m\xe9todo-de-processo",level:5},{value:"Pilha de processo",id:"pilha-de-processo",level:5},{value:"Nome do processo",id:"nome-do-processo",level:5},{value:"Par\xe2metros do m\xe9todo processo",id:"par\xe2metros-do-m\xe9todo-processo",level:5},{value:"Par\xe2metro opcional *",id:"par\xe2metro-opcional-",level:5},{value:"Exemplo",id:"exemplo",level:4},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:4},{value:"Propriedades",id:"propriedades",level:4}];function m(e){let o={a:"a",br:"br",code:"code",em:"em",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"New process"})," ( ",(0,n.jsx)(o.em,{children:"metodo"})," ; ",(0,n.jsx)(o.em,{children:"pilha"})," {; ",(0,n.jsx)(o.em,{children:"nome"})," {; ",(0,n.jsx)(o.em,{children:"param"})," {; ",(0,n.jsx)(o.em,{children:"param2"})," ; ... ; ",(0,n.jsx)(o.em,{children:"paramN"}),"}}}{; *} ) : Integer"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(o.table,{children:[(0,n.jsx)(o.thead,{children:(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.th,{children:"Par\xe2metro"}),(0,n.jsx)(o.th,{children:"Tipo"}),(0,n.jsx)(o.th,{}),(0,n.jsx)(o.th,{children:"Descri\xe7\xe3o"})]})}),(0,n.jsxs)(o.tbody,{children:[(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"metodo"}),(0,n.jsx)(o.td,{children:"Text"}),(0,n.jsx)(o.td,{children:"\u2192"}),(0,n.jsx)(o.td,{children:"M\xe9todo a executar no processo"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"pilha"}),(0,n.jsx)(o.td,{children:"Integer"}),(0,n.jsx)(o.td,{children:"\u2192"}),(0,n.jsx)(o.td,{children:"Tamanho da pilha em bytes"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"nome"}),(0,n.jsx)(o.td,{children:"Text"}),(0,n.jsx)(o.td,{children:"\u2192"}),(0,n.jsx)(o.td,{children:"Nome do processo criado"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"param"}),(0,n.jsx)(o.td,{children:"Expression"}),(0,n.jsx)(o.td,{children:"\u2192"}),(0,n.jsx)(o.td,{children:"Par\xe2metros do m\xe9todo"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"*"}),(0,n.jsx)(o.td,{children:"Operador"}),(0,n.jsx)(o.td,{children:"\u2192"}),(0,n.jsx)(o.td,{children:"Processo \xfanico"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Resultado"}),(0,n.jsx)(o.td,{children:"Integer"}),(0,n.jsx)(o.td,{children:"\u2190"}),(0,n.jsx)(o.td,{children:"N\xfamero do processo criado recentemente ou do processo que est\xe1 sendo executado"})]})]})]}),"\n",(0,n.jsx)(o.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,n.jsx)(o.p,{children:"O comando New process inicia um novo processo ( na mesma m\xe1quina) e devolve o n\xfamero deste processo."}),"\n",(0,n.jsxs)(o.p,{children:["Caso n\xe3o foi poss\xedvel criar o processo (por exemplo, se n\xe3o t\xeam suficiente mem\xf3ria), New process devolve zero (0) e \xe9 gerado um erro. Pode interceptar este erro utilizando um m\xe9todo de gest\xe3o de erros instalado pelo comando ",(0,n.jsx)(o.a,{href:"/docs/pt/commands/on-err-call",title:"ON ERR CALL",children:"ON ERR CALL"}),"."]}),"\n",(0,n.jsx)(o.h5,{id:"m\xe9todo-de-processo",children:"M\xe9todo de processo"}),"\n",(0,n.jsxs)(o.p,{children:["Em ",(0,n.jsx)(o.em,{children:"metodo"}),", \xe9 passado o nome do m\xe9todo de gest\xe3o do novo processo. Uma vez que 4D tenha definido o contexto para o novo processo, come\xe7a a execu\xe7\xe3o deste m\xe9todo que se converte no m\xe9todo de processo."]}),"\n",(0,n.jsxs)(o.p,{children:["Se o contexto de execu\xe7\xe3o for compat\xedvel com modo preemptivo e se ",(0,n.jsx)(o.em,{children:"m\xe9todo"}),' for declaro como "thread seguro", o novo processo 4D ser\xe1 executado em uma thread preemptiva quando a aplica\xe7\xe3o rodar em modo compilado. Para saber mais, veja a p\xe1gina ',(0,n.jsx)(o.em,{children:"Processos 4D Preemptivos"}),"."]}),"\n",(0,n.jsx)(o.h5,{id:"pilha-de-processo",children:"Pilha de processo"}),"\n",(0,n.jsxs)(o.p,{children:["Em ",(0,n.jsx)(o.em,{children:"pilha"}),", passa a quantidade de mem\xf3ria atribu\xedda para a pilha do processo. Este valor representa o espa\xe7o em mem\xf3ria utilizado para \u201Cempilhar\u201D as chamadas de m\xe9todos, as vari\xe1veis locais, os par\xe2metros de sub rotinas e os registros empilhados."]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Passe 0 em ",(0,n.jsx)(o.em,{children:"pilha"})," para usar o tamanho normal de pilha, adequado para a maioria dos aplicativos (recomendado)."]}),"\n",(0,n.jsx)(o.li,{children:"Em certos casos, pode desejar usar um valor personalizado. Deve ser expresso em bytes. Esta configura\xe7\xe3o deve ser usada com cuidado, depende da cadeia de processo de chamada e da plataforma."}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Nota:"})," a pilha N\xc3O \xe9 a mem\xf3ria total reservada para o processo. Os processos compartilham mem\xf3ria para os registros, as vari\xe1veis inter-processo, etc. Um processo utiliza igualmente a mem\xf3ria extra para armazenar suas vari\xe1veis processo. A pilha cont\xe9m diferente informa\xe7\xe3o 4D: a quantidade de informa\xe7\xe3o depende do n\xfamero de chamadas de m\xe9todos aninhados, o n\xfamero de formul\xe1rios que abrir\xe1 antes de fech\xe1-los e o n\xfamero e tamanho de variaveis locais utilizadas em cada chamada de m\xe9todo aninhado."]}),"\n",(0,n.jsx)(o.h5,{id:"nome-do-processo",children:"Nome do processo"}),"\n",(0,n.jsxs)(o.p,{children:["Passe o nome do novo processo em ",(0,n.jsx)(o.em,{children:"nome"}),". Este nome aparecer\xe1 na lista de processos do Runtime Explorer e ser\xe1 devolvido pelo comando ",(0,n.jsx)(o.a,{href:"/docs/pt/commands/process-info",children:"Process info"})," quando for aplicado a este novo processo. Pode omitir esse par\xe2metro; se assim o fizer, o nome do processo ser\xe1 uma string vazia. Pode fazer que um processo seja local em seu escopo ao prefixar seu nome com o s\xedmbolo de cifr\xe3o (",(0,n.jsx)(o.em,{children:"$"}),")."]}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Importante:"})," Lembre que os processos locais n\xe3o deveriam acessar dados em Cliente/Servidor Para saber mais veja a se\xe7\xe3o ",(0,n.jsx)(o.em,{children:"Processos globais e locais"})]}),"\n",(0,n.jsx)(o.h5,{id:"par\xe2metros-do-m\xe9todo-processo",children:"Par\xe2metros do m\xe9todo processo"}),"\n",(0,n.jsxs)(o.p,{children:["\xc9 poss\xedvel passar par\xe2metros ao m\xe9todo de processo usando um ou mais par\xe2metros ",(0,n.jsx)(o.em,{children:"param"}),". Se passa os par\xe2metros da mesmam maneira que se passaria os par\xe2metros em uma subrotina (ver ). Ao iniciar a execu\xe7\xe3o no contexto do novo processo, o m\xe9todo de processo recebe os valores dos par\xe2metros em ",(0,n.jsx)(o.em,{children:"$1"}),", ",(0,n.jsx)(o.em,{children:"$2"}),", etc. Lembre que arrays n\xe3o podem ser passados como par\xe2metros a um m\xe9todo. Al\xe9m disso, estas considera\xe7\xf5es adicionais devem ser levadas em considera\xe7\xe3o no contexto do comando ",(0,n.jsx)(o.strong,{children:"New process"}),":"]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"ponteiros a tabelas ou campos s\xe3o permitidos."}),"\n",(0,n.jsx)(o.li,{children:"ponteiros a vari\xe1veis, em particular vari\xe1veis locais e processo, n\xe3o s\xe3o recomendadas, j\xe1 que estas vari\xe1veis podem ser indefinidas no momento em que forem acessadas pelo m\xe9todo de processo"}),"\n",(0,n.jsxs)(o.li,{children:["s par\xe2metros padr\xe3o de tipo objeto ou cole\xe7\xe3o s\xe3o passados ",(0,n.jsx)(o.strong,{children:"por c\xf3pia"}),", ou seja, 4D criar\xe1 uma c\xf3pia do objeto ou a cole\xe7\xe3o no processo de destino ao inv\xe9s de uma refer\xeancia. Se quiser passar um objeto ou um par\xe2metro de cole\xe7\xe3o ",(0,n.jsx)(o.strong,{children:"por refer\xeancia"}),", deve utilizar um objeto ou cole\xe7\xe3o compartidos (ver ",(0,n.jsx)(o.em,{children:"Objetos compartidos e Cole\xe7\xf5es compartidas"}),")."]}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Nota:"})," se passar par\xe2metros ao m\xe9todo de processo, deve passar o par\xe2metro ",(0,n.jsx)(o.em,{children:"nome"}),"; n\xe3o pode ser omitido neste caso."]}),"\n",(0,n.jsx)(o.h5,{id:"par\xe2metro-opcional-",children:"Par\xe2metro opcional *"}),"\n",(0,n.jsxs)(o.p,{children:["Lhe indica a 4D que deve verificar primeiro se est\xe1 executando um processo com o nome que voc\xea passou em ",(0,n.jsx)(o.em,{children:"nome"}),". Se \xe9 assim, 4D n\xe3o inicia um novo processo e devolve o n\xfamero do processo com este nome."]}),"\n",(0,n.jsx)(o.h4,{id:"exemplo",children:"Exemplo"}),"\n",(0,n.jsx)(o.p,{children:"Vejamos o seguinte m\xe9todo de projeto:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:"\xa0\xa0// ADICIONAR CLIENTES\n\xa0SET MENU BAR(1)\n\xa0Repeat\n\xa0\xa0\xa0\xa0ADD RECORD([Clientes];*)\n\xa0Until(OK=0)\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Se associa este m\xe9todo de projeto a um comando de menu criado no Editor de barras de menu e lhe atribu\xed a propriedade ",(0,n.jsx)(o.strong,{children:"Iniciar um novo processo"}),", 4D automaticamente iniciar\xe1 um novo processo no momento da execu\xe7\xe3o do m\xe9todo. A instru\xe7\xe3o ",(0,n.jsx)(o.a,{href:"/docs/pt/commands/set-menu-bar",children:"SET MENU BAR"}),'(1) associa esta barra de menus ao novo processo. Em aus\xeancia de janelas (que poderia ser aberta O [#cmd id="153"/]), a chamada a ',(0,n.jsx)(o.a,{href:"/docs/pt/commands/add-record",children:"ADD RECORD"})," abrir\xe1 automaticamente uma."]}),"\n",(0,n.jsx)(o.p,{children:"Para poder iniciar o processo Adicionar clientes fazendo clique em um bot\xe3o situado no painel de controle personalizado, pode escrever:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:'\xa0\xa0// M\xe9todo de objeto bot\xe3o bAdicionarClientes\n\xa0$vlProcessoID:=New process("Adicionar Clientes";32*1024;"Adicionar Clientes")\n'})}),"\n",(0,n.jsx)(o.p,{children:"O bot\xe3o faz o mesmo que o comando de menu personalizado."}),"\n",(0,n.jsx)(o.p,{children:"Se quando seleciona o elemento de menu ou faz clique no bot\xe3o, voc\xea quer que o processo comece (se n\xe3o existe) ou passado ao primeiro plano (se j\xe1 se est\xe1 executando), pode criar o m\xe9todo INICIAR AGREGAR CLIENTES:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:'\xa0\xa0// INICIAR AGREGAR CLIENTES\n\xa0$vlProcessoID:=New process("Adicionar Clientes";32*1024;"Adi\xe7\xe3o de clientes";*)\n\xa0If($vlProcessoID#0)\n\xa0\xa0\xa0\xa0BRING TO FRONT($vlProcessoID)\n\xa0End if\n'})}),"\n",(0,n.jsxs)(o.p,{children:["O m\xe9todo de objeto de ",(0,n.jsx)(o.em,{children:"bAdicionarClientes"})," \xe9 convertido em:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-4d",children:"\xa0\xa0// M\xe9todo de objeto do bot\xe3o bAdicionarClientes\n\xa0INICIAR ADICIONAR CLIENTES\n"})}),"\n",(0,n.jsxs)(o.p,{children:["No editor de barras de menus, pode substituir ADICIONAR CLIENTES pelo m\xe9todo INICIAR ADICIONAR CLIENTES, e cancelar a sele\xe7\xe3o da propriedade ",(0,n.jsx)(o.strong,{children:"Iniciar um novo processo"})," para o comando de menu."]}),"\n",(0,n.jsx)(o.h4,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.a,{href:"/docs/pt/commands/execute-on-server",children:"Execute on server"}),(0,n.jsx)(o.br,{}),"\n",(0,n.jsx)(o.em,{children:"Processos"}),(0,n.jsx)(o.br,{}),"\n",(0,n.jsx)(o.em,{children:"Processos 4D Preemptivos"})]}),"\n",(0,n.jsx)(o.h4,{id:"propriedades",children:"Propriedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(o.table,{children:[(0,n.jsx)(o.thead,{children:(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.th,{}),(0,n.jsx)(o.th,{})]})}),(0,n.jsxs)(o.tbody,{children:[(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"N\xfamero do comando"}),(0,n.jsx)(o.td,{children:"317"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Thread-seguro"}),(0,n.jsx)(o.td,{children:"\u2713"})]})]})]})]})}function l(e={}){let{wrapper:o}={...(0,a.a)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(m,{...e})}):m(e)}},250065:function(e,o,s){s.d(o,{Z:function(){return i},a:function(){return d}});var r=s(667294);let n={},a=r.createContext(n);function d(e){let o=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),r.createElement(a.Provider,{value:o},e.children)}}}]);