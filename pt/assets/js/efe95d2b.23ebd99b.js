"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["21106"],{193895:function(e,n,a){a.r(n),a.d(n,{default:()=>m,frontMatter:()=>d,metadata:()=>o,assets:()=>i,toc:()=>l,contentTitle:()=>t});var o=JSON.parse('{"id":"commands-legacy/ob-set","title":"OB SET","description":"OB SET ( objeto ; propriedade ; valor {; propriedade2 ; valor2 ; ... ; propriedadeN ; valorN} )","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R10/commands-legacy/ob-set.md","sourceDirName":"commands-legacy","slug":"/commands/ob-set","permalink":"/docs/pt/commands/ob-set","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fob-set.md%20(20-R10)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R10","frontMatter":{"id":"ob-set","title":"OB SET","slug":"/commands/ob-set","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"OB REMOVE","permalink":"/docs/pt/commands/ob-remove"},"next":{"title":"OB SET ARRAY","permalink":"/docs/pt/commands/ob-set-array"}}'),r=a("785893"),s=a("250065");let d={id:"ob-set",title:"OB SET",slug:"/commands/ob-set",displayed_sidebar:"docs"},t=void 0,i={},l=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:2},{value:"Exemplo 1",id:"exemplo-1",level:2},{value:"Exemplo 2",id:"exemplo-2",level:2},{value:"Exemplo 3",id:"exemplo-3",level:2},{value:"Exemplo 4",id:"exemplo-4",level:2},{value:"Exemplo 5",id:"exemplo-5",level:2},{value:"Exemplo 6",id:"exemplo-6",level:2},{value:"Exemplo 7",id:"exemplo-7",level:2},{value:"Exemplo 8",id:"exemplo-8",level:2},{value:"Exemplo 9",id:"exemplo-9",level:2},{value:"Exemplo 10",id:"exemplo-10",level:2},{value:"Exemplo 11",id:"exemplo-11",level:2},{value:"Exemplo 12",id:"exemplo-12",level:2},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:2},{value:"Propriedades",id:"propriedades",level:2}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"OB SET"})," ( ",(0,r.jsx)(n.em,{children:"objeto"})," ; ",(0,r.jsx)(n.em,{children:"propriedade"})," ; ",(0,r.jsx)(n.em,{children:"valor"})," {; ",(0,r.jsx)(n.em,{children:"propriedade2"})," ; ",(0,r.jsx)(n.em,{children:"valor2"})," ; ... ; ",(0,r.jsx)(n.em,{children:"propriedadeN"})," ; ",(0,r.jsx)(n.em,{children:"valorN"}),"} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"objeto"}),(0,r.jsx)(n.td,{children:"Object, Object"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Objeto estruturado"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"propriedade"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Nome da propriedade a configurar"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"valor"}),(0,r.jsx)(n.td,{children:"Expression"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Novo valor da propriedade"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["O comando ",(0,r.jsx)(n.strong,{children:"OB SET"})," cria ou modifica um ou mais pares de ",(0,r.jsx)(n.em,{children:"propriedade"}),"/",(0,r.jsx)(n.em,{children:"valor"})," no objeto de linguagem designado pelo par\xe2metro ",(0,r.jsx)(n.em,{children:"objeto"}),".deve ter sido definido usando o comando ",(0,r.jsx)(n.em,{children:"C_OBJECT"})," ou designar um campo objeto 4D."]}),"\n",(0,r.jsxs)(n.p,{children:["No par\xe2metro ",(0,r.jsx)(n.em,{children:"propriedade"}),", passe a etiqueta da propriedade a criar ou modificar. Se a propriedade j\xe1 existe em ",(0,r.jsx)(n.em,{children:"objeto"}),", seu valor se atualiza. Se n\xe3o existe, \xe9 criado."]}),"\n",(0,r.jsxs)(n.p,{children:["Tenha em conta, que o par\xe2metro ",(0,r.jsx)(n.em,{children:"propriedade"})," \xe9 sens\xedvel as mai\xfasculas e min\xfasculas."]}),"\n",(0,r.jsxs)(n.p,{children:["No par\xe2metro ",(0,r.jsx)(n.em,{children:"valor"}),", passe o valor que deseja definir para a propriedade. Se admitem v\xe1rios tipos de dados. Tenha em conta que:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Se passar um ponteiro, \xe9 mantido como ele \xe9, se avalia utilizando o comando ",(0,r.jsx)(n.a,{href:"/docs/pt/commands/json-stringify",children:"JSON Stringify"})]}),"\n",(0,r.jsxs)(n.li,{children:['Se passar uma data, ser\xe1 armazenada como tipo data ou como um texto em formato ISO dependendo da sua configura\xe7\xe3o atual de banco de dados. Para saber mais, veja a op\xe7\xe3o "Use date type instead of ISO date format in objects" em ',(0,r.jsx)(n.em,{children:"P\xe1gina Compatibilidade"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Se passar uma hora, se armazena em forma de um n\xfamero de milissegundos (Real) em ",(0,r.jsx)(n.em,{children:"objeto"})]}),"\n",(0,r.jsx)(n.li,{children:"Se passar um objeto de linguagem, o comando utiliza a refer\xeancia do objeto e n\xe3o uma c\xf3pia. Qualquer modifica\xe7\xe3o aplicada ao objeto ou cole\xe7\xe3o ser\xe1 reportada para todas as refer\xeancias."}),"\n",(0,r.jsxs)(n.li,{children:["a partir de 4D v16 R4, pode passar uma imagem de todos os tipos suportados (ver ",(0,r.jsx)(n.em,{children:"Formatos Nativos Compat\xedveis"})," )."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,r.jsx)(n.p,{children:"Cria\xe7\xe3o de um objeto e adi\xe7\xe3o de uma propriedade de tipo texto:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var $Object : Object\n\xa0OB SET($Object ;"FirstName";"John";"LastName";"Smith")\n\xa0\xa0// $Object = {"FirstName":"John","LastName":"Smith"}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,r.jsx)(n.p,{children:"Cria\xe7\xe3o de um objeto e adi\xe7\xe3o de uma propriedade de tipo booleano:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var $Object : Object\n\xa0OB SET($Object ;"LastName";"smith";"age";42;"client";True)\n\xa0\xa0// $Object = {"LastName":"smith","age":42,"client":true}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-3",children:"Exemplo 3"}),"\n",(0,r.jsx)(n.p,{children:"Modifica\xe7\xe3o de uma propriedade:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// $Object = {"FirstName":"John","LastName":"Smith"}\n\xa0OB SET($Object ;"FirstName";"Paul")\n\xa0\xa0// $Object = {"FirstName":"Paul","LastName":"Smith"}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-4",children:"Exemplo 4"}),"\n",(0,r.jsx)(n.p,{children:"Adi\xe7\xe3o de uma propriedade:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// $Object = {"FirstName":"John","LastName":"Smith"}\n\xa0OB SET($Object ;"department";"Accounting")\n\xa0\xa0// $Object = {"FirstName":"Paul","LastName":"Smith","department":"Accounting"}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-5",children:"Exemplo 5"}),"\n",(0,r.jsx)(n.p,{children:"Renomeando uma propriedade:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var $Object : Object\n\xa0OB SET($Object ;"LastName";"James";"age";35)\n\xa0\xa0// $Object = {"LastName":"James","age":35}\n\xa0OB SET($Object ;"FirstName";OB Get($Object ;"LastName"))\n\xa0\xa0// $Object = {"FirstName":""James","nom":"James","age":35}\n\xa0OB REMOVE($Object ;"LastName")\n\xa0\xa0// $Object = {"FirstName":""James","age":35}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-6",children:"Exemplo 6"}),"\n",(0,r.jsx)(n.p,{children:"Usando um ponteiro:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// $Object = {"FirstName":"Paul","LastName":"Smith"}\n\xa0var $LastName : Text\n\xa0OB SET($Object ;"LastName";->$LastName)\n\xa0\xa0// $Object = {"FirstName":"Paul","LastName":"->$LastName"}\n\xa0$JsonString:=JSON Stringify($Object)\n\xa0\xa0// $JsonString="{"FirstName":"Paul","LastName":""}\n\xa0$LastName:="Wesson"\n\xa0$JsonString:=JSON Stringify($Object)\n\xa0\xa0// $JsonString="{"FirstName":"Paul","LastName":"Wesson"}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-7",children:"Exemplo 7"}),"\n",(0,r.jsx)(n.p,{children:"Usando um objeto:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var $ref_smith : Object\n\xa0OB SET($ref_smith ;"name";"Smith")\n\xa0var $ref_emp : Object\n\xa0OB SET($ref_emp ;"employee";$ref_smith)\n\xa0$Json_string :=JSON Stringify($ref_emp)\n\xa0\xa0// $ref_emp = {"employee":{"name":"Smith"}} (object)\n\xa0\xa0// $Json_string = "{"employee":{"name":"Smith"}}" (string)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Tamb\xe9m pode mudar um valor sobre a marcha:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0OB SET($ref_smith ;"name";"Smyth")\n\xa0\xa0// $ref_smith = {"employee":{"name":"Smyth"}}\n\xa0$string:=JSON Stringify($ref_emp)\n\xa0\xa0// $string = "{"employee":{"name":"Smyth"}}"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-8",children:"Exemplo 8"}),"\n",(0,r.jsx)(n.p,{children:"Se voc\xea tiver definido o campo [Rect]Desc como um campo objeto, pode escrever:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0CREATE RECORD([Rect])\n\xa0[Rect]Name:="Blue square"\n\xa0OB SET([Rect]Desc;"x";"50";"y";"50";"color";"blue")\n\xa0SAVE RECORD([Rect])\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-9",children:"Exemplo 9"}),"\n",(0,r.jsxs)(n.p,{children:["Se quiser exportar dados em JSON que cont\xe9m uma data 4D convertida. Note que a convers\xe3o ocorre quando a data se guarda no objeto, deve chamar ao comando ",(0,r.jsx)(n.a,{href:"/docs/pt/commands/set-database-parameter",children:"SET DATABASE PARAMETER"})," antes de chamar a ",(0,r.jsx)(n.a,{href:"/docs/pt/commands/ob-set",children:"OB SET"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var $o : Object\n\xa0$vDateSetting:=Get database parameter(Dates inside objects)\xa0//salva a configura\xe7\xe3o atual\n\xa0SET DATABASE PARAMETER(Dates inside objects;String type without time zone)\n\xa0OB SET($o ;"myDate";Current date)\xa0// JSON conversion\n\xa0$json:=JSON Stringify($o)\n\xa0SET DATABASE PARAMETER(Dates inside objects;$vDateSetting)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-10",children:"Exemplo 10"}),"\n",(0,r.jsx)(n.p,{children:"Em um m\xe9todo formul\xe1rio, pode escrever:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0If(FORM Event.code=On Validate)\n\xa0\xa0\xa0\xa0OB SET([MyDocuments]My4DWP;"myatt_Last edition by";Current user)\n\xa0\xa0\xa0\xa0OB SET([MyDocuments]My4DWP;"myatt_Category";"Memo")\n\xa0End if\n'})}),"\n",(0,r.jsx)(n.p,{children:"Tamb\xe9m pode ler os atributos personalizados dos documentos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0vAttrib:=OB Get([MyDocuments]My4DWP;"myatt_Last edition by")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-11",children:"Exemplo 11"}),"\n",(0,r.jsx)(n.p,{children:"Se quiser definir uma cole\xe7\xe3o como um valor propriedade. Pode escrever:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var $person : Object\n\xa0var $myCol : Collection\n\xa0\n\xa0$person:=OB New\n\xa0$myCol:=New collection("Mike";25;"Denis";12;"Henry";4;True)\n\xa0OB SET($person;"Name";"Jones";"Children";$myCol)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplo-12",children:"Exemplo 12"}),"\n",(0,r.jsx)(n.p,{children:"Se quiser armazenar uma imagem em um campo objeto. Pode escrever:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var $vPict : Picture\n\xa0READ PICTURE FILE("photo.jpg";$vPict)\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0OB SET([Emp]Children;"photo";$vPict)\n\xa0End if\n'})}),"\n",(0,r.jsx)(n.h2,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/pt/commands/ob-get",children:"OB Get"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"/docs/pt/commands/ob-remove",children:"OB REMOVE"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"/docs/pt/commands/ob-set-array",children:"OB SET ARRAY"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"/docs/pt/commands/ob-set-null",children:"OB SET NULL"})]}),"\n",(0,r.jsx)(n.h2,{id:"propriedades",children:"Propriedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"N\xfamero do comando"}),(0,r.jsx)(n.td,{children:"1220"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Thread-seguro"}),(0,r.jsx)(n.td,{children:"\u2713"})]})]})]})]})}function m(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},250065:function(e,n,a){a.d(n,{Z:function(){return t},a:function(){return d}});var o=a(667294);let r={},s=o.createContext(r);function d(e){let n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);