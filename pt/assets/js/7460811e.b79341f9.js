"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["30494"],{235283:function(e,n,a){a.r(n),a.d(n,{default:()=>m,frontMatter:()=>i,metadata:()=>s,assets:()=>c,toc:()=>t,contentTitle:()=>d});var s=JSON.parse('{"id":"commands-legacy/launch-external-process","title":"LAUNCH EXTERNAL PROCESS","description":"LAUNCH EXTERNAL PROCESS ( nomeArquivo {; fluxoEntrada {; fluxoSaida {; fluxoErro}}}{; pid} )","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R9/commands-legacy/launch-external-process.md","sourceDirName":"commands-legacy","slug":"/commands/launch-external-process","permalink":"/docs/pt/20-R9/commands/launch-external-process","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Flaunch-external-process.md%20(20-R9)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R9","frontMatter":{"id":"launch-external-process","title":"LAUNCH EXTERNAL PROCESS","slug":"/commands/launch-external-process","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"GET MACRO PARAMETER","permalink":"/docs/pt/20-R9/commands/get-macro-parameter"},"next":{"title":"Load 4D View document","permalink":"/docs/pt/20-R9/commands/load-4d-view-document"}}'),r=a("785893"),o=a("250065");let i={id:"launch-external-process",title:"LAUNCH EXTERNAL PROCESS",slug:"/commands/launch-external-process",displayed_sidebar:"docs"},d=void 0,c={},t=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:2},{value:"Exemplos em macOS",id:"exemplos-em-macos",level:2},{value:"Exemplos em Windows",id:"exemplos-em-windows",level:2},{value:"Vari\xe1veis e conjuntos do sistema",id:"vari\xe1veis-e-conjuntos-do-sistema",level:2},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:2},{value:"Propriedades",id:"propriedades",level:2}];function l(e){let n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"LAUNCH EXTERNAL PROCESS"})," ( ",(0,r.jsx)(n.em,{children:"nomeArquivo"})," {; ",(0,r.jsx)(n.em,{children:"fluxoEntrada"})," {; ",(0,r.jsx)(n.em,{children:"fluxoSaida"})," {; ",(0,r.jsx)(n.em,{children:"fluxoErro"}),"}}}{; ",(0,r.jsx)(n.em,{children:"pid"}),"} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"nomeArquivo"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Rota de acesso e argumentos de arquivo a lan\xe7ar"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"fluxoEntrada"}),(0,r.jsx)(n.td,{children:"Text, Blob"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Fluxo de entrada(stdin)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"fluxoSaida"}),(0,r.jsx)(n.td,{children:"Text, Blob"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Fluxo de sa\xedda (stdout)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"fluxoErro"}),(0,r.jsx)(n.td,{children:"Text, Blob"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Fluxo de erro(stderr)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"pid"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Identificador \xfanico para processo externo"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{title:"Compatibilidade",type:"info",children:(0,r.jsxs)(n.p,{children:["A partir de 4D v19 R4, recomendamos o uso de ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R9/API/SystemWorkerClass",children:(0,r.jsx)(n.code,{children:"4D.SystemWorker class"})})," para rodar e controlar processos externos. Entretanto, esse comando ainda \xe9 compat\xedvel"]})}),"\n",(0,r.jsx)(n.h2,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["O comando ",(0,r.jsx)(n.strong,{children:"LAUNCH EXTERNAL PROCESS"})," permite iniciar um processo externo de 4D, em macOS e Windows.",(0,r.jsx)(n.br,{}),"\nEm macOS, este comando oferece acesso a todas as aplica\xe7\xf5es execut\xe1veis que possam ser iniciadas desde o Terminal."]}),"\n",(0,r.jsxs)(n.p,{children:["Passe no par\xe2metro ",(0,r.jsx)(n.em,{children:"nomArquivo"})," a rota de acesso da aplica\xe7\xe3o a executar, como tamb\xe9m os argumentos requeridos (se for necess\xe1rio)."]}),"\n",(0,r.jsx)(n.p,{children:"Em macOS, pode tamb\xe9m passar apenas o nome da aplica\xe7\xe3o a executar; 4D utilizar\xe1 ent\xe3o a vari\xe1vel do ambiente PATH para localizar o execut\xe1vel."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Advert\xeancia"}),": este comando apenas pode iniciar aplica\xe7\xf5es execut\xe1veis; n\xe3o pode executar instru\xe7\xf5es que fa\xe7am parte do shell (int\xe9rprete de comandos). Por exemplo, em Mac OS n\xe3o \xe9 poss\xedvel utilizar este comando para executar a instru\xe7\xe3o ",(0,r.jsx)(n.em,{children:"feito"})," ou as indire\xe7\xf5es."]}),"\n",(0,r.jsxs)(n.p,{children:["O par\xe2metro ",(0,r.jsx)(n.em,{children:"fluxoEntrada"})," (opcional) cont\xe9m o ",(0,r.jsx)(n.em,{children:"stdin"})," do processo externo. Quando o comando tiver sido executado, os par\xe2metros ",(0,r.jsx)(n.em,{children:"fluxoSaida"})," e ",(0,r.jsx)(n.em,{children:"fluxoErro"})," (se for passado) retornam respectivamente o ",(0,r.jsx)(n.em,{children:"stdout"})," e o ",(0,r.jsx)(n.em,{children:"stderr"})," do processo externo. Pode utilizar os par\xe2metros de tipo BLOB ao inv\xe9s das cadeias de caracteres se gerenciar dados bin\xe1rios (como imagens)."]}),"\n",(0,r.jsxs)(n.p,{children:["4D oferece tr\xeas vari\xe1veis de ambiente espec\xedficas que podem ser configuradas utilizando ",(0,r.jsx)(n.a,{href:"/docs/pt/20-R9/commands/set-environment-variable",children:"SET ENVIRONMENT VARIABLE"})," e est\xe3o dispon\xedveis para seu uso no contexto de ",(0,r.jsx)(n.strong,{children:"LAUNCH EXTERNAL PROCESS"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"_4D_OPTION_CURRENT_DIRECTORY"}),": se utiliza para definir o diret\xf3rio atual de processo externo que se iniciar\xe1. Em ",(0,r.jsx)(n.em,{children:"valorVar"}),", deve passar a rota de acesso de diret\xf3rio (sintaxe de tipo HFS em macOS e DOS em Windows)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"_4D_OPTION_HIDE_CONSOLE"}),' (Windows unicamente): permite ocultar a janela de console DOS. Deve passar "true" em ',(0,r.jsx)(n.em,{children:"valorVar"}),' para ocultar o console ou "false" para mostrar']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"_4D_OPTION_BLOCKING_EXTERNAL_PROCESS"}),': permite executar o processo externo em modo assincr\xf4nico, em outras palavras, sem bloqueio para as outras aplica\xe7\xf5es. Deve passar "false" em ',(0,r.jsx)(n.em,{children:"valorVar"}),' para definir uma execu\xe7\xe3o assincr\xf4nica ou "true" para uma execu\xe7\xe3o sincr\xf4nica (padr\xe3o normal). Para esta vari\xe1vel, passar "" em ',(0,r.jsx)(n.em,{children:"valorVar"})," n\xe3o faz nada.",(0,r.jsx)(n.br,{}),"\nSe definir a vari\xe1vel do ambiente ",(0,r.jsx)(n.em,{children:"_4D_OPTION_BLOCKING_EXTERNAL_PROCESS"}),' como "false" via o comando ',(0,r.jsx)(n.a,{href:"/docs/pt/20-R9/commands/set-environment-variable",children:"SET ENVIRONMENT VARIABLE"})," (execu\xe7\xe3o assincr\xf4nica), os par\xe2metros ",(0,r.jsx)(n.em,{children:"fluxoSaida"})," e ",(0,r.jsx)(n.em,{children:"fluxoErro"})," n\xe3o s\xe3o devolvidos."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Estas vari\xe1veis s\xe3o v\xe1lidas no processo atual para a chamada abaixo a ",(0,r.jsx)(n.strong,{children:"LAUNCH EXTERNAL PROCESS"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Quando for passado, o par\xe2metro ",(0,r.jsx)(n.em,{children:"pid"})," (inteiro longo) devolve a ID \xfanica do processo criado para lan\xe7ar o comando, independentemente do estado da op\xe7\xe3o ",(0,r.jsx)(n.em,{children:"_4D_OPTION_BLOCKING_EXTERNAL_PROCESS"}),". Com esta informa\xe7\xe3o, \xe9 mais f\xe1cil interagir com os processos externos criados pelo comando, por exemplo. para det\xea-lo. Se o lan\xe7amento do processo falha, n\xe3o \xe9 devolvido o par\xe2metro ",(0,r.jsx)(n.em,{children:"pid"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"exemplos-em-macos",children:"Exemplos em macOS"}),"\n",(0,r.jsx)(n.p,{children:"Os exemplos abaixo utilizam o Terminal macOS, dispon\xedvel na pasta Aplica\xe7\xf5es/Utilidades."}),"\n",(0,r.jsxs)(n.p,{children:["1. Para modificar os acessos a um arquivo (",(0,r.jsx)(n.em,{children:"chmod"})," \xe9 o comando macOS utilizado para modificar o acesso aos arquivos):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0LAUNCH EXTERNAL PROCESS("chmod +x /pasta/meuarquivo.txt")\n'})}),"\n",(0,r.jsxs)(n.p,{children:["2. Para editar um arquivo de tipo texto (",(0,r.jsx)(n.em,{children:"cat"})," \xe9 o comando macOS utilizado para editar os arquivos). Neste exemplo, a rota de acesso completa do comando \xe9 passada:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var entrada;sa\xedda : Text\n\xa0entrada:=""\n\xa0LAUNCH EXTERNAL PROCESS("/bin/cat /pasta/meuarquivo.txt";entrada;sa\xedda)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["3. Para obter os conte\xfados da pasta \u201CUsu\xe1rios\u201D (",(0,r.jsx)(n.em,{children:"ls -l"})," \xe9 o equivalente macOS do comando ",(0,r.jsx)(n.em,{children:"dir"})," em DOS):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var $In;$Out : Text\n\xa0LAUNCH EXTERNAL PROCESS("/bin/ls -l /Usu\xe1rios";$In;$Out)\n'})}),"\n",(0,r.jsxs)(n.p,{children:['4. Para iniciar uma aplica\xe7\xe3o "gr\xe1fica" independente, \xe9 prefer\xedvel utilizar o comando sistema ',(0,r.jsx)(n.em,{children:"open"})," (neste caso, a instru\xe7\xe3o ",(0,r.jsx)(n.strong,{children:"LAUNCH EXTERNAL PROCESS"})," tem o mesmo efeito que fazer clique duplo na aplica\xe7\xe3o):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0LAUNCH EXTERNAL PROCESS("open /Applications/Calculator.app")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemplos-em-windows",children:"Exemplos em Windows"}),"\n",(0,r.jsx)(n.p,{children:"5. Para abrir NotePad:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0LAUNCH EXTERNAL PROCESS("C:\\\\WINDOWS\\\\notepad.exe")\n'})}),"\n",(0,r.jsx)(n.p,{children:"6. Para abrir Notepad e abrir um documento espec\xedfico:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0LAUNCH EXTERNAL PROCESS("C:\\\\WINDOWS\\\\notepad.exe C:\\\\Docs\\\\nova pasta\\\\res.txt")\n'})}),"\n",(0,r.jsx)(n.p,{children:'7. Para iniciar a aplica\xe7\xe3o Microsoft\xae Word\xae e abrir um documento espec\xedfico (Note o uso das duas ""):'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0$meudoc:="C:\\\\Program Files\\\\Microsoft Office\\\\Office10\\\\WINWORD.EXE \\"C:\\\\Documents and\n\xa0Settings\\\\Macros\\\\Escritorio\\\\MeusDocs\\\\NovaPasta\\\\test.xml\\""\n\xa0LAUNCH EXTERNAL PROCESS($meudoc;$tIn;$tOut)\n'})}),"\n",(0,r.jsx)(n.p,{children:"8. Para executar um script Perl (\xe9 necess\xe1rio ActivePerl):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var $entrada;$sa\xedda : Text\n\xa0SET ENVIRONMENT VARIABLE("minhavari\xe1vel";"valor")\n\xa0LAUNCH EXTERNAL PROCESS("D:\\\\Perl\\\\bin\\\\perl.exe D:\\\\Perl\\\\eg\\\\cgi\\\\env.pl";$entrada;$saida)\n'})}),"\n",(0,r.jsx)(n.p,{children:"9. Para iniciar um comando com o diret\xf3rio atual e sem mostrar o console:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0SET ENVIRONMENT VARIABLE("_4D_OPTION_CURRENT_DIRECTORY";"C:\\\\4D_VCS")\n\xa0SET ENVIRONMENT VARIABLE("_4D_OPTION_HIDE_CONSOLE";"true")\n\xa0LAUNCH EXTERNAL PROCESS("meuComando")\n'})}),"\n",(0,r.jsx)(n.p,{children:"10. Para permitir ao usu\xe1rio abrir um documento externo em Windows:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0$nomdoc:=Select document("";"*.*";"Escolha o arquivo a abrir";0)\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0SET ENVIRONMENT VARIABLE("_4D_OPTION_HIDE_CONSOLE";"true")\n\xa0\xa0\xa0\xa0LAUNCH EXTERNAL PROCESS("cmd.exe /C start \\"\\" \\""+document+"\\"")\n\xa0End if\n'})}),"\n",(0,r.jsx)(n.h2,{id:"vari\xe1veis-e-conjuntos-do-sistema",children:"Vari\xe1veis e conjuntos do sistema"}),"\n",(0,r.jsx)(n.p,{children:"Se o comando for executado corretamente, a vari\xe1vel sistema OK assume o valor 1. Do contr\xe1rio (arquivo n\xe3o encontrado, mem\xf3ria insuficiente, etc.), assume o valor 0."}),"\n",(0,r.jsx)(n.h2,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/pt/20-R9/commands/open-url",children:"OPEN URL"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"/docs/pt/20-R9/commands/set-environment-variable",children:"SET ENVIRONMENT VARIABLE"})]}),"\n",(0,r.jsx)(n.h2,{id:"propriedades",children:"Propriedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"N\xfamero do comando"}),(0,r.jsx)(n.td,{children:"811"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Thread-seguro"}),(0,r.jsx)(n.td,{children:"\u2713"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Modificar vari\xe1veis"}),(0,r.jsx)(n.td,{children:"OK"})]})]})]})]})}function m(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},250065:function(e,n,a){a.d(n,{Z:function(){return d},a:function(){return i}});var s=a(667294);let r={},o=s.createContext(r);function i(e){let n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);