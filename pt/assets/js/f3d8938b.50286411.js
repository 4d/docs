"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[60833],{603905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>u});var r=a(667294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t){if(null==e)return{};var a,r,o=function(e,t){if(null==e)return{};var a,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,o=e.mdxType,n=e.originalType,l=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),c=p(a),u=o,v=c["".concat(l,".").concat(u)]||c[u]||m[u]||n;return a?r.createElement(v,i(i({ref:t},s),{},{components:a})):r.createElement(v,i({ref:t},s))}));function u(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=a.length,i=new Array(n);i[0]=c;var d={};for(var l in t)hasOwnProperty.call(t,l)&&(d[l]=t[l]);d.originalType=e,d.mdxType="string"==typeof e?e:o,i[1]=d;for(var p=2;p<n;p++)i[p]=a[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},435146:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>d,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>s});a(667294);var r=a(603905);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function n(e,t){if(null==e)return{};var a,r,o=function(e,t){if(null==e)return{};var a,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}const i={id:"interpreted-compiled",title:"Modos interpretado e compilado"},d=void 0,l={unversionedId:"Concepts/interpreted-compiled",id:"version-18/Concepts/interpreted-compiled",title:"Modos interpretado e compilado",description:"As aplica\xe7\xf5es 4D podem funcionar no modo interpretado ou compilado:",source:"@site/i18n/pt/docusaurus-plugin-content-docs/version-18/Concepts/interpreted.md",sourceDirName:"Concepts",slug:"/Concepts/interpreted-compiled",permalink:"/docs/pt/18/Concepts/interpreted-compiled",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20Concepts%2Finterpreted.md%20(18)&body=Please%20enter%20your%20comment%3A",tags:[],version:"18",frontMatter:{id:"interpreted-compiled",title:"Modos interpretado e compilado"},sidebar:"docs",previous:{title:"Gest\xe3o de erros",permalink:"/docs/pt/18/Concepts/error-handling"},next:{title:"Componentes",permalink:"/docs/pt/18/Concepts/components"}},p={},s=[{value:"Diferen\xe7as entre c\xf3digo interpretado e compilado",id:"diferen\xe7as-entre-c\xf3digo-interpretado-e-compilado",level:2},{value:"Utiliza\xe7\xe3o de directivas de compila\xe7\xe3o com o Int\xe9rprete",id:"utiliza\xe7\xe3o-de-directivas-de-compila\xe7\xe3o-com-o-int\xe9rprete",level:2},{value:"Utilizar ponteiros para evitar redigitar",id:"utilizar-ponteiros-para-evitar-redigitar",level:2}],m={toc:s};function c(e){var{components:t}=e,a=n(e,["components"]);return(0,r.kt)("wrapper",o({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"As aplica\xe7\xf5es 4D podem funcionar no modo ",(0,r.kt)("strong",{parentName:"p"},"interpretado")," ou ",(0,r.kt)("strong",{parentName:"p"},"compilado"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"no modo interpretado, as declara\xe7\xf5es s\xe3o lidas e traduzidas em linguagem de m\xe1quina no momento da sua execu\xe7\xe3o. Pode adicionar ou modificar o c\xf3digo sempre que precisar, a aplica\xe7\xe3o \xe9 actualizada automaticamente."),(0,r.kt)("li",{parentName:"ul"},"no modo compilado, todos os m\xe9todos s\xe3o lidos e traduzidos uma vez, na etapa de compila\xe7\xe3o. Posteriormente, a aplica\xe7\xe3o cont\xe9m apenas instru\xe7\xf5es de n\xedvel de montagem, j\xe1 n\xe3o \xe9 poss\xedvel editar o c\xf3digo.")),(0,r.kt)("p",null,"As vantagens da compila\xe7\xe3o s\xe3o:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Speed"),": Your database can run from 3 to 1,000 times faster."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Code checking"),": Your database application is scanned for the consistency of code. S\xe3o detectados conflitos tanto l\xf3gicos como sint\xe1cticos."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Protection"),": Once your database is compiled, you can delete the interpreted code. Then, the compiled database is functionally identical to the original, except that the structure and methods cannot be viewed or modified, deliberately or inadvertently."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Stand-alone double-clickable applications"),": compiled databases can also be transformed into stand-alone applications (.EXE files) with their own icon."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Modo preemptivo"),": s\xf3 codigo compilado pode ser executado em processos preemptivos.")),(0,r.kt)("h2",o({},{id:"diferen\xe7as-entre-c\xf3digo-interpretado-e-compilado"}),"Diferen\xe7as entre c\xf3digo interpretado e compilado"),(0,r.kt)("p",null,"Apesar de aplica\xe7\xf5es funcionarem da mesma forma em modo compilado e interpretado, h\xe1 diferen\xe7as quando escrever c\xf3digo que ser\xe1 compilado. O 4D interpreter \xe9 mais flex\xedvel que o compilador."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",o({parentName:"tr"},{align:null}),"Compilado"),(0,r.kt)("th",o({parentName:"tr"},{align:null}),"Interpretado"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:null}),"N\xe3o pode ter um m\xe9todo com o mesmo nome que uma vari\xe1vel."),(0,r.kt)("td",o({parentName:"tr"},{align:null}),"Nenhum erro \xe9 gerado, mas prioridade \xe9 dada ao m\xe9todo")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:null}),"Todas as vari\xe1veis devem ser digitadas, seja atrav\xe9s de uma diretiva do compilador (ex: ",(0,r.kt)("inlineCode",{parentName:"td"},"C_LONGINT"),"), ou pelo compilador no momento da compila\xe7\xe3o."),(0,r.kt)("td",o({parentName:"tr"},{align:null}),"As vari\xe1veis podem ser digitadas no momento (mas n\xe3o \xe9 recomendado)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:null}),"N\xe3o \xe9 poss\xedvel alterar o tipo de dados de qualquer vari\xe1vel ou array."),(0,r.kt)("td",o({parentName:"tr"},{align:null}),"\xc9 poss\xedvel alterar o tipo de dados de uma vari\xe1vel ou de um array (n\xe3o recomendado)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:null}),"N\xe3o \xe9 poss\xedvel mudar um array unidimensional para um array bidimensional ou mudar um array bidimensional para uma array unidimensional."),(0,r.kt)("td",o({parentName:"tr"},{align:null}),"Poss\xedvel")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:null}),"Embora o compilador v\xe1 digitar a vari\xe1vel por voc\xea, deve especificar o tipo de dados de uma vari\xe1vel utilizando as directivas do compilador quando o tipo de dados for amb\xedguo, como num formul\xe1rio."),(0,r.kt)("td",o({parentName:"tr"},{align:null}))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:null}),"A fun\xe7\xe3o ",(0,r.kt)("inlineCode",{parentName:"td"},"Undefined")," retorna sempre False para vari\xe1veis. As vari\xe1veis s\xe3o sempre definidas."),(0,r.kt)("td",o({parentName:"tr"},{align:null}))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:null}),'Se tiver marcado a propriedade "Pode ser executado em processos preemptivos" para o m\xe9todo, o c\xf3digo n\xe3o deve chamar quaisquer comandos thread-unsafe ou outros m\xe9todos thread-unsafe.'),(0,r.kt)("td",o({parentName:"tr"},{align:null}),"As propriedades do processo preemptivo s\xe3o ignoradas")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:null}),"O comando ",(0,r.kt)("inlineCode",{parentName:"td"},"IDLE")," \xe9 necess\xe1rio para chamar 4D em loops espec\xedficos"),(0,r.kt)("td",o({parentName:"tr"},{align:null}),"\xc9 sempre poss\xedvel interromper 4D")))),(0,r.kt)("h2",o({},{id:"utiliza\xe7\xe3o-de-directivas-de-compila\xe7\xe3o-com-o-int\xe9rprete"}),"Utiliza\xe7\xe3o de directivas de compila\xe7\xe3o com o Int\xe9rprete"),(0,r.kt)("p",null,"As diretivas do compilador n\xe3o s\xe3o necess\xe1rias para bancos de dados n\xe3o compilados. The interpreter automatically types each variable according to how it is used in each statement, and a variable can be freely retyped throughout the database."),(0,r.kt)("p",null,"Because of this flexibility, it is possible that a database can perform differently in interpreted and compiled modes."),(0,r.kt)("p",null,"Por exemplo, se escrever:"),(0,r.kt)("pre",null,(0,r.kt)("code",o({parentName:"pre"},{className:"language-4d"}),"C_LONGINT(MyInt)\n")),(0,r.kt)("p",null,"e noutra parte da base de dados, escreve-se:"),(0,r.kt)("pre",null,(0,r.kt)("code",o({parentName:"pre"},{className:"language-4d"}),"MyInt:=3.1416\n")),(0,r.kt)("p",null,"Neste exemplo, ",(0,r.kt)("inlineCode",{parentName:"p"},"MyInt")," \xe9 atribu\xeddo ao mesmo valor (3) nos modos interpretado e compilado, desde que a diretiva do compilador seja interpretada ",(0,r.kt)("em",{parentName:"p"},"antes")," da instru\xe7\xe3o de atribui\xe7\xe3o."),(0,r.kt)("p",null,"O interpretador 4D usa as diretivas do compilador para digitar vari\xe1veis. Quando o int\xe9rprete encontra uma diretiva do compilador, digita a vari\xe1vel de acordo com a diretiva. Se uma express\xe3o subsequente tentar atribuir um valor incorreto (por exemplo, atribuir um valor alfanum\xe9rico a uma vari\xe1vel num\xe9rica), a atribui\xe7\xe3o n\xe3o ser\xe1 efectuada e gerar\xe1 um erro."),(0,r.kt)("p",null,"The order in which the two statements appear is irrelevant to the compiler, because it first scans the entire database for compiler directives. O int\xe9rprete, por\xe9m, n\xe3o \xe9 sistem\xe1tico. Interpreta as instru\xe7\xf5es pela ordem em que s\xe3o executadas. Esta ordem, como \xe9 \xf3bvio, pode mudar de sess\xe3o para sess\xe3o, dependendo do que o utilizador faz. For this reason, it is important to design your database so that your compiler directives are executed prior to any statements containing declared variables."),(0,r.kt)("h2",o({},{id:"utilizar-ponteiros-para-evitar-redigitar"}),"Utilizar ponteiros para evitar redigitar"),(0,r.kt)("p",null,"Uma vari\xe1vel n\xe3o pode ser redigida de novo. No entanto, \xe9 poss\xedvel utilizar um ponteiro para fazer refer\xeancia a vari\xe1veis de diferentes tipos de dados. Por exemplo, o seguinte c\xf3digo \xe9 permitido nos modos interpretado e compilado:"),(0,r.kt)("pre",null,(0,r.kt)("code",o({parentName:"pre"},{className:"language-4d"}),'C_POINTER($p)\nC_TEXT($name)\nC_LONGINT($age)\n\n$name:="Smith"\n$age:=50\n\n$p:=->$name //alvo de texto para o ponteiro\n$p->:="Wesson" //atribui um valor de texto\n\n$p:=->$age  \n//novo alvo de tipo diferente para o ponteiro\n$p->:=55 //atribui um valor num\xe9rico\n')),(0,r.kt)("p",null,"Imagine uma fun\xe7\xe3o que devolve o comprimento (n\xfamero de caracteres) de valores que podem ser de qualquer tipo."),(0,r.kt)("pre",null,(0,r.kt)("code",o({parentName:"pre"},{className:"language-4d"}),"  // Calc_Length (how many characters)\n  // $1 = pointer to flexible variable type, numeric, text, time, boolean C_POINTER($1)\nC_TEXT($result) C_LONGINT($0)\n$result:=String($1->)\n$0:=Length($result)\n")),(0,r.kt)("p",null,"Em seguida, este m\xe9todo pode ser chamado:"),(0,r.kt)("pre",null,(0,r.kt)("code",o({parentName:"pre"},{className:"language-4d"}),'$var1:="my text"\n$var2:=5.3\n$var3:=?10:02:24?\n$var4:=True\n\n$vLength:=Calc_Length(->$var1)+Calc_Length(->$var2)+Calc_Length (->$var3)+Calc_Length(->$var4) ALERT("Total length: "+String($vLength))\n')))}c.isMDXComponent=!0}}]);