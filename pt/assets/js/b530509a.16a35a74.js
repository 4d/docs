"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[69187],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>c});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=d(a),c=r,g=u["".concat(s,".").concat(c)]||u[c]||m[c]||o;return a?n.createElement(g,l(l({ref:t},p),{},{components:a})):n.createElement(g,l({ref:t},p))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var d=2;d<o;d++)l[d]=a[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},11714:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>p});a(67294);var n=a(3905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const l={id:"debugLogFiles",title:"Descri\xe7\xe3o de arquivos de hist\xf3rico"},i=void 0,s={unversionedId:"Debugging/debugLogFiles",id:"version-20/Debugging/debugLogFiles",title:"Descri\xe7\xe3o de arquivos de hist\xf3rico",description:"Aplica\xe7\xf5es 4D podem gerar v\xe1rios arquivos de hist\xf3rico ou log que s\xe3o \xfateis para depura\xe7\xe3o e otimizar sua execu\xe7\xe3o. Logs are usually started or stopped using selectors of the SET DATABASE PARAMETER or WEB SET OPTION commands and are stored in the Logs folder of the project.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/version-20/Debugging/debugLogFiles.md",sourceDirName:"Debugging",slug:"/Debugging/debugLogFiles",permalink:"/docs/pt/20/Debugging/debugLogFiles",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20Debugging%2FdebugLogFiles.md%20(20)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20",frontMatter:{id:"debugLogFiles",title:"Descri\xe7\xe3o de arquivos de hist\xf3rico"},sidebar:"docs",previous:{title:"Debugging from remote machines",permalink:"/docs/pt/20/Debugging/debugging-remote"},next:{title:"Settings",permalink:"/docs/pt/20/settings/overview"}},d={},p=[{value:"4DRequestsLog.txt",id:"4drequestslogtxt",level:2},{value:"Cabe\xe7alhos",id:"cabe\xe7alhos",level:4},{value:"Conte\xfados",id:"conte\xfados",level:4},{value:"4DRequestsLog_ProcessInfo.txt",id:"4drequestslog_processinfotxt",level:2},{value:"Cabe\xe7alhos",id:"cabe\xe7alhos-1",level:4},{value:"Conte\xfados",id:"conte\xfados-1",level:4},{value:"HTTPDebugLog.txt",id:"httpdebuglogtxt",level:2},{value:"4DDebugLog.txt (standard)",id:"4ddebuglogtxt-standard",level:2},{value:"4DDebugLog.txt (tabular)",id:"4ddebuglogtxt-tabular",level:2},{value:"4DDiagnosticLog.txt",id:"4ddiagnosticlogtxt",level:2},{value:"Diagnostic log levels",id:"diagnostic-log-levels",level:3},{value:"4DSMTPLog.txt, 4DPOP3Log.txt, e 4DIMAPLog.txt",id:"4dsmtplogtxt-4dpop3logtxt-e-4dimaplogtxt",level:2},{value:"Conte\xfados",id:"conte\xfados-2",level:4},{value:"Pedidos ORDA",id:"pedidos-orda",level:2},{value:"Do lado do cliente",id:"do-lado-do-cliente",level:3},{value:"Exemplo",id:"exemplo",level:4},{value:"Do lado do servidor",id:"do-lado-do-servidor",level:3},{value:"Exemplo",id:"exemplo-1",level:4},{value:"Using a log configuration file",id:"using-a-log-configuration-file",level:2},{value:"Como activar o ficheiro",id:"como-activar-o-ficheiro",level:3},{value:"Descri\xe7\xe3o do ficheiro JSON",id:"descri\xe7\xe3o-do-ficheiro-json",level:3},{value:"Exemplo",id:"exemplo-2",level:3}],m={toc:p};function u(e){var{components:t}=e,l=o(e,["components"]);return(0,n.kt)("wrapper",r({},m,l,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Aplica\xe7\xf5es 4D podem gerar v\xe1rios arquivos de hist\xf3rico ou log que s\xe3o \xfateis para depura\xe7\xe3o e otimizar sua execu\xe7\xe3o. Logs are usually started or stopped using selectors of the ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4dv20/help/command/en/page642.html"}),"SET DATABASE PARAMETER")," or ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4dv20/help/command/en/page1210.html"}),"WEB SET OPTION")," commands and are stored in the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/20/Project/architecture#logs"}),"Logs folder")," of the project."),(0,n.kt)("p",null,"Informa\xe7\xe3o gravada precisa ser analisada para detectar e corrigir os problemas. Esta se\xe7\xe3o oferece uma descri\xe7\xe3o detalhada dos arquivos de log abaixo:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#4drequestslogtxt"}),"4DRequestsLog.txt")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"l#4drequestslog_processinfotxt"}),"4DRequestsLog_ProcessInfo.txt")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#httpdebuglogtxt"}),"HTTPDebugLog.txt")),(0,n.kt)("li",{parentName:"ul"},"4DDebugLog.txt (",(0,n.kt)("a",r({parentName:"li"},{href:"#4ddebuglogtxt-standard"}),"padr\xe3o")," & ",(0,n.kt)("a",r({parentName:"li"},{href:"#4ddebuglogtxt-tabular"}),"tabular"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#4ddiagnosticlogtxt"}),"4DDiagnosticLog.txt")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#4dsmtplogtxt-4dpop3logtxt-and-4dimaplogtxt"}),"4DIMAPLog.txt")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#4dsmtplogtxt-4dpop3logtxt-and-4dimaplogtxt"}),"4DPOP3Log.txt")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#4dsmtplogtxt-4dpop3logtxt-and-4dimaplogtxt"}),"4DSMTPLog.txt")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#orda-requests"}),"Ficheiro de registo dos pedidos ORDA"))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},'Nota: quando um arquivo de hist\xf3rico for gerado seja em 4D Server ou em cliente remoto, a palavra "Server" \xe9 adicionada ao nome do arquivo do lado servidor, por exemplo "4DRequestsLogServer.txt"')),(0,n.kt)("p",null,"Arquivos de Hist\xf3rico compartilham alguns campos para que possa estabelecer uma cronologia e fazer conex\xf5es entre entradas quando depurar:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"sequence_number"),": esse n\xfamero \xe9 unico entre todos os arquivos de hist\xf3rico e \xe9 aumentado a cada nova entrada qualquer que seja o arquivo de log, para que possa saber a sequ\xeancia exata das opera\xe7\xf5es."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"connection_uuid"),": para qualquer processo 4D criado em um cliente 4D que conecte a u m servidor, essa conex\xe3o UUID \xe9 registrada tanto no servior quanto no lado do cliente. Permite que facilmente identifique o cliente remoto que lan\xe7a cada processo.")),(0,n.kt)("h2",r({},{id:"4drequestslogtxt"}),"4DRequestsLog.txt"),(0,n.kt)("p",null,"Esses arquivos de hist\xf3rico gravam peti\xe7\xf5es normais realizadas pela m\xe1quina 4D Server ou a m\xe1quina remota 4D que executaram o comando (excluindo peti\xe7\xf5es Web)."),(0,n.kt)("p",null,"Como iniciar esse log:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"no servidor:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(4D Server log recording;1)\n//lado servidor\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"em um cliente:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(Client Log Recording;1)\n//lado remoto\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta declara\xe7\xe3o tamb\xe9m come\xe7a o arquivo de hist\xf3rico ",(0,n.kt)("a",r({parentName:"p"},{href:"#4drequestslogtxt"}),"4DRequestsLog.txt"),".")),(0,n.kt)("h4",r({},{id:"cabe\xe7alhos"}),"Cabe\xe7alhos"),(0,n.kt)("p",null,"Este arquivo come\xe7a com os cabe\xe7alhos abaixo:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Identificador de sess\xe3o de hist\xf3rico"),(0,n.kt)("li",{parentName:"ul"},"Hostname do servidor que hospeda a aplica\xe7\xe3o"),(0,n.kt)("li",{parentName:"ul"},"Nome login Usu\xe1rio: login do SO do usu\xe1rio que roda a aplica\xe7\xe3o 4D no servidor.")),(0,n.kt)("h4",r({},{id:"conte\xfados"}),"Conte\xfados"),(0,n.kt)("p",null,"Para cada peti\xe7\xe3o, os campos abaixo est\xe3o logados:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Campo nome"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"sequence_number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de opera\xe7\xe3o \xfanico e sequencial da sess\xe3o de hist\xf3rico")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"time"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Data e hora usando formato ISO 8601: 'YYYY-MM-DDTHH:MM:SS.mmm'")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"systemid"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID de sistema")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"componente"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Assinatura de componente (por exemplo '4SQLS' ou 'dbmg')")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"process","_","info_"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'index Corresponds to the "index" field in 4DRequestsLog_ProcessInfo.txt log, and permits linking a request to a process.')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"request"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"https://github.com/4d/request-log-definitions/blob/master/RequestIDs.txt"}),"C/S or ORDA request ID")," or message string for SQL requests or ",(0,n.kt)("inlineCode",{parentName:"td"},"LOG EVENT")," messages")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"bytes_in"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de bytes recebidos")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"bytes_out"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de bytes enviados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"server","_","duration ","|"," exec","_","duration"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Depende de onde o hist\xf3rico for gerado:",(0,n.kt)("li",null,(0,n.kt)("em",{parentName:"td"},"server","_","duration")," se for gerado no cliente - tempo que levou em microssegundos para o servidor processar a peti\xe7\xe3o e retornar a resposta. B a F na imagem abaixo OU"),(0,n.kt)("li",null,(0,n.kt)("em",{parentName:"td"},"exec","_","duration")," se gerado no servidor - tempo que levou em microssegundos para o servidor processar a peti\xe7\xe3o. B a E na imagem abaixo."))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"write","_","duration"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tempo que levou em microssegundos para enviar:",(0,n.kt)("li",null,"a peti\xe7\xe3o (quando rodar no cliente). A a B na imagem abaixo."),(0,n.kt)("li",null,"Resposta (quando rodar no servidor). E a F na imagem abaixo."))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"task_kind"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Preemptivo ou cooperativo (respectivamente 'p' ou 'c')")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"rtt"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tempo estimado em microssegundos para o cliente enviar a peti\xe7\xe3o e o servidor para reconhec\xea-la. A a D e E a H na imagem abaixo.",(0,n.kt)("li",null,"S\xf3 medido quando usar a capa de rede ServerNet, retorna 0 se usado com capa de rede legado."),(0,n.kt)("li",null,"Para vers\xf5es de Windows anteriores a Windows 10 ou Windows Server 2016, a chamada retorna 0."))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"extra"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Additional information related to the context, for example dataclass name and/or attribute name in case of ORDA request")))),(0,n.kt)("p",null,"Fluxo de peti\xe7\xe3o:"),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(40618).Z,width:"535",height:"378"})),(0,n.kt)("h2",r({},{id:"4drequestslog_processinfotxt"}),"4DRequestsLog_ProcessInfo.txt"),(0,n.kt)("p",null,"Este arquivo de hist\xf3rico registra a informa\xe7\xe3o em cada processo criado na m\xe1quina 4D Server ou na m\xe1quina remota 4D que executa o comando (excluindo peti\xe7\xf5es Web)."),(0,n.kt)("p",null,"Como iniciar esse log:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"no servidor:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(4D Server log recording;1) //lado servidor\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"em um cliente:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(Client Log Recording;1) //lado remoto\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta declara\xe7\xe3o tamb\xe9m come\xe7a um arquivo de hist\xf3rico ",(0,n.kt)("a",r({parentName:"p"},{href:"#4drequestslog_processinfotxt"}),"4DRequestsLog_ProcessInfo.txt"),".")),(0,n.kt)("h4",r({},{id:"cabe\xe7alhos-1"}),"Cabe\xe7alhos"),(0,n.kt)("p",null,"Este arquivo come\xe7a com os cabe\xe7alhos abaixo:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Identificador de sess\xe3o de hist\xf3rico"),(0,n.kt)("li",{parentName:"ul"},"Hostname do servidor que hospeda a aplica\xe7\xe3o"),(0,n.kt)("li",{parentName:"ul"},"Nome login Usu\xe1rio: login do SO do usu\xe1rio que roda a aplica\xe7\xe3o 4D no servidor.")),(0,n.kt)("h4",r({},{id:"conte\xfados-1"}),"Conte\xfados"),(0,n.kt)("p",null,"Para cada processo, os campos abaixo s\xe3o registrados:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Campo nome"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"sequence_number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de opera\xe7\xe3o \xfanico e sequencial da sess\xe3o de hist\xf3rico")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"time"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Hora e data usando o formato ISO 8601 format: "YYYY-MM-DDTHH:MM:SS.mmm"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"process","_","info_index"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de processo \xfanico e sequencial")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"CDB4DBaseContext"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"DB4D contexto de componente database UUID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"systemid"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID de sistema")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"server","_","process","_","id"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID de processo no servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"remote","_","process","_","id"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Id de processo no cliente")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"process","_","name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome de processo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"cID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Identificador de conex\xe3o 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"uID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Identificador de Cliente 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"IP Client"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"IPv4/IPv6\u30a2\u30c9\u30ec\u30b9")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"host_name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Hostname do cliente")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"user_name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome de login de usu\xe1rio no cliente")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"connection","_","uuid"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Identificador UUID da conex\xe3o de processo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"server","_","process","_","unique","_","id"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID de Processo \xfanico em Servidor")))),(0,n.kt)("h2",r({},{id:"httpdebuglogtxt"}),"HTTPDebugLog.txt"),(0,n.kt)("p",null,"Este arquivo registra cada peti\xe7\xe3o HTTP e cada resposta em modo raw (n\xe3o processado). Peti\xe7\xf5es inteiras, incluindo cabe\xe7alhos, s\xe3o registradas; opcionalmente, partes do corpo podem ser registradas tamb\xe9m."),(0,n.kt)("p",null,"Como iniciar esse log:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"\n\n\nWEB SET OPTION(Web debug log;wdl enable without body)  \n//outros valores est\xe3o dispon\xedveis\n")),(0,n.kt)("p",null,"Os campos abaixo s\xe3o registrados tanto para Request quanto para Response:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Campo nome"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"SocketID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID da socked usada para comunica\xe7\xe3o")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"PeerIP"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Endere\xe7o IPv4 do host (cliente)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"PeerPort"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Porta usada por host (cliente)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"TimeStamp"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Timestamp em milisegundos (desde in\xedcio sistema)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ConnectionID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Connection UUID (UUID de VTCPSocket usada para comunica\xe7\xe3o)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"SequenceNumber"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de opera\xe7\xe3o \xfanico e sequencial da sess\xe3o de hist\xf3rico")))),(0,n.kt)("h2",r({},{id:"4ddebuglogtxt-standard"}),"4DDebugLog.txt (standard)"),(0,n.kt)("p",null,"Esses registros de hist\xf3rico gravam cada evento que ocorreu ao n\xedvel de programa\xe7\xe3o de 4D. Modo padr\xe3o oferece uma vista b\xe1sica de eventos."),(0,n.kt)("p",null,"Como iniciar esse log:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(Debug Log Recording;2)  \n//standard, all processes SET DATABASE PARAMETER(Current process debug log recording;2)  \n//standard, current process only\n")),(0,n.kt)("p",null,"Os campos abaixo est\xe3o registrados para cada evento:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Coluna #"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"1"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de opera\xe7\xe3o \xfanico e sequencial da sess\xe3o de hist\xf3rico")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"2"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Data e hora em formato ISO 8601 (YYYY-MM-DDThh:mm:ss.mmm)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID de processo (p=xx) e ID de processo \xfanico (puid=xx)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xedvel de stack")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Pode ser Command Name/ Method Name/Message/ Task Start Stop info/Plugin Name, event ou Callback/Connection UUID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tempo que leva para a opera\xe7\xe3o de hist\xf3rico em milissegundos")))),(0,n.kt)("h2",r({},{id:"4ddebuglogtxt-tabular"}),"4DDebugLog.txt (tabular)"),(0,n.kt)("p",null,"Esse arquivo de hist\xf3rico registra cada evento que ocorrer ao n\xedvel de programa\xe7\xe3o 4D em um formato tabulado e compacto que inclui informa\xe7\xe3o adicional (comparado ao formato padr\xe3o)."),(0,n.kt)("p",null,"Como iniciar esse log:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(Debug Log Recording;2+4)  \n//extended tabbed format, all processes SET DATABASE PARAMETER(Current process debug log recording;2+4)  \n//extended, current process only\n")),(0,n.kt)("p",null,"Os campos abaixo est\xe3o registrados para cada evento:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Coluna #"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Campo nome"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"1"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"sequence_number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de opera\xe7\xe3o \xfanico e sequencial da sess\xe3o de hist\xf3rico")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"2"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"time"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Data e hora em formato ISO 8601 (YYYY-MM-DDThh:mm:ss.mmm)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ProcessID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Process ID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"unique_processID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID de processo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"stack_level"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xedvel de stack")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"operation_type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tipo opera\xe7\xe3o hist\xf3rico. Esse valor pode ser um valor absoluto:",(0,n.kt)("p",null,(0,n.kt)("ol",null,(0,n.kt)("li",null,"Comando"),(0,n.kt)("li",null,"M\xe9todo (m\xe9todo de projeto, m\xe9todo de banco de dados, etc)"),(0,n.kt)("li",null,"Message (sent by ",(0,n.kt)("a",r({parentName:"td"},{href:"https://doc.4d.com/4dv20/help/command/en/page667.html"}),"LOG EVENT")," command only)"),(0,n.kt)("li",null,"PluginMessage"),(0,n.kt)("li",null,"PluginEvent"),(0,n.kt)("li",null,"PluginCommand"),(0,n.kt)("li",null,"PluginCallback"),(0,n.kt)("li",null,"Tarefa"),(0,n.kt)("li",null,"M\xe9todo membro (m\xe9todo anexado \xe0 cole\xe7\xe3o ou a um objeto)"))),"Quando fechar um n\xedvel de stack, as colunas ",(0,n.kt)("inlineCode",{parentName:"td"},"operation_type"),", ",(0,n.kt)("inlineCode",{parentName:"td"},"operation")," e ",(0,n.kt)("inlineCode",{parentName:"td"},"operation_parameters")," tem o mesmo valor que o n\xedvel de stack registrado na coluna ",(0,n.kt)("inlineCode",{parentName:"td"},"stack_opening_sequence_number")," column. Por exemplo:",(0,n.kt)("p",null,(0,n.kt)("ol",null,(0,n.kt)("li",null,"121  15:16:50:777  5  8  1  2 CallMethod Parameters 0"),(0,n.kt)("li",null,"122  15:16:50:777  5  8  2  1 283  0"),(0,n.kt)("li",null,"123  15:16:50:777  5  8  2  1 283  0 122 3"),(0,n.kt)("li",null,"124  15:16:50:777  5  8  1  2 CallMethod Parameters 0 121 61"))),"A primeira e segunda linha abrem o n\xedvel de stack, a terceira e quarta linha fecham o n\xedvel de stack. Valores nas colunas 6, 7 e 8 s\xe3o repetidos na linha do n\xedvel de stack ao fechar. A coluna 10 cont\xe9m os n\xfameros de sequ\xeancia de abertura do n\xedvel de stack, ou seja, 122 para a terceira linha e 121 para a quarta.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"7"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"operation"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Pode representar (dependendo do tipo da opera\xe7\xe3o):",(0,n.kt)("li",null,"uma ID de comando de linguagem (quando tipo =1)"),(0,n.kt)("li",null,"um nome de m\xe9todo (quando tipo =2)"),(0,n.kt)("li",null,"uma combina\xe7\xe3o de pluginIndex;pluginCommand (quando tipo=4, 5, 6 ou 7). Pode conter algo como '3;2'"),(0,n.kt)("li",null,"uma UUID task connection (quando tipo = 8)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"8"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"operation_parameters"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros passados a comandos, m\xe9todos ou plugins")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"9"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"form_event"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Evento formul\xe1rio se houver: vazio em outros casos (suponha que a coluna \xe9 usada quando o c\xf3digo for executado em um m\xe9todo formul\xe1rio ou m\xe9todo objeto)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"10"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"stack_opening_sequence_number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"S\xf3 para n\xedveis stack fechamento: n\xfamero sequencia do n\xedvel correspondente de abertura de stack")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"11"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"stack_level_execution_time"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"S\xf3 para n\xedveis de stack de fechamento: tempo decorrido em microssegundos da a\xe7\xe3o de hist\xf3rico atual; s\xf3 para os n\xedveis de stack de fechamento (ver d\xe9cima coluna em linhas 123 e 124 no hist\xf3rico acima)")))),(0,n.kt)("h2",r({},{id:"4ddiagnosticlogtxt"}),"4DDiagnosticLog.txt"),(0,n.kt)("p",null,"Esse arquivo registra v\xe1rios eventos relacionados \xe0 opera\xe7\xe3o de aplica\xe7\xe3o e sua leitura humana. Pode incluir informa\xe7\xe3o personalizada nesse arquivo usando o comando ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4dv19/help/command/en/page667.html"}),"LOG EVENT")),(0,n.kt)("p",null,"Como iniciar esse log:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," SET DATABASE PARAMETER(Diagnostic log recording;1) //come\xe7a o registro\n")),(0,n.kt)("p",null,"Os campos abaixo est\xe3o registrados para cada evento:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Nome de campo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"sequenceNumber"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de opera\xe7\xe3o \xfanico e sequencial da sess\xe3o de hist\xf3rico")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"timestamp"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Data e hora em formato ISO 8601 (YYYY-MM-DDThh:mm:ss.mmm)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"loggerID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Opcional")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"componentSignature"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Opcional - assinatura interna de componente")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"messageLevel"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Informa\xe7\xe3o, Aviso, Erro")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"message"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o da entrada de hist\xf3rico")))),(0,n.kt)("p",null,"Dependendo do evento, v\xe1rios outros campos podem ser registrados, como task, socket, etc."),(0,n.kt)("h3",r({},{id:"diagnostic-log-levels"}),"Diagnostic log levels"),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"4DDiagnosticLog.txt")," file can log different levels of messages, from ",(0,n.kt)("inlineCode",{parentName:"p"},"ERROR")," (most important) to ",(0,n.kt)("inlineCode",{parentName:"p"},"TRACE")," (less important). By default, the ",(0,n.kt)("inlineCode",{parentName:"p"},"INFO")," level is set, which means that the file will log only important events, including errors and unexpected results (see below)."),(0,n.kt)("p",null,"You can select the level of messages using the ",(0,n.kt)("inlineCode",{parentName:"p"},"Diagnostic log level")," selector of the ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4dv19/help/command/en/page642.html"}),"SET DATABASE PARAMETER")," command, depending on your needs. When you select a level, levels above (which are more important) are implicitely selected also. Est\xe3o dispon\xedveis os seguintes n\xedveis:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"N\xedvel da mensagem"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Quando seleccionado, inclui"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ERROR"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Uma parte da aplica\xe7\xe3o n\xe3o funciona"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ERROR")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"WARN"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Potential error, use of a deprecated function, poor uses, undesirable or unexpected situation"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ERROR, WARN")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"INFO"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"td"},"Default level")," - Important application event"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ERROR, WARN, INFO")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"DEBUG"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Detail of application flow (for 4D technical services)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ERROR, WARN, INFO, DEBUG")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"TRACE"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Other internal information (for 4D technical services)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ERROR, WARN, INFO, DEBUG, TRACE")))),(0,n.kt)("h2",r({},{id:"4dsmtplogtxt-4dpop3logtxt-e-4dimaplogtxt"}),"4DSMTPLog.txt, 4DPOP3Log.txt, e 4DIMAPLog.txt"),(0,n.kt)("p",null,"Esses hist\xf3ricos registram cada troca entre a aplica\xe7\xe3o 4D e o servidor de mail (SMTP, POP3, IMAP) que foram iniciados pelos comandos abaixo:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"SMTP - ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20/API/SMTPTransporterClass#smtp-new-transporter"}),"SMTP New transporter")),(0,n.kt)("li",{parentName:"ul"},"POP3 - ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20/API/POP3TransporterClass#pop3-new-transporter"}),"POP3 New transporter")),(0,n.kt)("li",{parentName:"ul"},"IMAP  - ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20/API/IMAPTransporterClass#imap-new-transporter"}),"IMAP New transporter"))),(0,n.kt)("p",null,"Os arquivos de hist\xf3rico podem ser produzidos em duas vers\xf5es:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"uma vers\xe3o comum:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"chamada 4DSMTPLog.txt, 4DPOP3Log.txt, ou 4DIMAPLog.txt"),(0,n.kt)("li",{parentName:"ul"},"sem anexos"),(0,n.kt)("li",{parentName:"ul"},"usa um arquivo circular autom\xe1tico que \xe9 reciclado a cada 10MB"),(0,n.kt)("li",{parentName:"ul"},"para depura\xe7\xf5es comuns")),(0,n.kt)("p",{parentName:"li"},"Para come\xe7ar esse hist\xf3rico:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(SMTP Log;1) //start SMTP log \nSET DATABASE PARAMETER(POP3 Log;1) //start POP3 log \nSET DATABASE PARAMETER(IMAP Log;1) //start IMAP log\n")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"4D Server: Clique no bot\xe3o ",(0,n.kt)("strong",{parentName:"p"},"Start Request and Debug Logs")," na p\xe1gina ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4Dv18R5/4D/18-R5/Maintenance-Page.300-5149308.en.html"}),"Maintenance")," da janela de administra\xe7\xe3o de 4D Server.")),(0,n.kt)("p",null,"   A rota do hist\xf3rico \xe9 retornada pelo comando ",(0,n.kt)("inlineCode",{parentName:"p"},"Get 4D file"),"."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"uma vers\xe3o estendida:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"attachment(s) included no automatic recycling"),(0,n.kt)("li",{parentName:"ul"},"nome personalizado"),(0,n.kt)("li",{parentName:"ul"},"guardado para prop\xf3sitos espec\xedficos")),(0,n.kt)("p",{parentName:"li"},"Para come\xe7ar esse hist\xf3rico:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$server:=New object\n...\n//SMTP\n$server.logFile:="MySMTPAuthLog.txt"\n$transporter:=SMTP New transporter($server)\n\n// POP3\n$server.logFile:="MyPOP3AuthLog.txt"\n$transporter:=POP3 New transporter($server)\n\n//IMAP\n$server.logFile:="MyIMAPAuthLog.txt"\n$transporter:=IMAP New transporter($server)\n')))),(0,n.kt)("h4",r({},{id:"conte\xfados-2"}),"Conte\xfados"),(0,n.kt)("p",null,"Para cada peti\xe7\xe3o, os campos abaixo est\xe3o logados:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Coluna #"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"1"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de opera\xe7\xe3o \xfanico e sequencial da sess\xe3o de hist\xf3rico")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"2"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Data e hora em formato RFC3339 (yyyy-mm-ddThh:mm:ss.ms)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID de 4D Process")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID de processo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("ul",null,(0,n.kt)("li",null,"Informa\xe7\xe3o de in\xedcio de SMTP,POP3, ou sess\xe3o IMAP, incluindo nome de servidor host, n\xfamero de porta TCP usada para conectar com servidor SMTP,POP3, ou IMAP e status de TLS, ou"),(0,n.kt)("li",null,'troca de dados entre servidor e cliente, come\xe7ando com "S <" (dados recebidos de servidor SMTP,POP3, ou IMAP) ou "C >" (dados enviados pelo cliente SMTP,POP3, ou IMAP client): lista de modo autentica\xe7\xe3o enviada pelo servidor e seleciona modo autentica\xe7\xe3o, qualquer erro relatado por servidor SMTP,POP3, ou IMAP, informa\xe7\xe3o de cabe\xe7alho do mail enviado (apenas na vers\xe3o normal) e se o mail foi salvo no servidor, ou'),(0,n.kt)("li",null,"Informa\xe7\xe3o de fechamento de sess\xe3o de SMPT, POP3 ou IMAP.")))))),(0,n.kt)("h2",r({},{id:"pedidos-orda"}),"Pedidos ORDA"),(0,n.kt)("p",null,"Os registos de pedidos ORDA podem registar cada pedido ORDA e a resposta do servidor. Est\xe3o dispon\xedveis dois registos de pedidos ORDA:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"um registo de pedidos ORDA do lado do cliente, em formato .txt"),(0,n.kt)("li",{parentName:"ul"},"um registo de pedidos ORDA do lado do servidor, em formato .jsonl")),(0,n.kt)("h3",r({},{id:"do-lado-do-cliente"}),"Do lado do cliente"),(0,n.kt)("p",null,"The client-side ORDA log records each ORDA request sent from a remote machine. You can direct log information to memory or to a .txt file on disk of the remote machine. O nome e rota desse arquivo pode ser escolhido."),(0,n.kt)("p",null,"Como iniciar esse log:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'    //numa m\xe1quina remota\nSET DATABASE PARAMETER(Client Log Recording;1)  \nds.startRequestLog(File("/PACKAGE/Logs/ordaLog.txt")) \n    //pode tamb\xe9m ser enviado para a mem\xf3ria\nSET DATABASE PARAMETER(Client Log Recording;0)  \n')),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Triggering the client-side ",(0,n.kt)("a",r({parentName:"p"},{href:"#4drequestslogtxt"}),"4DRequestsLog.txt")," using ",(0,n.kt)("inlineCode",{parentName:"p"},"SET DATABASE PARAMETER")," is not mandatory. However, it is required if you want to log the unique ",(0,n.kt)("inlineCode",{parentName:"p"},"sequenceNumber")," field.")),(0,n.kt)("p",null,"Os campos abaixo s\xe3o registrados para cada peti\xe7\xe3o:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Campo nome"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Exemplo"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"sequenceNumber"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de opera\xe7\xe3o \xfanico e sequencial da sess\xe3o de hist\xf3rico"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"104")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"url"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Request URL"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"rest/Persons(30001)"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"startTime"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Data e hora de in\xedcio utilizando o formato ISO 8601"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"2019-05-28T08:25:12.346Z"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"endTime"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Data e hora final usando formato ISO 8601"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"2019-05-28T08:25:12.371Z"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"duration"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Dura\xe7\xe3o do processamento do cliente em milissegundos (ms)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"25")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"response"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto resposta servidor"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'{"status":200,"body":{"__entityModel":"Persons",',"[","...]")))),(0,n.kt)("h4",r({},{id:"exemplo"}),"Exemplo"),(0,n.kt)("p",null,"Here is an example of a client-side ORDA log file record:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-json"}),'    {\n        "sequenceNumber": 7880,\n        "url": "rest/Employees/$entityset/F910C2E4A2EE6B43BBEE74A0A4F68E5A/Salary?$compute=\'sum\'&$progress4Dinfo=\'D0706F1E77D4F24985BE4DDE9FFA1739\'",\n        "startTime": "2023-05-15T10:43:39.400Z",\n        "endTime": "2023-05-15T10:43:39.419Z",\n        "duration": 19,\n        "response": {\n            "status": 200,\n            "body": 75651\n        }\n    }\n')),(0,n.kt)("h3",r({},{id:"do-lado-do-servidor"}),"Do lado do servidor"),(0,n.kt)("p",null,"The server-side ORDA log records each ORDA request processed by the server, as well as the server response (optional). Log information is saved in a .jsonl file on the server machine disk (by default, ",(0,n.kt)("em",{parentName:"p"},"ordaRequests.jsonl"),")."),(0,n.kt)("p",null,"Como iniciar esse log:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'    //on the server\nSET DATABASE PARAMETER(4D Server log recording;1)\nds.startRequestLog(File("/PACKAGE/Logs/ordaRequests.jsonl");srl log response without body) \n    //srl... parameter is optional \nSET DATABASE PARAMETER(4D Server log recording;0) \n')),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Triggering the server-side ",(0,n.kt)("a",r({parentName:"p"},{href:"#4drequestslogtxt"}),"4DRequestsLog.txt")," using ",(0,n.kt)("inlineCode",{parentName:"p"},"SET DATABASE PARAMETER")," is not mandatory. However, it is required if you want to log the unique ",(0,n.kt)("inlineCode",{parentName:"p"},"sequenceNumber")," and the ",(0,n.kt)("inlineCode",{parentName:"p"},"duration")," fields.")),(0,n.kt)("p",null,"Os campos abaixo s\xe3o registrados para cada peti\xe7\xe3o:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Campo nome"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Exemplo"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"sequenceNumber"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de opera\xe7\xe3o \xfanico e sequencial da sess\xe3o de hist\xf3rico"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"104")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"url"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Request URL"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"rest/Persons(30001)"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"startTime"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Data e hora de in\xedcio utilizando o formato ISO 8601"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"2019-05-28T08:25:12.346Z"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"duration"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Dura\xe7\xe3o do processamento do servidor em microssegundos (\xb5)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"2500")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"response"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Server response object, can be configured in ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/pt/20/API/DataStoreClass#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()"))),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'{"status":200,"body":{"__entityModel":"Persons",',"[","...]")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ipAddress"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Endere\xe7o IP do usu\xe1rio"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"192.168.1.5"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"userName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome do usu\xe1rio 4D"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"henry"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"systemUserName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome de login do usu\xe1rio na m\xe1quina"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"hsmith"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"machineName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome da m\xe1quina do utilizador"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"PC of Henry Smith"')))),(0,n.kt)("h4",r({},{id:"exemplo-1"}),"Exemplo"),(0,n.kt)("p",null,"Here is an example of a server-side ORDA log record:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-json"}),'   {\n        "url": "rest/Employees/$entityset/F910C2E4A2EE6B43BBEE74A0A4F68E5A/Salary?$compute=\'sum\'&$progress4Dinfo=\'D0706F1E77D4F24985BE4DDE9FFA1739\'",\n        "systemUserName": "Admin",\n        "userName": "Designer",\n        "machineName": "DESKTOP-QSK9738",\n        "taskID": 5,\n        "taskName": "P_1",\n        "startTime": "2023-05-15T11:43:39.401",\n        "response": {\n            "status": 200,\n            "body": 75651\n        },\n        "sequenceNumber": 7008,\n        "duration": 240\n    }\n\n')),(0,n.kt)("h2",r({},{id:"using-a-log-configuration-file"}),"Using a log configuration file"),(0,n.kt)("p",null,"You can use a ",(0,n.kt)("strong",{parentName:"p"},"log configuration file")," to easily manage log recording in a production environment. Este ficheiro \xe9 pr\xe9-configurado pelo programador. Typically, it can be sent to customers so that they just need to select it or copy it in a local folder. Once enabled, the log configuration file triggers the recording of specific logs."),(0,n.kt)("h3",r({},{id:"como-activar-o-ficheiro"}),"Como activar o ficheiro"),(0,n.kt)("p",null,"There are several ways to enable the log configuration file, depending on your configuration:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"4D Server with interface"),": you can open the Maintenance page and click on the ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20/ServerWindow/maintenance#load-logs-configuration-file"}),"Load logs configuration file")," button, then select the file. In this case, you can use any name for the configuration file. \xc9 imediatamente ativado no servidor."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"an interpreted or compiled project"),": the file must be named ",(0,n.kt)("inlineCode",{parentName:"li"},"logConfig.json")," and copied in the ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20/Project/architecture#settings-1"}),"Settings folder")," of the project (located at the same level as the ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/20/Project/architecture#project-folder"}),(0,n.kt)("inlineCode",{parentName:"a"},"Project")," folder"),"). It is enabled at project startup (only on the server in client/server)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"a built application"),": the file must be named ",(0,n.kt)("inlineCode",{parentName:"li"},"logConfig.json")," and copied in the following folder:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Windows: ",(0,n.kt)("inlineCode",{parentName:"li"},"Users\\[userName]\\AppData\\Roaming\\[application]")),(0,n.kt)("li",{parentName:"ul"},"macOS: ",(0,n.kt)("inlineCode",{parentName:"li"},"/Users/[userName]/Library/ApplicationSupport/[application]")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"all projects with a stand-alone or remote 4D"),": the file must be named ",(0,n.kt)("inlineCode",{parentName:"li"},"logConfig.json")," and copied in the following folder:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Windows: ",(0,n.kt)("inlineCode",{parentName:"li"},"Users\\[userName]\\AppData\\Roaming\\4D")),(0,n.kt)("li",{parentName:"ul"},"macOS: ",(0,n.kt)("inlineCode",{parentName:"li"},"/Users/[userName]/Library/ApplicationSupport/4D")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"all projects with 4D Server"),": the file must be named ",(0,n.kt)("inlineCode",{parentName:"li"},"logConfig.json")," and copied in the following folder:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Windows: ",(0,n.kt)("inlineCode",{parentName:"li"},"Users\\[userName]\\AppData\\Roaming\\4D Server")),(0,n.kt)("li",{parentName:"ul"},"macOS: ",(0,n.kt)("inlineCode",{parentName:"li"},"/Users/[userName]/Library/ApplicationSupport/4D Server"))))),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"If a ",(0,n.kt)("inlineCode",{parentName:"p"},"logConfig.json")," file is installed in both Settings and AppData/Library folders, the Settings folder file will have priority.")),(0,n.kt)("h3",r({},{id:"descri\xe7\xe3o-do-ficheiro-json"}),"Descri\xe7\xe3o do ficheiro JSON"),(0,n.kt)("p",null,"The log configuration file is a ",(0,n.kt)("inlineCode",{parentName:"p"},".json")," file that must comply with the following json schema:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-json"}),'{\n    "$schema": "http://json-schema.org/draft-07/schema",\n    "title": "Logs Configuration File",\n    "description": "A file that controls the state of different types of logs in 4D clients and servers",\n    "type": "object",\n    "properties": {\n        "forceConfiguration": {\n            "description": "Forcing the logs configuration described in the file ingoring changes coming from code or user interface",\n            "type": "boolean",\n            "default": true\n        },\n        "requestLogs": {\n            "description": "Configuration for request logs",\n            "type": "object",\n            "properties": {\n                "clientState": {\n                    "description": "Enable/Disable client request logs (from 0 to N)",\n                    "type": "integer",\n                    "minimum": 0\n                },\n                "serverState": {\n                    "description": "Enable/Disable server request logs (from 0 to N)",\n                    "type": "integer",\n                    "minimum": 0\n                }\n            }\n        },\n        "debugLogs": {\n            "description": "Configuration for debug logs",\n            "type": "object",\n            "properties": {\n                "commandList": {\n                    "description": "Commands to log or not log",\n                    "type": "array",\n                    "items": {\n                        "type": "string"\n                    },\n                    "minItems": 1,\n                    "uniqueItems": true\n                },\n                "state": {\n                    "description": "integer to specify type of debuglog and options",\n\n                    "type": "integer",\n                    "minimum": 0\n                }\n            }\n        },\n        "diagnosticLogs":{\n            "description": "Configuration for debug logs",\n            "type": "object",\n            "properties": {\n                "state":{\n                    "description": "Enable/Disable diagnostic logs 0 or 1 (0 = do not record, 1 = record)",\n                    "type": "integer",\n                    "minimum": 0    \n                },\n                "level": {\n              "description": "Configure diagnostic logs",\n              "type": "integer",\n              "minimum": 2,\n              "maximum": 6\n          }\n            }\n          },\n        "httpDebugLogs": {\n            "description": "Configuration for http debug logs",\n            "type": "object",\n            "properties": {\n                "level": {\n                    "description": "Configure http request logs",\n                    "type": "integer",\n                    "minimum": 0,\n                    "maximum": 7\n                },\n                "state": {\n                    "description":\n')),(0,n.kt)("h3",r({},{id:"exemplo-2"}),"Exemplo"),(0,n.kt)("p",null,"Aqui est\xe1 um exemplo de ficheiro de configura\xe7\xe3o de log:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-json"}),'{\n "forceLoggingConfiguration": false,\n "requestLogs": {\n  "clientState": 1,\n  "serverState": 1\n },\n "debugLogs": {\n  "commandList":["322","311","112"],\n        "state": 4\n },\n "diagnosticLogs":{\n        "state" : 1\n },\n "httpDebugLogs": {\n  "level": 5,\n        "state" : 1\n },\n "POP3Logs": {\n        "state" : 1\n },\n "SMTPLogs": {\n        "state" : 1\n },\n "IMAPLogs": {\n        "state" : 1\n },\n "ORDALogs": {\n        "state" : 1,\n  "filename": "ORDALog.txt"\n }\n}\n')))}u.isMDXComponent=!0},40618:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/logRequestFlow-4d1667b5e86f1ae2bb483f71b5ee3414.PNG"}}]);