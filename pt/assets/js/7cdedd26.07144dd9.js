"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["94927"],{85914:function(e,a,r){r.r(a),r.d(a,{default:()=>p,frontMatter:()=>n,metadata:()=>i,assets:()=>d,toc:()=>c,contentTitle:()=>t});var i=JSON.parse('{"id":"MSC/repair","title":"P\xe1gina de repara\xe7\xe3o","description":"Esta p\xe1gina \xe9 utilizada para reparar o ficheiro de dados quando este foi danificado. Generalmente, s\xf3lo utilizar\xe1 estas funciones bajo la supervisi\xf3n de los equipos t\xe9cnicos de 4D, cuando se hayan detectado anomal\xedas al abrir la aplicaci\xf3n o tras una verificaci\xf3n.","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R7/MSC/repair.md","sourceDirName":"MSC","slug":"/MSC/repair","permalink":"/docs/pt/MSC/repair","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20MSC%2Frepair.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"repair","title":"P\xe1gina de repara\xe7\xe3o","sidebar_label":"P\xe1gina de repara\xe7\xe3o"},"sidebar":"docs","previous":{"title":"P\xe1gina Restaura\xe7\xe3o","permalink":"/docs/pt/MSC/restore"},"next":{"title":"P\xe1gina de criptografia","permalink":"/docs/pt/MSC/encrypt"}}'),o=r("785893"),s=r("250065");let n={id:"repair",title:"P\xe1gina de repara\xe7\xe3o",sidebar_label:"P\xe1gina de repara\xe7\xe3o"},t=void 0,d={},c=[{value:"overview",id:"overview",level:2},{value:"Ficheiro de dados a reparar",id:"ficheiro-de-dados-a-reparar",level:3},{value:"Pasta de c\xf3pia de seguran\xe7a dos ficheiros originais",id:"pasta-de-c\xf3pia-de-seguran\xe7a-dos-ficheiros-originais",level:3},{value:"Ficheiros reparados",id:"ficheiros-reparados",level:3},{value:"Repara\xe7\xe3o standard",id:"repara\xe7\xe3o-standard",level:2},{value:"Recuperar por cabe\xe7alhos de registos",id:"recuperar-por-cabe\xe7alhos-de-registos",level:2},{value:"Atribui\xe7\xe3o manual",id:"atribui\xe7\xe3o-manual",level:3},{value:"Abrir arquivo de registo",id:"abrir-arquivo-de-registo",level:2}];function l(e){let a={a:"a",blockquote:"blockquote",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.p,{children:["Esta p\xe1gina \xe9 utilizada para reparar o ficheiro de dados quando este foi danificado. Generalmente, s\xf3lo utilizar\xe1 estas funciones bajo la supervisi\xf3n de los equipos t\xe9cnicos de 4D, cuando se hayan detectado anomal\xedas al abrir la aplicaci\xf3n o tras una ",(0,o.jsx)(a.a,{href:"/docs/pt/MSC/verify",children:"verificaci\xf3n"}),"."]}),"\n",(0,o.jsxs)(a.p,{children:[(0,o.jsx)(a.strong,{children:"Atenci\xf3n:"})," cada operaci\xf3n de reparaci\xf3n implica la duplicaci\xf3n del archivo original, lo que aumenta el tama\xf1o de la carpeta de la aplicaci\xf3n. \xc9 importante ter isto em conta (especialmente em macOS onde as aplica\xe7\xf5es 4D aparecem como pacotes) para que o tamanho da aplica\xe7\xe3o n\xe3o aumente excessivamente. Manually removing the copies of the original file inside the package can be useful to minimize the package size."]}),"\n",(0,o.jsxs)(a.blockquote,{children:["\n",(0,o.jsx)(a.p,{children:"Data compacting, rollback, restore, repair, and encryption functions can only be used with data files that are not open (the MSC must have been opened in maintenance mode). Se tentar fazer essa opera\xe7\xe3o em modo padr\xe3o, um aviso informar\xe1 que o banco de dados ser\xe1 fechado e reiniciado em modo manuten\xe7\xe3o."}),"\n"]}),"\n",(0,o.jsxs)(a.blockquote,{children:["\n",(0,o.jsx)(a.p,{children:"Quando o banco de dados est\xe1 encriptado, a repara\xe7\xe3o dos dados inclui passos de desencripta\xe7\xe3o e encripta\xe7\xe3o e, por isso, requer a chave de encripta\xe7\xe3o de dados atual. If no valid encryption key has already been provided, a dialog requesting the passphrase or the encryption key is displayed (see Encrypt page)."}),"\n"]}),"\n",(0,o.jsx)(a.h2,{id:"overview",children:"overview"}),"\n",(0,o.jsx)(a.h3,{id:"ficheiro-de-dados-a-reparar",children:"Ficheiro de dados a reparar"}),"\n",(0,o.jsxs)(a.p,{children:["Nome do caminho do ficheiro de dados atual. El bot\xf3n ",(0,o.jsx)(a.strong,{children:"[...]"})," puede utilizarse para especificar otro archivo de datos. When you click on this button, a standard Open document dialog is displayed so that you can designate the data file to be repaired. Si realiza una ",(0,o.jsx)(a.a,{href:"#standard-repair",children:"reparaci\xf3n est\xe1ndar"}),", debe seleccionar un archivo de datos que sea compatible con el archivo proyecto abierto. Si realiza una reparaci\xf3n ",(0,o.jsx)(a.a,{href:"#recover-by-record-headers",children:"reparaci\xf3n por encabezados de registros"}),", puede seleccionar todo archivo de datos. Once this dialog has been validated, the pathname of the file to be repaired is indicated in the window."]}),"\n",(0,o.jsx)(a.h3,{id:"pasta-de-c\xf3pia-de-seguran\xe7a-dos-ficheiros-originais",children:"Pasta de c\xf3pia de seguran\xe7a dos ficheiros originais"}),"\n",(0,o.jsxs)(a.p,{children:["By default, the original data file will be duplicated before the repair operation. By default, the original data file will be duplicated before the repair operation. El segundo bot\xf3n ",(0,o.jsx)(a.strong,{children:"[...]"})," se puede utilizar para especificar otra ubicaci\xf3n para guardar los archivos originales antes de iniciar la reparaci\xf3n. This option can be used more particularly when repairing voluminous files while using different disks."]}),"\n",(0,o.jsx)(a.h3,{id:"ficheiros-reparados",children:"Ficheiros reparados"}),"\n",(0,o.jsx)(a.p,{children:"4D cria um ficheiro de dados em branco no local do ficheiro original. 4D creates a new blank data file at the location of the original file. O ficheiro em branco \xe9 preenchido com os dados recuperados."}),"\n",(0,o.jsx)(a.h2,{id:"repara\xe7\xe3o-standard",children:"Repara\xe7\xe3o standard"}),"\n",(0,o.jsx)(a.p,{children:"A repara\xe7\xe3o padr\xe3o deve ser escolhida quando apenas alguns registos ou \xedndices est\xe3o danificados (as tabelas de endere\xe7os est\xe3o intactas). Os dados s\xe3o compactados e reparados. This type of repair can only be performed when the data and structure file match."}),"\n",(0,o.jsxs)(a.p,{children:['When the repair procedure is finished, the "Repair" page of the MSC is displayed. Uma mensagem indica se a repara\xe7\xe3o foi bem sucedida. Se for assim, pode abrir o banco de dados imediatamente.\n',(0,o.jsx)(a.img,{src:r(88968).Z+"",width:"225",height:"45"})]}),"\n",(0,o.jsx)(a.h2,{id:"recuperar-por-cabe\xe7alhos-de-registos",children:"Recuperar por cabe\xe7alhos de registos"}),"\n",(0,o.jsx)(a.p,{children:"Use this low-level repair option only when the data file is severely damaged and after all other solutions (restoring from a backup, standard repair) have proven to be ineffective."}),"\n",(0,o.jsx)(a.p,{children:"4D records vary in size, so it is necessary to keep the location where they are stored on disk in a specific table, named address table, in order to find them again. The program therefore accesses the address of the record via an index and the address table. If only records or indexes are damaged, the standard repair option is usually sufficient to resolve the problem. However, when the address table itself is affected, it requires a more sophisticated recovery since it will be necessary to reconstitute it. To do this, the MSC uses the marker located in the header of each record. The markers are compared to a summary of the record, including the bulk of their information, and from which it is possible to reconstruct the address table."}),"\n",(0,o.jsxs)(a.blockquote,{children:["\n",(0,o.jsxs)(a.p,{children:["Si ha desmarcado la opci\xf3n ",(0,o.jsx)(a.strong,{children:"Registros eliminados definitivamente"})," en las propiedades de una tabla en la estructura, la reparaci\xf3n por marcadores de encabezados puede hacer que vuelvan a aparecer los registros que se eliminaron anteriormente."]}),"\n",(0,o.jsxs)(a.p,{children:["A recupera\xe7\xe3o por cabe\xe7alhos n\xe3o tem em conta as restri\xe7\xf5es de integridade. M\xe1s concretamente, tras esta operaci\xf3n puede obtener valores duplicados con campos \xfanicos o valores NULL con campos declarados ",(0,o.jsx)(a.strong,{children:"Nunca Null"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(a.p,{children:["Al hacer clic en ",(0,o.jsx)(a.strong,{children:"Escanear y reparar..."}),", 4D realiza un an\xe1lisis completo del archivo de datos. Quando a verifica\xe7\xe3o estiver conclu\xedda, os resultados aparecem na janela seguinte:"]}),"\n",(0,o.jsx)(a.p,{children:(0,o.jsx)(a.img,{src:r(221033).Z+"",width:"906",height:"683"})}),"\n",(0,o.jsxs)(a.blockquote,{children:["\n",(0,o.jsx)(a.p,{children:"Se todos os registos e todas as tabelas tiverem sido atribu\xeddos, apenas a \xe1rea principal \xe9 mostrada."}),"\n"]}),"\n",(0,o.jsx)(a.p,{children:'The "Records found in the data file" area includes two tables summarizing the information from the scan of the data file.'}),"\n",(0,o.jsxs)(a.ul,{children:["\n",(0,o.jsxs)(a.li,{children:["\n",(0,o.jsx)(a.p,{children:"A primeira tabela lista as informa\xe7\xf5es provenientes da verifica\xe7\xe3o do ficheiro de dados. Cada linha mostra um grupo de registos recuper\xe1veis no ficheiro de dados:"}),"\n",(0,o.jsxs)(a.ul,{children:["\n",(0,o.jsxs)(a.li,{children:["La columna ",(0,o.jsx)(a.strong,{children:"Orden"})," indica el orden de recuperaci\xf3n del grupo de registros."]}),"\n",(0,o.jsxs)(a.li,{children:["La columna ",(0,o.jsx)(a.strong,{children:"N\xfamero"})," indica el n\xfamero de los registros de la tabla."]}),"\n",(0,o.jsxs)(a.li,{children:["La columna ",(0,o.jsx)(a.strong,{children:"Tabla de destino"})," indica los nombres de las tablas que se asignaron autom\xe1ticamente a los grupos de registros identificados. Os nomes das tabelas atribu\xeddas aparecem automaticamente a verde. Groups that were not assigned, i.e. tables that could not be associated with any records appear in red."]}),"\n",(0,o.jsxs)(a.li,{children:["La columna ",(0,o.jsx)(a.strong,{children:"Recuperar"})," le permite indicar, para cada grupo, si quiere recuperar los registros. By default, this option is checked for every group with records that can be associated with a table."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(a.li,{children:["\n",(0,o.jsx)(a.p,{children:"A segunda tabela lista as tabelas do ficheiro de projeto."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(a.h3,{id:"atribui\xe7\xe3o-manual",children:"Atribui\xe7\xe3o manual"}),"\n",(0,o.jsx)(a.p,{children:'If several groups of records could not be assigned to tables due to a damaged address table, you can assign them manually.\nPara fazer isso, primeiro selecione um grupo de registros n\xe3o atribu\xeddo na primeira tabela. The "Content of the records" area then displays a preview of the contents of the first records of the group to make it easier to assign them:'}),"\n",(0,o.jsx)(a.p,{children:(0,o.jsx)(a.img,{src:r(524909).Z+"",width:"903",height:"682"})}),"\n",(0,o.jsxs)(a.p,{children:['A continuaci\xf3n, seleccione la tabla que desea asignar al grupo en la tabla "Tablas no asignadas" y haga clic en el bot\xf3n ',(0,o.jsx)(a.strong,{children:"Identificar tabla"}),". Tamb\xe9m pode atribuir uma tabela utilizando a fun\xe7\xe3o arrastar e largar.\nThe group of records is then associated with the table and it will be recovered in this table. Os nomes das tabelas atribu\xeddas manualmente aparecem a preto.\nUtilice el bot\xf3n ",(0,o.jsx)(a.strong,{children:"Ignorar registros"})," para eliminar la asociaci\xf3n realizada manualmente entre la tabla y el grupo de registros."]}),"\n",(0,o.jsx)(a.h2,{id:"abrir-arquivo-de-registo",children:"Abrir arquivo de registo"}),"\n",(0,o.jsxs)(a.p,{children:["Depois que a repara\xe7\xe3o terminar, 4D gera um arquivo de hist\xf3rico na pasta Logs do banco de dados. Este arquivo permite visualizar todas as opera\xe7\xf5es efectuadas. \xc9 criado no formato XML e chamado: ",(0,o.jsx)(a.em,{children:"DatabaseName**_Repair_Log_yyyy-mm-dd hh-mm-ss.xml"}),'" onde:']}),"\n",(0,o.jsxs)(a.ul,{children:["\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.em,{children:"ApplicationName"}),' es el nombre del archivo del proyecto sin ninguna extensi\xf3n, por ejemplo "Facturas",']}),"\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.em,{children:"yyyy-mm-dd hh-mm-ss"}),' es la marca de tiempo del archivo, basada en la hora del sistema local cuando se inici\xf3 la operaci\xf3n de mantenimiento, por ejemplo "2019-02-11 15-20-45".']}),"\n"]}),"\n",(0,o.jsxs)(a.p,{children:["Al presionar el bot\xf3n ",(0,o.jsx)(a.strong,{children:"Abrir archivo de historial"}),", 4D muestra el archivo de historial m\xe1s reciente en el navegador por defecto de la m\xe1quina."]})]})}function p(e={}){let{wrapper:a}={...(0,s.a)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},88968:function(e,a,r){r.d(a,{Z:function(){return i}});let i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAAAtCAIAAADX+5viAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAASdEVYdFNvZnR3YXJlAEdyZWVuc2hvdF5VCAUAAAPcSURBVHhe7ZdBaxNBFMf7qXISD/Ugiih48KAIEYXeRDz3HlD8JLlJta0IIhZpEBLtxZNCL4k2mkZqhXpydt7M7JuZt5vdJGYH/f8ouvvmzZv3Jj9CuzYFIG3gKEgdOApSB46C1IGjIHXgKEgdOApSB46C1IGjIHXgKEgdOApSB46C1GnY0U5rLaTV6fd1uN01STVZbLdHt21b0k/qfwplD+Us2ETFUxpn3j5rXU8S36PUcT7qX3VUX2uV2l5XcFQEjprXmpTv1rdaw9EwE44ug1rXszRHD4bH5qk+1HHoaKuV/csXKE5EHyBfVGTzR/kkqEFlFBf0qqlMJw23p6QfWgpGEPJZR/wTo1PabW+7QjwxDlLV+AIJnk+nFlQIGyhKU49VagYn+xOXsBxHH/fH554Otz99N+81odbtIN47Peph9H3QWCxqoE8lz/Pnd1cpripYgsM7xCXkmfqJluN+5BEstoh0rEYv8O3FJ0rBaLt3OoXycytVcNkZejWLuIfqNXWQPc5mCY4+6o8v73y52zu98Hw0n6bhLbipFP51eLAR+cx8t727DKof3k6U4PDq+G3M7EcewcU1KuLegqOFLaqUeGJJUJ9Ou736Qai4QtiAe9Zkqy6tQk3WlFdyJos6SoLeH5w9/PB7492v+TQNBvQmsLcQ5viI81Mw22KLBJligsO7R5dgH8r7EUeQj6No/q7hCbaUeKLcBtXUpwsJfqikgglShpUsC7pV91ChJmvKldQLs1jIUS4o/dx4Pb26O/pW81fTcCQ+QXALbq5uh98Aq+Dy8hhb5bXlBAfLZG1U68fbbLZ0i49zRS06QJG8kniiGKTtOhadFYVKKngN5NvyJ9d4hZosJV8O9onM72gs6O23J5e2Rx9Htf94ChuldxqQf3xmNCKci27Vke22IfrjwW6wUZUhJxh4F3kb7sFlGPzd4gjRcTag8LezhQzTRMGJcZC261206FWPQ0UVHGwQRX5dOpI9VKkpVRXai5AdfXM4ufly9Pmo0LYlCgpSxMmXAIKje4eT9WfD66+Or+3Kmqq/4iHoP07KjqpvUCXovd6pMu/W3o9YU3yD/hck6+jBcHJ+a3Rn/6fzL9AUgoLVE36PbvaOrrw4esAsNJqOIShoBuH3UVHT9a0hBAWNIDiqiDXd6J1AUNAIsqOKzX2t6XsjJf+BoGCVFDqqEDWFoGDFlDmqCDSFoGD1zHBUYTQdnEFQ0AizHVUoTS/ufIWgoBEqOap4MhhDUNAIVR0FoCngKEgdOApSB46C1IGjIHXgKEgdOApSB46C1IGjIHXgKEgdOArSZjr9Az4Tm0/7xRlRAAAAAElFTkSuQmCC"},221033:function(e,a,r){r.d(a,{Z:function(){return i}});let i=r.p+"assets/images/mscrepair2-70f7dc0be1529255122f9c117f88d8a0.png"},524909:function(e,a,r){r.d(a,{Z:function(){return i}});let i=r.p+"assets/images/mscrepair3-fca9ba66ac4c95138c0a5560adae3d30.png"},250065:function(e,a,r){r.d(a,{Z:function(){return t},a:function(){return n}});var i=r(667294);let o={},s=i.createContext(o);function n(e){let a=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:n(e.components),i.createElement(s.Provider,{value:a},e.children)}}}]);