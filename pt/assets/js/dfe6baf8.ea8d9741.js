"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["28355"],{951414:function(e,n,a){a.r(n),a.d(n,{metadata:()=>r,contentTitle:()=>m,default:()=>l,assets:()=>d,toc:()=>t,frontMatter:()=>o});var r=JSON.parse('{"id":"commands-legacy/set-picture-to-library","title":"SET PICTURE TO LIBRARY","description":"SET PICTURE TO LIBRARY ( imagem ; refImag ; nomeImagem )","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/set-picture-to-library.md","sourceDirName":"commands-legacy","slug":"/commands/set-picture-to-library","permalink":"/docs/pt/commands/set-picture-to-library","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fset-picture-to-library.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"set-picture-to-library","title":"SET PICTURE TO LIBRARY","slug":"/commands/set-picture-to-library","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"SET PICTURE METADATA","permalink":"/docs/pt/commands/set-picture-metadata"},"next":{"title":"TRANSFORM PICTURE","permalink":"/docs/pt/commands/transform-picture"}}'),i=a("785893"),s=a("250065");let o={id:"set-picture-to-library",title:"SET PICTURE TO LIBRARY",slug:"/commands/set-picture-to-library",displayed_sidebar:"docs"},m=void 0,d={},t=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo 1",id:"exemplo-1",level:4},{value:"Exemplo 2",id:"exemplo-2",level:4},{value:"Gest\xe3o de erros",id:"gest\xe3o-de-erros",level:4},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:4}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"SET PICTURE TO LIBRARY"})," ( ",(0,i.jsx)(n.em,{children:"imagem"})," ; ",(0,i.jsx)(n.em,{children:"refImag"})," ; ",(0,i.jsx)(n.em,{children:"nomeImagem"})," )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Par\xe2metro"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{}),(0,i.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"imagem"}),(0,i.jsx)(n.td,{children:"Picture"}),(0,i.jsx)(n.td,{children:"\u2192"}),(0,i.jsx)(n.td,{children:"Nova Imagem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"refImag"}),(0,i.jsx)(n.td,{children:"Integer"}),(0,i.jsx)(n.td,{children:"\u2192"}),(0,i.jsx)(n.td,{children:"N\xfamero de refer\xeancia da Biblioteca de Imagens"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"nomeImagem"}),(0,i.jsx)(n.td,{children:"Text"}),(0,i.jsx)(n.td,{children:"\u2192"}),(0,i.jsx)(n.td,{children:"Novo nome da imagem"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Esse comando n\xe3o \xe9 seguro para thread e n\xe3o pode ser usado em c\xf3digo adequado."})}),"\n",(0,i.jsx)(n.h4,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsx)(n.p,{children:"O comando SET PICTURE TO LIBRARY cria uma nova imagem ou substitui uma imagem existente na biblioteca de imagens."}),"\n",(0,i.jsx)(n.p,{children:"Antes de chamar o comando, voc\xea passa:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["o n\xfamero de refer\xeancia da imagem em ",(0,i.jsx)(n.em,{children:"refImag"})," (entre 1 e 32767 )"]}),"\n",(0,i.jsxs)(n.li,{children:["a imagem mesma em ",(0,i.jsx)(n.em,{children:"imagem"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["o nome da imagem em ",(0,i.jsx)(n.em,{children:"nomeImagem"})," (longitude m\xe1xima: 255 caracteres)."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Se houver uma imagem na biblioteca de imagens com o mesmo n\xfamero de refer\xeancia, seu conte\xfado ser\xe1 substitu\xeddo e a imagem \xe9 renomeado com os valores passados em ",(0,i.jsx)(n.em,{children:"imagem"})," e ",(0,i.jsx)(n.em,{children:"nomeImagem."})]}),"\n",(0,i.jsxs)(n.p,{children:["Se n\xe3o houver uma imagem na biblioteca de imagens com o n\xfamero de refer\xeancia passado em ",(0,i.jsx)(n.em,{children:"refImag"}),", uma nova imagem se adiciona a biblioteca de imagens."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"4D Server:"})," SET PICTURE TO LIBRARY n\xe3o pode ser utilizado dentro de um m\xe9todo executado na m\xe1quina servidor (procedimento armazenado ou trigger). Se chama SET PICTURE TO LIBRARY em uma m\xe1quina servidor, n\xe3o acontece nada, a chamada \xe9 ignorada."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Advert\xeancia:"})," os objetos de estrutura (elementos de listas hier\xe1rquicas, linhas de menu, etc.) podem ser referidas a uma imagem da biblioteca de imagens. Seja prudente quando modifique por programa\xe7\xe3o uma imagem da biblioteca de imagens."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Nota:"})," se passa uma imagem vazia em ",(0,i.jsx)(n.em,{children:"imagem"})," ou um valor negativo ou nulo em ",(0,i.jsx)(n.em,{children:"refImag"}),", o comando n\xe3o faz nada."]}),"\n",(0,i.jsx)(n.h4,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,i.jsx)(n.p,{children:"Sem importar o conte\xfado atual da biblioteca de imagens, o exemplo a seguir adiciona uma nova imagem \xe0 biblioteca buscando primeiro um n\xfamero de refer\xeancia de uma imagem \xfanica:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'\xa0PICTURE LIBRARY LIST($alRefImag;$asNomsImag)\n\xa0Repeat\n\xa0\xa0\xa0\xa0$vlRefImag:=1+Abs(Random)\n\xa0Until(Find in array($alRefImag;$vlRefImag)<0)\n\xa0SET PICTURE TO LIBRARY(vgImagem;$vlRefImag;"Nova Imagem")\n'})}),"\n",(0,i.jsx)(n.h4,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,i.jsxs)(n.p,{children:["O exemplo a seguir importa na biblioteca de imagens as imagens (armazenadas em um documento em disco) criadas pelo terceiro exemplo do comando ",(0,i.jsx)(n.a,{href:"/docs/pt/commands/picture-library-list",title:"PICTURE LIBRARY LIST",children:"PICTURE LIBRARY LIST"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'\xa0SET CHANNEL(10;"")\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0RECEIVE VARIABLE($vsTag)\n\xa0\xa0\xa0\xa0If($vsTag="4DV6PICTURELIBRARYEXPORT")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0RECEIVE VARIABLE($vlNbImagens)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0If($vlNbImagens>0)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0For($vlImag;1;$vlNbImagens)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0RECEIVE VARIABLE($vlPicRef)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(OK=1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0RECEIVE VARIABLE($vsNomImag)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(OK=1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0RECEIVE VARIABLE($vgImag)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(OK=1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0SET PICTURE TO LIBRARY($vgImag;$vlRefImag;$vsNomImag)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0$vlImag:=$vlNbImagens+1\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0ALERT("Este arquivo parece estar danificado.")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0End for\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0ALERT("Este arquivo parece estar danificado.")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0ALERT("O arquivo \u201C"+Document+"\u201D n\xe3o \xe9 um arquivo de exporta\xe7\xe3o da biblioteca de imagens.")\n\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0SET CHANNEL(11)\n\xa0End if\n'})}),"\n",(0,i.jsx)(n.h4,{id:"gest\xe3o-de-erros",children:"Gest\xe3o de erros"}),"\n",(0,i.jsx)(n.p,{children:"Se n\xe3o houver suficiente mem\xf3ria para adicionar a imagem \xe0 biblioteca de imagens, se gera um erro -108. Note que os erros E/S tamb\xe9m podem ser gerados (se por exemplo o arquivo de estrutura est\xe1 bloqueado). Pode interceptar estes erros com um m\xe9todo de gest\xe3o de erros."}),"\n",(0,i.jsx)(n.h4,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/docs/pt/commands/get-picture-from-library",children:"GET PICTURE FROM LIBRARY"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.a,{href:"/docs/pt/commands/picture-library-list",children:"PICTURE LIBRARY LIST"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.a,{href:"/docs/pt/commands/remove-picture-from-library",children:"REMOVE PICTURE FROM LIBRARY"})]})]})}function l(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},250065:function(e,n,a){a.d(n,{Z:function(){return m},a:function(){return o}});var r=a(667294);let i={},s=r.createContext(i);function o(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function m(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);