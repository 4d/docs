"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["75754"],{178765:function(e,n,o){o.r(n),o.d(n,{frontMatter:()=>d,toc:()=>c,default:()=>u,metadata:()=>i,assets:()=>a,contentTitle:()=>t});var i=JSON.parse('{"id":"commands-legacy/current-client-authentication","title":"Current client authentication","description":"Current client authentication {( dominio ; protocolo )} : Text","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R10/commands-legacy/current-client-authentication.md","sourceDirName":"commands-legacy","slug":"/commands/current-client-authentication","permalink":"/docs/pt/commands/current-client-authentication","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fcurrent-client-authentication.md%20(20-R10)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R10","frontMatter":{"id":"current-client-authentication","title":"Current client authentication","slug":"/commands/current-client-authentication","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"Count screens","permalink":"/docs/pt/commands/count-screens"},"next":{"title":"Current machine","permalink":"/docs/pt/commands/current-machine"}}'),r=o(785893),s=o(250065);let d={id:"current-client-authentication",title:"Current client authentication",slug:"/commands/current-client-authentication",displayed_sidebar:"docs"},t=void 0,a={},c=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:2},{value:"N\xedvel de seguran\xe7a da autentica\xe7\xe3o",id:"n\xedvel-de-seguran\xe7a-da-autentica\xe7\xe3o",level:3},{value:"Exemplo",id:"exemplo",level:2},{value:"Propriedades",id:"propriedades",level:2}];function l(e){let n={br:"br",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Current client authentication"})," {( ",(0,r.jsx)(n.em,{children:"dominio"})," ; ",(0,r.jsx)(n.em,{children:"protocolo"})," )} : Text"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe2metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"dominio"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"NOme do dominio"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"protocolo"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:'"Kerberos", "NTLM" ou string vazia'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultado"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"login do usu\xe1rio da sess\xe3o retornado por windows"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["O comando ",(0,r.jsx)(n.strong,{children:"Current client authentication"})," pede ao servidor Active Directory de Windows autenticar o cliente atual e se tiver \xeaxito, devolve o nome de in\xedcio de sess\xe3o de Windows para este cliente (identificador de sess\xe3o). Se a autentica\xe7\xe3o falhar, se devolve uma string vazia."]}),"\n",(0,r.jsxs)(n.p,{children:["Este comando s\xf3 pode ser utilizado no contexto de uma implementa\xe7\xe3o SSO em Windows com 4D Server. Para saber mais consulte ",(0,r.jsx)(n.em,{children:"Single Sign On (SSO) em Windows"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Em geral, o cliente e o servidor devem ser gerenciados pelo mesmo Active Directory. Entretanto, diferentes configura\xe7\xf5es podem ser suportadas, como se descreve na se\xe7\xe3o ",(0,r.jsx)(n.em,{children:"Exig\xeancias para SSO"}),"."]}),"\n",(0,r.jsx)(n.p,{children:'A string devolvida pelo comando deve ser passada a seu m\xf3dulo de identifica\xe7\xe3o 4D para conceder os direitos de acesso ao cliente em fun\xe7\xe3o de seu identificador de sess\xe3o de Windows; se definir um "usuario padr\xe3o", pode implementar uma interface onde o usu\xe1rio n\xe3o tenha que voltar a introduzir os ID (ver exemplo).'}),"\n",(0,r.jsx)(n.p,{children:"Opcionalmente, o comando pode devolver dois par\xe2metros de texto:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"dominio"}),": nome de dominio ao que pertence o cliente."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"protocolo"}),': nome de protocolo utilizado por Windows para autenticar o usu\xe1rio. Pode ser "Kerberos" ou "NTLM", dependendo dos recursos dispon\xedveis. Se a autentica\xe7\xe3o falhar, se devolve uma string vazia ("").']}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Estes par\xe2metros podem ser utilizar para aceitar ou recusar as conex\xf5es se desejar filtrar o acesso em rela\xe7\xe3o com o dom\xednio ou o protocolo."}),"\n",(0,r.jsx)(n.h3,{id:"n\xedvel-de-seguran\xe7a-da-autentica\xe7\xe3o",children:"N\xedvel de seguran\xe7a da autentica\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["O n\xedvel de seguran\xe7a da autentica\xe7\xe3o (ou seja, em quanto se pode confiar no in\xedcio de sess\xe3o de usu\xe1rio) depende da forma em que o usu\xe1rio tenha sido identificado. O valor devolvido nos par\xe2metros do comando ",(0,r.jsx)(n.strong,{children:"Current client authentication"})," permitir\xe3o conhecer em que se baseia o in\xedcio de sess\xe3o (se houver) e, portanto, o n\xedvel de seguran\xe7a:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Login"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"dom\xednio"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"protocolo"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Coment\xe1rios"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"vazio"}),(0,r.jsx)(n.td,{children:"vazio"}),(0,r.jsx)(n.td,{children:"vazio"}),(0,r.jsx)(n.td,{children:"O comando n\xe3o p\xf4de obter informa\xe7\xe3o de autentica\xe7\xe3o sobre o usu\xe1rio que iniciou sess\xe3o"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"preenchido"}),(0,r.jsx)(n.td,{children:"vazio"}),(0,r.jsx)(n.td,{children:"NTLM"}),(0,r.jsx)(n.td,{children:"A ID devolvida \xe9 a local, a qual foi definida no equipamento local"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"preenchido"}),(0,r.jsx)(n.td,{children:"preenchido"}),(0,r.jsx)(n.td,{children:"NTLM"}),(0,r.jsxs)(n.td,{children:["A ID devolvida foi autenticada utilizando o protocolo NTLM no dom\xednio devolvido no par\xe2metro ",(0,r.jsx)(n.em,{children:"dominio"}),". Neste caso, deve selecionar o dom\xednio para aumentar o n\xedvel de seguran\xe7a. Dado que algumas arquiteturas t\xeam um dominio forest, \xe9 necess\xe1rio ter certeza de que o dom\xednio no que foi autenticado o usu\xe1rio seja o esperado."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"preenchido"}),(0,r.jsx)(n.td,{children:"preenchido"}),(0,r.jsx)(n.td,{children:"Kerberos"}),(0,r.jsx)(n.td,{children:"A ID devolvida foi autenticada com o protocolo Kerberos no dom\xednio esperado. Esta configura\xe7\xe3o oferece o mais alto n\xedvel de seguran\xe7a."})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"exemplo",children:"Exemplo"}),"\n",(0,r.jsx)(n.p,{children:"Em seu banco de dados 4D Server, se tiver designado um sistema de controle de acesso baseado na propriedade de 4D de usu\xe1rios e grupos, pode configurar sua aplica\xe7\xe3o para que os usu\xe1rios remotos 4D em Windows se conectem diretamente a 4D Server (n\xe3o s\xe3o mostradas nenhum quadro de di\xe1logo de senha), estando conectado com seus direitos atuais:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:['Na p\xe1gina "Seguran\xe7a" do quadro de di\xe1logo Propriedades do banco de dados, designar a um usu\xe1rio como o "usu\xe1rio por padr\xe3o":',(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.img,{src:o(216157).Z+"",width:"431",height:"31"}),(0,r.jsx)(n.br,{}),'\nCom esta configura\xe7\xe3o, n\xe3o se mostra um di\xe1logo de senha para um 4D remoto que se conecta ao servidor, todos os clientes se registran como "Bob".']}),"\n",(0,r.jsx)(n.li,{children:"No m\xe9todo banco On Server Open Connection, agregue o seguinte c\xf3digo para comprovar a autentica\xe7\xe3o de usu\xe1rio do diret\xf3rio  Active:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0//M\xe9todo base On Server Open Connection\n\xa0var $0;$1;$2;$3 : Integer\n\xa0$login:=Current client authentication($domain;$protocol)\n\xa0If($login #"")\xa0//um login foi devolvido\n\xa0\xa0\xa0\xa0CHANGE CURRENT USER($login;"")\xa0//define o usu\xe1rio atual\n\xa0\xa0\xa0\xa0$0:=0\xa0//acesso aceito\n\xa0Else\n\xa0\xa0\xa0\xa0$0:=-1\xa0//recuzar a conex\xe3o\n\xa0End if\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Nota:"})," Este exemplo mostra um cen\xe1rio b\xe1sico, que deve ser adaptado \xe0 suas solu\xe7\xf5es. O m\xe9todo personalizado de autentica\xe7\xe3o de usu\xe1rio 4D ((CheckCredentials no exemplo acima) poderia se basear em uma das seguintes implementa\xe7\xf5es:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"replicar os nomes do diret\xf3rio Active nos nomes de usu\xe1rio 4D e grupos, para um mapeamento autom\xe1tico,"}),"\n",(0,r.jsx)(n.li,{children:"mapa retorna informa\xe7\xe3o para uma tabela personalizada [users] ,"}),"\n",(0,r.jsx)(n.li,{children:"usa propriedades LDAP para conseguir credenciais de usu\xe1rio."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"propriedades",children:"Propriedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"N\xfamero do comando"}),(0,r.jsx)(n.td,{children:"1355"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Thread-seguro"}),(0,r.jsx)(n.td,{children:"\u2713"})]})]})]})]})}function u(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},216157:function(e,n,o){o.d(n,{Z:()=>i});let i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAa8AAAAfCAIAAADftNWXAAAFRUlEQVR42u3cTUgjVwAH8LelIlsPjV8HkbRu4sfizZSme5C24E7cricP4we0Eih0jYVttsVDqEWhdj0EqezBKPQQhEKzImsPyjZp2UNPjRAPW+z6lXXx4CFuHaG4WiXT92ZGM+ZjHLtLJjj/nyAz7yPzEpi/7+UlXhIEgQAAmN5rRg8AAKAgIA0BABikIQAAgzQEAGCQhgAAzOtGD8AwwWBwa2vr4ODA6IEAQP4UFxdXVVW53e7MqkuCKT9hE5iYeOPy5c7OzoqKCqPHAgD5s729HQqF9l688PT2plWZdG749/Pnn/b3WyyWvb09o8cCAPlTVlbW3d3t9/szq0z6vuHh4SF9Ufb3940eCADkFb3r6b1PEyCzyqRzQ0qUGD0KAMi3XDd+rrlhxGtJcQXiWo8ttz2jUVoHjdZptdqNX/ZFEcXwF2+qcePrYk5SW80WAFDocgWCxtzQORILe2xyHjksy9PCGJc9vPigO1fl2bHob1CuYgDpdZFfGvf9ne85ErlT2uFzeO3sOGsHuRcRMakEuHD0rJS5sdjIkmMuMsblSDxng93o53F+NNGSyaQUbtIZO7HVvUvIglKRtY/0O5mrHgAKn3jOlfJpttZ2Z3AuIh3HAy5lAe2NsMkdHyRRn0NZzaYW2F65tXqdm7kEVvoeN9Z26sLZCtjje70udqpvea2aN0sH6w9nFwjp+ahFLo/cKT92I7Ceart870ZaKQAUjPJs1A1yBcJ5d1EiXseD9pgQtrFDV8AeFqaJarXLjQnCmBxM/sBtTnMJTNue6nvWle/5GqeF8Mn0NG0kcc5DC6NLDTFBsNESPU9G9bpMdVVMSQc9P42yMCS/fVXZNUXPEqMt8cmb7w04v6xNjEotFv6q/yORIKxw4PMJbv6WQet8AMgmkUhUVlamlYg63t3Sn4bScji+tkSiQYfFJ5e529JbyRM+qf3Iq32K9gZnkHedZGf2kTjbW49T+az3MY+OjqRPnv/zLzvr+mH12w/Is2DH9a7Kx1//ev/KLAvHrvffoW3KrrmayMLU7M/fXGdtm1zXymhHqXDhz8e0/tU+UQB4Saurq3V1dSfHad8xKSkpydpLXxrGf3kQbeynOcMWn2lbJqpFLl268mRaoEFEj3p1PXIWNPbUl6ap19jGIs4TFjzS4jjKRmDXHIk+8p8LeaUsnbz14c2m7xYX1zbEK6pSZaNFlH6UfmKqEDsqAIVnZWWlvr6e/tZ/h+pJQ7omZYtUlju22kbiy7kGXl+OyhsqLD1JOyui0RZdXqcd6cPMBQnRMWGk14jyvYFWaRJI18c0/E4iz+YJx4irdy1OOM2R6NisFpXNEmU/RNoZefZofpFO/uzWZHNLJwmFVuJPk81vy6WdLc3JJAvcxflHTz/pIalC7KgAFKInT55kvT1z5aNGGrL9DWkd6hyJCce5wvaXXY7jBSqbnKl6cLdH/FKd0+1W5nc2T7/bwluCrHHm96S5NjfP0w6nJ3mnrsE+5yNVpdbgtDUdjU1rJPqo9pRDn10NyYUdkz9+bE0mrYNLk2Ljrdard1lhk+/hIM2936W2i3eV0o7JQYQhwEVh0v/aMDQ0NDw8vLGxYfRAACDfampqBgYGaAiklZv3m3lEmRsCADDmTUPtTx4BwEX1P943vMiKiop2dnaqq6s3NzeNHgsA5I/VaqX3Pk2AzCqTpmF5efnMzAzP87W1tUaPBQDyZ3d3l977NAEyq0y6i0KNj4/TPxFZ/80ZAFxUdFZYWlra19eXWWXeNAQAUDPp/74GAEiDNAQAYJCGAAAM0hAAgPkPEeUDGB8fQ34AAAAASUVORK5CYII="},250065:function(e,n,o){o.d(n,{Z:()=>t,a:()=>d});var i=o(667294);let r={},s=i.createContext(r);function d(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);