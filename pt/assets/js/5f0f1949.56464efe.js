"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["66047"],{710338:function(e,o,a){a.r(o),a.d(o,{default:()=>m,frontMatter:()=>r,metadata:()=>n,assets:()=>t,toc:()=>c,contentTitle:()=>i});var n=JSON.parse('{"id":"Tags/tags","title":"Etiquetas de transforma\xe7\xe3o","description":"4D oferece um conjunto de etiquetas de transforma\xe7\xe3o que lhe permite inserir refer\xeancias a vari\xe1veis ou express\xf5es 4D, ou realizar diferentes processamentos dentro de um texto source, referido como um \\"modelo\\". Essas etiquetas s\xe3o interpretadas quando o texto de origem \xe9 executado e geram um texto de sa\xedda.","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-19/Tags/tags.md","sourceDirName":"Tags","slug":"/Tags/tags","permalink":"/docs/pt/19/Tags/tags","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20Tags%2Ftags.md%20(19)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"19","frontMatter":{"id":"tags","slug":"tags","title":"Etiquetas de transforma\xe7\xe3o"},"sidebar":"docs","previous":{"title":"Estruturas de loop","permalink":"/docs/pt/19/Concepts/looping"},"next":{"title":"Gest\xe3o de erros","permalink":"/docs/pt/19/Concepts/error-handling"}}'),s=a("785893"),d=a("250065");let r={id:"tags",slug:"tags",title:"Etiquetas de transforma\xe7\xe3o"},i=void 0,t={},c=[{value:"Princ\xedpios de utiliza\xe7\xe3o das etiquetas",id:"princ\xedpios-de-utiliza\xe7\xe3o-das-etiquetas",level:2},{value:"Parsing",id:"parsing",level:3},{value:"Processamento recursivo",id:"processamento-recursivo",level:3},{value:"Identificadores com tokens",id:"identificadores-com-tokens",level:3},{value:"Utilizar o &quot;.&quot; como separador decimal",id:"utilizar-o--como-separador-decimal",level:3},{value:"4DBASE",id:"4dbase",level:2},{value:"Sintaxe: <code>&lt;!--#4DBASE folderPath--&gt;</code>",id:"sintaxe---4dbase-folderpath--",level:4},{value:"4DCODE",id:"4dcode",level:2},{value:"Sintaxe: <code>&lt;!--#4DCODE codeLines--&gt;</code>",id:"sintaxe---4dcode-codelines--",level:4},{value:"4DEACH e 4DENDEACH",id:"4deach-e-4dendeach",level:2},{value:"Sintaxe: <code>&lt;!--#4DEACH vari\xe1vel na express\xe3o--&gt;</code> <code>&lt;!--#4DENDEACH--&gt;</code>",id:"sintaxe---4deach-vari\xe1vel-na-express\xe3o-----4dendeach--",level:4},{value:"<code>&lt;!--#4DEACH item in collection--&gt;</code>",id:"--4deach-item-in-collection--",level:3},{value:"Exemplo com uma cole\xe7\xe3o de valores escalares",id:"exemplo-com-uma-cole\xe7\xe3o-de-valores-escalares",level:4},{value:"Exemplo com uma cole\xe7\xe3o de objetos",id:"exemplo-com-uma-cole\xe7\xe3o-de-objetos",level:4},{value:"<code>&lt;!--#4DEACH entity in entitySelection--&gt;</code>",id:"--4deach-entity-in-entityselection--",level:3},{value:"Exemplo com uma tabela html",id:"exemplo-com-uma-tabela-html",level:4},{value:"Exemplo com <code>PROCESS 4D TAGS</code>",id:"exemplo-com-process-4d-tags",level:4},{value:"<code>&lt;!--#4DEACH property in object--&gt;</code>",id:"--4deach-property-in-object--",level:3},{value:"Exemplo com as propriedades de um objeto",id:"exemplo-com-as-propriedades-de-um-objeto",level:4},{value:"4DEVAL",id:"4deval",level:2},{value:"Sintaxe: <code>&lt;!--#4DEVAL expression--&gt;</code>",id:"sintaxe---4deval-expression--",level:4},{value:"Sintaxe alternativa: <code>$4DEVAL(express\xe3o)</code>",id:"sintaxe-alternativa-4devalexpress\xe3o",level:4},{value:"4DHTML",id:"4dhtml",level:2},{value:"Sintaxe: <code>&lt;!--#4DHTML expression--&gt;</code>",id:"sintaxe---4dhtml-expression--",level:4},{value:"Sintaxe alternativa: <code>$4DHTML(express\xe3o)</code>",id:"sintaxe-alternativa-4dhtmlexpress\xe3o",level:4},{value:"4DIF, 4DELSE, 4DELSEIF e 4DENDIF",id:"4dif-4delse-4delseif-e-4dendif",level:2},{value:"Sintaxe: <code>&lt;!--#4DIF expression--&gt;</code> {<code>&lt;!--#4DELSEIF expression2--&gt;...&lt;!--#4DELSEIF expressionN--&gt;</code>} {<code>&lt;!--#4DELSE--&gt;</code>} <code>&lt;!--#4DENDIF--&gt;</code>",id:"sintaxe---4dif-expression-----4delseif-expression2----4delseif-expressionn-----4delse-----4dendif--",level:4},{value:"4DINCLUDE",id:"4dinclude",level:2},{value:"Sintaxe: <code>&lt;!--#4DINCLUDE path--&gt;</code>",id:"sintaxe---4dinclude-path--",level:4},{value:"4DLOOP e 4DENDLOOP",id:"4dloop-e-4dendloop",level:2},{value:"Sintaxe: <code>&lt;!--#4DLOOP condition--&gt;</code> <code>&lt;!--#4DENDLOOP--&gt;</code>",id:"sintaxe---4dloop-condition-----4dendloop--",level:4},{value:"<code>&lt;!--#4DLOOP [table]--&gt;</code>",id:"--4dloop-table--",level:3},{value:"<code>&lt;!--#4DLOOP array--&gt;</code>",id:"--4dloop-array--",level:3},{value:"<code>&lt;!--#4DLOOP method--&gt;</code>",id:"--4dloop-method--",level:3},{value:"<code>&lt;!--#4DLOOP expression--&gt;</code>",id:"--4dloop-expression--",level:3},{value:"<code>&lt;!--#4DLOOP pointerArray--&gt;</code>",id:"--4dloop-pointerarray--",level:3},{value:"4DSCRIPT/",id:"4dscript",level:2},{value:"Sintaxe: <code>&lt;!--#4DSCRIPT/MethodName/MyParam--&gt;</code>",id:"sintaxe---4dscriptmethodnamemyparam--",level:4},{value:"4DTEXT",id:"4dtext",level:2},{value:"Sintaxe: <code>&lt;!--#4DTEXT express\xe3o--&gt;</code>",id:"sintaxe---4dtext-express\xe3o--",level:4},{value:"Sintaxe alternativa: <code>$4DTEXT(express\xe3o)</code>",id:"sintaxe-alternativa-4dtextexpress\xe3o",level:4},{value:"Sintaxe alternativa para 4DTEXT, 4DHTML, 4DEVAL",id:"sintaxe-alternativa-para-4dtext-4dhtml-4deval",level:2},{value:"$4dtag (expression)",id:"4dtag-expression",level:4},{value:"<code>&lt;!--#4dtag expression--&gt;</code>",id:"--4dtag-expression--",level:4}];function l(e){let o={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.p,{children:'4D oferece um conjunto de etiquetas de transforma\xe7\xe3o que lhe permite inserir refer\xeancias a vari\xe1veis ou express\xf5es 4D, ou realizar diferentes processamentos dentro de um texto source, referido como um "modelo". Essas etiquetas s\xe3o interpretadas quando o texto de origem \xe9 executado e geram um texto de sa\xedda.'}),"\n",(0,s.jsxs)(o.p,{children:["Esse princ\xedpio \xe9 usado em particular pelo servidor Web 4D para criar ",(0,s.jsx)(o.a,{href:"/docs/pt/19/WebServer/templates",children:"p\xe1ginas de modelo Web"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["Estas etiquetas s\xe3o geralmente inseridas como coment\xe1rios HTML (",(0,s.jsx)(o.code,{children:"<! -#Tag Contents--\x3e"}),") mas uma ",(0,s.jsx)(o.a,{href:"#alternative-syntax-for-4dtext-4dhtml-4deval",children:"sintaxe alternativa compat\xedvel com xml"})," est\xe1 dispon\xedvel para alguns deles."]}),"\n",(0,s.jsx)(o.p,{children:"\xc9 poss\xedvel misturar v\xe1rios tipos de etiquetas. Por exemplo, a seguinte estrutura HTML \xe9 inteiramente vi\xe1vel:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"<HTML>\n<BODY>\n\x3c!--#4DSCRIPT/PRE_PROCESS--\x3e   (Method call)\n\x3c!--#4DIF (myvar=1)--\x3e   (If condition)\n   \x3c!--#4DINCLUDE banner1.html--\x3e   (Subpage insertion)\n\x3c!--#4DENDIF--\x3e   (End if)\n\x3c!--#4DIF (mtvar=2)--\x3e\n   \x3c!--#4DINCLUDE banner2.html--\x3e\n\x3c!--#4DENDIF--\x3e\n\n\x3c!--#4DLOOP [TABLE]--\x3e   (Loop on the current selection)\n\x3c!--#4DIF ([TABLE]ValNum>10)--\x3e   (If [TABLE]ValNum>10)\n   \x3c!--#4DINCLUDE subpage.html--\x3e   (Subpage insertion)\n\x3c!--#4DELSE--\x3e   (Else)\n   <B>Value: \x3c!--#4DTEXT [TABLE]ValNum--\x3e</B><br/>   (Field display)\n\x3c!--#4DENDIF--\x3e\n\x3c!--#4DENDLOOP--\x3e   ](End for)\n</BODY>\n</HTML>\n"})}),"\n",(0,s.jsx)(o.h2,{id:"princ\xedpios-de-utiliza\xe7\xe3o-das-etiquetas",children:"Princ\xedpios de utiliza\xe7\xe3o das etiquetas"}),"\n",(0,s.jsx)(o.h3,{id:"parsing",children:"Parsing"}),"\n",(0,s.jsxs)(o.p,{children:["A an\xe1lise do conte\xfado de uma source de ",(0,s.jsx)(o.em,{children:"modelo"})," \xe9 feita em dois contextos:"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsxs)(o.p,{children:["Usando o comando ",(0,s.jsx)(o.code,{children:"PROCESS 4D TAGS"}),"; esse comando aceita um ",(0,s.jsx)(o.em,{children:"modelo"})," como entrada, bem como par\xe2metros opcionais, e retorna um texto resultante do processamento."]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsxs)(o.p,{children:["Usando o servidor HTTP integrado do 4D: ",(0,s.jsx)(o.a,{href:"/docs/pt/19/WebServer/templates",children:"p\xe1ginas de modelo"})," enviadas por meio dos comandos ",(0,s.jsx)(o.code,{children:"WEB SEND FILE"})," (.htm, .html, .shtm, .shtml), ",(0,s.jsx)(o.code,{children:"WEB SEND BLOB"})," (texto/html tipo BLOB), ",(0,s.jsx)(o.code,{children:"WEB SEND TEXT"}),' ou chamadas usando URLs. Nesse \xfaltimo caso, por motivos de otimiza\xe7\xe3o, as p\xe1ginas sufixadas com ".htm" e ".html" N\xc3O s\xe3o analisadas. Para analisar p\xe1ginas HTML nesse caso, voc\xea deve adicionar o sufixo ".shtm" ou ".shtml" (por exemplo, ',(0,s.jsx)(o.a,{href:"http://www.server.com/dir/page.shtm",children:"http://www.server.com/dir/page.shtm"}),")."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"processamento-recursivo",children:"Processamento recursivo"}),"\n",(0,s.jsx)(o.p,{children:"As etiquetas 4D s\xe3o interpretadas de forma recursiva: 4D sempre tenta reinterpretar o resultado de uma transforma\xe7\xe3o e, se uma nova transforma\xe7\xe3o tiver ocorrido, uma interpreta\xe7\xe3o adicional \xe9 realizada, e assim por diante, at\xe9 que o produto obtido n\xe3o precise mais de nenhuma transforma\xe7\xe3o adicional. Por exemplo, dada a seguinte instru\xe7\xe3o:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"\x3c!--#4DHTML [Mail]Letter_type--\x3e\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Se o pr\xf3prio campo de texto ",(0,s.jsx)(o.code,{children:"[Mail]Letter_type"})," contiver uma tag, por exemplo, ",(0,s.jsx)(o.code,{children:"\x3c!--#4DSCRIPT/m_Gender--\x3e"}),", essa tag ser\xe1 avaliada recursivamente ap\xf3s a interpreta\xe7\xe3o da tag 4DHTML."]}),"\n",(0,s.jsxs)(o.p,{children:["Esse princ\xedpio poderoso atende \xe0 maioria das necessidades relacionadas \xe0 transforma\xe7\xe3o de texto. Note, however, that in some cases this can also allow malicious code to be inserted in the web context, ",(0,s.jsx)(o.a,{href:"/docs/pt/19/WebServer/templates#prevention-of-malicious-code-insertion",children:"which can be avoided"}),"."]}),"\n",(0,s.jsx)(o.h3,{id:"identificadores-com-tokens",children:"Identificadores com tokens"}),"\n",(0,s.jsxs)(o.p,{children:["Para garantir a avalia\xe7\xe3o correta das express\xf5es processadas por etiquetas, independentemente da linguagem ou da vers\xe3o 4D, \xe9 recomend\xe1vel usar a sintaxe tokenizada para elementos cujo nome possa variar conforme as vers\xf5es (comandos, tabelas, campos, constantes). Por exemplo, para inserir o comando ",(0,s.jsx)(o.code,{children:"Current time"}),", digite ",(0,s.jsx)(o.code,{children:"Current time:C178"}),"."]}),"\n",(0,s.jsx)(o.h3,{id:"utilizar-o--como-separador-decimal",children:'Utilizar o "." como separador decimal'}),"\n",(0,s.jsxs)(o.p,{children:["4D sempre utiliza o caractere de ponto (.) como um separador decimal ao avaliar uma express\xe3o num\xe9rica usando uma etiqueta 4D ",(0,s.jsx)(o.code,{children:"4DTEXT"}),", ",(0,s.jsx)(o.code,{children:"4DHTML"}),", e ",(0,s.jsx)(o.code,{children:"4DEVAL"}),". Os par\xe2metros regionais s\xe3o ignorados. Esse recurso facilita a manuten\xe7\xe3o do c\xf3digo e a compatibilidade entre idiomas e vers\xf5es 4D."]}),"\n",(0,s.jsx)(o.h2,{id:"4dbase",children:"4DBASE"}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe---4dbase-folderpath--",children:["Sintaxe: ",(0,s.jsx)(o.code,{children:"\x3c!--#4DBASE folderPath--\x3e"})]}),"\n",(0,s.jsxs)(o.p,{children:["A etiqueta ",(0,s.jsx)(o.code,{children:"\x3c!--#4DBASE --\x3e"})," designa o diret\xf3rio de trabalho a ser usado pelo marcador ",(0,s.jsx)(o.code,{children:"\x3c!--#4DINCLUDE--\x3e"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["Quando ele \xe9 chamado em uma p\xe1gina Web, a etiqueta ",(0,s.jsx)(o.code,{children:"<! -#4DBASE --\x3e"})," modifica todas as subsequ\xeancias ",(0,s.jsx)(o.code,{children:"<! -#4DINCLUDE--\x3e"})," chama essa p\xe1gina, at\xe9 o pr\xf3ximo ",(0,s.jsx)(o.code,{children:"\x3c!--#4DBASE --\x3e"}),", se houver. Se a pasta ",(0,s.jsx)(o.code,{children:"\x3c!--#4DBASE --\x3e"})," for modificada em um arquivo inclu\xeddo, ela recuperar\xe1 seu valor original do arquivo pai."]}),"\n",(0,s.jsxs)(o.p,{children:["O par\xe2metro ",(0,s.jsx)(o.em,{children:"folderPath"})," deve conter um nome de caminho relativo \xe0 p\xe1gina atual e deve terminar com uma barra (",(0,s.jsx)(o.code,{children:"/"}),"). A pasta designada deve estar localizada dentro da pasta Web."]}),"\n",(0,s.jsx)(o.p,{children:'Passe a palavra-chave "WEBFOLDER" para restaurar o caminho padr\xe3o (relativo \xe0 p\xe1gina).'}),"\n",(0,s.jsx)(o.p,{children:"O c\xf3digo seguinte, que deve especificar um caminho relativo para cada chamada:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage1.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage2.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage3.html--\x3e\n\x3c!--#4DINCLUDE ../folder/subpage.html--\x3e\n"})}),"\n",(0,s.jsx)(o.p,{children:"... \xe9 equivalente a:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DBASE folder/--\x3e\n\x3c!--#4DINCLUDE subpage1.html--\x3e\n\x3c!--#4DINCLUDE subpage2.html--\x3e\n\x3c!--#4DINCLUDE subpage3.html--\x3e\n\x3c!--#4DBASE ../folder/--\x3e\n\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DBASE WEBFOLDER--\x3e\n"})}),"\n",(0,s.jsx)(o.p,{children:"Por exemplo, para definir um direct\xf3rio para a p\xe1gina inicial:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"/* Index.html */\n\x3c!--#4DIF LangFR=True--\x3e\n    \x3c!--#4DBASE FR/--\x3e\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DBASE US/--\x3e\n\x3c!--#4DENDIF--\x3e\n\x3c!--#4DINCLUDE head.html--\x3e\n\x3c!--#4DINCLUDE body.html--\x3e\n\x3c!--#4DINCLUDE footer.html--\x3e\n"})}),"\n",(0,s.jsxs)(o.p,{children:['No arquivo "head.html", a pasta atual \xe9 modificada atrav\xe9s de ',(0,s.jsx)(o.code,{children:"\x3c!--#4DBASE --\x3e"}),', sem alterar seu valor em "Index.html":']}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"/* Head.htm */\n/* o direct\xf3rio de trabalho aqui \xe9 relativo ao ficheiro inclu\xeddo (FR/ ou US/) */\n\x3c!--#4DBASE Styles/--\x3e\n\x3c!--#4DINCLUDE main.css--\x3e\n\x3c!--#4DINCLUDE product.css--\x3e\n\x3c!--#4DBASE Scripts/--\x3e\n\x3c!--#4DINCLUDE main.js--\x3e\n\x3c!--#4DINCLUDE product.js--\x3e\n"})}),"\n",(0,s.jsx)(o.h2,{id:"4dcode",children:"4DCODE"}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe---4dcode-codelines--",children:["Sintaxe: ",(0,s.jsx)(o.code,{children:"\x3c!--#4DCODE codeLines--\x3e"})]}),"\n",(0,s.jsxs)(o.p,{children:["La balise ",(0,s.jsx)(o.code,{children:"4DCODE"})," permet d'ins\xe9rer un bloc de code 4D de plusieurs lignes dans un template."]}),"\n",(0,s.jsxs)(o.p,{children:["Quando um ",(0,s.jsx)(o.code,{children:"<-#4DCODE"})," sequencia detectada seguida de um espa\xe7o, um CR ou um caractere LF, 4D interpreta todas as linhas de c\xf3digo at\xe9 a sequ\xeancia ",(0,s.jsx)(o.code,{children:"--\x3e"})," pr\xf3xima. O pr\xf3prio bloco de c\xf3digo pode conter retornos, feeds de linha ou ambos; ele ser\xe1 interpretado sequencialmente por 4D."]}),"\n",(0,s.jsx)(o.p,{children:"Por exemplo, pode escrever num modelo:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:'\x3c!--#4DCODE\n//PARAMETERS initialization C_OBJECT:C1216($graphParameters)\nOB SET:C1220($graphParameters;"graphType";1)\n$graphType:=1\n//...your code here If(OB Is defined:C1231($graphParameters;"graphType"))\n    $graphType:=OB GET:C1224($graphParameters;"graphType")\n    If($graphType=7)\n        $nbSeries:=1\n        If($nbValues>8)\n            DELETE FROM ARRAY:C228 ($yValuesArrPtr{1}->;9;100000)\n            $nbValues:=8\n        End if\n    End if End if\n--\x3e\n'})}),"\n",(0,s.jsx)(o.p,{children:"Eis as caracter\xedsticas da etiqueta 4DCODE:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["O comando ",(0,s.jsx)(o.code,{children:"TRACE"})," \xe9 suportado e ativa o depurador 4D, permitindo que voc\xea depure seu c\xf3digo de modelo."]}),"\n",(0,s.jsx)(o.li,{children:"Qualquer erro exibir\xe1 a caixa de di\xe1logo de erro padr\xe3o que permite que o usu\xe1rio interrompa a execu\xe7\xe3o do c\xf3digo ou entre no modo de depura\xe7\xe3o."}),"\n",(0,s.jsxs)(o.li,{children:["O texto entre ",(0,s.jsx)(o.code,{children:"\x3c!--#4DCODE"})," e ",(0,s.jsx)(o.code,{children:"--\x3e"})," est\xe1 dividido em linhas que aceitem qualquer conven\xe7\xe3o de distribui\xe7\xe3o de linha (cr, lf ou crlf)."]}),"\n",(0,s.jsxs)(o.li,{children:["O texto \xe9 tokenizado no contexto do banco de dados chamado ",(0,s.jsx)(o.code,{children:"PROCESS 4D TAGS"}),". Isto \xe9 importante para o reconhecimento dos m\xe9todos de projeto, por exemplo. A propriedade do m\xe9todo ",(0,s.jsx)(o.a,{href:"/docs/pt/19/WebServer/allowProject",children:"Dispon\xedvel atrav\xe9s de etiquetas e URLs 4D (4DACTION ...)"})," n\xe3o \xe9 tida em conta."]}),"\n",(0,s.jsx)(o.li,{children:"Mesmo que o texto sempre use o ingl\xeas americano, \xe9 recomend\xe1vel usar a sintaxe de token (:Cxxx) para nomes de comandos e constantes para se proteger contra poss\xedveis problemas por comandos ou constantes serem renomeados de uma vers\xe3o do 4D para outra."}),"\n"]}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"Que as etiquetas 4DCODE podem chamar qualquer um dos comandos da linguagem 4D ou m\xe9todos do projeto pode ser visto como um problema de seguran\xe7a, especialmente quando o banco de dados est\xe1 dispon\xedvel por HTTP. No entanto, como ele executa o c\xf3digo do servidor chamado a partir dos seus pr\xf3prios arquivos de modelo, a etiqueta n\xe3o representa um problema de seguran\xe7a. Neste contexto, como em qualquer servidor Web, a seguran\xe7a \xe9 manipulada principalmente ao n\xedvel de acessos remotos para arquivos de servidor."}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"4deach-e-4dendeach",children:"4DEACH e 4DENDEACH"}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe---4deach-vari\xe1vel-na-express\xe3o-----4dendeach--",children:["Sintaxe: ",(0,s.jsx)(o.code,{children:"\x3c!--#4DEACH vari\xe1vel na express\xe3o--\x3e"})," ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDEACH--\x3e"})]}),"\n",(0,s.jsxs)(o.p,{children:["O coment\xe1rio ",(0,s.jsx)(o.code,{children:"\x3c!--#4DEACH--\x3e"})," \xe9 usado para iterar um elemento especificado sobre todos os valores da ",(0,s.jsx)(o.em,{children:"expression"}),". O item est\xe1 definido como uma ",(0,s.jsx)(o.em,{children:"vari\xe1vel"})," cujo tipo depende do tipo de ",(0,s.jsx)(o.em,{children:"express\xe3o"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["O coment\xe1rio ",(0,s.jsx)(o.code,{children:"\x3c!--#4DEACH--\x3e"})," pode iterar atrav\xe9s de tr\xeas tipos de express\xf5es:"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"#--4deach-item-in-collection--",children:"collections"}),": loop por cada elemento da cole\xe7\xe3o,"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"#--4deach-entity-in-entityselection--",children:"sele\xe7\xf5es de entidade"}),": loop atrav\xe9s de cada entidade,"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"#--4deach-property-in-object--",children:"objetos"}),": loop em cada propriedade do objeto."]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"O n\xfamero de itera\xe7\xf5es \xe9 avaliado na inicializa\xe7\xe3o e n\xe3o ser\xe1 alterado durante o processamento. Adicionar ou remover itens durante o loop n\xe3o \xe9 recomendado porque resulta em itera\xe7\xf5es faltantes ou redundantes."}),"\n",(0,s.jsx)(o.h3,{id:"--4deach-item-in-collection--",children:(0,s.jsx)(o.code,{children:"\x3c!--#4DEACH item in collection--\x3e"})}),"\n",(0,s.jsxs)(o.p,{children:["Esta sintaxe itera em cada ",(0,s.jsx)(o.em,{children:"item"})," da ",(0,s.jsx)(o.em,{children:"cole\xe7\xe3o"}),". A por\xe7\xe3o de c\xf3digo entre ",(0,s.jsx)(o.code,{children:"\x3c!--#4DEACH --\x3e"})," e ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDEACH--\x3e"})," \xe9 repetida para cada elemento da cole\xe7\xe3o."]}),"\n",(0,s.jsxs)(o.p,{children:["O par\xe2metro ",(0,s.jsx)(o.em,{children:"item"})," \xe9 uma vari\xe1vel do mesmo tipo que os elementos da cole\xe7\xe3o."]}),"\n",(0,s.jsxs)(o.p,{children:["A cole\xe7\xe3o deve conter apenas ",(0,s.jsx)(o.strong,{children:"elementos do mesmo tipo"}),", caso contr\xe1rio, um erro ser\xe1 retornado assim que a vari\xe1vel ",(0,s.jsx)(o.em,{children:"item"})," receber o primeiro tipo de valor incompat\xedvel."]}),"\n",(0,s.jsxs)(o.p,{children:["O n\xfamero de loops \xe9 baseado no n\xfamero de elementos da cole\xe7\xe3o. A cada itera\xe7\xe3o, a vari\xe1vel ",(0,s.jsx)(o.em,{children:"item"})," \xe9 automaticamente preenchida com o elemento correspondente da cole\xe7\xe3o. Os pontos abaixo devem ser considerados:"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Se a vari\xe1vel ",(0,s.jsx)(o.em,{children:"item"})," for do tipo objeto ou do tipo cole\xe7\xe3o (ou seja, se ",(0,s.jsx)(o.em,{children:"express\xe3o"})," for uma cole\xe7\xe3o de objetos ou de cole\xe7\xf5es), a modifica\xe7\xe3o dessa vari\xe1vel modificar\xe1 automaticamente o elemento correspondente da cole\xe7\xe3o (porque objetos e cole\xe7\xf5es compartilham as mesmas refer\xeancias). Se a vari\xe1vel for de tipo escalar, s\xf3 se modificar\xe1 a vari\xe1vel."]}),"\n",(0,s.jsxs)(o.li,{children:["A vari\xe1vel ",(0,s.jsx)(o.em,{children:"item"})," recebe o mesmo tipo que o primeiro elemento da cole\xe7\xe3o. Se algum elemento da cole\xe7\xe3o n\xe3o for do mesmo tipo que a vari\xe1vel, ser\xe1 gerado um erro e o loop ser\xe1 interrompido."]}),"\n",(0,s.jsxs)(o.li,{children:["Se a cole\xe7\xe3o contiver elementos com um valor Null, ser\xe1 gerado um erro se o tipo de vari\xe1vel ",(0,s.jsx)(o.em,{children:"item"})," n\xe3o for compat\xedvel com valores Null (como vari\xe1veis longint)."]}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"exemplo-com-uma-cole\xe7\xe3o-de-valores-escalares",children:"Exemplo com uma cole\xe7\xe3o de valores escalares"}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.em,{children:"getNames"}),' devolve uma cole\xe7\xe3o de cadeias de caracteres. O m\xe9todo foi declarado como "',(0,s.jsx)(o.a,{href:"/docs/pt/19/WebServer/allowProject",children:"dispon\xedvel atrav\xe9s das etiquetas 4D e as URLs"}),'".']}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:' <table class="table">    \n\n        <tr><th>Name</th></tr>\n\n          \x3c!--#4DEACH $name in getNames--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $name--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n'})}),"\n",(0,s.jsx)(o.h4,{id:"exemplo-com-uma-cole\xe7\xe3o-de-objetos",children:"Exemplo com uma cole\xe7\xe3o de objetos"}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.em,{children:"getSalesPersons"})," devolve uma cole\xe7\xe3o de objetos."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:'    <table class="table">    \n         \x3c!--#4DCODE\n            $salePersons:=getSalesPersons\n          --\x3e          \n       <tr><th>ID</th><th>Firstname</th><th>Lastname</th></tr>\n\n          \x3c!--#4DEACH $salesPerson in $salePersons--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $salesPerson.ID--\x3e</td>\n            <td>\x3c!--#4DTEXT $salesPerson.firstname--\x3e</td>\n            <td>\x3c!--#4DTEXT $salesPerson.lastname--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n'})}),"\n",(0,s.jsx)(o.h3,{id:"--4deach-entity-in-entityselection--",children:(0,s.jsx)(o.code,{children:"\x3c!--#4DEACH entity in entitySelection--\x3e"})}),"\n",(0,s.jsxs)(o.p,{children:["Essa sintaxe ir\xe1 iterar por cada ",(0,s.jsx)(o.em,{children:"propriedade"})," do ",(0,s.jsx)(o.em,{children:"objeto"}),". A por\xe7\xe3o de c\xf3digo entre ",(0,s.jsx)(o.code,{children:"\x3c!--#4DEACH --\x3e"})," e ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDEACH--\x3e"})," \xe9 repetida para cada propriedade do objeto."]}),"\n",(0,s.jsxs)(o.p,{children:["O par\xe2metro ",(0,s.jsx)(o.em,{children:"entity"})," \xe9 uma vari\xe1vel objeto da classe entity selection."]}),"\n",(0,s.jsxs)(o.p,{children:["O n\xfamero de loops \xe9 baseado no n\xfamero de entidades na entity selection. Em cada itera\xe7\xe3o, a vari\xe1vel do objeto ",(0,s.jsx)(o.em,{children:"entity"})," \xe9 automaticamente preenchida com a entidade correspondente da entity selection."]}),"\n",(0,s.jsx)(o.h4,{id:"exemplo-com-uma-tabela-html",children:"Exemplo com uma tabela html"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:'    <table class="table">     \n\n        <tr><th>ID</th><th>Name</th><th>Total purchase</th></tr>\n\n          \x3c!--#4DEACH $customer in ds. Customers.all()--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $customer.ID--\x3e</td>\n            <td>\x3c!--#4DTEXT $customer.name--\x3e</td>\n            <td><center>\x3c!--#4DTEXT String($customer.totalPurchase;"$###,##0")--\x3e</center></td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n'})}),"\n",(0,s.jsxs)(o.h4,{id:"exemplo-com-process-4d-tags",children:["Exemplo com ",(0,s.jsx)(o.code,{children:"PROCESS 4D TAGS"})]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-4d",children:'var customers : cs. CustomersSelection\nvar $input; $output : Text\n\ncustomers:=ds. Customers.all()\n$input:="\x3c!--#4DEACH $cust in customers--\x3e"\n$input:=$input+"\x3c!--#4DTEXT $cust.name --\x3e"+Char(Carriage return)\n$input:=$input+"\x3c!--#4DENDEACH--\x3e" PROCESS 4D TAGS($input; $output)\nTEXT TO DOCUMENT("customers.txt"; $output)\n'})}),"\n",(0,s.jsx)(o.h3,{id:"--4deach-property-in-object--",children:(0,s.jsx)(o.code,{children:"\x3c!--#4DEACH property in object--\x3e"})}),"\n",(0,s.jsxs)(o.p,{children:["Essa sintaxe itera em cada ",(0,s.jsx)(o.em,{children:"entidade"})," da ",(0,s.jsx)(o.em,{children:"sele\xe7\xe3o de entidades"}),". A por\xe7\xe3o do c\xf3digo entre ",(0,s.jsx)(o.code,{children:"\x3c!--#4DEACH --\x3e"})," e ",(0,s.jsx)(o.code,{children:"<! -#4DENDEACH--\x3e"})," \xe9 repetido para cada entidade da sele\xe7\xe3o da entidade."]}),"\n",(0,s.jsxs)(o.p,{children:["O par\xe2metro ",(0,s.jsx)(o.em,{children:"propriedade"})," \xe9 uma vari\xe1vel de texto automaticamente preenchida com o nome da propriedade processada atualmente."]}),"\n",(0,s.jsx)(o.p,{children:"As propriedades do objeto s\xe3o processadas de acordo com sua ordem de cria\xe7\xe3o. Durante o loop, propriedades podem ser adicionadas ou eliminadas no objeto, sem modificar o n\xfamero de loops que permanecer\xe3o no n\xfamero original de propriedades do objeto."}),"\n",(0,s.jsx)(o.h4,{id:"exemplo-com-as-propriedades-de-um-objeto",children:"Exemplo com as propriedades de um objeto"}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.em,{children:"getGamers"}),' \xe9 um m\xe9todo projeto que retorna um objeto como ("Mary"; 10; "Ann"; 20; "John"; 40) para calcular as pontua\xe7\xf5es dos jogadores.']}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:'    <table class="table">    \n          \x3c!--#4DCODE\n           $gamers:=getGamers\n          --\x3e          \n\n        <tr><th>Gamers</th><th>Scores</th></tr>\n\n          \x3c!--#4DEACH $key in $gamers--\x3e\n        <tr>\n            <td >\x3c!--#4DTEXT $key--\x3e</td>\n            <td >\x3c!--#4DTEXT $gamers[$key]--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n'})}),"\n",(0,s.jsx)(o.h2,{id:"4deval",children:"4DEVAL"}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe---4deval-expression--",children:["Sintaxe: ",(0,s.jsx)(o.code,{children:"\x3c!--#4DEVAL expression--\x3e"})]}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe-alternativa-4devalexpress\xe3o",children:["Sintaxe alternativa: ",(0,s.jsx)(o.code,{children:"$4DEVAL(express\xe3o)"})]}),"\n",(0,s.jsxs)(o.p,{children:["A etiqueta ",(0,s.jsx)(o.code,{children:"4DEVAL"})," permite que voc\xea avalie uma vari\xe1vel ou express\xe3o 4D. Como o marcador ",(0,s.jsx)(o.a,{href:"#4dhtml",children:(0,s.jsx)(o.code,{children:"4DHTML"})})," , ",(0,s.jsx)(o.code,{children:"4DEVAL"})," n\xe3o escapa dos caracteres HTML ao retornar o texto. No entanto, diferente de ",(0,s.jsx)(o.code,{children:"4DHTML"})," ou ",(0,s.jsx)(o.a,{href:"#4dtext",children:(0,s.jsx)(o.code,{children:"4DTEXT"})}),", ",(0,s.jsx)(o.code,{children:"4DEVAL"})," permite que voc\xea execute qualquer instru\xe7\xe3o 4D v\xe1lida, incluindo atividades e express\xf5es que n\xe3o retornam qualquer valor."]}),"\n",(0,s.jsx)(o.p,{children:"Por exemplo, \xe9 poss\xedvel executar:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:' $input:="\x3c!--#4DEVAL a:=42--\x3e" //atribui\xe7\xe3o\n $input:=$input+"\x3c!--#4DEVAL a+1--\x3e" //c\xe1lculo\n PROCESS 4D TAGS($input;$output)\n  //$output = "43"\n'})}),"\n",(0,s.jsxs)(o.p,{children:["Em caso de erro durante a interpreta\xe7\xe3o, o texto inserido ser\xe1 no formul\xe1rio: ",(0,s.jsx)(o.code,{children:"<! -#4DEVAL expr--\x3e: ## erro # c\xf3digo de erro"}),"."]}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsxs)(o.p,{children:["Por motivos de seguran\xe7a \xe9 recomend\xe1vel usar a tag ",(0,s.jsx)(o.a,{href:"#4dtext",children:(0,s.jsx)(o.code,{children:"4DTEXT"})})," quando o processamento de dados introduzidos de fora do aplicativo, a fim de evitar a inser\xe7\xe3o ",(0,s.jsx)(o.a,{href:"/docs/pt/19/WebServer/templates#prevention-of-malicious-code-insertion",children:"de c\xf3digo malicioso"}),"."]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"4dhtml",children:"4DHTML"}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe---4dhtml-expression--",children:["Sintaxe: ",(0,s.jsx)(o.code,{children:"\x3c!--#4DHTML expression--\x3e"})]}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe-alternativa-4dhtmlexpress\xe3o",children:["Sintaxe alternativa: ",(0,s.jsx)(o.code,{children:"$4DHTML(express\xe3o)"})]}),"\n",(0,s.jsxs)(o.p,{children:["Como a tag ",(0,s.jsx)(o.code,{children:"4DTEXT"})," , esta tag permite avaliar uma vari\xe1vel 4D ou express\xe3o que retorne um valor e inseri-la como uma express\xe3o HTML. Diferente da tag ",(0,s.jsx)(o.code,{children:"4DTEXT"}),' , esta tag n\xe3o escapa de caracteres especiais do HTML (por exemplo, ">").']}),"\n",(0,s.jsx)(o.p,{children:"Por exemplo, aqui est\xe3o os resultados do processamento da vari\xe1vel de texto 4D myvar com as tags dispon\xedveis:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Valor myvar"}),(0,s.jsx)(o.th,{children:"Etiquetas"}),(0,s.jsx)(o.th,{children:"Resultados"})]})}),(0,s.jsxs)(o.tbody,{children:[(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:'myvar:="<B>"'})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"\x3c!--#4DTEXT myvar--\x3e"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"&lt;B&gt;"})})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:'myvar:="<B>"'})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"\x3c!--#4DHTML myvar--\x3e"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"<B>"})})]})]})]}),"\n",(0,s.jsxs)(o.p,{children:["Em caso de erro de interpreta\xe7\xe3o, o texto inserido ser\xe1 ",(0,s.jsx)(o.code,{children:"\x3c!--#4DHTML myvar--\x3e : ## erro # c\xf3digo de erro"}),"."]}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsxs)(o.p,{children:["Por motivos de seguran\xe7a \xe9 recomend\xe1vel usar a tag ",(0,s.jsx)(o.a,{href:"#4dtext",children:(0,s.jsx)(o.code,{children:"4DTEXT"})})," quando o processamento de dados introduzidos de fora do aplicativo, a fim de evitar a inser\xe7\xe3o ",(0,s.jsx)(o.a,{href:"/docs/pt/19/WebServer/templates#prevention-of-malicious-code-insertion",children:"de c\xf3digo malicioso"}),"."]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"4dif-4delse-4delseif-e-4dendif",children:"4DIF, 4DELSE, 4DELSEIF e 4DENDIF"}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe---4dif-expression-----4delseif-expression2----4delseif-expressionn-----4delse-----4dendif--",children:["Sintaxe: ",(0,s.jsx)(o.code,{children:"\x3c!--#4DIF expression--\x3e"})," {",(0,s.jsx)(o.code,{children:"\x3c!--#4DELSEIF expression2--\x3e...\x3c!--#4DELSEIF expressionN--\x3e"}),"} {",(0,s.jsx)(o.code,{children:"\x3c!--#4DELSE--\x3e"}),"} ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDIF--\x3e"})]}),"\n",(0,s.jsxs)(o.p,{children:["Usado com os coment\xe1rios ",(0,s.jsx)(o.code,{children:"\x3c!--#4DELSEIF--\x3e"})," (opcional), ",(0,s.jsx)(o.code,{children:"<! -#4DELSE--\x3e"})," (opcional) e ",(0,s.jsx)(o.code,{children:"<! -#4DENDIF--\x3e"}),", o coment\xe1rio ",(0,s.jsx)(o.code,{children:"<! -#4DIF expression--\x3e"})," oferece a possibilidade de executar partes do c\xf3digo condicionalmente."]}),"\n",(0,s.jsxs)(o.p,{children:["O par\xe2metro ",(0,s.jsx)(o.em,{children:"expression"})," pode conter qualquer express\xe3o 4D v\xe1lida que retorne um valor booleano. Deve ser indicado entre par\xeanteses e estar em conformidade com as regras da sintaxe 4D."]}),"\n",(0,s.jsxs)(o.p,{children:["Os blocos ",(0,s.jsx)(o.code,{children:"\x3c!--#4DIF expression--\x3e"})," ... ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDIF--\x3e"})," podem ser aninhados em v\xe1rios n\xedveis. Como em 4D, cada ",(0,s.jsx)(o.code,{children:"\x3c!--#4DIF expression--\x3e"})," deve corresponder com ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDIF--\x3e"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:['Em caso de erro de interpreta\xe7\xe3o, o texto "',(0,s.jsx)(o.code,{children:"<! -#4DIF expression--\x3e"}),': uma express\xe3o booliana foi esperada" \xe9 inserida em vez do conte\xfado localizado entre ',(0,s.jsx)(o.code,{children:"<! -#4DIF --\x3e"})," e ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDIF--\x3e"}),". Da mesma forma, se n\xe3o houver tantos ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDIF--\x3e"})," como ",(0,s.jsx)(o.code,{children:"<! -#4DIF --\x3e"}),', o texto "',(0,s.jsx)(o.code,{children:"<! -#4DIF expression--\x3e"}),': 4DENDIF esperado" \xe9 inserido ao inv\xe9s do conte\xfado localizado entre ',(0,s.jsx)(o.code,{children:"<! -#4DIF --\x3e"})," e ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDIF--\x3e"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["Usando a etiqueta ",(0,s.jsx)(o.code,{children:"\x3c!--#4DELSEIF--\x3e"}),", voc\xea pode testar um n\xfamero ilimitado de condi\xe7\xf5es. Somente o c\xf3digo que segue a primeira condi\xe7\xe3o avaliada como ",(0,s.jsx)(o.code,{children:"True"})," \xe9 executado. Se n\xe3o houver condi\xe7\xf5es verdadeiras, nenhuma declara\xe7\xe3o \xe9 executada (se n\xe3o houver nenhuma declara\xe7\xe3o final ",(0,s.jsx)(o.code,{children:"\x3c!--#4DELSE--\x3e"}),"). Voc\xea pode usar uma etiqueta ",(0,s.jsx)(o.code,{children:"\x3c!--#4DELSE--\x3e"})," ap\xf3s o \xfaltimo ",(0,s.jsx)(o.code,{children:"\x3c!--#4DELSEIF--\x3e"}),". Se todas as condi\xe7\xf5es forem falsas, as instru\xe7\xf5es seguintes ",(0,s.jsx)(o.code,{children:"\x3c!--#4DELSE--\x3e"})," ser\xe3o executadas."]}),"\n",(0,s.jsx)(o.p,{children:"Os dois c\xf3digos seguintes s\xe3o equivalentes."}),"\n",(0,s.jsx)(o.p,{children:"C\xf3digo utilizando apenas 4DELSE:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"\x3c!--#4DIF Condition1--\x3e\n  /* A condi\xe7\xe3o1 \xe9 verdadeira*/\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DIF Condition2--\x3e\n        /* A condi\xe7\xe3o2 \xe9 verdadeira*/\n    \x3c!--#4DELSE--\x3e\n        \x3c!--#4DIF Condition3--\x3e\n            /* A condi\xe7\xe3o3 \xe9 verdadeira */\n        \x3c!--#4DELSE--\x3e\n            /*Nenhuma das condi\xe7\xf5es \xe9 verdadeira*/\n        \x3c!--#4DENDIF--\x3e\n    \x3c!--#4DENDIF--\x3e\n\x3c!--#4DENDIF--\x3e\n"})}),"\n",(0,s.jsxs)(o.p,{children:["C\xf3digo semelhante usando a tag ",(0,s.jsx)(o.code,{children:"4DELSEIF"}),":"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"\x3c!--#4DIF Condition1--\x3e\n     /* A condi\xe7\xe3o1 \xe9 verdadeira*/\n\x3c!--#4DELSEIF Condition2--\x3e\n     /* A condi\xe7\xe3o2 \xe9 verdadeira*/\n\x3c!--#4DELSEIF Condition3--\x3e\n    /* A condi\xe7\xe3o3 \xe9 verdadeira */\n\x3c!--#4DELSE--\x3e\n    /* Nenhuma das condi\xe7\xf5es \xe9 verdadeira*/\n\x3c!--#4DENDIF--\x3e\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Este exemplo de c\xf3digo inserido em uma p\xe1gina HTML est\xe1tica exibe um r\xf3tulo diferente conforme o resultado de express\xe3o ",(0,s.jsx)(o.code,{children:'vname#""'}),":"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:'<BODY>\n...\n\x3c!--#4DIF (vname#"")--\x3e\nNames starting with \x3c!--#4DTEXT vname--\x3e.\n\x3c!--#4DELSE--\x3e\nNo name has been found.\n\x3c!--#4DENDIF--\x3e\n...\n</BODY>\n'})}),"\n",(0,s.jsx)(o.p,{children:"Este exemplo insere p\xe1ginas diferentes dependendo de qual usu\xe1rio est\xe1 conectado:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:'\x3c!--#4DIF LoggedIn=False--\x3e\n    \x3c!--#4DINCLUDE Login.htm --\x3e\n\x3c!--#4DELSEIF User="Admin" --\x3e\n    \x3c!--#4DINCLUDE AdminPanel.htm --\x3e\n\x3c!--#4DELSEIF User="Manager" --\x3e\n    \x3c!--#4DINCLUDE SalesDashboard.htm --\x3e\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DINCLUDE ItemList.htm --\x3e\n\x3c!--#4DENDIF--\x3e\n'})}),"\n",(0,s.jsx)(o.h2,{id:"4dinclude",children:"4DINCLUDE"}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe---4dinclude-path--",children:["Sintaxe: ",(0,s.jsx)(o.code,{children:"\x3c!--#4DINCLUDE path--\x3e"})]}),"\n",(0,s.jsxs)(o.p,{children:["Esta tag \xe9 projetada principalmente para incluir uma p\xe1gina HTML (indicado pelo par\xe2metro ",(0,s.jsx)(o.em,{children:"caminho"})," ) em outra p\xe1gina HTML. Por padr\xe3o, apenas o corpo da p\xe1gina HTML especificada, ou seja, o conte\xfado encontrado dentro das tags ",(0,s.jsx)(o.code,{children:"<body>"})," e ",(0,s.jsx)(o.code,{children:"</body>"})," , est\xe1 inclu\xeddo (as tags em si n\xe3o est\xe3o inclu\xeddas). Isso permite evitar conflitos relacionados a meta etiquetas presentes nos cabe\xe7alhos."]}),"\n",(0,s.jsxs)(o.p,{children:["No entanto, se a p\xe1gina HTML especificada n\xe3o contiver etiquetas ",(0,s.jsx)(o.code,{children:"<body>"})," e ",(0,s.jsx)(o.code,{children:"</body>"})," , a p\xe1gina inteira ser\xe1 inclu\xedda. Cabe-lhe a voc\xea verificar a coer\xeancia das meta etiquetas."]}),"\n",(0,s.jsxs)(o.p,{children:["O coment\xe1rio ",(0,s.jsx)(o.code,{children:"\x3c!--#4DINCLUDE --\x3e"})," \xe9 muito \xfatil para testes (",(0,s.jsx)(o.code,{children:"<! -#4DIF--\x3e"}),") ou la\xe7os (",(0,s.jsx)(o.code,{children:"\x3c!--#4DLOOP--\x3e"}),"). \xc9 muito conveniente incluir banners de acordo com crit\xe9rios ou de forma aleat\xf3ria. Ao incluir, independentemente da extens\xe3o de nome do arquivo, O 4D analisa a p\xe1gina chamada e, em seguida, insere o conte\xfado (modificado ou n\xe3o) na p\xe1gina originando a chamada ",(0,s.jsx)(o.code,{children:"4DINCLUDE"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["Uma p\xe1gina inclu\xedda com ",(0,s.jsx)(o.code,{children:"<! -#4DINCLUDE -- O coment\xe1rio>"})," \xe9 carregado no cache do servidor Web da mesma forma que as p\xe1ginas chamadas atrav\xe9s de uma URL ou enviadas com o comando ",(0,s.jsx)(o.code,{children:"WEB SEND ARQUIVO"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["Em ",(0,s.jsx)(o.em,{children:"path"}),", coloque o caminho que leva ao documento a incluir. Aviso: No caso de um ",(0,s.jsx)(o.code,{children:"4DINCLUDE"}),' chamada, o caminho \xe9 relativo ao documento que est\xe1 sendo analisado, ou seja, o documento "pai". Use o caractere com a barra (/) como um separador de pastas e os dois pontos (..) para subir um n\xedvel (sintaxe HTML). Quando voc\xea usa a tag ',(0,s.jsx)(o.code,{children:"4DINCLUDE"})," com o comando ",(0,s.jsx)(o.code,{children:"PROCESS 4D TAGS"})," , a pasta padr\xe3o \xe9 a pasta do projeto."]}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsxs)(o.p,{children:["\xc9 poss\xedvel modificar a pasta padr\xe3o usada pela tag ",(0,s.jsx)(o.code,{children:"4DINCLUDE"})," na p\xe1gina atual, usando o ",(0,s.jsx)(o.code,{children:"<! -#4DBASE --\x3e"})," tag (veja abaixo)."]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["O n\xfamero de ",(0,s.jsx)(o.code,{children:"\x3c!--#4DINCLUDE caminho--\x3e"})," dentro de uma p\xe1gina \xe9 ilimitado. No entanto, o ",(0,s.jsx)(o.code,{children:"\x3c!--#4DINCLUDE caminho--\x3e"})," chamadas s\xf3 podem ser feitas em um n\xedvel. isso significa que, por exemplo, n\xe3o se pode inserir ",(0,s.jsx)(o.code,{children:"\x3c!--#4DINCLUDE mydoc3.html--\x3e"})," no ",(0,s.jsx)(o.em,{children:"mydoc2.html"})," corpo da p\xe1gina, que \xe9 chamado por ",(0,s.jsx)(o.code,{children:"\x3c!--#4DINCLUDE mydoc2--\x3e"})," inserted in ",(0,s.jsx)(o.em,{children:"mydoc1.html"}),". Al\xe9m disso, 4D verifica que as inclus\xf5es n\xe3o s\xe3o recursivas."]}),"\n",(0,s.jsxs)(o.p,{children:['Em caso de erro, o texto inserido \xe9 "',(0,s.jsx)(o.code,{children:"\x3c!--#4DINCLUDE path--\x3e"}),': o documento n\xe3o pode ser aberto".']}),"\n",(0,s.jsx)(o.p,{children:"Exemplos:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage.html--\x3e\n\x3c!--#4DINCLUDE ../folder/subpage.html--\x3e\n"})}),"\n",(0,s.jsx)(o.h2,{id:"4dloop-e-4dendloop",children:"4DLOOP e 4DENDLOOP"}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe---4dloop-condition-----4dendloop--",children:["Sintaxe: ",(0,s.jsx)(o.code,{children:"\x3c!--#4DLOOP condition--\x3e"})," ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDLOOP--\x3e"})]}),"\n",(0,s.jsxs)(o.p,{children:["Este coment\xe1rio permite a repeti\xe7\xe3o de uma por\xe7\xe3o de c\xf3digo, desde que a condi\xe7\xe3o seja satisfeita. A por\xe7\xe3o \xe9 delimitada por ",(0,s.jsx)(o.code,{children:"\x3c!--#4DLOOP--\x3e"})," e ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDLOOP--\x3e"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["O ",(0,s.jsx)(o.code,{children:"\x3c!--#4DLOOP Condicionado--\x3e"})," ... ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDLOOP--\x3e"})," blocos podem ser aninhados. Como em 4D, cada ",(0,s.jsx)(o.code,{children:"\x3c!--#4DLOOP condition--\x3e"})," deve corresponder a um ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDLOOP--\x3e"}),"."]}),"\n",(0,s.jsx)(o.p,{children:"Existem cinco tipos de condi\xe7\xf5es:"}),"\n",(0,s.jsx)(o.h3,{id:"--4dloop-table--",children:(0,s.jsx)(o.code,{children:"\x3c!--#4DLOOP [table]--\x3e"})}),"\n",(0,s.jsx)(o.p,{children:"Esta sintaxe faz um loop para cada registro da tabela selecionada atualmente no processo atual. A por\xe7\xe3o de c\xf3digo localizada entre os dois coment\xe1rios \xe9 repetida para cada registro de sele\xe7\xe3o atual."}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsxs)(o.p,{children:["Quando a tag ",(0,s.jsx)(o.code,{children:"4DLOOP"}),' for usada com uma tabela, os registros s\xe3o carregados no modo "Somente leitura".']}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"O seguinte c\xf3digo:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"\x3c!--#4DLOOP [People]--\x3e\n\x3c!--#4DTEXT [People]Name--\x3e \x3c!--#4DTEXT [People]Surname--\x3e<br/>\n\x3c!--#4DENDLOOP--\x3e\n"})}),"\n",(0,s.jsx)(o.p,{children:"... poderia ser expresso em linguagem 4D da seguinte forma:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-4d",children:" NEXT RECORD([People])\n End while\n    FIRST RECORD([People])\n While(Not(End selection([People])))\n    ...\n    NEXT RECORD([People])\n End while\n    FIRST RECORD([People])\n While(Not(End selection([People])))\n    ...\n"})}),"\n",(0,s.jsx)(o.h3,{id:"--4dloop-array--",children:(0,s.jsx)(o.code,{children:"\x3c!--#4DLOOP array--\x3e"})}),"\n",(0,s.jsx)(o.p,{children:"Esta sintaxe cria um ciclo para cada item do array. O item atual do array \xe9 aumentado quando cada parte do c\xf3digo \xe9 repetida."}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"Esta sintaxe n\xe3o pode ser utilizada com arrays de duas dimens\xf5es. Neste caso, \xe9 prefer\xedvel combinar um m\xe9todo com loops aninhados."}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"O seguinte exemplo de c\xf3digo:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"\x3c!--#4DLOOP arr_names--\x3e\n\x3c!--#4DTEXT arr_names{arr_names}--\x3e<br/>\n\x3c!--#4DENDLOOP--\x3e\n"})}),"\n",(0,s.jsx)(o.p,{children:"... poderia ser expresso em linguagem 4D da seguinte forma:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-4d",children:" For($Elem;1;Size of array(arr_names))\n    arr_names:=$Elem\n    ...\n End for\n"})}),"\n",(0,s.jsx)(o.h3,{id:"--4dloop-method--",children:(0,s.jsx)(o.code,{children:"\x3c!--#4DLOOP method--\x3e"})}),"\n",(0,s.jsxs)(o.p,{children:["Esta sintaxe faz um loop contanto que o m\xe9todo retorne ",(0,s.jsx)(o.code,{children:"True"}),". O m\xe9todo utiliza um tipo de par\xe2metro Long Integer. Primeiro \xe9 chamado com o valor 0 para permitir uma fase de inicializa\xe7\xe3o (se necess\xe1rio); ent\xe3o ele \xe9 chamado com os valores 1, depois 2, depois 3 e assim por diante, contanto que ele retorne ",(0,s.jsx)(o.code,{children:"True"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["Por raz\xf5es de seguran\xe7a, dentro de um processo da Web, o m\xe9todo de banco de dados ",(0,s.jsx)(o.code,{children:"On Web Authentication"})," pode ser chamado uma vez antes do est\xe1gio de inicializa\xe7\xe3o (execu\xe7\xe3o de m\xe9todo com 0 como par\xe2metro). Se a autentica\xe7\xe3o for correta, a fase de inicializa\xe7\xe3o prossegue."]}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.code,{children:"C_BOOLEAN($0)"})," e ",(0,s.jsx)(o.code,{children:"C_LONGINT($1)"})," DEVEM ser declarados no m\xe9todo para efeitos de compila\xe7\xe3o."]}),"\n",(0,s.jsx)(o.p,{children:"O seguinte exemplo de c\xf3digo:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"\x3c!--#4DLOOP my_method--\x3e\n\x3c!--#4DTEXT var--\x3e <br/>\n\x3c!--#4DENDLOOP--\x3e\n"})}),"\n",(0,s.jsx)(o.p,{children:"... poderia ser expresso em linguagem 4D da seguinte forma:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-4d",children:" If(AuthenticationWebOK)\n    If(my_method(0))\n       $counter:=1\n       While(my_method($counter))\n          ...\n          $counter:=$counter+1\n       End while\n    End if\n End if\n"})}),"\n",(0,s.jsxs)(o.p,{children:["O m\xe9todo ",(0,s.jsx)(o.code,{children:"my_method"})," pode ser o seguinte:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-4d",children:" C_LONGINT($1)\n C_BOOLEAN($0)\n If($1=0) `Initialisation\n    $0:=True\n Else\n    If($1<50)\n       ...\n       var:=...\n       $0:=True\n    Else\n       $0:=False `Para o ciclo\n    End if\n End if\n"})}),"\n",(0,s.jsx)(o.h3,{id:"--4dloop-expression--",children:(0,s.jsx)(o.code,{children:"\x3c!--#4DLOOP expression--\x3e"})}),"\n",(0,s.jsxs)(o.p,{children:["Com essa sintaxe, a tag ",(0,s.jsx)(o.code,{children:"4DLOOP"})," faz um loop contanto que a express\xe3o ** retorne ",(0,s.jsx)(o.code,{children:"True"}),". A express\xe3o pode ser qualquer express\xe3o booleana v\xe1lida e deve conter uma parte da vari\xe1vel para ser avaliada em cada la\xe7o para evitar la\xe7os infinitos."]}),"\n",(0,s.jsx)(o.p,{children:"Por exemplo, o seguinte c\xf3digo:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"\x3c!--#4DEVAL $i:=0--\x3e\n\x3c!--#4DLOOP ($i<4)--\x3e\n\x3c!--#4DEVAL $i--\x3e\n\x3c!--#4DEVAL $i:=$i+1--\x3e\n\x3c!--#4DENDLOOP--\x3e\n"})}),"\n",(0,s.jsx)(o.p,{children:"...produz o seguinte resultado:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"\n0\n1\n2\n3\n"})}),"\n",(0,s.jsx)(o.h3,{id:"--4dloop-pointerarray--",children:(0,s.jsx)(o.code,{children:"\x3c!--#4DLOOP pointerArray--\x3e"})}),"\n",(0,s.jsxs)(o.p,{children:["Neste caso, o marcador ",(0,s.jsx)(o.code,{children:"4DLOOP"})," funciona como ele com um array: ele faz um loop para cada elemento da matriz referenciado pelo ponteiro. O elemento do array atual \xe9 aumentado cada vez que a por\xe7\xe3o de c\xf3digo \xe9 repetida."]}),"\n",(0,s.jsxs)(o.p,{children:["Esta sintaxe \xe9 \xfatil quando voc\xea passa um ponteiro do array como um par\xe2metro para o comando ",(0,s.jsx)(o.code,{children:"PROCESS 4D TAGS"}),"."]}),"\n",(0,s.jsx)(o.p,{children:"Exemplo:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-4d",children:' ARRAY TEXT($array;2)\n $array{1}:="hello"\n $array{2}:="world"\n $input:="\x3c!--#4DEVAL $1--\x3e"\n $input:=$input+"\x3c!--#4DLOOP $2--\x3e"\n $input:=$input+"\x3c!--#4DEVAL $2->{$2->}--\x3e "\n $input:=$input+"\x3c!--#4DENDLOOP--\x3e"\n PROCESS 4D TAGS($input;$output;"elements = ";->$array)\n  // $output = "elements = hello world "\n'})}),"\n",(0,s.jsxs)(o.p,{children:['Em caso de erro de interpreta\xe7\xe3o, o texto "',(0,s.jsx)(o.code,{children:"<! -#4DLOOP express\xe3o--\x3e"}),': descri\xe7\xe3o" \xe9 inserida ao inv\xe9s do conte\xfado localizado entre ',(0,s.jsx)(o.code,{children:"<! -#4DLOOP --\x3e"})," e ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDLOOP--\x3e"}),"."]}),"\n",(0,s.jsx)(o.p,{children:"Podem ser mostradas as seguintes mensagens:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Tipo de express\xe3o inesperado (erro padr\xe3o);"}),"\n",(0,s.jsx)(o.li,{children:"Nome incorreto da tabela (erro no nome da tabela);"}),"\n",(0,s.jsx)(o.li,{children:"Um array era esperado (a vari\xe1vel n\xe3o \xe9 um array ou \xe9 um array de duas dimens\xf5es);"}),"\n",(0,s.jsx)(o.li,{children:"O m\xe9todo n\xe3o existe;"}),"\n",(0,s.jsx)(o.li,{children:"Erro de sintaxe (quando o m\xe9todo est\xe1 em execu\xe7\xe3o);"}),"\n",(0,s.jsx)(o.li,{children:"Erro de acesso (voc\xea n\xe3o tem os privil\xe9gios de acesso apropriados para acessar a tabela ou o m\xe9todo)."}),"\n",(0,s.jsxs)(o.li,{children:["4DENDLOOP esperado (o n\xfamero ",(0,s.jsx)(o.code,{children:"\x3c!--#4DENDLOOP--\x3e"})," n\xe3o coincide com o n\xfamero ",(0,s.jsx)(o.code,{children:"\x3c!--#4DLOOP --\x3e"}),")."]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"4dscript",children:"4DSCRIPT/"}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe---4dscriptmethodnamemyparam--",children:["Sintaxe: ",(0,s.jsx)(o.code,{children:"\x3c!--#4DSCRIPT/MethodName/MyParam--\x3e"})]}),"\n",(0,s.jsxs)(o.p,{children:["A etiqueta ",(0,s.jsx)(o.code,{children:"4DSCRIPT"})," permite que voc\xea execute m\xe9todos 4D ao processar o modelo. A presen\xe7a da etiqueta ",(0,s.jsx)(o.code,{children:"\x3c!--#4DSCRIPT/MyMethod/MyParam--\x3e"})," como um coment\xe1rio HTML inicia a execu\xe7\xe3o do m\xe9todo ",(0,s.jsx)(o.code,{children:"MyMethod"})," com o par\xe2metro ",(0,s.jsx)(o.code,{children:"Param"})," como uma string em ",(0,s.jsx)(o.code,{children:"$1"}),"."]}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsxs)(o.p,{children:["Se a etiqueta for chamada no contexto de um processo Web, quando a p\xe1gina for carregada, 4D chamar\xe1 o m\xe9todo de banco de dados ",(0,s.jsx)(o.code,{children:"On Web Authentication"})," (se existir). Se retornar True, 4D executa o m\xe9todo."]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["O m\xe9todo deve devolver o texto em ",(0,s.jsx)(o.code,{children:"$0"}),". Se a string come\xe7a com o caractere de c\xf3digo 1, ele \xe9 considerado HTML (o mesmo princ\xedpio \xe9 verdadeiro para a etiqueta ",(0,s.jsx)(o.code,{children:"4DHTML"}),")."]}),"\n",(0,s.jsxs)(o.p,{children:["Por exemplo, digamos que voc\xea insira o seguinte coment\xe1rio ",(0,s.jsx)(o.code,{children:"\u201CToday is \x3c!--#4DSCRIPT/MYMETH/MYPARAM--\x3e\u201D"})," em um modelo de p\xe1gina Web. Quando carrega a p\xe1gina, 4D chama o m\xe9todo do banco de dados ",(0,s.jsx)(o.code,{children:"On Web Authentication"}),", ent\xe3o chama o m\xe9todo ",(0,s.jsx)(o.code,{children:"MYMETH"})," e passa a string \u201C/MYPARAM\u201D como o par\xe2metro ",(0,s.jsx)(o.code,{children:"$1"}),'. The method returns text in $0 (for example "12/31/21"); the expression "',(0,s.jsx)(o.code,{children:"Today is\x3c!--#4DSCRIPT/MYMETH/MYPARAM\u2013\u2013>"}),'" therefore becomes "Today is 12/31/21".']}),"\n",(0,s.jsxs)(o.p,{children:["O m\xe9todo ",(0,s.jsx)(o.code,{children:"MYMETH"})," \xe9 o seguinte:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-4d",children:"  //MYMETH\n C_TEXT($0;$1) //Estes par\xe2metros devem ser sempre declarados\n $0:=String(Current date)\n"})}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsxs)(o.p,{children:["Um m\xe9todo chamado por ",(0,s.jsx)(o.code,{children:"4DSCRIPT"})," n\xe3o deve chamar elementos da interface (",(0,s.jsx)(o.code,{children:"DIALOG"}),", ",(0,s.jsx)(o.code,{children:"ALERT"}),", etc.)."]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["Como 4D executa m\xe9todos em sua ordem de apari\xe7\xe3o, \xe9 absolutamente poss\xedvel chamar um m\xe9todo que define o valor de muitas vari\xe1veis referenciadas mais adiante no documento, seja qual for o modo que estiver usando. Voc\xea pode inserir quantos ",(0,s.jsx)(o.code,{children:"\x3c!--#4DSCRIPT...--\x3e"})," coment\xe1rios como quiser em um modelo."]}),"\n",(0,s.jsx)(o.h2,{id:"4dtext",children:"4DTEXT"}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe---4dtext-express\xe3o--",children:["Sintaxe: ",(0,s.jsx)(o.code,{children:"\x3c!--#4DTEXT express\xe3o--\x3e"})]}),"\n",(0,s.jsxs)(o.h4,{id:"sintaxe-alternativa-4dtextexpress\xe3o",children:["Sintaxe alternativa: ",(0,s.jsx)(o.code,{children:"$4DTEXT(express\xe3o)"})]}),"\n",(0,s.jsx)(o.p,{children:"A etiqueta `< permite que voc\xea insira uma refer\xeancia a uma vari\xe1vel 4D ou a uma express\xe3o que retorna um valor. Por exemplo, se escrever (numa p\xe1gina HTML):"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"<P>Welcome to \x3c!--#4DTEXT vtSiteName--\x3e!</P>\n"})}),"\n",(0,s.jsx)(o.p,{children:"! `"}),"\n",(0,s.jsxs)(o.p,{children:["O valor da vari\xe1vel 4D ",(0,s.jsx)(o.code,{children:"vtSiteName"}),' ser\xe1 inserido na p\xe1gina HTML quando ela for enviada. Esse valor \xe9 inserido como texto simples, e os caracteres HTML especiais, como ">" s\xe3o automaticamente escapados.']}),(0,s.jsx)(o.p,{}),"\n",(0,s.jsxs)(o.p,{children:["Tamb\xe9m \xe9 poss\xedvel inserir express\xf5es 4D. Voc\xea pode, por exemplo, inserir diretamente o conte\xfado de um campo (",(0,s.jsx)(o.code,{children:"<! -#4DTEXT [tableName]fieldName--\x3e"}),"), um elemento de array (",(0,s.jsx)(o.code,{children:"<! -#4DTEXT tabarr{1}--\x3e"}),") ou um m\xe9todo retornando um valor (",(0,s.jsx)(o.code,{children:"\x3c!--#4DTEXT mymethod--\x3e"}),"). A convers\xe3o de express\xf5es segue as mesmas regras das vari\xe1veis. Al\xe9m disso, a express\xe3o deve respeitar as regras de sintaxe 4D."]}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsxs)(o.p,{children:["Por motivos de seguran\xe7a, recomenda-se usar essa etiqueta ao processar dados introduzidos de fora do aplicativo, de modo a evitar a ",(0,s.jsx)(o.a,{href:"/docs/pt/19/WebServer/templates#prevention-of-malicious-code-insertion",children:"inser\xe7\xe3o de c\xf3digo malicioso"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["Em caso de erro de avalia\xe7\xe3o, o texto inserido aparecer\xe1 como ",(0,s.jsx)(o.code,{children:"\x3c!--#4DTEXT myvar--\x3e : ## erro # c\xf3digo de erro"}),"."]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"\xc9 necess\xe1rio utilizar vari\xe1veis processo."}),"\n",(0,s.jsx)(o.li,{children:"\xc9 poss\xedvel mostrar o conte\xfado de um campo imagem. No entanto, n\xe3o \xe9 poss\xedvel exibir o conte\xfado de um item matriz de imagens."}),"\n",(0,s.jsxs)(o.li,{children:["\xc9 poss\xedvel exibir o conte\xfado de um campo objeto por uma f\xf3rmula 4D. Por exemplo, voc\xea pode escrever ",(0,s.jsx)(o.code,{children:'\x3c!--#4DTEXT OB Get:C1224([Rect]Desc;\\"color\\")--\x3e'}),"."]}),"\n",(0,s.jsxs)(o.li,{children:["Normalmente, trabalha-se com vari\xe1veis de tipo texto. No entanto, tamb\xe9m \xe9 poss\xedvel utilizar vari\xe1veis BLOB. Voc\xea s\xf3 precisa gerar os BLOBs em modo ",(0,s.jsx)(o.code,{children:"Texto sem comprimento"}),"."]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"sintaxe-alternativa-para-4dtext-4dhtml-4deval",children:"Sintaxe alternativa para 4DTEXT, 4DHTML, 4DEVAL"}),"\n",(0,s.jsx)(o.p,{children:"V\xe1rias tags de transforma\xe7\xe3o 4D existentes podem ser expressas usando uma sintaxe baseada em $:"}),"\n",(0,s.jsx)(o.h4,{id:"4dtag-expression",children:"$4dtag (expression)"}),"\n",(0,s.jsx)(o.p,{children:"pode ser utilizado em vez de"}),"\n",(0,s.jsx)(o.h4,{id:"--4dtag-expression--",children:(0,s.jsx)(o.code,{children:"\x3c!--#4dtag expression--\x3e"})}),"\n",(0,s.jsx)(o.p,{children:"Esta sintaxe alternativa est\xe1 dispon\xedvel apenas para as etiquetas usadas para retornar valores processados:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"#4dtext",children:"4DTEXT"})}),"\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"#4dhtml",children:"4DHTML"})}),"\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"#4deval",children:"4DEVAL"})}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"(Outras etiquetas, como 4DIF ou 4DSCRIPT, devem ser escritas com a sintaxe normal)."}),"\n",(0,s.jsx)(o.p,{children:"Por exemplo, pode escrever:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"$4DEVAL(UserName)\n"})}),"\n",(0,s.jsx)(o.p,{children:"em vez de:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-html",children:"\x3c!--#4DEVAL(UserName)--\x3e\n"})}),"\n",(0,s.jsxs)(o.p,{children:['A principal vantagem dessa sintaxe \xe9 que ela permite que voc\xea escreva modelos em conformidade com XML. Alguns desenvolvedores de 4D precisam criar e validar modelos baseados em XML usando ferramentas padr\xe3o de an\xe1lise de XML. Como o caractere "<" \xe9 inv\xe1lido em um valor de atributo XML, n\xe3o foi poss\xedvel usar o "',(0,s.jsx)(o.code,{children:"<! - --\x3e"}),'" sintaxe de tags 4D sem quebrar a sintaxe do documento. Por outro lado, escapar o caractere "<" impedir\xe1 que 4D interprete as tags corretamente.']}),"\n",(0,s.jsx)(o.p,{children:'Por exemplo, o c\xf3digo a seguir causaria um erro de an\xe1lise de XML por causa do primeiro caractere "<" no valor de atributo:'}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-xml",children:'<line x1="\x3c!--#4DEVAL $x--\x3e" y1="\x3c!--#4DEVAL $graphY1--\x3e"/>\n'})}),"\n",(0,s.jsx)(o.p,{children:"Utilizando a sintaxe $, o seguinte c\xf3digo \xe9 validado pelo analisador:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-xml",children:'<line x1="$4DEVAL($x)" y1="$4DEVAL($graphY1)"/>\n'})}),"\n",(0,s.jsxs)(o.p,{children:["Observe que ",(0,s.jsx)(o.code,{children:"$4dtag"})," and ",(0,s.jsx)(o.code,{children:"<--#4dtag --\x3e"})," n\xe3o s\xe3o estritamente equivalentes: diferente de ",(0,s.jsx)(o.code,{children:"<--#4dtag --\x3e"}),", ",(0,s.jsx)(o.code,{children:"$4dtag"})," processamento n\xe3o interpreta tags 4D ",(0,s.jsx)(o.a,{href:"#recursive-processing",children:"recursivamente"}),". ",(0,s.jsx)(o.code,{children:"$"})," tags s\xe3o sempre avaliadas uma vez e o resultado \xe9 considerado como texto simples."]}),"\n",(0,s.jsxs)(o.p,{children:["A raz\xe3o para esta diferen\xe7a \xe9 evitar a inje\xe7\xe3o de c\xf3digo malicioso. As ",(0,s.jsx)(o.a,{href:"/docs/pt/19/WebServer/templates#prevention-of-malicious-code-insertion",children:"explained below"}),", it is strongly recommended to use ",(0,s.jsx)(o.code,{children:"4DTEXT"})," tags instead of ",(0,s.jsx)(o.code,{children:"4DHTML"})," tags when handling user text to protect against unwanted reinterpretation of tags: with ",(0,s.jsx)(o.code,{children:"4DTEXT"}),', special characters such as "<" are escaped, thus any 4D tags using the ',(0,s.jsx)(o.code,{children:"\x3c!--#4dtag expression --\x3e"})," syntax will lose their particular meaning. No entanto, uma vez que ",(0,s.jsx)(o.code,{children:"4DTEXT"})," n\xe3o escapa do s\xedmbolo ",(0,s.jsx)(o.code,{children:"$"})," , decidimos quebrar o suporte para recurs\xe3o a fim de evitar inje\xe7\xf5es maliciosas usando a sintaxe ",(0,s.jsx)(o.code,{children:"$4dtag (express\xe3o)"}),"."]}),"\n",(0,s.jsx)(o.p,{children:"Os seguintes exemplos mostram o resultado do processamento dependendo da sintaxe e da tag usada:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-4d",children:'  // Exemplo 1\n myName:="\x3c!--#4DHTML QUIT 4D--\x3e" // inserto malicioso\n input:="My name is: \x3c!--#4DHTML myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //4D vai fechar!\n'})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-4d",children:'  // example 2\n myName:="\x3c!--#4DHTML QUIT 4D--\x3e" //inser\xe7\xe3o maliciosa\n input:="My name is: \x3c!--#4DTEXT myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //output \xe9 "My name is: \x3c!--#4DHTML QUIT 4D--\x3e"\n'})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-4d",children:'  // exemplo 3\n myName:="$4DEVAL(QUIT 4D)" //inje\xe7\xe3o maliciosa\n input:="My name is: \x3c!--#4DTEXT myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //a sa\xedda \xe9 "My name is: $4DEVAL(QUIT 4D)"\n'})}),"\n",(0,s.jsxs)(o.p,{children:["Observe que a sintaxe ",(0,s.jsx)(o.code,{children:"$4dtag"})," suporta pares correspondentes de cita\xe7\xf5es fechadas ou par\xeanteses. Por exemplo, suponha que voc\xea precisa avaliar a seguinte string complexa (irrealista):"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:'String(1) + "\\"(hello)\\""\n'})}),"\n",(0,s.jsx)(o.p,{children:"Voc\xea pode escrever:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-4d",children:' input:="$4DEVAL( String(1)+\\"\\\\\\"(hello)\\\\\\"\\")"\n PROCESS 4D TAGS(input;output)\n --\x3eoutput is 1"(hello)"\n'})})]})}function m(e={}){let{wrapper:o}={...(0,d.a)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},250065:function(e,o,a){a.d(o,{Z:function(){return i},a:function(){return r}});var n=a(667294);let s={},d=n.createContext(s);function r(e){let o=n.useContext(d);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(d.Provider,{value:o},e.children)}}}]);