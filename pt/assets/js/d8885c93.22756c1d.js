"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["66803"],{899471:function(e,r,n){n.r(r),n.d(r,{default:()=>h,frontMatter:()=>i,metadata:()=>s,assets:()=>t,toc:()=>a,contentTitle:()=>c});var s=JSON.parse('{"id":"WebServer/webServerObject","title":"Objeto Web Server","description":"Um projeto 4D pode iniciar e monitorar um servidor web para a aplica\xe7\xe3o (host) principal, bem como para cada componente hospedado.","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-20/WebServer/webServerObject.md","sourceDirName":"WebServer","slug":"/WebServer/webServerObject","permalink":"/docs/pt/20/WebServer/webServerObject","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20WebServer%2FwebServerObject.md%20(20)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20","frontMatter":{"id":"webServerObject","title":"Objeto Web Server"},"sidebar":"docs","previous":{"title":"Administra\xe7\xe3o","permalink":"/docs/pt/20/WebServer/webServerAdmin"},"next":{"title":"Desenvolvimento Web","permalink":"/docs/pt/20/WebServer/gettingStarted"}}'),d=n("785893"),o=n("250065");let i={id:"webServerObject",title:"Objeto Web Server"},c=void 0,t={},a=[{value:"Instanciar um objeto servidor Web",id:"instanciar-um-objeto-servidor-web",level:2},{value:"Fun\xe7\xf5es do servidor Web",id:"fun\xe7\xf5es-do-servidor-web",level:2},{value:"Propriedades do servidor web",id:"propriedades-do-servidor-web",level:2},{value:"\xc2mbito dos comandos 4D Web",id:"\xe2mbito-dos-comandos-4d-web",level:2}];function l(e){let r={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.p,{children:"Um projeto 4D pode iniciar e monitorar um servidor web para a aplica\xe7\xe3o (host) principal, bem como para cada componente hospedado."}),"\n",(0,d.jsx)(r.p,{children:"Por exemplo, se voc\xea instalou dois componentes em sua aplica\xe7\xe3o principal, voc\xea pode iniciar e monitorar at\xe9 tr\xeas servidores web independentes em sua aplica\xe7\xe3o:"}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsx)(r.li,{children:"um servidor web para a aplica\xe7\xe3o local,"}),"\n",(0,d.jsx)(r.li,{children:"um servidor Web para o componente #1,"}),"\n",(0,d.jsx)(r.li,{children:"um servidor Web para o componente #2."}),"\n"]}),"\n",(0,d.jsx)(r.p,{children:"Al\xe9m da mem\xf3ria, n\xe3o h\xe1 limite para o n\xfamero de componentes e, assim, de servidores web, que podem ser anexados a um \xfanico projeto de aplica\xe7\xe3o 4D."}),"\n",(0,d.jsxs)(r.p,{children:["Cada servidor web 4D, incluindo o servidor web da aplica\xe7\xe3o principal, \xe9 exposto como um ",(0,d.jsx)(r.strong,{children:"objeto"})," espec\xedfico da classe ",(0,d.jsx)(r.code,{children:"4D. WebServer"}),". Uma vez instanciado, um objeto de servidor da Web pode ser gerenciado a partir da aplica\xe7\xe3o atual ou de qualquer componente usando um ",(0,d.jsx)(r.a,{href:"/docs/pt/20/API/WebServerClass",children:"grande n\xfamero de propriedades e fun\xe7\xf5es"}),"."]}),"\n",(0,d.jsxs)(r.blockquote,{children:["\n",(0,d.jsxs)(r.p,{children:["Os ",(0,d.jsx)(r.a,{href:"https://doc.4d.com/4Dv18/4D/18/Web-Server.201-4504301.en.html",children:"comandos WEB"})," herdados da linguagem 4D s\xe3o compat\xedveis, mas n\xe3o \xe9 poss\xedvel selecionar o servidor Web ao qual eles se aplicam (veja abaixo)."]}),"\n"]}),"\n",(0,d.jsx)(r.p,{children:"Cada servidor web (aplica\xe7\xe3o host ou componente) pode ser usado em seu pr\xf3prio contexto separado, incluindo:"}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsxs)(r.li,{children:["as chamadas os m\xe9todos banco de dados ",(0,d.jsx)(r.code,{children:"On Web Authentication"})," e ",(0,d.jsx)(r.code,{children:"On Web Connection"})]}),"\n",(0,d.jsx)(r.li,{children:"o processamento das etiquetas 4D e das chamadas de m\xe9todos,"}),"\n",(0,d.jsx)(r.li,{children:"sess\xf5es Web e gest\xe3o do protocolo TLS."}),"\n"]}),"\n",(0,d.jsx)(r.p,{children:"Isso permite que voc\xea desenvolva componentes e recursos independentes que v\xeam com suas pr\xf3prias interfaces web."}),"\n",(0,d.jsx)(r.h2,{id:"instanciar-um-objeto-servidor-web",children:"Instanciar um objeto servidor Web"}),"\n",(0,d.jsx)(r.p,{children:"O objeto servidor web da aplica\xe7\xe3o host (servidor web padr\xe3o) \xe9 carregado automaticamente pelo 4D ao iniciar. Assim, se escrever num projeto rec\xe9m-criado:"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-4d",children:"$nbSrv:=WEB Server list.length   \n//$nbSrv valor \xe9 1\n"})}),"\n",(0,d.jsxs)(r.p,{children:["Para instanciar um objeto servidor web, chame o comando ",(0,d.jsx)(r.a,{href:"/docs/pt/20/API/WebServerClass#web-server",children:(0,d.jsx)(r.code,{children:"WEB Server"})}),":"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-4d",children:"    //create an object variable of the 4D. WebServer class\nvar webServer : 4D. WebServer \n    //call the web server from the current context\nwebServer:=WEB Server  \n\n    //equivalent to\nwebServer:=WEB Server(Web server database)\n"})}),"\n",(0,d.jsx)(r.p,{children:"Se a aplica\xe7\xe3o utilizar componentes e o usu\xe1rio pretender chamar:"}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsx)(r.li,{children:"o servidor Web da aplica\xe7\xe3o host a partir de um componente ou"}),"\n",(0,d.jsx)(r.li,{children:"o servidor que recebeu o pedido (qualquer que seja o servidor),"}),"\n"]}),"\n",(0,d.jsx)(r.p,{children:"tamb\xe9m pode ser utilizado:"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-4d",children:"var webServer : 4D. WebServer \n    //call the host web server from a component  \nwebServer:=WEB Server(Web server host database)  \n    //call the target web server\nwebServer:=WEB Server(Web server receiving request)  \n"})}),"\n",(0,d.jsx)(r.h2,{id:"fun\xe7\xf5es-do-servidor-web",children:"Fun\xe7\xf5es do servidor Web"}),"\n",(0,d.jsxs)(r.p,{children:["Um ",(0,d.jsx)(r.a,{href:"/docs/pt/20/API/WebServerClass#web-server-object",children:"objeto de classe web server"})," cont\xe9m as seguintes fun\xe7\xf5es:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Fun\xe7\xf5es"}),(0,d.jsx)(r.th,{children:"Par\xe2metro"}),(0,d.jsx)(r.th,{children:"Valor retornado"}),(0,d.jsx)(r.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.a,{href:"/docs/pt/20/API/WebServerClass#start",children:(0,d.jsx)(r.code,{children:"start()"})})}),(0,d.jsx)(r.td,{children:"settings (objet)"}),(0,d.jsx)(r.td,{children:"status (objecto)"}),(0,d.jsx)(r.td,{children:"Inicia o servidor web"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.a,{href:"/docs/pt/20/API/WebServerClass#start",children:(0,d.jsx)(r.code,{children:"stop()"})})}),(0,d.jsx)(r.td,{children:"-"}),(0,d.jsx)(r.td,{children:"-"}),(0,d.jsx)(r.td,{children:"P\xe1ra o servidor Web"})]})]})]}),"\n",(0,d.jsxs)(r.p,{children:["Para iniciar e interromper um servidor web, apenas chame as fun\xe7\xf5es ",(0,d.jsx)(r.a,{href:"/docs/pt/20/API/WebServerClass#start",children:(0,d.jsx)(r.code,{children:"start()"})})," e ",(0,d.jsx)(r.a,{href:"/docs/pt/20/API/WebServerClass#stop",children:(0,d.jsx)(r.code,{children:"stop()"})})," do objeto servidor web:"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-4d",children:"var $status : Object\n    //para iniciar um servidor web com os par\xe2metros padr\xe3o\n$status:=webServer.start()\n    //para iniciar o servidor web com configura\xe7\xf5es personalizadas  \n    // O objeto$settings cont\xe9m propriedades do servidor Web\nwebServer.start($settings)\n\n    //para parar o servidor da web\n$status:=webServer.stop()\n"})}),"\n",(0,d.jsx)(r.h2,{id:"propriedades-do-servidor-web",children:"Propriedades do servidor web"}),"\n",(0,d.jsxs)(r.p,{children:["Um objeto de servidor web cont\xe9m ",(0,d.jsx)(r.a,{href:"/docs/pt/20/API/WebServerClass#web-server-object",children:"v\xe1rias propriedades"})," que configuram o servidor web."]}),"\n",(0,d.jsx)(r.p,{children:"Estas propriedades s\xe3o definidas:"}),"\n",(0,d.jsxs)(r.ol,{children:["\n",(0,d.jsxs)(r.li,{children:["usando o par\xe2metro ",(0,d.jsx)(r.code,{children:"settings"})," da fun\xe7\xe3o ",(0,d.jsx)(r.a,{href:"/docs/pt/20/API/WebServerClass#start",children:(0,d.jsx)(r.code,{children:".start()"})})," (exceto as propriedades somente leitura, veja abaixo),"]}),"\n",(0,d.jsxs)(r.li,{children:["se n\xe3o for usado, usando o comando ",(0,d.jsx)(r.code,{children:"WEB SET OPTION"})," (apenas aplica\xe7\xf5es host),"]}),"\n",(0,d.jsx)(r.li,{children:"se n\xe3o for usado, nos par\xe2metros da aplica\xe7\xe3o host ou do componente."}),"\n"]}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsx)(r.li,{children:"Se o servidor web n\xe3o for iniciado, as propriedades cont\xeam os valores que ser\xe3o usados na pr\xf3xima inicializa\xe7\xe3o do servidor web."}),"\n",(0,d.jsxs)(r.li,{children:["Se o servidor web for iniciado, as propriedades cont\xeam os valores reais usados pelo servidor web (configura\xe7\xf5es padr\xe3o poderiam ter sido substitu\xeddas pelo par\xe2metro ",(0,d.jsx)(r.code,{children:"settings"})," da fun\xe7\xe3o ",(0,d.jsx)(r.a,{href:"/docs/pt/20/API/WebServerClass#start",children:(0,d.jsx)(r.code,{children:".start()"})}),"."]}),"\n"]}),"\n",(0,d.jsxs)(r.blockquote,{children:["\n",(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.em,{children:"isRunning"}),", ",(0,d.jsx)(r.em,{children:"name"}),", ",(0,d.jsx)(r.em,{children:"openSSLVersion"})," e ",(0,d.jsx)(r.em,{children:"perfectForwardSecrecy"})," s\xe3o propriedades somente de leitura que n\xe3o podem ser predefinidas no par\xe2metro objeto",(0,d.jsx)(r.code,{children:"settings"})," para a fun\xe7\xe3o ",(0,d.jsx)(r.a,{href:"/docs/pt/20/API/WebServerClass#start",children:(0,d.jsx)(r.code,{children:"start()"})}),"."]}),"\n"]}),"\n",(0,d.jsx)(r.h2,{id:"\xe2mbito-dos-comandos-4d-web",children:"\xc2mbito dos comandos 4D Web"}),"\n",(0,d.jsxs)(r.p,{children:["A linguagem 4D cont\xe9m ",(0,d.jsx)(r.a,{href:"https://doc.4d.com/4Dv18/4D/18/Web-Server.201-4504301.en.html",children:"v\xe1rios comandos"})," que podem ser usados para controlar o servidor Web. No entanto, esses comandos s\xe3o projetados para funcionar com um \xfanico servidor web (padr\xe3o). Ao usar esses comandos no contexto de objetos do servidor web, certifique-se de que seu escopo \xe9 apropriado."]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Comando"}),(0,d.jsx)(r.th,{children:"\xc2mbito"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"SET DATABASE PARAMETER"})}),(0,d.jsx)(r.td,{children:"Aplica\xe7\xe3o local de servidor Web"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB CLOSE SESSION"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB GET BODY PART"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB Get body part count"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB Get Current Session ID"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB GET HTTP BODY"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB GET HTTP HEADER"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB GET OPTION"})}),(0,d.jsx)(r.td,{children:"Aplica\xe7\xe3o local de servidor Web"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB Get server info"})}),(0,d.jsx)(r.td,{children:"Aplica\xe7\xe3o local de servidor Web"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB GET SESSION EXPIRATION"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB Get session process count"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB GET STATISTICS"})}),(0,d.jsx)(r.td,{children:"Aplica\xe7\xe3o local de servidor Web"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB GET VARIABLES"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB Is secured connection"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB Is server running"})}),(0,d.jsx)(r.td,{children:"Aplica\xe7\xe3o local de servidor Web"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB SEND BLOB"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB SEND FILE"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB SEND HTTP REDIRECT"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB SEND RAW DATA"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB SEND TEXT"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB SET HOME PAGE"})}),(0,d.jsx)(r.td,{children:"Aplica\xe7\xe3o local de servidor Web"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB SET HTTP HEADER"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB SET OPTION"})}),(0,d.jsx)(r.td,{children:"Aplica\xe7\xe3o local de servidor Web"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB SET ROOT FOLDER"})}),(0,d.jsx)(r.td,{children:"Aplica\xe7\xe3o local de servidor Web"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB START SERVER"})}),(0,d.jsx)(r.td,{children:"Aplica\xe7\xe3o local de servidor Web"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB STOP SERVER"})}),(0,d.jsx)(r.td,{children:"Aplica\xe7\xe3o local de servidor Web"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"WEB Validate digest"})}),(0,d.jsx)(r.td,{children:"Servidor Web que recebeu o pedido"})]})]})]})]})}function h(e={}){let{wrapper:r}={...(0,o.a)(),...e.components};return r?(0,d.jsx)(r,{...e,children:(0,d.jsx)(l,{...e})}):l(e)}},250065:function(e,r,n){n.d(r,{Z:function(){return c},a:function(){return i}});var s=n(667294);let d={},o=s.createContext(d);function i(e){let r=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),s.createElement(o.Provider,{value:r},e.children)}}}]);