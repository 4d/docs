"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["62114"],{622498:function(e,a,o){o.r(a),o.d(a,{default:()=>p,frontMatter:()=>d,metadata:()=>r,assets:()=>t,toc:()=>c,contentTitle:()=>n});var r=JSON.parse('{"id":"MSC/repair","title":"P\xe1gina de repara\xe7\xe3o","description":"Esta p\xe1gina \xe9 utilizada para reparar o ficheiro de dados quando este foi danificado. Geralmente s\xf3 se usa essas fun\xe7\xf5es sob a supervis\xe3o de times t\xe9cnicos 4D, quando anomalias forem detectadas quando abrir a aplica\xe7\xe3o ou ap\xf3s uma verifica\xe7\xe3o.","source":"@site/i18n/pt/docusaurus-plugin-content-docs/version-19/MSC/repair.md","sourceDirName":"MSC","slug":"/MSC/repair","permalink":"/docs/pt/19/MSC/repair","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20MSC%2Frepair.md%20(19)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"19","frontMatter":{"id":"repair","title":"P\xe1gina de repara\xe7\xe3o","sidebar_label":"P\xe1gina de repara\xe7\xe3o"},"sidebar":"docs","previous":{"title":"P\xe1gina Restaura\xe7\xe3o","permalink":"/docs/pt/19/MSC/restore"},"next":{"title":"P\xe1gina de criptografia","permalink":"/docs/pt/19/MSC/encrypt"}}'),s=o("785893"),i=o("250065");let d={id:"repair",title:"P\xe1gina de repara\xe7\xe3o",sidebar_label:"P\xe1gina de repara\xe7\xe3o"},n=void 0,t={},c=[{value:"Arquivos",id:"arquivos",level:2},{value:"Ficheiro de dados a reparar",id:"ficheiro-de-dados-a-reparar",level:3},{value:"Pasta de c\xf3pia de seguran\xe7a dos ficheiros originais",id:"pasta-de-c\xf3pia-de-seguran\xe7a-dos-ficheiros-originais",level:3},{value:"Ficheiros reparados",id:"ficheiros-reparados",level:3},{value:"Repara\xe7\xe3o standard",id:"repara\xe7\xe3o-standard",level:2},{value:"Recuperar por cabe\xe7alhos de registos",id:"recuperar-por-cabe\xe7alhos-de-registos",level:2},{value:"Atribui\xe7\xe3o manual",id:"atribui\xe7\xe3o-manual",level:3},{value:"Abrir arquivo de registo",id:"abrir-arquivo-de-registo",level:2}];function l(e){let a={a:"a",blockquote:"blockquote",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.p,{children:["Esta p\xe1gina \xe9 utilizada para reparar o ficheiro de dados quando este foi danificado. Geralmente s\xf3 se usa essas fun\xe7\xf5es sob a supervis\xe3o de times t\xe9cnicos 4D, quando anomalias forem detectadas quando abrir a aplica\xe7\xe3o ou ap\xf3s uma ",(0,s.jsx)(a.a,{href:"/docs/pt/19/MSC/verify",children:"verifica\xe7\xe3o"}),"."]}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.strong,{children:"Aviso:"})," cada opera\xe7\xe3o de reparo envolve a duplica\xe7\xe3o do arquivo original, o que aumenta o tamanho da pasta da aplica\xe7\xe3o. \xc9 importante ter isto em conta (especialmente em macOS onde as aplica\xe7\xf5es 4D aparecem como pacotes) para que o tamanho da aplica\xe7\xe3o n\xe3o aumente excessivamente. A remo\xe7\xe3o manual das c\xf3pias do arquivo original no pacote pode ser \xfatil para minimizar o tamanho do pacote."]}),"\n",(0,s.jsxs)(a.blockquote,{children:["\n",(0,s.jsx)(a.p,{children:"O reparo s\xf3 est\xe1 dispon\xedvel no modo manuten\xe7\xe3o. Se tentar fazer essa opera\xe7\xe3o em modo padr\xe3o, um aviso informar\xe1 que o banco de dados ser\xe1 fechado e reiniciado em modo manuten\xe7\xe3o.\nQuando o banco de dados est\xe1 encriptado, a repara\xe7\xe3o dos dados inclui passos de desencripta\xe7\xe3o e encripta\xe7\xe3o e, por isso, requer a chave de encripta\xe7\xe3o de dados atual. Se nenhuma chave de criptografia v\xe1lida j\xe1 tiver sido fornecida, ser\xe1 exibida uma caixa de di\xe1logo solicitando a frase secreta ou a chave de criptografia (consulte a p\xe1gina Criptografar)."}),"\n"]}),"\n",(0,s.jsx)(a.h2,{id:"arquivos",children:"Arquivos"}),"\n",(0,s.jsx)(a.h3,{id:"ficheiro-de-dados-a-reparar",children:"Ficheiro de dados a reparar"}),"\n",(0,s.jsxs)(a.p,{children:["Nome do caminho do ficheiro de dados atual. O bot\xe3o ",(0,s.jsx)(a.strong,{children:"[...]"})," pode ser usado para especificar outro arquivo de dados. Quando voc\xea clica nesse bot\xe3o, uma caixa de di\xe1logo padr\xe3o Abrir documento \xe9 exibida para voc\xea poder designar o arquivo de dados a ser reparado. Se voc\xea executar um ",(0,s.jsx)(a.a,{href:"#standard-repair",children:"reparo padr\xe3o"}),", dever\xe1 selecionar um arquivo de dados que seja compat\xedvel com o arquivo projeto aberto. Se voc\xea executar um reparo de ",(0,s.jsx)(a.a,{href:"#recover-by-record-headers",children:"recupera\xe7\xe3o por cabe\xe7alhos de registro"}),", poder\xe1 selecionar qualquer arquivo de dados. Depois que essa caixa de di\xe1logo for validada, o nome do caminho do arquivo a ser reparado ser\xe1 indicado na janela."]}),"\n",(0,s.jsx)(a.h3,{id:"pasta-de-c\xf3pia-de-seguran\xe7a-dos-ficheiros-originais",children:"Pasta de c\xf3pia de seguran\xe7a dos ficheiros originais"}),"\n",(0,s.jsxs)(a.p,{children:['Por padr\xe3o, o arquivo de dados original ser\xe1 duplicado antes da opera\xe7\xe3o de reparo. Ele ser\xe1 colocado em uma subpasta chamada "Replaced files (repairing)" na pasta da aplica\xe7\xe3o. O segundo bot\xe3o ',(0,s.jsx)(a.strong,{children:"[...]"})," pode ser usado para especificar outro local para os arquivos originais a serem salvos antes do in\xedcio do reparo. Essa op\xe7\xe3o pode ser usada mais particularmente ao reparar arquivos volumosos ao usar discos diferentes."]}),"\n",(0,s.jsx)(a.h3,{id:"ficheiros-reparados",children:"Ficheiros reparados"}),"\n",(0,s.jsx)(a.p,{children:"4D cria um ficheiro de dados em branco no local do ficheiro original. 4D creates a new blank data file at the location of the original file. O ficheiro em branco \xe9 preenchido com os dados recuperados."}),"\n",(0,s.jsx)(a.h2,{id:"repara\xe7\xe3o-standard",children:"Repara\xe7\xe3o standard"}),"\n",(0,s.jsx)(a.p,{children:"A repara\xe7\xe3o padr\xe3o deve ser escolhida quando apenas alguns registos ou \xedndices est\xe3o danificados (as tabelas de endere\xe7os est\xe3o intactas). Os dados s\xe3o compactados e reparados. Esse tipo de reparo s\xf3 pode ser realizado quando os dados e o arquivo de estrutura coincidem."}),"\n",(0,s.jsxs)(a.p,{children:['Quando o procedimento de reparo for conclu\xeddo, a p\xe1gina "Reparo" do CSM ser\xe1 exibida. Uma mensagem indica se a repara\xe7\xe3o foi bem sucedida. Se for assim, pode abrir o banco de dados imediatamente. ',(0,s.jsx)(a.img,{src:o(125212).Z+"",width:"225",height:"45"})]}),"\n",(0,s.jsx)(a.h2,{id:"recuperar-por-cabe\xe7alhos-de-registos",children:"Recuperar por cabe\xe7alhos de registos"}),"\n",(0,s.jsx)(a.p,{children:"Usar esta op\xe7\xe3o de reparo de baixo n\xedvel somente quando o arquivo de dados estiver gravemente danificado e depois de todas as outras solu\xe7\xf5es (restaurando de um backup, reparo padr\xe3o) provou ser ineficaz."}),"\n",(0,s.jsx)(a.p,{children:"Os registros 4D variam em tamanho, portanto, \xe9 necess\xe1rio manter o local em que est\xe3o armazenados no disco em uma tabela espec\xedfica, denominada tabela de endere\xe7os, para poderem ser encontrados novamente. Portanto, o programa acessa o endere\xe7o do registro por um \xedndice e da tabela de endere\xe7os. Se apenas os registros ou \xedndices estiverem danificados, a op\xe7\xe3o de reparo padr\xe3o geralmente \xe9 suficiente para resolver o problema. No entanto, quando a pr\xf3pria tabela de endere\xe7os \xe9 afetada, \xe9 necess\xe1ria uma recupera\xe7\xe3o mais sofisticada, pois ser\xe1 necess\xe1rio reconstitu\xed-la. Para fazer isso, o CSM usa o marcador localizado no cabe\xe7alho de cada registro. Os marcadores s\xe3o comparados a um resumo do registro, incluindo a maior parte de suas informa\xe7\xf5es, e a partir do qual \xe9 poss\xedvel reconstruir a tabela de endere\xe7os."}),"\n",(0,s.jsxs)(a.blockquote,{children:["\n",(0,s.jsxs)(a.p,{children:["Se desmarcou a op\xe7\xe3o ",(0,s.jsx)(a.strong,{children:"Registros eliminados definitivamente"})," nas propriedades de uma tabela na estrutura do banco de dados, a repara\xe7\xe3o por marcadores de cabe\xe7alhos pode fazer que reapare\xe7am os registros eliminados anteriormente."]}),"\n",(0,s.jsxs)(a.p,{children:["A recupera\xe7\xe3o por cabe\xe7alhos n\xe3o tem em conta as restri\xe7\xf5es de integridade. Mais especificamente, ap\xf3s essa opera\xe7\xe3o, voc\xea poder\xe1 obter valores duplicados com campos exclusivos ou valores NULL com campos declarados ",(0,s.jsx)(a.strong,{children:"Nunca Null"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(a.p,{children:["Quando voc\xea clica em ",(0,s.jsx)(a.strong,{children:"Reparar..."}),", 4D realiza uma verifica\xe7\xe3o completa do arquivo de dados. Quando a verifica\xe7\xe3o estiver conclu\xedda, os resultados aparecem na janela seguinte:"]}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{src:o(449134).Z+"",width:"906",height:"683"})}),"\n",(0,s.jsxs)(a.blockquote,{children:["\n",(0,s.jsx)(a.p,{children:"Se todos os registos e todas as tabelas tiverem sido atribu\xeddos, apenas a \xe1rea principal \xe9 mostrada."}),"\n"]}),"\n",(0,s.jsx)(a.p,{children:'A \xe1rea "Registros encontrados no arquivo de dados" inclui duas tabelas que resumem as informa\xe7\xf5es da varredura do arquivo de dados.'}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"A primeira tabela lista as informa\xe7\xf5es provenientes da verifica\xe7\xe3o do ficheiro de dados. Cada linha mostra um grupo de registos recuper\xe1veis no ficheiro de dados:"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["A coluna ",(0,s.jsx)(a.strong,{children:"Ordem"})," indica a ordem de recupera\xe7\xe3o do grupo de registros."]}),"\n",(0,s.jsxs)(a.li,{children:["A coluna ",(0,s.jsx)(a.strong,{children:"Count"})," indica o n\xfamero de registros na tabela."]}),"\n",(0,s.jsxs)(a.li,{children:["A coluna ",(0,s.jsx)(a.strong,{children:"tabela de destino"})," indica os nomes das tabelas que foram automaticamente atribu\xeddas aos grupos de registros identificados. Os nomes das tabelas atribu\xeddas aparecem automaticamente a verde. Os grupos que n\xe3o foram atribu\xeddos, ou seja, as tabelas que n\xe3o puderam ser associadas a nenhum registro, aparecem em vermelho."]}),"\n",(0,s.jsxs)(a.li,{children:["A coluna ",(0,s.jsx)(a.strong,{children:"Recuperar"})," permite indicar, para cada grupo, se voc\xea deseja recuperar os registros. Por padr\xe3o, essa op\xe7\xe3o \xe9 marcada para todos os grupos com registros que podem ser associados a uma tabela."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"A segunda tabela lista as tabelas do ficheiro de projeto."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(a.h3,{id:"atribui\xe7\xe3o-manual",children:"Atribui\xe7\xe3o manual"}),"\n",(0,s.jsx)(a.p,{children:'Se v\xe1rios grupos de registros n\xe3o puderem ser atribu\xeddos a tabelas devido a uma tabela de endere\xe7os danificada, \xe9 poss\xedvel atribu\xed-los manualmente. Para fazer isso, primeiro selecione um grupo de registros n\xe3o atribu\xeddo na primeira tabela. A \xe1rea "Conte\xfado dos registros" exibe uma visualiza\xe7\xe3o do conte\xfado dos primeiros registros do grupo para facilitar a atribui\xe7\xe3o:'}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{src:o(661085).Z+"",width:"903",height:"682"})}),"\n",(0,s.jsxs)(a.p,{children:['Em seguida, selecione a tabela que deseja atribuir ao grupo na tabela "Tabelas n\xe3o atribu\xeddas" e clique no bot\xe3o ',(0,s.jsx)(a.strong,{children:"Identificar tabela"}),". Tamb\xe9m pode atribuir uma tabela utilizando a fun\xe7\xe3o arrastar e largar. O grupo de registros \xe9 ent\xe3o associado \xe0 tabela e ser\xe1 recuperado nessa tabela. Os nomes das tabelas atribu\xeddas manualmente aparecem a preto. Use o bot\xe3o ",(0,s.jsx)(a.strong,{children:"Ignorar registros"})," para remover a associa\xe7\xe3o feita manualmente entre a tabela e o grupo de registros."]}),"\n",(0,s.jsx)(a.h2,{id:"abrir-arquivo-de-registo",children:"Abrir arquivo de registo"}),"\n",(0,s.jsxs)(a.p,{children:["Depois que a repara\xe7\xe3o terminar, 4D gera um arquivo de hist\xf3rico na pasta Logs do banco de dados. Este arquivo permite visualizar todas as opera\xe7\xf5es efectuadas. \xc9 criado no formato XML e chamado: ",(0,s.jsx)(a.em,{children:"DatabaseName**_Repair_Log_yyyy-mm-dd hh-mm-ss.xml"}),'" onde:']}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.em,{children:"NomBase"}),' \xe9 o nome do arquivo de estrutura sem extens\xe3o, por exemplo "Faturas",']}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.em,{children:"yyyy-mm-dd hh-mm-ss"}),' \xe9 o carimbo de data/hora do arquivo, com base na hora do sistema local quando a opera\xe7\xe3o de manuten\xe7\xe3o foi iniciada, por exemplo "2019-02-11 15-20-45".']}),"\n"]}),"\n",(0,s.jsxs)(a.p,{children:["Quando clica no bot\xe3o ",(0,s.jsx)(a.strong,{children:"Abrir arquivo de registo"}),", 4D mostra o arquivo de registo mais recente no navegador predefinido da m\xe1quina."]})]})}function p(e={}){let{wrapper:a}={...(0,i.a)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},125212:function(e,a,o){o.d(a,{Z:function(){return r}});let r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAAAtCAIAAADX+5viAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAASdEVYdFNvZnR3YXJlAEdyZWVuc2hvdF5VCAUAAAPcSURBVHhe7ZdBaxNBFMf7qXISD/Ugiih48KAIEYXeRDz3HlD8JLlJta0IIhZpEBLtxZNCL4k2mkZqhXpydt7M7JuZt5vdJGYH/f8ouvvmzZv3Jj9CuzYFIG3gKEgdOApSB46C1IGjIHXgKEgdOApSB46C1IGjIHXgKEgdOApSB46C1GnY0U5rLaTV6fd1uN01STVZbLdHt21b0k/qfwplD+Us2ETFUxpn3j5rXU8S36PUcT7qX3VUX2uV2l5XcFQEjprXmpTv1rdaw9EwE44ug1rXszRHD4bH5qk+1HHoaKuV/csXKE5EHyBfVGTzR/kkqEFlFBf0qqlMJw23p6QfWgpGEPJZR/wTo1PabW+7QjwxDlLV+AIJnk+nFlQIGyhKU49VagYn+xOXsBxHH/fH554Otz99N+81odbtIN47Peph9H3QWCxqoE8lz/Pnd1cpripYgsM7xCXkmfqJluN+5BEstoh0rEYv8O3FJ0rBaLt3OoXycytVcNkZejWLuIfqNXWQPc5mCY4+6o8v73y52zu98Hw0n6bhLbipFP51eLAR+cx8t727DKof3k6U4PDq+G3M7EcewcU1KuLegqOFLaqUeGJJUJ9Ou736Qai4QtiAe9Zkqy6tQk3WlFdyJos6SoLeH5w9/PB7492v+TQNBvQmsLcQ5viI81Mw22KLBJligsO7R5dgH8r7EUeQj6No/q7hCbaUeKLcBtXUpwsJfqikgglShpUsC7pV91ChJmvKldQLs1jIUS4o/dx4Pb26O/pW81fTcCQ+QXALbq5uh98Aq+Dy8hhb5bXlBAfLZG1U68fbbLZ0i49zRS06QJG8kniiGKTtOhadFYVKKngN5NvyJ9d4hZosJV8O9onM72gs6O23J5e2Rx9Htf94ChuldxqQf3xmNCKci27Vke22IfrjwW6wUZUhJxh4F3kb7sFlGPzd4gjRcTag8LezhQzTRMGJcZC261206FWPQ0UVHGwQRX5dOpI9VKkpVRXai5AdfXM4ufly9Pmo0LYlCgpSxMmXAIKje4eT9WfD66+Or+3Kmqq/4iHoP07KjqpvUCXovd6pMu/W3o9YU3yD/hck6+jBcHJ+a3Rn/6fzL9AUgoLVE36PbvaOrrw4esAsNJqOIShoBuH3UVHT9a0hBAWNIDiqiDXd6J1AUNAIsqOKzX2t6XsjJf+BoGCVFDqqEDWFoGDFlDmqCDSFoGD1zHBUYTQdnEFQ0AizHVUoTS/ufIWgoBEqOap4MhhDUNAIVR0FoCngKEgdOApSB46C1IGjIHXgKEgdOApSB46C1IGjIHXgKEgdOArSZjr9Az4Tm0/7xRlRAAAAAElFTkSuQmCC"},449134:function(e,a,o){o.d(a,{Z:function(){return r}});let r=o.p+"assets/images/mscrepair2-70f7dc0be1529255122f9c117f88d8a0.png"},661085:function(e,a,o){o.d(a,{Z:function(){return r}});let r=o.p+"assets/images/mscrepair3-fca9ba66ac4c95138c0a5560adae3d30.png"},250065:function(e,a,o){o.d(a,{Z:function(){return n},a:function(){return d}});var r=o(667294);let s={},i=r.createContext(s);function d(e){let a=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function n(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(i.Provider,{value:a},e.children)}}}]);