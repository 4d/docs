<!doctype html><html lang=pt dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20 docs-doc-page docs-doc-id-API/DataClassClass" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>DataClass | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/pt/20/API/DataClassClass><meta data-rh=true property=og:locale content=pt><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true name=docusaurus_locale content=pt><meta data-rh=true name=docsearch:language content=pt><meta data-rh=true name=docusaurus_version content=20><meta data-rh=true name=docusaurus_tag content=docs-default-20><meta data-rh=true name=docsearch:version content=20><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20><meta data-rh=true property=og:title content="DataClass | 4D Docs"><meta data-rh=true name=description content="Uma DataClass oferece uma interface de objeto a uma tabela do banco de dados. Todas as classes de dados de uma aplicação 4D estão disponíveis como uma propriedade de ds datastore."><meta data-rh=true property=og:description content="Uma DataClass oferece uma interface de objeto a uma tabela do banco de dados. Todas as classes de dados de uma aplicação 4D estão disponíveis como uma propriedade de ds datastore."><link data-rh=true rel=icon href=/docs/pt/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/pt/20/API/DataClassClass><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20/API/DataClassClass hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/20/API/DataClassClass hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/20/API/DataClassClass hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/20/API/DataClassClass hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/20/API/DataClassClass hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20/API/DataClassClass hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/pt/opensearch.xml><link rel=stylesheet href=/docs/pt/assets/css/styles.eef951bf.css><script src=/docs/pt/assets/js/main.af20b439.js defer></script><script src=/docs/pt/assets/js/runtime~main.a65e2663.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Saltar para o conteúdo principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Saltar para o conteúdo principal</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label="Alternar barra de navegação" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/pt/><div class=navbar__logo><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Documentação 4D</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/pt/20/API/DataClassClass>20</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/pt/API/DataClassClass>20 R7</a><li><a class=dropdown__link href=/docs/pt/20-R6/API/DataClassClass>20 R6</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/pt/20/API/DataClassClass>20</a><li><a class=dropdown__link href=/docs/pt/19/API/DataClassClass>19</a><li><a class=dropdown__link href=/docs/pt/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Português</a><ul class=dropdown__menu><li><a href=/docs/20/API/DataClassClass rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/20/API/DataClassClass rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/20/API/DataClassClass rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/20/API/DataClassClass rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/20/API/DataClassClass rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Alternar entre os modos escuro e claro (atualmente modo Claro)" aria-label="Alternar entre os modos escuro e claro (atualmente modo Claro)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Pesquisa (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Pesquisa</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Voltar ao topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/pt/><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Documentação 4D</b></a><nav aria-label="Barra lateral de documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/20/category/getting-started>Começando</a><button aria-label="Expandir a categoria 'Começando' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/pt/20/category/core-development>Desenvolvimento</a><button aria-label="Fechar categoria da barra lateral 'Desenvolvimento'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/pt/20/Project/overview>Gestão de projectos</a><button aria-label="Expandir a categoria 'Gestão de projectos' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/pt/20/category/4d-language-concepts>Conceitos da linguagem 4D</a><button aria-label="Expandir a categoria 'Conceitos da linguagem 4D' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/pt/20/ORDA/overview>ORDA</a><button aria-label="Expandir a categoria 'ORDA' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://doc.4d.com/4Dv20/4D/20/4D-Language-Reference.100-6237190.en.html target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex=0>Referência da linguagem 4D<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/pt/20/category/class-API-reference>Class Functions</a><button aria-label="Fechar categoria da barra lateral 'Class Functions'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/overview>Funções e comandos de classe</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/BlobClass>Blob</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/ClassClass>Class</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/CollectionClass>Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/CryptoKeyClass>CryptoKey</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/pt/20/API/DataClassClass>DataClass</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/DataStoreClass>DataStore</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/EmailObjectClass>Email</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/EntityClass>Entity</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/EntitySelectionClass>EntitySelection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/FileClass>File</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/FileHandleClass>FileHandle</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/FolderClass>Folder</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/FunctionClass>Function</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/HTTPRequestClass>HTTPRequest</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/IMAPTransporterClass>IMAPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/MailAttachmentClass>MailAttachment</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/POP3TransporterClass>POP3Transporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/SessionClass>Session</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/SignalClass>Signal</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/SMTPTransporterClass>SMTPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/SystemWorkerClass>SystemWorker</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/WebServerClass>WebServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/WebSocketConnectionClass>WebSocketConnection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/WebSocketServerClass>WebSocketServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/ZipArchiveClass>ZIPArchive</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/ZipFileClass>ZIPFile</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20/API/ZipFolderClass>ZIPFolder</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/pt/20/code-editor/overview>Gerenciamento do código</a><button aria-label="Expandir a categoria 'Gerenciamento do código' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/pt/20/Tags/tags>Etiquetas</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/pt/20/Debugging/basics>Depuração</a><button aria-label="Expandir a categoria 'Depuração' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/pt/20/settings/overview>Settings</a><button aria-label="Expandir a categoria 'Settings' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/pt/20/Preferences/overview>Preferências</a><button aria-label="Expandir a categoria 'Preferências' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/20/category/administration>Administração</a><button aria-label="Expandir a categoria 'Administração' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/20/Extensions/overview>Extensões</a><button aria-label="Expandir a categoria 'Extensões' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/20/category/web-applications>Aplicações Web</a><button aria-label="Expandir a categoria 'Aplicações Web' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/20/category/desktop-applications>Aplicações Desktop</a><button aria-label="Expandir a categoria 'Aplicações Desktop' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a href=https://developer.4d.com/go-mobile/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false>Aplicações móveis</a></div></ul></nav><button type=button title="Recolher a barra lateral" aria-label="Recolher a barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Trilha de navegação"><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Página inicial" class=breadcrumbs__link href=/docs/pt/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/pt/20/category/core-development><span itemprop=name>Desenvolvimento</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/pt/20/category/class-API-reference><span itemprop=name>Class Functions</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>DataClass</span><meta itemprop=position content=3></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Versão: 20</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">Nesta página</button></div><div class="theme-doc-markdown markdown"><header><h1>DataClass</h1></header><p>Uma <a href=/docs/pt/20/ORDA/dsmapping#dataclass>DataClass</a> oferece uma interface de objeto a uma tabela do banco de dados. Todas as classes de dados de uma aplicação 4D estão disponíveis como uma propriedade de <code>ds</code> <a href=/docs/pt/20/ORDA/dsmapping#datastore>datastore</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resumo>Resumo<a href=#resumo class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>















































<table><thead><tr><th><tbody><tr><td><a href=#attributename><em><strong>.attributeName</strong></em> : object</a>    objetos que estão disponíveis diretamente como propriedades<tr><td><a href=#all><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D. EntitySelection</a>    consulta a datastore para encontrar todas as entidades relacionadas com a dataclass e devolve-as como uma selecção de entidade<tr><td><a href=#clearremotecache><strong>.clearRemoteCache()</strong></a>    devolve o datastore para a dataclass especificada<tr><td><a href=#fromcollection><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D. EntitySelection</a>    actualiza ou cria entidades no dataclass de acordo com a colecção de objectos <em>objectCol</em>, e devolve a selecção da entidade correspondente<tr><td><a href=#get><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D. Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.</a>    consulta a folha de dados para recuperar a entidade que corresponde ao parâmetro <em>primaryKey</em><tr><td><a href=#getcount><strong>.getCount()</strong> : Integer </a>     cria em memória e devolve uma nova entidade em branco relacionada com a Dataclass<tr><td><a href=#getdatastore><strong>.getInfo()</strong> : Objeto</a>    cria uma nova selecção de entidade, em branco e não partilhável, relacionada com o dataclass, em memória<tr><td><a href=#getinfo><strong>.getInfo()</strong> : Objeto </a>    devolve um objecto que fornece informação sobre o dataclass<tr><td><a href=#getremotecache><strong>.getRemoteCache</strong>() : Object </a>    devolve um objecto que contém o conteúdo da cache ORDA para uma dataclass.<tr><td><a href=#new><strong>.new()</strong> : 4D. Entity </a>    cria em memória e devolve uma nova entidade em branco relacionada com a Dataclass<tr><td><a href=#newselection><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D. EntitySelection </a>    cria uma nova selecção de entidade, em branco e não partilhável, relacionada com o dataclass, em memória<tr><td><a href=#query><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection </a>    pesquisa por  entidades que satisfaçam os critérios de pesquisa especificados em <em>queryString</em> ou <em>fórmula</em> e (opcionalmente) <em>valor</em>(s)<tr><td><a href=#setremotecachesettings><strong>.setRemoteCacheSettings</strong>(<em>settings</em> : Object) </a>    define o tempo limite e o tamanho máximo da cache ORDA para um dataclass.</table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=attributename>.<em>attributeName</em><a href=#attributename class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>19 R3<td>Adicionado o atributo .exposed<tr><td>17<td>Adicionado</table>
</div></div></details>
<p><em><strong>.attributeName</strong></em> : object</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição>Descrição<a href=#descrição class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Os atributos dos dataclasses são objetos que estão disponíveis diretamente como propriedades destas classes.</p>
<p>Os objetos retornados têm propriedades que você pode ler para obter informações sobre os atributos da classe de dados.</p>
<blockquote>
<p>Os objetos do atributo Dataclass podem ser modificados, mas a estrutura subjacente do banco de dados não será alterada.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=objeto-devolvido>Objeto devolvido<a href=#objeto-devolvido class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Os objetos atributos retornados contêm as seguintes propriedades:</p>





















































































<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>autoFilled<td>Parâmetros<td>True se o valor do atributo for automaticamente preenchido por 4D. Corresponde às seguintes propriedades de campos 4D: "Autoincrement" para os campos de tipo numérico e "Auto UUID" para os campos UUID (alfa). Não retornado se <code>.kind</code> = "relatedEntity" ou "relatedEntities".<tr><td>exposed<td>Parâmetros<td>True se o atributo estiver exposto no REST<tr><td>fieldNumber<td>integer<td>Número interno do campo 4D do atributo. Não retornado se <code>.kind</code> = "relatedEntity" ou "relatedEntities".<tr><td>fieldType<td>Integer<td>Tipo de campo de banco de dados 4D do atributo. Depende do atributo <code>kind</code>. Valores possíveis: <li>se <code>.kind</code> = "storage": tipo de campo 4D correspondente, consulte [<code>Value type</code>] (<a href=https://doc.4d.com/4dv20/help/command/en/page1509.html target=_blank rel="noopener noreferrer">https://doc.4d.com/4dv20/help/command/en/page1509.html</a>)</li><li>se <code>.kind</code> = "relatedEntity": 38 (<code>is object</code>)</li><li>se <code>.kind</code> = "relatedEntities": 42 (<code>is collection</code>)</li><li>se <code>.kind</code> = "calculated" ou "alias" = o mesmo que acima, dependendo do valor resultante (tipo de campo, relatedEntity ou relatedEntities)</li><tr><td>indexed<td>Parâmetros<td>True se houver um índice B-tree ou Cluster B-tree no atributo. Não retornado se <code>.kind</code> = "relatedEntity" ou "relatedEntities".<tr><td>inverseName<td>Text<td>Nome do atributo que está do outro lado da relação. Retornado somente quando <code>.kind</code> = "relatedEntity" ou "relatedEntities".<tr><td>keywordIndexed<td>Parâmetros<td>True se houver um índice de palavras-chave no atributo. Não retornado se <code>.kind</code> = "relatedEntity" ou "relatedEntities".<tr><td>kind<td>Text<td>Categoria do atributo. Valores possíveis:<li>Atributo "storage": storage (ou escalar) ou seja, atributo que armazena um valor, não uma referência a outro atributo</li><li>"calculated": atributo computado, ou seja, definido através de uma função <a href=/docs/pt/20/ORDA/ordaClasses#function-get-attributename><code>get</code></a></li><li>"alias": atributo criado com base em <a href=/docs/pt/20/ORDA/ordaClasses#alias-attributes-1>outro atributo</a></li><li>"relatedEntity": N -> 1 atributo relacional (referência a uma entidade)</li><li>"relatedEntities": 1 -> N atributo relacional (referência a uma seleção de entidades)</li><tr><td>obrigatório<td>Parâmetros<td>True se a entrada de um valor null for rejeitada para o atributo. Não retornado se <code>.kind</code> = "relatedEntity" ou "relatedEntities". Nota: Esta propriedade corresponde à propriedade do campo "Reject NULL value input" ao nível do banco de dados 4D. Não tem relação com a propriedade existente "Mandatory"/obrigatório que é uma opção de controle de entrada de dados para uma tabela.<tr><td>name<td>Text<td>Nome do atributo como string<tr><td>path<td>Text<td>Caminho de <a href=/docs/pt/20/ORDA/ordaClasses#alias-attributes-1>um atributo de alias</a> com base em uma relação<tr><td>readOnly<td>Parâmetros<td>True se o atributo for apenas de leitura. Por exemplo, os atributos computados sem função <a href=/docs/pt/20/ORDA/ordaClasses#function-set-attributename><code>set</code></a> são apenas de leitura.<tr><td>relatedDataClass<td>Text<td>Nome dadataclass relacionada ao atributo. Retornado somente quando <code>.kind</code> = "relatedEntity" ou "relatedEntities".<tr><td>type<td>Text<td>Tipo conceitual do valor do atributo, útil para programação genérica. Depende do atributo <code>kind</code>. Valores possíveis: <li>se <code>.kind</code> = "storage": "blob", "bool", "date", "image", "number", "object" ou "string". "number" é retornado para qualquer tipo numérico, inclusive duração; "string" é retornado para os tipos de atributo uuid, alfa e texto; os atributos "blob" são <a href=/docs/pt/20/Concepts/blob#blob-type>objetos blob</a>.</li><li>si <code>.kind</code> = "relatedEntity": nome da dataClass relacionada</li><li>se <code>.kind</code> = "relatedEntities": nome da dataClass relacionada + sufixo "Selection"</li><li>se <code>.kind</code> = "calculated" ou "alias": o mesmo que acima, dependendo do resultado</li><tr><td>unique<td>Parâmetros<td>True se o valor do atributo tiver que ser único. Não retornado se <code>.kind</code> = "relatedEntity" ou "relatedEntities".</table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_BuS1><p>Para programação genérica, use <code>Bool(attributeName.property)</code>, <code>Num(attributeName.property)</code> ou <code>String(attributeName.property)</code> (dependendo do tipo de propriedade) para obter um valor válido mesmo que a propriedade não seja retornada.</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1>Exemplo 1<a href=#exemplo-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$salary:=ds. Employee.salary //returns the salary attribute in the Employee dataclass</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$compCity:=ds. Company["city"] //returns the city attribute in the Company dataclass</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2>Exemplo 2<a href=#exemplo-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Considerando a seguinte estrutura do banco de dados:</p>
<p><img decoding=async loading=lazy src=/docs/pt/assets/images/dataclassAttribute-a6b39462dc310d6f9b5816409d863cee.png width=454 height=634 class=img_ev3q></p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $firstnameAtt;$employerAtt;$employeesAtt : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $firstnameAtt:=ds. Employee.firstname</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //{name:firstname,kind:storage,fieldType:0,type:string,fieldNumber:2,indexed:true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //keyWordIndexed:false,autoFilled:false,mandatory:false,unique:false}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employerAtt:=ds. Employee.employer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //{name:employer,kind:relatedEntity,relatedDataClass:Company,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //fieldType:38,type:Company,inverseName:employees}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //38=Is object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employeesAtt:=ds. Company.employees</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //{name:employees,kind:relatedEntities,relatedDataClass:Employee,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //fieldType:42,type:EmployeeSelection,inverseName:employer}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //42=Is collection</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3>Exemplo 3<a href=#exemplo-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Considerando as propriedades de tabela abaixo:</p>
<p><img decoding=async loading=lazy src=/docs/pt/assets/images/dataclassAttribute2-815959fd721b6dd175aaa338e04c2f38.png width=405 height=383 class=img_ev3q></p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $sequenceNumberAtt : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $sequenceNumberAtt=ds. Employee.sequenceNumber</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //{name:sequenceNumber,kind:storage,fieldType:0,type:string,fieldNumber:13,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //indexed:true,keyWordIndexed:false,autoFilled:true,mandatory:false,unique:true}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=all>.all()<a href=#all class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17 R5<td>Compatibilidade do parâmetro <em>settings</em><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D. EntitySelection</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>settings<td>Object<td style=text-align:center>-><td>Opção de construção: context<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Referencias sobre todas as entidades relacionadas com a classe de dados</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-1>Descrição<a href=#descrição-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.all( )</code> consulta a datastore para encontrar todas as entidades relacionadas com a dataclass e devolve-as como uma selecção de entidade.</p>
<p>As entidades são devolvidas na ordem padrão, que é inicialmente a ordem na qual foram criadas. Note no entanto que, se as entidades foram apagas e outras adicionadas, a ordem padrão não reflete mais sua ordem de criação.</p>
<p>Se nenhuma entidade correspondente for encontrada, uma seleção de entidade vazia é retornada.</p>
<p>Se aplica carregamento diferido/lazy loading.</p>
<p><strong>settings</strong></p>
<p>No  parâmetro <em>querySettings</em> é possível passar um objeto que conteha opções adicionais. As propriedades abaixo são compatíveis:</p>















<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>context<td>Text<td>Etiqueta para o contexto de otimização aplicado a seleção de entidades. Este contexto será utilizado pelo código que maneja a seleção de entidades para que possa se beneficiar da otimização. Essa funcionalidade foi criada para processamento cliente/servidor de ORDA <a href=/docs/pt/20/ORDA/entities#client-server-optimization></a>.</table>
<blockquote>
<p>Para conhecer o número total de entidades num dataclass, recomenda-se a utilização da função <a href=#getcount><code>getCount()</code></a> que é mais optimizada do que a expressão <code>ds.myClass.all().length</code>.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo>Exemplo<a href=#exemplo class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $allEmp : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $allEmp:=ds. Employee.all()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=clearremotecache>.clearRemoteCache()<a href=#clearremotecache class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>19 R5<td>Adicionado</table>
</div></div></details>
<p><strong>.clearRemoteCache()</strong></p>
<p>| Parâmetro | Tipo |  | Descrição                                             |
| --------- | ---- |::| ----------------------------------------------------- |
|           |      |  | Não exige nenhum parâmetro|</p>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-2>Descrição<a href=#descrição-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.getDataStore( )</code> function devolve o datastore para a dataclass especificada.</p>
<blockquote>
<p>Esta função não reinicia os valores <code>timeout</code> e <code>maxEntries</code>.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-4>Exemplo<a href=#exemplo-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D. DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $persons : cs. PersonsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $p : cs. PersonsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $cache : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $info : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$persons:=$ds. Persons.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:="" For each ($p; $persons)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $text:=$p.firstname+" lives in "+$p.address.city+" / " End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$cache:=$ds. Persons.getRemoteCache()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds. Persons.clearRemoteCache()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Cache of the Persons dataclass = {timeout:30;maxEntries:30000;stamp:255;entries:[]}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=fromcollection>.fromCollection()<a href=#fromcollection class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17 R5<td>Compatibilidade do parâmetro <em>settings</em><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D. EntitySelection</p>





























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>objectCol<td>Collection<td style=text-align:center>-><td>Coleção de objetos a mapear com entidades<tr><td>settings<td>Object<td style=text-align:center>-><td>Opção de construção: context<tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Seleção de entidades preenchidas da coleção</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-3>Descrição<a href=#descrição-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.fromCollection()</code> actualiza ou cria entidades no dataclass de acordo com a colecção de objectos <em>objectCol</em>, e devolve a selecção da entidade correspondente.</p>
<p>No parâmetro <em>objectCol</em>, passa uma coleção de objetos para criar novas entidades ou atualizar as existentes da classe de dados. Os nomes das propriedades devem ser os mesmos que os dos atributos da classe de dados. Se um nome de propriedade não existir na dataclass, é ignorado. Se um valor de atributo não for definido na coleção, seu valor será null.</p>
<p>O mapeamento entre os objetos da coleção e as entidades se realiza sobre os <strong>nomes de atributos</strong> e <strong>tipos coincidentes</strong>. Se uma propriedade de um objeto tiver o mesmo nome que um atributo de entidade mas seus tipos não corresponderem, o atributo da entidade não é preenchido.</p>
<p><strong>Criar ou atualizar modos</strong></p>
<p>Para cada objeto de <em>objectCol</em>:</p>
<ul>
<li>Se o objeto conter uma propriedade booleana "__NEW" estabelecida em false (ou não conter uma propriedade booleana "__NEW"), a entidade se atualiza ou se cria com os valores correspondentes das propriedades do objeto. Nenhuma comprovação é realizada com respeito à chave primária:
<ul>
<li>Se a chave primária for dada e existir, a entidade é atualizada. Nesse caso, a chave primária pode ser dada como etá ou com uma propriedade "__KEY"  (preenchida com o valor da chave primária).</li>
<li>Se a chave primária for dada (como é) e não existir, a entidade é criada</li>
<li>Se a chave primária não for dada, a entidade é criada e o valor da chave primária é assignado com respeito às regras padrão de database.</li>
</ul>
</li>
<li>Se o objeto conter uma propriedade boolean "__NEW" estabelecida como <strong>true</strong>, a entidade é criada com os valores correspondente dos atributos de objeto. Uma comprovação é realizada com relação à chave primária:
<ul>
<li>Se a chave primária for dada (como está) e existir, um erro é enviado.</li>
<li>Se a chave primária for dada (como é) e não existir, a entidade é criada</li>
<li>Se a chave primária não for dada, a entidade é criada e o valor da chave primária é assignado com respeito às regras padrão de database.</li>
</ul>
</li>
</ul>
<blockquote>
<p>A propriedade "__KEY" que contém um valor só é tida em conta quando a propriedade "__NEW" está definida como <strong>false</strong> (ou é omitida) e existe uma entidade correspondente. Em todos os outros casos, o valor da propriedade "__KEY" é ignorado, o valor da chave primária deve ser passado "tal como está".</p>
</blockquote>
<p><strong>Entidades relacionadas</strong></p>
<p>Os objetos de <em>objectCol</em> podem conter um ou mais objetos aninhados que apresentam uma ou mais entidades relacionadas, o que pode ser útil para criar ou atualizar links entre entidades.</p>
<p>Os objetos aninhados que apresentam entidades relacionadas devem conter uma propriedade "__KEY" (preenchido com o valor da chave primária da entidade relacionada) ou o atributo de chave primária da própria entidade relacionada. O uso de uma propriedade __KEY permite a independência do nome do atributo da chave primària.</p>
<blockquote>
<p>O conteúdo das entidades relacionadas não pode ser criado / atualizado através deste mecanismo.</p>
</blockquote>
<p><strong>Stamp</strong></p>
<p>Se um atributo __STAMP for dado, se realiza uma comprovação com o selo no armazén de dados e se pode devolver um erro ("O selo dado não coincide com o atual para o registro# XX da tabela XXXX"). Para saber mais, consulte <a href=/docs/pt/20/ORDA/entities#entity-locking>Entity locking</a>.</p>
<p><strong>settings</strong></p>
<p>No  parâmetro <em>querySettings</em> é possível passar um objeto que conteha opções adicionais. As propriedades abaixo são compatíveis:</p>















<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>context<td>Text<td>Etiqueta para o contexto de otimização aplicado a seleção de entidades. Este contexto será utilizado pelo código que maneja a seleção de entidades para que possa se beneficiar da otimização. Essa funcionalidade foi criada para processamento cliente/servidor de ORDA <a href=/docs/pt/20/ORDA/entities#client-server-optimization></a>.</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-1>Exemplo 1<a href=#exemplo-1-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Queremos atualizar uma entidade existente. A propriedade __NEW não for dada, a chave primária do empregado é dada e existe:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.ID:=668 //Existing PK in Employee table</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="Arthur"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Martin"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer:=New object("ID";121) //Existing PK in the related dataClass Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // For this employee, we can change the Company by using another existing PK in the related dataClass Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-1>Exemplo 2<a href=#exemplo-2-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Queremos atualizar uma entidade existente. A propriedade __NEW não é dada, a chave primária do empregado com o atributo __KEY e existir:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.__KEY:=1720 //Existing PK in Employee table</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="John"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Boorman"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer:=New object("ID";121) //Existing PK in the related dataClass Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // For this employee, we can change the Company by using another existing PK in the related dataClass Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3-1>Exemplo 3<a href=#exemplo-3-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Se quiser simplesmente criar uma nova entidade da coleção::</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="Victor"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Hugo"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-5>Exemplo<a href=#exemplo-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Queremos criar uma entidade. A propriedade __NEW é True, a chave primária de empregado não é dada:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="Mary"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer:=New object("__KEY";121) //Existing PK in the related dataClass Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.__NEW:=True</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-2>Exemplo 2<a href=#exemplo-2-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Queremos criar uma entidade. Se a propriedade __NEW é omitida, a chave primária do empregado é dada e não existir:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.ID:=10000 //Unexisting primary key</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="Françoise"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Sagan"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-6>Exemplo 6<a href=#exemplo-6 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Neste exemplo, a primeira entidade se criará e salvará mas a segunda falhará já que ambas utilizam a mesma chave primaria:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $empsCollection : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp; $emp2 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.ID:=10001 // Unexisting primary key</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:="Simone"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Martin"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.__NEW:=True</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp2:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp2.ID:=10001 // Same primary key, already existing</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp2.firstName:="Marc"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp2.lastName:="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp2.__NEW:=True</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empsCollection.push($emp2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.fromCollection($empsCollection)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //first entity is created</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //duplicated key error for the second entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=veja-também>Veja também<a href=#veja-também class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p><a href=/docs/pt/20/API/EntitySelectionClass#tocollection><strong>.toCollection()</strong></a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=get>.get()<a href=#get class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D. Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.</p>





























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>primaryKey<td>Integer OR Text<td style=text-align:center>-><td>Valor da chave primária da entidade a recuperar<tr><td>settings<td>Object<td style=text-align:center>-><td>Opção de construção: context<tr><td>Resultados<td>4D. Entity<td style=text-align:center>&lt;-<td>Entidade que coincide com a chave primária designada</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-4>Descrição<a href=#descrição-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.get()</code> consulta a folha de dados para recuperar a entidade que corresponde ao parâmetro <em>primaryKey</em>.</p>
<p>Em <em>primaryKey</em>, passe o valor da chave primária da entidade a recuperar. Em <em>primaryKey</em>, passe o valor da chave primária da entidade a recuperar Em <em>primaryKey</em>, passe o valor da chave primária da entidade a recuperar O tipo valor deve coresponder com o tipo de chave primária estabelecido na datastore (Inteiro ou texto). Também pode se assegurar que o valor de chave primária seja sempre retornado como Texto ao usar a função <a href=/docs/pt/20/API/EntityClass#getkey><code>.getKey()</code></a> com o parâmetro<code>dk key as string</code>.</p>
<p>Se nenhuma entidade for encontrada com <em>primaryKey</em>, uma entidade <strong>Null</strong> é retornada.</p>
<p>É aplicado o lazy loading/carregamento diferido, ou seja os dados relacionados são carregados do disco só quando pedidos.</p>
<p><strong>settings</strong></p>
<p>No  parâmetro <em>querySettings</em> é possível passar um objeto que conteha opções adicionais. As propriedades abaixo são compatíveis:</p>















<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>context<td>Text<td>Etiqueta para o contexto de otimização automático aplicados à entidade. Esse contexto será usado pelo código subsequente que carrega a entidade para que se possa beneficiar da otimização. Essa funcionalidade foi criada para processamento cliente/servidor de ORDA <a href=/docs/pt/20/ORDA/entities#client-server-optimization></a>.</table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>When you call the <code>.get()</code> function <strong>without</strong> <em>settings</em> parameter, a request for attribute values is directly sent to the server (the <a href=/docs/pt/20/ORDA/entities#orda-cache>ORDA cache</a> is not used). On the other hand, when you call the <code>.get()</code> function <strong>with</strong> a <code>context</code> passed in the <em>settings</em> parameter, attribute values are retrieved from the ORDA cache corresponding to the context. It may be advisable in this case to call <a href=/docs/pt/20/API/EntityClass#reload><code>reload()</code></a> to make sure the most recent data is retrieved from the server.</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-2>Exemplo 1<a href=#exemplo-1-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $entity : cs. EmployeeEntity  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $entity2 : cs. InvoiceEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=ds. Employee.get(167) // return the entity whose primary key value is 167</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity2:=ds. Invoice.get("DGGX20030") // return the entity whose primary key value is "DGGX20030"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-3>Exemplo 2<a href=#exemplo-2-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Este exemplo ilustra o uso da propriedade <em>context</em> :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $e1; $e2; $e3; $e4 : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $settings; $settings2 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings:=New object("context";"detail")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings2:=New object("context";"summary")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1:=ds. Employee.get(1;$settings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> completeAllData($e1) // In completeAllData method, an optimization is triggered and associated to context "detail"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e2:=ds. Employee.get(2;$settings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> completeAllData($e2) // In completeAllData method, the optimization associated to context "detail" is applied</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e3:=ds. Employee.get(3;$settings2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> completeSummary($e3) //In completeSummary method, an optimization is triggered and associated to context "summary"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e4:=ds. Employee.get(4;$settings2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> completeSummary($e4) //In completeSummary method, the optimization associated to context "summary" is applied</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getcount>.getCount()<a href=#getcount class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>19 R5<td>Adicionado</table>
</div></div></details>
<p><strong>.getCount()</strong> : Integer</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th><th>Descrição<tbody><tr><td>resultado<td>Integer<td>&lt;-<td>Número de entidades na dataclass</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-5>Descrição<a href=#descrição-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.new( )</code>  cria em memória e devolve uma nova entidade em branco relacionada com a Dataclass.</p>
<p>Se esta função for utilizada dentro de uma transacção, as entidades criadas durante a transação serão levadas em consideração.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-7>Exemplo<a href=#exemplo-7 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D. DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $number : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$number:=$ds. Persons.getCount()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getdatastore>.getDataStore()<a href=#getdatastore class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17 R5<td>Adicionado</table>
</div></div></details>
<p><strong>.getInfo()</strong> : Objeto</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>cs. DataStore<td style=text-align:center>&lt;-<td>Informação da dataclass</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-6>Descrição<a href=#descrição-6 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.newSelection( )</code> cria uma nova selecção de entidade, em branco e não partilhável, relacionada com o dataclass, em memória.</p>
<p>A datastore pode ser:</p>
<ul>
<li>a datastore principal, retornada pelo comando <code>ds</code>.</li>
<li>uma datastore remota, aberta com o comando <code>Open datastore</code>.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-8>Exemplo<a href=#exemplo-8 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>O método de projeto <em><strong>SearchDuplicate</strong></em> procura por valores duplicados em qualquer dataclass.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> Pode usar parêntesis na pesquisa para dar prioridade ao cálculo Por exemplo, pode organizar uma pesquisa da seguinte maneira: Por exemplo, pode organizar uma pesquisa da seguinte maneira:</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  // Pesquisa SearchDuplicate</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // SearchDuplicate(entity_to_search;dataclass_name)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> #DECLARE ($pet : Object ; $dataClassName : Text)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $dataStore; $duplicates : Object  </span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $dataStore:=$pet.getDataClass().getDataStore()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $duplicates:=$dataStore[$dataClassName].query("name=:1";$pet.name)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getinfo>.getInfo()<a href=#getinfo class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>19 R3<td>A propriedade exposed foi adicionada<tr><td>17 R5<td>Adicionado</table>
</div></div></details>
<p><strong>.getInfo()</strong> : Objeto</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th><th>Descrição<tbody><tr><td>Resultados<td>Object<td>&lt;-<td>Datastore da dataclass</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-7>Descrição<a href=#descrição-7 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.getInfo( )</code> devolve um objecto que fornece informação sobre o dataclass. Esta função é útil para configurar o código genérico.</p>
<p><strong>Objeto devolvido</strong></p>






























<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>exposed<td>Parâmetros<td>True se a dataclass for exposta em REST<tr><td>name<td>Text<td>Nome da dataclass<tr><td>primaryKey<td>Text<td>Nome da chave primária da classe de dados<tr><td>tableNumber<td>Integer<td>Número daa tabela 4D interna</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-3>Exemplo 1<a href=#exemplo-1-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> #DECLARE ($entity : Object)  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> computeEmployeeNumber($entity) //faz uma ação na entidade</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$entity.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> if($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("Record updated in table "+$entity.getDataClass().getInfo().name)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-4>Exemplo 2<a href=#exemplo-2-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $settings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs. ClientsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings.parameters:=New object("receivedIds";getIds())</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings.attributes:=New object("pk";ds. Clients.getInfo().primaryKey)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds. Clients.query(":pk in :receivedIds";$settings)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3-2>Exemplo 3<a href=#exemplo-3-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $pk : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $dataClassAttribute : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $pk:=ds. Employee.getInfo().primaryKey</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $dataClassAttribute:=ds. Employee[$pk] // If needed the attribute matching the primary key is accessible</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getremotecache>.getRemoteCache()<a href=#getremotecache class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>19 R5<td>Adicionado</table>
</div></div></details>
<p><strong>.getRemoteCache</strong>() : Object</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th><th>Descrição<tbody><tr><td>resultado<td>Object<td>&lt;-<td>Objecto que descreve o conteúdo da cache ORDA para o dataclass.</table>
<p>|</p>
<blockquote>
<p><strong>Modo avançado:</strong> Esta função destina-se a programadores que necessitem personalizar as características padrão ORDA para configurações específicas. Na maioria dos casos, não necessitará de o utilizar.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-8>Descrição<a href=#descrição-8 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.getRemoteCache()</code> devolve um objecto que contém o conteúdo da cache ORDA para uma dataclass..</p>
<p>Chamar esta função a partir de uma aplicação 4D monousuário retorna <code>Null</code>.</p>
<p>O objeto retornado tem as propriedades abaixo:</p>






























<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>maxEntries<td>Integer<td>Número máximo de entradas recolhidas.<tr><td>stamp<td>Integer<td>Carimbo da cache.<tr><td>timeout<td>Integer<td>Tempo restante antes que as novas entradas na cache sejam marcadas como expiradas.<tr><td><td><td>Collection</table>
<p>Cada objecto de entrada na colecção <code>entradas</code> tem as seguintes propriedades:</p>

























<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>data<td>Object<td>Objeto que contém os dados da entrada<tr><td>expired<td>Parâmetros<td>True se a entrada tiver expirado<tr><td><td><td>Text</table>
<p>O objecto <code>data</code> em cada entrada contém as seguintes propriedades:</p>






























<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>__KEY<td>Text<td>Chave primária da entidade<tr><td>__STAMP<td>Integer<td>Stamp da entidade na base de dados<tr><td>__TIMESTAMP<td>Text<td>Stamp da entidade na base de dados (formato é YYYY-MM-DDTHH:MM:SS:ms:Z)<tr><td>dataClassAttributeName<td>Diferente de<td>Se houver dados na cache para um atributo dataclass, estes são devolvidos numa propriedade com o mesmo tipo que na base de dados.</table>
<p>Os dados relativos a entidades relacionadas são armazenados na cache do objecto de dados.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-9>Exemplo<a href=#exemplo-9 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>No exemplo seguinte, <code>$ds. Persons.all()</code> carrega a primeira entidade com todos os seus atributos. Depois, a optimização do pedido é desencadeada, pelo que apenas <code>firstname</code> e <code>address.city</code> são carregados.</p>
<p>Note-se que <code>address.city</code> é carregado na cache do <code>Pessoas</code> dataclass.</p>
<p>Apenas a primeira entidade do <code>endereço</code> dataclass é armazenada na cache. É carregado durante a primeira iteração do loop.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D. DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $persons : cs. PersonsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $p : cs. PersonsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $cachePersons; $cacheAddress : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$persons:=$ds. Persons.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:="" For each ($p; $persons)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $text:=$p.firstname+" lives in "+$p.address.city+" / " End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$cachePersons:=$ds. Persons.getRemoteCache()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$cacheAddress:=$ds. Adress.getRemoteCache()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=veja-também-1>Veja também<a href=#veja-também-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p><a href=#setremotecachesettings>.setRemoteCacheSettings()</a><br><a href=#clearremotecache>.clearRemoteCache()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=new>.new()<a href=#new class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.new()</strong> : 4D. Entity</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th><th>Descrição<tbody><tr><td>Resultados<td>4D. Entity<td>&lt;-<td>Nova entidade que coincide com a classe de dados</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-9>Descrição<a href=#descrição-9 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.new()</code> cria em memória e devolve uma nova entidade em branco relacionada com a Dataclass.</p>
<p>O objeto entidade se cria em memória e não se guarda no banco de dados até que se chama a função <a href=/docs/pt/20/API/EntityClass#save><code>.save( )</code></a>. Se a entidade for apagada antes de ser salva, não se pode recuperar.</p>
<p><strong>4D Server</strong>: eám cliente-servidor, se a chave primaria da tabela correspondente se autoincrementa, se calculará quando a entidade se guarde no servidor.</p>
<p>Todos os atributos da entidade são inicializados com o valor <strong>null</strong> .</p>
<blockquote>
<p>Os atributos podem ser inicializados com valores por padrão se a opção <strong>Map NULL values to blank values</strong> for seleccionada ao nível da estrutura da base de dados 4D.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-10>Exemplo<a href=#exemplo-10 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Este exemplo cria uma nova entidade na classe de dados "Log" e registra a informação no atributo "info":</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $entity : cs. LogEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=ds. Log.new() //create a reference</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.info:="New entry" //store some information</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.save() //save the entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=newselection>.newSelection()<a href=#newselection class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D. EntitySelection</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th><th>Descrição<tbody><tr><td>keepOrder<td>Integer<td>-><td><code>dk keep ordered</code>: cria uma seleção de entidades ordenada,<br><code>dk non ordered</code>: cria uma seleção de entidade não ordenada (padrão se omitido)<tr><td>Resultados<td>4D. EntitySelection<td>&lt;-<td>Nova seleção de entidades em branco relacionadas com a classe de dados</table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-10>Descrição<a href=#descrição-10 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.newSelection()</code> cria uma nova selecção de entidade, em branco e não partilhável, relacionada com o dataclass, em memória.</p>
<blockquote>
<p>Para mais informação sobre as seleçõees de entidades não compartilháveis, consulte <a href=/docs/pt/20/ORDA/entities#shareable-or-non-shareable-entity-selections>esta seção</a>.</p>
</blockquote>
<p>Se quiser uma seleção de entidades ordenada, passe o seletor <code>dk keep ordered</code> no parâmetro <em>keepOrder</em>. Como padrão se omitir este parâmetro ou se passar o seletor <code>dk non ordered</code>, o método cria uma seleção de entidades não ordenada. As seleções de entidades desordenadas são mais rápidas mas não se pode confiar nas posições das entidades. Para mas informação, consulte <a href=/docs/pt/20/ORDA/dsmapping#ordered-or-unordered-entity-selection>Seleções de entidades ordenadas e desordenadas</a>.</p>
<p>Quando for criada, a seleção de entidades não contém nenhuma entidade (<code>mySelection.length</code> devolve 0). Este método lhe permite criar seleções de entidades gradualmente fazendo chamadas posteriores à função <a href=/docs/pt/20/API/EntitySelectionClass#add><code>add()</code></a>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-11>Exemplo<a href=#exemplo-11 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $USelection; $OSelection : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $USelection:=ds. Employee.newSelection() //create an unordered empty entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $OSelection:=ds. Employee.newSelection(dk keep ordered) //create an ordered empty entity selection</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=query>.query()<a href=#query class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>





















<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17 R6<td>Soporte dos Parâmetros Formula<tr><td>17 R5<td>Suporte dos marcadores para os valores<tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D. EntitySelection</p>









































<table><thead><tr><th>Parâmetro<th>Tipo<th><th>Descrição<tbody><tr><td>queryString<td>Text<td>-><td>Criterios de pesquisa como string<tr><td>formula<td>Object<td>-><td>Criterios de pesquisa como objeto fórmula<tr><td>value<td>any<td>-><td>Valores a usar para placeholders indexados<tr><td>querySettings<td>Object<td>-><td>Opções de pesquisa: parâmetros, atributos, args, allowFormulas, contexto, queryPath,queryPlan<tr><td>Resultados<td>4D. EntitySelection<td>&lt;-<td>Nova seleção de entidade feita de entidades de dataclass realizano o critério de pesquia especificado em <em>queryString</em> or <em>formula</em></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-11>Descrição<a href=#descrição-11 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.query()</code> pesquisa por  entidades que satisfaçam os critérios de pesquisa especificados em <em>queryString</em> ou <em>fórmula</em> e (opcionalmente) <em>valor</em>(s), para todas as entidades no dataclass, e devolve um novo objecto do tipo <code>EntitySelection</code> contendo todas as entidades que são encontradas. Se aplica carregamento diferido/lazy loading.</p>
<p>Se não houver entidades correspondentes encontradas, uma <code>EntitySelection</code> vazia é retornada.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=parâmetro-querystring>parâmetro queryString<a href=#parâmetro-querystring class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>O parâmetro <em>queryString</em> usa a sintaxe abaixo:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">attributePath|formula comparator value   </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> {logicalOperator attributePath|formula comparator value}   </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> {order by attributePath {desc | asc}}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>onde:</p>
<ul>
<li><strong>attributePath</strong>: caminho de atributo no qual se pretende executar a consulta. Os atributos se expressam como pares propriedade/ valor, onde propriedade é o nome do marcador de posição inserido para uma rota de atributo em <em>queryString</em> ou <em>formula</em> (":placeholder") e valor pode ser uma string ou uma coleção de strings. No caso de um caminho de atributo cujo tipo é <code>Collection</code>, <code>[]</code> é utilizada a notação para tratar todas as ocorrências (por exemplo, <code>children[].age</code>).</li>
</ul>
<blockquote>
<p><em>Não pode usar diretamente atributos cujo nome contenha caracteres especiais como ".", "[ ]", or "=", ">", "#"..., porque serão avaliados incorretamente na string da query. Se precisar de uma query com esses atributos, deve considerar o uso de placeholders que permitem uma gama estendida de caracteres em rotas de atributo (ver</em> <strong>Using placeholders</strong> <em>below).</em></p>
</blockquote>
<ul>
<li>
<p><strong>formula</strong>: uma fórmula válida passada como <code>Text</code> ou <code>Object</code>. A fórmula será avaliada para cada entidade processada e deve retornar um valor booleano. Dentro da fórmula, a entidade está disponível através do objeto <code>This</code>.</p>
<ul>
<li><strong>Text</strong>: A string de fórmula deve ser precidida da declaração <code>eval( )</code>,para que o parser da pesquisa avalie a expressão corretamente. Por exemplo: <em>"eval(length(This.lastname) >=30)"</em></li>
<li><strong>Object</strong>: o objeto <a href=/docs/pt/20/API/FunctionClass>formula</a> é passado como um <strong>placeholder</strong> (ver abaixo). A fórmula deve ter sido criada usando  <a href=/docs/pt/20/API/FunctionClass#formula><code>Formula</code></a> ou o comando<a href=/docs/pt/20/API/FunctionClass#formula-from-string><code>Formula from string</code></a> command.</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li>Lembre que fórmulas 4D são compatíveis apenas com os símbolos <code>&</code> and <code>|</code> para operadores lógicos.</li>
<li>Se a fórmula não for o único critério de pesquisa, o otimizador de motor debusca poderia processar outros critérios previamente (por exemplo atributos indexados) e assim, a fórmula poderia ser avaliada apenas para um subconjunto de entidades.</li>
</ul>
</blockquote>
<p>Fórmulas nas consultas podem receber parâmetros através de $1. Este ponto é detalhado no parágrafo <strong>Parâmetro fórmula</strong> mais abaixo.</p>
<blockquote>
<ul>
<li>Também pode passar diretamente um objeto parâmetro <code>formula</code> ao invés do parâmetro <code>queryString</code> (recomendado quando as fórmulas sejam mais complexas). Ver o parágrafo <strong>Parâmetro fórmula</strong> mais abaixo.</li>
<li>Por razões de segurança, as chamadas a fórmulas dentro dos métodos <code>query()</code> podem ser desativadas. Veja a descrição do parâmetro <code>querySettings</code>.</li>
</ul>
</blockquote>
<ul>
<li><strong>comparator</strong>: symbol que compara <em>attributePath</em> e <em>valor</em>. Os simbolos abaixo são compatíveis:</li>
</ul>

































































<table><thead><tr><th>Comparação<th>Símbolos<th>Comentário<tbody><tr><td>Igual a<td>=, ==<td>Retorna os dados coincidentes, admite o coringa (@), não diferencia entre maiúsculas e minúsculas nem diacríticas.<tr><td><td>===, IS<td>Retorna os dados coincidentes, considera @ como caractere padrão, não diferencia entre maiúsculas e minúsculas nem diacríticas<tr><td>Diferente de<td>#, !=<td>Suporta o coringa (@). Equivalente a "Not condition applied on a statement" (<a href=#not-equal-to-in-collections>veja abaixo</a>).<tr><td><td>!==, IS NOT<td>Considera  @ como um caractere normal<tr><td>Não se aplica à condição de uma sentença<td>NOT<td>Parentesis são obrigatórios quando usar NOT antes de uma instrução que contenha vários operadores. Equivalente a "Not equal to" (<a href=#not-equal-to-in-collections>veja abaixo</a>).<tr><td>Menor que<td>&lt;<td><tr><td>Maior que<td>><td><tr><td>Menor que ou igual a<td>&lt;=<td><tr><td>Maior ou igual a<td>>=<td><tr><td>Incluído em<td>IN<td>Retorna dados iguais a ao menos um dos valores de uma coleção ou de um conjunto de valores, admite o coringa (@)<tr><td>Contém palavra chave<td>%<td>As palavras chaves podem ser usadas em atributos de string ou imagem</table>
<ul>
<li><strong>value</strong>: o valor a comparar ao valor atual da propriedade de cada entidade na seleção de entidade ou elemento na coleção. Pode ser um <strong>marcador</strong> (ver <strong>Uso de marcadores</strong> mais adiante) ou qualquer expressão que coincida com a propriedad de tipo de dados. Observe que, em caso de incompatibilidade de tipo com tipos escalares (texto, data, número...), 4D tentará converter o tipo <strong>value</strong> para o tipo de atributo sempre que possível, para um tratamento mais fácil de valores vindos da Internet. Por exemplo, se a string "v20" for digitada como <strong>value</strong> para comparar com um atributo inteiro, ela será convertida em 20. Quando usar um valor constante, as regras abaixo devem ser respeitadas:
<ul>
<li>A constante de tipo <strong>texto</strong> pode ser passada com ou sem aspas simples (ver <strong>Uso de aspas</strong> mais abaixo). Para pesquisar uma stirng dentro de uma string (uma pesquisa "contém") use o símbolo coringa (@) em valor para isolar a string a ser pesquisada como mostrado neste exemplo: "@Smith@". As palavras chaves abaixo são proibidas para constantes de texto: true, false.</li>
<li>Valores constantes de tipo <strong>booleano</strong> : <strong>true</strong> ou <strong>false</strong> (diferencia maiuscula de minúscula).</li>
<li>Valores constantes de tipo <strong>numérico</strong>: os decimais se separam com um '.' (ponto).</li>
<li><strong>data</strong> tipo constants: formato "YYYYY-MM-DD".</li>
<li><strong>null</strong> constante: usando a palavra chave "null" encontra as propriedades <strong>null</strong> e <strong>undefined</strong>.</li>
<li>no caso de uma pesquisa com um comparador IN, o valor deve uma coleção, ou valores que coincidam com o tipo da rota do atributo entre [ ] separados por vírgulas (para as strings, os caracteres " devem escapar-se com "").</li>
</ul>
</li>
<li><strong>logicalOperator</strong>: utilizado para unir condições múltiplas na pesquisa (opcional). Pode usaar um dos operadores lógicos abaixo (ou o nome ou o símbolo podem ser usados):</li>
</ul>

















<table><thead><tr><th>Conjunção<th>Símbolos<tbody><tr><td>AND<td>&, &&, and<tr><td>OU<td>|,||, or</table>
<ul>
<li><strong>order by attributePath</strong>: pode incluir uma declaração order by <em>attributePath</em> na pesquisa para que os dados resultantes sejam ordenados de acordo com esta declaração. Pode utilizar várias instruções de ordenação, separadas por vírgulas (por exemplo, ordenação por <em>attributePath1</em> desc, <em>attributePath2</em> asc). Como padrão, a ordem é ascendente. Passe 'desc'' para definir uma ordem descendente e 'asc' para definir uma ordem ascendente. >Se você usar essa instrução, a seleção de entidade retornada será ordenada (para obter mais informações, consulte <a href=/docs/pt/20/ORDA/dsmapping#ordered-or-unordered-entity-selection>Ordered vs Unordered entity selections</a>).</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=usar-aspas>Usar aspas<a href=#usar-aspas class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Ao usar aspas dentro das consultas, você deve usar aspas simples ' ' dentro da consulta e aspas duplas " " para envolver toda a consulta, caso contrário, será retornado um erro. Por exemplo:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">"employee.name = 'smith' AND employee.firstname = 'john'"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<blockquote>
<p>Aspas siples (') não são permitidas nos valores pesquisados, já que quebrariam a string de pesquisa. Por exemplo, "comp.name = 'John's pizza' " gerará um erro. Se precisar pesquisar valores com aspas simples, pode considerar o uso de placeholders (ver abaixo).</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=usando-parêntesis>Usando parêntesis<a href=#usando-parêntesis class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Você pode usar parênteses na consulta para dar prioridade ao cálculo. Por exemplo, pode organizar uma pesquisa da seguinte maneira:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">"(employee.age >= 30 OR employee.age &lt;= 65) AND (employee.salary &lt;= 10000 OR employee.status = 'Manager')"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=uso-de-placeholders>Uso de placeholders<a href=#uso-de-placeholders class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>4D permite que você use espaços reservados para <em>attributePath</em>, <em>formula</em> e <em>value</em> argumentos dentro do parâmetro <em>queryString</em> . Um placeholder é um parâmetro que você insere em cadeias de consulta e que é substituído por outro valor quando a cadeia de consulta é avaliada. O valor dos placeholders é avaliado uma vez no início da consulta; ele não é avaliado para cada elemento.</p>
<p>Dois tipos de placeholders podem ser usados: <strong>placeholders indexados</strong> e <strong>placeholders nomeados</strong>:</p>




















<table><thead><tr><th><th>Marcadores de posição indexados<th>Placeholders nomeados<tbody><tr><td>Definição<td>Os parâmetros são inseridos como :paramIndex (por exemplo :1, :2...) em queryString e seus valores correspondentes são fornecidos pela sequência de parâmetros value. Pode usara até 128 parâmetros de valor<td>Os parâmetros são inseridos como: paramName (por exemplo :myparam) e seus valores se proporcionam nos atributos ou objetos de parâmetros no parámetro querySettings<tr><td>Exemplo<td><code>$r:=class.query(":1=:2";"city";"Chicago")</code><td>$o.attributes:=New object("att";"city")<br> $o.parameters:=New object("name";"Chicago")<br> $r:=class.query(":att=:name";$o)</table>
<p>É possível misturar todos os tipos de argumentos em <em>queryString</em>. Uma <em>queryString</em> pode conter, para <em>attributePath</em>, <em>formula</em> e <em>value</em> parâmetros:</p>
<ul>
<li>valores diretos (sem placeholders),</li>
<li>placeholders indexados ou com nome.</li>
</ul>
<p>A utilização de placeholders em consultas <strong>é recomendada</strong> pelas seguintes razões:</p>
<ol>
<li>Evita a inserção de código malicioso: se user diretamente variáveis preenchidas com uma string de pesquisa, um usuário poderia modificar as condições de pesquisa entrando argumentos adicionais. Por exemplo, imagine uma string de pesquisa como:</li>
</ol>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $vquery:="status = 'public' & name = "+myname //o usuário introduz seu nome</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$col.query($vquery)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Essa consulta parece segura, pois os dados não públicos são filtrados. Entretanto, se o usuário introduzr na área <em>myname</em> algo como <em>"smith OR status='private'</em>, a string de pesquisa se modificaría na etapa da interpretação e poderia devolver dados privados.</p>
<p>Ao usar placeholders, não é possível substituir as condições de segurança:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $result:=$col.query("status='public' & name=:1";myname)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Neste caso, se o usuário introduz <em>smith OR status='private'</em> na área <em>myname</em>, não se interpretará na string de pesquisa, só será passada como um valor. A busca por uma pessoa chamada "smith OR status='private'" simplesmente falhará.</p>
<ol start=2>
<li>
<p>Evita ter que se preocupar por questões de formato ou caracteres, especialmente quando se manejam os parâmetros <em>attributePath</em> o <em>value</em> que podem conter não alfanuméricos como ".", "['...</p>
</li>
<li>
<p>Permite o uso de variáveis ou expressões nos argumentos de pesquisa. Exemplos:</p>
</li>
</ol>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$result:=$col.query("address.city = :1 & name =:2";$city;$myVar+"@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$result2:=$col.query("company.name = :1";"John's Pizzas")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=pesquisa-de-valores-null>Pesquisa de valores null<a href=#pesquisa-de-valores-null class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Quando pesquisar por valores null não pode usar a sintaxe do marcador de posição porque o motor de consulta considera o valor null como um valor de comparação inesperado. Por exemplo, se executar esta pesquisa:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$vSingles:=ds. Person.query("spouse = :1";Null) // will NOT work</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Não obterá o resultado esperado porque o valor nulo será avaliado por 4D como um erro resultante da avaliação do parâmetro (por exemplo, um atributo vindo de outra consulta). Para este tipo de pesquisa, deve usar a sintaxe de pesquisa direta:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $vSingles:=ds. Person.query("spouse = null") //correct syntax</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=not-equal-to-null-or-undefined-values>Not equal to null or undefined values<a href=#not-equal-to-null-or-undefined-values class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>O comparador "not equal to <em>value</em>" (<code>#</code> ou <code>!</code>) não retorna atributos cujo valor é null ou indefinido. Por exemplo, a consulta a seguir só retornará pessoas cujas "informações". status chegado é <code>false</code> e não as pessoas cuja propriedade "info.married" é "null" ou faltando:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$notMarried:=ds.Person.query("info.married#true") //finds persons with attribute value is false</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Se você deseja encontrar pessoas cujas "info.married" status são <code>false</code>, null, ou não definidas, você precisa escrever:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$notMarried:=ds.Person.query("info.married#true | info.married=null") //finds false, null and undefined attributes</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=não-igual-a-em-colecções>Não igual a em colecções<a href=#não-igual-a-em-colecções class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Ao pesquisar nos atributos de objectos de classe de dados que contêm colecções, o comparador "não igual a <em>valor</em>" (<code>#</code> ou <code>!=</code>) encontrará elementos em que TODAS as propriedades são diferentes de <em>valor</em> (e não aqueles em que PELO MENOS uma propriedade é diferente de <em>valor</em>, que é como funcionam outros comparadores). Basicamente, é equivalente a procurar "Not(find collection elements where property equals <em>value</em>"). Por exemplo, com as seguintes entidades:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Entity 1:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.name: "A"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.info:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    { "coll" : [ {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } ] }</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Entity 2:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.name: "B"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.info:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    { "coll" : [ {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":0</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } ] }</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Entity 3:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.name: "C"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.info:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    { "coll" : [ {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":0,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "val":0</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } ] }</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Considere os seguintes resultados:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ds.Class.query("info.coll[].val = :1";0) </span><br></span><span class=token-line style=color:#393A34><span class="token plain">// retorna B e C</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// encontra "entities with 0 in at least one val property"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.query("info.coll[].val != :1";0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// retorna apenas A</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// encontra "entities where all val properties are different from 0"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// que é equivalente a </span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Class.query(not("info.coll[].val = :1";0))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Se você quiser implementar uma consulta que encontre entidades em que "pelo menos uma propriedade seja diferente do valor **", você precisará usar uma notação especial usando uma letra no <code>[]</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ds.Class.query("info.coll[a].val := :1";0)  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">// devolve A e B</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// encontra "entidades em que pelo menos uma propriedade val é diferente de 0"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pode utilizar qualquer letra do alfabeto como notação <code>[a]</code> .</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=linkar-os-argumentos-de-pesquisa-com-os-atributos-de-coleção>Linkar os argumentos de pesquisa com os atributos de coleção<a href=#linkar-os-argumentos-de-pesquisa-com-os-atributos-de-coleção class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>Esse recurso só está disponível em consultas sobre classes de dados e seleções de entidades <a href=/docs/pt/20/API/EntitySelectionClass#query></a>. Ele não pode ser usado em consultas em coleções <a href=/docs/pt/20/API/CollectionClass#query></a>.</div></div>
<p>Ao pesquisar nos atributos de objetos de classe de dados que contêm coleções usando vários argumentos de consulta unidos pelo operador AND, você pode querer garantir que somente as entidades que contêm elementos que correspondem a todos os argumentos sejam retornadas, e não as entidades em que os argumentos podem ser encontrados em elementos diferentes. Para tal, é necessário ligar argumentos de consulta a elementos de coleção, de modo a que apenas sejam encontrados elementos individuais que contenham argumentos ligados.</p>
<p>Por exemplo, com as duas entidades abaixo:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Entity 1:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds. People.name: "martin"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds. People.places:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    { "locations" : [ {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "kind":"home",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "city":"paris"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } ] } Entity 2:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds. People.name: "smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds. People.places:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    { "locations" : [ {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "kind":"home",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "city":"lyon"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } , {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "kind":"office",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "city":"paris"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } ] }</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Você deseja encontrar pessoas com um tipo de local de "residência" na cidade "paris". Se escrever:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ds. People.query("places.locations[].kind= :1 and places.locations[].city= :2";"home";"paris")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>... a consulta retornará "martin" <strong>e</strong> "smith" porque "smith" tem um elemento "locations" cujo "kind" é "home" e um elemento "locations" cuja "city" é "paris", embora sejam elementos diferentes.</p>
<p>Se pretender obter apenas entidades em que os argumentos correspondentes estão no mesmo elemento de coleção, é necessário <strong>ligar argumentos</strong>. Para linkar argumentos de pesquisa:</p>
<ul>
<li>Adicionar uma letra entre os [] na primeira rota a linkar e repita a mesma letra em todos os argumentos linkados. Por exemplo: <code>locations[a].city and locations[a].kind</code>. Pode usar qualquer letra do alfabeto latino (não diferencia maiúsculas e minúsculas).</li>
<li>Para adicionar critérios linkados na mesma pesquisa, use outra letra. Pode criar até 26 combinações de critérios em uma única pesquisa.</li>
</ul>
<p>Com as entidades acima, se escreve:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ds. People.query("places.locations[a].kind= :1 and places.locations[a].city= :2";"home";"paris")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>... a consulta só devolverá "martin" porque tem um elemento "locations" cujo "kind" é "home" e cuja "city" é "paris". A consulta não devolverá "smith" porque os valores "home" e "paris" não estão no mesmo elemento de coleção.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=consultas-em-relações-muitos-para-muitos>Consultas em relações Muitos para Muitos<a href=#consultas-em-relações-muitos-para-muitos class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>O ORDA oferece uma sintaxe especial para facilitar as consultas em relações muitos-para-muitos. Neste contexto, pode ser necessário procurar valores diferentes com um operador <code>AND</code> mas no mesmo atributo. Por exemplo, veja a seguinte estrutura:</p>
<p><img decoding=async loading=lazy alt=alt-text src=/docs/pt/assets/images/manytomany-1ad2ed56ebdb101476120ab419c1994d.png width=537 height=268 class=img_ev3q></p>
<p>Imagine que você queira pesquisar todos os filmes em que <em>ambos</em> o ator A e o ator B tenham um papel. Se você escrever uma consulta simples usando um operador <code>AND</code> , ela não funcionará:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// invalid code</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$es:=ds. Movie.query("roles.actor.lastName = :1 AND roles.actor.lastName = :2";"Hanks";"Ryan")  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $es is empty</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Basicamente, o problema está relacionado à lógica interna da consulta: você não pode pesquisar um atributo cujo valor seja "A" e "B".</p>
<p>Para possibilitar a realização dessas consultas, o ORDA permite uma sintaxe especial: basta adicionar um  <em>indice de classe</em> entre <strong>{}</strong> em todos os atributos de relação adicionais usados na string:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">"relationAttribute.attribute = :1 AND relationAttribute{x}.attribute = :2 [AND relationAttribute{y}.attribute...]"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>{x}</strong> informa ao ORDA para criar outra referência para o atributo de relação. Em seguida, ele executará internamente todas as operações de bitmap necessárias. Observe que <strong>x</strong> pode ser qualquer número <strong>exceto 0</strong>: {1}, ou {2}, ou {1540}... O ORDA só precisa de uma referência exclusiva na consulta para cada índice de classe.</p>
<p>No nosso exemplo, seria:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// valid code</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$es:=ds. Movie.query("roles.actor.lastName = :1 AND roles.actor{2}.lastName = :2";"Hanks";"Ryan")  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $es contains movies (You've Got Mail, Sleepless in Seattle, Joe Versus the Volcano)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=parâmetro-formula>Parâmetro formula<a href=#parâmetro-formula class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Como alternativa à inserção de fórmulas dentro do parâmetro <em>queryString</em> (ver acima), pode passar diretamente um objeto fórmula como critério de pesquisa booleano. A utilizaçã de um objeto fórmula para as pesquisas é <strong>recomendada</strong> já que se beneficia da tokenização, e o código é mais fácil de pesquisar/ler.</p>
<p>A fórmula deve ter sido criada usando  <a href=/docs/pt/20/API/FunctionClass#formula><code>Formula</code></a> ou o comando<a href=/docs/pt/20/API/FunctionClass#formula-from-string><code>Formula from string</code></a> command. Nesse modo:</p>
<ul>
<li><em>fórmula</em> se avalia para cada entidade e deve devolver true ou false. Durante a execução da pesquisa, se o resultado da fórmula não for booleano, é considerado como False.</li>
<li>dentro da <em>fórmula</em>, a entidade está disponível através do objeto <code>This</code>.</li>
<li>Se o objeto <code>Formula</code> for <strong>null</strong>, o errro 1626 ("Expecting a text or formula") é gerado, então pode interceptar a chamada com o método instalado <code>ON ERR CALL</code>.</li>
</ul>
<blockquote>
<p>Por razões de segurança, as chamadas a fórmulas dentro dos métodos <code>query()</code> podem ser desativadas. Veja a descrição do parâmetro <em>querySettings</em>.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=passar-parâmetros-a-fórmulas>Passar parâmetros a fórmulas<a href=#passar-parâmetros-a-fórmulas class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Todo parâmetro <em>formula</em> chamado pela função <code>query()</code> pode receber parâmetros:</p>
<ul>
<li>Parâmeters devem ser passados através da propriedade  <strong>args</strong>  (objeto) do parâmetro <em>querySettings</em>.</li>
<li>A fórmula recebe este objeto <strong>args</strong> como um parâmetro <strong>$1</strong>.</li>
</ul>
<p>Este pequeno código mostra os principios de como são passados os parâmetros aos métodos:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $settings:=New object("args";New object("exclude";"-")) //args object to pass parameters</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds. Students.query("eval(checkName($1.exclude))";$settings) //args is received in $1</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>No exemplo 3 são oferecidos mais exemplos.</p>
<p><strong>4D Server</strong>: em cliente/servidor, as fórmulas são executadas no servidor. Neste contexto, só se envia às fórmulas o objeto <code>querySettings.args</code>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=parâmetro-querysettings>Parâmetro querySettings<a href=#parâmetro-querysettings class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>No parâmetro <em>querySettings</em> é possível passar um objeto que conteha opções adicionais. As propriedades abaixo são compatíveis:</p>













































<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>parameters<td>Object<td><strong>Marcadores nomeados para os valores</strong> utilizados em <em>queryString</em> ou <em>fórmula</em>. Os valores se expressam como pares propriedade / valor, onde propriedade é o nome do marcador de posição inserido para um valor em <em>queryString</em> ou <em>formula</em> (":placeholder") e valor é o valor a comparar. Pode combinar marcadores de posição indexados (valores passados diretamente em parâmetros de valor) e valores de marcadores de posição com nome na mesma pesquisa.<tr><td>attributes<td>Object<td><strong>attributePath</strong>: path of attribute on which you want to execute the query. Os atributos se expressam como pares propriedade/ valor, onde propriedade é o nome do marcador de posição inserido para uma rota de atributo em <em>queryString</em> ou <em>formula</em> (":placeholder") e valor pode ser uma string ou uma coleção de strings. Cada valor e uma rota que pode designar um escalar ou um atributo relacionado da dataclass ou uma propriedade num campo de objeto da dataclass<table><tr><th>Tipo<th>Descrição<tr><td>String<td>attributePath expressado com a notação de pontos, por exemplo: "name" ou "user.address.zipCode"<tr><td>Coleção de strings<td>Cada string da coleção representa um nível de attributePath, por exemplo: ["name"] ou ["user","address","zipCode"]. Usar uma coleção permite pesquisar atributos com nomes que não se ajustem à notação de pontos, por exemplo, ["4Dv17.1","en/fr"]</table>Pode combinar marcadores de posição indexados (valores passados diretamente nos parâmetros <em>value</em>) e os valores de marcadores de posição com nome na mesma pesquisa.<tr><td>args<td>Object<td>Parámetro(s) a passar para as fórmulas, se houver. O objeto <strong>args</strong> será recebido em $1 dentro das fórmulas e, portanto, seus valores estarão disponíveis através de <em>$1.property</em> (ver exemplo 3).<tr><td>allowFormulas<td>Parâmetros<td>True para permitir as chamadas de fórmulas na pesquisa (padrão). Passe falso para desautorizar a execução de fórmulas. Se for estabelecido como false y <code>query()</code> receber uma fórmula, se envia um erro (1278 - Fórmula não permitida neste método membro).<tr><td>context<td>Text<td>Etiqueta para o contexto de otimização automático aplicados à seleção de entidade. Este contexto será utilizado pelo código que maneja a seleção de entidades para que possa se beneficiar da otimização. Esta funcionalidade está projetada para o processamento cliente/servidor; para saber mais, consulte <a href=/docs/pt/20/ORDA/datastores#context><strong>Otimização cliente/servidor</strong></a>.<tr><td>queryPlan<td>Parâmetros<td>Na entity selection resultante, devolve ou não a descrição detalhada da pesquisa logo antes de ser executada, ou seja, a pesquisa planificada. A propriedade devolvida é um objeto que inclui cada pesquisa e subpesquisa prevista (no caso de uma pesquisa complexa). Esta opção é útil durante a fase de desenvolvimento de uma aplicação. Geralmente é usada em conjunto com queryPath. Como padrão é omitido: false. <strong>Nota</strong>: esta propriedade só são compatíveis com as funções<code>entitySelection.query( )</code> e <code>dataClass.query( )</code>.<tr><td>queryPath<td>Parâmetros<td>Na entity selection resultante, devolve ou não a descrição detalhada da pesquisa tal qual for realizada. A propriedade retornada é um objeto que contém a rota atual usada para a pesquisa (geralmente idêntica àquela do queryPlan, mas deve diferenciar se o motor consegue otimizar a pesquisa), assim como o tempo de processamento e o número de registros encontrado. Esta opção é útil durante a fase de desenvolvimento de uma aplicação. Como padrão é omitido: false. <strong>Nota</strong>: esta propriedade só são compatíveis com as funções<code>entitySelection.query( )</code> e <code>dataClass.query( )</code>.</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=sobre-queryplan-e-querypath>Sobre queryPlan e queryPath<a href=#sobre-queryplan-e-querypath class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A informação registrada em <code>queryPlan</code>/<code>queryPath</code> inclui o tipo de pesquisa (indexada e sequencial) e cada subconsulta necessária junto com os operadores de conjunção. As rotas de acesso das petições também contém o número de entidades encontradas e o tempo necessário para executar cada critério de pesquisa. As rotas de acesso das petições também contém o número de entidades encontradas e o tempo necessário para executar cada critério de pesquisa. Geralmente a descrição do plano de pesquisa e sua rota são idênticas, mas podem diferir porque 4D pode implementar otimizações dinâmicas quando uma pesquisa for executada para melhorar desempenho. Por exemplo, o motor 4D pode converter dinamicamente uma consulta indexada em uma consulta sequencial se estimar que seja mais rápido. Esse caso particular pode acontecer quando o número de entidades sendo pesquisada é baixo.</p>
<p>Por exemplo, se executar esta pesquisa:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $sel:=ds. Employee.query("salary &lt; :1 and employer.name = :2 or employer.revenues > :3";\  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> 50000;"Lima West Kilo";10000000;New object("queryPath";True;"queryPlan";True))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>queryPlan:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{Or:[{And:[{item:[index : Employee.salary ] &lt; 50000},  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> {item:Join on Table : Company  :  Employee.employerID = Company.ID,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> subquery:[{item:[index : Company.name ] = Lima West Kilo}]}]},  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> {item:Join on Table : Company  :  Employee.employerID = Company.ID,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> subquery:[{item:[index : Company.revenues ] > 10000000}]}]}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>queryPath:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{steps:[{description:OR,time:63,recordsfounds:1388132,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> steps:[{description:AND,time:32,recordsfounds:131,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> steps:[{description:[index : Employee.salary ] &lt; 50000,time:16,recordsfounds:728260},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:0,recordsfounds:131,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> steps:[{steps:[{description:[index : Company.name ] = Lima West Kilo,time:0,recordsfounds:1}]}]}]},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:31,recordsfounds:1388132,  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> steps:[{steps:[{description:[index : Company.revenues ] > 10000000,time:0,recordsfounds:933}]}]}]}]}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-4>Exemplo 1<a href=#exemplo-1-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Esta seção oferece vários exemplos de pesquisas.</p>
<p>Consultas em uma string:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Customer.query("firstName = 'S@'")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com uma instrução NOT:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Employee.query("not(firstName=Kim)")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisas com datas:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Employee.query("birthDate > :1";"1970-01-01")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Employee.query("birthDate &lt;= :1";Current date-10950)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com marcadores de posição indexados para os valores:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Customer.query("(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)";"D@";"R@";"S@";"K@")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com marcadores de posição indexados para valores em uma dataclass relacionada:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Employee.query("lastName = :1 and manager.lastName = :2";"M@";"S@")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com marcador de posição indexado que inclui uma instrução de ordem descendente:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Student.query("nationality = :1 order by campus.name desc, lastname";"French")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com marcadores de posição com nome para os valores:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $querySettings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $managedCustomers : cs. CustomerSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$querySettings:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$querySettings.parameters:=New object("userId";1234;"extraInfo";New object("name";"Smith"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$managedCustomers:=ds. Customer.query("salesperson.userId = :userId and name = :extraInfo.name";$querySettings)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa que usa marcadores de posição nomeados e indexados para valores:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $querySettings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $managedCustomers : cs. CustomerSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$querySettings.parameters:=New object("userId";1234)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$managedCustomers:=ds. Customer.query("salesperson.userId = :userId and name=:1";"Smith";$querySettings)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com objetos queryPlan e queryPath:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Employee.query("(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)";"D@";"R@";"S@";"K@";New object("queryPlan";True;"queryPath";True))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //you can then get these properties in the resulting entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $queryPlan; $queryPath : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$queryPlan:=$entitySelection.queryPlan</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$queryPath:=$entitySelection.queryPath</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com uma rota de atributo de tipo Collection:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Employee.query("extraInfo.hobbies[].name = :1";"horsebackriding")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com uma rota de atributos de tipo Collection e atributos vinculados:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Employee.query("extraInfo.hobbies[a].name = :1 and extraInfo.hobbies[a].level=:2";"horsebackriding";2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com uma rota de atributos de tipo Collection e múltiplos atributos vinculados:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Employee.query("extraInfo.hobbies[a].name = :1 and</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> extraInfo.hobbies[a].level = :2 and extraInfo.hobbies[b].name = :3 and</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> extraInfo.hobbies[b].level = :4";"horsebackriding";2;"Tennis";5)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com uma rota de atributo de tipo Objeto:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Employee.query("extra.eyeColor = :1";"blue")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com uma instrução IN:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Employee.query("firstName in :1";New collection("Kim";"Dixie"))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com instrução NOT (IN):</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$entitySelection:=ds. Employee.query("not (firstName in :1)";New collection("John";"Jane"))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com marcadores de posição indexados para os atributos:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $es : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$es:=ds. Employee.query(":1 = 1234 and :2 = 'Smith'";"salesperson.userId";"name")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //salesperson is a related entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com marcadores de posição indexados para os atributos e marcadores de posição com nome para os valores:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $es : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $querySettings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$querySettings:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$querySettings.parameters:=New object("customerName";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$es:=ds. Customer.query(":1 = 1234 and :2 = :customerName";"salesperson.userId";"name";$querySettings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //salesperson is a related entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com marcadores de posição indexados para os atributos e os valores:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $es : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$es:=ds. Clients.query(":1 = 1234 and :2 = :3";"salesperson.userId";"name";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //salesperson is a related entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-5>Exemplo 2<a href=#exemplo-2-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Esta seção ilustra pesquisas com marcadores de posição com nomes para os atributos.</p>
<p>Dada uma dataclass Employee com 2 entidades:</p>
<p>Entidade 1:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">name: "Marie"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">number: 46</span><br></span><span class=token-line style=color:#393A34><span class="token plain">softwares:{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Word 10.2": "Installed",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Excel 11.3": "To be upgraded",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Powerpoint 12.4": "Not installed"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Entidade 2:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">name: "Sophie"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">number: 47</span><br></span><span class=token-line style=color:#393A34><span class="token plain">softwares:{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Word 10.2": "Not installed",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Excel 11.3": "To be upgraded",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Powerpoint 12.4": "Not installed"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com marcadores de posição com nome para os atributos:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $querySettings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $querySettings:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $querySettings.attributes:=New object("attName";"name";"attWord";New collection("softwares";"Word 10.2"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds. Employee.query(":attName = 'Marie' and :attWord = 'Installed'";$querySettings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$es.length=1 (Employee Marie)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Pesquisa com marcadores de posição com nome para os atributos e os valores:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $querySettings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $name : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $querySettings:=New object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Named placeholders for values</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //The user is asked for a name</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $name:=Request("Please enter the name to search:")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If(OK=1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $querySettings.parameters:=New object("givenName";$name)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Named placeholders for attribute paths</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $querySettings.attributes:=New object("attName";"name")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $es:=ds. Employee.query(":attName= :givenName";$querySettings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3-3>Exemplo 3<a href=#exemplo-3-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Estes exemplos ilustram as distintas formas de utilizar fórmulas com ou sem parâmetros em suas pesquisas.</p>
<p>A fórmula se da como texto com <code>eval()</code> no parâmetro <em>queryString</em>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds. Students.query("eval(length(This.lastname) >=30) and nationality='French'")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>A fórmula se dá como um objeto <code>Formula</code> através de um marcador de posição:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $formula : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula:=Formula(Length(This.lastname)>=30)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds. Students.query(":1 and nationality='French'";$formula)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Apenas um objeto <code>Formula</code> é dado como critério:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $formula : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula:=Formula(Length(This.lastname)>=30)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds. Students.query($formula)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Podem ser aplicadas várias fórmulas:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $formula1; $1; $formula2 ;$0 : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula1:=$1</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula2:=Formula(Length(This.firstname)>=30)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $0:=ds. Students.query(":1 and :2 and nationality='French'";$formula1;$formula2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Uma fórmula texto em <em>queryString</em> recebe um parâmetro:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $settings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings:=New object()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings.args:=New object("filter";"-")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds. Students.query("eval(checkName($1.filter)) and nationality=:1";"French";$settings)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  //checkName method</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> #DECLARE($exclude : Text) -> $result : Boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=(Position($exclude;This.lastname)=0)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Utilizando o mesmo método <em><strong>checkName</strong></em>, um objeto <code>Formula</code> como marcador de posição recebe um parâmetro:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $settings; $formula : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $formula:=Formula(checkName($1.filter))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings:=New object()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings.args:=New object("filter";"-")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds. Students.query(":1 and nationality=:2";$formula;"French";$settings)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $settings.args.filter:="*" // change the parameters without updating the $formula object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $es:=ds. Students.query(":1 and nationality=:2";$formula;"French";$settings)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Queremos desautorizar as fórmulas, por exemplo, quando el usuário introduz sua consulta:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $es : cs. StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $settings : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $queryString : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $queryString:=Request("Enter your query:")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> if(OK=1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $settings:=New object("allowFormulas";False)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $es:=ds. Students.query($queryString;$settings) //An error is raised if $queryString contains a formula</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=veja-também-2>Veja também<a href=#veja-também-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p><a href=/docs/pt/20/API/EntitySelectionClass#query><code>.query()</code></a> para seleções de entidades</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=setremotecachesettings>.setRemoteCacheSettings()<a href=#setremotecachesettings class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Histórico</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>19 R5<td>Adicionado</table>
</div></div></details>
<p><strong>.setRemoteCacheSettings</strong>(<em>settings</em> : Object)</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th><th>Descrição<tbody><tr><td>settings<td>Object<td>-><td>Objecto que define o tempo limite e o tamanho máximo da cache ORDA para a dataclass.</table>
<p>|</p>
<blockquote>
<p><strong>Modo avançado:</strong> Esta função destina-se a programadores que necessitem personalizar as características padrão ORDA para configurações específicas. Na maioria dos casos, não necessitará de o utilizar.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-12>Descrição<a href=#descrição-12 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A função <code>.setRemoteCacheSettings()</code> define o tempo limite e o tamanho máximo da cache ORDA para um dataclass..</p>
<p>No parâmetro <em>settings</em>, passe um objeto contendo as propriedades abaixo:</p>




















<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>timeout<td>Integer<td>Tempo de espera em segundos.<tr><td>maxEntries<td>Integer<td>Número máximo de entidades.</table>
<p><code>timeout</code> define o timeout da cache ORDA para o dataclass (por defeito é de 30 segundos). Uma vez decorrido o tempo limite, as entidades da classe de dados na cache são consideradas como expiradas. Isto significa que:</p>
<ul>
<li>os dados ainda estão lá</li>
<li>na próxima vez que os dados forem necessários, serão solicitados ao servidor</li>
<li>4D remove automaticamente os dados expirados quando o número máximo de entidades é atingido</li>
</ul>
<p>A definição de uma propriedade <code>timeout</code> define um novo tempo limite para as entidades já presentes na cache. É útil quando se trabalha com dados que não mudam com muita frequência, e, portanto, quando não são necessários novos pedidos ao servidor.</p>
<p><code>maxEntries</code> define o número máximo de entidades na cache ORDA. O padrão é de 30 000.</p>
<p>O número mínimo de entradas é 300, pelo que o valor de <code>maxEntries</code> deve ser igual ou superior a 300. Caso contrário, é ignorado e o número máximo de entradas é fixado em 300.</p>
<p>Se nenhuma propriedade válida for passada como <code>timeout</code> e <code>maxEntries</code>, a cache permanece inalterada, com os seus valores por defeito ou previamente definidos.</p>
<p>Quando uma entidade é guardada, é actualizada na cache e expira quando o tempo limite é atingido.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-12>Exemplo<a href=#exemplo-12 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D. DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds. Buildings.setRemoteCacheSettings(New object("timeout"; 60; "maxEntries"; 350))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=veja-também-3>Veja também<a href=#veja-também-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p><a href=#clearremotecache>.clearRemoteCache()</a><br><a href=#clearremotecache>.getRemoteCache()</a></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataClassClass.md%20(20)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Comentar esta página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegação nas páginas dos documentos"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/pt/20/API/CryptoKeyClass><div class=pagination-nav__sublabel>Anterior</div><div class=pagination-nav__label>CryptoKey</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/pt/20/API/DataStoreClass><div class=pagination-nav__sublabel>Próximo</div><div class=pagination-nav__label>DataStore</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#resumo class="table-of-contents__link toc-highlight">Resumo</a><li><a href=#attributename class="table-of-contents__link toc-highlight">.<em>attributeName</em></a><li><a href=#all class="table-of-contents__link toc-highlight">.all()</a><li><a href=#clearremotecache class="table-of-contents__link toc-highlight">.clearRemoteCache()</a><li><a href=#fromcollection class="table-of-contents__link toc-highlight">.fromCollection()</a><li><a href=#get class="table-of-contents__link toc-highlight">.get()</a><li><a href=#getcount class="table-of-contents__link toc-highlight">.getCount()</a><li><a href=#getdatastore class="table-of-contents__link toc-highlight">.getDataStore()</a><li><a href=#getinfo class="table-of-contents__link toc-highlight">.getInfo()</a><li><a href=#getremotecache class="table-of-contents__link toc-highlight">.getRemoteCache()</a><li><a href=#new class="table-of-contents__link toc-highlight">.new()</a><li><a href=#newselection class="table-of-contents__link toc-highlight">.newSelection()</a><li><a href=#query class="table-of-contents__link toc-highlight">.query()</a><li><a href=#setremotecachesettings class="table-of-contents__link toc-highlight">.setRemoteCacheSettings()</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Comunidade</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://developer.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Centro de desenvolvimento 4D</a><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://twitter.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="col footer__col"><div class=footer__title>Suporte</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Onde tudo começou)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Base de conhecimento</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Baixares<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Obter suporte<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Empresa</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>Sobre 4D<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contactar-nos<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D no mundo<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2024 4D SAS - Todos os direitos reservados</div></div></div></footer></div>