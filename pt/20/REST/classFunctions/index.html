<!doctype html>
<html lang="pt" dir="ltr" class="docs-wrapper docs-doc-page docs-version-20 plugin-docs plugin-id-default docs-doc-id-REST/classFunctions">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Chamada de funções de classe ORDA | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://4d.github.io/docs/pt/20/REST/classFunctions"><meta data-rh="true" name="docusaurus_locale" content="pt"><meta data-rh="true" name="docsearch:language" content="pt"><meta data-rh="true" name="docusaurus_version" content="20"><meta data-rh="true" name="docusaurus_tag" content="docs-default-20"><meta data-rh="true" name="docsearch:version" content="20"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-20"><meta data-rh="true" property="og:title" content="Chamada de funções de classe ORDA | 4D Docs"><meta data-rh="true" name="description" content="Pode chamar as funções de classe de modelos de dados definidas para o modelo de dados ORDA através dos seus pedidos REST, para poder beneficiar da API da aplicação 4D objetivo."><meta data-rh="true" property="og:description" content="Pode chamar as funções de classe de modelos de dados definidas para o modelo de dados ORDA através dos seus pedidos REST, para poder beneficiar da API da aplicação 4D objetivo."><link data-rh="true" rel="icon" href="/docs/pt/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://4d.github.io/docs/pt/20/REST/classFunctions"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/20/REST/classFunctions" hreflang="en"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/fr/20/REST/classFunctions" hreflang="fr"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/es/20/REST/classFunctions" hreflang="es"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/ja/20/REST/classFunctions" hreflang="ja"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/pt/20/REST/classFunctions" hreflang="pt"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/20/REST/classFunctions" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/pt/opensearch.xml"><link rel="stylesheet" href="/docs/pt/assets/css/styles.a14572c6.css">
<link rel="preload" href="/docs/pt/assets/js/runtime~main.c8abcf1f.js" as="script">
<link rel="preload" href="/docs/pt/assets/js/main.4d096303.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Saltar para o conteúdo principal"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Saltar para o conteúdo principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar barra de navegação" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/pt/"><div class="navbar__logo"><img src="/docs/pt/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/pt/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Documentação 4D</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/pt/20/GettingStarted/installation">v20</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/pt/REST/classFunctions">v20 R4 BETA</a></li><li><a class="dropdown__link" href="/docs/pt/20-R3/REST/classFunctions">v20 R3</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/pt/20/REST/classFunctions">v20</a></li><li><a class="dropdown__link" href="/docs/pt/19/REST/classFunctions">v19</a></li><li><a class="dropdown__link" href="/docs/pt/18/GettingStarted/installation">v18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Português</a><ul class="dropdown__menu"><li><a href="/docs/20/REST/classFunctions" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/20/REST/classFunctions" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/es/20/REST/classFunctions" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/20/REST/classFunctions" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/docs/pt/20/REST/classFunctions" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Alternar entre os modos escuro e claro (atualmente modo Claro)" aria-label="Alternar entre os modos escuro e claro (atualmente modo Claro)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Pesquisa"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Pesquisa</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Voltar ao topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/docs/pt/"><img src="/docs/pt/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/pt/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>Documentação 4D</b></a><nav aria-label="Barra lateral de documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pt/20/category/getting-started">Começando</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;Começando&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pt/20/category/core-development">Desenvolvimento</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;Desenvolvimento&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pt/20/category/administration">Administração</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;Administração&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pt/20/Extensions/overview">Extensões</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;Extensões&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/pt/20/category/web-applications">Aplicações Web</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;Aplicações Web&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pt/20/WebServer/overview">Servidor Web</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;Servidor Web&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pt/20/WebServer/gettingStarted">Desenvolvimento Web</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;Desenvolvimento Web&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/pt/20/category/rest-server">Servidor REST</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;Servidor REST&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/pt/20/REST/gettingStarted">Guias</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;Guias&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20/REST/configuration">Configuração do servidor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20/REST/authUsers">Usuários e sessões</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20/REST/genInfo">Obter informação do servidor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20/REST/manData">Manipulação de dados</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pt/20/REST/classFunctions">Chamada de funções de classe ORDA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pt/20/REST/REST_requests">Sobre petições REST</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pt/20/category/api-general">API (geral)</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;API (geral)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pt/20/category/api-dataclass">API (dataClass)</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;API (dataClass)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pt/20/category/desktop-applications">Aplicações Desktop</a><button aria-label="Alternar a categoria da barra lateral rebatível &#x27;Aplicações Desktop&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developer.4d.com/go-mobile/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Aplicações móveis</a></div></li></ul></nav><button type="button" title="Recolher a barra lateral" aria-label="Recolher a barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Trilha de navegação"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Página inicial" class="breadcrumbs__link" href="/docs/pt/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pt/20/category/web-applications"><span itemprop="name">Aplicações Web</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pt/20/category/rest-server"><span itemprop="name">Servidor REST</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pt/20/REST/gettingStarted"><span itemprop="name">Guias</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Chamada de funções de classe ORDA</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Versão: v20</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Nesta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Chamada de funções de classe ORDA</h1></header><p>Pode chamar as <a href="/docs/pt/20/ORDA/ordaClasses">funções de classe de modelos de dados</a> definidas para o modelo de dados ORDA através dos seus pedidos REST, para poder beneficiar da API da aplicação 4D objetivo.</p><p>As funções são simplesmente chamadas em pedidos POST na interface ORDA apropriada, sem (). Por exemplo, se tiver definido uma função <code>getCity()</code> na dataclass City, pode chamá-la utilizando o seguinte pedido:</p><p><code>/rest/City/getCity</code></p><p>com dados no corpo do pedido POST: <code>[&quot;Aguada&quot;]</code></p><p>Na linguagem 4D, esta chamada é equivalente a:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$city:=ds. City.getCity(&quot;Aguada&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Apenas as funções com a palavra-chave <code>exposed</code> podem ser diretamente chamadas a partir de pedidos REST. Ver a secção <a href="/docs/pt/20/ORDA/ordaClasses#exposed-vs-non-exposed-functions">Funções expostas vs não expostas</a>.</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="chamadas-funções">Chamadas funções<a href="#chamadas-funções" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2><p>As funções têm de ser sempre chamadas através de pedidos <strong>POST</strong> REST (um pedido GET dará origem a um erro).</p><p>As funções são chamadas no objeto correspondente no datastore do servidor.</p><table><thead><tr><th>Função de classe</th><th>Sintaxe</th></tr></thead><tbody><tr><td><a href="/docs/pt/20/ORDA/ordaClasses#datastore-class">datastore class</a></td><td><code>/rest/$catalog/DataStoreClassFunction</code></td></tr><tr><td><a href="/docs/pt/20/ORDA/ordaClasses#dataclass-class">dataclass class</a></td><td><code>/rest/{dataClass}/DataClassClassFunction</code></td></tr><tr><td><a href="/docs/pt/20/ORDA/ordaClasses#entityselection-class">entitySelection class</a></td><td><code>/rest/{dataClass}/EntitySelectionClassFunction</code></td></tr><tr><td></td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$entityset/entitySetNumber</code></td></tr><tr><td></td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$filter</code></td></tr><tr><td></td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$orderby</code></td></tr><tr><td><a href="/docs/pt/20/ORDA/ordaClasses#entity-class">entity class</a></td><td><code>/rest/{dataClass}(key)/EntityClassFunction/</code></td></tr></tbody></table><blockquote><p><code>/rest/{dataClass}/Function</code> pode ser utilizada para chamar uma função de dataclass ou de seleção de entidades (<code>/rest/{dataClass}</code> devolve todas as entidades da DataClass como uma seleção de entidades).<br>
<!-- -->A função é pesquisada primeiro na classe de seleção de entidades. Se não for encontrado, é procurado na dataclass. Por outras palavras, se uma função com o mesmo nome for definida tanto na classe DataClass como na classe EntitySelection, a função da classe de dataClass nunca será executada.</p></blockquote><blockquote><p>Todo o código 4D chamado a partir de pedidos REST <strong>deve ser thread-safe</strong> se o projeto correr em modo compilado, porque o Servidor REST usa sempre processos preemptivos neste caso (o valor da definição <a href="/docs/pt/20/WebServer/preemptiveWeb#enabling-the-preemptive-mode-for-the-web-server"><em>Use preemptive process</em></a> é ignorado pelo Servidor REST).</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parâmetros">Parâmetros<a href="#parâmetros" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2><p>É possível enviar parâmetros para funções definidas em classes usuários ORDA. No lado do servidor, serão recebidos nas funções de classe nos parâmetros normais $1, $2, etc.</p><p>As regras abaixo são válidas:</p><ul><li>Os parâmetros devem ser transmitidos no corpo <strong>do pedido POST</strong></li><li>Os parâmetros devem ser incluídos numa coleção (formato JSON)</li><li>Todos os tipos de dados escalares suportados nas coleções JSON podem ser passados como parâmetros.</li><li>A entidade e a seleção de entidades podem ser passadas como parâmetros. O objeto JSON deve conter atributos específicos utilizados pelo servidor REST para atribuir dados aos objectos ORDA correspondentes: <strong>DATACLASS, </strong>ENTITY, <strong>ENTITIES, </strong>DATASET.</li></ul><p>Ver <a href="#request-receiving-an-entity-as-parameter">este exemplo</a> e <a href="#request-receiving-an-entity-selection-as-parameter">este exemplo</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parâmetro-de-valor-escalar">Parâmetro de valor escalar<a href="#parâmetro-de-valor-escalar" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>Os parâmetros devem ser simplesmente incluídos numa coleção definida no corpo. Por exemplo, com uma função de classe de dados <code>getCities()</code> que recebe parâmetros de texto: <code>/rest/City/getCities</code></p><p><strong>Parâmetros no corpo:</strong> <!-- -->[&quot;Aguada&quot;, &quot;Paris&quot;]</p><p>Todos os tipos de dados JSON são suportados nos parâmetros, incluindo os ponteiros JSON. As datas podem ser transmitidas como cadeias de caracteres no formato de data ISO 8601 (por exemplo, &quot;2020-08-22T22:00:000Z&quot;).</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parâmetro-da-entidade">Parâmetro da entidade<a href="#parâmetro-da-entidade" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>As entidades passadas nos parâmetros são referenciadas no servidor através da sua chave (<em>, ou seja, a propriedade</em> __KEY). Se o parâmetro chave for omitido num pedido, é carregada uma nova entidade na memória do servidor. Também é possível transmitir valores para quaisquer atributos da entidade. Estes valores serão automaticamente utilizados para a entidade tratada no servidor.</p><blockquote><p>Se o pedido enviar valores de atributos modificados para uma entidade existente no servidor, a função de modelo de dados ORDA chamada será automaticamente executada no servidor com valores modificados. Esta caraterística permite-lhe, por exemplo, verificar o resultado de uma operação numa entidade, depois de aplicar todas as regras de negócio, a partir da aplicação cliente. O usuário pode então decidir guardar ou não a entidade no servidor.</p></blockquote><table><thead><tr><th>Propriedades</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>Atributos da entidade</td><td>misto</td><td>Opcional - Valores a modificar</td></tr><tr><td>__DATACLASS</td><td>String</td><td>Obrigatório - Indica a Dataclass da entidade</td></tr><tr><td>__ENTITY</td><td>Parâmetros</td><td>Obrigatório - Verdadeiro para indicar ao servidor que o parâmetro é uma entidade</td></tr><tr><td>__KEY</td><td>misto (do mesmo tipo que a chave primária)</td><td>Facultativo - Chave primária da entidade</td></tr></tbody></table><ul><li>Se __KEY não for fornecido, uma nova entidade é criada no servidor com os atributos fornecidos.</li><li>Se <strong>KEY for fornecido, a entidade correspondente a </strong>KEY é carregada no servidor com os atributos fornecidos</li></ul><p>Ver exemplos para <a href="#creating-an-entity">criar</a> ou <a href="#updating-an-entity">atualizar</a> entidades.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parâmetro-de-entidade-relacionada">Parâmetro de entidade relacionada<a href="#parâmetro-de-entidade-relacionada" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><p>Propriedades idênticas às de um parâmetro de entidade <a href="#entity-parameter"></a>. Além disso, a entidade relacionada deve existir e ser referenciada por __KEY que contém a sua chave primária.</p><p>Ver exemplos para <a href="#creating-an-entity-with-a-related-entity">criar</a> ou <a href="#updating-an-entity-with-a-related-entity">atualizar</a> entidades com entidades relacionadas.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parâmetro-de-seleção-da-entidade">Parâmetro de seleção da entidade<a href="#parâmetro-de-seleção-da-entidade" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>A seleção da entidade deve ter sido previamente definida utilizando <a href="/docs/pt/20/REST/method#methodentityset">$method=entityset</a>.</p><blockquote><p>Se o pedido enviar uma seleção de entidade modificada para o servidor, a função de modelo de dados ORDA chamada será automaticamente executada no servidor com a seleção de entidade modificada.</p></blockquote><table><thead><tr><th>Propriedades</th><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td>Atributos da entidade</td><td>misto</td><td>Opcional - Valores a modificar</td></tr><tr><td>__DATASET</td><td>String</td><td>Obrigatório - entitySetID (UUID) da seleção de entidades</td></tr><tr><td>__ENTITIES</td><td>Parâmetros</td><td>Obrigatório - Verdadeiro para indicar ao servidor que o parâmetro é uma seleção de entidade</td></tr></tbody></table><p>Ver exemplo de<a href="#receiving-an-entity-selection-as-parameter">recepção de uma seleção de entidade</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemplos-de-petições">Exemplos de petições<a href="#exemplos-de-petições" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2><p>Esta base de dados é exposta como um datastore remoto no localhost (porta 8111):</p><p><img loading="lazy" alt="alt-text" src="/docs/pt/assets/images/ordastructure-64d64d76ce9764a2365629e381bde282.png" width="882" height="599" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="utilizar-uma-função-de-classe-do-datastore">Utilizar uma função de classe do datastore<a href="#utilizar-uma-função-de-classe-do-datastore" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>A classe de <code>DataStore</code> US_Cities fornece uma API:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// DataStore class Class extends DataStoreImplementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exposed Function getName()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $0:=&quot;US cities and zip codes manager&quot; </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pode então executar este pedido:</p><p><strong>POST</strong> <code>127.0.0.1:8111/rest/$catalog/getName</code></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resultados">Resultados<a href="#resultados" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;result&quot;: &quot;US cities and zip codes manager&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="utilização-de-uma-função-de-classe-de-dataclass">Utilização de uma função de classe de dataclass<a href="#utilização-de-uma-função-de-classe-de-dataclass" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>A classe Dataclass <code>City</code> fornece uma API que devolve uma entidade cidade a partir de um nome passado como parâmetro:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// City class Class extends DataClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exposed Function getCity()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $0 : cs. CityEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $1,$nameParam : text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $nameParam:=$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $0:=This.query(&quot;name = :1&quot;;$nameParam).first()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pode então executar este pedido:</p><p><strong>POST</strong> <code>127.0.0.1:8111/rest/City/getCity</code></p><p>Corpo do pedido: <!-- -->[&quot;Aguada&quot;]</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resultados-1">Resultados<a href="#resultados-1" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><p>Le résultat est une entité:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__entityModel&quot;: &quot;City&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__DATACLASS&quot;: &quot;City&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__KEY&quot;: &quot;1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__TIMESTAMP&quot;: &quot;2020-03-09T08:03:19.923Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ID&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;Aguada&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;countyFIPS&quot;: 72003,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;county&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__deferred&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;uri&quot;: &quot;/rest/County(72003)&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: &quot;72003&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;zips&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__deferred&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;uri&quot;: &quot;/rest/City(1)/zips?$expand=zips&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="utilização-de-uma-função-de-classe-de-uma-entidade">Utilização de uma função de classe de uma entidade<a href="#utilização-de-uma-função-de-classe-de-uma-entidade" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>A classe de entidade <code>CityEntity</code> fornece uma API:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// CityEntity class Class extends Entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exposed Function getPopulation()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $0:=This.zips.sum(&quot;population&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pode então executar este pedido:</p><p><strong>POST</strong> <code>127.0.0.1:8111/rest/City(2)/getPopulation</code></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resultados-2">Resultados<a href="#resultados-2" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;result&quot;: 48814</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="usar-uma-função-de-classe-de-uma-seleção-de-entidade">Usar uma função de classe de uma seleção de entidade<a href="#usar-uma-função-de-classe-de-uma-seleção-de-entidade" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>A classe de selection de entidade <code>CitySelection</code> fornece uma API:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// CitySelection class Class extends EntitySelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exposed Function getPopulation()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $0:=This.zips.sum(&quot;population&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pode então executar este pedido:</p><p><strong>POST</strong> <code>127.0.0.1:8111/rest/City/getPopulation/?$filter=&quot;ID&lt;3&quot;</code></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resultados-3">Resultados<a href="#resultados-3" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;result&quot;: 87256</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="usando-uma-função-de-classe-entityselection-e-um-entityset">Usando uma função de classe entitySelection e um entitySet<a href="#usando-uma-função-de-classe-entityselection-e-um-entityset" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>A classe <code>StudentsSelection</code> tem uma função <code>getAgeAverage</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// StudentsSelection Class Class extends EntitySelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exposed Function getAgeAverage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> C_LONGINT($sum;$0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> C_OBJECT($s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sum:=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> For each ($s;This)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $sum:=$sum+$s.age()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End for each </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $0:=$sum/This.length</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Uma vez criado um conjunto de entidades, é possível executar este pedido:</p><p><strong>POST</strong> <code>127.0.0.1:8044/rest/Students/getAgeAverage/$entityset/17E83633FFB54ECDBF947E5C620BB532</code></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resultados-4">Resultados<a href="#resultados-4" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;result&quot;: 34</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="usando-uma-função-de-classe-de-seleção-de-entidades-e-um-orderby">Usando uma função de classe de seleção de entidades e um orderBy<a href="#usando-uma-função-de-classe-de-seleção-de-entidades-e-um-orderby" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>A classe <code>StudentsSelection</code> tem uma função <code>getLastSummary</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// StudentsSelection Class Class extends EntitySelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exposed Function getLastSummary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> C_TEXT($0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> C_OBJECT($last)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $last:=This.last()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $0:=$last.firstname+&quot; - &quot;+$last.lastname+&quot; is ... &quot;+String($last.age())</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pode então executar este pedido:</p><p><strong>POST</strong> <code>127.0.0.1:8044/rest/Students/getLastSummary/$entityset/?$filter=&quot;lastname=b@&quot;&amp;$orderby=&quot;lastname&quot;</code></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resultados-5">Resultados<a href="#resultados-5" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;result&quot;: &quot;Wilbert - Bull is ... 21&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="utilizar-uma-entidade-a-ser-criada-no-servidor">Utilizar uma entidade a ser criada no servidor<a href="#utilizar-uma-entidade-a-ser-criada-no-servidor" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>A classe de Dataclass <code>Students</code> tem a função <code>pushData()</code> que recebe uma entidade que contém dados do cliente. O método <code>checkData()</code> executa alguns controlos. Se estiverem corretas, a entidade é guardada e devolvida.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Students Class Class extends DataClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exposed Function pushData</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $1, $entity, $status, $0 : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=checkData($entity) // $status is an object with a success boolean property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $0:=$status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If ($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $status:=$entity.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     If ($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         $0:=$entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     End if </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Executa-se este pedido:</p><p><strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students/pushData</code></p><p>Corpo do pedido:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__DATACLASS&quot;:&quot;Students&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__ENTITY&quot;:true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;firstname&quot;:&quot;Ann&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;lastname&quot;:&quot;Brown&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Já que não é dada nenhuma <code>__KEY</code> , é carregada uma nova entidade Estudantes no servidor <strong>com os atributos recebidos do cliente</strong>. Como a função <code>pushData()</code> executa uma ação <code>save()</code> , a nova entidade é criada.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resultados-6">Resultados<a href="#resultados-6" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__entityModel&quot;: &quot;Students&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__DATACLASS&quot;: &quot;Students&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__KEY&quot;: &quot;55&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__TIMESTAMP&quot;: &quot;2020-06-16T10:54:41.805Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ID&quot;: 55,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstname&quot;: &quot;Ann&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastname&quot;: &quot;BROWN&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;schoolID&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;school&quot;: null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="utilizar-uma-entidade-a-atualizar-no-servidor">Utilizar uma entidade a atualizar no servidor<a href="#utilizar-uma-entidade-a-atualizar-no-servidor" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>O mesmo que acima, mas com um atributo __KEY</p><p>Executa-se este pedido:</p><p><strong>POST:</strong><code>http://127.0.0.1:8044/rest/Students/pushData</code></p><p>Corpo do pedido:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__DATACLASS&quot;:&quot;Students&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__ENTITY&quot;:true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;lastname&quot;:&quot;Brownie&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__KEY&quot;:55</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Uma vez que <code>__KEY</code> é fornecido, a entidade Estudantes com a chave primária 55 é carregada <strong>com o valor do sobrenome recebido do cliente</strong>. Como a função executa uma ação <code>save()</code> , a entidade é atualizada.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resultados-7">Resultados<a href="#resultados-7" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__entityModel&quot;: &quot;Students&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__DATACLASS&quot;: &quot;Students&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__KEY&quot;: &quot;55&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__TIMESTAMP&quot;: &quot;2020-06-16T11:10:21.679Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__STAMP&quot;: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ID&quot;: 55,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstname&quot;: &quot;Ann&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastname&quot;: &quot;BROWNIE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;schoolID&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;school&quot;: null </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="criação-de-uma-entidade-com-uma-entidade-relacionada">Criação de uma entidade com uma entidade relacionada<a href="#criação-de-uma-entidade-com-uma-entidade-relacionada" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>Neste exemplo, criamos uma nova entidade Estudantes com a entidade Escolas com a chave primária 2.</p><p>Executa-se este pedido:</p><p><strong>POST:</strong><code>http://127.0.0.1:8044/rest/Students/pushData</code></p><p>Corpo do pedido:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__DATACLASS&quot;:&quot;Students&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__ENTITY&quot;:true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;firstname&quot;:&quot;John&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;lastname&quot;:&quot;Smith&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;school&quot;:{&quot;__KEY&quot;:2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resultados-8">Resultados<a href="#resultados-8" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__entityModel&quot;: &quot;Students&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__DATACLASS&quot;: &quot;Students&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__KEY&quot;: &quot;56&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__TIMESTAMP&quot;: &quot;2020-06-16T11:16:47.601Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ID&quot;: 56,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstname&quot;: &quot;John&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastname&quot;: &quot;SMITH&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;schoolID&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       &quot;school&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__deferred&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;uri&quot;: &quot;/rest/Schools(2)&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: &quot;2&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="atualização-de-uma-entidade-com-uma-entidade-relacionada">Atualização de uma entidade com uma entidade relacionada<a href="#atualização-de-uma-entidade-com-uma-entidade-relacionada" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>Neste exemplo, associamos uma escola existente a uma entidade Students. A classe <code>StudentEntity</code> tem um API:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// StudentsEntity class Class extends Entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exposed Function putToSchool()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $1, $school , $0, $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$1 is a Schools entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $school:=$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Associate the related entity school to the current Students entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> This.school:=$school</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=This.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $0:=$status</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You run this request, called on a Students entity : <strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students(1)/putToSchool</code> Body of the request:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__DATACLASS&quot;:&quot;Schools&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__ENTITY&quot;:true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__KEY&quot;:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resultados-9">Resultados<a href="#resultados-9" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;success&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="receber-uma-seleção-de-entidade-como-parâmetro">Receber uma seleção de entidade como parâmetro<a href="#receber-uma-seleção-de-entidade-como-parâmetro" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>Na classe <code>Students</code> Dataclass, a função <code>setFinalExam()</code> atualiza uma seleção de entidade recebida ($1). Na realidade, atualiza o atributo <em>finalExam</em> com o valor recebido ($2). Devolve as chaves primárias das entidades atualizadas.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Students class Class extends DataClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exposed Function setFinalExam()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var $1, $es, $student, $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var $2, $examResult : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var $keys, $0 : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      //Entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $es:=$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $examResult:=$2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $keys:=New collection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      //Loop on the entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    For each ($student;$es)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $student.finalExam:=$examResult</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $status:=$student.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        If ($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $keys.push($student.ID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        End if </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    End for each </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $0:=$keys</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Um conjunto de entidades é criado primeiro com este pedido:</p><p><code>http://127.0.0.1:8044/rest/Students/?$filter=&quot;ID&lt;3&quot;&amp;$method=entityset</code></p><p>Em seguida, pode executar este pedido:</p><p><strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students/setFinalExam</code></p><p>Corpo do pedido:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__ENTITIES&quot;:true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;__DATASET&quot;:&quot;9B9C053A111E4A288E9C1E48965FE671&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Passed&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resultados-10">Resultados<a href="#resultados-10" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4><p>As entidades com chaves primárias 1 e 2 foram atualizadas.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;result&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="utilizar-uma-seleção-de-entidade-actualizada-no-cliente">Utilizar uma seleção de entidade actualizada no cliente<a href="#utilizar-uma-seleção-de-entidade-actualizada-no-cliente" class="hash-link" aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3><p>Utilizando a função <code>getAgeAverage()</code> <a href="#using-an-entityselection-class-function-and-an-entityset">definida acima</a>.</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $remoteDS, $newStudent, $students : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $ageAverage : Integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$remoteDS:=Open datastore(New object(&quot;hostname&quot;;&quot;127.0.0.1:8044&quot;);&quot;students&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// $newStudent is a student entity to procees</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$newStudent:=...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$students:=$remoteDS. Students.query(&quot;school.name = :1&quot;;&quot;Math school&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// We add an entity to the $students entity selection on the client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$students.add($newStudent) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// We call a function on the StudentsSelection class returning the age average of the students in the entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// The function is executed on the server on the updated $students entity selection which included the student added from the client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ageAverage:=$students.getAgeAverage()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2FClassFunctions.md%20(20)&amp;body=Please%20enter%20your%20comment%3A" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Comentar esta página</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegação nas páginas dos documentos"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pt/20/REST/manData"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Manipulação de dados</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pt/20/REST/REST_requests"><div class="pagination-nav__sublabel">Próximo</div><div class="pagination-nav__label">Sobre petições REST</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#chamadas-funções" class="table-of-contents__link toc-highlight">Chamadas funções</a></li><li><a href="#parâmetros" class="table-of-contents__link toc-highlight">Parâmetros</a><ul><li><a href="#parâmetro-de-valor-escalar" class="table-of-contents__link toc-highlight">Parâmetro de valor escalar</a></li><li><a href="#parâmetro-da-entidade" class="table-of-contents__link toc-highlight">Parâmetro da entidade</a></li><li><a href="#parâmetro-de-seleção-da-entidade" class="table-of-contents__link toc-highlight">Parâmetro de seleção da entidade</a></li></ul></li><li><a href="#exemplos-de-petições" class="table-of-contents__link toc-highlight">Exemplos de petições</a><ul><li><a href="#utilizar-uma-função-de-classe-do-datastore" class="table-of-contents__link toc-highlight">Utilizar uma função de classe do datastore</a></li><li><a href="#utilização-de-uma-função-de-classe-de-dataclass" class="table-of-contents__link toc-highlight">Utilização de uma função de classe de dataclass</a></li><li><a href="#utilização-de-uma-função-de-classe-de-uma-entidade" class="table-of-contents__link toc-highlight">Utilização de uma função de classe de uma entidade</a></li><li><a href="#usar-uma-função-de-classe-de-uma-seleção-de-entidade" class="table-of-contents__link toc-highlight">Usar uma função de classe de uma seleção de entidade</a></li><li><a href="#usando-uma-função-de-classe-entityselection-e-um-entityset" class="table-of-contents__link toc-highlight">Usando uma função de classe entitySelection e um entitySet</a></li><li><a href="#usando-uma-função-de-classe-de-seleção-de-entidades-e-um-orderby" class="table-of-contents__link toc-highlight">Usando uma função de classe de seleção de entidades e um orderBy</a></li><li><a href="#utilizar-uma-entidade-a-ser-criada-no-servidor" class="table-of-contents__link toc-highlight">Utilizar uma entidade a ser criada no servidor</a></li><li><a href="#utilizar-uma-entidade-a-atualizar-no-servidor" class="table-of-contents__link toc-highlight">Utilizar uma entidade a atualizar no servidor</a></li><li><a href="#criação-de-uma-entidade-com-uma-entidade-relacionada" class="table-of-contents__link toc-highlight">Criação de uma entidade com uma entidade relacionada</a></li><li><a href="#atualização-de-uma-entidade-com-uma-entidade-relacionada" class="table-of-contents__link toc-highlight">Atualização de uma entidade com uma entidade relacionada</a></li><li><a href="#receber-uma-seleção-de-entidade-como-parâmetro" class="table-of-contents__link toc-highlight">Receber uma seleção de entidade como parâmetro</a></li><li><a href="#utilizar-uma-seleção-de-entidade-actualizada-no-cliente" class="table-of-contents__link toc-highlight">Utilizar uma seleção de entidade actualizada no cliente</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Comunidade</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Centro de desenvolvimento 4D</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Suporte</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Onde tudo começou)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Base de conhecimento</a></li><li class="footer__item"><a href="https://us.4d.com/product-download/Feature-Release" target="_blank" rel="noopener noreferrer" class="footer__link-item">Baixares<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Obter suporte<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Empresa</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sobre 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contactar-nos<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D no mundo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 4D SAS - Todos os direitos reservados</div></div></div></footer></div>
<script src="/docs/pt/assets/js/runtime~main.c8abcf1f.js"></script>
<script src="/docs/pt/assets/js/main.4d096303.js"></script>
</body>
</html>