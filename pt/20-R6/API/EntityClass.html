<!doctype html><html lang=pt dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20-R6 docs-doc-page docs-doc-id-API/EntityClass" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Entity | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/pt/20-R6/API/EntityClass><meta data-rh=true property=og:locale content=pt><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true name=docusaurus_locale content=pt><meta data-rh=true name=docsearch:language content=pt><meta data-rh=true name=docusaurus_version content=20-R6><meta data-rh=true name=docusaurus_tag content=docs-default-20-R6><meta data-rh=true name=docsearch:version content=20-R6><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20-R6><meta data-rh=true property=og:title content="Entity | 4D Docs"><meta data-rh=true name=description content="An entity is an instance of a Dataclass, like a record of the table matching the dataclass in its associated datastore. Contém os mesmos atributos que o dataclass assim como os valores de dados e propriedades e funções específicas."><meta data-rh=true property=og:description content="An entity is an instance of a Dataclass, like a record of the table matching the dataclass in its associated datastore. Contém os mesmos atributos que o dataclass assim como os valores de dados e propriedades e funções específicas."><link data-rh=true rel=icon href=/docs/pt/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/pt/20-R6/API/EntityClass><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R6/API/EntityClass hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/20-R6/API/EntityClass hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/20-R6/API/EntityClass hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/20-R6/API/EntityClass hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/20-R6/API/EntityClass hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R6/API/EntityClass hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/pt/opensearch.xml><link rel=stylesheet href=/docs/pt/assets/css/styles.eef951bf.css><script src=/docs/pt/assets/js/main.e2eede8d.js defer></script><script src=/docs/pt/assets/js/runtime~main.d2a7bf25.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Saltar para o conteúdo principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Saltar para o conteúdo principal</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label="Alternar barra de navegação" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/pt/><div class=navbar__logo><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Documentação 4D</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/pt/20-R6/API/EntityClass>20 R6</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/pt/API/EntityClass>20 R7 BETA</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/pt/20-R6/API/EntityClass>20 R6</a><li><a class=dropdown__link href=/docs/pt/20/API/EntityClass>20</a><li><a class=dropdown__link href=/docs/pt/19/API/EntityClass>19</a><li><a class=dropdown__link href=/docs/pt/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Português</a><ul class=dropdown__menu><li><a href=/docs/20-R6/API/EntityClass rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/20-R6/API/EntityClass rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/20-R6/API/EntityClass rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/20-R6/API/EntityClass rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/20-R6/API/EntityClass rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Alternar entre os modos escuro e claro (atualmente modo Claro)" aria-label="Alternar entre os modos escuro e claro (atualmente modo Claro)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Pesquisa (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Pesquisa</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Voltar ao topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/pt/><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/pt/img/logohome.png alt="Logotipo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Documentação 4D</b></a><nav aria-label="Barra lateral de documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/20-R6/category/getting-started>Começando</a><button aria-label="Expandir a categoria 'Começando' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/pt/20-R6/category/core-development>Desenvolvimento</a><button aria-label="Fechar categoria da barra lateral 'Desenvolvimento'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/pt/20-R6/Project/overview>Gestão de projectos</a><button aria-label="Expandir a categoria 'Gestão de projectos' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/pt/20-R6/Project/code-overview>Ambiente de desenvolvimento</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/pt/20-R6/ORDA/overview>ORDA</a><button aria-label="Expandir a categoria 'ORDA' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/docs/pt/20-R6/Concepts/about>Línguagem</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/pt/20-R6/Concepts/about>Conceitos</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a href=https://doc.4d.com/4Dv20R6/4D/20-R6/4D-Language-Reference.100-6957482.en.html target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex=0>Comandos<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/pt/20-R6/category/class-API-reference>Classes</a><button aria-label="Fechar categoria da barra lateral 'Classes'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/overview>Funções e comandos de classe</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/BlobClass>Blob</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/ClassClass>Class</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/CollectionClass>Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/CryptoKeyClass>CryptoKey</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/DataClassClass>DataClass</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/DataStoreClass>DataStore</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/EmailObjectClass>Email</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/pt/20-R6/API/EntityClass>Entity</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/EntitySelectionClass>EntitySelection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/FileClass>File</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/FileHandleClass>FileHandle</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/FolderClass>Folder</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/FunctionClass>Function</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/HTTPAgentClass>HTTPAgent</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/HTTPRequestClass>HTTPRequest</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/IMAPTransporterClass>IMAPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/MailAttachmentClass>MailAttachment</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/POP3TransporterClass>POP3Transporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/SessionClass>Session</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/SignalClass>Signal</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/SMTPTransporterClass>SMTPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/SystemWorkerClass>SystemWorker</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/WebFormClass>WebForm</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/WebFormItemClass>WebFormItem</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/WebServerClass>WebServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/WebSocketClass>WebSocket</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/WebSocketConnectionClass>WebSocketConnection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/WebSocketServerClass>WebSocketServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/ZipArchiveClass>ZIPArchive</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/ZipFileClass>ZIPFile</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/API/ZipFolderClass>ZIPFolder</a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/pt/20-R6/Develop/processes>Processos</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/pt/20-R6/Tags/transformation-tags>Etiquetas de transformação</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/pt/20-R6/Preferences/overview>Preferências</a><button aria-label="Expandir a categoria 'Preferências' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/20-R6/category/administration>Administração</a><button aria-label="Expandir a categoria 'Administração' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/20-R6/Extensions/overview>Extensões</a><button aria-label="Expandir a categoria 'Extensões' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/20-R6/category/web-applications>Aplicações Web</a><button aria-label="Expandir a categoria 'Aplicações Web' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/pt/20-R6/category/desktop-applications>Aplicações Desktop</a><button aria-label="Expandir a categoria 'Aplicações Desktop' da barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a href=https://developer.4d.com/go-mobile/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false>Aplicações móveis</a></div></ul></nav><button type=button title="Recolher a barra lateral" aria-label="Recolher a barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Trilha de navegação"><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Página inicial" class=breadcrumbs__link href=/docs/pt/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/pt/20-R6/category/core-development><span itemprop=name>Desenvolvimento</span></a><meta itemprop=position content=1><li class=breadcrumbs__item><span class=breadcrumbs__link>Línguagem</span><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/pt/20-R6/category/class-API-reference><span itemprop=name>Classes</span></a><meta itemprop=position content=3><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Entity</span><meta itemprop=position content=4></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Versão: 20 R6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">Nesta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Entity</h1></header><p>An <a href=/docs/pt/20-R6/ORDA/dsmapping#entity>entity</a> is an instance of a <a href=/docs/pt/20-R6/ORDA/dsmapping#dataclass>Dataclass</a>, like a record of the table matching the dataclass in its associated datastore. Contém os mesmos atributos que o dataclass assim como os valores de dados e propriedades e funções específicas.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resumo>Resumo<a href=#resumo class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h3>













































































<table><thead><tr><th><tbody><tr><td><a href=#attributename><em><strong>.attributeName</strong></em> : any</a><br>stores the attribute value for the entity<tr><td><a href=#clone><strong>.clone()</strong> : 4D.Entity</a><br>creates in memory a new entity referencing the same record as the original entity<tr><td><a href=#diff><strong>.diff</strong>( <em>entityToCompare</em> : 4D.Entity { ; <em>attributesToCompare</em> : Collection } ) : Collection</a><br>compares the contents of two entities and returns their differences<tr><td><a href=#drop><strong>.drop</strong>( {<em>mode</em> : Integer} ) : Object</a><br>deletes the data contained in the entity from the datastore<tr><td><a href=#first><strong>.first()</strong>: 4D.Entity</a><br>returns a reference to the entity in first position of the entity selection which the entity belongs to<tr><td><a href=#fromobject><strong>.fromObject</strong>( <em>filler</em> : Object )</a><br>fills an entity with the <em>filler</em> content<tr><td><a href=#getdataclass><strong>.getDataClass()</strong> : 4D.DataClass</a><br>returns the dataclass of the entity<tr><td><a href=#getkey><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Text<br><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Integer</a><br>returns the primary key value of the entity<tr><td><a href=#getremotecontextattributes><strong>.getRemoteContextAttributes()</strong> : Text</a><br>returns information about the optimization context used by the entity<tr><td><a href=#getselection><strong>.getSelection()</strong>: 4D.EntitySelection</a><br>returns the entity selection which the entity belongs to<tr><td><a href=#getstamp><strong>.getStamp()</strong> : Integer</a><br> returns the current value of the stamp of the entity<tr><td><a href=#indexof><strong>.indexOf</strong>( { <em>entitySelection</em> : 4D.EntitySelection } ) : Integer</a><br>returns the position of the entity in an entity selection<tr><td><a href=#isnew><strong>.isNew()</strong> : Boolean</a><br> returns True if the entity to which it is applied has just been created and has not yet been saved in the datastore<tr><td><a href=#last><strong>.last()</strong> : 4D.Entity</a><br>returns a reference to the entity in last position of the entity selection which the entity belongs to<tr><td><a href=#lock><strong>.lock</strong>( { <em>mode</em> : Integer } ) : Object</a><br>puts a pessimistic lock on the record referenced by the entity<tr><td><a href=#next><strong>.next()</strong> : 4D.Entity</a><br>returns a reference to the next entity in the entity selection which the entity belongs to<tr><td><a href=#previous><strong>.previous()</strong>  : 4D.Entity</a><br> returns a reference to the previous entity in the entity selection which the entity belongs to<tr><td><a href=#reload><strong>.reload()</strong> : Object</a><br>reloads the content of the entity in memory<tr><td><a href=#save><strong>.save</strong>( { <em>mode</em> : Integer } ) : Object</a><br>saves the changes made to the entity<tr><td><a href=#toobject><strong>.toObject</strong>() : Object<br><strong>.toObject</strong>( <em>filterString</em> : Text { ; <em>options</em> : Integer}  ) : Object<br><strong>.toObject</strong>( <em>filterCol</em> : Collection { ; <em>options</em> : Integer } ) : Object</a><br>returns an object which has been built from the entity<tr><td><a href=#touched><strong>.touched()</strong> : Boolean</a><br>tests whether or not an entity attribute has been modified since the entity was loaded into memory or saved<tr><td><a href=#touchedattributes><strong>.touchedAttributes()</strong> : Collection</a><br>returns the names of the attributes that have been modified since the entity was loaded into memory<tr><td><a href=#unlock><strong>.unlock()</strong> : Object</a><br>removes the pessimistic lock on the record matching the entity</table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=attributename>.<em>attributeName</em><a href=#attributename class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><em><strong>.attributeName</strong></em> : any</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição>Descrição<a href=#descrição class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Any dataclass attribute is available as a property of an entity, which stores the attribute value for the entity.</p>
<blockquote>
<p>Atributos de Dataclass também podem ser alcançados usando a sintaxe alternativa com [ ].</p>
</blockquote>
<p>The attribute value type depends on the attribute <a href=/docs/pt/20-R6/API/DataClassClass#attributename>kind</a> (relation or storage):</p>
<ul>
<li>Se o tipo de <em>attributeName</em> for <strong>storage</strong>:
<code>.attributeName</code> retorna um valor do mesmo tipo que <em>attributeName</em>.</li>
<li>Se o tipo <em>attributeName</em> está <strong>relatedEntity</strong>:
<code>.attributeName</code> retorna a entidade relacionada. Valores da entidade relacionada estão diretamente disponíveis através de propriedades em cascata, por exemplo "myEntity.employer.employees[0].lastname".</li>
<li>Se o tipo <em>attributeName</em> for <strong>relatedEntities</strong>:
<code>.attributeName</code> retorna uma nova seleção de entidades relacionadas. Se eliminam os duplicados (se devolve uma seleção de entidades desordenada).</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo>Exemplo<a href=#exemplo class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $myEntity : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $myEntity:=ds. Employee.new() //Create a new entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $myEntity.name:="Dupont" // assign 'Dupont' to the 'name' attribute</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $myEntity.firstname:="John" //assign 'John' to the 'firstname' attribute</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $myEntity.save() //save the entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=clone>.clone()<a href=#clone class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.clone()</strong> : 4D.Entity</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>4D. Entity<td style=text-align:center>&lt;-<td>Nova entidade referenciando o registro</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-1>Descrição<a href=#descrição-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.clone()</code> function creates in memory a new entity referencing the same record as the original entity.</p>
<p>This function allows you to update entities separately. Note however that, for performance reasons, the new entity shares the same reference of object attributes as the cloned entity.</p>
<blockquote>
<p>Tenha em mente que quaisquer modificações feitas em entidades serão salvas no registro referenciado somente quando a função <a href=#save><code>.save()</code></a> for executada.</p>
</blockquote>
<p>Esta função só pode ser usada com entidades já salvas no banco de dados. Não pode ser chamado em uma entidade recém-criada (para a qual <a href=#isnew><code>.isNew()</code></a> retorna <strong>True</strong>).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1>Exemplo<a href=#exemplo-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $emp; $empCloned : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee.get(672)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empCloned:=$emp.clone()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Smith" //Atualizações feitas em $emp não são feitas em $empCloned</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=diff>.diff()<a href=#diff class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.diff</strong>( <em>entityToCompare</em> : 4D.Entity { ; <em>attributesToCompare</em> : Collection } ) : Collection</p>





























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>entityToCompare<td>4D. Entity<td style=text-align:center>-><td>Entidade a ser comparada com a entidade original<tr><td>attributesToCompare<td>Collection<td style=text-align:center>-><td>Nome dos atributos a serem comparados<tr><td>Resultados<td>Collection<td style=text-align:center>&lt;-<td>Diferenças entre as entidades</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-2>Descrição<a href=#descrição-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.diff()</code> function compares the contents of two entities and returns their differences.</p>
<p>No <em>entityToCompare</em>, passe a entidade a ser comparada à entidade original.</p>
<p>In <em>attributesToCompare</em>, you can designate specific attributes to compare. Se fornecida, a comparação é feita apenas nos atributos especificados. Se não for fornecida, todas as diferenças entre as entidades são devolvidas.</p>
<p>As diferenças são retornadas como uma coleção de objetos cujas propriedades são:</p>

























<table><thead><tr><th>Nome da propriedade<th>Tipo<th>Descrição<tbody><tr><td>attributeName<td>Text<td>Nome do atributo<tr><td>value<td>any - Depende do tipo de atributo<td>Valor do atributo na entidade<tr><td>otherValue<td>any - Depende do tipo de atributo<td>Valor do atributo em <em>entityToCompare</em></table>
<p>Apenas atributos com valores diferentes estão incluídos na coleção. Se nenhuma diferença for encontrada, <code>.diff()</code> retorna uma coleção vazia.</p>
<p>A função se aplica a propriedades cujo <a href=/docs/pt/20-R6/API/DataClassClass#attributename>kind</a> é <strong>storage</strong> ou <strong>relatedEntity</strong>. In case a related entity has been updated (meaning the foreign key), the name of the related entity and its primary key name are returned as <em>attributeName</em> properties (<em>value</em> and <em>otherValue</em> are empty for the related entity name).</p>
<p>Se uma das entidades comparadas for <strong>Null</strong>, um erro é gerado.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-1>Exemplo 1<a href=#exemplo-1-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $diff1; $diff2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee:=ds. Employee.query("ID=1001").first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $clone:=employee.clone()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee.firstName:="MARIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee.lastName:="SOPHIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee.salary:=500</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $diff1:=$clone.diff(employee) // All differences are returned</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $diff2:=$clone.diff(employee;New collection"firstName";"lastName"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // Only differences on firstName and lastName are returned</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>$diff1:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "firstName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Natasha",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "MARIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "lastName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Locke",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "SOPHIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "salary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": 66600,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": 500</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$diff2:</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "firstName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Natasha",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "MARIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "lastName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Locke",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "SOPHIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2>Exemplo 2<a href=#exemplo-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var vCompareResult1; vCompareResult2; vCompareResult3; $attributesToInspect : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult1:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult2:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult3:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $attributesToInspect:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1:=ds.Employee.get(636)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e2:=ds.Employee.get(636)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1.firstName:=$e1.firstName+" update"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1.lastName:=$e1.lastName+" update"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=ds.Company.get(117)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1.employer:=$c</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e2.salary:=100</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $attributesToInspect.push("firstName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $attributesToInspect.push("lastName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult1:=$e1.diff($e2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult2:=$e1.diff($e2;$attributesToInspect)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult3:=$e1.diff($e2;$e1.touchedAttributes())</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>vCompareResultado1 (todas as diferenças são devolvidas):</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "firstName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Karla update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Karla"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "lastName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Marrero update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Marrero"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "salary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": 33500,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": 100</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "employerID",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": 117,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": 118</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "employer",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "[object Entity]",// Entity 117 from Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "[object Entity]"// Entity 118 from Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>vCompareResult2 (apenas diferenças em $attributesToInspect foram retornadas)</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "firstName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Karla update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Karla"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "lastName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Marrero update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Marrero"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>vCompareResult3 (apenas as diferenças em $e1 atributos tocados são retornadas)</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "firstName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Karla update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Karla"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "lastName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Marrero update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Marrero"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "employerID",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": 117,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": 118</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">     {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "employer",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "[object Entity]",// Entity 117 from Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "[object Entity]"// Entity 118 from Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=drop>.drop()<a href=#drop class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.drop</strong>( {<em>mode</em> : Integer} ) : Object</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>mode<td>Integer<td style=text-align:center>-><td><code>dk force drop if stamp changed</code>: força o drop mesmo se a estampa tenha mudado<tr><td>Resultados<td>Object<td style=text-align:center>&lt;-<td>Resultado da operação de exclusão</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-3>Descrição<a href=#descrição-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.drop()</code> function deletes the data contained in the entity from the datastore, from the table related to its Dataclass. Note-se que a entidade permanece na memória.</p>
<p>In a multi-user or multi-process application, the <code>.drop()</code> function is executed under an <a href=/docs/pt/20-R6/ORDA/entities#entity-locking>"optimistic lock"</a> mechanism, wherein an internal locking stamp is automatically incremented each time the record is saved.</p>
<p>By default, if the <em>mode</em> parameter is omitted, the function will return an error (see below) if the same entity was modified (i.e. the stamp has changed) by another process or user in the meantime.</p>
<p>Otherwise, you can pass the <code>dk force drop if stamp changed</code> option in the <em>mode</em> parameter: in this case, the entity is dropped even if the stamp has changed (and the primary key is still the same).</p>
<p><strong>Resultado</strong></p>
<p>O objeto retornado por <code>.drop( )</code> contém as seguintes propriedades:</p>























































































































<table><thead><tr><th>Propriedade<th><th>Tipo<th>Descrição<tbody><tr><td>success<td><td>boolean<td>verdadeiro se a ação de queda for bem-sucedida, falso caso contrário.<tr><td><td><td><td><em><strong>Disponível apenas em caso de erro:</strong></em><tr><td>status(*)<td><td>number<td>Código de erro, ver abaixo<tr><td>statusText(*)<td><td>text<td>Descrição do erro, ver abaixo<tr><td><td><td><td><em><strong>Disponível apenas em caso de erro de bloqueio pessimista:</strong></em><tr><td>LockKindText<td><td>text<td>"Bloqueado pelo registro"<tr><td>lockInfo<td><td>object<td>Informações sobre a origem do bloqueio<tr><td><td>task_id<td>number<td>Parâmetros<tr><td><td>user_name<td>text<td>Nome de usuário de sessão na máquina<tr><td><td>user4d_alias<td>text<td>User alias if defined by <code>SET USER ALIAS</code>, otherwise user name in the 4D directory<tr><td><td>host_name<td>text<td>Nome da máquina<tr><td><td>task_name<td>text<td>Nome de processo<tr><td><td>client_version<td>text<td><tr><td><td><td><td><em><strong>Disponível apenas em caso de erro grave (erro grave pode ser tentar duplicar uma chave primária, disco cheio...):</strong></em><tr><td>errors<td><td>uma coleção de objetos<td><tr><td><td>message<td>text<td>Mensagem de erro<tr><td><td>assinatura de componentes<td>text<td>assinatura interna do componente (ex.: "dmbg" significa componente da base de dados)<tr><td><td>errCode<td>number<td>Código de erro</table>
<p>(*) The following values can be returned in the <em>status</em> and <em>statusText</em> properties of <em>Result</em> object in case of error:</p>



































<table><thead><tr><th>Parâmetros<th>Valor<th>Comentário<tbody><tr><td><code>dk status entity does not exist anymore</code><td>5<td>A entidade não existe mais nos dados. This error can occur in the following cases:<br><li>the entity has been dropped (the stamp has changed and the memory space is now free)</li><li>the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). Ao utilizar entity.drop( ), este erro pode ser devolvido quando usar a opção dk force drop if stamp changed. When using entity.lock(), this error can be returned when dk reload if stamp changed option is used</li> <strong>Associated statusText</strong>: "Entity does not exist anymore"<tr><td><code>dk status locked</code><td>3<td>A entidade está bloqueada por um bloqueio pessimista.<br> <strong>StatusText associado</strong>: "Already locked"<tr><td><code>dk status serious error</code><td>4<td>A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.<br><strong>Associated statusText</strong>: "Other error"<tr><td><code>dk status stamp has changed</code><td>2<td>The internal stamp value of the entity does not match the one of the entity stored in the data (optimistic lock).<br><li>with <code>.save( )</code>: error only if the <code>dk auto merge</code> option is not used</li><li>with <code>.drop( )</code>: error only if the <code>dk force drop if stamp changed</code> option is not used</li><li>with <code>.lock()</code>: error only if the <code>dk reload if stamp changed</code> option is not used</li><li><strong>Associated statusText</strong>: "Stamp has changed"</li><tr><td><code>dk status wrong permission</code><td>1<td>Os privilégios actuais não permitem a queda da entidade. <strong>Associated statusText</strong>: "Permission Error"</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-2>Exemplo 1<a href=#exemplo-1-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo sem a opção <code>dk force drop if stamp changed</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName=:1";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.drop()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("You have dropped "+$employee.firstName+" "+$employee.lastName) //A entidade descartada permanece na memória</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-1>Exemplo 2<a href=#exemplo-2-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Example with <code>dk force drop if stamp changed</code> option:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName=:1";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.drop(dk force drop if stamp changed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("You have dropped "+$employee.firstName+" "+$employee.lastName) //A entidade descartada permanece na memória</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status entity does not exist anymore)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=first>.first()<a href=#first class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.first()</strong>: 4D.Entity</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>4D. Entity<td style=text-align:center>&lt;-<td>Referencia à primeira entidade da entity selection (Null se a seleção estiver vazia)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-4>Descrição<a href=#descrição-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.first()</code> function returns a reference to the entity in first position of the entity selection which the entity belongs to.</p>
<p>If the entity does not belong to any existing entity selection (i.e. <a href=#getselection>.getSelection( )</a> returns Null), the function returns a Null value.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3>Exemplo<a href=#exemplo-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee; $firstEmployee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName = :1"; "H@") //Esta seleção de entidades contém 3 entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $firstEmployee:=$employee.first() //$firstEmployee é a primeira entidade da seleção de entidades $employees</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=fromobject>.fromObject()<a href=#fromobject class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.fromObject</strong>( <em>filler</em> : Object )</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>filler<td>Object<td style=text-align:center>-><td>Objeto para o qual vai preencher a entidade</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-5>Descrição<a href=#descrição-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.fromObject()</code> function fills an entity with the <em>filler</em> content.</p>
<blockquote>
<p>Essa função modifica a entidade original.</p>
</blockquote>
<p>O mapeamento entre o objecto e a entidade é feito sobre os nomes dos atributos:</p>
<ul>
<li>Se uma propriedade do objeto não existe nos dados (dataclass), ela é ignorada.</li>
<li>Os tipos de dados devem ser equivalentes. If there is a type mismatch between the object and dataclass, 4D tries to convert the data whenever possible (see <a href=/docs/pt/20-R6/Concepts/data-types#converting-data-types><code>Converting data types</code></a>), otherwise the attribute is left untouched.</li>
<li>A chave primária pode ser dada como é ou com uma propriedade "__KEY" (preenchida com o valor da chave primária). If it does not already exist in the dataclass, the entity is created with the given value when <a href=#save>.save()</a> is called. Se a chave primária não for dada, a entidade é criada e o valor da chave primária é atribuído de acordo com as regras da base de dados. O auto-incremento só é calculado se a chave primária for nula.</li>
</ul>
<p><em>filler</em> pode tratar de uma entidade relacionada sob as seguintes condições:</p>
<ul>
<li><em>filler</em> contém a chave estrangeira em si, ou</li>
<li><em>filler</em> contains a property object with the same name as the related entity, containing a single property named "__KEY".</li>
<li>se a entidade relacionada não existir, ela é ignorada.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-4>Exemplo<a href=#exemplo-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Com o seguinte objeto $o:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Mary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastName": "Smith",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "salary": 36500,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "birthDate": "1958-10-27T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "woman": true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "managerID": 411,// relatedEntity dada com PK</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employerID": 20 // relatedEntity dada com PK</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>O código a seguir criará uma entidade com gerente e entidades relacionadas ao empregador.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $o : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $entity : cs.EmpEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=ds.Emp.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.fromObject($o)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.save()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Você também poderia usar uma entidade relacionada dada como um objeto:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Marie",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastName": "Lechat",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "salary": 68400,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "birthDate": "1971-09-03T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": {// relatedEntity dada como um objeto</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": "21"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "manager": {// relatedEntity dada como um objeto</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": "411"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getdataclass>.getDataClass()<a href=#getdataclass class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17 R5<td>Adicionado</table>
</div></div></details>
<p><strong>.getDataClass()</strong> : 4D.DataClass</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>4D. DataClass<td style=text-align:center>&lt;-<td>Objeto DataClass ao qual a entidade pertence</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-6>Descrição<a href=#descrição-6 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.getDataClass()</code> function returns the dataclass of the entity. Esta função é útil para configurar o código genérico.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-5>Exemplo<a href=#exemplo-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>O seguinte código genérico duplica qualquer entidade:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  //método duplicate_entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //duplicate_entity($entity)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> #DECLARE($entity : 4D.Entity)  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $entityNew : 4D.Entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entityNew:=$entity.getDataClass().new() //criar uma nova entidade na classe de dados pai</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entityNew.fromObject($entity.toObject()) //obter todos os atributos</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entityNew[$entity.getDataClass().getInfo().primaryKey]:=Null //redefinir a chave primária</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$entityNew.save() //salvar a entidade duplicada</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getkey>.getKey()<a href=#getkey class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Text<br><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Integer</p>





























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>mode<td>Integer<td style=text-align:center>-><td><code>dk key as string</code>: primary key is returned as a string, no matter the primary key type<tr><td>Resultados<td>Text<td style=text-align:center>&lt;-<td>Valor do texto chave primária da entidade<tr><td>Resultados<td>Integer<td style=text-align:center>&lt;-<td>Valor da chave primária numérica da entidade</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-7>Descrição<a href=#descrição-7 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.getKey()</code> function returns the primary key value of the entity.</p>
<p>As chaves primárias podem ser números (Inteiro) ou strings. You can "force" the returned primary key value to be a string, no matter the actual primary key type, by passing the <code>dk key as string</code> option in the <em>mode</em> parameter.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-6>Exemplo<a href=#exemplo-6 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName=:1";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT("The primary key is "+$employee.getKey(dk key as string))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getremotecontextattributes>.getRemoteContextAttributes()<a href=#getremotecontextattributes class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>19R5<td>Adicionado</table>
</div></div></details>
<p><strong>.getRemoteContextAttributes()</strong> : Text</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th><th>Descrição<tbody><tr><td>resultado<td>Text<td>&lt;-<td>Atributos de contexto linkados à entidade, separados por uma vírgula</table>
<blockquote>
<p><strong>Modo avançado:</strong> Essa função é destinada a desenvolvedores que precisam personalizar os recursos padrão do ORDA para configurações específicas. Na maioria dos casos, não necessitará de o utilizar.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-8>Descrição<a href=#descrição-8 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.getRemoteContextAttributes()</code> function returns information about the optimization context used by the entity .</p>
<p>If there is no <a href=/docs/pt/20-R6/ORDA/datastores#clientserver-optimization>optimization context</a> for the entity, the function returns an empty Text.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-7>Exemplo<a href=#exemplo-7 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D. DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $address : cs. AddressEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $p : cs. PersonsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $contextA : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $info : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$contextA:=New object("context"; "contextA")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$address:=$ds. Address.get(1; $contextA)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:="" For each ($p; $address.persons)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $text:=$p.firstname+" "+$p.lastname End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$info:=$address.getRemoteContextAttributes()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$info = "persons,persons.lastname,persons.firstname"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=veja-também>Veja também<a href=#veja-também class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p><a href=/docs/pt/20-R6/API/EntitySelectionClass#getRemoteContextAttributes>EntitySelection.getRemoteContextAttributes()</a><br><a href=/docs/pt/20-R6/API/DataStoreClass#clearallremotecontexts>.clearAllRemoteContexts()</a><br><a href=/docs/pt/20-R6/API/DataStoreClass#getremotecontextinfo>.getRemoteContextInfo()</a><br><a href=/docs/pt/20-R6/API/DataStoreClass#getallremotecontexts>.getAllRemoteContexts()</a><br><a href=/docs/pt/20-R6/API/DataStoreClass#setremotecontextinfo>.setRemoteContextInfo()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getselection>.getSelection()<a href=#getselection class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.getSelection()</strong>: 4D.EntitySelection</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>4D. EntitySelection<td style=text-align:center>&lt;-<td>Seleção de entidade a que pertence a entidade (null se não for encontrado)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-9>Descrição<a href=#descrição-9 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.getSelection()</code> function returns the entity selection which the entity belongs to.</p>
<p>Se a entidade não pertence à seleção de uma entidade, a função retorna Null.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-8>Exemplo<a href=#exemplo-8 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees; $employees2 : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee.get(672) // This entity does not belong to any entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=$emp.getSelection() // $employees is Null</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees2:=ds.Employee.query("lastName=:1";"Smith") //This entity selection contains 6 entities</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=$employees2[0]  // This entity belongs to an entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT("The entity selection contains "+String($emp.getSelection().length)+" entities")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getstamp>.getStamp()<a href=#getstamp class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.getStamp()</strong> : Integer</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>Integer<td style=text-align:center>&lt;-<td>Estampa da entidade (0 se a entidade foi criada)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-10>Descrição<a href=#descrição-10 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.getStamp()</code> function  returns the current value of the stamp of the entity.</p>
<p>O selo interno é automaticamente incrementado por 4D cada vez que a entidade é gravada. It manages concurrent user access and modifications to the same entities (see <a href=/docs/pt/20-R6/ORDA/entities#entity-locking><strong>Entity locking</strong></a>).</p>
<blockquote>
<p>Para uma nova entidade (nunca salva), a função retorna 0. Para saber se uma entidade acabou de ser criada, recomenda-se a utilização de <a href=#isnew>.isNew()</a>.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-9>Exemplo<a href=#exemplo-9 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $entity : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $stamp : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=ds.Employee.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.lastname:="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stamp:=$entity.getStamp() //$stamp=1</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.lastname:="Wesson"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stamp:=$entity.getStamp() //$stamp=2</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=indexof>.indexOf()<a href=#indexof class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.indexOf</strong>( { <em>entitySelection</em> : 4D.EntitySelection } ) : Integer</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>entitySelection<td>4D. EntitySelection<td style=text-align:center>-><td>A posição da entidade é dada de acordo com a selecção desta entidade<tr><td>Resultados<td>Integer<td style=text-align:center>&lt;-<td>Posição da entidade numa selecção de entidade</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-11>Descrição<a href=#descrição-11 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.indexOf()</code> function returns the position of the entity in an entity selection.</p>
<p>By default if the <em>entitySelection</em> parameter is omitted, the function returns the entity's position within its own entity selection. Caso contrário, ele retorna a posição da entidade dentro da <em>entitySelection</em>.</p>
<p>O valor resultante é incluído entre 0 e o comprimento da selecção da entidade -1.</p>
<ul>
<li>Se a entidade não tiver uma selecção de entidade ou não pertencer a <em>entitySelection</em>, a função retorna -1.</li>
<li>Se <em>entitySelection</em> for Null ou não pertencer ao mesmo dataclass que a entidade, é apresentado um erro.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-10>Exemplo<a href=#exemplo-10 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.query("lastName = :1";"H@") //This entity selection contains 3 entities</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[1] //This entity belongs to an entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT("The index of the entity in its own entity selection is "+String($employee.indexOf())) //1</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds. Employee.get(725) //This entity does not belong to an entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT("The index of the entity is "+String($employee.indexOf())) // -1</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=isnew>.isNew()<a href=#isnew class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.isNew()</strong> : Boolean</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>Parâmetros<td style=text-align:center>&lt;-<td>É verdade se a entidade acabou de ser criada e ainda não foi salva. Caso contrário, Falso.</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-12>Descrição<a href=#descrição-12 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.isNew()</code> function  returns True if the entity to which it is applied has just been created and has not yet been saved in the datastore. Caso contrário, devolve False.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-11>Exemplo<a href=#exemplo-11 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $emp : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds. Employee.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($emp.isNew())</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("This is a new entity")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=last>.last()<a href=#last class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.last()</strong> : 4D.Entity</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>4D. Entity<td style=text-align:center>&lt;-<td>Referência para a última entidade de uma seleção de entidade (Null se não for encontrado)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-13>Descrição<a href=#descrição-13 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.last()</code> function returns a reference to the entity in last position of the entity selection which the entity belongs to.</p>
<p>If the entity does not belong to any existing entity selection (i.e. <a href=#getselection>.getSelection( )</a> returns Null), the function returns a Null value.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-12>Exemplo<a href=#exemplo-12 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee; $lastEmployee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.query("lastName = :1";"H@") //This entity selection contains 3 entities</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $lastEmployee:=$employee.last() //$lastEmployee is the last entity of the $employees entity selection</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=lock>.lock()<a href=#lock class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.lock</strong>( { <em>mode</em> : Integer } ) : Object</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>mode<td>Integer<td style=text-align:center>-><td><code>dk reload if stamp changed</code>: Recarregar antes de bloquear se o selo for alterado<tr><td>Resultados<td>Object<td style=text-align:center>&lt;-<td>Resultado da operação de bloqueio</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-14>Descrição<a href=#descrição-14 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.lock()</code> function puts a pessimistic lock on the record referenced by the entity. The <a href=/docs/pt/20-R6/ORDA/entities#entity-locking>lock is set</a> for a record and all the references of the entity in the current process.</p>
<p>Other processes will see this record as locked (the <code>result.success</code> property will contain False if they try to lock the same entity using this function). Só as funções executadas na sessão de "bloqueio" são permitidas para editar e guardar os atributos da entidade. A entidade pode ser carregada como apenas leitura por outras sessões, mas não serão capazes de introduzir e guardar valores.</p>
<p>Um registro bloqueado por <code>.lock()</code> é desbloqueado:</p>
<ul>
<li>when the <a href=#unlock><code>unlock()</code></a> function is called on a matching entity in the same process</li>
<li>automaticamente, quando já não é referenciado por nenhuma entidade em memória. Por exemplo, se a fechadura for colocada apenas numa referência local de uma entidade, a entidade é desbloqueada quando a função termina. Enquanto houver referências à entidade em memória, o registo permanece bloqueado.</li>
</ul>
<blockquote>
<p>An entity can also be <a href=/docs/pt/20-R6/REST/lock>locked by a REST session</a>, in which case it can only be unlocked by the session.</p>
</blockquote>
<p>By default, if the <em>mode</em> parameter is omitted, the function will return an error (see below) if the same entity was modified (i.e. the stamp has changed) by another process or user in the meantime.</p>
<p>Otherwise, you can pass the <code>dk reload if stamp changed</code> option in the <em>mode</em> parameter: in this case, no error is returned and the entity is reloaded when the stamp has changed (if the entity still exists and the primary key is still the same).</p>
<p><strong>Resultado</strong></p>
<p>O objeto retornado por <code>.lock()</code> contém as seguintes propriedades:</p>







































































































































































<table><thead><tr><th>Propriedade<th><th>Tipo<th>Descrição<tbody><tr><td>success<td><td>boolean<td>true se a ação de bloqueio for bem sucedida (ou se a entidade já estiver bloqueada no processo atual), falso caso contrário.<tr><td><td><td><td><em><strong>Disponível somente se a opção <code>dk reload if stamp changed</code> for usada:</strong></em><tr><td><strong>wasReloaded</strong><td><td>boolean<td>verdadeiro se a entidade foi recarregada com sucesso, falso caso contrário.<tr><td><td><td><td><em><strong>Disponível apenas em caso de erro:</strong></em><tr><td>status(*)<td><td>number<td>Código de erro, ver abaixo<tr><td>statusText(*)<td><td>text<td>Descrição do erro, ver abaixo<tr><td><td><td><td><em><strong>Disponível apenas em caso de erro de bloqueio pessimista:</strong></em><tr><td>lockKindText<td><td>text<td>"Locked by record" se trancado por um processo 4D, "Locked by session" se trancado por uma sessão REST<tr><td>lockInfo<td><td>object<td>Informações sobre a origem do bloqueio. Retorna propriedades dependendo da origem da trava (processo 4D ou sessão REST)<tr><td><td><td><td><em><strong>Disponível só para um processo trava 4D:</strong></em><tr><td><td>task_id<td>number<td>Process ID<tr><td><td>user_name<td>text<td>Nome de usuário de sessão na máquina<tr><td><td>user4d_alias<td>text<td>Nome ou apelido do usuário 4D<tr><td><td>user4d_id<td>number<td>Id do usuário no diretório do banco de dados 4D<tr><td><td>host_name<td>text<td>Nome da máquina<tr><td><td>task_name<td>text<td>Nome de processo<tr><td><td>client_version<td>text<td>Versão do cliente<tr><td><td><td><td><em><strong>Disponível só para um processo trava REST:</strong></em><tr><td><td>host<td>text<td>| \<tr><td><td>IPAddr<td>text<td>Endereço IP da trava (por exemplo. "127.0.0.1")<tr><td><td>userAgent<td>text<td>userAgent of the locker (e.g. Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36")<tr><td><td><td><td><em><strong>Disponível somente em caso de erro grave</strong></em> (chave primária já existe, disco cheio...):<tr><td>errors<td><td>uma coleção de objetos<td><tr><td><td>message<td>text<td>Mensagem de erro<tr><td><td>assinatura de componentes<td>text<td>assinatura interna do componente (ex.: "dmbg" significa componente da base de dados)<tr><td><td>errCode<td>number<td>Código de erro</table>
<p>(*) The following values can be returned in the <em>status</em> and <em>statusText</em> properties of the <em>Result</em> object in case of error:</p>






























<table><thead><tr><th>Parâmetros<th>Valor<th>Comentário<tbody><tr><td><code>dk status entity does not exist anymore</code><td>5<td>A entidade não existe mais nos dados. This error can occur in the following cases:<li>the entity has been dropped (the stamp has changed and the memory space is now free)</li><li>the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). Ao usar <code>.drop( )</code>, este erro pode ser retornado quando a opção "dk force drop if stamp changed" for usada. When using <code>.lock()</code>, this error can be returned when <code>dk reload if stamp changed</code> option is used</li><br><strong>Associated statusText</strong>: "Entity does not exist anymore"<tr><td><code>dk status locked</code><td>3<td>A entidade está bloqueada por um bloqueio pessimista.<strong>statusText associado</strong>: "Already locked"<tr><td><code>dk status serious error</code><td>4<td>A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.<strong>Associated statusText</strong>: "Other error"<tr><td><code>dk status stamp has changed</code><td>2<td>The internal stamp value of the entity does not match the one of the entity stored in the data (optimistic lock).<li>with <code>.save( )</code>: error only if the <code>dk auto merge</code> option is not used</li><li>with <code>.drop( )</code>: error only if the <code>dk force drop if stamp changed</code> option is not used</li><li>with <code>.lock()</code>: error only if the <code>dk reload if stamp changed</code> option is not used</li><br><strong>Associated statusText</strong>: "Stamp has changed"</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-3>Exemplo 1<a href=#exemplo-1-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo com erro:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds. Employee.get(716)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.lock()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("You have locked "+$employee.firstName+" "+$employee.lastName)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-2>Exemplo 2<a href=#exemplo-2-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Exemplo com a opção <code>dk reload if stamp changed</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds. Employee.get(717)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.lock(dk reload if stamp changed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("You have locked "+$employee.firstName+" "+$employee.lastName)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status entity does not exist anymore)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=next>.next()<a href=#next class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.next()</strong> : 4D.Entity</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>4D. Entity<td style=text-align:center>&lt;-<td>Referência a entidade anterior na seleção da entidade (Null se não for encontrado)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-15>Descrição<a href=#descrição-15 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.next()</code> function returns a reference to the next entity in the entity selection which the entity belongs to.</p>
<p>If the entity does not belong to any existing entity selection (i.e. <a href=#getselection>.getSelection()</a> returns Null), the function returns a Null value.</p>
<p>Se não houver entidade seguinte válida na selecção da entidade (ou seja, se estiver na última entidade da selecção), a função devolve Null. Se a entidade seguinte tiver sido abandonada, a função devolve a entidade válida seguinte (e eventualmente Nula).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-13>Exemplo<a href=#exemplo-13 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee; $nextEmployee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName = :1"; "H@") //Esta seleção de entidades contém 3 entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $nextEmployee:=$employee.next() //$nextEmployee é a segunda entidade da seleção de entidades $employees</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=previous>.previous()<a href=#previous class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.previous()</strong>  : 4D.Entity</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>4D. Entity<td style=text-align:center>&lt;-<td>Referência para a próxima entidade de uma seleção de entidade (Null se não for encontrado)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-16>Descrição<a href=#descrição-16 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.previous()</code> function  returns a reference to the previous entity in the entity selection which the entity belongs to.</p>
<p>If the entity does not belong to any existing entity selection (i.e. <a href=#getselection>.getSelection()</a> returns Null), the function returns a Null value.</p>
<p>Se não houver nenhuma entidade anterior válida na seleção da entidade (ou seja, você está na primeira entidade da seleção), a função retorna Null. Se a entidade anterior foi abandonada, a função retorna a entidade válida anterior (e eventualmente Null).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-14>Exemplo<a href=#exemplo-14 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee; $previousEmployee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.query("lastName = :1";"H@") //This entity selection contains 3 entities</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[1]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $previousEmployee:=$employee.previous() //$previousEmployee is the first entity of the $employees entity selection</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=reload>.reload()<a href=#reload class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.reload()</strong> : Object</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>Object<td style=text-align:center>&lt;-<td>Objeto de estado</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-17>Descrição<a href=#descrição-17 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.reload()</code> function reloads the content of the entity in memory, according to information stored in the table related to the dataclass in the datastore. A recarga só é feita se a entidade ainda existir com a mesma chave primária.</p>
<p><strong>Resultado</strong></p>
<p>The object returned by <code>.reload( )</code> contains the following properties:</p>

























<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>success<td>boolean<td>True se a ação de recarga for bem-sucedida, Falso caso contrário.<em><strong>Disponível apenas em caso de erro</strong></em>:<tr><td>status(*)<td>number<td>Código de erro, ver abaixo<tr><td>statusText(*)<td>text<td>Descrição do erro, ver abaixo</table>
<p>(*) The following values can be returned in the <em>status</em> and <em>statusText</em> properties of <em>Result</em> object in case of error:</p>




















<table><thead><tr><th>Parâmetros<th>Valor<th>Comentário<tbody><tr><td><code>dk status entity does not exist anymore</code><td>5<td>A entidade não existe mais nos dados. This error can occur in the following cases:<br><li>the entity has been dropped (the stamp has changed and the memory space is now free)</li><li>the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). a entidade foi descartada e substituída por outra chave primária (o selo mudou e uma nova entidade agora usa o espaço de memória). When using <code>.lock()</code>, this error can be returned when <code>dk reload if stamp changed</code> option is used</li><br><em><strong>Associated statusText</strong></em>: "Entity does not exist anymore"<tr><td><code>dk status serious error</code><td>4<td>A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.<br><em><strong>Associated statusText</strong></em>: "Other error"</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-15>Exemplo<a href=#exemplo-15 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $result : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.query("lastName=:1";"Hollis")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.firstName:="Mary"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$employee.reload()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($result.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("Reload has been done")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($result.status=dk status entity does not exist anymore)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("The entity has been dropped")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=save>.save()<a href=#save class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.save</strong>( { <em>mode</em> : Integer } ) : Object</p>























<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>mode<td>Integer<td style=text-align:center>-><td><code>dk auto merge</code>: ativa o modo de mesclagem automática<tr><td>Resultados<td>Object<td style=text-align:center>&lt;-<td>Resultado da operação de salvamento</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-18>Descrição<a href=#descrição-18 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.save()</code> function saves the changes made to the entity in the table related to its dataClass. na tabela relacionada para a dataClass Deve salvar este método depois de criar ou modificar uma entidade se quiser salvar as mudanças feitas nela.</p>
<p>The save operation is executed only if at least one entity attribute has been "touched" (see the <a href=#touched><code>.touched()</code></a> and <a href=#touchedattributes><code>.touchedAttributes()</code></a> functions). Senão a função não faz nada (o trigger não é ativado)</p>
<p>In a multi-user or multi-process application, the <code>.save()</code> function is executed under an <a href=/docs/pt/20-R6/ORDA/entities#entity-locking>"optimistic lock"</a> mechanism, wherein an internal locking stamp is automatically incremented each time the record is saved.</p>
<p>By default, if the <em>mode</em> parameter is omitted, the method will return an error (see below) whenever the same entity has been modified by another process or user in the meantime, no matter the modified attribute(s).</p>
<p>Otherwise, you can pass the <code>dk auto merge</code> option in the <em>mode</em> parameter: when the automatic merge mode is enabled, a modification done concurrently by another process/user on the same entity but on a different attribute will not result in an error. Os dados resultantes salvos na entidade serão a combinação ("merge"/fusão) de todas as modificações não simultâneas (se modificações forem aplicadas ao mesmo atributo, a operação de salvar falha e um erro é retornado, mesmo com o modo auto fusão)</p>
<blockquote>
<p>O modo automático merge não está disponível para atributos de tipo Imagem, Objeto e Texto quando armazenado fora do registro. Concurrent changes in these attributes will result in a <code>dk status stamp has changed</code> error.</p>
</blockquote>
<p><strong>Resultado</strong></p>
<p>O objeto retornado por <code>.save()</code> contém as seguintes propriedades:</p>



































































































































<table><thead><tr><th>Propriedade<th><th>Tipo<th>Descrição<tbody><tr><td>success<td><td>boolean<td>True se a ação salvar tiver sucesso, senão False<tr><td><td><td><td><em><strong>Disponível apenas se a opção <code>dk auto merge</code> for usada</strong></em>:<tr><td>autoMerged<td><td>boolean<td>True se fizer uma auto merge, senão False<tr><td><td><td><td><em><strong>Disponível apenas em caso de erro</strong></em>:<tr><td>status<td><td>number<td>Código de erro, <a href=#status-and-statustext>veja abaixo</a><tr><td>statusText<td><td>text<td>Descrição do erro, <a href=#status-and-statustext>veja abaixo</a><tr><td><td><td><td><em><strong>Disponível apenas em caso de erro de bloqueio pessimista</strong></em>:<tr><td>lockKindText<td><td>text<td>"Bloqueado pelo registro"<tr><td>lockInfo<td><td>object<td>Informações sobre a origem do bloqueio<tr><td><td>task_id<td>number<td>Parâmetros<tr><td><td>user_name<td>text<td>Nome de usuário de sessão na máquina<tr><td><td>user4d_alias<td>text<td>User alias if defined by <code>SET USER ALIAS</code>, otherwise user name in the 4D directory<tr><td><td>host_name<td>text<td>Nome da máquina<tr><td><td>task_name<td>text<td>Nome de processo<tr><td><td>client_version<td>text<td><tr><td><td><td><td><em><strong>Disponível apenas em caso de erro grave</strong></em> (erro grave - pode estar tentando duplicar uma chave primária, disco cheio...):<tr><td>errors<td><td>uma coleção de objetos<td><tr><td><td>message<td>text<td>Mensagem de erro<tr><td><td>componentSignature<td>text<td>Assinatura interna do componente (ex.: "dmbg" significa componente da base de dados)<tr><td><td>errCode<td>number<td>Código de erro</table>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=status-e-statustext>status e statusText<a href=#status-e-statustext class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h5>
<p>The following values can be returned in the <code>status</code> and <code>statusText</code> properties of Result object in case of error:</p>








































<table><thead><tr><th>Parâmetros<th>Valor<th>Comentário<tbody><tr><td><code>dk status automerge failed</code><td>6<td>(Only if the <code>dk auto merge</code> option is used) The automatic merge option failed when saving the entity.<strong>Associated statusText</strong>: "Auto merge failed"<tr><td><code>dk status entity does not exist anymore</code><td>5<td>A entidade não existe mais nos dados. This error can occur in the following cases:<br><li>the entity has been dropped (the stamp has changed and the memory space is now free)</li><li>the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). a entidade foi descartada e substituída por outra chave primária (o selo mudou e uma nova entidade agora usa o espaço de memória). When using <code>.lock()</code>, this error can be returned when <code>dk reload if stamp changed</code> option is used</li><br><strong>Associated statusText</strong>: "Entity does not exist anymore"<tr><td><code>dk status locked</code><td>3<td>A entidade está bloqueada por um bloqueio pessimista.<strong>statusText associado</strong>: "Already locked"<tr><td><code>dk status serious error</code><td>4<td>A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.<strong>Associated statusText</strong>: "Other error"<tr><td><code>dk status stamp has changed</code><td>2<td>The internal stamp value of the entity does not match the one of the entity stored in the data (optimistic lock).<br><li>with <code>.save( )</code>: error only if the <code>dk auto merge</code> option is not used</li><li>with <code>.drop( )</code>: error only if the <code>dk force drop if stamp changed</code> option is not used</li><li>with <code>.lock()</code>: error only if the <code>dk reload if stamp changed</code> option is not used</li><br><strong>Associated statusText</strong>: "Stamp has changed"<tr><td><code>dk status wrong permission</code><td>1<td>Os privilégios actuais não permitem a salvaguarda da entidade. <strong>Associated statusText</strong>: "Permission Error"</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-4>Exemplo 1<a href=#exemplo-1-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Criar uma nova entidade:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds. Employee.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.firstName:="Mary"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.lastName:="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("Employee created")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-3>Exemplo 2<a href=#exemplo-2-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Atualizar uma entidade sem a opção dk auto merge:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.query("lastName=:1";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.lastName:="Mac Arthur"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("Employee updated")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3-1>Exemplo 3<a href=#exemplo-3-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Atualização de uma entidade com a opção <code>dk auto merge</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs. EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds. Employee.query("lastName=:1";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.lastName:="Mac Arthur"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.save(dk auto merge)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("Employee updated")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status automerge failed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=toobject>.toObject()<a href=#toobject class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.toObject</strong>() : Object<br><strong>.toObject</strong>( <em>filterString</em> : Text { ; <em>options</em> : Integer}  ) : Object<br><strong>.toObject</strong>( <em>filterCol</em> : Collection { ; <em>options</em> : Integer } ) : Object</p>



































<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>filterString<td>Text<td style=text-align:center>-><td>Atributos a extrair (string separada por vírgulas)<tr><td>filterCol<td>Collection<td style=text-align:center>-><td>Coleção de atributos a extrair<tr><td>options<td>Integer<td style=text-align:center>-><td><code>dk with primary key</code>: adiciona a propriedade __KEY;<br><code>dk with stamp</code>: adiciona a propriedade _STAMP<tr><td>Resultados<td>Object<td style=text-align:center>&lt;-<td>Objeto criado a partir da entidade</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-19>Descrição<a href=#descrição-19 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.toObject()</code> function returns an object which has been built from the entity. Os nomes das propriedades no objecto correspondem aos nomes dos atributos da entidade.</p>
<p>If no filter is specified, or if the <em>filterString</em> parameter contains an empty string or "*", the returned object will contain:</p>
<ul>
<li>todos os atributos de entidade de armazenagem</li>
<li>attributes of the <code>relatedEntity</code> <a href=/docs/pt/20-R6/API/DataClassClass#attributename>kind</a>: you get a property with the same name as the related entity (name of the many-to-one link). Atributo é extraido com um formulário simples.</li>
<li>attributes of the <code>relatedEntities</code> <a href=/docs/pt/20-R6/API/DataClassClass#attributename>kind</a>: attribute is not returned.</li>
</ul>
<p>No primeiro par|âmetro, passa os atributos entidade a extrair. Pode passar:</p>
<ul>
<li><em>filterString</em>: a string with property paths separated with commas: "propertyPath1, propertyPath2, ...", or</li>
<li><em>filterCol</em>: a collection of strings: ["propertyPath1","propertyPath2";...]</li>
</ul>
<p>Se um filtro for especificado para os atributos onde <a href=/docs/pt/20-R6/API/DataClassClass#attributename>kind</a> é relatedEntity:</p>
<ul>
<li>propertyPath = "relatedEntity" -> it is extracted with simple form: an object with property __KEY (primary key).</li>
<li>propertyPath = "relatedEntity.*" -> todas as propriedades são extraídas</li>
<li>propertyPath = "relatedEntity.propertyName1; relatedEntity.propertyName2; ..." -> só se extraem essas propriedades</li>
</ul>
<p>If a filter is specified for attributes of the relatedEntities <a href=/docs/pt/20-R6/API/DataClassClass#attributename>kind</a>:</p>
<ul>
<li>propertyPath = "relatedEntities.*" -> all the properties are extracted</li>
<li>propertyPath = "relatedEntities.propertyName1; relatedEntities.propertyName2; ..." -> só se extraem essas propriedades</li>
</ul>
<p>In the <em>options</em> parameter, you can pass the <code>dk with primary key</code> and/or<code>dk with stamp</code> selector(s) to add the entity's primary keys and/or stamps in extracted objects.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>Aviso</div><div class=admonitionContent_BuS1><p>Se utilizar outro atributo que não a chave primária como o atributo Um numa relação, o valor deste atributo será escrito na propriedade "__KEY". Keep in mind that it is recommended to use the primary key as One attribute in your relations, especially when you use <code>.toObject()</code> and <code>.fromObject()</code> functions.</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-5>Exemplo 1<a href=#exemplo-1-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>A estrutura abaixo será usada nos exemplos desta seção:</p>
<p><img decoding=async loading=lazy src=/docs/pt/assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png width=1000 height=610 class=img_ev3q></p>
<p>Sem parâmetros de filtro:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">employeeObject:=employeeSelected.toObject()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Greg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastName": "Wahl",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "salary": 0,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "birthDate": "1963-02-01T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "managerID": 412,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": { // relatedEntity extraída com forma simples</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 412</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-4>Exemplo 2<a href=#exemplo-2-4 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Extrair a chave primária e a estampa:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">employeeObject:=employeeSelected.toObject("";dk with primary key+dk with stamp)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   "__STAMP": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Greg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastName": "Wahl",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "salary": 0,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "birthDate": "1963-02-01T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "managerID": 412,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 412</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3-2>Exemplo 3<a href=#exemplo-3-2 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Expande todas as propriedades de <code>relatedEntities</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">employeeObject:=employeeSelected.toObject("directReports.*")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "directReports": [</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "ID": 418,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "firstName": "Lorena",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Boothe",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "salary": 44800,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "birthDate": "1970-10-02T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "woman": true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "managerID": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 413</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "ID": 419,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "firstName": "Drew",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Caudill",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "salary": 41000,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "birthDate": "2030-01-12T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "managerID": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 413</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "ID": 420,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "firstName": "Nathan",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Gomes",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "salary": 46300,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "birthDate": "2010-05-29T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "managerID": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 413</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-16>Exemplo<a href=#exemplo-16 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Extração de algumas propriedades de <code>relatedEntities</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> employeeObject:=employeeSelected.toObject("firstName, directReports.lastName")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Greg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "directReports": [</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Boothe"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Caudill"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Gomes"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-5>Exemplo 2<a href=#exemplo-2-5 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Extraindo uma <code>relatedEntity</code> de forma simple:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $coll:=New collection("firstName";"employer")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employeeObject:=employeeSelected.toObject($coll)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Greg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-6-1>Exemplo 6<a href=#exemplo-6-1 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Expande todas as propriedades de <code>relatedEntity</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> employeeObject:=employeeSelected.toObject("employer.*")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "ID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "name": "India Astral Secretary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "creationDate": "1984-08-25T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "revenues": 12000000,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "extra": null</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-3-3>Exemplo 3<a href=#exemplo-3-3 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Extração de algumas propriedades de <code>relatedEntity</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push("employer.name")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push("employer.revenues")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employeeObject:=employeeSelected.toObject($col)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Retorna:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "name": "India Astral Secretary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "revenues": 12000000</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=touched->.touched( )<a href=#touched- class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.touched()</strong> : Boolean</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>Parâmetros<td style=text-align:center>&lt;-<td>True se tiver modificado ao menos um atributo da entidade e ainda não for salvo, se não, False</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-20>Descrição<a href=#descrição-20 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.touched()</code> function tests whether or not an entity attribute has been modified since the entity was loaded into memory or saved.</p>
<p>Se um atributo for modificado ou calculado, a função retorna True, senão retorna False. Pode usar essa função para determinar se precisar salvar a entidade.</p>
<p>Essa função retorna False para uma nova entidade que acabou de ser criada (com <a href=/docs/pt/20-R6/API/DataClassClass#new><code>.new( )</code></a>). Note however that if you use a function which calculates an attribute of the entity, the <code>.touched()</code> function will then return True. Por exemplo, se você chamar <a href=#getkey><code>.getKey()</code></a> para calcular a chave primária, <code>.touched()</code> retornará True.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-17>Exemplo<a href=#exemplo-17 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>Neste exemplo, vemos se é necessário salvar a entidade:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $emp : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds. Employee.get(672)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:=$emp.firstName //Even if updated with the same value, the attribute is marked as touched</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($emp.touched()) //if at least one of the attributes has been changed</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $emp.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if // otherwise, no need to save the entity</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=touchedattributes->.touchedAttributes( )<a href=#touchedattributes- class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.touchedAttributes()</strong> : Collection</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>Collection<td style=text-align:center>&lt;-<td>Nomes de atributos touched ou coleção vazia</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-21>Descrição<a href=#descrição-21 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.touchedAttributes()</code> function returns the names of the attributes that have been modified since the entity was loaded into memory.</p>
<p>Isso se aplica para atributos <a href=/docs/pt/20-R6/API/DataClassClass#attributename>kind</a> <code>storage</code> ou <code>relatedEntity</code>.</p>
<p>No caso de uma entidade relacionada que foi tocada (touched) *ou seja, a chave primária) o nome da entidade relacionada e sua chave primária são retornados.</p>
<p>Se nenhum atributo de entidade for tocado, o método retorna uma coleção vazia.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-1-6>Exemplo 1<a href=#exemplo-1-6 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $touchedAttributes : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $touchedAttributes:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds. Employee.get(725)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:=$emp.firstName //Even if updated with the same value, the attribute is marked as touched</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Martin"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $touchedAttributes:=$emp.touchedAttributes()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$touchedAttributes: ["firstName","lastName"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-2-6>Exemplo 2<a href=#exemplo-2-6 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $touchedAttributes : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $company : cs. CompanyEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $touchedAttributes:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds. Employee.get(672)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:=$emp.firstName</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Martin"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $company:=ds. Company.get(121)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer:=$company</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $touchedAttributes:=$emp.touchedAttributes()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //collection $touchedAttributes: ["firstName","lastName","employer","employerID"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Nesse modo:</p>
<ul>
<li>firstName and lastName tem um tipo <code>storage</code></li>
<li>employer tem um tipo 'relatedEntity'</li>
<li>employerID é a chave estrangeira da entidade relacionada employer</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=unlock>.unlock()<a href=#unlock class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>História</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Release<th>Mudanças<tbody><tr><td>17<td>Adicionado</table>
</div></div></details>
<p><strong>.unlock()</strong> : Object</p>

















<table><thead><tr><th>Parâmetro<th>Tipo<th style=text-align:center><th>Descrição<tbody><tr><td>Resultados<td>Object<td style=text-align:center>&lt;-<td>Objeto de estado</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descrição-22>Descrição<a href=#descrição-22 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<p>The <code>.unlock()</code> function removes the pessimistic lock on the record matching the entity in the datastore and table related to its dataclass.</p>
<blockquote>
<p>Para mais informações, consulte a seção <a href=/docs/pt/20-R6/ORDA/entities#entity-locking>Bloqueio de entidades</a>.</p>
</blockquote>
<p>Um registro é destrancado automaticamente quando não for mais referenciado por nenhuma entidade no processo de trancamento (por exemplo, se uma tranca for posta apenas na referência local da entidade, a entidade e o registro é destrancado quando o processo terminar).</p>
<blockquote>
<p>Quando um registro for trancado, deve ser destrancado do processo de trancamento e na referência de entidade que colocou a tranca. Por exemplo:</p>
</blockquote>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $e1:=ds. Emp.all()[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e2:=ds. Emp.all()[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $res:=$e1.lock() //$res.success=true</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $res:=$e2.unlock() //$res.success=false</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $res:=$e1.unlock() //$res.success=true</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>Resultado</strong></p>
<p>O objeto retornado por <code>.unlock()</code> contém a seguinte propriedade:</p>















<table><thead><tr><th>Propriedade<th>Tipo<th>Descrição<tbody><tr><td>success<td>Parâmetros<td>Verdadeiro se a ação de destrancar for bem-sucedida, Falso caso contrário. Se o desbloqueio for feito em uma entidade abandonada, em um registro não bloqueado ou em um registro bloqueado por outro processo ou entidade, o sucesso é False.</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemplo-18>Exemplo<a href=#exemplo-18 class=hash-link aria-label="Link direto para o cabeçalho" title="Link direto para o cabeçalho">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs. EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds. Employee.get(725)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.lock()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ... //processing</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.unlock()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("The entity is now unlocked")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código para a área de transferência" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntityClass.md%20(20-R6)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Comentar esta página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegação nas páginas dos documentos"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/pt/20-R6/API/EmailObjectClass><div class=pagination-nav__sublabel>Anterior</div><div class=pagination-nav__label>Email</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/pt/20-R6/API/EntitySelectionClass><div class=pagination-nav__sublabel>Próximo</div><div class=pagination-nav__label>EntitySelection</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#resumo class="table-of-contents__link toc-highlight">Resumo</a><li><a href=#attributename class="table-of-contents__link toc-highlight">.<em>attributeName</em></a><li><a href=#clone class="table-of-contents__link toc-highlight">.clone()</a><li><a href=#diff class="table-of-contents__link toc-highlight">.diff()</a><li><a href=#drop class="table-of-contents__link toc-highlight">.drop()</a><li><a href=#first class="table-of-contents__link toc-highlight">.first()</a><li><a href=#fromobject class="table-of-contents__link toc-highlight">.fromObject()</a><li><a href=#getdataclass class="table-of-contents__link toc-highlight">.getDataClass()</a><li><a href=#getkey class="table-of-contents__link toc-highlight">.getKey()</a><li><a href=#getremotecontextattributes class="table-of-contents__link toc-highlight">.getRemoteContextAttributes()</a><li><a href=#getselection class="table-of-contents__link toc-highlight">.getSelection()</a><li><a href=#getstamp class="table-of-contents__link toc-highlight">.getStamp()</a><li><a href=#indexof class="table-of-contents__link toc-highlight">.indexOf()</a><li><a href=#isnew class="table-of-contents__link toc-highlight">.isNew()</a><li><a href=#last class="table-of-contents__link toc-highlight">.last()</a><li><a href=#lock class="table-of-contents__link toc-highlight">.lock()</a><li><a href=#next class="table-of-contents__link toc-highlight">.next()</a><li><a href=#previous class="table-of-contents__link toc-highlight">.previous()</a><li><a href=#reload class="table-of-contents__link toc-highlight">.reload()</a><li><a href=#save class="table-of-contents__link toc-highlight">.save()</a><li><a href=#toobject class="table-of-contents__link toc-highlight">.toObject()</a><li><a href=#touched- class="table-of-contents__link toc-highlight">.touched( )</a><li><a href=#touchedattributes- class="table-of-contents__link toc-highlight">.touchedAttributes( )</a><li><a href=#unlock class="table-of-contents__link toc-highlight">.unlock()</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Comunidade</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://developer.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Centro de desenvolvimento 4D</a><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://twitter.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="col footer__col"><div class=footer__title>Suporte</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Onde tudo começou)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Base de conhecimento</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Baixares<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Obter suporte<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Empresa</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>Sobre 4D<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contactar-nos<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D no mundo<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>© 2024 4D SAS - Todos os direitos reservados</div></div></div></footer></div>