<!DOCTYPE html><html lang="pt"><head><meta name="docsearch:version" content="19"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Calling ORDA class functions · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="You can call [data model class functions](/docs/19/pt/ORDA/ordaClasses.html) defined for the ORDA Data Model through your REST requests, so that you can benefit from the exposed API of the targeted 4D application."/><meta name="docsearch:language" content="pt"/><meta property="og:title" content="Calling ORDA class functions · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/19/index.html"/><meta property="og:description" content="You can call [data model class functions](/docs/19/pt/ORDA/ordaClasses.html) defined for the ORDA Data Model through your REST requests, so that you can benefit from the exposed API of the targeted 4D application."/><meta property="og:image" content="https://4d.github.io/docs/19/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/19/img/logohome.png"/><link rel="shortcut icon" href="/docs/19/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/js/code-blocks-buttons.js"></script><script src="/docs/19/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/19/css/main.css"/><script src="/docs/19/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/19/pt"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v19 R5 BETA</a></li><li class=""><a href="https://developer.4d.com/docs/Rx" target="_self">v19 R4</a></li><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs/19" target="_self">v19</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/19/img/language.svg" alt="Languages icon"/>Português</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/19/en/REST/classFunctions.html">English</a></li><li><a href="/docs/19/ja/REST/classFunctions.html">日本語</a></li><li><a href="/docs/19/de/REST/classFunctions.html">Deutsch</a></li><li><a href="/docs/19/es/REST/classFunctions.html">Español</a></li><li><a href="/docs/19/fr/REST/classFunctions.html">Français</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Guides</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Começando<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/GettingStarted/installation.html">Installation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Project Management<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Project/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Project/creating.html">Working with a project</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Project/architecture.html">Architecture of a project</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Project/documentation.html">Documenting a project</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Project/compiler.html">Compilation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">4D Language Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/about.html">Sobre a linguagem 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/quick-tour.html">A Quick Tour</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/data-types.html">Tipos de dados</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/boolean.html">Booleano</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/collection.html">Coleção</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/date.html">Date</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/null-undefined.html">Null and Undefined</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/number.html">Number (Real, Longint, Integer)</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/object.html">Objeto</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/picture.html">Imagem</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/pointer.html">Ponteiro</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/string.html">String</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/time.html">Hora</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/variant.html">Variant</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/variables.html">Variáveis</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/arrays.html">Arrays</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/methods.html">Métodos</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/parameters.html">Parâmetros</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/shared.html">Shared objects and collections</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/classes.html">Classes</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/control-flow.html">Control flow overview</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/branching.html">Estruturas condicionais</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/looping.html">Estruturas de loop</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/19/pt/Tags/tags.html">Transformation tags</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/error-handling.html">Error handling</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/interpreted-compiled.html">Interpreted and Compiled modes</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/components.html">Componentes</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/identifiers.html">Identifiers</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ORDA<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/overview.html">What is ORDA?</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/dsmapping.html">Data Model Objects</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/ordaClasses.html">Data Model Classes</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/entities.html">Working with data</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/datastores.html">Using a remote datastore</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/glossary.html">Glossary</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Class API Reference<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/overview.html">Class API Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/ClassClass.html">Classe</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/CollectionClass.html">Coleção</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/CryptoKeyClass.html">CryptoKey</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/DataClassClass.html">DataClass</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/DataClassAttributeClass.html">DataClassAttribute</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/DataStoreClass.html">DataStore</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/EmailObjectClass.html">Email</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/EntityClass.html">Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/EntitySelectionClass.html">EntitySelection</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/FileClass.html">File</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/FolderClass.html">Folder</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/FunctionClass.html">Formula</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/IMAPTransporterClass.html">IMAPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/MailAttachmentClass.html">MailAttachment</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/POP3TransporterClass.html">POP3Transporter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/SessionClass.html">Session</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/SignalClass.html">Signal</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/SMTPTransporterClass.html">SMTPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/WebServerClass.html">WebServer</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/ZipArchiveClass.html">ZIPArchive</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/ZipFileClass.html">ZIPFile</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/ZipFolderClass.html">ZIPFolder</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Preferences<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/general.html">General Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/structure.html">Structure Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/forms.html">Forms Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/methods.html">Methods Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/shortcuts.html">Shortcuts Page</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Administration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/webAdmin.html">Web Administration</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/dataExplorer.html">Web Data Explorer</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/licenses.html">Managing 4D Licenses</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/tls.html">TLS Protocol (HTTPS)</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/cli.html">Command Line Interface</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/debugLogFiles.html">Description of log files</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Access Rights<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Users/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Users/editing.html">Gestão de usuários e grupos 4D</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">MSC<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/information.html">Information Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/analysis.html">Activity analysis Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/verify.html">Verify Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/backup.html">Backup Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/compact.html">Compact Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/rollback.html">Rollback Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/restore.html">Restore Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/repair.html">Repair Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/encrypt.html">Encrypt Page</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Backup and Restore<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Backup/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Backup/backup.html">Backup</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Backup/settings.html">Parâmetros da cópia de segurança</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Backup/log.html">Arquivo de Log (.journal)</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Backup/restore.html">Restaurar</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Web Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/webServer.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/webServerConfig.html">Configuração</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/webServerAdmin.html">Administration</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/webServerObject.html">Web Server object</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Web Development<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/gettingStarted.html">Começando</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/templates.html">Template pages</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/httpRequests.html">Processing HTTP requests</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/allowProject.html">Allowing project methods</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/errorPages.html">Custom HTTP Error Pages</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/authentication.html">Authentication</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/sessions.html">User sessions</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/preemptiveWeb.html">Using preemptive web processes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">REST Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/gettingStarted.html">Começando</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/configuration.html">Server Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/authUsers.html">Users and sessions</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/genInfo.html">Obter informação do servidor</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/manData.html">Manipulação de dados</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/19/pt/REST/classFunctions.html">Calling ORDA class functions</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/REST_requests.html">Sobre petições REST</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (general)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/catalog.html">$catalog</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/directory.html">$directory</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/info.html">$info</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/upload.html">$upload</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (dataClass)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/{dataClass}.html">{dataClass}</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/asArray.html">$asArray</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/atomic_$atonce.html">$atomic/$atonce</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/attributes.html">$attributes</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/binary.html">$binary</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/compute.html">$compute</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/distinct.html">$distinct</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/entityset.html">$entityset</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/expand.html">$expand</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/filter.html">$filter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/imageformat.html">$imageformat</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/lock.html">$lock</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/method.html">$method</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/orderby.html">$orderby</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/querypath.html">$querypath</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/queryplan.html">$queryplan</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/savedfilter.html">$savedfilter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/savedorderby.html">$savedorderby</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/skip.html">$skip</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/timeout.html">$timeout</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/top_$limit.html">$top/$limit</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/version.html">$version</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Client/Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Desktop/clientServer.html">Client/Server Management</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Formulários<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/forms.html">About 4D Forms</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/formEditor.html">Form Editor</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/macros.html">Form Editor Macros</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/objectLibrary.html">Object libraries</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/stylesheets.html">Folhas de estilo</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/pictures.html">Imagens</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Properties<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/jsonReference.html">JSON property list</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/action.html">Action</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/propertiesForm.html">Form Properties</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/formSize.html">Form Size</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/markers.html">Markers</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/menu.html">Menú</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/print.html">Print</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/windowSize.html">Window Size</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Objects<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/formObjectsOverview.html">About 4D Form Objects</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/buttonOverview.html">Button</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/buttonGridOverview.html">Button Grid</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/checkboxOverview.html">Check Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/comboBoxOverview.html">Combo Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/dropdownListOverview.html">Lista suspensa ou drop down</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/groupBox.html">Group Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/inputOverview.html">Entrada</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/listOverview.html">Hierarchical List</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/listboxOverview.html">List Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/pictureButtonOverview.html">Picture Button</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/picturePopupMenuOverview.html">Picture Pop-up Menu</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/pluginAreaOverview.html">Plug-in Area</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/progressIndicator.html">Progress Indicator</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/radiobuttonOverview.html">Radio Button</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/ruler.html">Ruler</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/shapesOverview.html">Shapes</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/spinner.html">Spinner</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/splitters.html">Splitter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/staticPicture.html">Static picture</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/stepper.html">Stepper</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/subformOverview.html">Subform</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/tabControl.html">Tab Controls</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/text.html">Texto</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/webAreaOverview.html">Web Area</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/viewProAreaOverview.html">4D View Pro area</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/writeProAreaOverview.html">4D Write Pro area</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Object Properties<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesReference.html">JSON property list</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesAction.html">Action</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesAnimation.html">Animation</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesAppearance.html">Appearance</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesBackgroundAndBorder.html">Background and Border</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesCoordinatesAndSizing.html">Coordinates &amp; Sizing</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesCrop.html">Crop</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesDataSource.html">Fonte de dados</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesDisplay.html">Display</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesEntry.html">Entry</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesFooters.html">Footers</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesGridlines.html">Gridlines</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesHeaders.html">Cabeçalhos</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesHelp.html">Help</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesHierarchy.html">Hierarchy</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesListBox.html">List Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesObject.html">Objetos</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesPicture.html">Imagem</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesPlugIns.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesPrint.html">Print</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesRangeOfValues.html">Range of Values</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesResizingOptions.html">Resizing Options</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesScale.html">Scale</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesSubform.html">Subform</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesText.html">Texto</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesTextAndPicture.html">Text and Picture</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesWebArea.html">Web Area</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Events<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onActivate.html">On Activate</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onAfterEdit.html">On After Edit</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onAfterKeystroke.html">On After Keystroke</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onAfterSort.html">On After Sort</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onAlternativeClick.html">On Alternative Click</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onBeforeDataEntry.html">On Before Data Entry</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onBeforeKeystroke.html">On Before Keystroke</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onBeginDragOver.html">On Begin Drag Over</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onBeginUrlLoading.html">On Begin URL Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onBoundVariableChange.html">On Bound Variable Change</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onClicked.html">On Clicked</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onCloseBox.html">On Close Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onCloseDetail.html">On Close Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onCollapse.html">On Collapse</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onColumnMoved.html">On Column Moved</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onColumnResize.html">On Column Resize</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDataChange.html">On Data Change</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDeactivate.html">On Deactivate</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDeleteAction.html">On Delete Action</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDisplayDetail.html">On Display Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDoubleClicked.html">On Double Clicked</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDragOver.html">On Drag Over</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDrop.html">On Drop</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onEndUrlLoading.html">On End URL Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onExpand.html">On Expand</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onFooterClick.html">On Footer Click</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onGettingFocus.html">On getting focus</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onHeader.html">On Header</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onHeaderClick.html">On Header Click</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onLoad.html">On Load</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onLoadRecord.html">On Load Record</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onLongClick.html">On Long Click</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onLosingFocus.html">On Losing focus</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onMenuSelected.html">On Menu Selected</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onMouseEnter.html">On Mouse Enter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onMouseLeave.html">On Mouse Leave</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onMouseMove.html">On Mouse Move</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onMouseUp.html">On Mouse Up</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onOpenDetail.html">On Open Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onOpenExternalLink.html">On Open External Link</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onOutsideCall.html">On Outside Call</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onPageChange.html">On Page Change</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onPlugInArea.html">On Plug in Area</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onPrintingBreak.html">On Printing Break</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onPrintingDetail.html">On Printing Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onPrintingFooter.html">On Printing Footer</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onResize.html">On Resize</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onRowMoved.html">On Row Moved</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onRowResize.html">On Row Resize</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onScroll.html">On Scroll</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onSelectionChange.html">On Selection Change</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onTimer.html">On Timer</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onUnload.html">On Unload</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onUrlFiltering.html">On URL Filtering</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onUrlLoadingError.html">On URL Loading Error</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onUrlResourceLoading.html">On URL Resource Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onValidate.html">On Validate</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onVpRangeChanged.html">On VP Range Changed</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onVpReady.html">On VP Ready</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onWindowOpeningDenied.html">On Window Opening Denied</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Menus<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Menus/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Menus/creating.html">Creating menus and menu bars</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Menus/properties.html">Menu item properties</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Menus/bars.html">Menu bar features</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Menus/sdi.html">SDI mode on Windows</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Build application<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Desktop/building.html">Building a project package</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/19/docs/REST/ClassFunctions.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Calling ORDA class functions</h1></header><article><div><span><p>You can call <a href="/docs/19/pt/ORDA/ordaClasses.html">data model class functions</a> defined for the ORDA Data Model through your REST requests, so that you can benefit from the exposed API of the targeted 4D application.</p>
<p>Functions are simply called in POST requests on the appropriate ORDA interface, without (). For example, if you have defined a <code>getCity()</code> function in the City dataclass class, you could call it using the following request:</p>
<p><code>/rest/City/getCity</code></p>
<p>with data in the body of the POST request: <code>[&quot;Aguada&quot;]</code></p>
<p>In 4D language, this call is equivalent to, :</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$city</span>:=ds.City.<span class="hljs-function">getCity</span>(<span class="hljs-string">"Aguada"</span>)
</code></pre>
<blockquote>
<p>Only functions with the <code>exposed</code> keyword can be directly called from REST requests. See <a href="/docs/19/pt/ORDA/ordaClasses.html#exposed-vs-non-exposed-functions">Exposed vs non-exposed functions</a> section.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="function-calls"></a><a href="#function-calls" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Function calls</h2>
<p>Functions must always be called using REST <strong>POST</strong> requests (a GET request will receive an error).</p>
<p>Functions are called on the corresponding object on the server datastore.</p>
<table>
<thead>
<tr><th>Class function</th><th>Sintaxe</th></tr>
</thead>
<tbody>
<tr><td><a href="/docs/19/pt/ORDA/ordaClasses.html#datastore-class">datastore class</a></td><td><code>/rest/$catalog/DataStoreClassFunction</code></td></tr>
<tr><td><a href="/docs/19/pt/ORDA/ordaClasses.html#dataclass-class">dataclass class</a></td><td><code>/rest/{dataClass}/DataClassClassFunction</code></td></tr>
<tr><td><a href="/docs/19/pt/ORDA/ordaClasses.html#entityselection-class">entitySelection class</a></td><td><code>/rest/{dataClass}/EntitySelectionClassFunction</code></td></tr>
<tr><td></td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$entityset/entitySetNumber</code></td></tr>
<tr><td></td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$filter</code></td></tr>
<tr><td></td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$orderby</code></td></tr>
<tr><td><a href="/docs/19/pt/ORDA/ordaClasses.html#entity-class">entity class</a></td><td><code>/rest/{dataClass}(key)/EntityClassFunction/</code></td></tr>
</tbody>
</table>
<blockquote>
<p><code>/rest/{dataClass}/Function</code> can be used to call either a dataclass or an entity selection function (<code>/rest/{dataClass}</code> returns all entities of the DataClass as an entity selection).<br>
The function is searched in the entity selection class first. If not found, it is searched in the dataclass. In other words, if a function with the same name is defined in both the DataClass class and the EntitySelection class, the dataclass class function will never be executed.</p>
</blockquote>
<blockquote>
<p>All 4D code called from REST requests <strong>must be thread-safe</strong> if the project runs in compiled mode, because the REST Server always uses preemptive processes in this case (the <a href="/docs/19/pt/WebServer/preemptiveWeb.html#enabling-the-preemptive-mode-for-the-web-server"><em>Use preemptive process</em> setting value</a> is ignored by the REST Server).</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="parâmetros"></a><a href="#parâmetros" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parâmetros</h2>
<p>You can send parameters to functions defined in ORDA user classes. On the server side, they will be received in the class functions in regular $1, $2, etc. parameters.</p>
<p>The following rules apply:</p>
<ul>
<li>Parameters must be passed in the <strong>body of the POST request</strong></li>
<li>Parameters must be enclosed within a collection (JSON format)</li>
<li>All scalar data types supported in JSON collections can be passed as parameters.</li>
<li>Entity and entity selection can be passed as parameters. The JSON object must contain specific attributes used by the REST server to assign data to the corresponding ORDA objects: __DATACLASS, __ENTITY, __ENTITIES, __DATASET.</li>
</ul>
<p>See <a href="#request-receiving-an-entity-as-parameter">this example</a> and <a href="#request-receiving-an-entity-selection-as-parameter">this example</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="scalar-value-parameter"></a><a href="#scalar-value-parameter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scalar value parameter</h3>
<p>Parameter(s) must simply be enclosed in a collection defined in the body. For example, with a  dataclass function <code>getCities()</code> receiving text parameters: <code>/rest/City/getCities</code></p>
<p><strong>Parameters in body:</strong> [&quot;Aguada&quot;,&quot;Paris&quot;]</p>
<p>All JSON data types are supported in parameters, including JSON pointers. Dates can be passed as strings in ISO 8601 date format (e.g. &quot;2020-08-22T22:00:000Z&quot;).</p>
<h3><a class="anchor" aria-hidden="true" id="entity-parameter"></a><a href="#entity-parameter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Entity parameter</h3>
<p>Entities passed in parameters are referenced on the server through their key (<em>i.e.</em> __KEY property). If the key parameter is omitted in a request, a new entity is loaded in memory  the server. You can also pass values for any attributes of the entity. These values will automatically be used for the entity handled on the server.</p>
<blockquote>
<p>If the request sends modified attribute values for an existing entity on the server, the called ORDA data model function will be automatically executed on the server with modified values. This feature allows you, for example, to check the result of an operation on an entity, after applying all business rules, from the client application. You can then decide to save or not the entity on the server.</p>
</blockquote>
<table>
<thead>
<tr><th>Properties</th><th>Type</th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>Attributes of the entity</td><td>misto</td><td>Optional - Values to modify</td></tr>
<tr><td>__DATACLASS</td><td>String</td><td>Mandatory - Indicates the Dataclass of the entity</td></tr>
<tr><td>__ENTITY</td><td>Booleano</td><td>Mandatory - True to indicate to the server that the parameter is an entity</td></tr>
<tr><td>__KEY</td><td>mixed (same type as the primary key)</td><td>Optional - Primary key of the entity</td></tr>
</tbody>
</table>
<ul>
<li>If __KEY is not provided, a new entity is created on the server with the given attributes.</li>
<li>If __KEY is provided, the entity corresponding to __KEY is loaded on the server with the given attributes</li>
</ul>
<p>See examples for <a href="#creating-an-entity">creating</a> or <a href="#updating-an-entity">updating</a> entities.</p>
<h4><a class="anchor" aria-hidden="true" id="related-entity-parameter"></a><a href="#related-entity-parameter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Related entity parameter</h4>
<p>Same properties as for an <a href="#entity-parameter">entity parameter</a>. In addition, the related entity must exist and is referenced by __KEY containing its primary key.</p>
<p>See examples for <a href="#creating-an-entity-with-a-related-entity">creating</a> or <a href="#updating-an-entity-with-a-related-entity">updating</a> entities with related entities.</p>
<h3><a class="anchor" aria-hidden="true" id="entity-selection-parameter"></a><a href="#entity-selection-parameter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Entity selection parameter</h3>
<p>The entity selection must have been defined beforehand using <a href="/docs/19/pt/REST/method.html#methodentityset">$method=entityset</a>.</p>
<blockquote>
<p>If the request sends a modified entity selection to the server, the called ORDA data model function will be automatically executed on the server with the modified entity selection.</p>
</blockquote>
<table>
<thead>
<tr><th>Properties</th><th>Type</th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>Attributes of the entity</td><td>misto</td><td>Optional - Values to modify</td></tr>
<tr><td>__DATASET</td><td>String</td><td>Mandatory - entitySetID (UUID) of the entity selection</td></tr>
<tr><td>__ENTITIES</td><td>Booleano</td><td>Mandatory - True to indicate to the server that the parameter is an entity selection</td></tr>
</tbody>
</table>
<p>See example for <a href="#receiving-an-entity-selection-as-parameter">receiving an entity selection</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="request-examples"></a><a href="#request-examples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Request examples</h2>
<p>This database is exposed as a remote datastore on localhost (port 8111):</p>
<p><img src="/docs/19/assets/en/REST/ordastructure.png" alt="alt-text"></p>
<h3><a class="anchor" aria-hidden="true" id="using-a-datastore-class-function"></a><a href="#using-a-datastore-class-function" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using a datastore class function</h3>
<p>The US_Cities <code>DataStore</code> class provides an API:</p>
<pre><code class="hljs">// DataStore <span class="hljs-class"><span class="hljs-keyword">class</span></span>

<span class="hljs-class"><span class="hljs-keyword">Class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">DataStoreImplementation</span></span>

exposed <span class="hljs-function"><span class="hljs-keyword">Function</span> <span class="hljs-title">getName</span>(</span>)
    <span class="hljs-number">$0</span>:=<span class="hljs-string">"US cities and zip codes manager"</span> 
</code></pre>
<p>You can then run this request:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/$catalog/getName</code></p>
<h4><a class="anchor" aria-hidden="true" id="resultado"></a><a href="#resultado" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<pre><code class="hljs">{
<span class="hljs-attr">"result"</span>: <span class="hljs-string">"US cities and zip codes manager"</span> 
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="using-a-dataclass-class-function"></a><a href="#using-a-dataclass-class-function" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using a dataclass class function</h3>
<p>The Dataclass class <code>City</code> provides an API that returns a city entity from a name passed in parameter:</p>
<pre><code class="hljs"><span class="hljs-comment">// City class</span><span class="hljs-keyword">

Class extends</span> DataClass

<span class="hljs-function">exposed Function getCity</span>()<span class="hljs-keyword">
    var</span> <span class="hljs-variable">$0 </span>: cs.CityEntity<span class="hljs-keyword">
    var</span> <span class="hljs-variable">$1</span>,<span class="hljs-variable">$nameParam </span>: text
    <span class="hljs-variable">$nameParam</span>:=<span class="hljs-variable">$1</span>
    <span class="hljs-variable">$0</span>:=<span class="hljs-literal">This</span>.<span class="hljs-function">query</span>(<span class="hljs-string">"name = :1"</span>;<span class="hljs-variable">$nameParam</span>).<span class="hljs-function">first</span>()
</code></pre>
<p>You can then run this request:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City/getCity</code></p>
<p>Body of the request: [&quot;Aguada&quot;]</p>
<h4><a class="anchor" aria-hidden="true" id="resultado-1"></a><a href="#resultado-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<p>The result is an entity:</p>
<pre><code class="hljs">{
    <span class="hljs-attr">"__entityModel"</span>: <span class="hljs-string">"City"</span>,
    <span class="hljs-attr">"__DATACLASS"</span>: <span class="hljs-string">"City"</span>,
    <span class="hljs-attr">"__KEY"</span>: <span class="hljs-string">"1"</span>,
    <span class="hljs-attr">"__TIMESTAMP"</span>: <span class="hljs-string">"2020-03-09T08:03:19.923Z"</span>,
    <span class="hljs-attr">"__STAMP"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"ID"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Aguada"</span>,
    <span class="hljs-attr">"countyFIPS"</span>: <span class="hljs-number">72003</span>,
    <span class="hljs-attr">"county"</span>: {
        <span class="hljs-attr">"__deferred"</span>: {
            <span class="hljs-attr">"uri"</span>: <span class="hljs-string">"/rest/County(72003)"</span>,
            <span class="hljs-attr">"__KEY"</span>: <span class="hljs-string">"72003"</span> 
        }
    },
    <span class="hljs-attr">"zips"</span>: {
        <span class="hljs-attr">"__deferred"</span>: {
            <span class="hljs-attr">"uri"</span>: <span class="hljs-string">"/rest/City(1)/zips?$expand=zips"</span> 
        }
    }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="using-an-entity-class-function"></a><a href="#using-an-entity-class-function" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using an entity class function</h3>
<p>The Entity class <code>CityEntity</code> provides an API:</p>
<pre><code class="hljs">// CityEntity <span class="hljs-class"><span class="hljs-keyword">class</span></span>

<span class="hljs-class"><span class="hljs-keyword">Class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Entity</span></span>

exposed <span class="hljs-function"><span class="hljs-keyword">Function</span> <span class="hljs-title">getPopulation</span>(</span>)
    <span class="hljs-number">$0</span>:=This.zips.sum(<span class="hljs-string">"population"</span>)
</code></pre>
<p>You can then run this request:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City(2)/getPopulation</code></p>
<h4><a class="anchor" aria-hidden="true" id="resultado-2"></a><a href="#resultado-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<pre><code class="hljs">{
    <span class="hljs-attr">"result"</span>: <span class="hljs-number">48814</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="using-an-entityselection-class-function"></a><a href="#using-an-entityselection-class-function" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using an entitySelection class function</h3>
<p>The EntitySelection class <code>CitySelection</code> provides an API:</p>
<pre><code class="hljs">// CitySelection <span class="hljs-class"><span class="hljs-keyword">class</span></span>

<span class="hljs-class"><span class="hljs-keyword">Class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">EntitySelection</span></span>

exposed <span class="hljs-function"><span class="hljs-keyword">Function</span> <span class="hljs-title">getPopulation</span>(</span>)
    <span class="hljs-number">$0</span>:=This.zips.sum(<span class="hljs-string">"population"</span>)
</code></pre>
<p>You can then run this request:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City/getPopulation/?$filter=&quot;ID&lt;3&quot;</code></p>
<h4><a class="anchor" aria-hidden="true" id="resultado-3"></a><a href="#resultado-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<pre><code class="hljs">{
    <span class="hljs-attr">"result"</span>: <span class="hljs-number">87256</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="using-an-entityselection-class-function-and-an-entityset"></a><a href="#using-an-entityselection-class-function-and-an-entityset" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using an entitySelection class function and an entitySet</h3>
<p>The <code>StudentsSelection</code> class has a <code>getAgeAverage</code> function:</p>
<pre><code class="hljs"><span class="hljs-comment">// StudentsSelection Class</span><span class="hljs-keyword">

Class extends</span> EntitySelection

exposed<span class="hljs-keyword"> Function</span> getAgeAverage
<span class="hljs-function">    C_LONGINT</span>(<span class="hljs-variable">$sum</span>;<span class="hljs-variable">$0</span>)
<span class="hljs-function">    C_OBJECT</span>(<span class="hljs-variable">$s</span>)

    <span class="hljs-variable">$sum</span>:=<span class="hljs-number">0</span><span class="hljs-keyword">
    For each</span> (<span class="hljs-variable">$s</span>;<span class="hljs-literal">This</span>)
        <span class="hljs-variable">$sum</span>:=<span class="hljs-variable">$sum</span>+<span class="hljs-variable">$s</span>.<span class="hljs-function">age</span>()<span class="hljs-keyword">
    End for each</span> 
    <span class="hljs-variable">$0</span>:=<span class="hljs-variable">$sum</span>/<span class="hljs-literal">This</span>.length
</code></pre>
<p>Once you have created an entityset, you can run this request:</p>
<p><strong>POST</strong> <code>127.0.0.1:8044/rest/Students/getAgeAverage/$entityset/17E83633FFB54ECDBF947E5C620BB532</code></p>
<h4><a class="anchor" aria-hidden="true" id="resultado-4"></a><a href="#resultado-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<pre><code class="hljs">{
    <span class="hljs-attr">"result"</span>: <span class="hljs-number">34</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="using-an-entityselection-class-function-and-an-orderby"></a><a href="#using-an-entityselection-class-function-and-an-orderby" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using an entitySelection class function and an orderBy</h3>
<p>The <code>StudentsSelection</code> class has a <code>getLastSummary</code> function:</p>
<pre><code class="hljs"><span class="hljs-comment">// StudentsSelection Class</span><span class="hljs-keyword">


Class extends</span> EntitySelection

exposed<span class="hljs-keyword"> Function</span> getLastSummary
<span class="hljs-function">    C_TEXT</span>(<span class="hljs-variable">$0</span>)
<span class="hljs-function">    C_OBJECT</span>(<span class="hljs-variable">$last</span>)

    <span class="hljs-variable">$last</span>:=<span class="hljs-literal">This</span>.<span class="hljs-function">last</span>()
    <span class="hljs-variable">$0</span>:=<span class="hljs-variable">$last</span>.firstname+<span class="hljs-string">" - "</span>+<span class="hljs-variable">$last</span>.lastname+<span class="hljs-string">" is ... "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$last</span>.<span class="hljs-function">age</span>())
</code></pre>
<p>You can then run this request:</p>
<p><strong>POST</strong> <code>127.0.0.1:8044/rest/Students/getLastSummary/$entityset/?$filter=&quot;lastname=b@&quot;&amp;$orderby=&quot;lastname&quot;</code></p>
<h4><a class="anchor" aria-hidden="true" id="resultado-5"></a><a href="#resultado-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<pre><code class="hljs">{
    <span class="hljs-attr">"result"</span>: <span class="hljs-string">"Wilbert - Bull is ... 21"</span> 
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="using-an-entity-to-be-created-on-the-server"></a><a href="#using-an-entity-to-be-created-on-the-server" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using an entity to be created on the server</h3>
<p>The Dataclass class <code>Students</code> has the function <code>pushData()</code> receiving an entity containing data from the client. The <code>checkData()</code> method runs some controls. If they are OK, the entity is saved and returned.</p>
<pre><code class="hljs"><span class="hljs-comment">// Students Class</span><span class="hljs-keyword">

Class extends</span> DataClass

exposed<span class="hljs-keyword"> Function</span> pushData<span class="hljs-keyword">
    var</span> <span class="hljs-variable">$1</span>, <span class="hljs-variable">$entity</span>, <span class="hljs-variable">$status</span>, <span class="hljs-variable">$0 </span>: Object

    <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$1</span>

    <span class="hljs-variable">$status</span>:=<span class="hljs-function">checkData</span>(<span class="hljs-variable">$entity</span>) <span class="hljs-comment">// $status is an object with a success boolean property</span>

    <span class="hljs-variable">$0</span>:=<span class="hljs-variable">$status</span><span class="hljs-keyword">

    If</span> (<span class="hljs-variable">$status</span>.success)
        <span class="hljs-variable">$status</span>:=<span class="hljs-variable">$entity</span>.<span class="hljs-function">save</span>()<span class="hljs-keyword">
       If</span> (<span class="hljs-variable">$status</span>.success)
           <span class="hljs-variable">$0</span>:=<span class="hljs-variable">$entity</span><span class="hljs-keyword">
      End if</span><span class="hljs-keyword"> 
    End if</span>

</code></pre>
<p>You run this request:</p>
<p><strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Body of the request:</p>
<pre><code class="hljs">[{
<span class="hljs-attr">"__DATACLASS"</span>:<span class="hljs-string">"Students"</span>,
<span class="hljs-attr">"__ENTITY"</span>:<span class="hljs-literal">true</span>,
<span class="hljs-attr">"firstname"</span>:<span class="hljs-string">"Ann"</span>,
<span class="hljs-attr">"lastname"</span>:<span class="hljs-string">"Brown"</span> 
}]
</code></pre>
<p>Since no <code>__KEY</code> is given, a new Students entity is loaded on the server <strong>with the attributes received from the client</strong>. Because the <code>pushData()</code> function runs a <code>save()</code> action, the new entity is created.</p>
<h4><a class="anchor" aria-hidden="true" id="resultado-6"></a><a href="#resultado-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<pre><code class="hljs">{
    <span class="hljs-attr">"__entityModel"</span>: <span class="hljs-string">"Students"</span>,
    <span class="hljs-attr">"__DATACLASS"</span>: <span class="hljs-string">"Students"</span>,
    <span class="hljs-attr">"__KEY"</span>: <span class="hljs-string">"55"</span>,
    <span class="hljs-attr">"__TIMESTAMP"</span>: <span class="hljs-string">"2020-06-16T10:54:41.805Z"</span>,
    <span class="hljs-attr">"__STAMP"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"ID"</span>: <span class="hljs-number">55</span>,
    <span class="hljs-attr">"firstname"</span>: <span class="hljs-string">"Ann"</span>,
    <span class="hljs-attr">"lastname"</span>: <span class="hljs-string">"BROWN"</span>,
    <span class="hljs-attr">"schoolID"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"school"</span>: <span class="hljs-literal">null</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="using-an-entity-to-be-updated-on-the-server"></a><a href="#using-an-entity-to-be-updated-on-the-server" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using an entity to be updated on the server</h3>
<p>Same as above but with a __KEY attribute</p>
<p>You run this request:</p>
<p><strong>POST:</strong><code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Body of the request:</p>
<pre><code class="hljs">[{
<span class="hljs-attr">"__DATACLASS"</span>:<span class="hljs-string">"Students"</span>,
<span class="hljs-attr">"__ENTITY"</span>:<span class="hljs-literal">true</span>,
<span class="hljs-attr">"lastname"</span>:<span class="hljs-string">"Brownie"</span>,
<span class="hljs-attr">"__KEY"</span>:<span class="hljs-number">55</span>
}]
</code></pre>
<p>Since <code>__KEY</code> is given, the Students entity with primary key 55 is loaded <strong>with the lastname value received from the client</strong>. Because the function runs a <code>save()</code> action, the entity is updated.</p>
<h4><a class="anchor" aria-hidden="true" id="resultado-7"></a><a href="#resultado-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<pre><code class="hljs">{
    <span class="hljs-attr">"__entityModel"</span>: <span class="hljs-string">"Students"</span>,
    <span class="hljs-attr">"__DATACLASS"</span>: <span class="hljs-string">"Students"</span>,
    <span class="hljs-attr">"__KEY"</span>: <span class="hljs-string">"55"</span>,
    <span class="hljs-attr">"__TIMESTAMP"</span>: <span class="hljs-string">"2020-06-16T11:10:21.679Z"</span>,
    <span class="hljs-attr">"__STAMP"</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">"ID"</span>: <span class="hljs-number">55</span>,
    <span class="hljs-attr">"firstname"</span>: <span class="hljs-string">"Ann"</span>,
    <span class="hljs-attr">"lastname"</span>: <span class="hljs-string">"BROWNIE"</span>,
    <span class="hljs-attr">"schoolID"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"school"</span>: <span class="hljs-literal">null</span> 
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="creating-an-entity-with-a-related-entity"></a><a href="#creating-an-entity-with-a-related-entity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating an entity with a related entity</h3>
<p>In this example, we create a new Students entity with the Schools entity having primary key 2.</p>
<p>You run this request:</p>
<p><strong>POST:</strong><code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Body of the request:</p>
<pre><code class="hljs">[{
<span class="hljs-attr">"__DATACLASS"</span>:<span class="hljs-string">"Students"</span>,
<span class="hljs-attr">"__ENTITY"</span>:<span class="hljs-literal">true</span>,
<span class="hljs-attr">"firstname"</span>:<span class="hljs-string">"John"</span>,
<span class="hljs-attr">"lastname"</span>:<span class="hljs-string">"Smith"</span>,
<span class="hljs-attr">"school"</span>:{<span class="hljs-attr">"__KEY"</span>:<span class="hljs-number">2</span>}
}]
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="resultado-8"></a><a href="#resultado-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<pre><code class="hljs">{
    <span class="hljs-attr">"__entityModel"</span>: <span class="hljs-string">"Students"</span>,
    <span class="hljs-attr">"__DATACLASS"</span>: <span class="hljs-string">"Students"</span>,
    <span class="hljs-attr">"__KEY"</span>: <span class="hljs-string">"56"</span>,
    <span class="hljs-attr">"__TIMESTAMP"</span>: <span class="hljs-string">"2020-06-16T11:16:47.601Z"</span>,
    <span class="hljs-attr">"__STAMP"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"ID"</span>: <span class="hljs-number">56</span>,
    <span class="hljs-attr">"firstname"</span>: <span class="hljs-string">"John"</span>,
    <span class="hljs-attr">"lastname"</span>: <span class="hljs-string">"SMITH"</span>,
    <span class="hljs-attr">"schoolID"</span>: <span class="hljs-number">2</span>,
       <span class="hljs-attr">"school"</span>: {
        <span class="hljs-attr">"__deferred"</span>: {
            <span class="hljs-attr">"uri"</span>: <span class="hljs-string">"/rest/Schools(2)"</span>,
            <span class="hljs-attr">"__KEY"</span>: <span class="hljs-string">"2"</span> 
        }
    }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="updating-an-entity-with-a-related-entity"></a><a href="#updating-an-entity-with-a-related-entity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Updating an entity with a related entity</h3>
<p>In this example, we associate an existing school to a Students entity. The <code>StudentsEntity</code> class has an API:</p>
<pre><code class="hljs"><span class="hljs-comment">// StudentsEntity class</span><span class="hljs-keyword">

Class extends</span> Entity

<span class="hljs-function">exposed Function putToSchool</span>()<span class="hljs-keyword">
    var</span> <span class="hljs-variable">$1</span>, <span class="hljs-variable">$school </span>, <span class="hljs-variable">$0</span>, <span class="hljs-variable">$status </span>: Object

        <span class="hljs-comment">//$1 is a Schools entity</span>
    <span class="hljs-variable">$school</span>:=<span class="hljs-variable">$1</span>
        <span class="hljs-comment">//Associate the related entity school to the current Students entity</span>
    <span class="hljs-literal">This</span>.school:=<span class="hljs-variable">$school</span>

    <span class="hljs-variable">$status</span>:=<span class="hljs-literal">This</span>.<span class="hljs-function">save</span>()

    <span class="hljs-variable">$0</span>:=<span class="hljs-variable">$status</span>
</code></pre>
<p>You run this request, called on a Students entity : <strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students(1)/putToSchool</code> Body of the request:</p>
<pre><code class="hljs">[{
<span class="hljs-attr">"__DATACLASS"</span>:<span class="hljs-string">"Schools"</span>,
<span class="hljs-attr">"__ENTITY"</span>:<span class="hljs-literal">true</span>,
<span class="hljs-attr">"__KEY"</span>:<span class="hljs-number">2</span>
}]
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="resultado-9"></a><a href="#resultado-9" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<pre><code class="hljs">{
    <span class="hljs-attr">"result"</span>: {
        <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span>
    }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="receiving-an-entity-selection-as-parameter"></a><a href="#receiving-an-entity-selection-as-parameter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Receiving an entity selection as parameter</h3>
<p>In the <code>Students</code> Dataclass class, the <code>setFinalExam()</code> function updates a received entity selection ($1). It actually updates the <em>finalExam</em> attribute with the received value ($2). It returns the primary keys of the updated entities.</p>
<pre><code class="hljs"><span class="hljs-comment">// Students class</span><span class="hljs-keyword">

Class extends</span> DataClass

<span class="hljs-function">exposed Function setFinalExam</span>()<span class="hljs-keyword">

    var</span> <span class="hljs-variable">$1</span>, <span class="hljs-variable">$es</span>, <span class="hljs-variable">$student</span>, <span class="hljs-variable">$status </span>: Object<span class="hljs-keyword">
    var</span> <span class="hljs-variable">$2</span>, <span class="hljs-variable">$examResult </span>: Text<span class="hljs-keyword">

    var</span> <span class="hljs-variable">$keys</span>, <span class="hljs-variable">$0 </span>: Collection

      <span class="hljs-comment">//Entity selection</span>
    <span class="hljs-variable">$es</span>:=<span class="hljs-variable">$1</span>

    <span class="hljs-variable">$examResult</span>:=<span class="hljs-variable">$2</span>

    <span class="hljs-variable">$keys</span>:=<span class="hljs-function">New collection</span>()

      <span class="hljs-comment">//Loop on the entity selection</span><span class="hljs-keyword">
    For each</span> (<span class="hljs-variable">$student</span>;<span class="hljs-variable">$es</span>)
        <span class="hljs-variable">$student</span>.finalExam:=<span class="hljs-variable">$examResult</span>
        <span class="hljs-variable">$status</span>:=<span class="hljs-variable">$student</span>.<span class="hljs-function">save</span>()<span class="hljs-keyword">
        If</span> (<span class="hljs-variable">$status</span>.success)
            <span class="hljs-variable">$keys</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$student</span>.ID)<span class="hljs-keyword">
        End if</span><span class="hljs-keyword"> 
    End for each</span> 

    <span class="hljs-variable">$0</span>:=<span class="hljs-variable">$keys</span>
</code></pre>
<p>An entity set is first created with this request:</p>
<p><code>http://127.0.0.1:8044/rest/Students/?$filter=&quot;ID&lt;3&quot;&amp;$method=entityset</code></p>
<p>Then you can run this request:</p>
<p><strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students/setFinalExam</code></p>
<p>Body of the request:</p>
<pre><code class="hljs">[
{
<span class="hljs-attr">"__ENTITIES"</span>:<span class="hljs-literal">true</span>,
<span class="hljs-attr">"__DATASET"</span>:<span class="hljs-string">"9B9C053A111E4A288E9C1E48965FE671"</span> 
},
<span class="hljs-string">"Passed"</span> 
]

</code></pre>
<h4><a class="anchor" aria-hidden="true" id="resultado-10"></a><a href="#resultado-10" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resultado</h4>
<p>The entities with primary keys 1 and 2 have been updated.</p>
<pre><code class="hljs">{
    <span class="hljs-attr">"result"</span>: [
        <span class="hljs-number">1</span>,
        <span class="hljs-number">2</span>
    ]
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="using-an-entity-selection-updated-on-the-client"></a><a href="#using-an-entity-selection-updated-on-the-client" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using an entity selection updated on the client</h3>
<p>Using the <code>getAgeAverage()</code> function <a href="#using-an-entityselection-class-function-and-an-entityset">defined above</a>.</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$remoteDS</span>, <span class="hljs-variable">$newStudent</span>, <span class="hljs-variable">$students </span>: Object<span class="hljs-keyword">
var</span> <span class="hljs-variable">$ageAverage </span>: Integer

<span class="hljs-variable">$remoteDS</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"127.0.0.1:8044"</span>);<span class="hljs-string">"students"</span>)

<span class="hljs-comment">// $newStudent is a student entity to procees</span>
<span class="hljs-variable">$newStudent</span>:=...
<span class="hljs-variable">$students</span>:=<span class="hljs-variable">$remoteDS</span>.Students.<span class="hljs-function">query</span>(<span class="hljs-string">"school.name = :1"</span>;<span class="hljs-string">"Math school"</span>)
<span class="hljs-comment">// We add an entity to the $students entity selection on the client</span>
<span class="hljs-variable">$students</span>.<span class="hljs-function">add</span>(<span class="hljs-variable">$newStudent</span>) 

<span class="hljs-comment">// We call a function on the StudentsSelection class returning the age average of the students in the entity selection</span>
<span class="hljs-comment">// The function is executed on the server on the updated $students entity selection which included the student added from the client</span>
<span class="hljs-variable">$ageAverage</span>:=<span class="hljs-variable">$students</span>.<span class="hljs-function">getAgeAverage</span>()
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/19/pt/REST/manData.html"><span class="arrow-prev">← </span><span>Manipulação de dados</span></a><a class="docs-next button" href="/docs/19/pt/REST/REST_requests.html"><span>Sobre petições REST</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#function-calls">Function calls</a></li><li><a href="#parâmetros">Parâmetros</a><ul class="toc-headings"><li><a href="#scalar-value-parameter">Scalar value parameter</a></li><li><a href="#entity-parameter">Entity parameter</a></li><li><a href="#entity-selection-parameter">Entity selection parameter</a></li></ul></li><li><a href="#request-examples">Request examples</a><ul class="toc-headings"><li><a href="#using-a-datastore-class-function">Using a datastore class function</a></li><li><a href="#using-a-dataclass-class-function">Using a dataclass class function</a></li><li><a href="#using-an-entity-class-function">Using an entity class function</a></li><li><a href="#using-an-entityselection-class-function">Using an entitySelection class function</a></li><li><a href="#using-an-entityselection-class-function-and-an-entityset">Using an entitySelection class function and an entitySet</a></li><li><a href="#using-an-entityselection-class-function-and-an-orderby">Using an entitySelection class function and an orderBy</a></li><li><a href="#using-an-entity-to-be-created-on-the-server">Using an entity to be created on the server</a></li><li><a href="#using-an-entity-to-be-updated-on-the-server">Using an entity to be updated on the server</a></li><li><a href="#creating-an-entity-with-a-related-entity">Creating an entity with a related entity</a></li><li><a href="#updating-an-entity-with-a-related-entity">Updating an entity with a related entity</a></li><li><a href="#receiving-an-entity-selection-as-parameter">Receiving an entity selection as parameter</a></li><li><a href="#using-an-entity-selection-updated-on-the-client">Using an entity selection updated on the client</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/19/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2022 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license-0">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:pt","version:19"]}
              });
            </script></body></html>