<!DOCTYPE html><html lang="pt"><head><meta name="docsearch:version" content="19"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>DataClass · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Uma [DataClass](/docs/19/pt/ORDA/dsmapping.html#dataclass) oferece uma interface de objeto a uma tabela do banco de dados. Todas as classes de dados de uma aplicação 4D estão disponíveis como uma propriedade de `ds` [datastore](/docs/19/pt/ORDA/dsmapping.html#datastore)."/><meta name="docsearch:language" content="pt"/><meta property="og:title" content="DataClass · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/19/index.html"/><meta property="og:description" content="Uma [DataClass](/docs/19/pt/ORDA/dsmapping.html#dataclass) oferece uma interface de objeto a uma tabela do banco de dados. Todas as classes de dados de uma aplicação 4D estão disponíveis como uma propriedade de `ds` [datastore](/docs/19/pt/ORDA/dsmapping.html#datastore)."/><meta property="og:image" content="https://4d.github.io/docs/19/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/19/img/logohome.png"/><link rel="shortcut icon" href="/docs/19/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/js/code-blocks-buttons.js"></script><script src="/docs/19/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/19/css/main.css"/><script src="/docs/19/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/19/pt"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v19 R5 BETA</a></li><li class=""><a href="https://developer.4d.com/docs/Rx" target="_self">v19 R4</a></li><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs/19" target="_self">v19</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/19/img/language.svg" alt="Languages icon"/>Português</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/19/en/API/DataClassClass.html">English</a></li><li><a href="/docs/19/ja/API/DataClassClass.html">日本語</a></li><li><a href="/docs/19/de/API/DataClassClass.html">Deutsch</a></li><li><a href="/docs/19/es/API/DataClassClass.html">Español</a></li><li><a href="/docs/19/fr/API/DataClassClass.html">Français</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Class API Reference</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Começando<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/GettingStarted/installation.html">Installation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Project Management<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Project/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Project/creating.html">Working with a project</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Project/architecture.html">Architecture of a project</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Project/documentation.html">Documenting a project</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Project/compiler.html">Compilation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">4D Language Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/about.html">Sobre a linguagem 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/quick-tour.html">A Quick Tour</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/data-types.html">Tipos de dados</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/boolean.html">Booleano</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/collection.html">Coleção</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/date.html">Date</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/null-undefined.html">Null and Undefined</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/number.html">Number (Real, Longint, Integer)</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/object.html">Objeto</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/picture.html">Imagem</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/pointer.html">Ponteiro</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/string.html">String</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/time.html">Hora</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/variant.html">Variant</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/variables.html">Variáveis</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/arrays.html">Arrays</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/methods.html">Métodos</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/parameters.html">Parâmetros</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/shared.html">Shared objects and collections</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/classes.html">Classes</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/control-flow.html">Control flow overview</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/branching.html">Estruturas condicionais</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/looping.html">Estruturas de loop</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/19/pt/Tags/tags.html">Transformation tags</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/error-handling.html">Error handling</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/interpreted-compiled.html">Interpreted and Compiled modes</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/components.html">Components</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Concepts/identifiers.html">Identifiers</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ORDA<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/overview.html">What is ORDA?</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/dsmapping.html">Data Model Objects</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/ordaClasses.html">Data Model Classes</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/entities.html">Working with data</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/datastores.html">Using a remote datastore</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/ORDA/glossary.html">Glossary</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Class API Reference<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/overview.html">Class API Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/ClassClass.html">Classe</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/CollectionClass.html">Coleção</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/CryptoKeyClass.html">CryptoKey</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/19/pt/API/DataClassClass.html">DataClass</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/DataClassAttributeClass.html">DataClassAttribute</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/DataStoreClass.html">DataStore</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/EmailObjectClass.html">Email</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/EntityClass.html">Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/EntitySelectionClass.html">EntitySelection</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/FileClass.html">File</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/FolderClass.html">Folder</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/FunctionClass.html">Formula</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/IMAPTransporterClass.html">IMAPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/MailAttachmentClass.html">MailAttachment</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/POP3TransporterClass.html">POP3Transporter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/SessionClass.html">Session</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/SignalClass.html">Signal</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/SMTPTransporterClass.html">SMTPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/WebServerClass.html">WebServer</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/ZipArchiveClass.html">ZIPArchive</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/ZipFileClass.html">ZIPFile</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/API/ZipFolderClass.html">ZIPFolder</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Preferences<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/general.html">General Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/structure.html">Structure Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/forms.html">Forms Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/methods.html">Methods Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Preferences/shortcuts.html">Shortcuts Page</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Administration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/webAdmin.html">Web Administration</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/dataExplorer.html">Web Data Explorer</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/licenses.html">Managing 4D Licenses</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/tls.html">TLS Protocol (HTTPS)</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/cli.html">Command Line Interface</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Admin/debugLogFiles.html">Description of log files</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Access Rights<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Users/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Users/editing.html">Gestão de usuários e grupos 4D</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">MSC<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/information.html">Information Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/analysis.html">Activity analysis Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/verify.html">Verify Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/backup.html">Backup Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/compact.html">Compact Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/rollback.html">Rollback Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/restore.html">Restore Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/repair.html">Repair Page</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/MSC/encrypt.html">Encrypt Page</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Backup and Restore<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Backup/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Backup/backup.html">Backup</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Backup/settings.html">Parâmetros da cópia de segurança</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Backup/log.html">Arquivo de Log (.journal)</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Backup/restore.html">Restaurar</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Web Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/webServer.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/webServerConfig.html">Configuração</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/webServerAdmin.html">Administration</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/webServerObject.html">Web Server object</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Web Development<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/gettingStarted.html">Começando</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/templates.html">Template pages</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/httpRequests.html">Processing HTTP requests</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/allowProject.html">Allowing project methods</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/errorPages.html">Custom HTTP Error Pages</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/authentication.html">Authentication</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/sessions.html">User sessions</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/WebServer/preemptiveWeb.html">Using preemptive web processes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">REST Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/gettingStarted.html">Começando</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/configuration.html">Server Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/authUsers.html">Users and sessions</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/genInfo.html">Obter informação do servidor</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/manData.html">Manipulação de dados</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/classFunctions.html">Calling ORDA class functions</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/REST_requests.html">Sobre petições REST</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (general)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/catalog.html">$catalog</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/directory.html">$directory</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/info.html">$info</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/upload.html">$upload</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API (dataClass)</h4><ul><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/{dataClass}.html">{dataClass}</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/asArray.html">$asArray</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/atomic_$atonce.html">$atomic/$atonce</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/attributes.html">$attributes</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/binary.html">$binary</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/compute.html">$compute</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/distinct.html">$distinct</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/entityset.html">$entityset</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/expand.html">$expand</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/filter.html">$filter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/imageformat.html">$imageformat</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/lock.html">$lock</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/method.html">$method</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/orderby.html">$orderby</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/querypath.html">$querypath</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/queryplan.html">$queryplan</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/savedfilter.html">$savedfilter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/savedorderby.html">$savedorderby</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/skip.html">$skip</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/timeout.html">$timeout</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/top_$limit.html">$top/$limit</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/REST/version.html">$version</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Client/Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Desktop/clientServer.html">Client/Server Management</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Formulários<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/forms.html">About 4D Forms</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/formEditor.html">Form Editor</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/macros.html">Form Editor Macros</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/objectLibrary.html">Object libraries</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/stylesheets.html">Folhas de estilo</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/pictures.html">Pictures</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Properties<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/jsonReference.html">JSON property list</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/action.html">Action</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/propertiesForm.html">Form Properties</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/formSize.html">Form Size</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/markers.html">Markers</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/menu.html">Menu</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/print.html">Print</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormEditor/windowSize.html">Window Size</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Objects<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/formObjectsOverview.html">About 4D Form Objects</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/buttonOverview.html">Button</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/buttonGridOverview.html">Button Grid</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/checkboxOverview.html">Check Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/comboBoxOverview.html">Combo Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/dropdownListOverview.html">Lista suspensa ou drop down</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/groupBox.html">Group Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/inputOverview.html">Entrada</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/listOverview.html">Hierarchical List</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/listboxOverview.html">List Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/pictureButtonOverview.html">Picture Button</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/picturePopupMenuOverview.html">Picture Pop-up Menu</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/pluginAreaOverview.html">Plug-in Area</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/progressIndicator.html">Progress Indicator</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/radiobuttonOverview.html">Radio Button</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/ruler.html">Ruler</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/shapesOverview.html">Shapes</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/spinner.html">Spinner</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/splitters.html">Splitter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/staticPicture.html">Static picture</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/stepper.html">Stepper</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/subformOverview.html">Subform</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/tabControl.html">Tab Controls</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/text.html">Texto</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/webAreaOverview.html">Web Area</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/viewProAreaOverview.html">4D View Pro area</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/writeProAreaOverview.html">4D Write Pro area</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Object Properties<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesReference.html">JSON property list</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesAction.html">Action</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesAnimation.html">Animation</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesAppearance.html">Appearance</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesBackgroundAndBorder.html">Background and Border</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesCoordinatesAndSizing.html">Coordinates &amp; Sizing</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesCrop.html">Crop</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesDataSource.html">Fonte de dados</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesDisplay.html">Display</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesEntry.html">Entry</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesFooters.html">Footers</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesGridlines.html">Gridlines</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesHeaders.html">Headers</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesHelp.html">Help</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesHierarchy.html">Hierarchy</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesListBox.html">List Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesObject.html">Objects</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesPicture.html">Imagem</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesPlugIns.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesPrint.html">Print</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesRangeOfValues.html">Range of Values</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesResizingOptions.html">Resizing Options</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesScale.html">Scale</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesSubform.html">Subform</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesText.html">Texto</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesTextAndPicture.html">Text and Picture</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/FormObjects/propertiesWebArea.html">Web Area</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Form Events<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onActivate.html">On Activate</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onAfterEdit.html">On After Edit</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onAfterKeystroke.html">On After Keystroke</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onAfterSort.html">On After Sort</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onAlternativeClick.html">On Alternative Click</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onBeforeDataEntry.html">On Before Data Entry</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onBeforeKeystroke.html">On Before Keystroke</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onBeginDragOver.html">On Begin Drag Over</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onBeginUrlLoading.html">On Begin URL Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onBoundVariableChange.html">On Bound Variable Change</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onClicked.html">On Clicked</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onCloseBox.html">On Close Box</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onCloseDetail.html">On Close Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onCollapse.html">On Collapse</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onColumnMoved.html">On Column Moved</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onColumnResize.html">On Column Resize</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDataChange.html">On Data Change</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDeactivate.html">On Deactivate</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDeleteAction.html">On Delete Action</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDisplayDetail.html">On Display Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDoubleClicked.html">On Double Clicked</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDragOver.html">On Drag Over</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onDrop.html">On Drop</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onEndUrlLoading.html">On End URL Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onExpand.html">On Expand</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onFooterClick.html">On Footer Click</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onGettingFocus.html">On Getting focus</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onHeader.html">On Header</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onHeaderClick.html">On Header Click</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onLoad.html">On Load</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onLoadRecord.html">On Load Record</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onLongClick.html">On Long Click</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onLosingFocus.html">On Losing focus</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onMenuSelected.html">On Menu Selected</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onMouseEnter.html">On Mouse Enter</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onMouseLeave.html">On Mouse Leave</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onMouseMove.html">On Mouse Move</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onMouseUp.html">On Mouse Up</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onOpenDetail.html">On Open Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onOpenExternalLink.html">On Open External Link</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onOutsideCall.html">On Outside Call</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onPageChange.html">On Page Change</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onPlugInArea.html">On Plug in Area</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onPrintingBreak.html">On Printing Break</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onPrintingDetail.html">On Printing Detail</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onPrintingFooter.html">On Printing Footer</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onResize.html">On Resize</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onRowMoved.html">On Row Moved</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onRowResize.html">On Row Resize</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onScroll.html">On Scroll</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onSelectionChange.html">On Selection Change</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onTimer.html">On Timer</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onUnload.html">On Unload</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onUrlFiltering.html">On URL Filtering</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onUrlLoadingError.html">On URL Loading Error</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onUrlResourceLoading.html">On URL Resource Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onValidate.html">On Validate</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onVpRangeChanged.html">On VP Range Changed</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onVpReady.html">On VP Ready</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Events/onWindowOpeningDenied.html">On Window Opening Denied</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Menus<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Menus/overview.html">Visão Geral</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Menus/creating.html">Creating menus and menu bars</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Menus/properties.html">Menu item properties</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Menus/bars.html">Menu bar features</a></li><li class="navListItem"><a class="navItem" href="/docs/19/pt/Menus/sdi.html">SDI mode on Windows</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Build application<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/19/pt/Desktop/building.html">Building a project package</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/19/docs/API/DataClassClass.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">DataClass</h1></header><article><div><span><p>Uma <a href="/docs/19/pt/ORDA/dsmapping.html#dataclass">DataClass</a> oferece uma interface de objeto a uma tabela do banco de dados. Todas as classes de dados de uma aplicação 4D estão disponíveis como uma propriedade de <code>ds</code> <a href="/docs/19/pt/ORDA/dsmapping.html#datastore">datastore</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="resumo"></a><a href="#resumo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resumo</h3>
<table>
<thead>
<tr><th></th></tr>
</thead>
<tbody>
<tr><td><a href="#attributename"><strong><em>.attributeName</em></strong> : DataClassAttribute</a><p>    </td></tr>
<tr><td><a href="#all"><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D.EntitySelection</a><p>    consulta a datastore para encontrar todas as entidades relacionadas com a dataclass e as devolve como uma seleção de entidades</td></tr>
<tr><td><a href="#fromcollection"><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D.EntitySelection</a><p>    atualiza ou cria entidades na classe de dados segundo a coleção de objetos <em>objectCol</em>, e devolve a seleção de entidades correspondente</td></tr>
<tr><td><a href="#get"><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D.Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.Entity</a><p>    pesquisa a dataclass para recuperar a entidade correspondente ao parâmetro <em>primaryKey</em></td></tr>
<tr><td><a href="#getdatastore"><strong>.getDataStore()</strong> : cs.DataStore</a><p>    retorna a datastore para a classe de dados especificada</td></tr>
<tr><td><a href="#getinfo"><strong>.getInfo()</strong> : Objeto </a><p>    </td></tr>
<tr><td><a href="#new"><strong>.new()</strong> : 4D.Entity </a><p>    </td></tr>
<tr><td><a href="#newselection"><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D.EntitySelection </a><p>    cria uma nova seleção de entidades em branco, não compartilhável, relacionado à dataclasse na memória</td></tr>
<tr><td><a href="#query"><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection </a><p>    pesquisa por entidades que encontram o critério de pesquisa especificado em <em>queryString</em> ou <em>formula</em> e (opcionalmente) <em>value</em>(s)</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="attributename"></a><a href="#attributename" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.<em>attributeName</em></h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong><em>.attributeName</em></strong> : DataClassAttribute</p>
<h4><a class="anchor" aria-hidden="true" id="descrição"></a><a href="#descrição" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>Os atributos das classes de dados sãoobjetos que estão disponíveis diretamente como propriedades destas classes.</p>
<p>Os objetos retornados são do tipo class <a href="/docs/19/pt/API/DataClassAttributeClass.html"><code>DataClassAttribute</code></a>. Esses objetos têm propriedades que podem ser lidas para obter informação sobre seus atributos dataclass.</p>
<blockquote>
<p>Os objetos do atributo Dataclass podem ser modificados, mas a estrutura subjacente do banco de dados não será alterada.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1"></a><a href="#exemplo-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$salary</span>:=ds.Employee.salary <span class="hljs-comment">//devolve o atributo salary na classe de dados Employee</span>
<span class="hljs-variable">$compCity</span>:=ds.Company[<span class="hljs-string">"city"</span>] <span class="hljs-comment">//devolve o atributo city na classe de dados Company</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2"></a><a href="#exemplo-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>Considerando a seguinte estrutura do banco de dados:</p>
<p><img src="/docs/19/assets/en/API/dataclassAttribute.png" alt=""></p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$firstnameAtt</span>;<span class="hljs-variable">$employerAtt</span>;<span class="hljs-variable">$employeesAtt </span>: Object

 <span class="hljs-variable">$firstnameAtt</span>:=ds.Employee.firstname
  <span class="hljs-comment">//{name:firstname,kind:storage,fieldType:0,type:string,fieldNumber:2,indexed:true,</span>
  <span class="hljs-comment">//keyWordIndexed:false,autoFilled:false,mandatory:false,unique:false}</span>

 <span class="hljs-variable">$employerAtt</span>:=ds.Employee.employer
  <span class="hljs-comment">//{name:employer,kind:relatedEntity,relatedDataClass:Company,</span>
  <span class="hljs-comment">//fieldType:38,type:Company,inverseName:employees}</span>
  <span class="hljs-comment">//38=Is object</span>

 <span class="hljs-variable">$employeesAtt</span>:=ds.Company.employees
  <span class="hljs-comment">//{name:employees,kind:relatedEntities,relatedDataClass:Employee,</span>
  <span class="hljs-comment">//fieldType:42,type:EmployeeSelection,inverseName:employer}</span>
  <span class="hljs-comment">//42=Is collection</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-3"></a><a href="#exemplo-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 3</h4>
<p>Considerando as propriedades de tabela abaixo:</p>
<p><img src="/docs/19/assets/en/API/dataclassAttribute2.png" alt=""></p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sequenceNumberAtt </span>: Object
 <span class="hljs-variable">$sequenceNumberAtt</span>=ds.Employee.sequenceNumber
  <span class="hljs-comment">//{name:sequenceNumber,kind:storage,fieldType:0,type:string,fieldNumber:13,</span>
  <span class="hljs-comment">//indexed:true,keyWordIndexed:false,autoFilled:true,mandatory:false,unique:true}</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="all"></a><a href="#all" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.all()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17 R5</td><td>Compatibilidade do parâmetro <em>settings</em></td></tr>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D.EntitySelection</p>
<table>
<thead>
<tr><th>Parâmetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>parâmetros</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Build option: context</td></tr>
<tr><td>Resultados</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>Referencias sobre todas as entidades relacionadas com a classe de dados</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-1"></a><a href="#descrição-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.all( )</code> consulta a datastore para encontrar todas as entidades relacionadas com a dataclass e as devolve como uma seleção de entidades.</p>
<p>As entidades são devolvidas na ordem padrão, que é inicialmente a ordem na qual foram criadas. Note no entanto que, se as entidades foram apagas e outras adicionadas, a ordem padrão não reflete mais sua ordem de criação.</p>
<p>Se nenhuma entidade correspondente for encontrada, uma seleção de entidade vazia é retornada.</p>
<p>Se aplica carregamento diferido/lazy loading.</p>
<p><strong>settings</strong></p>
<p>No parâmetro opcional<em>settings</em> pode passar um objeto contendo as opções abaixo. As propriedades abaixo são compatíveis:</p>
<table>
<thead>
<tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>context</td><td>Texto</td><td>Etiqueta para o contexto de otimização aplicado a seleção de entidades. Este contexto será utilizado pelo código que maneja a seleção de entidades para que possa se beneficiar da otimização. Esta funcionalidade está <a href="/docs/19/pt/ORDA/entities.html#client-server-optimization">desenhada para o processamento cliente/servidor de ORDA</a>.</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="exemplo"></a><a href="#exemplo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$allEmp </span>: cs.EmployeeSelection
 <span class="hljs-variable">$allEmp</span>:=ds.Employee.<span class="hljs-function">all</span>()
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="fromcollection"></a><a href="#fromcollection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.fromCollection()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17 R5</td><td>Compatibilidade do parâmetro <em>settings</em></td></tr>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D.EntitySelection</p>
<table>
<thead>
<tr><th>Parâmetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>objectCol</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>Coleção de objetos a mapear com entidades</td></tr>
<tr><td>settings</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Build option: context</td></tr>
<tr><td>Resultados</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>Seleção de entidades preenchidas da coleção</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-2"></a><a href="#descrição-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.fromCollection()</code> atualiza ou cria entidades na classe de dados segundo a coleção de objetos <em>objectCol</em>, e devolve a seleção de entidades correspondente.</p>
<p>No parâmetro <em>objectCol</em>, passa uma coleção de objetos para criar novas entidades ou atualizar as existentes da classe de dados. Os nomes das propriedades devem ser os mesmos que os dos atributos da classe de dados. Se um nome de propriedade não existir na dataclass, é ignorado. Se um valor de atributo não for definido na coleção, seu valor será null.</p>
<p>O mapeamento entre os objetos da coleção e as entidades se realiza sobre os <strong>nomes de atributos</strong> e <strong>tipos coincidentes</strong>. Se uma propriedade de um objeto tiver o mesmo nome que um atributo de entidade mas seus tipos não corresponderem, o atributo da entidade não é preenchido.</p>
<p><strong>Criar ou atualizar modos</strong></p>
<p>Para cada objeto de <em>objectCol</em>:</p>
<ul>
<li>Se o objeto conter uma propriedade booleana &quot;__NEW&quot; estabelecida em false (ou não conter uma propriedade booleana &quot;__NEW&quot;), a entidade se atualiza ou se cria com os valores correspondentes das propriedades do objeto. Nenhuma comprovação é realizada com respeito à chave primária:
<ul>
<li>Se a chave primária for dada e existir, a entidade é atualizada. Nesse caso, a chave primária pode ser dada como etá ou com uma propriedade &quot;__KEY&quot;  (preenchida com o valor da chave primária).</li>
<li>Se a chave primária for dada (como é) e não existir, a entidade é criada</li>
<li>Se a chave primária não for dada, a entidade é criada e o valor da chave primária é assignado com respeito às regras padrão de database.</li>
</ul></li>
<li>Se o objeto conter uma propriedade boolean &quot;__NEW&quot; estabelecida como <strong>true</strong>, a entidade é criada com os valores correspondente dos atributos de objeto. Uma comprovação é realizada com relação à chave primária:
<ul>
<li>Se a chave primária for dada (como está) e existir, um erro é enviado.</li>
<li>Se a chave primária for dada (como é) e não existir, a entidade é criada</li>
<li>Se a chave primária não for dada, a entidade é criada e o valor da chave primária é assignado com respeito às regras padrão de database.</li>
</ul></li>
</ul>
<blockquote>
<p>A propriedade &quot;__KEY&quot; que contém um valor só levado em consideração qando a propriedade &quot;__NEW&quot; se estabelece como <strong>false</strong> (ou se omite) e existe uma entidade correspondente. em todos os outros casos, o valor de propriedade &quot;__KEY&quot; é ignorado, valores de chave primária devem ser pasados &quot;tal qual&quot;.</p>
</blockquote>
<p><strong>Entidades relacionadas</strong></p>
<p>Os objetos de <em>objectCol</em> podem conter um ou mais objetos aninhados que apresentam uma ou mais entidades relacionadas, o que pode ser útil para criar ou atualizar links entre entidades.</p>
<p>Os objetos aninhados que apresentam entidades relacionadas devem conter uma propriedade &quot;__KEY&quot; (preenchido com o valor da chave primária da entidade relacionada) ou o atributo de chave primária da própria entidade relacionada. O uso de uma propriedade __KEY permite a independência do nome do atributo da chave primària.</p>
<blockquote>
<p>O conteúdo das entidades relacionadas não pode ser criado / atualizado através deste mecanismo.</p>
</blockquote>
<p><strong>Stamp</strong></p>
<p>Se um atributo __STAMP for dado, se realiza uma comprovação com o selo no armazén de dados e se pode devolver um erro (&quot;O selo dado não coincide com o atual para o registro# XX da tabela XXXX&quot;). Para saber mais, consulte <a href="/docs/19/pt/ORDA/entities.html#entity-locking">Entity locking</a>.</p>
<p><strong>settings</strong></p>
<p>No parâmetro opcional<em>settings</em> pode passar um objeto contendo as opções abaixo. As propriedades abaixo são compatíveis:</p>
<table>
<thead>
<tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>context</td><td>Texto</td><td>Etiqueta para o contexto de otimização aplicado a seleção de entidades. Este contexto será utilizado pelo código que maneja a seleção de entidades para que possa se beneficiar da otimização. Esta funcionalidade está <a href="/docs/19/pt/ORDA/entities.html#client-server-optimization">desenhada para o processamento cliente/servidor de ORDA</a>.</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-1"></a><a href="#exemplo-1-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<p>Queremos atualizar uma entidade existente. A propriedade __NEW não for dada, a chave primária do empregado é dada e existe:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.ID:=<span class="hljs-number">668</span> <span class="hljs-comment">//Existing PK in Employee table</span>
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"Arthur"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Martin"</span>
 <span class="hljs-variable">$emp</span>.employer:=<span class="hljs-function">New object</span>(<span class="hljs-string">"ID"</span>;<span class="hljs-number">121</span>) <span class="hljs-comment">//PK existente na dataClass relacionada Company</span>
  <span class="hljs-comment">// Para este empregado, podemos mudar a Empresa utilizando outro PK existente na dataClass relacionada Company</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-1"></a><a href="#exemplo-2-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>Queremos atualizar uma entidade existente. A propriedade __NEW não é dada, a chave primária do empregado com o atributo __KEY e existir:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.ID:=<span class="hljs-number">668</span> <span class="hljs-comment">//Existing PK in Employee table</span>
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"Arthur"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Martin"</span>
 <span class="hljs-variable">$emp</span>.employer:=<span class="hljs-function">New object</span>(<span class="hljs-string">"ID"</span>;<span class="hljs-number">121</span>) <span class="hljs-comment">//PK existente na dataClass relacionada Company</span>
  <span class="hljs-comment">// Para este empregado, podemos mudar a Empresa utilizando outro PK existente na dataClass relacionada Company</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-3-1"></a><a href="#exemplo-3-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 3</h4>
<p>Se quiser simplesmente criar uma nova entidade da coleção::</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"Victor"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Hugo"</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-4"></a><a href="#exemplo-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 4</h4>
<p>Queremos criar uma entidade. A propriedade __NEW é True, a chave primária de empregado não é dada:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"Mary"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Smith"</span>
 <span class="hljs-variable">$emp</span>.employer:=<span class="hljs-function">New object</span>(<span class="hljs-string">"__KEY"</span>;<span class="hljs-number">121</span>) <span class="hljs-comment">//PK existente na dataClass Company</span>
 <span class="hljs-variable">$emp</span>.__NEW:=<span class="hljs-literal">True</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)




</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-5"></a><a href="#exemplo-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 5</h4>
<p>Queremos criar uma entidade. Se a propriedade __NEW é omitida, a chave primária do empregado é dada e não existir:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.ID:=<span class="hljs-number">10000</span> <span class="hljs-comment">//Chave primária inexistente</span>
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"Françoise"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Sagan"</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-6"></a><a href="#exemplo-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 6</h4>
<p>Neste exemplo, a primeira entidade se criará e salvará mas a segunda falhará já que ambas utilizam a mesma chave primaria:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp</span>; <span class="hljs-variable">$emp2 </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.ID:=<span class="hljs-number">10001</span> <span class="hljs-comment">// chave primária inexistente</span>
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"Simone"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Martin"</span>
 <span class="hljs-variable">$emp</span>.__NEW:=<span class="hljs-literal">True</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)

 <span class="hljs-variable">$emp2</span>:=New object
 <span class="hljs-variable">$emp2</span>.ID:=<span class="hljs-number">10001</span> <span class="hljs-comment">// a mesma chave primaria, já existente</span>
 <span class="hljs-variable">$emp2</span>.firstName:=<span class="hljs-string">"Marc"</span>
 <span class="hljs-variable">$emp2</span>.lastName:=<span class="hljs-string">"Smith"</span>
 <span class="hljs-variable">$emp2</span>.__NEW:=<span class="hljs-literal">True</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp2</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)
  <span class="hljs-comment">//se cria a primeira entidade</span>
  <span class="hljs-comment">//erro de chave duplicada para a segunda entidade</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="veja-também"></a><a href="#veja-também" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Veja também</h4>
<p><a href="/docs/19/pt/API/EntitySelectionClass.html#tocollection"><strong>.toCollection()</strong></a></p>
<h2><a class="anchor" aria-hidden="true" id="get"></a><a href="#get" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.get()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D.Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.Entity</p>
<table>
<thead>
<tr><th>Parâmetros</th><th>Type</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>primaryKey</td><td>Integer OR Text</td><td style="text-align:center">-&gt;</td><td>Valor da chave primária da entidade a recuperar</td></tr>
<tr><td>settings</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Build option: context</td></tr>
<tr><td>Resultados</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>Entidade que coincide com a chave primária designada</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-3"></a><a href="#descrição-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.get()</code> pesquisa a dataclass para recuperar a entidade correspondente ao parâmetro <em>primaryKey</em>.</p>
<p>Em <em>primaryKey</em>, passe o valor da chave primária da entidade a recuperar O tipo valor deve coresponder com o tipo de chave primária estabelecido na datastore (Inteiro ou texto). Também pode se assegurar que o valor de chave primária seja sempre retornado como Texto ao usar a função <a href="/docs/19/pt/API/EntityClass.html#getkey"><code>.getKey()</code></a> com o parâmetro<code>dk key as string</code>.</p>
<p>Se nenhuma entidade for encontrada com  <em>primaryKey</em>, uma entidade<strong>Null</strong> é retornada.</p>
<p>É aplicado o lazy loading/carregamento diferido, ou seja os dados relacionados são carregados do disco só quando pedidos.</p>
<p><strong>settings</strong></p>
<p>No parâmetro opcional<em>settings</em> pode passar um objeto contendo as opções abaixo. As propriedades abaixo são compatíveis:</p>
<table>
<thead>
<tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>context</td><td>Texto</td><td>Etiqueta para o contexto de otimização automático aplicados à entidade. Esse contexto será usado pelo código subsequente que carrega a entidade para que se possa beneficiar da otimização. Essa funcionalidade foi criada para processamento cliente/servidor de ORDA <a href="/docs/19/pt/ORDA/entities.html#client-server-optimization"></a>.</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-2"></a><a href="#exemplo-1-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entity </span>: cs.EmployeeEntity<span class="hljs-keyword">  
 var</span> <span class="hljs-variable">$entity2 </span>: cs.InvoiceEntity
 <span class="hljs-variable">$entity</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">167</span>) <span class="hljs-comment">// retorna a entidade cujo valor de chave primária é 167</span>
 <span class="hljs-variable">$entity2</span>:=ds.Invoice.<span class="hljs-function">get</span>(<span class="hljs-string">"DGGX20030"</span>) <span class="hljs-comment">// retorna a entidade cujo valor de chave primária é  "DGGX20030"</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-2"></a><a href="#exemplo-2-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>Este exemplo ilustra o uso da propriedade <em>context</em> :</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$e1</span>; <span class="hljs-variable">$e2</span>; <span class="hljs-variable">$e3</span>; <span class="hljs-variable">$e4 </span>: cs.EmployeeEntity<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$settings</span>; <span class="hljs-variable">$settings2 </span>: Object

 <span class="hljs-variable">$settings</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>;<span class="hljs-string">"detail"</span>)
 <span class="hljs-variable">$settings2</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>;<span class="hljs-string">"summary"</span>)

 <span class="hljs-variable">$e1</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">1</span>;<span class="hljs-variable">$settings</span>)
<span class="hljs-function"> completeAllData</span>(<span class="hljs-variable">$e1</span>) <span class="hljs-comment">// In completeAllData method, an optimization is triggered and associated to context "detail"</span>

 <span class="hljs-variable">$e2</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">2</span>;<span class="hljs-variable">$settings</span>)
<span class="hljs-function"> completeAllData</span>(<span class="hljs-variable">$e2</span>) <span class="hljs-comment">// In completeAllData method, the optimization associated to context "detail" is applied</span>

 <span class="hljs-variable">$e3</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">3</span>;<span class="hljs-variable">$settings2</span>)
<span class="hljs-function"> completeSummary</span>(<span class="hljs-variable">$e3</span>) <span class="hljs-comment">//In completeSummary method, an optimization is triggered and associated to context "summary"</span>

 <span class="hljs-variable">$e4</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">4</span>;<span class="hljs-variable">$settings2</span>)
<span class="hljs-function"> completeSummary</span>(<span class="hljs-variable">$e4</span>) <span class="hljs-comment">//In completeSummary method, the optimization associated to context "summary" is applied</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="getdatastore"></a><a href="#getdatastore" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.getDataStore()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17 R5</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.getDataStore()</strong> : cs.DataStore</p>
<table>
<thead>
<tr><th>Parâmetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>Resultados</td><td>cs.DataStore</td><td style="text-align:center">&lt;-</td><td>Datastore da classe de dados</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-4"></a><a href="#descrição-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.getDataStore( )</code> retorna a datastore para a classe de dados especificada.</p>
<p>A datastore pode ser:</p>
<ul>
<li>a datastore principal, retornada pelo comando <code>ds</code>.</li>
<li>uma datastore remota, aberta com o comando <code>Open datastore</code>.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="exemplo-7"></a><a href="#exemplo-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<p>O método de projeto <strong><em>SearchDuplicate</em></strong> procura por valores duplicados em qualquer dataclass.</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$pet </span>: cs.CatsEntity
 <span class="hljs-variable">$pet</span>:=ds.Cats.<span class="hljs-function">all</span>().<span class="hljs-function">first</span>() <span class="hljs-comment">//obtém uma entidade</span>
<span class="hljs-function"> SearchDuplicate</span>(<span class="hljs-variable">$pet</span>;<span class="hljs-string">"Dogs"</span>)
</code></pre>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">// Pesquisa SearchDuplicate</span>
  <span class="hljs-comment">// SearchDuplicate(entity_to_search;dataclass_name)</span>

 #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$pet </span>: Object ; <span class="hljs-variable">$dataClassName </span>: Text)<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$dataStore</span>; <span class="hljs-variable">$duplicates </span>: Object  

 <span class="hljs-variable">$dataStore</span>:=<span class="hljs-variable">$pet</span>.<span class="hljs-function">getDataClass</span>().<span class="hljs-function">getDataStore</span>()
 <span class="hljs-variable">$duplicates</span>:=<span class="hljs-variable">$dataStore</span>[<span class="hljs-variable">$dataClassName</span>].<span class="hljs-function">query</span>(<span class="hljs-string">"name=:1"</span>;<span class="hljs-variable">$pet</span>.name)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="getinfo"></a><a href="#getinfo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.getInfo()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17 R5</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.getInfo()</strong> : Objeto</p>
<table>
<thead>
<tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>Resultados</td><td>Objeto</td><td>&lt;-</td><td>Informação da dataclass.</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-5"></a><a href="#descrição-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.getInfo( )</code>devolve um objeto que proporciona informação sobre a classe de dados. Esta função é útil para configurar o código genérico.</p>
<p><strong>Objeto devolvido</strong></p>
<table>
<thead>
<tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>Texto</td><td>Nome da dataclass</td></tr>
<tr><td>primaryKey</td><td>Texto</td><td>Nome da chave primária da classe de dados</td></tr>
<tr><td>tableNumber</td><td>Integer</td><td>Número daa tabela 4D interna</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-3"></a><a href="#exemplo-1-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<pre><code class="hljs css language-4d"> #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$entity </span>: Object)<span class="hljs-keyword">  
 var</span> <span class="hljs-variable">$status </span>: Object

<span class="hljs-function"> computeEmployeeNumber</span>(<span class="hljs-variable">$entity</span>) <span class="hljs-comment">//faz uma ação na entidade</span>

 <span class="hljs-variable">$status</span>:=<span class="hljs-variable">$entity</span>.<span class="hljs-function">save</span>()
<span class="hljs-function"> if</span>(<span class="hljs-variable">$status</span>.success)
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"Record updated in table "</span>+<span class="hljs-variable">$entity</span>.<span class="hljs-function">getDataClass</span>().<span class="hljs-function">getInfo</span>().name)<span class="hljs-keyword">
 End if</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-3"></a><a href="#exemplo-2-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$settings </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$es </span>: cs.ClientsSelection

 <span class="hljs-variable">$settings</span>:=New object
 <span class="hljs-variable">$settings</span>.parameters:=<span class="hljs-function">New object</span>(<span class="hljs-string">"receivedIds"</span>;<span class="hljs-function">getIds</span>())
 <span class="hljs-variable">$settings</span>.attributes:=<span class="hljs-function">New object</span>(<span class="hljs-string">"pk"</span>;ds.Clients.<span class="hljs-function">getInfo</span>().primaryKey)
 <span class="hljs-variable">$es</span>:=ds.Clients.<span class="hljs-function">query</span>(<span class="hljs-string">":pk in :receivedIds"</span>;<span class="hljs-variable">$settings</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-3-2"></a><a href="#exemplo-3-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 3</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$pk </span>: Text<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$dataClassAttribute </span>: Object

 <span class="hljs-variable">$pk</span>:=ds.Employee.<span class="hljs-function">getInfo</span>().primaryKey
 <span class="hljs-variable">$dataClassAttribute</span>:=ds.Employee[<span class="hljs-variable">$pk</span>] <span class="hljs-comment">// Se necessário o atributo correspondente à chave primária é acessível</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="new"></a><a href="#new" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.new()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.new()</strong> : 4D.Entity</p>
<table>
<thead>
<tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>Resultado</td><td>4D.Entity</td><td>&lt;-</td><td>Nova entidade que coincide com a classe de dados</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-6"></a><a href="#descrição-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A função <code>.new( )</code>cria em memória e devolve uma nova entidade em branco relacionada com a Dataclass.</p>
<p>O objeto entidade se cria em memória e não se guarda no banco de dados até que se chama a função <a href="/docs/19/pt/API/EntityClass.html#save"><code>.save( )</code></a>. Se a entidade for apagada antes de ser salva, não se pode recuperar.</p>
<p><strong>4D Server</strong>: eám cliente-servidor, se a chave primaria da tabela correspondente se autoincrementa, se calculará quando a entidade se guarde no servidor.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-8"></a><a href="#exemplo-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<p>Este exemplo cria uma nova entidade na classe de dados &quot;Log&quot; e registra a informação no atributo &quot;info&quot;:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entity </span>: cs.LogEntity
 <span class="hljs-variable">$entity</span>:=ds.Log.<span class="hljs-function">new</span>() <span class="hljs-comment">//cria uma referência</span>
 <span class="hljs-variable">$entity</span>.info:=<span class="hljs-string">"New entry"</span> <span class="hljs-comment">//armazena informação</span>
 <span class="hljs-variable">$entity</span>.<span class="hljs-function">save</span>() <span class="hljs-comment">//salva a entidade</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="newselection"></a><a href="#newselection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.newSelection()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D.EntitySelection</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>keepOrder</td><td>Integer</td><td>-&gt;</td><td><code>dk keep ordered</code>: cria uma seleção de entidades ordenada,<br><code>dk non ordered</code>: cria uma seleção de entidade não ordenada (padrão se omitido)</td></tr>
<tr><td>Resultado</td><td>4D.EntitySelection</td><td>&lt;-</td><td>Nova seleção de entidades em branco relacionadas com a classe de dados</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-7"></a><a href="#descrição-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>função <code>.newSelection( )</code> cria uma nova seleção de entidades em branco, não compartilhável, relacionado à dataclasse na memória.</p>
<blockquote>
<p>Para mais informação sobre as seleçõees de entidades não compartilháveis, consulte <a href="/docs/19/pt/ORDA/entities.html#shareable-or-non-shareable-entity-selections">esta seção</a>.</p>
</blockquote>
<p>Se quiser uma seleção de entidades ordenada, passe o seletor <code>dk keep ordered</code> no parâmetro <em>keepOrder</em>. Como padrão se omitir este parâmetro ou se passar o seletor <code>dk non ordered</code>, o método cria uma seleção de entidades não ordenada. As seleções de entidades desordenadas são mais rápidas mas não se pode confiar nas posições das entidades. Para mas informação, consulte <a href="/docs/19/pt/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">Seleções de entidades ordenadas e desordenadas</a>.</p>
<p>Quando for criada, a seleção de entidades não contém nenhuma entidade (<code>mySelection.length</code> devolve 0). Este método lhe permite criar seleções de entidades gradualmente fazendo chamadas posteriores à função <a href="/docs/19/pt/API/EntitySelectionClass.html#add"><code>add()</code></a>.</p>
<h4><a class="anchor" aria-hidden="true" id="exemplo-9"></a><a href="#exemplo-9" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$USelection</span>; <span class="hljs-variable">$OSelection </span>: cs.EmployeeSelection
 <span class="hljs-variable">$USelection</span>:=ds.Employee.<span class="hljs-function">newSelection</span>() <span class="hljs-comment">//cria uma seleção de entidade vazia não ordenada</span>
 <span class="hljs-variable">$OSelection</span>:=ds.Employee.<span class="hljs-function">newSelection</span>(dk keep ordered) <span class="hljs-comment">//cria uma seleção de entidade vazia ordenada</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="query"></a><a href="#query" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.query()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versão</th><th>Mudanças</th></tr>
</thead>
<tbody>
<tr><td>v17 R6</td><td>Soporte dos Parâmetros Formula</td></tr>
<tr><td>v17 R5</td><td>Suporte dos marcadores para os valores</td></tr>
<tr><td>v17</td><td>Adicionado</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection</p>
<table>
<thead>
<tr><th>Parâmetros</th><th>Tipo</th><th></th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>queryString</td><td>Texto</td><td>-&gt;</td><td>Criterios de pesquisa como string</td></tr>
<tr><td>formula</td><td>Objeto</td><td>-&gt;</td><td>Criterios de pesquisa como objeto fórmula</td></tr>
<tr><td>value</td><td>any</td><td>-&gt;</td><td>Valores a usar para placeholders indexados</td></tr>
<tr><td>querySettings</td><td>Objeto</td><td>-&gt;</td><td>Opções de pesquisa: parâmetros, atributos, args, allowFormulas, contexto, queryPath,queryPlan</td></tr>
<tr><td>Resultados</td><td>4D.EntitySelection</td><td>&lt;-</td><td>Nova seleção de entidade feita de entidades de dataclass realizano o critério de pesquia especificado em <em>queryString</em> or <em>formula</em></td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descrição-8"></a><a href="#descrição-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descrição</h4>
<p>A <code>.query( )</code> função pesquisa por entidades que encontram o critério de pesquisa especificado em <em>queryString</em> ou <em>formula</em> e (opcionalmente) <em>value</em>(s), para todas as entidades na dataclass e retorna um novo objeto de tipo <code>EntitySelection</code> contendo todas as entidades que foram encontradas. Se aplica carregamento diferido/lazy loading.</p>
<p>Se não houver entidades correspondentes encontradas, uma <code>EntitySelection</code> vazia é retornada.</p>
<p><strong>parâmetro queryString</strong></p>
<p>O parâmetro <em>queryString</em> usa a sintaxe abaixo:</p>
<pre><code class="hljs css language-4d">attributePath|formula comparator value   
    {logicalOperator attributePath|formula comparator value}   
    {order by attributePath {desc | asc}}
</code></pre>
<p>onde:</p>
<ul>
<li><strong>attributePath</strong>: rota de atributo no quaal se quiser executar a query. Este parâmetro pode ser um nome simples (por exemplo &quot;country&quot;) ou uma rota de atributo válida (por exemplo &quot;country.name&quot;) No caso de  uma rota de atributo cujo tipo for <code>Collection</code>, a notação [ ] é usada para manejar as ocorrências (por exemplo &quot;children[ ].age&quot;). Também pode usar um <strong>placeholder</strong> (ver abaixo).</li>
</ul>
<blockquote>
<p><em>Não pode usar diretamente atributos cujo nome contenha caracteres especiais como &quot;.&quot;, &quot;[ ]&quot;, or &quot;=&quot;, &quot;&gt;&quot;, &quot;#&quot;..., porque serão avaliados incorretamente na string da query. Se precisar de uma query com esses atributos, deve considerar o uso de placeholders que permitem uma gama estendida de caracteres em rotas de atributo (ver</em> <strong>Using placeholders</strong> <em>below).</em></p>
</blockquote>
<ul>
<li><p><strong>formula</strong>: uma fórmula válida passada como <code>Text</code> ou <code>Object</code>. A fórmula será avaliada para cada entidade processada e deve retornar um valor booleano. Dentro da fórmula, a entidade está disponível através do objeto <code>This</code>.</p>
<ul>
<li><strong>Text</strong>: A string de fórmula deve ser precidida da declaração <code>eval( )</code>,para que o parser da pesquisa avalie a expressão corretamente. Por exemplo: <em>&quot;eval(length(This.lastname) &gt;=30)&quot;</em></li>
<li><strong>Object</strong>: o objeto <a href="/docs/19/pt/API/FunctionClass.html">formula</a> é passado como um <strong>placeholder</strong> (ver abaixo). A fórmula deve ter sido criada usando  <a href="/docs/19/pt/API/FunctionClass.html#formula"><code>Formula</code></a> ou o comando<a href="/docs/19/pt/API/FunctionClass.html#formula-from-string"><code>Formula from string</code></a> command.</li>
</ul></li>
</ul>
<blockquote>
<ul>
<li>Lembre que fórmulas 4D só são compatíveis com os símbolos <code>&amp;</code> e <code>|</code> como operadores lógicos.</li>
<li>Se a fórmula não for o único critério de pesquisa, o otimizador de motor debusca poderia processar outros critérios previamente (por exemplo atributos indexados) e assim, a fórmula poderia ser avaliada apenas para um subconjunto de entidades.</li>
</ul>
</blockquote>
<pre><code class="hljs">Fórmulas nas consultas podem receber parâmetros através de $1. Este ponto é detalhado no parágrafo **Parâmetro fórmula** mais abaixo.
</code></pre>
<blockquote>
<ul>
<li>Também pode passar diretamente um objeto parâmetro <code>formula</code> ao invés do parâmetro <code>queryString</code> (recomendado quando as fórmulas sejam mais complexas). Ver o parágrafo <strong>Parâmetro fórmula</strong> mais abaixo.</li>
<li>Por razões de segurança, as chamadas a fórmulas dentro dos métodos <code>query()</code> podem ser desativadas. Veja a descrição do parâmetro <code>querySettings</code>.</li>
</ul>
</blockquote>
<ul>
<li><p><strong>comparator</strong>: symbol que compara <em>attributePath</em> e <em>valor</em>. Os simbolos abaixo são compatíveis:</p>
<table>
<thead>
<tr><th>Comparação</th><th>Símbolos</th><th>Comentário</th></tr>
</thead>
<tbody>
<tr><td>Igual a</td><td>=, ==</td><td>Retorna os dados coincidentes, admite o coringa (@), não diferencia entre maiúsculas e minúsculas nem diacríticas.</td></tr>
<tr><td></td><td>===, IS</td><td>Retorna os dados coincidentes, considera @ como caractere padrão, não diferencia entre maiúsculas e minúsculas nem diacríticas</td></tr>
<tr><td>Diferente de</td><td>#, !=</td><td>Suporta o coringa (@)</td></tr>
<tr><td></td><td>!==, IS NOT</td><td>Considera  @ como um caractere normal</td></tr>
<tr><td>Menor que</td><td>&lt;</td><td></td></tr>
<tr><td>Maior que</td><td>&gt;</td><td></td></tr>
<tr><td>Menor que ou igual a</td><td>&lt;=</td><td></td></tr>
<tr><td>Maior ou igual a</td><td>&gt;=</td><td></td></tr>
<tr><td>Incluído em</td><td>IN</td><td>Retorna dados iguais a ao menos um dos valores de uma coleção ou de um conjunto de valores, admite o coringa (@)</td></tr>
<tr><td>Não se aplica à condição de uma sentença</td><td>NOT</td><td>Parentesis são obrigatórios quando usar NOT antes de uma instrução que contenha vários operadores</td></tr>
<tr><td>Contém palavra chave</td><td>%</td><td>As palavras chaves podem ser usadas em atributos de string ou imagem</td></tr>
</tbody>
</table>
</li>
<li><p><strong>value</strong>: o valor a comparar ao valor atual da propriedade de cada entidade na seleção de entidade ou elemento na coleção. Pode ser um <strong>marcador</strong> (ver <strong>Uso de marcadores</strong> mais adiante) ou qualquer expressão que coincida com a propriedad de tipo de dados.<p><p> Quando usar um valor constante, as regras abaixo devem ser respeitadas:</p>
<ul>
<li>A constante de tipo <strong>texto</strong> pode ser passada com ou sem aspas simples (ver <strong>Uso de aspas</strong> mais abaixo). Para pesquisar uma stirng dentro de uma string (uma pesquisa &quot;contém&quot;) use o símbolo coringa (@) em valor para isolar a string a ser pesquisada como mostrado neste exemplo: &quot;@Smith@&quot;. As palavras chaves abaixo são proibidas para constantes de texto: true, false.</li>
<li>Valores constantes de tipo <strong>booleano</strong> : <strong>true</strong> ou <strong>false</strong> (diferencia maiuscula de minúscula).</li>
<li>Valores constantes de tipo <strong>numérico</strong>: os decimais se separam com um '.' (ponto). constantes de tipo de data: formato &quot;YYYY-MM-DD&quot;</li>
<li><strong>null</strong> constante: usando a palavra chave &quot;null&quot; encontra as propriedades <strong>null</strong> e <strong>undefined</strong>.</li>
<li>no caso de uma pesquisa com um comparador IN, o valor deve uma coleção, ou valores que coincidam com o tipo da rota do atributo entre [ ] separados por vírgulas (para as strings, os caracteres &quot; devem escapar-se com &quot;&quot;).</li>
</ul></li>
<li><p><strong>logicalOperator</strong>: utilizado para unir condições múltiplas na pesquisa (opcional). Pode usaar um dos operadores lógicos abaixo (ou o nome ou o símbolo podem ser usados):</p>
<table>
<thead>
<tr><th>Conjunção</th><th>Símbolos</th></tr>
</thead>
<tbody>
<tr><td>AND</td><td>&amp;, &amp;&amp;, and</td></tr>
<tr><td>OU</td><td>|,||, or</td></tr>
</tbody>
</table>
</li>
<li><p><strong>order by attributePath</strong>: pode incluir uma declaração order by <em>attributePath</em> na pesquisa para que os dados resultantes sejam ordenados de acordo com esta declaração. Pode utilizar várias instruções de ordenação, separadas por vírgulas (por exemplo, ordenação por <em>attributePath1</em> desc, <em>attributePath2</em> asc). Como padrão, a ordem é ascendente. Passe 'desc'' para definir uma ordem descendente e 'asc' para definir uma ordem ascendente.</p></li>
</ul>
<blockquote>
<p>*Se usar esta declaração, a entity selection devolvida está ordenada (para saber mais, consulte <a href="/docs/19/pt/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">Entity selections ordenadas vs desordenadas</a>).</p>
</blockquote>
<p><strong>Usar aspas</strong></p>
<p>Quando usar aspas com pesquisas, deve usar aspas simples '  '  dentro das pesquisas e aspas duplas &quot;   &quot;  para cercar a consulta inteira, senão um erro é retornado. Por exemplo:</p>
<pre><code class="hljs css language-4d"><span class="hljs-string">"employee.name = 'smith' AND employee.firstname = 'john'"</span>
</code></pre>
<blockquote>
<p>Aspas siples (') não são permitidas nos valores pesquisados, já que quebrariam a string de pesquisa. Por exemplo, &quot;comp.name = 'John's pizza' &quot; gerará um erro. Se precisar pesquisar valores com aspas simples, pode considerar o uso de placeholders (ver abaixo).</p>
</blockquote>
<p><strong>Usando parêntesis</strong></p>
<p>Pode usar parêntesis na pesquisa para dar prioridade ao cálculo Por exemplo, pode organizar uma pesquisa da seguinte maneira:</p>
<pre><code class="hljs css language-4d"><span class="hljs-string">"(employee.age &gt;= 30 OR employee.age &lt;= 65) AND (employee.salary &lt;= 10000 OR employee.status = 'Manager')"</span>
</code></pre>
<p><strong>Uso de placeholders</strong></p>
<p>4D lhe permite utilizar placeholders, marcadores de posição, para os argumentos <em>attributePath</em>, <em>formula</em> e <em>value</em> dentro do parâmetro <em>queryString</em>. Um placeholder é um parâmetro que é inserido em strings de pesquisa e que pode ser substituído por outro valor quando a string for realizada. O valor dos placeholders é avaliado uma vez ao inicio da pesquisa - não é avaliado para cada elemento.</p>
<p>Dois tipos de marcadores podem ser usados: **placeholders indexados ** e <strong>placeholders nomeados</strong>:</p>
<table>
<thead>
<tr><th>-</th><th>Marcadores de posição indexados</th><th>Placeholders nomeados</th></tr>
</thead>
<tbody>
<tr><td>Definição</td><td>Os parâmetros são inseridos como :paramIndex (por exemplo :1, :2...) em queryString e seus valores correspondentes são fornecidos pela sequência de parâmetros value. Pode usara até 128 parâmetros de valor</td><td>Os parâmetros são inseridos como: paramName (por exemplo :myparam) e seus valores se proporcionam nos atributos ou objetos de parâmetros no parámetro querySettings</td></tr>
<tr><td>Exemplo</td><td>$r:=class.query(&quot;:1=:2&quot;;&quot;city&quot;;&quot;Chicago&quot;)</td><td>$o.attributes:=New object(&quot;att&quot;;&quot;city&quot;)<br> $o.parameters:=New object(&quot;name&quot;;&quot;Chicago&quot;)<br> $r:=class.query(&quot;:att=:name&quot;;$o)</td></tr>
</tbody>
</table>
<p>Pode misturar os tipos de argumentos em <em>queryString</em>. Um <em>queryString</em> pode conter, para os parâmetros <em>attributePath</em>, <em>formula</em> e <em>value</em> :</p>
<ul>
<li>valores diretos (sem marcadores),</li>
<li>marcadores indexados ou com nome.</li>
</ul>
<p><strong>É recomendado usar marcadores de posição ou placeholders nas consultas</strong> pelas razões abaixo:</p>
<ol>
<li><p>Evita a inserção de código malicioso: se user diretamente variáveis preenchidas com uma string de pesquisa, um usuário poderia modificar as condições de pesquisa entrando argumentos adicionais. Por exemplo, imagine uma string de pesquisa como:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$vquery</span>:=<span class="hljs-string">"status = 'public' &amp; name = "</span>+myname <span class="hljs-comment">//o usuário introduz seu nome</span>
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$col</span>.<span class="hljs-function">query</span>(<span class="hljs-variable">$vquery</span>)
</code></pre>
<p>Esta pesquisa parece segura já que se filtram os dados não públicos. Entretanto, se o usuário introduzr na área <em>myname</em> algo como <em>&quot;smith OR status='private'</em>, a string de pesquisa se modificaría na etapa da interpretação e poderia devolver dados privados.</p>
<p>Quando usar marcadores de posição, não é possível anular as condições de segurança:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$col</span>.<span class="hljs-function">query</span>(<span class="hljs-string">"status='public' &amp; name=:1"</span>;myname)
</code></pre>
<p>Neste caso, se o usuário introduz <em>smith OR status='private'</em> na área <em>myname</em>, não se interpretará na string de pesquisa, só será passada como um valor. Procurando por  &quot;smith OR status = 'private' vai falhar</p></li>
<li><p>Evita ter que se preocupar por questões de formato ou caracteres, especialmente quando se manejam os parâmetros <em>attributePath</em> o <em>value</em> que podem conter não alfanuméricos como &quot;.&quot;, &quot;['...</p></li>
<li><p>Permite o uso de variáveis ou expressões nos argumentos de pesquisa. Exemplos:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$result</span>:=<span class="hljs-variable">$col</span>.<span class="hljs-function">query</span>(<span class="hljs-string">"address.city = :1 &amp; name =:2"</span>;<span class="hljs-variable">$city</span>;<span class="hljs-variable">$myVar</span>+<span class="hljs-string">"@"</span>)
<span class="hljs-variable">$result2</span>:=<span class="hljs-variable">$col</span>.<span class="hljs-function">query</span>(<span class="hljs-string">"company.name = :1"</span>;<span class="hljs-string">"John's Pizzas"</span>)
</code></pre></li>
</ol>
<p><strong>Pesquisa de valores null</strong></p>
<p>Quando pesquisar por valores null não pode usar a sintaxe de placeholder porque o motor de pesquisa vai consider null como um valor de comparação inesperado. Por exemplo se executar esta pesquisa:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$vSingles</span>:=ds.Person.<span class="hljs-function">query</span>(<span class="hljs-string">"spouse = :1"</span>;<span class="hljs-literal">Null</span>) <span class="hljs-comment">// não vai funcionar</span>
</code></pre>
<p>Você não vai conseguir o resultado esperado porque o valor null será avaliado por 4D como um erro resultante da avaliação de parâmetro (por exemplo, um atributo de outra pesquisa) Para este tipo de pesquisa, deve usar a sintaxe de pesquisa direta:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$vSingles</span>:=ds.Person.<span class="hljs-function">query</span>(<span class="hljs-string">"spouse = null"</span>) <span class="hljs-comment">//sintaxe correta</span>
</code></pre>
<p><strong>Linkar os argumentos de pesquisa com os atributos de coleção</strong></p>
<p>Quando pesquisar em coleçõs dentro dos atributos dos objetos usando argumentos de pesquisa múltiplos unidos pelo operador AND, se quiser ter certeza que apenas entidades contendo elementos que correspondam a todos os argumentos são retornados, e não entidades cujos argumentos podem ser encontrados em elementos diferentes. Para fazer isso, é necessário vincular os argumentos de pesquisa para elementos de coleção, para que apenas elementos únicos contendo argumentos linkados são encontrados.</p>
<p>Por exemplo, com as duas entidades abaixo:</p>
<pre><code class="hljs">Entity <span class="hljs-number">1</span>:
ds<span class="hljs-selector-class">.People</span><span class="hljs-selector-class">.name</span>: <span class="hljs-string">"martin"</span>
ds<span class="hljs-selector-class">.People</span><span class="hljs-selector-class">.places</span>: 
    { <span class="hljs-string">"locations"</span> : [ {
                <span class="hljs-string">"kind"</span>:<span class="hljs-string">"home"</span>,
                <span class="hljs-string">"city"</span>:<span class="hljs-string">"paris"</span> 
            } ] }

Entity <span class="hljs-number">2</span>:
ds<span class="hljs-selector-class">.People</span><span class="hljs-selector-class">.name</span>: <span class="hljs-string">"smith"</span>
ds<span class="hljs-selector-class">.People</span><span class="hljs-selector-class">.places</span>: 
    { <span class="hljs-string">"locations"</span> : [ {
                <span class="hljs-string">"kind"</span>:<span class="hljs-string">"home"</span>,
                <span class="hljs-string">"city"</span>:<span class="hljs-string">"lyon"</span> 
            } , {
                <span class="hljs-string">"kind"</span>:<span class="hljs-string">"office"</span>,
                <span class="hljs-string">"city"</span>:<span class="hljs-string">"paris"</span> 
            } ] }
</code></pre>
<p>Se quiser encontrar pessoas com um tipo de local &quot;home&quot; na cidade &quot;paris&quot;. Se escrever</p>
<pre><code class="hljs css language-4d">ds.People.<span class="hljs-function">query</span>(<span class="hljs-string">"places.locations[].kind= :1 and places.locations[].city= :2"</span>;<span class="hljs-string">"home"</span>;<span class="hljs-string">"paris"</span>)
</code></pre>
<p>... a pesquisa devolverá &quot;martin&quot; <strong>e</strong> &quot;smith&quot; porque &quot;smith&quot; tem um elemento &quot;locations&quot; cujo &quot;tipo&quot; é &quot;home&quot; e um elemento &quot;locations&quot; cuja &quot;cidade&quot; é &quot;paris&quot;, mesmo que sejam elementos diferentes.</p>
<p>Se quiser obter apenas entidades onde os argumentos correspondentes estão no mesmo elemento coleção, precisa  <strong>linkar os argumentos</strong>. Para linkar argumentos de pesquisa:</p>
<ul>
<li>Adicionar uma letra entre os [] na primeira rota a linkar e repita a mesma letra em todos os argumentos linkados. Por exemplo: <code>locations[a].city and locations[a].kind</code>. Pode usar qualquer letra do alfabeto latino (não diferencia maiúsculas e minúsculas).</li>
<li>Para adicionar critérios linkados na mesma pesquisa, use outra letra. Pode criar até 26 combinações de critérios em uma única pesquisa.</li>
</ul>
<p>Com as entidades acima, se escreve:</p>
<pre><code class="hljs css language-4d">ds.People.<span class="hljs-function">query</span>(<span class="hljs-string">"places.locations[a].kind= :1 and places.locations[a].city= :2"</span>;<span class="hljs-string">"home"</span>;<span class="hljs-string">"paris"</span>)
</code></pre>
<p>... pesquisa só devolverá &quot;martin&quot; porque tem um elemento &quot;locations&quot; cujo &quot;kind&quot; é &quot;home&quot; e cujo &quot;city&quot; for &quot;paris&quot;. A pesquisa não devolverá 'smith' porque os valores 'home' e 'paris' não estão no mesmo elemento de coleção.</p>
<p><strong>parâmetro de fórmula</strong></p>
<p>Como alternativa à inserção de fórmulas dentro do parâmetro <em>queryString</em> (ver acima), pode passar diretamente um objeto fórmula como critério de pesquisa booleano. A utilizaçã de um objeto fórmula para as pesquisas é <strong>recomendada</strong> já que se beneficia da tokenização, e o código é mais fácil de pesquisar/ler.</p>
<p>A fórmula deve ter sido criada com o comando <code>Formula</code> ou <code>Formula from string</code>. Nesse modo:</p>
<ul>
<li><em>fórmula</em> se avalia para cada entidade e deve devolver true ou false. Durante a execução da pesquisa, se o resultado da fórmula não for booleano, é considerado como False.</li>
<li>dentro da <em>fórmula</em>, a entidade está disponível através do objeto <code>This</code>.</li>
<li>Se o objeto <code>Formula</code> for <strong>null</strong>, o errro 1626 (&quot;Expecting a text or formula&quot;) é gerado, então pode interceptar a chamada com o método instalado <code>ON ERR CALL</code>.</li>
</ul>
<blockquote>
<p>Por razões de segurança, as chamadas a fórmulas dentro dos métodos membro<code>query()</code> podem ser desativadas. Veja a descrição do parâmetro <em>querySettings</em>.</p>
</blockquote>
<p><strong>Passar parâmetros a fórmulas</strong></p>
<p>Todo parâmetro <em>formula</em> chamado pela função <code>query()</code> pode receber parâmetros:</p>
<ul>
<li>Parâmeters devem ser passados através da propriedade  <strong>args</strong>  (objeto) do parâmetro <em>querySettings</em>.</li>
<li>A fórmula recebe este objeto <strong>args</strong> como um parâmetro <strong>$1</strong>.</li>
</ul>
<p>Este pequeno código mostra os principios de como são passados os parâmetros aos métodos:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$settings</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"args"</span>;<span class="hljs-function">New object</span>(<span class="hljs-string">"exclude"</span>;<span class="hljs-string">"-"</span>)) <span class="hljs-comment">//objeto args a passar os parâmetros</span>
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">"eval(checkName($1.exclude))"</span>;<span class="hljs-variable">$settings</span>) <span class="hljs-comment">//args se recebe em $1</span>
</code></pre>
<p>No exemplo 3 são oferecidos mais exemplos.</p>
<p><strong>4D Server</strong>: em cliente/servidor, as fórmulas são executadas no servidor. Neste contexto, só se envia às fórmulas o objeto <code>querySettings.args</code>.</p>
<p><strong>parâmetro querySettings</strong></p>
<p>No  parâmetro <em>querySettings</em> é possível passar um objeto que conteha opções adicionais. As propriedades abaixo são compatíveis:</p>
<table>
<thead>
<tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th></tr>
</thead>
<tbody>
<tr><td>parameters</td><td>Objeto</td><td><strong>Marcadores nomeados para os valores</strong> utilizados em <em>queryString</em> ou <em>fórmula</em>. Os valores se expressam como pares propriedade / valor, onde propriedade é o nome do marcador de posição inserido para um valor em <em>queryString</em> ou <em>formula</em> (&quot;:placeholder&quot;) e valor é o valor a comparar. Pode combinar marcadores de posição indexados (valores passados diretamente em parâmetros de valor) e valores de marcadores de posição com nome na mesma pesquisa.</td></tr>
<tr><td>attributes</td><td>Objeto</td><td><strong>Marcadores nomeados para as rotas de atributos</strong> utilizados en <em>queryString</em> ou <em>formula</em>. Os atributos se expressam como pares propriedade/ valor, onde propriedade é o nome do marcador de posição inserido para uma rota de atributo em <em>queryString</em> ou <em>formula</em> (&quot;:placeholder&quot;) e valor pode ser uma string ou uma coleção de strings. Cada valor e uma rota que pode designar um escalar ou um atributo relacionado da dataclass ou uma propriedade num campo de objeto da dataclass<p><table><tr><th>Tipo</th><th>Descrição</th></tr><tr><td>String</td><td>attributePath expressado com a notação de pontos, por exemplo: &quot;name&quot; ou &quot;user.address.zipCode&quot;</td></tr><tr><td>Coleção de strings</td><td>Cada string da coleção representa um nível de attributePath, por exemplo: [&quot;name&quot;] ou [&quot;user&quot;,&quot;address&quot;,&quot;zipCode&quot;]. Usar uma coleção permite pesquisar atributos com nomes que não se ajustem à notação de pontos, por exemplo [&quot;4Dv17.1&quot;,&quot;en/fr&quot;]</td></tr></table>Pode combinar marcadores de posição indexados (valores passados diretamente nos parâmetros <em>value</em>) e os valores de marcadores de posição com nome na mesma pesquisa.</td></tr>
<tr><td>args</td><td>Objeto</td><td>Parámetro(s) a passar para as fórmulas, se houver. O objeto <strong>args</strong> será recebido em $1 dentro das fórmulas e, portanto, seus valores estarão disponíveis através de <em>$1.property</em> (ver exemplo 3).</td></tr>
<tr><td>allowFormulas</td><td>Booleano</td><td>True para permitir as chamadas de fórmulas na pesquisa (padrão). Passe falso para desautorizar a execução de fórmulas. Se for estabelecido como false y <code>query()</code> receber uma fórmula, se envia um erro (1278 - Fórmula não permitida neste método membro).</td></tr>
<tr><td>context</td><td>Texto</td><td>Etiqueta para o contexto de otimização automático aplicados à seleção de entidade. Este contexto será utilizado pelo código que maneja a seleção de entidades para que possa se beneficiar da otimização. Esta função está projetada para o processamento cliente/servidor; para saber mais, consulte <strong>Otimização cliente/servidor</strong>.</td></tr>
<tr><td>queryPlan</td><td>Booleano</td><td>Na entity selection resultante, devolve ou não a descrição detalhada da pesquisa logo antes de ser executada, ou seja, a pesquisa planificada. A propriedade devolvida é um objeto que inclui cada pesquisa e subpesquisa prevista (no caso de uma pesquisa complexa). Esta opção é útil durante a fase de desenvolvimento de uma aplicação. Geralmente é usada em conjunto com queryPath. Como padrão é omitido: false. <strong>Nota</strong>: esta propriedade só são compatíveis com as funções<code>entitySelection.query( )</code> e <code>dataClass.query( )</code>.</td></tr>
<tr><td>queryPath</td><td>Booleano</td><td>Na entity selection resultante, devolve ou não a descrição detalhada da pesquisa tal qual for realizada. A propriedade retornada é um objeto que contém a rota atual usada para a pesquisa (geralmente idêntica àquela do queryPlan, mas deve diferenciar se o motor consegue otimizar a pesquisa), assim como o tempo de processamento e o número de registros encontrado. Esta opção é útil durante a fase de desenvolvimento de uma aplicação. Como padrão é omitido: false. <strong>Nota</strong>: esta propriedade só são compatíveis com as funções<code>entitySelection.query( )</code> e <code>dataClass.query( )</code>.</td></tr>
</tbody>
</table>
<p><strong>Sobre queryPlan e queryPath</strong></p>
<p>A informação registrada em <code>queryPlan</code>/<code>queryPath</code> inclui o tipo de pesquisa (indexada e sequencial) e cada subconsulta necessária junto com os operadores de conjunção. As rotas de acesso das petições também contém o número de entidades encontradas e o tempo necessário para executar cada critério de pesquisa. Pode achar útil analisar esta informação enquanto desenvolver suas aplicações. Geralmente a descrição do plano de pesquisa e sua rota são idênticas mas podem ser diferentes porque 4D pode implementar otimizações dinâmicas quando uma pesquisa for executada para melhorar a performance. Por exemplo, o motor 4D pode converter dinamicamente uma consulta indexada em uma consulta sequencial se estimar que seja mais rápido. Esse caso particular pode acontecer quando o número de entidades sendo pesquisada é baixo.</p>
<p>Por exemplo se executar esta pesquisa:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$sel</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &lt; :1 and employer.name = :2 or employer.revenues &gt; :3"</span>;\  
 <span class="hljs-number">50000</span>;<span class="hljs-string">"Lima West Kilo"</span>;<span class="hljs-number">10000000</span>;<span class="hljs-function">New object</span>(<span class="hljs-string">"queryPath"</span>;<span class="hljs-literal">True</span>;<span class="hljs-string">"queryPlan"</span>;<span class="hljs-literal">True</span>))
</code></pre>
<p>queryPlan:</p>
<pre><code class="hljs css language-4d">{Or:[{And:[{item:[index : Employee.salary ] &lt; <span class="hljs-number">50000</span>},  
    {item:Join on Table : Company  :  Employee.employerID = Company.ID,  
    subquery:[{item:[index : Company.name ] = Lima West Kilo}]}]},  
    {item:Join on Table : Company  :  Employee.employerID = Company.ID,  
    subquery:[{item:[index : Company.revenues ] &gt; <span class="hljs-number">10000000</span>}]}]}
</code></pre>
<p>queryPath:</p>
<pre><code class="hljs css language-4d">{steps:[{description:OR,time:<span class="hljs-number">63</span>,recordsfounds:<span class="hljs-number">1388132</span>,  
    steps:[{description:AND,time:<span class="hljs-number">32</span>,recordsfounds:<span class="hljs-number">131</span>,  
    steps:[{description:[index : Employee.salary ] &lt; <span class="hljs-number">50000</span>,time:<span class="hljs-number">16</span>,recordsfounds:<span class="hljs-number">728260</span>},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:<span class="hljs-number">0</span>,recordsfounds:<span class="hljs-number">131</span>,  
    steps:[{steps:[{description:[index : Company.name ] = Lima West Kilo,time:<span class="hljs-number">0</span>,recordsfounds:<span class="hljs-number">1</span>}]}]}]},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:<span class="hljs-number">31</span>,recordsfounds:<span class="hljs-number">1388132</span>,  
    steps:[{steps:[{description:[index : Company.revenues ] &gt; <span class="hljs-number">10000000</span>,time:<span class="hljs-number">0</span>,recordsfounds:<span class="hljs-number">933</span>}]}]}]}]}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-1-4"></a><a href="#exemplo-1-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 1</h4>
<p>Esta seção oferece vários exemplos de pesquisas.</p>
<p>Consultas em uma string:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Customer.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName = 'S@'"</span>)
</code></pre>
<p>Pesquisa com uma instrução NOT:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"not(firstName=Kim)"</span>)
</code></pre>
<p>Pesquisas com datas:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"birthDate &gt; :1"</span>;<span class="hljs-string">"1970-01-01"</span>)
<span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"birthDate &lt;= :1"</span>;Current date<span class="hljs-number">-10950</span>)
</code></pre>
<p>Pesquisa com marcadores de posição indexados para os valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Customer.<span class="hljs-function">query</span>(<span class="hljs-string">"(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)"</span>;<span class="hljs-string">"D@"</span>;<span class="hljs-string">"R@"</span>;<span class="hljs-string">"S@"</span>;<span class="hljs-string">"K@"</span>)
</code></pre>
<p>Pesquisa com marcadores de posição indexados para valores em u ma dataclass relacionada:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1 and manager.lastName = :2"</span>;<span class="hljs-string">"M@"</span>;<span class="hljs-string">"S@"</span>)
</code></pre>
<p>Pesquisa com marcador de posição indexado que inclui uma instrução de ordem descendente:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Student.<span class="hljs-function">query</span>(<span class="hljs-string">"nationality = :1 order by campus.name desc, lastname"</span>;<span class="hljs-string">"French"</span>)
</code></pre>
<p>Pesquisa com marcadores de posição com nome para os valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$querySettings </span>: Object<span class="hljs-keyword">
var</span> <span class="hljs-variable">$managedCustomers </span>: cs.CustomerSelection
<span class="hljs-variable">$querySettings</span>:=New object
<span class="hljs-variable">$querySettings</span>.parameters:=<span class="hljs-function">New object</span>(<span class="hljs-string">"userId"</span>;<span class="hljs-number">1234</span>;<span class="hljs-string">"extraInfo"</span>;<span class="hljs-function">New object</span>(<span class="hljs-string">"name"</span>;<span class="hljs-string">"Smith"</span>))
<span class="hljs-variable">$managedCustomers</span>:=ds.Customer.<span class="hljs-function">query</span>(<span class="hljs-string">"salesperson.userId = :userId and name = :extraInfo.name"</span>;<span class="hljs-variable">$querySettings</span>)
</code></pre>
<p>Pesquisa que usa marcadores de posição nomeados e indexados para valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$querySettings </span>: Object<span class="hljs-keyword">
var</span> <span class="hljs-variable">$managedCustomers </span>: cs.CustomerSelection
<span class="hljs-variable">$querySettings</span>.parameters:=<span class="hljs-function">New object</span>(<span class="hljs-string">"userId"</span>;<span class="hljs-number">1234</span>)
<span class="hljs-variable">$managedCustomers</span>:=ds.Customer.<span class="hljs-function">query</span>(<span class="hljs-string">"salesperson.userId = :userId and name=:1"</span>;<span class="hljs-string">"Smith"</span>;<span class="hljs-variable">$querySettings</span>)
</code></pre>
<p>Pesquisa com objetos queryPlan e queryPath:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)"</span>;<span class="hljs-string">"D@"</span>;<span class="hljs-string">"R@"</span>;<span class="hljs-string">"S@"</span>;<span class="hljs-string">"K@"</span>;<span class="hljs-function">New object</span>(<span class="hljs-string">"queryPlan"</span>;<span class="hljs-literal">True</span>;<span class="hljs-string">"queryPath"</span>;<span class="hljs-literal">True</span>))

  <span class="hljs-comment">//Pode obter essas propriedades na seleção de entidade abaixo</span><span class="hljs-keyword">
var</span> <span class="hljs-variable">$queryPlan</span>; <span class="hljs-variable">$queryPath </span>: Object
<span class="hljs-variable">$queryPlan</span>:=<span class="hljs-variable">$entitySelection</span>.queryPlan
<span class="hljs-variable">$queryPath</span>:=<span class="hljs-variable">$entitySelection</span>.queryPath
</code></pre>
<p>Pesquisa com uma rota de atributo de tipo Collection:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"extraInfo.hobbies[].name = :1"</span>;<span class="hljs-string">"horsebackriding"</span>)
</code></pre>
<p>Pesquisa com uma rota de atributos de tipo Collection e atributos vinculados:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"extraInfo.hobbies[a].name = :1 and extraInfo.hobbies[a].level=:2"</span>;<span class="hljs-string">"horsebackriding"</span>;<span class="hljs-number">2</span>)
</code></pre>
<p>Pesquisa com uma rota de atributos de tipo Collection e múltiplos atributos vinculados:</p>
<pre><code class="hljs css language-4d">$entitySelection:=ds.Employee.query("extraInfo.hobbies[a].name = :1 and
    extraInfo.hobbies[a].level = :2 and extraInfo.hobbies[b].name = :3 and
    extraInfo.hobbies[b].level = :4";"horsebackriding";2;"Tennis";5)
</code></pre>
<p>Pesquisa com uma rota de atributo de tipo Objeto</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"extra.eyeColor = :1"</span>;<span class="hljs-string">"blue"</span>)
</code></pre>
<p>Pesquisa com uma instrução IN:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName in :1"</span>;<span class="hljs-function">New collection</span>(<span class="hljs-string">"Kim"</span>;<span class="hljs-string">"Dixie"</span>))
</code></pre>
<p>Pesquisa com instrução NOT (IN):</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"not (firstName in :1)"</span>;<span class="hljs-function">New collection</span>(<span class="hljs-string">"John"</span>;<span class="hljs-string">"Jane"</span>))
</code></pre>
<p>Pesquisa com marcadores de posição indexados para os atributos:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$es </span>: cs.EmployeeSelection
<span class="hljs-variable">$es</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">":1 = 1234 and :2 = 'Smith'"</span>;<span class="hljs-string">"salesperson.userId"</span>;<span class="hljs-string">"name"</span>)
  <span class="hljs-comment">//salesperson é uma entidade relacionada</span>
</code></pre>
<p>Pesquisa com marcadores de posição indexados para os atributos e marcadores de posição com nome para os valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$es </span>: cs.EmployeeSelection<span class="hljs-keyword">
var</span> <span class="hljs-variable">$querySettings </span>: Object
<span class="hljs-variable">$querySettings</span>:=New object
<span class="hljs-variable">$querySettings</span>.parameters:=<span class="hljs-function">New object</span>(<span class="hljs-string">"customerName"</span>;<span class="hljs-string">"Smith"</span>)
<span class="hljs-variable">$es</span>:=ds.Customer.<span class="hljs-function">query</span>(<span class="hljs-string">":1 = 1234 and :2 = :customerName"</span>;<span class="hljs-string">"salesperson.userId"</span>;<span class="hljs-string">"name"</span>;<span class="hljs-variable">$querySettings</span>)
  <span class="hljs-comment">//salesperson é uma entidade relacionada</span>
</code></pre>
<p>Pesquisa com marcadores de posição indexados para os atributos e os valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$es </span>: cs.EmployeeSelection
<span class="hljs-variable">$es</span>:=ds.Clients.<span class="hljs-function">query</span>(<span class="hljs-string">":1 = 1234 and :2 = :3"</span>;<span class="hljs-string">"salesperson.userId"</span>;<span class="hljs-string">"name"</span>;<span class="hljs-string">"Smith"</span>)
  <span class="hljs-comment">//salesperson é uma entidade relacionada</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-2-4"></a><a href="#exemplo-2-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 2</h4>
<p>Esta seção ilustra pesquisas com marcadores de posição com  nomes para os atributos.</p>
<p>Dada uma dataclass Employee com 2 entidades:</p>
<p>Entidade 1:</p>
<pre><code class="hljs css language-4d">name: <span class="hljs-string">"Marie"</span>
number: <span class="hljs-number">46</span>
softwares:{
<span class="hljs-string">"Word 10.2"</span>: <span class="hljs-string">"Installed"</span>,
<span class="hljs-string">"Excel 11.3"</span>: <span class="hljs-string">"To be upgraded"</span>,
<span class="hljs-string">"Powerpoint 12.4"</span>: <span class="hljs-string">"Not installed"</span>
}
</code></pre>
<p>Entidade 2:</p>
<pre><code class="hljs css language-4d">name: <span class="hljs-string">"Sophie"</span>
number: <span class="hljs-number">47</span>
softwares:{
<span class="hljs-string">"Word 10.2"</span>: <span class="hljs-string">"Not installed"</span>,
<span class="hljs-string">"Excel 11.3"</span>: <span class="hljs-string">"To be upgraded"</span>,
<span class="hljs-string">"Powerpoint 12.4"</span>: <span class="hljs-string">"Not installed"</span>
}
</code></pre>
<p>Pesquisa com marcadores de posição com nome para os atributos:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$querySettings </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$es </span>: cs.EmployeeSelection
 <span class="hljs-variable">$querySettings</span>:=New object
 <span class="hljs-variable">$querySettings</span>.attributes:=<span class="hljs-function">New object</span>(<span class="hljs-string">"attName"</span>;<span class="hljs-string">"name"</span>;<span class="hljs-string">"attWord"</span>;<span class="hljs-function">New collection</span>(<span class="hljs-string">"softwares"</span>;<span class="hljs-string">"Word 10.2"</span>))
 <span class="hljs-variable">$es</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">":attName = 'Marie' and :attWord = 'Installed'"</span>;<span class="hljs-variable">$querySettings</span>)
  <span class="hljs-comment">//$es.length=1 (Employee Marie)</span>
</code></pre>
<p>Pesquisa com marcadores de posição com nome para os atributos e os valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$querySettings </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$es </span>: cs.EmployeeSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$name </span>: Text
 <span class="hljs-variable">$querySettings</span>:=New object
  <span class="hljs-comment">//Placeholders para os valores</span>
  <span class="hljs-comment">//Se pede ao usuário um nome</span>
 <span class="hljs-variable">$name</span>:=<span class="hljs-function">Request</span>(<span class="hljs-string">"Por favor, introduza o nombre a buscar:"</span>)<span class="hljs-keyword">
 If</span>(OK=<span class="hljs-number">1</span>)
    <span class="hljs-variable">$querySettings</span>.parameters:=<span class="hljs-function">New object</span>(<span class="hljs-string">"givenName"</span>;<span class="hljs-variable">$name</span>)
  <span class="hljs-comment">//Placeholders para as rotas de atributos</span>
    <span class="hljs-variable">$querySettings</span>.attributes:=<span class="hljs-function">New object</span>(<span class="hljs-string">"attName"</span>;<span class="hljs-string">"name"</span>)
    <span class="hljs-variable">$es</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">":attName= :givenName"</span>;<span class="hljs-variable">$querySettings</span>)<span class="hljs-keyword">
 End if</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="exemplo-3-3"></a><a href="#exemplo-3-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemplo 3</h4>
<p>Estes exemplos ilustram as distintas formas de utilizar fórmulas com ou sem parâmetros em suas pesquisas.</p>
<p>A fórmula se da como texto com <code>eval()</code> no parâmetro <em>queryString</em>:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">"eval(length(This.lastname) &gt;=30) and nationality='French'"</span>)
</code></pre>
<p>A fórmula se dá como um objeto <code>Formula</code> através de um marcador de posição:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$formula </span>: Object
 <span class="hljs-variable">$formula</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">Length</span>(<span class="hljs-literal">This</span>.lastname)&gt;=<span class="hljs-number">30</span>)
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">":1 and nationality='French'"</span>;<span class="hljs-variable">$formula</span>)
</code></pre>
<p>Só se da como criterio um objeto <code>Formula</code>:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$formula </span>: Object
 <span class="hljs-variable">$formula</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">Length</span>(<span class="hljs-literal">This</span>.lastname)&gt;=<span class="hljs-number">30</span>)
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-variable">$formula</span>)
</code></pre>
<p>Podem ser aplicadas várias fórmulas:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$formula1</span>; <span class="hljs-variable">$1</span>; <span class="hljs-variable">$formula2 </span>;<span class="hljs-variable">$0 </span>: Object
 <span class="hljs-variable">$formula1</span>:=<span class="hljs-variable">$1</span>
 <span class="hljs-variable">$formula2</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">Length</span>(<span class="hljs-literal">This</span>.firstname)&gt;=<span class="hljs-number">30</span>)
 <span class="hljs-variable">$0</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">":1 and :2 and nationality='French'"</span>;<span class="hljs-variable">$formula1</span>;<span class="hljs-variable">$formula2</span>)
</code></pre>
<p>Uma fórmula texto em <em>queryString</em> recebe um parámetro:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$settings </span>: Object
 <span class="hljs-variable">$settings</span>:=<span class="hljs-function">New object</span>()
 <span class="hljs-variable">$settings</span>.args:=<span class="hljs-function">New object</span>(<span class="hljs-string">"filter"</span>;<span class="hljs-string">"-"</span>)
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">"eval(checkName($1.filter)) and nationality=:1"</span>;<span class="hljs-string">"French"</span>;<span class="hljs-variable">$settings</span>)
</code></pre>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">//checkName method</span>
 #<span class="hljs-function">DECLARE</span>(<span class="hljs-variable">$exclude </span>: Text) -&gt; <span class="hljs-variable">$result </span>: Boolean
 <span class="hljs-variable">$result</span>:=(<span class="hljs-function">Position</span>(<span class="hljs-variable">$exclude</span>;<span class="hljs-literal">This</span>.lastname)=<span class="hljs-number">0</span>)
</code></pre>
<p>Utilizando o mesmo método <strong><em>checkName</em></strong>, um objeto <code>Formula</code> como marcador de posição recebe um parámetro:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$settings</span>; <span class="hljs-variable">$formula </span>: Object
 <span class="hljs-variable">$formula</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">checkName</span>(<span class="hljs-variable">$1</span>.filter))
 <span class="hljs-variable">$settings</span>:=<span class="hljs-function">New object</span>()
 <span class="hljs-variable">$settings</span>.args:=<span class="hljs-function">New object</span>(<span class="hljs-string">"filter"</span>;<span class="hljs-string">"-"</span>)
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">":1 and nationality=:2"</span>;<span class="hljs-variable">$formula</span>;<span class="hljs-string">"French"</span>;<span class="hljs-variable">$settings</span>)
 <span class="hljs-variable">$settings</span>.args.filter:=<span class="hljs-string">"*"</span> <span class="hljs-comment">//mudar os parâmetros sem atualizar o objeto $formula</span>
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">":1 and nationality=:2"</span>;<span class="hljs-variable">$formula</span>;<span class="hljs-string">"French"</span>;<span class="hljs-variable">$settings</span>)
</code></pre>
<p>Queremos desautorizar as fórmulas, por exemplo, quando el usuario introduz sua consulta:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$settings </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$queryString </span>: Text
 <span class="hljs-variable">$queryString</span>:=<span class="hljs-function">Request</span>(<span class="hljs-string">"Enter your query:"</span>)
<span class="hljs-function"> if</span>(OK=<span class="hljs-number">1</span>)
    <span class="hljs-variable">$settings</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"allowFormulas"</span>;<span class="hljs-literal">False</span>)
    <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-variable">$queryString</span>;<span class="hljs-variable">$settings</span>) <span class="hljs-comment">//Se produz um erro se $queryString conter uma fórmula</span><span class="hljs-keyword">
 End if</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ver-também"></a><a href="#ver-também" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ver também</h4>
<p><a href="/docs/19/pt/API/EntitySelectionClass.html#query"><code>.query()</code></a> para seleções de entidades</p>
<style> h2 { background: #d9ebff;}</style>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/19/pt/API/CryptoKeyClass.html"><span class="arrow-prev">← </span><span class="function-name-prevnext">CryptoKey</span></a><a class="docs-next button" href="/docs/19/pt/API/DataClassAttributeClass.html"><span class="function-name-prevnext">DataClassAttribute</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#attributename">.<em>attributeName</em></a></li><li><a href="#all">.all()</a></li><li><a href="#fromcollection">.fromCollection()</a></li><li><a href="#get">.get()</a></li><li><a href="#getdatastore">.getDataStore()</a></li><li><a href="#getinfo">.getInfo()</a></li><li><a href="#new">.new()</a></li><li><a href="#newselection">.newSelection()</a></li><li><a href="#query">.query()</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/19/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2022 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license-0">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:pt","version:19"]}
              });
            </script></body></html>