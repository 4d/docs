<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper docs-doc-page docs-version-20 plugin-docs plugin-id-default docs-doc-id-API/EntitySelectionClass">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">EntitySelection | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://4d.github.io/docs/fr/API/EntitySelectionClass"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="20"><meta data-rh="true" name="docusaurus_tag" content="docs-default-20"><meta data-rh="true" name="docsearch:version" content="20"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-20"><meta data-rh="true" property="og:title" content="EntitySelection | 4D Docs"><meta data-rh="true" name="description" content="Une entity selection est un objet contenant une ou plusieurs référence(s) à des entités appartenant à la même Dataclass. Une entity selection peut contenir 0, 1 ou X entités de la dataclass - où X peut représenter le nombre total d&#x27;entités contenues dans la dataclass."><meta data-rh="true" property="og:description" content="Une entity selection est un objet contenant une ou plusieurs référence(s) à des entités appartenant à la même Dataclass. Une entity selection peut contenir 0, 1 ou X entités de la dataclass - où X peut représenter le nombre total d&#x27;entités contenues dans la dataclass."><link data-rh="true" rel="icon" href="/docs/fr/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://4d.github.io/docs/fr/API/EntitySelectionClass"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/API/EntitySelectionClass" hreflang="en"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/fr/API/EntitySelectionClass" hreflang="fr"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/es/API/EntitySelectionClass" hreflang="es"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/ja/API/EntitySelectionClass" hreflang="ja"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/pt/API/EntitySelectionClass" hreflang="pt"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/API/EntitySelectionClass" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/fr/opensearch.xml"><link rel="stylesheet" href="/docs/fr/assets/css/styles.a14572c6.css">
<link rel="preload" href="/docs/fr/assets/js/runtime~main.ca3823ce.js" as="script">
<link rel="preload" href="/docs/fr/assets/js/main.ec15c521.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/fr/"><div class="navbar__logo"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/fr/GettingStarted/installation">v20 BETA</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/fr/API/EntitySelectionClass">v20 BETA</a></li><li><a class="dropdown__link" href="/docs/fr/19-R8/API/EntitySelectionClass">v19 R8</a></li><li><a class="dropdown__link" href="/docs/fr/19/API/EntitySelectionClass">v19</a></li><li><a class="dropdown__link" href="/docs/fr/18/GettingStarted/installation">v18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Français</a><ul class="dropdown__menu"><li><a href="/docs/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">Français</a></li><li><a href="/docs/es/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/docs/pt/API/EntitySelectionClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/docs/fr/"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/fr/category/getting-started">Prise en main</a><button aria-label="Toggle the collapsible sidebar category &#x27;Prise en main&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/fr/category/core-development">Développement</a><button aria-label="Toggle the collapsible sidebar category &#x27;Développement&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/Project/overview">Gestion des projets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Gestion des projets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/category/4d-language-concepts">Concepts du langage 4D</a><button aria-label="Toggle the collapsible sidebar category &#x27;Concepts du langage 4D&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/ORDA/overview">ORDA</a><button aria-label="Toggle the collapsible sidebar category &#x27;ORDA&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://doc.4d.com/4Dv20/4D/20/4D-Language-Reference.100-6237190.en.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Référence du langage 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/fr/category/class-API-reference">Class Functions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Class Functions&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/overview">About class functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/BlobClass">Blob</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/ClassClass">Classe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/CollectionClass">Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/CryptoKeyClass">CryptoKey</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/DataClassClass">DataClass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/DataClassAttributeClass">DataClassAttribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/DataStoreClass">DataStore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/EmailObjectClass">Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/EntityClass">Entity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/fr/API/EntitySelectionClass">EntitySelection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/FileClass">File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/FileHandleClass">FileHandle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/FolderClass">Folder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/FunctionClass">Function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/HTTPRequestClass">HTTPRequest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/IMAPTransporterClass">IMAPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/MailAttachmentClass">MailAttachment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/POP3TransporterClass">POP3Transporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/SessionClass">Session</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/SignalClass">Signal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/SMTPTransporterClass">SMTPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/SystemWorkerClass">SystemWorker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/WebServerClass">WebServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/WebSocketConnectionClass">WebSocketConnection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/WebSocketServerClass">WebSocketServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/ZipArchiveClass">ZIPArchive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/ZipFileClass">ZIPFile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/API/ZipFolderClass">ZIPFolder</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/code-editor/overview">Gestion du code</a><button aria-label="Toggle the collapsible sidebar category &#x27;Gestion du code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/fr/Tags/tags">Tags</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/Debugging/basics">Débogage</a><button aria-label="Toggle the collapsible sidebar category &#x27;Débogage&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/settings/overview">Settings</a><button aria-label="Toggle the collapsible sidebar category &#x27;Settings&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/Preferences/overview">Préférences</a><button aria-label="Toggle the collapsible sidebar category &#x27;Préférences&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/fr/category/administration">Administration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Administration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/fr/Extensions/overview">Extensions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Extensions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/fr/category/web-applications">Applications Web</a><button aria-label="Toggle the collapsible sidebar category &#x27;Applications Web&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/fr/category/desktop-applications">Applications Desktop</a><button aria-label="Toggle the collapsible sidebar category &#x27;Applications Desktop&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developer.4d.com/go-mobile/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Applications mobiles</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/fr/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/fr/category/core-development"><span itemprop="name">Développement</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/fr/category/class-API-reference"><span itemprop="name">Class Functions</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">EntitySelection</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v20 BETA</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>EntitySelection</h1></header><p>Une entity selection est un objet contenant une ou plusieurs référence(s) à des <a href="/docs/fr/ORDA/dsmapping#entity">entités</a> appartenant à la même <a href="/docs/fr/ORDA/dsmapping#dataclass">Dataclass</a>. Une entity selection peut contenir 0, 1 ou X entités de la dataclass - où X peut représenter le nombre total d&#x27;entités contenues dans la dataclass.</p><p>Les entity selections peuvent être créées à partir de sélections existantes à l&#x27;aide de diverses fonctions de la classe <a href="/docs/fr/API/DataClassClass"><code>DataClass</code></a> telles que <a href="/docs/fr/API/DataClassClass#all"><code>.all()</code></a> ou <a href="/docs/fr/API/DataClassClass#query"><code>.query()</code></a>, ou de la classe <code>EntityClass</code> elle-même, telles que <a href="#and"><code>.and()</code></a> ou <a href="#orderby"><code>orderBy()</code></a>. Vous pouvez également créer des entity selections vides à l&#x27;aide de la fonction <a href="/docs/fr/API/DataClassClass#newselection"><code>dataClass.newSelection()</code></a> ou de la commande <a href="#create-new-selection"><code>Create new selection</code></a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sommaire">Sommaire<a href="#sommaire" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#91index93"><strong><em>[<!-- -->index<!-- -->]</em></strong> : 4D.Entity</a> <!-- --> <!-- --> <!-- --> <!-- -->vous permet d&#x27;accéder aux entités de l&#x27;entity selection en utilisant la syntaxe standard de collection</td></tr><tr><td><a href="#attributename"><strong><em>.attributeName</em></strong> : Collection<br><strong><em>.attributeName</em></strong> : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->une &quot;projection&quot; des valeurs de l&#x27;attribut dans l&#x27;entity selection</td></tr><tr><td><a href="#add"><strong>.add</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.add</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->ajoute l&#x27;<em>entity</em> ou l&#x27;<em>entitySelection</em>spécifiée à l&#x27;entity selection d&#x27;origine et retourne l&#x27;entity selection modifiée</td></tr><tr><td><a href="#and"><strong>.and</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->combine l&#x27;entity selection avec le paramètre <em>entity</em> ou <em>entitySelection</em> à l&#x27;aide de l&#x27;opérateur logique ET</td></tr><tr><td><a href="#attributename"></a> <!-- --> <!-- --> <!-- --> </td></tr><tr><td><a href="#average"><strong>.average</strong>( <em>attributePath</em> : Text ) : Real</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne la moyenne arithmétique de toutes les valeurs non nulles de <em>attributePath</em> dans l&#x27;entity selection</td></tr><tr><td><a href="#contains"><strong>.contains</strong>( <em>entity</em> : 4D.Entity ) : Boolean</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne vrai si la référence d&#x27;entité appartient à l&#x27;entity selection</td></tr><tr><td><a href="#contains"><strong>.copy</strong>( { <em>option</em> : Integer } ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne une copie de l&#x27;entity selection d&#x27;origine</td></tr><tr><td><a href="#count"><strong>.count</strong>( <em>attributePath</em> : Text ) : Real</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne le nombre d&#x27;entités dans l&#x27;entity selection pour lesquelles la valeur de <em>attributePath</em> n&#x27;est pas null</td></tr><tr><td><a href="#distinct"><strong>.distinct</strong>( <em>attributePath</em> : Text { ; <em>options</em> : Integer } ) : Collection</a> <!-- --> <!-- --> <!-- --> <!-- -->renvoie une collection contenant uniquement les valeurs distinctes (différentes) de <em>attributePath</em> dans l&#x27;entity selection</td></tr><tr><td><a href="#distinctPaths"><strong>.distinctPaths</strong>( <em>attribute</em> : Text ) : Collection</a> <!-- --> <!-- --> <!-- --> <!-- -->returns a collection of distinct paths found in the indexed object <em>attribute</em> for the entity selection</td></tr><tr><td><a href="#drop"><strong>.drop</strong>( { <em>mode</em> : Integer } ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->supprime les entités appartenant à l&#x27;entity selection de la table liée à sa dataclass</td></tr><tr><td><a href="#extract"><strong>.extract</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>attributePath</em> { ; <em>targetPath</em> } { ; <em>...attributePathN</em> : Text ; <em>targetPathN</em> : Text } ) : Collection</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne une collection contenant les valeurs <em>attributePath</em> extraites de l&#x27;entity selection</td></tr><tr><td><a href="#first"><strong>.first()</strong> : 4D.Entity</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne une référence vers l&#x27;entité en première position dans l&#x27;entity selection</td></tr><tr><td><a href="#getdataclass"><strong>.getDataClass()</strong> : 4D.DataClass</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne la dataclass de l&#x27;entity selection</td></tr><tr><td><a href="#getremotecontextattributes"><strong>.getRemoteContextAttributes()</strong> : Text</a> <!-- --> <!-- --> <!-- --> <!-- -->renvoie des informations sur le contexte d&#x27;optimisation utilisé par l&#x27;entité</td></tr><tr><td><a href="#isalterable"><strong>.isAlterable()</strong> : Boolean</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne Vrai si l&#x27;entity selection est modifiable (altérable)</td></tr><tr><td><a href="#isordered"><strong>.isOrdered()</strong> : Boolean</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne Vrai si l&#x27;entity selection est triée</td></tr><tr><td><a href="#last"><strong>.last()</strong> : 4D.Entity</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne une référence vers l&#x27;entité en dernière position dans l&#x27;entity selection</td></tr><tr><td><a href="#length"><strong>.length</strong> : Integer</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne le nombre d&#x27;entités dans l&#x27;entity selection</td></tr><tr><td><a href="#max"><strong>.max</strong>( <em>attributePath</em> : Text ) : any</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne la plus haute valeur (ou valeur maximale) parmi toutes les valeurs de <em>attributePath</em> dans l&#x27;entity selection</td></tr><tr><td><a href="#min"><strong>.min</strong>( <em>attributePath</em> : Text ) : any</a> <!-- --> <!-- --> <!-- --> <!-- --> retourne la plus faible valeur (ou valeur minimale) parmi toutes les valeurs de attributePath dans l&#x27;entity selection</td></tr><tr><td><a href="#minus"><strong>.minus</strong>( <em>entity</em> : 4D.Entity { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D.EntitySelection { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->exclut de l&#x27;entity selection à laquelle elle est appliquée l&#x27;<em>entity</em> ou les entités de l&#x27;<em>entitySelection</em> et retourne l&#x27;entity selection résultante</td></tr><tr><td><a href="#or"><strong>.or</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->combine l&#x27;entity selection avec le paramètre <em>entity</em> ou <em>entitySelection</em> à l&#x27;aide de l&#x27;opérateur OU logique (non exclusif)</td></tr><tr><td><a href="#orderby"><strong>.orderBy</strong>( <em>pathString</em> : Text ) : 4D.EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->renvoie une nouvelle entity selection triée contenant toutes les entités de l&#x27;entity selection dans l&#x27;ordre spécifié par le paramètre <em>pathString</em> ou <em>pathObjects</em></td></tr><tr><td><a href="#orderbyformula"><strong>.orderByFormula</strong>( <em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->renvoie une nouvelle entity selection triée</td></tr><tr><td><a href="#query"><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->recherche les entités répondant aux critères de recherche spécifiés dans <em>queryString</em> ou <em>formula</em> et (optionnellement) dans <em>value</em>(s) parmi toutes les entités de l&#x27;entity selection</td></tr><tr><td><a href="#querypath"><strong>.queryPath</strong> : Text</a> <!-- --> <!-- --> <!-- --> <!-- -->contient une description détaillée de la requête telle qu&#x27;elle a été effectuée par 4D</td></tr><tr><td><a href="#queryplan"><strong>.queryPlan</strong> : Text</a> <!-- --> <!-- --> <!-- --> <!-- --> contient une description détaillée de la requête juste avant son exécution (c&#x27;est-à-dire, la requête planifiée)</td></tr><tr><td><a href="#refresh"><strong>.refresh()</strong></a> <!-- --> <!-- --> <!-- --> <!-- -->&quot;invalide&quot; immédiatement les données de l&#x27;entity selection dans le cache local d&#x27;ORDA</td></tr><tr><td><a href="#selected"><strong>.selected</strong>( <em>selectedEntities</em> : 4D.EntitySelection ) : Object</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne un objet décrivant la ou les position(s) de <em>selectedEntities</em> dans l&#x27;entity selection d&#x27;origine</td></tr><tr><td><a href="#slice"><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne une partie d&#x27;une entity selection dans une nouvelle entity selection</td></tr><tr><td><a href="#sum"><strong>.sum</strong>( <em>attributePath</em> : Text ) : Real</a> <!-- --> <!-- --> <!-- --> <!-- -->renvoie la somme de toutes les valeurs de <em>attributePath</em> dans l&#x27;entity selection</td></tr><tr><td><a href="#tocollection"><strong>.toCollection</strong>( { <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer } } ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterString</em> : Text {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterCol</em> : Collection {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em></a> <!-- --> <!-- --> <!-- --> <!-- -->crée et retourne une collection dans laquelle chaque élément est un objet contenant un ensemble de propriétés et de valeurs</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="create-entity-selection">Create entity selection<a href="#create-entity-selection" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p><strong>Create entity selection</strong> ( <em>dsTable</em> : Table { ; <em>settings</em> : Object } ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>dsTable</td><td>Table</td><td align="center">-&gt;</td><td>Table de la base 4D dont la sélection courante doit être utilisée pour construire l&#x27;entity selection</td></tr><tr><td>settings</td><td>Object</td><td align="center">-&gt;</td><td>Option de création : contexte</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Nouvelle entity selection liée à la dataclass de la table</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description">Description<a href="#description" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La commande <code>Create entity selection</code> construit et retourne une nouvelle entity selection <a href="/docs/fr/ORDA/entities#shareable-or-alterable-entity-selections">altérable</a> liée à la dataclass correspondant à la table <em>dsTable</em>, basée sur la sélection courante de cette table.</p><p>Si la sélection courante est triée, une entity selection <a href="/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection">triée</a> est créée (l&#x27;ordre de la sélection courante est conservé). Si la sélection courante n&#x27;est pas triée, une entity selection non-triée est créée.</p><p>Si la table <em>dsTable</em> n&#x27;est pas exposée dans <a href="/docs/fr/API/DataStoreClass#ds"><code>ds</code></a>, une erreur est retournée. Cette commande ne peut pas être utilisée avec un datastore distant.</p><p>Dans le paramètre optionnel <em>settings</em>, vous pouvez passer un objet contenant la propriété suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>Nom du <a href="/docs/fr/ORDA/entities#clientserver-optimization">contexte d&#x27;optimisation</a> appliqué à l&#x27;entity selection.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple">Exemple<a href="#exemple" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALL RECORDS([Employee])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employees:=Create entity selection([Employee]) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// L&#x27;entity selection $employees contient maintenant un ensemble de </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// références vers toutes les entités de la dataclass Employee</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="voir-également">Voir également<a href="#voir-également" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p><a href="/docs/fr/API/DataClassClass#newselection"><code>dataClass.newSelection()</code></a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-entity-selection">USE ENTITY SELECTION<a href="#use-entity-selection" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p><strong>USE ENTITY SELECTION</strong> (<em>entitySelection</em>)</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>entitySelection</td><td>EntitySelection</td><td align="center">-&gt;</td><td>Une entity selection</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-1">Description<a href="#description-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La commande <code>USE ENTITY SELECTION</code> met à jour la sélection courante de la table correspondant à la dataclass du paramètre <em>entitySelection</em>, en fonction du contenu de l&#x27;entity selection.</p><p>Cette commande ne peut pas être utilisée avec un <a href="/docs/fr/ORDA/datastores">datastore distant</a>.</p><blockquote><p>Après un appel à <code>USE ENTITY SELECTION</code>, le premier enregistrement de la sélection courante mise à jour (s&#x27;il n&#x27;est pas vide) devient l&#x27;enregistrement courant, mais il n&#x27;est pas chargé en mémoire. Si vous avez besoin d&#x27;utiliser les valeurs des champs de l&#x27;enregistrement courant, utilisez la commande <code>LOAD RECORD</code> après la commande <code>USE ENTITY SELECTION</code>.</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1">Exemple<a href="#exemple-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $entitySel : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$entitySel:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;M@&quot;) //$entitySel est associé à la dataclass Employee</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">REDUCE SELECTION([Employee];0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USE ENTITY SELECTION($entitySel) //La sélection courante de la table Employee est mise à jour</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="index">[<em>index</em>]<a href="#index" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong><em>[<!-- -->index<!-- -->]</em></strong> : 4D.Entity</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-2">Description<a href="#description-2" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La notation <code>EntitySelection[index]</code> vous permet d&#x27;accéder aux entités de l&#x27;entity selection en utilisant la syntaxe standard de collection: il vous suffit de passer la position de l&#x27;entité à laquelle vous souhaitez accéder dans le paramètre <em>index</em>.</p><p>A noter que l&#x27;entité correspondante est rechargée depuis le datastore.</p><p><em>index</em> peut être tout nombre compris entre 0 et <code>.length</code>-1.</p><ul><li>Si <em>index</em> est en-dehors de ces limites, une erreur est retournée.</li><li>Si <em>index</em> correspond à une entité supprimée, une valeur Null est retournée.</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p><code>EntitySelection[index]</code> est une expression non assignable, ce qui signifie qu&#x27;elle ne peut pas être utilisée comme référence modifiable de l&#x27;entité avec des fonctions telles que <a href="/docs/fr/API/EntityClass#lock"><code>.lock()</code></a> ou <a href="/docs/fr/API/EntityClass#save"><code>.save()</code></a>. Pour travailler avec l&#x27;entité correspondante, vous devez assigner l&#x27;expression retournée à une expression assignable, comme une variable. Exemples :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds.Employee.all() //creation de l&#x27;entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //code invalide:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$sel[0].lock() //ne fonctionnera PAS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel[0].lastName:=&quot;Smith&quot; //ne fonctionnera PAS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$sel[0].save() //ne fonctionnera PAS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //code valide :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=$sel[0]  //OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.lastName:=&quot;Smith&quot; //OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.save() //OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2">Exemple<a href="#exemple-2" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[2]  // La 3e entité de l&#x27;entity selection $employees est rechargée depuis le datastore</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="attributename">.<em>attributeName</em><a href="#attributename" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong><em>.attributeName</em></strong> : Collection<br><strong><em>.attributeName</em></strong> : 4D.EntitySelection</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-3">Description<a href="#description-3" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Tout attribut de dataclass peut être utilisé en tant que propriété d&#x27;une entity selection afin de retourner une &quot;projection&quot; des valeurs de l&#x27;attribut dans l&#x27;entity selection. Les valeurs projetées peuvent être une collection ou une nouvelle entity selection, selon le <a href="/docs/fr/API/DataClassAttributeClass#kind">kind</a> (<code>storage</code> ou <code>relation</code>) de l&#x27;attribut.</p><ul><li>Si le &quot;kind&quot; de <em>attributeName</em> est <code>storage</code> : <code>.attributeName</code> retourne une collection de valeurs du même type que <em>attributeName</em>.</li><li>Si le &quot;kind&quot; de <em>attributeName</em> est <code>relatedEntity</code> : <code>.attributeName</code> retourne une nouvelle entity selection de valeurs liées du même type que <em>attributeName</em>. Les doublons sont supprimés (une entity selection non ordonnée est retournée).</li><li>Si le &quot;kind&quot; de <em>attributeName</em> est <code>relatedEntities</code> : <code>.attributeName</code> retourne une nouvelle entity selection de valeurs liées du même type que <em>attributeName</em>. Les doublons sont supprimés (une entity selection non ordonnée est retournée).</li></ul><p>Lorsqu&#x27;un attribut relationnel est utilisé comme propriété d&#x27;une entity selection, le résultat est toujours une autre entity selection, même si une seule entité est retournée. Dans ce cas, si aucune entité n&#x27;est renvoyée, le résultat est une sélection d&#x27;entités vide.</p><p>Si l&#x27;attribut n&#x27;existe pas dans l&#x27;entity selection, une erreur est retournée.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-1">Exemple 1<a href="#exemple-1-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Projection de valeurs de stockage :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $firstNames : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySelection:=ds.Employee.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $firstNames:=$entitySelection.firstName // firstName est un texte</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Le résultat est une collection de chaînes, par exemple :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Joanna&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Alexandra&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Rick&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-1">Exemple 2<a href="#exemple-2-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Projection d&#x27;entité liée :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es; $entitySelection : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySelection:=ds.Employee.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=$entitySelection.employer // employer est lié à la dataclass Company</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>L&#x27;objet résultant est une entity selection de la dataclass Company sans doublons (s&#x27;il y en a).</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-3">Exemple 3<a href="#exemple-3" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Projection d&#x27;entités liées :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Employee.all().directReports // directReports est récursif et lié à la dataclass Employee</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>L&#x27;objet résultant est une entity selection de la dataclass Employee sans doublons (s&#x27;il y en a).</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="add">.add()<a href="#add" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R7</td><td>Prise en charge du paramètre <em>entitySelection</em></td></tr><tr><td>v18 R5</td><td>Supporte uniquement les entity selections altérables</td></tr><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.add</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.add</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>entity</td><td>4D.Entity</td><td align="center">-&gt;</td><td>Entité à ajouter à l&#x27;entity selection</td></tr><tr><td>entitySelection</td><td>4D.EntitySelection</td><td align="center">-&gt;</td><td>Entity selection à ajouter à l&#x27;entity selection d&#x27;origine</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">-&gt;</td><td>Entity selection incluant l&#x27;<em>entity</em> ou <em>entitySelection</em>ajoutée</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-4">Description<a href="#description-4" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.add()</code> ajoute l&#x27;<em>entity</em> ou l&#x27;<em>entitySelection</em>spécifiée à l&#x27;entity selection d&#x27;origine et retourne l&#x27;entity selection modifiée.</p><blockquote><p>Cette fonction modifie l&#x27;entity selection d&#x27;origine.</p></blockquote><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>warning</div><div class="admonitionContent_S0QG"><p>L&#x27;entity selection doit être <em>altérable</em>, c&#x27;est-à-dire qu&#x27;elle a été créée par exemple par <a href="/docs/fr/API/DataClassClass#newselection"><code>.newSelection()</code></a> ou <code>Create entity selection</code>, sinon <code>.add()</code> retournera une erreur. Les entity selections partageables n&#x27;acceptent pas l&#x27;ajout d&#x27;entités. Pour plus d&#x27;informations, reportez-vous au paragraphe <a href="/docs/fr/ORDA/entities#shareable-or-alterable-entity-selections">Entity selections partageables ou altérables</a>.</p></div></div><p><strong>Ajouter une entité</strong></p><ul><li>Si l&#x27;entity selection est ordonnée, le paramètre <em>entity</em> est ajouté à la fin de la sélection. Si une référence à la même entité appartient déjà à l&#x27;entity selection, elle est dupliquée et une nouvelle référence est ajoutée.</li><li>Si l&#x27;entity selection est non ordonnée, le paramètre <em>entity</em> est ajouté n&#x27;importe où dans la sélection, sans ordre spécifique.</li></ul><p><strong>Ajouter une entity selection</strong></p><ul><li>Si l&#x27;entity selection est ordonnée, son ordre est conservé et <em>entitySelection</em> est ajoutée à la fin de la sélection. Si des références aux mêmes entités de <em>entitySelection</em> appartiennent déjà à l&#x27;entity selection, elles sont dupliquées et de nouvelles références sont ajoutées.</li><li>Si l&#x27;entity selection n&#x27;est pas ordonnée, elle devient ordonnée.<blockquote><p>Pour plus d&#x27;informations, reportez-vous au paragraphe <a href="/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection">Entity selections triées ou non triées</a>.</p></blockquote></li></ul><p>L&#x27;entity selection modifiée est retournée par la fonction, afin que les appels vers la fonction puissent être chaînés.</p><p>Une erreur est générée si <em>entity</em> et l&#x27;entity selection ne sont pas liées à la même dataclass. Si <em>entity</em> est Null, aucune erreur n&#x27;est générée.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-2">Exemple 1<a href="#exemple-1-2" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.newSelection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees.add($employee) //The $employee entity is added to the $employees entity selection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-2">Exemple 2<a href="#exemple-2-2" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Les appels vers la fonction peuvent être chaînés :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel : cs.ProductSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $p1;$p2;$p3 : cs.ProductEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $p1:=ds.Product.get(10)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $p2:=ds.Product.get(11)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $p3:=ds.Product.get(12)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds.Product.newSelection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=$sel.add($p1).add($p2).add($p3)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-3-1">Exemple 3<a href="#exemple-3-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Dans une interface utilisateur, nous avons deux listes. L&#x27;utilisateur sélectionne des éléments de list1 pour les ajouter dans list2.</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$sellist2:=$sellist2.add($sellist1)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="and">.and()<a href="#and" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.and</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>entity</td><td>4D.Entity</td><td align="center">-&gt;</td><td>Entité à intersecter</td></tr><tr><td>entitySelection</td><td>4D.EntitySelection</td><td align="center">-&gt;</td><td>Entity selection à intersecter</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Entity selection résultante de l&#x27;intersection à l&#x27;aide de l&#x27;opérateur logique ET</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-5">Description<a href="#description-5" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>and()</code> combine l&#x27;entity selection avec le paramètre <em>entity</em> ou <em>entitySelection</em> à l&#x27;aide de l&#x27;opérateur logique ET; elle retourne une nouvelle entity selection non ordonnée qui ne contient que les entités qui sont référencées à la fois dans l&#x27;entity selection et le paramètre.</p><ul><li>Si vous passez <em>entity</em> comme paramètre, vous combinez cette entité avec l&#x27;entity selection. Si l&#x27;entité appartient à l&#x27;entity selection, une nouvelle entity selection contenant uniquement l&#x27;entité est retournée. Sinon, une entity selection vide est retournée.</li><li>Si vous passez <em>entitySelection</em> comme paramètre, vous combinez les deux entity selections. Une nouvelle entity selection contenant uniquement les entités référencées dans les deux sélections est retournée. S&#x27;il n&#x27;y a pas d&#x27;intersection d&#x27;entité, une entity selection vide est retournée.<blockquote><p>Vous pouvez comparer des <a href="/docs/fr/ORDA/dsmapping#entity-selections-tri%C3%A9es-vs-entity-selections-non-tri%C3%A9es">entity selections ordonnées et/ou non ordonnées</a>. La sélection résultante est toujours non ordonnée.</p></blockquote></li></ul><p>Si l&#x27;entity selection initiale ou celle du paramètre <em>entitySelection</em> est vide, ou si <em>entity</em> est Null, une entity selection vide est retournée.</p><p>Si l&#x27;entity selection initiale et le paramètre ne sont pas liés à la même dataclass, une erreur est retournée.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-3">Exemple 1<a href="#exemple-1-3" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees; $result : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;)   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //l&#x27;entity selection $employees contient l&#x27;entité</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //ayant la clé primaire 710 et d&#x27;autres entités</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //par ex. &quot;Colin Hetrick&quot; / &quot;Grady Harness&quot; / &quot;Sherlock Holmes&quot; (clé primaire 710)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(710) // Retourne &quot;Sherlock Holmes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$employees.and($employee) //$result est une entity selection contenant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //uniquement l&#x27;entité avec la clé primaire 710 (&quot;Sherlock Holmes&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-3">Exemple 2<a href="#exemple-2-3" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Nous voulons obtenir une sélection d&#x27;employés nommés &quot;Jones&quot; qui vivent à New York :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel1; $sel2; $sel3 : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel1:=ds.Employee.query(&quot;name =:1&quot;;&quot;Jones&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel2:=ds.Employee.query(&quot;city=:1&quot;;&quot;New York&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel3:=$sel1.and($sel2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="at">.at()<a href="#at" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.at</strong>( <em>index</em> : Integer ) : 4D.Entity </p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>index</td><td>Integer</td><td align="center">-&gt;</td><td>Index of entity to return</td></tr><tr><td>Résultat</td><td>4D.Entity</td><td align="center">&lt;-</td><td>The entity at that index</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-6">Description<a href="#description-6" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>The <code>.at()</code> function returns the entity at position <em>index</em>, allowing for positive and negative integer.</p><p>If <em>index</em> is negative (from -1 to -n with n : length of the entity selection), the returned entity will be based on the reverse order of the entity selection.</p><p>The function returns Null if <em>index</em> is beyond entity selection limits.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-4">Exemple<a href="#exemple-4" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $emp1; $emp2 : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$emp1:=$employees.at(2)  //3rd entity of the $employees entity selection </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$emp2:=$employees.at(-3) //starting from the end, 3rd entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //of the $employees entity selection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="average">.average()<a href="#average" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18 R6</td><td>Retourne undefined si l&#x27;entity selection est vide</td></tr><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.average</strong>( <em>attributePath</em> : Text ) : Real</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Chemin de l&#x27;attribut à utiliser pour le calcul</td></tr><tr><td>Résultat</td><td>Real</td><td align="center">&lt;-</td><td>Moyenne arithmétique des valeurs des entités pour l&#x27;attribut (Undefined pour une entity selection vide)</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-7">Description<a href="#description-7" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.average()</code> retourne la moyenne arithmétique de toutes les valeurs non nulles de <em>attributePath</em> dans l&#x27;entity selection.</p><p>Passez dans le paramètre <em>attributePath</em> le chemin de l&#x27;attribut à utiliser pour le calcul.</p><p>Seules les valeurs numériques sont utilisées pour le calcul. Notez cependant que, lorsque le <em>attributePath</em> de l&#x27;entity selection contient des valeurs de types variés, <code>.average()</code> tient compte de tous les éléments contenant des valeurs scalaires pour calculer la moyenne.</p><blockquote><p>Les valeurs de type Date sont converties en valeurs numériques (secondes) et utilisées pour calculer la moyenne.</p></blockquote><p><code>.average()</code> retourne <strong>undefined</strong> si l&#x27;entity selection est vide ou si <em>attributePath</em> ne contient pas de valeurs numériques.</p><p>Une erreur est retournée si :</p><ul><li><em>attributePath</em> est un attribut relatif,</li><li><em>attributePath</em> désigne un attribut qui n&#x27;existe pas dans la dataclass de l&#x27;entity selection.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-5">Exemple<a href="#exemple-5" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Nous voulons obtenir la liste des employés dont le salaire est supérieur au salaire moyen :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $averageSalary : Real</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $moreThanAv : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $averageSalary:=ds.Employee.all().average(&quot;salary&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $moreThanAv:=ds.Employee.query(&quot;salary &gt; :1&quot;;$averageSalary)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="contains">.contains()<a href="#contains" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.contains</strong>( <em>entity</em> : 4D.Entity ) : Boolean</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>entity</td><td>4D.Entity</td><td align="center">-&gt;</td><td>Entité à évaluer</td></tr><tr><td>Résultat</td><td>Boolean</td><td align="center">&lt;-</td><td>Vrai si l&#x27;entité appartient à l&#x27;entity selection, sinon Faux</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-8">Description<a href="#description-8" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.contains()</code> retourne vrai si la référence d&#x27;entité appartient à l&#x27;entity selection, et faux sinon.</p><p>Dans <em>entity</em>, spécifiez l&#x27;entité à rechercher dans l&#x27;entity selection. Si l&#x27;entité est Null, la fonction retournera faux.</p><p>Si <em>entity</em> et l&#x27;entity selection n&#x27;appartiennent pas à la même dataclass, une erreur est générée.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-6">Exemple<a href="#exemple-6" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;H@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(610)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($employees.contains($employee))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;L&#x27;entité ayant la clé primaire 610 a un nom commençant par H&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;L&#x27;entité ayant la clé primaire 610 n&#x27;a pas un nom commençant par H&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="count">.count()<a href="#count" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.count</strong>( <em>attributePath</em> : Text ) : Real</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Chemin de l&#x27;attribut à utiliser pour le calcul</td></tr><tr><td>Résultat</td><td>Real</td><td align="center">&lt;-</td><td>Nombre de valeurs de <em>attributePath</em> non null dans l&#x27;entity selection</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-9">Description<a href="#description-9" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.count()</code> retourne le nombre d&#x27;entités dans l&#x27;entity selection pour lesquelles la valeur de <em>attributePath</em> n&#x27;est pas null.</p><blockquote><p>Seules les valeurs scalaires sont prises en compte. Les valeurs de type objet ou collection sont considérées comme des valeurs null.</p></blockquote><p>Une erreur est retournée si :</p><ul><li><em>attributePath</em> est un attribut relatif,</li><li><em>attributePath</em> n&#x27;est pas trouvé dans la dataclass de l&#x27;entity selection.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-7">Exemple<a href="#exemple-7" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Nous voulons trouver le nombre total d&#x27;employés d&#x27;une entreprise sans compter ceux dont l&#x27;intitulé du poste n&#x27;a pas été défini :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $count : Real</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds.Employee.query(&quot;employer = :1&quot;;&quot;Acme, Inc&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $count:=$sel.count(&quot;jobtitle&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="copy">.copy()<a href="#copy" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18 R5</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.copy</strong>( { <em>option</em> : Integer } ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>option</td><td>Integer</td><td align="center">-&gt;</td><td><code>ck shared</code> : retourne une entity selection partageable</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Copie de l&#x27;entity selection</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-10">Description<a href="#description-10" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.copy()</code> retourne une copie de l&#x27;entity selection d&#x27;origine.</p><blockquote><p>Cette fonction ne modifie pas l&#x27;entity selection d&#x27;origine.</p></blockquote><p>Par défaut, si le paramètre <em>option</em> est omis, la fonction retourne une nouvelle entity selection non partageable (même si la fonction est appliquée à une entity selection partageable). Passez la constante <code>ck shared</code> dans le paramètre <em>option</em> si vous souhaitez créer une entity selection partageable.</p><blockquote><p>Pour plus d&#x27;informations, reportez-vous au paragraphe <a href="/docs/fr/ORDA/entities#entity-selections-partageables-ou-modifiables">Entity selections partageables ou altérables</a>.</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-8">Exemple<a href="#exemple-8" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Vous créez une nouvelle entity selection de produits, vide lorsque le formulaire est chargé :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :(Form event code=On Load)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Form.products:=ds.Products.newSelection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Cette entity selection est ensuite mise à jour avec les produits et vous souhaitez partager les produits entre plusieurs process. Copiez l&#x27;entity selection Form.products comme sélection partageable:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // L&#x27;entity selection Form.products est mise à jour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Form.products.add(Form.selectedProduct)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Use(Storage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    If(Storage.products=Null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Storage.products:=New shared object()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    End if</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Use(Storage.products)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Storage.products:=Form.products.copy(ck shared)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    End use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End use</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="distinct">.distinct()<a href="#distinct" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20</td><td>Support of <code>dk count values</code></td></tr><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.distinct</strong>( <em>attributePath</em> : Text { ; <em>options</em> : Integer } ) : Collection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Chemin de l&#x27;attribut dont vous souhaitez obtenir les valeurs distinctes</td></tr><tr><td>options</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk diacritical</code>, <code>dk count values</code></td></tr><tr><td>Résultat</td><td>Collection</td><td align="center">&lt;-</td><td>Collection avec seulement les valeurs distinctes</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-11">Description<a href="#description-11" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.distinct()</code> renvoie une collection contenant uniquement les valeurs distinctes (différentes) de <em>attributePath</em> dans l&#x27;entity selection.</p><p>La collection retournée est automatiquement triée. Les valeurs <strong>Null</strong> ne sont pas renvoyées.</p><p>Dans le paramètre <em>attributePath</em> passez l&#x27;attribut d&#x27;entité dont vous voulez obtenir les valeurs distinctes. Seules les valeurs scalaires (texte, nombre, booléen ou date) peuvent être gérées. Si <em>attributePath</em> mène à une propriété d&#x27;objet qui contient des valeurs de différents types, celles-ci sont d&#x27;abord regroupées par type et triées ensuite. Les types sont renvoyés dans l&#x27;ordre suivant :</p><ol><li>booléens</li><li>chaînes</li><li>nombres</li><li>dates</li></ol><p>Vous pouvez utiliser la notation <code>[]</code> pour désigner une collection lorsque <em>attributePath</em> est un chemin dans un objet (cf. exemples).</p><p>In the <em>options</em> parameter, you can pass one or a combination of the following constants:</p><table><thead><tr><th>Constante</th><th>Value</th><th>Commentaire</th></tr></thead><tbody><tr><td><code>dk diacritical</code></td><td>8</td><td>Evaluation is case sensitive and differentiates accented characters. By default if omitted, a non-diacritical evaluation is performed</td></tr><tr><td><code>dk count values</code></td><td>32</td><td>Return the count of entities for every distinct value. When this option is passed, <code>.distinct()</code> returns a collection of objects containing a pair of <code>{&quot;value&quot;:*value*; &quot;count&quot;:*count*}</code> properties.</td></tr></tbody></table><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The <code>dk count values</code> option is only available with storage attributes of type boolean, string, number, and date.</p></div></div><p>Une erreur est retournée si :</p><ul><li><em>attributePath</em> est un attribut relatif,</li><li><em>attributePath</em> n&#x27;est pas trouvé dans la dataclass de l&#x27;entity selection.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemples">Exemples<a href="#exemples" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Vous souhaitez obtenir une collection contenant un seul élément par nom de pays :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $countries : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$countries:=ds.Employee.all().distinct(&quot;address.country&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$countries[0]={&quot;Argentina&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$countries[1]={&quot;Australia&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$countries[2]={&quot;Belgium&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">///...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>nicknames</code> est une collection et <code>extra</code> est un attribut d&#x27;objet :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$values:=ds.Employee.all().distinct(&quot;extra.nicknames[].first&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You want to get the number of different job names in the company:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $jobs : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$jobs:=ds.Employee.all().distinct(&quot;jobName&quot;;dk count values)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$jobs[0]={&quot;value&quot;:&quot;Developer&quot;;&quot;count&quot;:17}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$jobs[1]={&quot;value&quot;:&quot;Office manager&quot;;&quot;count&quot;:5}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$jobs[2]={&quot;value&quot;:&quot;Accountant&quot;;&quot;count&quot;:2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="distinctpaths">.distinctPaths()<a href="#distinctpaths" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.distinctPaths</strong>( <em>attribute</em> : Text ) : Collection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>attribute</td><td>Text</td><td align="center">-&gt;</td><td>Object attribute name whose paths you want to get</td></tr><tr><td>Résultat</td><td>Collection</td><td align="center">&lt;-</td><td>New collection with distinct paths</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-12">Description<a href="#description-12" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>The <code>.distinctPaths()</code> function returns a collection of distinct paths found in the indexed object <em>attribute</em> for the entity selection.</p><p>If <em>attribute</em> is not an indexed object attribute, an error is generated.</p><p>After the call, the size of the returned collection is equal to the number of distinct paths found in <em>attribute</em> for the entity selection. Paths are returned as strings including nested attributes and collections, for example &quot;info.address.number&quot; or &quot;children[].birthdate&quot;. Entities with a null value in the <em>attribute</em> are not taken into account.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-9">Exemple<a href="#exemple-9" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>You want to get all paths stored in a <em>fullData</em> object attribute:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $paths : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$paths:=ds.Employee.all().distinctPaths(&quot;fullData&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$paths[0]=&quot;age&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$paths[1]=&quot;Children&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$paths[2]=&quot;Children[].age&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$paths[3]=&quot;Children[].name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$paths[4]=&quot;Children.length&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">///...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p><em>length</em> is automatically added as path for nested collection properties.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="drop">.drop()<a href="#drop" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.drop</strong>( { <em>mode</em> : Integer } ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk stop dropping on first error</code> : stoppe l&#x27;exécution de la fonction au niveau de la première entité non-supprimable</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Entity selection vide si succès, sinon entity selection contenant la ou les entité(s) non supprimable(s)</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-13">Description<a href="#description-13" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.drop()</code> supprime les entités appartenant à l&#x27;entity selection de la table liée à sa dataclass. L&#x27;entity selection reste en mémoire.</p><blockquote><p>La suppression d&#x27;entités est permanente et ne peut pas être annulée. Il est recommandé d&#x27;appeler cette action dans une transaction afin d&#x27;avoir une possibilité de récupération.</p></blockquote><p>Si une entité verrouillée est rencontrée lors de l&#x27;exécution de <code>.drop()</code>, elle n&#x27;est pas supprimée. Par défaut, la fonction traite toutes les entités de l&#x27;entity selection et renvoie des entités non supprimables dans l&#x27;entity selection. Si vous souhaitez que la fonction arrête l&#x27;exécution au niveau de la première entité non supprimable rencontrée, passez la constante <code>dk stop dropping on first error</code> dans le paramètre <em>mode</em>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-10">Exemple<a href="#exemple-10" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Exemple sans l&#x27;option <code>dk stop dropping on first error</code> :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees; $notDropped : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;firstName=:1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $notDropped:=$employees.drop() // $notDropped est une entity selection contenant toutes les entités non supprimées</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($notDropped.length=0) ///La suppression est un succès, toutes les entités ont été supprimées</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Vous avez supprimé &quot;+String($employees.length)+&quot; employés&quot;) //L&#x27;entity selection supprimée reste en mémoire</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Problème durant la suppression, réessayez plus tard&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Exemple avec l&#x27;option <code>dk stop dropping on first error</code> :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees; $notDropped : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;firstName=:1&quot;;&quot;S@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $notDropped:=$employees.drop(dk stop dropping on first error) //$notDropped est une entity selection contenant la première entité non supprimée</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($notDropped.length=0) //La suppression est un succès, toutes les entités ont été supprimées</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Vous avez supprimé &quot;+String($employees.length)+&quot; employés&quot;) //L&#x27;entity selection supprimée reste en mémoire</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Problème durant la suppression, réessayez plus tard&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extract">.extract()<a href="#extract" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18 R3</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.extract</strong>( <em>attributePath</em> : Text { ; <em>option</em> : Integer } ) : Collection<br><strong>.extract</strong>( <em>attributePath</em> { ; <em>targetPath</em> } { ; <em>...attributePathN</em> : Text ; <em>targetPathN</em> : Text } ) : Collection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Chemin d&#x27;attribut dont les valeurs doivent être extraites dans la nouvelle collection</td></tr><tr><td>targetPath</td><td>Text</td><td align="center">-&gt;</td><td>Chemin ou nom d&#x27;attribut cible</td></tr><tr><td>option</td><td>Integer</td><td align="center">-&gt;</td><td><code>ck keep null</code> : inclure les attributs null dans la collection retournée (ignorés par défaut).</td></tr><tr><td>Résultat</td><td>Collection</td><td align="center">&lt;-</td><td>Collection contenant les valeurs extraites</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-14">Description<a href="#description-14" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.extract()</code> retourne une collection contenant les valeurs <em>attributePath</em> extraites de l&#x27;entity selection.</p><p><em>attributePath</em> peut désigner :</p><ul><li>un attribut scalaire de dataclass,</li><li>une entité liée,</li><li>des entités liées.</li></ul><p>Si <em>attributePath</em> est invalide, une collection vide est retournée.</p><p>Cette fonction accepte deux syntaxes.</p><p><strong>.extract( attributePath : Text { ; option : Integer } ) : Collection</strong></p><p>Avec cette syntaxe, <code>.extract()</code> remplit la collection retournée avec des valeurs de <em>attributePath</em> de l&#x27;entity selection.</p><p>Par défaut, les entités pour lesquelles <em>attributePath</em> est <em>null</em> ou indéfini sont ignorées dans la collection résultante. Vous pouvez passer la constante <code>ck keep null</code> dans le paramètre <em>option</em> pour intégrer ces valeurs comme des éléments <strong>null</strong> dans la collection retournée.</p><ul><li>Les attributs dataclass avec <a href="/docs/fr/API/DataClassAttributeClass#kind">.kind</a> = &quot;relatedEntity&quot; sont extraits sous forme de collection d&#x27;entités (les duplications sont conservées).</li><li>Les attributs dataclass avec <a href="/docs/fr/API/DataClassAttributeClass#kind">.kind</a> = &quot;relatedEntities&quot; sont extraits sous forme de collection d&#x27;entity selections.</li></ul><p><strong>.extract ( attributePath ; targetPath { ; ...attributePathN ; ... targetPathN}) : Collection</strong></p><p>Avec cette syntaxe, <code>.extract()</code> remplit la collection retournée avec les valeurs de <em>attributePath</em>. Chaque élément de la collection retournée est un objet avec les propriétés <em>targetPath</em> complétées par les propriétés <em>attributePath</em> correspondantes. Les valeurs null sont conservées (le paramètre <em>option</em> est ignoré avec cette syntaxe).</p><p>Si plusieurs <em>attributePath</em> sont renseignés, un <em>targetPath</em> doit être fourni pour chacun. Seules les paires <!-- -->[<em>attributePath</em>, <em>targetPath</em>] valides sont extraites.</p><ul><li>Les attributs dataclass avec <a href="/docs/fr/API/DataClassAttributeClass#kind">.kind</a> = &quot;relatedEntity&quot; sont extraits sous forme d&#x27;entity.</li><li>Les attributs dataclass avec <a href="/docs/fr/API/DataClassAttributeClass#kind">.kind</a> = &quot;relatedEntities&quot; sont extraits sous forme d&#x27;entity selection.</li></ul><blockquote><p>Les entités d&#x27;une collection d&#x27;entités auxquelles on accède par <!-- -->[<!-- --> ] ne sont pas rechargées depuis la base de données.</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-11">Exemple<a href="#exemple-11" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Considérons les tables et relations suivantes :</p><p><img loading="lazy" src="/docs/fr/assets/images/entityselection-193aba9798fd8faddac31ad66bc75f26.PNG" width="622" height="350" class="img_ev3q"></p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $firstnames; $addresses; $mailing; $teachers : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$firstnames est une collection de Chaînes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $firstnames:=ds.Teachers.all().extract(&quot;firstname&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$addresses est une collection d&#x27;entités liées à la dataclass Address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Les valeurs null d&#x27;Address sont extraites</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $addresses:=ds.Teachers.all().extract(&quot;address&quot;;ck keep null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$mailing est une collection d&#x27;objets avec les propriétés &quot;who&quot; et &quot;to&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Le contenu de la propriété &quot;who&quot; est de type Chaîne </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Le contenu de la propriété &quot;to&quot; est de type entity (dataclass Address)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $mailing:=ds.Teachers.all().extract(&quot;lastname&quot;;&quot;who&quot;;&quot;address&quot;;&quot;to&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$mailing est une collection d&#x27;objets avec les propriétés &quot;who&quot; et &quot;city&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Le contenu de la propriété &quot;who&quot; est de type Chaîne </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Le contenu de la propriété &quot;city&quot; est de type Chaîne </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $mailing:=ds.Teachers.all().extract(&quot;lastname&quot;;&quot;who&quot;;&quot;address.city&quot;;&quot;city&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$teachers est une collection d&#x27;objets avec les propriétés &quot;where&quot; et &quot;who&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Le contenu de la propriété &quot;where&quot; est de type Chaîne</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Le contenu de la propriété &quot;who&quot; est une entity selection (dataclass Teachers)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $teachers:=ds.Address.all().extract(&quot;city&quot;;&quot;where&quot;;&quot;teachers&quot;;&quot;who&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$teachers est une collection d&#x27;entity selections</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $teachers:=ds.Address.all().extract(&quot;teachers&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="first">.first()<a href="#first" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.first()</strong> : 4D.Entity</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>4D.Entity</td><td align="center">&lt;-</td><td>Référence vers la première entité de l&#x27;entity selection (Null si la selection est vide)</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-15">Description<a href="#description-15" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.first()</code> retourne une référence vers l&#x27;entité en première position dans l&#x27;entity selection.</p><p>Le résultat de cette fonction est similaire à :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=$entitySel[0]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Il existe cependant une différence entre les deux instructions lorsque la sélection est vide :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entitySel : cs.EmpSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs.EmpEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySel:=ds.Emp.query(&quot;lastName = :1&quot;;&quot;Nonexistentname&quot;) //aucune entité correspondante</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //l&#x27;entity selection est alors vide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=$entitySel.first() //renvoie Null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=$entitySel[0]  //génère une erreur</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-12">Exemple<a href="#exemple-12" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entitySelection : cs.EmpSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs.EmpEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySelection:=ds.Emp.query(&quot;salary &gt; :1&quot;;100000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($entitySelection.length#0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $entity:=$entitySelection.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getdataclass">.getDataClass()<a href="#getdataclass" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R5</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.getDataClass()</strong> : 4D.DataClass</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>4D.DataClass</td><td align="center">&lt;-</td><td>Dataclass à laquelle appartient l&#x27;entity selection</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-16">Description<a href="#description-16" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.getDataClass()</code> retourne la dataclass de l&#x27;entity selection.</p><p>Cette fonction est utile principalement dans le contexte de code générique.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-13">Exemple<a href="#exemple-13" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Le code générique suivant duplique toutes les entités de l&#x27;entity selection :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  //méthode duplicate_entities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //duplicate_entities($entity_selection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE ( $entitySelection : 4D.EntitySelection )  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $dataClass : 4D.DataClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity; $duplicate : 4D.Entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $dataClass:=$entitySelection.getDataClass()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> For each($entity;$entitySelection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $duplicate:=$dataClass.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $duplicate.fromObject($entity.toObject())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $duplicate[$dataClass.getInfo().primaryKey]:=Null //réinitialise la clé primaire</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $status:=$duplicate.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End for each</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getremotecontextattributes">.getRemoteContextAttributes()<a href="#getremotecontextattributes" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19R5</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.getRemoteContextAttributes()</strong> : Text</p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>result</td><td>Text</td><td>&lt;-</td><td>Attributs de contexte associés à l&#x27;entity selection, séparés par une virgule</td></tr></tbody></table><p>|</p><blockquote><p><strong>Mode avancé :</strong> Cette fonction est destinée aux développeurs qui souhaitent personnaliser les fonctionnalités par défaut de ORDA dans le cadre de configurations spécifiques. Dans la plupart des cas, vous n&#x27;aurez pas besoin de l&#x27;utiliser.</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-17">Description<a href="#description-17" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.getRemoteContextAttributes()</code> retourne des informations relatives au contexte d&#x27;optimisation utilisé par l&#x27;entity selection.</p><p>S&#x27;il n&#x27;existe pas de <a href="/docs/fr/ORDA/datastores#clientserver-optimization">contexte d&#x27;optimisation</a> pour l&#x27;entity selection, la fonction retourne un texte vide.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-14">Exemple<a href="#exemple-14" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $persons : cs.PersonsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $p : cs.PersonsEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $info : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $text : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$persons:=$ds.Persons.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$text:=&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For each ($p; $persons)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $text:=$p.firstname+&quot; lives in &quot;+$p.address.city+&quot; / &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End for each</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$info:=$persons.getRemoteContextAttributes()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$info = &quot;firstname,address,address.city&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="voir-également-1">Voir également<a href="#voir-également-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p><a href="/docs/fr/API/EntityClass#getRemoteContextAttributes">Entity.getRemoteContextAttributes()</a><br><a href="/docs/fr/API/DataStoreClass#clearallremotecontexts">.clearAllRemoteContexts()</a><br><a href="/docs/fr/API/DataStoreClass#getremotecontextinfo">.getRemoteContextInfo()</a><br><a href="/docs/fr/API/DataStoreClass#getallremotecontexts">.getAllRemoteContexts()</a><br><a href="/docs/fr/API/DataStoreClass#setremotecontextinfo">.setRemoteContextInfo()</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="isalterable">.isAlterable()<a href="#isalterable" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18 R5</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.isAlterable()</strong> : Boolean</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Boolean</td><td align="center">&lt;-</td><td>Vrai si l&#x27;entity selection est modifiable, sinon Faux</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-18">Description<a href="#description-18" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.isAlterable()</code> retourne Vrai si l&#x27;entity selection est modifiable (altérable), et Faux si elle n&#x27;est pas modifiable.</p><p>Pour plus d&#x27;informations, voir <a href="/docs/fr/ORDA/entities#entity-selections-partageables-ou-modifiables">Entity selections partageables ou modifiables</a>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-15">Exemple<a href="#exemple-15" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Vous êtes sur le point d&#x27;afficher l&#x27;entity selection <code>Form.products</code> dans une <a href="/docs/fr/FormObjects/listboxOverview">list box</a> pour permettre à l&#x27;utilisateur d&#x27;ajouter de nouveaux produits. Vous voulez vous assurer qu&#x27;elle est modifiable afin que l&#x27;utilisateur puisse ajouter de nouveaux produits sans erreur :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">If (Not(Form.products.isAlterable()))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Form.products:=Form.products.copy()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End if</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Form.products.add(Form.product)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="isordered">.isOrdered()<a href="#isordered" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.isOrdered()</strong> : Boolean</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Boolean</td><td align="center">&lt;-</td><td>Vrai si l&#x27;entity selection est triée, sinon Faux</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-19">Description<a href="#description-19" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.isOrdered()</code> retourne Vrai si l&#x27;entity selection est triée, et Faux si elle est non triée.</p><blockquote><p>Cette fonction renvoie toujours Vrai lorsque l&#x27;entity selection provient d&#x27;un datastore distant.</p></blockquote><p>Pour plus d&#x27;informations, voir <a href="/docs/fr/ORDA/dsmapping#entity-selections-triees-vs-entity-selections-non-triees">Entity selections triées vs Entity selections non-triées</a>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-16">Exemple<a href="#exemple-16" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $isOrdered : Boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.newSelection(dk keep ordered)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(714) // // renvoie l&#x27;entité avec clé primaire 714</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Dans une entity selection triée, vous pouvez ajouter la même entité plusieurs fois (les duplications sont conservées)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees.add($employee)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees.add($employee)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees.add($employee)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $isOrdered:=$employees.isOrdered()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($isOrdered)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;L&#x27;entity selection est triée et contient &quot;+String($employees.length)+&quot; employés&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="last">.last()<a href="#last" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.last()</strong> : 4D.Entity</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>4D.Entity</td><td align="center">&lt;-</td><td>Référence vers la dernière entité de l&#x27;entity selection (Null si l&#x27;entity selection est vide)</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-20">Description<a href="#description-20" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.last()</code> retourne une référence vers l&#x27;entité en dernière position dans l&#x27;entity selection.</p><p>Le résultat de cette fonction est similaire à :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=$entitySel[length-1]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Si l&#x27;entity selection est vide, la fonction renvoie Null.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-17">Exemple<a href="#exemple-17" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entitySelection : cs.EmpSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs.EmpEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySelection:=ds.Emp.query(&quot;salary &lt; :1&quot;;50000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($entitySelection.length#0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $entity:=$entitySelection.last()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="length">.length<a href="#length" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.length</strong> : Integer</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-21">Description<a href="#description-21" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La propriété <code>.length</code> retourne le nombre d&#x27;entités dans l&#x27;entity selection. Si l&#x27;entity selection est vide, elle contient 0.</p><p>Les entity selections ont toujours une propriété <code>.length</code>.</p><blockquote><p>Pour obtenir le nombre total d&#x27;entités dans une dataclass, il est recommandé d&#x27;utiliser la fonction <a href="/docs/fr/API/DataClassClass#getcount"><code>getCount()</code></a> qui est plus optimisée que l&#x27;expression <code>ds.myClass.all().length</code>.</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-18">Exemple<a href="#exemple-18" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $vSize : Integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $vSize:=ds.Employee.query(&quot;gender = :1&quot;;&quot;male&quot;).length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ALERT(String(vSize)+&quot; employés masculins trouvés.&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="max">.max()<a href="#max" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr><tr><td>v18 R6</td><td>Retourne undefined si l&#x27;entity selection est vide</td></tr></tbody></table></div></div></details><p><strong>.max</strong>( <em>attributePath</em> : Text ) : any</p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td>-&gt;</td><td>Chemin de l&#x27;attribut à utiliser pour le calcul</td></tr><tr><td>Résultat</td><td>any</td><td>&lt;-</td><td>Valeur la plus haute de l&#x27;attribut</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-22">Description<a href="#description-22" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.max()</code> retourne la plus haute valeur (ou valeur maximale) parmi toutes les valeurs de <em>attributePath</em> dans l&#x27;entity selection. Autrement dit, elle retourne la valeur de la dernière entité de la sélection si elle était triée par ordre croissant avec la fonction <a href="#orderby"><code>.orderBy()</code></a>.</p><p>Si vous passez dans <em>attributePath</em> le chemin d&#x27;un attribut objet contenant des valeurs de différents types, la fonction <code>.max()</code> retournera la valeur maximale du premier type de valeur scalaire dans l&#x27;ordre par défaut de la liste des types 4D (voir <a href="/docs/fr/API/CollectionClass#sort"><code>.sort()</code></a>).</p><p><code>.max()</code> retourne <strong>undefined</strong> si l&#x27;entity selection est vide ou si <em>attributePath</em> n&#x27;est pas trouvé dans l&#x27;attribut objet.</p><p>Une erreur est retournée si :</p><ul><li><em>attributePath</em> est un attribut relatif,</li><li><em>attributePath</em> désigne un attribut qui n&#x27;existe pas dans la dataclass de l&#x27;entity selection.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-19">Exemple<a href="#exemple-19" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Nous souhaitons connaître le salaire le plus élevé parmi les employées :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel : cs.EmpSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $maxSalary : Real</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds.Employee.query(&quot;gender = :1&quot;;&quot;female&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $maxSalary:=$sel.max(&quot;salary&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="min">.min()<a href="#min" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr><tr><td>v18 R6</td><td>Retourne undefined si l&#x27;entity selection est vide</td></tr></tbody></table></div></div></details><p><strong>.min</strong>( <em>attributePath</em> : Text ) : any</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Chemin de l&#x27;attribut à utiliser pour le calcul</td></tr><tr><td>Résultat</td><td>any</td><td align="center">&lt;-</td><td>Valeur la plus basse de l&#x27;attribut</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-23">Description<a href="#description-23" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>min()</code>  retourne la plus faible valeur (ou valeur minimale) parmi toutes les valeurs de attributePath dans l&#x27;entity selection.  Autrement dit, elle retourne la valeur de la première entité de la sélection si elle était triée par ordre croissant avec la fonction <a href="#orderby"><code>.orderBy()</code></a> (hors valeurs <strong>Null</strong>).</p><p>Si vous passez dans <em>attributePath</em> le chemin d&#x27;un attribut objet contenant des valeurs de différents types, la fonction <code>.min()</code> retournera la valeur minimale du premier type de valeur scalaire dans l&#x27;ordre par défaut de la liste des types 4D (voir <a href="/docs/fr/API/CollectionClass#sort"><code>.sort()</code></a>).</p><p><code>.min()</code> retourne <strong>undefined</strong> si l&#x27;entity selection est vide ou si <em>attributePath</em> n&#x27;est pas trouvé dans l&#x27;attribut objet.</p><p>Une erreur est retournée si :</p><ul><li><em>attributePath</em> est un attribut relatif,</li><li><em>attributePath</em> désigne un attribut qui n&#x27;existe pas dans la dataclass de l&#x27;entity selection.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-20">Exemple<a href="#exemple-20" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Nous souhaitons connaître le salaire le plus bas parmi les employées :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel : cs.EmpSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $minSalary : Real</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds.Employee.query(&quot;gender = :1&quot;;&quot;female&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $minSalary:=$sel.min(&quot;salary&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="minus">.minus()<a href="#minus" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R7</td><td>Prise en charge du paramètre <em>keepOrder</em></td></tr><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.minus</strong>( <em>entity</em> : 4D.Entity { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D.EntitySelection { ; <em>keepOrder</em> : Integer } ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>entity</td><td>4D.Entity</td><td align="center">-&gt;</td><td>Entité à soustraire</td></tr><tr><td>entitySelection</td><td>4D.EntitySelection</td><td align="center">-&gt;</td><td>Entity selection à soustraire</td></tr><tr><td>keepOrder</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk keep ordered</code> (integer) pour conserver l&#x27;ordre initial dans l&#x27;entity selection résultante</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Nouvelle entity selection ou une nouvelle référence sur l&#x27;entity selection existante</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-24">Description<a href="#description-24" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>minus()</code> exclut de l&#x27;entity selection à laquelle elle est appliquée l&#x27;<em>entity</em> ou les entités de l&#x27;<em>entitySelection</em> et retourne l&#x27;entity selection résultante.</p><ul><li>Si vous passez <em>entity</em> en paramètre, la fonction crée une nouvelle entity selection sans <em>entity</em> (si <em>entity</em> appartient à l&#x27;entity selection). Si <em>entity</em> n&#x27;était pas incluse dans l&#x27;entity selection d&#x27;origine, une nouvelle référence à l&#x27;entity selection est renvoyée.</li><li>Si vous passez <em>entitySelection</em> en paramètre, la fonction retourne une entity selection contenant les entités appartenant à l&quot;entity selection d&#x27;origine, sans les entités appartenant à <em>entitySelection</em>. Vous pouvez comparer des <a href="/docs/fr/ORDA/dsmapping#entity-selections-tri%C3%A9es-vs-entity-selections-non-tri%C3%A9es">entity selections ordonnées et/ou non ordonnées</a>.</li></ul><p>Par défaut, si vous omettez le paramètre <em>keepOrder</em>, l&#x27;entity selection résultante n&#x27;est pas triée. Si vous souhaitez conserver l&#x27;ordre de l&#x27;entity selection originale (par exemple si vous voulez réutiliser l&#x27;entity selection dans une interface utilisateur), passez la constante <code>dk keep ordered</code> dans <em>keepOrder</em>. Dans ce cas, le résultat est une entity selection ordonnée et l&#x27;ordre de l&#x27;entity selection initiale est conservé.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Si vous passez <code>dk keep ordered</code> dans <em>keepOrder</em> et que l&#x27;<em>entitySelection</em> supprimée contient des entités dupliquées dans l&#x27;entity selection originale, toutes les occurrences des doublons sont supprimées.</p></div></div><p>Si l&#x27;entity selection initiale ou l&#x27;entity selection initiale et celle du paramètre <em>entitySelection</em> sont vides, une entity selection vide est retournée.</p><p>Si <em>entitySelection</em> est vide ou si <em>entity</em> est Null, une nouvelle référence à l&#x27;entity selection d&#x27;origine est renvoyée.</p><p>Si l&#x27;entity selection initiale et le paramètre ne sont pas liés à la même dataclass, une erreur est retournée.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-4">Exemple 1<a href="#exemple-1-4" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees; $result : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // l&#x27;entity selection $employees contient l&#x27;entité avec la clé primaire 710 ainsi que d&#x27;autres entités</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // par ex. &quot;Colin Hetrick&quot;, &quot;Grady Harness&quot;, &quot;Sherlock Holmes&quot; (clé primaire 710)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(710) // &quot;Sherlock Holmes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$employees.minus($employee) //$result contient &quot;Colin Hetrick&quot;, &quot;Grady Harness&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-4">Exemple 2<a href="#exemple-2-4" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Vous voulez avoir une sélection d&#x27;employées nommées &quot;Jones&quot; qui vivent à New York :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sel1; $sel2; $sel3 : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel1:=ds.Employee.query(&quot;name =:1&quot;;&quot;Jones&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel2:=ds.Employee.query(&quot;city=:1&quot;;&quot;New York&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sel3:=$sel1.and($sel2).minus(ds.Employee.query(&quot;gender=&#x27;male&#x27;&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-3-2">Exemple 3<a href="#exemple-3-2" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Dans une interface utilisateur, nous avons une liste qui affiche des éléments dans un ordre spécifique. Si l&#x27;utilisateur sélectionne des éléments dans la liste pour les supprimer, l&#x27;ordre doit être conservé lors du rafraîchissement de la liste :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$listsel:=$listsel.minus($selectedItems; dk keep ordered)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="or">.or()<a href="#or" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.or</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>entity</td><td>4D.Entity</td><td align="center">-&gt;</td><td>Entité à intersecter</td></tr><tr><td>entitySelection</td><td>4D.EntitySelection</td><td align="center">-&gt;</td><td>Entity selection à intersecter</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Nouvelle entity selection ou nouvelle référence à l&#x27;entity selection d&#x27;origine</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-25">Description<a href="#description-25" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.or()</code> combine l&#x27;entity selection avec le paramètre <em>entity</em> ou <em>entitySelection</em> à l&#x27;aide de l&#x27;opérateur OU logique (non exclusif); elle retourne une nouvelle entity selection non triée contenant toutes les entités de l&#x27;entity selection et du paramètre.</p><ul><li>Si vous passez <em>entity</em> comme paramètre, vous combinez cette entité avec l&#x27;entity selection. Si l&#x27;entité appartient à l&#x27;entity selection, une nouvelle référence à l&#x27;entity selection est retournée. Sinon, une nouvelle entity selection contenant l&#x27;entity selection d&#x27;origine et l&#x27;entité est retournée.</li><li>Si vous passez <em>entitySelection</em> comme paramètre, vous comparez les deux entity selections. Une nouvelle entity selection contenant les entités appartenant à la sélection d&#x27;entités d&#x27;origine ou à <em>entitySelection</em> est renvoyée (ou n&#x27;est pas exclusif, les entités référencées dans les deux sélections ne sont pas dupliquées dans la sélection résultante).<blockquote><p>Vous pouvez comparer des <a href="/docs/fr/ORDA/dsmapping#entity-selections-tri%C3%A9es-vs-entity-selections-non-tri%C3%A9es">entity selections ordonnées et/ou non ordonnées</a>. La sélection résultante est toujours non ordonnée.</p></blockquote></li></ul><p>Si l&#x27;entity selection d&#x27;origine et celle du paramètre <em>entitySelection</em> sont vides, une entity selection vide est retournée. Si l&#x27;entity selection d&#x27;origine est vide, une référence à <em>entitySelection</em> ou une entity selection contenant uniquement <em>entity</em> est retournée.</p><p>Si <em>entitySelection</em> est vide ou si <em>entity</em> est Null, une nouvelle référence à l&#x27;entity selection d&#x27;origine est renvoyée.</p><p>Si l&#x27;entity selection initiale et le paramètre ne sont pas liés à la même dataclass, une erreur est retournée.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-5">Exemple 1<a href="#exemple-1-5" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees1; $employees2; $result : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees1:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //&quot;Colin Hetrick&quot;,&quot;Grady Harness&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees2:=ds.Employee.query(&quot;firstName = :1&quot;;&quot;C@&quot;) //&quot;Colin Hetrick&quot;, &quot;Cath Kidston&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$employees1.or($employees2) //$result contient &quot;Colin Hetrick&quot;, &quot;Grady Harness&quot;,&quot;Cath Kidston&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-5">Exemple 2<a href="#exemple-2-5" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees; $result : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) // &quot;Colin Hetrick&quot;,&quot;Grady Harness&quot;, &quot;Sherlock Holmes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(686) //l&#x27;entité avec clé primaire 686 n&#x27;appartient pas à l&#x27;entity selection $employees </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //elle correspond à l&#x27;employée &quot;Mary Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$employees.or($employee) //$result contient &quot;Colin Hetrick&quot;, &quot;Grady Harness&quot;, &quot;Sherlock Holmes&quot;, &quot;Mary Smith&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="orderby">.orderBy()<a href="#orderby" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.orderBy</strong>( <em>pathString</em> : Text ) : 4D.EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>pathString</td><td>Text</td><td align="center">-&gt;</td><td>Chemin(s) d&#x27;attribut(s) et mode(s) de tri pour l&#x27;entity selection</td></tr><tr><td>pathObjects</td><td>Collection</td><td align="center">-&gt;</td><td>Collection d&#x27;objets critère</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Nouvelle entity selection dans l&#x27;ordre spécifié</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-26">Description<a href="#description-26" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.orderBy()</code> renvoie une nouvelle entity selection triée contenant toutes les entités de l&#x27;entity selection dans l&#x27;ordre spécifié par le paramètre <em>pathString</em> ou <em>pathObjects</em>.</p><blockquote><ul><li>Cette fonction ne modifie pas l&#x27;entity selection d&#x27;origine.</li><li>Pour plus d&#x27;informations sur les sélections triées ou non, voir <a href="/docs/fr/ORDA/dsmapping#entity-selections-triees-vs-entity-selections-non-triees">Entity selections triées vs Entity selections non-triées</a>.</li></ul></blockquote><p>Vous devez utiliser un paramètre de critère pour définir la manière dont les entités doivent être triées. Deux paramètres différents sont pris en charge :</p><ul><li><em>pathString</em> (Texte) : Ce paramètre contient une formule composée de chemins d&#x27;attribut de 1 à n et (optionnellement) de tri, séparés par des virgules. La syntaxe est :</li></ul><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;attributePath1 {desc or asc}, attributePath2 {desc or asc},...&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>L&#x27;ordre dans lequel les attributs sont passés détermine la priorité de tri des entités. Par défaut, les attributs sont triés par ordre croissant. Vous pouvez définir l&#x27;ordre de tri de chaque propriété dans la formule de critère, séparée du chemin de propriété par un simple espace : passez &quot;asc&quot; pour trier par ordre croissant ou &quot;desc&quot; pour un ordre décroissant.</p><ul><li><em>pathObjects</em> (collection) : chaque élément de la collection contient un objet structuré de la façon suivante :</li></ul><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;propertyPath&quot;: string,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;descending&quot;: boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Par défaut, les attributs sont triés par ordre croissant (&quot;descending&quot; est false).</p><p>Vous pouvez ajouter autant d&#x27;objets que nécessaire dans la collection de critères.</p><blockquote><p>Cette fonction est utilisable uniquement avec un datastore distant (client/serveur ou connexion <code>Open datastore</code>).</p></blockquote><p>If you pass an invalid attribute path in <em>pathString</em> or <em>pathObject</em>, the function returns an empty entity selection.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-21">Exemple<a href="#exemple-21" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// tri avec formule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy(&quot;firstName asc, salary desc&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // tri avec collection avec ou sans ordres de tri</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;firstName&quot;;&quot;descending&quot;;False))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;salary&quot;;&quot;descending&quot;;True))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy($orderColl)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;manager.lastName&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $orderColl.push(New object(&quot;propertyPath&quot;;&quot;salary&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sortedEntitySelection:=$entitySelection.orderBy($orderColl)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="orderbyformula">.orderByFormula()<a href="#orderbyformula" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R6</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.orderByFormula</strong>( <em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>formulaString</td><td>Text</td><td align="center">-&gt;</td><td>Chaîne formule</td></tr><tr><td>formulaObj</td><td>Object</td><td align="center">-&gt;</td><td>Objet formule</td></tr><tr><td>sortOrder</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk ascending</code> (par défaut) ou<code>dk descending</code></td></tr><tr><td>settings</td><td>Object</td><td align="center">-&gt;</td><td>Paramètre(s) de la formule</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Nouvelle entity selection triée</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-27">Description<a href="#description-27" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.orderByFormula()</code> renvoie une nouvelle entity selection triée contenant toutes les entités de l&#x27;entity selection dans l&#x27;ordre défini par les paramètres <em>formulaString</em> ou <em>formulaObj</em> et, éventuellement, <em>sortOrder</em> et <em>settings</em>.</p><blockquote><p>Cette fonction ne modifie pas l&#x27;entity selection d&#x27;origine.</p></blockquote><p>Vous pouvez utiliser soit le paramètre <em>formulaString</em>, soit le paramètre <em>formulaObj</em> :</p><ul><li><em>formulaString</em> : passez une expression 4D telle que &quot;Year of(this.birthDate)&quot;.</li><li><em>formulaObj</em> : passez un objet formule valide créé à l&#x27;aide de la commande <code>Formula</code> ou <code>Formula from string</code>.</li></ul><p>La formule de <em>formulaString</em> ou <em>formulaObj</em> est exécutée pour chaque entité de l&#x27;entity selection et son résultat sert à définir la position de l&#x27;entité dans l&#x27;entity selection retournée. Le résultat doit être de type triable (booléen, date, numérique, texte, heure, null).</p><blockquote><p>Un résultat null est toujours la plus petite valeur.</p></blockquote><p>Par défaut, si vous omettez le paramètre <em>sortOrder</em>, l&#x27;entity selection résultante est triée par ordre croissant. Vous pouvez optionnellement passer l&#x27;une des valeurs suivantes dans le paramètre <em>sortOrder</em> :</p><table><thead><tr><th>Constante</th><th>Value</th><th>Commentaire</th></tr></thead><tbody><tr><td>dk ascending</td><td>0</td><td>Ordre de tri croissant (défaut)</td></tr><tr><td>dk descending</td><td>1</td><td>Ordre de tri décroissant</td></tr></tbody></table><p>Dans <em>formulaString</em> et <em>formulaObj</em>, l&#x27;entité qui est traitée ainsi que ses attributs sont disponibles via la commande <code>This</code> (par exemple, <code>This.lastName</code>).</p><p>Vous pouvez passer un ou plusieurs paramètre(s) à la formule à l&#x27;aide de la propriété <code>args</code> (objet) du paramètre <code>settings</code> : la formule reçoit l&#x27;objet <code>settings.args</code> dans $1.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-6">Exemple 1<a href="#exemple-1-6" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Pour effectuer un tri d&#x27;étudiants à l&#x27;aide d&#x27;une formule texte :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es1; $es2 : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es1:=ds.Students.query(&quot;nationality=:1&quot;;&quot;French&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.orderByFormula(&quot;length(this.lastname)&quot;) //croissant par défaut</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.orderByFormula(&quot;length(this.lastname)&quot;;dk descending)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pour effectuer le même tri dans le même ordre, mais à l&#x27;aide d&#x27;un objet formule :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es1; $es2 : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $formula : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es1:=ds.Students.query(&quot;nationality=:1&quot;;&quot;French&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula:=Formula(Length(This.lastname))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.orderByFormula($formula) // croissant par défaut</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.orderByFormula($formula;dk descending)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-6">Exemple 2<a href="#exemple-2-6" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Une formule est donnée sous forme d&#x27;objet formule avec des paramètres; l&#x27;objet <code>settings.args</code> est reçu dans $1 dans la méthode <strong><em>computeAverage</em></strong>.</p><p>Dans cet exemple, le champ objet &quot;marks&quot; de la dataclass <strong>Students</strong> contient les notes des étudiants dans chaque matière. Un seul objet formule est utilisé pour calculer la note moyenne des étudiants à l&#x27;aide de différents coefficients pour schoolA et schoolB.</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es1; $es2 : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $formula; $schoolA; $schoolB : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es1:=ds.Students.query(&quot;nationality=:1&quot;;&quot;French&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula:=Formula(computeAverage($1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $schoolA:=New object() //objet settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $schoolA.args:=New object(&quot;english&quot;;1;&quot;math&quot;;1;&quot;history&quot;;1) // Coefficients permettant de calculer la moyenne</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Trier les étudiants en fonction du critère schoolA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.entitySelection.orderByFormula($formula;$schoolA)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $schoolB:=New object() //objet settings </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $schoolB.args:=New object(&quot;english&quot;;1;&quot;math&quot;;2;&quot;history&quot;;3) // Coefficients permettant de calculer une moyenne</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Trier les étudiants en fonction du critère schoolB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es2:=$es1.entitySelection.orderByFormula($formula;dk descending;$schoolB)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // méthode computeAverage </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // -----------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE ($coefList : Object) -&gt; $result : Integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $subject : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $average; $sum : Integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $average:=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sum:=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> For each($subject;$coefList)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $sum:=$sum+$coefList[$subject]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End for each</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> For each($subject;This.marks)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $average:=$average+(This.marks[$subject]*$coefList[$subject])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End for each</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$average/$sum</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="query">.query()<a href="#query" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R6</td><td>Prise en charge des paramètres Formula</td></tr><tr><td>v17 R5</td><td>Prise en charge des placeholders pour les valeurs</td></tr><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>queryString</td><td>Text</td><td align="center">-&gt;</td><td>Critères de recherche en texte</td></tr><tr><td>formula</td><td>Object</td><td align="center">-&gt;</td><td>Critères de recherche en objet formule</td></tr><tr><td>value</td><td>any</td><td align="center">-&gt;</td><td>Valeur(s) à utiliser comme placeholder(s)</td></tr><tr><td>querySettings</td><td>Object</td><td align="center">-&gt;</td><td>Options de recherche : parameters, attributes, args, allowFormulas, context, queryPath, queryPlan</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Nouvelle entity selection composée d&#x27;entités issues de l&#x27;entity selection répondant aux critères de recherche spécifiés dans <em>queryString</em> ou <em>formula</em></td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-28">Description<a href="#description-28" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.query()</code> recherche les entités répondant aux critères de recherche spécifiés dans <em>queryString</em> ou <em>formula</em> et (optionnellement) dans <em>value</em>(s) parmi toutes les entités de l&#x27;entity selection, et renvoie un nouvel objet de type <code>EntitySelection</code> contenant toutes les entités trouvées. Le mode lazy loading est appliqué.</p><blockquote><p>Cette fonction ne modifie pas l&#x27;entity selection d&#x27;origine.</p></blockquote><p>Si aucune entité correspondante n&#x27;est trouvée, une <code>EntitySelection</code> vide est retournée.</p><p>Pour plus d&#x27;informations sur la génération d&#x27;une recherche à l&#x27;aide des paramètres <em>queryString</em>, <em>value</em>, et <em>querySettings</em>, reportez-vous à la description de la fonction de dataclass <a href="/docs/fr/API/DataClassClass#query"><code>.query()</code></a>.</p><blockquote><p>Par défaut, si vous omettez la déclaration <strong>order by</strong> dans <em>queryString</em>, l&#x27;entity selection retournée n&#x27;est <a href="/docs/fr/ORDA/dsmapping#entity-selections-triees-vs-entity-selections-non-triees">pas triée</a>. A noter cependant qu&#x27;en client/server, elle se comporte comme une entity selection triée (les entités sont ajoutées à la fin de la sélection).</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-7">Exemple 1<a href="#exemple-1-7" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entitySelectionTemp : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entitySelectionTemp:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;M@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Form.emps:=$entitySelectionTemp.query(&quot;manager.lastName = :1&quot;;&quot;S@&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-7">Exemple 2<a href="#exemple-2-7" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Vous trouverez plus d&#x27;exemples de requêtes dans la page <a href="/docs/fr/API/DataClassClass#query"><code>.query()</code></a>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="voir-également-2">Voir également<a href="#voir-également-2" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p><a href="/docs/fr/API/DataClassClass#query"><code>.query()</code></a> pour dataclass</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="querypath">.queryPath<a href="#querypath" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.queryPath</strong> : Text</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-29">Description<a href="#description-29" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La propriété <code>.queryPath</code> contient une description détaillée de la requête telle qu&#x27;elle a été effectuée par 4D. Cette propriété est disponible pour les objets de type <code>EntitySelection</code> générés via des recherches si la propriété <code>&quot;queryPath&quot;:true</code> a été passée dans le paramètre <em>querySettings</em> de la fonction <a href="#query"><code>.query()</code></a>.</p><p>Pour plus d&#x27;informations, veuillez vous reporter au paragraphe <strong>querySettings</strong> de la fonction de dataclass <a href="/docs/fr/API/DataClassClass.html#query"><code>.query()</code></a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="queryplan">.queryPlan<a href="#queryplan" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.queryPlan</strong> : Text</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-30">Description<a href="#description-30" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La propriété <code>.queryPlan</code>  contient une description détaillée de la requête juste avant son exécution (c&#x27;est-à-dire, la requête planifiée). Cette propriété est disponible pour les objets de type <code>EntitySelection</code> générés via des recherches si la propriété <code>&quot;queryPlan&quot;:true</code> a été passée dans le paramètre <em>querySettings</em> de la fonction <a href="#query"><code>.query()</code></a>.</p><p>Pour plus d&#x27;informations, veuillez vous reporter au paragraphe <strong>querySettings</strong> de la fonction de dataclass <a href="/docs/fr/API/DataClassClass.html#query"><code>.query()</code></a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="refresh">.refresh()<a href="#refresh" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18 R3</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.refresh()</strong></p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td></td><td></td><td align="center"></td><td>Ne requiert aucun paramètre</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-31">Description<a href="#description-31" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><blockquote><p>Cette fonction est utilisable uniquement avec un datastore distant (client/serveur ou connexion <code>Open datastore</code>).</p></blockquote><p>La fonction <code>.refresh()</code> &quot;invalide&quot; immédiatement les données de l&#x27;entity selection dans le cache local d&#x27;ORDA de sorte que, la prochaine fois que 4D accède à l&#x27;entity selection, elle soit rechargée à partir de la base.</p><p>Par défaut, le cache local d&#x27;ORDA est invalidé après 30 secondes. Dans le contexte des applications client/serveur à l&#x27;aide d&#x27;ORDA et du langage classique, cette fonction vous permet d&#x27;être certain que l&#x27;application distante fonctionne toujours avec les données les plus récentes.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-8">Exemple 1<a href="#exemple-1-8" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Dans cet exemple, les langages classiques et ORDA modifient simultanément les mêmes données :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> //Sur un 4D distant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $selection : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $student : cs.StudentsEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $selection:=ds.Students.query(&quot;lastname=:1&quot;;&quot;Collins&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //La première entité est chargée dans le cache d&#x27;ORDA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $student:=$selection.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Mise à jour avec un 4D classique, le cache ORDA cache n&#x27;en est pas informé</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> QUERY([Students];[Students]lastname=&quot;Collins&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [Students]lastname:=&quot;Colin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> SAVE RECORD([Students])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //pour obtenir la dernière version, le cache d&#x27;ORDA doit être invalidé</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $selection.refresh()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Même si le cache n&#x27;a pas expiré, la première entité est rechargée à partir du disque</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $student:=$selection.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$student.lastname contient &quot;Colin&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-8">Exemple 2<a href="#exemple-2-8" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Dans cet exemple, les langages classiques et ORDA modifient simultanément les mêmes données :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Methode formulaire:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :(Form event code=On Load)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Form.students:=ds.Students.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Sur client #1, l&#x27;utilisateur charge, met à jour et sauvegarde la première entité</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Sur client #2, l&#x27;utilisateur charge, met à jour et sauvegarde la même entité</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Sur client #1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Form.students.refresh() // Invalide le cache ORDA pour l&#x27;entity selection Form.students</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Le contenu de la list box est rafraîchi à partir de la base avec les mises à jour effectuées par le client #2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="selected">.selected()<a href="#selected" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R3</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.selected</strong>( <em>selectedEntities</em> : 4D.EntitySelection ) : Object</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>selectedEntities</td><td>4D.EntitySelection</td><td align="center">-&gt;</td><td>Entity selection avec des entités dont il faut connaître le rang dans l&#x27;entity selection</td></tr><tr><td>Résultat</td><td>Object</td><td align="center">&lt;-</td><td>Plage(s) d&#x27;entités sélectionnées dans l&#x27;entity selection</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-32">Description<a href="#description-32" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>selected()</code> retourne un objet décrivant la ou les position(s) de <em>selectedEntities</em> dans l&#x27;entity selection d&#x27;origine.</p><blockquote><p>Cette fonction ne modifie pas l&#x27;entity selection d&#x27;origine.</p></blockquote><p>Passez, dans le paramètre <em>selectedEntities</em> une entity selection contenant des entités dont vous souhaitez connaître la position dans l&#x27;entity selection d&#x27;origine. <em>selectedEntities</em> doit être une entity selection appartenant à la même dataclass que l&#x27;entity selection d&#x27;origine, sinon une erreur 1587 - &quot;La sélection d&#x27;entités provient d&#x27;une dataclass incompatible&quot; est générée.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="résultat">Résultat<a href="#résultat" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>L&#x27;objet retourné contient les propriétés suivantes :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>ranges</td><td>Collection</td><td>Collection d&#x27;objets plage</td></tr><tr><td>ranges[].start</td><td>Integer</td><td>Indice de la première entité de la plage</td></tr><tr><td>ranges[].end</td><td>Integer</td><td>Indice de la dernière entité de la plage</td></tr></tbody></table><p>Si une propriété <code>ranges</code> contient une seule entité, <code>start</code> = <code>end</code>. L&#x27;indice démarre à 0.</p><p>La fonction retourne une collection vide dans la propriété <code>ranges</code> si l&#x27;entity selection d&#x27;origine ou l&#x27;entity selection <em>selectedEntities</em> est vide.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-22">Exemple<a href="#exemple-22" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $invoices; $cashSel; $creditSel : cs.Invoices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $result1; $result2 : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$invoices:=ds.Invoices.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$cashSelection:=ds.Invoices.query(&quot;payment = :1&quot;; &quot;Cash&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$creditSel:=ds.Invoices.query(&quot;payment IN :1&quot;; New collection(&quot;Cash&quot;; &quot;Credit Card&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result1:=$invoices.selected($cashSelection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result2:=$invoices.selected($creditSel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$result1 = {ranges:[{start:0;end:0},{start:3;end:3},{start:6;end:6}]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$result2 = {ranges:[{start:0;end:1},{start:3;end:4},{start:6;end:7}]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="slice">.slice()<a href="#slice" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.slice</strong>( <em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>startFrom</td><td>Integer</td><td align="center">-&gt;</td><td>Position à laquelle démarrer l&#x27;opération (incluse)</td></tr><tr><td>end</td><td>Integer</td><td align="center">-&gt;</td><td>Position de fin (non incluse)</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Nouvelle entity selection contenant les entités copiées (shallow copy)</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-33">Description<a href="#description-33" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>slice()</code> retourne une partie d&#x27;une entity selection dans une nouvelle entity selection, sélectionnée depuis l&#x27;indice <em>startFrom</em> jusqu&#x27;à l&#x27;indice <em>end</em> (<em>end</em> non inclus) ou jusqu&#x27;à la dernière entité de l&#x27;entity selection. Cette fonction effectue une shallow copy (copie superficielle) de l&#x27;entity selection (les mêmes références d&#x27;entités sont utilisées).</p><blockquote><p>Cette fonction ne modifie pas l&#x27;entity selection d&#x27;origine.</p></blockquote><p>L&#x27;entity selection retournée contient les entités comprises entre l&#x27;entité désignée par <em>startFrom</em> et, sans la contenir, celle désignée par <em>end</em>. Si seul le paramètre <em>startFrom</em> est spécifié, l&#x27;entity selection retournée contient toutes les entités entre <em>startFrom</em> et la dernière entité de l&#x27;entity selection d&#x27;origine.</p><ul><li>Si <em>startFrom</em> &lt; 0, il est recalculé comme <em>startFrom:=startFrom+length</em> (il est considéré comme partant de la fin de l&#x27;entity selection). Si la valeur calculée est négative, <em>startFrom</em> prend la valeur 0.</li><li>Si <em>startFrom &gt;= length</em>, la fonction retourne une entity selection vide.</li><li>Si <em>end</em> &lt; 0, le paramètre est recalculé comme <em>end:=end+length</em>.</li><li>Si <em>end &lt; startFrom</em> (valeurs passées ou recalculées), la fonction ne fait rien.</li></ul><p>Si l&#x27;entity selection contient des entités qui ont été supprimées entre-temps, elles sont également retournées.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-9">Exemple 1<a href="#exemple-1-9" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Si l&#x27;entity selection contient des entités qui ont été supprimées entre-temps, elles sont également retournées.</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $sel; $sliced : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$sel:=ds.Employee.query(&quot;salary &gt; :1&quot;;50000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$sliced:=$sel.slice(0;9)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-9">Exemple 2<a href="#exemple-2-9" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Vous souhaitez obtenir une sous-sélection des 9 premières entités de l&#x27;entity selection :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $slice : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$slice:=ds.Employee.all().slice(-1;-2) //tries to return entities from index 9 to 8, but since 9 &gt; 8, returns an empty entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sum">.sum()<a href="#sum" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.sum</strong>( <em>attributePath</em> : Text ) : Real</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td align="center">-&gt;</td><td>Chemin de l&#x27;attribut à utiliser pour le calcul</td></tr><tr><td>Résultat</td><td>Real</td><td align="center">&lt;-</td><td>Somme des valeurs de l&#x27;entity selection</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-34">Description<a href="#description-34" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.sum()</code> renvoie la somme de toutes les valeurs de <em>attributePath</em> dans l&#x27;entity selection.</p><p><code>.sum()</code> retourne 0 si l&#x27;entity selection est vide.</p><p>La somme peut uniquement être effectuée sur des valeurs numériques. Si <em>attributePath</em> est de type objet, seules les valeurs numériques qu&#x27;il contient seront prises en compte (les autres types de valeurs sont ignorés). Dans ce cas, si <em>attributePath</em> désigne une propriété qui n&#x27;existe pas dans l&#x27;objet ou qui ne contient pas de valeurs numériques, <code>.sum()</code> retourne 0.</p><p>Une erreur est retournée si :</p><ul><li><em>attributePath</em> est un attribut qui n&#x27;est ni de type numérique ni de type objet,</li><li><em>attributePath</em> est un attribut relatif,</li><li><em>attributePath</em> n&#x27;est pas trouvé dans la dataclass de l&#x27;entity selection.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-23">Exemple<a href="#exemple-23" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $sel : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $sum : Real</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$sel:=ds.Employee.query(&quot;salary &lt; :1&quot;;20000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$sum:=$sel.sum(&quot;salary&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tocollection">.toCollection()<a href="#tocollection" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.toCollection</strong>( { <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer } } ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterString</em> : Text {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em><br><strong>.toCollection</strong>( <em>filterCol</em> : Collection {; <em>options</em> : Integer { ; <em>begin</em> : Integer { ; <em>howMany</em> : Integer }}} ) : <em>Collection</em></p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>filterString</td><td>Text</td><td align="center">-&gt;</td><td>Chemin(s) d&#x27;attribut(s) à extraire</td></tr><tr><td>filterCol</td><td>Collection</td><td align="center">-&gt;</td><td>Collection d&#x27;attribut(s) à extraire</td></tr><tr><td>options</td><td>Integer</td><td align="center">-&gt;</td><td><code>dk with primary key</code> : ajoute la clé primaire<br><code>dk with stamp</code> : ajoute le marqueur</td></tr><tr><td>begin</td><td>Integer</td><td align="center">-&gt;</td><td>Désigne la position de début</td></tr><tr><td>howMany</td><td>Integer</td><td align="center">-&gt;</td><td>Nombre d&#x27;entités à extraire</td></tr><tr><td>Résultat</td><td>Collection</td><td align="center">&lt;-</td><td>Collection d&#x27;objets contenant les attributs et valeurs de l&#x27;entity selection</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-35">Description<a href="#description-35" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La fonction <code>.toCollection()</code> crée et retourne une collection dans laquelle chaque élément est un objet contenant un ensemble de propriétés et de valeurs correspondant aux noms et valeurs d&#x27;attributs de l&#x27;entity selection.</p><p>Si aucun paramètre de filtre n&#x27;est passé ou si le paramètre contient une chaîne vide ou &quot;*&quot;, tous les attributs sont extraits. Les attributs dont la propriété <a href="/docs/fr/API/DataClassAttributeClass#kind">kind</a> est &quot;relatedEntity&quot; sont extraits avec la forme simple : un objet avec la propriété <!-- -->_<!-- -->_<!-- -->KEY (clé primaire). Les attributs dont la propriété &quot;kind&quot; est &quot;relatedEntities&quot; ne sont pas extraits.</p><p>Vous pouvez également indiquer les attributs à extraire à l&#x27;aide d&#x27;un paramètre de filtre. Deux types de filtres sont utilisables :</p><ul><li><em>filterString</em> --une chaîne avec les chemins des propriétés séparés par des virgules : &quot;propertyPath1, propertyPath2, ...&quot;.</li><li><em>filterCol</em> --une collection de chaînes contenant des chemins de propriétés : <!-- -->[&quot;propertyPath1&quot;,&quot;propertyPath2&quot;,...]</li></ul><p>Si un filtre est spécifié pour un attribut de type <code>relatedEntity</code> :</p><ul><li>propertyPath = &quot;relatedEntity&quot; -&gt; l&#x27;extraction se fait dans une forme simple</li><li>propertyPath = &quot;relatedEntity.*&quot; -&gt; toutes les propriétés sont extraites</li><li>propertyPath = &quot;relatedEntity.propertyName1, relatedEntity.propertyName2, ...&quot; -&gt; seules ces propriétés sont extraites</li></ul><p>Si un filtre est spécifié pour un attribut de type <code>relatedEntity</code> :</p><ul><li>propertyPath = &quot;relatedEntities.*&quot; -&gt; toutes les propriétés sont extraites</li><li>propertyPath = &quot;relatedEntities.propertyName1, relatedEntities.propertyName2, ...&quot; -&gt; seules ces propriétés sont extraites</li></ul><p>Si un filtre est spécifié pour un attribut de type<code>relatedEntities</code> :</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Avertissement</div><div class="admonitionContent_S0QG"><p>Si vous utilisez un autre attribut que la clé primaire comme attribut 1 dans une relation, la valeur de cet attribut sera inscrite dans la propriété &quot;__KEY&quot;. N&#x27;oubliez pas qu&#x27;il est recommandé d&#x27;utiliser la clé primaire comme attribut 1 dans vos relations, en particulier lorsque vous utilisez les fonctions <code>.toCollection()</code> et <code>.fromCollection()</code> .</p></div></div><p>Le paramètre <em>begin</em> vous permet d&#x27;indiquer la position de départ des entités à extraire. Vous pouvez passer toute valeur comprise entre 0 et la longueur de l&#x27;entity selection -1.</p><p>Le paramètre <em>howMany</em> vous permet de spécifier le nombre d&#x27;entités à extraire, à partir de celle désignée par <em>begin</em>. Les entités supprimées ne sont pas retournées mais sont prises en compte dans <em>howMany</em>. Par exemple, si <em>howMany</em>= 3 et s&#x27;il y a une entité supprimée, seulement 2 entités sont extraites.</p><p>Si <em>howMany</em> &gt; length de l&#x27;entity selection, la fonction retourne (length - <em>begin</em>) objets.</p><p>Une collection vide est retournée si :</p><ul><li>l&#x27;entity selection est vide, ou</li><li><em>begin</em> est supérieur à la longueur de l&#x27;entity selection.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-10">Exemple 1<a href="#exemple-1-10" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>La structure suivante sera utilisée pour les exemples de cette section :</p><p><img loading="lazy" src="/docs/fr/assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png" width="1000" height="610" class="img_ev3q"></p><p>Exemple sans paramètres de filtre ni d&#x27;options :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employeesCollection:=$employees.toCollection()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ID&quot;: 416,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;salary&quot;: 79100,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ID&quot;: 417,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;salary&quot;: 47000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;birthDate&quot;: &quot;1992-06-16T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-10">Exemple 2<a href="#exemple-2-10" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employees:=ds.Employee.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;&quot;;dk with primary key+dk with stamp)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 416,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ID&quot;: 416,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;salary&quot;: 79100,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 417,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ID&quot;: 417,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;salary&quot;: 47000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;birthDate&quot;: &quot;1992-06-16T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-3-3">Exemple 3<a href="#exemple-3-3" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection; $filter : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$filter:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$filter.push(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$filter.push(&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employees:=ds.Employee.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection($filter;0;0;2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-4-1">Exemple 4<a href="#exemple-4-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;firstName,lastName,employer&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Exemple avec le type <code>relatedEntity</code> avec une forme simple :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-5-1">Exemple 5<a href="#exemple-5-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection; $coll : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$coll:=New collection(&quot;firstName&quot;;&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection($coll)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Joanna&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Cabrera&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Alexandra&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Coleman&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-6-1">Exemple 6<a href="#exemple-6-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection; $coll : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$coll:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$coll.push(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$coll.push(&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$coll.push(&quot;employer.*&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection($coll)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;India Astral Secretary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;creationDate&quot;: &quot;1984-08-25T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;revenues&quot;: 12000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;extra&quot;: null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;India Astral Secretary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;creationDate&quot;: &quot;1984-08-25T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;revenues&quot;: 12000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;extra&quot;: null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;India Astral Secretary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;creationDate&quot;: &quot;1984-08-25T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;revenues&quot;: 12000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;extra&quot;: null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-7-1">Exemple 7<a href="#exemple-7-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;firstName, lastName, employer.name&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;India Astral Secretary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Irma&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Durham&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;India Astral Secretary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;India Astral Secretary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-8-1">Exemple 8<a href="#exemple-8-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Exemple avec extraction de quelques propriétés de relatedEntity :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employeesCollection:=$employees.toCollection(&quot;firstName, lastName, directReports.firstName&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Mike&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Phan&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Gary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Sadie&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Christie&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Reichert&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Rex&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Jenny&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Lowell&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-9-1">Exemple 9<a href="#exemple-9-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Retourne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $employeesCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$employeesCollection:=$employees.toCollection(&quot;firstName, lastName, directReports.*&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gregg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Mike&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Phan&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ID&quot;: 425,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Gary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;lastName&quot;: &quot;Reichert&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;salary&quot;: 65800,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;birthDate&quot;: &quot;1957-12-23T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;managerID&quot;: 424,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employerID&quot;: 21,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 424</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ID&quot;: 426,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Sadie&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;lastName&quot;: &quot;Gallant&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;salary&quot;: 35200,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;birthDate&quot;: &quot;2022-01-03T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;managerID&quot;: 424,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employerID&quot;: 21,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 424</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;firstName&quot;: &quot;Gary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lastName&quot;: &quot;Reichert&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ID&quot;: 428,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Rex&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;lastName&quot;: &quot;Chance&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;salary&quot;: 71600,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;birthDate&quot;: &quot;1968-08-09T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;managerID&quot;: 425,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employerID&quot;: 21,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 425</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ID&quot;: 429,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;firstName&quot;: &quot;Jenny&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;lastName&quot;: &quot;Parks&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;salary&quot;: 51300,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;birthDate&quot;: &quot;1984-05-25T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;managerID&quot;: 425,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employerID&quot;: 21,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;__KEY&quot;: 425</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntitySelectionClass.md%20(20)&amp;body=Please%20enter%20your%20comment%3A" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Comment on this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/fr/API/EntityClass"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Entity</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/fr/API/FileClass"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">File</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sommaire" class="table-of-contents__link toc-highlight">Sommaire</a></li><li><a href="#create-entity-selection" class="table-of-contents__link toc-highlight">Create entity selection</a></li><li><a href="#use-entity-selection" class="table-of-contents__link toc-highlight">USE ENTITY SELECTION</a></li><li><a href="#index" class="table-of-contents__link toc-highlight">[<em>index</em>]</a></li><li><a href="#attributename" class="table-of-contents__link toc-highlight">.<em>attributeName</em></a></li><li><a href="#add" class="table-of-contents__link toc-highlight">.add()</a></li><li><a href="#and" class="table-of-contents__link toc-highlight">.and()</a></li><li><a href="#at" class="table-of-contents__link toc-highlight">.at()</a></li><li><a href="#average" class="table-of-contents__link toc-highlight">.average()</a></li><li><a href="#contains" class="table-of-contents__link toc-highlight">.contains()</a></li><li><a href="#count" class="table-of-contents__link toc-highlight">.count()</a></li><li><a href="#copy" class="table-of-contents__link toc-highlight">.copy()</a></li><li><a href="#distinct" class="table-of-contents__link toc-highlight">.distinct()</a></li><li><a href="#distinctpaths" class="table-of-contents__link toc-highlight">.distinctPaths()</a></li><li><a href="#drop" class="table-of-contents__link toc-highlight">.drop()</a></li><li><a href="#extract" class="table-of-contents__link toc-highlight">.extract()</a></li><li><a href="#first" class="table-of-contents__link toc-highlight">.first()</a></li><li><a href="#getdataclass" class="table-of-contents__link toc-highlight">.getDataClass()</a></li><li><a href="#getremotecontextattributes" class="table-of-contents__link toc-highlight">.getRemoteContextAttributes()</a></li><li><a href="#isalterable" class="table-of-contents__link toc-highlight">.isAlterable()</a></li><li><a href="#isordered" class="table-of-contents__link toc-highlight">.isOrdered()</a></li><li><a href="#last" class="table-of-contents__link toc-highlight">.last()</a></li><li><a href="#length" class="table-of-contents__link toc-highlight">.length</a></li><li><a href="#max" class="table-of-contents__link toc-highlight">.max()</a></li><li><a href="#min" class="table-of-contents__link toc-highlight">.min()</a></li><li><a href="#minus" class="table-of-contents__link toc-highlight">.minus()</a></li><li><a href="#or" class="table-of-contents__link toc-highlight">.or()</a></li><li><a href="#orderby" class="table-of-contents__link toc-highlight">.orderBy()</a></li><li><a href="#orderbyformula" class="table-of-contents__link toc-highlight">.orderByFormula()</a></li><li><a href="#query" class="table-of-contents__link toc-highlight">.query()</a></li><li><a href="#querypath" class="table-of-contents__link toc-highlight">.queryPath</a></li><li><a href="#queryplan" class="table-of-contents__link toc-highlight">.queryPlan</a></li><li><a href="#refresh" class="table-of-contents__link toc-highlight">.refresh()</a></li><li><a href="#selected" class="table-of-contents__link toc-highlight">.selected()</a></li><li><a href="#slice" class="table-of-contents__link toc-highlight">.slice()</a></li><li><a href="#sum" class="table-of-contents__link toc-highlight">.sum()</a></li><li><a href="#tocollection" class="table-of-contents__link toc-highlight">.toCollection()</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Developer Center</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Where It All Began)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Knowledgebase</a></li><li class="footer__item"><a href="https://us.4d.com/product-download/Feature-Release" target="_blank" rel="noopener noreferrer" class="footer__link-item">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">About 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D around the world<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 4D SAS - All rights reserved</div></div></div></footer></div>
<script src="/docs/fr/assets/js/runtime~main.ca3823ce.js"></script>
<script src="/docs/fr/assets/js/main.ec15c521.js"></script>
</body>
</html>