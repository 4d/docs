<!doctype html><html lang=fr dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-18 docs-doc-page docs-doc-id-Concepts/components" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Composants | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/fr/18/Concepts/components><meta data-rh=true property=og:locale content=fr><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true property=og:locale:alternate content=pt><meta data-rh=true name=docusaurus_locale content=fr><meta data-rh=true name=docsearch:language content=fr><meta data-rh=true name=docusaurus_version content=18><meta data-rh=true name=docusaurus_tag content=docs-default-18><meta data-rh=true name=docsearch:version content=18><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-18><meta data-rh=true property=og:title content="Composants | 4D Docs"><meta data-rh=true name=description content="Un composant 4D est un ensemble d’objets 4D représentant une ou plusieurs fonctionnalité(s), qu’il est possible d’installer dans différentes bases. Par exemple, vous pouvez développer un composant 4D de courrier électronique gérant tous les aspects de l’envoi, la réception et le stockage d’emails au sein des bases 4D."><meta data-rh=true property=og:description content="Un composant 4D est un ensemble d’objets 4D représentant une ou plusieurs fonctionnalité(s), qu’il est possible d’installer dans différentes bases. Par exemple, vous pouvez développer un composant 4D de courrier électronique gérant tous les aspects de l’envoi, la réception et le stockage d’emails au sein des bases 4D."><link data-rh=true rel=icon href=/docs/fr/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/fr/18/Concepts/components><link data-rh=true rel=alternate href=https://developer.4d.com/docs/18/Concepts/components hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/18/Concepts/components hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/18/Concepts/components hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/18/Concepts/components hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/18/Concepts/components hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/18/Concepts/components hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/fr/opensearch.xml><link rel=stylesheet href=/docs/fr/assets/css/styles.eef951bf.css><script src=/docs/fr/assets/js/main.807b0d86.js defer></script><script src=/docs/fr/assets/js/runtime~main.b54e9596.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Aller au contenu principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Aller au contenu principal</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/fr/><div class=navbar__logo><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/fr/18/Concepts/components>18</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/fr/Concepts/components>20 R8 BETA</a><li><a class=dropdown__link href=/docs/fr/20-R7/Concepts/components>20 R7</a><li><a class=dropdown__link href=/docs/fr/20/Concepts/components>20</a><li><a class=dropdown__link href=/docs/fr/19/Concepts/components>19</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/fr/18/Concepts/components>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Français</a><ul class=dropdown__menu><li><a href=/docs/18/Concepts/components rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/18/Concepts/components rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=fr>Français</a><li><a href=/docs/es/18/Concepts/components rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/18/Concepts/components rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/18/Concepts/components rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Rechercher (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Rechercher</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/fr/><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/fr/18/GettingStarted/installation>Prise en main</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/docs/fr/18/Concepts/about>Concepts du langage 4D</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/18/Concepts/about>À propos du Langage 4D</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/18/Concepts/quick-tour>Tour d'horizon</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/fr/18/Concepts/data-types>Types de données</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/18/Concepts/variables>Variables</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/18/Concepts/arrays>Tableaux</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/18/Concepts/methods>Methods</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/18/Concepts/parameters>Paramètres</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/18/Concepts/shared>Objets et collections partagés</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/fr/18/Concepts/control-flow>Conditions et boucles</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/18/Concepts/error-handling>Gestion des erreurs</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/18/Concepts/interpreted-compiled>Modes interprété et compilé</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/fr/18/Concepts/components>Composants</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/18/Concepts/plug-ins>Plug-ins</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/18/Concepts/identifiers>Identifiants</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a href=https://doc.4d.com/4Dv18/4D/18.4/4D-Language-Reference.100-5232397.en.html target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false>Manuel Langage 4D</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/fr/18/Project/overview>Bases projets</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/fr/18/FormEditor/objectLibrary>Éditeur de formulaires</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/fr/18/FormObjects/formObjectsOverview>Objets de formulaire</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/fr/18/FormObjects/propertiesReference>Propriétés des objets de formulaire</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/fr/18/Menus/overview>Menus</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/fr/18/MSC/overview>CSM</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/fr/18/Backup/overview>Sauvegarde et restitution</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/fr/18/Users/overview>Utilisateurs et groupes</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/fr/18/REST/gettingStarted>Serveur REST</a></div></ul></nav><button type=button title="Réduire le menu latéral" aria-label="Réduire le menu latéral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Page d’accueil" class=breadcrumbs__link href=/docs/fr/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Concepts du langage 4D</span><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Composants</span><meta itemprop=position content=2></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 18</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Composants</h1></header><p>Un composant 4D est un ensemble d’objets 4D représentant une ou plusieurs fonctionnalité(s), qu’il est possible d’installer dans différentes bases. Par exemple, vous pouvez développer un composant 4D de courrier électronique gérant tous les aspects de l’envoi, la réception et le stockage d’emails au sein des bases 4D.</p>
<p>La création et l’installation des composants 4D s’effectuent directement depuis 4D. Schématiquement, les composants sont gérés comme des <a href=/docs/fr/18/Concepts/plug-ins>plug-ins</a>. Les principes sont les suivants :</p>
<ul>
<li>Un composant est un simple fichier de structure (compilé ou non compilé) d’architecture standard ou sous forme de package (cf. paragraphe Extension .4dbase).</li>
<li>Pour installer un composant dans une base, il suffit de le copier dans le dossier “Components” de la base, placé à côté du fichier de structure ou à côté de l'application 4D exécutable.</li>
<li>Un composant peut appeler la plupart des éléments 4D : des méthodes projet, des formulaires projet, des barres de menus, des listes à choix multiples, des images issues de la bibliothèque, etc. Il ne peut pas appeler des méthodes base et des triggers.</li>
<li>Il n’est pas possible d’exploiter des tables standard ou des fichiers de données dans les composants 4D. En revanche, un composant peut créer et/ou utiliser des tables, des champs et des fichiers de données via les mécanismes des bases externes. Les bases externes sont des bases 4D indépendantes manipulées via les commandes SQL.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=définitions>Définitions<a href=#définitions class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Les mécanismes de gestion des composants dans 4D nécessitent la mise en oeuvre des concepts et de la terminologie suivants :</p>
<ul>
<li><strong>Base matrice :</strong> base de données 4D utilisée pour développer le composant. La base matrice est une base standard, sans attribut spécifique. Une base matrice constitue un seul composant. La base matrice est destinée à être copiée, compilée ou non, dans le dossier Components de l'application 4D ou de la base devant utiliser le composant (la base hôte).</li>
<li><strong>Base hôte :</strong> base dans laquelle est installé et utilisé un composant.</li>
<li><strong>Composant :</strong> base matrice, compilée ou non, copiée dans le dossier Components de l'application 4D ou de la base hôte et dont le contenu est utilisé dans les bases hôtes.</li>
</ul>
<p>Il est à noter qu’une base peut donc être à la fois “matrice” et “hôte”, c’est-à-dire qu’une base matrice peut elle-même utiliser un ou plusieurs composants. En revanche, une base utilisée comme composant ne peut pas elle-même utiliser un composant : un seul niveau de composant est chargé.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=protection-des-composants--la-compilation>Protection des composants : la compilation<a href=#protection-des-composants--la-compilation class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Par défaut, toutes les méthodes projet d’une base matrice installée comme composant sont virtuellement visibles depuis la base hôte. En particulier :</p>
<ul>
<li>Les méthodes projet partagées sont accessibles dans la Page Méthodes de l’Explorateur et peuvent être appelées dans les méthodes de la base hôte. Leur contenu peut être sélectionné et copié dans la zone de prévisualisation de l’Explorateur. Elles peuvent également être visualisées dans le débogueur. Il n’est toutefois pas possible de les ouvrir dans l’éditeur de méthodes ni de les modifier.</li>
<li>Les autres méthodes projet de la base matrice n’apparaissent pas dans l’Explorateur mais peuvent également être visualisées dans le débogueur de la base hôte.</li>
</ul>
<p>Pour protéger efficacement les méthodes projet d’un composant, il vous suffit simplement de compiler la base matrice et de la fournir sous forme de fichier .4dc (base compilée ne contenant pas le code interprété). Lorsqu’une base matrice compilée est installée comme composant :</p>
<ul>
<li>Les méthodes projet partagées sont accessibles dans la Page Méthodes de l’Explorateur et peuvent être appelées dans les méthodes de la base hôte. En revanche, leur contenu n’apparaît pas dans la zone de prévisualisation ni dans le débogueur.</li>
<li>Les autres méthodes projet de la base matrice n’apparaissent jamais.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=partage-des-méthodes-projet>Partage des méthodes projet<a href=#partage-des-méthodes-projet class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Toutes les méthodes projet d’une base matrice sont par définition incluses dans le composant (la base est le composant), ce qui signifie qu’elles peuvent être appelées et exécutées par le composant.</p>
<p>En revanche, par défaut ces méthodes projet ne seront ni visibles ni appelables par la base hôte. Vous devez explicitement désigner dans la base matrice les méthodes que vous souhaitez partager avec la base hôte. Ces méthodes projet peuvent être appelées dans le code la base hôte (mais elles ne pourront pas être modifiées dans l’éditeur de méthodes de la base hôte). Ces méthodes constituent les <strong>points d’entrée</strong> dans le composant.</p>
<p><strong>Note :</strong> A l’inverse, pour des raisons de sécurité, par défaut un composant ne peut pas exécuter de méthode projet appartenant à la base hôte. Dans certains cas, vous pourrez avoir besoin d’autoriser un composant à accéder à des méthodes projet de votre base hôte. Pour cela, vous devez explicitement désigner les méthodes projet de la base hôte que vous souhaitez rendre accessibles aux composants.</p>
<p><img decoding=async loading=lazy src=/docs/fr/assets/images/pict516563.en-686ce2897139b168aeb17276e04b4265.png width=592 height=146 class=img_ev3q></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=passage-de-variables>Passage de variables<a href=#passage-de-variables class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Les composants et les bases hôtes ne partagent pas de variables locales, process ou interprocess. Le seul moyen d’accéder aux variables du composant depuis la base hôte et inversement est d’utiliser des pointeurs.</p>
<p>Exemple utilisant un tableau :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">//Dans la base hôte :</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ARRAY INTEGER(MyArray;10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">     AMethod(->MyArray)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">//Dans le composant, la méthode projet UneMéthode contient : </span><br></span><span class=token-line style=color:#393A34><span class="token plain">     APPEND TO ARRAY($1->;2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Exemples utilisant des variables :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> C_TEXT(myvariable)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> component_method1(->myvariable)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> C_POINTER($p)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $p:=component_method2(...)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>L’utilisation de pointeurs pour faire communiquer les composants et la base hôte nécessite de prendre en compte les spécificités suivantes :</p>
<ul>
<li>
<p>La commande <code>Pointeur vers</code> ne retournera pas un pointeur vers une variable de la base hôte si elle est appelée depuis un composant et inversement.</p>
</li>
<li>
<p>L’architecture des composants autorise la coexistence, au sein d’une même base interprétée, de composants interprétés et compilés (à l’inverse, seuls des composants compilés peuvent être utilisés dans une base compilée). L’usage de pointeurs dans ce cas doit respecter le principe suivant : l’interpréteur peut dépointer un pointeur construit en mode compilé mais à l’inverse, en mode compilé, il n’est pas possible de dépointer un pointeur construit en mode interprété. L’usage de pointeurs dans ce cas doit respecter le principe suivant : l’interpréteur peut dépointer un pointeur construit en mode compilé mais à l’inverse, en mode compilé, il n’est pas possible de dépointer un pointeur construit en mode interprété.</p>
</li>
<li>
<p>Si le composant C définit la variable <code>mavarC</code>, le composant I peut accéder à la valeur de cette variable en utilisant le pointeur <code>->mavarC</code>.</p>
</li>
<li>
<p>Si le composant I définit la variable <code>mavarI</code>, le composant C ne peut pas accéder à cette variable en utilisant le pointeur <code>->mavarI</code>. Cette syntaxe provoque une erreur d’exécution.</p>
</li>
<li>
<p>La comparaison de pointeurs via la commande <code>RESOUDRE POINTEUR</code> est déconseillée avec les composants car le principe de cloisonnement des variables autorise la coexistence de variables de même nom mais au contenu radicalement différente dans un composant et la base hôte (ou un autre composant). Le type de la variable peut même être différent dans les deux contextes. Si les pointeurs <code>monptr1</code> et <code>monptr2</code> pointent chacun sur une variable, la comparaison suivante produira un résultat erroné :</p>
</li>
</ul>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">     RESOLVE POINTER(monptr1;vNomVar1;vnumtable1;vnumchamp1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      RESOLVE POINTER(monptr2;vNomVar2;vnumtable2;vnumchamp2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      If(vNomVar1=vNomVar2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       //Ce test retourne Vrai alors que les variables sont différentes</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Dans ce cas, il est nécessaire d’utiliser la comparaison de pointeurs :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">     If(monptr1=monptr2) //Ce test retourne Faux</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=accès-aux-tables-de-la-base-hôte>Accès aux tables de la base hôte<a href=#accès-aux-tables-de-la-base-hôte class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Bien que les composants ne puissent pas utiliser de tables, les pointeurs permettent à la base hôte et au composant de communiquer dans ce cas. Par exemple, voici une méthode pouvant être appelée depuis un composant :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// appeler une méthode composant</span><br></span><span class=token-line style=color:#393A34><span class="token plain">methCreateRec(->[PERSONNES];->[PERSONNES]Nom;"Julie Andrews")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Dans le composant, le code de la méthode <code>methCreateRec</code> :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">C_POINTER($1) //Pointeur vers une table de la base hôte</span><br></span><span class=token-line style=color:#393A34><span class="token plain">C_POINTER($2) //Pointeur vers un champ de la base hôte</span><br></span><span class=token-line style=color:#393A34><span class="token plain">C_TEXT($3) // Valeur à insérer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$tablepointer:=$1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$fieldpointer:=$2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">CREATE RECORD($tablepointer->)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$fieldpointer->:=$3</span><br></span><span class=token-line style=color:#393A34><span class="token plain">SAVE RECORD($tablepointer->)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=portée-des-commandes-du-langage>Portée des commandes du langage<a href=#portée-des-commandes-du-langage class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Hormis les <a href=#unusable-commands>Commandes non utilisables</a>, un composant peut utiliser toute commande du langage 4D.</p>
<p>Lorsqu’elles sont appelées depuis un composant, les commandes s’exécutent dans le contexte du composant, à l’exception de la commande <code>EXECUTE METHOD</code> qui utilise le contexte de la méthode désignée par la commande. A noter également que les commandes de lecture du thème “Utilisateurs et groupes” sont utilisables depuis un composant mais lisent les utilisateurs et les groupes de la base hôte (un composant n’a pas d’utilisateurs et groupes propres).</p>
<p>Les commandes <code>EXECUTE METHOD</code> et <code>Get database parameter</code> constituent aussi une exception à ce principe : leur portée est globale à la base. Lorsque ces commandes sont appelées depuis un composant, elles s’appliquent à la base hôte.</p>
<p>Par ailleurs, des dispositions spécifiques sont définies pour les commandes <code>Structure file</code> et <code>Get 4D folder</code> lorsqu’elles sont utilisées dans le cadre des composants.</p>
<p>La commande <code>COMPONENT LIST</code> permet de connaître la liste des composants chargés par la base hôte.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=commandes-non-utilisables>Commandes non utilisables<a href=#commandes-non-utilisables class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Les commandes suivantes ne sont pas compatibles avec une utilisation dans le cadre d’un composant car elles modifient le fichier de structure — ouvert en lecture. Leur exécution dans un composant provoque l’erreur -10511, “La commande NomCommande ne peut pas être appelée depuis un composant” :</p>
<ul>
<li><code>ON EVENT CALL</code></li>
<li><code>Method called on event</code></li>
<li><code>SET PICTURE TO LIBRARY</code></li>
<li><code>REMOVE PICTURE FROM LIBRARY</code></li>
<li><code>SAVE LIST</code></li>
<li><code>ARRAY TO LIST</code></li>
<li><code>EDIT FORM</code></li>
<li><code>CREATE USER FORM</code></li>
<li><code>DELETE USER FORM</code></li>
<li><code>CHANGE PASSWORD</code></li>
<li><code>EDIT ACCESS</code></li>
<li><code>Set group properties</code></li>
<li><code>Set user properties</code></li>
<li><code>DELETE USER</code></li>
<li><code>CHANGE LICENSES</code></li>
<li><code>BLOB TO USERS</code></li>
<li><code>SET PLUGIN ACCESS</code></li>
</ul>
<p><strong>Notes :</strong></p>
<ul>
<li>La commande <code>Table du formulaire courant</code> retourne <code>Nil</code> lorsqu’elle est appelée dans le contexte d’un formulaire projet. Par conséquent, elle ne peut pas être utilisée dans un composant.</li>
<li>Les commandes SQL de définition de données (<code>CREATE TABLE</code>, <code>DROP TABLE</code>, etc.) ne peuvent pas être utilisées dans les composants. Elles sont néanmoins prises en charge avec des bases de données externes (voir la commande SQL <code>CREATE DATABASE</code>).</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=gestion-des-erreurs>Gestion des erreurs<a href=#gestion-des-erreurs class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Une <a href=/docs/fr/18/Concepts/error-handling>méthode de gestion d'erreurs</a> installée par la commande <code>ON ERR CALL</code> s'applique à la base en cours d'exécution uniquement. En cas d'erreur générée par un composant, la méthode d'appel sur erreur de la base hôte n'est pas appelée, et inversement.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utilisation-de-formulaires>Utilisation de formulaires<a href=#utilisation-de-formulaires class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<ul>
<li>Seuls les "formulaires projet" (formulaires non associés à une table en particulier) peuvent être exploités directement dans un composant. Seuls les "formulaires projet" (formulaires non associés à une table en particulier) peuvent être exploités directement dans un composant.</li>
<li>Un composant peut faire appel à des formulaires table de la base hôte. A noter qu’il est nécessaire dans ce cas d’utiliser des pointeurs plutôt que des noms de table entre [] pour désigner les formulaires dans le code du composant.</li>
</ul>
<p><strong>Note :</strong> Si un composant utilise la commande <code>ADD RECORD</code>, le formulaire Entrée courant de la base hôte sera affiché, dans le contexte de la base hôte. Par conséquent, si le formulaire comporte des variables, le composant n’y aura pas accès.</p>
<ul>
<li>Vous pouvez publier des formulaires de composants comme sous-formulaires dans les bases hôtes. Avec ce principe, vous pouvez notamment développer des composants proposant des objets graphiques. Par exemple, les Widgets proposés par 4D sont basés sur l’emploi de sous-formulaires en composants.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utilisation-de-tables-et-de-champs>Utilisation de tables et de champs<a href=#utilisation-de-tables-et-de-champs class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Un composant ne peut pas utiliser les tables et les champs définis dans la structure 4D de la base matrice. En revanche, il peut créer et utiliser des bases externes, et donc utiliser des tables et des champs en fonction de ses besoins. Les bases externes sont créées et gérées via le langage SQL. En revanche, il peut créer et utiliser des bases externes, et donc utiliser des tables et des champs en fonction de ses besoins. Utiliser une base externe signifie désigner temporairement cette base comme base courante, c’est-à-dire comme base cible des requêtes SQL exécutées par 4D. Les bases externes sont créées à l'aide de la commande SQL <code>CREATE DATABASE</code>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemple>Exemple<a href=#exemple class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Le code suivant est inclus dans un composant et effectue trois actions élémentaires avec une base de données externe :</p>
<ul>
<li>création de la base de données externe si elle n'existe pas déjà,</li>
<li>ajout de données dans la base de données externe,</li>
<li>lecture de données depuis la base de données externe.</li>
</ul>
<p>Création de la base de données externe :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">&lt;>MyDatabase:=Get 4D folder+"\MyDB" // (Windows) stocke les données dans un répertoire autorisé</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Begin SQL</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        CREATE DATABASE IF NOT EXISTS DATAFILE :[&lt;>MyDatabase];</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        USE DATABASE DATAFILE :[&lt;>MyDatabase];</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        CREATE TABLE IF NOT EXISTS KEEPIT</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        (</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        ID INT32 PRIMARY KEY,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        kind VARCHAR,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        name VARCHAR,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        code TEXT,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        sort_order INT32</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        );</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        CREATE UNIQUE INDEX id_index ON KEEPIT (ID);</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        USE DATABASE SQL_INTERNAL;</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End SQL</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Ecriture dans la base de données externe :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $Ptr_1:=$2 // récupération des données de la base hôte via des pointeurs</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $Ptr_2:=$3</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $Ptr_3:=$4</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $Ptr_4:=$5</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $Ptr_5:=$6</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Begin SQL</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        USE DATABASE DATAFILE :[&lt;>MyDatabase];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        INSERT INTO KEEPIT</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        (ID, kind, name, code, sort_order)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        VALUES</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        (:[$Ptr_1], :[$Ptr_2], :[$Ptr_3], :[$Ptr_4], :[$Ptr_5]);</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        USE DATABASE SQL_INTERNAL;</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End SQL</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Lecture dans une base de données externe :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $Ptr_1:=$2 // accès aux données de la base hôte via des pointeurs</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $Ptr_2:=$3</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $Ptr_3:=$4</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $Ptr_4:=$5</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $Ptr_5:=$6</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Debut SQL</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    USE DATABASE DATAFILE :[&lt;>MyDatabase];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    SELECT ALL ID, kind, name, code, sort_order</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    FROM KEEPIT</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    INTO :$Ptr_1, :$Ptr_2, :$Ptr_3, :$Ptr_4, :$Ptr_5;</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    USE DATABASE SQL_INTERNAL;</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Fin SQL</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copier le code" title=Copier class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utilisation-de-ressources>Utilisation de ressources<a href=#utilisation-de-ressources class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Les composants peuvent utiliser des ressources. Si le composant est d’architecture .4dbase (architecture conseillée), le dossier Resources doit être placé à l’intérieur de ce dossier.</p>
<p>Les mécanismes automatiques sont opérationnels : les fichiers XLIFF présents dans le dossier Resources d’un composant seront chargés par ce composant.</p>
<p>Dans une base de données hôte contenant un ou plusieurs composants, chaque composant ainsi que les bases de données hôte ont leur propre «chaîne de ressources» Dans une base de données hôte contenant un ou plusieurs composants, chaque composant ainsi que les bases de données hôte ont leur propre «chaîne de ressources» In a host database containing one or more components, each component as well as the host databases has its own “resources string.” Resources are partitioned between the different databases: it is not possible to access the resources of component A from component B or the host database.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=aide-en-ligne-des-composants>Aide en ligne des composants<a href=#aide-en-ligne-des-composants class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Un mécanisme spécifique a été mis en place afin de permettre aux développeurs d’ajouter des aides en ligne à leurs composants. Le principe est semblable à celui proposé pour les bases de données 4D :</p>
<ul>
<li>L’aide du composant doit être fournie sous le forme d’un fichier suffixé .htm, .html ou (Windows uniquement) .chm,</li>
<li>Le fichier d’aide doit être placé à côté du fichier de structure du composant et porter le même nom que le fichier de structure,</li>
<li>L’aide est alors automatiquement chargée dans le menu Aide de l’application avec le libellé “Aide de...” suivi du nom du fichier d’aide.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20Concepts%2Fcomponents.md%20(18)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Ecrire un commentaire sur cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/fr/18/Concepts/interpreted-compiled><div class=pagination-nav__sublabel>Précédent</div><div class=pagination-nav__label>Modes interprété et compilé</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/fr/18/Concepts/plug-ins><div class=pagination-nav__sublabel>Suivant</div><div class=pagination-nav__label>Plug-ins</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#définitions class="table-of-contents__link toc-highlight">Définitions</a><ul><li><a href=#protection-des-composants--la-compilation class="table-of-contents__link toc-highlight">Protection des composants : la compilation</a></ul><li><a href=#partage-des-méthodes-projet class="table-of-contents__link toc-highlight">Partage des méthodes projet</a><li><a href=#passage-de-variables class="table-of-contents__link toc-highlight">Passage de variables</a><li><a href=#accès-aux-tables-de-la-base-hôte class="table-of-contents__link toc-highlight">Accès aux tables de la base hôte</a><li><a href=#portée-des-commandes-du-langage class="table-of-contents__link toc-highlight">Portée des commandes du langage</a><ul><li><a href=#commandes-non-utilisables class="table-of-contents__link toc-highlight">Commandes non utilisables</a></ul><li><a href=#gestion-des-erreurs class="table-of-contents__link toc-highlight">Gestion des erreurs</a><li><a href=#utilisation-de-formulaires class="table-of-contents__link toc-highlight">Utilisation de formulaires</a><li><a href=#utilisation-de-tables-et-de-champs class="table-of-contents__link toc-highlight">Utilisation de tables et de champs</a><ul><li><a href=#exemple class="table-of-contents__link toc-highlight">Exemple</a></ul><li><a href=#utilisation-de-ressources class="table-of-contents__link toc-highlight">Utilisation de ressources</a><li><a href=#aide-en-ligne-des-composants class="table-of-contents__link toc-highlight">Aide en ligne des composants</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Communauté</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="col footer__col"><div class=footer__title>Support</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Documentation download<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Où tout a commencé)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Knowledgebase</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Téléchargements</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Aide</a></ul></div><div class="col footer__col"><div class=footer__title>Société</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>A propos de 4D</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contacts</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D dans le monde</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Carrière</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 4D SAS - Tous droits réservés</div></div></div></footer></div>