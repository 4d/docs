<!doctype html><html lang=fr dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20-R10 docs-doc-page docs-doc-id-WebServer/http-request-handler" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Gestionnaire de requêtes HTTP | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://developer.4d.com/docs/fr/20-R10/WebServer/http-request-handler /><meta data-rh=true property=og:locale content=fr /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true property=og:locale:alternate content=es /><meta data-rh=true property=og:locale:alternate content=ja /><meta data-rh=true property=og:locale:alternate content=pt /><meta data-rh=true name=docusaurus_locale content=fr /><meta data-rh=true name=docsearch:language content=fr /><meta data-rh=true name=docusaurus_version content=20-R10 /><meta data-rh=true name=docusaurus_tag content=docs-default-20-R10 /><meta data-rh=true name=docsearch:version content=20-R10 /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20-R10 /><meta data-rh=true property=og:title content="Gestionnaire de requêtes HTTP | 4D Docs"/><meta data-rh=true name=description content="Par défaut, les requêtes HTTP reçues par le serveur web 4D sont traitées par des fonctionalités intégrées de traitement ou le serveur REST."/><meta data-rh=true property=og:description content="Par défaut, les requêtes HTTP reçues par le serveur web 4D sont traitées par des fonctionalités intégrées de traitement ou le serveur REST."/><link data-rh=true rel=icon href=/docs/fr/img/favicon/4d.gif /><link data-rh=true rel=canonical href=https://developer.4d.com/docs/fr/20-R10/WebServer/http-request-handler /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R10/WebServer/http-request-handler hreflang=en /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/20-R10/WebServer/http-request-handler hreflang=fr /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/20-R10/WebServer/http-request-handler hreflang=es /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/20-R10/WebServer/http-request-handler hreflang=ja /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/20-R10/WebServer/http-request-handler hreflang=pt /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R10/WebServer/http-request-handler hreflang=x-default /><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developer.4d.com/docs/fr/20-R10/category/web-applications","name":"Applications Web","position":1},{"@type":"ListItem","item":"https://developer.4d.com/docs/fr/20-R10/WebServer/overview","name":"Web Server","position":2},{"@type":"ListItem","item":"https://developer.4d.com/docs/fr/20-R10/WebServer/http-request-handler","name":"Gestionnaire de requêtes HTTP","position":3}]}</script><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/fr/opensearch.xml><script src=https://kit.fontawesome.com/daeacc3fc4.js crossorigin=anonymous></script><link rel=stylesheet href=/docs/fr/assets/css/styles.73ef7d2c.css /><script src=/docs/fr/assets/js/runtime~main.10fec884.js defer></script><script src=/docs/fr/assets/js/main.2996afb1.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/docs/fr/img/logohome.png /><div role=region aria-label="Aller au contenu principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Aller au contenu principal</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/fr/><div class=navbar__logo><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/fr/20-R10/WebServer/http-request-handler>20 R10</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/fr/WebServer/http-request-handler>21 BETA</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/fr/20-R10/WebServer/http-request-handler>20 R10</a><li><a class=dropdown__link href=/docs/fr/20/GettingStarted/installation>20</a><li><a class=dropdown__link href=/docs/fr/19/GettingStarted/installation>19</a><li><a class=dropdown__link href=/docs/fr/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Français</a><ul class=dropdown__menu><li><a href=/docs/20-R10/WebServer/http-request-handler target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/20-R10/WebServer/http-request-handler target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=fr>Français</a><li><a href=/docs/es/20-R10/WebServer/http-request-handler target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/20-R10/WebServer/http-request-handler target=_self rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/20-R10/WebServer/http-request-handler target=_self rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="mode système" aria-label="Basculer entre le mode sombre et clair (actuellement mode système)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Rechercher (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Rechercher</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/fr/><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/20-R10/category/getting-started><span title="Prise en main" class=categoryLinkLabel_W154>Prise en main</span></a><button aria-label="Expand sidebar category 'Prise en main'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/20-R10/category/project-ide><span title="Projet & IDE" class=categoryLinkLabel_W154>Projet & IDE</span></a><button aria-label="Expand sidebar category 'Projet & IDE'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/20-R10/category/4d-language><span title="Langage 4D" class=categoryLinkLabel_W154>Langage 4D</span></a><button aria-label="Expand sidebar category 'Langage 4D'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/20-R10/category/core><span title=Développement class=categoryLinkLabel_W154>Développement</span></a><button aria-label="Expand sidebar category 'Développement'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/docs/fr/20-R10/category/web-applications><span title="Applications Web" class=categoryLinkLabel_W154>Applications Web</span></a><button aria-label="Collapse sidebar category 'Applications Web'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://developer.4d.com/qodly/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex=0><span title="4D Qodly Pro" class=linkLabel_WmDU>4D Qodly Pro</span><svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/fr/20-R10/WebServer/overview><span title="Web Server" class=categoryLinkLabel_W154>Web Server</span></a><button aria-label="Collapse sidebar category 'Web Server'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R10/WebServer/gettingStarted><span title="Prise en main" class=linkLabel_WmDU>Prise en main</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R10/WebServer/webServerConfig><span title=Configuration class=linkLabel_WmDU>Configuration</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R10/WebServer/webServerAdmin><span title=Administration class=linkLabel_WmDU>Administration</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R10/WebServer/webServerObject><span title="Web Server instances" class=linkLabel_WmDU>Web Server instances</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R10/WebServer/templates><span title="Pages templates" class=linkLabel_WmDU>Pages templates</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R10/WebServer/httpRequests><span title="Traitement des requêtes HTTP" class=linkLabel_WmDU>Traitement des requêtes HTTP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/fr/20-R10/WebServer/http-request-handler><span title="Gestionnaire de requêtes HTTP" class=linkLabel_WmDU>Gestionnaire de requêtes HTTP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R10/WebServer/allowProject><span title="Autoriser les méthodes projet" class=linkLabel_WmDU>Autoriser les méthodes projet</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R10/WebServer/errorPages><span title="Pages d'erreur HTTP personnalisées" class=linkLabel_WmDU>Pages d'erreur HTTP personnalisées</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R10/WebServer/authentication><span title=Authentification class=linkLabel_WmDU>Authentification</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R10/WebServer/sessions><span title="Sessions Web" class=linkLabel_WmDU>Sessions Web</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R10/WebServer/preemptiveWeb><span title="Utiliser des process web préemptifs" class=linkLabel_WmDU>Utiliser des process web préemptifs</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/docs/fr/20-R10/category/rest-api><span title="API REST" class=categoryLinkLabel_W154>API REST</span></a><button aria-label="Expand sidebar category 'API REST'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/20-R10/category/desktop-applications><span title="Applications Desktop" class=categoryLinkLabel_W154>Applications Desktop</span></a><button aria-label="Expand sidebar category 'Applications Desktop'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/20-R10/category/administration><span title=Administration class=categoryLinkLabel_W154>Administration</span></a><button aria-label="Expand sidebar category 'Administration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/20-R10/category/extensions><span title=Extensions class=categoryLinkLabel_W154>Extensions</span></a><button aria-label="Expand sidebar category 'Extensions'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav><button type=button title="Réduire le menu latéral" aria-label="Réduire le menu latéral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Page d’accueil" class=breadcrumbs__link href=/docs/fr/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/fr/20-R10/category/web-applications><span>Applications Web</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/fr/20-R10/WebServer/overview><span>Web Server</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Gestionnaire de requêtes HTTP</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version : 20 R10</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Gestionnaire de requêtes HTTP</h1></header><p>Par défaut, les requêtes HTTP reçues par le serveur web 4D sont traitées par des <a class="" href=/docs/fr/20-R10/WebServer/httpRequests>fonctionalités intégrées de traitement</a> ou le <a class="" href=/docs/fr/20-R10/REST/REST_requests>serveur REST</a>.</p>
<p>Toutefois, 4D prend en charge la mise en œuvre de <strong>gestionnaires de requêtes HTTP personnalisés</strong> (<em>custom HTTP handlers</em>), vous permettant d'intercepter des requêtes HTTP entrantes spécifiques et de les traiter à l'aide de votre propre code.</p>
<p>Lorsqu'un gestionnaire de requête HTTP personnalisé intercepte une requête, celle-ci est traitée directement et aucune autre fonctionnalité de traitement (par exemple, les méthodes base <a class="" href=/docs/fr/20-R10/WebServer/authentication#on-web-authentication>On Web authentication</a> ou <a class="" href=/docs/fr/20-R10/WebServer/httpRequests#on-web-connection>On Web connection</a>) n'est appelée.</p>
<p>Les gestionnaires de requêtes HTTP personnalisés répondent à divers besoins, y compris :</p>
<ul>
<li class="">l'utilisation d'une URL dédiée comme fournisseur de ressources ou comme zone de téléchargement de fichiers (pour télécharger ou téléverser divers fichiers),</li>
<li class="">la redirection sur des pages spécifiques en fonction d'un contexte (utilisateur authentifié, privilèges accordés...),</li>
<li class="">la gestion d'une authentification via oAuth 2.0.</li>
</ul>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=conditions-requises>Conditions requises<a href=#conditions-requises class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h2>
<p>Les gestionnaires de requêtes HTTP personnalisés sont pris en charge :</p>
<ul>
<li class="">lorsque les <a class="" href=/docs/fr/20-R10/WebServer/sessions#enabling-web-sessions>sessions évolutives</a> sont activées,</li>
<li class="">avec le serveur Web principal uniquement (les gestionnaires de requêtes HTTP éventuellement définis dans les <a class="" href=/docs/fr/20-R10/WebServer/webServerObject>serveurs Web des composants</a> sont ignorés).</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>attention</div><div class=admonitionContent_BuS1><p><a class="" href=/docs/fr/20-R10/ORDA/privileges#default-file>Par défaut</a> pour des raisons de sécurité, l'accès externe au datastore n'est pas autorisé dans 4D. Vous devez configurer les <a class="" href=/docs/fr/20-R10/ORDA/privileges>privilèges ORDA</a> pour autoriser les requêtes HTTP.</div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=fichier-httphandlersjson>Fichier HTTPHandlers.json<a href=#fichier-httphandlersjson class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h2>
<p>Vous définissez vos gestionnaires de requêtes HTTP personnalisés dans un fichier de configuration nommé <strong>HTTPHandlers.json</strong> stocké dans le dossier <a class="" href=/docs/fr/20-R10/Project/architecture#sources><code>Project/Sources</code></a>.</p>
<p>Ce fichier contient tous les motifs d'URL à intercepter, les verbes manipulés et le code à appeler. Les gestionnaires sont fournis sous la forme d'une collection au format JSON.</p>
<p>Au moment de l'exécution, le premier motif (<em>pattern</em>) correspondant à l'URL est exécuté, les autres sont ignorés.</p>
<p>Voici un exemple du contenu d'un fichier <em>HTTPHandlers.json</em> :</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"GeneralHandling"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"gettingStarted"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"pattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"start"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"verbs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"get, post"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><br/></span></code></pre></div></div>
<p>Cette déclaration de gestionnaire peut être lue ainsi : quand une requête commençant par <code>/start/</code> avec un verbe <code>GET</code> ou <code>POST</code> est reçue par le serveur, la fonction <code>gettingStarted</code> du singleton <code>GeneralHandling</code> est exécutée.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>Vous devez redémarrer le serveur Web pour que les modifications apportées dans ce fichier soient prises en compte.</div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=définition-du-gestionnaire>Définition du gestionnaire<a href=#définition-du-gestionnaire class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h2>
<p>Un gestionnaire est défini par :</p>
<ul>
<li class="">un motif d'URL à intercepter</li>
<li class="">une fonction et sa classe où le code est implémenté pour traiter le motif d'URL en question</li>
<li class="">les verbes avec lesquels l'URL peut être appelée pour déclencher le gestionnaire personnalisé</li>
</ul>
<p>L'identifiant du gestionnaire est le couple [motif + un verbe parmi la liste des verbes].</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=motifs-durl>Motifs d'URL<a href=#motifs-durl class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<p>Les motifs d'URL peuvent être fournis sous forme de <strong>préfixes</strong> ou en utilisant des <strong>expressions régulières</strong> (<em>regex</em>).</p>
<ul>
<li class="">
<p>Pour déclarer un motif de préfixe, utilisez le nom de propriété "pattern" dans le fichier HTTPHandlers.json. Les préfixes sont considérés comme des expressions régulières contenant déjà un <code>/</code> initial et final.<br/>
Ex : <code>"pattern" : "docs"</code> ou <code>"pattern" : "docs/invoices"</code></p>
</li>
<li class="">
<p>Pour déclarer un motif d'expression régulière, utilisez le nom de la propriété "regexPattern" dans le fichier HTTPHandlers.json. Les motifs d'expressions régulières sont traités directement.
Ex: <code>"regexPattern" : "/docs/.+/index\.html"</code></p>
</li>
</ul>
<p>Les propriétés "Pattern" et "regexPattern" ne peuvent pas être utilisées dans la même définition de gestionnaire (dans ce cas, seule la propriété "regexPattern" est prise en compte).</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=correspondance-des-motifs>Correspondance des motifs<a href=#correspondance-des-motifs class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h4>
<p>Les motifs d'URL sont déclenchés dans l'ordre défini :</p>
<ul>
<li class="">le premier motif correspondant est exécuté</li>
<li class="">les motifs suivants ne sont pas exécutés même s'ils correspondent à l'URL</li>
</ul>
<p>Par conséquent, vous devez appliquer une stratégie précise lorsque vous écrivez vos gestionnaires : les motifs les plus détaillés doivent être écrits avant les motifs plus généraux.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"InvoiceslHandling"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"handleTheInvoice"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/docs/invoices/details/theInvoice"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"verbs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"GET"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"InvoiceslHandling"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"handleUnauthorizedVerbs"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/docs/invoices/details/theInvoice"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"comment"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"This handler is triggered for all verbs except GET (handled above)"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"DocsHandling"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"handleDocs"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/docs"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"comment"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"This handler is triggered for all the verbs"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=motifs-non-autorisés>Motifs non autorisés<a href=#motifs-non-autorisés class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h4>
<p>Les motifs d'URL correspondant aux fonctions de traitement HTTP intégrées de 4D ne sont pas autorisés dans les gestionnaires HTTP personnalisés. Par exemple, les motifs suivants ne peuvent pas être traités :</p>
<ul>
<li class=""><code>/4DACTION</code></li>
<li class=""><code>/rest</code></li>
<li class=""><code>/$lib/renderer</code></li>
<li class=""><code>/$shared</code></li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=class-et-method>Class et method<a href=#class-et-method class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<p>Vous déclarez le code à exécuter lorsqu'un motif d'URL défini est intercepté à l'aide des propriétés "class" et "method".</p>
<ul>
<li class="">"class" : nom de la classe sans <code>cs.</code>, par exemple "UsersHandling" pour la classe utilisateur <code>cs.UsersHandling</code>. Il doit s'agir d'une classe <a class="" href=/docs/fr/20-R10/Concepts/classes#shared-singleton><strong>partagée</strong></a> et <a class="" href=/docs/fr/20-R10/Concepts/classes#singleton-classes><strong>singleton</strong></a>.</li>
<li class="">"méthode" : fonction de classe appartenant à la classe.</li>
</ul>
<p><a href=#request-handler-code class="">Voir ci-dessous</a> pour plus d'informations sur le code du gestionnaire de requête.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=verbs>Verbs<a href=#verbs class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<p>Vous pouvez utiliser la propriété "verbs" dans la définition du gestionnaire pour déclarer les verbes HTTP pris en charge dans les requêtes entrantes pour ce gestionnaire. Une requête qui utilise un verbe qui n'est pas explicitement autorisé est automatiquement rejetée par le serveur.</p>
<p>Vous pouvez déclarer plusieurs verbes, séparés par une virgule. Les noms de verbes ne sont pas sensibles à la casse.</p>
<p>Ex : <code>"verbs" : "PUT, POST"</code></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>Aucun contrôle n'est effectué sur les noms de verbes. Tous les noms peuvent être utilisés.</div></div>
<p>Par défaut, si la propriété "verbs" n'est pas utilisée pour un gestionnaire, <strong>tous</strong> les verbes HTTP sont pris en charge dans les requêtes entrantes pour ce gestionnaire (sauf ceux éventuellement utilisés au préalable dans un motif plus détaillé, comme illustré dans l'exemple ci-dessus).</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>Le verbe HTTP peut également être évalué <a class="" href=/docs/fr/20-R10/API/IncomingMessageClass#verb>à l'aide de la propriété <code>.verb</code> dans le code du gestionnaire de requête</a> pour être accepté ou rejeté.</div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=exemple>Exemple<a href=#exemple class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h2>
<p>Voici un exemple détaillé de fichier HTTPHandlers.json :</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">   </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"GeneralHandling"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"handle"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"pattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"info"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic>//URL prefix</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"verbs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"GET"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"UsersHandling"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"manageAccount"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"pattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"userAccount/update"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">   </span><span class="token comment" style=color:#999988;font-style:italic>//URL prefix</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"verbs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"PUT,POST"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"FinancialHandling"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"handleInvoices"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/docs/invoices/(past|today)"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic>//URL prefix given as a regex</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"verbs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"GET"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"DocsHandling"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"handleDocs"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/docs/myPage.html"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>//URL prefix given as a regex</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"verbs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"GET"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"InvoicesHandling"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"handleTheInvoice"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"pattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"docs/invoices/details/theInvoice"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic>// The most specific URL first</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"verbs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"GET,POST"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"InvoicesHandling"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"handleDetails"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"pattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"docs/invoices/details"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// The general URLs after</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"verbs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"GET"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"InvoicesHandling"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"handleInvoices"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">   </span><span class="token comment" style=color:#999988;font-style:italic>// The general URLs after</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"pattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"docs/invoices"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"verbs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"GET"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<p>Dans cet exemple, vous devez implémenter les fonctions suivantes :</p>
<ul>
<li class="">Fonction <em>handle</em> dans la classe <em>GeneralHandling</em></li>
<li class=""><em>manageAccount</em> dans la classe <em>UsersHandling</em></li>
<li class=""><em>handleInvoices</em> dans la classe <em>FinancialHandling</em></li>
<li class=""><em>handleDocs</em> dans la classe <em>DocsHandling</em></li>
<li class=""><em>handleTheInvoice</em> / <em>handleDetails</em> / <em>handleInvoices</em> dans la classe <em>InvoicesHandling</em></li>
</ul>
<p>Exemples d'URL déclenchant les gestionnaires personnalisés :</p>
<p><code>IP:port/info/</code> avec un verbe GET
<code>IP:port/info/general</code> avec un verbe GET</p>
<p><code>IP:port/userAccount/update/</code> avec un verbe POST
<code>IP:port/userAccount/update/profile</code> avec un verbe POST</p>
<p><code>IP:port/docs/invoices/past</code> avec un verbe GET
<code>IP:port/docs/invoices/today/latest</code> avec un verbe GET</p>
<p><code>IP:port//docs/myPage.html</code> avec un verbe GET</p>
<p><code>IP:port//docs/invoices/</code> avec un verbe GET, appelle la fonction <em>handleInvoices</em> (classe <em>InvoicesHandling</em>)
<code>IP:port//docs/invoices/details/</code> avec un verbe GET, appelle la fonction <em>handleDetails</em> (classe <em>InvoicesHandling</em>)
<code>IP :port//docs/invoices/details/theInvoice/xxxxxx</code> avec un verbe GET, appelle la fonction <em>handleTheInvoice</em> (classe <em>InvoiceslHandling</em>)</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=code-du-gestionnaire-de-requête>Code du gestionnaire de requête<a href=#code-du-gestionnaire-de-requête class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=configuration-des-fonctions>Configuration des fonctions<a href=#configuration-des-fonctions class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<p>Le code du gestionnaire de requêtes HTTP doit être mis en œuvre dans une fonction d'une classe <a class="" href=/docs/fr/20-R10/Concepts/classes#shared-singleton><strong>partagée</strong></a> et <a class="" href=/docs/fr/20-R10/Concepts/classes#singleton-classes><strong>singleton</strong></a>.</p>
<p>Si le singleton est manquant ou non partagé, une erreur "Cannot find singleton" est renvoyée par le serveur. Si la classe ou la fonction <a href=#handler-definition class="">définie comme handler</a> dans le fichier HTTPHandlers.json n'est pas trouvée, le serveur renvoie l'erreur "Cannot find singleton function".</p>
<p>Les fonctions du gestionnaire de requêtes ne sont pas nécessairement partagées, sauf si certaines propriétés du gestionnaire sont modifiées par ces fonctions. Dans ce cas, vous devez déclarer ses fonctions avec le <a class="" href=/docs/fr/20-R10/Concepts/classes#shared-functions>mot-clé <code>shared</code></a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>Il est <strong>déconseillé</strong> d'exposer les fonctions du gestionnaire de requêtes aux appels REST externes en utilisant les mots-clés <a class="" href=/docs/fr/20-R10/ORDA/ordaClasses#exposed-vs-non-exposed-functions><code>exposed</code></a> ou <a class="" href=/docs/fr/20-R10/ORDA/ordaClasses#onhttpget-keyword><code>onHTTPGet</code></a>.</div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=entrée--une-instance-de-la-classe-4dincomingmessage>Entrée : une instance de la classe 4D.IncomingMessage<a href=#entrée--une-instance-de-la-classe-4dincomingmessage class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<p>Lorsqu'une requête a été interceptée par le gestionnaire, elle est reçue sur le serveur en tant qu'instance de la classe <a class="" href=/docs/fr/20-R10/API/IncomingMessageClass>4D.IncomingMessage</a>.</p>
<p>Toutes les informations nécessaires concernant la requête sont disponibles dans cet objet, y compris l'URL, le verbe, les en-têtes et, le cas échéant, les paramètres (placés dans l'URL) et le corps de la requête.</p>
<p>Ensuite, le gestionnaire de requête peut utiliser ces informations pour mettre en oeuvre une logique métier appropriée.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=sortie--une-instance-de-la-classe-4doutgoingmessage>Sortie : une instance de la classe 4D.OutgoingMessage<a href=#sortie--une-instance-de-la-classe-4doutgoingmessage class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<p>Le gestionnaire de requête peut renvoyer une instance d'objet de la classe <a class="" href=/docs/fr/20-R10/API/OutgoingMessageClass>4D.OutGoingMessage</a>, c'est-à-dire un contenu web complet prêt à être traité par un navigateur, comme un contenu de fichier.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=exemple-1>Exemple<a href=#exemple-1 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<p>La classe <a class="" href=/docs/fr/20-R10/API/IncomingMessageClass>4D.IncomingMessage</a> fournit des fonctions pour obtenir les <a class="" href=/docs/fr/20-R10/API/IncomingMessageClass#headers>headers</a> et le <a class="" href=/docs/fr/20-R10/API/IncomingMessageClass#gettext>body</a> de la requête.</p>
<p>Voici un exemple simple pour télécharger un fichier sur le serveur.</p>
<p>Le fichier <strong>HTTPHandlers.json</strong> :</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"class"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"UploadFile"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"method"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"uploadFile"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/putFile"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"verbs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"POST"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><br/></span></code></pre></div></div>
<p>L'URL appelée est : <a href="http://127.0.0.1:8044/putFile?fileName=testFile" target=_blank rel="noopener noreferrer" class="">http://127.0.0.1:8044/putFile?fileName=testFile</a></p>
<p>Le contenu binaire du fichier est placé dans le corps de la requête et un verbe POST est utilisé. Le nom du fichier est fourni en paramètre (<em>fileName</em>) dans l'URL. Il est reçu dans l'objet <a class="" href=/docs/fr/20-R10/API/IncomingMessageClass#urlquery><code>urlQuery</code></a> de la requête.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">    //UploadFile class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">shared singleton Class constructor()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function uploadFile($request : 4D.IncomingMessage) : 4D.OutgoingMessage</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	var $response:=4D.OutgoingMessage.new()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	var $body:="Not supported file"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	var $fileName; $fileType : Text</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	var $file : 4D.File</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	var $picture : Picture</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	var $created : Boolean</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	$fileName:=$request.urlQuery.fileName</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	$fileType:=$request.getHeader("Content-Type")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	Case of </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		: ($fileType="application/pdf")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			$file:=File("/PACKAGE/Files/"+$fileName+".pdf")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			$created:=$file.create()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			$file.setContent($request.getBlob())</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			$body:="Upload OK - File size: "+String($file.size)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		: ($fileType="image/jpeg")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			$file:=File("/PACKAGE/Files/"+$fileName+".jpg")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			$picture:=$request.getPicture()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			WRITE PICTURE FILE($file.platformPath; $picture)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			$body:="Upload OK - Image size: "+String($file.size)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	End case </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	$response.setBody($body)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	$response.setHeader("Content-Type"; "text/plain")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	return $response</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=voir-également>Voir également<a href=#voir-également class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h2>
<p><a href=https://blog.4d.com/master-http-requests-with-4d-request-handlers/ target=_blank rel="noopener noreferrer" class="">Maîtriser les requêtes HTTP avec les gestionnaires de requêtes 4D</a> (blog post)</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20WebServer%2Fhttp-request-handler.md%20(20-R10)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Ecrire un commentaire sur cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/fr/20-R10/WebServer/httpRequests><div class=pagination-nav__sublabel>Précédent</div><div class=pagination-nav__label>Traitement des requêtes HTTP</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/fr/20-R10/WebServer/allowProject><div class=pagination-nav__sublabel>Suivant</div><div class=pagination-nav__label>Autoriser les méthodes projet</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#conditions-requises class="table-of-contents__link toc-highlight">Conditions requises</a><li><a href=#fichier-httphandlersjson class="table-of-contents__link toc-highlight">Fichier HTTPHandlers.json</a><li><a href=#définition-du-gestionnaire class="table-of-contents__link toc-highlight">Définition du gestionnaire</a><ul><li><a href=#motifs-durl class="table-of-contents__link toc-highlight">Motifs d'URL</a><li><a href=#class-et-method class="table-of-contents__link toc-highlight">Class et method</a><li><a href=#verbs class="table-of-contents__link toc-highlight">Verbs</a></ul><li><a href=#exemple class="table-of-contents__link toc-highlight">Exemple</a><li><a href=#code-du-gestionnaire-de-requête class="table-of-contents__link toc-highlight">Code du gestionnaire de requête</a><ul><li><a href=#configuration-des-fonctions class="table-of-contents__link toc-highlight">Configuration des fonctions</a><li><a href=#entrée--une-instance-de-la-classe-4dincomingmessage class="table-of-contents__link toc-highlight">Entrée : une instance de la classe 4D.IncomingMessage</a><li><a href=#sortie--une-instance-de-la-classe-4doutgoingmessage class="table-of-contents__link toc-highlight">Sortie : une instance de la classe 4D.OutgoingMessage</a><li><a href=#exemple-1 class="table-of-contents__link toc-highlight">Exemple</a></ul><li><a href=#voir-également class="table-of-contents__link toc-highlight">Voir également</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Communauté</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Support</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Documentation download<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Où tout a commencé)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Knowledgebase</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Téléchargements</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Aide</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Société</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>A propos de 4D</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contacts</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D dans le monde</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Carrière</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 4D SAS - Tous droits réservés</div></div></div></footer></div></body>