<!doctype html><html lang=fr dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20-R9 docs-doc-page docs-doc-id-REST/classFunctions" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Appel des fonctions de classe | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/fr/20-R9/REST/classFunctions><meta data-rh=true property=og:locale content=fr><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true property=og:locale:alternate content=pt><meta data-rh=true name=docusaurus_locale content=fr><meta data-rh=true name=docsearch:language content=fr><meta data-rh=true name=docusaurus_version content=20-R9><meta data-rh=true name=docusaurus_tag content=docs-default-20-R9><meta data-rh=true name=docsearch:version content=20-R9><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20-R9><meta data-rh=true property=og:title content="Appel des fonctions de classe | 4D Docs"><meta data-rh=true name=description content="Vous pouvez appeler les fonctions de classe du modèle de données définies pour le modèle de données ORDA et les fonctions de classe de singleton par le biais de requêtes REST, afin de bénéficier de l'API exposée de l'application 4D ciblée."><meta data-rh=true property=og:description content="Vous pouvez appeler les fonctions de classe du modèle de données définies pour le modèle de données ORDA et les fonctions de classe de singleton par le biais de requêtes REST, afin de bénéficier de l'API exposée de l'application 4D ciblée."><link data-rh=true rel=icon href=/docs/fr/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/fr/20-R9/REST/classFunctions><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R9/REST/classFunctions hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/20-R9/REST/classFunctions hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/20-R9/REST/classFunctions hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/20-R9/REST/classFunctions hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/20-R9/REST/classFunctions hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R9/REST/classFunctions hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developer.4d.com/docs/fr/20-R9/category/web-applications","name":"Applications Web","position":1},{"@type":"ListItem","item":"https://developer.4d.com/docs/fr/20-R9/category/rest-api","name":"API REST","position":2},{"@type":"ListItem","item":"https://developer.4d.com/docs/fr/20-R9/category/exposing-your-datastore-in-rest","name":"Exposer votre datastore en REST","position":3},{"@type":"ListItem","item":"https://developer.4d.com/docs/fr/20-R9/REST/classFunctions","name":"Appel des fonctions de classe","position":4}]}</script><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/fr/opensearch.xml><script src=https://kit.fontawesome.com/daeacc3fc4.js crossorigin=anonymous></script><link rel=stylesheet href=/docs/fr/assets/css/styles.ae3169d2.css><script src=/docs/fr/assets/js/runtime~main.7ed19811.js defer></script><script src=/docs/fr/assets/js/main.63d06e27.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/docs/fr/img/logohome.png><div role=region aria-label="Aller au contenu principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Aller au contenu principal</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/fr/><div class=navbar__logo><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/fr/20-R9/REST/classFunctions>20 R9</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/fr/REST/classFunctions>20 R10 BETA</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/fr/20-R9/REST/classFunctions>20 R9</a><li><a class=dropdown__link href=/docs/fr/20/REST/classFunctions>20</a><li><a class=dropdown__link href=/docs/fr/19/REST/classFunctions>19</a><li><a class=dropdown__link href=/docs/fr/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Français</a><ul class=dropdown__menu><li><a href=/docs/20-R9/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/20-R9/REST/classFunctions target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=fr>Français</a><li><a href=/docs/es/20-R9/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/20-R9/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/20-R9/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Basculer entre le mode sombre et clair (actuellement system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Rechercher (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Rechercher</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/fr/><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/fr/20-R9/category/getting-started>Prise en main</a><button aria-label="Expand sidebar category 'Prise en main'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/fr/20-R9/category/core-development>Développement</a><button aria-label="Expand sidebar category 'Développement'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/fr/20-R9/category/4d-language>Langage 4D</a><button aria-label="Expand sidebar category 'Langage 4D'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/fr/20-R9/category/administration>Administration</a><button aria-label="Expand sidebar category 'Administration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/fr/20-R9/Extensions/overview>Extensions</a><button aria-label="Expand sidebar category 'Extensions'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/fr/20-R9/category/web-applications>Applications Web</a><button aria-label="Collapse sidebar category 'Applications Web'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/fr/20-R9/WebServer/overview>Serveur Web</a><button aria-label="Expand sidebar category 'Serveur Web'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/fr/20-R9/WebServer/gettingStarted>Développement Web</a><button aria-label="Expand sidebar category 'Développement Web'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/fr/20-R9/category/qodly-studio-in-4d>Qodly Studio</a><button aria-label="Expand sidebar category 'Qodly Studio'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/fr/20-R9/category/rest-api>API REST</a><button aria-label="Collapse sidebar category 'API REST'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/fr/20-R9/category/exposing-your-datastore-in-rest>Exposer votre datastore en REST</a><button aria-label="Collapse sidebar category 'Exposer votre datastore en REST'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R9/REST/gettingStarted>Prise en main</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R9/REST/configuration>Configuration du serveur</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R9/REST/authUsers>Sessions et utilisateurs</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R9/REST/genInfo>Obtenir des informations du serveur</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R9/REST/manData>Manipulation des données</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/fr/20-R9/REST/classFunctions>Appel des fonctions de classe</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/20-R9/REST/REST_requests>A propos des requêtes REST</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/fr/20-R9/category/api-general>API (général)</a><button aria-label="Expand sidebar category 'API (général)'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/fr/20-R9/category/api-dataclass>API (dataClass)</a><button aria-label="Expand sidebar category 'API (dataClass)'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/fr/20-R9/category/desktop-applications>Applications Desktop</a><button aria-label="Expand sidebar category 'Applications Desktop'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a href=https://developer.4d.com/go-mobile/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false>Applications mobiles</a></div></ul></nav><button type=button title="Réduire le menu latéral" aria-label="Réduire le menu latéral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Page d’accueil" class=breadcrumbs__link href=/docs/fr/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/fr/20-R9/category/web-applications><span>Applications Web</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/fr/20-R9/category/rest-api><span>API REST</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/fr/20-R9/category/exposing-your-datastore-in-rest><span>Exposer votre datastore en REST</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Appel des fonctions de classe</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 20 R9</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Appel des fonctions de classe</h1></header><p>Vous pouvez appeler les <a href=/docs/fr/20-R9/ORDA/ordaClasses>fonctions de classe du modèle de données</a> définies pour le modèle de données ORDA et les <a href=/docs/fr/20-R9/REST/singleton>fonctions de classe de singleton</a> par le biais de requêtes REST, afin de bénéficier de l'API exposée de l'application 4D ciblée.</p>
<p>Les fonctions peuvent être appelées de deux manières :</p>
<ul>
<li>en utilisant des requêtes <strong>POST</strong>, avec des paramètres de données transmis dans le body de la requête.</li>
<li>en utilisant des requêtes <strong>GET</strong>, avec des paramètres passés directement dans l'URL.</li>
</ul>
<p>Les requêtes POST offrent un meilleur niveau de sécurité car elles évitent l'exécution de code sensible par une action aussi simple que de cliquer sur un lien. Cependant, les requêtes GET peuvent être plus conformes à l'expérience utilisateur, en permettant d'appeler des fonctions en saisissant un URL dans un navigateur (note : le développeur doit s'assurer qu'aucune action sensible n'est effectuée dans ces fonctions).</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=appeler-des-fonctions>Appeler des fonctions<a href=#appeler-des-fonctions class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Les fonctions ORDA et singleton suivantes peuvent être appelées en REST :</p>









































<table><thead><tr><th>Fonction de classe<th>Syntaxe<tbody><tr><td><a href=/docs/fr/20-R9/ORDA/ordaClasses#datastore-class>datastore class</a><td><code>/rest/$catalog/DataStoreClassFunction</code><tr><td><a href=/docs/fr/20-R9/ORDA/ordaClasses#dataclass-class>dataclass class</a><td><code>/rest/{dataClass}/DataClassClassFunction</code><tr><td><a href=/docs/fr/20-R9/ORDA/ordaClasses#entityselection-class>entitySelection class</a><td><code>/rest/{dataClass}/EntitySelectionClassFunction</code><tr><td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$entityset/entitySetNumber</code><tr><td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$filter</code><tr><td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$orderby</code><tr><td><a href=/docs/fr/20-R9/ORDA/ordaClasses#entity-class>entity class</a><td><code>/rest/{dataClass}(key)/EntityClassFunction/</code><tr><td><a href=/docs/fr/20-R9/Concepts/classes#classes-singleton>Classe singleton</a><td><code>/rest/$singleton/SingletonClass/SingletonClassFunction</code> (voir <a href=/docs/fr/20-R9/REST/singleton>page $singleton</a>)</table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p><code>/rest/{dataClass}/Function</code> peut être utilisé pour appeler une fonction de dataclass ou d'entity selection (<code>/rest/{dataClass}</code> renvoie toutes les entités de la dataclass en tant qu'entity selection). La fonction est d'abord recherchée dans la classe Entity selection. Si elle n'est pas trouvée, elle est recherchée dans la dataclass. En d'autres termes, si une fonction portant le même nom est définie à la fois dans la classe DataClass et la classe EntitySelection, la fonction de classe de dataclass ne sera jamais exécutée.</div></div>
<p>Les fonctions sont simplement appelées sur l'interface ORDA ou la classe singleton appropriée, sans (). Les <a href=#parameters>Parameters</a> sont passés soit dans le body de la requête POST (appels <code>POST</code>), soit dans la collection <code>params</code> de l'URL (appels <code>GET</code>).</p>
<p>Par exemple, si vous avez défini une fonction <code>getCity()</code> dans la dataclass City, vous pouvez l'appeler à l'aide de la requête suivante :</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=requête-post>Requête POST<a href=#requête-post class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p><code>/rest/City/getCity</code></p>
<p>avec des données contenues dans le body de la requête POST : <code>["Aguada"]</code></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=requête-get>Requête GET<a href=#requête-get class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p><code>/rest/City/getCity?$params='["Aguada"]'</code></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>La fonction <code>getCity()</code> doit avoir été déclarée avec le mot-clé <code>onHTTPGet</code> (voir <a href=#function-configuration>Configuration des fonctions</a> ci-dessous).</div></div>
<p>En langage 4D, cet appel est équivalent à :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$city:=ds.City.getCity("Aguada")</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=configuration-des-fonctions>Configuration des fonctions<a href=#configuration-des-fonctions class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exposed><code>exposed</code><a href=#exposed class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Toutes les fonctions autorisées à être appelées directement depuis des requêtes HTTP REST (<code>POST</code> ou <code>GET</code>) doivent être déclarées avec le mot-clé <code>exposed</code>. Par exemple :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">exposed Function getSomeInfo() : 4D.OutgoingMessage</span><br></span></code></pre></div></div>
<p>Voir la section <a href=/docs/fr/20-R9/ORDA/ordaClasses#exposed-vs-non-exposed-functions>Fonctions exposées vs non exposées</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=onhttpget><code>onHTTPGet</code><a href=#onhttpget class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Les fonctions autorisées à être appelées à partir de requêtes HTTP <code>GET</code> doivent également être spécifiquement déclarées avec le <a href=/docs/fr/20-R9/ORDA/ordaClasses#onhttpget-keyword>mot-clé <code>onHTTPGet</code></a>. Par exemple :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">//autoriser les requêtes GET</span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed onHTTPGet Function getSomeInfo() : 4D.OutgoingMessage</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=thread-safe>Thread-safe<a href=#thread-safe class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>L'ensemble du code 4D appelé à partir de requêtes REST <strong>doit être thread-safe</strong> si le projet fonctionne en mode compilé, car le serveur REST utilise toujours des process préemptifs dans ce cas (la valeur du paramètre <a href=/docs/fr/20-R9/WebServer/webServerConfig#use-preemptive-processes><em>Use preemptive process</em></a> est ignorée par le serveur REST).</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>Vous pouvez restreindre les appels à des fonctions ORDA spécifiques en configurant les privilèges appropriés dans le fichier <a href=/docs/fr/20-R9/ORDA/privileges#rolesjson-file><strong>roles.json</strong></a>.</div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=paramètres>Paramètres<a href=#paramètres class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Vous pouvez envoyer des paramètres à des fonctions de classes utilisateur ou des singletons ORDA. Côté serveur, ils seront reçus dans les <a href=/docs/fr/20-R9/Concepts/parameters#declaration-des-parametres>paramètres déclarés</a> des fonctions de classe.</p>
<p>Les règles suivantes s'appliquent :</p>
<ul>
<li>Dans les fonctions appelées par des requêtes POST, les paramètres doivent être passés <strong>dans le body de la requête POST</strong>.</li>
<li>Dans les fonctions appelées par des requêtes GET, les paramètres doivent être passés <strong>dans l'URL avec la syntaxe " ?$params="</strong>.</li>
<li>Les paramètres doivent être inclus dans une collection (format JSON).</li>
<li>Tous les types de données scalaires pris en charge dans les collections JSON peuvent être passés en tant que paramètres.</li>
<li>L'entity selection et l'entité peuvent être passées en tant que paramètres. La liste des paramètres doit contenir les attributs spécifiques utilisés par le serveur REST pour assigner les données aux objets ORDA correspondants : <code>__DATACLASS</code>, <code>__ENTITY</code>, <code>__ENTITIES</code>, <code>__DATASET</code>.</li>
</ul>
<p>Voir <a href=#using-an-entity-to-be-created-on-the-server>cet exemple</a> et <a href=#receiving-an-entity-selection-as-parameter>cet exemple</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=paramètre-de-valeur-scalaire>Paramètre de valeur scalaire<a href=#paramètre-de-valeur-scalaire class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Le(s) paramètre(s) de valeur scalaire doit(vent) simplement être inclus dans une collection. Tous les types de données JSON sont pris en charge dans les paramètres, y compris les pointeurs JSON. Les dates peuvent être passées sous forme de chaînes au format de date ISO 8601 (par exemple, "2020-08-22T22:00:000Z").</p>
<p>Par exemple, avec une fonction de la dataclass <code>getCities()</code> recevant des paramètres texte :</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=requête-post-1>Requête POST<a href=#requête-post-1 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p><code>/rest/City/getCities</code></p>
<p><strong>Paramètres dans le body :</strong> ["Aguada","Paris"]</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=requête-get-1>Requête GET<a href=#requête-get-1 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p><code>/rest/City/getCities?$params='["Aguada","Paris"]'</code></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=paramètre-dentité>Paramètre d'entité<a href=#paramètre-dentité class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Les entités passées en paramètres sont référencées sur le serveur via leur clé (c'est-à-dire la propriété __KEY). Si le paramètre clé est omis dans une requête, une nouvelle entité est chargée en mémoire sur le serveur.
Vous pouvez également transmettre des valeurs pour tous les attributs de l'entité. Ces valeurs seront automatiquement utilisées pour l'entité traitée sur le serveur.</p>
<blockquote>
<p>Si la requête envoie des valeurs d'attribut modifiées pour une entité existante sur le serveur, la fonction de modèle de données ORDA appelée sera automatiquement exécutée sur le serveur avec des valeurs modifiées. Cette fonctionnalité vous permet, par exemple, de vérifier le résultat d'une opération sur une entité, après avoir appliqué toutes les règles métier, depuis l'application cliente. Vous pouvez alors décider de sauvegarder ou non l'entité sur le serveur.</p>
</blockquote>






























<table><thead><tr><th>Propriétés<th>Type<th>Description<tbody><tr><td>Attributs de l'entité<td>mixte<td>Optionnelle - Valeurs à modifier<tr><td>__DATACLASS<td>Text<td>Obligatoire - Indique la Dataclass de l'entité<tr><td>__ENTITY<td>Boolean<td>Obligatoire - Vrai pour indiquer au serveur que le paramètre est une entité<tr><td>__KEY<td>mixte (type identique à celui de la clé primaire)<td>Optionnel - clé primaire de l'entité</table>
<ul>
<li>Si <code>__KEY</code> n'est pas fourni, une nouvelle entité est créée sur le serveur avec les attributs donnés.</li>
<li>Si <code>__KEY</code> est fourni, l'entité correspondant à <code>__KEY</code> est chargée sur le serveur avec les attributs donnés</li>
</ul>
<p>Voir les exemples ci-dessous pour la création ou la mise à jour d'entités avec des requêtes POST.
Voir un exemple de téléchargement de contenu à l'aide d'une entité avec une requête GET.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=paramètre-dentité-associé>Paramètre d'entité associé<a href=#paramètre-dentité-associé class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>Mêmes propriétés que pour un <a href=#entity-parameter>paramètre d'entité</a>. De plus, l'entité associée doit exister et est référencée par __KEY, qui contient sa clé primaire.</p>
<p>Reportez-vous aux exemples de <a href=#creating-an-entity-with-a-related-entity>création</a> ou de <a href=#updating-an-entity-with-a-related-entity>mise à jour</a> des entités avec des entités associées.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=paramètre-dentity-selection>Paramètre d'entity selection<a href=#paramètre-dentity-selection class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>L'entity selection doit avoir été définie au préalable à l'aide de <a href=/docs/fr/20-R9/REST/method#methodentityset>$method=entityset</a>.</p>
<blockquote>
<p>Si la requête envoie une entity selection modifiée au serveur, la fonction de modèle de données ORDA appelée sera automatiquement exécutée sur le serveur avec l'entity selection modifiée.</p>
</blockquote>

























<table><thead><tr><th>Propriétés<th>Type<th>Description<tbody><tr><td>Attributs de l'entité<td>mixte<td>Optionnelle - Valeurs à modifier<tr><td>__DATASET<td>Text<td>Obligatoire - entitySetID (UUID) de l'entity selection<tr><td>__ENTITIES<td>Boolean<td>Obligatoire - Vrai pour indiquer au serveur que le paramètre est une sélection d'entité</table>
<p>Voir l'exemple pour <a href=#receiving-an-entity-selection-as-parameter>recevoir une entity selection</a> avec une requête POST.
Voir l'exemple pour <a href=#using-an-entity-selection-to-get-a-list>obtenir une liste construite sur la base d'une entity selection</a> avec une requête GET.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemples-de-requêtes-post>Exemples de requêtes POST<a href=#exemples-de-requêtes-post class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<p>Cette base de données est exposée comme un datastore distant sur localhost (port 8111) :</p>
<p><img decoding=async loading=lazy alt=alt-text src=/docs/fr/assets/images/ordastructure-64d64d76ce9764a2365629e381bde282.png width=882 height=599 class=img_ev3q></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utiliser-une-fonction-de-classe-de-datastore>Utiliser une fonction de classe de datastore<a href=#utiliser-une-fonction-de-classe-de-datastore class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>La classe de <code>DataStore</code> US_Cities fournit une API :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// DataStore class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Class extends DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getName() : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return "US cities and zip codes manager"</span><br></span></code></pre></div></div>
<p>Vous pouvez lancer cette requête :</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/$catalog/getName</code></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=résultat>Résultat<a href=#résultat class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"result": "US cities and zip codes manager"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utiliser-une-fonction-de-classe-de-dataclass>Utiliser une fonction de classe de dataclass<a href=#utiliser-une-fonction-de-classe-de-dataclass class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>La classe de Dataclass <code>City</code> fournit une API qui retourne une entité de ville à partir du nom passé en paramètre :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// City class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Class extends DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getCity($city : Text ) : cs.CityEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	return This.query("name = :1";$city).first()</span><br></span></code></pre></div></div>
<p>Vous pouvez lancer cette requête :</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City/getCity</code></p>
<p>Requête : ["Paris"]</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=résultat-1>Résultat<a href=#résultat-1 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>Le résultat est une entité :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "City",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "City",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "1",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-03-09T08:03:19.923Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "name": "Aguada",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "countyFIPS": 72003,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "county": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__deferred": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "uri": "/rest/County(72003)",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": "72003"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "zips": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__deferred": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "uri": "/rest/City(1)/zips?$expand=zips"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utiliser-une-fonction-de-classe-dentité>Utiliser une fonction de classe d'entité<a href=#utiliser-une-fonction-de-classe-dentité class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>La classe d'entité <code>CityEntity</code> fournit une API :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// CityEntity class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Class extends Entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getPopulation()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return This.zips.sum("population")</span><br></span></code></pre></div></div>
<p>Vous pouvez lancer cette requête :</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City(2)/getPopulation</code></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=résultat-2>Résultat<a href=#résultat-2 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": 48814</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utiliser-une-fonction-de-classe-dentity-selection>Utiliser une fonction de classe d'entity selection<a href=#utiliser-une-fonction-de-classe-dentity-selection class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>La classe d'entity selection <code>CityEntity</code> fournit une API :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// CitySelection class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Class extends EntitySelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getPopulation()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return This.zips.sum("population")</span><br></span></code></pre></div></div>
<p>Vous pouvez lancer cette requête :</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City/getPopulation/?$filter="ID&lt;3"</code></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=résultat-3>Résultat<a href=#résultat-3 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": 87256</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utiliser-une-fonction-de-classe-dentity-selection-et-un-entity-set>Utiliser une fonction de classe d'entity selection et un entity set<a href=#utiliser-une-fonction-de-classe-dentity-selection-et-un-entity-set class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>La classe <code>StudentsSelection</code> a une fonction <code>getAgeAverage</code> :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// StudentsSelection Class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Class extends EntitySelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getAgeAverage : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $sum : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $s : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	$sum:=0</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	For each ($s;This)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	    $sum:=$sum+$s.age()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	return $sum/This.length</span><br></span></code></pre></div></div>
<p>Une fois que vous avez créé un ensemble d'entité, vous pouvez lancer cette requête :</p>
<p><strong>POST</strong> <code>127.0.0.1:8044/rest/Students/getAgeAverage/$entityset/17E83633FFB54ECDBF947E5C620BB532</code></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=résultat-4>Résultat<a href=#résultat-4 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": 34</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utiliser-une-fonction-de-classe-dentity-selection-et-un-orderby>Utiliser une fonction de classe d'entity selection et un "orderBy"<a href=#utiliser-une-fonction-de-classe-dentity-selection-et-un-orderby class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>La classe <code>StudentsSelection</code> a une fonction <code>getLastSummary</code> :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// StudentsSelection Class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Class extends EntitySelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getLastSummary : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $last : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	$last:=This.last()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	return =$last.firstname+" - "+$last.lastname+" is ... "+String($last.age())</span><br></span></code></pre></div></div>
<p>Vous pouvez lancer cette requête :</p>
<p><strong>POST</strong> <code>127.0.0.1:8044/rest/Students/getLastSummary/$entityset/?$filter="lastname=b@"&$orderby="lastname"</code></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=résultat-5>Résultat<a href=#résultat-5 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": "Wilbert - Bull is ... 21"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utiliser-une-entité-à-créer-sur-le-serveur>Utiliser une entité à créer sur le serveur<a href=#utiliser-une-entité-à-créer-sur-le-serveur class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>La classe de Dataclass <code>Students</code> possède la fonction <code>pushData()</code> qui reçoit une entité contenant les données du client. La méthode <code>checkData()</code> effectue quelques contrôles. Si elles sont valides, l'entité est sauvegardée et retournée.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// Students Class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Class extends DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function pushData($entity : Object) : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	$status:=checkData($entity) // $status est un objet avec une propriété booléenne success</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	If ($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	    $status:=$entity.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> 	   If ($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> 	       return $entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  	  End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	return $status</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<p>Lancez cette requête :</p>
<p><strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Body de la requête :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"firstname":"Ann",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"lastname":"Brown"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br></span></code></pre></div></div>
<p>Si aucune <code>__KEY</code> n'est donnée, une nouvelle entité Students est chargée sur le serveur <strong>avec les attributs du client</strong>. Parce que la fonction <code>pushData()</code> exécute une action <code>save()</code>, la nouvelle entité est créée.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=résultat-6>Résultat<a href=#résultat-6 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "55",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-06-16T10:54:41.805Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 55,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstname": "Ann",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastname": "BROWN",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "schoolID": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "school": null</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utiliser-une-entité-à-mettre-à-jour-sur-le-serveur>Utiliser une entité à mettre à jour sur le serveur<a href=#utiliser-une-entité-à-mettre-à-jour-sur-le-serveur class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Description semblable à la précédente, avec l'attribut _KEY</p>
<p>Lancez cette requête :</p>
<p><strong>POST:</strong><code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Body de la requête :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"lastname":"Brownie",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__KEY":55</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br></span></code></pre></div></div>
<p>Si aucune <code>__KEY</code> n'est donnée, l'entité Students est chargée avec la clé primaire 55 <strong>avec la valeur lastname reçue par le client</strong>. Parce que la fonction exécute une action <code>save()</code>, la nouvelle entité est mise à jour.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=résultat-7>Résultat<a href=#résultat-7 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "55",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-06-16T11:10:21.679Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 3,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 55,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstname": "Ann",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastname": "BROWNIE",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "schoolID": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "school": null</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=créer-une-entité-avec-une-entité-liée>Créer une entité avec une entité liée<a href=#créer-une-entité-avec-une-entité-liée class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Dans cet exemple, nous créons une nouvelle entité Students avec l'entité Schools ayant la clé primaire 2.</p>
<p>Lancez cette requête :</p>
<p><strong>POST:</strong><code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Body de la requête :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"firstname":"John",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"lastname":"Smith",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"school":{"__KEY":2}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=résultat-8>Résultat<a href=#résultat-8 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "Students",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "56",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-06-16T11:16:47.601Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 56,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstname": "John",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastname": "SMITH",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "schoolID": 2,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       "school": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__deferred": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "uri": "/rest/Schools(2)",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": "2"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=mettre-à-jour-une-entité-avec-une-entité-liée>Mettre à jour une entité avec une entité liée<a href=#mettre-à-jour-une-entité-avec-une-entité-liée class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Dans cet exemple, nous associons une école existante à l'entité Students. La classe <code>StudentsEntity</code> possède une API :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// StudentsEntity class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Class extends Entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function putToSchool($school : Object) -> $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		//$school est une entité Schools</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		//Associer l'entité liée School à l'entité Students courante</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	This.school:=$school</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	$status:=This.save()</span><br></span></code></pre></div></div>
<p>Vous exécutez cette requête, appelée sur une entité Students :
<strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students(1)/putToSchool</code>
Body de la requête :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Schools",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__KEY":2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=résultat-9>Résultat<a href=#résultat-9 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "success": true</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=recevoir-une-entity-selection-comme-paramètre>Recevoir une entity selection comme paramètre<a href=#recevoir-une-entity-selection-comme-paramètre class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Dans la classe de Dataclass <code>Students</code>, la fonction <code>setFinalExam()</code> met à jour une sélection d'entité reçue ($1). Elle met à jour l'attribut <em>finalExam</em> avec la valeur reçue ($2). Elle retourne les clés primaires des entités mises à jour.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// Students class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Class extends DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function setFinalExam($es : Object ; $examResult : Text) -> $keys : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    var $student, $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      //$es est une Entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $keys:=New collection()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      //Loop on the entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    For each ($student;$es)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $student.finalExam:=$examResult</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $status:=$student.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        If ($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $keys.push($student.ID)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        End if</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    End for each</span><br></span></code></pre></div></div>
<p>Un ensemble d'entité est d'abord créé avec cette requête :</p>
<p><code>http://127.0.0.1:8044/rest/Students/?$filter="ID&lt;3"&$method=entityset</code></p>
<p>Vous pouvez ensuite exécuter cette requête :</p>
<p><strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students/setFinalExam</code></p>
<p>Body de la requête :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITIES":true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"__DATASET":"9B9C053A111E4A288E9C1E48965FE671"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">},</span><br></span><span class=token-line style=color:#393A34><span class="token plain">"Passed"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=résultat-10>Résultat<a href=#résultat-10 class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>Les entités ayant les clés primaires sont 1 et 2 ont été mises à jour.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "result": [</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utiliser-une-entity-selection-mise-à-jour-sur-le-client>Utiliser une entity selection mise à jour sur le client<a href=#utiliser-une-entity-selection-mise-à-jour-sur-le-client class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>A l'aide de la fonction <code>getAgeAverage()</code> <a href=#using-an-entityselection-class-function-and-an-entityset>définie ci-dessus</a>.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $remoteDS, $newStudent, $students : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $ageAverage : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$remoteDS:=Open datastore(New object("hostname" ; "127.0.0.1:8044") ; "students")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// $newStudent est une entité étudiant à traiter</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$newStudent:=...</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$students:=$remoteDS.Students.query("school.name = :1" ; "Math school")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Nous ajoutons une entité à l'entity selection $students sur le client</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$students.add($newStudent)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Nous appelons une fonction de la classe StudentsSelection qui renvoie la moyenne d'âge des étudiants de l'entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// La fonction est exécutée sur le serveur dans l'entity selection $students mise à jour qui comprend l'étudiant ajouté par le client</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ageAverage:=$students.getAgeAverage()</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exemples-de-requêtes-get>Exemples de requêtes GET<a href=#exemples-de-requêtes-get class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=renvoyer-un-document>Renvoyer un document<a href=#renvoyer-un-document class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Vous souhaitez proposer un lien pour télécharger le manuel d'utilisation d'un produit sélectionné avec plusieurs formats disponibles. Vous écrivez une fonction <code>getUserManual()</code> de la dataclass Products. Vous renvoyez un objet de la classe <a href=/docs/fr/20-R9/API/OutgoingMessageClass><code>OutgoingMessage</code></a>.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// Product dataclass</span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed onHTTPGet Function getUserManual($productId : Integer; $type : Text) : 4D.OutgoingMessage</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $file : 4D.File</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $response:=4D.OutgoingMessage.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $doc:="/RESOURCES/User manuals/product_"+String($productId)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Case of </span><br></span><span class=token-line style=color:#393A34><span class="token plain">	: ($type="pdf")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		$file:=File($doc+".pdf")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                $response.setBody($file.getContent()) // Contenu binaire </span><br></span><span class=token-line style=color:#393A34><span class="token plain">		$response.setHeader("Content-Type"; "application/pdf")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	: ($type="jpeg")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		$file:=File($doc+".jpeg")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                $response.setBody($file.getContent()) // Contenu binaire </span><br></span><span class=token-line style=color:#393A34><span class="token plain">		$response.setHeader("Content-Type"; "image/jpeg")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End case </span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">return $response</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<p>Vous pouvez appeler la fonction en utilisant une requête comme :</p>
<p><strong>GET</strong> <code>http://127.0.0.1:8044/rest/Products/getUserManual?$params='[1,"pdf"]'</code></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utilisation-dune-entité-pour-télécharger-un-document-pdf>Utilisation d'une entité pour télécharger un document PDF<a href=#utilisation-dune-entité-pour-télécharger-un-document-pdf class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Même exemple que ci-dessus, mais vous voulez passer une entité comme paramètre à la fonction datastore.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// Product dataclass</span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed onHTTPGet Function getUserManual($product : cs.ProductEntity) : 4D.OutgoingMessage</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $file : 4D.File</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $response := 4D.OutgoingMessage.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	$file:=File("/RESOURCES/User manuals/"+$product.name+".pdf")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	$response.setBody($file.getContent())</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	$response.setHeader("Content-Type"; "application/pdf")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	return $response</span><br></span></code></pre></div></div>
<p>Vous pouvez appeler la fonction en utilisant cette requête :</p>
<p><strong>GET</strong> <code>http://127.0.0.1:8044/rest/Product/getUserManual?$params='[{"__DATACLASS":"Product","__ENTITY":true,"__KEY":41}]'</code></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=utiliser-une-entity-selection-pour-obtenir-une-liste>Utiliser une entity selection pour obtenir une liste<a href=#utiliser-une-entity-selection-pour-obtenir-une-liste class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Vous voulez envoyer une entity selection comme paramètre à une fonction singleton en utilisant une requête REST GET et retourner une liste en utilisant un objet de la classe <a href=/docs/fr/20-R9/API/OutgoingMessageClass><code>OutgoingMessage</code></a>.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">shared singleton Class constructor()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed onHTTPGet Function buildShoppingList($products : cs.ProductSelection) : 4D.OutgoingMessage</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $p : cs.ProductsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $content : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var $response := 4D.OutgoingMessage.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	$content:=""</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	For each ($p; $products)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		$content:=$content+" "+$p.manufacturer+" - "+$p.name</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		$content:=$content+Char(Carriage return)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	End for each </span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	$response.setBody($content)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	$response.setHeader("Content-Type"; "text/plain")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	return $response</span><br></span></code></pre></div></div>
<p>Vous pouvez appeler la fonction en utilisant cette requête :</p>
<p><strong>GET</strong> <code>http://127.0.0.1:8044/rest/$singleton/Shopping/buildShoppingList?$params='[{"__DATASET":"8DB0556854HDK52FR5974F","__ENTITIES":true}]'</code></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2FClassFunctions.md%20(20-R9)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Ecrire un commentaire sur cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/fr/20-R9/REST/manData><div class=pagination-nav__sublabel>Précédent</div><div class=pagination-nav__label>Manipulation des données</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/fr/20-R9/REST/REST_requests><div class=pagination-nav__sublabel>Suivant</div><div class=pagination-nav__label>A propos des requêtes REST</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#appeler-des-fonctions class="table-of-contents__link toc-highlight">Appeler des fonctions</a><li><a href=#configuration-des-fonctions class="table-of-contents__link toc-highlight">Configuration des fonctions</a><ul><li><a href=#exposed class="table-of-contents__link toc-highlight"><code>exposed</code></a><li><a href=#onhttpget class="table-of-contents__link toc-highlight"><code>onHTTPGet</code></a><li><a href=#thread-safe class="table-of-contents__link toc-highlight">Thread-safe</a></ul><li><a href=#paramètres class="table-of-contents__link toc-highlight">Paramètres</a><ul><li><a href=#paramètre-de-valeur-scalaire class="table-of-contents__link toc-highlight">Paramètre de valeur scalaire</a><li><a href=#paramètre-dentité class="table-of-contents__link toc-highlight">Paramètre d'entité</a><li><a href=#paramètre-dentity-selection class="table-of-contents__link toc-highlight">Paramètre d'entity selection</a></ul><li><a href=#exemples-de-requêtes-post class="table-of-contents__link toc-highlight">Exemples de requêtes POST</a><ul><li><a href=#utiliser-une-fonction-de-classe-de-datastore class="table-of-contents__link toc-highlight">Utiliser une fonction de classe de datastore</a><li><a href=#utiliser-une-fonction-de-classe-de-dataclass class="table-of-contents__link toc-highlight">Utiliser une fonction de classe de dataclass</a><li><a href=#utiliser-une-fonction-de-classe-dentité class="table-of-contents__link toc-highlight">Utiliser une fonction de classe d'entité</a><li><a href=#utiliser-une-fonction-de-classe-dentity-selection class="table-of-contents__link toc-highlight">Utiliser une fonction de classe d'entity selection</a><li><a href=#utiliser-une-fonction-de-classe-dentity-selection-et-un-entity-set class="table-of-contents__link toc-highlight">Utiliser une fonction de classe d'entity selection et un entity set</a><li><a href=#utiliser-une-fonction-de-classe-dentity-selection-et-un-orderby class="table-of-contents__link toc-highlight">Utiliser une fonction de classe d'entity selection et un "orderBy"</a><li><a href=#utiliser-une-entité-à-créer-sur-le-serveur class="table-of-contents__link toc-highlight">Utiliser une entité à créer sur le serveur</a><li><a href=#utiliser-une-entité-à-mettre-à-jour-sur-le-serveur class="table-of-contents__link toc-highlight">Utiliser une entité à mettre à jour sur le serveur</a><li><a href=#créer-une-entité-avec-une-entité-liée class="table-of-contents__link toc-highlight">Créer une entité avec une entité liée</a><li><a href=#mettre-à-jour-une-entité-avec-une-entité-liée class="table-of-contents__link toc-highlight">Mettre à jour une entité avec une entité liée</a><li><a href=#recevoir-une-entity-selection-comme-paramètre class="table-of-contents__link toc-highlight">Recevoir une entity selection comme paramètre</a><li><a href=#utiliser-une-entity-selection-mise-à-jour-sur-le-client class="table-of-contents__link toc-highlight">Utiliser une entity selection mise à jour sur le client</a></ul><li><a href=#exemples-de-requêtes-get class="table-of-contents__link toc-highlight">Exemples de requêtes GET</a><ul><li><a href=#renvoyer-un-document class="table-of-contents__link toc-highlight">Renvoyer un document</a><li><a href=#utilisation-dune-entité-pour-télécharger-un-document-pdf class="table-of-contents__link toc-highlight">Utilisation d'une entité pour télécharger un document PDF</a><li><a href=#utiliser-une-entity-selection-pour-obtenir-une-liste class="table-of-contents__link toc-highlight">Utiliser une entity selection pour obtenir une liste</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Communauté</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Support</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Documentation download<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Où tout a commencé)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Knowledgebase</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Téléchargements</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Aide</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Société</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>A propos de 4D</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contacts</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D dans le monde</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Carrière</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 4D SAS - Tous droits réservés</div></div></div></footer></div>