<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-20 docs-doc-page docs-doc-id-Concepts/shared" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Objets et collections partagés | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://developer.4d.com/docs/fr/20/Concepts/shared"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="20"><meta data-rh="true" name="docusaurus_tag" content="docs-default-20"><meta data-rh="true" name="docsearch:version" content="20"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-20"><meta data-rh="true" property="og:title" content="Objets et collections partagés | 4D Docs"><meta data-rh="true" name="description" content="Les objets partagés et les collections partagées sont des objets et des collections spécifiques dont le contenu est partagé entre les process. Comparés aux Variables interprocess, les objets partagés et les collections partagées ont l&#x27;avantage d&#x27;être compatibles avec les process 4D préemptifs : il peuvent être passés en paramètres (par référence) aux commandes telles que New process ou CALL WORKER."><meta data-rh="true" property="og:description" content="Les objets partagés et les collections partagées sont des objets et des collections spécifiques dont le contenu est partagé entre les process. Comparés aux Variables interprocess, les objets partagés et les collections partagées ont l&#x27;avantage d&#x27;être compatibles avec les process 4D préemptifs : il peuvent être passés en paramètres (par référence) aux commandes telles que New process ou CALL WORKER."><link data-rh="true" rel="icon" href="/docs/fr/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://developer.4d.com/docs/fr/20/Concepts/shared"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/20/Concepts/shared" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/fr/20/Concepts/shared" hreflang="fr"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/es/20/Concepts/shared" hreflang="es"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/ja/20/Concepts/shared" hreflang="ja"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/pt/20/Concepts/shared" hreflang="pt"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/20/Concepts/shared" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/fr/opensearch.xml"><link rel="stylesheet" href="/docs/fr/assets/css/styles.9d2cac31.css">
<script src="/docs/fr/assets/js/runtime~main.018df112.js" defer="defer"></script>
<script src="/docs/fr/assets/js/main.dbd181d6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/fr/"><div class="navbar__logo"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/fr/20/GettingStarted/installation">20</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/fr/Concepts/shared">20 R6 BETA</a></li><li><a class="dropdown__link" href="/docs/fr/20-R5/Concepts/shared">20 R5</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/fr/20/Concepts/shared">20</a></li><li><a class="dropdown__link" href="/docs/fr/19/Concepts/shared">19</a></li><li><a class="dropdown__link" href="/docs/fr/18/Concepts/shared">18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/fr/20/Concepts/shared"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Français</a><ul class="dropdown__menu"><li><a href="/docs/20/Concepts/shared" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/20/Concepts/shared" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">Français</a></li><li><a href="/docs/es/20/Concepts/shared" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/20/Concepts/shared" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/docs/pt/20/Concepts/shared" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Rechercher"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Rechercher</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/docs/fr/"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/fr/20/category/getting-started">Prise en main</a><button aria-label="Expand sidebar category &#x27;Prise en main&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/fr/20/category/core-development">Développement</a><button aria-label="Collapse sidebar category &#x27;Développement&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/Project/overview">Gestion des projets</a><button aria-label="Expand sidebar category &#x27;Gestion des projets&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/fr/20/category/4d-language-concepts">Concepts du langage 4D</a><button aria-label="Collapse sidebar category &#x27;Concepts du langage 4D&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/about">À propos du Langage 4D</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/quick-tour">Tour d&#x27;horizon</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/operators">Opérateurs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/Concepts/data-types">Types de données</a><button aria-label="Expand sidebar category &#x27;Types de données&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/variables">Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/arrays">Tableaux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/methods">Methods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/parameters">Paramètres</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/fr/20/Concepts/shared">Objets et collections partagés</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/classes">Classes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/commands">Commandes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/control-flow">Conditions et boucles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/error-handling">Gestion des erreurs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/interpreted-compiled">Modes interprété et compilé</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/components">Composants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/plug-ins">Plug-ins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/identifiers">Identifiants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/Concepts/paths">Chemins d&#x27;accès</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/ORDA/overview">ORDA</a><button aria-label="Expand sidebar category &#x27;ORDA&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://doc.4d.com/4Dv20/4D/20/4D-Language-Reference.100-6237190.en.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Manuel Langage 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/category/class-API-reference">Classes</a><button aria-label="Expand sidebar category &#x27;Classes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/code-editor/overview">Gestion du code</a><button aria-label="Expand sidebar category &#x27;Gestion du code&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/fr/20/Tags/tags">Tags</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/Debugging/basics">Débogage</a><button aria-label="Expand sidebar category &#x27;Débogage&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/settings/overview">Propriétés</a><button aria-label="Expand sidebar category &#x27;Propriétés&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/Preferences/overview">Préférences</a><button aria-label="Expand sidebar category &#x27;Préférences&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/fr/20/category/administration">Administration</a><button aria-label="Expand sidebar category &#x27;Administration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/fr/20/Extensions/overview">Extensions</a><button aria-label="Expand sidebar category &#x27;Extensions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/fr/20/category/web-applications">Applications Web</a><button aria-label="Expand sidebar category &#x27;Applications Web&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/fr/20/category/desktop-applications">Applications Desktop</a><button aria-label="Expand sidebar category &#x27;Applications Desktop&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developer.4d.com/go-mobile/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Applications mobiles</a></div></li></ul></nav><button type="button" title="Réduire le menu latéral" aria-label="Réduire le menu latéral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d’accueil" class="breadcrumbs__link" href="/docs/fr/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/fr/20/category/core-development"><span itemprop="name">Développement</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/fr/20/category/4d-language-concepts"><span itemprop="name">Concepts du langage 4D</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Objets et collections partagés</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 20</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Objets et collections partagés</h1></header><p><strong>Les objets partagés</strong> et <strong>les collections partagées</strong> sont des <a href="/docs/fr/20/Concepts/object">objets</a> et des <a href="/docs/fr/20/Concepts/collection">collections</a> spécifiques dont le contenu est partagé entre les process. Comparés aux <a href="/docs/fr/20/Concepts/variables#interprocess-variables">Variables interprocess</a>, les objets partagés et les collections partagées ont l&#x27;avantage d&#x27;être compatibles avec les <strong>process 4D préemptifs</strong> : il peuvent être passés en paramètres (par référence) aux commandes telles que <code>New process</code> ou <code>CALL WORKER</code>.</p>
<p>Les objets et les collections partagés peuvent être stockés dans des variables de type <code>Object</code> et <code>Collection</code> standard, mais doivent être instanciés à l&#x27;aide de commandes spécifiques :</p>
<ul>
<li>pour créer un objet partagé, utilisez la commande <a href="https://doc.4d.com/4dv19R/help/command/en/page1471.html" target="_blank" rel="noopener noreferrer"><code>New shared object</code></a>,</li>
<li>pour créer une collection partagée, utilisez la commande <a href="/docs/fr/20/API/CollectionClass#new-shared-collection"><code>New shared collection</code></a>.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Les objets et collections partagés peuvent être définis comme des propriétés d&#x27;objets ou de collections standard (non partagés).</p></div></div>
<p>Toute modification d&#x27;un objet/d&#x27;une collection partagé(e) doit s&#x27;effectuer à l&#x27;intérieur d&#x27;une structure <strong>Use...End use</strong>. La lecture d&#x27;une valeur d&#x27;objet/collection ne nécessite pas de structure <strong>Use...End use</strong>.</p>
<p>Un catalogue unique et global, retourné par la commande <code>Storage</code>, est disponible à tout moment et depuis tout process de l&#x27;application et de ses composants.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="utilisation-des-objets-et-collections-partagés">Utilisation des objets et collections partagés<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/Concepts/shared#utilisation-des-objets-et-collections-partagés">​</a></h2>
<p>Once instantiated with the <code>New shared object</code> or <code>New shared collection</code> commands, shared object/collection properties and elements can be modified or read from any process of the application, under certain conditions.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="modification">Modification<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/Concepts/shared#modification">​</a></h3>
<p>Les modifications suivantes peuvent être effectuées sur les objets partagés et les collections partagées :</p>
<ul>
<li>ajout ou suppression de propriétés d&#x27;objets,</li>
<li>ajout ou modification de valeurs (prises en charge par les objets/collections partagé(e) s), y compris d&#x27;autres objets et collections partagé(s) (ce qui crée un groupe partagé, cf. ci-dessous).</li>
</ul>
<p>All modification instructions in a shared object or collection require to be protected inside a <a href="/docs/fr/20/Concepts/shared#use-end-use"><code>Use...End use</code></a> block, otherwise an error is generated.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $s_obj:=New shared object(&quot;prop1&quot;;&quot;alpha&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Use($s_obj)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $s_obj.prop1:=&quot;omega&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End Use</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For conveniency, all <a href="/docs/fr/20/API/CollectionClass">collection functions</a> that modify the shared object or collection insert an internal <code>Use...End use</code> block so you do not have to code it yourself. Par exemple :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$col:=New shared collection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$col.push(&quot;alpha&quot;) //.push() déclenche automatiquement Use/End use, donc pas besoin de le faire vous-même</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you need to execute several modifications on the same collection, you can protect all modifications with a single <code>Use...End use</code> so that modifications are performed atomically.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$col:=Storage.mySharedCollection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Use($col)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $col[0]:=&quot;omega&quot; //modifying an element requires to be performed inside Use/End use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $col.push(&quot;alpha&quot;) //.push() internally triggers Use/End use, but we want to do both modifications atomically</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End Use</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Un objet/une collection partagé(e) ne peut être modifié(e) que par un seul process à la fois. <code>Use</code> verrouille l&#x27;objet/la collection partagé(e) pour les autres threads, tandis que <code>End use</code> déverrouille l&#x27;objet/la collection partagé(e) (si le compteur de verrouillage est à 0, voir ci-dessous). . Toute tentative de modification d&#x27;un objet/d&#x27;une collection partagé(e) sans au moins un appel à <code>Use...End use</code> génère une erreur. Lorsqu&#x27;un process appelle <code>Use...End use</code> avec un objet/une collection partagé(e) qui est déjà &quot;utilisé(e)&quot; par un autre process, il est simplement mis en attente jusqu&#x27;à ce qu&#x27;il soit déverrouillé par l&#x27;appel à <code>End use</code> (aucune erreur n&#x27;est générée). En conséquence, les instructions situées à l&#x27;intérieur des structures <code>Use...End use</code> doivent toujours s&#x27;exécuter rapidement et déverrouiller les éléments dès que possible. Il est donc fortement déconseillé de modifier un objet ou une collection partagé(e) directement depuis l&#x27;interface, par exemple depuis une boîte de dialogue.</p>
<p>L&#x27;assignation d&#x27;objets/collections partagé(e) s à des propriétés ou éléments d&#x27;autres objets/collections partagé(e) s est autorisée et entraîne la création de <strong>groupes partagés</strong>. Un groupe partagé est automatiquement créé lorsqu&#x27;un objet ou une collection partagé(e) est assigné(e) en tant que valeur de propriété ou élément à un autre objet ou collection partagé(e). Les groupes partagés permettent d&#x27;imbriquer des objets et collections partagé(e)s mais nécessitent d&#x27;observer des règles supplémentaires :</p>
<ul>
<li>L&#x27;appel de <code>Use</code> avec un(e) objet/collection partagé(e) appartenant à un groupe provoquera le verrouillage des propriétés/éléments de tous/toutes les objets/collections partagé(e) s du groupe et incrémente son compteur de verrouillage. L&#x27;appel à <code>End use</code> décrémente le compteur de verrouillage du groupe et lorsque le compteur est à 0, tous les objets ou collections partagés partagés sont déverrouillés.</li>
<li>Un objet ou une collection partagé(e) peut appartenir à un seul groupe partagé. Une erreur est générée si vous tentez d&#x27;assigner un objet ou une collection appartenant déjà à un groupe à un groupe différent.</li>
<li>Les objets/collections groupé(e)s ne peuvent plus être dégroupé(e)s. Une fois inclus dans un groupe partagé, un objet ou une collection partagé(e) est lié(e) définitivement au groupe pendant toute la durée de la session. Même si toutes les références de l&#x27;objet/la collection sont supprimé(e)s des objets/collections parent(e)s, ils resteront liés.</li>
</ul>
<p>Reportez-vous à l&#x27;exemple 2 pour l&#x27;illustration des règles des groupes partagés.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lecture">Lecture<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/Concepts/shared#lecture">​</a></h3>
<p>La lecture de propriétés ou d&#x27;éléments d&#x27;un objet ou d&#x27;une collection partagé(e) est possible sans appel de la structure <code>Use...End use</code>, même si l&#x27;objet ou la collection partagé(e) est &quot;utilisé(e)&quot; par un autre process.</p>
<p>Cependant, lorsque plusieurs valeurs sont interdépendantes et doivent être lues simultanément, il est nécessaire d&#x27;encadrer l&#x27;accès en lecture par une structure <code>Use...End use</code> pour des raisons de cohérence.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="duplication">Duplication<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/Concepts/shared#duplication">​</a></h3>
<p>Appeler <code>OB Copy</code> avec un objet partagé (ou avec un objet dont des propriétés sont des objets partagés) est possible, mais dans ce cas un objet standard (non partagé) est retourné.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="storage">Storage<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/Concepts/shared#storage">​</a></h3>
<p><strong>Storage</strong> est un objet partagé unique, disponible automatiquement pour chaque application et machine. Cet objet partagé est renvoyé par la commande <a href="https://doc.4d.com/4dv19R/help/command/en/page1525.html" target="_blank" rel="noopener noreferrer"><code>Storage</code></a> . Il est destiné à référencer les objets ou collections partagé(e)s défini(e)s durant la session que vous souhaitez rendre accessibles à tous les process, préemptifs ou standard.</p>
<p>A noter que, à la différence de objets partagés standard, l&#x27;objet <code>Storage</code> ne crée par de groupe partagé lorsque des objets/collection lui sont assigné(e)s en tant que propriétés. Cette exception permet à l&#x27;objet <strong>Storage</strong> d&#x27;être utilisé sans verrouiller les objets/collections partagé(e)s connecté(e)s.</p>
<p>Pour plus d&#x27;informations, reportez-vous à la description de la commande <code>Storage</code>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="useend-use">Use...End use<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/Concepts/shared#useend-use">​</a></h2>
<p>La syntaxe de la structure <code>Use...End use</code> est la suivante :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> Use(Shared_object_or_Shared_collection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instruction(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End use</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La structure <code>Use...End use</code> définit une séquence d&#x27;instructions qui exécutera des tâches sur le paramètre <em>Shared_object_or_Shared_collection</em> sous la protection d&#x27;un sémaphore interne. <em>Shared_object_or_Shared_collection</em> peut être tout objet partagé ou collection partagée valide.</p>
<p>Les objets partagés et les collections partagées permettent d&#x27;établir des communications entre les process, en particulier les <strong>process 4D préemptifs</strong>. Ils peuvent être passés par référence en paramètre d&#x27;un process à un autre. Encadrer les modifications d&#x27;objets partagés et de collections partagées à l&#x27;aide des mots-clés <code>Use...End use</code> est obligatoire pour empêcher les accès concurrents entre les process.</p>
<ul>
<li>Une fois que la ligne <strong>Use</strong> est exécutée avec succès, toutes les propriétés/éléments de <em>Shared_object_or_Shared_collection</em> sont verrouillé(e)s en écriture pour tous les autres process jusqu&#x27;à ce que la ligne <code>End use</code> correspondante soit exécutée.</li>
<li>La séquence d&#x27;<em>instructions</em> peut alors effectuer toute modification dans les propriétés/éléments de Shared_object_or_Shared_collection sans risque d&#x27;accès concurrent.</li>
<li>Si un autre objet ou une autre collection partagé(e) est ajouté(e) en tant que propriété du paramètre <em>Shared_object_or_Shared_collection</em>, ils deviennent connectés au sein du même groupe partagé.</li>
<li>Si un autre process tente d&#x27;accéder à une propriété de <em>Shared_object_or_Shared_collection</em> ou une propriété connectée alors qu&#x27;une séquence <strong>Use...End use</strong> est en cours d&#x27;exécution sur le même Shared_object_or_Shared_collection, il est automatiquement placé en attente et attendra jusqu&#x27;à ce que la séquence courante soit terminée.</li>
<li>La ligne <strong>End use</strong> déverrouille les propriétés de <em>Shared_object_or_Shared_collection</em> et tous les objets du même groupe.</li>
<li>Plusieurs structures <strong>Use...End use</strong> peuvent être imbriquées dans le code 4D. Toute modification d&#x27;un objet/d&#x27;une collection partagé(e) doit s&#x27;effectuer à l&#x27;intérieur d&#x27;une structure <strong>Use...End use</strong>.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>N&#x27;oubliez pas que les <a href="/docs/fr/20/API/CollectionClass">fonctions de collection</a> qui modifient les collections partagées déclenchent automatiquement un <strong>Use</strong> interne pour cette collection partagée pendant l&#x27;exécution de la fonction.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1">Exemple 1<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/Concepts/shared#exemple-1">​</a></h2>
<p>Vous souhaitez lancer plusieurs process qui vont effectuer des tâches d&#x27;inventaire parmi différents produits et mettre à jour le même objet partagé. Le process principal instancie un objet partagé vide et ensuite lance les autres process, passant en paramètre l&#x27;objet partagé et les produits à comptabiliser :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> ARRAY TEXT($_items;0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ... //fill the array with items to count</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $nbItems:=Size of array($_items)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $inventory : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $inventory:=New shared object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Use($inventory)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $inventory.nbItems:=$nbItems</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Create processes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> For($i;1;$nbItems)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $ps:=New process(&quot;HowMany&quot;;0;&quot;HowMany_&quot;+$_items{$i};$_items{$i};$inventory)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$inventory object sent by reference</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End for</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans la méthode &quot;HowMany&quot;, l&#x27;inventaire est effectué et l&#x27;objet partagé $inventory est mis à jour dès que possible :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //HowMany</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE ($what : Text ; $inventory : Object)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $count:=CountMethod($what) //method to count products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Use($inventory) //use shared object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $inventory[$what]:=$count  //save the results for this item</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End use</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2">Exemple 2<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/Concepts/shared#exemple-2">​</a></h2>
<p>Les exemples suivants illustrent les règles spécifiques à observer lorsque vous utilisez des groupes partagés :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $ob1:=New shared object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $ob2:=New shared object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Use($ob1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $ob1.a:=$ob2  //un premier groupe est créé</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  End use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $ob3:=New shared object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $ob4:=New shared object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Use($ob3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $ob3.a:=$ob4  //un 2e groupe est créé</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Use($ob1) //Utilisation d&#x27;un objet du groupe 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $ob1.b:=$ob4  //ERREUR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$ob4 appartient déjà à un autre groupe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //son assignation n&#x27;est pas permise</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Use($ob3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $ob3.a:=Null //on enlève la référence de $ob4 du groupe 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Use($ob1) //Utilisation d&#x27;un objet du groupe 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $ob1.b:=$ob4  //ERREUR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$ob4 appartient toujours au groupe 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //son assignation n&#x27;est pas permise</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End use</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20Concepts%2Fshared.md%20(20)&amp;body=Please%20enter%20your%20comment%3A" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Ecrire un commentaire sur cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/fr/20/Concepts/parameters"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">Paramètres</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/fr/20/Concepts/classes"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">Classes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/Concepts/shared#utilisation-des-objets-et-collections-partagés">Utilisation des objets et collections partagés</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/Concepts/shared#modification">Modification</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/Concepts/shared#lecture">Lecture</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/Concepts/shared#duplication">Duplication</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/Concepts/shared#storage">Storage</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/Concepts/shared#useend-use">Use...End use</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/Concepts/shared#exemple-1">Exemple 1</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/Concepts/shared#exemple-2">Exemple 2</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Communauté</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Developer Center</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Où tout a commencé)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Knowledgebase</a></li><li class="footer__item"><a href="https://us.4d.com/product-download/Feature-Release" target="_blank" rel="noopener noreferrer" class="footer__link-item">Téléchargements<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Aide<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Société</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">A propos de 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contacts<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D dans le monde<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Carrière<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 4D SAS - Tous droits réservés</div></div></div></footer></div>
</body>
</html>