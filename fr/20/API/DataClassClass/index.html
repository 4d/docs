<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper docs-doc-page docs-version-20 plugin-docs plugin-id-default docs-doc-id-API/DataClassClass">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">DataClass | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://4d.github.io/docs/fr/20/API/DataClassClass"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="20"><meta data-rh="true" name="docusaurus_tag" content="docs-default-20"><meta data-rh="true" name="docsearch:version" content="20"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-20"><meta data-rh="true" property="og:title" content="DataClass | 4D Docs"><meta data-rh="true" name="description" content="Une dataclass fournit une interface objet à une table de la base de données. Toutes les dataclasses d&#x27;une application 4D sont disponibles en tant que propriété du datastore ds ."><meta data-rh="true" property="og:description" content="Une dataclass fournit une interface objet à une table de la base de données. Toutes les dataclasses d&#x27;une application 4D sont disponibles en tant que propriété du datastore ds ."><link data-rh="true" rel="icon" href="/docs/fr/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://4d.github.io/docs/fr/20/API/DataClassClass"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/20/API/DataClassClass" hreflang="en"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/fr/20/API/DataClassClass" hreflang="fr"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/es/20/API/DataClassClass" hreflang="es"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/ja/20/API/DataClassClass" hreflang="ja"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/pt/20/API/DataClassClass" hreflang="pt"><link data-rh="true" rel="alternate" href="https://4d.github.io/docs/20/API/DataClassClass" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/fr/opensearch.xml"><link rel="stylesheet" href="/docs/fr/assets/css/styles.a14572c6.css">
<link rel="preload" href="/docs/fr/assets/js/runtime~main.287bc70c.js" as="script">
<link rel="preload" href="/docs/fr/assets/js/main.59628e50.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/fr/"><div class="navbar__logo"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/fr/20/GettingStarted/installation">v20</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/fr/API/DataClassClass">v20 R4 BETA</a></li><li><a class="dropdown__link" href="/docs/fr/20-R3/API/DataClassClass">v20 R3</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/fr/20/API/DataClassClass">v20</a></li><li><a class="dropdown__link" href="/docs/fr/19/API/DataClassClass">v19</a></li><li><a class="dropdown__link" href="/docs/fr/18/GettingStarted/installation">v18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Français</a><ul class="dropdown__menu"><li><a href="/docs/20/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/20/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">Français</a></li><li><a href="/docs/es/20/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/20/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/docs/pt/20/API/DataClassClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/docs/fr/"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/fr/20/category/getting-started">Prise en main</a><button aria-label="Toggle the collapsible sidebar category &#x27;Prise en main&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/fr/20/category/core-development">Développement</a><button aria-label="Toggle the collapsible sidebar category &#x27;Développement&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/20/Project/overview">Gestion des projets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Gestion des projets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/20/category/4d-language-concepts">Concepts du langage 4D</a><button aria-label="Toggle the collapsible sidebar category &#x27;Concepts du langage 4D&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/20/ORDA/overview">ORDA</a><button aria-label="Toggle the collapsible sidebar category &#x27;ORDA&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://doc.4d.com/4Dv20/4D/20/4D-Language-Reference.100-6237190.en.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Manuel Langage 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/fr/20/category/class-API-reference">Class Functions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Class Functions&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/overview">A propos des fonctions de classes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/BlobClass">Blob</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/ClassClass">Classe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/CollectionClass">Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/CryptoKeyClass">CryptoKey</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/fr/20/API/DataClassClass">DataClass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/DataStoreClass">DataStore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/EmailObjectClass">Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/EntityClass">Entity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/EntitySelectionClass">EntitySelection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/FileClass">File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/FileHandleClass">FileHandle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/FolderClass">Folder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/FunctionClass">Function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/HTTPRequestClass">HTTPRequest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/IMAPTransporterClass">IMAPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/MailAttachmentClass">MailAttachment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/POP3TransporterClass">POP3Transporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/SessionClass">Session</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/SignalClass">Signal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/SMTPTransporterClass">SMTPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/SystemWorkerClass">SystemWorker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/WebServerClass">WebServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/WebSocketConnectionClass">WebSocketConnection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/WebSocketServerClass">WebSocketServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/ZipArchiveClass">ZIPArchive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/ZipFileClass">ZIPFile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/ZipFolderClass">ZIPFolder</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/20/code-editor/overview">Gestion du code</a><button aria-label="Toggle the collapsible sidebar category &#x27;Gestion du code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/fr/20/Tags/tags">Tags</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/20/Debugging/basics">Débogage</a><button aria-label="Toggle the collapsible sidebar category &#x27;Débogage&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/20/settings/overview">Settings</a><button aria-label="Toggle the collapsible sidebar category &#x27;Settings&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/fr/20/Preferences/overview">Préférences</a><button aria-label="Toggle the collapsible sidebar category &#x27;Préférences&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/fr/20/category/administration">Administration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Administration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/fr/20/Extensions/overview">Extensions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Extensions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/fr/20/category/web-applications">Applications Web</a><button aria-label="Toggle the collapsible sidebar category &#x27;Applications Web&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/fr/20/category/desktop-applications">Applications Desktop</a><button aria-label="Toggle the collapsible sidebar category &#x27;Applications Desktop&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developer.4d.com/go-mobile/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Applications mobiles</a></div></li></ul></nav><button type="button" title="Réduire le menu latéral" aria-label="Réduire le menu latéral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/fr/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/fr/20/category/core-development"><span itemprop="name">Développement</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/fr/20/category/class-API-reference"><span itemprop="name">Class Functions</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">DataClass</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v20</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>DataClass</h1></header><p>Une <a href="/docs/fr/20/ORDA/dsmapping#dataclass">dataclass</a> fournit une interface objet à une table de la base de données. Toutes les dataclasses d&#x27;une application 4D sont disponibles en tant que propriété du <a href="/docs/fr/20/ORDA/dsmapping#datastore">datastore</a> <code>ds</code> .</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sommaire">Sommaire<a href="#sommaire" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#attributename"><strong><em>.attributeName</em></strong> : object</a> <!-- --> <!-- --> <!-- --> <!-- -->objets disponibles directement en tant que propriétés</td></tr><tr><td><a href="#all"><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->interroge le datastore pour trouver toutes les entités de la dataclass et les renvoie en tant qu&#x27;entity selection</td></tr><tr><td><a href="#clearremotecache"><strong>.clearRemoteCache()</strong></a> <!-- --> <!-- --> <!-- --> <!-- -->vide le cache ORDA d&#x27;une dataclass</td></tr><tr><td><a href="#fromcollection"><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D.EntitySelection</a> <!-- --> <!-- --> <!-- --> <!-- -->modifie ou crée des entités dans la dataclass en utilisant la collection d&#x27;objets <em>objectCol</em> et retourne l&#x27;entity selection correspondante</td></tr><tr><td><a href="#get"><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D.Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.Entity</a> <!-- --> <!-- --> <!-- --> <!-- -->interroge la dataclass pour récupérer l&#x27;entité correspondant au paramètre <em>primaryKey</em></td></tr><tr><td><a href="#getcount"><strong>.getCount()</strong> : Integer </a> <!-- --> <!-- --> <!-- --> <!-- --> retourne le nombre d&#x27;entités dans une dataclass</td></tr><tr><td><a href="#getdatastore"><strong>.getDataStore()</strong> : cs.DataStore</a> <!-- --> <!-- --> <!-- --> <!-- -->retourne le datastore de la dataclass</td></tr><tr><td><a href="#getinfo"><strong>.getInfo()</strong> : Object </a> <!-- --> <!-- --> <!-- --> <!-- -->retourne un objet qui fournit des informations sur la dataclass</td></tr><tr><td><a href="#getremotecache"><strong>.getRemoteCache</strong>() : Object </a> <!-- --> <!-- --> <!-- --> <!-- -->retourne un objet qui contient le cache ORDA pour la dataclass.</td></tr><tr><td><a href="#new"><strong>.new()</strong> : 4D.Entity </a> <!-- --> <!-- --> <!-- --> <!-- -->crée en mémoire et renvoie une nouvelle entité vide pour la dataclass</td></tr><tr><td><a href="#newselection"><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D.EntitySelection </a> <!-- --> <!-- --> <!-- --> <!-- -->crée en mémoire une entity selection vide, non partageable, liée à la dataclass</td></tr><tr><td><a href="#query"><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection </a> <!-- --> <!-- --> <!-- --> <!-- -->recherche les entités répondant aux critères de recherche spécifiés dans <em>queryString</em> ou <em>formula</em> et (optionnellement) dans <em>value</em>(s)</td></tr><tr><td><a href="#setremotecachesettings"><strong>.setRemoteCacheSettings</strong>(<em>settings</em> : Object) </a> <!-- --> <!-- --> <!-- --> <!-- -->définit le timeout et la taille maximum du cache ORDA pour la dataclass.</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="attributename">.<em>attributeName</em><a href="#attributename" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R3</td><td>Ajout de l&#x27;attribut .exposed</td></tr><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong><em>.attributeName</em></strong> : object</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description">Description<a href="#description" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Les attributs des dataclasses sont des objets disponibles directement en tant que propriétés de ces classes.</p><p>Les objets renvoyés ont des propriétés que vous pouvez lire pour obtenir des informations sur les attributs de votre dataclass.</p><blockquote><p>Les objets attributs de dataclass peuvent être modifiés, mais la structure sous-jacente de la base de données ne sera pas altérée.</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="objet-retourné">Objet retourné<a href="#objet-retourné" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Les objets attributs retournés contiennent les propriétés suivantes :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>autoFilled</td><td>Boolean</td><td>Vrai si la valeur de l&#x27;attribut est automatiquement remplie par 4D. Correspond aux propriétés de champs 4D suivantes : &quot;Autoincrement&quot; pour les champs de type numérique et &quot;UUID Auto&quot; pour les champs UUID (alpha). Non retourné si <code>.kind</code> = &quot;relatedEntity&quot; ou &quot;relatedEntities&quot;.</td></tr><tr><td>exposed</td><td>Boolean</td><td>Vrai si l&#x27;attribut est exposé en REST</td></tr><tr><td>fieldNumber</td><td>entier</td><td>Numéro interne du champ 4D correspondant à l&#x27;attribut. Non retourné si <code>.kind</code> = &quot;relatedEntity&quot; ou &quot;relatedEntities&quot;.</td></tr><tr><td>fieldType</td><td>Integer</td><td>Type de champ de la base de données 4D de l&#x27;attribut. Dépend de l&#x27;attribut <code>kind</code>. Valeurs possibles : <li>si <code>.kind</code> = &quot;storage&quot; : type de champ 4D correspondant, voir <!-- -->[<code>Value type</code>]<!-- --> (<a href="https://doc.4d.com/4dv20/help/command/en/page1509.html" target="_blank" rel="noopener noreferrer">https://doc.4d.com/4dv20/help/command/en/page1509.html</a>)</li><li>si <code>.kind</code> = &quot;relatedEntity&quot; : 38 (<code>is object</code>)</li><li>si <code>.kind</code> = &quot;relatedEntities&quot; : 42 (<code>is collection</code>)</li><li>si <code>.kind</code> = &quot;calculated&quot; ou &quot;alias&quot; = même chose que ci-dessus, en fonction de la valeur résultante (type de champ, relatedEntity ou relatedEntities)</li></td></tr><tr><td>indexed</td><td>Boolean</td><td>Vrai s&#x27;il existe un index B-tree ou Cluster B-tree sur l&#x27;attribut. Non retourné si <code>.kind</code> = &quot;relatedEntity&quot; ou &quot;relatedEntities&quot;.</td></tr><tr><td>inverseName</td><td>Text</td><td>Nom de l&#x27;attribut qui se trouve à l&#x27;autre côté de la relation. Renvoyé uniquement lorsque <code>.kind</code> = &quot;relatedEntity&quot; ou &quot;relatedEntities&quot;.</td></tr><tr><td>keywordIndexed</td><td>Boolean</td><td>Vrai s&#x27;il existe un index de mots-clés sur l&#x27;attribut. Non retourné si <code>.kind</code> = &quot;relatedEntity&quot; ou &quot;relatedEntities&quot;.</td></tr><tr><td>kind</td><td>Text</td><td>Catégorie de l&#x27;attribut. Valeurs possibles :<li>&quot;storage&quot; : attribut de stockage (ou scalaire), c&#x27;est-à-dire un attribut stockant une valeur, et non une référence à un autre attribut</li><li>&quot;calculated&quot; : attribut calculé, c&#x27;est-à-dire défini par une fonction <a href="/docs/fr/20/ORDA/ordaClasses#function-get-attributename"><code>get</code></a></li><li>&quot;alias&quot;: attribut construit sur <a href="/docs/fr/20/ORDA/ordaClasses#alias-attributes-1">un autre attribut</a></li><li>&quot;relatedEntity&quot; : attribut relationnel N -&gt; 1 (référence vers une entité)</li><li>&quot;relatedEntities&quot; : attribut relationnel 1 -&gt; N (référence vers une entity selection)</li></td></tr><tr><td>obligatoire</td><td>Boolean</td><td>Vrai si la saisie d&#x27;une valeur null est rejetée pour l&#x27;attribut. Non retourné si <code>.kind</code> = &quot;relatedEntity&quot; ou &quot;relatedEntities&quot;. Attention : Cette propriété correspond à la propriété du champ &quot;Reject NULL value input&quot; au niveau de la base de données 4D. Elle n&#x27;est pas liée à la propriété &quot;Mandatory&quot; existante qui est une option de contrôle de la saisie de données pour une table.</td></tr><tr><td>name</td><td>Text</td><td>Nom de l&#x27;attribut sous forme de chaîne</td></tr><tr><td>path</td><td>Text</td><td>Chemin d&#x27;un <a href="/docs/fr/20/ORDA/ordaClasses#alias-attributes-1">attribut alias</a> basé sur une relation</td></tr><tr><td>readOnly</td><td>Boolean</td><td>Vrai si l&#x27;attribut est en lecture seule. Par exemple, les attributs calculés sans fonction <a href="/docs/fr/20/ORDA/ordaClasses#function-set-attributename"><code>set</code></a> sont en lecture seule.</td></tr><tr><td>relatedDataClass</td><td>Text</td><td>Nom de la dataclass liée à l&#x27;attribut. Renvoyé uniquement lorsque <code>.kind</code> = &quot;relatedEntity&quot; ou &quot;relatedEntities&quot;.</td></tr><tr><td>type</td><td>Text</td><td>Type conceptuel de la valeur de l&#x27;attribut, utile pour la programmation générique. Dépend de l&#x27;attribut <code>kind</code>. Valeurs possibles : <li>si <code>.kind</code> = &quot;storage&quot; : &quot;blob&quot;, &quot;bool&quot;, &quot;date&quot;, &quot;image&quot;, &quot;number&quot;, &quot;object&quot;, ou &quot;string&quot;. &quot;number&quot; est renvoyé pour tous les types numériques, y compris duration ; &quot;string&quot; est renvoyé pour les types d&#x27;attributs uuid, alpha et texte ; les attributs &quot;blob&quot; sont des <a href="/docs/fr/20/Concepts/blob#blob-type">objets blob</a>.</li><li>si <code>.kind</code> = &quot;relatedEntity&quot; : nom de la dataClass liée</li><li>si <code>.kind</code> = &quot;relatedEntities&quot; : nom de la classe de données liée + suffixe &quot;Selection&quot;</li><li>si <code>.kind</code> = &quot;calculated&quot; ou &quot;alias&quot; : même chose que ci-dessus, en fonction du résultat</li></td></tr><tr><td>unique</td><td>Boolean</td><td>Vrai si la valeur de l&#x27;attribut doit être unique. Non retourné si <code>.kind</code> = &quot;relatedEntity&quot; ou &quot;relatedEntities&quot;.</td></tr></tbody></table><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Pour la programmation générique, utilisez <code>Bool(attributeName.property)</code>, <code>Num(attributeName.property)</code> ou <code>String(attributeName. )</code> (selon le type de propriété) pour obtenir une valeur valide même si la propriété n&#x27;est pas retournée.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1">Exemple 1<a href="#exemple-1" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$salary:=ds.Employee.salary //retourne l&#x27;attribut salary dans la dataclass Employee</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$compCity:=ds.Company[&quot;city&quot;] //retourne l&#x27;attribut city dans la dataclass Company</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2">Exemple 2<a href="#exemple-2" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Considérant la structure suivante d&#x27;une base :</p><p><img loading="lazy" src="/docs/fr/assets/images/dataclassAttribute-a6b39462dc310d6f9b5816409d863cee.png" width="454" height="634" class="img_ev3q"></p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $firstnameAtt;$employerAtt;$employeesAtt : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $firstnameAtt:=ds.Employee.firstname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //{name:firstname,kind:storage,fieldType:0,type:string,fieldNumber:2,indexed:true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //keyWordIndexed:false,autoFilled:false,mandatory:false,unique:false}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employerAtt:=ds.Employee.employer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //{name:employer,kind:relatedEntity,relatedDataClass:Company,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //fieldType:38,type:Company,inverseName:employees}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //38=Is object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employeesAtt:=ds.Company.employees</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //{name:employees,kind:relatedEntities,relatedDataClass:Employee,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //fieldType:42,type:EmployeeSelection,inverseName:employer}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //42=Is collection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-3">Exemple 3<a href="#exemple-3" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Considérant les propriétés de table suivantes :</p><p><img loading="lazy" src="/docs/fr/assets/images/dataclassAttribute2-815959fd721b6dd175aaa338e04c2f38.png" width="405" height="383" class="img_ev3q"></p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $sequenceNumberAtt : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $sequenceNumberAtt=ds.Employee.sequenceNumber</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //{name:sequenceNumber,kind:storage,fieldType:0,type:string,fieldNumber:13,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //indexed:true,keyWordIndexed:false,autoFilled:true,mandatory:false,unique:true}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="all">.all()<a href="#all" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R5</td><td>Prise en charge du paramètre <em>settings</em></td></tr><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>settings</td><td>Object</td><td align="center">-&gt;</td><td>Option de création : contexte</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Références vers toutes les entités de la dataclass</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-1">Description<a href="#description-1" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>.all()</code> interroge le datastore pour trouver toutes les entités de la dataclass et les renvoie en tant qu&#x27;entity selection.</p><p>Les entités sont renvoyées dans l&#x27;ordre par défaut, qui est initialement l&#x27;ordre dans lequel elles ont été créées. Notez cependant que, si des entités ont été supprimées et que de nouvelles entités ont été ajoutées, l&#x27;ordre par défaut ne reflète plus l&#x27;ordre de création.</p><p>Si aucune entité n&#x27;est trouvée, une entity selection vide est renvoyée.</p><p>Le mode lazy loading est appliqué.</p><p><strong>settings</strong></p><p>Dans le paramètre optionnel <em>settings</em>, vous pouvez passer un objet contenant des options supplémentaires. La propriété suivante est prise en charge :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>Nom du contexte d&#x27;optimisation appliqué à l&#x27;entity selection. Ce contexte sera utilisé par le code qui manipule l&#x27;entity selection afin de bénéficier de l&#x27;optimisation. Cette fonctionnalité est <a href="/docs/fr/20/ORDA/entities#optimisation-client-server">conçue pour le traitement client/serveur ORDA</a>.</td></tr></tbody></table><blockquote><p>Pour obtenir le nombre total d&#x27;entités dans une dataclass, il est recommandé d&#x27;utiliser la fonction <a href="#getcount"><code>getCount()</code></a> qui est plus optimisée que l&#x27;expression <code>ds.myClass.all().length</code>.</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple">Exemple<a href="#exemple" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $allEmp : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $allEmp:=ds.Employee.all()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clearremotecache">.clearRemoteCache()<a href="#clearremotecache" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R5</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.clearRemoteCache()</strong></p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td></td><td></td><td align="center"></td><td>Ne requiert aucun paramètre</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-2">Description<a href="#description-2" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>.clearRemoteCache()</code> vide le cache ORDA d&#x27;une dataclass.</p><blockquote><p>Cette fonction ne réinitialise pas les valeurs de <code>timeout</code> et <code>maxEntries</code>.</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-4">Exemple<a href="#exemple-4" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $persons : cs.PersonsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $p : cs.PersonsEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $cache : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $info : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $text : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$persons:=$ds.Persons.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$text:=&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For each ($p; $persons)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $text:=$p.firstname+&quot; lives in &quot;+$p.address.city+&quot; / &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End for each</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$cache:=$ds.Persons.getRemoteCache()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ds.Persons.clearRemoteCache()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Cache of the Persons dataclass = {timeout:30;maxEntries:30000;stamp:255;entries:[]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fromcollection">.fromCollection()<a href="#fromcollection" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R5</td><td>Prise en charge du paramètre <em>settings</em></td></tr><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D.EntitySelection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>objectCol</td><td>Collection</td><td align="center">-&gt;</td><td>Collection d&#x27;objets à faire correspondre à des entités</td></tr><tr><td>settings</td><td>Object</td><td align="center">-&gt;</td><td>Option de création : contexte</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td align="center">&lt;-</td><td>Entity selection issue de la collection</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-3">Description<a href="#description-3" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>.fromCollection()</code> modifie ou crée des entités dans la dataclass en utilisant la collection d&#x27;objets <em>objectCol</em> et retourne l&#x27;entity selection correspondante.</p><p>Dans le paramètre <em>objectCol</em> passez une collection d&#x27;objets destinée à créer ou à modifier des entités de la dataclass. Les noms des propriétés doivent correspondre à ceux des attributs de la dataclass. Si un nom de propriété n&#x27;existe pas dans la dataclass, il est ignoré. Si une valeur d&#x27;attribut n&#x27;est pas définie dans la collection pour une entité créée, l&#x27;attribut prend la valeur Null.</p><p>La correspondance entre les objets de la collection et les entités est effectuée au niveau des <strong>noms d&#x27;attributs</strong> et de leur <strong>type de données</strong>. Si une propriété d&#x27;objet a le même nom qu&#x27;un attribut d&#x27;entité mais que leurs types ne sont pas compatibles, l&#x27;attribut de l&#x27;entité ne reçoit pas de valeur.</p><p><strong>Mode création ou modification</strong></p><p>Pour chaque objet de <em>objectCol</em> :</p><ul><li>Si l&#x27;objet contient une propriété booléenne &quot;<!-- -->_<!-- -->_<!-- -->NEW&quot; fixée à faux (ou ne contient pas de propriété booléenne &quot;<!-- -->_<!-- -->_<!-- -->NEW&quot;), l&#x27;entité est modifiée ou créée avec les valeurs correspondantes des propriétés de l&#x27;objet. Aucune vérification spécifique n&#x27;est effectuée concernant la clé primaire :<ul><li>Si la clé primaire est fournie et existe, l&#x27;entité est modifiée. Dans ce cas, la clé primaire peut être fournie telle quelle ou via la propriété &quot;<!-- -->_<!-- -->_<!-- -->KEY&quot; (contenant la valeur de la propriété primaire).</li><li>Si la clé primaire est fournie (telle quelle) et n&#x27;existe pas, l&#x27;entité est créée</li><li>Si la clé primaire n&#x27;est pas fournie, l&#x27;entité est créée et la clé primaire est assignée selon les règles en vigueur de la base de données.</li></ul></li><li>si l&#x27;objet contient une propriété booléenne &quot;<!-- -->_<!-- -->_<!-- -->NEW&quot; fixée à <strong>vrai</strong>, l&#x27;entité est créée avec les valeurs correspondantes des propriétés de l&#x27;objet. Une vérification est effectuée sur la clé primaire :<ul><li>Si la clé primaire est fournie (telle quelle) et existe, une erreur est générée</li><li>Si la clé primaire est fournie (telle quelle) et n&#x27;existe pas, l&#x27;entité est créée</li><li>Si la clé primaire n&#x27;est pas fournie, l&#x27;entité est créée et la clé primaire est assignée selon les règles en vigueur de la base de données.<blockquote><p>The nested objects featuring related entities must contain a &quot;<!-- -->_<!-- -->_<!-- -->KEY&quot; property (filled with the primary key value of the related entity) or the primary key attribute of the related entity itself. The use of a <!-- -->_<!-- -->_<!-- -->KEY property allows independence from the primary key attribute name.</p></blockquote></li></ul></li></ul><p><strong>Related entities</strong></p><p>Les objets de <em>objectCol</em> peuvent contenir un ou plusieurs objet(s) imbriqué(s) décrivant une ou plusieurs entité(s) relative(s), ce qui peut être utile pour créer ou modifier des relations entre les entités.</p><p>Les objets imbriqués décrivant les entités relatives doivent contenir une propriété &quot;<!-- -->_<!-- -->_<!-- -->KEY&quot; (contenant la valeur de la clé primaire de l&#x27;entité relative) ou la clé primaire de l&#x27;entité relative elle-même. L&#x27;utilisation de la propriété <!-- -->_<!-- -->_<!-- -->KEY permet de ne pas dépendre du nom de l&#x27;attribut clé primaire.</p><blockquote><p>Ce mécanisme ne permet pas de créer ou de modifier les entités liées.</p></blockquote><p><strong>Stamp</strong></p><p>Si une propriété <!-- -->_<!-- -->_<!-- -->STAMP est fournie, une vérification est effectuée sur le stamp (marqueur interne) de l&#x27;entité dans le datastore et une erreur est retournée en cas d&#x27;invalidité (&quot;Le stamp ne correspond pas à celui de l&#x27;enregistrement# XX de la table XXXX&quot;). Pour plus d&#x27;informations, voir <a href="/docs/fr/20/ORDA/entities#verrouillage-d-une-entite">Verrouillage d&#x27;une entité</a>.</p><p><strong>settings</strong></p><p>Dans le paramètre optionnel <em>settings</em>, vous pouvez passer un objet contenant des options supplémentaires. La propriété suivante est prise en charge :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>Nom du contexte d&#x27;optimisation appliqué à l&#x27;entity selection. Ce contexte sera utilisé par le code qui manipule l&#x27;entity selection afin de bénéficier de l&#x27;optimisation. Cette fonctionnalité est <a href="/docs/fr/20/ORDA/entities#optimisation-client-server">conçue pour le traitement client/serveur ORDA</a>.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-1">Exemple 1<a href="#exemple-1-1" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Nous souhaitons modifier une entité existante. La propriété <!-- -->_<!-- -->_<!-- -->NEW n&#x27;est pas fixée, la clé primaire de l&#x27;employé est passée et existe :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.ID:=668 //Clé primaire existante dans la dataclass Employee</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;Arthur&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.employer:=New object(&quot;ID&quot;;121) //Clé primaire existante dans la dataclass liée Company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Nous modifions la Company de cet employé en lui assignant une autre clé primaire existante dans la dataclass liée Company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-1">Exemple 2<a href="#exemple-2-1" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Nous souhaitons modifier une entité existante. La propriété <!-- -->_<!-- -->_<!-- -->NEW n&#x27;est pas fournie, la clé primaire de l&#x27;employé est avec l&#x27;attribut <!-- -->_<!-- -->_<!-- -->KEY et existe :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.__KEY:=1720 //Clé primaire existante dans la dataclass Employee</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;John&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Boorman&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.employer:=New object(&quot;ID&quot;;121) //Clé primaire existante dans la dataclass liée Company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Nous modifions la Company de cet employé en lui assignant une autre clé primaire existante dans la dataclass relative Company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-3-1">Exemple 3<a href="#exemple-3-1" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Création simple d&#x27;une entité à partir d&#x27;une collection :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;Victor&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Hugo&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-4-1">Exemple 4<a href="#exemple-4-1" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Nous souhaitons créer une entité. La propriété <!-- -->_<!-- -->_<!-- -->NEW est à Vrai, la clé primaire de l&#x27;employé n&#x27;est pas fournie :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;Mary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.employer:=New object(&quot;__KEY&quot;;121) //Clé primaire existante dans la dataclass liée Company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.__NEW:=True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-5">Exemple 5<a href="#exemple-5" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Nous souhaitons créer une entité. La propriété <!-- -->_<!-- -->_<!-- -->NEW n&#x27;est pas passée, la clé primaire de l&#x27;employé est fournie et n&#x27;existe pas :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.ID:=10000 //clé primaire qui n&#x27;existe pas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;Françoise&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Sagan&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-6">Exemple 6<a href="#exemple-6" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Dans cet exemple, la première entité sera bien créée mais la seconde création échouera car les deux entités utilisent la même clé primaire :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $empsCollection : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp; $emp2 : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.ID:=10001 // Clé primaire inexistante</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=&quot;Simone&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.__NEW:=True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp2:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp2.ID:=10001 // ERREUR clé primaire identique</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp2.firstName:=&quot;Marc&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp2.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp2.__NEW:=True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empsCollection.push($emp2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.fromCollection($empsCollection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //la première entité est créée</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //erreur clé dupliquée pour la seconde</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="voir-également">Voir également<a href="#voir-également" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p><a href="/docs/fr/20/API/EntitySelectionClass#tocollection"><strong>.toCollection()</strong></a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="get">.get()<a href="#get" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D.Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.Entity</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>primaryKey</td><td>Integer OR Text</td><td align="center">-&gt;</td><td>Valeur de la clé primaire de l&#x27;entité à récupérer</td></tr><tr><td>settings</td><td>Object</td><td align="center">-&gt;</td><td>Option de création : contexte</td></tr><tr><td>Résultat</td><td>4D.Entity</td><td align="center">&lt;-</td><td>Entité correspondant à la clé primaire indiquée</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-4">Description<a href="#description-4" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>.get()</code> interroge la dataclass pour récupérer l&#x27;entité correspondant au paramètre <em>primaryKey</em>.</p><p>Dans <em>primaryKey</em>, passez la valeur de clé primaire de l&#x27;entité à récupérer. Le type de valeur doit correspondre au type de clé primaire définie dans le datastore (entier long ou texte). Vous pouvez également vous assurer que la valeur de la clé primaire est toujours renvoyée en tant que texte en utilisant la fonction <a href="/docs/fr/20/API/EntityClass#getkey"><code>.getKey()</code></a> avec le paramètre <code>dk key as string</code>.</p><p>Si aucune entité avec <em>primaryKey</em> n&#x27;est trouvée, une entité <strong>Null</strong> est retournée.</p><p>Le chargement différé (lazy loading) est appliqué, ce qui signifie que les données associées sont chargées à partir du disque uniquement lorsque cela est nécessaire.</p><p><strong>settings</strong></p><p>Dans le paramètre optionnel <em>settings</em>, vous pouvez passer un objet contenant des options supplémentaires. La propriété suivante est prise en charge :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>Nom du contexte d&#x27;optimisation appliqué à l&#x27;entité. Ce contexte sera utilisé par le code qui manipule l&#x27;entité afin de bénéficier de l&#x27;optimisation. Cette fonctionnalité est <a href="/docs/fr/20/ORDA/entities#optimisation-client-server">conçue pour le traitement client/serveur ORDA</a>.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-2">Exemple 1<a href="#exemple-1-2" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs.EmployeeEntity  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity2 : cs.InvoiceEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=ds.Employee.get(167) // retourne l&#x27;entité dont la valeur de clé primaire est 167</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity2:=ds.Invoice.get(&quot;DGGX20030&quot;) // retourne l&#x27;entité dont la valeur de clé primaire est &quot;DGGX20030&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-2">Exemple 2<a href="#exemple-2-2" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Cet exemple illustre l&#x27;utilisation de la propriété <em>context</em> :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $e1; $e2; $e3; $e4 : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $settings; $settings2 : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings:=New object(&quot;context&quot;;&quot;detail&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings2:=New object(&quot;context&quot;;&quot;summary&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e1:=ds.Employee.get(1;$settings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> completeAllData($e1) // Dans la méthode completeAllData, une optimisation est lancée et associée au contexte &quot;detail&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e2:=ds.Employee.get(2;$settings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> completeAllData($e2) // Dans la méthode completeAllData, l&#x27;optimisation associée au contexte &quot;detail&quot; est appliquée</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e3:=ds.Employee.get(3;$settings2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> completeSummary($e3) //Dans la méthode completeSummary, une optimisation est lancée et associée au contexte &quot;summary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e4:=ds.Employee.get(4;$settings2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> completeSummary($e4) //Dans la méthode completeSummary, l&#x27;optimisation associée au contexte &quot;summary&quot; est appliquée</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getcount">.getCount()<a href="#getcount" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R5</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.getCount()</strong> : Integer </p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>result</td><td>Integer</td><td>&lt;-</td><td>Nombre d&#x27;entités dans la dataclass</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-5">Description<a href="#description-5" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>.getCount()</code>  retourne le nombre d&#x27;entités dans une dataclass.</p><p>Si cette fonction est utilisée dans une transaction, les entités créées durant la transaction sont prises en compte.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-7">Exemple<a href="#exemple-7" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $number : Integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$number:=$ds.Persons.getCount()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getdatastore">.getDataStore()<a href="#getdatastore" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R5</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.getDataStore()</strong> : cs.DataStore</p><table><thead><tr><th>Paramètres</th><th>Type</th><th align="center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>cs.DataStore</td><td align="center">&lt;-</td><td>Datastore de la dataclass</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-6">Description<a href="#description-6" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>.getDataStore()</code> retourne le datastore de la dataclass.</p><p>Le datastore peut être :</p><ul><li>le datastore principal, retourné par la commande <code>ds</code>.</li><li>un datastore distant, ouvert à l&#x27;aide de la commande <code>Open datastore</code>.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-8">Exemple<a href="#exemple-8" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La méthode projet <strong><em>SearchDuplicate</em></strong> recherche des valeurs dupliquées dans une dataclass.</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $pet : cs.CatsEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $pet:=ds.Cats.all().first() //lire une entité</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> SearchDuplicate($pet;&quot;Dogs&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  // SearchDuplicate method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // SearchDuplicate(entity_to_search;dataclass_name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE ($pet : Object ; $dataClassName : Text)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $dataStore; $duplicates : Object  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $dataStore:=$pet.getDataClass().getDataStore()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $duplicates:=$dataStore[$dataClassName].query(&quot;name=:1&quot;;$pet.name)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getinfo">.getInfo()<a href="#getinfo" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R3</td><td>Ajout propriété exposed</td></tr><tr><td>v17 R5</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.getInfo()</strong> : Object </p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Object</td><td>&lt;-</td><td>Informations sur la dataclass</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-7">Description<a href="#description-7" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>.getInfo()</code> retourne un objet qui fournit des informations sur la dataclass. Cette fonction est utile pour l&#x27;écriture de code générique.</p><p><strong>Objet retourné</strong></p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>exposed</td><td>Boolean</td><td>Vrai si la dataclass est exposée en REST</td></tr><tr><td>name</td><td>Text</td><td>Nom de la dataclass</td></tr><tr><td>primaryKey</td><td>Text</td><td>Nom de la clé primaire de la dataclass</td></tr><tr><td>tableNumber</td><td>Integer</td><td>Numéro interne de la table 4D</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-3">Exemple 1<a href="#exemple-1-3" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE ($entity : Object)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> computeEmployeeNumber($entity) //Exécuter des actions sur une entité</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$entity.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> if($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Enregistrement mis à jour dans la table &quot;+$entity.getDataClass().getInfo().name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-3">Exemple 2<a href="#exemple-2-3" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $settings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.ClientsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings.parameters:=New object(&quot;receivedIds&quot;;getIds())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings.attributes:=New object(&quot;pk&quot;;ds.Clients.getInfo().primaryKey)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Clients.query(&quot;:pk in :receivedIds&quot;;$settings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-3-2">Exemple 3<a href="#exemple-3-2" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $pk : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $dataClassAttribute : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $pk:=ds.Employee.getInfo().primaryKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $dataClassAttribute:=ds.Employee[$pk] // Le cas échéant, l&#x27;attribut correspondant à la clé primaire est accessible</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getremotecache">.getRemoteCache()<a href="#getremotecache" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R5</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.getRemoteCache</strong>() : Object </p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>result</td><td>Object</td><td>&lt;-</td><td>Objet décrivant le contenu du cache ORDA pour la dataclass.</td></tr></tbody></table><p>|</p><blockquote><p><strong>Mode avancé :</strong> Cette fonction est destinée aux développeurs qui souhaitent personnaliser les fonctionnalités par défaut de ORDA dans le cadre de configurations spécifiques. Dans la plupart des cas, vous n&#x27;aurez pas besoin de l&#x27;utiliser.</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-8">Description<a href="#description-8" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>getRemoteCache()</code> retourne un objet qui contient le cache ORDA pour la dataclass..</p><p>Si elle est appelée depuis une application 4D monoposte, la fonction retourne <code>Null</code>.</p><p>L&#x27;objet retourné contient les propriétés suivantes :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>maxEntries</td><td>Integer</td><td>Nombre maximum de collections &quot;entries&quot;.</td></tr><tr><td>stamp</td><td>Integer</td><td>Marqueur du cache.</td></tr><tr><td>timeout</td><td>Integer</td><td>Durée avant qu&#x27;une nouvelle entrée dans le cache soit indiquée comme expirée.</td></tr><tr><td>entries</td><td>Collection</td><td>Contient un objet pour chaque entité dans le cache.</td></tr></tbody></table><p>Chaque objet &quot;entrée&quot; de la collection <code>entries</code> contient les propriétés suivantes :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>data</td><td>Object</td><td>Objet contenant les données de l&#x27;entrée.</td></tr><tr><td>expired</td><td>Boolean</td><td>True si l&#x27;entrée a expiré.</td></tr><tr><td>key</td><td>Text</td><td>Clé primaire de l&#x27;entité.</td></tr></tbody></table><p>L&#x27;objet <code>data</code> de chaque entrée contient les propriétés suivantes :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>__KEY</td><td>String</td><td>Clé primaire de l&#x27;entité</td></tr><tr><td>__STAMP</td><td>Longint</td><td>Stamp de l&#x27;entité dans la base de données</td></tr><tr><td>__TIMESTAMP</td><td>String</td><td>Timestamp de l&#x27;entité dans la base de données (le format est YYYY-MM-DDTHH:MM:SS:ms:Z)</td></tr><tr><td>dataClassAttributeName</td><td>Variant</td><td>S&#x27;il y a des données dans le cache pour un attribut de dataclass, il est retourné dans une propriété du même type que dans la base de données.</td></tr></tbody></table><p>Les données concernant les entités liées sont stockées dans le cache de l&#x27;objet data.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-9">Exemple<a href="#exemple-9" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Dans l&#x27;exemple suivant, <code>$ds.Persons.all()</code> charge la première entité avec tous ses attributs. Ensuite, l&#x27;optimiseur de requêtes entre en jeu, et seuls <code>firstname</code> et <code>address.city</code> sont chargés.</p><p>Notez que <code>address.city</code> est chargé dans le cache de la dataclass <code>Persons</code>.</p><p>Seule la première entité de la dataclass <code>Address</code> est stockée dans le cache. Elle est chargée durant la première itération de la boucle.</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $persons : cs.PersonsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $p : cs.PersonsEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $cachePersons; $cacheAddress : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $text : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$persons:=$ds.Persons.all()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$text:=&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For each ($p; $persons)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $text:=$p.firstname+&quot; lives in &quot;+$p.address.city+&quot; / &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End for each</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$cachePersons:=$ds.Persons.getRemoteCache()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$cacheAddress:=$ds.Adress.getRemoteCache()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="voir-également-1">Voir également<a href="#voir-également-1" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p><a href="#setremotecachesettings">.setRemoteCacheSettings()</a><br><a href="#clearremotecache">.clearRemoteCache()</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="new">.new()<a href="#new" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.new()</strong> : 4D.Entity </p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>4D.Entity</td><td>&lt;-</td><td>Nouvelle entité correspondant à la dataclass</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-9">Description<a href="#description-9" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>.new()</code> crée en mémoire et renvoie une nouvelle entité vide pour la dataclass.</p><p>L&#x27;objet entité est créé en mémoire et n&#x27;est pas sauvegardé dans la base de données tant que la fonction <a href="/docs/fr/20/API/EntityClass#save"><code>.save( )</code></a> n&#x27;est pas appelée. Si l&#x27;entité est supprimée avant d&#x27;être sauvegardée, elle ne peut pas être récupérée.</p><p><strong>4D Server</strong>: En client-serveur, si la clé primaire de la table correspondante est auto-incrémentée, elle sera calculée au moment de la sauvegarde de l&#x27;entité sur le serveur.</p><p>Tous les attributs de l&#x27;entité sont initialisés avec la valeur <strong>null</strong>.</p><blockquote><p>Les attributs peuvent être initialisés à des valeurs par défaut si l&#x27;option <strong>Traduire les NULL en valeurs vides</strong> est sélectionnée au niveau de la structure de la base 4D.</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-10">Exemple<a href="#exemple-10" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Cet exemple crée une nouvelle entité dans la dataclass &quot;Log&quot; et enregistre les informations dans l&#x27;attribut &quot;info&quot; :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs.LogEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=ds.Log.new() //crée une référence</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.info:=&quot;New entry&quot; //valorise l&#x27;attribut info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.save() //sauvegarde l&#x27;entité</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="newselection">.newSelection()<a href="#newselection" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D.EntitySelection </p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>keepOrder</td><td>Integer</td><td>-&gt;</td><td><code>dk keep ordered</code> : crée une entity selection triée,<br><code>dk non ordered</code> : crée une entity selection non triée (défaut si omis)</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td>&lt;-</td><td>Nouvelle entity selection vide liée à la dataclass</td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-10">Description<a href="#description-10" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>.newSelection()</code> crée en mémoire une entity selection vide, non partageable, liée à la dataclass.</p><blockquote><p>Pour plus d&#x27;informations sur les sélections d&#x27;entités non partageables, veuillez vous reporter à <a href="/docs/fr/20/ORDA/entities#shareable-or-non-shareable-entity-selections">cette section</a>.</p></blockquote><p>Si vous voulez créer une entity selection triée, passez le sélecteur <code>dk keep ordered</code> dans le paramètre <em>keepOrder</em>. Par défaut, si vous omettez ce paramètre ou si vous passez le sélecteur <code>dk non ordered</code> la fonction crée une entity selection non triée. Les entity selections non triées sont plus rapides, mais vous ne pouvez pas vous fier aux positions des entités. Pour plus d&#x27;informations, voir <a href="/docs/fr/20/ORDA/dsmapping#entity-selections-triees-vs-entity-selections-non-triees">Entity selections triées vs Entity selections non-triées</a>.</p><p>Une fois créée, l&#x27;entity selection ne contient aucune entité (<code>mySelection.length</code> retourne 0). Cette fonction vous permet de construire progressivement des entity selections en effectuant des appels à la fonction <a href="/docs/fr/20/API/EntitySelectionClass#add"><code>add()</code></a>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-11">Exemple<a href="#exemple-11" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $USelection; $OSelection : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $USelection:=ds.Employee.newSelection() //crée une entity selection non triée vide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $OSelection:=ds.Employee.newSelection(dk keep ordered) //crée une entity selection triée vide</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="query">.query()<a href="#query" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R6</td><td>Prise en charge des paramètres Formula</td></tr><tr><td>v17 R5</td><td>Prise en charge des placeholders pour les valeurs</td></tr><tr><td>v17</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection </p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>queryString</td><td>Text</td><td>-&gt;</td><td>Critères de recherche en texte</td></tr><tr><td>formula</td><td>Object</td><td>-&gt;</td><td>Critères de recherche en objet formule</td></tr><tr><td>value</td><td>any</td><td>-&gt;</td><td>Valeur(s) à utiliser comme placeholder(s)</td></tr><tr><td>querySettings</td><td>Object</td><td>-&gt;</td><td>Options de recherche : parameters, attributes, args, allowFormulas, context, queryPath, queryPlan</td></tr><tr><td>Résultat</td><td>4D.EntitySelection</td><td>&lt;-</td><td>Nouvelle entity selection constituée des entités de la dataclass correspondant au(x) critère(s) de recherche fournis dans <em>queryString</em> ou <em>formula</em></td></tr></tbody></table><p>|</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-11">Description<a href="#description-11" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>.query()</code> recherche les entités répondant aux critères de recherche spécifiés dans <em>queryString</em> ou <em>formula</em> et (optionnellement) dans <em>value</em>(s), pour toutes les entités de la dataclass, et retourne un nouvel objet de type <code>EntitySelection</code> contenant toutes les entités trouvées. Le mode lazy loading est appliqué.</p><p>Si aucune entité correspondante n&#x27;est trouvée, une <code>EntitySelection</code> vide est retournée.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="paramètre-querystring">paramètre queryString<a href="#paramètre-querystring" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Le paramètre <em>queryString</em> doit respecter la syntaxe suivante :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">attributePath|formula comparator value   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> {logicalOperator attributePath|formula comparator value}   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> {order by attributePath {desc | asc}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>où :</p><ul><li><p><strong>attributePath</strong> : Chemin de l&#x27;attribut sur lequel vous souhaitez exécuter la recherche. Ce paramètre peut contenir un nom simple (par exemple &quot;pays&quot;) ou un chemin d&#x27;attribut valide (par exemple &quot;pays.nom&quot;). Dans le cas d&#x27;un chemin d&#x27;accès à un attribut dont le type est <code>Collection</code>, la notation <code>[]</code> est utilisée pour traiter toutes les occurrences (par exemple <code>children[].age</code>).</p><blockquote><p>Vous ne pouvez pas utiliser directement des attributs dont les noms contiennent des caractères spéciaux tels que &quot;.&quot;, &quot;<!-- -->[<!-- --> ]&quot;, ou &quot;=&quot;, &quot;&gt;&quot;, &quot;#&quot;..., car ils ne seront pas correctement évalués dans la chaîne de recherche. Si vous souhaitez rechercher ces attributs, vous devez utiliser des placeholders, qui permettent d&#x27;utiliser un ensemble de caractères plus étendu dans les chemins d&#x27;attribut (voir <em> <strong>Utiliser des placeholders</strong> </em>ci-dessous).</p></blockquote></li><li><p><strong>formula</strong> : Une formule valide passée en <code>Text</code> ou en <code>Object</code>. La formule sera évaluée pour chaque entité traitée et doit retourner une valeur booléenne. Dans la formule, l&#x27;entité est disponible via l&#x27;objet <code>This</code>.</p><ul><li><p><strong>Text</strong> : la chaine de formule doit être précédée de la déclaration <code>eval()</code>, afin que l&#x27;analyseur de requêtes évalue l&#x27;expression correctement. Par exemple : <em>&quot;eval(length(This.lastname) &gt;=30)&quot;</em></p></li><li><p><strong>Object</strong>: l&#x27;<a href="/docs/fr/20/API/FunctionClass">objet formule</a> est passé en tant que <strong>placeholder</strong> (voir ci-dessous). La formule doit avoir été créée à l&#x27;aide des commandes <a href="/docs/fr/20/API/FunctionClass#formula"><code>Formula</code></a> ou <a href="/docs/fr/20/API/FunctionClass#formula-from-string"><code>Formula from string</code></a>.</p><blockquote><ul><li>N&#x27;oubliez pas que les formules de 4D prennent uniquement en charge les symboles <code>&amp;</code> et <code>|</code> comme opérateurs logiques.</li><li>Si la formule n&#x27;est pas le seul critère de recherche, le système d&#x27;optimisation des requêtes pourra prioriser le traitement d&#x27;autres critères (ex : attributs indexés) et ainsi, la formule sera évaluée uniquement pour un sous-ensemble d&#x27;entités.</li></ul></blockquote><p> Les formules contenues dans les requêtes peuvent recevoir des paramètres via $1. Ce point est détaillé dans le paragraphe <strong>Paramètre formula</strong> ci-dessous.</p><blockquote><ul><li>Vous pouvez également passer directement un paramètre <code>formula</code> au lieu d&#x27;un paramètre <code>queryString</code> (recommandé lorsque les formules sont plus complexes). Voir le paragraphe <strong>Paramètre formula</strong> ci-dessous.</li><li>Pour des raisons de sécurité, les appels de formule dans les fonctions <code>query()</code> peuvent être interdits. Voir la description du paramètre <code>querySettings</code>.</li></ul></blockquote></li></ul></li><li><p><strong>comparator</strong> : symbole d&#x27;opérateur utilisé pour comparer <em>attributePath</em> et <em>value</em>. Les symboles suivants sont pris en charge :</p><table><thead><tr><th>Comparaison</th><th>Symbole(s)</th><th>Commentaire</th></tr></thead><tbody><tr><td>Egal à</td><td>=, ==</td><td>Retourne les données correspondantes, prend en charge le joker de recherche (@), ne tient pas compte de la casse et est non diacritique.</td></tr><tr><td></td><td>===, IS</td><td>Retourne les données correspondantes, considère le @ comme un caractère standard, ne tient pas compte de la casse et est non diacritique</td></tr><tr><td>Différent de</td><td>#, !=</td><td>Prend en charge le joker de recherche (@). Équivalent à &quot;Condition Not appliquée à une assertion&quot; (<a href="#not-equal-to-in-collections">voir ci-dessous</a>).</td></tr><tr><td></td><td>!==, IS NOT</td><td>Considère le @ comme un caractère standard</td></tr><tr><td>Condition Not appliquée à une assertion</td><td>NOT</td><td>Les parenthèses sont obligatoires lorsque NOT est utilisé avant une déclaration contenant plusieurs opérateurs. Équivalent à &quot;Not equal to&quot; (<a href="#not-equal-to-in-collections">voir ci-dessous</a>).</td></tr><tr><td>Inférieur à</td><td></td><td></td></tr><tr><td>Supérieur à</td><td>&gt;</td><td></td></tr><tr><td>Inférieur ou égal à</td><td>&lt;=</td><td></td></tr><tr><td>Supérieur ou égal à</td><td>&gt;=</td><td></td></tr><tr><td>Inclus parmi</td><td>IN</td><td>Retourne les données égales à au moins une des valeurs d&#x27;une collection ou d&#x27;un ensemble de valeurs, prend en charge le joker de recherche (@)</td></tr><tr><td>Contient mot-clé</td><td>%</td><td>Les mots-clés peuvent être utilisés avec les attributs de type texte ou image</td></tr></tbody></table></li><li><p><strong>value</strong> : valeur à comparer à la valeur courante de l&#x27;attribut de chaque entité de la sélection ou élément de la collection. Peut être un <strong>placeholder</strong> (voir <strong>Utiliser des placeholders</strong> ci-dessous) ou toute expression correspondant à la propriété du type de donnée. Lorsque vous utilisez une valeur constante, les règles suivantes doivent être respectées :</p><ul><li>Les valeurs constantes de type <strong>texte</strong> peuvent être passées avec ou sans guillemets (voir <strong>Utilisation des guillemets</strong> ci-dessous). Pour rechercher une chaîne dans une chaîne (recherche de type &quot;contient&quot;), utilisez le symbole joker (@) dans valeur pour isoler la chaîne à chercher, comme dans cet exemple : &quot;@Smith@&quot;. Les mots-clés suivants sont interdits pour des constantes de type texte : true, false.</li><li>Valeurs constantes de type<strong>booléen</strong>: <strong>true</strong> or <strong>false</strong> (sensible à la casse).</li><li>Valeurs constantes de type <strong>numérique</strong> : les décimales doivent être séparées par un &#x27;.&#x27;</li><li>Constantes de type <strong>date</strong> : &quot;YYYY-MM-DD&quot; format</li><li>Constantes <strong>null</strong> : en utilisant le mot-clé &quot;null&quot;, la recherche trouvera les propriétés ayant la valeur <strong>null</strong> et <strong>undefined</strong>.</li><li>Dans le cas d&#x27;une recherche avec un comparateur IN, <em>value</em>doit être une collection, ou des valeurs du même type que les données du chemin d&#x27;attribut, fournies entre <!-- -->[<!-- --> ] et séparées par des virgules (pour les chaînes, les caractères <code>&quot;</code> doivent être échappés avec des <code>\</code>).</li></ul></li><li><p><strong>logicalOperator</strong> : utilisé pour relier des conditions multiples dans la recherche (optionnel). Vous pouvez utiliser un des opérateurs logiques suivants (le nom ou le symbole peut être passé) :</p><table><thead><tr><th>Conjonction</th><th>Symbole(s)</th></tr></thead><tbody><tr><td>AND</td><td>&amp;, &amp;&amp;, and</td></tr><tr><td>OU</td><td>|<!-- -->,<!-- -->|<!-- -->|<!-- -->, or</td></tr></tbody></table></li><li><p><strong>order by attributePath</strong> : vous pouvez inclure une déclaration order by <em>attributePath</em> dans la requête afin que les données résultantes soient triées selon cette déclaration. Vous pouvez utiliser plusieurs tris par déclaration, en les séparant par des virgules (e.g., order by <em>attributePath1</em> desc, <em>attributePath2</em> asc). Par défaut, le tri est par ordre croissant. Passez &#x27;desc&#x27; pour définir un tri par ordre décroissant et &#x27;asc&#x27; pour définir un tri par ordre croissant. &gt;Si vous utilisez cette déclaration, l&#x27;entity selection retournée est triée (pour plus d&#x27;informations, veuillez consulter <a href="/docs/fr/20/ORDA/dsmapping#entity-selections-triees-vs-entity-selections-non-triees">Entity selections triées vs Entity selection non triées</a>).</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="utilisation-de-guillemets">Utilisation de guillemets<a href="#utilisation-de-guillemets" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Lorsque vous utilisez des guillemets dans des recherches, vous devez utiliser des guillemets simples &#x27; &#x27; à l&#x27;intérieur de la requête et des guillemets doubles &quot; &quot; pour encadrer la requête, sinon une erreur est renvoyée. Par exemple :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;employee.name = &#x27;smith&#x27; AND employee.firstname = &#x27;john&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Les guillemets simples (&#x27;) ne sont pas pris en charge dans les valeurs recherchées car ils casseraient la chaîne de recherche. Par exemple, &quot;comp.name = &#x27;John&#x27;s pizza&#x27; &quot; génèrera une erreur. Si vous devez rechercher des valeurs contenant des guillemets simples, il est nécessaire d&#x27;utiliser des placeholders (voir ci-dessous).</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="utilisation-de-parenthèses">Utilisation de parenthèses<a href="#utilisation-de-parenthèses" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Vous pouvez utiliser des parenthèses dans la recherche afin de prioriser les calculs. Par exemple, vous pouvez organiser une recherche de la manière suivante :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;(employee.age &gt;= 30 OR employee.age &lt;= 65) AND (employee.salary &lt;= 10000 OR employee.status = &#x27;Manager&#x27;)&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="utilisation-de-placeholders">Utilisation de placeholders<a href="#utilisation-de-placeholders" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>4D vous permet d&#x27;utiliser des placeholders pour les arguments <em>attributePath</em>, <em>formula</em> et <em>value</em> dans le paramètre <em>queryString</em>. Un placeholder est un paramètre que vous insérez dans des chaines de recherche et qui est remplacé par une autre valeur au moment où la chaîne de recherche est évaluée. La valeur des placeholders est évaluée une seule fois, au début de la requête ; elle n&#x27;est pas évaluée pour chaque élément.</p><p>Il existe deux types de placeholders : les <strong>placeholders indexés</strong> et les <strong>placeholders nommés</strong> :</p><table><thead><tr><th></th><th>Placeholders indexés</th><th>Placeholders nommés</th></tr></thead><tbody><tr><td>Définition</td><td>You can mix all argument kinds in <em>queryString</em>. A <em>queryString</em> can contain, for <em>attributePath</em>, <em>formula</em> and <em>value</em> parameters:</td><td>Les paramètres sont insérés sous la forme <code>:paramName</code> (par exemple :myparam) et leurs valeurs sont fournies dans les objets attributes et/ou parameters dans le paramètre <em>querySettings</em></td></tr><tr><td>Exemple</td><td><code>$r:=class.query(&quot;:1=:2&quot;;&quot;city&quot;;&quot;Chicago&quot;)</code></td><td><code>$o.attributes:=New object(&quot;att&quot;;&quot;city&quot;)</code><br> <code>$o.parameters:=New object(&quot;name&quot;;&quot;Chicago&quot;)</code><br> <code>$r:=class.query(&quot;:att=:name&quot;;$o)</code></td></tr></tbody></table><p>Vous pouvez combiner tous les types d&#x27;arguments dans <em>queryString</em>. Une <em>queryString</em> peut contenir, pour les paramètres <em>attributePath</em>, <em>formula</em> et <em>value</em> :</p><ul><li>des valeurs directes (pas de placeholders)</li><li>des placeholders indexés et/ou nommés.</li></ul><p>L&#x27;utilisation de placeholders dans les recherches <strong>est recommandée</strong> pour les raisons suivantes :</p><ol><li><p>Cela empêche l&#x27;injection de code malveillant : si vous utilisez dans la chaîne de recherche des variables dont le contenu provient directement de la saisie de l&#x27;utilisateur, celui-ci pourrait modifier les conditions de recherche en saisissant des arguments de recherche supplémentaires. Par exemple, imaginez une chaîne de recherche du type :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $vquery:=&quot;status = &#x27;public&#x27; &amp; name = &quot;+myname //l&#x27;utilisateur saisit son nom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$col.query($vquery)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Cette recherche semble sécurisée puisque les données non publiques sont filtrées. Cependant, si l&#x27;utilisateur saisit dans la zone <em>myname</em> une chaîne du type <em>&quot;smith OR status=&#x27;private&#x27;</em>, la chaîne de recherche sera modifiée à l&#x27;étape de l&#x27;interprétation et pourra retourner des données privées.</p><p>Lorsque vous utilisez des placeholders, le contournement des options de sécurité n&#x27;est pas possible :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$col.query(&quot;status=&#x27;public&#x27; &amp; name=:1&quot;;myname)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Dans ce cas, si l&#x27;utilisateur saisit <em>smith OR status=&#x27;private&#x27;</em> dans la zone <em>myname</em>, cela ne sera pas interprété dans la chaîne de recherche, mais uniquement passé en tant que valeur. La recherche d&#x27;une personne nommée &quot;smith OR status=&#x27;private&quot;&#x27; échouera simplement.</p></li><li><p>Cela résout les questions liées au formatage des valeurs ou des caractères, notamment lorsque vous gérez des paramètres <em>attributePath</em> et <em>value</em> qui peuvent contenir des caractères non-alphanumériques tels que &quot;.&quot;, &quot;[&quot;...</p></li><li><p>Cela permet l&#x27;utilisation de variables ou d&#x27;expressions dans les arguments de recherche. Exemples :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$result:=$col.query(&quot;address.city = :1 &amp; name =:2&quot;;$city;$myVar+&quot;@&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result2:=$col.query(&quot;company.name = :1&quot;;&quot;John&#x27;s Pizzas&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="recherche-de-valeurs-null">Recherche de valeurs null<a href="#recherche-de-valeurs-null" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Lorsque vous recherchez les valeurs null, vous ne pouvez pas utiliser la syntaxe placeholder car le moteur de recherche considère la valeur null comme une valeur de comparaison invalide. Par exemple, si vous exécutez la recherche suivante :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$vSingles:=ds.Person.query(&quot;spouse = :1&quot;;Null) // ne fonctionnera PAS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Vous n&#x27;obtiendrez pas le résultat souhaité car la valeur null sera évaluée par 4D comme une erreur résultant de l&#x27;évaluation du paramètre (pouvant être, par exemple, un attribut provenant d&#x27;une autre recherche). Pour ce type de recherche, vous devez utiliser la syntaxe de recherche directe :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $vSingles:=ds.Person.query(&quot;spouse = null&quot;) //syntaxe valide</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="not-equal-to-et-les-collections">Not equal to et les collections<a href="#not-equal-to-et-les-collections" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Lors d&#x27;une recherche parmi les attributs objet d&#x27;une dataclass contenant des collections, le comparateur &quot;not equal to <em>value</em>&quot; (<code>#</code> or <code>!=</code>) trouvera les éléments dont TOUTES les propriétés sont différentes de <em>value</em> (et non ceux dont AU MOINS une propriété est différente de <em>value</em>, ce qui est le cas avec les autres comparateurs). Fondamentalement, cela équivaut à rechercher &quot;Not(chercher éléments de la collection pour lesquels la propriété vaut <em>value</em>&quot;). Par exemple, avec les entités suivantes :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Entity 1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.name: &quot;A&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.info:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    { &quot;coll&quot; : [ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Entity 2:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.name: &quot;B&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.info:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    { &quot;coll&quot; : [ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Entity 3:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.name: &quot;C&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.info:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    { &quot;coll&quot; : [ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;val&quot;:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } ] }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Considérons les résultats suivants :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.query(&quot;info.coll[].val = :1&quot;;0) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// renvoie B et C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// trouve &quot;entités avec 0 dans au moins une propriété val&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.query(&quot;info.coll[].val != :1&quot;;0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// renvoie uniquement A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// trouve les &quot;entités dont toutes les propriétés val sont différentes de 0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ce qui est équivalent à </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.query(not(&quot;info.coll[].val = :1&quot;;0)) </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Si vous souhaitez mettre en œuvre une recherche qui trouve les entités dont &quot;au moins une propriété est différente de <em>value</em>&quot;, vous devez utiliser une notation spéciale en utilisant une lettre dans les <code>[]</code> :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ds.Class.query(&quot;info.coll[a].val != :1&quot;;0)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// renvoie A et B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// trouve &quot;les entités dont au moins une propriété val est différente de 0&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Vous pouvez utiliser n&#x27;importe quelle lettre de l&#x27;alphabet comme notation <code>[a]</code> .</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lier-les-critères-de-recherche-pour-les-attributs-de-collections">Lier les critères de recherche pour les attributs de collections<a href="#lier-les-critères-de-recherche-pour-les-attributs-de-collections" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Cette fonctionnalité est disponible uniquement pour les recherches dans les dataclass et les <a href="/docs/fr/20/API/EntitySelectionClass#query">entity selections</a>. Elle ne peut pas être utilisée pour les recherches dans les <a href="/docs/fr/20/API/CollectionClass#query">collections</a>.</p></div></div><p>Lorsque vous effectuez une recherche parmi des attributs objet de dataclass contenant des collections à l&#x27;aide de plusieurs critères de recherche reliés par l&#x27;opérateur AND, vous pouvez vouloir vous assurer que seules les entités contenant des éléments correspondant à tous les critères sont renvoyées, et non les entités où les critères peuvent être trouvés dans différents éléments. Pour ce faire, vous devez lier les critères de la recherche aux éléments de la collection, de sorte que seuls les éléments individuels contenant les critères liés soient trouvés.</p><p>Par exemple, avec les deux entités suivantes :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Entity 1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.name: &quot;martin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.places:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    { &quot;locations&quot; : [ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;kind&quot;:&quot;home&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;city&quot;:&quot;paris&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Entity 2:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.name: &quot;smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.places:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    { &quot;locations&quot; : [ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;kind&quot;:&quot;home&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;city&quot;:&quot;lyon&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } , {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;kind&quot;:&quot;office&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;city&quot;:&quot;paris&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } ] }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Vous souhaitez trouver des personnes dont le lieu de résidence est situé dans la ville de Paris. Si vous écrivez :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.query(&quot;places.locations[].kind= :1 and places.locations[].city= :2&quot;;&quot;home&quot;;&quot;paris&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>... la recherche retournera &quot;martin&quot; <strong>et</strong> &quot;smith&quot; car &quot;smith&quot; a un élément &quot;locations&quot; dont &quot;kind&quot; (le type) est &quot;home&quot; et un élément &quot;locations&quot; dont &quot;city&quot; (la ville) est &quot;paris&quot;, même si ce sont des éléments différents.</p><p>Si vous souhaitez obtenir uniquement les entités dont les critères correspondants sont dans le même élément de collection, vous devez <strong>lier les critères</strong>. Pour lier des critères de recherche :</p><ul><li>Ajoutez une lettre entre le caractère <!-- -->[<!-- -->] dans le premier chemin à lier et répétez la même lettre dans tous les critères liés. Par exemple : <code>locations[a].city and locations[a].kind</code>. Vous pouvez utiliser n&#x27;importe quelle lettre de l&#x27;alphabet latin (non sensible à la casse).</li><li>Pour ajouter différents critères liés dans la même requête, utilisez une autre lettre. Vous pouvez créer jusqu&#x27;à 26 combinaisons de critères dans une seule requête.</li></ul><p>Avec les entités ci-dessus, si vous écrivez :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ds.People.query(&quot;places.locations[a].kind= :1 and places.locations[a].city= :2&quot;;&quot;home&quot;;&quot;paris&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>... la recherche retournera uniquement &quot;martin&quot; car il possède un élément &quot;locations&quot; dont &quot;kind&quot; est &quot;home&quot; et dont &quot;city&quot; est &quot;paris&quot;. La recherche ne retournera pas &quot;smith&quot; car les valeurs &quot;home&quot; et &quot;paris&quot; ne sont pas contenues dans le même élément de collection.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="recherches-dans-les-relations-n-vers-n">Recherches dans les relations N vers N<a href="#recherches-dans-les-relations-n-vers-n" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>ORDA propose une syntaxe spéciale pour faciliter les recherches dans les relations N vers N. Dans ce contexte, vous pouvez avoir besoin de rechercher des valeurs différentes à l&#x27;aide de l&#x27;opérateur <code>AND</code> MAIS dans le même attribut. Par exemple, considérez la structure suivante :</p><p><img loading="lazy" alt="alt-text" src="/docs/fr/assets/images/manytomany-1ad2ed56ebdb101476120ab419c1994d.png" width="537" height="268" class="img_ev3q"></p><p>Imaginez que vous souhaitiez rechercher tous les films dans lesquels un acteur A <em>et</em> un acteur B ont simultanément joué un rôle. Si vous écrivez une recherche simple utilisant l&#x27;opérateur <code>AND</code>, cela ne va pas fonctionner :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// code invalide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$es:=ds.Movie.query(&quot;roles.actor.lastName = :1 AND roles.actor.lastName = :2&quot;;&quot;Hanks&quot;;&quot;Ryan&quot;)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// $es est vide</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Fondamentalement, le problème vient de la logique interne de la recherche : vous ne pouvez pas rechercher une entité dont un attribut aurait simultanément la valeur &quot;A&quot; et &quot;B&quot;.</p><p>Pour rendre possible ce type de recherche, ORDA prend en charge une syntaxe spéciale : vous devez juste ajouter un <em>index de classe</em> entre les caractères <strong>{}</strong> dans tous les attributs relationnels supplémentaires utilisés dans la chaîne de recherche :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;relationAttribute.attribute = :1 AND relationAttribute{x}.attribute = :2 [AND relationAttribute{y}.attribute...]&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>{x}</strong> indique à ORDA de créer une autre référence pour l&#x27;attribut relationnel. Le moteur de recherches effectuera alors toutes les opérations internes nécessaires. Notez que <strong>x</strong> peut être n&#x27;importe quel nombre <strong>à l&#x27;exception de 0</strong>: {1}, ou {2}, ou {1540}... ORDA a simplement besoin d&#x27;une référence unique dans la recherche pour chaque class index.</p><p>Dans notre exemple, cela pourrait donner :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// code valide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$es:=ds.Movie.query(&quot;roles.actor.lastName = :1 AND roles.actor{2}.lastName = :2&quot;;&quot;Hanks&quot;;&quot;Ryan&quot;)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// $es contient des films (You&#x27;ve Got Mail, Sleepless in Seattle, Joe Versus the Volcano)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="paramètre-formula">Paramètre formula<a href="#paramètre-formula" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Au lieu d&#x27;insérer une formule dans le paramètre <em>queryString</em> (voir ci-dessus), vous pouvez directement passer un objet formule en tant que critère de recherche booléen. L&#x27;utilisation d&#x27;un objet formule pour les recherches est <strong>recommandée</strong> car vous bénéficiez de la tokenisation et le code est plus facile à rechercher/lire.</p><p>La formule doit avoir été créée à l&#x27;aide des commandes <a href="/docs/fr/20/API/FunctionClass#formula"><code>Formula</code></a> ou <a href="/docs/fr/20/API/FunctionClass#formula-from-string"><code>Formula from string</code></a>. Dans ce cas :</p><ul><li><em>formula</em> est évaluée pour chaque entité et doit renvoyer vrai ou faux. Lors de l&#x27;exécution de la requête, si le résultat de la formule n&#x27;est pas un booléen, il est considéré comme faux.</li><li>dans <em>formula</em>, l&#x27;entité est disponible via l&#x27;objet <code>This</code>.</li><li>si l&#x27;objet <code>Formula</code> est <strong>null</strong>, l&#x27;erreur 1626 (&quot;Attente d&#x27;un texte ou d&#x27;une formule&quot;) est générée, que vous pouvez intercepter à l&#x27;aide d&#x27;une méthode installée avec <code>ON ERR CALL</code>.<blockquote><p>Pour des raisons de sécurité, les appels de formule dans les fonctions <code>query()</code> peuvent être interdits. Voir la description du paramètre <em>querySettings</em>.</p></blockquote></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="passer-des-paramètres-aux-formules">Passer des paramètres aux formules<a href="#passer-des-paramètres-aux-formules" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Toute <em>formula</em> appelée par la fonction <code>query()</code> peut recevoir des paramètres :</p><ul><li>Les paramètres doivent être passés via la propriété <strong>args</strong> du paramètre <em>querySettings</em>.</li><li>La formule reçoit cet objet <strong>args</strong> en tant que paramètre <strong>$1</strong>.</li></ul><p>Ce code montre comment les paramètres sont passés aux fonctions :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $settings:=New object(&quot;args&quot;;New object(&quot;exclude&quot;;&quot;-&quot;)) //objet args pour passer des paramètres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;eval(checkName($1.exclude))&quot;;$settings) //args est reçu dans $1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Des exemples supplémentaires sont fournis dans l&#x27;exemple 3.</p><p><strong>4D Server</strong> : En client/serveur, les formules sont exécutées sur le serveur. Dans ce contexte, seul l&#x27;objet <code>querySettings.args</code> est envoyé aux formules.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="paramètre-querysettings">Paramètre querySettings<a href="#paramètre-querysettings" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Dans le paramètre <em>querySettings</em> vous pouvez passer un objet contenant des options supplémentaires. Les propriétés suivantes sont prises en charge :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>parameters</td><td>Object</td><td><strong>Placeholders nommés pour les valeurs</strong> utilisées dans <em>queryString</em> ou <em>formula</em>. Les valeurs sont exprimées sous forme de paires propriété / valeur, où propriété est le nom du placeholder inséré pour une valeur dans <em>queryString</em> ou <em>formula</em> (&quot;:placeholder&quot;) et où valeur correspond à la valeur à comparer. Vous pouvez combiner, dans une même recherche, des placeholders indexés (valeurs passées directement dans les paramètres <em>value</em>) et les valeurs des placeholders nommés.</td></tr><tr><td>attributes</td><td>Object</td><td><strong>Placeholders nommés pour les chemins d&#x27;attributs</strong> utilisés dans <em>queryString</em> ou <em>formula</em>. Les attributs sont exprimés sous forme de paires propriété / valeur, où propriété est le nom du placeholder inséré pour un chemin d&#x27;attribut dans <em>queryString</em> or <em>formula</em> (&quot;:placeholder&quot;), et où valeur peut être une chaine ou une collection de chaines. Chaque valeur est un chemin qui peut désigner soit un attribut scalaire ou relatif de la dataclass soit une propriété d&#x27;un champ objet de la dataclass<table><tr><th>Type</th><th>Description</th></tr><tr><td>String</td><td>attributePath exprimé à l&#x27;aide de la notation à point, ex : &quot;name&quot; ou &quot;user.address.zipCode&quot;</td></tr><tr><td>Collection de chaînes</td><td>Chaque chaine de la collection représente un niveau d&#x27;attributePath, ex : <!-- -->[<!-- -->&quot;name&quot;] ou <!-- -->[<!-- -->&quot;user&quot;,&quot;address&quot;,&quot;zipCode&quot;]. L&#x27;utilisation d&#x27;une collection permet de rechercher des attributs dont les noms ne sont pas conformes à la notation à point, ex : <!-- -->[&quot;4Dv17.1&quot;,&quot;en/fr&quot;]</td></tr></table>Vous pouvez combiner les valeurs des placeholders indexés (valeurs passées directement dans les paramètres <em>value</em>) et les valeurs des placeholders nommés dans la même recherche.</td></tr><tr><td>args</td><td>Object</td><td>Paramètre(s) à passer aux formules, le cas échéant. L&#x27;objet <strong>args</strong> sera reçu dans $1 à l&#x27;intérieur des formules et donc ses valeurs seront disponibles via la propriété <em>$1.property</em> (cf. exemple 3).</td></tr><tr><td>allowFormulas</td><td>Boolean</td><td>Vrai pour autoriser les appels de formules dans la query (défaut). Passez faux pour interdire l&#x27;exécution de formules. Si la <code>query()</code> contient une formule alors que cette propriété est à Faux, une erreur est retournée (1278 - Formule non autorisée).</td></tr><tr><td>context</td><td>Text</td><td>Nom du contexte d&#x27;optimisation automatique appliqué à l&#x27;entity selection. Ce contexte sera utilisé par le code qui manipule l&#x27;entity selection afin de bénéficier de l&#x27;optimisation. Cette fonctionnalité est conçue pour les traitements client/serveur ; pour plus d&#x27;informations, veuillez vous reporter à la section <a href="/docs/fr/20/ORDA/datastores#context"><strong>Optimisation client/serveur</strong></a>.</td></tr><tr><td>queryPlan</td><td>Boolean</td><td>Dans l&#x27;entity selection résultante, retourne ou ne retourne la description détaillée de la recherche juste avant d&#x27;être exécutée, i.e. La propriété retournée est un objet qui inclut chaque recherche et sous-recherche programmée (dans le cas d&#x27;une recherche complexe). Cette option est utile durant la phase de développement d&#x27;une application. Elle est utilisée conjointement à queryPath. Par défaut, si elle est omise : faux. <strong>Note</strong> : Cette propriété est prise en charge uniquement par les fonctions <code>entitySelection.query()</code> et <code>dataClass.query()</code>.</td></tr><tr><td>queryPath</td><td>Boolean</td><td>Dans l&#x27;entity selection résultante, retourne ou ne retourne pas la description détaillée de la recherche telle qu&#x27;elle est effectuée. La propriété retournée est un objet qui contient le chemin utilisé pour la recherche (généralement identique à celui de queryPlan, mais il peut être différent si le moteur parvient à optimiser la recherche), la durée du traitement et le nombre d&#x27;enregistrements trouvés. Cette option est utile durant la phase de développement d&#x27;une application. Par défaut, si elle est omise : faux. <strong>Note</strong> : Cette propriété est prise en charge uniquement par les fonctions <code>entitySelection.query()</code> et <code>dataClass.query()</code>.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a-propos-de-queryplan-et-querypath">A propos de queryPlan et queryPath<a href="#a-propos-de-queryplan-et-querypath" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Les informations enregistrées dans <code>queryPlan</code> et <code>queryPath</code> incluent le type de recherche (indexée ou séquentielle), chaque sous-recherche nécessaire, ainsi que les opérateurs de conjonction. Les query paths contiennent également le nombre d&#x27;entités trouvées et la durée d&#x27;exécution de chaque critère de recherche. Il peut être utile d&#x27;analyser ces informations lors du développement de vos applications. Généralement, la description du plan de recherche (queryPlan) et son chemin réel (queryPath) sont identiques mais ils peuvent différer car 4D peut intégrer des optimisations dynamiques lorsqu&#x27;une requête est exécutée, afin d&#x27;améliorer les performances. Par exemple, le moteur 4D peut convertir dynamiquement une requête indexée en requête séquentielle s&#x27;il estime qu&#x27;elle sera plus rapide. Ce cas particulier peut se produire lorsque le nombre d&#x27;entités recherchées est faible.</p><p>Par exemple, si vous exécutez la recherche suivante :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $sel:=ds.Employee.query(&quot;salary &lt; :1 and employer.name = :2 or employer.revenues &gt; :3&quot;;\  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 50000;&quot;Lima West Kilo&quot;;10000000;New object(&quot;queryPath&quot;;True;&quot;queryPlan&quot;;True))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>queryPlan:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{Or:[{And:[{item:[index : Employee.salary ] &lt; 50000},  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> {item:Join on Table : Company  :  Employee.employerID = Company.ID,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> subquery:[{item:[index : Company.name ] = Lima West Kilo}]}]},  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> {item:Join on Table : Company  :  Employee.employerID = Company.ID,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> subquery:[{item:[index : Company.revenues ] &gt; 10000000}]}]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>queryPath:</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{steps:[{description:OR,time:63,recordsfounds:1388132,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> steps:[{description:AND,time:32,recordsfounds:131,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> steps:[{description:[index : Employee.salary ] &lt; 50000,time:16,recordsfounds:728260},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:0,recordsfounds:131,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> steps:[{steps:[{description:[index : Company.name ] = Lima West Kilo,time:0,recordsfounds:1}]}]}]},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:31,recordsfounds:1388132,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> steps:[{steps:[{description:[index : Company.revenues ] &gt; 10000000,time:0,recordsfounds:933}]}]}]}]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-4">Exemple 1<a href="#exemple-1-4" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Cette section présente différents exemples de recherches.</p><p>Recherche avec une chaîne :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Customer.query(&quot;firstName = &#x27;S@&#x27;&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec une instruction NOT :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;not(firstName=Kim)&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec des dates :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;birthDate &gt; :1&quot;;&quot;1970-01-01&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;birthDate &lt;= :1&quot;;Current date-10950)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec des placeholders indexés pour les valeurs :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Customer.query(&quot;(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)&quot;;&quot;D@&quot;;&quot;R@&quot;;&quot;S@&quot;;&quot;K@&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec des placeholders indexés pour les valeurs sur une dataclass liée :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;lastName = :1 and manager.lastName = :2&quot;;&quot;M@&quot;;&quot;S@&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec des placeholders indexés avec tri décroissant :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Student.query(&quot;nationality = :1 order by campus.name desc, lastname&quot;;&quot;French&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec des placeholders nommés pour les valeurs :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $querySettings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $managedCustomers : cs.CustomerSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$querySettings:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$querySettings.parameters:=New object(&quot;userId&quot;;1234;&quot;extraInfo&quot;;New object(&quot;name&quot;;&quot;Smith&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$managedCustomers:=ds.Customer.query(&quot;salesperson.userId = :userId and name = :extraInfo.name&quot;;$querySettings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche utilisant les placeholders nommés et indexés pour les valeurs :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $querySettings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $managedCustomers : cs.CustomerSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$querySettings.parameters:=New object(&quot;userId&quot;;1234)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$managedCustomers:=ds.Customer.query(&quot;salesperson.userId = :userId and name=:1&quot;;&quot;Smith&quot;;$querySettings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec objets queryPlan et queryPath :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)&quot;;&quot;D@&quot;;&quot;R@&quot;;&quot;S@&quot;;&quot;K@&quot;;New object(&quot;queryPlan&quot;;True;&quot;queryPath&quot;;True))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //vous pouvez ensuite obtenir ces propriétés dans la sélection d&#x27;entité résultante</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $queryPlan; $queryPath : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$queryPlan:=$entitySelection.queryPlan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$queryPath:=$entitySelection.queryPath</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec un chemin d&#x27;attribut de type Collection :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;extraInfo.hobbies[].name = :1&quot;;&quot;horsebackriding&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec un chemin d&#x27;attribut de type Collection et des critères liés :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;extraInfo.hobbies[a].name = :1 and extraInfo.hobbies[a].level=:2&quot;;&quot;horsebackriding&quot;;2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec un chemin d&#x27;attribut de type Collection et plusieurs critères liés :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;extraInfo.hobbies[a].name = :1 and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> extraInfo.hobbies[a].level = :2 and extraInfo.hobbies[b].name = :3 and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> extraInfo.hobbies[b].level = :4&quot;;&quot;horsebackriding&quot;;2;&quot;Tennis&quot;;5)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec un chemin d&#x27;attribut de type Objet :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;extra.eyeColor = :1&quot;;&quot;blue&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec instruction IN :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;firstName in :1&quot;;New collection(&quot;Kim&quot;;&quot;Dixie&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec instruction NOT (IN) :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entitySelection:=ds.Employee.query(&quot;not (firstName in :1)&quot;;New collection(&quot;John&quot;;&quot;Jane&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec des placeholders indexés pour les attributs :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $es : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$es:=ds.Employee.query(&quot;:1 = 1234 and :2 = &#x27;Smith&#x27;&quot;;&quot;salesperson.userId&quot;;&quot;name&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //salesperson est une entité reliée</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec des placeholders indexés pour les attributs et avec des placeholders nommés pour les valeurs :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $es : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $querySettings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$querySettings:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$querySettings.parameters:=New object(&quot;customerName&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$es:=ds.Customer.query(&quot;:1 = 1234 and :2 = :customerName&quot;;&quot;salesperson.userId&quot;;&quot;name&quot;;$querySettings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //salesperson est une entité reliée</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec des placeholders indexés pour les attributs et les valeurs :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $es : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$es:=ds.Clients.query(&quot;:1 = 1234 and :2 = :3&quot;;&quot;salesperson.userId&quot;;&quot;name&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //salesperson est une entité reliée</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-4">Exemple 2<a href="#exemple-2-4" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Cette section illustre les recherches avec des placeholders nommés pour les attributs.</p><p>Considérons une dataclass Employee avec 2 entités :</p><p>Entité 1 :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name: &quot;Marie&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">number: 46</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">softwares:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Word 10.2&quot;: &quot;Installed&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Excel 11.3&quot;: &quot;To be upgraded&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Powerpoint 12.4&quot;: &quot;Not installed&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Entité 2 :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name: &quot;Sophie&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">number: 47</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">softwares:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Word 10.2&quot;: &quot;Not installed&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Excel 11.3&quot;: &quot;To be upgraded&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Powerpoint 12.4&quot;: &quot;Not installed&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec des placeholders nommés pour les attributs :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $querySettings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $querySettings:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $querySettings.attributes:=New object(&quot;attName&quot;;&quot;name&quot;;&quot;attWord&quot;;New collection(&quot;softwares&quot;;&quot;Word 10.2&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Employee.query(&quot;:attName = &#x27;Marie&#x27; and :attWord = &#x27;Installed&#x27;&quot;;$querySettings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$es.length=1 (Employee Marie)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Recherche avec des placeholders nommés pour les attributs et les valeurs :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $querySettings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $name : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $querySettings:=New object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Placeholders pour les valeurs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Il est demandé à l&#x27;utilisateur de saisir un nom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $name:=Request(&quot;Veuillez saisir un nom à rechercher :&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If(OK=1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $querySettings.parameters:=New object(&quot;givenName&quot;;$name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Placeholders pour les chemins d&#x27;attributs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $querySettings.attributes:=New object(&quot;attName&quot;;&quot;name&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $es:=ds.Employee.query(&quot;:attName= :givenName&quot;;$querySettings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-3-3">Exemple 3<a href="#exemple-3-3" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Ces exemples illustrent les diverses manières d&#x27;utiliser des formules avec ou sans paramètres dans vos recherches.</p><p>La formule est fournie sous forme de texte avec <code>eval()</code> dans le paramètre <em>queryString</em> :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;eval(length(This.lastname) &gt;=30) and nationality=&#x27;French&#x27;&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>La formule est fournie sous forme d&#x27;objet <code>Formula</code> via un placeholder :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $formula : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula:=Formula(Length(This.lastname)&gt;=30)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;:1 and nationality=&#x27;French&#x27;&quot;;$formula)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Seul un objet <code>Formula</code> est fourni comme critère de recherche :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $formula : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula:=Formula(Length(This.lastname)&gt;=30)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query($formula)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Plusieurs formules peuvent être appliquées :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $formula1; $1; $formula2 ;$0 : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula1:=$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula2:=Formula(Length(This.firstname)&gt;=30)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $0:=ds.Students.query(&quot;:1 and :2 and nationality=&#x27;French&#x27;&quot;;$formula1;$formula2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Une formule texte dans <em>queryString</em> reçoit un paramètre :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $settings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings:=New object()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings.args:=New object(&quot;filter&quot;;&quot;-&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;eval(checkName($1.filter)) and nationality=:1&quot;;&quot;French&quot;;$settings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  //méthode checkName </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE($exclude : Text) -&gt; $result : Boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=(Position($exclude;This.lastname)=0)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En utilisant la même méthode <strong><em>checkName</em></strong>, un objet <code>Formula</code> en placeholder reçoit un paramètre :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $settings; $formula : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $formula:=Formula(checkName($1.filter))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings:=New object()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings.args:=New object(&quot;filter&quot;;&quot;-&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;:1 and nationality=:2&quot;;$formula;&quot;French&quot;;$settings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $settings.args.filter:=&quot;*&quot; // modifie les paramètres sans mettre à jour l&#x27;objet $formula </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $es:=ds.Students.query(&quot;:1 and nationality=:2&quot;;$formula;&quot;French&quot;;$settings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Nous voulons interdire les formules, par exemple lorsque les utilisateurs saisissent leurs requêtes :</p><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $es : cs.StudentsSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $settings : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $queryString : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $queryString:=Request(&quot;Enter your query:&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> if(OK=1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $settings:=New object(&quot;allowFormulas&quot;;False)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $es:=ds.Students.query($queryString;$settings) //Une erreur est gnérée si $queryString contient une formule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="voir-également-2">Voir également<a href="#voir-également-2" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p><a href="/docs/fr/20/API/EntitySelectionClass#query"><code>.query()</code></a> pour les entity selections</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setremotecachesettings">.setRemoteCacheSettings()<a href="#setremotecachesettings" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R5</td><td>Ajout</td></tr></tbody></table></div></div></details><p><strong>.setRemoteCacheSettings</strong>(<em>settings</em> : Object) </p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>settings</td><td>Object</td><td>-&gt;</td><td>Objet définissant le timeout et la taille maximum du cache ORDA pour la dataclass.</td></tr></tbody></table><p>|</p><blockquote><p><strong>Mode avancé :</strong> Cette fonction est destinée aux développeurs qui souhaitent personnaliser les fonctionnalités par défaut de ORDA dans le cadre de configurations spécifiques. Dans la plupart des cas, vous n&#x27;aurez pas besoin de l&#x27;utiliser.</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-12">Description<a href="#description-12" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>setRemoteCacheSettings()</code> définit le timeout et la taille maximum du cache ORDA pour la dataclass..</p><p>Dans le paramètre <em>settings</em>, passez un objet contenant les propriétés suivantes :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>timeout</td><td>Integer</td><td>Timeout en secondes.</td></tr><tr><td>maxEntries</td><td>Integer</td><td>Nombre maximum d&#x27;entités.</td></tr></tbody></table><p><code>timeout</code> définit le timeout du cache ORDA pour la dataclass (30 secondes par défaut). Lorsque le timeout est atteint, les entités de la dataclass dans le cache sont considérées comme expirées. Cela signifie que :</p><ul><li>les données sont toujours présentes</li><li>la prochaine fois que les données seront requises, elles seront demandées au serveur</li><li>4D supprime automatiquement les données expirées lorsque le nombre maximum d&#x27;entités est atteint</li></ul><p>Modifier la propriété <code>timeout</code> définit un nouveau timeout pour les entités déjà présentes dans le cache. Cela peut être utile lorsque vous travaillez avec des données qui ne changent pas souvent, et pour lesquelles de nouvelles requêtes au serveur ne sont donc pas nécessaires.</p><p><code>maxEntries</code> définit le nombre maximum d&#x27;entités dans le cache ORDA. Par défaut ce nombre est 30 000.</p><p>Le nombre d&#x27;entrées minimum est 300, donc la valeur de <code>maxEntries</code> doit être égale ou supérieure à 300. Sinon la valeur est ignorée et le nombre d&#x27;entrées maximum est fixé à 300.</p><p>Si aucune propriété valide n&#x27;est passée à <code>timeout</code> et <code>maxEntries</code>, le cache n&#x27;est pas modifié, il conserve ses valeurs précédentes ou par défaut.</p><p>Lorsqu&#x27;une entité est sauvegardée, elle est mise à jour dans le cache et expirera lorsque le timeout sera atteint.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-12">Exemple<a href="#exemple-12" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ds.Buildings.setRemoteCacheSettings(New object(&quot;timeout&quot;; 60; &quot;maxEntries&quot;; 350))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="voir-également-3">Voir également<a href="#voir-également-3" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p><a href="#clearremotecache">.clearRemoteCache()</a><br><a href="#clearremotecache">.getRemoteCache()</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataClassClass.md%20(20)&amp;body=Please%20enter%20your%20comment%3A" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Comment on this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/fr/20/API/CryptoKeyClass"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">CryptoKey</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/fr/20/API/DataStoreClass"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">DataStore</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sommaire" class="table-of-contents__link toc-highlight">Sommaire</a></li><li><a href="#attributename" class="table-of-contents__link toc-highlight">.<em>attributeName</em></a></li><li><a href="#all" class="table-of-contents__link toc-highlight">.all()</a></li><li><a href="#clearremotecache" class="table-of-contents__link toc-highlight">.clearRemoteCache()</a></li><li><a href="#fromcollection" class="table-of-contents__link toc-highlight">.fromCollection()</a></li><li><a href="#get" class="table-of-contents__link toc-highlight">.get()</a></li><li><a href="#getcount" class="table-of-contents__link toc-highlight">.getCount()</a></li><li><a href="#getdatastore" class="table-of-contents__link toc-highlight">.getDataStore()</a></li><li><a href="#getinfo" class="table-of-contents__link toc-highlight">.getInfo()</a></li><li><a href="#getremotecache" class="table-of-contents__link toc-highlight">.getRemoteCache()</a></li><li><a href="#new" class="table-of-contents__link toc-highlight">.new()</a></li><li><a href="#newselection" class="table-of-contents__link toc-highlight">.newSelection()</a></li><li><a href="#query" class="table-of-contents__link toc-highlight">.query()</a></li><li><a href="#setremotecachesettings" class="table-of-contents__link toc-highlight">.setRemoteCacheSettings()</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Communauté</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Developer Center</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Where It All Began)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Knowledgebase</a></li><li class="footer__item"><a href="https://us.4d.com/product-download/Feature-Release" target="_blank" rel="noopener noreferrer" class="footer__link-item">Téléchargements<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Aide<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Société</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">A propos de 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contacts<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D dans le monde<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Carrière<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 4D SAS - All rights reserved</div></div></div></footer></div>
<script src="/docs/fr/assets/js/runtime~main.287bc70c.js"></script>
<script src="/docs/fr/assets/js/main.59628e50.js"></script>
</body>
</html>