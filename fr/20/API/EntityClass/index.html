<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-20 docs-doc-page docs-doc-id-API/EntityClass" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Entity | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://developer.4d.com/docs/fr/20/API/EntityClass"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="20"><meta data-rh="true" name="docusaurus_tag" content="docs-default-20"><meta data-rh="true" name="docsearch:version" content="20"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-20"><meta data-rh="true" property="og:title" content="Entity | 4D Docs"><meta data-rh="true" name="description" content="Une entity est une instance d&#x27;une Dataclass, tel un enregistrement de la table correspondant à la dataclass contenue dans son datastore associé. Elle contient les mêmes attributs que la dataclass ainsi que les valeurs des données et des propriétés et fonctions spécifiques."><meta data-rh="true" property="og:description" content="Une entity est une instance d&#x27;une Dataclass, tel un enregistrement de la table correspondant à la dataclass contenue dans son datastore associé. Elle contient les mêmes attributs que la dataclass ainsi que les valeurs des données et des propriétés et fonctions spécifiques."><link data-rh="true" rel="icon" href="/docs/fr/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://developer.4d.com/docs/fr/20/API/EntityClass"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/20/API/EntityClass" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/fr/20/API/EntityClass" hreflang="fr"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/es/20/API/EntityClass" hreflang="es"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/ja/20/API/EntityClass" hreflang="ja"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/pt/20/API/EntityClass" hreflang="pt"><link data-rh="true" rel="alternate" href="https://developer.4d.com/docs/20/API/EntityClass" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/fr/opensearch.xml"><link rel="stylesheet" href="/docs/fr/assets/css/styles.9d2cac31.css">
<script src="/docs/fr/assets/js/runtime~main.6eacf415.js" defer="defer"></script>
<script src="/docs/fr/assets/js/main.45e9f1fa.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/fr/"><div class="navbar__logo"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/fr/20/GettingStarted/installation">20</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/fr/API/EntityClass">20 R7 BETA</a></li><li><a class="dropdown__link" href="/docs/fr/20-R6/API/EntityClass">20 R6</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/fr/20/API/EntityClass">20</a></li><li><a class="dropdown__link" href="/docs/fr/19/API/EntityClass">19</a></li><li><a class="dropdown__link" href="/docs/fr/18/GettingStarted/installation">18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/fr/20/API/EntityClass"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Français</a><ul class="dropdown__menu"><li><a href="/docs/20/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/20/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">Français</a></li><li><a href="/docs/es/20/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/ja/20/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/docs/pt/20/API/EntityClass" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Rechercher"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Rechercher</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/docs/fr/"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/fr/img/logohome.png" alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/fr/20/category/getting-started">Prise en main</a><button aria-label="Expand sidebar category &#x27;Prise en main&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/fr/20/category/core-development">Développement</a><button aria-label="Collapse sidebar category &#x27;Développement&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/Project/overview">Gestion des projets</a><button aria-label="Expand sidebar category &#x27;Gestion des projets&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/category/4d-language-concepts">Concepts du langage 4D</a><button aria-label="Expand sidebar category &#x27;Concepts du langage 4D&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/ORDA/overview">ORDA</a><button aria-label="Expand sidebar category &#x27;ORDA&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://doc.4d.com/4Dv20/4D/20/4D-Language-Reference.100-6237190.en.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Manuel Langage 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/fr/20/category/class-API-reference">Classes</a><button aria-label="Collapse sidebar category &#x27;Classes&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/overview">A propos des fonctions de classes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/BlobClass">Blob</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/ClassClass">Class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/CollectionClass">Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/CryptoKeyClass">CryptoKey</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/DataClassClass">DataClass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/DataStoreClass">DataStore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/EmailObjectClass">Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/fr/20/API/EntityClass">Entity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/EntitySelectionClass">EntitySelection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/FileClass">File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/FileHandleClass">FileHandle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/FolderClass">Folder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/FunctionClass">Function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/HTTPRequestClass">HTTPRequest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/IMAPTransporterClass">IMAPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/MailAttachmentClass">MailAttachment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/POP3TransporterClass">POP3Transporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/SessionClass">Session</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/SignalClass">Signal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/SMTPTransporterClass">SMTPTransporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/SystemWorkerClass">SystemWorker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/WebServerClass">WebServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/WebSocketConnectionClass">WebSocketConnection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/WebSocketServerClass">WebSocketServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/ZipArchiveClass">ZIPArchive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/ZipFileClass">ZIPFile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fr/20/API/ZipFolderClass">ZIPFolder</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/code-editor/overview">Gestion du code</a><button aria-label="Expand sidebar category &#x27;Gestion du code&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/fr/20/Tags/tags">Tags</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/Debugging/basics">Débogage</a><button aria-label="Expand sidebar category &#x27;Débogage&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/settings/overview">Propriétés</a><button aria-label="Expand sidebar category &#x27;Propriétés&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/fr/20/Preferences/overview">Préférences</a><button aria-label="Expand sidebar category &#x27;Préférences&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/fr/20/category/administration">Administration</a><button aria-label="Expand sidebar category &#x27;Administration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/fr/20/Extensions/overview">Extensions</a><button aria-label="Expand sidebar category &#x27;Extensions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/fr/20/category/web-applications">Applications Web</a><button aria-label="Expand sidebar category &#x27;Applications Web&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/fr/20/category/desktop-applications">Applications Desktop</a><button aria-label="Expand sidebar category &#x27;Applications Desktop&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developer.4d.com/go-mobile/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Applications mobiles</a></div></li></ul></nav><button type="button" title="Réduire le menu latéral" aria-label="Réduire le menu latéral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d’accueil" class="breadcrumbs__link" href="/docs/fr/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/fr/20/category/core-development"><span itemprop="name">Développement</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/fr/20/category/class-API-reference"><span itemprop="name">Classes</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Entity</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 20</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Entity</h1></header><p>Une <a href="/docs/fr/20/ORDA/dsmapping#entity">entity</a> est une instance d&#x27;une <a href="/docs/fr/20/ORDA/dsmapping#dataclass">Dataclass</a>, tel un enregistrement de la table correspondant à la dataclass contenue dans son datastore associé. Elle contient les mêmes attributs que la dataclass ainsi que les valeurs des données et des propriétés et fonctions spécifiques.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sommaire">Sommaire<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#sommaire">​</a></h3>













































































<table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="/docs/fr/20/API/EntityClass#attributename"><em><strong>.attributeName</strong></em> : any</a>    stocke la valeur de l&#x27;attribut pour l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#clone"><strong>.clone()</strong> : 4D.Entity</a>    crée en mémoire une nouvelle entité référençant le même enregistrement que l&#x27;entité d&#x27;origine</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#diff"><strong>.diff</strong>( <em>entityToCompare</em> : 4D.Entity { ; <em>attributesToCompare</em> : Collection } ) : Collection</a>    compare les contenus de deux entités et renvoie leurs différences</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#drop"><strong>.drop</strong>( {<em>mode</em> : Integer} ) : Object</a>    supprime du datastore les données contenues dans l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#first"><strong>.first()</strong>: 4D.Entity</a>    retourne une référence vers l&#x27;entité en première position dans l&#x27;entity selection à laquelle appartient l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#fromobject"><strong>.fromObject</strong>( <em>filler</em> : Object )</a>    remplit les attributs de l&#x27;entité avec le contenu de <em>filler</em></td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#getdataclass"><strong>.getDataClass()</strong> : 4D.DataClass</a>    retourne la dataclass de l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#getkey"><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Text<br><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Integer</a>    renvoie la valeur de la clé primaire de l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#getremotecontextattributes"><strong>.getRemoteContextAttributes()</strong> : Text</a>    renvoie des informations sur le contexte d&#x27;optimisation utilisé par l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#getselection"><strong>.getSelection()</strong>: 4D.EntitySelection</a>    renvoie l&#x27;entity selection à laquelle l&#x27;entité appartient</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#getstamp"><strong>.getStamp()</strong> : Integer</a>     retourne la valeur courante du stamp de l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#indexof"><strong>.indexOf</strong>( { <em>entitySelection</em> : 4D.EntitySelection } ) : Integer</a>    retourne la position de l&#x27;entité dans une entity selection</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#isnew"><strong>.isNew()</strong> : Boolean</a>     renvoie Vrai si l&#x27;entité à laquelle elle est appliquée vient d&#x27;être créée et n&#x27;a pas encore été sauvegardée dans le datastore</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#last"><strong>.last()</strong> : 4D.Entity</a>    retourne une référence vers l&#x27;entité en dernière position dans l&#x27;entity selection à laquelle appartient l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#lock"><strong>.lock</strong>( { <em>mode</em> : Integer } ) : Object</a>    pose un verrou pessimiste sur l&#x27;enregistrement référencé par l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#next"><strong>.next()</strong> : 4D.Entity</a>    retourne une référence vers l&#x27;entité suivante dans l&#x27;entity selection à laquelle appartient l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#previous"><strong>.previous()</strong>  : 4D.Entity</a>     retourne une référence vers l&#x27;entité précédente dans l&#x27;entity selection à laquelle appartient l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#reload"><strong>.reload()</strong> : Object</a>    recharge en mémoire le contenu de l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#save"><strong>.save</strong>( { <em>mode</em> : Integer } ) : Object</a>    sauvegarde les modifications apportées à l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#toobject"><strong>.toObject</strong>() : Object<br><strong>.toObject</strong>( <em>filterString</em> : Text { ; <em>options</em> : Integer}  ) : Object<br><strong>.toObject</strong>( <em>filterCol</em> : Collection { ; <em>options</em> : Integer } ) : Object</a>    retourne un objet construit à partir de l&#x27;entité</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#touched"><strong>.touched()</strong> : Boolean</a>    vérifie si un attribut de l&#x27;entité a été modifié depuis que l&#x27;entité a été chargée en mémoire ou sauvegardée</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#touchedattributes"><strong>.touchedAttributes()</strong> : Collection</a>    retourne les noms des attributs qui ont été modifiés depuis que l&#x27;entité a été chargée en mémoire</td></tr><tr><td><a href="/docs/fr/20/API/EntityClass#unlock"><strong>.unlock()</strong> : Object</a>    supprime le verrou pessimiste posé sur l&#x27;enregistrement correspondant à l&#x27;entité</td></tr></tbody></table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="attributename">.<em>attributeName</em><a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#attributename">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><em><strong>.attributeName</strong></em> : any</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description">​</a></h4>
<p>Tout attribut de dataclass est disponible en tant que propriété d&#x27;une entité, qui stocke la valeur de l&#x27;attribut pour l&#x27;entité.</p>
<blockquote>
<p>Les attributs de dataclass peuvent également être obtenus en utilisant la syntaxe alternative avec [ ].</p>
</blockquote>
<p>Le type de valeur de l&#x27;attribut dépend de l&#x27;attribut <a href="/docs/fr/20/API/DataClassClass#attributename">kind</a> (relation ou storage) :</p>
<ul>
<li>Si le type de <em>attributeName</em> est <strong>storage</strong> : <code>.attributeName</code> retourne une valeur du même type que <em>attributeName</em>.</li>
<li>Si le type de <em>attributeName</em> est <strong>relatedEntity</strong> : <code>.attributeName</code> retourne une entité reliée. Les valeurs de l&#x27;entité liée sont directement disponibles par le biais des propriétés en cascade, par exemple &quot;myEntity.employer.employees[0].lastname&quot;.</li>
<li>Si le type de <em>attributeName</em> est <strong>relatedEntities</strong> : <code>.attributeName</code> retourne une nouvelle entity selection d&#x27;entités liées. Les doublons sont supprimés (une entity selection non ordonnée est retournée).</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $myEntity : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$myEntity:=ds.Employee.new() //Créer une nouvelle entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$myEntity.name:=&quot;Dupont&quot; //assigner &#x27;Dupont&#x27; à l&#x27;attribut &#x27;name&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$myEntity.firstname:=&quot;John&quot; //assigner &#x27;John&#x27; à l&#x27;attribut &#x27;firstname&#x27; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$myEntity.save() //sauvegarder l&#x27;entity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clone">.clone()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#clone">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.clone()</strong> : 4D.Entity</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>Nouvelle entité référençant l&#x27;enregistrement</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-1">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-1">​</a></h4>
<p>La fonction <code>clone()</code> crée en mémoire une nouvelle entité référençant le même enregistrement que l&#x27;entité d&#x27;origine. Cette fonction vous permet de mettre à jour des entités séparément.</p>
<blockquote>
<p>A noter que toute modification apportée aux entités n&#x27;est stockée dans l&#x27;enregistrement référencé qu&#x27;au moment où la fonction <a href="/docs/fr/20/API/EntityClass#save"><code>.save( )</code></a> est exécutée.</p>
</blockquote>
<p>Cette fonction ne peut être utilisée qu&#x27;avec des entités déjà enregistrées dans la base de données. Elle ne peut pas être appelée sur une entité nouvellement créée (pour laquelle <a href="/docs/fr/20/API/EntityClass#isnew"><code>.isNew()</code></a> retourne <strong>True</strong>).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-1">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp; $empCloned : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.get(672)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $empCloned:=$emp.clone()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Smith&quot; //Les mises à jour effectuées sur $emp ne le sont pas sur $empCloned</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="diff">.diff()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#diff">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.diff</strong>( <em>entityToCompare</em> : 4D.Entity { ; <em>attributesToCompare</em> : Collection } ) : Collection</p>





























<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>entityToCompare</td><td>4D.Entity</td><td style="text-align:center">-&gt;</td><td>Entité à comparer à l&#x27;entité d&#x27;origine</td></tr><tr><td>attributesToCompare</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>Noms des attributs à comparer</td></tr><tr><td>Résultat</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Différences entre les entités</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-2">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-2">​</a></h4>
<p>La fonction <code>diff()</code> compare les contenus de deux entités et renvoie leurs différences.</p>
<p>Dans le paramètre <em>entityToCompare</em>, passez l&#x27;entité à comparer à l&#x27;entité d&#x27;origine.</p>
<p>Dans le paramètre <em>attributesToCompare</em>, vous pouvez désigner les attributs spécifiques à comparer. Si le paramètre est passé, la comparaison est effectuée uniquement sur les attributs spécifiés. S&#x27;il est omis, toutes les différences entre les entités sont retournées.</p>
<p>Les différences sont retournées sous forme de collection d&#x27;objets dont les propriétés sont :</p>

























<table><thead><tr><th>Nom de propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>attributeName</td><td>String</td><td>Nom de l&#x27;attribut</td></tr><tr><td>value</td><td>Dépend du type d&#x27;attribut</td><td>Valeur de l&#x27;attribut dans l&#x27;entité d&#x27;origine</td></tr><tr><td>otherValue</td><td>Dépend du type d&#x27;attribut</td><td>Valeur de l&#x27;attribut dans <em>entityToCompare</em></td></tr></tbody></table>
<p>Seuls les attributs dont les valeurs diffèrent sont inclus dans la collection. Si aucune différence n&#x27;est trouvée, <code>.diff()</code> retourne une collection vide.</p>
<p>La fonction s&#x27;applique aux attributs dont le <a href="/docs/fr/20/API/DataClassClass#attributename">kind</a> est <strong>storage</strong> ou <strong>relatedEntity</strong>. Dans le cas où une entité liée a été mise à jour (c&#x27;est-à-dire la clé étrangère), le nom de l&#x27;entité liée et de sa clé primaire sont retournés comme propriétés <em>attributeName</em> (<em>value</em> et <em>otherValue</em> sont vides pour l&#x27;entité liée).</p>
<p>Si l&#x27;une des entités comparées vaut <strong>Null</strong>, une erreur est retournée.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-1">Exemple 1<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-1-1">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $diff1; $diff2 : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employee:=ds.Employee.query(&quot;ID=1001&quot;).first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $clone:=employee.clone()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employee.firstName:=&quot;MARIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employee.lastName:=&quot;SOPHIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employee.salary:=500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $diff1:=$clone.diff(employee) // Toutes les différences sont retournées</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $diff2:=$clone.diff(employee;New collection(&quot;firstName&quot;;&quot;lastName&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Seules les différences sur firstName et lastName sont retournées</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>$diff1:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Natasha&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;MARIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Locke&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;SOPHIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;salary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: 66600,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: 500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$diff2:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Natasha&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;MARIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Locke&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;SOPHIE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2">Exemple 2<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-2">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var vCompareResult1; vCompareResult2; vCompareResult3; $attributesToInspect : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult1:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult2:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult3:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $attributesToInspect:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e1:=ds.Employee.get(636)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e2:=ds.Employee.get(636)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e1.firstName:=$e1.firstName+&quot; update&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e1.lastName:=$e1.lastName+&quot; update&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $c:=ds.Company.get(117)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e1.employer:=$c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e2.salary:=100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $attributesToInspect.push(&quot;firstName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $attributesToInspect.push(&quot;lastName&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult1:=$e1.diff($e2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult2:=$e1.diff($e2;$attributesToInspect)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> vCompareResult3:=$e1.diff($e2;$e1.touchedAttributes())</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>vCompareResult1 (toutes les différences sont retournées) :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Karla update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Karla&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Marrero update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Marrero&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;salary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: 33500,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;employerID&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: 117,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: 118</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;employer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;[object Entity]&quot;,// Entity 117 de Company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;[object Entity]&quot;// Entity 118 de Company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>vCompareResult2 (seules les différences sur $attributesToInspect sont retournées)</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Karla update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Karla&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Marrero update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Marrero&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>vCompareResult3 (seules les différences sur les attributs touchés de $e1 sont retournées)</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;firstName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Karla update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Karla&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;lastName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Marrero update&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;Marrero&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;employerID&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: 117,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: 118</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;attributeName&quot;: &quot;employer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;[object Entity]&quot;,// Entity 117 de Company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;otherValue&quot;: &quot;[object Entity]&quot;// Entity 118 de Company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="drop">.drop()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#drop">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.drop</strong>( {<em>mode</em> : Integer} ) : Object</p>























<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk force drop if stamp changed</code> : Force la suppression même si le marqueur interne a changé</td></tr><tr><td>Résultat</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Résultat de l&#x27;opération de suppression</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-3">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-3">​</a></h4>
<p>La fonction <code>.drop()</code> supprime du datastore les données contenues dans l&#x27;entité, dans la table liée à sa dataclass. A noter que l&#x27;entité reste en mémoire.</p>
<p>Dans une application multiprocess ou multi-utilisateurs, la fonction <code>.drop()</code> est exécutée en mode <a href="/docs/fr/20/ORDA/entities#verrouillage-d-une-entite">&quot;verrouillage optimiste&quot;</a> dans lequel un marqueur de verrouillage interne est automatiquement incrémenté à chaque sauvegarde de l&#x27;enregistrement.</p>
<p>Par défaut, si le paramètre <em>mode</em> est omis, la fonction retournera systématiquement une erreur (voir ci-dessous) lorsque la même entité a été modifiée entre-temps par un autre process ou utilisateur, quel(s) que soi(en)t l(es) attribut(s) modifié(s).</p>
<p>Sinon, vous pouvez passer l&#x27;option <code>dk force drop if stamp changed</code> dans le paramètre <em>mode</em> : dans ce cas, l&#x27;entité est supprimée même si la valeur du marqueur interne est différente (si la clé primaire est identique).</p>
<p><strong>Résultat</strong></p>
<p>L&#x27;objet retourné par <code>.drop( )</code> contient les propriétés suivantes :</p>























































































































<table><thead><tr><th>Propriété</th><th></th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>success</td><td></td><td>boolean</td><td>vrai si l&#x27;action de suppression a été effectuée avec succès, sinon Faux.</td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement en cas d&#x27;erreur :</strong></em></td></tr><tr><td>status(*)</td><td></td><td>number</td><td>Code d&#x27;erreur, voir ci-dessous</td></tr><tr><td>statusText(*)</td><td></td><td>text</td><td>Description de l&#x27;erreur, voir ci-dessous</td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement en cas d&#x27;erreur de verrouillage pessimiste :</strong></em></td></tr><tr><td>LockKindText</td><td></td><td>text</td><td>&quot;Locked by record&quot;</td></tr><tr><td>lockInfo</td><td></td><td>object</td><td>Information sur l&#x27;origine du verrouillage</td></tr><tr><td></td><td>task_id</td><td>number</td><td>Id du process</td></tr><tr><td></td><td>user_name</td><td>text</td><td>Nom d&#x27;utilisateur de la session sur la machine</td></tr><tr><td></td><td>user4d_alias</td><td>text</td><td>Alias utilisateur si défini avec <code>SET USER ALIAS</code>, sinon le nom d&#x27;utilisateur dans le répertoire de la base 4D</td></tr><tr><td></td><td>host_name</td><td>text</td><td>Nom de la machine</td></tr><tr><td></td><td>task_name</td><td>text</td><td>Nom du process</td></tr><tr><td></td><td>client_version</td><td>text</td><td></td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement en cas d&#x27;erreur critique (clé primaire dupliquée, disque plein..) :</strong></em></td></tr><tr><td>errors</td><td></td><td>collection of objects</td><td></td></tr><tr><td></td><td>message</td><td>text</td><td>Message d&#x27;erreur</td></tr><tr><td></td><td>component signature</td><td>text</td><td>signature du composant interne (e.g. &quot;dmbg&quot; pour le composant de base de données)</td></tr><tr><td></td><td>errCode</td><td>number</td><td>Code d&#x27;erreur</td></tr></tbody></table>
<p>(*) Les valeurs suivantes peuvent être retournées dans les propriétés <em>status</em> et <em>statusText</em> de l&#x27;objet <em>Résultat</em> en cas d&#x27;erreur :</p>



































<table><thead><tr><th>Constante</th><th>Valeur</th><th>Commentaire</th></tr></thead><tbody><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>L&#x27;entité n&#x27;existe plus dans les données. Cette erreur peut se produire dans les cas suivants :<br><li>l&#x27;entité a été supprimée (le stamp est modifié et l&#x27;espace mémoire est libéré)</li><li>l&#x27;entité a été supprimée et remplacée par une autre avec une clé primaire différente (le stamp est modifié et une nouvelle entité occupe l&#x27;espace mémoire). Avec drop( ), cette erreur peut être retournée lorsque l&#x27;option dk force drop if stamp changed est utilisée. Avec lock( ), cette erreur peut être retournée lorsque l&#x27;option dk reload if stamp changed est utilisée</li> <strong>statusText associé</strong> : &quot;Entity does not exist anymore&quot;</td></tr><tr><td><code>dk status locked</code></td><td>3</td><td>L&#x27;entité est verrouillée par un verrou pessimiste.<br><strong>statusText associé</strong> : &quot;Already locked&quot;</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>Une erreur critique peut être une erreur de bas niveau de la base de données (ex. clé dupliquée), une erreur matérielle, etc.<br><strong>statusText associé</strong> : &quot;Other error&quot;</td></tr><tr><td><code>dk status stamp has changed</code></td><td>2</td><td>La valeur du marqueur interne (stamp) de l&#x27;entité ne correspond pas à celle de l&#x27;entité stockée dans les données (verrouillage optimiste).<br><li>avec <code>.save( )</code> : erreur uniquement si l&#x27;option <code>dk auto merge</code> n&#x27;est pas utilisée</li><li>avec <code>.drop( )</code> : erreur uniquement si l&#x27;option <code>dk force drop if stamp changed</code> n&#x27;est pas utilisée</li><li>avec <code>.lock( )</code> : erreur uniquement si l&#x27;option <code>dk reload if stamp changed</code> n&#x27;est pas utilisée</li><li><strong>statusText associé</strong> : &quot;Stamp has changed&quot;</li></td></tr><tr><td><code>dk status wrong permission</code></td><td>1</td><td>Les privilèges courants ne permettent pas de supprimer l&#x27;entité. <strong>statusText associé</strong> : &quot;Permission error&quot;</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-2">Exemple 1<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-1-2">​</a></h4>
<p>Exemple sans option <code>dk force drop if stamp changed</code> :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.drop()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;You have dropped &quot;+$employee.firstName+&quot; &quot;+$employee.lastName) //L&#x27;entité supprimée reste en mémoire</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-1">Exemple 2<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-2-1">​</a></h4>
<p>Même exemple avec l&#x27;option <code>dk force drop if stamp changed</code> :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.drop(dk force drop if stamp changed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;You have dropped &quot;+$employee.firstName+&quot; &quot;+$employee.lastName) //L&#x27;entité supprimée reste en mémoire</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status entity does not exist anymore)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="first">.first()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#first">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.first()</strong>: 4D.Entity</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>Référence à la première entité de l&#x27;entity selection (Null si non trouvée)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-4">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-4">​</a></h4>
<p>La fonction <code>.first()</code> retourne une référence vers l&#x27;entité en première position dans l&#x27;entity selection à laquelle appartient l&#x27;entité.</p>
<p>Si l&#x27;entité n&#x27;appartient à aucune entity selection (i.e. <a href="/docs/fr/20/API/EntityClass#getselection">.getSelection( )</a> retourne Null), la fonction renvoie une valeur Null.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-3">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-3">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee; $firstEmployee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //Cette entity selection contient 3 entités</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $firstEmployee:=$employee.first() //$firstEmployee est la première entité de l&#x27;entity selection $employees</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fromobject">.fromObject()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#fromobject">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.fromObject</strong>( <em>filler</em> : Object )</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>filler</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Objet avec lequel remplir l&#x27;entité</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-5">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-5">​</a></h4>
<p>La fonction <code>.fromObject()</code> remplit les attributs de l&#x27;entité avec le contenu de <em>filler</em>.</p>
<blockquote>
<p>Cette fonction modifie l&#x27;entity d&#x27;origine.</p>
</blockquote>
<p>La correspondance entre l&#x27;objet et l&#x27;entité est établie à partir des noms de propriétés/d&#x27;attributs :</p>
<ul>
<li>Si une propriété de l&#x27;objet n&#x27;existe pas dans la dataclass, elle est ignorée.</li>
<li>Les types de données doivent être équivalents. S&#x27;il existe une différence de type entre l&#x27;objet et la dataclass, 4D essaie de convertir les données lorsque cela est possible (voir <a href="/docs/fr/20/Concepts/data-types#converting-data-types"><code>Conversion des types de données</code></a>), sinon l&#x27;attribut demeure intact.</li>
<li>La clé primaire peut être donnée telle quelle ou avec une propriété &quot;__KEY&quot; (remplie avec la valeur de la clé primaire). Si elle n&#x27;existe pas déjà dans la dataclass, l&#x27;entité est créée avec la valeur donnée lorsque <a href="/docs/fr/20/API/EntityClass#save">.save()</a> est appelé. Si la clé primaire n&#x27;est pas fournie, l&#x27;entité est créée et la valeur de la clé primaire est affectée en fonction des règles de la base de données. L&#x27;auto-incrémentation n&#x27;est calculée que si la clé primaire est nulle.</li>
</ul>
<p><em>filler</em> peut contenir une related entity dans les conditions suivantes :</p>
<ul>
<li><em>filler</em> contient lui-même la clé étrangère, ou</li>
<li><em>filler</em> contient une propriété de type objet qui a le même nom que l&#x27;entité relative, contenant une seule propriété nommée &quot;__KEY&quot;.</li>
<li>si l&#x27;entité relative n&#x27;existe pas, elle est ignorée.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-4">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-4">​</a></h4>
<p>Avec l&#x27;objet $o suivant :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Mary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;Smith&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;salary&quot;: 36500,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;birthDate&quot;: &quot;1958-10-27T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;managerID&quot;: 411,// relatedEntity fournie avec clé primaire</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employerID&quot;: 20 // relatedEntity fournie avec clé primaire</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Le code suivant créera une entité avec les entités relatives manager et employer.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $o : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs.EmpEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=ds.Emp.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.fromObject($o)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.save()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Vous pouvez également utiliser une entité relative fournie sous forme d&#x27;objet :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Marie&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;Lechat&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;salary&quot;: 68400,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;birthDate&quot;: &quot;1971-09-03T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: {// relatedEntity fournie sous forme d&#x27;objet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: &quot;21&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;manager&quot;: {// relatedEntity fournie sous forme d&#x27;objet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: &quot;411&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getdataclass">.getDataClass()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#getdataclass">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17 R5</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.getDataClass()</strong> : 4D.DataClass</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>4D.DataClass</td><td style="text-align:center">&lt;-</td><td>Dataclass à laquelle appartient l&#x27;entité</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-6">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-6">​</a></h4>
<p>La fonction <code>.getDataClass()</code> retourne la dataclass de l&#x27;entité. Cette fonction est utile pour l&#x27;écriture de code générique.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-5">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-5">​</a></h4>
<p>Le code générique suivant duplique toute entité :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  //méthode duplicate_entity </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //duplicate_entity($entity) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #DECLARE($entity : 4D.Entity)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $entityNew : 4D.Entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entityNew:=$entity.getDataClass().new() //crée une nouvelle entité dans la dataclass parente</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entityNew.fromObject($entity.toObject()) //lire tous les attributs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entityNew[$entity.getDataClass().getInfo().primaryKey]:=Null //réinitialise la clé primaire</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$entityNew.save() //sauvegarde l&#x27;entité dupliquée</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getkey">.getKey()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#getkey">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Text<br><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : Integer</p>





























<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk key as string</code>: retourner la clé primaire en texte, quel que soit son type d&#x27;origine</td></tr><tr><td>Résultat</td><td>Text</td><td style="text-align:center">&lt;-</td><td>Valeur de la clé primaire texte de l&#x27;entité</td></tr><tr><td>Résultat</td><td>Integer</td><td style="text-align:center">&lt;-</td><td>Valeur de la clé primaire numérique de l&#x27;entité</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-7">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-7">​</a></h4>
<p>La fonction <code>.getKey()</code> renvoie la valeur de la clé primaire de l&#x27;entité.</p>
<p>Les clés primaires peuvent être des nombres (integer) ou des textes. Vous pouvez &quot;forcer&quot; la méthode à retourner la valeur de clé primaire sous forme de chaîne, quel que soit son type d&#x27;origine, en passant l&#x27;option <code>dk key as string</code> dans le paramètre <em>mode</em>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-6">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-6">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ALERT(&quot;The primary key is &quot;+$employee.getKey(dk key as string))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getremotecontextattributes">.getRemoteContextAttributes()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#getremotecontextattributes">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>19R5</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.getRemoteContextAttributes()</strong> : Text</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>result</td><td>Text</td><td>&lt;-</td><td>Attributs de contexte associés à l&#x27;entity, séparés par une virgule</td></tr></tbody></table>
<p>|</p>
<blockquote>
<p><strong>Mode avancé :</strong> Cette fonction est destinée aux développeurs qui souhaitent personnaliser les fonctionnalités par défaut de ORDA dans le cadre de configurations spécifiques. Dans la plupart des cas, vous n&#x27;aurez pas besoin de l&#x27;utiliser.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-8">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-8">​</a></h4>
<p>La fonction <code>.getRemoteContextAttributes()</code> renvoie des informations sur le contexte d&#x27;optimisation utilisé par l&#x27;entité .</p>
<p>S&#x27;il n&#x27;existe pas de <a href="/docs/fr/20/ORDA/datastores#clientserver-optimization">contexte d&#x27;optimisation</a> pour l&#x27;entity, la fonction retourne un texte vide.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-7">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-7">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $address : cs.AddressEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $p : cs.PersonsEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $contextA : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $info : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var $text : Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ds:=Open datastore(New object(&quot;hostname&quot;; &quot;www.myserver.com&quot;); &quot;myDS&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$contextA:=New object(&quot;context&quot;; &quot;contextA&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$address:=$ds.Address.get(1; $contextA)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$text:=&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For each ($p; $address.persons)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $text:=$p.firstname+&quot; &quot;+$p.lastname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End for each</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$info:=$address.getRemoteContextAttributes()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//$info = &quot;persons,persons.lastname,persons.firstname&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="voir-également">Voir également<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#voir-également">​</a></h4>
<p><a href="/docs/fr/20/API/EntitySelectionClass#getRemoteContextAttributes">EntitySelection.getRemoteContextAttributes()</a><br><a href="/docs/fr/20/API/DataStoreClass#clearallremotecontexts">.clearAllRemoteContexts()</a><br><a href="/docs/fr/20/API/DataStoreClass#getremotecontextinfo">.getRemoteContextInfo()</a><br><a href="/docs/fr/20/API/DataStoreClass#getallremotecontexts">.getAllRemoteContexts()</a><br><a href="/docs/fr/20/API/DataStoreClass#setremotecontextinfo">.setRemoteContextInfo()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getselection">.getSelection()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#getselection">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.getSelection()</strong>: 4D.EntitySelection</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>Entity selection à laquelle appartient l&#x27;entité (Null si non trouvée)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-9">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-9">​</a></h4>
<p>La fonction <code>.getSelection()</code> renvoie l&#x27;entity selection à laquelle l&#x27;entité appartient.</p>
<p>Si l&#x27;entité n&#x27;appartient pas à une entity selection, la fonction renvoie Null.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-8">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-8">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees; $employees2 : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.get(672) // Cette entité n&#x27;appartient à aucune entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=$emp.getSelection() // $employees contient Null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees2:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;) //Cette entity selection contient 6 entités</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=$employees2[0]  // Cette entité appartient à une entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ALERT(&quot;L&#x27;entity selection contient &quot;+String($emp.getSelection().length)+&quot; entités&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getstamp">.getStamp()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#getstamp">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.getStamp()</strong> : Integer</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Integer</td><td style="text-align:center">&lt;-</td><td>Valeur du &quot;stamp&quot; de l&#x27;entité (0 si l&#x27;entité vient d&#x27;être créée)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-10">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-10">​</a></h4>
<p>La fonction <code>.getStamp()</code>  retourne la valeur courante du stamp de l&#x27;entité.</p>
<p>Le stamp (marqueur interne) d&#x27;une entité est automatiquement incrémenté par 4D à chaque fois qu&#x27;une entité est enregistrée sur disque. Il permet de gérer les accès et modifications concurrent(e)s sur les mêmes entités (cf. <a href="/docs/fr/20/ORDA/entities#verrouillage-d-une-entite"><strong>Entity locking</strong></a>).</p>
<blockquote>
<p>Pour une nouvelle entité (jamais enregistrée), la fonction retourne 0. Pour savoir si une entité vient d&#x27;être créée, il est cependant recommandé d&#x27;utiliser <a href="/docs/fr/20/API/EntityClass#isnew">.isNew()</a>.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-9">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-9">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $entity : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $stamp : Integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity:=ds.Employee.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.lastname:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $stamp:=$entity.getStamp() //$stamp=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.lastname:=&quot;Wesson&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $entity.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $stamp:=$entity.getStamp() //$stamp=2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="indexof">.indexOf()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#indexof">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.indexOf</strong>( { <em>entitySelection</em> : 4D.EntitySelection } ) : Integer</p>























<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>entitySelection</td><td>4D.EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection dans laquelle obtenir la position de l&#x27;entité</td></tr><tr><td>Résultat</td><td>Integer</td><td style="text-align:center">&lt;-</td><td>Position de l&#x27;entité dans l&#x27;entity selection</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-11">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-11">​</a></h4>
<p>La fonction <code>.indexOf()</code> retourne la position de l&#x27;entité dans une entity selection.</p>
<p>Par défaut, si le paramètre <em>entitySelection</em> est omis, la fonction retourne la position de l&#x27;entité dans sa propre entity selection (si elle existe). Sinon, elle renvoie la position de l&#x27;entité dans l&#x27;<em>entitySelection</em> spécifiée.</p>
<p>La valeur résultante est comprise entre 0 et la longueur de l&#x27;entity selection -1.</p>
<ul>
<li>Si l&#x27;entité n&#x27;a pas d&#x27;entity selection ou n&#x27;appartient pas à <em>entitySelection</em>, la fonction retourne -1.</li>
<li>Si <em>entitySelection</em> est Null ou n&#x27;appartient pas à la même dataclass que l&#x27;entité, une erreur est générée.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-10">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-10">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //Cette entity selection contient 3 entités</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[1] //Cette entité appartient à l&#x27;entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ALERT(&quot;La position de cette entité dans son entity selection est &quot;+String($employee.indexOf())) //1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(725) //Cette entité n&#x27;appartient pas à l&#x27;entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ALERT(&quot;La position de cette entité est &quot;+String($employee.indexOf())) // -1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="isnew">.isNew()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#isnew">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.isNew()</strong> : Boolean</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Boolean</td><td style="text-align:center">&lt;-</td><td>Vrai si l&#x27;entité vient juste d&#x27;être créée et n&#x27;a pas encore été enregistrée. Sinon, Faux.</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-12">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-12">​</a></h4>
<p>La fonction <code>.isNew()</code>  renvoie Vrai si l&#x27;entité à laquelle elle est appliquée vient d&#x27;être créée et n&#x27;a pas encore été sauvegardée dans le datastore. Sinon, elle renvoie Faux.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-11">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-11">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($emp.isNew())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Ceci est une nouvelle entité&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="last">.last()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#last">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.last()</strong> : 4D.Entity</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>Référence à la dernière entité de l&#x27;entity selection (Null si non trouvée)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-13">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-13">​</a></h4>
<p>La fonction <code>.last()</code> retourne une référence vers l&#x27;entité en dernière position dans l&#x27;entity selection à laquelle appartient l&#x27;entité.</p>
<p>Si l&#x27;entité n&#x27;appartient à aucune entity selection (i.e. <a href="/docs/fr/20/API/EntityClass#getselection">.getSelection( )</a> retourne Null), la fonction renvoie une valeur Null.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-12">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-12">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee; $lastEmployee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //Cette entity selection contient 3 entités $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $lastEmployee:=$employee.last() //$lastEmployee est la dernière entité de l&#x27;entity selection $employees</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lock">.lock()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#lock">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.lock</strong>( { <em>mode</em> : Integer } ) : Object</p>























<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk reload if stamp changed</code> : Recharger avant de verrouiller si le marqueur interne a changé</td></tr><tr><td>Résultat</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Résultat de l&#x27;opération lock</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-14">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-14">​</a></h4>
<p>La fonction <code>lock()</code> pose un verrou pessimiste sur l&#x27;enregistrement référencé par l&#x27;entité. Le <a href="/docs/fr/20/ORDA/entities#verrouillage-d-une-entite">verrou est posé</a> pour l&#x27;enregistrement et toutes les références de l&#x27;entité dans le process courant.</p>
<p>Pour les autres process, cet enregistrement apparaîtra verrouillé (la propriété <code>result.success</code> contiendra Faux s&#x27;ils tentent de verrouiller la même entité à l&#x27;aide de cette fonction). Seules les fonctions exécutées dans la session à l&#x27;origine du verrouillage auront la possibilité de modifier et de sauvegarder les attributs de l&#x27;entité. L&#x27;entité peut être chargée en lecture seulement dans les autres sessions, mais elles ne pourront ni saisir ni sauvegarder des valeurs.</p>
<p>Un enregistrement verrouillé peut être déverrouillé :</p>
<ul>
<li>lorsque la fonction <a href="/docs/fr/20/API/EntityClass#unlock"><code>unlock()</code></a> est appelée sur une entité correspondante dans le même process</li>
<li>automatiquement, lorsqu&#x27;elle n&#x27;est plus référencée par aucune entité en mémoire. Par exemple, si le verrou n&#x27;est posé que sur une référence locale d&#x27;une entité, celle-ci est déverrouillée à la fin de la fonction. Tant qu&#x27;il existe des références à l&#x27;entité en mémoire, l&#x27;enregistrement reste verrouillé.</li>
</ul>
<blockquote>
<p>Pour plus d&#x27;informations, veuillez consulter la section <a href="/docs/fr/20/ORDA/entities#verrouillage-d-une-entite">Verrouillage d&#x27;une entité</a>.</p>
</blockquote>
<p>Par défaut, si le paramètre <em>mode</em> est omis, la fonction retournera systématiquement une erreur (voir ci-dessous) lorsque la même entité a été modifiée entre-temps par un autre process ou utilisateur, quel(s) que soi(en)t l(es) attribut(s) modifié(s).</p>
<p>Sinon, vous pouvez passer l&#x27;option <code>dk reload if stamp changed</code> dans le paramètre <em>mode</em> : dans ce cas, aucune erreur n&#x27;est générée et l&#x27;entité est simplement rechargée si le stamp a changé (si l&#x27;entité existe toujours et si la clé primaire est toujours la même).</p>
<p><strong>Résultat</strong></p>
<p>L&#x27;objet retourné par <code>.lock( )</code> contient les propriétés suivantes :</p>







































































































































































<table><thead><tr><th>Propriété</th><th></th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>success</td><td></td><td>boolean</td><td>vrai si l&#x27;action de verrouillage a été effectuée avec succès (ou si l&#x27;entité est déjà verrouillée dans le process courant), sinon faux.</td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement si l&#x27;option <code>dk reload if stamp changed</code> est utilisée :</strong></em></td></tr><tr><td><strong>wasReloaded</strong></td><td></td><td>boolean</td><td>vrai si l&#x27;entité a été correctement rechargée, sinon faux.</td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement en cas d&#x27;erreur :</strong></em></td></tr><tr><td>status(*)</td><td></td><td>number</td><td>Code d&#x27;erreur, voir ci-dessous</td></tr><tr><td>statusText(*)</td><td></td><td>text</td><td>Description de l&#x27;erreur, voir ci-dessous</td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement en cas d&#x27;erreur de verrouillage pessimiste :</strong></em></td></tr><tr><td>lockKindText</td><td></td><td>text</td><td>&quot;Locked by record&quot; si verrouillage par un process 4D, &quot;Locked by session&quot; si verrouillage par une session REST</td></tr><tr><td>lockInfo</td><td></td><td>object</td><td>Information sur l&#x27;origine du verrouillage. Les propriétés retournées dépendent de l&#x27;origine du verrouillage (process 4D ou session REST).</td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement pour un verrouillage par process 4D:</strong></em></td></tr><tr><td></td><td>task_id</td><td>number</td><td>ID du process</td></tr><tr><td></td><td>user_name</td><td>text</td><td>Nom d&#x27;utilisateur de la session sur la machine</td></tr><tr><td></td><td>user4d_alias</td><td>text</td><td>Nom ou alias de l&#x27;utilisateur 4D</td></tr><tr><td></td><td>user4d_id</td><td>number</td><td>Identifiant utilisateur dans le répertoire de la base 4D</td></tr><tr><td></td><td>host_name</td><td>text</td><td>Nom de la machine</td></tr><tr><td></td><td>task_name</td><td>text</td><td>Nom du process</td></tr><tr><td></td><td>client_version</td><td>text</td><td>Version du client</td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement pour un verrouillage par session REST :</strong></em></td></tr><tr><td></td><td>host</td><td>text</td><td>URL ayant verrouillé l&#x27;entité (ex : &quot;<a href="http://www.myserver.com" target="_blank" rel="noopener noreferrer">www.myserver.com</a>&quot;)</td></tr><tr><td></td><td>IPAddr</td><td>text</td><td>Adresse IP d&#x27;origine du verrouillage (ex. 127.0.0.1&quot;)</td></tr><tr><td></td><td>userAgent</td><td>text</td><td>userAgent de l&#x27;origine du verouillage (ex : &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36&quot;)</td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement en cas d&#x27;erreur critique</strong></em> (clé primaire dupliquée, disque plein...) :</td></tr><tr><td>errors</td><td></td><td>collection of objects</td><td></td></tr><tr><td></td><td>message</td><td>text</td><td>Message d&#x27;erreur</td></tr><tr><td></td><td>component signature</td><td>text</td><td>signature du composant interne (e.g. &quot;dmbg&quot; pour le composant de base de données)</td></tr><tr><td></td><td>errCode</td><td>number</td><td>Code d&#x27;erreur</td></tr></tbody></table>
<p>(*) Les valeurs suivantes peuvent être retournées dans les propriétés <em>status</em> et <em>statusText</em> de l&#x27;objet <em>Résultat</em> en cas d&#x27;erreur :</p>






























<table><thead><tr><th>Constante</th><th>Valeur</th><th>Commentaire</th></tr></thead><tbody><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>L&#x27;entité n&#x27;existe plus dans les données. Cette erreur peut se produire dans les cas suivants :<li>l&#x27;entité a été supprimée (le stamp est modifié et l&#x27;espace mémoire est libéré)</li><li>l&#x27;entité a été supprimée et remplacée par une autre avec une clé primaire différente (le stamp est modifié et une nouvelle entité occupe l&#x27;espace mémoire). Avec <code>.drop( )</code>, cette erreur peut être retournée lorsque l&#x27;option dk force drop if stamp changed est utilisée. Avec <code>.lock( )</code>, cette erreur peut être retournée lorsque l&#x27;option dk reload if stamp changed est utilisée.</li><br><strong>statusText associé</strong> : &quot;Entity does not exist anymore&quot;</td></tr><tr><td><code>dk status locked</code></td><td>3</td><td>L&#x27;entité est verrouillée par un verrou pessimiste.<br><strong>statusText associé</strong> : &quot;Already locked&quot;</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>Une erreur critique peut être une erreur de bas niveau de la base de données (ex. clé dupliquée), une erreur matérielle, etc.<br><strong>statusText associé</strong> : &quot;Other error&quot;</td></tr><tr><td><code>dk status stamp has changed</code></td><td>2</td><td>La valeur du marqueur interne (stamp) de l&#x27;entité ne correspond pas à celle de l&#x27;entité stockée dans les données (verrouillage optimiste).<li>avec <code>.save( )</code> : erreur uniquement si l&#x27;option <code>dk auto merge</code> n&#x27;est pas utilisée</li><li>avec <code>.drop( )</code> : erreur uniquement si l&#x27;option <code>dk force drop if stamp changed</code> n&#x27;est pas utilisée</li><li>avec <code>.lock( )</code> : erreur uniquement si l&#x27;option <code>dk reload if stamp changed</code> n&#x27;est pas utilisée</li><br><strong>statusText associé</strong> : &quot;Stamp has changed&quot;</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-3">Exemple 1<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-1-3">​</a></h4>
<p>Exemple avec erreur :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(716)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.lock()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;You have locked &quot;+$employee.firstName+&quot; &quot;+$employee.lastName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-2">Exemple 2<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-2-2">​</a></h4>
<p>Exemple avec option <code>dk reload if stamp changed</code> :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(717)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.lock(dk reload if stamp changed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;You have locked &quot;+$employee.firstName+&quot; &quot;+$employee.lastName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status entity does not exist anymore)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="next">.next()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#next">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.next()</strong> : 4D.Entity</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>Référence à l&#x27;entité suivante dans l&#x27;entity selection (Null si non trouvée)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-15">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-15">​</a></h4>
<p>La fonction <code>.next()</code> retourne une référence vers l&#x27;entité suivante dans l&#x27;entity selection à laquelle appartient l&#x27;entité.</p>
<p>Si l&#x27;entité n&#x27;appartient à aucune entity selection existante (i.e. <a href="/docs/fr/20/API/EntityClass#getselection">.getSelection()</a> retourne Null), la fonction renvoie une valeur Null.</p>
<p>S&#x27;il n&#x27;y a pas d&#x27;entité suivante valide dans l&#x27;entity selection (i.e. vous êtes sur la dernière entité de la sélection), la fonction retourne Null. Si l&#x27;entité suivante a été supprimée, la fonction renvoie l&#x27;entité valide suivante (et finalement Null).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-13">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-13">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee; $nextEmployee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //Cette entity selection contient 3 entités</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $nextEmployee:=$employee.next() //$nextEmployee est la deuxième entité de l&#x27;entity selection $employees</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="previous">.previous()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#previous">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.previous()</strong>  : 4D.Entity</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>Référence à l&#x27;entité précédente dans l&#x27;entity selection (Null si non trouvée)</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-16">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-16">​</a></h4>
<p>La fonction <code>.previous()</code>  retourne une référence vers l&#x27;entité précédente dans l&#x27;entity selection à laquelle appartient l&#x27;entité.</p>
<p>Si l&#x27;entité n&#x27;appartient à aucune entity selection existante (i.e. <a href="/docs/fr/20/API/EntityClass#getselection">.getSelection()</a> retourne Null), la fonction renvoie une valeur Null.</p>
<p>S&#x27;il n&#x27;y a pas d&#x27;entité précédente valide dans l&#x27;entity selection (i.e. vous êtes sur la première entité de la sélection), la fonction retourne Null. Si l&#x27;entité précédente a été supprimée, la fonction retourne l&#x27;entité précédente valide (et finalement Null).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-14">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-14">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee; $previousEmployee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName = :1&quot;;&quot;H@&quot;) //Cette entity selection contient 3 entités</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $previousEmployee:=$employee.previous() //$previousEmployee est la première entité de l&#x27;entity selection $employees</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reload">.reload()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#reload">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.reload()</strong> : Object</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Objet statut</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-17">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-17">​</a></h4>
<p>La fonction <code>.reload()</code> recharge en mémoire le contenu de l&#x27;entité, à partir des informations stockées dans la table associée à la dataclass dans le datastore. Le rechargement est effectué uniquement si l&#x27;entité existe toujours avec la même clé primaire.</p>
<p><strong>Résultat</strong></p>
<p>L&#x27;objet retourné par <code>.reload( )</code> contient les propriétés suivantes :</p>

























<table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>success</td><td>boolean</td><td>Vrai si l&#x27;action de rechargement est réussie, Faux sinon. <em><strong>Disponible uniquement en cas d&#x27;erreur</strong></em>:</td></tr><tr><td>status(*)</td><td>number</td><td>Code d&#x27;erreur, voir ci-dessous</td></tr><tr><td>statusText(*)</td><td>text</td><td>Description de l&#x27;erreur, voir ci-dessous</td></tr></tbody></table>
<p>(*) Les valeurs suivantes peuvent être retournées dans les propriétés <em>status</em> et <em>statusText</em> de l&#x27;objet <em>Résultat</em> en cas d&#x27;erreur :</p>




















<table><thead><tr><th>Constante</th><th>Valeur</th><th>Commentaire</th></tr></thead><tbody><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>L&#x27;entité n&#x27;existe plus dans les données. Cette erreur peut se produire dans les cas suivants :<br><li>l&#x27;entité a été supprimée (le stamp est modifié et l&#x27;espace mémoire est libéré)</li><li>l&#x27;entité a été supprimée et remplacée par une autre avec une clé primaire différente (le stamp est modifié et une nouvelle entité occupe l&#x27;espace mémoire). Avec <code>.drop( )</code>, cette erreur peut être retournée lorsque l&#x27;option <code>dk force drop if stamp changed</code> est utilisée. Avec <code>.lock( )</code>, cette erreur peut être retournée lorsque l&#x27;option dk reload if stamp changed est utilisée.</li><br><em><strong>statusText associé</strong></em> : &quot;Entity does not exist anymore&quot;</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>Une erreur critique peut être une erreur de bas niveau de la base de données (ex. clé dupliquée), une erreur matérielle, etc.<br><em><strong>statusText associé</strong></em> : &quot;Other error&quot;</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-15">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-15">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $result : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Hollis&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.firstName:=&quot;Mary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $result:=$employee.reload()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($result.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;Rechargement effectué&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($result.status=dk status entity does not exist anymore)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;L&#x27;entité a été supprimée&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="save">.save()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#save">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.save</strong>( { <em>mode</em> : Integer } ) : Object</p>























<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk auto merge</code> : Active le mode &quot;automatic merge&quot;</td></tr><tr><td>Résultat</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Résultat de la sauvegarde</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-18">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-18">​</a></h4>
<p>La fonction <code>save()</code> sauvegarde les modifications apportées à l&#x27;entité dans la table liée à sa dataclass. Vous devez appeler cette fonction après toute création ou modification d&#x27;entité si vous souhaitez sauvegarder les changements.</p>
<p>La sauvegarde est effectuée si et seulement si au moins un attribut de l&#x27;entité a été &quot;touché&quot; (cf. les fonctions <a href="/docs/fr/20/API/EntityClass#touched"><code>.touched()</code></a> et <a href="/docs/fr/20/API/EntityClass#touchedattributes"><code>.touchedAttributes()</code></a>). Sinon, la fonction ne fait rien (le trigger n&#x27;est pas appelé).</p>
<p>Dans une application multi-utilisateur ou multi-process, la fonction <code>.save()</code> est exécutée avec le mécanisme du <a href="/docs/fr/20/ORDA/entities#entity-locking">&quot;verrouillage optimiste&quot;</a>, dans lequel un compteur interne (stamp) est automatiquement incrémenté à chaque sauvegarde de l&#x27;enregistrement.</p>
<p>Par défaut, si le paramètre <em>mode</em> est omis, la fonction retournera systématiquement une erreur (voir ci-dessous) lorsque la même entité a été modifiée entre-temps par un autre process ou utilisateur, quel(s) que soi(en)t l(es) attribut(s) modifié(s).</p>
<p>Sinon, vous pouvez passer l&#x27;option <code>dk auto merge</code> dans le paramètre <em>mode</em> afin d&#x27;activer le mode &quot;automatic merge&quot;. Dans ce mode, une modification simultanée effectuée par un autre process/utilisateur sur la même entité mais sur un attribut différent ne génère pas d&#x27;erreur. Les données effectivement stockées dans l&#x27;enregistrement résultent alors de la combinaison (le &quot;merge&quot;) des modifications non-concurrentes (si des modifications ont été effectuées sur le même attribut, la sauvegarde échoue et une erreur est retournée, même en mode &quot;automatic merge&quot;).</p>
<blockquote>
<p>Le mode de fusion automatique n&#x27;est pas disponible pour les attributs de type Image, Objet et Texte lorsqu&#x27;ils sont stockés en dehors de l&#x27;enregistrement. Des modifications simultanées de ces attributs entraîneront une erreur &quot;<code>dk status stamp has changed</code>&quot;.</p>
</blockquote>
<p><strong>Résultat</strong></p>
<p>L&#x27;objet retourné par <code>.save()</code> contient les propriétés suivantes :</p>



































































































































<table><thead><tr><th>Propriété</th><th></th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>success</td><td></td><td>boolean</td><td>Vrai si la sauvegarde a été effectuée avec succès, sinon faux.</td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement si l&#x27;option <code>dk auto merge</code> a été utilisée</strong></em> :</td></tr><tr><td>autoMerged</td><td></td><td>boolean</td><td>Vrai si un &quot;auto merge&quot; a été effectué, sinon faux.</td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement en cas d&#x27;erreur</strong></em> :</td></tr><tr><td>status</td><td></td><td>number</td><td>Code d&#x27;erreur, <a href="/docs/fr/20/API/EntityClass#status-and-statustext">voir ci-dessous</a></td></tr><tr><td>statusText</td><td></td><td>text</td><td>Description de l&#x27;erreur, <a href="/docs/fr/20/API/EntityClass#status-and-statustext">voir ci-dessous</a></td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement en cas d&#x27;erreur en verrouillage pessimiste</strong></em> :</td></tr><tr><td>lockKindText</td><td></td><td>text</td><td>&quot;Locked by record&quot;</td></tr><tr><td>lockInfo</td><td></td><td>object</td><td>Information sur l&#x27;origine du verrouillage</td></tr><tr><td></td><td>task_id</td><td>number</td><td>Id du process</td></tr><tr><td></td><td>user_name</td><td>text</td><td>Nom d&#x27;utilisateur de la session sur la machine</td></tr><tr><td></td><td>user4d_alias</td><td>text</td><td>Alias utilisateur si défini avec <code>SET USER ALIAS</code>, sinon le nom d&#x27;utilisateur dans le répertoire de la base 4D</td></tr><tr><td></td><td>host_name</td><td>text</td><td>Nom de la machine</td></tr><tr><td></td><td>task_name</td><td>text</td><td>Nom du process</td></tr><tr><td></td><td>client_version</td><td>text</td><td></td></tr><tr><td></td><td></td><td></td><td><em><strong>Disponible uniquement en cas d&#x27;erreur critique</strong></em> (clé primaire dupliquée, disque plein...) :</td></tr><tr><td>errors</td><td></td><td>collection of objects</td><td></td></tr><tr><td></td><td>message</td><td>text</td><td>Message d&#x27;erreur</td></tr><tr><td></td><td>componentSignature</td><td>text</td><td>Signature du composant interne (e.g. &quot;dmbg&quot; pour le composant de base de données)</td></tr><tr><td></td><td>errCode</td><td>number</td><td>Code d&#x27;erreur</td></tr></tbody></table>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="status-et-statustext">status et statusText<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#status-et-statustext">​</a></h5>
<p>Les valeurs suivantes peuvent être retournées dans les propriétés <code>status</code> et <code>statusText</code> de l&#x27;objet Résultat en cas d&#x27;erreur :</p>








































<table><thead><tr><th>Constante</th><th>Valeur</th><th>Commentaire</th></tr></thead><tbody><tr><td><code>dk status automerge failed</code></td><td>6</td><td>(Uniquement si l&#x27;option <code>dk auto merge</code> est utilisée) Echec du mécanisme de merge automatique lors de la sauvegarde de l&#x27;entité. **statusText associé **: &quot;Auto merge failed&quot;.</td></tr><tr><td><code>dk status entity does not exist anymore</code></td><td>5</td><td>L&#x27;entité n&#x27;existe plus dans les données. Cette erreur peut se produire dans les cas suivants :<br><li>l&#x27;entité a été supprimée (le stamp est modifié et l&#x27;espace mémoire est libéré)</li><li>l&#x27;entité a été supprimée et remplacée par une autre avec une clé primaire différente (le stamp est modifié et une nouvelle entité occupe l&#x27;espace mémoire). Avec <code>.drop( )</code>, cette erreur peut être retournée lorsque l&#x27;option <code>dk force drop if stamp changed</code> est utilisée. Avec <code>.lock( )</code>, cette erreur peut être retournée lorsque l&#x27;option dk reload if stamp changed est utilisée.</li><br><strong>statusText associé</strong> : &quot;Entity does not exist anymore&quot;</td></tr><tr><td><code>dk status locked</code></td><td>3</td><td>L&#x27;entité est verrouillée par un verrou pessimiste.<br><strong>statusText associé</strong> : &quot;Already locked&quot;</td></tr><tr><td><code>dk status serious error</code></td><td>4</td><td>Une erreur critique peut être une erreur de bas niveau de la base de données (ex. clé dupliquée), une erreur matérielle, etc.<br><strong>statusText associé</strong> : &quot;Other error&quot;</td></tr><tr><td><code>dk status stamp has changed</code></td><td>2</td><td>La valeur du marqueur interne (stamp) de l&#x27;entité ne correspond pas à celle de l&#x27;entité stockée dans les données (verrouillage optimiste).<br><li>avec <code>.save( )</code> : erreur uniquement si l&#x27;option <code>dk auto merge</code> n&#x27;est pas utilisée</li><li>avec <code>.drop( )</code> : erreur uniquement si l&#x27;option <code>dk force drop if stamp changed</code> n&#x27;est pas utilisée</li><li>avec <code>.lock( )</code> : erreur uniquement si l&#x27;option <code>dk reload if stamp changed</code> n&#x27;est pas utilisée</li><br><strong>statusText associé</strong> : &quot;Stamp has changed&quot;</td></tr><tr><td><code>dk status wrong permission</code></td><td>1</td><td>Les privilèges courants ne permettent pas de supprimer l&#x27;entité. <strong>statusText associé</strong> : &quot;Permission error&quot;</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-4">Exemple 1<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-1-4">​</a></h4>
<p>Création d&#x27;une entité :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.firstName:=&quot;Mary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.lastName:=&quot;Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;Employé créé&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-3">Exemple 2<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-2-3">​</a></h4>
<p>Mise à jour d&#x27;une entité sans option <code>dk auto merge</code> :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.lastName:=&quot;Mac Arthur&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;Employé mis à jour&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-3-1">Exemple 3<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-3-1">​</a></h4>
<p>Mise à jour d&#x27;une entité avec option <code>dk auto merge</code> :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employees:=ds.Employee.query(&quot;lastName=:1&quot;;&quot;Smith&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=$employees.first()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee.lastName:=&quot;Mac Arthur&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.save(dk auto merge)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Case of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT(&quot;Employé mis à jour&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    :($status.status=dk status automerge failed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ALERT($status.statusText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End case</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="toobject">.toObject()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#toobject">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.toObject</strong>() : Object<br><strong>.toObject</strong>( <em>filterString</em> : Text { ; <em>options</em> : Integer}  ) : Object<br><strong>.toObject</strong>( <em>filterCol</em> : Collection { ; <em>options</em> : Integer } ) : Object</p>



































<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>filterString</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Attribut(s) à extraire (chaînes séparées par des virgules)</td></tr><tr><td>filterCol</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>Collection d&#x27;attribut(s) à extraire</td></tr><tr><td>options</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk with primary key</code>: ajoute la propriété __KEY ;<br><code>dk with stamp</code>: ajoute la propriété _STAMP</td></tr><tr><td>Résultat</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Objet généré à partir de l&#x27;entité</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-19">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-19">​</a></h4>
<p>La fonction <code>.toObject()</code> retourne un objet construit à partir de l&#x27;entité. Les noms des propriétés de l&#x27;objet correspondent aux noms des attributs de l&#x27;entité.</p>
<p>Si aucun filtre n&#x27;est passé ou si le paramètre <em>filterString</em> contient une chaîne vide ou &quot;*&quot;, l&#x27;objet retourné contiendra :</p>
<ul>
<li>tous les attributs storage de l&#x27;entité</li>
<li>attributs de <a href="/docs/fr/20/API/DataClassClass#attributename">kind</a> <code>relatedEntity</code> : vous obtenez une propriété portant le même nom que l&#x27;entité liée (nom du lien N vers 1). L&#x27;attribut est extrait sous forme simple.</li>
<li>attributs de <a href="/docs/fr/20/API/DataClassClass#attributename">kind</a> <code>relatedEntities</code> : non retournés.</li>
</ul>
<p>Dans le premier paramètre, indiquez le ou les attribut(s) à extraire. Vous pouvez passer :</p>
<ul>
<li><em>filterString</em> : une chaîne avec les chemins des propriétés séparés par des virgules : &quot;propertyPath1, propertyPath2, ...&quot;, ou</li>
<li><em>filterCol</em> : une collection de chaînes contenant des chemins de propriétés : [&quot;propertyPath1&quot;,&quot;propertyPath2&quot;;...]</li>
</ul>
<p>Si un filtre est spécifié pour les attributs dont le <a href="/docs/fr/20/API/DataClassClass#attributename">kind</a> est relatedEntity :</p>
<ul>
<li>propertyPath = &quot;relatedEntity&quot; -&gt; l&#x27;attribut est extrait sous forme simple : un objet avec la propriété __KEY (clé primaire).</li>
<li>propertyPath = &quot;relatedEntity.*&quot; -&gt; toutes les propriétés sont extraites</li>
<li>propertyPath = &quot;relatedEntity.propertyName1; relatedEntity.propertyName2; ...&quot; -&gt; seules ces propriétés sont extraites</li>
</ul>
<p>Si un filtre est spécifié pour les attributs dont le <a href="/docs/fr/20/API/DataClassClass#attributename">kind</a> est relatedEntities :</p>
<ul>
<li>propertyPath = &quot;relatedEntities.*&quot; -&gt; toutes les propriétés sont extraites</li>
<li>propertyPath = &quot;relatedEntities.propertyName1; relatedEntities.propertyName2; ...&quot; -&gt; seules ces propriétés sont extraites</li>
</ul>
<p>Dans le paramètre <em>options</em>, vous pouvez passer les sélecteurs <code>dk with primary key</code> et/ou <code>dk with stamp</code> afin d&#x27;ajouter les clés primaires et/ou les stamps dans les objets extraits.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Avertissement</div><div class="admonitionContent_BuS1"><p>Si vous utilisez un autre attribut que la clé primaire comme attribut 1 dans une relation, la valeur de cet attribut sera inscrite dans la propriété &quot;__KEY&quot;. Gardez à l&#x27;esprit qu&#x27;il est recommandé d&#x27;utiliser la clé primaire comme attribut 1 dans vos relations, en particulier lorsque vous utilisez les fonctions <code>.toObject()</code> et <code>.fromObject()</code> .</p></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-5">Exemple 1<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-1-5">​</a></h4>
<p>La structure suivante sera utilisée pour les exemples de cette section :</p>
<p><img decoding="async" loading="lazy" src="/docs/fr/assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png" width="1000" height="610" class="img_ev3q"></p>
<p>Sans paramètre filtre :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">employeeObject:=employeeSelected.toObject()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retourne :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ID&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;salary&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: { // relatedEntity extraite sous forme simple</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-4">Exemple 2<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-2-4">​</a></h4>
<p>Extraction de la clé primaire et du stamp :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">employeeObject:=employeeSelected.toObject(&quot;&quot;;dk with primary key+dk with stamp)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retourne :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;__KEY&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;__STAMP&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ID&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;Wahl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;salary&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;birthDate&quot;: &quot;1963-02-01T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;managerID&quot;: 412,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 412</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-3-2">Exemple 3<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-3-2">​</a></h4>
<p>Extraction complète des attributs des <code>relatedEntities</code> :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">employeeObject:=employeeSelected.toObject(&quot;directReports.*&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 418,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;firstName&quot;: &quot;Lorena&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Boothe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;salary&quot;: 44800,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;birthDate&quot;: &quot;1970-10-02T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;woman&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;managerID&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 413</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 419,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;firstName&quot;: &quot;Drew&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Caudill&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;salary&quot;: 41000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;birthDate&quot;: &quot;2030-01-12T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;managerID&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 413</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ID&quot;: 420,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;firstName&quot;: &quot;Nathan&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Gomes&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;salary&quot;: 46300,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;birthDate&quot;: &quot;2010-05-29T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;woman&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;managerID&quot;: 413,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employerID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;photo&quot;: &quot;[object Picture]&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;extra&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;manager&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;__KEY&quot;: 413</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-4-1">Exemple 4<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-4-1">​</a></h4>
<p>Extraction de quelques attributs des <code>relatedEntities</code> :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> employeeObject:=employeeSelected.toObject(&quot;firstName, directReports.lastName&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retourne :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;directReports&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Boothe&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Caudill&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastName&quot;: &quot;Gomes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-5-1">Exemple 5<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-5-1">​</a></h4>
<p>Extraction d&#x27;une <code>relatedEntity</code> sous forme simple :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $coll:=New collection(&quot;firstName&quot;;&quot;employer&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employeeObject:=employeeSelected.toObject($coll)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retourne :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;Greg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;__KEY&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-6-1">Exemple 6<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-6-1">​</a></h4>
<p>Extraction de tous les attributs d&#x27;une <code>relatedEntity</code> :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> employeeObject:=employeeSelected.toObject(&quot;employer.*&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retourne :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ID&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;India Astral Secretary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;creationDate&quot;: &quot;1984-08-25T00:00:00.000Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;revenues&quot;: 12000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;extra&quot;: null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-7-1">Exemple 7<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-7-1">​</a></h4>
<p>Extraction de quelques attributs d&#x27;une <code>relatedEntity</code> :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $col:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $col.push(&quot;employer.name&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $col.push(&quot;employer.revenues&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> employeeObject:=employeeSelected.toObject($col)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retourne :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;employer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;India Astral Secretary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;revenues&quot;: 12000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="touched-">.touched( )<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#touched-">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.touched()</strong> : Boolean</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Boolean</td><td style="text-align:center">&lt;-</td><td>Vrai si au moins un attribut de l&#x27;entité a été modifié et non encore sauvegardé, sinon Faux</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-20">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-20">​</a></h4>
<p>La fonction <code>touched()</code> vérifie si un attribut de l&#x27;entité a été modifié depuis que l&#x27;entité a été chargée en mémoire ou sauvegardée.</p>
<p>Si un attribut a été modifié ou calculé, la fonction retourne Vrai, sinon elle retourne Faux. Vous pouvez utiliser cette fonction pour savoir s&#x27;il est nécessaire de sauvegarder l&#x27;entité.</p>
<p>Cette fonction retourne Faux pour une entité qui vient d&#x27;être créée (avec <a href="/docs/fr/20/API/DataClassClass#new"><code>.new( )</code></a>). A noter cependant que si vous utilisez une fonction pour calculer un attribut de l&#x27;entité, la fonction <code>.touched()</code> retournera Vrai. Par exemple, si vous appelez <a href="/docs/fr/20/API/EntityClass#getkey"><code>.getKey()</code></a> pour calculer la clé primaire, <code>.touched()</code> retourne alors Vrai.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-16">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-16">​</a></h4>
<p>Cet exemple vérifie s&#x27;il est nécessaire de sauvegarder l&#x27;entité :</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.get(672)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=$emp.firstName //Même réassigné avec sa propre valeur, l&#x27;attribut est considéré &quot;touched&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($emp.touched()) //si au moins l&#x27;un des attributs a été modifié</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $emp.save()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if // sinon, inutile de sauvegarder l&#x27;entité</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="touchedattributes-">.touchedAttributes( )<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#touchedattributes-">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.touchedAttributes()</strong> : Collection</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Noms des attributs touchés ou collection vide</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-21">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-21">​</a></h4>
<p>La fonction <code>.touchedAttributes()</code> retourne les noms des attributs qui ont été modifiés depuis que l&#x27;entité a été chargée en mémoire.</p>
<p>Cette fonction est applicable aux attributs dont le <a href="/docs/fr/20/API/DataClassClass#attributename">kind</a> est <code>storage</code> ou <code>relatedEntity</code>.</p>
<p>Dans le cas d&#x27;un attribut relationnel ayant été &quot;touché&quot; (i.e., la clé étrangère), le nom de l&#x27;entité liée et celui de sa clé primaire sont retournés.</p>
<p>Si aucun attribut de l&#x27;entité n&#x27;a été touché, la fonction retourne une collection vide.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-1-6">Exemple 1<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-1-6">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $touchedAttributes : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $touchedAttributes:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.get(725)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=$emp.firstName //Même modifié avec la même valeur, l&#x27;attribut est considéré comme touché</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $touchedAttributes:=$emp.touchedAttributes()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //$touchedAttributes: [&quot;firstName&quot;,&quot;lastName&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-2-5">Exemple 2<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-2-5">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $touchedAttributes : Collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $company : cs.CompanyEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $touchedAttributes:=New collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp:=ds.Employee.get(672)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.firstName:=$emp.firstName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.lastName:=&quot;Martin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $company:=ds.Company.get(121)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $emp.employer:=$company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $touchedAttributes:=$emp.touchedAttributes()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //collection $touchedAttributes: [&quot;firstName&quot;,&quot;lastName&quot;,&quot;employer&quot;,&quot;employerID&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans ce cas :</p>
<ul>
<li>firstName et lastName ont un type <code>storage</code></li>
<li>employer a un type <code>relatedEntity</code></li>
<li>employerID est la clé étrangère de l&#x27;entité reliée employer</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="unlock">.unlock()<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#unlock">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Historique</summary><div><div class="collapsibleContent_i85q">













<table><thead><tr><th>Release</th><th>Modifications</th></tr></thead><tbody><tr><td>17</td><td>Ajout</td></tr></tbody></table>
</div></div></details>
<p><strong>.unlock()</strong> : Object</p>

















<table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Objet statut</td></tr></tbody></table>
<p>|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-22">Description<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#description-22">​</a></h4>
<p>La fonction <code>unlock()</code> supprime le verrou pessimiste posé sur l&#x27;enregistrement correspondant à l&#x27;entité dans la table liée à sa dataclass.</p>
<blockquote>
<p>Pour plus d&#x27;informations, veuillez consulter la section <a href="/docs/fr/20/ORDA/entities#verrouillage-d-une-entite">Verrouillage d&#x27;une entité</a>.</p>
</blockquote>
<p>Un enregistrement est automatiquement déverrouillé lorsqu&#x27;il n&#x27;est plus référencé par aucune entité dans le process qui l&#x27;a verrouillé (par exemple : si le verrou est posé sur uniquement sur une référence locale d&#x27;une entité, l&#x27;entité et donc l&#x27;enregistrement sont déverrouillés lorsque le process se termine).</p>
<blockquote>
<p>Lorsqu&#x27;un enregistrement est verrouillé, il doit être déverrouillé depuis le process qui l&#x27;a verrouillé et via la référence d&#x27;entité sur laquelle le verrou a été posé. Par exemple :</p>
</blockquote>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> $e1:=ds.Emp.all()[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $e2:=ds.Emp.all()[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $res:=$e1.lock() //$res.success=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $res:=$e2.unlock() //$res.success=false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $res:=$e1.unlock() //$res.success=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Résultat</strong></p>
<p>L&#x27;objet retourné par <code>.unlock()</code> contient la propriété suivante :</p>















<table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>success</td><td>Boolean</td><td>Vrai si l&#x27;action unlock a été exécutée avec succès, Faux sinon. Si le déverrouillage est effectué sur une entité qui a été supprimée, sur un enregistrement non verrouillé ou sur un enregistrement verrouillé par un autre process ou une autre entité, success vaut Faux.</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exemple-17">Exemple<a class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre" href="/docs/fr/20/API/EntityClass#exemple-17">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var $status : Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $employee:=ds.Employee.get(725)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.lock()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ... //processing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $status:=$employee.unlock()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> If($status.success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ALERT(&quot;L&#x27;entité est déverrouillée&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> End if</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntityClass.md%20(20)&amp;body=Please%20enter%20your%20comment%3A" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Ecrire un commentaire sur cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/fr/20/API/EmailObjectClass"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">Email</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/fr/20/API/EntitySelectionClass"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">EntitySelection</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#sommaire">Sommaire</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#attributename">.<em>attributeName</em></a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#clone">.clone()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#diff">.diff()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#drop">.drop()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#first">.first()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#fromobject">.fromObject()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#getdataclass">.getDataClass()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#getkey">.getKey()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#getremotecontextattributes">.getRemoteContextAttributes()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#getselection">.getSelection()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#getstamp">.getStamp()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#indexof">.indexOf()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#isnew">.isNew()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#last">.last()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#lock">.lock()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#next">.next()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#previous">.previous()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#reload">.reload()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#save">.save()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#toobject">.toObject()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#touched-">.touched( )</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#touchedattributes-">.touchedAttributes( )</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/fr/20/API/EntityClass#unlock">.unlock()</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Communauté</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Developer Center</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Où tout a commencé)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Knowledgebase</a></li><li class="footer__item"><a href="https://us.4d.com/product-download/Feature-Release" target="_blank" rel="noopener noreferrer" class="footer__link-item">Téléchargements<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Aide<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Société</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">A propos de 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contacts<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D dans le monde<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Carrière<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 4D SAS - Tous droits réservés</div></div></div></footer></div>
</body>
</html>