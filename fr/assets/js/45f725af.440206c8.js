"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[78811],{603905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>k});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),u=p(a),k=r,c=u["".concat(s,".").concat(k)]||u[k]||d[k]||l;return a?n.createElement(c,o(o({ref:t},m),{},{components:a})):n.createElement(c,o({ref:t},m))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},49871:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>m});a(667294);var n=a(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={id:"DataStoreClass",title:"DataStore"},i=void 0,s={unversionedId:"API/DataStoreClass",id:"version-20-R5/API/DataStoreClass",title:"DataStore",description:"A Datastore is the interface object provided by ORDA to reference and access a database. Datastore objects are returned by the following commands:",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R5/API/DataStoreClass.md",sourceDirName:"API",slug:"/API/DataStoreClass",permalink:"/docs/fr/API/DataStoreClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataStoreClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"DataStoreClass",title:"DataStore"},sidebar:"docs",previous:{title:"DataClass",permalink:"/docs/fr/API/DataClassClass"},next:{title:"Email",permalink:"/docs/fr/API/EmailObjectClass"}},p={},m=[{value:"Sommaire",id:"sommaire",level:3},{value:"ds",id:"ds",level:2},{value:"Description",id:"description",level:4},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"Open datastore",id:"open-datastore",level:2},{value:"Description",id:"description-1",level:4},{value:"Exemple 1",id:"exemple-1-1",level:4},{value:"Exemple 2",id:"exemple-2-1",level:4},{value:"Exemple 3",id:"exemple-3",level:4},{value:"Gestion des erreurs",id:"gestion-des-erreurs",level:4},{value:"<em>.dataclassName</em>",id:"dataclassname",level:2},{value:"Description",id:"description-2",level:4},{value:"Exemple",id:"exemple",level:4},{value:".cancelTransaction()",id:"canceltransaction",level:2},{value:"Description",id:"description-3",level:4},{value:"Exemple",id:"exemple-4",level:4},{value:".clearAllRemoteContexts()",id:"clearallremotecontexts",level:2},{value:"Description",id:"description-4",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement",level:4},{value:".encryptionStatus()",id:"encryptionstatus",level:2},{value:"Description",id:"description-5",level:4},{value:"Exemple",id:"exemple-5",level:4},{value:".flushAndLock()",id:"flushandlock",level:2},{value:"Description",id:"description-6",level:4},{value:"Exemple",id:"exemple-6",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-1",level:4},{value:".getAllRemoteContexts()",id:"getallremotecontexts",level:2},{value:"Description",id:"description-7",level:4},{value:"Exemple",id:"exemple-7",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-2",level:4},{value:".getGlobalStamp()",id:"getglobalstamp",level:2},{value:"Description",id:"description-8",level:4},{value:"Exemple",id:"exemple-8",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-3",level:4},{value:".getInfo()",id:"getinfo",level:2},{value:"Description",id:"description-9",level:4},{value:"Exemple 1",id:"exemple-1-2",level:4},{value:"Exemple 2",id:"exemple-2-2",level:4},{value:".getRemoteContextInfo()",id:"getremotecontextinfo",level:2},{value:"Description",id:"description-10",level:4},{value:"Objet retourn\xe9",id:"objet-retourn\xe9",level:4},{value:"Exemple",id:"exemple-9",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-4",level:4},{value:".getRequestLog()",id:"getrequestlog",level:2},{value:"Description",id:"description-11",level:4},{value:"Exemple",id:"exemple-10",level:4},{value:".isAdminProtected()",id:"isadminprotected",level:2},{value:"Description",id:"description-12",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-5",level:4},{value:".locked()",id:"locked",level:2},{value:"Description",id:"description-13",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-6",level:4},{value:".makeSelectionsAlterable()",id:"makeselectionsalterable",level:2},{value:"Description",id:"description-14",level:4},{value:".provideDataKey()",id:"providedatakey",level:2},{value:"Description",id:"description-15",level:4},{value:"Exemple",id:"exemple-11",level:4},{value:".setAdminProtection()",id:"setadminprotection",level:2},{value:"Description",id:"description-16",level:4},{value:"Exemple",id:"exemple-12",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-7",level:4},{value:".setGlobalStamp()",id:"setglobalstamp",level:2},{value:"Description",id:"description-17",level:4},{value:"Exemple",id:"exemple-13",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-8",level:4},{value:".setRemoteContextInfo()",id:"setremotecontextinfo",level:2},{value:"Description",id:"description-18",level:4},{value:"Exemple 1",id:"exemple-1-3",level:4},{value:"Exemple 2",id:"exemple-2-3",level:4},{value:"Example 3 - Listbox",id:"example-3---listbox",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-9",level:4},{value:".startRequestLog()",id:"startrequestlog",level:2},{value:"Description",id:"description-19",level:4},{value:"C\xf4t\xe9 client",id:"c\xf4t\xe9-client",level:4},{value:"C\xf4t\xe9 serveur",id:"c\xf4t\xe9-serveur",level:4},{value:"Exemple 1",id:"exemple-1-4",level:4},{value:"Exemple 2",id:"exemple-2-4",level:4},{value:"Exemple 3",id:"exemple-3-1",level:4},{value:".startTransaction()",id:"starttransaction",level:2},{value:"Description",id:"description-20",level:4},{value:"Exemple",id:"exemple-14",level:4},{value:".stopRequestLog()",id:"stoprequestlog",level:2},{value:"Description",id:"description-21",level:4},{value:"Exemple",id:"exemple-15",level:4},{value:".unlock()",id:"unlock",level:2},{value:"Description",id:"description-22",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-10",level:4},{value:".validateTransaction()",id:"validatetransaction",level:2},{value:"Description",id:"description-23",level:4},{value:"Exemple",id:"exemple-16",level:4}],d={toc:m};function u(e){var{components:t}=e,a=l(e,["components"]);return(0,n.kt)("wrapper",r({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"A ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#datastore"}),"Datastore")," is the interface object provided by ORDA to reference and access a database. ",(0,n.kt)("inlineCode",{parentName:"p"},"Datastore")," objects are returned by the following commands:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),"ds"),": a shortcut to the main datastore"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#open-datastore"}),"Open datastore"),": to open any remote datastore")),(0,n.kt)("h3",r({},{id:"sommaire"}),"Sommaire"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#canceltransaction"}),(0,n.kt)("strong",{parentName:"a"},".cancelTransaction()")),(0,n.kt)("br",null),"cancels the transaction")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#clearallremotecontexts"}),(0,n.kt)("strong",{parentName:"a"},".clearAllRemoteContexts()")),(0,n.kt)("br",null),"clears all the attributes for all the active contexts in the datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#dataclassname"}),(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("em",{parentName:"strong"},".dataclassName"))," : 4D.DataClass"),(0,n.kt)("br",null),"contient la description de la dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#encryptionstatus"}),(0,n.kt)("strong",{parentName:"a"},".encryptionStatus()"),": Object"),(0,n.kt)("br",null),"returns an object providing the encryption status for the current data file")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#flushAndLock"}),(0,n.kt)("strong",{parentName:"a"},".flushAndLock()")),(0,n.kt)("br",null),"flushes the cache of the local datastore and prevents other processes from performing write operations on the database")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getallremotecontexts"}),(0,n.kt)("strong",{parentName:"a"},".getAllRemoteContexts()")," : Collection"),(0,n.kt)("br",null),"returns a collection of objects containing information on all the active optimization contexts in the datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getglobalstamp"}),(0,n.kt)("strong",{parentName:"a"},".getGlobalStamp"),"() : Real"),(0,n.kt)("br",null),"returns the current value of the global modification stamp of the datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getinfo"}),(0,n.kt)("strong",{parentName:"a"},".getInfo()"),": Object"),(0,n.kt)("br",null),"returns an object providing information about the datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getremotecontextinfo"}),(0,n.kt)("strong",{parentName:"a"},".getRemoteContextInfo"),"(",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text) : Object "),(0,n.kt)("br",null)," returns an object that holds information on the ",(0,n.kt)("em",{parentName:"td"},"contextName")," optimization context in the datastore.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getrequestlog"}),(0,n.kt)("strong",{parentName:"a"},".getRequestLog()")," : Collection"),(0,n.kt)("br",null),"returns the ORDA requests logged in memory on the client side")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#locked"}),(0,n.kt)("strong",{parentName:"a"},".locked()")," : Boolean"),(0,n.kt)("br",null),"returns True if the local datastore is currently locked")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#makeselectionsalterable"}),(0,n.kt)("strong",{parentName:"a"},".makeSelectionsAlterable()")),(0,n.kt)("br",null),"sets all entity selections as alterable by default in the current application datastores")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#providedatakey"}),(0,n.kt)("strong",{parentName:"a"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"a"},"curPassPhrase")," : Text ) : Object ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"a"},"curDataKey")," : Object ) : Object "),(0,n.kt)("br",null),"allows providing a data encryption key for the current data file of the datastore and detects if the key matches the encrypted data")))),(0,n.kt)("p",null,"| ",(0,n.kt)("a",r({parentName:"p"},{href:"#setadminprotection"}),(0,n.kt)("strong",{parentName:"a"},".setAdminProtection"),"( ",(0,n.kt)("em",{parentName:"a"},"status")," : Boolean )"),(0,n.kt)("br",null),"allows disabling any data access on the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/Admin/webAdmin#http-port"}),"web admin port"),", including for the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/Admin/dataExplorer"}),"Data Explorer")," in ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin")," sessions                |\n| ",(0,n.kt)("a",r({parentName:"p"},{href:"#setglobalstamp"}),(0,n.kt)("strong",{parentName:"a"},".setGlobalStamp"),"( ",(0,n.kt)("em",{parentName:"a"},"newStamp")," : Real)"),(0,n.kt)("br",null),"sets ",(0,n.kt)("em",{parentName:"p"},"newStamp")," as new value for the current global modification stamp for the datastore                            |\n| ",(0,n.kt)("a",r({parentName:"p"},{href:"#setremotecontextinfo"}),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer}})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassName")," : Text; ",(0,n.kt)("em",{parentName:"a"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }} )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"a"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"a"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }} )"),(0,n.kt)("br",null),"links the specified dataclass attributes to the ",(0,n.kt)("em",{parentName:"p"},"contextName")," optimization context          |\n| ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"file")," : 4D.File )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"file")," : 4D.File ; ",(0,n.kt)("em",{parentName:"a"},"options")," : Integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"reqNum")," : Integer )"),(0,n.kt)("br",null),"starts the logging of ORDA requests on the client side or on the server side                         |\n| ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("strong",{parentName:"a"},".startTransaction()")),(0,n.kt)("br",null),"starts a transaction in the current process on the database matching the datastore to which it applies                      |\n| ",(0,n.kt)("a",r({parentName:"p"},{href:"#stoprequestlog"}),(0,n.kt)("strong",{parentName:"a"},".stopRequestLog()"),"  "),(0,n.kt)("br",null),"stops any logging of ORDA requests on the machine it is called (client or server)                            |\n| ",(0,n.kt)("a",r({parentName:"p"},{href:"#unlock"}),(0,n.kt)("strong",{parentName:"a"},".unlock()")),(0,n.kt)("br",null),"removes the current lock on write operations in the datastore, if it has been set in the same process                                                    |\n| ",(0,n.kt)("a",r({parentName:"p"},{href:"#validatetransaction"}),(0,n.kt)("strong",{parentName:"a"},".validateTransaction()"),"  "),(0,n.kt)("br",null),"accepts the transaction              |"),(0,n.kt)("h2",r({},{id:"ds"}),"ds"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Prise en charge du param\xe8tre localID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"ds")," { ( ",(0,n.kt)("em",{parentName:"p"},"localID")," : Text ) } : cs.DataStore "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Identifiant local du datastore distant")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"cs.DataStore"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nouvelle r\xe9f\xe9rence de datastore")))),(0,n.kt)("h4",r({},{id:"description"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"ds")," command returns a reference to the datastore matching the current 4D database or the database designated by ",(0,n.kt)("em",{parentName:"p"},"localID"),"."),(0,n.kt)("p",null,"If you omit the ",(0,n.kt)("em",{parentName:"p"},"localID"),' parameter (or pass an empty string ""), the command returns a reference to the datastore matching the local 4D database (or the 4D Server database in case of opening a remote database on 4D Server). The datastore is opened automatically and available directly through ',(0,n.kt)("inlineCode",{parentName:"p"},"ds"),"."),(0,n.kt)("p",null,"You can also get a reference on an open remote datastore by passing its local id in the ",(0,n.kt)("em",{parentName:"p"},"localID")," parameter. The datastore must have been previously opened with the ",(0,n.kt)("a",r({parentName:"p"},{href:"#open-datastore"}),(0,n.kt)("inlineCode",{parentName:"a"},"Open datastore"))," command by the current database (host or component). L'identifiant local est d\xe9fini lors de l'utilisation de cette commande."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"La port\xe9e de l'identifiant local est la base de donn\xe9es dans laquelle le datastore a \xe9t\xe9 ouvert.")),(0,n.kt)("p",null,"If no ",(0,n.kt)("em",{parentName:"p"},"localID")," datastore is found, the command returns ",(0,n.kt)("strong",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,"Objects available in the ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.Datastore")," are mapped from the target database with respect to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#general-rules"}),"ORDA general rules"),"."),(0,n.kt)("h4",r({},{id:"exemple-1"}),"Exemple 1"),(0,n.kt)("p",null,"Utilisation du datastore principal de la base 4D :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $result:=ds.Employee.query("firstName = :1";"S@")\n')),(0,n.kt)("h4",r({},{id:"exemple-2"}),"Exemple 2"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo; $firstFrench; $firstForeign : Object\n\n var $frenchStudents; $foreignStudents : cs.DataStore\n\n $connectTo:=New object("type";"4D Server";"hostname";"192.168.18.11:8044")\n $frenchStudents:=Open datastore($connectTo;"french")\n\n $connectTo.hostname:="192.168.18.11:8050"\n $foreignStudents:=Open datastore($connectTo;"foreign")\n  //...\n  //...\n $firstFrench:=getFirst("french";"Students")\n $firstForeign:=getFirst("foreign";"Students")\n')),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"  //getFirst method\n  //getFirst(localID;dataclass) -> entity\n #DECLARE( $localId : Text; $dataClassName : Text ) -> $entity : 4D.Entity\n\n $0:=ds($localId)[$dataClassName].all().first()\n")),(0,n.kt)("h2",r({},{id:"open-datastore"}),"Open datastore"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Open datastore"),"( ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," : Object ; ",(0,n.kt)("em",{parentName:"p"},"localID")," : Text ) : cs.DataStore "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"connectionInfo"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9s de connexion utilis\xe9es pour joindre le datastore distant")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Identifiant \xe0 affecter au datastore ouvert sur l'application locale (obligatoire)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"cs.DataStore"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet datastore")))),(0,n.kt)("h4",r({},{id:"description-1"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," command connects the application to the 4D database identified by the ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," parameter and returns a matching ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.DataStore")," object associated with the ",(0,n.kt)("em",{parentName:"p"},"localID")," local alias."),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," 4D database must be available as a remote datastore, i.e.:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"son serveur Web doit \xeatre lanc\xe9 avec http et/ou https activ\xe9,"),(0,n.kt)("li",{parentName:"ul"},"the datastore must be exposed (",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/fr/REST/configuration#starting-the-rest-server"}),(0,n.kt)("strong",{parentName:"a"},"Expose as REST server"))," option checked) as well as ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/fr/REST/configuration#exposing-tables-and-fields"}),"dataclasses and attributes"),".")),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," requests rely on the 4D REST API and can require a 4D Client license to open the connection. Refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/REST/authUsers#user-login-modes"}),"user login mode section")," to know how to configure the authentication depending on the selected current user login mode.")),(0,n.kt)("p",null,"If no matching database is found, ",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," returns ",(0,n.kt)("strong",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"localID")," is a local alias for the session opened on remote datastore. If ",(0,n.kt)("em",{parentName:"p"},"localID")," already exists on the application, it is used. Otherwise, a new ",(0,n.kt)("em",{parentName:"p"},"localID")," session is created when the datastore object is used."),(0,n.kt)("p",null,"Objects available in the ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.Datastore")," are mapped from the target database with respect to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#general-rules"}),"ORDA general rules"),"."),(0,n.kt)("p",null,"Une fois la session ouverte, les instructions suivantes deviennent \xe9quivalentes et renvoient une r\xe9f\xe9rence sur le m\xeame objet datastore :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $myds:=Open datastore(connectionInfo;"myLocalId")\n $myds2:=ds("myLocalId")\n  //$myds et $myds2 sont \xe9quivalents\n')),(0,n.kt)("p",null,"Pass in ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," an object describing the remote datastore you want to connect to. It can contain the following properties (all properties are optional except ",(0,n.kt)("em",{parentName:"p"},"hostname"),"):"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"hostname"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Nom ou adresse IP de la base de donn\xe9es distante + " :" + num\xe9ro de port (le num\xe9ro de port est obligatoire)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"user"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom d'utilisateur")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"password"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Mot de passe de l'utilisateur")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"idleTimeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Longint"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"D\xe9lai d'inactivit\xe9 de la session (exprim\xe9 en minutes), au terme duquel la session est automatiquement ferm\xe9e par 4D. Si cette propri\xe9t\xe9 est omise, la valeur par d\xe9faut est 60 (1h). The value cannot be < 60 (if a lower value is passed, the timeout is set to 60). For more information, see ",(0,n.kt)("strong",{parentName:"td"},"Closing sessions"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"tls"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Utilisez une connexion s\xe9curis\xe9e(","*","). Si cette propri\xe9t\xe9 est omise, \"false\" par d\xe9faut. L'utilisation d'une connexion s\xe9curis\xe9e est recommand\xe9e dans la mesure du possible.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Doit \xeatre "4D Server"')))),(0,n.kt)("p",null,"(","*",") Si tls est vrai, le protocole HTTPS est utilis\xe9 si :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"HTTPS est activ\xe9 sur le datastore distant"),(0,n.kt)("li",{parentName:"ul"},"Le port donn\xe9 correspond au port HTTPS configur\xe9 dans les propri\xe9t\xe9s"),(0,n.kt)("li",{parentName:"ul"},'Un certificat valide et une cl\xe9 de chiffrement priv\xe9e sont install\xe9s dans la base. Sinon, l\'erreur "1610 - Une requ\xeate vers l\u2019h\xf4te: "{xxx}" a \xe9chou\xe9" est g\xe9n\xe9r\xe9e')),(0,n.kt)("h4",r({},{id:"exemple-1-1"}),"Exemple 1"),(0,n.kt)("p",null,"Connexion \xe0 un datastore distant sans utilisateur/mot de passe :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $remoteDS : cs.DataStore\n $connectTo:=New object("type";"4D Server";"hostname";"192.168.18.11:8044")\n $remoteDS:=Open datastore($connectTo;"students")\n ALERT("This remote datastore contains "+String($remoteDS.Students.all().length)+" students")\n')),(0,n.kt)("h4",r({},{id:"exemple-2-1"}),"Exemple 2"),(0,n.kt)("p",null,"Connexion \xe0 un datastore distant avec utilisateur/mot de passe/timeout/tls :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $remoteDS : cs.DataStore\n $connectTo:=New object("type";"4D Server";"hostname";\\"192.168.18.11:4443";\\  \n  "user";"marie";"password";$pwd;"idleTimeout";70;"tls";True)\n $remoteDS:=Open datastore($connectTo;"students")\n ALERT("This remote datastore contains "+String($remoteDS.Students.all().length)+" students")\n')),(0,n.kt)("h4",r({},{id:"exemple-3"}),"Exemple 3"),(0,n.kt)("p",null,"Travailler avec plusieurs datastores distants :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $frenchStudents; $foreignStudents : cs.DataStore\n $connectTo:=New object("hostname";"192.168.18.11:8044")\n $frenchStudents:=Open datastore($connectTo;"french")\n $connectTo.hostname:="192.168.18.11:8050"\n $foreignStudents:=Open datastore($connectTo;"foreign")\n ALERT("They are "+String($frenchStudents.Students.all().length)+" French students")\n ALERT("They are "+String($foreignStudents.Students.all().length)+" foreign students")\n')),(0,n.kt)("h4",r({},{id:"gestion-des-erreurs"}),"Gestion des erreurs"),(0,n.kt)("p",null,"In case of error, the command returns ",(0,n.kt)("strong",{parentName:"p"},"Null"),'. Si le datastore distant ne peut pas \xeatre joint (adresse incorrecte, web serveur non lanc\xe9, http et https non activ\xe9s, etc.), l\'erreur 1610 "Une requ\xeate vers l\u2019h\xf4te: {xxx} a \xe9chou\xe9" est g\xe9n\xe9r\xe9e. You can intercept this error with a method installed by ',(0,n.kt)("inlineCode",{parentName:"p"},"ON ERR CALL"),"."),(0,n.kt)("h2",r({},{id:"dataclassname"}),(0,n.kt)("em",{parentName:"h2"},".dataclassName")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},".dataclassName"))," : 4D.DataClass"),(0,n.kt)("h4",r({},{id:"description-2"}),"Description"),(0,n.kt)("p",null,"Each dataclass in a datastore is available as a property of the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#datastore"}),"DataStore object"),"data. L'objet retourn\xe9 contient la description de la dataclass."),(0,n.kt)("h4",r({},{id:"exemple"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $emp : cs.Employee\n var $sel : cs.EmployeeSelection\n $emp:=ds.Employee //$emp contient la dataclass Employee \n $sel:=$emp.all() //obtient une entity selection de tous les employ\xe9s\n\n  //vous poubez \xe9galement saisir directement :\n $sel:=ds.Employee.all()\n")),(0,n.kt)("h2",r({},{id:"canceltransaction"}),".cancelTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".cancelTransaction()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("h4",r({},{id:"description-3"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".cancelTransaction()")," function cancels the transaction opened by the ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," function at the corresponding level in the current process for the specified datastore."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".cancelTransaction()")," function cancels any changes made to the data during the transaction."),(0,n.kt)("p",null,"Vous pouvez imbriquer plusieurs transactions (sous-transactions). If the main transaction is cancelled, all of its sub-transactions are also cancelled, even if they were validated individually using the ",(0,n.kt)("a",r({parentName:"p"},{href:"#validatetransactions"}),(0,n.kt)("inlineCode",{parentName:"a"},".validateTransaction()"))," function."),(0,n.kt)("h4",r({},{id:"exemple-4"}),"Exemple"),(0,n.kt)("p",null,"See example for the ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," function."),(0,n.kt)("h2",r({},{id:"clearallremotecontexts"}),".clearAllRemoteContexts()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clearAllRemoteContexts()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("h4",r({},{id:"description-4"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".clearAllRemoteContexts()")," function clears all the attributes for all the active contexts in the datastore."),(0,n.kt)("p",null,"Cette fonction est utile principalement dans le contexte du d\xe9bogage. Gardez \xe0 l'esprit que lorsque vous ouvrez le d\xe9bogueur, il envoie des requ\xeates au serveur et r\xe9cup\xe8re tous les attributs de la dataclass pour les afficher. Cela peut surcharger vos contextes avec des donn\xe9es inutiles."),(0,n.kt)("p",null,"In such cases, you can use ",(0,n.kt)("inlineCode",{parentName:"p"},".clearAllRemoteContexts()")," to clear your contexts and keep them clean."),(0,n.kt)("h4",r({},{id:"voir-\xe9galement"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()")),(0,n.kt)("h2",r({},{id:"encryptionstatus"}),".encryptionStatus()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".encryptionStatus()"),": Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Informations sur le chiffrement du datastore courant et de chaque table")))),(0,n.kt)("h4",r({},{id:"description-5"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".encryptionStatus()")," function returns an object providing the encryption status for the current data file (i.e., the data file of the ",(0,n.kt)("inlineCode",{parentName:"p"},"ds")," datastore). Le statut de chiffrement pour chaque table est \xe9galement fourni."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Use the ",(0,n.kt)("inlineCode",{parentName:"p"},"Data file encryption status")," command to determine the encryption status of any other data file.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Valeur retourn\xe9e")),(0,n.kt)("p",null,"L'objet retourn\xe9 contient les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncrypted"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si le fichier de donn\xe9es est chiffr\xe9")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"keyProvided"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si la cl\xe9 de chiffrement correspondant au fichier de donn\xe9es chiffr\xe9 est fournie(","*",").")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"tables"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet contenant autant de propri\xe9t\xe9s que de tables chiffrables ou chiffr\xe9es.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"td"},"tableName")),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Table chiffrable ou chiffr\xe9e")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom de la table")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"num"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Num\xe9ro de la table")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncryptable"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si la table est d\xe9clar\xe9e chiffrable dans le fichier de structure")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncrypted"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si les enregistrements de la table sont chiffr\xe9s dans le fichier de donn\xe9es")))),(0,n.kt)("p",null,"(","*",") La cl\xe9 de chiffrement peut \xeatre fournie :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"with the ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," command,"),(0,n.kt)("li",{parentName:"ul"},"\xe0 la racine d'un appareil connect\xe9 avant l'ouverture du datastore,"),(0,n.kt)("li",{parentName:"ul"},"with the ",(0,n.kt)("inlineCode",{parentName:"li"},"Discover data key")," command.")),(0,n.kt)("h4",r({},{id:"exemple-5"}),"Exemple"),(0,n.kt)("p",null,"Vous souhaitez connaitre le nombre de tables chiffr\xe9es dans le fichier de donn\xe9es courant :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $status : Object\n\n $status:=ds.encryptionStatus()\n\n If($status.isEncrypted) //the database is encrypted\n    C_LONGINT($vcount)\n    C_TEXT($tabName)\n    For each($tabName;$status.tables)\n       If($status.tables[$tabName].isEncrypted)\n          $vcount:=$vcount+1\n       End if\n    End for each\n    ALERT(String($vcount)+" encrypted table(s) in this datastore.")\n Else\n    ALERT("This database is not encrypted.")\n End if\n')),(0,n.kt)("h2",r({},{id:"flushandlock"}),".flushAndLock()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".flushAndLock()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("h4",r({},{id:"description-6"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," function flushes the cache of the local datastore and prevents other processes from performing write operations on the database. Le datastore est plac\xe9 dans un \xe9tat coh\xe9rent et fig\xe9. L'appel de cette fonction est n\xe9cessaire avant l'ex\xe9cution d'un instantan\xe9 d'application (snapshot), par exemple."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Cette fonction ne peut \xeatre appel\xe9e que :"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"on the local datastore (",(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"dans un environnement client/serveur, sur la machine serveur."))),(0,n.kt)("p",null,"Once this function is executed, write operations such as ",(0,n.kt)("inlineCode",{parentName:"p"},".save()")," or other ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," calls are frozen in all other processes until the datastore is unlocked."),(0,n.kt)("p",null,"When multiple calls to ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," have been done in the same process, the same number of ",(0,n.kt)("a",r({parentName:"p"},{href:"#unlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".unlock()"))," calls must be executed to actually unlock the datastore."),(0,n.kt)("p",null,"Le datastore est d\xe9verrouill\xe9 lorsque :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"the ",(0,n.kt)("a",r({parentName:"li"},{href:"#unlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".unlock()"))," function is called in the same process, or"),(0,n.kt)("li",{parentName:"ul"},"the process that called the ",(0,n.kt)("inlineCode",{parentName:"li"},".flushAndLock()")," function is killed.")),(0,n.kt)("p",null,"If the datastore is already locked from another process, the ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," call is frozen and will be executed when the datastore will be unlocked."),(0,n.kt)("p",null,"An error is triggered if the ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," function cannot be executed (e.g. it is run on a remote 4D), ."),(0,n.kt)("admonition",r({},{type:"caution"}),(0,n.kt)("p",{parentName:"admonition"},"Other 4D features and services including ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/Backup/backup"}),"backup"),", ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4Dv20/4D/20/Using-Volume-Shadow-Copy-Service-on-Windows.300-6330532.en.html"}),"vss"),", and ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/MSC/overview"}),"MSC")," can also lock the datastore. Before calling ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()"),", make sure no other locking action is being used, in order to avoid any unexpected interaction.")),(0,n.kt)("h4",r({},{id:"exemple-6"}),"Exemple"),(0,n.kt)("p",null,"Vous voulez cr\xe9er une copie du dossier de donn\xe9es avec son fichier journal courant :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"$destination:=Folder(fk documents folder).folder(\"Archive\") \n$destination.create()\n\nds.flushAndLock() //Bloque les op\xe9rations d'\xe9criture des autres process\n\n$dataFolder:=Folder(fk data folder) \n$dataFolder.copyTo($destination) //Copie le dossier de donn\xe9es\n\n$oldJournalPath:=New log file //Ferme le journal et en cr\xe9er un nouveau\n$oldJournal:=File($oldJournalPath; fk platform path) \n$oldJournal.moveTo($destination) //Sauvegarde l'ancien journal avec les donn\xe9es\n\nds.unlock() //Notre copie est termin\xe9e, nous pouvons maintenant d\xe9verrouiller le datastore\n")),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-1"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#locked"}),".locked()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#unlock"}),".unlock()")),(0,n.kt)("h2",r({},{id:"getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getAllRemoteContexts()")," : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection d'objets contextes d'optimisation")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. Dans la plupart des cas, vous n'aurez pas besoin de l'utiliser.")),(0,n.kt)("h4",r({},{id:"description-7"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getAllRemoteContexts()")," function returns a collection of objects containing information on all the active optimization contexts in the datastore."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For more information on how contexts can be created, see ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/client-server-optimization#optimization-context"}),"client/server optimization"),".")),(0,n.kt)("p",null,"Each object in the returned collection has the properties listed in the ",(0,n.kt)("a",r({parentName:"p"},{href:"#properties-of-the-returned-object"}),(0,n.kt)("inlineCode",{parentName:"a"},".getRemoteContextInfo()"))," section."),(0,n.kt)("h4",r({},{id:"exemple-7"}),"Exemple"),(0,n.kt)("p",null,"The following code sets up two contexts and retrieves them using ",(0,n.kt)("inlineCode",{parentName:"p"},".getAllRemoteContexts()"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $addresses : cs.AddressSelection\nvar $p : cs.PersonsEntity\nvar $a : cs.AddressEntity\nvar $contextA; $contextB : Object\nvar $info : Collection\nvar $text : Text\n\n// Acc\xe8s datastore distant\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n// d\xe9finition contexte A\n$contextA:=New object("context"; "contextA")\n$persons:=$ds.Persons.all($contextA)\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / "\nEnd for each\n\n// d\xe9finition contexte B\n$contextB:=New object("context"; "contextB")\n$addresses:=$ds.Address.all($contextB)\n$text:=""\nFor each ($a; $addresses)\n    $text:=$a.zipCode\nEnd for each\n\n// r\xe9cup\xe9rer tous les contextes distants (ici contextA et contextB)\n$info:=$ds.getAllRemoteContexts()\n//$info = [{name:"contextB"; dataclass:"Address"; main:"zipCode"},\n{name:"contextA";dataclass:"Persons";main:"firstname,address.city"}]\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Cet exemple est \xe0 but de d\xe9monstration, il n'est pas destin\xe9 \xe0 une impl\xe9mentation r\xe9elle.")),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-2"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",r({},{id:"getglobalstamp"}),".getGlobalStamp()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getGlobalStamp"),"() : Real"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Valeur courante du marqueur de modification global")))),(0,n.kt)("h4",r({},{id:"description-8"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getGlobalStamp()")," function returns the current value of the global modification stamp of the datastore."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Cette fonction ne peut \xeatre appel\xe9e que :"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"on the local datastore (",(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"dans un environnement client/serveur, sur la machine serveur."))),(0,n.kt)("p",null,"For more information on global stamp and data change tracking, please refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/global-stamp"}),(0,n.kt)("strong",{parentName:"a"},"Using the Global Stamp"))," page."),(0,n.kt)("h4",r({},{id:"exemple-8"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"var $currentStamp : Real\nvar $hasModifications : Boolean\n\n$currentStamp:=ds.getGlobalStamp()\nmethodWhichCouldModifyEmployees //ex\xe9cuter du code\n$hasModifications:=($currentStamp # ds.getGlobalStamp())\n")),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-3"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setglobalstamp"}),".setGlobalStamp()")),(0,n.kt)("h2",r({},{id:"getinfo"}),".getInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getInfo()"),": Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9s du datastore")))),(0,n.kt)("h4",r({},{id:"description-9"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getInfo()")," function returns an object providing information about the datastore. Cette fonction est utile pour l'\xe9criture de code g\xe9n\xe9rique."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Returned object")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"string"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("li",null,'"4D": main datastore, available through ds '),(0,n.kt)("li",null,'"4D Server": remote datastore, open with Open datastore'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"networked"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"True: the datastore is reached through a network connection."),(0,n.kt)("li",null,"False: the datastore is not reached through a network connection (local database)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Identifiant du datastore sur la machine. Corresponds to the localId string given with the ",(0,n.kt)("inlineCode",{parentName:"td"},"Open datastore"),' command. Cha\xeene vide ("") pour le datastore principal.')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"connection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet d\xe9crivant la connexion au datastore distant (non retourn\xe9 pour le datastore principal). Available properties:",(0,n.kt)("table",null,(0,n.kt)("tr",null,(0,n.kt)("th",null,"Property"),(0,n.kt)("th",null,"Type"),(0,n.kt)("th",null,"Description")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"hostname"),(0,n.kt)("td",null,"text"),(0,n.kt)("td",null,'IP address or name of the remote datastore + ":" + port number')),(0,n.kt)("tr",null,(0,n.kt)("td",null,"tls"),(0,n.kt)("td",null,"boolean"),(0,n.kt)("td",null,"True if secured connection is used with the remote datastore")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"idleTimeout"),(0,n.kt)("td",null,"number"),(0,n.kt)("td",null,"Session inactivity timeout (in minutes)")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"user"),(0,n.kt)("td",null,"text"),(0,n.kt)("td",null,"User authenticated on the remote datastore"))))))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"If the ",(0,n.kt)("inlineCode",{parentName:"li"},".getInfo()")," function is executed on a 4D Server or 4D single-user, ",(0,n.kt)("inlineCode",{parentName:"li"},"networked")," is False."),(0,n.kt)("li",{parentName:"ul"},"If the ",(0,n.kt)("inlineCode",{parentName:"li"},".getInfo()")," function is executed on a remote 4D, ",(0,n.kt)("inlineCode",{parentName:"li"},"networked")," is True")),(0,n.kt)("h4",r({},{id:"exemple-1-2"}),"Exemple 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $info : Object\n\n $info:=ds.getInfo() //Ex\xe9cut\xe9 sur 4D Server ou 4D\n  //{"type":"4D","networked":false,"localID":""}\n\n $info:=ds.getInfo() // Ex\xe9cut\xe9 sur 4D distant\n  //{"type":"4D","networked":true,"localID":""}\n')),(0,n.kt)("h4",r({},{id:"exemple-2-2"}),"Exemple 2"),(0,n.kt)("p",null,"Sur un datastore distant :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'  var $remoteDS : cs.DataStore\n  var $info; $connectTo : Object\n\n $connectTo:=New object("hostname";"111.222.33.44:8044";"user";"marie";"password";"aaaa")\n $remoteDS:=Open datastore($connectTo;"students")\n $info:=$remoteDS.getInfo()\n\n  //{"type":"4D Server",\n  //"localID":"students",\n  //"networked":true,\n  //"connection":{hostname:"111.222.33.44:8044","tls":false,"idleTimeout":2880,"user":"marie"}}\n')),(0,n.kt)("h2",r({},{id:"getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRemoteContextInfo"),"(",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text) : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"contextName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom du contexte")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Description du contexte")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. Dans la plupart des cas, vous n'aurez pas besoin de l'utiliser.")),(0,n.kt)("h4",r({},{id:"description-10"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getRemoteContextInfo()")," function  returns an object that holds information on the ",(0,n.kt)("em",{parentName:"p"},"contextName")," optimization context in the datastore.."),(0,n.kt)("p",null,"For more information on how optimization contexts can be created, see ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/client-server-optimization#optimization-context"}),"client/server optimization"),"."),(0,n.kt)("h4",r({},{id:"objet-retourn\xe9"}),"Objet retourn\xe9"),(0,n.kt)("p",null,"L'objet retourn\xe9 contient les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom du contexte")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"main"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Attribut(s) associ\xe9(s) au contexte (les noms d'attributs sont s\xe9par\xe9s par des virgules)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataclass"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom de la dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"currentItem (optionnel)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"The attributes of the ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/ORDA/datastores#entity-selection-based-list-box"}),"page mode")," if the context is linked to a list box. Returned as ",(0,n.kt)("inlineCode",{parentName:"td"},"Null")," or empty text element if the context name is not used for a list box, or if there is no context for the currentItem")))),(0,n.kt)("p",null,"Since contexts behave as filters for attributes, if ",(0,n.kt)("em",{parentName:"p"},"main")," is returned empty, it means that no filter is applied, and that the server returns all the dataclass attributes."),(0,n.kt)("h4",r({},{id:"exemple-9"}),"Exemple"),(0,n.kt)("p",null,"See the example from the ",(0,n.kt)("a",r({parentName:"p"},{href:"#example-1-3"}),".setRemoteContextInfo()")," section."),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-4"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",r({},{id:"getrequestlog"}),".getRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRequestLog()")," : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection d'objets d\xe9crivant les requ\xeates")))),(0,n.kt)("h4",r({},{id:"description-11"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getRequestLog()")," function returns the ORDA requests logged in memory on the client side. The ORDA request logging must have previously been enabled using the ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()"))," function."),(0,n.kt)("p",null,"Cette fonction doit \xeatre appel\xe9e sur un client 4D distant, sinon elle retourne une collection vide. Elle est con\xe7ue \xe0 des fins de d\xe9bogage dans les configurations client/serveur."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Valeur retourn\xe9e")),(0,n.kt)("p",null,"Collection d'objets requ\xeate empil\xe9s. La requ\xeate la plus r\xe9cente porte l'indice 0."),(0,n.kt)("p",null,"For a description of the ORDA request log format, please refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373"}),(0,n.kt)("strong",{parentName:"a"},"ORDA client requests"))," section."),(0,n.kt)("h4",r({},{id:"exemple-10"}),"Exemple"),(0,n.kt)("p",null,"See Example 2 of ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("h2",r({},{id:"isadminprotected"}),".isAdminProtected()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isAdminProtected()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si l'acc\xe8s au Data Explorer est d\xe9sactiv\xe9, Faux s'il est activ\xe9 (d\xe9faut)")))),(0,n.kt)("h4",r({},{id:"description-12"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".isAdminProtected()")," function returns ",(0,n.kt)("inlineCode",{parentName:"p"},"True")," if ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/Admin/dataExplorer"}),"Data Explorer")," access has been disabled for the working session."),(0,n.kt)("p",null,"By default, the Data Explorer access is granted for ",(0,n.kt)("inlineCode",{parentName:"p"},"webAdmin")," sessions, but it can be disabled to prevent any data access from administrators (see the ",(0,n.kt)("a",r({parentName:"p"},{href:"#setadminprotection"}),(0,n.kt)("inlineCode",{parentName:"a"},".setAdminProtection()"))," function)."),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-5"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setadminprotection"}),(0,n.kt)("inlineCode",{parentName:"a"},".setAdminProtection()"))),(0,n.kt)("h2",r({},{id:"locked"}),".locked()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".locked()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si verrouill\xe9")))),(0,n.kt)("h4",r({},{id:"description-13"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".locked()")," function returns True if the local datastore is currently locked."),(0,n.kt)("p",null,"You can lock the datastore using the ",(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()")," function before executing a snapshot of the data file, for example."),(0,n.kt)("admonition",r({},{type:"caution"}),(0,n.kt)("p",{parentName:"admonition"},"The function will also return ",(0,n.kt)("inlineCode",{parentName:"p"},"True")," if the datastore was locked by another administration feature such as backup or vss (see ",(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),").")),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-6"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#unlock"}),".unlock()")),(0,n.kt)("h2",r({},{id:"makeselectionsalterable"}),".makeSelectionsAlterable()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".makeSelectionsAlterable()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("h4",r({},{id:"description-14"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".makeSelectionsAlterable()")," function sets all entity selections as alterable by default in the current application datastores (including ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/datastores"}),"remote datastores"),"). It is intended to be used once, for example in the ",(0,n.kt)("inlineCode",{parentName:"p"},"On Startup")," database method."),(0,n.kt)("p",null,'When this function is not called, new entity selections can be shareable, depending on the nature of their "parent", or ',(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/entities#shareable-or-non-shareable-entity-selections"}),"how they are created"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"This function does not modify entity selections created by ",(0,n.kt)("a",r({parentName:"p"},{href:"#copy"}),(0,n.kt)("inlineCode",{parentName:"a"},".copy()"))," or ",(0,n.kt)("inlineCode",{parentName:"p"},"OB Copy")," when the explicit ",(0,n.kt)("inlineCode",{parentName:"p"},"ck shared")," option is used.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Compatibility"),": This function must only be used in projects converted from 4D versions prior to 4D v18 R5 and containing ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/EntitySelectionClass#add"}),".add()")," calls. In this context, using ",(0,n.kt)("inlineCode",{parentName:"p"},".makeSelectionsAlterable()")," can save time by restoring instantaneously the previous 4D behavior in existing projects.\nOn the other hand, using this method in new projects created in 4D v18 R5 and higher ",(0,n.kt)("strong",{parentName:"p"},"is not recommended"),", since it prevents entity selections to be shared, which provides greater performance and scalabitlity.")),(0,n.kt)("h2",r({},{id:"providedatakey"}),".provideDataKey()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"p"},"curPassPhrase")," : Text ) : Object ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"p"},"curDataKey")," : Object ) : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"curPassPhrase"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Phrase secr\xe8te courante")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"curDataKey"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cl\xe9 de chiffrement des donn\xe9es courante")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat de la mise en correspondance de la cl\xe9 de chiffrement")))),(0,n.kt)("h4",r({},{id:"description-15"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".provideDataKey()")," function allows providing a data encryption key for the current data file of the datastore and detects if the key matches the encrypted data. Cette fonction peut \xeatre utilis\xe9e \xe0 l'ouverture d'une base chiffr\xe9e, ou \xe0 l'ex\xe9cution de n'importe quelle op\xe9ration de chiffrement qui n\xe9cessite la cl\xe9 de chiffrement, telle que le re-chiffrement du fichier de donn\xe9es."),(0,n.kt)("blockquote",null,(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," function must be called in an encrypted database. If it is called in a non-encrypted database, the error 2003 (the encryption key does not match the data.) is returned. Use the ",(0,n.kt)("inlineCode",{parentName:"li"},"Data file encryption status")," command to determine if the database is encrypted."),(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," function cannot be called from a remote 4D or an encrypted remote datastore."))),(0,n.kt)("p",null,"If you use the ",(0,n.kt)("em",{parentName:"p"},"curPassPhrase")," parameter, pass the string used to generate the data encryption key. Lorsque vous utilisez ce param\xe8tre, une cl\xe9 de chiffrement est g\xe9n\xe9r\xe9e."),(0,n.kt)("p",null,"If you use the ",(0,n.kt)("em",{parentName:"p"},"curDataKey")," parameter, pass an object (with ",(0,n.kt)("em",{parentName:"p"},"encodedKey")," property) that contains the data encryption key. This key may have been generated with the ",(0,n.kt)("inlineCode",{parentName:"p"},"New data key")," command."),(0,n.kt)("p",null,"If a valid data encryption key is provided, it is added to the ",(0,n.kt)("em",{parentName:"p"},"keyChain")," in memory and the encryption mode is enabled:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"toutes les modifications de donn\xe9es apport\xe9es dans les tables chiffrables sont chiffr\xe9es sur le disque (fichiers .4DD, .journal,  . 4Dindx)."),(0,n.kt)("li",{parentName:"ul"},"toutes les donn\xe9es charg\xe9es \xe0 partir de tables chiffrables sont d\xe9chiffr\xe9es dans la m\xe9moire")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Result")),(0,n.kt)("p",null,"Le r\xe9sultat de la commande est d\xe9crit dans l'objet retourn\xe9 :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"success"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si la cl\xe9 de chiffrement fournie correspond aux donn\xe9es chiffr\xe9es, sinon Faux")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Properties below are returned only if success is ",(0,n.kt)("em",{parentName:"td"},"FALSE"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Code d'erreur (4 si la cl\xe9 de chiffrement fournie est erron\xe9e)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"statusText"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Message d'erreur")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"errors"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Pile d'erreurs. La premi\xe8re erreur poss\xe8de l'indice le plus \xe9lev\xe9.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].componentSignature"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom du composant interne")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].errCode"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Num\xe9ro de l'erreur")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].message"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Message d'erreur")))),(0,n.kt)("p",null,"If no ",(0,n.kt)("em",{parentName:"p"},"curPassphrase")," or ",(0,n.kt)("em",{parentName:"p"},"curDataKey")," is given, ",(0,n.kt)("inlineCode",{parentName:"p"},".provideDataKey()")," returns ",(0,n.kt)("strong",{parentName:"p"},"null")," (no error is generated)."),(0,n.kt)("h4",r({},{id:"exemple-11"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $keyStatus : Object\n var $passphrase : Text\n\n $passphrase:=Request("Enter the passphrase")\n If(OK=1)\n    $keyStatus:=ds.provideDataKey($passphrase)\n    If($keyStatus.success)\n       ALERT("You have provided a valid encryption key")\n    Else\n       ALERT("You have provided an invalid encryption key, you will not be able to work with encrypted data")\n    End if\n End if\n')),(0,n.kt)("h2",r({},{id:"setadminprotection"}),".setAdminProtection()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setAdminProtection"),"( ",(0,n.kt)("em",{parentName:"p"},"status")," : Boolean )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True to disable Data Explorer access to data on the ",(0,n.kt)("inlineCode",{parentName:"td"},"webAdmin")," port, False (default) to grant access")))),(0,n.kt)("h4",r({},{id:"description-16"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".setAdminProtection()")," function allows disabling any data access on the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/Admin/webAdmin#http-port"}),"web admin port"),", including for the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/Admin/dataExplorer"}),"Data Explorer")," in ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin")," sessions."),(0,n.kt)("p",null,"By default when the function is not called, access to data is always granted on the web administration port for a session with ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin")," privilege using the Data Explorer. In some configurations, for example when the application server is hosted on a third-party machine, you might not want the administrator to be able to view your data, although they can edit the server configuration, including the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/Admin/webAdmin#access-key"}),"access key")," settings."),(0,n.kt)("p",null,"In this case, you can call this function to disable the data access from Data Explorer on the web admin port of the machine, even if the user session has the ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin")," privilege. Lorsque cette fonction est ex\xe9cut\xe9e, le fichier de donn\xe9es est imm\xe9diatement prot\xe9g\xe9 et le statut est sauvegard\xe9 sur disque : le fichier de donn\xe9es sera prot\xe9g\xe9 m\xeame si l'application est red\xe9marr\xe9e."),(0,n.kt)("h4",r({},{id:"exemple-12"}),"Exemple"),(0,n.kt)("p",null,"You create a ",(0,n.kt)("em",{parentName:"p"},"protectDataFile")," project method to call before deployments for example:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," ds.setAdminProtection(True) //D\xe9sactive l'acc\xe8s aux donn\xe9es de l'Explorateur de donn\xe9es\n")),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-7"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#isadminprotected"}),(0,n.kt)("inlineCode",{parentName:"a"},".isAdminProtected()"))),(0,n.kt)("h2",r({},{id:"setglobalstamp"}),".setGlobalStamp()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setGlobalStamp"),"( ",(0,n.kt)("em",{parentName:"p"},"newStamp")," : Real)"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"newStamp"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nouvelle valeur du marqueur de modification global")))),(0,n.kt)("admonition",r({},{title:"Mode avanc\xe9",type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Cette fonction est destin\xe9e aux d\xe9veloppeurs qui ont besoin de modifier la valeur courante du marqueur global. Elle doit \xeatre utilis\xe9e avec pr\xe9caution.")),(0,n.kt)("h4",r({},{id:"description-17"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".setGlobalStamp()")," function sets ",(0,n.kt)("em",{parentName:"p"},"newStamp")," as new value for the current global modification stamp for the datastore."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Cette fonction ne peut \xeatre appel\xe9e que :"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"on the local datastore (",(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"dans un environnement client/serveur, sur la machine serveur."))),(0,n.kt)("p",null,"For more information on global stamp and data change tracking, please refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/global-stamp"}),(0,n.kt)("strong",{parentName:"a"},"Using the Global Stamp"))," page."),(0,n.kt)("h4",r({},{id:"exemple-13"}),"Exemple"),(0,n.kt)("p",null,"Le code suivant d\xe9finit le marqueur de modification global:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"var $newValue: Real\n$newValue:=ReadValueFrom //on obtient une valeur \xe0 assigner\nds.setGlobalStamp($newValue)\n")),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-8"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getglobalstamp"}),".getGlobalStamp()")),(0,n.kt)("h2",r({},{id:"setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer}})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," : Text; ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }} )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"p"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }} )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"contextName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom du contexte")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataClassName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom de la dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataClassObject"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.DataClass"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet dataclass (e.g datastore.Employee)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributes"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Liste d'attributs s\xe9par\xe9s par des virgules")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributesColl"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection de noms d'attributs (text)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"contextType"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Si pass\xe9, "main" ou "currentItem"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"pageLength"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Taille de page de l'entity selection associ\xe9e au contexte (80 par d\xe9faut)")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. Dans la plupart des cas, vous n'aurez pas besoin de l'utiliser.")),(0,n.kt)("h4",r({},{id:"description-18"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".setRemoteContextInfo()")," function links the specified dataclass attributes to the ",(0,n.kt)("em",{parentName:"p"},"contextName")," optimization context. Si un contexte d'optimisation existe d\xe9j\xe0 pour les attributs sp\xe9cifi\xe9s, la commande le remplace."),(0,n.kt)("p",null,"Lorsque vous passez un contexte aux fonctions de classe ORDA, l'optimisation des requ\xeates REST est d\xe9clench\xe9e imm\xe9diatement :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"la premi\xe8re entit\xe9 n'est pas charg\xe9e int\xe9gralement, \xe0 la diff\xe9rence du mode automatique"),(0,n.kt)("li",{parentName:"ul"},"pages of 80 entities (or ",(0,n.kt)("inlineCode",{parentName:"li"},"pageLength")," entities) are immediately asked to the server with only the attributes in the context")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For more information on how optimization contexts are built, refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/client-server-optimization#optimization-context"}),"client/server optimization paragraph"))),(0,n.kt)("p",null,"In ",(0,n.kt)("em",{parentName:"p"},"contextName"),", pass the name of the optimization context to link to the dataclass attributes."),(0,n.kt)("p",null,"To designate the dataclass that will receive the context, you can pass a ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," or a ",(0,n.kt)("em",{parentName:"p"},"dataClassObject"),"."),(0,n.kt)("p",null,"To designate the attributes to link to the context, pass either a list of attributes separated by a comma in ",(0,n.kt)("em",{parentName:"p"},"attributes")," (Text), or a collection of attribute names in ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," (collection of text)."),(0,n.kt)("p",null,"If ",(0,n.kt)("em",{parentName:"p"},"attributes")," is an empty Text, or ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," is an empty collection, all the scalar attributes of the dataclass are put in the optimization context. Si vous passez un attribut qui n'existe pas dans la dataclass, la fonction l'ignore et une erreur est g\xe9n\xe9r\xe9e."),(0,n.kt)("p",null,"You can pass a ",(0,n.kt)("em",{parentName:"p"},"contextType")," to  specify if the context is a standard context or the context of the current entity selection item displayed in a list box:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'If set to "main" (default), the ',(0,n.kt)("em",{parentName:"li"},"contextName")," designates a standard context."),(0,n.kt)("li",{parentName:"ul"},'Si sa valeur est "currentItem", les attributs pass\xe9s sont int\xe9gr\xe9s dans le contexte de l\'\xe9l\xe9ment courant.  See  ',(0,n.kt)("a",r({parentName:"li"},{href:"/docs/fr/ORDA/datastores#entity-selection-based-list-box"}),"Entity selection-based list box"),".")),(0,n.kt)("p",null,"In ",(0,n.kt)("em",{parentName:"p"},"pageLength"),", specify the number of dataclass entities to request from the server."),(0,n.kt)("p",null,"You can pass a ",(0,n.kt)("em",{parentName:"p"},"pageLength")," for a relation attribute which is an entity selection (one to many). The syntax is ",(0,n.kt)("inlineCode",{parentName:"p"},"relationAttributeName:pageLength")," (e.g employees:20)."),(0,n.kt)("h4",r({},{id:"exemple-1-3"}),"Exemple 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $p : cs.PersonsEntity\nvar $contextA : Object\nvar $info : Object\nvar $text : Text\n\n// Ouvrir datastore distant\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n// d\xe9finir le contexte\n$contextA:=New object("context"; "contextA")\n$ds.setRemoteContextInfo("contextA"; $ds.Persons; "firstname, lastname")\n\n// envoi de requ\xeates au serveur dans une boucle\n$persons:=$ds.Persons.all($contextA)\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname + " " + $p.lastname\nEnd for each\n\n// v\xe9rifier le contenu du contexte\n$info:=$ds.getRemoteContextInfo("contextA")\n// $info = {name:"contextA";dataclass:"Persons";main:"firstname, lastname"}\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Cet exemple est \xe0 but de d\xe9monstration, il n'est pas destin\xe9 \xe0 une impl\xe9mentation r\xe9elle.")),(0,n.kt)("h4",r({},{id:"exemple-2-3"}),"Exemple 2"),(0,n.kt)("p",null,"The following piece of code requests pages of 30 entities of the ",(0,n.kt)("inlineCode",{parentName:"p"},"Address")," dataclass from the server. The returned entities only contain the ",(0,n.kt)("inlineCode",{parentName:"p"},"zipCode")," attribute."),(0,n.kt)("p",null,"For each ",(0,n.kt)("inlineCode",{parentName:"p"},"Address")," entity, 20 Persons entities are returned, and they only contain the ",(0,n.kt)("inlineCode",{parentName:"p"},"lastname")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"firstname")," attributes:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$ds.setRemoteContextInfo("contextA"; $ds.Address; "zipCode, persons:20,\\\npersons.lastname, persons.firstname"; "main"; 30)\n')),(0,n.kt)("h4",r({},{id:"example-3---listbox"}),"Example 3 - Listbox"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'// Au chargement du formulaire\nCase of\n    : (Form event code=On Load)\n\n        Form.ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n       // d\xe9finir les attributs du contexte de page\n        Form.ds.setRemoteContextInfo("LB"; Form.ds.Persons; "age, gender,\\\n        children"; "currentItem")\n\n        Form.settings:=New object("context"; "LB")\n        Form.persons:=Form.ds.Persons.all(Form.settings)\n        // Form.persons est affich\xe9 dans une list box\nEnd case\n\n// vous r\xe9cup\xe9rez les attributs dans le contexte de l\'\xe9l\xe9ment courant:\nForm.currentItemLearntAttributes:=Form.selectedPerson.getRemoteContextAttributes()\n// Form.currentItemLearntAttributes = "age, gender, children"\n')),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-9"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",r({},{id:"startrequestlog"}),".startRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Server side support, new ",(0,n.kt)("inlineCode",{parentName:"td"},"options")," parameter")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"file")," : 4D.File )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"file")," : 4D.File ; ",(0,n.kt)("em",{parentName:"p"},"options")," : Integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"reqNum")," : Integer )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"file"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.File"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet File")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Option d'enregistrement de r\xe9ponse (serveur uniquement)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"reqNum"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre de requ\xeates \xe0 conserver en m\xe9moire (client seulement)")))),(0,n.kt)("h4",r({},{id:"description-19"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," function starts the logging of ORDA requests on the client side or on the server side. Elle est con\xe7ue \xe0 des fins de d\xe9bogage dans les configurations client/serveur."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"For a description of the ORDA request log format, please refer to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/Debugging/debugLogFiles#orda-requests"}),(0,n.kt)("strong",{parentName:"a"},"ORDA requests"))," section.")),(0,n.kt)("h4",r({},{id:"c\xf4t\xe9-client"}),"C\xf4t\xe9 client"),(0,n.kt)("p",null,"Pour cr\xe9er un journal des requ\xeates ORDA c\xf4t\xe9 client, appelez cette fonction sur une machine distante. Le journal peut \xeatre envoy\xe9 \xe0 un fichier ou en m\xe9moire, selon le type de param\xe8tre :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"If you passed a ",(0,n.kt)("em",{parentName:"li"},"file")," object created with the ",(0,n.kt)("inlineCode",{parentName:"li"},"File")," command, the log data is written in this file as a collection of objects (JSON format). Chaque objet repr\xe9sente une requ\xeate.",(0,n.kt)("br",null),"Si le fichier n'existe pas encore, il est cr\xe9\xe9. Sinon, s'il existe d\xe9j\xe0, les nouvelles donn\xe9es d'enregistrement y sont ajout\xe9es.\nIf ",(0,n.kt)("inlineCode",{parentName:"li"},".startRequestLog()")," is called with a file while a logging was previously started in memory, the memory log is stopped and emptied.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Un caract\xe8re ","]"," doit \xeatre ajout\xe9 manuellement \xe0 la fin du fichier pour effectuer une validation JSON")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"If you passed a ",(0,n.kt)("em",{parentName:"p"},"reqNum")," integer, the log in memory is emptied (if any) and a new log is initialized. It will keep ",(0,n.kt)("em",{parentName:"p"},"reqNum")," requests in memory until the number is reached, in which case the oldest entries are emptied (FIFO stack).",(0,n.kt)("br",null),"If ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," is called with a ",(0,n.kt)("em",{parentName:"p"},"reqNum")," while a logging was previously started in a file, the file logging is stopped.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Si vous n'avez pass\xe9 aucun param\xe8tre, l'enregistrement est lanc\xe9 dans la m\xe9moire. If ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," was previously called with a ",(0,n.kt)("em",{parentName:"p"},"reqNum")," (before a ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()"),"), the log data is stacked in memory until the next time the log is emptied or ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()")," is called."))),(0,n.kt)("h4",r({},{id:"c\xf4t\xe9-serveur"}),"C\xf4t\xe9 serveur"),(0,n.kt)("p",null,"Pour cr\xe9er un journal des requ\xeates ORDA c\xf4t\xe9 serveur, appelez cette fonction sur la machine serveur. The log data is written in a file in ",(0,n.kt)("inlineCode",{parentName:"p"},".jsonl")," format. Chaque objet repr\xe9sente une requ\xeate. Si le fichier n'existe pas encore, il est cr\xe9\xe9. Sinon, s'il existe d\xe9j\xe0, les nouvelles donn\xe9es d'enregistrement y sont ajout\xe9es."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"If you passed the ",(0,n.kt)("em",{parentName:"li"},"file")," parameter, the log data is written in this file, at the requested location. - If you omit the ",(0,n.kt)("em",{parentName:"li"},"file")," parameter or if it is null, the log data is written in a file named ",(0,n.kt)("em",{parentName:"li"},"ordaRequests.jsonl"),' and stored in the "/LOGS" folder.'),(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("em",{parentName:"li"},"options")," parameter can be used to specify if the server response has to be logged, and if it should include the body. Par d\xe9faut, lorsque le param\xe8tre est omis, la r\xe9ponse compl\xe8te est enregistr\xe9e. Les constantes suivantes peuvent \xeatre utilis\xe9es dans ce param\xe8tre :")),(0,n.kt)("p",null,"|Constant|Description|\n","|","----|----|---|\n|srl log all|Log the response entirely (default value)|\n|srl log no response|Disable the logging of the response|\n|srl log response without body|Log the response without the body|"),(0,n.kt)("h4",r({},{id:"exemple-1-4"}),"Exemple 1"),(0,n.kt)("p",null,"Vous souhaitez enregistrer des requ\xeates ORDA clientes dans un fichier et utiliser le num\xe9ro de s\xe9quence de l'enregistrement :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $file : 4D.File\n var $e : cs.PersonsEntity\n\n $file:=File("/LOGS/ORDARequests.txt") //logs folder\n\n SET DATABASE PARAMETER(Client Log Recording;1) //to trigger the global log sequence number\n ds.startRequestLog($file)\n $e:=ds.Persons.get(30001) //send a request\n ds.stopRequestLog()\n SET DATABASE PARAMETER(Client Log Recording;0)\n')),(0,n.kt)("h4",r({},{id:"exemple-2-4"}),"Exemple 2"),(0,n.kt)("p",null,"Vous souhaitez enregistrer des requ\xeates ORDA clientes dans la m\xe9moire :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $es : cs.PersonsSelection\n var $log : Collection\n\n ds.startRequestLog(3) //garde 3 requ\xeates dans la m\xe9moire\n\n $es:=ds.Persons.query("name=:1";"Marie")\n $es:=ds.Persons.query("name IN :1";New collection("Marie"))\n $es:=ds.Persons.query("name=:1";"So@")\n\n $log:=ds.getRequestLog()\n ALERT("The longest request lasted: "+String($log.max("duration"))+" ms")\n')),(0,n.kt)("h4",r({},{id:"exemple-3-1"}),"Exemple 3"),(0,n.kt)("p",null,"Vous souhaitez enregistrer les requ\xeates du serveur ORDA dans un fichier sp\xe9cifique et activer le num\xe9ro de s\xe9quence du log et la dur\xe9e :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'SET DATABASE PARAMETER(4D Server Log Recording;1)\n\n$file:=Folder(fk logs folder).file("myOrdaLog.jsonl")\nds.startRequestLog($file)\n...\nds.stopRequestLog()\nSET DATABASE PARAMETER(4D Server Log Recording;0)\n\n\n')),(0,n.kt)("h2",r({},{id:"starttransaction"}),".startTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".startTransaction()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("h4",r({},{id:"description-20"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".startTransaction()")," function starts a transaction in the current process on the database matching the datastore to which it applies. Toute modification apport\xe9e aux entit\xe9s du datastore dans le process de la transaction est temporairement stock\xe9e jusqu'\xe0 ce que la transaction soit valid\xe9e ou annul\xe9e."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If this method is called on the main datastore (i.e. the datastore returned by the ",(0,n.kt)("inlineCode",{parentName:"p"},"ds")," command), the transaction is applied to all operations performed on the main datastore and on the underlying database, thus including ORDA and classic languages.")),(0,n.kt)("p",null,"Vous pouvez imbriquer plusieurs transactions (sous-transactions). Chaque transaction ou sous-transaction doit \xeatre annul\xe9e ou valid\xe9e. Note that if the main transaction is cancelled, all of its sub-transactions are also cancelled even if they were validated individually using the ",(0,n.kt)("inlineCode",{parentName:"p"},".validateTransaction()")," function."),(0,n.kt)("h4",r({},{id:"exemple-14"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connect; $status : Object\n var $person : cs.PersonsEntity\n var $ds : cs.DataStore\n var $choice : Text\n var $error : Boolean\n\n Case of\n    :($choice="local")\n       $ds:=ds\n    :($choice="remote")\n       $connect:=New object("hostname";"111.222.3.4:8044")\n       $ds:=Open datastore($connect;"myRemoteDS")\n End case\n\n $ds.startTransaction()\n $person:=$ds.Persons.query("lastname=:1";"Peters").first()\n\n If($person#Null)\n    $person.lastname:="Smith"\n    $status:=$person.save()\n End if\n ...\n ...\n If($error)\n    $ds.cancelTransaction()\n Else\n    $ds.validateTransaction()\n End if\n')),(0,n.kt)("h2",r({},{id:"stoprequestlog"}),".stopRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Server side support")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".stopRequestLog()"),"  "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("h4",r({},{id:"description-21"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()")," function stops any logging of ORDA requests on the machine it is called (client or server)."),(0,n.kt)("p",null,"It actually closes the opened document on disk. On the client side, if the log was started in memory, it is stopped."),(0,n.kt)("p",null,"This function does nothing if logging of ORDA requests was not started on the machine."),(0,n.kt)("h4",r({},{id:"exemple-15"}),"Exemple"),(0,n.kt)("p",null,"See examples for ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("h2",r({},{id:"unlock"}),".unlock()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".unlock()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("h4",r({},{id:"description-22"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," function removes the current lock on write operations in the datastore, if it has been set in the same process. Write operations can be locked in the local datastore using the ",(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".flushAndLock()"))," function."),(0,n.kt)("p",null,"Si le verrou courant \xe9tait le seul verrou sur le datastore, les op\xe9rations d'\xe9criture sont imm\xe9diatement r\xe9activ\xe9es. If the ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," function was called several times in the process, the same number of ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," must be called to actually unlock the datastore."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," function must be called from the process that called the corresponding ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()"),", otherwise the function does nothing and the lock is not removed."),(0,n.kt)("p",null,"If the ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," function is called in an unlocked datastore, it does nothing."),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-10"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#locked"}),".locked()")),(0,n.kt)("h2",r({},{id:"validatetransaction"}),".validateTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".validateTransaction()"),"  "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("h4",r({},{id:"description-23"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".validateTransaction()")," function accepts the transaction that was started with ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," at the corresponding level on the specified datastore."),(0,n.kt)("p",null,"La fonction sauvegarde les modifications apport\xe9es aux donn\xe9es sur le datastore durant la transaction."),(0,n.kt)("p",null,"Vous pouvez imbriquer plusieurs transactions (sous-transactions). Si la transaction principale est annul\xe9e, toutes ses sous-transactions sont \xe9galement annul\xe9es, m\xeame si elles ont \xe9t\xe9 valid\xe9es individuellement \xe0 l'aide de cette fonction."),(0,n.kt)("h4",r({},{id:"exemple-16"}),"Exemple"),(0,n.kt)("p",null,"See example for ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()")),"."))}u.isMDXComponent=!0}}]);