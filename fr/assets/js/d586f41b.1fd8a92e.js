"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3277],{603905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>c});var a=n(667294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),d=p(n),c=l,k=d["".concat(s,".").concat(c)]||d[c]||u[c]||r;return n?a.createElement(k,i(i({ref:t},m),{},{components:n})):a.createElement(k,i({ref:t},m))}));function c(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},244539:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>m});n(667294);var a=n(603905);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function r(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}const i={id:"EntitySelectionClass",title:"EntitySelection"},o=void 0,s={unversionedId:"API/EntitySelectionClass",id:"version-20-R4/API/EntitySelectionClass",title:"EntitySelection",description:"Une entity selection est un objet contenant une ou plusieurs r\xe9f\xe9rence(s) \xe0 des entit\xe9s appartenant \xe0 la m\xeame Dataclass. Une entity selection peut contenir 0, 1 ou X entit\xe9s de la dataclass - o\xf9 X peut repr\xe9senter le nombre total d'entit\xe9s contenues dans la dataclass.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R4/API/EntitySelectionClass.md",sourceDirName:"API",slug:"/API/EntitySelectionClass",permalink:"/docs/fr/20-R4/API/EntitySelectionClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntitySelectionClass.md%20(20-R4)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R4",frontMatter:{id:"EntitySelectionClass",title:"EntitySelection"},sidebar:"docs",previous:{title:"Entity",permalink:"/docs/fr/20-R4/API/EntityClass"},next:{title:"File",permalink:"/docs/fr/20-R4/API/FileClass"}},p={},m=[{value:"Sommaire",id:"sommaire",level:3},{value:"Create entity selection",id:"create-entity-selection",level:2},{value:"Description",id:"description",level:4},{value:"Exemple",id:"exemple",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement",level:4},{value:"USE ENTITY SELECTION",id:"use-entity-selection",level:2},{value:"Description",id:"description-1",level:4},{value:"Exemple",id:"exemple-1",level:4},{value:"[<em>index</em>]",id:"index",level:2},{value:"Description",id:"description-2",level:4},{value:"Exemple",id:"exemple-2",level:4},{value:".<em>attributeName</em>",id:"attributename",level:2},{value:"Description",id:"description-3",level:4},{value:"Exemple 1",id:"exemple-1-1",level:4},{value:"Exemple 2",id:"exemple-2-1",level:4},{value:"Exemple 3",id:"exemple-3",level:4},{value:".add()",id:"add",level:2},{value:"Description",id:"description-4",level:4},{value:"Exemple 1",id:"exemple-1-2",level:4},{value:"Exemple 2",id:"exemple-2-2",level:4},{value:"Exemple 3",id:"exemple-3-1",level:4},{value:".and()",id:"and",level:2},{value:"Description",id:"description-5",level:4},{value:"Exemple 1",id:"exemple-1-3",level:4},{value:"Exemple 2",id:"exemple-2-3",level:4},{value:".at()",id:"at",level:2},{value:"Description",id:"description-6",level:4},{value:"Exemple",id:"exemple-4",level:4},{value:".average()",id:"average",level:2},{value:"Description",id:"description-7",level:4},{value:"Exemple",id:"exemple-5",level:4},{value:".contains()",id:"contains",level:2},{value:"Description",id:"description-8",level:4},{value:"Exemple",id:"exemple-6",level:4},{value:".count()",id:"count",level:2},{value:"Description",id:"description-9",level:4},{value:"Exemple",id:"exemple-7",level:4},{value:".copy()",id:"copy",level:2},{value:"Description",id:"description-10",level:4},{value:"Exemple",id:"exemple-8",level:4},{value:".distinct()",id:"distinct",level:2},{value:"Description",id:"description-11",level:4},{value:"Exemples",id:"exemples",level:4},{value:".distinctPaths()",id:"distinctpaths",level:2},{value:"Description",id:"description-12",level:4},{value:"Exemple",id:"exemple-9",level:4},{value:".drop()",id:"drop",level:2},{value:"Description",id:"description-13",level:4},{value:"Exemple",id:"exemple-10",level:4},{value:".extract()",id:"extract",level:2},{value:"Description",id:"description-14",level:4},{value:"Exemple",id:"exemple-11",level:4},{value:".first()",id:"first",level:2},{value:"Description",id:"description-15",level:4},{value:"Exemple",id:"exemple-12",level:4},{value:".getDataClass()",id:"getdataclass",level:2},{value:"Description",id:"description-16",level:4},{value:"Exemple",id:"exemple-13",level:4},{value:".getRemoteContextAttributes()",id:"getremotecontextattributes",level:2},{value:"Description",id:"description-17",level:4},{value:"Exemple",id:"exemple-14",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-1",level:4},{value:".isAlterable()",id:"isalterable",level:2},{value:"Description",id:"description-18",level:4},{value:"Exemple",id:"exemple-15",level:4},{value:".isOrdered()",id:"isordered",level:2},{value:"Description",id:"description-19",level:4},{value:"Exemple",id:"exemple-16",level:4},{value:".last()",id:"last",level:2},{value:"Description",id:"description-20",level:4},{value:"Exemple",id:"exemple-17",level:4},{value:".length",id:"length",level:2},{value:"Description",id:"description-21",level:4},{value:"Exemple",id:"exemple-18",level:4},{value:".max()",id:"max",level:2},{value:"Description",id:"description-22",level:4},{value:"Exemple",id:"exemple-19",level:4},{value:".min()",id:"min",level:2},{value:"Description",id:"description-23",level:4},{value:"Exemple",id:"exemple-20",level:4},{value:".minus()",id:"minus",level:2},{value:"Description",id:"description-24",level:4},{value:"Exemple 1",id:"exemple-1-4",level:4},{value:"Exemple 2",id:"exemple-2-4",level:4},{value:"Exemple 3",id:"exemple-3-2",level:4},{value:".or()",id:"or",level:2},{value:"Description",id:"description-25",level:4},{value:"Exemple 1",id:"exemple-1-5",level:4},{value:"Exemple 2",id:"exemple-2-5",level:4},{value:".orderBy()",id:"orderby",level:2},{value:"Description",id:"description-26",level:4},{value:"Exemple",id:"exemple-21",level:4},{value:".orderByFormula()",id:"orderbyformula",level:2},{value:"Description",id:"description-27",level:4},{value:"Exemple 1",id:"exemple-1-6",level:4},{value:"Exemple 2",id:"exemple-2-6",level:4},{value:".query()",id:"query",level:2},{value:"Description",id:"description-28",level:4},{value:"Exemple 1",id:"exemple-1-7",level:4},{value:"Exemple 2",id:"exemple-2-7",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-2",level:4},{value:".queryPath",id:"querypath",level:2},{value:"Description",id:"description-29",level:4},{value:".queryPlan",id:"queryplan",level:2},{value:"Description",id:"description-30",level:4},{value:".refresh()",id:"refresh",level:2},{value:"Description",id:"description-31",level:4},{value:"Exemple 1",id:"exemple-1-8",level:4},{value:"Exemple 2",id:"exemple-2-8",level:4},{value:".selected()",id:"selected",level:2},{value:"Description",id:"description-32",level:4},{value:"R\xe9sultat",id:"r\xe9sultat",level:4},{value:"Exemple",id:"exemple-22",level:4},{value:".slice()",id:"slice",level:2},{value:"Description",id:"description-33",level:4},{value:"Exemple 1",id:"exemple-1-9",level:4},{value:"Exemple 2",id:"exemple-2-9",level:4},{value:".sum()",id:"sum",level:2},{value:"Description",id:"description-34",level:4},{value:"Exemple",id:"exemple-23",level:4},{value:".toCollection()",id:"tocollection",level:2},{value:"Description",id:"description-35",level:4},{value:"Exemple 1",id:"exemple-1-10",level:4},{value:"Exemple 2",id:"exemple-2-10",level:4},{value:"Exemple 3",id:"exemple-3-3",level:4},{value:"Exemple 4",id:"exemple-4-1",level:4},{value:"Exemple 5",id:"exemple-5-1",level:4},{value:"Exemple 6",id:"exemple-6-1",level:4},{value:"Exemple 7",id:"exemple-7-1",level:4},{value:"Exemple 8",id:"exemple-8-1",level:4},{value:"Exemple 9",id:"exemple-9-1",level:4}],u={toc:m};function d(e){var{components:t}=e,i=r(e,["components"]);return(0,a.kt)("wrapper",l({},u,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Une entity selection est un objet contenant une ou plusieurs r\xe9f\xe9rence(s) \xe0 des ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/dsmapping#entity"}),"entit\xe9s")," appartenant \xe0 la m\xeame ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/dsmapping#dataclass"}),"Dataclass"),". Une entity selection peut contenir 0, 1 ou X entit\xe9s de la dataclass - o\xf9 X peut repr\xe9senter le nombre total d'entit\xe9s contenues dans la dataclass."),(0,a.kt)("p",null,"Les entity selections peuvent \xeatre cr\xe9\xe9es \xe0 partir de s\xe9lections existantes \xe0 l'aide de diverses fonctions de la classe ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass"}),(0,a.kt)("inlineCode",{parentName:"a"},"DataClass"))," telles que ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#all"}),(0,a.kt)("inlineCode",{parentName:"a"},".all()"))," ou ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()")),", ou de la classe ",(0,a.kt)("inlineCode",{parentName:"p"},"EntityClass")," elle-m\xeame, telles que ",(0,a.kt)("a",l({parentName:"p"},{href:"#and"}),(0,a.kt)("inlineCode",{parentName:"a"},".and()"))," ou ",(0,a.kt)("a",l({parentName:"p"},{href:"#orderby"}),(0,a.kt)("inlineCode",{parentName:"a"},"orderBy()")),". Vous pouvez \xe9galement cr\xe9er des entity selections vides \xe0 l'aide de la fonction ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#newselection"}),(0,a.kt)("inlineCode",{parentName:"a"},"dataClass.newSelection()"))," ou de la commande ",(0,a.kt)("a",l({parentName:"p"},{href:"#create-new-selection"}),(0,a.kt)("inlineCode",{parentName:"a"},"Create new selection")),"."),(0,a.kt)("h3",l({},{id:"sommaire"}),"Sommaire"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null})))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#91index93"}),(0,a.kt)("strong",{parentName:"a"},(0,a.kt)("em",{parentName:"strong"},"[","index","]"))," : 4D.Entity"),"\xa0","\xa0","\xa0","\xa0","vous permet d'acc\xe9der aux entit\xe9s de l'entity selection en utilisant la syntaxe standard de collection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#attributename"}),(0,a.kt)("strong",{parentName:"a"},(0,a.kt)("em",{parentName:"strong"},".attributeName"))," : Collection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},(0,a.kt)("em",{parentName:"strong"},".attributeName"))," : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","une \"projection\" des valeurs de l'attribut dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#add"}),(0,a.kt)("strong",{parentName:"a"},".add"),"( ",(0,a.kt)("em",{parentName:"a"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".add"),"( ",(0,a.kt)("em",{parentName:"a"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","ajoute l'",(0,a.kt)("em",{parentName:"td"},"entity")," ou l'",(0,a.kt)("em",{parentName:"td"},"entitySelection"),"sp\xe9cifi\xe9e \xe0 l'entity selection d'origine et retourne l'entity selection modifi\xe9e")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#and"}),(0,a.kt)("strong",{parentName:"a"},".and"),"( ",(0,a.kt)("em",{parentName:"a"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".and"),"( ",(0,a.kt)("em",{parentName:"a"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","combine l'entity selection avec le param\xe8tre ",(0,a.kt)("em",{parentName:"td"},"entity")," ou ",(0,a.kt)("em",{parentName:"td"},"entitySelection")," \xe0 l'aide de l'op\xe9rateur logique ET")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#at"}),(0,a.kt)("strong",{parentName:"a"},".at"),"( ",(0,a.kt)("em",{parentName:"a"},"index")," : Integer ) : 4D.Entity "),"\xa0","\xa0","\xa0","\xa0","renvoie l'entit\xe9 \xe0 la position ",(0,a.kt)("em",{parentName:"td"},"index"),", acceptant des nombres entiers positifs et n\xe9gatifs")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#average"}),(0,a.kt)("strong",{parentName:"a"},".average"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text ) : Real"),"\xa0","\xa0","\xa0","\xa0","retourne la moyenne arithm\xe9tique de toutes les valeurs non nulles de ",(0,a.kt)("em",{parentName:"td"},"attributePath")," dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#contains"}),(0,a.kt)("strong",{parentName:"a"},".contains"),"( ",(0,a.kt)("em",{parentName:"a"},"entity")," : 4D.Entity ) : Boolean"),"\xa0","\xa0","\xa0","\xa0","retourne vrai si la r\xe9f\xe9rence d'entit\xe9 appartient \xe0 l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#contains"}),(0,a.kt)("strong",{parentName:"a"},".copy"),"( { ",(0,a.kt)("em",{parentName:"a"},"option")," : Integer } ) : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","retourne une copie de l'entity selection d'origine")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#count"}),(0,a.kt)("strong",{parentName:"a"},".count"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text ) : Real"),"\xa0","\xa0","\xa0","\xa0","retourne le nombre d'entit\xe9s dans l'entity selection pour lesquelles la valeur de ",(0,a.kt)("em",{parentName:"td"},"attributePath")," n'est pas null")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#distinct"}),(0,a.kt)("strong",{parentName:"a"},".distinct"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text { ; ",(0,a.kt)("em",{parentName:"a"},"options")," : Integer } ) : Collection"),"\xa0","\xa0","\xa0","\xa0","renvoie une collection contenant uniquement les valeurs distinctes (diff\xe9rentes) de ",(0,a.kt)("em",{parentName:"td"},"attributePath")," dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#distinctPaths"}),(0,a.kt)("strong",{parentName:"a"},".distinctPaths"),"( ",(0,a.kt)("em",{parentName:"a"},"attribute")," : Text ) : Collection"),"\xa0","\xa0","\xa0","\xa0","renvoie une collection des chemins distincts trouv\xe9s dans l'objet index\xe9 ",(0,a.kt)("em",{parentName:"td"},"attribute")," pour l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#drop"}),(0,a.kt)("strong",{parentName:"a"},".drop"),"( { ",(0,a.kt)("em",{parentName:"a"},"mode")," : Integer } ) : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","supprime les entit\xe9s appartenant \xe0 l'entity selection de la table li\xe9e \xe0 sa dataclass")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#extract"}),(0,a.kt)("strong",{parentName:"a"},".extract"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text { ; ",(0,a.kt)("em",{parentName:"a"},"option")," : Integer } ) : Collection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".extract"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," { ; ",(0,a.kt)("em",{parentName:"a"},"targetPath")," } { ; ",(0,a.kt)("em",{parentName:"a"},"...attributePathN")," : Text ; ",(0,a.kt)("em",{parentName:"a"},"targetPathN")," : Text } ) : Collection"),"\xa0","\xa0","\xa0","\xa0","retourne une collection contenant les valeurs ",(0,a.kt)("em",{parentName:"td"},"attributePath")," extraites de l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#first"}),(0,a.kt)("strong",{parentName:"a"},".first()")," : 4D.Entity"),"\xa0","\xa0","\xa0","\xa0","retourne une r\xe9f\xe9rence vers l'entit\xe9 en premi\xe8re position dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#getdataclass"}),(0,a.kt)("strong",{parentName:"a"},".getDataClass()")," : 4D.DataClass"),"\xa0","\xa0","\xa0","\xa0","retourne la dataclass de l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#getremotecontextattributes"}),(0,a.kt)("strong",{parentName:"a"},".getRemoteContextAttributes()")," : Text"),"\xa0","\xa0","\xa0","\xa0","renvoie des informations sur le contexte d'optimisation utilis\xe9 par l'entit\xe9")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#isalterable"}),(0,a.kt)("strong",{parentName:"a"},".isAlterable()")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","retourne Vrai si l'entity selection est modifiable (alt\xe9rable)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#isordered"}),(0,a.kt)("strong",{parentName:"a"},".isOrdered()")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","retourne Vrai si l'entity selection est tri\xe9e")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#last"}),(0,a.kt)("strong",{parentName:"a"},".last()")," : 4D.Entity"),"\xa0","\xa0","\xa0","\xa0","retourne une r\xe9f\xe9rence vers l'entit\xe9 en derni\xe8re position dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#length"}),(0,a.kt)("strong",{parentName:"a"},".length")," : Integer"),"\xa0","\xa0","\xa0","\xa0","retourne le nombre d'entit\xe9s dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#max"}),(0,a.kt)("strong",{parentName:"a"},".max"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text ) : any"),"\xa0","\xa0","\xa0","\xa0","retourne la plus haute valeur (ou valeur maximale) parmi toutes les valeurs de ",(0,a.kt)("em",{parentName:"td"},"attributePath")," dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#min"}),(0,a.kt)("strong",{parentName:"a"},".min"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text ) : any"),"\xa0","\xa0","\xa0","\xa0"," retourne la plus faible valeur (ou valeur minimale) parmi toutes les valeurs de attributePath dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#minus"}),(0,a.kt)("strong",{parentName:"a"},".minus"),"( ",(0,a.kt)("em",{parentName:"a"},"entity")," : 4D.Entity { ; ",(0,a.kt)("em",{parentName:"a"},"keepOrder")," : Integer } ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".minus"),"( ",(0,a.kt)("em",{parentName:"a"},"entitySelection")," : 4D.EntitySelection { ; ",(0,a.kt)("em",{parentName:"a"},"keepOrder")," : Integer } ) : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","exclut de l'entity selection \xe0 laquelle elle est appliqu\xe9e l'",(0,a.kt)("em",{parentName:"td"},"entity")," ou les entit\xe9s de l'",(0,a.kt)("em",{parentName:"td"},"entitySelection")," et retourne l'entity selection r\xe9sultante")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#or"}),(0,a.kt)("strong",{parentName:"a"},".or"),"( ",(0,a.kt)("em",{parentName:"a"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".or"),"( ",(0,a.kt)("em",{parentName:"a"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","combine l'entity selection avec le param\xe8tre ",(0,a.kt)("em",{parentName:"td"},"entity")," ou ",(0,a.kt)("em",{parentName:"td"},"entitySelection")," \xe0 l'aide de l'op\xe9rateur OU logique (non exclusif)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#orderby"}),(0,a.kt)("strong",{parentName:"a"},".orderBy"),"( ",(0,a.kt)("em",{parentName:"a"},"pathString")," : Text ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".orderBy"),"( ",(0,a.kt)("em",{parentName:"a"},"pathObjects")," : Collection ) : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","renvoie une nouvelle entity selection tri\xe9e contenant toutes les entit\xe9s de l'entity selection dans l'ordre sp\xe9cifi\xe9 par le param\xe8tre ",(0,a.kt)("em",{parentName:"td"},"pathString")," ou ",(0,a.kt)("em",{parentName:"td"},"pathObjects"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#orderbyformula"}),(0,a.kt)("strong",{parentName:"a"},".orderByFormula"),"( ",(0,a.kt)("em",{parentName:"a"},"formulaString")," : Text { ; ",(0,a.kt)("em",{parentName:"a"},"sortOrder")," : Integer } { ; ",(0,a.kt)("em",{parentName:"a"},"settings")," : Object} ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".orderByFormula"),"( ",(0,a.kt)("em",{parentName:"a"},"formulaObj")," : Object { ; ",(0,a.kt)("em",{parentName:"a"},"sortOrder")," : Integer } { ; ",(0,a.kt)("em",{parentName:"a"},"settings")," : Object} ) : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","renvoie une nouvelle entity selection tri\xe9e")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#query"}),(0,a.kt)("strong",{parentName:"a"},".query"),"( ",(0,a.kt)("em",{parentName:"a"},"queryString")," : Text { ; ",(0,a.kt)("em",{parentName:"a"},"...value")," : any } { ; ",(0,a.kt)("em",{parentName:"a"},"querySettings")," : Object } ) : 4D.EntitySelection ",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".query"),"( ",(0,a.kt)("em",{parentName:"a"},"formula")," : Object { ; ",(0,a.kt)("em",{parentName:"a"},"querySettings")," : Object } ) : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","recherche les entit\xe9s r\xe9pondant aux crit\xe8res de recherche sp\xe9cifi\xe9s dans ",(0,a.kt)("em",{parentName:"td"},"queryString")," ou ",(0,a.kt)("em",{parentName:"td"},"formula")," et (optionnellement) dans ",(0,a.kt)("em",{parentName:"td"},"value"),"(s) parmi toutes les entit\xe9s de l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#querypath"}),(0,a.kt)("strong",{parentName:"a"},".queryPath")," : Text"),"\xa0","\xa0","\xa0","\xa0","contient une description d\xe9taill\xe9e de la requ\xeate telle qu'elle a \xe9t\xe9 effectu\xe9e par 4D")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#queryplan"}),(0,a.kt)("strong",{parentName:"a"},".queryPlan")," : Text"),"\xa0","\xa0","\xa0","\xa0"," contient une description d\xe9taill\xe9e de la requ\xeate juste avant son ex\xe9cution (c'est-\xe0-dire, la requ\xeate planifi\xe9e)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#refresh"}),(0,a.kt)("strong",{parentName:"a"},".refresh()")),"\xa0","\xa0","\xa0","\xa0","\"invalide\" imm\xe9diatement les donn\xe9es de l'entity selection dans le cache local d'ORDA")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#selected"}),(0,a.kt)("strong",{parentName:"a"},".selected"),"( ",(0,a.kt)("em",{parentName:"a"},"selectedEntities")," : 4D.EntitySelection ) : Object"),"\xa0","\xa0","\xa0","\xa0","retourne un objet d\xe9crivant la ou les position(s) de ",(0,a.kt)("em",{parentName:"td"},"selectedEntities")," dans l'entity selection d'origine")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#slice"}),(0,a.kt)("strong",{parentName:"a"},".slice"),"( ",(0,a.kt)("em",{parentName:"a"},"startFrom")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"end")," : Integer } ) : 4D.EntitySelection"),"\xa0","\xa0","\xa0","\xa0","retourne une partie d'une entity selection dans une nouvelle entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#sum"}),(0,a.kt)("strong",{parentName:"a"},".sum"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text ) : Real"),"\xa0","\xa0","\xa0","\xa0","renvoie la somme de toutes les valeurs de ",(0,a.kt)("em",{parentName:"td"},"attributePath")," dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#tocollection"}),(0,a.kt)("strong",{parentName:"a"},".toCollection"),"( { ",(0,a.kt)("em",{parentName:"a"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"howMany")," : Integer } } ) : ",(0,a.kt)("em",{parentName:"a"},"Collection"),(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".toCollection"),"( ",(0,a.kt)("em",{parentName:"a"},"filterString")," : Text {; ",(0,a.kt)("em",{parentName:"a"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"howMany")," : Integer }}} ) : ",(0,a.kt)("em",{parentName:"a"},"Collection"),(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".toCollection"),"( ",(0,a.kt)("em",{parentName:"a"},"filterCol")," : Collection {; ",(0,a.kt)("em",{parentName:"a"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"howMany")," : Integer }}} ) : ",(0,a.kt)("em",{parentName:"a"},"Collection")),"\xa0","\xa0","\xa0","\xa0","cr\xe9e et retourne une collection dans laquelle chaque \xe9l\xe9ment est un objet contenant un ensemble de propri\xe9t\xe9s et de valeurs")))),(0,a.kt)("h2",l({},{id:"create-entity-selection"}),"Create entity selection"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Create entity selection")," ( ",(0,a.kt)("em",{parentName:"p"},"dsTable")," : Table { ; ",(0,a.kt)("em",{parentName:"p"},"settings")," : Object } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"dsTable"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Table"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Table de la base 4D dont la s\xe9lection courante doit \xeatre utilis\xe9e pour construire l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"settings"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Option de cr\xe9ation : contexte")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection li\xe9e \xe0 la dataclass de la table")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description"}),"Description"),(0,a.kt)("p",null,"La commande ",(0,a.kt)("inlineCode",{parentName:"p"},"Create entity selection")," construit et retourne une nouvelle entity selection ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/entities#shareable-or-alterable-entity-selections"}),"alt\xe9rable")," li\xe9e \xe0 la dataclass correspondant \xe0 la table ",(0,a.kt)("em",{parentName:"p"},"dsTable"),", bas\xe9e sur la s\xe9lection courante de cette table."),(0,a.kt)("p",null,"Si la s\xe9lection courante est tri\xe9e, une entity selection ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"tri\xe9e")," est cr\xe9\xe9e (l'ordre de la s\xe9lection courante est conserv\xe9). Si la s\xe9lection courante n'est pas tri\xe9e, une entity selection non-tri\xe9e est cr\xe9\xe9e."),(0,a.kt)("p",null,"Si la table ",(0,a.kt)("em",{parentName:"p"},"dsTable")," n'est pas expos\xe9e dans ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataStoreClass#ds"}),(0,a.kt)("inlineCode",{parentName:"a"},"ds")),", une erreur est retourn\xe9e. Cette commande ne peut pas \xeatre utilis\xe9e avec un datastore distant."),(0,a.kt)("p",null,"Dans le param\xe8tre optionnel ",(0,a.kt)("em",{parentName:"p"},"settings"),", vous pouvez passer un objet contenant la propri\xe9t\xe9 suivante :"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"context"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nom du ",(0,a.kt)("a",l({parentName:"td"},{href:"/docs/fr/20-R4/ORDA/entities#clientserver-optimization"}),"contexte d'optimisation")," appliqu\xe9 \xe0 l'entity selection.")))),(0,a.kt)("h4",l({},{id:"exemple"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"var $employees : cs.EmployeeSelection\nALL RECORDS([Employee])\n$employees:=Create entity selection([Employee]) \n// L'entity selection $employees contient maintenant un ensemble de \n// r\xe9f\xe9rences vers toutes les entit\xe9s de la dataclass Employee\n")),(0,a.kt)("h4",l({},{id:"voir-\xe9galement"}),"Voir \xe9galement"),(0,a.kt)("p",null,(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#newselection"}),(0,a.kt)("inlineCode",{parentName:"a"},"dataClass.newSelection()"))),(0,a.kt)("h2",l({},{id:"use-entity-selection"}),"USE ENTITY SELECTION"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"USE ENTITY SELECTION")," (",(0,a.kt)("em",{parentName:"p"},"entitySelection"),")"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Une entity selection")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-1"}),"Description"),(0,a.kt)("p",null,"La commande ",(0,a.kt)("inlineCode",{parentName:"p"},"USE ENTITY SELECTION")," met \xe0 jour la s\xe9lection courante de la table correspondant \xe0 la dataclass du param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"entitySelection"),", en fonction du contenu de l'entity selection."),(0,a.kt)("p",null,"Cette commande ne peut pas \xeatre utilis\xe9e avec un ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/datastores"}),"datastore distant"),"."),(0,a.kt)("admonition",l({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"Cette commande est con\xe7ue pour permettre aux s\xe9lections courantes 4D de b\xe9n\xe9ficier de la puissance des requ\xeates ORDA. Pour des raisons de performance, dans 4D monoposte et 4D Server, la commande connecte directement ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," \xe0 la s\xe9lection courante. Par cons\xe9quent, une fois que ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," a \xe9t\xe9 utilis\xe9e, elle ne doit pas \xeatre r\xe9utilis\xe9e ou modifi\xe9e.")),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"Apr\xe8s un appel \xe0 ",(0,a.kt)("inlineCode",{parentName:"p"},"USE ENTITY SELECTION"),", le premier enregistrement de la s\xe9lection courante mise \xe0 jour (s'il n'est pas vide) devient l'enregistrement courant, mais il n'est pas charg\xe9 en m\xe9moire. Si vous avez besoin d'utiliser les valeurs des champs de l'enregistrement courant, utilisez la commande ",(0,a.kt)("inlineCode",{parentName:"p"},"LOAD RECORD")," apr\xe8s la commande ",(0,a.kt)("inlineCode",{parentName:"p"},"USE ENTITY SELECTION"),".")),(0,a.kt)("h4",l({},{id:"exemple-1"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $entitySel : Object\n\n$entitySel:=ds.Employee.query("lastName = :1";"M@") //$entitySel est associ\xe9 \xe0 la dataclass Employee\nREDUCE SELECTION([Employee];0)\nUSE ENTITY SELECTION($entitySel) //La s\xe9lection courante de la table Employee est mise \xe0 jour\n')),(0,a.kt)("h2",l({},{id:"index"}),"[",(0,a.kt)("em",{parentName:"h2"},"index"),"]"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"[","index","]"))," : 4D.Entity"),(0,a.kt)("h4",l({},{id:"description-2"}),"Description"),(0,a.kt)("p",null,"La notation ",(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection[index]")," vous permet d'acc\xe9der aux entit\xe9s de l'entity selection en utilisant la syntaxe standard de collection: il vous suffit de passer la position de l'entit\xe9 \xe0 laquelle vous souhaitez acc\xe9der dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"index"),"."),(0,a.kt)("p",null,"A noter que l'entit\xe9 correspondante est recharg\xe9e depuis le datastore."),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"index")," peut \xeatre tout nombre compris entre 0 et ",(0,a.kt)("inlineCode",{parentName:"p"},".length"),"-1."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Si ",(0,a.kt)("em",{parentName:"li"},"index")," est en-dehors de ces limites, une erreur est retourn\xe9e."),(0,a.kt)("li",{parentName:"ul"},"Si ",(0,a.kt)("em",{parentName:"li"},"index")," correspond \xe0 une entit\xe9 supprim\xe9e, une valeur Null est retourn\xe9e.")),(0,a.kt)("admonition",l({},{type:"caution"}),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection[index]")," est une expression non assignable, ce qui signifie qu'elle ne peut pas \xeatre utilis\xe9e comme r\xe9f\xe9rence modifiable de l'entit\xe9 avec des fonctions telles que ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/EntityClass#lock"}),(0,a.kt)("inlineCode",{parentName:"a"},".lock()"))," ou ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/EntityClass#save"}),(0,a.kt)("inlineCode",{parentName:"a"},".save()")),". Pour travailler avec l'entit\xe9 correspondante, vous devez assigner l'expression retourn\xe9e \xe0 une expression assignable, comme une variable. Exemples :"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' $sel:=ds.Employee.all() //creation de l\'entity selection\n  //code invalide:\n $result:=$sel[0].lock() //ne fonctionnera PAS\n $sel[0].lastName:="Smith" //ne fonctionnera PAS\n $result:=$sel[0].save() //ne fonctionnera PAS\n  //code valide :\n $entity:=$sel[0]  //OK\n $entity.lastName:="Smith" //OK\n $entity.save() //OK\n'))),(0,a.kt)("h4",l({},{id:"exemple-2"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1";"H@")\n $employee:=$employees[2]  // La 3e entit\xe9 de l\'entity selection $employees est recharg\xe9e depuis le datastore\n')),(0,a.kt)("h2",l({},{id:"attributename"}),".",(0,a.kt)("em",{parentName:"h2"},"attributeName")),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},".attributeName"))," : Collection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},".attributeName"))," : 4D.EntitySelection"),(0,a.kt)("h4",l({},{id:"description-3"}),"Description"),(0,a.kt)("p",null,"Tout attribut de dataclass peut \xeatre utilis\xe9 en tant que propri\xe9t\xe9 d'une entity selection afin de retourner une \"projection\" des valeurs de l'attribut dans l'entity selection. Les valeurs projet\xe9es peuvent \xeatre une collection ou une nouvelle entity selection, en fonction du ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#attributename"}),"kind")," (",(0,a.kt)("inlineCode",{parentName:"p"},"storage")," ou ",(0,a.kt)("inlineCode",{parentName:"p"},"relation"),") de l'attribut."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'Si le "kind" de ',(0,a.kt)("em",{parentName:"li"},"attributeName")," est ",(0,a.kt)("inlineCode",{parentName:"li"},"storage")," : ",(0,a.kt)("inlineCode",{parentName:"li"},".attributeName")," retourne une collection de valeurs du m\xeame type que ",(0,a.kt)("em",{parentName:"li"},"attributeName"),"."),(0,a.kt)("li",{parentName:"ul"},'Si le "kind" de ',(0,a.kt)("em",{parentName:"li"},"attributeName")," est ",(0,a.kt)("inlineCode",{parentName:"li"},"relatedEntity")," : ",(0,a.kt)("inlineCode",{parentName:"li"},".attributeName")," retourne une nouvelle entity selection de valeurs li\xe9es du m\xeame type que ",(0,a.kt)("em",{parentName:"li"},"attributeName"),". Les doublons sont supprim\xe9s (une entity selection non ordonn\xe9e est retourn\xe9e)."),(0,a.kt)("li",{parentName:"ul"},'Si le "kind" de ',(0,a.kt)("em",{parentName:"li"},"attributeName")," est ",(0,a.kt)("inlineCode",{parentName:"li"},"relatedEntities")," : ",(0,a.kt)("inlineCode",{parentName:"li"},".attributeName")," retourne une nouvelle entity selection de valeurs li\xe9es du m\xeame type que ",(0,a.kt)("em",{parentName:"li"},"attributeName"),". Les doublons sont supprim\xe9s (une entity selection non ordonn\xe9e est retourn\xe9e).")),(0,a.kt)("p",null,"Lorsqu'un attribut relationnel est utilis\xe9 comme propri\xe9t\xe9 d'une entity selection, le r\xe9sultat est toujours une autre entity selection, m\xeame si une seule entit\xe9 est retourn\xe9e. Dans ce cas, si aucune entit\xe9 n'est renvoy\xe9e, le r\xe9sultat est une s\xe9lection d'entit\xe9s vide."),(0,a.kt)("p",null,"Si l'attribut n'existe pas dans l'entity selection, une erreur est retourn\xe9e."),(0,a.kt)("h4",l({},{id:"exemple-1-1"}),"Exemple 1"),(0,a.kt)("p",null,"Projection de valeurs de stockage :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $firstNames : Collection\n $entitySelection:=ds.Employee.all()\n $firstNames:=$entitySelection.firstName // firstName est un texte\n")),(0,a.kt)("p",null,"Le r\xe9sultat est une collection de cha\xeenes, par exemple :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    "Joanna",\n    "Alexandra",\n    "Rick"\n]\n')),(0,a.kt)("h4",l({},{id:"exemple-2-1"}),"Exemple 2"),(0,a.kt)("p",null,"Projection d'entit\xe9 li\xe9e :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $es; $entitySelection : cs.EmployeeSelection\n $entitySelection:=ds.Employee.all()\n $es:=$entitySelection.employer // employer est li\xe9 \xe0 la dataclass Company\n")),(0,a.kt)("p",null,"L'objet r\xe9sultant est une entity selection de la dataclass Company sans doublons (s'il y en a)."),(0,a.kt)("h4",l({},{id:"exemple-3"}),"Exemple 3"),(0,a.kt)("p",null,"Projection d'entit\xe9s li\xe9es :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $es : cs.EmployeeSelection\n $es:=ds.Employee.all().directReports // directReports est r\xe9cursif et li\xe9 \xe0 la dataclass Employee\n")),(0,a.kt)("p",null,"L'objet r\xe9sultant est une entity selection de la dataclass Employee sans doublons (s'il y en a)."),(0,a.kt)("h2",l({},{id:"add"}),".add()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"19 R7"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Prise en charge du param\xe8tre ",(0,a.kt)("em",{parentName:"td"},"entitySelection"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Supporte uniquement les entity selections alt\xe9rables")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".add"),"( ",(0,a.kt)("em",{parentName:"p"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".add"),"( ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entity"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entit\xe9 \xe0 ajouter \xe0 l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection \xe0 ajouter \xe0 l'entity selection d'origine")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection incluant l'",(0,a.kt)("em",{parentName:"td"},"entity")," ou ",(0,a.kt)("em",{parentName:"td"},"entitySelection"),"ajout\xe9e")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-4"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".add()")," ajoute l'",(0,a.kt)("em",{parentName:"p"},"entity")," ou l'",(0,a.kt)("em",{parentName:"p"},"entitySelection"),"sp\xe9cifi\xe9e \xe0 l'entity selection d'origine et retourne l'entity selection modifi\xe9e."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction modifie l'entity selection d'origine.")),(0,a.kt)("admonition",l({},{title:"warning",type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"L'entity selection doit \xeatre ",(0,a.kt)("em",{parentName:"p"},"alt\xe9rable"),", c'est-\xe0-dire qu'elle a \xe9t\xe9 cr\xe9\xe9e par exemple par ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#newselection"}),(0,a.kt)("inlineCode",{parentName:"a"},".newSelection()"))," ou ",(0,a.kt)("inlineCode",{parentName:"p"},"Create entity selection"),", sinon ",(0,a.kt)("inlineCode",{parentName:"p"},".add()")," retournera une erreur. Les entity selections partageables n'acceptent pas l'ajout d'entit\xe9s. Pour plus d'informations, reportez-vous au paragraphe ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/entities#shareable-or-alterable-entity-selections"}),"Entity selections partageables ou alt\xe9rables"),".")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Ajouter une entit\xe9")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Si l'entity selection est ordonn\xe9e, le param\xe8tre ",(0,a.kt)("em",{parentName:"li"},"entity")," est ajout\xe9 \xe0 la fin de la s\xe9lection. Si une r\xe9f\xe9rence \xe0 la m\xeame entit\xe9 appartient d\xe9j\xe0 \xe0 l'entity selection, elle est dupliqu\xe9e et une nouvelle r\xe9f\xe9rence est ajout\xe9e."),(0,a.kt)("li",{parentName:"ul"},"Si l'entity selection est non ordonn\xe9e, le param\xe8tre ",(0,a.kt)("em",{parentName:"li"},"entity")," est ajout\xe9 n'importe o\xf9 dans la s\xe9lection, sans ordre sp\xe9cifique.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Ajouter une entity selection")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Si l'entity selection est ordonn\xe9e, son ordre est conserv\xe9 et ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," est ajout\xe9e \xe0 la fin de la s\xe9lection. Si des r\xe9f\xe9rences aux m\xeames entit\xe9s de ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," appartiennent d\xe9j\xe0 \xe0 l'entity selection, elles sont dupliqu\xe9es et de nouvelles r\xe9f\xe9rences sont ajout\xe9es."),(0,a.kt)("li",{parentName:"ul"},"Si l'entity selection n'est pas ordonn\xe9e, elle devient ordonn\xe9e.",(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"Pour plus d'informations, reportez-vous au paragraphe ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"Entity selections tri\xe9es ou non tri\xe9es"),".")))),(0,a.kt)("p",null,"L'entity selection modifi\xe9e est retourn\xe9e par la fonction, afin que les appels vers la fonction puissent \xeatre cha\xeen\xe9s."),(0,a.kt)("p",null,"Une erreur est g\xe9n\xe9r\xe9e si ",(0,a.kt)("em",{parentName:"p"},"entity")," et l'entity selection ne sont pas li\xe9es \xe0 la m\xeame dataclass. Si ",(0,a.kt)("em",{parentName:"p"},"entity")," est Null, aucune erreur n'est g\xe9n\xe9r\xe9e."),(0,a.kt)("h4",l({},{id:"exemple-1-2"}),"Exemple 1"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n $employees:=ds.Employee.newSelection()\n $employee:=ds.Employee.new()\n $employee.lastName:=\"Smith\"\n $employee.save()\n $employees.add($employee) //L'entit\xe9 $employee est ajout\xe9e \xe0 l'entity selection $employees\n")),(0,a.kt)("h4",l({},{id:"exemple-2-2"}),"Exemple 2"),(0,a.kt)("p",null,"Les appels vers la fonction peuvent \xeatre cha\xeen\xe9s :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $sel : cs.ProductSelection\n var $p1;$p2;$p3 : cs.ProductEntity\n\n $p1:=ds.Product.get(10)\n $p2:=ds.Product.get(11)\n $p3:=ds.Product.get(12)\n $sel:=ds.Product.newSelection()\n $sel:=$sel.add($p1).add($p2).add($p3)\n")),(0,a.kt)("h4",l({},{id:"exemple-3-1"}),"Exemple 3"),(0,a.kt)("p",null,"Dans une interface utilisateur, nous avons deux listes. L'utilisateur s\xe9lectionne des \xe9l\xe9ments de list1 pour les ajouter dans list2."),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"$sellist2:=$sellist2.add($sellist1)\n")),(0,a.kt)("h2",l({},{id:"and"}),".and()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".and"),"( ",(0,a.kt)("em",{parentName:"p"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".and"),"( ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entity"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entit\xe9 \xe0 intersecter")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection \xe0 intersecter")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection r\xe9sultante de l'intersection \xe0 l'aide de l'op\xe9rateur logique ET")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-5"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"and()")," combine l'entity selection avec le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"entity")," ou ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," \xe0 l'aide de l'op\xe9rateur logique ET; elle retourne une nouvelle entity selection non ordonn\xe9e qui ne contient que les entit\xe9s qui sont r\xe9f\xe9renc\xe9es \xe0 la fois dans l'entity selection et le param\xe8tre."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Si vous passez ",(0,a.kt)("em",{parentName:"li"},"entity")," comme param\xe8tre, vous combinez cette entit\xe9 avec l'entity selection. Si l'entit\xe9 appartient \xe0 l'entity selection, une nouvelle entity selection contenant uniquement l'entit\xe9 est retourn\xe9e. Sinon, une entity selection vide est retourn\xe9e."),(0,a.kt)("li",{parentName:"ul"},"Si vous passez ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," comme param\xe8tre, vous combinez les deux entity selections. Une nouvelle entity selection contenant uniquement les entit\xe9s r\xe9f\xe9renc\xe9es dans les deux s\xe9lections est retourn\xe9e. S'il n'y a pas d'intersection d'entit\xe9, une entity selection vide est retourn\xe9e.",(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"Vous pouvez comparer des ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/dsmapping#entity-selections-tri%C3%A9es-vs-entity-selections-non-tri%C3%A9es"}),"entity selections ordonn\xe9es et/ou non ordonn\xe9es"),". La s\xe9lection r\xe9sultante est toujours non ordonn\xe9e.")))),(0,a.kt)("p",null,"Si l'entity selection initiale ou celle du param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," est vide, ou si ",(0,a.kt)("em",{parentName:"p"},"entity")," est Null, une entity selection vide est retourn\xe9e."),(0,a.kt)("p",null,"Si l'entity selection initiale et le param\xe8tre ne sont pas li\xe9s \xe0 la m\xeame dataclass, une erreur est retourn\xe9e."),(0,a.kt)("h4",l({},{id:"exemple-1-3"}),"Exemple 1"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees; $result : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1";"H@")   \n  //l\'entity selection $employees contient l\'entit\xe9\n  //ayant la cl\xe9 primaire 710 et d\'autres entit\xe9s\n  //par ex. "Colin Hetrick" / "Grady Harness" / "Sherlock Holmes" (cl\xe9 primaire 710)\n $employee:=ds.Employee.get(710) // Retourne "Sherlock Holmes"\n\n $result:=$employees.and($employee) //$result est une entity selection contenant\n  //uniquement l\'entit\xe9 avec la cl\xe9 primaire 710 ("Sherlock Holmes")\n')),(0,a.kt)("h4",l({},{id:"exemple-2-3"}),"Exemple 2"),(0,a.kt)("p",null,'Nous voulons obtenir une s\xe9lection d\'employ\xe9s nomm\xe9s "Jones" qui vivent \xe0 New York :'),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $sel1; $sel2; $sel3 : cs.EmployeeSelection\n $sel1:=ds.Employee.query("name =:1";"Jones")\n $sel2:=ds.Employee.query("city=:1";"New York")\n $sel3:=$sel1.and($sel2)\n')),(0,a.kt)("h2",l({},{id:"at"}),".at()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".at"),"( ",(0,a.kt)("em",{parentName:"p"},"index")," : Integer ) : 4D.Entity "),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"index"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Index de l'entit\xe9 \xe0 renvoyer")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"L'entit\xe9 \xe0 cet index")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-6"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".at()")," renvoie l'entit\xe9 \xe0 la position ",(0,a.kt)("em",{parentName:"p"},"index"),", acceptant des nombres entiers positifs et n\xe9gatifs."),(0,a.kt)("p",null,"Si ",(0,a.kt)("em",{parentName:"p"},"index")," est n\xe9gatif (de -1 \xe0 -n avec n : taille de l'entity selection), l'entit\xe9 retourn\xe9e sera bas\xe9e sur l'ordre inverse de l'entity selection."),(0,a.kt)("p",null,"La fonction renvoie la valeur Null si ",(0,a.kt)("em",{parentName:"p"},"index")," est au-del\xe0 des limites de l'entity selection."),(0,a.kt)("h4",l({},{id:"exemple-4"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employees : cs.EmployeeSelection\nvar $emp1; $emp2 : cs.EmployeeEntity\n$employees:=ds.Employee.query("lastName = :1";"H@")\n$emp1:=$employees.at(2)  //3rd entity of the $employees entity selection\n$emp2:=$employees.at(-3) //starting from the end, 3rd entity\n    //of the $employees entity selection\n')),(0,a.kt)("h2",l({},{id:"average"}),".average()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Retourne undefined si l'entity selection est vide")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".average"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text ) : Real"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut \xe0 utiliser pour le calcul")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Real"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Moyenne arithm\xe9tique des valeurs des entit\xe9s pour l'attribut (Undefined pour une entity selection vide)")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-7"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".average()")," retourne la moyenne arithm\xe9tique de toutes les valeurs non nulles de ",(0,a.kt)("em",{parentName:"p"},"attributePath")," dans l'entity selection."),(0,a.kt)("p",null,"Passez dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"attributePath")," le chemin de l'attribut \xe0 utiliser pour le calcul."),(0,a.kt)("p",null,"Seules les valeurs num\xe9riques sont utilis\xe9es pour le calcul. Notez cependant que, lorsque le ",(0,a.kt)("em",{parentName:"p"},"attributePath")," de l'entity selection contient des valeurs de types vari\xe9s, ",(0,a.kt)("inlineCode",{parentName:"p"},".average()")," tient compte de tous les \xe9l\xe9ments contenant des valeurs scalaires pour calculer la moyenne."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Les valeurs de type Date sont converties en valeurs num\xe9riques (secondes) et utilis\xe9es pour calculer la moyenne.")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},".average()")," retourne ",(0,a.kt)("strong",{parentName:"p"},"undefined")," si l'entity selection est vide ou si ",(0,a.kt)("em",{parentName:"p"},"attributePath")," ne contient pas de valeurs num\xe9riques."),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," est un attribut relatif,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," d\xe9signe un attribut qui n'existe pas dans la dataclass de l'entity selection.")),(0,a.kt)("h4",l({},{id:"exemple-5"}),"Exemple"),(0,a.kt)("p",null,"Nous voulons obtenir la liste des employ\xe9s dont le salaire est sup\xe9rieur au salaire moyen :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $averageSalary : Real\n var $moreThanAv : cs.EmployeeSelection\n $averageSalary:=ds.Employee.all().average("salary")\n $moreThanAv:=ds.Employee.query("salary > :1";$averageSalary)\n')),(0,a.kt)("h2",l({},{id:"contains"}),".contains()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".contains"),"( ",(0,a.kt)("em",{parentName:"p"},"entity")," : 4D.Entity ) : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entity"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entit\xe9 \xe0 \xe9valuer")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Vrai si l'entit\xe9 appartient \xe0 l'entity selection, sinon Faux")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-8"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".contains()")," retourne vrai si la r\xe9f\xe9rence d'entit\xe9 appartient \xe0 l'entity selection, et faux sinon."),(0,a.kt)("p",null,"Dans ",(0,a.kt)("em",{parentName:"p"},"entity"),", sp\xe9cifiez l'entit\xe9 \xe0 rechercher dans l'entity selection. Si l'entit\xe9 est Null, la fonction retournera faux."),(0,a.kt)("p",null,"Si ",(0,a.kt)("em",{parentName:"p"},"entity")," et l'entity selection n'appartiennent pas \xe0 la m\xeame dataclass, une erreur est g\xe9n\xe9r\xe9e."),(0,a.kt)("h4",l({},{id:"exemple-6"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n\n $employees:=ds.Employee.query("lastName=:1";"H@")\n $employee:=ds.Employee.get(610)\n\n If($employees.contains($employee))\n    ALERT("L\'entit\xe9 ayant la cl\xe9 primaire 610 a un nom commen\xe7ant par H")\n Else\n    ALERT("L\'entit\xe9 ayant la cl\xe9 primaire 610 n\'a pas un nom commen\xe7ant par H")\n End if\n')),(0,a.kt)("h2",l({},{id:"count"}),".count()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".count"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text ) : Real"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut \xe0 utiliser pour le calcul")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Real"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de valeurs de ",(0,a.kt)("em",{parentName:"td"},"attributePath")," non null dans l'entity selection")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-9"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".count()")," retourne le nombre d'entit\xe9s dans l'entity selection pour lesquelles la valeur de ",(0,a.kt)("em",{parentName:"p"},"attributePath")," n'est pas null."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Seules les valeurs scalaires sont prises en compte. Les valeurs de type objet ou collection sont consid\xe9r\xe9es comme des valeurs null.")),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," est un attribut relatif,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," n'est pas trouv\xe9 dans la dataclass de l'entity selection.")),(0,a.kt)("h4",l({},{id:"exemple-7"}),"Exemple"),(0,a.kt)("p",null,"Nous voulons trouver le nombre total d'employ\xe9s d'une entreprise sans compter ceux dont l'intitul\xe9 du poste n'a pas \xe9t\xe9 d\xe9fini :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $sel : cs.EmployeeSelection\n var $count : Real\n\n $sel:=ds.Employee.query("employer = :1";"Acme, Inc")\n $count:=$sel.count("jobtitle")\n')),(0,a.kt)("h2",l({},{id:"copy"}),".copy()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".copy"),"( { ",(0,a.kt)("em",{parentName:"p"},"option")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"option"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"ck shared")," : retourne une entity selection partageable")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Copie de l'entity selection")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-10"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".copy()")," retourne une copie de l'entity selection d'origine."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction ne modifie pas l'entity selection d'origine.")),(0,a.kt)("p",null,"Par d\xe9faut, si le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"option")," est omis, la fonction retourne une nouvelle entity selection non partageable (m\xeame si la fonction est appliqu\xe9e \xe0 une entity selection partageable). Passez la constante ",(0,a.kt)("inlineCode",{parentName:"p"},"ck shared")," dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"option")," si vous souhaitez cr\xe9er une entity selection partageable."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Pour plus d'informations, reportez-vous au paragraphe ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/entities#entity-selections-partageables-ou-modifiables"}),"Entity selections partageables ou alt\xe9rables"),".")),(0,a.kt)("h4",l({},{id:"exemple-8"}),"Exemple"),(0,a.kt)("p",null,"Vous cr\xe9ez une nouvelle entity selection de produits, vide lorsque le formulaire est charg\xe9 :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," Case of\n    :(Form event code=On Load)\n       Form.products:=ds.Products.newSelection()\n End case\n\n")),(0,a.kt)("p",null,"Cette entity selection est ensuite mise \xe0 jour avec les produits et vous souhaitez partager les produits entre plusieurs process. Copiez l'entity selection Form.products comme s\xe9lection partageable:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," ...\n  // L'entity selection Form.products est mise \xe0 jour\n Form.products.add(Form.selectedProduct)\n\n Use(Storage)\n    If(Storage.products=Null)\n       Storage.products:=New shared object()\n    End if\n\n    Use(Storage.products)\n       Storage.products:=Form.products.copy(ck shared)\n    End use\n End use\n")),(0,a.kt)("h2",l({},{id:"distinct"}),".distinct()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Prise en charge de ",(0,a.kt)("inlineCode",{parentName:"td"},"dk count values"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".distinct"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text { ; ",(0,a.kt)("em",{parentName:"p"},"options")," : Integer } ) : Collection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut dont vous souhaitez obtenir les valeurs distinctes")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"options"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk diacritical"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"dk count values"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection avec seulement les valeurs distinctes")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-11"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".distinct()")," renvoie une collection contenant uniquement les valeurs distinctes (diff\xe9rentes) de ",(0,a.kt)("em",{parentName:"p"},"attributePath")," dans l'entity selection."),(0,a.kt)("p",null,"La collection retourn\xe9e est automatiquement tri\xe9e. Les valeurs ",(0,a.kt)("strong",{parentName:"p"},"Null")," ne sont pas renvoy\xe9es."),(0,a.kt)("p",null,"Dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"attributePath")," passez l'attribut d'entit\xe9 dont vous voulez obtenir les valeurs distinctes. Seules les valeurs scalaires (texte, nombre, bool\xe9en ou date) peuvent \xeatre g\xe9r\xe9es. Si ",(0,a.kt)("em",{parentName:"p"},"attributePath")," m\xe8ne \xe0 une propri\xe9t\xe9 d'objet qui contient des valeurs de diff\xe9rents types, celles-ci sont d'abord regroup\xe9es par type et tri\xe9es ensuite. Les types sont renvoy\xe9s dans l'ordre suivant :"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"bool\xe9ens"),(0,a.kt)("li",{parentName:"ol"},"cha\xeenes"),(0,a.kt)("li",{parentName:"ol"},"nombres"),(0,a.kt)("li",{parentName:"ol"},"dates")),(0,a.kt)("p",null,"Vous pouvez utiliser la notation ",(0,a.kt)("inlineCode",{parentName:"p"},"[]")," pour d\xe9signer une collection lorsque ",(0,a.kt)("em",{parentName:"p"},"attributePath")," est un chemin dans un objet (cf. exemples)."),(0,a.kt)("p",null,"Dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"options"),", vous pouvez passer une ou une combinaison des constantes suivantes :"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Constante"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Valeur"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Commentaire"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk diacritical")),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"8"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"L'\xe9valuation est sensible \xe0 la casse et diff\xe9rencie les caract\xe8res accentu\xe9s. Par d\xe9faut si omis, une \xe9valuation non diacritique est effectu\xe9e")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk count values")),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"32"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Renvoie le nombre d'entit\xe9s pour chaque valeur distincte. Lorsque cette option est activ\xe9e, ",(0,a.kt)("inlineCode",{parentName:"td"},".distinct()")," renvoie une collection d'objets contenant une paire de propri\xe9t\xe9s ",(0,a.kt)("inlineCode",{parentName:"td"},'{"value":*value* ; "count":*count*}')," .")))),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"L'option ",(0,a.kt)("inlineCode",{parentName:"p"},"dk count values")," n'est disponible qu'avec les attributs storage de type bool\xe9en, cha\xeene, nombre et date.")),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," est un attribut relatif,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," n'est pas trouv\xe9 dans la dataclass de l'entity selection.")),(0,a.kt)("h4",l({},{id:"exemples"}),"Exemples"),(0,a.kt)("p",null,"Vous souhaitez obtenir une collection contenant un seul \xe9l\xe9ment par nom de pays :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $countries : Collection\n$countries:=ds.Employee.all().distinct("address.country")\n//$countries[0]={"Argentina"}\n//$countries[1]={"Australia"}\n//$countries[2]={"Belgium"}\n///...\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"nicknames")," est une collection et ",(0,a.kt)("inlineCode",{parentName:"p"},"extra")," est un attribut d'objet :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$values:=ds.Employee.all().distinct("extra.nicknames[].first")\n')),(0,a.kt)("p",null,"Vous souhaitez conna\xeetre le nombre de noms de postes diff\xe9rents dans l'entreprise :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $jobs : Collection\n$jobs:=ds.Employee.all().distinct("jobName";dk count values)  \n//$jobs[0]={"value":"Developer";"count":17}\n//$jobs[1]={"value":"Office manager";"count":5}\n//$jobs[2]={"value":"Accountant";"count":2}\n//...\n')),(0,a.kt)("h2",l({},{id:"distinctpaths"}),".distinctPaths()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".distinctPaths"),"( ",(0,a.kt)("em",{parentName:"p"},"attribute")," : Text ) : Collection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attribut"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nom de l'attribut objet dont vous souhaitez obtenir les chemins d'acc\xe8s")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle collection avec les chemins distincts")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-12"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".distinctPaths()")," renvoie une collection des chemins distincts trouv\xe9s dans l'objet index\xe9 ",(0,a.kt)("em",{parentName:"p"},"attribute")," pour l'entity selection."),(0,a.kt)("p",null,"Si ",(0,a.kt)("em",{parentName:"p"},"attribute")," n'est pas un attribut d'objet index\xe9, une erreur est g\xe9n\xe9r\xe9e."),(0,a.kt)("p",null,"Apr\xe8s l'appel, la taille de la collection renvoy\xe9e est \xe9gale au nombre de chemins distincts trouv\xe9s dans ",(0,a.kt)("em",{parentName:"p"},"attribute"),' pour l\'entity selection. Les chemins sont renvoy\xe9s sous forme de cha\xeenes, y compris les attributs imbriqu\xe9s et les collections, par exemple "info.address.number" ou "children[].birthdate". Les entit\xe9s ayant une valeur d\'',(0,a.kt)("em",{parentName:"p"},"attribut")," nulle ne sont pas prises en compte."),(0,a.kt)("h4",l({},{id:"exemple-9"}),"Exemple"),(0,a.kt)("p",null,"Vous souhaitez obtenir tous les chemins d'acc\xe8s stock\xe9s dans l'attribut objet ",(0,a.kt)("em",{parentName:"p"},"fullData")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $paths : Collection\n$paths:=ds.Employee.all().distinctPaths("fullData")\n//$paths[0]="age"\n//$paths[1]="Children"\n//$paths[2]="Children[].age"\n//$paths[3]="Children[].name"\n//$paths[4]="Children.length"\n///...\n')),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("em",{parentName:"p"},"length")," est automatiquement ajout\xe9 comme chemin d'acc\xe8s pour les collections imbriqu\xe9es.")),(0,a.kt)("h2",l({},{id:"drop"}),".drop()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".drop"),"( { ",(0,a.kt)("em",{parentName:"p"},"mode")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"mode"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk stop dropping on first error")," : stoppe l'ex\xe9cution de la fonction au niveau de la premi\xe8re entit\xe9 non-supprimable")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection vide si succ\xe8s, sinon entity selection contenant la ou les entit\xe9(s) non supprimable(s)")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-13"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".drop()")," supprime les entit\xe9s appartenant \xe0 l'entity selection de la table li\xe9e \xe0 sa dataclass. L'entity selection reste en m\xe9moire."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"La suppression d'entit\xe9s est permanente et ne peut pas \xeatre annul\xe9e. Il est recommand\xe9 d'appeler cette action dans une transaction afin d'avoir une possibilit\xe9 de r\xe9cup\xe9ration.")),(0,a.kt)("p",null,"Si une entit\xe9 verrouill\xe9e est rencontr\xe9e lors de l'ex\xe9cution de ",(0,a.kt)("inlineCode",{parentName:"p"},".drop()"),", elle n'est pas supprim\xe9e. Par d\xe9faut, la fonction traite toutes les entit\xe9s de l'entity selection et renvoie des entit\xe9s non supprimables dans l'entity selection. Si vous souhaitez que la fonction arr\xeate l'ex\xe9cution au niveau de la premi\xe8re entit\xe9 non supprimable rencontr\xe9e, passez la constante ",(0,a.kt)("inlineCode",{parentName:"p"},"dk stop dropping on first error")," dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"mode"),"."),(0,a.kt)("h4",l({},{id:"exemple-10"}),"Exemple"),(0,a.kt)("p",null,"Exemple sans l'option ",(0,a.kt)("inlineCode",{parentName:"p"},"dk stop dropping on first error")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees; $notDropped : cs.EmployeeSelection\n $employees:=ds.Employee.query("firstName=:1";"S@")\n $notDropped:=$employees.drop() // $notDropped est une entity selection contenant toutes les entit\xe9s non supprim\xe9es\n If($notDropped.length=0) ///La suppression est un succ\xe8s, toutes les entit\xe9s ont \xe9t\xe9 supprim\xe9es\n    ALERT("Vous avez supprim\xe9 "+String($employees.length)+" employ\xe9s") //L\'entity selection supprim\xe9e reste en m\xe9moire\n Else\n    ALERT("Probl\xe8me durant la suppression, r\xe9essayez plus tard")\n End if\n')),(0,a.kt)("p",null,"Exemple avec l'option ",(0,a.kt)("inlineCode",{parentName:"p"},"dk stop dropping on first error")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees; $notDropped : cs.EmployeeSelection\n $employees:=ds.Employee.query("firstName=:1";"S@")\n $notDropped:=$employees.drop(dk stop dropping on first error) //$notDropped est une entity selection contenant la premi\xe8re entit\xe9 non supprim\xe9e\n If($notDropped.length=0) //La suppression est un succ\xe8s, toutes les entit\xe9s ont \xe9t\xe9 supprim\xe9es\n    ALERT("Vous avez supprim\xe9 "+String($employees.length)+" employ\xe9s") //L\'entity selection supprim\xe9e reste en m\xe9moire\n Else\n    ALERT("Probl\xe8me durant la suppression, r\xe9essayez plus tard")\n End if\n')),(0,a.kt)("h2",l({},{id:"extract"}),".extract()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R3"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".extract"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text { ; ",(0,a.kt)("em",{parentName:"p"},"option")," : Integer } ) : Collection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".extract"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," { ; ",(0,a.kt)("em",{parentName:"p"},"targetPath")," } { ; ",(0,a.kt)("em",{parentName:"p"},"...attributePathN")," : Text ; ",(0,a.kt)("em",{parentName:"p"},"targetPathN")," : Text } ) : Collection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin d'attribut dont les valeurs doivent \xeatre extraites dans la nouvelle collection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"targetPath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin ou nom d'attribut cible")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"option"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"ck keep null")," : inclure les attributs null dans la collection retourn\xe9e (ignor\xe9s par d\xe9faut).")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection contenant les valeurs extraites")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-14"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".extract()")," retourne une collection contenant les valeurs ",(0,a.kt)("em",{parentName:"p"},"attributePath")," extraites de l'entity selection."),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"attributePath")," peut d\xe9signer :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"un attribut scalaire de dataclass,"),(0,a.kt)("li",{parentName:"ul"},"une entit\xe9 li\xe9e,"),(0,a.kt)("li",{parentName:"ul"},"des entit\xe9s li\xe9es.")),(0,a.kt)("p",null,"Si ",(0,a.kt)("em",{parentName:"p"},"attributePath")," est invalide, une collection vide est retourn\xe9e."),(0,a.kt)("p",null,"Cette fonction accepte deux syntaxes."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".extract( attributePath : Text { ; option : Integer } ) : Collection")),(0,a.kt)("p",null,"Avec cette syntaxe, ",(0,a.kt)("inlineCode",{parentName:"p"},".extract()")," remplit la collection retourn\xe9e avec des valeurs de ",(0,a.kt)("em",{parentName:"p"},"attributePath")," de l'entity selection."),(0,a.kt)("p",null,"Par d\xe9faut, les entit\xe9s pour lesquelles ",(0,a.kt)("em",{parentName:"p"},"attributePath")," est ",(0,a.kt)("em",{parentName:"p"},"null")," ou ind\xe9fini sont ignor\xe9es dans la collection r\xe9sultante. Vous pouvez passer la constante ",(0,a.kt)("inlineCode",{parentName:"p"},"ck keep null")," dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"option")," pour int\xe9grer ces valeurs comme des \xe9l\xe9ments ",(0,a.kt)("strong",{parentName:"p"},"null")," dans la collection retourn\xe9e."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Les attributs dataclass avec ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/20-R4/API/DataClassClass#attributename"}),".kind"),' = "relatedEntity" sont extraits sous forme de collection d\'entit\xe9s (les duplications sont conserv\xe9es).'),(0,a.kt)("li",{parentName:"ul"},"Les attributs dataclass avec ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/20-R4/API/DataClassClass#attributename"}),".kind"),' = "relatedEntities" sont extraits sous forme de collection d\'entity selections.')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".extract ( attributePath ; targetPath { ; ...attributePathN ; ... targetPathN}) : Collection")),(0,a.kt)("p",null,"Avec cette syntaxe, ",(0,a.kt)("inlineCode",{parentName:"p"},".extract()")," remplit la collection retourn\xe9e avec les valeurs de ",(0,a.kt)("em",{parentName:"p"},"attributePath"),". Chaque \xe9l\xe9ment de la collection retourn\xe9e est un objet avec les propri\xe9t\xe9s ",(0,a.kt)("em",{parentName:"p"},"targetPath")," compl\xe9t\xe9es par les propri\xe9t\xe9s ",(0,a.kt)("em",{parentName:"p"},"attributePath")," correspondantes. Les valeurs null sont conserv\xe9es (le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"option")," est ignor\xe9 avec cette syntaxe)."),(0,a.kt)("p",null,"Si plusieurs ",(0,a.kt)("em",{parentName:"p"},"attributePath")," sont renseign\xe9s, un ",(0,a.kt)("em",{parentName:"p"},"targetPath")," doit \xeatre fourni pour chacun. Seules les paires ","[",(0,a.kt)("em",{parentName:"p"},"attributePath"),", ",(0,a.kt)("em",{parentName:"p"},"targetPath"),"] valides sont extraites."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Les attributs dataclass avec ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/20-R4/API/DataClassClass#attributename"}),".kind"),' = "relatedEntity" sont extraits sous forme d\'entity.'),(0,a.kt)("li",{parentName:"ul"},"Les attributs dataclass avec ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/20-R4/API/DataClassClass#attributename"}),".kind"),' = "relatedEntities" sont extraits sous forme d\'entity selection.')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Les entit\xe9s d'une collection d'entit\xe9s auxquelles on acc\xe8de par ","["," ] ne sont pas recharg\xe9es depuis la base de donn\xe9es.")),(0,a.kt)("h4",l({},{id:"exemple-11"}),"Exemple"),(0,a.kt)("p",null,"Consid\xe9rons les tables et relations suivantes :"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(13073).Z,width:"622",height:"350"})),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $firstnames; $addresses; $mailing; $teachers : Collection\n  //\n  //\n  //$firstnames est une collection de Cha\xeenes\n\n\n $firstnames:=ds.Teachers.all().extract("firstname")\n  //\n  //$addresses est une collection d\'entit\xe9s li\xe9es \xe0 la dataclass Address\n  //Les valeurs null d\'Address sont extraites\n $addresses:=ds.Teachers.all().extract("address";ck keep null)\n  //\n  //\n  //$mailing est une collection d\'objets avec les propri\xe9t\xe9s "who" et "to"\n  //Le contenu de la propri\xe9t\xe9 "who" est de type Cha\xeene \n  //Le contenu de la propri\xe9t\xe9 "to" est de type entity (dataclass Address)\n $mailing:=ds.Teachers.all().extract("lastname";"who";"address";"to")\n  //\n  //\n  //$mailing est une collection d\'objets avec les propri\xe9t\xe9s "who" et "city"\n  //Le contenu de la propri\xe9t\xe9 "who" est de type Cha\xeene \n  //Le contenu de la propri\xe9t\xe9 "city" est de type Cha\xeene \n $mailing:=ds.Teachers.all().extract("lastname";"who";"address.city";"city")\n  //\n  //$teachers est une collection d\'objets avec les propri\xe9t\xe9s "where" et "who"\n  //Le contenu de la propri\xe9t\xe9 "where" est de type Cha\xeene\n  //Le contenu de la propri\xe9t\xe9 "who" est une entity selection (dataclass Teachers)\n $teachers:=ds.Address.all().extract("city";"where";"teachers";"who")\n  //\n  //$teachers est une collection d\'entity selections\n $teachers:=ds.Address.all().extract("teachers")\n')),(0,a.kt)("h2",l({},{id:"first"}),".first()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".first()")," : 4D.Entity"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9f\xe9rence vers la premi\xe8re entit\xe9 de l'entity selection (Null si la selection est vide)")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-15"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".first()")," retourne une r\xe9f\xe9rence vers l'entit\xe9 en premi\xe8re position dans l'entity selection."),(0,a.kt)("p",null,"Le r\xe9sultat de cette fonction est similaire \xe0 :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," $entity:=$entitySel[0]\n")),(0,a.kt)("p",null,"Il existe cependant une diff\xe9rence entre les deux instructions lorsque la s\xe9lection est vide :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $entitySel : cs.EmpSelection\n var $entity : cs.EmpEntity\n $entitySel:=ds.Emp.query("lastName = :1";"Nonexistentname") //aucune entit\xe9 correspondante\n  //l\'entity selection est alors vide\n $entity:=$entitySel.first() //renvoie Null\n $entity:=$entitySel[0]  //g\xe9n\xe8re une erreur\n')),(0,a.kt)("h4",l({},{id:"exemple-12"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $entitySelection : cs.EmpSelection\n var $entity : cs.EmpEntity\n $entitySelection:=ds.Emp.query("salary > :1";100000)\n If($entitySelection.length#0)\n    $entity:=$entitySelection.first()\n End if\n')),(0,a.kt)("h2",l({},{id:"getdataclass"}),".getDataClass()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".getDataClass()")," : 4D.DataClass"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.DataClass"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Dataclass \xe0 laquelle appartient l'entity selection")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-16"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".getDataClass()")," retourne la dataclass de l'entity selection."),(0,a.kt)("p",null,"Cette fonction est utile principalement dans le contexte de code g\xe9n\xe9rique."),(0,a.kt)("h4",l({},{id:"exemple-13"}),"Exemple"),(0,a.kt)("p",null,"Le code g\xe9n\xe9rique suivant duplique toutes les entit\xe9s de l'entity selection :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"  //m\xe9thode duplicate_entities\n  //duplicate_entities($entity_selection)\n\n #DECLARE ( $entitySelection : 4D.EntitySelection )  \n var $dataClass : 4D.DataClass\n var $entity; $duplicate : 4D.Entity\n var $status : Object\n $dataClass:=$entitySelection.getDataClass()\n For each($entity;$entitySelection)\n    $duplicate:=$dataClass.new()\n    $duplicate.fromObject($entity.toObject())\n    $duplicate[$dataClass.getInfo().primaryKey]:=Null //r\xe9initialise la cl\xe9 primaire\n    $status:=$duplicate.save()\n End for each\n")),(0,a.kt)("h2",l({},{id:"getremotecontextattributes"}),".getRemoteContextAttributes()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"19R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".getRemoteContextAttributes()")," : Text"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:null})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"result"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Attributs de contexte associ\xe9s \xe0 l'entity selection, s\xe9par\xe9s par une virgule")))),(0,a.kt)("p",null,"|"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Mode avanc\xe9 :")," Cette fonction est destin\xe9e aux d\xe9veloppeurs qui souhaitent personnaliser les fonctionnalit\xe9s par d\xe9faut de ORDA dans le cadre de configurations sp\xe9cifiques. Dans la plupart des cas, vous n'aurez pas besoin de l'utiliser.")),(0,a.kt)("h4",l({},{id:"description-17"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".getRemoteContextAttributes()")," retourne des informations relatives au contexte d'optimisation utilis\xe9 par l'entity selection."),(0,a.kt)("p",null,"S'il n'existe pas de ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/datastores#clientserver-optimization"}),"contexte d'optimisation")," pour l'entity selection, la fonction retourne un texte vide."),(0,a.kt)("h4",l({},{id:"exemple-14"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $p : cs.PersonsEntity\n\nvar $info : Text\nvar $text : Text\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$persons:=$ds.Persons.all()\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / "\nEnd for each\n\n$info:=$persons.getRemoteContextAttributes()\n//$info = "firstname,address,address.city"\n')),(0,a.kt)("h4",l({},{id:"voir-\xe9galement-1"}),"Voir \xe9galement"),(0,a.kt)("p",null,(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/EntityClass#getRemoteContextAttributes"}),"Entity.getRemoteContextAttributes()"),(0,a.kt)("br",null),(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataStoreClass#clearallremotecontexts"}),".clearAllRemoteContexts()"),(0,a.kt)("br",null),(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataStoreClass#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,a.kt)("br",null),(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataStoreClass#getallremotecontexts"}),".getAllRemoteContexts()"),(0,a.kt)("br",null),(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataStoreClass#setremotecontextinfo"}),".setRemoteContextInfo()")),(0,a.kt)("h2",l({},{id:"isalterable"}),".isAlterable()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".isAlterable()")," : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Vrai si l'entity selection est modifiable, sinon Faux")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-18"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".isAlterable()")," retourne Vrai si l'entity selection est modifiable (alt\xe9rable), et Faux si elle n'est pas modifiable."),(0,a.kt)("p",null,"Pour plus d'informations, voir ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/entities#entity-selections-partageables-ou-modifiables"}),"Entity selections partageables ou modifiables"),"."),(0,a.kt)("h4",l({},{id:"exemple-15"}),"Exemple"),(0,a.kt)("p",null,"Vous \xeates sur le point d'afficher l'entity selection ",(0,a.kt)("inlineCode",{parentName:"p"},"Form.products")," dans une ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/FormObjects/listboxOverview"}),"list box")," pour permettre \xe0 l'utilisateur d'ajouter de nouveaux produits. Vous voulez vous assurer qu'elle est modifiable afin que l'utilisateur puisse ajouter de nouveaux produits sans erreur :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"If (Not(Form.products.isAlterable()))\n    Form.products:=Form.products.copy()\nEnd if\n...\nForm.products.add(Form.product)\n")),(0,a.kt)("h2",l({},{id:"isordered"}),".isOrdered()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".isOrdered()")," : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Vrai si l'entity selection est tri\xe9e, sinon Faux")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-19"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".isOrdered()")," retourne Vrai si l'entity selection est tri\xe9e, et Faux si elle est non tri\xe9e."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction renvoie toujours Vrai lorsque l'entity selection provient d'un datastore distant.")),(0,a.kt)("p",null,"Pour plus d'informations, voir ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/dsmapping#entity-selections-triees-vs-entity-selections-non-triees"}),"Entity selections tri\xe9es vs Entity selections non-tri\xe9es"),"."),(0,a.kt)("h4",l({},{id:"exemple-16"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n var $isOrdered : Boolean\n $employees:=ds.Employee.newSelection(dk keep ordered)\n $employee:=ds.Employee.get(714) // // renvoie l\'entit\xe9 avec cl\xe9 primaire 714\n\n  //Dans une entity selection tri\xe9e, vous pouvez ajouter la m\xeame entit\xe9 plusieurs fois (les duplications sont conserv\xe9es)\n $employees.add($employee)\n $employees.add($employee)\n $employees.add($employee)\n\n $isOrdered:=$employees.isOrdered()\n If($isOrdered)\n    ALERT("L\'entity selection est tri\xe9e et contient "+String($employees.length)+" employ\xe9s")\n End if\n')),(0,a.kt)("h2",l({},{id:"last"}),".last()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".last()")," : 4D.Entity"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9f\xe9rence vers la derni\xe8re entit\xe9 de l'entity selection (Null si l'entity selection est vide)")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-20"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".last()")," retourne une r\xe9f\xe9rence vers l'entit\xe9 en derni\xe8re position dans l'entity selection."),(0,a.kt)("p",null,"Le r\xe9sultat de cette fonction est similaire \xe0 :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," $entity:=$entitySel[length-1]\n")),(0,a.kt)("p",null,"Si l'entity selection est vide, la fonction renvoie Null."),(0,a.kt)("h4",l({},{id:"exemple-17"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $entitySelection : cs.EmpSelection\n var $entity : cs.EmpEntity\n $entitySelection:=ds.Emp.query("salary < :1";50000)\n If($entitySelection.length#0)\n    $entity:=$entitySelection.last()\n End if\n')),(0,a.kt)("h2",l({},{id:"length"}),".length"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".length")," : Integer"),(0,a.kt)("h4",l({},{id:"description-21"}),"Description"),(0,a.kt)("p",null,"La propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".length")," retourne le nombre d'entit\xe9s dans l'entity selection. Si l'entity selection est vide, elle contient 0."),(0,a.kt)("p",null,"Les entity selections ont toujours une propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".length"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Pour obtenir le nombre total d'entit\xe9s dans une dataclass, il est recommand\xe9 d'utiliser la fonction ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#getcount"}),(0,a.kt)("inlineCode",{parentName:"a"},"getCount()"))," qui est plus optimis\xe9e que l'expression ",(0,a.kt)("inlineCode",{parentName:"p"},"ds.myClass.all().length"),".")),(0,a.kt)("h4",l({},{id:"exemple-18"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $vSize : Integer\n $vSize:=ds.Employee.query("gender = :1";"male").length\n ALERT(String(vSize)+" employ\xe9s masculins trouv\xe9s.")\n')),(0,a.kt)("h2",l({},{id:"max"}),".max()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Retourne undefined si l'entity selection est vide"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".max"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text ) : any"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:null})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut \xe0 utiliser pour le calcul")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"any"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Valeur la plus haute de l'attribut")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-22"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".max()")," retourne la plus haute valeur (ou valeur maximale) parmi toutes les valeurs de ",(0,a.kt)("em",{parentName:"p"},"attributePath")," dans l'entity selection. Autrement dit, elle retourne la valeur de la derni\xe8re entit\xe9 de la s\xe9lection si elle \xe9tait tri\xe9e par ordre croissant avec la fonction ",(0,a.kt)("a",l({parentName:"p"},{href:"#orderby"}),(0,a.kt)("inlineCode",{parentName:"a"},".orderBy()")),"."),(0,a.kt)("p",null,"Si vous passez dans ",(0,a.kt)("em",{parentName:"p"},"attributePath")," le chemin d'un attribut objet contenant des valeurs de diff\xe9rents types, la fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".max()")," retournera la valeur maximale du premier type de valeur scalaire dans l'ordre par d\xe9faut de la liste des types 4D (voir ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/CollectionClass#sort"}),(0,a.kt)("inlineCode",{parentName:"a"},".sort()")),")."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},".max()")," retourne ",(0,a.kt)("strong",{parentName:"p"},"undefined")," si l'entity selection est vide ou si ",(0,a.kt)("em",{parentName:"p"},"attributePath")," n'est pas trouv\xe9 dans l'attribut objet."),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," est un attribut relatif,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," d\xe9signe un attribut qui n'existe pas dans la dataclass de l'entity selection.")),(0,a.kt)("h4",l({},{id:"exemple-19"}),"Exemple"),(0,a.kt)("p",null,"Nous souhaitons conna\xeetre le salaire le plus \xe9lev\xe9 parmi les employ\xe9es :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $sel : cs.EmpSelection\n var $maxSalary : Real\n $sel:=ds.Employee.query("gender = :1";"female")\n $maxSalary:=$sel.max("salary")\n')),(0,a.kt)("h2",l({},{id:"min"}),".min()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Retourne undefined si l'entity selection est vide"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".min"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text ) : any"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut \xe0 utiliser pour le calcul")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"any"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Valeur la plus basse de l'attribut")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-23"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"min()"),"  retourne la plus faible valeur (ou valeur minimale) parmi toutes les valeurs de attributePath dans l'entity selection.  Autrement dit, elle retourne la valeur de la premi\xe8re entit\xe9 de la s\xe9lection si elle \xe9tait tri\xe9e par ordre croissant avec la fonction ",(0,a.kt)("a",l({parentName:"p"},{href:"#orderby"}),(0,a.kt)("inlineCode",{parentName:"a"},".orderBy()"))," (hors valeurs ",(0,a.kt)("strong",{parentName:"p"},"Null"),")."),(0,a.kt)("p",null,"Si vous passez dans ",(0,a.kt)("em",{parentName:"p"},"attributePath")," le chemin d'un attribut objet contenant des valeurs de diff\xe9rents types, la fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".min()")," retournera la valeur minimale du premier type de valeur scalaire dans l'ordre par d\xe9faut de la liste des types 4D (voir ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/CollectionClass#sort"}),(0,a.kt)("inlineCode",{parentName:"a"},".sort()")),")."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},".min()")," retourne ",(0,a.kt)("strong",{parentName:"p"},"undefined")," si l'entity selection est vide ou si ",(0,a.kt)("em",{parentName:"p"},"attributePath")," n'est pas trouv\xe9 dans l'attribut objet."),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," est un attribut relatif,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," d\xe9signe un attribut qui n'existe pas dans la dataclass de l'entity selection.")),(0,a.kt)("h4",l({},{id:"exemple-20"}),"Exemple"),(0,a.kt)("p",null,"Nous souhaitons conna\xeetre le salaire le plus bas parmi les employ\xe9es :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $sel : cs.EmpSelection\n var $minSalary : Real\n $sel:=ds.Employee.query("gender = :1";"female")\n $minSalary:=$sel.min("salary")\n')),(0,a.kt)("h2",l({},{id:"minus"}),".minus()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"19 R7"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Prise en charge du param\xe8tre ",(0,a.kt)("em",{parentName:"td"},"keepOrder"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".minus"),"( ",(0,a.kt)("em",{parentName:"p"},"entity")," : 4D.Entity { ; ",(0,a.kt)("em",{parentName:"p"},"keepOrder")," : Integer } ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".minus"),"( ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," : 4D.EntitySelection { ; ",(0,a.kt)("em",{parentName:"p"},"keepOrder")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entity"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entit\xe9 \xe0 soustraire")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection \xe0 soustraire")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"keepOrder"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk keep ordered")," (integer) pour conserver l'ordre initial dans l'entity selection r\xe9sultante")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection ou une nouvelle r\xe9f\xe9rence sur l'entity selection existante")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-24"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"minus()")," exclut de l'entity selection \xe0 laquelle elle est appliqu\xe9e l'",(0,a.kt)("em",{parentName:"p"},"entity")," ou les entit\xe9s de l'",(0,a.kt)("em",{parentName:"p"},"entitySelection")," et retourne l'entity selection r\xe9sultante."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Si vous passez ",(0,a.kt)("em",{parentName:"li"},"entity")," en param\xe8tre, la fonction cr\xe9e une nouvelle entity selection sans ",(0,a.kt)("em",{parentName:"li"},"entity")," (si ",(0,a.kt)("em",{parentName:"li"},"entity")," appartient \xe0 l'entity selection). Si ",(0,a.kt)("em",{parentName:"li"},"entity")," n'\xe9tait pas incluse dans l'entity selection d'origine, une nouvelle r\xe9f\xe9rence \xe0 l'entity selection est renvoy\xe9e."),(0,a.kt)("li",{parentName:"ul"},"Si vous passez ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," en param\xe8tre, la fonction retourne une entity selection contenant les entit\xe9s appartenant \xe0 l\"entity selection d'origine, sans les entit\xe9s appartenant \xe0 ",(0,a.kt)("em",{parentName:"li"},"entitySelection"),". Vous pouvez comparer des ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/20-R4/ORDA/dsmapping#entity-selections-tri%C3%A9es-vs-entity-selections-non-tri%C3%A9es"}),"entity selections ordonn\xe9es et/ou non ordonn\xe9es"),".")),(0,a.kt)("p",null,"Par d\xe9faut, si vous omettez le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"keepOrder"),", l'entity selection r\xe9sultante n'est pas tri\xe9e. Si vous souhaitez conserver l'ordre de l'entity selection originale (par exemple si vous voulez r\xe9utiliser l'entity selection dans une interface utilisateur), passez la constante ",(0,a.kt)("inlineCode",{parentName:"p"},"dk keep ordered")," dans ",(0,a.kt)("em",{parentName:"p"},"keepOrder"),". Dans ce cas, le r\xe9sultat est une entity selection ordonn\xe9e et l'ordre de l'entity selection initiale est conserv\xe9."),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"Si vous passez ",(0,a.kt)("inlineCode",{parentName:"p"},"dk keep ordered")," dans ",(0,a.kt)("em",{parentName:"p"},"keepOrder")," et que l'",(0,a.kt)("em",{parentName:"p"},"entitySelection")," supprim\xe9e contient des entit\xe9s dupliqu\xe9es dans l'entity selection originale, toutes les occurrences des doublons sont supprim\xe9es.")),(0,a.kt)("p",null,"Si l'entity selection initiale ou l'entity selection initiale et celle du param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," sont vides, une entity selection vide est retourn\xe9e."),(0,a.kt)("p",null,"Si ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," est vide ou si ",(0,a.kt)("em",{parentName:"p"},"entity")," est Null, une nouvelle r\xe9f\xe9rence \xe0 l'entity selection d'origine est renvoy\xe9e."),(0,a.kt)("p",null,"Si l'entity selection initiale et le param\xe8tre ne sont pas li\xe9s \xe0 la m\xeame dataclass, une erreur est retourn\xe9e."),(0,a.kt)("h4",l({},{id:"exemple-1-4"}),"Exemple 1"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees; $result : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n\n $employees:=ds.Employee.query("lastName = :1";"H@") \n  // l\'entity selection $employees contient l\'entit\xe9 avec la cl\xe9 primaire 710 ainsi que d\'autres entit\xe9s\n  // par ex. "Colin Hetrick", "Grady Harness", "Sherlock Holmes" (cl\xe9 primaire 710)\n\n $employee:=ds.Employee.get(710) // "Sherlock Holmes"\n\n $result:=$employees.minus($employee) //$result contient "Colin Hetrick", "Grady Harness"\n')),(0,a.kt)("h4",l({},{id:"exemple-2-4"}),"Exemple 2"),(0,a.kt)("p",null,'Vous voulez avoir une s\xe9lection d\'employ\xe9es nomm\xe9es "Jones" qui vivent \xe0 New York :'),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $sel1; $sel2; $sel3 : cs.EmployeeSelection\n $sel1:=ds.Employee.query("name =:1";"Jones")\n $sel2:=ds.Employee.query("city=:1";"New York")\n $sel3:=$sel1.and($sel2).minus(ds.Employee.query("gender=\'male\'"))\n')),(0,a.kt)("h4",l({},{id:"exemple-3-2"}),"Exemple 3"),(0,a.kt)("p",null,"Dans une interface utilisateur, nous avons une liste qui affiche des \xe9l\xe9ments dans un ordre sp\xe9cifique. Si l'utilisateur s\xe9lectionne des \xe9l\xe9ments dans la liste pour les supprimer, l'ordre doit \xeatre conserv\xe9 lors du rafra\xeechissement de la liste :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"$listsel:=$listsel.minus($selectedItems; dk keep ordered)\n")),(0,a.kt)("h2",l({},{id:"or"}),".or()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".or"),"( ",(0,a.kt)("em",{parentName:"p"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".or"),"( ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entity"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entit\xe9 \xe0 intersecter")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection \xe0 intersecter")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection ou nouvelle r\xe9f\xe9rence \xe0 l'entity selection d'origine")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-25"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".or()")," combine l'entity selection avec le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"entity")," ou ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," \xe0 l'aide de l'op\xe9rateur OU logique (non exclusif); elle retourne une nouvelle entity selection non tri\xe9e contenant toutes les entit\xe9s de l'entity selection et du param\xe8tre."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Si vous passez ",(0,a.kt)("em",{parentName:"li"},"entity")," comme param\xe8tre, vous combinez cette entit\xe9 avec l'entity selection. Si l'entit\xe9 appartient \xe0 l'entity selection, une nouvelle r\xe9f\xe9rence \xe0 l'entity selection est retourn\xe9e. Sinon, une nouvelle entity selection contenant l'entity selection d'origine et l'entit\xe9 est retourn\xe9e."),(0,a.kt)("li",{parentName:"ul"},"Si vous passez ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," comme param\xe8tre, vous comparez les deux entity selections. Une nouvelle entity selection contenant les entit\xe9s appartenant \xe0 la s\xe9lection d'entit\xe9s d'origine ou \xe0 ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," est renvoy\xe9e (ou n'est pas exclusif, les entit\xe9s r\xe9f\xe9renc\xe9es dans les deux s\xe9lections ne sont pas dupliqu\xe9es dans la s\xe9lection r\xe9sultante).",(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"Vous pouvez comparer des ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/dsmapping#entity-selections-tri%C3%A9es-vs-entity-selections-non-tri%C3%A9es"}),"entity selections ordonn\xe9es et/ou non ordonn\xe9es"),". La s\xe9lection r\xe9sultante est toujours non ordonn\xe9e.")))),(0,a.kt)("p",null,"Si l'entity selection d'origine et celle du param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," sont vides, une entity selection vide est retourn\xe9e. Si l'entity selection d'origine est vide, une r\xe9f\xe9rence \xe0 ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," ou une entity selection contenant uniquement ",(0,a.kt)("em",{parentName:"p"},"entity")," est retourn\xe9e."),(0,a.kt)("p",null,"Si ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," est vide ou si ",(0,a.kt)("em",{parentName:"p"},"entity")," est Null, une nouvelle r\xe9f\xe9rence \xe0 l'entity selection d'origine est renvoy\xe9e."),(0,a.kt)("p",null,"Si l'entity selection initiale et le param\xe8tre ne sont pas li\xe9s \xe0 la m\xeame dataclass, une erreur est retourn\xe9e."),(0,a.kt)("h4",l({},{id:"exemple-1-5"}),"Exemple 1"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees1; $employees2; $result : cs.EmployeeSelection\n $employees1:=ds.Employee.query("lastName = :1";"H@") //"Colin Hetrick","Grady Harness"\n $employees2:=ds.Employee.query("firstName = :1";"C@") //"Colin Hetrick", "Cath Kidston"\n $result:=$employees1.or($employees2) //$result contient "Colin Hetrick", "Grady Harness","Cath Kidston"\n')),(0,a.kt)("h4",l({},{id:"exemple-2-5"}),"Exemple 2"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees; $result : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1";"H@") // "Colin Hetrick","Grady Harness", "Sherlock Holmes"\n $employee:=ds.Employee.get(686) //l\'entit\xe9 avec cl\xe9 primaire 686 n\'appartient pas \xe0 l\'entity selection $employees \n  //elle correspond \xe0 l\'employ\xe9e "Mary Smith"\n\n $result:=$employees.or($employee) //$result contient "Colin Hetrick", "Grady Harness", "Sherlock Holmes", "Mary Smith"\n')),(0,a.kt)("h2",l({},{id:"orderby"}),".orderBy()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".orderBy"),"( ",(0,a.kt)("em",{parentName:"p"},"pathString")," : Text ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".orderBy"),"( ",(0,a.kt)("em",{parentName:"p"},"pathObjects")," : Collection ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"pathString"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin(s) d'attribut(s) et mode(s) de tri pour l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"pathObjects"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection d'objets crit\xe8re")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection dans l'ordre sp\xe9cifi\xe9")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-26"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".orderBy()")," renvoie une nouvelle entity selection tri\xe9e contenant toutes les entit\xe9s de l'entity selection dans l'ordre sp\xe9cifi\xe9 par le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"pathString")," ou ",(0,a.kt)("em",{parentName:"p"},"pathObjects"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("ul",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ul"},"Cette fonction ne modifie pas l'entity selection d'origine."),(0,a.kt)("li",{parentName:"ul"},"Pour plus d'informations sur les s\xe9lections tri\xe9es ou non, voir ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/20-R4/ORDA/dsmapping#entity-selections-triees-vs-entity-selections-non-triees"}),"Entity selections tri\xe9es vs Entity selections non-tri\xe9es"),"."))),(0,a.kt)("p",null,"Vous devez utiliser un param\xe8tre de crit\xe8re pour d\xe9finir la mani\xe8re dont les entit\xe9s doivent \xeatre tri\xe9es. Deux param\xe8tres diff\xe9rents sont pris en charge :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"pathString")," (Texte) : Ce param\xe8tre contient une formule compos\xe9e de chemins d'attribut de 1 \xe0 n et (optionnellement) de tri, s\xe9par\xe9s par des virgules. La syntaxe est :")),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'"attributePath1 {desc or asc}, attributePath2 {desc or asc},..."\n')),(0,a.kt)("p",null,'L\'ordre dans lequel les attributs sont pass\xe9s d\xe9termine la priorit\xe9 de tri des entit\xe9s. Par d\xe9faut, les attributs sont tri\xe9s par ordre croissant. Vous pouvez d\xe9finir l\'ordre de tri de chaque propri\xe9t\xe9 dans la formule de crit\xe8re, s\xe9par\xe9e du chemin de propri\xe9t\xe9 par un simple espace : passez "asc" pour trier par ordre croissant ou "desc" pour un ordre d\xe9croissant.'),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"pathObjects")," (collection) : chaque \xe9l\xe9ment de la collection contient un objet structur\xe9 de la fa\xe7on suivante :")),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'{\n    "propertyPath": string,\n    "descending": boolean\n}\n')),(0,a.kt)("p",null,'Par d\xe9faut, les attributs sont tri\xe9s par ordre croissant ("descending" est false).'),(0,a.kt)("p",null,"Vous pouvez ajouter autant d'objets que n\xe9cessaire dans la collection de crit\xe8res."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Les valeurs nulles sont \xe9valu\xe9es comme \xe9tant inf\xe9rieures aux autres valeurs.")),(0,a.kt)("p",null,"Si vous passez un chemin d'attribut non valide dans ",(0,a.kt)("em",{parentName:"p"},"pathString")," ou ",(0,a.kt)("em",{parentName:"p"},"pathObject"),", la fonction renvoie une entity selection vide."),(0,a.kt)("h4",l({},{id:"exemple-21"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'// tri par formule\n $sortedEntitySelection:=$entitySelection.orderBy("firstName asc, salary desc")\n $sortedEntitySelection:=$entitySelection.orderBy("firstName")\n\n  // tri par collection avec ou dans ordre de tri\n $orderColl:=New collection\n $orderColl.push(New object("propertyPath";"firstName";"descending";False))\n $orderColl.push(New object("propertyPath";"salary";"descending";True))\n $sortedEntitySelection:=$entitySelection.orderBy($orderColl)\n\n $orderColl:=New collection\n $orderColl.push(New object("propertyPath";"manager.lastName"))\n\n $orderColl.push(New object("propertyPath";"salary"))\n $sortedEntitySelection:=$entitySelection.orderBy($orderColl)\n')),(0,a.kt)("h2",l({},{id:"orderbyformula"}),".orderByFormula()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".orderByFormula"),"( ",(0,a.kt)("em",{parentName:"p"},"formulaString")," : Text { ; ",(0,a.kt)("em",{parentName:"p"},"sortOrder")," : Integer } { ; ",(0,a.kt)("em",{parentName:"p"},"settings")," : Object} ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".orderByFormula"),"( ",(0,a.kt)("em",{parentName:"p"},"formulaObj")," : Object { ; ",(0,a.kt)("em",{parentName:"p"},"sortOrder")," : Integer } { ; ",(0,a.kt)("em",{parentName:"p"},"settings")," : Object} ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"formulaString"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Cha\xeene formule")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"formulaObj"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Objet formule")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"sortOrder"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk ascending")," (par d\xe9faut) ou",(0,a.kt)("inlineCode",{parentName:"td"},"dk descending"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"settings"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Param\xe8tre(s) de la formule")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection tri\xe9e")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-27"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".orderByFormula()")," renvoie une nouvelle entity selection tri\xe9e contenant toutes les entit\xe9s de l'entity selection dans l'ordre d\xe9fini par les param\xe8tres ",(0,a.kt)("em",{parentName:"p"},"formulaString")," ou ",(0,a.kt)("em",{parentName:"p"},"formulaObj")," et, \xe9ventuellement, ",(0,a.kt)("em",{parentName:"p"},"sortOrder")," et ",(0,a.kt)("em",{parentName:"p"},"settings"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction ne modifie pas l'entity selection d'origine.")),(0,a.kt)("p",null,"Vous pouvez utiliser soit le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"formulaString"),", soit le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"formulaObj")," :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"formulaString"),' : passez une expression 4D telle que "Year of(this.birthDate)".'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"formulaObj")," : passez un objet formule valide cr\xe9\xe9 \xe0 l'aide de la commande ",(0,a.kt)("inlineCode",{parentName:"li"},"Formula")," ou ",(0,a.kt)("inlineCode",{parentName:"li"},"Formula from string"),".")),(0,a.kt)("p",null,"La formule de ",(0,a.kt)("em",{parentName:"p"},"formulaString")," ou ",(0,a.kt)("em",{parentName:"p"},"formulaObj")," est ex\xe9cut\xe9e pour chaque entit\xe9 de l'entity selection et son r\xe9sultat sert \xe0 d\xe9finir la position de l'entit\xe9 dans l'entity selection retourn\xe9e. Le r\xe9sultat doit \xeatre de type triable (bool\xe9en, date, num\xe9rique, texte, heure, null)."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Un r\xe9sultat null est toujours la plus petite valeur.")),(0,a.kt)("p",null,"Par d\xe9faut, si vous omettez le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"sortOrder"),", l'entity selection r\xe9sultante est tri\xe9e par ordre croissant. Vous pouvez optionnellement passer l'une des valeurs suivantes dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"sortOrder")," :"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Constante"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Valeur"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Commentaire"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"dk ascending"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"0"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ordre de tri croissant (d\xe9faut)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"dk descending"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"1"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ordre de tri d\xe9croissant")))),(0,a.kt)("p",null,"Dans ",(0,a.kt)("em",{parentName:"p"},"formulaString")," et ",(0,a.kt)("em",{parentName:"p"},"formulaObj"),", l'entit\xe9 qui est trait\xe9e ainsi que ses attributs sont disponibles via la commande ",(0,a.kt)("inlineCode",{parentName:"p"},"This")," (par exemple, ",(0,a.kt)("inlineCode",{parentName:"p"},"This.lastName"),")."),(0,a.kt)("p",null,"Vous pouvez passer un ou plusieurs param\xe8tre(s) \xe0 la formule \xe0 l'aide de la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},"args")," (objet) du param\xe8tre ",(0,a.kt)("inlineCode",{parentName:"p"},"settings")," : la formule re\xe7oit l'objet ",(0,a.kt)("inlineCode",{parentName:"p"},"settings.args")," dans $1."),(0,a.kt)("h4",l({},{id:"exemple-1-6"}),"Exemple 1"),(0,a.kt)("p",null,"Pour effectuer un tri d'\xe9tudiants \xe0 l'aide d'une formule texte :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $es1; $es2 : cs.StudentsSelection\n $es1:=ds.Students.query("nationality=:1";"French")\n $es2:=$es1.orderByFormula("length(this.lastname)") //croissant par d\xe9faut\n $es2:=$es1.orderByFormula("length(this.lastname)";dk descending)\n')),(0,a.kt)("p",null,"Pour effectuer le m\xeame tri dans le m\xeame ordre, mais \xe0 l'aide d'un objet formule :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $es1; $es2 : cs.StudentsSelection\n var $formula : Object\n $es1:=ds.Students.query("nationality=:1";"French")\n $formula:=Formula(Length(This.lastname))\n $es2:=$es1.orderByFormula($formula) // croissant par d\xe9faut\n $es2:=$es1.orderByFormula($formula;dk descending)\n')),(0,a.kt)("h4",l({},{id:"exemple-2-6"}),"Exemple 2"),(0,a.kt)("p",null,"Une formule est donn\xe9e sous forme d'objet formule avec des param\xe8tres; l'objet ",(0,a.kt)("inlineCode",{parentName:"p"},"settings.args")," est re\xe7u dans $1 dans la m\xe9thode ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"computeAverage")),"."),(0,a.kt)("p",null,'Dans cet exemple, le champ objet "marks" de la dataclass ',(0,a.kt)("strong",{parentName:"p"},"Students")," contient les notes des \xe9tudiants dans chaque mati\xe8re. Un seul objet formule est utilis\xe9 pour calculer la note moyenne des \xe9tudiants \xe0 l'aide de diff\xe9rents coefficients pour schoolA et schoolB."),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $es1; $es2 : cs.StudentsSelection\n var $formula; $schoolA; $schoolB : Object\n $es1:=ds.Students.query("nationality=:1";"French")\n $formula:=Formula(computeAverage($1))\n\n $schoolA:=New object() //objet settings\n $schoolA.args:=New object("english";1;"math";1;"history";1) // Coefficients permettant de calculer la moyenne\n\n  //Trier les \xe9tudiants en fonction du crit\xe8re schoolA\n $es2:=$es1.entitySelection.orderByFormula($formula;$schoolA)\n\n $schoolB:=New object() //objet settings \n $schoolB.args:=New object("english";1;"math";2;"history";3) // Coefficients permettant de calculer une moyenne\n\n  //Trier les \xe9tudiants en fonction du crit\xe8re schoolB\n $es2:=$es1.entitySelection.orderByFormula($formula;dk descending;$schoolB)\n')),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"  //\n  // m\xe9thode computeAverage \n  // -----------------------------\n #DECLARE ($coefList : Object) -> $result : Integer\n var $subject : Text\n var $average; $sum : Integer\n\n $average:=0\n $sum:=0\n\n For each($subject;$coefList)\n    $sum:=$sum+$coefList[$subject]\n End for each\n\n For each($subject;This.marks)\n    $average:=$average+(This.marks[$subject]*$coefList[$subject])\n End for each\n\n $result:=$average/$sum\n")),(0,a.kt)("h2",l({},{id:"query"}),".query()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Prise en charge des param\xe8tres Formula")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Prise en charge des placeholders pour les valeurs")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".query"),"( ",(0,a.kt)("em",{parentName:"p"},"queryString")," : Text { ; ",(0,a.kt)("em",{parentName:"p"},"...value")," : any } { ; ",(0,a.kt)("em",{parentName:"p"},"querySettings")," : Object } ) : 4D.EntitySelection ",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".query"),"( ",(0,a.kt)("em",{parentName:"p"},"formula")," : Object { ; ",(0,a.kt)("em",{parentName:"p"},"querySettings")," : Object } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"queryString"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Crit\xe8res de recherche en texte")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"formula"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Crit\xe8res de recherche en objet formule")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"value"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"any"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Valeur(s) \xe0 utiliser comme placeholder(s)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"querySettings"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Options de recherche : parameters, attributes, args, allowFormulas, context, queryPath, queryPlan")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection compos\xe9e d'entit\xe9s issues de l'entity selection r\xe9pondant aux crit\xe8res de recherche sp\xe9cifi\xe9s dans ",(0,a.kt)("em",{parentName:"td"},"queryString")," ou ",(0,a.kt)("em",{parentName:"td"},"formula"))))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-28"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".query()")," recherche les entit\xe9s r\xe9pondant aux crit\xe8res de recherche sp\xe9cifi\xe9s dans ",(0,a.kt)("em",{parentName:"p"},"queryString")," ou ",(0,a.kt)("em",{parentName:"p"},"formula")," et (optionnellement) dans ",(0,a.kt)("em",{parentName:"p"},"value"),"(s) parmi toutes les entit\xe9s de l'entity selection, et renvoie un nouvel objet de type ",(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection")," contenant toutes les entit\xe9s trouv\xe9es. Le mode lazy loading est appliqu\xe9."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction ne modifie pas l'entity selection d'origine.")),(0,a.kt)("p",null,"Si aucune entit\xe9 correspondante n'est trouv\xe9e, une ",(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection")," vide est retourn\xe9e."),(0,a.kt)("p",null,"Pour plus d'informations sur la g\xe9n\xe9ration d'une recherche \xe0 l'aide des param\xe8tres ",(0,a.kt)("em",{parentName:"p"},"queryString"),", ",(0,a.kt)("em",{parentName:"p"},"value"),", et ",(0,a.kt)("em",{parentName:"p"},"querySettings"),", reportez-vous \xe0 la description de la fonction de dataclass ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()")),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Par d\xe9faut, si vous omettez la d\xe9claration ",(0,a.kt)("strong",{parentName:"p"},"order by")," dans ",(0,a.kt)("em",{parentName:"p"},"queryString"),", l'entity selection retourn\xe9e n'est ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/ORDA/dsmapping#entity-selections-triees-vs-entity-selections-non-triees"}),"pas tri\xe9e"),". A noter cependant qu'en client/server, elle se comporte comme une entity selection tri\xe9e (les entit\xe9s sont ajout\xe9es \xe0 la fin de la s\xe9lection).")),(0,a.kt)("h4",l({},{id:"exemple-1-7"}),"Exemple 1"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $entitySelectionTemp : cs.EmployeeSelection\n $entitySelectionTemp:=ds.Employee.query("lastName = :1";"M@")\n Form.emps:=$entitySelectionTemp.query("manager.lastName = :1";"S@")\n')),(0,a.kt)("h4",l({},{id:"exemple-2-7"}),"Exemple 2"),(0,a.kt)("p",null,"Vous trouverez plus d'exemples de requ\xeates dans la page ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()")),"."),(0,a.kt)("h4",l({},{id:"voir-\xe9galement-2"}),"Voir \xe9galement"),(0,a.kt)("p",null,(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()"))," pour dataclass"),(0,a.kt)("h2",l({},{id:"querypath"}),".queryPath"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".queryPath")," : Text"),(0,a.kt)("h4",l({},{id:"description-29"}),"Description"),(0,a.kt)("p",null,"La propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".queryPath")," contient une description d\xe9taill\xe9e de la requ\xeate telle qu'elle a \xe9t\xe9 effectu\xe9e par 4D. Cette propri\xe9t\xe9 est disponible pour les objets de type ",(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection")," g\xe9n\xe9r\xe9s via des recherches si la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},'"queryPath":true')," a \xe9t\xe9 pass\xe9e dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"querySettings")," de la fonction ",(0,a.kt)("a",l({parentName:"p"},{href:"#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()")),"."),(0,a.kt)("p",null,"For more information, refer to the ",(0,a.kt)("strong",{parentName:"p"},"querySettings parameter")," paragraph in the Dataclass",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()"))," page."),(0,a.kt)("h2",l({},{id:"queryplan"}),".queryPlan"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".queryPlan")," : Text"),(0,a.kt)("h4",l({},{id:"description-30"}),"Description"),(0,a.kt)("p",null,"La propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".queryPlan"),"  contient une description d\xe9taill\xe9e de la requ\xeate juste avant son ex\xe9cution (c'est-\xe0-dire, la requ\xeate planifi\xe9e). Cette propri\xe9t\xe9 est disponible pour les objets de type ",(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection")," g\xe9n\xe9r\xe9s via des recherches si la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},'"queryPlan":true')," a \xe9t\xe9 pass\xe9e dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"querySettings")," de la fonction ",(0,a.kt)("a",l({parentName:"p"},{href:"#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()")),"."),(0,a.kt)("p",null,"Pour plus d'informations, veuillez vous reporter au paragraphe ",(0,a.kt)("strong",{parentName:"p"},"querySettings")," de la fonction de dataclass ",(0,a.kt)("a",l({parentName:"p"},{href:"DataClassClass.html#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()")),"."),(0,a.kt)("h2",l({},{id:"refresh"}),".refresh()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R3"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".refresh()")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null})),(0,a.kt)("td",l({parentName:"tr"},{align:null})),(0,a.kt)("td",l({parentName:"tr"},{align:"center"})),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-31"}),"Description"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction est utilisable uniquement avec un datastore distant (client/serveur ou connexion ",(0,a.kt)("inlineCode",{parentName:"p"},"Open datastore"),").")),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".refresh()")," \"invalide\" imm\xe9diatement les donn\xe9es de l'entity selection dans le cache local d'ORDA de sorte que, la prochaine fois que 4D acc\xe8de \xe0 l'entity selection, elle soit recharg\xe9e \xe0 partir de la base."),(0,a.kt)("p",null,"Par d\xe9faut, le cache local d'ORDA est invalid\xe9 apr\xe8s 30 secondes. Dans le contexte des applications client/serveur \xe0 l'aide d'ORDA et du langage classique, cette fonction vous permet d'\xeatre certain que l'application distante fonctionne toujours avec les donn\xe9es les plus r\xe9centes."),(0,a.kt)("h4",l({},{id:"exemple-1-8"}),"Exemple 1"),(0,a.kt)("p",null,"Dans cet exemple, les langages classiques et ORDA modifient simultan\xe9ment les m\xeames donn\xe9es :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' //Sur un 4D distant\n\n var $selection : cs.StudentsSelection\n var $student : cs.StudentsEntity\n\n $selection:=ds.Students.query("lastname=:1";"Collins")\n  //La premi\xe8re entit\xe9 est charg\xe9e dans le cache d\'ORDA\n $student:=$selection.first()\n\n  //Mise \xe0 jour avec un 4D classique, le cache ORDA cache n\'en est pas inform\xe9\n QUERY([Students];[Students]lastname="Collins")\n [Students]lastname:="Colin"\n SAVE RECORD([Students])\n\n  //pour obtenir la derni\xe8re version, le cache d\'ORDA doit \xeatre invalid\xe9\n $selection.refresh()\n  // M\xeame si le cache n\'a pas expir\xe9, la premi\xe8re entit\xe9 est recharg\xe9e \xe0 partir du disque\n $student:=$selection.first()\n\n  //$student.lastname contient "Colin"\n')),(0,a.kt)("h4",l({},{id:"exemple-2-8"}),"Exemple 2"),(0,a.kt)("p",null,"Une list box affiche l'entity selection Form.students, sur laquelle plusieurs clients travaillent."),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"// Methode formulaire:\n Case of\n    :(Form event code=On Load)\n       Form.students:=ds.Students.all()\n End case\n  //\n  //\n  // Sur client #1, l'utilisateur charge, met \xe0 jour et sauvegarde la premi\xe8re entit\xe9\n  // Sur client #2, l'utilisateur charge, met \xe0 jour et sauvegarde la m\xeame entit\xe9\n  //\n  //\n  // Sur client #1:\n Form.students.refresh() // Invalide le cache ORDA pour l'entity selection Form.students\n  // Le contenu de la list box est rafra\xeechi \xe0 partir de la base avec les mises \xe0 jour effectu\xe9es par le client #2\n")),(0,a.kt)("h2",l({},{id:"selected"}),".selected()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"19 R3"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".selected"),"( ",(0,a.kt)("em",{parentName:"p"},"selectedEntities")," : 4D.EntitySelection ) : Object"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"selectedEntities"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection avec des entit\xe9s dont il faut conna\xeetre le rang dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Plage(s) d'entit\xe9s s\xe9lectionn\xe9es dans l'entity selection")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-32"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"selected()")," retourne un objet d\xe9crivant la ou les position(s) de ",(0,a.kt)("em",{parentName:"p"},"selectedEntities")," dans l'entity selection d'origine."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction ne modifie pas l'entity selection d'origine.")),(0,a.kt)("p",null,"Passez, dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"selectedEntities")," une entity selection contenant des entit\xe9s dont vous souhaitez conna\xeetre la position dans l'entity selection d'origine. ",(0,a.kt)("em",{parentName:"p"},"selectedEntities")," doit \xeatre une entity selection appartenant \xe0 la m\xeame dataclass que l'entity selection d'origine, sinon une erreur 1587 - \"La s\xe9lection d'entit\xe9s provient d'une dataclass incompatible\" est g\xe9n\xe9r\xe9e."),(0,a.kt)("h4",l({},{id:"r\xe9sultat"}),"R\xe9sultat"),(0,a.kt)("p",null,"L'objet retourn\xe9 contient les propri\xe9t\xe9s suivantes :"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"ranges"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection d'objets plage")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"ranges[].start"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Indice de la premi\xe8re entit\xe9 de la plage")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"ranges[].end"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Indice de la derni\xe8re entit\xe9 de la plage")))),(0,a.kt)("p",null,"Si une propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},"ranges")," contient une seule entit\xe9, ",(0,a.kt)("inlineCode",{parentName:"p"},"start")," = ",(0,a.kt)("inlineCode",{parentName:"p"},"end"),". L'indice d\xe9marre \xe0 0."),(0,a.kt)("p",null,"La fonction retourne une collection vide dans la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},"ranges")," si l'entity selection d'origine ou l'entity selection ",(0,a.kt)("em",{parentName:"p"},"selectedEntities")," est vide."),(0,a.kt)("h4",l({},{id:"exemple-22"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $invoices; $cashSel; $creditSel : cs.Invoices\nvar $result1; $result2 : Object\n\n$invoices:=ds.Invoices.all()\n\n$cashSelection:=ds.Invoices.query("payment = :1"; "Cash")\n$creditSel:=ds.Invoices.query("payment IN :1"; New collection("Cash"; "Credit Card"))\n\n$result1:=$invoices.selected($cashSelection)\n$result2:=$invoices.selected($creditSel)\n\n//$result1 = {ranges:[{start:0;end:0},{start:3;end:3},{start:6;end:6}]}\n//$result2 = {ranges:[{start:0;end:1},{start:3;end:4},{start:6;end:7}]}\n\n')),(0,a.kt)("h2",l({},{id:"slice"}),".slice()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".slice"),"( ",(0,a.kt)("em",{parentName:"p"},"startFrom")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"end")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"startFrom"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Position \xe0 laquelle d\xe9marrer l'op\xe9ration (incluse)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"end"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Position de fin (non incluse)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection contenant les entit\xe9s copi\xe9es (shallow copy)")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-33"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"slice()")," retourne une partie d'une entity selection dans une nouvelle entity selection, s\xe9lectionn\xe9e depuis l'indice ",(0,a.kt)("em",{parentName:"p"},"startFrom")," jusqu'\xe0 l'indice ",(0,a.kt)("em",{parentName:"p"},"end")," (",(0,a.kt)("em",{parentName:"p"},"end")," non inclus) ou jusqu'\xe0 la derni\xe8re entit\xe9 de l'entity selection. Cette fonction effectue une shallow copy (copie superficielle) de l'entity selection (les m\xeames r\xe9f\xe9rences d'entit\xe9s sont utilis\xe9es)."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction ne modifie pas l'entity selection d'origine.")),(0,a.kt)("p",null,"L'entity selection retourn\xe9e contient les entit\xe9s comprises entre l'entit\xe9 d\xe9sign\xe9e par ",(0,a.kt)("em",{parentName:"p"},"startFrom")," et, sans la contenir, celle d\xe9sign\xe9e par ",(0,a.kt)("em",{parentName:"p"},"end"),". Si seul le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"startFrom")," est sp\xe9cifi\xe9, la s\xe9lection d'entit\xe9s renvoy\xe9e contient toutes les entit\xe9s \xe0 partir de ",(0,a.kt)("em",{parentName:"p"},"startFrom")," jusqu'\xe0 la derni\xe8re entit\xe9 de la s\xe9lection d'entit\xe9s originale."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Si ",(0,a.kt)("em",{parentName:"li"},"startFrom")," < 0, il est recalcul\xe9 comme ",(0,a.kt)("em",{parentName:"li"},"startFrom:=startFrom+length")," (il est consid\xe9r\xe9 comme partant de la fin de l'entity selection). Si la valeur calcul\xe9e est n\xe9gative, ",(0,a.kt)("em",{parentName:"li"},"startFrom")," prend la valeur 0."),(0,a.kt)("li",{parentName:"ul"},"Si ",(0,a.kt)("em",{parentName:"li"},"startFrom >= length"),", la fonction retourne une entity selection vide."),(0,a.kt)("li",{parentName:"ul"},"Si ",(0,a.kt)("em",{parentName:"li"},"end")," < 0, le param\xe8tre est recalcul\xe9 comme ",(0,a.kt)("em",{parentName:"li"},"end:=end+length"),"."),(0,a.kt)("li",{parentName:"ul"},"Si ",(0,a.kt)("em",{parentName:"li"},"end < startFrom")," (valeurs pass\xe9es ou recalcul\xe9es), la fonction ne fait rien.")),(0,a.kt)("p",null,"Si l'entity selection contient des entit\xe9s qui ont \xe9t\xe9 supprim\xe9es entre-temps, elles sont \xe9galement retourn\xe9es."),(0,a.kt)("h4",l({},{id:"exemple-1-9"}),"Exemple 1"),(0,a.kt)("p",null,"Vous souhaitez obtenir une sous-s\xe9lection des 9 premi\xe8res entit\xe9s de l'entity selection :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $sel; $sliced : cs.EmployeeSelection\n$sel:=ds.Employee.query("salary > :1";50000)\n$sliced:=$sel.slice(0;9)\n')),(0,a.kt)("h4",l({},{id:"exemple-2-9"}),"Exemple 2"),(0,a.kt)("p",null,"En supposant que ds.Employee.all().length = 10"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"var $slice : cs.EmployeeSelection\n\n\n$slice:=ds.Employee.all().slice(-1;-2) //essaie de retourner les entit\xe9s de l'index 9 \xe0 8, mais comme 9 > 8, retourne une entity selection vide\n\n")),(0,a.kt)("h2",l({},{id:"sum"}),".sum()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".sum"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text ) : Real"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut \xe0 utiliser pour le calcul")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Real"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Somme des valeurs de l'entity selection")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-34"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".sum()")," renvoie la somme de toutes les valeurs de ",(0,a.kt)("em",{parentName:"p"},"attributePath")," dans l'entity selection."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},".sum()")," retourne 0 si l'entity selection est vide."),(0,a.kt)("p",null,"La somme peut uniquement \xeatre effectu\xe9e sur des valeurs num\xe9riques. Si ",(0,a.kt)("em",{parentName:"p"},"attributePath")," est de type objet, seules les valeurs num\xe9riques qu'il contient seront prises en compte (les autres types de valeurs sont ignor\xe9s). Dans ce cas, si ",(0,a.kt)("em",{parentName:"p"},"attributePath")," d\xe9signe une propri\xe9t\xe9 qui n'existe pas dans l'objet ou qui ne contient pas de valeurs num\xe9riques, ",(0,a.kt)("inlineCode",{parentName:"p"},".sum()")," retourne 0."),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," est un attribut qui n'est ni de type num\xe9rique ni de type objet,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," est un attribut relatif,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," n'est pas trouv\xe9 dans la dataclass de l'entity selection.")),(0,a.kt)("h4",l({},{id:"exemple-23"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $sel : cs.EmployeeSelection\nvar $sum : Real\n\n$sel:=ds.Employee.query("salary < :1";20000)\n$sum:=$sel.sum("salary")\n')),(0,a.kt)("h2",l({},{id:"tocollection"}),".toCollection()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".toCollection"),"( { ",(0,a.kt)("em",{parentName:"p"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"howMany")," : Integer } } ) : ",(0,a.kt)("em",{parentName:"p"},"Collection"),(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".toCollection"),"( ",(0,a.kt)("em",{parentName:"p"},"filterString")," : Text {; ",(0,a.kt)("em",{parentName:"p"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"howMany")," : Integer }}} ) : ",(0,a.kt)("em",{parentName:"p"},"Collection"),(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".toCollection"),"( ",(0,a.kt)("em",{parentName:"p"},"filterCol")," : Collection {; ",(0,a.kt)("em",{parentName:"p"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"howMany")," : Integer }}} ) : ",(0,a.kt)("em",{parentName:"p"},"Collection")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"filterString"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin(s) d'attribut(s) \xe0 extraire")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"filterCol"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection d'attribut(s) \xe0 extraire")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"options"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk with primary key")," : ajoute la cl\xe9 primaire",(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"dk with stamp")," : ajoute le marqueur")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"begin"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"D\xe9signe la position de d\xe9but")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"howMany"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nombre d'entit\xe9s \xe0 extraire")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection d'objets contenant les attributs et valeurs de l'entity selection")))),(0,a.kt)("p",null,"|"),(0,a.kt)("h4",l({},{id:"description-35"}),"Description"),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".toCollection()")," cr\xe9e et retourne une collection dans laquelle chaque \xe9l\xe9ment est un objet contenant un ensemble de propri\xe9t\xe9s et de valeurs correspondant aux noms et valeurs d'attributs de l'entity selection."),(0,a.kt)("p",null,'Si aucun param\xe8tre de filtre n\'est pass\xe9 ou si le param\xe8tre contient une cha\xeene vide ou "*", tous les attributs sont extraits. Les attributs dont la propri\xe9t\xe9 ',(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/20-R4/API/DataClassClass#attributename"}),"kind"),' est "relatedEntity" sont extraits avec la forme simple : un objet avec la propri\xe9t\xe9 ',"_","_",'KEY (cl\xe9 primaire). Les attributs dont la propri\xe9t\xe9 "kind" est "relatedEntities" ne sont pas extraits.'),(0,a.kt)("p",null,"Vous pouvez \xe9galement indiquer les attributs \xe0 extraire \xe0 l'aide d'un param\xe8tre de filtre. Deux types de filtres sont utilisables :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"filterString"),' --une cha\xeene avec les chemins des propri\xe9t\xe9s s\xe9par\xe9s par des virgules : "propertyPath1, propertyPath2, ...".'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"filterCol")," --une collection de cha\xeenes contenant des chemins de propri\xe9t\xe9s : ",'["propertyPath1","propertyPath2",...]')),(0,a.kt)("p",null,"Si un filtre est sp\xe9cifi\xe9 pour un attribut de type ",(0,a.kt)("inlineCode",{parentName:"p"},"relatedEntity")," :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity" -> l\'extraction se fait dans une forme simple'),(0,a.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity.*" -> toutes les propri\xe9t\xe9s sont extraites'),(0,a.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity.propertyName1, relatedEntity.propertyName2, ..." -> seules ces propri\xe9t\xe9s sont extraites')),(0,a.kt)("p",null,"Si un filtre est sp\xe9cifi\xe9 pour un attribut de type ",(0,a.kt)("inlineCode",{parentName:"p"},"relatedEntity")," :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntities.*" -> toutes les propri\xe9t\xe9s sont extraites'),(0,a.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntities.propertyName1, relatedEntities.propertyName2, ..." -> seules ces propri\xe9t\xe9s sont extraites')),(0,a.kt)("p",null,"Dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"options")," , vous pouvez passer le(s) s\xe9lecteur(s) ",(0,a.kt)("inlineCode",{parentName:"p"},"dk with primary key")," et/ou ",(0,a.kt)("inlineCode",{parentName:"p"},"dk with stamp")," pour ajouter les cl\xe9s primaires et/ou les marqueurs de l'entit\xe9 dans les objets extraits."),(0,a.kt)("admonition",l({},{title:"Avertissement",type:"caution"}),(0,a.kt)("p",{parentName:"admonition"},"Si vous utilisez un autre attribut que la cl\xe9 primaire comme attribut 1 dans une relation, la valeur de cet attribut sera inscrite dans la propri\xe9t\xe9 \"__KEY\". N'oubliez pas qu'il est recommand\xe9 d'utiliser la cl\xe9 primaire comme attribut 1 dans vos relations, en particulier lorsque vous utilisez les fonctions ",(0,a.kt)("inlineCode",{parentName:"p"},".toCollection()")," et ",(0,a.kt)("inlineCode",{parentName:"p"},".fromCollection()")," .")),(0,a.kt)("p",null,"Le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"begin")," vous permet d'indiquer la position de d\xe9part des entit\xe9s \xe0 extraire. Vous pouvez passer toute valeur comprise entre 0 et la longueur de l'entity selection -1."),(0,a.kt)("p",null,"Le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"howMany")," vous permet de sp\xe9cifier le nombre d'entit\xe9s \xe0 extraire, \xe0 partir de celle d\xe9sign\xe9e par ",(0,a.kt)("em",{parentName:"p"},"begin"),". Les entit\xe9s supprim\xe9es ne sont pas retourn\xe9es mais sont prises en compte dans ",(0,a.kt)("em",{parentName:"p"},"howMany"),". Par exemple, si ",(0,a.kt)("em",{parentName:"p"},"howMany"),"= 3 et s'il y a une entit\xe9 supprim\xe9e, seulement 2 entit\xe9s sont extraites."),(0,a.kt)("p",null,"Si ",(0,a.kt)("em",{parentName:"p"},"howMany")," > length de l'entity selection, la fonction retourne (length - ",(0,a.kt)("em",{parentName:"p"},"begin"),") objets."),(0,a.kt)("p",null,"Une collection vide est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"l'entity selection est vide, ou"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"begin")," est sup\xe9rieur \xe0 la longueur de l'entity selection.")),(0,a.kt)("h4",l({},{id:"exemple-1-10"}),"Exemple 1"),(0,a.kt)("p",null,"La structure suivante sera utilis\xe9e pour les exemples de cette section :"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(645979).Z,width:"1000",height:"610"})),(0,a.kt)("p",null,"Exemple sans param\xe8tres de filtre ni d'options :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $employeesCollection : Collection\n var $employees : cs.EmployeeSelection\n\n $employeesCollection:=New collection\n $employees:=ds.Employee.all()\n $employeesCollection:=$employees.toCollection()\n")),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "ID": 416,\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "salary": 79100,\n        "birthDate": "1963-02-01T00:00:00.000Z",\n        "woman": false,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n\n        }\n    },\n    {\n        "ID": 417,\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "salary": 47000,\n        "birthDate": "1992-06-16T00:00:00.000Z",\n        "woman": true,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n        }\n    }\n]\n')),(0,a.kt)("h4",l({},{id:"exemple-2-10"}),"Exemple 2"),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\nvar $employees : cs.EmployeeSelection\n\n$employeesCollection:=New collection\n$employees:=ds.Employee.all()\n$employeesCollection:=$employees.toCollection("";dk with primary key+dk with stamp)\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "__KEY": 416,\n        "__STAMP": 1,\n        "ID": 416,\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "salary": 79100,\n        "birthDate": "1963-02-01T00:00:00.000Z",\n        "woman": false,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n        }\n    },\n    {\n        "__KEY": 417,\n        "__STAMP": 1,\n        "ID": 417,\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "salary": 47000,\n        "birthDate": "1992-06-16T00:00:00.000Z",\n        "woman": true,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n        }\n    }]\n')),(0,a.kt)("h4",l({},{id:"exemple-3-3"}),"Exemple 3"),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection; $filter : Collection\nvar $employees : cs.EmployeeSelection\n\n\n$employeesCollection:=New collection\n$filter:=New collection\n\n\n$filter.push("firstName")\n$filter.push("lastName")\n\n$employees:=ds.Employee.all()\n$employeesCollection:=$employees.toCollection($filter;0;0;2)\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl"\n    },\n    {\n        "firstName": "Irma",\n        "lastName": "Durham"\n    }\n]\n\n')),(0,a.kt)("h4",l({},{id:"exemple-4-1"}),"Exemple 4"),(0,a.kt)("p",null,"Exemple avec le type ",(0,a.kt)("inlineCode",{parentName:"p"},"relatedEntity")," avec une forme simple :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\n$employeesCollection:=New collection\n$employeesCollection:=$employees.toCollection("firstName,lastName,employer")\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "employer": {\n            "__KEY": 20\n        }\n    },\n    {\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "employer": {\n            "__KEY": 20\n        }\n    },\n    {\n        "firstName": "Lorena",\n        "lastName": "Boothe",\n        "employer": {\n            "__KEY": 20\n        }\n    }\n   ]\n')),(0,a.kt)("h4",l({},{id:"exemple-5-1"}),"Exemple 5"),(0,a.kt)("p",null,"Exemple avec le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"filterCol")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection; $coll : Collection\n$employeesCollection:=New collection\n$coll:=New collection("firstName";"lastName")\n$employeesCollection:=$employees.toCollection($coll)\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Joanna",\n        "lastName": "Cabrera"\n    },\n    {\n        "firstName": "Alexandra",\n        "lastName": "Coleman"\n    }\n]\n')),(0,a.kt)("h4",l({},{id:"exemple-6-1"}),"Exemple 6"),(0,a.kt)("p",null,"Dans cet exemple, les langages classiques et ORDA modifient simultan\xe9ment les m\xeames donn\xe9es :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection; $coll : Collection\n$employeesCollection:=New collection\n$coll:=New collection\n$coll.push("firstName")\n$coll.push("lastName")\n$coll.push("employer.*")\n$employeesCollection:=$employees.toCollection($coll)\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "employer": {\n            "ID": 20,\n            "name": "India Astral Secretary",\n            "creationDate": "1984-08-25T00:00:00.000Z",\n            "revenues": 12000000,\n            "extra": null\n        }\n    },\n    {\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "employer": {\n            "ID": 20,\n            "name": "India Astral Secretary",\n            "creationDate": "1984-08-25T00:00:00.000Z",\n            "revenues": 12000000,\n            "extra": null\n        }\n    },\n    {\n        "firstName": "Lorena",\n        "lastName": "Boothe",\n        "employer": {\n            "ID": 20,\n            "name": "India Astral Secretary",\n            "creationDate": "1984-08-25T00:00:00.000Z",\n            "revenues": 12000000,\n            "extra": null\n        }\n    }\n  ]\n')),(0,a.kt)("h4",l({},{id:"exemple-7-1"}),"Exemple 7"),(0,a.kt)("p",null,"Exemple avec extraction de quelques propri\xe9t\xe9s de relatedEntity :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\n$employeesCollection:=New collection\n$employeesCollection:=$employees.toCollection("firstName, lastName, employer.name")\n')),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n\n        "employer": {\n            "name": "India Astral Secretary"\n        }\n    },\n    {\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "employer": {\n            "name": "India Astral Secretary"\n        }\n    },\n    {\n        "firstName": "Lorena",\n        "lastName": "Boothe",\n        "employer": {\n            "name": "India Astral Secretary"\n        }\n    }]\n')),(0,a.kt)("h4",l({},{id:"exemple-8-1"}),"Exemple 8"),(0,a.kt)("p",null,"Exemple avec extraction de certaines propri\xe9t\xe9s de ",(0,a.kt)("inlineCode",{parentName:"p"},"relatedEntities"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employeesCollection : Collection\n $employeesCollection:=New collection\n $employeesCollection:=$employees.toCollection("firstName, lastName, directReports.firstName")\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "directReports": []\n    },\n    {\n        "firstName": "Mike",\n        "lastName": "Phan",\n        "directReports": [\n            {\n                "firstName": "Gary"\n            },\n            {\n                "firstName": "Sadie"\n            },\n            {\n                "firstName": "Christie"\n            }\n        ]\n    },\n    {\n        "firstName": "Gary",\n\n        "lastName": "Reichert",\n        "directReports": [\n            {\n                "firstName": "Rex"\n            },\n            {\n                "firstName": "Jenny"\n            },\n            {\n                "firstName": "Lowell"\n            }\n        ]\n    }]\n')),(0,a.kt)("h4",l({},{id:"exemple-9-1"}),"Exemple 9"),(0,a.kt)("p",null,"Exemple avec extraction de toutes les propri\xe9t\xe9s de ",(0,a.kt)("inlineCode",{parentName:"p"},"relatedEntities")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\n$employeesCollection:=New collection\n$employeesCollection:=$employees.toCollection("firstName, lastName, directReports.*")\n\n')),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "directReports": []\n    },    \n    {\n        "firstName": "Mike",\n        "lastName": "Phan",\n        "directReports": [\n            {\n                "ID": 425,\n                "firstName": "Gary",\n                "lastName": "Reichert",\n                "salary": 65800,\n                "birthDate": "1957-12-23T00:00:00.000Z",\n                "woman": false,\n                "managerID": 424,\n                "employerID": 21,\n                "photo": "[object Picture]",\n                "extra": null,\n                "employer": {\n                    "__KEY": 21\n                },\n                "manager": {\n                    "__KEY": 424\n                }\n            },\n            {\n                "ID": 426,\n                "firstName": "Sadie",\n                "lastName": "Gallant",\n                "salary": 35200,\n                "birthDate": "2022-01-03T00:00:00.000Z",\n                "woman": true,\n                "managerID": 424,\n                "employerID": 21,\n                "photo": "[object Picture]",\n                "extra": null,\n                "employer": {\n                    "__KEY": 21\n                },\n                "manager": {\n                    "__KEY": 424\n                }\n            }\n                   ]\n    },\n    {\n        "firstName": "Gary",\n        "lastName": "Reichert",\n        "directReports": [\n            {\n                "ID": 428,\n                "firstName": "Rex",\n                "lastName": "Chance",\n                "salary": 71600,\n                "birthDate": "1968-08-09T00:00:00.000Z",\n                "woman": false,\n\n                "managerID": 425,\n                "employerID": 21,\n                "photo": "[object Picture]",\n                "extra": null,\n                "employer": {\n                    "__KEY": 21\n                },\n                "manager": {\n                    "__KEY": 425\n                }\n            },\n            {\n                "ID": 429,\n                "firstName": "Jenny",\n                "lastName": "Parks",\n                "salary": 51300,\n                "birthDate": "1984-05-25T00:00:00.000Z",\n                "woman": true,\n                "managerID": 425,\n                "employerID": 21,\n                "photo": "[object Picture]",\n                "extra": null,\n                "employer": {\n                    "__KEY": 21\n                },\n                "manager": {\n                    "__KEY": 425\n                }\n            }\n           ]\n }\n]\n')))}d.isMDXComponent=!0},645979:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png"},13073:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/entityselection-193aba9798fd8faddac31ad66bc75f26.PNG"}}]);