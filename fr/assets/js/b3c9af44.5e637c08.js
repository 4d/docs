"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[39365],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>c});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,o=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=p(a),c=l,k=m["".concat(o,".").concat(c)]||m[c]||u[c]||r;return a?n.createElement(k,s(s({ref:t},d),{},{components:a})):n.createElement(k,s({ref:t},d))}));function c(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,s=new Array(r);s[0]=m;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:l,s[1]=i;for(var p=2;p<r;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},24191:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>o,toc:()=>d});a(67294);var n=a(3905);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function r(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}const s={id:"{dataClass}",title:"{dataClass}"},i=void 0,o={unversionedId:"REST/{dataClass}",id:"version-18/REST/{dataClass}",title:"{dataClass}",description:"Les noms de dataclass peuvent \xeatre utilis\xe9s directement dans les requ\xeates REST pour op\xe9rer avec des entit\xe9s, des s\xe9lections d'entit\xe9s (entity selections) ou des m\xe9thodes de la dataclass.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-18/REST/{dataClass}.md",sourceDirName:"REST",slug:"/REST/{dataClass}",permalink:"/docs/fr/18/REST/{dataClass}",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2F%7BdataClass%7D.md%20(18)&body=Please%20enter%20your%20comment%3A",tags:[],version:"18",frontMatter:{id:"{dataClass}",title:"{dataClass}"},sidebar:"docs",previous:{title:"$upload",permalink:"/docs/fr/18/REST/upload"},next:{title:"$asArray",permalink:"/docs/fr/18/REST/asArray"}},p={},d=[{value:"Syntaxe",id:"syntaxe",level:2},{value:"{dataClass}",id:"dataclass",level:2},{value:"Description",id:"description",level:3},{value:"Exemple",id:"exemple",level:3},{value:"{dataClass}({cl\xe9})",id:"dataclasscl\xe9",level:2},{value:"Description",id:"description-1",level:3},{value:"Exemple",id:"exemple-1",level:3},{value:"{dataClass}:{attribut}(valeur)",id:"dataclassattributvaleur",level:2},{value:"Description",id:"description-2",level:3},{value:"Exemple",id:"exemple-2",level:3},{value:"{dataClass}/{method} et {dataClass}({key})/{method}",id:"dataclassmethod-et-dataclasskeymethod",level:2},{value:"Description",id:"description-3",level:3},{value:"Configuration 4D",id:"configuration-4d",level:3},{value:"Passer des param\xe8tres \xe0 une m\xe9thode",id:"passer-des-param\xe8tres-\xe0-une-m\xe9thode",level:3},{value:"Exemples",id:"exemples",level:3},{value:"Port\xe9e de la table",id:"port\xe9e-de-la-table",level:4},{value:"Port\xe9e enregistrement courant",id:"port\xe9e-enregistrement-courant",level:4},{value:"Port\xe9e de la s\xe9lection courante",id:"port\xe9e-de-la-s\xe9lection-courante",level:4}],u={toc:d};function m(e){var{components:t}=e,s=r(e,["components"]);return(0,n.kt)("wrapper",l({},u,s,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Les noms de dataclass peuvent \xeatre utilis\xe9s directement dans les requ\xeates REST pour op\xe9rer avec des entit\xe9s, des s\xe9lections d'entit\xe9s (entity selections) ou des m\xe9thodes de la dataclass."),(0,n.kt)("h2",l({},{id:"syntaxe"}),"Syntaxe"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Syntaxe"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Exemple"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#dataClass"}),(0,n.kt)("strong",{parentName:"a"},"{dataClass}"))),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"/Employee")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Renvoie toutes les donn\xe9es (par d\xe9faut les 100 premi\xe8res entit\xe9s) de la dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#dataclasskey"}),(0,n.kt)("strong",{parentName:"a"},"{dataClass}({cl\xe9})"))),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"/Employee(22)")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Renvoie les donn\xe9es de l'entit\xe9 sp\xe9cifique d\xe9finie par la cl\xe9 primaire de la dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#dataclassattributevalue"}),(0,n.kt)("strong",{parentName:"a"},"{dataClass}:{attribut}(valeur)"))),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"/Employee:firstName(John)")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Renvoie les donn\xe9es d'une entit\xe9 dans laquelle la valeur de l'attribut est d\xe9finie")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#dataclassmethod-and-dataclasskeymethod"}),(0,n.kt)("strong",{parentName:"a"},"{dataClass}/{m\xe9thode}"))),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"/Employee/getHighSalaries")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Ex\xe9cute une m\xe9thode projet et retourne un objet ou une collection (la m\xe9thode projet doit \xeatre expos\xe9e)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#dataclassmethod-and-dataclasskeymethod"}),(0,n.kt)("strong",{parentName:"a"},"{dataClass}({key})/{method}"))),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"/Employee(22)/getAge")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Renvoie une valeur bas\xe9e sur une m\xe9thode d'entit\xe9")))),(0,n.kt)("h2",l({},{id:"dataclass"}),"{dataClass}"),(0,n.kt)("p",null,"Renvoie toutes les donn\xe9es (par d\xe9faut, les 100 premi\xe8res entit\xe9s) pour une dataclass sp\xe9cifique (par exemple, ",(0,n.kt)("inlineCode",{parentName:"p"},"Soci\xe9t\xe9"),")"),(0,n.kt)("h3",l({},{id:"description"}),"Description"),(0,n.kt)("p",null,"Lorsque vous appelez ce param\xe8tre dans votre requ\xeate REST, les 100 premi\xe8res entit\xe9s sont renvoy\xe9es, sauf si vous avez sp\xe9cifi\xe9 une valeur \xe0 l'aide de ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/fr/18/REST/top_$limit"}),(0,n.kt)("inlineCode",{parentName:"a"},"$top/$limit")),"."),(0,n.kt)("p",null,"Voici une description des donn\xe9es retourn\xe9es :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__entityModel"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"String"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nom de la dataclass.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__COUNT"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre d'entit\xe9s dans la dataclass.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__SENT"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre d'entit\xe9s envoy\xe9es par la requ\xeate REST. Ce nombre peut \xeatre le nombre total d'entit\xe9s s'il est inf\xe9rieur \xe0 la valeur d\xe9finie par ",(0,n.kt)("inlineCode",{parentName:"td"},"$top/$limit"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__FIRST"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Num\xe9ro d'entit\xe9 \xe0 partir duquel la s\xe9lection commence. Soit 0 par d\xe9faut soit la valeur d\xe9finie par ",(0,n.kt)("inlineCode",{parentName:"td"},"$skip"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__ENTITIES"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Cette collection d'objets contient un objet pour chaque entit\xe9 avec tous ses attributs. Tous les attributs relationnels sont renvoy\xe9s en tant qu'objets avec un URI pour obtenir des informations concernant le parent.")))),(0,n.kt)("p",null,"Chaque entit\xe9 contient les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__KEY"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"String"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Valeur de la cl\xe9 primaire d\xe9finie pour la dataclass.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__TIMESTAMP"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Date"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Horodatage de la derni\xe8re modification de l'entit\xe9")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__STAMP"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Tampon interne qui est n\xe9cessaire lors de la modification des valeurs de l'entit\xe9 lors de l'utilisation de ",(0,n.kt)("inlineCode",{parentName:"td"},"$method=update"),".")))),(0,n.kt)("p",null,"Si vous souhaitez indiquer les attributs \xe0 retourner, d\xe9finissez-les \xe0 l'aide de la syntaxe suivante ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/fr/18/REST/manData##selecting-attributes-to-get"}),"{attribut1, attribut2, ...}"),". Par exemple :"),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company/name,address")),(0,n.kt)("h3",l({},{id:"exemple"}),"Exemple"),(0,n.kt)("p",null,"Retourne toutes les donn\xe9es d'une dataclass sp\xe9cifique."),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"R\xe9sultat")," :"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'{\n    "__entityModel": "Company",\n    "__GlobalStamp": 51,\n    "__COUNT": 250,\n    "__SENT": 100,\n    "__FIRST": 0,\n    "__ENTITIES": [\n        {\n            "__KEY": "1",\n            "__TIMESTAMP": "2020-04-10T10:44:49.927Z",\n            "__STAMP": 1,\n            "ID": 1,\n            "name": "Adobe",\n            "address": null,\n            "city": "San Jose",\n            "country": "USA",\n            "revenues": 500000,\n            "staff": {\n                "__deferred": {\n                    "uri": "http://127.0.0.1:8081/rest/Company(1)/staff?$expand=staff"\n                }\n            }\n        },\n        {\n            "__KEY": "2",\n            "__TIMESTAMP": "2018-04-25T14:42:18.351Z",\n            "__STAMP": 1,\n            "ID": 2,\n            "name": "Apple",\n            "address": null,\n            "city": "Cupertino",\n            "country": "USA",\n            "revenues": 890000,\n            "staff": {\n                "__deferred": {\n                    "uri": "http://127.0.0.1:8081/rest/Company(2)/staff?$expand=staff"\n                }\n            }\n        },\n        {\n            "__KEY": "3",\n            "__TIMESTAMP": "2018-04-23T09:03:49.021Z",\n            "__STAMP": 2,\n            "ID": 3,\n            "name": "4D",\n            "address": null,\n            "city": "Clichy",\n            "country": "France",\n            "revenues": 700000,\n            "staff": {\n                "__deferred": {\n                    "uri": "http://127.0.0.1:8081/rest/Company(3)/staff?$expand=staff"\n                }\n            }\n        },\n        {\n            "__KEY": "4",\n            "__TIMESTAMP": "2018-03-28T14:38:07.430Z",\n            "__STAMP": 1,\n            "ID": 4,\n            "name": "Microsoft",\n            "address": null,\n            "city": "Seattle",\n            "country": "USA",\n            "revenues": 650000,\n            "staff": {\n                "__deferred": {\n                    "uri": "http://127.0.0.1:8081/rest/Company(4)/staff?$expand=staff"\n                }\n            }\n        }\n.....//plus d\'entit\xe9s ici \n    ]\n}\n')),(0,n.kt)("h2",l({},{id:"dataclasscl\xe9"}),"{dataClass}({cl\xe9})"),(0,n.kt)("p",null,"Renvoie les donn\xe9es de l'entit\xe9 sp\xe9cifique d\xe9finie par la cl\xe9 primaire de la dataclass, par exemple, ",(0,n.kt)("inlineCode",{parentName:"p"},'Company (22) ou Company ("IT0911AB2200")')),(0,n.kt)("h3",l({},{id:"description-1"}),"Description"),(0,n.kt)("p",null,"En passant la dataclass et une cl\xe9, vous pouvez r\xe9cup\xe9rer toutes les informations publiques de cette entit\xe9. En passant la dataclass et une cl\xe9, vous pouvez r\xe9cup\xe9rer toutes les informations publiques de cette entit\xe9. Pour plus d'informations sur la d\xe9finition d'une cl\xe9 primaire, reportez-vous \xe0 la section ",(0,n.kt)("strong",{parentName:"p"},"Modification de la cl\xe9 primaire")," dans ",(0,n.kt)("strong",{parentName:"p"},"l'\xe9diteur de mod\xe8le de donn\xe9es"),"."),(0,n.kt)("p",null,"Pour plus d'informations sur les donn\xe9es retourn\xe9es, reportez-vous \xe0 ",(0,n.kt)("a",l({parentName:"p"},{href:"#datastoreclass"}),"{datastoreClass}"),"."),(0,n.kt)("p",null,"Si vous souhaitez indiquer les attributs \xe0 retourner, d\xe9finissez-les \xe0 l'aide de la syntaxe suivante ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/fr/18/REST/manData##selecting-attributes-to-get"}),"{attribut1, attribut2, ...}"),". Par exemple :"),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company(1)/name,address")),(0,n.kt)("p",null,"Si vous souhaitez d\xe9velopper un attribut relationnel \xe0 l'aide de ",(0,n.kt)("inlineCode",{parentName:"p"},"$expand"),", vous devez l'indiquer comme suit :"),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company(1)/name,address,staff?$expand=staff")),(0,n.kt)("h3",l({},{id:"exemple-1"}),"Exemple"),(0,n.kt)("p",null,"La requ\xeate suivante retourne toutes les donn\xe9es publiques de la dataclass Company dont la cl\xe9 est 1."),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company(1)")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"R\xe9sultat")," :"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'{\n    "__entityModel": "Company",\n    "__KEY": "1",\n    "__TIMESTAMP": "2020-04-10T10:44:49.927Z",\n    "__STAMP": 2,\n    "ID": 1,\n    "name": "Apple",\n    "address": Infinite Loop,\n    "city": "Cupertino",\n    "country": "USA",\n    "url": http://www.apple.com,\n    "revenues": 500000,\n    "staff": {\n        "__deferred": {\n            "uri": "http://127.0.0.1:8081/rest/Company(1)/staff?$expand=staff"\n        }\n    }\n}\n')),(0,n.kt)("h2",l({},{id:"dataclassattributvaleur"}),"{dataClass}:{attribut}(valeur)"),(0,n.kt)("p",null,"Renvoie les donn\xe9es d'une entit\xe9 dans laquelle la valeur de l'attribut est d\xe9finie"),(0,n.kt)("h3",l({},{id:"description-2"}),"Description"),(0,n.kt)("p",null,"En passant la ",(0,n.kt)("em",{parentName:"p"},"dataClass")," et un ",(0,n.kt)("em",{parentName:"p"},"attribut")," avec une valeur, vous pouvez r\xe9cup\xe9rer toutes les informations publiques de cette entit\xe9. La valeur est une valeur unique pour l'attribut, mais ce n'est pas la cl\xe9 primaire."),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company:companyCode(Acme001)")),(0,n.kt)("p",null,"Si vous souhaitez indiquer les attributs \xe0 retourner, d\xe9finissez-les \xe0 l'aide de la syntaxe suivante ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/fr/18/REST/manData##selecting-attributes-to-get"}),"{attribut1, attribut2, ...}"),". Par exemple :"),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company:companyCode(Acme001)/name,address")),(0,n.kt)("p",null,"Si vous souhaitez utiliser un attribut relationnel \xe0 l'aide de ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/fr/18/REST/attributes"}),"$attributes"),", vous devez l'indiquer comme suit :"),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company:companyCode(Acme001)?$attributes=name,address,staff.name")),(0,n.kt)("h3",l({},{id:"exemple-2"}),"Exemple"),(0,n.kt)("p",null,'La requ\xeate suivante retourne toutes les donn\xe9es publiques de l\'employ\xe9 nomm\xe9 "Jones".'),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Employee:lastname(Jones)")),(0,n.kt)("h2",l({},{id:"dataclassmethod-et-dataclasskeymethod"}),"{dataClass}/{method} et {dataClass}({key})/{method}"),(0,n.kt)("p",null,"Retourne un objet ou une collection bas\xe9e sur une m\xe9thode projet."),(0,n.kt)("h3",l({},{id:"description-3"}),"Description"),(0,n.kt)("p",null,"Les m\xe9thodes projet sont appel\xe9es via une dataclass (table) ou une entit\xe9 (enregistrement) et doivent retourner un objet ou une collection."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee/getHighSalaries")),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee(52)/getFullName")),(0,n.kt)("h3",l({},{id:"configuration-4d"}),"Configuration 4D"),(0,n.kt)("p",null,"Pour \xeatre appel\xe9e dans une requ\xeate REST, une m\xe9thode doit :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'avoir \xe9t\xe9 d\xe9clar\xe9e "Disponible via le serveur REST" dans 4D,'),(0,n.kt)("li",{parentName:"ul"},"avoir sa table principale et sa port\xe9e d\xe9finies en cons\xe9quence :",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Table")," : la table 4D (c'est-\xe0-dire dataclass) sur laquelle la m\xe9thode est appel\xe9e. La table doit \xeatre ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/fr/18/REST/configuration#exposing-tables-and-fields"}),"expos\xe9e \xe0 REST"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Port\xe9e")," : Ce param\xe8tre est utile lorsque la m\xe9thode utilise le langage classique de 4D et doit donc avoir un contexte de base de donn\xe9es c\xf4t\xe9 serveur.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Table ")," - pour les m\xe9thodes appliqu\xe9es \xe0 la table enti\xe8re (dataclass)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Enregistrement courant")," - pour les m\xe9thodes appliqu\xe9es \xe0 l'enregistrement courant (entit\xe9) \xe0 l'aide de la syntaxe ",(0,n.kt)("inlineCode",{parentName:"li"},"{dataClass} (cl\xe9)/{m\xe9thode}"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"S\xe9lection courante")," - pour les m\xe9thodes appliqu\xe9es \xe0 la s\xe9lection courante")))))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"alt-text",src:a(85197).Z,width:"552",height:"557"})),(0,n.kt)("h3",l({},{id:"passer-des-param\xe8tres-\xe0-une-m\xe9thode"}),"Passer des param\xe8tres \xe0 une m\xe9thode"),(0,n.kt)("p",null,"Vous pouvez \xe9galement passer des param\xe8tres \xe0 une m\xe9thode dans un POST."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee/addEmployee")),(0,n.kt)("p",null,"Vous pouvez POSTER des donn\xe9es dans le corps de la requ\xeate, par exemple :"),(0,n.kt)("p",null,'["John","Smith"]'),(0,n.kt)("h3",l({},{id:"exemples"}),"Exemples"),(0,n.kt)("h4",l({},{id:"port\xe9e-de-la-table"}),"Port\xe9e de la table"),(0,n.kt)("p",null,"Appel d'une m\xe9thode ",(0,n.kt)("inlineCode",{parentName:"p"},"getAverage")," :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"sur la table ","[Employee]"),(0,n.kt)("li",{parentName:"ul"},"avec la port\xe9e ",(0,n.kt)("strong",{parentName:"li"},"Table"))),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' //getAverage  \nALL RECORDS([Employee])\n$0:=New object("ageAverage";Average([Employee]age))\n')),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee/getAverage")),(0,n.kt)("p",null,"R\xe9sultat:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'{\n    "result": {\n        "ageAverage": 44.125\n    }\n}\n')),(0,n.kt)("h4",l({},{id:"port\xe9e-enregistrement-courant"}),"Port\xe9e enregistrement courant"),(0,n.kt)("p",null,"Appel d'une m\xe9thode ",(0,n.kt)("inlineCode",{parentName:"p"},"getFullName")," :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"sur la table ","[Employee]"),(0,n.kt)("li",{parentName:"ul"},"avec la port\xe9e de ",(0,n.kt)("strong",{parentName:"li"},"Enregistrement courant"))),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' //getFullName  \n$0:=New object("fullName";[Employee]firstname+" "+[Employee]lastname)\n')),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee(3)/getFullName")),(0,n.kt)("p",null,"R\xe9sultat:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'{\n    "result": {\n        "fullName": "John Smith"\n    }\n}\n')),(0,n.kt)("h4",l({},{id:"port\xe9e-de-la-s\xe9lection-courante"}),"Port\xe9e de la s\xe9lection courante"),(0,n.kt)("p",null,"Appel d'une m\xe9thode ",(0,n.kt)("inlineCode",{parentName:"p"},"updateSalary")," :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"sur la table ","[Employee]"),(0,n.kt)("li",{parentName:"ul"},"avec la port\xe9e de ",(0,n.kt)("strong",{parentName:"li"},"S\xe9lection courante"))),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' //updateSalary  \nC_REAL($1;$vCount)\nREAD WRITE([Employee])\n$vCount:=0\nFIRST RECORD([Employee])\nWhile (Not(End selection([Employee]))  \n [Employee]salary:=[Employee]salary * $1\n    SAVE RECORD([Employee])\n    $vCount:=$vCount+1\n    NEXT RECORD([Employee])\nEnd while \nUNLOAD RECORD([Employee])\n$0:=New object("updates";$vCount)\n')),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},'POST  /rest/Employee/updateSalary/?$filter="salary<1500"')),(0,n.kt)("p",null,"POST data (in the request body): ","[1.5]"),(0,n.kt)("p",null,"R\xe9sultat:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'{\n    "result": {\n        "updated": 42\n    }\n}\n')))}m.isMDXComponent=!0},85197:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/MethodProp-81c3e8a0e2bb72d44d9ac3e5d10d4a7f.png"}}]);