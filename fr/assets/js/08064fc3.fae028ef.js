"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["48410"],{861644:function(e,n,s){s.r(n),s.d(n,{metadata:()=>t,contentTitle:()=>d,default:()=>m,assets:()=>a,toc:()=>c,frontMatter:()=>i});var t=JSON.parse('{"id":"commands-legacy/dom-set-xml-element-value","title":"DOM SET XML ELEMENT VALUE","description":"DOM SET XML ELEMENT VALUE ( refEl\xe9ment {; xPath}; valeurEl\xe9ment {; *} )","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/dom-set-xml-element-value.md","sourceDirName":"commands-legacy","slug":"/commands/dom-set-xml-element-value","permalink":"/docs/fr/commands/dom-set-xml-element-value","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fdom-set-xml-element-value.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"dom-set-xml-element-value","title":"DOM SET XML ELEMENT VALUE","slug":"/commands/dom-set-xml-element-value","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"DOM SET XML ELEMENT NAME","permalink":"/docs/fr/commands/dom-set-xml-element-name"},"next":{"title":"XML SAX","permalink":"/docs/fr/category/xml-sax"}}'),l=s("785893"),r=s("250065");let i={id:"dom-set-xml-element-value",title:"DOM SET XML ELEMENT VALUE",slug:"/commands/dom-set-xml-element-value",displayed_sidebar:"docs"},d=void 0,a={},c=[{value:"Description",id:"description",level:4},{value:"Note sur le traitement des caract\xe8res de fin de ligne",id:"note-sur-le-traitement-des-caract\xe8res-de-fin-de-ligne",level:5},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"Variables et ensembles syst\xe8me",id:"variables-et-ensembles-syst\xe8me",level:4},{value:"Voir aussi",id:"voir-aussi",level:4},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:4}];function o(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",h5:"h5",li:"li",p:"p",postulate:"postulate",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"DOM SET XML ELEMENT VALUE"})," ( ",(0,l.jsx)(n.em,{children:"refEl\xe9ment"})," {; ",(0,l.jsx)(n.em,{children:"xPath"}),"}; ",(0,l.jsx)(n.em,{children:"valeurEl\xe9ment"})," {; *} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Param\xe8tre"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"refEl\xe9ment"}),(0,l.jsx)(n.td,{children:"Text"}),(0,l.jsx)(n.td,{children:"\u2192"}),(0,l.jsx)(n.td,{children:"R\xe9f\xe9rence d\u2019\xe9l\xe9ment XML"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"xPath"}),(0,l.jsx)(n.td,{children:"Text"}),(0,l.jsx)(n.td,{children:"\u2192"}),(0,l.jsx)(n.td,{children:"Chemin XPath de l\u2019\xe9l\xe9ment XML"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"valeurEl\xe9ment"}),(0,l.jsx)(n.td,{children:"Text, Variable"}),(0,l.jsx)(n.td,{children:"\u2192"}),(0,l.jsx)(n.td,{children:"Nouvelle valeur de l\u2019\xe9l\xe9ment"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"*"}),(0,l.jsx)(n.td,{children:"Op\xe9rateur"}),(0,l.jsx)(n.td,{children:"\u2192"}),(0,l.jsx)(n.td,{children:"Si pass\xe9 : d\xe9finir la valeur en CDATA"})]})]})]}),"\n",(0,l.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,l.jsxs)(n.p,{children:["La commande ",(0,l.jsx)(n.strong,{children:"DOM SET XML ELEMENT VALUE"})," permet de modifier la valeur de l\u2019\xe9l\xe9ment d\xe9sign\xe9 par ",(0,l.jsx)(n.em,{children:"refEl\xe9ment"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["Si vous passez le param\xe8tre facultatif ",(0,l.jsx)(n.em,{children:"xPath"}),", vous choisissez d'utiliser la notation XPath pour d\xe9signer l\u2019\xe9l\xe9ment \xe0 modifier (pour plus d'informations, reportez-vous \xe0 la section",(0,l.jsx)(n.em,{children:"Utilisation de la notation XPath"}),"). Les expressions de chemin suivantes sont prises en charge :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:(0,l.jsx)(n.strong,{children:"Expression"})}),(0,l.jsx)(n.th,{children:(0,l.jsx)(n.strong,{children:"Action"})})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"/"}),(0,l.jsx)(n.td,{children:"D\xe9signe le noeud racine (chemin absolu)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"para[1]"}),(0,l.jsx)(n.td,{children:"D\xe9signe le premier para enfant du noeud contextuel"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"para[last()]"}),(0,l.jsx)(n.td,{children:"D\xe9signe le dernier para enfant du noeud contextuel"})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:["Dans ce cas, vous devez passer la r\xe9f\xe9rence d\u2019un \xe9l\xe9ment XML racine dans ",(0,l.jsx)(n.em,{children:"refEl\xe9ment"})," et le chemin XPath de l\u2019\xe9l\xe9ment \xe0 modifier dans xPath."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note de compatibilit\xe9 :"})," ",(0,l.jsxs)(n.em,{children:["A compter de v18 R3, le niveau de conformit\xe9 de l'impl\xe9mentation de XPath dans 4D est nettement plus \xe9lev\xe9. Pour des raisons de compatibilit\xe9, l'impl\xe9mentation ant\xe9rieure non standard est maintenue par d\xe9faut dans les bases converties. Si vous souhaitez b\xe9n\xe9ficier des fonctionnalit\xe9s avanc\xe9es dans vos bases converties, vous devez cocher l'option de compatibilit\xe9 ",(0,l.jsx)(n.em,{children:"Utiliser XPath standard"})," de la"]})," *",(0,l.jsx)(n.em,{children:"Page Compatibilit\xe9."})]}),"\n",(0,l.jsxs)(n.p,{children:["Passez dans ",(0,l.jsx)(n.em,{children:"valeurEl\xe9ment"})," une cha\xeene ou une variable (ou un champ) contenant la nouvelle valeur de l\u2019\xe9l\xe9ment :"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"si vous passez une cha\xeene, la valeur sera affect\xe9e telle quelle dans la structure XML."}),"\n",(0,l.jsxs)(n.li,{children:["si vous passez une variable ou un champ, 4D appliquera un traitement appropri\xe9 \xe0 la valeur en fonction du type de ",(0,l.jsx)(n.em,{children:"valeurEl\xe9ment"}),". Tous les types de donn\xe9es peuvent \xeatre utilis\xe9s, \xe0 l\u2019exception des tableaux, images et pointeurs. Si valeurEl\xe9ment prend la valeur ",(0,l.jsx)(n.em,{children:"ind\xe9fini"}),", 4D utilise une cha\xeene vide."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Lorsque le param\xe8tre facultatif ast\xe9risque (",(0,l.jsx)(n.em,{children:"*"}),") est pass\xe9, vous indiquez que la valeur de l\u2019\xe9l\xe9ment doit \xeatre d\xe9finie sous la forme CDATA. La forme sp\xe9ciale CDATA permet d\u2019\xe9crire du texte sous forme brute (cf. exemple 2)."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note :"})," Lorsque l\u2019\xe9l\xe9ment d\xe9sign\xe9 par ",(0,l.jsx)(n.em,{children:"refEl\xe9ment"})," est de type BLOB, ",(0,l.jsx)(n.strong,{children:"DOM SET XML ELEMENT VALUE"})," l'encode automatiquement en base64. Dans ce cas, la commande ",(0,l.jsx)(n.a,{href:"/docs/fr/commands/dom-get-xml-element-value",children:"DOM GET XML ELEMENT VALUE"})," effectue automatiquement l'op\xe9ration inverse."]}),"\n",(0,l.jsx)(n.h5,{id:"note-sur-le-traitement-des-caract\xe8res-de-fin-de-ligne",children:"Note sur le traitement des caract\xe8res de fin de ligne"}),"\n",(0,l.jsx)(n.p,{children:"Par conformit\xe9 avec les r\xe8gles de traitement XML, toutes les s\xe9quences de caract\xe8res de fin de ligne CR et CRLF sont converties en caract\xe8res LF."}),"\n",(0,l.jsx)(n.h4,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,l.jsx)(n.p,{children:"Soit la source XML suivante :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-XML",children:"<Book>\n\xa0\xa0\xa0<Title>The Best Seller</Title>\n</Book>\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Si le code suivant est ex\xe9cut\xe9, en admettant que ",(0,l.jsx)(n.em,{children:"vRefElem"})," contienne la r\xe9f\xe9rence de l\u2019\xe9l\xe9ment \u2018Title\u2019 :"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-4d",children:'\xa0DOM SET XML ELEMENT VALUE(vRefElem;"The Loser")\n'})}),"\n",(0,l.jsx)(n.p,{children:"Nous obtenons :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-XML",children:"<Book>\n\xa0\xa0\xa0<Title>The Loser</Title>\n</Book>\n"})}),"\n",(0,l.jsx)(n.h4,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,l.jsx)(n.p,{children:"Soit la source XML suivante :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-XML",children:"<Maths>\n\xa0\xa0\xa0<Postulate>1+2=3</Postulate>\n</Maths>\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Nous souhaitons \xe9crire le texte \u201C12 < 18\u201D dans l\u2019\xe9l\xe9ment ",(0,l.jsx)(n.em,{children:(0,l.jsx)(n.postulate,{})}),". Cette cha\xeene ne peut pas \xeatre \xe9crite telle quelle en XML car le caract\xe8re \u201C<\u201D n\u2019est pas accept\xe9. Ce caract\xe8re doit donc \xeatre transform\xe9 en \u201C<\u201D, ou la forme CDATA doit \xeatre utilis\xe9e. Si ",(0,l.jsx)(n.em,{children:"vElemRef"})," d\xe9signe le noeud XML ",(0,l.jsx)(n.em,{children:(0,l.jsx)(n.postulate,{})})," :"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// Forme normale\n\xa0DOM SET XML ELEMENT VALUE(vRefElem;"12 < 18")\n'})}),"\n",(0,l.jsx)(n.p,{children:"Nous obtenons :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-XML",children:"<Maths>\n\xa0\xa0\xa0<Postulate>12 < 18</Postulate>\n</Maths>\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// Forme CDATA\n\xa0DOM SET XML ELEMENT VALUE(vRefElem;"12 < 18";*)\n'})}),"\n",(0,l.jsx)(n.p,{children:"Nous obtenons :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-XML",children:"<Maths>\n\xa0\xa0\xa0<Postulate><![CDATA[12 < 18]]></Postulate>\n</Maths>\n"})}),"\n",(0,l.jsx)(n.h4,{id:"variables-et-ensembles-syst\xe8me",children:"Variables et ensembles syst\xe8me"}),"\n",(0,l.jsx)(n.p,{children:"Si la commande a \xe9t\xe9 ex\xe9cut\xe9e correctement, la variable syst\xe8me OK prend la valeur 1, sinon elle prend la valeur 0 et une erreur est g\xe9n\xe9r\xe9e (par exemple, si la r\xe9f\xe9rence de l\u2019\xe9l\xe9ment n\u2019est pas valide)."}),"\n",(0,l.jsx)(n.h4,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"/docs/fr/commands/dom-get-xml-element-value",children:"DOM GET XML ELEMENT VALUE"}),(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.a,{href:"/docs/fr/commands/xml-set-options",children:"XML SET OPTIONS"})]}),"\n",(0,l.jsx)(n.h4,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{}),(0,l.jsx)(n.th,{})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Num\xe9ro de commande"}),(0,l.jsx)(n.td,{children:"868"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Thread safe"}),(0,l.jsx)(n.td,{children:"\u2713"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Modifie les variables"}),(0,l.jsx)(n.td,{children:"OK, error"})]})]})]})]})}function m(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return d},a:function(){return i}});var t=s(667294);let l={},r=t.createContext(l);function i(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);