"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[44414],{603905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>c});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(a),c=r,k=m["".concat(o,".").concat(c)]||m[c]||d[c]||l;return a?n.createElement(k,i(i({ref:t},u),{},{components:a})):n.createElement(k,i({ref:t},u))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=m;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},418871:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>u});a(667294);var n=a(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const i={id:"DataStoreClass",title:"DataStore"},s=void 0,o={unversionedId:"API/DataStoreClass",id:"version-19/API/DataStoreClass",title:"DataStore",description:"Un Datastore correspond \xe0 l'objet d'interface fourni par ORDA pour r\xe9f\xe9rencer et acc\xe9der \xe0 une base de donn\xe9es. Les objets Datastore sont retourn\xe9s par les commandes suivantes :",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-19/API/DataStoreClass.md",sourceDirName:"API",slug:"/API/DataStoreClass",permalink:"/docs/fr/19/API/DataStoreClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataStoreClass.md%20(19)&body=Please%20enter%20your%20comment%3A",tags:[],version:"19",frontMatter:{id:"DataStoreClass",title:"DataStore"},sidebar:"docs",previous:{title:"DataClass",permalink:"/docs/fr/19/API/DataClassClass"},next:{title:"Email",permalink:"/docs/fr/19/API/EmailObjectClass"}},p={},u=[{value:"Sommaire",id:"sommaire",level:3},{value:"ds",id:"ds",level:2},{value:"Description",id:"description",level:4},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"Open datastore",id:"open-datastore",level:2},{value:"Description",id:"description-1",level:4},{value:"Exemple 1",id:"exemple-1-1",level:4},{value:"Exemple 2",id:"exemple-2-1",level:4},{value:"Exemple 3",id:"exemple-3",level:4},{value:"Gestion des erreurs",id:"gestion-des-erreurs",level:4},{value:"<em>.dataclassName</em>",id:"dataclassname",level:2},{value:"Description",id:"description-2",level:4},{value:"Exemple",id:"exemple",level:4},{value:".cancelTransaction()",id:"canceltransaction",level:2},{value:"Description",id:"description-3",level:4},{value:"Exemple",id:"exemple-4",level:4},{value:".encryptionStatus()",id:"encryptionstatus",level:2},{value:"Description",id:"description-4",level:4},{value:"Exemple",id:"exemple-5",level:4},{value:".getInfo()",id:"getinfo",level:2},{value:"Description",id:"description-5",level:4},{value:"Exemple 1",id:"exemple-1-2",level:4},{value:"Exemple 2",id:"exemple-2-2",level:4},{value:".getRequestLog()",id:"getrequestlog",level:2},{value:"Description",id:"description-6",level:4},{value:"Exemple",id:"exemple-6",level:4},{value:".isAdminProtected()",id:"isadminprotected",level:2},{value:"Description",id:"description-7",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement",level:4},{value:".makeSelectionsAlterable()",id:"makeselectionsalterable",level:2},{value:"Description",id:"description-8",level:4},{value:".provideDataKey()",id:"providedatakey",level:2},{value:"Description",id:"description-9",level:4},{value:"Exemple",id:"exemple-7",level:4},{value:".setAdminProtection()",id:"setadminprotection",level:2},{value:"Description",id:"description-10",level:4},{value:"Exemple",id:"exemple-8",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-1",level:4},{value:".startRequestLog()",id:"startrequestlog",level:2},{value:"Description",id:"description-11",level:4},{value:"Exemple 1",id:"exemple-1-3",level:4},{value:"Exemple 2",id:"exemple-2-3",level:4},{value:".startTransaction()",id:"starttransaction",level:2},{value:"Description",id:"description-12",level:4},{value:"Exemple",id:"exemple-9",level:4},{value:".stopRequestLog()",id:"stoprequestlog",level:2},{value:"Description",id:"description-13",level:4},{value:"Exemple",id:"exemple-10",level:4},{value:".validateTransaction()",id:"validatetransaction",level:2},{value:"Description",id:"description-14",level:4},{value:"Exemple",id:"exemple-11",level:4}],d={toc:u};function m(e){var{components:t}=e,a=l(e,["components"]);return(0,n.kt)("wrapper",r({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Un ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/19/ORDA/dsmapping#datastore"}),"Datastore")," correspond \xe0 l'objet d'interface fourni par ORDA pour r\xe9f\xe9rencer et acc\xe9der \xe0 une base de donn\xe9es. Les objets ",(0,n.kt)("inlineCode",{parentName:"p"},"Datastore")," sont retourn\xe9s par les commandes suivantes :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),"ds")," : un raccourci vers le datastore principal"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#open-datastore"}),"Open datastore")," : pour ouvrir n'importe quel datastore distant")),(0,n.kt)("h3",r({},{id:"sommaire"}),"Sommaire"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#canceltransaction"}),(0,n.kt)("strong",{parentName:"a"},".cancelTransaction()")),"\xa0","\xa0","\xa0","\xa0","annule la transaction")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#dataclassname"}),(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("em",{parentName:"strong"},".dataclassName"))," : 4D.DataClass"),"\xa0","\xa0","\xa0","\xa0","contient la description de la dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#encryptionstatus"}),(0,n.kt)("strong",{parentName:"a"},".encryptionStatus()"),": Object"),"\xa0","\xa0","\xa0","\xa0","retourne un objet qui fournit le statut de chiffrement du fichier de donn\xe9es courant")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getinfo"}),(0,n.kt)("strong",{parentName:"a"},".getInfo()"),": Object"),"\xa0","\xa0","\xa0","\xa0","retourne un objet qui fournit des informations sur le datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getrequestlog"}),(0,n.kt)("strong",{parentName:"a"},".getRequestLog()")," : Collection"),"\xa0","\xa0","\xa0","\xa0","retourne les requ\xeates ORDA enregistr\xe9es en m\xe9moire c\xf4t\xe9 client")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#makeselectionsalterable"}),(0,n.kt)("strong",{parentName:"a"},".makeSelectionsAlterable()")),"\xa0","\xa0","\xa0","\xa0","d\xe9finit toutes les nouvelles s\xe9lections d'entit\xe9s comme alt\xe9rables par d\xe9faut dans tous les datastores de l'application")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#providedatakey"}),(0,n.kt)("strong",{parentName:"a"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"a"},"curPassPhrase")," : Text ) : Object ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"a"},"curDataKey")," : Object ) : Object "),"\xa0","\xa0","\xa0","\xa0","permet de fournir une cl\xe9 de chiffrement des donn\xe9es pour le fichier de donn\xe9es courant du datastore et d\xe9tecte si la cl\xe9 correspond aux donn\xe9es chiffr\xe9es")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#setadminprotection"}),(0,n.kt)("strong",{parentName:"a"},".setAdminProtection"),"( ",(0,n.kt)("em",{parentName:"a"},"status")," : Boolean )"),"\xa0","\xa0","\xa0","\xa0","permet de d\xe9sactiver tout acc\xe8s aux donn\xe9es sur le ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/19/Admin/webAdmin#http-port"}),"port admin web"),", y compris via le ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/19/Admin/dataExplorer"}),"Data Explorer")," dans les sessions ",(0,n.kt)("inlineCode",{parentName:"td"},"WebAdmin"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#startrequestlog"}),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"file")," : 4D.File )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"reqNum")," : Integer )"),"\xa0","\xa0","\xa0","\xa0","lance l'enregistrement des requ\xeates ORDA sur le poste client")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#starttransaction"}),(0,n.kt)("strong",{parentName:"a"},".startTransaction()")),"\xa0","\xa0","\xa0","\xa0","d\xe9marre une transaction dans le process courant sur la base de donn\xe9es du datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#stoprequestlog"}),(0,n.kt)("strong",{parentName:"a"},".stopRequestLog()"),"  "),"\xa0","\xa0","\xa0","\xa0","stoppe tout enregistrement des requ\xeates ORDA c\xf4t\xe9 client")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#validatetransaction"}),(0,n.kt)("strong",{parentName:"a"},".validateTransaction()"),"  "),"\xa0","\xa0","\xa0","\xa0","valide la transaction")))),(0,n.kt)("h2",r({},{id:"ds"}),"ds"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Prise en charge du param\xe8tre localID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"ds")," { ( ",(0,n.kt)("em",{parentName:"p"},"localID")," : Text ) } : cs.DataStore "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Identifiant local du datastore distant")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"cs.DataStore"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nouvelle r\xe9f\xe9rence de datastore")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description"}),"Description"),(0,n.kt)("p",null,"La commande ",(0,n.kt)("inlineCode",{parentName:"p"},"ds")," retourne une nouvelle r\xe9f\xe9rence vers le datastore correspondant \xe0 la base de donn\xe9es 4D courante ou \xe0 la base d\xe9sign\xe9e par ",(0,n.kt)("em",{parentName:"p"},"localID"),"."),(0,n.kt)("p",null,"Si vous omettez le param\xe8tre ",(0,n.kt)("em",{parentName:"p"},"localID")," (ou si vous passez une cha\xeene vide \"\"), la commande renvoie une r\xe9f\xe9rence au datastore correspondant \xe0 la base de donn\xe9es 4D locale (ou \xe0 la base 4D Server en cas d'ouverture d'une base de donn\xe9es distante sur 4D Server). Le datastore est ouvert automatiquement et est disponible directement via ",(0,n.kt)("inlineCode",{parentName:"p"},"ds"),"."),(0,n.kt)("p",null,"Vous pouvez \xe9galement obtenir une r\xe9f\xe9rence sur un datastore distant ouvert en passant son identifiant local dans le param\xe8tre ",(0,n.kt)("em",{parentName:"p"},"localID"),". Le datastore doit avoir \xe9t\xe9 pr\xe9alablement ouvert avec la commande ",(0,n.kt)("a",r({parentName:"p"},{href:"#open-datastore"}),(0,n.kt)("inlineCode",{parentName:"a"},"Open datastore"))," par la base de donn\xe9es courante (h\xf4te ou composant). L'identifiant local est d\xe9fini lors de l'utilisation de cette commande."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"La port\xe9e de l'identifiant local est la base de donn\xe9es dans laquelle le datastore a \xe9t\xe9 ouvert.")),(0,n.kt)("p",null,"Si aucun datastore nomm\xe9 ",(0,n.kt)("em",{parentName:"p"},"localID")," n'est trouv\xe9, la commande renvoie ",(0,n.kt)("strong",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,"L'utilisation de ",(0,n.kt)("inlineCode",{parentName:"p"},"ds")," n\xe9cessite que la base de donn\xe9es cible soit conforme \xe0 ORDA. Les r\xe8gles suivantes s'appliquent :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Un datastore ne r\xe9f\xe9rence que les tables avec une seule cl\xe9 primaire. A datastore only references tables with a single primary key."),(0,n.kt)("li",{parentName:"ul"},"Les attributs de type BLOB ne sont pas g\xe9r\xe9s via le datastore.")),(0,n.kt)("h4",r({},{id:"exemple-1"}),"Exemple 1"),(0,n.kt)("p",null,"Utilisation du datastore principal de la base 4D :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $result:=ds.Employee.query("firstName = :1";"S@")\n')),(0,n.kt)("h4",r({},{id:"exemple-2"}),"Exemple 2"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo; $firstFrench; $firstForeign : Object\n\n var $frenchStudents; $foreignStudents : cs.DataStore\n\n $connectTo:=New object("type";"4D Server";"hostname";"192.168.18.11:8044")\n $frenchStudents:=Open datastore($connectTo;"french")\n\n $connectTo.hostname:="192.168.18.11:8050"\n $foreignStudents:=Open datastore($connectTo;"foreign")\n  //...\n  //...\n $firstFrench:=getFirst("french";"Students")\n $firstForeign:=getFirst("foreign";"Students")\n')),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"  //m\xe9thode getFirst\n  //getFirst(localID;dataclass) -> entity\n #DECLARE( $localId : Text; $dataClassName : Text ) -> $entity : 4D.Entity\n\n $0:=ds($localId)[$dataClassName].all().first()\n")),(0,n.kt)("h2",r({},{id:"open-datastore"}),"Open datastore"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Open datastore"),"( ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," : Object ; ",(0,n.kt)("em",{parentName:"p"},"localID")," : Text ) : cs.DataStore "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"connectionInfo"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9s de connexion utilis\xe9es pour joindre le datastore distant")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Identifiant \xe0 affecter au datastore ouvert sur l'application locale (obligatoire)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"cs.DataStore"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet datastore")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-1"}),"Description"),(0,n.kt)("p",null,"La commande ",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," connecte l'application \xe0 la base de donn\xe9es 4D identifi\xe9e par le param\xe8tre ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," et retourne un objet ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.DataStore")," associ\xe9 \xe0 l'alias local ",(0,n.kt)("em",{parentName:"p"},"localID"),"."),(0,n.kt)("p",null,"La base de donn\xe9es ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," 4D doit \xeatre disponible en tant que datastore distant, c'est-\xe0-dire :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"son serveur Web doit \xeatre lanc\xe9 avec http et/ou https activ\xe9,"),(0,n.kt)("li",{parentName:"ul"},"son option ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/fr/19/REST/configuration#starting-the-rest-server"}),(0,n.kt)("strong",{parentName:"a"},"Activer le service REST"))," doit \xeatre coch\xe9e,"),(0,n.kt)("li",{parentName:"ul"},"au moins une licence client est disponible.")),(0,n.kt)("p",null,"Si aucune base de donn\xe9es correspondante n'est trouv\xe9e, ",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," retourne ",(0,n.kt)("strong",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"localID")," est un alias local de la session ouverte sur le datastore distant. Si ",(0,n.kt)("em",{parentName:"p"},"localID")," existe d\xe9j\xe0 dans l'application, il est utilis\xe9. Sinon, une nouvelle session ",(0,n.kt)("em",{parentName:"p"},"localID")," est cr\xe9\xe9e lors de l\u2019utilisation de l\u2019objet datastore."),(0,n.kt)("p",null,"Une fois la session ouverte, les instructions suivantes deviennent \xe9quivalentes et renvoient une r\xe9f\xe9rence sur le m\xeame objet datastore :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $myds:=Open datastore(connectionInfo;"myLocalId")\n $myds2:=ds("myLocalId")\n  //$myds et $myds2 sont \xe9quivalents\n')),(0,n.kt)("p",null,"Passez dans ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," un objet d\xe9crivant le datastore distant auquel vous souhaitez vous connecter. Il peut contenir les propri\xe9t\xe9s suivantes (toutes les propri\xe9t\xe9s sont optionnelles, \xe0 l'exception de ",(0,n.kt)("em",{parentName:"p"},"hostname"),") :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"hostname"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Nom ou adresse IP de la base de donn\xe9es distante + " :" + num\xe9ro de port (le num\xe9ro de port est obligatoire)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"user"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom d'utilisateur")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"password"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Mot de passe de l'utilisateur")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"idleTimeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Longint"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"D\xe9lai d'inactivit\xe9 de la session (exprim\xe9 en minutes), au terme duquel la session est automatiquement ferm\xe9e par 4D. Si cette propri\xe9t\xe9 est omise, la valeur par d\xe9faut est 60 (1h). La valeur ne peut pas \xeatre < 60 (si une valeur inf\xe9rieure est pass\xe9e, le timeout est fix\xe9 \xe0 60). Pour plus d'informations, voir ",(0,n.kt)("strong",{parentName:"td"},"Fermeture des sessions"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"tls"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Utilisez une connexion s\xe9curis\xe9e(*). Si cette propri\xe9t\xe9 est omise, \"false\" par d\xe9faut. L'utilisation d'une connexion s\xe9curis\xe9e est recommand\xe9e dans la mesure du possible.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Doit \xeatre "4D Server"')))),(0,n.kt)("p",null,"(*) Si tls est vrai, le protocole HTTPS est utilis\xe9 si :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"HTTPS est activ\xe9 sur le datastore distant"),(0,n.kt)("li",{parentName:"ul"},"Le port donn\xe9 correspond au port HTTPS configur\xe9 dans les propri\xe9t\xe9s"),(0,n.kt)("li",{parentName:"ul"},'Un certificat valide et une cl\xe9 de chiffrement priv\xe9e sont install\xe9s dans la base. Sinon, l\'erreur "1610 - Une requ\xeate vers l\u2019h\xf4te: "{xxx}" a \xe9chou\xe9" est g\xe9n\xe9r\xe9e')),(0,n.kt)("h4",r({},{id:"exemple-1-1"}),"Exemple 1"),(0,n.kt)("p",null,"Connexion \xe0 un datastore distant sans utilisateur/mot de passe :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $remoteDS : cs.DataStore\n $connectTo:=New object("type";"4D Server";"hostname";"192.168.18.11:8044")\n $remoteDS:=Open datastore($connectTo;"students")\n ALERT("This remote datastore contains "+String($remoteDS.Students.all().length)+" students")\n')),(0,n.kt)("h4",r({},{id:"exemple-2-1"}),"Exemple 2"),(0,n.kt)("p",null,"Connexion \xe0 un datastore distant avec utilisateur/mot de passe/timeout/tls :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $remoteDS : cs.DataStore\n $connectTo:=New object("type";"4D Server";"hostname";\\"192.168.18.11:4443";\\  \n  "user";"marie";"password";$pwd;"idleTimeout";70;"tls";True)\n $remoteDS:=Open datastore($connectTo;"students")\n ALERT("This remote datastore contains "+String($remoteDS.Students.all().length)+" students")\n')),(0,n.kt)("h4",r({},{id:"exemple-3"}),"Exemple 3"),(0,n.kt)("p",null,"Travailler avec plusieurs datastores distants :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $frenchStudents; $foreignStudents : cs.DataStore\n $connectTo:=New object("hostname";"192.168.18.11:8044")\n $frenchStudents:=Open datastore($connectTo;"french")\n $connectTo.hostname:="192.168.18.11:8050"\n $foreignStudents:=Open datastore($connectTo;"foreign")\n ALERT("They are "+String($frenchStudents.Students.all().length)+" French students")\n ALERT("They are "+String($foreignStudents.Students.all().length)+" foreign students")\n')),(0,n.kt)("h4",r({},{id:"gestion-des-erreurs"}),"Gestion des erreurs"),(0,n.kt)("p",null,"En cas d'erreur, la commande retourne ",(0,n.kt)("strong",{parentName:"p"},"Null"),'. Si le datastore distant ne peut pas \xeatre joint (adresse incorrecte, web serveur non lanc\xe9, http et https non activ\xe9s, etc.), l\'erreur 1610 "Une requ\xeate vers l\u2019h\xf4te: {xxx} a \xe9chou\xe9" est g\xe9n\xe9r\xe9e. Vous pouvez intercepter cette erreur avec une m\xe9thode install\xe9e par ',(0,n.kt)("inlineCode",{parentName:"p"},"ON ERR CALL"),"."),(0,n.kt)("h2",r({},{id:"dataclassname"}),(0,n.kt)("em",{parentName:"h2"},".dataclassName")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},".dataclassName"))," : 4D.DataClass"),(0,n.kt)("h4",r({},{id:"description-2"}),"Description"),(0,n.kt)("p",null,"Chaque dataclass d'un datastore est disponible en tant que propri\xe9t\xe9 de l'objet ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/19/ORDA/dsmapping#datastore"}),"DataStore"),". L'objet retourn\xe9 contient la description de la dataclass."),(0,n.kt)("h4",r({},{id:"exemple"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $emp : cs.Employee\n var $sel : cs.EmployeeSelection\n $emp:=ds.Employee //$emp contient la dataclass Employee \n $sel:=$emp.all() //obtient une entity selection de tous les employ\xe9s\n\n  //vous poubez \xe9galement saisir directement :\n $sel:=ds.Employee.all()\n")),(0,n.kt)("h2",r({},{id:"canceltransaction"}),".cancelTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".cancelTransaction()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-3"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".cancelTransaction()")," annule la transaction ouverte avec la fonction ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," au niveau correspondant dans le process courant du datastore sp\xe9cifi\xe9."),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".cancelTransaction()")," annule toutes les modifications apport\xe9es aux donn\xe9es durant la transaction."),(0,n.kt)("p",null,"Vous pouvez imbriquer plusieurs transactions (sous-transactions). Si la transaction principale est annul\xe9e, toutes ses sous-transactions sont \xe9galement annul\xe9es, m\xeame si elles ont \xe9t\xe9 valid\xe9es individuellement \xe0 l'aide de la fonction ",(0,n.kt)("a",r({parentName:"p"},{href:"#validatetransactions"}),(0,n.kt)("inlineCode",{parentName:"a"},".validateTransaction()")),"."),(0,n.kt)("h4",r({},{id:"exemple-4"}),"Exemple"),(0,n.kt)("p",null,"Voir l'exemple de la fonction ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()")),"."),(0,n.kt)("h2",r({},{id:"encryptionstatus"}),".encryptionStatus()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".encryptionStatus()"),": Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Informations sur le chiffrement du datastore courant et de chaque table")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-4"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".encryptionStatus()")," retourne un objet qui fournit le statut de chiffrement du fichier de donn\xe9es courant (.e., le fichier de donn\xe9es du datastore ",(0,n.kt)("inlineCode",{parentName:"p"},"ds"),"). Le statut de chiffrement pour chaque table est \xe9galement fourni."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Utilisez la commande ",(0,n.kt)("inlineCode",{parentName:"p"},"Data file encryption status")," pour d\xe9terminer l'\xe9tat de cryptage de tout autre fichier de donn\xe9es.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Valeur retourn\xe9e")),(0,n.kt)("p",null,"L'objet retourn\xe9 contient les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncrypted"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si le fichier de donn\xe9es est chiffr\xe9")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"keyProvided"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si la cl\xe9 de chiffrement correspondant au fichier de donn\xe9es chiffr\xe9 est fournie(*).")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"tables"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet contenant autant de propri\xe9t\xe9s que de tables chiffrables ou chiffr\xe9es.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"td"},"tableName")),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Table chiffrable ou chiffr\xe9e")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom de la table")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"num"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Num\xe9ro de la table")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncryptable"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si la table est d\xe9clar\xe9e chiffrable dans le fichier de structure")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncrypted"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si les enregistrements de la table sont chiffr\xe9s dans le fichier de donn\xe9es")))),(0,n.kt)("p",null,"(*) La cl\xe9 de chiffrement peut \xeatre fournie :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"via la fonction ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()"),","),(0,n.kt)("li",{parentName:"ul"},"\xe0 la racine d'un appareil connect\xe9 avant l'ouverture du datastore,"),(0,n.kt)("li",{parentName:"ul"},"via la commande ",(0,n.kt)("inlineCode",{parentName:"li"},"Discover data key"),".")),(0,n.kt)("h4",r({},{id:"exemple-5"}),"Exemple"),(0,n.kt)("p",null,"Vous souhaitez connaitre le nombre de tables chiffr\xe9es dans le fichier de donn\xe9es courant :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $status : Object\n\n $status:=dataStore.encryptionStatus()\n\n If($status.isEncrypted) //the database is encrypted\n    C_LONGINT($vcount)\n    C_TEXT($tabName)\n    For each($tabName;$status.tables)\n       If($status.tables[$tabName].isEncrypted)\n          $vcount:=$vcount+1\n       End if\n    End for each\n    ALERT(String($vcount)+" encrypted table(s) in this datastore.")\n Else\n    ALERT("This database is not encrypted.")\n End if\n Else\n    ALERT("This database is not encrypted.")\n End if\n Else\n    ALERT("This database is not encrypted.")\n End if\n')),(0,n.kt)("h2",r({},{id:"getinfo"}),".getInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getInfo()"),": Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9s du datastore")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-5"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".getInfo()")," retourne un objet qui fournit des informations sur le datastore. Cette fonction est utile pour l'\xe9criture de code g\xe9n\xe9rique."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Objet retourn\xe9")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"string"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("li",null,'"4D" : datastore principal, disponible via ds '),(0,n.kt)("li",null,'"4D Server" : datastore distant ouvert avec Open datastore'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"networked"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"Vrai : le datastore est accessible via une connexion r\xe9seau."),(0,n.kt)("li",null,"Faux : le datastore n'est pas accessible via une connexion r\xe9seau (base locale)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Identifiant du datastore sur la machine. Correspond \xe0 la cha\xeene localID donn\xe9e avec la commande ",(0,n.kt)("inlineCode",{parentName:"td"},"Open datastore"),'. Cha\xeene vide ("") pour le datastore principal.')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"connection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet d\xe9crivant la connexion au datastore distant (non retourn\xe9 pour le datastore principal). Propri\xe9t\xe9s disponibles :",(0,n.kt)("table",null,(0,n.kt)("tr",null,(0,n.kt)("th",null,"Propri\xe9t\xe9"),(0,n.kt)("th",null,"Type"),(0,n.kt)("th",null,"Description")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"hostname"),(0,n.kt)("td",null,"text"),(0,n.kt)("td",null,'Adresse IP ou nom du datastore distant + ":" + num\xe9ro de port')),(0,n.kt)("tr",null,(0,n.kt)("td",null,"tls"),(0,n.kt)("td",null,"boolean"),(0,n.kt)("td",null,"Vrai si une connexion s\xe9curis\xe9e est utilis\xe9e avec le datastore distant")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"idleTimeout"),(0,n.kt)("td",null,"number"),(0,n.kt)("td",null,"Delai d'inactivit\xe9 autoris\xe9 de la session (en minutes)")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"user"),(0,n.kt)("td",null,"text"),(0,n.kt)("td",null,"Utilisateur authentifi\xe9 sur le datastore distant"))))))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Si la fonction ",(0,n.kt)("inlineCode",{parentName:"li"},".getInfo()")," est ex\xe9cut\xe9e sur un 4D Server ou un 4D monoposte, ",(0,n.kt)("inlineCode",{parentName:"li"},"networked")," est Faux."),(0,n.kt)("li",{parentName:"ul"},"Si la fonction ",(0,n.kt)("inlineCode",{parentName:"li"},".getInfo()")," est ex\xe9cut\xe9e sur un 4D distant, ",(0,n.kt)("inlineCode",{parentName:"li"},"networked")," est Vrai")),(0,n.kt)("h4",r({},{id:"exemple-1-2"}),"Exemple 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $info : Object\n\n $info:=ds.getInfo() //Ex\xe9cut\xe9 sur 4D Server ou 4D\n  //{"type":"4D","networked":false,"localID":""}\n\n $info:=ds.getInfo() // Ex\xe9cut\xe9 sur 4D distant\n  //{"type":"4D","networked":true,"localID":""}\n')),(0,n.kt)("h4",r({},{id:"exemple-2-2"}),"Exemple 2"),(0,n.kt)("p",null,"Sur un datastore distant :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'  var $remoteDS : cs.DataStore\n  var $info; $connectTo : Object\n\n $connectTo:=New object("hostname";"111.222.33.44:8044";"user";"marie";"password";"aaaa")\n $remoteDS:=Open datastore($connectTo;"students")\n $info:=$remoteDS.getInfo()\n\n  //{"type":"4D Server",\n  //"localID":"students",\n  //"networked":true,\n  //"connection":{hostname:"111.222.33.44:8044","tls":false,"idleTimeout":2880,"user":"marie"}}\n')),(0,n.kt)("h2",r({},{id:"getrequestlog"}),".getRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRequestLog()")," : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection d'objets d\xe9crivant les requ\xeates")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-6"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},"getRequestLog()")," retourne les requ\xeates ORDA enregistr\xe9es en m\xe9moire c\xf4t\xe9 client. L'enregistrement des requ\xeates ORDA doit avoir \xe9t\xe9 pr\xe9alablement activ\xe9 \xe0 l'aide de la fonction ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("p",null,"Cette fonction doit \xeatre appel\xe9e sur un client 4D distant, sinon elle retourne une collection vide. Elle est con\xe7ue \xe0 des fins de d\xe9bogage dans les configurations client/serveur."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Valeur retourn\xe9e")),(0,n.kt)("p",null,"Collection d'objets requ\xeate empil\xe9s. La requ\xeate la plus r\xe9cente porte l'indice 0."),(0,n.kt)("p",null,"Pour plus de d\xe9tails sur le format d'enregistrement des requ\xeates ORDA, veuillez consulter la section ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373"}),(0,n.kt)("strong",{parentName:"a"},"ORDA client requests")),"."),(0,n.kt)("h4",r({},{id:"exemple-6"}),"Exemple"),(0,n.kt)("p",null,"Voir l'exemple 2 de ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("h2",r({},{id:"isadminprotected"}),".isAdminProtected()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isAdminProtected()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si l'acc\xe8s au Data Explorer est d\xe9sactiv\xe9, Faux s'il est activ\xe9 (d\xe9faut)")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-7"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".isAdminProtected()")," retourne ",(0,n.kt)("inlineCode",{parentName:"p"},"True")," si l'acc\xe8s au ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/19/Admin/dataExplorer"}),"Data Explorer")," est d\xe9sactiv\xe9 pour la session courante."),(0,n.kt)("p",null,"Par d\xe9faut, l'acc\xe8s au Data Explorer est autoris\xe9 pour les sessions ",(0,n.kt)("inlineCode",{parentName:"p"},"webAdmin"),", mais il peut \xeatre d\xe9sactiv\xe9 pour emp\xeacher que les administrateurs puissent acc\xe9der aux donn\xe9es (cf. fonction ",(0,n.kt)("a",r({parentName:"p"},{href:"#setadminprotection"}),(0,n.kt)("inlineCode",{parentName:"a"},".setAdminProtection()")),")."),(0,n.kt)("h4",r({},{id:"voir-\xe9galement"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setadminprotection"}),(0,n.kt)("inlineCode",{parentName:"a"},".setAdminProtection()"))),(0,n.kt)("h2",r({},{id:"makeselectionsalterable"}),".makeSelectionsAlterable()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".makeSelectionsAlterable()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-8"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".makeSelectionsAlterable()")," d\xe9finit toutes les nouvelles s\xe9lections d'entit\xe9s comme alt\xe9rables par d\xe9faut dans tous les datastores de l'application (y compris les ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/19/ORDA/datastores"}),"datastores distants"),"). Elle est destin\xe9e \xe0 \xeatre appel\xe9e une fois, par exemple dans la m\xe9thode base ",(0,n.kt)("inlineCode",{parentName:"p"},"On Startup"),"."),(0,n.kt)("p",null,"Lorsque cette m\xe9thode n'est pas appel\xe9e, les nouvelles s\xe9lections d'entit\xe9s peuvent \xeatre partageables, selon la nature de leur \"parent\" ou la fa\xe7on dont elles sont cr\xe9\xe9es (voir la section ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/19/ORDA/entities#entity-selections-partageables-et-non-partageables"}),"Entity selections partageables et non partageables"),")."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Cette fonction ne modifie pas les s\xe9lections d'entit\xe9s cr\xe9\xe9es par ",(0,n.kt)("a",r({parentName:"p"},{href:"#copy"}),(0,n.kt)("inlineCode",{parentName:"a"},".copy(")),") ou ",(0,n.kt)("inlineCode",{parentName:"p"},"OB Copy")," lorsque l'option explicite ",(0,n.kt)("inlineCode",{parentName:"p"},"ck shared")," est utilis\xe9e.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Compatibilit\xe9")," : Cette fonction doit \xeatre utilis\xe9e uniquement dans des projets convertis \xe0 partir de versions de 4D ant\xe9rieures \xe0 4D v18 R5 et contenant des appels ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/19/API/EntitySelectionClass#add"}),".add()"),". Dans ce contexte, l'utilisation de ",(0,n.kt)("inlineCode",{parentName:"p"},".makeSelectionsAlterable()")," peut faire gagner du temps en restaurant instantan\xe9ment le pr\xe9c\xe9dent comportement 4D dans les projets existants. En revanche, l'utilisation de cette m\xe9thode dans les nouveaux projets cr\xe9\xe9s dans 4D v18 R5 et les versions plus r\xe9centes ",(0,n.kt)("strong",{parentName:"p"},"n'est pas recommand\xe9e"),", car elle emp\xeache le partage des entity selections, ce qui offre de meilleures performances et une plus grande \xe9volutivit\xe9.")),(0,n.kt)("h2",r({},{id:"providedatakey"}),".provideDataKey()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"p"},"curPassPhrase")," : Text ) : Object ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"p"},"curDataKey")," : Object ) : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"curPassPhrase"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Phrase secr\xe8te courante")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"curDataKey"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cl\xe9 de chiffrement des donn\xe9es courante")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat de la mise en correspondance de la cl\xe9 de chiffrement")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-9"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".provideDataKey()")," permet de fournir une cl\xe9 de chiffrement des donn\xe9es pour le fichier de donn\xe9es courant du datastore et d\xe9tecte si la cl\xe9 correspond aux donn\xe9es chiffr\xe9es. Cette fonction peut \xeatre utilis\xe9e \xe0 l'ouverture d'une base chiffr\xe9e, ou \xe0 l'ex\xe9cution de n'importe quelle op\xe9ration de chiffrement qui n\xe9cessite la cl\xe9 de chiffrement, telle que le re-chiffrement du fichier de donn\xe9es."),(0,n.kt)("blockquote",null,(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"La fonction ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," doit \xeatre appel\xe9e dans une base de donn\xe9es chiffr\xe9e. Si elle est appel\xe9e dans une base de donn\xe9es non chiffr\xe9e, l'erreur 2003 (la cl\xe9 de cryptage ne correspond pas aux donn\xe9es.) est retourn\xe9e. Utilisez la commande ",(0,n.kt)("inlineCode",{parentName:"li"},"Data file encryption status")," pour d\xe9terminer si la base de donn\xe9es est chiffr\xe9e."),(0,n.kt)("li",{parentName:"ul"},"La fonction ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," ne peut pas \xeatre appel\xe9e depuis un 4D distant ou un datastore distant chiffr\xe9."))),(0,n.kt)("p",null,"Si vous utilisez le param\xe8tre ",(0,n.kt)("em",{parentName:"p"},"curPassPhrase"),", passez la cha\xeene utilis\xe9e pour g\xe9n\xe9rer la cl\xe9 de chiffrement des donn\xe9es. Lorsque vous utilisez ce param\xe8tre, une cl\xe9 de chiffrement est g\xe9n\xe9r\xe9e."),(0,n.kt)("p",null,"Si vous utilisez le param\xe8tre ",(0,n.kt)("em",{parentName:"p"},"curDataKey"),", passez un objet (avec la propri\xe9t\xe9 ",(0,n.kt)("em",{parentName:"p"},"encodedKey"),") contenant la cl\xe9 de chiffrement des donn\xe9es. Cette cl\xe9 peut avoir \xe9t\xe9 g\xe9n\xe9r\xe9e \xe0 l'aide de la commande ",(0,n.kt)("inlineCode",{parentName:"p"},"New data key"),"."),(0,n.kt)("p",null,"Si une cl\xe9 de chiffrement des donn\xe9es valide est fournie, elle est ajout\xe9e \xe0 la ",(0,n.kt)("em",{parentName:"p"},"keyChain")," dans la m\xe9moire et le mode chiffrement est activ\xe9 :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"toutes les modifications de donn\xe9es apport\xe9es dans les tables chiffrables sont chiffr\xe9es sur le disque (fichiers .4DD, .journal,  . 4Dindx)."),(0,n.kt)("li",{parentName:"ul"},"toutes les donn\xe9es charg\xe9es \xe0 partir de tables chiffrables sont d\xe9chiffr\xe9es dans la m\xe9moire")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"R\xe9sultat")),(0,n.kt)("p",null,"Le r\xe9sultat de la commande est d\xe9crit dans l'objet retourn\xe9 :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"success"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si la cl\xe9 de chiffrement fournie correspond aux donn\xe9es chiffr\xe9es, sinon Faux")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Les propri\xe9t\xe9s ci-dessous sont retourn\xe9es uniquement si success est \xe0 ",(0,n.kt)("em",{parentName:"td"},"Faux"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Code d'erreur (4 si la cl\xe9 de chiffrement fournie est erron\xe9e)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"statusText"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Message d'erreur")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"errors"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Pile d'erreurs. La premi\xe8re erreur poss\xe8de l'indice le plus \xe9lev\xe9.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].componentSignature"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom du composant interne")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].errCode"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Num\xe9ro de l'erreur")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].message"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Message d'erreur")))),(0,n.kt)("p",null,"Si aucun param\xe8tre ",(0,n.kt)("em",{parentName:"p"},"curPassphrase")," ou ",(0,n.kt)("em",{parentName:"p"},"curDataKey")," n'est fourni, ",(0,n.kt)("inlineCode",{parentName:"p"},".provideDataKey()")," retourne ",(0,n.kt)("strong",{parentName:"p"},"null")," (aucune erreur n'est g\xe9n\xe9r\xe9e)."),(0,n.kt)("h4",r({},{id:"exemple-7"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $keyStatus : Object\n var $passphrase : Text\n\n $passphrase:=Request("Enter the passphrase")\n If(OK=1)\n    $keyStatus:=ds.provideDataKey($passphrase)\n    If($keyStatus.success)\n       ALERT("You have provided a valid encryption key")\n    Else\n       ALERT("You have provided an invalid encryption key, you will not be able to work with encrypted data")\n    End if\n End if\n')),(0,n.kt)("h2",r({},{id:"setadminprotection"}),".setAdminProtection()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setAdminProtection"),"( ",(0,n.kt)("em",{parentName:"p"},"status")," : Boolean )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai pour d\xe9sactiver l'acc\xe8s au Data Explorer sur le port ",(0,n.kt)("inlineCode",{parentName:"td"},"webAdmin"),", Faux (d\xe9faut) pour permettre l'acc\xe8s")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-10"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".setAdminProtection()")," permet de d\xe9sactiver tout acc\xe8s aux donn\xe9es sur le ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/19/Admin/webAdmin#http-port"}),"port admin web"),", y compris via le ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/19/Admin/dataExplorer"}),"Data Explorer")," dans les sessions ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin"),"."),(0,n.kt)("p",null,"Par d\xe9faut lorsque la fonction n'est pas appel\xe9e, l'acc\xe8s aux donn\xe9es est possible via le Data Explorer sur le port d'administration web pour une session avec le privil\xe8ge ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin")," . Dans certaines configurations, par exemple lorsque le serveur d'application est h\xe9berg\xe9 sur la machine d'un prestataire de service, vous pouvez souhaiter que l'administrateur ne puisse pas visualiser vos donn\xe9es, m\xeame s'il peut acc\xe9der \xe0 la configuration du serveur, y compris au param\xe9trage de l'",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/19/Admin/webAdmin#access-key"}),"access key"),"."),(0,n.kt)("p",null,"Dans ce cas, vous pouvez appeler cette fonction pour d\xe9sactiver l'acc\xe8s aux donn\xe9es depuis le Data Explorer sur le port web admin de la machine, m\xeame pour les sessions utilisateurs ayant le privil\xe8ge ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin"),". Lorsque cette fonction est ex\xe9cut\xe9e, le fichier de donn\xe9es est imm\xe9diatement prot\xe9g\xe9 et le statut est sauvegard\xe9 sur disque : le fichier de donn\xe9es sera prot\xe9g\xe9 m\xeame si l'application est red\xe9marr\xe9e."),(0,n.kt)("h4",r({},{id:"exemple-8"}),"Exemple"),(0,n.kt)("p",null,"Vous cr\xe9ez une m\xe9thode projet ",(0,n.kt)("em",{parentName:"p"},"protectDataFile")," \xe0 appeler par exemple avant le d\xe9ploiement :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," ds.setAdminProtection(True) //D\xe9sactive l'acc\xe8s aux donn\xe9es de l'Explorateur de donn\xe9es\n")),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-1"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#isadminprotected"}),(0,n.kt)("inlineCode",{parentName:"a"},".isAdminProtected()"))),(0,n.kt)("h2",r({},{id:"startrequestlog"}),".startRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"file")," : 4D.File )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"reqNum")," : Integer )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"file"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.File"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet File")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"reqNum"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre de requ\xeates \xe0 conserver en m\xe9moire")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-11"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},"startRequestLog()")," lance l'enregistrement des requ\xeates ORDA sur le poste client."),(0,n.kt)("p",null,"Cette fonction doit \xeatre appel\xe9e sur un 4D distant, sinon elle ne fait rien. Elle est con\xe7ue \xe0 des fins de d\xe9bogage dans les configurations client/serveur."),(0,n.kt)("p",null,"L'enregistrement des requ\xeates ORDA peut \xeatre effectu\xe9 dans un fichier ou dans la m\xe9moire, en fonction du type de param\xe8tre :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Si vous avez pass\xe9 un objet ",(0,n.kt)("em",{parentName:"p"},"file")," cr\xe9\xe9 \xe0 l'aide de la commande ",(0,n.kt)("inlineCode",{parentName:"p"},"File"),", les donn\xe9es de l'enregistrement sont \xe9crites dans ce fichier sous forme de collection d'objets (format JSON). Chaque objet repr\xe9sente une requ\xeate.",(0,n.kt)("br",null),"Si le fichier n'existe pas encore, il est cr\xe9\xe9. Sinon, s'il existe d\xe9j\xe0, les nouvelles donn\xe9es d'enregistrement y sont ajout\xe9es. Si la fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," est appel\xe9e avec un fichier alors qu'un enregistrement des requ\xeates est d\xe9j\xe0 en cours en m\xe9moire, l'enregistrement en m\xe9moire est stopp\xe9 et vid\xe9."),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"Un caract\xe8re ","]"," doit \xeatre ajout\xe9 manuellement \xe0 la fin du fichier pour effectuer une validation JSON"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Si vous avez pass\xe9 un num\xe9ro ",(0,n.kt)("em",{parentName:"p"},"reqNum"),", l'enregistrement en m\xe9moire est vid\xe9 (le cas \xe9ch\xe9ant) et un nouvel enregistrement est lanc\xe9. Il gardera en m\xe9moire les requ\xeates jusqu'\xe0 atteindre le nombre ",(0,n.kt)("em",{parentName:"p"},"reqNum"),", auquel cas les entr\xe9es pr\xe9c\xe9dentes sont vid\xe9es (pile FIFO).",(0,n.kt)("br",null),"Si la fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," est appel\xe9e avec un ",(0,n.kt)("em",{parentName:"p"},"reqNum")," alors qu'un enregistrement des requ\xeates dans un fichier est d\xe9j\xe0 en cours, l'enregistrement dans le fichier est stopp\xe9.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Si vous n'avez pass\xe9 aucun param\xe8tre, l'enregistrement est lanc\xe9 dans la m\xe9moire. Si ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," a \xe9t\xe9 pr\xe9alablement appel\xe9e avec un ",(0,n.kt)("em",{parentName:"p"},"reqNum")," (avant un ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()"),"), les donn\xe9es enregistr\xe9es sont empil\xe9es dans la m\xe9moire jusqu'au prochain vidage ou appel de ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()"),"."))),(0,n.kt)("p",null,"Pour plus de d\xe9tails sur le format d'enregistrement des requ\xeates ORDA, veuillez consulter la section ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373"}),(0,n.kt)("strong",{parentName:"a"},"ORDA client requests")),"."),(0,n.kt)("h4",r({},{id:"exemple-1-3"}),"Exemple 1"),(0,n.kt)("p",null,"Vous souhaitez enregistrer des requ\xeates ORDA clientes dans un fichier et utiliser le num\xe9ro de s\xe9quence de l'enregistrement :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $file : 4D.File\n var $e : cs.PersonsEntity\n\n $file:=File("/LOGS/ORDARequests.txt") //dossier logs\n\n SET DATABASE PARAMETER(Client Log Recording;1) //pour d\xe9clencher le num\xe9ro de s\xe9quence log global \n ds.startRequestLog($file)\n $e:=ds.Persons.get(30001) //envoyer une requ\xeate\n ds.stopRequestLog()\n SET DATABASE PARAMETER(Client Log Recording;0)\n')),(0,n.kt)("h4",r({},{id:"exemple-2-3"}),"Exemple 2"),(0,n.kt)("p",null,"Vous souhaitez enregistrer des requ\xeates ORDA clientes dans la m\xe9moire :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $es : cs.PersonsSelection\n var $log : Collection\n\n ds.startRequestLog(3) //garde 3 requ\xeates dans la m\xe9moire\n\n $es:=ds.Persons.query("name=:1";"Marie")\n $es:=ds.Persons.query("name IN :1";New collection("Marie"))\n $es:=ds.Persons.query("name=:1";"So@")\n\n $log:=ds.getRequestLog()\n ALERT("The longest request lasted: "+String($log.max("duration"))+" ms")\n')),(0,n.kt)("h2",r({},{id:"starttransaction"}),".startTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".startTransaction()")),(0,n.kt)("p",null,"| Param\xe8tres | Type |  | Description                                            |\n| ---------- | ---- |  | ------------------------------------------------------ |\n|            |      |  | Ne requiert aucun param\xe8tre|"),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-12"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".startTransaction()")," d\xe9marre une transaction dans le process courant sur la base de donn\xe9es du datastore. Toute modification apport\xe9e aux entit\xe9s du datastore dans le process de la transaction est temporairement stock\xe9e jusqu'\xe0 ce que la transaction soit valid\xe9e ou annul\xe9e."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Si cette m\xe9thode est appel\xe9e sur le datastore principal (c'est-\xe0-dire le datastore retourn\xe9 par la commande ",(0,n.kt)("inlineCode",{parentName:"p"},"ds"),"), la transaction est appliqu\xe9e \xe0 toutes les op\xe9rations effectu\xe9es sur le datastore principal et sur la base de donn\xe9es sous-jacente, incluant donc le langage ORDA et le langage classique.")),(0,n.kt)("p",null,"Vous pouvez imbriquer plusieurs transactions (sous-transactions). Chaque transaction ou sous-transaction doit \xeatre annul\xe9e ou valid\xe9e. A noter que si la transaction principale est annul\xe9e, toutes ses sous-transactions le sont \xe9galement, m\xeame si elles avaient \xe9t\xe9 valid\xe9es individuellement \xe0 l'aide de la fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".validateTransaction()"),"."),(0,n.kt)("h4",r({},{id:"exemple-9"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connect; $status : Object\n var $person : cs.PersonsEntity\n var $ds : cs.DataStore\n var $choice : Text\n var $error : Boolean\n\n Case of\n    :($choice="local")\n       $ds:=ds\n    :($choice="remote")\n       $connect:=New object("hostname";"111.222.3.4:8044")\n       $ds:=Open datastore($connect;"myRemoteDS")\n End case\n\n $ds.startTransaction()\n $person:=$ds.Persons.query("lastname=:1";"Peters").first()\n\n If($person#Null)\n    $person.lastname:="Smith"\n    $status:=$person.save()\n End if\n ...\n ...\n If($error)\n    $ds.cancelTransaction()\n Else\n    $ds.validateTransaction()\n End if\n')),(0,n.kt)("h2",r({},{id:"stoprequestlog"}),".stopRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".stopRequestLog()"),"  "),(0,n.kt)("p",null,"| Param\xe8tres | Type |  | Description                                            |\n| ---------- | ---- |  | ------------------------------------------------------ |\n|            |      |  | Ne requiert aucun param\xe8tre|"),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-13"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},"stopRequestLog()")," stoppe tout enregistrement des requ\xeates ORDA c\xf4t\xe9 client (dans un fichier ou dans la m\xe9moire). Elle est particuli\xe8rement utile en cas d'enregistrement dans un fichier, \xe9tant donn\xe9 qu'elle ferme le document ouvert sur le disque."),(0,n.kt)("p",null,"Cette fonction doit \xeatre appel\xe9e sur un 4D distant, sinon elle ne fait rien. Elle est con\xe7ue \xe0 des fins de d\xe9bogage dans les configurations client/serveur."),(0,n.kt)("h4",r({},{id:"exemple-10"}),"Exemple"),(0,n.kt)("p",null,"Voir les exemples de ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("h2",r({},{id:"validatetransaction"}),".validateTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".validateTransaction()"),"  "),(0,n.kt)("p",null,"| Param\xe8tres | Type |  | Description                                            |\n| ---------- | ---- |  | ------------------------------------------------------ |\n|            |      |  | Ne requiert aucun param\xe8tre|"),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"description-14"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".validateTransaction()")," valide la transaction d\xe9marr\xe9e avec ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," au niveau correspondant dans le datastore."),(0,n.kt)("p",null,"La fonction sauvegarde les modifications apport\xe9es aux donn\xe9es sur le datastore durant la transaction."),(0,n.kt)("p",null,"Vous pouvez imbriquer plusieurs transactions (sous-transactions). Si la transaction principale est annul\xe9e, toutes ses sous-transactions sont \xe9galement annul\xe9es, m\xeame si elles ont \xe9t\xe9 valid\xe9es individuellement \xe0 l'aide de cette fonction."),(0,n.kt)("h4",r({},{id:"exemple-11"}),"Exemple"),(0,n.kt)("p",null,"Voir l'exemple de ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()")),"."))}m.isMDXComponent=!0}}]);