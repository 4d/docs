"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[87106],{603905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>m});var n=r(667294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),p=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(r),m=a,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||o;return r?n.createElement(h,i(i({ref:t},c),{},{components:r})):n.createElement(h,i({ref:t},c))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var p=2;p<o;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},227412:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});r(667294);var n=r(603905);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const i={id:"clientServer",title:"Client/Server Management"},s=void 0,l={unversionedId:"Desktop/clientServer",id:"version-20-R5/Desktop/clientServer",title:"Client/Server Management",description:"4D Desktop applications can be used in a Client/Server configuration, either as merged client/server applications or as remote projects.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R5/Desktop/clientServer.md",sourceDirName:"Desktop",slug:"/Desktop/clientServer",permalink:"/docs/fr/Desktop/clientServer",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20Desktop%2FclientServer.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"clientServer",title:"Client/Server Management"},sidebar:"docs",previous:{title:"Desktop Applications",permalink:"/docs/fr/category/desktop-applications"},next:{title:"Access Rights",permalink:"/docs/fr/category/access-rights"}},p={},c=[{value:"Opening a merged client/server application",id:"opening-a-merged-clientserver-application",level:2},{value:"Ouvrir un projet distant",id:"ouvrir-un-projet-distant",level:2},{value:"Mettre \xe0 jour des fichiers de projet sur le serveur",id:"mettre-\xe0-jour-des-fichiers-de-projet-sur-le-serveur",level:3},{value:"Mettre \xe0 jour des fichiers de projet sur les machines distantes",id:"mettre-\xe0-jour-des-fichiers-de-projet-sur-les-machines-distantes",level:3},{value:"Using 4D and 4D Server on the same machine",id:"using-4d-and-4d-server-on-the-same-machine",level:2},{value:"Remote user sessions",id:"remote-user-sessions",level:2},{value:"Utilisation",id:"utilisation",level:3},{value:"Availability",id:"availability",level:3},{value:"See also (blog post)",id:"see-also-blog-post",level:3}],u={toc:c};function d(e){var{components:t}=e,i=o(e,["components"]);return(0,n.kt)("wrapper",a({},u,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"4D Desktop applications can be used in a Client/Server configuration, either as merged client/server applications or as remote projects."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"merged client/server applications")," are generated by the ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/Desktop/building#clientserver-page"}),"Build Application manager"),". They are used for application deployments.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"remote projects")," are ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/Project/architecture"}),".4DProject")," files opened by 4D Server and accessed with 4D in remote mode. The server sends a .4dz version of the project (",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/Desktop/building#build-compiled-structure"}),"compressed format"),") to the remote 4D, thus structure files are read-only. This configuration is usually used for application testing."))),(0,n.kt)("p",null,(0,n.kt)("img",{src:r(26482).Z,width:"581",height:"249"})),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Connecting to a remote project from the ",(0,n.kt)("strong",{parentName:"p"},"same machine as 4D Server")," allows modifying the project files. This ",(0,n.kt)("a",a({parentName:"p"},{href:"#using-4d-and-4d-server-on-the-same-machine"}),"specific feature")," allows to develop a client/server application in the same context as the deployment context.")),(0,n.kt)("h2",a({},{id:"opening-a-merged-clientserver-application"}),"Opening a merged client/server application"),(0,n.kt)("p",null,"A merged client/server application is customized and its starting is simplified:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Pour lancer la partie serveur, l\u2019utilisateur double-clique simplement sur l\u2019application serveur : il n\u2019est pas n\xe9cessaire de s\xe9lectionner le fichier projet. il n\u2019est pas n\xe9cessaire de s\xe9lectionner le fichier projet."),(0,n.kt)("li",{parentName:"ul"},"Pour lancer la partie cliente, l\u2019utilisateur double-clique simplement sur l\u2019application cliente, qui se connecte directement \xe0 l\u2019application serveur : il n\u2019est pas n\xe9cessaire de choisir un serveur dans une bo\xeete de dialogue de connexion.")),(0,n.kt)("p",null,"These principles are detailed in the ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/Desktop/building#what-is-a-clientserver-application"}),"Build Application")," page."),(0,n.kt)("h2",a({},{id:"ouvrir-un-projet-distant"}),"Ouvrir un projet distant"),(0,n.kt)("p",null,"La premi\xe8re fois que vous vous connectez \xe0 un projet 4D Server via un 4D distant, vous utiliserez g\xe9n\xe9ralement la bo\xeete de dialogue de connexion standard. Thereafter, you will be able to connect directly using the ",(0,n.kt)("strong",{parentName:"p"},"Open Recent Projects")," menu or a 4DLink shortcut file."),(0,n.kt)("p",null,"Pour vous connecter \xe0 distance \xe0 un projet 4D Server :"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Effectuez l'une des op\xe9rations suivantes :",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Select ",(0,n.kt)("strong",{parentName:"li"},"Connect to 4D Server")," in the Welcome Wizard dialog"),(0,n.kt)("li",{parentName:"ul"},"Select ",(0,n.kt)("strong",{parentName:"li"},"Open/Remote Project...")," from the ",(0,n.kt)("strong",{parentName:"li"},"File")," menu or the ",(0,n.kt)("strong",{parentName:"li"},"Open")," toolbar button.")))),(0,n.kt)("p",null,"La bo\xeete de dialogue de connexion \xe0 4D Server appara\xeet. This dialog has three tabs: ",(0,n.kt)("strong",{parentName:"p"},"Recent"),", ",(0,n.kt)("strong",{parentName:"p"},"Available"),", and ",(0,n.kt)("strong",{parentName:"p"},"Custom"),"."),(0,n.kt)("p",null,"If 4D Server is connected to the same subnetwork as the remote 4D, select ",(0,n.kt)("strong",{parentName:"p"},"Available"),". 4D Server includes a built-in broadcasting system that, by default, publishes the name of the 4D Server projects available over the network. La liste est tri\xe9e par ordre d'apparition et est mise \xe0 jour dynamiquement."),(0,n.kt)("p",null,(0,n.kt)("img",{src:r(59178).Z,width:"522",height:"482"})),(0,n.kt)("p",null,"To connect to a server from the list, double-click on its name or select it and click the ",(0,n.kt)("strong",{parentName:"p"},"OK")," button."),(0,n.kt)("p",null,"If the published project is not displayed in the ",(0,n.kt)("strong",{parentName:"p"},"Available")," list, select ",(0,n.kt)("strong",{parentName:"p"},"Custom"),". La page Personnalis\xe9 vous permet de vous connecter \xe0 un serveur publi\xe9 sur le r\xe9seau en utilisant son adresse r\xe9seau et en lui attribuant un nom personnalis\xe9."),(0,n.kt)("p",null,(0,n.kt)("img",{src:r(444859).Z,width:"522",height:"522"})),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Project name"),": Defines the local name of the 4D Server project. This name will be used in the ",(0,n.kt)("strong",{parentName:"li"},"Recent")," page when referring to the project."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Network address"),": The IP address of the machine where the 4D Server was launched.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"If two servers are executed simultaneously on the same machine, the IP address must be followed by a colon and port number, for example: ",(0,n.kt)("inlineCode",{parentName:"li"},"192.168.92.104:19814"),"."),(0,n.kt)("li",{parentName:"ul"},"Par d\xe9faut, le port de publication d'un 4D Server est 19813. Ce num\xe9ro peut \xeatre modifi\xe9 dans les param\xe8tres du projet.")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"The ",(0,n.kt)("strong",{parentName:"p"},"Activate development mode")," option opens the remote connection in a special read/write mode and requires to access the project folder from the remote 4D (compatibility option).")),(0,n.kt)("p",null,"Once this page assigns a server, clicking the ",(0,n.kt)("strong",{parentName:"p"},"OK")," button will allow you to connect to the server."),(0,n.kt)("p",null,"Once a connection to the server has been established, the remote project will be listed on the ",(0,n.kt)("strong",{parentName:"p"},"Recent")," tab."),(0,n.kt)("h3",a({},{id:"mettre-\xe0-jour-des-fichiers-de-projet-sur-le-serveur"}),"Mettre \xe0 jour des fichiers de projet sur le serveur"),(0,n.kt)("p",null,"4D Server automatically creates and sends the remote machines a ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/Desktop/building#build-compiled-structure"}),".4dz version")," of the ",(0,n.kt)("em",{parentName:"p"},".4DProject")," project file (not compressed) in interpreted mode."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"An updated .4dz version of the project is automatically produced when necessary, ",(0,n.kt)("em",{parentName:"li"},"i.e.")," when the project has been modified and reloaded by 4D Server. Le projet est recharg\xe9 :",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"automatiquement, lorsque la fen\xeatre de l'application 4D Server arrive \xe0 l'avant de l'OS ou lorsque l'application 4D sur la m\xeame machine enregistre une modification (voir ci-dessous)."),(0,n.kt)("li",{parentName:"ul"},"when the ",(0,n.kt)("inlineCode",{parentName:"li"},"RELOAD PROJECT")," command is executed. L'appel de cette commande est n\xe9cessaire lorsque, par exemple, vous avez extrait une nouvelle version du projet depuis la plateforme de contr\xf4le de version.")))),(0,n.kt)("h3",a({},{id:"mettre-\xe0-jour-des-fichiers-de-projet-sur-les-machines-distantes"}),"Mettre \xe0 jour des fichiers de projet sur les machines distantes"),(0,n.kt)("p",null,"Lorsqu'une version .4dz mise \xe0 jour du projet a \xe9t\xe9 produite sur 4D Server, les machines 4D distantes connect\xe9es doivent se d\xe9connecter et se reconnecter \xe0 4D Server afin de b\xe9n\xe9ficier de la version mise \xe0 jour."),(0,n.kt)("h2",a({},{id:"using-4d-and-4d-server-on-the-same-machine"}),"Using 4D and 4D Server on the same machine"),(0,n.kt)("p",null,"Lorsque 4D se connecte \xe0 un 4D Server sur la m\xeame machine, l'application se comporte comme 4D en mode monoposte et l'environnement de d\xe9veloppement permet d'\xe9diter les fichiers du projet. This feature allows you to develop a client/server application in the same context as the deployment context."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"When 4D connects to a 4D Server on the same machine, the ",(0,n.kt)("strong",{parentName:"p"},"development mode")," is automatically activated, whatever the ",(0,n.kt)("a",a({parentName:"p"},{href:"#opening-a-remote-project"}),"opening option")," status.")),(0,n.kt)("p",null,"Each time 4D performs a ",(0,n.kt)("strong",{parentName:"p"},"Save all")," action from the design environment (explicitly from ",(0,n.kt)("strong",{parentName:"p"},"File")," menu or implicitly by switching to application mode for example), 4D Server synchronously reloads project files. 4D attend que 4D Server termine le rechargement des fichiers du projet avant de continuer."),(0,n.kt)("p",null,"However, you need to pay attention to the following behavior differences compared to ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/Project/architecture"}),"standard project architecture"),":"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"le dossier userPreferences.{username} utilis\xe9 par 4D ne correspond pas au m\xeame dossier utilis\xe9 par 4D Server dans le dossier projet. Au lieu de cela, il s'agit d'un dossier d\xe9di\xe9, nomm\xe9 \"userPreferences\", stock\xe9 dans le dossier syst\xe8me du projet (c'est-\xe0-dire au m\xeame emplacement que lors de l'ouverture d'un projet .4dz)."),(0,n.kt)("li",{parentName:"ul"},'le dossier utilis\xe9 par 4D pour les donn\xe9es d\xe9riv\xe9es n\'est pas le dossier "DerivedData" du dossier projet. Il s\'agit plut\xf4t d\'un dossier d\xe9di\xe9 nomm\xe9 "DerivedDataRemote" situ\xe9 dans le dossier syst\xe8me du projet.'),(0,n.kt)("li",{parentName:"ul"},"le fichier catalog.4DCatalog n'est pas \xe9dit\xe9 par 4D mais par 4D Server. Les informations du catalogue sont synchronis\xe9es \xe0 l'aide des requ\xeates client/serveur"),(0,n.kt)("li",{parentName:"ul"},"le fichier directory.json n'est pas \xe9dit\xe9 par 4D mais par 4D Server. Les informations du r\xe9pertoire sont synchronis\xe9es \xe0 l'aide des requ\xeates client/serveur"),(0,n.kt)("li",{parentName:"ul"},"4D utilise ses propres composants internes et plug-ins au lieu de ceux de 4D Server.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Il n'est pas recommand\xe9 d'installer des plug-ins ou des composants au niveau de l'application 4D ou 4D Server.")),(0,n.kt)("h2",a({},{id:"remote-user-sessions"}),"Remote user sessions"),(0,n.kt)("p",null,"On the server, the ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/API/SessionClass#session"}),(0,n.kt)("inlineCode",{parentName:"a"},"Session"))," command returns a ",(0,n.kt)("inlineCode",{parentName:"p"},"session")," object describing the current user session. This object is handled through the functions and properties of the ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/API/SessionClass"}),(0,n.kt)("inlineCode",{parentName:"a"},"Session")," class"),"."),(0,n.kt)("h3",a({},{id:"utilisation"}),"Utilisation"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"session")," object allows you to get information about the remote user session. You can share data between all processes of the user session using the ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/API/SessionClass#storage"}),(0,n.kt)("inlineCode",{parentName:"a"},"session.storage"))," shared object."),(0,n.kt)("p",null,"For example, you can launch a user authentication and verification procedure when a client connects to the server, involving entering a code sent by e-mail or SMS into the application. You then add the user information to the session storage, enabling the server to identify the user. This way, the 4D server can access user information for all client processes, enabling customized code to be written according to the user's role."),(0,n.kt)("h3",a({},{id:"availability"}),"Availability"),(0,n.kt)("p",null,"The remote user ",(0,n.kt)("inlineCode",{parentName:"p"},"session")," object is available from:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Project methods that have the ",(0,n.kt)("a",a({parentName:"li"},{href:"/docs/fr/Project/code-overview#execute-on-server"}),"Execute on Server"),' attribute (they are executed in the "twinned" process of the client process),'),(0,n.kt)("li",{parentName:"ul"},"Les Triggers,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"On Server Open Connection")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"On Server Shutdown Connection")," database methods.")),(0,n.kt)("admonition",a({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"All stored procedures on the server share the same virtual user session. For more information, see ",(0,n.kt)("a",a({parentName:"p"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),"this page on doc.4d.com"),".")),(0,n.kt)("h3",a({},{id:"see-also-blog-post"}),"See also (blog post)"),(0,n.kt)("p",null,(0,n.kt)("a",a({parentName:"p"},{href:"https://blog.4d.com/new-4D-remote-session-object-with-client-server-connection-and-stored-procedure"}),"4D remote session object with Client/Server connection and Stored procedure"),"."))}d.isMDXComponent=!0},444859:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/serverConnect2-2617f5a73a8b33f5ebfac1b36a006c1c.png"},26482:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/localremote-5c33fe5479db4c271ef3a6dabde98395.png"},59178:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/serverConnect-cb74aeff8307fbc27a084e5c6ec84144.png"}}]);