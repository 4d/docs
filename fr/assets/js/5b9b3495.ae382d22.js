"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[85836],{651862:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>o,toc:()=>d});var r=s(474848),i=s(28453);const t={id:"pop-up-menu",title:"Pop up menu",slug:"/commands/pop-up-menu",displayed_sidebar:"docs"},l=void 0,o={id:"commands-legacy/pop-up-menu",title:"Pop up menu",description:"Pop up menu ( contenu {; parD\xe9faut {; coordX ; coordY}} )  -> R\xe9sultat",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/pop-up-menu.md",sourceDirName:"commands-legacy",slug:"/commands/pop-up-menu",permalink:"/docs/fr/commands/pop-up-menu",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fpop-up-menu.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"pop-up-menu",title:"Pop up menu",slug:"/commands/pop-up-menu",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"PLAY",permalink:"/docs/fr/commands/play"},next:{title:"POST CLICK",permalink:"/docs/fr/commands/post-click"}},a={},d=[{value:"Description",id:"description",level:4},{value:"Exemple",id:"exemple",level:4},{value:"Voir aussi",id:"voir-aussi",level:4}];function c(e){const n={a:"a",br:"br",code:"code",em:"em",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Pop up menu"})," ( ",(0,r.jsx)(n.em,{children:"contenu"})," {; ",(0,r.jsx)(n.em,{children:"parD\xe9faut"})," {; ",(0,r.jsx)(n.em,{children:"coordX"})," ; ",(0,r.jsx)(n.em,{children:"coordY"}),"}} )  -> R\xe9sultat"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param\xe8tre"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"contenu"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"D\xe9finition du texte du menu"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"parD\xe9faut"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Num\xe9ro de l'\xe9l\xe9ment s\xe9lectionn\xe9 par d\xe9faut"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"coordX"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Coordonn\xe9e X du coin sup\xe9rieur gauche"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"coordY"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Coordonn\xe9e Y du coin sup\xe9rieur gauche"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"R\xe9sultat"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Num\xe9ro de l'\xe9l\xe9ment de menu s\xe9lectionn\xe9"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Cette commande n'est pas thread-safe, elle ne peut pas \xeatre utilis\xe9e dans du code pr\xe9emptif."})}),"\n",(0,r.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["La commande ",(0,r.jsx)(n.strong,{children:"Pop up menu"})," fait appara\xeetre un pop up \xe0 l'emplacement courant du curseur de la souris ou \xe0 l'emplacement d\xe9fini par les param\xe8tres facultatifs ",(0,r.jsx)(n.em,{children:"coordX"})," et ",(0,r.jsx)(n.em,{children:"coordY"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Selon les r\xe8gles standard d'interface utilisateur, cette commande doit g\xe9n\xe9ralement \xeatre appel\xe9e en r\xe9ponse \xe0 un clic souris, et lorsque le bouton reste enfonc\xe9 un certain laps de temps."}),"\n",(0,r.jsxs)(n.p,{children:["Vous d\xe9finissez les \xe9l\xe9ments du pop up menu \xe0 l'aide du param\xe8tre ",(0,r.jsx)(n.em,{children:"contenu"}),", de la mani\xe8re suivante :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Chaque \xe9l\xe9ment est s\xe9par\xe9 des autres par un point-virgule (;), ",(0,r.jsx)(n.em,{children:'"El\xe9ment1;El\xe9ment2;El\xe9ment3"'}),"."]}),"\n",(0,r.jsxs)(n.li,{children:['Pour inactiver un \xe9l\xe9ment, placez une parenth\xe8se ouvrante "',(0,r.jsx)(n.em,{children:"("}),'" dans son libell\xe9.']}),"\n",(0,r.jsx)(n.li,{children:'Pour d\xe9finir une ligne de s\xe9paration, passez la valeur "-" ou "(-" en tant que libell\xe9.'}),"\n",(0,r.jsxs)(n.li,{children:["Pour d\xe9finir le style de caract\xe8res d'un \xe9l\xe9ment, placez dans son libell\xe9 le symbole inf\xe9rieur \xe0 \"",(0,r.jsx)(n.em,{children:"<"}),"\" suivi d'une lettre. Voici les diff\xe9rents codes :",(0,r.jsx)(n.br,{}),"\n| <B | Gras                        |",(0,r.jsx)(n.br,{}),"\n| -- | --------------------------- |",(0,r.jsx)(n.br,{}),"\n| <I | Italique                    |",(0,r.jsx)(n.br,{}),"\n| <U | Soulign\xe9                    |",(0,r.jsx)(n.br,{}),"\n| <O | Contours (Mac OS seulement) |",(0,r.jsx)(n.br,{}),"\n| <S | Relief (Mac OS seulement)   |"]}),"\n",(0,r.jsxs)(n.li,{children:["Pour associer une coche \xe0 un \xe9l\xe9ment, ins\xe9rez dans son libell\xe9 un point d'exclamation \"",(0,r.jsx)(n.em,{children:"!"}),'" suivi du caract\xe8re que vous voulez utiliser comme coche.\n',(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Sous Mac OS, le caract\xe8re pass\xe9 est directement affich\xe9. Pour afficher la coche standard quelle que soit la version ou la langue du syst\xe8me, utilisez l'instruction ",(0,r.jsx)(n.a,{href:"/docs/fr/commands/char",children:"Char"}),"(18)."]}),"\n",(0,r.jsx)(n.li,{children:"Sous Windows, une coche standard est affich\xe9e (quel que soit le caract\xe8re pass\xe9)."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Pour associer une ic\xf4ne \xe0 un \xe9l\xe9ment, ins\xe9rez dans son libell\xe9 un accent circonflexe \"^\" suivi d'un caract\xe8re dont le code moins 48 plus 256 (ou plus 208) repr\xe9sente un num\xe9ro de ressource d'ic\xf4ne Mac OS."}),"\n",(0,r.jsxs)(n.li,{children:['Pour ajouter un raccourci clavier \xe0 un \xe9l\xe9ment, ins\xe9rez dans son libell\xe9 une barre oblique "',(0,r.jsx)(n.em,{children:"/"}),"\" suivie du caract\xe8re de raccourci. Notez que cette derni\xe8re option est uniquement informative (aucun raccourci clavier n'active le pop up menu), cependant vous pouvez indiquer un raccourci clavier si l'\xe9l\xe9ment du pop up menu dispose d'une commande \xe9quivalente dans la barre de menus principale de votre application."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Astuce : Il est possible de d\xe9sactiver le m\xe9canisme d'interpr\xe9tation des caract\xe8res sp\xe9ciaux (!, /, etc.) dans un \xe9l\xe9ment de pop up menu afin, par exemple, de faire figurer ces caract\xe8res dans les libell\xe9s. Pour cela, il suffit de faire d\xe9buter la d\xe9finition de l'\xe9l\xe9ment contenue dans le param\xe8tre ",(0,r.jsx)(n.em,{children:"contenu"})," par l'instruction ",(0,r.jsx)(n.a,{href:"/docs/fr/commands/char",children:"Char"}),"(1) (ex : ",(0,r.jsxs)(n.em,{children:[(0,r.jsx)(n.em,{children:"Caractere"}),'(1)+"1/4"']}),' pour d\xe9finir un \xe9l\xe9ment "1/4").']}),"\n",(0,r.jsxs)(n.p,{children:["Le param\xe8tre optionnel ",(0,r.jsx)(n.em,{children:"parD\xe9faut"})," vous permet de d\xe9finir l'\xe9l\xe9ment du pop up menu s\xe9lectionn\xe9 par d\xe9faut lorsque celui-ci appara\xeet. Passez une valeur situ\xe9e entre 1 et le nombre d'\xe9l\xe9ments du menu. Si vous ne passez pas ce param\xe8tre, le premier \xe9l\xe9ment du menu sera s\xe9lectionn\xe9 par d\xe9faut. Si vous passez \xe9galement les param\xe8tres ",(0,r.jsx)(n.em,{children:"coordX"})," et ",(0,r.jsx)(n.em,{children:"coordY"})," (cf. ci-dessous), ce param\xe8tre est ignor\xe9."]}),"\n",(0,r.jsxs)(n.p,{children:["Les param\xe8tres facultatifs ",(0,r.jsx)(n.em,{children:"coordX"})," et ",(0,r.jsx)(n.em,{children:"coordY"})," permettent de d\xe9signer l\u2019emplacement du pop up menu \xe0 afficher. Passez respectivement dans ",(0,r.jsx)(n.em,{children:"coordX"})," et ",(0,r.jsx)(n.em,{children:"coordY"})," les coordonn\xe9es horizontale et verticale du coin sup\xe9rieur gauche du menu. Ces coordonn\xe9es doivent \xeatre exprim\xe9es en pixels dans le syst\xe8me de coordonn\xe9es local au formulaire courant. Ces deux param\xe8tres doivent \xeatre pass\xe9s ensemble ; si un seul est pass\xe9, il est ignor\xe9.",(0,r.jsx)(n.br,{}),"\nSi vous utilisez les param\xe8tres ",(0,r.jsx)(n.em,{children:"coordX"})," et ",(0,r.jsx)(n.em,{children:"coordY"}),", le param\xe8tre ",(0,r.jsx)(n.em,{children:"parD\xe9faut"})," est ignor\xe9. Dans ce cas en effet, la souris ne se trouve pas n\xe9cessairement au niveau du pop up menu.",(0,r.jsx)(n.br,{}),"\nCes param\xe8tres sont utiles notamment pour la gestion des boutons 3D avec pop up menu associ\xe9."]}),"\n",(0,r.jsx)(n.p,{children:"Lorsqu'un \xe9l\xe9ment du pop up menu est s\xe9lectionn\xe9, la commande retourne son num\xe9ro, autrement elle retourne z\xe9ro."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note :"})," Utilisez les pop up menus avec un nombre \"raisonnable\" d'\xe9l\xe9ments. Si, par exemple, vous voulez afficher plus de 50 \xe9l\xe9ments, envisagez plut\xf4t d'employer une zone de d\xe9filement dans un formulaire."]}),"\n",(0,r.jsx)(n.h4,{id:"exemple",children:"Exemple"}),"\n",(0,r.jsx)(n.p,{children:"La m\xe9thode projet MON RACCOURCI fait appara\xeetre un pop up menu de navigation :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode projet MON RACCOURCI\n\xa0MOUSE POSITION($vlMouseX;$vlMouseY;$vlBouton)\n\xa0If(Macintosh control down\xa0|\xa0($vlBouton=2))\n\xa0\xa0\xa0\xa0$vtItems:="A propos de cette base...<i;(-;!-autres options;(-"="" \xa0\xa0\xa0\xa0for($vltable;1;get="" last="" table="" number)="" \xa0\xa0\xa0\xa0\xa0\xa0\xa0if(is="" number="" valid($vltable))="" \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0$vtitems:="$vtItems+";"+Table" name($vltable)="" \xa0\xa0\xa0\xa0\xa0\xa0\xa0end="" if="" \xa0\xa0\xa0\xa0end="" for="" \xa0\xa0\xa0\xa0$vlchoixutilisateur:="Pop" up="" menu($vtitems)="" \xa0\xa0\xa0\xa0case="" of="" \xa0\xa0\xa0\xa0\xa0\xa0\xa0:($vlchoixutilisateur="1)" \xa0\xa0//="" afficher="" les="" informations="" options="" \xa0\xa0\xa0\xa0\xa0\xa0\xa0else="" \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0if($vlchoixutilisateur="">0)\n\xa0\xa0// Aller \xe0 la table dont le num\xe9ro est $vlChoixUtilisateur-4\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0End case\n\xa0End if</i;(-;!-autres>\n'})}),"\n",(0,r.jsx)(n.p,{children:"Cette m\xe9thode projet peut \xeatre appel\xe9e d'une des mani\xe8res suivantes :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"depuis la m\xe9thode d'un objet r\xe9agissant \xe0 un clic souris, et n'attendant pas que le bouton soit rel\xe2ch\xe9 (par exemple un bouton invisible),"}),"\n",(0,r.jsx)(n.li,{children:"depuis un process qui \u201c\xe9pie\u201d les \xe9v\xe9nements et communique avec les autres process,"}),"\n",(0,r.jsxs)(n.li,{children:["depuis une m\xe9thode de gestion d'\xe9v\xe9nements install\xe9e par la commande ",(0,r.jsx)(n.a,{href:"/docs/fr/commands/on-err-call",children:"ON ERR CALL"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Dans les deux derniers cas, il n'est pas n\xe9cessaire que le clic se produise dans un objet de formulaire. C'est l'un des avantages de la commande ",(0,r.jsx)(n.strong,{children:"Pop up menu"}),". G\xe9n\xe9ralement, les pop up menus sont affich\xe9s par l'interm\xe9diaire d'objets de formulaire. Avec ",(0,r.jsx)(n.strong,{children:"Pop up menu"}),", vous pouvez faire appara\xeetre un pop up menu n'importe o\xf9."]}),"\n",(0,r.jsxs)(n.p,{children:["Le pop up menu s'affiche sous Windows lorsque l'utilisateur appuie sur le ",(0,r.jsx)(n.strong,{children:"bouton droit"})," de la souris, et sous Mac OS lorsqu'il utilise la combinaison ",(0,r.jsx)(n.strong,{children:"Control+clic"}),". Notez cependant que la m\xe9thode ci-dessus ne teste pas le clic souris, c'est la m\xe9thode appelante qui en est charg\xe9e."]}),"\n",(0,r.jsx)(n.p,{children:"Voici le pop up menu tel qu'il s'affiche sous Windows (\xe0 gauche) et sous Mac OS (\xe0 droite). Notez la coche standard de la version Windows :"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:s(797701).A+"",width:"381",height:"112"})}),"\n",(0,r.jsx)(n.h4,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/fr/commands/dynamic-pop-up-menu",children:"Dynamic pop up menu"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"/docs/fr/commands/mouse-position",children:"MOUSE POSITION"})]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},797701:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/pict36394.fr-1abd464392fbaf5c5db5393008b1c4b4.png"},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var r=s(296540);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);