"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["10622"],{529746:function(e,n,s){s.r(n),s.d(n,{default:()=>m,frontMatter:()=>d,metadata:()=>r,assets:()=>a,toc:()=>c,contentTitle:()=>l});var r=JSON.parse('{"id":"commands-legacy/qr-report","title":"QR REPORT","description":"QR REPORT ( {laTable ;} nomFichier {; nomM\xe9thode}{; *} )","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R9/commands-legacy/qr-report.md","sourceDirName":"commands-legacy","slug":"/commands/qr-report","permalink":"/docs/fr/20-R9/commands/qr-report","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fqr-report.md%20(20-R9)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R9","frontMatter":{"id":"qr-report","title":"QR REPORT","slug":"/commands/qr-report","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"QR ON COMMAND","permalink":"/docs/fr/20-R9/commands/qr-on-command"},"next":{"title":"QR REPORT TO BLOB","permalink":"/docs/fr/20-R9/commands/qr-report-to-blob"}}'),t=s("785893"),i=s("250065");let d={id:"qr-report",title:"QR REPORT",slug:"/commands/qr-report",displayed_sidebar:"docs"},l=void 0,a={},c=[{value:"Description",id:"description",level:2},{value:"Exemple 1",id:"exemple-1",level:2},{value:"Exemple 2",id:"exemple-2",level:2},{value:"Exemple 3",id:"exemple-3",level:2},{value:"Exemple 4",id:"exemple-4",level:2},{value:"Exemple 5",id:"exemple-5",level:2},{value:"Voir aussi",id:"voir-aussi",level:2},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:2}];function o(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"QR REPORT"})," ( {",(0,t.jsx)(n.em,{children:"laTable"})," ;} ",(0,t.jsx)(n.em,{children:"nomFichier"})," {; ",(0,t.jsx)(n.em,{children:"nomM\xe9thode"}),"}{; *} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tre"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"laTable"}),(0,t.jsx)(n.td,{children:"Table"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Table \xe0 utiliser ou Table par d\xe9faut si ce param\xe8tre est omis"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"nomFichier"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Document d'\xe9tat rapide \xe0 charger"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"nomM\xe9thode"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Nom de la m\xe9thode \xe0 appeler"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"*"}),(0,t.jsx)(n.td,{children:"Op\xe9rateur"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Suppression des bo\xeetes de dialogue d'impression"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La commande ",(0,t.jsx)(n.strong,{children:"QR REPORT"})," imprime un \xe9tat pour ",(0,t.jsx)(n.em,{children:"laTable"}),", \xe0 l'aide de l'Editeur d'\xe9tats rapides de 4D. Cet \xe9diteur permet \xe0 l'utilisateur de construire en totalit\xe9 son propre \xe9tat. Pour plus d'informations sur la cr\xe9ation d'\xe9tats \xe0 l'aide de l'Editeur d'\xe9tats rapides, reportez-vous \xe0 la section ",(0,t.jsx)(n.em,{children:"Etats rapides"})," dans le manuel ",(0,t.jsx)(n.em,{children:"Mode D\xe9veloppement"})," de 4D."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Notes :"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["L'\xe9diteur n'appara\xeet pas si la ",(0,t.jsx)(n.em,{children:"laTable"})," a \xe9t\xe9 d\xe9clar\xe9e \u201CInvisible\u201D."]}),"\n",(0,t.jsxs)(n.li,{children:["Lorsque l'\xe9diteur est appel\xe9 via la commande ",(0,t.jsx)(n.strong,{children:"QR REPORT"}),", les liens entre les tables conservent leur statut manuel, le cas \xe9ch\xe9ant. Ce principe permet au d\xe9veloppeur de g\xe9rer lui-m\xeame ce statut \xe0 l'aide des commandes ",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/set-automatic-relations",children:"SET AUTOMATIC RELATIONS"})," et ",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/set-field-relation",children:"SET FIELD RELATION"}),". Toutefois, n'oubliez pas que les automatismes sont d\xe9sactiv\xe9s lorsque les tables li\xe9es sont visualis\xe9es dans un formulaire liste affich\xe9 \xe0 l'aide de ",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/display-selection",children:"DISPLAY SELECTION"}),", ",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/modify-selection",children:"MODIFY SELECTION"})," ou d'un sous-formulaire. Voir ",(0,t.jsx)(n.em,{children:"Liens manuels et automatiques"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["L'\xe9diteur est appel\xe9 dans une fen\xeatre externe, il n'est pas possible d'utiliser la commande ",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/qr-on-command",children:"QR ON COMMAND"})," dans ce contexte. Vous pouvez cependant utiliser le param\xe8tre ",(0,t.jsx)(n.em,{children:"nomM\xe9thode"})," afin d'ex\xe9cuter du code personnalis\xe9 lorsqu'une commande d'interface est activ\xe9e (cf. ci-dessous)."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Le param\xe8tre ",(0,t.jsx)(n.em,{children:"nomFichier"})," d\xe9signe un mod\xe8le d'\xe9tat cr\xe9\xe9 dans l'\xe9diteur d'\xe9tats rapides et sauvegard\xe9 sur disque. Le document stocke les param\xe8tres de l'\xe9tat, pas les enregistrements. Si une cha\xeene vide (\"\") est pass\xe9e dans ",(0,t.jsx)(n.em,{children:"nomFichier"}),", ",(0,t.jsx)(n.strong,{children:"QR REPORT"})," affiche une bo\xeete de dialogue d'ouverture de fichiers, dans laquelle l'utilisateur peut choisir un mod\xe8le d'\xe9tat \xe0 imprimer.",(0,t.jsx)(n.br,{}),"\nSi le param\xe8tre ",(0,t.jsx)(n.em,{children:"nomFichier"})," sp\xe9cifie un document qui n'existe pas (si vous passez, par exemple, ",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/char",children:"Char"}),"(1) dans ",(0,t.jsx)(n.em,{children:"nomFichier"}),"), l'\xe9diteur d'\xe9tats rapides s'affiche."]}),"\n",(0,t.jsxs)(n.p,{children:["Le param\xe8tre ",(0,t.jsx)(n.em,{children:"nomM\xe9thode"})," d\xe9signe une m\xe9thode projet 4D qui sera ex\xe9cut\xe9e chaque fois qu'une commande de gestion de documents de l'\xe9diteur d'\xe9tats rapides sera appel\xe9e via un clic sur un bouton. L'utilisation de ce param\xe8tre \xe9quivaut \xe0 l'utilisation de ",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/qr-on-command",children:"QR ON COMMAND"})," dans la fen\xeatre de l'\xe9diteur d'\xe9tats rapides (",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/qr-on-command",children:"QR ON COMMAND"})," fonctionne uniquement pour une une zone int\xe9gr\xe9e). Par exemple, vous pouvez utiliser ce param\xe8tre pour modifier le jeu de carat\xe8tres utilis\xe9 par l'\xe9tat rapide. La m\xe9thode ",(0,t.jsx)(n.em,{children:"nomM\xe9thode"})," re\xe7oit deux param\xe8tres :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Param\xe8tre"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Type"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Description"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"$area"}),(0,t.jsx)(n.td,{children:"Entier long"}),(0,t.jsx)(n.td,{children:"R\xe9f\xe9rence de la zone"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"$command"}),(0,t.jsx)(n.td,{children:"Entier long"}),(0,t.jsxs)(n.td,{children:["Num\xe9ro de la commande s\xe9lectionn\xe9e. \xc0 comparer avec les constantes suivantes du th\xe8me ",(0,t.jsx)(n.em,{children:"QR Commandes"})," (seuls les \xe9v\xe9nements list\xe9s sont pris en charge) :                                    ",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Constante"}),(0,t.jsx)(n.td,{children:"Valeur"}),(0,t.jsx)(n.td,{children:"Comment"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"qr cmd generate"}),(0,t.jsx)(n.td,{children:"2008"}),(0,t.jsxs)(n.td,{children:["Utilisation de la commande ",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/qr-run",children:"QR RUN"})," conseill\xe9e"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"qr cmd open"}),(0,t.jsx)(n.td,{children:"2001"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"qr cmd page setup"}),(0,t.jsx)(n.td,{children:"2006"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"qr cmd print preview"}),(0,t.jsx)(n.td,{children:"2007"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"qr cmd save"}),(0,t.jsx)(n.td,{children:"2002"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"qr cmd save as"}),(0,t.jsx)(n.td,{children:"2003"}),(0,t.jsx)(n.td,{})]})]})]})]})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note :"})," Si vous souhaitez compiler votre base de donn\xe9es, vous devez d\xe9clarer explicitement les param\xe8tres $area et $command comme entiers longs, m\xeame si vous ne les utilisez pas."]}),"\n",(0,t.jsxs)(n.p,{children:["Si vous souhaitez ex\xe9cuter la commande initiale choisie par l'utilisateur, saisissez l'instruction suivante dans la m\xe9thode ",(0,t.jsx)(n.em,{children:"nomM\xe9thode"})," :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"\xa0QR EXECUTE COMMAND($area;$command)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Si le param\xe8tre ",(0,t.jsx)(n.em,{children:"nomM\xe9thode"})," est une cha\xeene vide (\"\") ou est omis, aucune m\xe9thode n'est appel\xe9e et l'op\xe9ration standard de ",(0,t.jsx)(n.strong,{children:"QR REPORT"})," est appliqu\xe9e."]}),"\n",(0,t.jsxs)(n.p,{children:["Une fois qu'un fichier d'\xe9tat est s\xe9lectionn\xe9, les bo\xeetes de dialogue d'impression s'affichent, sauf si le param\xe8tre ",(0,t.jsx)(n.em,{children:"*"})," a \xe9t\xe9 sp\xe9cifi\xe9 \u2014 dans ce cas, elles ne s'affichent pas. L'\xe9tat est alors imprim\xe9."]}),"\n",(0,t.jsxs)(n.p,{children:["Lorsque l'Editeur d'\xe9tats rapides n'est pas affich\xe9, la variable syst\xe8me OK prend la valeur 1 si un \xe9tat est imprim\xe9 ; sinon elle prend la valeur 0 (z\xe9ro) \u2014 par exemple si l'utilisateur a cliqu\xe9 sur ",(0,t.jsx)(n.strong,{children:"Annuler"})," dans les bo\xeetes de dialogue d'impression."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"4D Server :"})," Cette commande peut \xeatre ex\xe9cut\xe9e sur 4D Server dans le cadre d'une proc\xe9dure stock\xe9e. Dans ce contexte :"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Veillez \xe0 ce qu\u2019aucune bo\xeete de dialogue n\u2019apparaisse sur le poste serveur (sauf besoin sp\xe9cifique). Pour cela, il est n\xe9cessaire d\u2019appeler la commande avec le param\xe8tre ",(0,t.jsx)(n.em,{children:"*"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"La syntaxe faisant appara\xeetre l\u2018\xe9diteur d'\xe9tats rapide ne fonctionne pas avec 4D Server, dans ce cas la variable syst\xe8me OK prend la valeur 0."}),"\n",(0,t.jsx)(n.li,{children:"En cas de probl\xe8me sur l\u2019imprimante (plus de papier, imprimante d\xe9connect\xe9e, etc.), aucun message d'erreur n'est g\xe9n\xe9r\xe9."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,t.jsx)(n.p,{children:"L'exemple suivant permet \xe0 l'utilisateur d'effectuer une recherche dans la table [Personnes], puis imprime automatiquement l'\xe9tat \"Liste d\xe9taill\xe9e\" :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0QUERY([Personnes])\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0QR REPORT([Personnes];"Liste d\xe9taill\xe9e";*)\n\xa0End if\n'})}),"\n",(0,t.jsx)(n.h2,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,t.jsx)(n.p,{children:"L'exemple suivant permet \xe0 l'utilisateur d'effectuer une recherche dans la table [Personnes], puis de s\xe9lectionner le document d'\xe9tat qui sera ensuite utilis\xe9 pour l'impression :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0QUERY([Personnes])\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0QR REPORT([Personnes];"")\n\xa0End if\n'})}),"\n",(0,t.jsx)(n.h2,{id:"exemple-3",children:"Exemple 3"}),"\n",(0,t.jsx)(n.p,{children:"L'exemple suivant permet \xe0 l'utilisateur d'effectuer une recherche dans la table [Personnes], puis affiche l'Editeur d'\xe9tats rapides afin que l'utilisateur puisse construire, charger, sauvegarder ou imprimer tout \xe9tat :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"\xa0QUERY([Personnes])\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0QR REPORT([Personnes];Char(1))\n\xa0End if\n"})}),"\n",(0,t.jsx)(n.h2,{id:"exemple-4",children:"Exemple 4"}),"\n",(0,t.jsxs)(n.p,{children:["Reportez-vous \xe0 l'exemple de la commande ",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/set-field-relation",children:"SET FIELD RELATION"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"exemple-5",children:"Exemple 5"}),"\n",(0,t.jsxs)(n.p,{children:["Vous souhaitez convertir le jeu de caract\xe8res utilis\xe9 dans un \xe9tat rapide appel\xe9 via ",(0,t.jsx)(n.strong,{children:"QR REPORT"})," en Mac Roman :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0QR REPORT([MaTable];Char(1);"maCallbackMeth")\n'})}),"\n",(0,t.jsx)(n.p,{children:"La m\xe9thode maCallbackMeth convertit l\u2019\xe9tat lorsqu\u2019il est g\xe9n\xe9r\xe9 :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0#DECLARE($area : Integer ; $command : Integer)\n\xa0If($command=qr cmd generate)\xa0//si on a g\xe9n\xe9r\xe9 un \xe9tat\n\xa0\xa0\xa0\xa0var $myblob : Blob\n\xa0\xa0\xa0\xa0var $path;$text : Text\n\xa0\xa0\xa0\xa0var $type : Integer\n\xa0\xa0\xa0\xa0QR EXECUTE COMMAND($area;$command)\xa0//ex\xe9cution de la commande\n\xa0\xa0\xa0\xa0QR GET DESTINATION($area;$type;$path)\xa0//r\xe9cup\xe9ration de la destination\n\xa0\xa0\xa0\xa0If(($type=qr HTML file)|$type=qr text file))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0DOCUMENT TO BLOB($path;$myblob)\n\xa0\xa0//conversion vers un texte en utilisant UTF-8\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$text:=Convert to text($myblob;"UTF-8")\n\xa0\xa0//utilisation du jeu MacRoman\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0CONVERT FROM TEXT($text;"MacRoman";$myblob)\n\xa0\xa0//Renvoi de l\u2019\xe9tat converti\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0BLOB TO DOCUMENT($path;$myblob)\n\xa0\xa0\xa0\xa0End if\n\xa0Else\xa0//sinon ex\xe9cution de la commande\n\xa0\xa0\xa0\xa0QR EXECUTE COMMAND($area;$command)\n\xa0End if\n'})}),"\n",(0,t.jsx)(n.h2,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/print-label",children:"PRINT LABEL"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/print-selection",children:"PRINT SELECTION"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/20-R9/commands/set-allowed-methods",children:"SET ALLOWED METHODS"})]}),"\n",(0,t.jsx)(n.h2,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Num\xe9ro de commande"}),(0,t.jsx)(n.td,{children:"197"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Thread safe"}),(0,t.jsx)(n.td,{children:"\u2717"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Modifie les variables"}),(0,t.jsx)(n.td,{children:"OK"})]})]})]})]})}function m(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return l},a:function(){return d}});var r=s(667294);let t={},i=r.createContext(t);function d(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);