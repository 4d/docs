"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[16184],{603905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>k});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),s=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=s(e.components);return n.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),m=s(a),k=r,N=m["".concat(o,".").concat(k)]||m[k]||u[k]||l;return a?n.createElement(N,i(i({ref:t},d),{},{components:a})):n.createElement(N,i({ref:t},d))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=m;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:r,i[1]=p;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},443769:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>p,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>d});a(667294);var n=a(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const i={id:"HTTPRequestClass",title:"HTTPRequest"},p=void 0,o={unversionedId:"API/HTTPRequestClass",id:"version-20-R5/API/HTTPRequestClass",title:"HTTPRequest",description:"La classe HTTPRequest vous permet de manipuler des objets HTTPRequest qui peuvent \xeatre utilis\xe9s pour configurer et envoyer des requ\xeates \xe0 un serveur HTTP, ainsi que pour traiter les r\xe9ponses du serveur HTTP.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R5/API/HTTPRequestClass.md",sourceDirName:"API",slug:"/API/HTTPRequestClass",permalink:"/docs/fr/API/HTTPRequestClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FHTTPRequestClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"HTTPRequestClass",title:"HTTPRequest"},sidebar:"docs",previous:{title:"Function",permalink:"/docs/fr/API/FunctionClass"},next:{title:"IMAPTransporter",permalink:"/docs/fr/API/IMAPTransporterClass"}},s={},d=[{value:"Exemple",id:"exemple",level:3},{value:"Objet HTTPRequest",id:"objet-httprequest",level:3},{value:"4D.HTTPRequest.new()",id:"4dhttprequestnew",level:2},{value:"Description",id:"description",level:4},{value:"Param\xe8tre <code>options</code>",id:"param\xe8tre-options",level:4},{value:"Fonctions de callback",id:"fonctions-de-callback",level:4},{value:"event object",id:"event-object",level:4},{value:"authentication object",id:"authentication-object",level:4},{value:"HTTP Parse message",id:"http-parse-message",level:2},{value:"Description",id:"description-1",level:4},{value:"Exemple",id:"exemple-1",level:4},{value:".dataType",id:"datatype",level:2},{value:"Description",id:"description-2",level:4},{value:".encoding",id:"encoding",level:2},{value:"Description",id:"description-3",level:4},{value:".errors",id:"errors",level:2},{value:"Description",id:"description-4",level:4},{value:".headers",id:"headers",level:2},{value:"Description",id:"description-5",level:4},{value:".method",id:"method",level:2},{value:"Description",id:"description-6",level:4},{value:".protocol",id:"protocol",level:2},{value:"Description",id:"description-7",level:4},{value:".response",id:"response",level:2},{value:"Description",id:"description-8",level:4},{value:".returnResponseBody",id:"returnresponsebody",level:2},{value:"Description",id:"description-9",level:4},{value:".terminate()",id:"terminate",level:2},{value:"Description",id:"description-10",level:4},{value:".terminated",id:"terminated",level:2},{value:"Description",id:"description-11",level:4},{value:".timeout",id:"timeout",level:2},{value:"Description",id:"description-12",level:4},{value:".url",id:"url",level:2},{value:"Description",id:"description-13",level:4},{value:".wait()",id:"wait",level:2},{value:"Description",id:"description-14",level:4}],u={toc:d};function m(e){var{components:t}=e,a=l(e,["components"]);return(0,n.kt)("wrapper",r({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"La classe ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTPRequest")," vous permet de manipuler des ",(0,n.kt)("a",r({parentName:"p"},{href:"#httprequest-object"}),(0,n.kt)("inlineCode",{parentName:"a"},"objets HTTPRequest"))," qui peuvent \xeatre utilis\xe9s pour configurer et envoyer des requ\xeates \xe0 un serveur HTTP, ainsi que pour traiter les r\xe9ponses du serveur HTTP."),(0,n.kt)("p",null,"La classe ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTPRequest")," est disponible dans le class store ",(0,n.kt)("inlineCode",{parentName:"p"},"4D"),". Vous cr\xe9ez et envoyez des requ\xeates HTTP \xe0 l'aide de la fonction ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"4D.HTTPRequest.new()"),", qui renvoie un objet ",(0,n.kt)("a",r({parentName:"p"},{href:"#httprequest-object"}),(0,n.kt)("inlineCode",{parentName:"a"},"HTTPRequest")),"."),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Classe ajout\xe9e"))))),(0,n.kt)("h3",r({},{id:"exemple"}),"Exemple"),(0,n.kt)("p",null,"Cr\xe9ation d'une classe ",(0,n.kt)("inlineCode",{parentName:"p"},"MyHttpRequestOptions")," pour les options de la requ\xeate :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"Class constructor($method : Text ; $headers : Object ; $body : Text)\nThis.method:=$method\nThis.headers:=$headers\nThis.body:=$body\n\nFunction onResponse($request : 4D.HTTPRequest ; $event : Object)\n//M\xe9thode onResponse, si vous souhaitez traiter la requ\xeate de mani\xe8re asynchrone\n\nFunction onError($request : 4D.HTTPRequest ; $event : Object)\n//M\xe9thode onError, si vous souhaitez traiter la requ\xeate de mani\xe8re asynchrone\n")),(0,n.kt)("p",null,"Vous pouvez maintenant cr\xe9er votre requ\xeate :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $headers : Object\n$headers:=New object()\n$headers["field1"]:="value1"\n\nvar myHttpRequestOptions : cs.MyHttpRequestOptions\nmyHttpRequestOptions := cs.MyHttpRequestOptions.new("GET" ; $headers; "")\n\nvar $request : 4D.HTTPRequest\n$request:=4D.HTTPRequest.new("www.google.com" ; myHttpRequestOptions)\n$request.wait() //Si vous voulez traiter la requ\xeate de mani\xe8re synchrone\n//Maintenant vous pouvez utiliser $request.response pour acc\xe9der au r\xe9sultat de la requ\xeate ou $request.error pour v\xe9rifier l\'erreur qui s\'est produite.\n')),(0,n.kt)("h3",r({},{id:"objet-httprequest"}),"Objet HTTPRequest"),(0,n.kt)("p",null,"Un objet HTTPRequest est un objet non partageable."),(0,n.kt)("p",null,"Les objets HTTPRequest fournissent les propri\xe9t\xe9s et fonctions suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#dataType"}),(0,n.kt)("strong",{parentName:"a"},"dataType")," : Text"),(0,n.kt)("br",null),"le ",(0,n.kt)("inlineCode",{parentName:"td"},"dataType")," pass\xe9 dans l'objet ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"),', "auto" s\'il a \xe9t\xe9 omis')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#encoding"}),(0,n.kt)("strong",{parentName:"a"},"encoding")," : Text"),(0,n.kt)("br",null),"l'",(0,n.kt)("inlineCode",{parentName:"td"},"encoding")," pass\xe9 dans l'objet ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"),', "UTF-8" s\'il a \xe9t\xe9 omis')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#errors"}),(0,n.kt)("strong",{parentName:"a"},"errors")," : Collection"),(0,n.kt)("br",null),"la collection de toutes les erreurs si au moins une erreur a \xe9t\xe9 g\xe9n\xe9r\xe9e")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#headers"}),(0,n.kt)("strong",{parentName:"a"},"headers")," : Object"),(0,n.kt)("br",null),"les ",(0,n.kt)("inlineCode",{parentName:"td"},"headers")," pass\xe9s dans l'objet ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#method"}),(0,n.kt)("strong",{parentName:"a"},"method")," : Text"),(0,n.kt)("br",null),"la ",(0,n.kt)("inlineCode",{parentName:"td"},"m\xe9thode")," pass\xe9e dans l'objet ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#protocol"}),(0,n.kt)("strong",{parentName:"a"},"protocol")," : Text"),(0,n.kt)("br",null),"le ",(0,n.kt)("inlineCode",{parentName:"td"},"protocole")," pass\xe9 dans l'objet ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#response"}),(0,n.kt)("strong",{parentName:"a"},"response")," : Object"),(0,n.kt)("br",null),"la r\xe9ponse \xe0 la requ\xeate si elle a re\xe7u au moins le code de statut, sinon undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#returnResponseBody"}),(0,n.kt)("strong",{parentName:"a"},"returnResponseBody")," : Boolean"),(0,n.kt)("br",null),"le ",(0,n.kt)("inlineCode",{parentName:"td"},"returnResponseBody")," pass\xe9 dans l'objet ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#terminate"}),(0,n.kt)("strong",{parentName:"a"},".terminate()")),(0,n.kt)("br",null),"interrompt la requ\xeate HTTP")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#terminated"}),(0,n.kt)("strong",{parentName:"a"},"terminated")," : Boolean"),(0,n.kt)("br",null),"True si la requ\xeate est termin\xe9e (apr\xe8s l'appel \xe0 ",(0,n.kt)("inlineCode",{parentName:"td"},"onTerminate"),"), false sinon")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#timeout"}),(0,n.kt)("strong",{parentName:"a"},"timeout")," : Real"),(0,n.kt)("br",null),"le ",(0,n.kt)("inlineCode",{parentName:"td"},"timeout")," pass\xe9 dans l'objet ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#url"}),(0,n.kt)("strong",{parentName:"a"},"url")," : Text"),(0,n.kt)("br",null),"l'URL de la requ\xeate HTTP")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#wait"}),(0,n.kt)("strong",{parentName:"a"},".wait"),"( { ",(0,n.kt)("em",{parentName:"a"},"time")," : Real } ) : HTTPRequestClass"),(0,n.kt)("br",null),"attend la r\xe9ponse du serveur")))),(0,n.kt)("h2",r({},{id:"4dhttprequestnew"}),"4D.HTTPRequest.new()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Validation TLS par d\xe9faut")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R7"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Prise en charge des propri\xe9t\xe9s ",(0,n.kt)("em",{parentName:"td"},"automaticRedirections")," et ",(0,n.kt)("em",{parentName:"td"},"decodeData")))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"4D.HTTPRequest.new"),"( ",(0,n.kt)("em",{parentName:"p"},"url")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"options")," : Object } ) : 4D.HTTPRequest"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"url"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"URL \xe0 laquelle envoyer la requ\xeate")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9s de configuration de la requ\xeate")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.HTTPRequest"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nouvel objet HTTPRequest")))),(0,n.kt)("h4",r({},{id:"description"}),"Description"),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.HTTPRequest.new()")," cr\xe9e et envoie une requ\xeate HTTP au serveur HTTP d\xe9fini dans ",(0,n.kt)("em",{parentName:"p"},"url")," avec les ",(0,n.kt)("em",{parentName:"p"},"options")," d\xe9finies, et renvoie un objet ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.HTTPRequest"),"."),(0,n.kt)("p",null,"L'objet ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTPRequest")," retourn\xe9 est utilis\xe9 pour traiter les r\xe9ponses du serveur HTTP et appeler des m\xe9thodes."),(0,n.kt)("p",null,"Dans ",(0,n.kt)("em",{parentName:"p"},"url"),", passez l'URL o\xf9 vous voulez envoyer la requ\xeate. La syntaxe \xe0 utiliser est la suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),"{http://}[{user}:[{password}]@]host[ :{port}][/{path}][ ?{queryString}]\n{https://}[{user}:[{password}]@]host[ :{port}][/{path}][ ?{queryString}]\n")),(0,n.kt)("p",null,'Si vous omettez la partie "scheme" (',(0,n.kt)("inlineCode",{parentName:"p"},"http://")," ou ",(0,n.kt)("inlineCode",{parentName:"p"},"https://"),"), une requ\xeate https est envoy\xe9e."),(0,n.kt)("p",null,"Par exemple, vous pouvez passer les cha\xeenes suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),'    http://www.myserver.com\n    www.myserver.com/path\n    http://www.myserver.com/path?name="jones"\n    https://www.myserver.com/login\n    http://123.45.67.89:8083\n    http://john:smith@123.45.67.89:8083\n    http://[2001:0db8:0000:0000:0000:ff00:0042:8329]\n    http://[2001:0db8:0000:0000:0000:ff00:0042:8329]:8080/index.html (**)\n')),(0,n.kt)("h4",r({},{id:"param\xe8tre-options"}),"Param\xe8tre ",(0,n.kt)("inlineCode",{parentName:"h4"},"options")),(0,n.kt)("p",null,"Dans le param\xe8tre ",(0,n.kt)("em",{parentName:"p"},"options"),", passez un objet qui peut contenir les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par d\xe9faut"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"automaticRedirections"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Si true, les redirections sont effectu\xe9es automatiquement (jusqu'\xe0 5 redirections sont g\xe9r\xe9es, la 6e r\xe9ponse de redirection est renvoy\xe9e s'il y en a une)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"body"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Variant"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Corps de la requ\xeate (requis dans le cas des requ\xeates ",(0,n.kt)("inlineCode",{parentName:"td"},"post")," ou ",(0,n.kt)("inlineCode",{parentName:"td"},"put"),"). Il peut s'agir d'un texte, d'un blob ou d'un objet. Le content-type est d\xe9termin\xe9 \xe0 partir du type de cette propri\xe9t\xe9, sauf s'il est d\xe9fini dans les headers"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"certificatesFolder"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/API/FolderClass"}),"Folder")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"D\xe9finit le dossier actif des certificats du client"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataType"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Type de l\'attribut response body. Valeurs : "text", "blob", "object", ou "auto". Si "auto", le type du contenu du corps sera d\xe9duit de son type MIME (object pour JSON, text pour texte, javascript, xml, message http et url sous forme encod\xe9e, blob sinon)'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"decodeData"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Si vrai, les donn\xe9es re\xe7ues dans le callback ",(0,n.kt)("inlineCode",{parentName:"td"},"onData")," sont d\xe9compress\xe9es"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"False")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"encoding"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Utilis\xe9 uniquement dans le cas de requ\xeates avec un ",(0,n.kt)("inlineCode",{parentName:"td"},"body")," (m\xe9thodes ",(0,n.kt)("inlineCode",{parentName:"td"},"post")," ou ",(0,n.kt)("inlineCode",{parentName:"td"},"put"),"). Encodage du body content de la requ\xeate s'il s'agit d'un texte, ignor\xe9 si le content-type est d\xe9fini dans les headers"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"UTF-8"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"headers"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Headers de la requ\xeate. Syntaxe : ",(0,n.kt)("inlineCode",{parentName:"td"},"headers.key=value")," (",(0,n.kt)("em",{parentName:"td"},"value")," peut \xeatre une Collection si la m\xeame cl\xe9 doit appara\xeetre plusieurs fois)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet vide")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"method"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"POST", "GET", ou autre m\xe9thode'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"GET"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"minTLSVersion"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'D\xe9finit la version minimale de TLS : "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_0"),'", "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_1"),'", "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_2"),'", "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_3"),'"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_2"),'"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onData"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Callback lorsque les donn\xe9es du body sont re\xe7ues. Elle re\xe7oit deux objets en param\xe8tres (voir ci-dessous)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onError"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Callback lorsqu'une erreur se produit. Elle re\xe7oit deux objets en param\xe8tres (voir ci-dessous)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onHeaders"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Callback lorsque les headers sont re\xe7us. Elle re\xe7oit deux objets en param\xe8tres (voir ci-dessous)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onResponse"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Rappel lorsqu'une r\xe9ponse est re\xe7ue. Elle re\xe7oit deux objets en param\xe8tres (voir ci-dessous)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onTerminate"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Rappel lorsque la requ\xeate est termin\xe9e. Elle re\xe7oit deux objets en param\xe8tres (voir ci-dessous)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"protocol"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto" ou "HTTP1". "auto" signifie HTTP1 dans l\'impl\xe9mentation actuelle'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"proxyAuthentication"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#authentication-object"}),"objet d'authentification")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet manipulant l'authentification du proxy"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"serverAuthentication"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#authentication-object"}),"objet d'authentification")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet manipulant l'authentification par serveur"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"returnResponseBody"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Si false, le body de la r\xe9ponse n'est pas renvoy\xe9 dans l'",(0,n.kt)("a",r({parentName:"td"},{href:"#response"}),"objet ",(0,n.kt)("inlineCode",{parentName:"a"},"response")),". Renvoie une erreur si faux et ",(0,n.kt)("inlineCode",{parentName:"td"},"onData")," est undefined"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"timeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Timeout en secondes. Undefined = pas de timeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"validateTLSCertificate"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Si faux, 4D ne valide pas le certificat TLS et ne renvoie pas d'erreur s'il est invalide (c'est-\xe0-dire expir\xe9, auto-sign\xe9...). Important : dans l'impl\xe9mentation actuelle, l'autorit\xe9 de certification elle-m\xeame n'est pas v\xe9rifi\xe9e."),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True")))),(0,n.kt)("h4",r({},{id:"fonctions-de-callback"}),"Fonctions de callback"),(0,n.kt)("p",null,"Toutes les fonctions de callback re\xe7oivent deux param\xe8tres objet:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"$param1"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#httprequest-object"}),(0,n.kt)("inlineCode",{parentName:"a"},"Objet HTTPRequest")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"$param2"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#event-object"}),(0,n.kt)("inlineCode",{parentName:"a"},"Objet Event")))))),(0,n.kt)("p",null,"Voici la s\xe9quence des appels de callbacks :"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"onHeaders")," est toujours appel\xe9 une fois")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"onData")," est appel\xe9 z\xe9ro ou plusieurs fois (non appel\xe9 si la requ\xeate n'a pas de body)")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Si aucune erreur ne s'est produite, ",(0,n.kt)("inlineCode",{parentName:"p"},"onResponse")," est toujours appel\xe9 une fois")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Si une erreur se produit, ",(0,n.kt)("inlineCode",{parentName:"p"},"onError")," est ex\xe9cut\xe9 une fois (et termine la requ\xeate)")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"onTerminate")," est toujours ex\xe9cut\xe9 une fois"))),(0,n.kt)("h4",r({},{id:"event-object"}),"event object"),(0,n.kt)("p",null,"Un objet ",(0,n.kt)("inlineCode",{parentName:"p"},"event")," est renvoy\xe9 lorsqu'une ",(0,n.kt)("a",r({parentName:"p"},{href:"#callback-functions"}),"fonction de callback")," est appel\xe9e. Il contient les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".data"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"blob"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Donn\xe9es re\xe7ues. Toujours ",(0,n.kt)("em",{parentName:"td"},"undefined")," sauf dans la callback ",(0,n.kt)("inlineCode",{parentName:"td"},"onData"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Type d\'\xe9v\xe9nement. Valeurs possibles : "response", "error", "headers", "data", or "terminate"')))),(0,n.kt)("h4",r({},{id:"authentication-object"}),"authentication object"),(0,n.kt)("p",null,"Un objet d'authentification g\xe8re la propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},"options.serverAuthentication")," ou ",(0,n.kt)("inlineCode",{parentName:"p"},"options.proxyAuthentication")," . Il peut contenir les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par d\xe9faut"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom utilis\xe9 pour l'authentification"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"password"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Mot de passe utilis\xe9 pour l'authentification"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"undefined")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"method"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'M\xe9thode utilis\xe9e pour l\'authentification : "basic", "digest", "auto"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto"')))),(0,n.kt)("h2",r({},{id:"http-parse-message"}),"HTTP Parse message"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R4"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"HTTP Parse message"),"( ",(0,n.kt)("em",{parentName:"p"},"data")," : Text ) : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"HTTP Parse message"),"( ",(0,n.kt)("em",{parentName:"p"},"data")," : Blob ) : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"data"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text, Blob"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Donn\xe9es \xe0 analyser")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet dont chaque propri\xe9t\xe9 est une partie des donn\xe9es multiparties")))),(0,n.kt)("h4",r({},{id:"description-1"}),"Description"),(0,n.kt)("p",null,"La commande ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTP Parse message"),' analyse un texte ou un blob multipart/form-data (message HTTP "response") et extrait le contenu vers un objet. Chaque propri\xe9t\xe9 de l\'objet renvoy\xe9 correspond \xe0 une partie des donn\xe9es multipart.'),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},'HTTP lui-m\xeame est un protocole de communication sans \xe9tat. Dans ce cadre, les clients initient la communication en envoyant des messages "request" aux serveurs, en sp\xe9cifiant des d\xe9tails tels que la m\xe9thode, la cible, les en-t\xeates, le contenu, etc. Les serveurs, \xe0 leur tour, r\xe9pondent par des messages "response" qui contiennent les m\xeames d\xe9tails. ',(0,n.kt)("inlineCode",{parentName:"p"},"HTTP Parse message"),' analyse le message "request" ou "response" et retourne un objet structur\xe9.')),(0,n.kt)("h4",r({},{id:"exemple-1"}),"Exemple"),(0,n.kt)("p",null,"Dans l'exemple suivant, nous analysons les donn\xe9es d'un fichier texte contenant des requ\xeates HTTP."),(0,n.kt)("p",null,"Voici le contenu du fichier :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),"POST /batch/gmail/v1/ HTTP/1.1\nAccept-Encoding: gzip, deflate\nAuthorization: Bearer xxxxxx\nConnection: Close\nContent-Length: 442\nContent-Type: multipart/mixed; boundary=batch_19438756D576A14ABA87C112F56B9396; charset=UTF-8\nDate: Wed, 29 Nov 2023 13:51:35 GMT\nHost: gmail.googleapis.com\nUser-Agent: 4D/20.4.0\n\n\n--batch_19438756D576A14ABA87C112F56B9396\nContent-Type: application/http\nContent-ID: <item1>\n\nGET https://gmail.googleapis.com/gmail/v1/users/me/messages/18c1b58689824c92?format=raw HTTP/1.1\n\n\n--batch_19438756D576A14ABA87C112F56B9396\nContent-Type: application/http\nContent-ID: <item2>\n\nGET https://gmail.googleapis.com/gmail/v1/users/me/messages/18c1b58642b28e2b?format=raw HTTP/1.1\n\n--batch_19438756D576A14ABA87C112F56B9396--\n")),(0,n.kt)("p",null,"Pour analyser le fichier :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $message : Text:=File("/RESOURCES/HTTPrequest.txt").getText()\nvar $parsedMessage : Object:=HTTP Parse message($message)\n//$parsedMessage= {\n//headers:{"User-Agent":"4D/20.4.0",...},\n//parts:[{"contentType":"application/http","contentID":"item1",...}], \n//requestLine:"POST /batch/gmail/v1/ HTTP/1.1"\n//}\n')),(0,n.kt)("h2",r({},{id:"datatype"}),".dataType"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"dataType")," : Text"),(0,n.kt)("h4",r({},{id:"description-2"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".dataType")," contient le ",(0,n.kt)("inlineCode",{parentName:"p"},"dataType")," pass\xe9 dans l'objet ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),', "auto" s\'il a \xe9t\xe9 omis.'),(0,n.kt)("h2",r({},{id:"encoding"}),".encoding"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"encoding")," : Text"),(0,n.kt)("h4",r({},{id:"description-3"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".encoding")," contient l'",(0,n.kt)("inlineCode",{parentName:"p"},"encoding")," pass\xe9 dans l'objet ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),', "UTF-8" s\'il a \xe9t\xe9 omis.'),(0,n.kt)("h2",r({},{id:"errors"}),".errors"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"errors")," : Collection"),(0,n.kt)("h4",r({},{id:"description-4"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".errors")," contient la collection de toutes les erreurs si au moins une erreur a \xe9t\xe9 g\xe9n\xe9r\xe9e."),(0,n.kt)("p",null,"Voici le contenu de la propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".errors")," :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"errors"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Pile d'erreurs 4D en cas d'erreur")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].errCode"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Code d'erreur 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].message"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Description de l'erreur 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].componentSignature"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Signature du composant interne qui a retourn\xe9 l'erreur")))),(0,n.kt)("h2",r({},{id:"headers"}),".headers"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"headers")," : Object"),(0,n.kt)("h4",r({},{id:"description-5"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".headers")," contient les ",(0,n.kt)("inlineCode",{parentName:"p"},"headers")," pass\xe9s dans l'objet ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),". S'il a \xe9t\xe9 omis, contient un objet vide."),(0,n.kt)("h2",r({},{id:"method"}),".method"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"method")," : Text"),(0,n.kt)("h4",r({},{id:"description-6"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".method")," contient la ",(0,n.kt)("inlineCode",{parentName:"p"},"m\xe9thode")," pass\xe9e dans l'objet ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),'. S\'il a \xe9t\xe9 omis, elle contient "GET".'),(0,n.kt)("h2",r({},{id:"protocol"}),".protocol"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"protocol")," : Text"),(0,n.kt)("h4",r({},{id:"description-7"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".protocol")," contient le ",(0,n.kt)("inlineCode",{parentName:"p"},"protocole")," pass\xe9 dans l'objet ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),'. S\'il a \xe9t\xe9 omis ou si "auto" a \xe9t\xe9 utilis\xe9, contient la version du protocole utilis\xe9.'),(0,n.kt)("h2",r({},{id:"response"}),".response"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R8"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},".headers")," renvoie les noms en minuscules. Nouvelle propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"td"},".rawHeaders")))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"response")," : Object"),(0,n.kt)("h4",r({},{id:"description-8"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".response")," contient la r\xe9ponse \xe0 la requ\xeate si elle a re\xe7u au moins le code de statut, sinon undefined."),(0,n.kt)("p",null,"Un objet ",(0,n.kt)("inlineCode",{parentName:"p"},"response")," est un objet non partageable. Il contient les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".body"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Variant"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Body de la r\xe9ponse. Le type du message est d\xe9fini selon l'attribut ",(0,n.kt)("a",r({parentName:"td"},{href:"#datatype"}),(0,n.kt)("inlineCode",{parentName:"a"},"dataType")),". Undefined si le body n'a pas encore \xe9t\xe9 re\xe7u")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".headers"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Headers de la r\xe9ponse. Les noms des headers sont retourn\xe9s en minuscules. ",(0,n.kt)("inlineCode",{parentName:"td"},"<headername>.key")," = valeur (la valeur peut \xeatre une collection si la m\xeame cl\xe9 appara\xeet plusieurs fois). Undefined si les headers n'ont pas encore \xe9t\xe9 re\xe7us.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".status"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Status code de la r\xe9ponse")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".statusText"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Message expliquant le status code")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".rawHeaders"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Headers de la r\xe9ponse. Les noms des headers sont retourn\xe9s tels quels (avec leur casse d'origine). ",(0,n.kt)("inlineCode",{parentName:"td"},"<headername>.key")," = valeur (la valeur peut \xeatre une collection si la m\xeame cl\xe9 appara\xeet plusieurs fois). Undefined si les headers n'ont pas encore \xe9t\xe9 re\xe7us.")))),(0,n.kt)("h2",r({},{id:"returnresponsebody"}),".returnResponseBody"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"returnResponseBody")," : Boolean"),(0,n.kt)("h4",r({},{id:"description-9"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".returnResponseBody")," contient le ",(0,n.kt)("inlineCode",{parentName:"p"},"returnResponseBody")," pass\xe9 dans l'objet ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),". S'il a \xe9t\xe9 omis, il contient True."),(0,n.kt)("h2",r({},{id:"terminate"}),".terminate()"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".terminate()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("h4",r({},{id:"description-10"}),"Description"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Cette fonction est thread-safe.")),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},".terminate()")," interrompt la requ\xeate HTTP. Elle d\xe9clenche l'\xe9v\xe9nement ",(0,n.kt)("inlineCode",{parentName:"p"},"onTerminate")," ."),(0,n.kt)("h2",r({},{id:"terminated"}),".terminated"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"terminated")," : Boolean"),(0,n.kt)("h4",r({},{id:"description-11"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".terminated")," contient True si la requ\xeate est termin\xe9e (apr\xe8s l'appel \xe0 ",(0,n.kt)("inlineCode",{parentName:"p"},"onTerminate"),"), false sinon."),(0,n.kt)("h2",r({},{id:"timeout"}),".timeout"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"timeout")," : Real"),(0,n.kt)("h4",r({},{id:"description-12"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".timeout")," contient le ",(0,n.kt)("inlineCode",{parentName:"p"},"timeout")," pass\xe9 dans l'objet ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," lors de l'appel \xe0 ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),". S'il a \xe9t\xe9 omis, il contient Undefined."),(0,n.kt)("h2",r({},{id:"url"}),".url"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"url")," : Text"),(0,n.kt)("h4",r({},{id:"description-13"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".url")," contient l'URL de la requ\xeate HTTP."),(0,n.kt)("h2",r({},{id:"wait"}),".wait()"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".wait"),"( { ",(0,n.kt)("em",{parentName:"p"},"time")," : Real } ) : HTTPRequestClass"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"time"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"D\xe9lai d'attente maximum en secondes pour la r\xe9ponse")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.HTTPRequest"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet HTTPRequest")))),(0,n.kt)("h4",r({},{id:"description-14"}),"Description"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Cette fonction est thread-safe.")),(0,n.kt)("p",null,"La fonction ",(0,n.kt)("inlineCode",{parentName:"p"},"wait()")," attend la r\xe9ponse du serveur."),(0,n.kt)("p",null,"Si un param\xe8tre ",(0,n.kt)("em",{parentName:"p"},"time")," est pass\xe9, la fonction attendra au maximum le nombre de secondes d\xe9fini."),(0,n.kt)("p",null,"Si la r\xe9ponse du serveur est d\xe9j\xe0 arriv\xe9e, la fonction rend la main imm\xe9diatement."))}m.isMDXComponent=!0}}]);