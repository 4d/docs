"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["8810"],{310079:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>i,metadata:()=>r,assets:()=>a,toc:()=>c,contentTitle:()=>d});var r=JSON.parse('{"id":"API/IncomingMessageClass","title":"IncomingMessage","description":"La classe 4D.IncomingMessage vous permet de g\xe9rer l\'objet re\xe7u par un HTTP request handler personnalis\xe9. Les requ\xeates HTTP et leurs propri\xe9t\xe9s sont automatiquement re\xe7ues en tant qu\'instance de la classe 4D.IncomingMessage. Les param\xe8tres fournis directement dans la requ\xeate avec le verbe GET sont g\xe9r\xe9s par la propri\xe9t\xe9 .urlQuery, tandis que les param\xe8tres pass\xe9s dans le corps de la requ\xeate sont disponibles via des fonctions telles que .getBlob() ou getText().","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R10/API/IncomingMessageClass.md","sourceDirName":"API","slug":"/API/IncomingMessageClass","permalink":"/docs/fr/API/IncomingMessageClass","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FIncomingMessageClass.md%20(20-R10)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R10","frontMatter":{"id":"IncomingMessageClass","title":"IncomingMessage"},"sidebar":"docs","previous":{"title":"IMAPTransporter","permalink":"/docs/fr/API/IMAPTransporterClass"},"next":{"title":"MailAttachment","permalink":"/docs/fr/API/MailAttachmentClass"}}'),t=s("785893"),l=s("250065");let i={id:"IncomingMessageClass",title:"IncomingMessage"},d=void 0,a={},c=[{value:"Exemple",id:"exemple",level:3},{value:"Objet IncomingMessage",id:"objet-incomingmessage",level:3},{value:".getBlob()",id:"getblob",level:2},{value:"Description",id:"description",level:4},{value:".getHeader()",id:"getheader",level:2},{value:"Description",id:"description-1",level:4},{value:"Exemple",id:"exemple-1",level:4},{value:".getJSON()",id:"getjson",level:2},{value:"Description",id:"description-2",level:4},{value:".getPicture()",id:"getpicture",level:2},{value:"Description",id:"description-3",level:4},{value:".getText()",id:"gettext",level:2},{value:"Description",id:"description-4",level:4},{value:".headers",id:"headers",level:2},{value:"Description",id:"description-5",level:4},{value:".url",id:"url",level:2},{value:"Description",id:"description-6",level:4},{value:".urlPath",id:"urlpath",level:2},{value:"Description",id:"description-7",level:4},{value:".urlQuery",id:"urlquery",level:2},{value:"Description",id:"description-8",level:4},{value:"Param\xe8tres directs",id:"param\xe8tres-directs",level:4},{value:"Param\xe8tres contenu JSON",id:"param\xe8tres-contenu-json",level:4},{value:".verb",id:"verb",level:2},{value:"Description",id:"description-9",level:4}];function o(e){let n={a:"a",admonition:"admonition",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["La classe ",(0,t.jsx)(n.code,{children:"4D.IncomingMessage"})," vous permet de g\xe9rer l'objet re\xe7u par un ",(0,t.jsx)(n.a,{href:"/docs/fr/WebServer/http-request-handler",children:(0,t.jsx)(n.strong,{children:"HTTP request handler"})})," personnalis\xe9. Les requ\xeates HTTP et leurs propri\xe9t\xe9s sont automatiquement re\xe7ues en tant qu'instance de la classe ",(0,t.jsx)(n.code,{children:"4D.IncomingMessage"}),". Les param\xe8tres fournis directement dans la requ\xeate avec le verbe GET sont g\xe9r\xe9s par la propri\xe9t\xe9 ",(0,t.jsx)(n.a,{href:"#urlquery",children:(0,t.jsx)(n.code,{children:".urlQuery"})}),", tandis que les param\xe8tres pass\xe9s dans le corps de la requ\xeate sont disponibles via des fonctions telles que ",(0,t.jsx)(n.a,{href:"#getblob",children:(0,t.jsx)(n.code,{children:".getBlob()"})})," ou ",(0,t.jsx)(n.a,{href:"#gettext",children:(0,t.jsx)(n.code,{children:"getText()"})}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Le gestionnaire de requ\xeates HTTP peut renvoyer n'importe quelle valeur (ou rien). Il renvoie g\xe9n\xe9ralement une instance de la classe ",(0,t.jsx)(n.a,{href:"/docs/fr/API/OutgoingMessageClass",children:(0,t.jsx)(n.code,{children:"4D.OutgoingMessage"})}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Toutes les propri\xe9t\xe9s de cette classe sont en lecture seule. Elles sont automatiquement remplies par le request handler."}),"\n",(0,t.jsxs)(n.details,{children:[(0,t.jsx)(n.summary,{children:"Historique"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Release"}),(0,t.jsx)(n.th,{children:"Modifications"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"20 R8"}),(0,t.jsx)(n.td,{children:"Classe ajout\xe9e"})]})})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"exemple",children:"Exemple"}),"\n",(0,t.jsxs)(n.p,{children:["Le fichier ",(0,t.jsx)(n.a,{href:"/docs/fr/WebServer/http-request-handler",children:(0,t.jsx)(n.strong,{children:"HTTPHandlers.json"})})," suivant a \xe9t\xe9 d\xe9fini :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[\n    {\n        "class": "GeneralHandling",\n        "method": "gettingStarted",\n        "pattern": "start",\n        "verbs": "get, post"\n    }\n]\n'})}),"\n",(0,t.jsxs)(n.p,{children:["La requ\xeate ",(0,t.jsx)(n.code,{children:"http://127.0.0.1/start/example?param=demo&name=4D"})," est ex\xe9cut\xe9e avec un verbe ",(0,t.jsx)(n.code,{children:"GET"})," dans un navigateur. Elle est g\xe9r\xe9e par la fonction ",(0,t.jsx)(n.em,{children:"gettingStarted"})," de la classe singleton ",(0,t.jsx)(n.em,{children:"GeneralHandling"})," suivante :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'shared singleton Class constructor()\n        \nFunction gettingStarted($request : 4D.IncomingMessage) : 4D.OutgoingMessage\n    \n    var $result:=4D.OutgoingMessage.new()\n    var $body : Text\n    \n    $body:="Called URL: "+$request.url+"\\n"\n    \n    $body+="The parameters are received as an object: \\n"+JSON Stringify($request.urlQuery; *)+"\\n"\n    \n    $body+="The verb is: "+$request.verb+"\\n"\n    \n    $body+="There are "+String($request.urlPath.length)+" url parts - Url parts are: "\\\n    +$request.urlPath.join(" - ")+"\\n\\n"\n    \n    \n    $result.setBody($body)\n    $result.setHeader("Content-Type"; "text/plain")\n    \n    return $result\n\n'})}),"\n",(0,t.jsxs)(n.p,{children:["La requ\xeate est re\xe7ue sur le serveur en tant que ",(0,t.jsx)(n.em,{children:"$request"}),", une instance d'objet de la classe ",(0,t.jsx)(n.code,{children:"4D.IncomingMessage"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Voici la r\xe9ponse :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'Called URL: /start/example? param=demo&name=4D \nThe parameters are received as an object:\n{\n  "param": "demo",\n  "name": "4D"\n}\nThe verb is: GET\nThere are 2 url parts - Url parts are: start - example\n'})}),"\n",(0,t.jsx)(n.h3,{id:"objet-incomingmessage",children:"Objet IncomingMessage"}),"\n",(0,t.jsx)(n.p,{children:"Les objets 4D.IncomingMessage offrent les propri\xe9t\xe9s et fonctions suivantes :"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.th,{})})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#getblob",children:[(0,t.jsx)(n.strong,{children:".getBlob"}),"() : Blob"]}),(0,t.jsx)(n.br,{}),"renvoie le body de la requ\xeate sous forme de Blob"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#getheader",children:[(0,t.jsx)(n.strong,{children:".getHeader"}),"( ",(0,t.jsx)(n.em,{children:"key"})," : Text ) : Text"]}),(0,t.jsx)(n.br,{}),"renvoie la valeur de l'en-t\xeate ",(0,t.jsx)(n.em,{children:"key"})]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#getjson",children:[(0,t.jsx)(n.strong,{children:".getJSON"}),"() : Variant"]}),(0,t.jsx)(n.br,{}),"renvoie le body de la requ\xeate sous forme de r\xe9solution JSON"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#getpicture",children:[(0,t.jsx)(n.strong,{children:".getPicture"}),"() : Picture"]}),(0,t.jsx)(n.br,{}),"renvoie le body de la requ\xeate sous forme d'image (dans le cas d'un body envoy\xe9 en tant qu'image)"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#gettext",children:[(0,t.jsx)(n.strong,{children:".getText"}),"() : Text"]}),(0,t.jsx)(n.br,{}),"renvoie le body de la requ\xeate sous forme de texte"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#headers",children:[(0,t.jsx)(n.strong,{children:"headers"})," : Object"]}),(0,t.jsx)(n.br,{}),"les headers courants du message entrant sous forme de paires cl\xe9/valeur (cha\xeenes)"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#url",children:[(0,t.jsx)(n.strong,{children:"url"})," : Text"]}),(0,t.jsx)(n.br,{}),"l'URL de la requ\xeate sans la partie ",(0,t.jsx)(n.em,{children:"IP:port"})," et sous forme de cha\xeene"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#urlpath",children:[(0,t.jsx)(n.strong,{children:"urlPath"})," : Collection"]}),(0,t.jsx)(n.br,{}),"l'URL de la requ\xeate sans la partie ",(0,t.jsx)(n.em,{children:"IP:port"})," et sous la forme d'une collection de cha\xeenes"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#urlquery",children:[(0,t.jsx)(n.strong,{children:"urlQuery"})," : Object"]}),(0,t.jsx)(n.br,{}),"les param\xe8tres de la requ\xeate lorsqu'ils ont \xe9t\xe9 pass\xe9s dans l'URL sous forme de paires cl\xe9/valeur"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#verb",children:[(0,t.jsx)(n.strong,{children:"verb"})," : Text"]}),(0,t.jsx)(n.br,{}),"le verbe utilis\xe9 par la requ\xeate"]})})]})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Un objet 4D.IncomingMessage est ",(0,t.jsx)(n.a,{href:"/docs/fr/Concepts/shared",children:"non partageable"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"getblob",children:".getBlob()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:".getBlob"}),"() : Blob"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"Blob"}),(0,t.jsx)(n.td,{children:"<-"}),(0,t.jsx)(n.td,{children:"Body de la requ\xeate en tant que Blob"})]})})]}),"\n",(0,t.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:".getBlob()"})," renvoie le body de la requ\xeate sous forme de Blob."]}),"\n",(0,t.jsx)(n.p,{children:"Si le body n'a pas \xe9t\xe9 fourni sous forme de contenu binaire, la fonction tente de convertir la valeur, mais elle peut donner des r\xe9sultats inattendus."}),"\n",(0,t.jsx)(n.h2,{id:"getheader",children:".getHeader()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:".getHeader"}),"( ",(0,t.jsx)(n.em,{children:"key"})," : Text ) : Text"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"key"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"->"}),(0,t.jsx)(n.td,{children:"Propri\xe9t\xe9 de header (en-t\xeate) \xe0 obtenir"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"<-"}),(0,t.jsx)(n.td,{children:"Valeur de la propri\xe9t\xe9 de header"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"description-1",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:".getHeader()"})," renvoie la valeur de l'en-t\xeate ",(0,t.jsx)(n.em,{children:"key"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Le param\xe8tre ",(0,t.jsx)(n.em,{children:"key"})," n'est pas sensible \xe0 la casse."]})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-1",children:"Exemple"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'var $value : Texte\nvar $request : 4D.IncomingMessage\n$value := $request.getHeader("content-type")\n'})}),"\n",(0,t.jsx)(n.h2,{id:"getjson",children:".getJSON()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:".getJSON"}),"() : Variant"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"Variant"}),(0,t.jsx)(n.td,{children:"<-"}),(0,t.jsx)(n.td,{children:"R\xe9solution JSON du body de la requ\xeate"})]})})]}),"\n",(0,t.jsx)(n.h4,{id:"description-2",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:".getJSON()"})," renvoie le body de la requ\xeate sous forme de r\xe9solution JSON."]}),"\n",(0,t.jsx)(n.p,{children:"Si le body n'a pas \xe9t\xe9 fourni sous la forme d'un contenu JSON valide, une erreur est g\xe9n\xe9r\xe9e."}),"\n",(0,t.jsx)(n.h2,{id:"getpicture",children:".getPicture()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:".getPicture"}),"() : Picture"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"Picture"}),(0,t.jsx)(n.td,{children:"<-"}),(0,t.jsx)(n.td,{children:"Body de la requ\xeate en tant qu'image"})]})})]}),"\n",(0,t.jsx)(n.h4,{id:"description-3",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:".getPicture()"})," renvoie le body de la requ\xeate sous forme d'image (dans le cas d'un body envoy\xe9 en tant qu'image)."]}),"\n",(0,t.jsx)(n.p,{children:"Le content-type doit \xeatre fourni dans les headers pour indiquer que le body est une image."}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Si la requ\xeate est construite en utilisant la classe ",(0,t.jsx)(n.a,{href:"/docs/fr/API/HTTPRequestClass",children:(0,t.jsx)(n.code,{children:"HTTPRequest"})}),", l'image doit \xeatre envoy\xe9e dans le body sous forme de Blob avec le content-type appropri\xe9."]})}),"\n",(0,t.jsx)(n.p,{children:"Si le body n'est pas re\xe7u comme une image valide, la fonction renvoie null."}),"\n",(0,t.jsx)(n.h2,{id:"gettext",children:".getText()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:".getText"}),"() : Text"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"<-"}),(0,t.jsx)(n.td,{children:"Body de la requ\xeate en tant que texte"})]})})]}),"\n",(0,t.jsx)(n.h4,{id:"description-4",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:".getText()"})," renvoie le body de la requ\xeate sous forme de texte."]}),"\n",(0,t.jsx)(n.p,{children:"Si le body n'a pas \xe9t\xe9 fourni sous forme de chaine, la fonction tente de convertir la valeur, mais elle peut donner des r\xe9sultats inattendus."}),"\n",(0,t.jsx)(n.h2,{id:"headers",children:".headers"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"headers"})," : Object"]}),"\n",(0,t.jsx)(n.h4,{id:"description-5",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".headers"})," contient les headers courants du message entrant sous forme de paires cl\xe9/valeur (cha\xeenes)."]}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".headers"})," est en lecture seule."]}),"\n",(0,t.jsx)(n.p,{children:"Les noms des en-t\xeates (cl\xe9s) sont en minuscules. Les noms des headers sont sensibles \xe0 la casse."}),"\n",(0,t.jsx)(n.h2,{id:"url",children:".url"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"url"})," : Text"]}),"\n",(0,t.jsx)(n.h4,{id:"description-6",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".url"})," contient l'URL de la requ\xeate sans la partie ",(0,t.jsx)(n.em,{children:"IP:port"})," et sous forme de cha\xeene."]}),"\n",(0,t.jsxs)(n.p,{children:['Par exemple, si la requ\xeate est adress\xe9e \xe0: "',(0,t.jsx)(n.a,{href:"http://127.0.0.1:80/docs/invoices/today",children:"http://127.0.0.1:80/docs/invoices/today"}),'", la propri\xe9t\xe9 ',(0,t.jsx)(n.code,{children:".url"}),' est "/docs/invoices/today".']}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".url"})," est en lecture seule."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:['La partie "host" de la requ\xeate (',(0,t.jsx)(n.em,{children:"IP:port"}),") est fournie par le header ",(0,t.jsx)(n.a,{href:"#headers",children:(0,t.jsx)(n.code,{children:"host"})}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"urlpath",children:".urlPath"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"urlPath"})," : Collection"]}),"\n",(0,t.jsx)(n.h4,{id:"description-7",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".urlPath"})," contient l'URL de la requ\xeate sans la partie ",(0,t.jsx)(n.em,{children:"IP:port"})," et sous la forme d'une collection de cha\xeenes."]}),"\n",(0,t.jsxs)(n.p,{children:['Par exemple, si la requ\xeate est adress\xe9e \xe0: "',(0,t.jsx)(n.a,{href:"http://127.0.0.1:80/docs/invoices/today",children:"http://127.0.0.1:80/docs/invoices/today"}),'", la propri\xe9t\xe9 ',(0,t.jsx)(n.code,{children:".urlPath"}),' est ["docs", "invoices" ,"today"].']}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".urlPath"})," est en lecture seule."]}),"\n",(0,t.jsx)(n.h2,{id:"urlquery",children:".urlQuery"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"urlQuery"})," : Object"]}),"\n",(0,t.jsx)(n.h4,{id:"description-8",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".urlQuery"})," contient les param\xe8tres de la requ\xeate lorsqu'ils ont \xe9t\xe9 pass\xe9s dans l'URL sous forme de paires cl\xe9/valeur."]}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".urlQuery"})," est en lecture seule."]}),"\n",(0,t.jsxs)(n.p,{children:["Les param\xe8tres peuvent \xeatre pass\xe9s dans l'URL des requ\xeates ",(0,t.jsx)(n.strong,{children:"directement"})," ou ",(0,t.jsx)(n.strong,{children:"en tant que contenu JSON"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"param\xe8tres-directs",children:"Param\xe8tres directs"}),"\n",(0,t.jsxs)(n.p,{children:["Exemple : ",(0,t.jsx)(n.code,{children:"http://127.0.0.1:8044/myCall?firstname=Marie&id=2&isWoman=true"})]}),"\n",(0,t.jsxs)(n.p,{children:['Dans ce cas, les param\xe8tres sont re\xe7us sous forme de valeurs "stringifi\xe9es" dans la propri\xe9t\xe9 ',(0,t.jsx)(n.code,{children:"urlQuery"})," : ",(0,t.jsx)(n.code,{children:'urlQuery = {"firstname" : "Marie" , "id" : "2" , "isWoman" : "true"}'})]}),"\n",(0,t.jsx)(n.h4,{id:"param\xe8tres-contenu-json",children:"Param\xe8tres contenu JSON"}),"\n",(0,t.jsxs)(n.p,{children:["Exemple : ",(0,t.jsx)(n.code,{children:'http://127.0.0.1:8044/myCall/?myparams=\'[{"firstname" : "Marie", "isWoman" : true, "id" : 3}]\''}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Les param\xe8tres sont pass\xe9s au format JSON et sont inclus dans une collection."}),"\n",(0,t.jsxs)(n.p,{children:["Dans ce cas, les param\xe8tres sont re\xe7us sous forme de texte JSON dans la propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:"urlQuery"})," et peuvent \xeatre analys\xe9s \xe0 l'aide de ",(0,t.jsx)(n.a,{href:"/docs/fr/commands/json-parse",children:(0,t.jsx)(n.code,{children:"JSON Parse"})}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'//urlQuery.myparams: "[{"firstname": "Marie","isWoman": true,"id": 3}]"\n$test:=Value type(JSON Parse($r.urlQuery.myparams))=Is collection) //true\n'})}),"\n",(0,t.jsx)(n.p,{children:"Les caract\xe8res sp\xe9ciaux tels que les guillemets simples ou les retours \xe0 la ligne doivent \xeatre \xe9chapp\xe9s."}),"\n",(0,t.jsxs)(n.p,{children:["Exemple : ",(0,t.jsx)(n.code,{children:"http://127.0.0.1:8044/syntax/?mdcode=%60%60%604d"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"//urlQuery.mdcode = ```4d\n$test:=Length($r.urlQuery.mdcode) //5\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Les param\xe8tres fournis dans le body de la requ\xeate \xe0 l'aide des verbes POST ou PUT sont trait\xe9s par des fonctions d\xe9di\xe9es : ",(0,t.jsx)(n.a,{href:"#gettext",children:(0,t.jsx)(n.code,{children:"getText()"})}),", ",(0,t.jsx)(n.a,{href:"#getpicture",children:(0,t.jsx)(n.code,{children:"getPicture()"})}),", ",(0,t.jsx)(n.a,{href:"#getblob",children:(0,t.jsx)(n.code,{children:"getBlob()"})}),", ",(0,t.jsx)(n.a,{href:"#getjson",children:(0,t.jsx)(n.code,{children:"getJSON()"})}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"verb",children:".verb"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"verb"})," : Text"]}),"\n",(0,t.jsx)(n.h4,{id:"description-9",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".verb"})," contient le verbe utilis\xe9 par la requ\xeate."]}),"\n",(0,t.jsx)(n.p,{children:'Les verbes de requ\xeate HTTP et HTTPS incluent par exemple "get", "post", "put", etc.'}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".verb"})," est en lecture seule."]})]})}function h(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return d},a:function(){return i}});var r=s(667294);let t={},l=r.createContext(t);function i(e){let n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);