"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[65277],{268375:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var t=n(474848),r=n(28453);const a={id:"on-exit-database-method",title:"On Exit database method",slug:"/commands/on-exit-database-method",displayed_sidebar:"docs"},o=void 0,i={id:"commands-legacy/on-exit-database-method",title:"On Exit database method",description:"On Exit database method",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/on-exit-database-method.md",sourceDirName:"commands-legacy",slug:"/commands/on-exit-database-method",permalink:"/docs/fr/commands/on-exit-database-method",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fon-exit-database-method.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"on-exit-database-method",title:"On Exit database method",slug:"/commands/on-exit-database-method",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"On Drop database method",permalink:"/docs/fr/commands/on-drop-database-method"},next:{title:"On Host Database Event database method",permalink:"/docs/fr/commands/on-host-database-event-database-method"}},l={},d=[{value:"Note",id:"note",level:4},{value:"Voir aussi",id:"voir-aussi",level:4}];function u(e){const s={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"On Exit database method"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(s.table,{children:(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Ne requiert pas de param\xe8tre"}),(0,t.jsx)(s.th,{})]})})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.em,{children:"Cette commande n'est pas thread-safe, elle ne peut pas \xeatre utilis\xe9e dans du code pr\xe9emptif."})}),"\n",(0,t.jsx)(s.h4,{id:""}),"\n",(0,t.jsxs)(s.p,{children:["La ",(0,t.jsx)(s.strong,{children:"On Exit database method"})," est appel\xe9e une fois lorsque vous quittez la base."]}),"\n",(0,t.jsx)(s.p,{children:"Les environnements 4D suivants sont concern\xe9s :"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"4D en mode local"}),"\n",(0,t.jsx)(s.li,{children:"4D en mode distant"}),"\n",(0,t.jsx)(s.li,{children:"Application 4D compil\xe9e et fusionn\xe9e avec 4D VolumeDesktop"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Note :"})," La ",(0,t.jsx)(s.strong,{children:"On Exit database method"})," n'est PAS ex\xe9cut\xe9e par 4D Server. Vous devez utiliser la m\xe9thode base ",(0,t.jsx)(s.em,{children:"Sur arr\xeat serveur"})," dans ce contexte."]}),"\n",(0,t.jsxs)(s.p,{children:["La ",(0,t.jsx)(s.strong,{children:"On Exit database method"})," est ex\xe9cut\xe9e automatiquement par 4D ; \xe0 la diff\xe9rence des m\xe9thodes projet, vous ne pouvez pas appeler cette m\xe9thode base par programmation. Vous pouvez toutefois l'ex\xe9cuter depuis l'\xe9diteur de m\xe9thodes. Vous pouvez \xe9galement utiliser des sous-routines."]}),"\n",(0,t.jsx)(s.p,{children:"On sort de la base lorsque l'un des \xe9v\xe9nements suivants se produit :"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["L'utilisateur s\xe9lectionne la commande ",(0,t.jsx)(s.strong,{children:"Quitter"})," dans le menu ",(0,t.jsx)(s.strong,{children:"Fichier"})," en mode D\xe9veloppement ou Application (action standard Quitter)."]}),"\n",(0,t.jsxs)(s.li,{children:["Un appel \xe0 la commande ",(0,t.jsx)(s.a,{href:"/docs/fr/commands/quit-4d",children:"QUIT 4D"})," a eu lieu."]}),"\n",(0,t.jsxs)(s.li,{children:["Un plug-in 4D a fait appel au point d'entr\xe9e ",(0,t.jsx)(s.a,{href:"/docs/fr/commands/quit-4d",children:"QUIT 4D"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Quel que soit le moyen par lequel la base a \xe9t\xe9 quitt\xe9e, 4D accomplit les actions qui suivent :"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["S'il n'existe pas de ",(0,t.jsx)(s.strong,{children:"On Exit database method"}),", 4D d\xe9truit chaque process un par un, sans distinction. Si un utilisateur est en train de saisir des donn\xe9es, les enregistrements ne seront pas sauvegard\xe9s."]}),"\n",(0,t.jsxs)(s.li,{children:["S'il existe une ",(0,t.jsx)(s.strong,{children:"On Exit database method"}),", 4D d\xe9marre l'ex\xe9cution de cette m\xe9thode dans un process local nouvellement cr\xe9\xe9. Notez que 4D quittera en tout \xe9tat de cause \u2014 la ",(0,t.jsx)(s.strong,{children:"On Exit database method"})," peut assurer le nettoyage et la fermeture de toutes les op\xe9rations que vous voulez, mais la fermeture de la base est in\xe9luctable."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Lorsque 4D est sur le point de quitter, le programme :"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"demande aux process en cours d'ex\xe9cution d'interrompre leur ex\xe9cution d\xe8s que possible (uniquement dans les process ex\xe9cutant du code 4D)"}),"\n",(0,t.jsx)(s.li,{children:'active leur marqueur "process interrompu".'}),"\n",(0,t.jsxs)(s.li,{children:["d\xe9clenche les process qui ont \xe9t\xe9 retard\xe9s par ",(0,t.jsx)(s.a,{href:"/docs/fr/commands/delay-process",children:"DELAY PROCESS"})," ou par d'autres moyens."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"4D poursuit l'it\xe9ration des process tant qu'un process est encore en vie, pour une dur\xe9e maximale de 13 secondes. Pour r\xe9pondre \xe0 une action de sortie, nous recommandons de d\xe9finir un marqueur (comme une entr\xe9e dans l'objet Storage) dans la m\xe9thode base Sur arr\xeat serveur ou dans votre m\xe9thode de sortie personnalis\xe9e. Il peut \xeatre judicieux d'effectuer une boucle dans cette m\xe9thode (10 secondes maximum) pour laisser le temps \xe0 vos process en cours de r\xe9pondre et de quitter correctement. Il n'est pas recommand\xe9 d'attendre plus de 10 secondes, pour \xe9viter que 4D ne stoppe le process ou que le syst\xe8me d'exploitation ne stoppe l'application enti\xe8re."}),"\n",(0,t.jsxs)(s.p,{children:["La ",(0,t.jsx)(s.strong,{children:"On Exit database method"})," est l'emplacement id\xe9al pour :"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Sauvegarder (localement, sur disque) les pr\xe9ferences ou param\xe9trages devant \xeatre r\xe9utilis\xe9s lors de la prochaine session dans la ."}),"\n",(0,t.jsx)(s.li,{children:"Accomplir toute autre action que vous souhaitez ex\xe9cuter automatiquement \xe0 chaque fermeture de la base."}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Note:"})," Rappelez-vous que le process cr\xe9\xe9 pour la ",(0,t.jsx)(s.strong,{children:"On Exit database method"})," est un process client (local), qui n'existe donc pas sur le poste serveur. Par cons\xe9quent, si vous effectuez dans cette m\xe9thode base une recherche ou un tri, tout poste client qui tentera de quitter l'application restera \"bloqu\xe9\". Si vous avez besoin d'acc\xe9der aux donn\xe9es lorsque le client quitte, vous devez cr\xe9er depuis cette m\xe9thode base un process global qui, lui, pourra acc\xe9der aux donn\xe9es. Dans ce cas toutefois, veillez \xe0 ce que ce process puisse terminer son ex\xe9cution (par l'interm\xe9daire de variables interprocess, par exemple) avant d\u2019\xeatre stopp\xe9 par la ",(0,t.jsx)(s.strong,{children:"On Exit database method"})," (\xe0 l'aide de ",(0,t.jsx)(s.a,{href:"/docs/fr/commands/storage",children:"Storage"})," ou d'un objet partag\xe9, par exemple)."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Note :"})," En environnement client/serveur, la ",(0,t.jsx)(s.strong,{children:"On Exit database method"})," s'ex\xe9cute diff\xe9remment selon que l'utilisateur quitte manuellement (via la commande de menu ",(0,t.jsx)(s.strong,{children:"Quitter"})," ou l'appel de la commande ",(0,t.jsx)(s.a,{href:"/docs/fr/commands/quit-4d",children:"QUIT 4D"}),") ou que 4D Server est \xe9teint, ce qui force tous les clients \xe0 quitter.",(0,t.jsx)(s.br,{}),"\nLorsqu'on quitte 4D Server et que l'on accorde un d\xe9lai aux utilisateurs (par exemple 10 minutes), chaque poste client connect\xe9 affiche un message d'avertissement et si l'utilisateur quitte durant le d\xe9lai imparti, la ",(0,t.jsx)(s.strong,{children:"On Exit database method"})," s'ex\xe9cute normalement. Cependant, dans les autres cas (i.e. l'utilisateur ne r\xe9pond pas \xe0 temps, ou le serveur quitte sans d\xe9lai, ou encore le client est d\xe9connect\xe9 manuellement par l'Administrateur), la ",(0,t.jsx)(s.strong,{children:"On Exit database method"})," est ex\xe9cut\xe9e en m\xeame que la connexion au serveur est referm\xe9e. Par cons\xe9quent, le code de la ",(0,t.jsx)(s.strong,{children:"On Exit database method"})," ne peut pas lancer d'autre process local ou serveur, et ne peut pas attendre que les autres process soient annul\xe9s (et ces process ne peuvent plus continuer d'acc\xe9der au serveur). S'il tente de le faire, une erreur r\xe9seau est g\xe9n\xe9r\xe9e (erreur 10001 ou 10002) puisque la connexion au serveur est d\xe9j\xe0 referm\xe9e."]}),"\n",(0,t.jsxs)(s.p,{children:["Pour stopper proprement les process en cours dans le cas o\xf9 l'application est forc\xe9e de quitter, vous devez tester la commande ",(0,t.jsx)(s.a,{href:"/docs/fr/commands/process-aborted",children:"Process aborted"})," dans chaque boucle (Boucle, Tant que, Repeter) qui peut potentiellement durer plus d'une seconde. ",(0,t.jsx)(s.a,{href:"/docs/fr/commands/process-aborted",children:"Process aborted"})," retourne ",(0,t.jsx)(s.strong,{children:"vrai"})," si 4D (mode local, distant ou 4D Server) est sur le point de quitter, signifiant que les traitements vont stopper imm\xe9diatement. Dans ce cas, annulez tous les traitements (",(0,t.jsx)(s.a,{href:"/docs/fr/commands/cancel-transaction",children:"CANCEL TRANSACTION"}),", etc.) et quittez le plus vite possible. Alors que vous avez du temps si l'utilisateur quitte manuellement, vous n'en avez pas lorsque l'application est forc\xe9e de quitter."]}),"\n",(0,t.jsx)(s.h4,{id:"note",children:"Note"}),"\n",(0,t.jsx)(s.p,{children:"L'exemple ci-dessous liste les m\xe9thodes utilis\xe9es dans une base qui note les \xe9v\xe9nements significatifs se produisant lors d'une session de travail. Les \xe9tapes sont \xe9crites dans un document texte appel\xe9 \u201cJournal\u201d."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["La initialise la variable interprocess ",(0,t.jsx)(s.em,{children:"\u25cavbQuit4D"}),", qui signale tous les process utilis\xe9s, qu'on sorte ou non de la base. Elle cr\xe9e aussi le fichier journal, s'il n'existe pas d\xe9j\xe0."]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode base Sur ouverture\n\xa0var \u25cavtIPMessage : Text\n\xa0var \u25cavbQuit4D : Boolean\n\xa0\u25cavbQuit4D:=False\n\xa0\n\xa0If(Test path name("Journal")\xa0#\xa0Is a document)\n\xa0\xa0\xa0\xa0$vhDocRef:=Create document("Journal")\n\xa0\xa0\xa0\xa0If(OK=1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0CLOSE DOCUMENT($vhDocRef)\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n\xa0ECRIRE JOURNAL("Ouverture Session")\n'})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"La m\xe9thode projet ECRIRE JOURNAL, utilis\xe9e comme sous-routine par les autres m\xe9thodes, \xe9crit l'information qu'elle re\xe7oit dans le fichier journal :"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode Projet ECRIRE JOURNAL\n\xa0\xa0// ECRIRE JOURNAL ( Texte )\n\xa0\xa0// ECRIRE JOURNAL ( Description Evenement )\n\xa0var $1 : Text\n\xa0var $vhDocRef : Time\n\xa0\n\xa0While(Semaphore("$Journal"))\n\xa0\xa0\xa0\xa0DELAY PROCESS(Current process;1)\n\xa0End while\n\xa0$vhDocRef:=Append document("Journal")\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0PROCESS PROPERTIES(Current process;$vsProcessNom;$vlEtat;$vlTempsEcoule;$vbVisible)\n\xa0\xa0\xa0\xa0SEND PACKET($vhDocRef;String(Date du jour)+Caractere(9)+Chaine(Heure courante)+Caractere(9)+Chaine(Numero du process courant)+Caractere(9)+$vsProcessNom+Caractere(9)+$1+Caractere(13))\n\xa0\xa0\xa0\xa0CLOSE DOCUMENT($vhDocRef)\n\xa0End if\n\xa0CLEAR SEMAPHORE("$Journal")\n'})}),"\n",(0,t.jsx)(s.p,{children:"Notez que le document est ouvert et referm\xe9 \xe0 chaque fois. Notez aussi l'emploi d'un s\xe9maphore comme \u201cprotection d'acc\xe8s\u201d au document \u2014 nous ne voulons pas que deux process essaient d'acc\xe9der au fichier journal en m\xeame temps."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["La m\xe9thode projet M_AJOUT_ENRG est ex\xe9cut\xe9e lorsque la commande de menu ",(0,t.jsx)(s.strong,{children:"Ajouter enregistrement"})," est s\xe9lectionn\xe9e en mode Application :"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode Projet M_AJOUT_ENRG\n\xa0\n\xa0CHANGER BARRE(1)\n\xa0Repeat\n\xa0\xa0\xa0\xa0ADD RECORD([Table1];*)\n\xa0\xa0\xa0\xa0If(OK=1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0ECRIRE JOURNAL("Ajout d\'enregistrement #"+String(Numero enregistrement([Table1]))+" dans Table1")\n\xa0\xa0\xa0\xa0End if\n\xa0Until((OK=0)\xa0|\xa0\u25cavbQuit4D)\n'})}),"\n",(0,t.jsx)(s.p,{children:"Cette m\xe9thode effectue une boucle jusqu'\xe0 ce que l'utilisateur annule la saisie de donn\xe9es ou que la base soit referm\xe9e."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Le formulaire entr\xe9e de la ",(0,t.jsx)(s.em,{children:"[Table1]"}),' inclut le traitement des \xe9v\xe9nements On Outside Call. Ainsi, m\xeame si un process est en saisie de donn\xe9es, on en sort "en douceur", et l\'utilisateur peut sauvegarder (ou non) la saisie en cours :']}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode formulaire [Table1];"Entr\xe9e"\n\xa0Case of\n\xa0\xa0\xa0\xa0:(FORM Event=On Outside Call)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(\u25cavtIPMessage="QUITTER")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0CONFIRM("Voulez-vous sauvegarder les modifications dans cet enregistrement ?")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(OK=1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0ACCEPT\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0CANCEL\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0End case\n'})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["La m\xe9thode projet M_QUIT est ex\xe9cut\xe9e lorsque la commande ",(0,t.jsx)(s.strong,{children:"Quitter"})," du menu ",(0,t.jsx)(s.strong,{children:"Fichier"})," en mode Application est s\xe9lectionn\xe9e :"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode Projet M_QUIT\n\xa0$vlProcessID:=New process("ON_QUIT";32*1024;"$ON_QUIT")\n'})}),"\n",(0,t.jsxs)(s.p,{children:["Cette m\xe9thode utilise une astuce. Lorsque la commande ",(0,t.jsx)(s.a,{href:"/docs/fr/commands/quit-4d",children:"QUIT 4D"})," est appel\xe9e, elle a un effet imm\xe9diat. En cons\xe9quence, le process dans lequel elle est appel\xe9e est plac\xe9 en \u201cmode arr\xeat\u201d, jusqu'\xe0 ce que la base ait \xe9t\xe9 effectivement referm\xe9e. Comme ce process peut \xeatre un des process dans lequel est effectu\xe9e la saisie de donn\xe9es, l'appel \xe0 ",(0,t.jsx)(s.a,{href:"/docs/fr/commands/quit-4d",children:"QUIT 4D"})," est r\xe9alis\xe9 dans un process local qui n'est d\xe9marr\xe9 que pour ce but. Voici la m\xe9thode ON_QUIT:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode projet ON_QUIT\n\xa0CONFIRM("Etes-vous certain de vouloir quitter ?")\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0ECRIRE JOURNAL("Sortie de la base")\n\xa0\xa0\xa0\xa0QUIT 4D\n\xa0\xa0// QUITTER 4D a un effet imm\xe9diat. Aucune ligne de code n\'est ex\xe9cut\xe9e par la suite.\n\xa0\xa0// ...\n\xa0End if\n'})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Enfin, voici la ",(0,t.jsx)(s.strong,{children:"On Exit database method"}),", qui signale \xe0 tous les process utilisateur qu'\u201cil est temps de partir !\u201d. Elle met ",(0,t.jsx)(s.em,{children:"\u25cavbQuit4D"})," \xe0 Vrai et envoie des messages interprocess aux process utilisateur qui g\xe8rent la saisie de donn\xe9es :"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode base Sur fermeture\n\xa0\u25cavbQuit4D:=True\n\xa0Repeat\n\xa0\xa0\xa0\xa0$vbfini:=True\n\xa0\xa0\xa0\xa0For($vlProcess;1;Count tasks)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0PROCESS PROPERTIES($vlProcess;$vsProcessNom;$vlEtat;$vlTempsEcoule;$vbVisible)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(((($vsProcessNom="ML_@")\xa0|\xa0($vsProcessNom="M_@")))\xa0&\xa0($vlEtat>=0))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0$vbfini:=False\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u25cavtIPMessage:="QUITTER"\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0BRING TO FRONT($vlProcess)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0CALL PROCESS($vlProcess)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0$vhStart:=Current time\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Repeat\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0DELAY PROCESS(Current process;60)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Until((Process state($vlProcess)<0)\xa0|\xa0((Current time-$vhStart)>=?00:01:00?))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0End for\n\xa0Until($vbfini)\n\xa0ECRIRE JOURNAL("Fermeture de session")\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Note :"}),' Les process dont les noms commencent par "ML_..." ou "M_..." sont d\xe9marr\xe9s par les commandes de menus pour lesquelles la propri\xe9t\xe9 ',(0,t.jsx)(s.strong,{children:"D\xe9marrer un process"})," a \xe9t\xe9 s\xe9lectionn\xe9e. Dans cet exemple, ce sont les process d\xe9marr\xe9s suite \xe0 la s\xe9lection de la commande de menu ",(0,t.jsx)(s.strong,{children:"Ajouter enregistrement"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["Le test ",(0,t.jsx)(s.em,{children:"(Heure courante-$vhStart)>=?00:01:00?"})," permet \xe0 la m\xe9thode base de sortir de la boucle \u201cen attente de l'autre process\u201d, si l'autre process ne r\xe9agit pas pendant une minute."]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Voici un exemple type de fichier Journal produit par la base :",(0,t.jsx)(s.br,{}),"\n| 2/6/03 | 15:47:25 | 1 | Process principal | Ouverture de Session                   |",(0,t.jsx)(s.br,{}),"\n| ------ | -------- | - | ----------------- | -------------------------------------- |",(0,t.jsx)(s.br,{}),"\n| 2/6/03 | 15:55:43 | 5 | ML_1             | Ajout d'enregistrement #23 dans Table1 |",(0,t.jsx)(s.br,{}),"\n| 2/6/03 | 15:55:46 | 5 | ML_1             | Ajout d'enregistrement #24 dans Table1 |",(0,t.jsx)(s.br,{}),"\n| 2/6/03 | 15:55:54 | 6 | $On_QUIT         | Sortie de la base                      |",(0,t.jsx)(s.br,{}),"\n| 2/6/03 | 15:55:58 | 7 | $xx               | Fermeture de session                   |"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Note"})," : ",(0,t.jsx)(s.em,{children:"$xx"})," est le nom du process local d\xe9marr\xe9 par 4D pour ex\xe9cuter la ",(0,t.jsx)(s.strong,{children:"On Exit database method"}),"."]}),"\n",(0,t.jsx)(s.h4,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"/docs/fr/commands/on-startup-database-method",children:"On Startup database method"}),(0,t.jsx)(s.br,{}),"\n",(0,t.jsx)(s.a,{href:"/docs/fr/commands/quit-4d",children:"QUIT 4D"})]})]})}function c(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>i});var t=n(296540);const r={},a=t.createContext(r);function o(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);