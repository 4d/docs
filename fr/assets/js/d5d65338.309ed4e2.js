"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[96958],{603905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var o=t(667294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,l=function(e,n){if(null==e)return{};var t,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var c=o.createContext({}),s=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},p=function(e){var n=s(e.components);return o.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=s(t),m=l,f=d["".concat(c,".").concat(m)]||d[m]||u[m]||r;return t?o.createElement(f,a(a({ref:n},p),{},{components:t})):o.createElement(f,a({ref:n},p))}));function m(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,a=new Array(r);a[0]=d;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i.mdxType="string"==typeof e?e:l,a[1]=i;for(var s=2;s<r;s++)a[s]=t[s];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},8902:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>c,toc:()=>p});t(667294);var o=t(603905);function l(){return l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},l.apply(this,arguments)}function r(e,n){if(null==e)return{};var t,o,l=function(e,n){if(null==e)return{};var t,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}const a={id:"collection",title:"Collection"},i=void 0,c={unversionedId:"Concepts/collection",id:"version-20/Concepts/collection",title:"Collection",description:"Les collections sont des listes ordonn\xe9es de valeurs de types similaires ou diff\xe9rents (texte, nombre, date, objet, bool\xe9en, collection ou null).",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20/Concepts/dt_collection.md",sourceDirName:"Concepts",slug:"/Concepts/collection",permalink:"/docs/fr/20/Concepts/collection",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20Concepts%2Fdt_collection.md%20(20)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20",frontMatter:{id:"collection",title:"Collection"},sidebar:"docs",previous:{title:"Boolean",permalink:"/docs/fr/20/Concepts/boolean"},next:{title:"Date",permalink:"/docs/fr/20/Concepts/date"}},s={},p=[{value:"Instanciation",id:"instanciation",level:2},{value:"Commande <code>New collection</code>",id:"commande-new-collection",level:3},{value:"Op\xe9rateur <code>[]</code>",id:"op\xe9rateur-",level:3},{value:"Collection standard ou collection partag\xe9e",id:"collection-standard-ou-collection-partag\xe9e",level:3},{value:"Fonctions de collection",id:"fonctions-de-collection",level:2},{value:"param\xe8tre propertyPath",id:"param\xe8tre-propertypath",level:3},{value:"Undefined",id:"undefined",level:2}],u={toc:p};function d(e){var{components:n}=e,t=r(e,["components"]);return(0,o.kt)("wrapper",l({},u,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Les collections sont des listes ordonn\xe9es de valeurs de types similaires ou diff\xe9rents (texte, nombre, date, objet, bool\xe9en, collection ou null)."),(0,o.kt)("p",null,"Collection type variables are managed using ",(0,o.kt)("a",l({parentName:"p"},{href:"/docs/fr/20/Concepts/object#properties"}),"object notation"),"."),(0,o.kt)("p",null,"Pour acc\xe9der \xe0 un \xe9l\xe9ment d'une collection, vous devez passer le num\xe9ro de l'\xe9l\xe9ment entre crochets :"),(0,o.kt)("pre",null,(0,o.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"collectionRef[expression]\n")),(0,o.kt)("p",null,"Vous pouvez passer toute expression 4D valide qui retourne un nombre entier positif dans ",(0,o.kt)("em",{parentName:"p"},"expression"),". Exemples :"),(0,o.kt)("pre",null,(0,o.kt)("code",l({parentName:"pre"},{className:"language-4d"})," myCollection[5]  //acc\xe8s au 6e \xe9l\xe9ment de la collection\n myCollection[$var]\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Attention :")," N'oubliez pas que la num\xe9rotation des \xe9l\xe9ments de collection d\xe9bute \xe0 0."),(0,o.kt)("p",null,"Vous pouvez assigner une valeur \xe0 un \xe9l\xe9ment de collection ou lire une valeur d'\xe9l\xe9ment de collection :"),(0,o.kt)("pre",null,(0,o.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' myCol[10]:="Mon nouvel \xe9l\xe9ment"\n $myVar:=myCol[0]\n')),(0,o.kt)("p",null,"Si vous assignez un num\xe9ro d'\xe9l\xe9ment plus grand que celui du dernier \xe9l\xe9ment existant dans la collection, la collection est automatiquement redimensionn\xe9e et les nouveaux \xe9l\xe9ments interm\xe9diaires prennent la valeur null :"),(0,o.kt)("pre",null,(0,o.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var myCol : Collection\n myCol:=New collection("A";"B")\n myCol[5]:="Z"\n  //myCol[2]=null\n  //myCol[3]=null\n  //myCol[4]=null\n')),(0,o.kt)("h2",l({},{id:"instanciation"}),"Instanciation"),(0,o.kt)("p",null,"Les collections doivent avoir \xe9t\xe9 instanci\xe9es, sinon toute tentative de lecture ou de modification de leurs \xe9l\xe9ments g\xe9n\xe8re une erreur de syntaxe."),(0,o.kt)("p",null,"L'instanciation d'une collection peut se faire de l'une des mani\xe8res suivantes :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\xe0 l'aide de la commande ",(0,o.kt)("a",l({parentName:"li"},{href:"/docs/fr/20/API/CollectionClass#new-collection"}),(0,o.kt)("inlineCode",{parentName:"a"},"New collection")),","),(0,o.kt)("li",{parentName:"ul"},"en utilisant l'op\xe9rateur ",(0,o.kt)("inlineCode",{parentName:"li"},"[]"),".")),(0,o.kt)("admonition",l({},{type:"info"}),(0,o.kt)("p",{parentName:"admonition"},"Plusieurs commandes et fonctions 4D renvoient des collections, par exemple ",(0,o.kt)("a",l({parentName:"p"},{href:"https://doc.4d.com/4dv19R/help/command/en/page1713.html"}),(0,o.kt)("inlineCode",{parentName:"a"},"Get Monitored Activity"))," ou ",(0,o.kt)("a",l({parentName:"p"},{href:"/docs/fr/20/API/CollectionClass#copy"}),(0,o.kt)("inlineCode",{parentName:"a"},"collection.copy")),". Dans ce cas, il n'est pas n\xe9cessaire d'instancier explicitement la collection, le langage 4D le fait pour vous.")),(0,o.kt)("h3",l({},{id:"commande-new-collection"}),"Commande ",(0,o.kt)("inlineCode",{parentName:"h3"},"New collection")),(0,o.kt)("p",null,"La commande ",(0,o.kt)("a",l({parentName:"p"},{href:"/docs/fr/20/API/CollectionClass#new-collection"}),(0,o.kt)("inlineCode",{parentName:"a"},"New collection"))," cr\xe9e une nouvelle collection vide ou pr\xe9-remplie et renvoie sa r\xe9f\xe9rence."),(0,o.kt)("p",null,"Exemples :"),(0,o.kt)("pre",null,(0,o.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $colVar : Collection //d\xe9claration d\'une variable 4D de type collection\n $colVar:=New collection //instanciation de la collection et affectation \xe0 la variable 4D\n\n var $colFilled : Collection\n $colFilled:=New collection("a" ; "b";1;42;{}) //instanciation et affectation d\'une collection pr\xe9-remplie\n')),(0,o.kt)("h3",l({},{id:"op\xe9rateur-"}),"Op\xe9rateur ",(0,o.kt)("inlineCode",{parentName:"h3"},"[]")),(0,o.kt)("p",null,"L'op\xe9rateur ",(0,o.kt)("inlineCode",{parentName:"p"},"[]")," vous permet de cr\xe9er une collection ",(0,o.kt)("strong",{parentName:"p"},"litt\xe9rale"),". Une collection litt\xe9rale est une liste de z\xe9ro ou plusieurs expressions, dont chacune repr\xe9sente un \xe9l\xe9ment de collection, entre crochets (",(0,o.kt)("inlineCode",{parentName:"p"},"[]"),"). Lorsque vous cr\xe9ez une collection en utilisant une collection litt\xe9rale, elle est instanci\xe9e avec les valeurs sp\xe9cifi\xe9es comme \xe9l\xe9ments, et sa longueur est d\xe9finie au nombre d'arguments sp\xe9cifi\xe9s."),(0,o.kt)("p",null,"Tout \xe9l\xe9ment \xe9tant consid\xe9r\xe9 comme une expression, vous pouvez cr\xe9er des sous-collections en utilisant ",(0,o.kt)("inlineCode",{parentName:"p"},"[]")," dans les \xe9l\xe9ments.  Vous pouvez \xe9galement cr\xe9er et r\xe9f\xe9rencer des ",(0,o.kt)("strong",{parentName:"p"},"objets litt\xe9raux"),"."),(0,o.kt)("p",null,"Si un \xe9l\xe9ment n'est pas d\xe9fini, il appara\xeetra comme Null dans la collection."),(0,o.kt)("p",null,"Exemples :"),(0,o.kt)("pre",null,(0,o.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $col1; $col2; $users : Collection\n$col1:=[] //collection vide\n$col2:=[1;2;3;4;5;6] //collection de nombres\n//collection d\'objets\n$users:=[{name: "Alice"; \\\n    height: 183; \\\n    eyecolor: "hazel"; \\\n    id: $col2[5]\\\n    }; \\\n    {name: "Bob"; \\\n    height: 172; \\\n    eyecolor: "blue"\\\n    }]\n')),(0,o.kt)("admonition",l({},{type:"note"}),(0,o.kt)("p",{parentName:"admonition"},"Si vous cr\xe9ez une collection litt\xe9rale contenant un seul \xe9l\xe9ment, assurez-vous que vous n'utilisez pas un nom correspondant \xe0 un nom de table existant, sinon la syntaxe de table ",(0,o.kt)("inlineCode",{parentName:"p"},"[tableName]")," sera prioritaire.")),(0,o.kt)("h3",l({},{id:"collection-standard-ou-collection-partag\xe9e"}),"Collection standard ou collection partag\xe9e"),(0,o.kt)("p",null,"Vous pouvez cr\xe9er deux types de collections :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"des collections standard (non partag\xe9es), \xe0 l'aide de la commande ",(0,o.kt)("a",l({parentName:"li"},{href:"/docs/fr/20/API/CollectionClass#new-collection"}),(0,o.kt)("inlineCode",{parentName:"a"},"New collection"))," ou de la syntaxe litt\xe9rale de collection (",(0,o.kt)("inlineCode",{parentName:"li"},"[]"),"). Ces collections peuvent \xeatre modifi\xe9es sans contr\xf4le d'acc\xe8s sp\xe9cifique mais ne peuvent pas \xeatre partag\xe9es entre les process."),(0,o.kt)("li",{parentName:"ul"},"des collections partag\xe9es, \xe0 l'aide de la commande ",(0,o.kt)("a",l({parentName:"li"},{href:"/docs/fr/20/API/CollectionClass#new-shared-collection"}),(0,o.kt)("inlineCode",{parentName:"a"},"New shared collection")),". Le contenu de ces collections peut \xeatre partag\xe9 entre les process, y compris des process (thread) pr\xe9emptifs. L'acc\xe8s \xe0 ces collections doit \xeatre contr\xf4l\xe9 via des structures ",(0,o.kt)("a",l({parentName:"li"},{href:"/docs/fr/20/Concepts/shared#useend-use"}),(0,o.kt)("inlineCode",{parentName:"a"},"Use...End use")),".")),(0,o.kt)("p",null,"Pour plus d'informations, consultez la section ",(0,o.kt)("a",l({parentName:"p"},{href:"/docs/fr/20/Concepts/shared"}),"Objets et collections partag\xe9s"),"."),(0,o.kt)("h2",l({},{id:"fonctions-de-collection"}),"Fonctions de collection"),(0,o.kt)("p",null,"Les r\xe9f\xe9rences de collections 4D b\xe9n\xe9ficient de fonctions de classe sp\xe9cifiques (souvent appel\xe9es ",(0,o.kt)("em",{parentName:"p"},"fonctions membres"),"). Les fonctions de collections sont list\xe9es dans la section ",(0,o.kt)("a",l({parentName:"p"},{href:"/docs/fr/20/API/CollectionClass"}),"Class API Reference")," ."),(0,o.kt)("p",null,"Par exemple :"),(0,o.kt)("pre",null,(0,o.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"$newCol:=$col.copy() //copie de $col vers $newCol\n $col.push(10;100) //ajout de 10 et 100 \xe0 la collection\n")),(0,o.kt)("p",null,"Certaines fonctions retournent la collection d'origine apr\xe8s modification, de mani\xe8re \xe0 ce que vous puissiez encha\xeener les appels dans une m\xeame s\xe9quence :"),(0,o.kt)("pre",null,(0,o.kt)("code",l({parentName:"pre"},{className:"language-4d"})," $col:=New collection(5;20)\n $col2:=$col.push(10;100).sort() //$col2=[5,10,20,100]\n")),(0,o.kt)("h3",l({},{id:"param\xe8tre-propertypath"}),"param\xe8tre propertyPath"),(0,o.kt)("p",null,"Plusieurs fonctions acceptent un param\xe8tre nomm\xe9 ",(0,o.kt)("em",{parentName:"p"},"propertyPath"),". Ce param\xe8tre peut contenir :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},'soit un nom de propri\xe9t\xe9 d\'objet, par exemple "nomComplet"'),(0,o.kt)("li",{parentName:"ul"},"soit un chemin de propri\xe9t\xe9 d'objet, c'est-\xe0-dire une s\xe9quence hi\xe9rarchique de sous-propri\xe9t\xe9s reli\xe9es par des points, par exemple \"employ\xe9.enfant.pr\xe9nom\".")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Attention :")," Lorsque vous utilisez des fonctions et des param\xe8tres ",(0,o.kt)("em",{parentName:"p"},"propertyPath"),', vous ne pouvez pas utiliser ".", "',"[ ]","\" ou des espaces dans les noms de propri\xe9t\xe9s, car cela emp\xeacherait 4D d'analyser correctement le chemin :"),(0,o.kt)("pre",null,(0,o.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' $vmin:=$col.min("My.special.property") //undefined\n $vmin:=$col.min(["My.special.property"]) //erreur\n')),(0,o.kt)("h2",l({},{id:"undefined"}),"Undefined"),(0,o.kt)("p",null,"La lecture de la propri\xe9t\xe9 ",(0,o.kt)("strong",{parentName:"p"},"length")," d'une collection ind\xe9finie renvoie 0 :"),(0,o.kt)("pre",null,(0,o.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"     var $c : Collection //variable cr\xe9\xe9e mais aucune collection n'est d\xe9finie\n     $size:=$c.length //$size = 0\n")))}d.isMDXComponent=!0}}]);