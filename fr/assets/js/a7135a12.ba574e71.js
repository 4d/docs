"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["80497"],{185869:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>l,toc:()=>a,default:()=>u,metadata:()=>r,assets:()=>c,contentTitle:()=>d});var r=JSON.parse('{"id":"commands-legacy/register-client","title":"REGISTER CLIENT","description":"Historique","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-21/commands-legacy/register-client.md","sourceDirName":"commands-legacy","slug":"/commands/register-client","permalink":"/docs/fr/commands/register-client","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fregister-client.md%20(21)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"21","frontMatter":{"id":"register-client","title":"REGISTER CLIENT","slug":"/commands/register-client","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"Process state","permalink":"/docs/fr/commands/process-state"},"next":{"title":"RESUME PROCESS","permalink":"/docs/fr/commands/resume-process"}}'),t=s(474848),i=s(884429);let l={id:"register-client",title:"REGISTER CLIENT",slug:"/commands/register-client",displayed_sidebar:"docs"},d,c={},a=[{value:"Description",id:"description",level:2},{value:"Exemple",id:"exemple",level:2},{value:"Variables et ensembles syst\xe8me",id:"variables-et-ensembles-syst\xe8me",level:2},{value:"Voir aussi",id:"voir-aussi",level:2},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:2}];function o(e){let n={a:"a",br:"br",code:"code",details:"details",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.details,{children:[(0,t.jsx)(n.summary,{children:"Historique"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Release"}),(0,t.jsx)(n.th,{children:"Modifications"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"21"}),(0,t.jsx)(n.td,{children:"Param\xe8tre * ignor\xe9"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"11.3"}),(0,t.jsxs)(n.td,{children:["Param\xe8tre ",(0,t.jsx)(n.em,{children:"p\xe9riode"})," ignor\xe9"]})]})]})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"REGISTER CLIENT"})," ( ",(0,t.jsx)(n.em,{children:"nomClient"})," )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tre"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"nomClient"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Nom de la session cliente 4D"})]})})]}),"\n",(0,t.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La commande ",(0,t.jsx)(n.strong,{children:"REGISTER CLIENT"})," \u201Cinscrit\u201D un poste client 4D sous le nom ",(0,t.jsx)(n.em,{children:"nomClient"})," aupr\xe8s de 4D Server, afin de permettre que d\u2019autres clients ou \xe9ventuellement 4D Server (par l\u2019interm\xe9diaire de proc\xe9dures stock\xe9es) puissent y ex\xe9cuter des m\xe9thodes \xe0 l\u2019aide de la commande ",(0,t.jsx)(n.a,{href:"/docs/fr/commands/execute-on-client",children:(0,t.jsx)(n.code,{children:"EXECUTE ON CLIENT"})}),". Une fois inscrit, un client 4D peut donc ex\xe9cuter une ou plusieurs m\xe9thodes pour le compte d\u2019autres clients."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Notes :"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Vous pouvez \xe9galement inscrire automatiquement chaque poste client qui se connecte \xe0 4D Server via l'option \u201CInscrire les clients au d\xe9marrage pour Ex\xe9cuter sur client\u201D dans la bo\xeete de dialogue des Propri\xe9t\xe9s."}),"\n",(0,t.jsx)(n.li,{children:"Lorsqu\u2019elle est utilis\xe9e avec 4D en mode local, cette commande ne fait rien."}),"\n",(0,t.jsx)(n.li,{children:"Plusieurs postes clients 4D peuvent avoir le m\xeame nom d\u2019inscription."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["A l\u2019issue de l\u2019ex\xe9cution de la commande, un process, nomm\xe9 ",(0,t.jsx)(n.em,{children:"nomClient"}),", est cr\xe9\xe9 sur le poste client. Ce process ne peut \xeatre d\xe9truit que par la commande ",(0,t.jsx)(n.a,{href:"/docs/fr/commands/unregister-client",children:(0,t.jsx)(n.code,{children:"UNREGISTER CLIENT"})}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Une fois la commande ex\xe9cut\xe9e, il n\u2019est pas possible de modifier \u201C\xe0 la vol\xe9e\u201D le nom du client 4D. Pour cela, il est n\xe9cessaire d\u2019appeler la commande ",(0,t.jsx)(n.a,{href:"/docs/fr/commands/unregister-client",children:(0,t.jsx)(n.code,{children:"UNREGISTER CLIENT"})})," puis d\u2019ex\xe9cuter \xe0 nouveau ",(0,t.jsx)(n.strong,{children:"REGISTER CLIENT"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"exemple",children:"Exemple"}),"\n",(0,t.jsx)(n.p,{children:"Les m\xe9thodes suivantes permettent de r\xe9aliser une petite messagerie entre les postes clients inscrits."}),"\n",(0,t.jsx)(n.p,{children:"1. La m\xe9thode INSCRIPTION permet d\u2019inscrire un client 4D et de le tenir pr\xeat \xe0 recevoir un message de la part d\u2019un autre client 4D :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0//M\xe9thode INSCRIPTION\n\xa0\xa0//Il faut se d\xe9sinscrire avant de s\u2019inscrire sous un autre nom\n\xa0UNREGISTER CLIENT\n var vNomPseudo : Text\n\xa0Repeat\n\xa0\xa0\xa0\xa0vNomPseudo:=Request("Entrez votre nom :";"Utilisateur";"OK";"Annuler")\n\xa0Until((OK=0)|(vNomPseudo#""))\n\xa0If(OK=0)\n\xa0\xa0\xa0\xa0...\xa0// Ne rien faire\n\xa0Else\n\xa0\xa0\xa0\xa0REGISTER CLIENT(vNomPseudo;*)\n\xa0End if\n'})}),"\n",(0,t.jsx)(n.p,{children:"2. L\u2019instruction suivante permet de conna\xeetre les clients inscrits. Elle peut \xeatre plac\xe9e dans la :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode base Sur ouverture\nvar PrListeClient : Integer\nPrListeClient:=New process("Liste_4DClients";32000;"Liste d\'inscrits")\n'})}),"\n",(0,t.jsx)(n.p,{children:"3. La m\xe9thode Liste_4DClients permet de r\xe9cup\xe9rer tous les clients 4D inscrits et les personnes acceptant de recevoir des messages :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode Liste_4DClients\nvar $Ref; $p : Integer\nARRAY TEXT($ListeClient;0)\nARRAY LONGINT($ListeCharge;0)\n\xa0If(Application type=4D mode distant)\n\xa0\xa0// Le code ci-dessous n\u2019est valable qu\u2019en mode client-serveur\n\xa0\xa0\xa0\xa0$Ref:=Open window(100;100;300;400;-(Palette window+Has window title);"Liste d\'inscrits")\n\xa0\xa0\xa0\xa0Repeat\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0GET REGISTERED CLIENTS($ListeClient;$ListeCharge)\n\xa0\xa0//R\xe9cup\xe9ration des clients inscrits dans $ListeClient\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0ERASE WINDOW($Ref)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0GOTO XY(0;0)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0For($p;1;Size of array($ListeClient))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0MESSAGE($ListeClient{$p}+Char(Carriage return))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0End for\n\xa0\xa0//Afficher chaque seconde\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0DELAY PROCESS(Current process;60)\n\xa0\xa0\xa0\xa0Until(False)\xa0// Boucle infinie\n\xa0End if\n'})}),"\n",(0,t.jsx)(n.p,{children:"4. La m\xe9thode Envoyer_Message permet d\u2019envoyer un message \xe0 un autre client 4D inscrit."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode Envoyer_Message\nvar $Destinataire; $Message : Text\n\xa0$Destinataire:=Request("Destinataire du message :";"")\n\xa0\xa0// Saisir le nom d\'une des personnes visibles dans la fen\xeatre g\xe9n\xe9r\xe9e par la m\xe9thode base Sur ouverture\n\xa0If(OK#0)\n\xa0\xa0\xa0\xa0$Message:=Request("Message :")\xa0// Contenu du message\n\xa0\xa0\xa0\xa0If(OK#0)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0EXECUTE ON CLIENT($Destinataire;"Afficher_Message";$Message)\xa0// Envoi du message\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n'})}),"\n",(0,t.jsx)(n.p,{children:"5. La m\xe9thode Afficher_Message affiche le message sur le poste client :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"\xa0\xa0// M\xe9thode Afficher_Message\n\xa0#DECLARE($message : Text)\n\xa0ALERT($message)\n"})}),"\n",(0,t.jsx)(n.p,{children:"6. Enfin, cette m\xe9thode permet \xe0 un poste client de n\u2019\xeatre plus visible par les autres clients 4D et ne plus recevoir de message :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"\xa0\xa0// M\xe9thode D\xc9SINSCRIPTION :\n\xa0UNREGISTER CLIENT\n"})}),"\n",(0,t.jsx)(n.h2,{id:"variables-et-ensembles-syst\xe8me",children:"Variables et ensembles syst\xe8me"}),"\n",(0,t.jsx)(n.p,{children:"Si le poste client est correctement inscrit, la variable syst\xe8me OK prend la valeur 1. Si le poste \xe9tait d\xe9j\xe0 inscrit, la commande ne fait rien et OK prend la valeur 0."}),"\n",(0,t.jsx)(n.h2,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/docs/fr/commands/execute-on-client",children:"EXECUTE ON CLIENT"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/commands/get-registered-clients",children:"GET REGISTERED CLIENTS"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/commands/unregister-client",children:"UNREGISTER CLIENT"})]}),"\n",(0,t.jsx)(n.h2,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Num\xe9ro de commande"}),(0,t.jsx)(n.td,{children:"648"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Thread safe"}),(0,t.jsx)(n.td,{children:"\u2717"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Modifie les variables"}),(0,t.jsx)(n.td,{children:"OK"})]})]})]})]})}function u(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},884429:function(e,n,s){s.d(n,{R:()=>l,x:()=>d});var r=s(296540);let t={},i=r.createContext(t);function l(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);