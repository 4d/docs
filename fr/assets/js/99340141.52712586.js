"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["11729"],{802013:function(e,s,r){r.r(s),r.d(s,{default:()=>a,frontMatter:()=>c,metadata:()=>n,assets:()=>l,toc:()=>d,contentTitle:()=>t});var n=JSON.parse('{"id":"commands-legacy/open-resource-file","title":"Open resource file","description":"Open resource file ( resNomFichier {; typeFichier} ) : Time","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/open-resource-file.md","sourceDirName":"commands-legacy","slug":"/commands/open-resource-file","permalink":"/docs/fr/commands/open-resource-file","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fopen-resource-file.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"open-resource-file","title":"Open resource file","slug":"/commands/open-resource-file","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"Get text resource","permalink":"/docs/fr/commands/get-text-resource"},"next":{"title":"RESOURCE LIST","permalink":"/docs/fr/commands/resource-list"}}'),i=r("785893"),o=r("250065");let c={id:"open-resource-file",title:"Open resource file",slug:"/commands/open-resource-file",displayed_sidebar:"docs"},t=void 0,l={},d=[{value:"Description",id:"description",level:4},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"Exemple 3",id:"exemple-3",level:4},{value:"Exemple 4",id:"exemple-4",level:4},{value:"Variables et ensembles syst\xe8me",id:"variables-et-ensembles-syst\xe8me",level:4},{value:"Gestion des erreurs",id:"gestion-des-erreurs",level:4},{value:"Voir aussi",id:"voir-aussi",level:4},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:4}];function u(e){let s={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Open resource file"})," ( ",(0,i.jsx)(s.em,{children:"resNomFichier"})," {; ",(0,i.jsx)(s.em,{children:"typeFichier"}),"} ) : Time"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Param\xe8tre"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"resNomFichier"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:"\u2192"}),(0,i.jsx)(s.td,{children:"Nom ou chemin d'acc\xe8s complet du fichier de ressources ou cha\xeene vide pour afficher la bo\xeete de dialogue standard d'ouverture de fichiers"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"typeFichier"}),(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:"\u2192"}),(0,i.jsx)(s.td,{children:'Type de fichier Mac OS (cha\xeene de 4 caract\xe8res), ou extension de fichier Windows (cha\xeene de 1 \xe0 3 caract\xe8res), ou fichier de ressources ("res " / .RES) si omis'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"R\xe9sultat"}),(0,i.jsx)(s.td,{children:"Time"}),(0,i.jsx)(s.td,{children:"\u2190"}),(0,i.jsx)(s.td,{children:"Num\xe9ro de r\xe9f\xe9rence du fichier de ressources"})]})]})]}),"\n",(0,i.jsx)(s.h4,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(s.p,{children:["La commande ",(0,i.jsx)(s.strong,{children:"Open resource file"})," ouvre le fichier de ressources dont vous avez pass\xe9 le nom ou le chemin d'acc\xe8s complet dans le param\xe8tre ",(0,i.jsx)(s.em,{children:"resNomFichier"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Si vous passez un nom de fichier, celui-ci doit se trouver dans le m\xeame dossier/r\xe9pertoire que le fichier de structure de la base. Pour ouvrir un fichier de ressources se trouvant dans un autre dossier, passez un chemin d'acc\xe8s complet dans ",(0,i.jsx)(s.em,{children:"resNomFichier"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Si vous passez une cha\xeene vide dans ",(0,i.jsx)(s.em,{children:"resNomFichier"}),", la bo\xeete de dialogue standard d'ouverture de fichiers appara\xeet, permettant \xe0 l'utilisateur de s\xe9lectionner le fichier \xe0 ouvrir. Si l'utilisateur clique sur ",(0,i.jsx)(s.strong,{children:"Annuler"})," dans cette bo\xeete de dialogue, aucun fichier de ressources n'est ouvert, ",(0,i.jsx)(s.strong,{children:"Open resource file"})," retourne une valeur nulle dans ",(0,i.jsx)(s.a,{href:"#",title:"R\xe9f\xe9rence unique de document (valeur de type heure)",children:"RefDoc"})," et la variable OK prend la valeur 0."]}),"\n",(0,i.jsxs)(s.p,{children:["Si le fichier de ressources est correctement ouvert, ",(0,i.jsx)(s.strong,{children:"Open resource file"})," retourne son num\xe9ro de r\xe9f\xe9rence de fichier et met la variable OK \xe0 1. Si le fichier de ressources n'existe pas ou si le fichier de que vous tentez d'ouvrir n'est pas un fichier de ressources, une erreur est g\xe9n\xe9r\xe9e."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Sous Mac OS, si vous utilisez la bo\xeete de dialogue standard d'ouverture de fichiers, tous les fichiers sont pr\xe9sent\xe9s par d\xe9faut. Pour ne faire appara\xeetre que les fichiers d'un type particulier, sp\xe9cifiez-le dans le param\xe8tre optionnel ",(0,i.jsx)(s.em,{children:"typeFichier"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Sous Windows, si vous utilisez la bo\xeete de dialogue standard d'ouverture de fichiers, tous les fichiers sont pr\xe9sent\xe9s par d\xe9faut. Pour ne faire appara\xeetre que les fichiers d'un type particulier, passez dans ",(0,i.jsx)(s.em,{children:"typeFichier"})," une extension de fichier Windows de 1 \xe0 3 caract\xe8res ou un type de fichier Macintosh associ\xe9 \xe0 une extension Windows \xe0 l'aide de la commande ",(0,i.jsx)(s.em,{children:"_o_MAP FILE TYPES"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["N'oubliez pas d'appeler finalement ",(0,i.jsx)(s.a,{href:"/docs/fr/commands/close-resource-file",children:"CLOSE RESOURCE FILE"})," pour le fichier de ressources. Notez cependant que 4D referme automatiquement tous les fichiers de ressources ouverts par l'interm\xe9diaire de ",(0,i.jsx)(s.strong,{children:"Open resource file"})," lorsque vous quittez l'application ou ouvrez une autre base de donn\xe9es."]}),"\n",(0,i.jsxs)(s.p,{children:["A la diff\xe9rence de la commande ",(0,i.jsx)(s.a,{href:"/docs/fr/commands/open-document",children:"Open document"})," qui ouvre par d\xe9faut un document avec un acc\xe8s exclusif en lecture-\xe9criture, ",(0,i.jsx)(s.strong,{children:"Open resource file"})," vous permet d'ouvrir un fichier de ressources d\xe9j\xe0 ouvert dans la session 4D. Par exemple, lorsque vous tentez d'ouvrir deux fois le m\xeame document avec ",(0,i.jsx)(s.a,{href:"/docs/fr/commands/open-document",children:"Open document"}),", une erreur d'E/S vous est retourn\xe9e lors de la seconde op\xe9ration. En revanche, vous pouvez acc\xe9der \xe0 un fichier de ressources d\xe9j\xe0 ouvert lors de la session 4D : ",(0,i.jsx)(s.strong,{children:"Open resource file"})," retourne son num\xe9ro de r\xe9f\xe9rence. M\xeame lorsque vous ouvrez plusieurs fois un fichier de ressources, il vous suffit d'appeler ",(0,i.jsx)(s.a,{href:"/docs/fr/commands/close-resource-file",children:"CLOSE RESOURCE FILE"})," une seule fois pour refermer ce fichier. Notez que ce fonctionnement n'est valable que lorsque le fichier de ressources est ouvert \xe0 l'int\xe9rieur de la session 4D. Si vous tentez d'ouvrir un fichier de ressources d\xe9j\xe0 ouvert par une autre application, une erreur d'E/S vous sera retourn\xe9e."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"ATTENTION :"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Il est interdit d'acc\xe9der aux fichiers de ressources des applications 4D et des bases fusionn\xe9es avec 4D Desktop."}),"\n",(0,i.jsxs)(s.li,{children:["Bien que techniquement possible, l'acc\xe8s au fichier de ressources de la structure de la base est fortement d\xe9conseill\xe9 car ce fonctionnement devient caduc lorsque la base est compil\xe9e et fusionn\xe9e avec 4D Desktop.",(0,i.jsx)(s.br,{}),"\nSi toutefois vous acc\xe9dez au fichier de ressources de la structure et souhaitez ajouter, supprimer ou modifier des ressources par programmation, pensez \xe0 tester l'environnement dans lequel la base s'ex\xe9cute. Avec 4D Server, cela posera certainement d'\xe9pineux probl\xe8mes. Si, par exemple, vous modifiez une ressource sur le poste serveur (via une m\xe9thode base ou une proc\xe9dure stock\xe9e), vous allez en d\xe9finitive perturber le syst\xe8me d'administration de 4D Server charg\xe9 de distribuer de mani\xe8re transparente les ressources aux postes clients. Notez qu'avec 4D Client vous n'acc\xe9dez pas directement au fichier de structure : il est situ\xe9 sur le poste serveur."]}),"\n",(0,i.jsx)(s.li,{children:"Pour toutes ces raisons, si vous exploitez des ressources, vous devez les stocker dans vos propres fichiers."}),"\n",(0,i.jsxs)(s.li,{children:["Lorsque vous travaillez avec vos propres ressources, n'utilisez pas de num\xe9ros de ressources n\xe9gatifs, ils sont r\xe9serv\xe9s au Syst\xe8me d'exploitation. N'utilisez pas non plus de num\xe9ros situ\xe9s entre 0 et 14 999, cet intervalle est r\xe9serv\xe9 \xe0 4D. Pour vos propres ressources, utilisez les num\xe9ros situ\xe9s entre 15 000 et 32 767. Rappelez-vous que d\xe8s qu'un fichier de ressources est ouvert, il devient le premier maillon de la cha\xeene des fichiers de ressources, et c'est dans ce fichier que les ressources seront recherch\xe9es en premier lieu. En cons\xe9quence, si vous stockez dans ce fichier des ressources dont les num\xe9ros appartiennent aux intervalles r\xe9serv\xe9s au Syst\xe8me ou \xe0 4D, ces ressources seront utilis\xe9es non seulement par les commandes telles que ",(0,i.jsx)(s.a,{href:"/docs/fr/commands/get-resource",children:"GET RESOURCE"})," mais \xe9galement par les routines internes de l'application 4D elle-m\xeame. Si vous n'\xeates pas absolument certain de ce que vous faites, n'utilisez pas les intervalles r\xe9serv\xe9s, cela peut conduire \xe0 des erreurs syst\xe8me."]}),"\n",(0,i.jsxs)(s.li,{children:["Un fichier de ressources est tr\xe8s structur\xe9 et ne peut contenir plus 2 700 ressources. Si vous travaillez avec des fichiers comportant un grand nombre de ressources, il est conseill\xe9 de tester ce nombre avant d'ajouter de nouvelles ressources \xe0 un fichier (reportez-vous \xe0 l'exemple Nombre de ressources dans la description de la commande ",(0,i.jsx)(s.a,{href:"/docs/fr/commands/resource-type-list",children:"RESOURCE TYPE LIST"})," )."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Une fois que vous avez ouvert un fichier de ressources, vous pouvez analyser son contenu \xe0 l'aide des commandes ",(0,i.jsx)(s.a,{href:"/docs/fr/commands/resource-type-list",children:"RESOURCE TYPE LIST"})," et ",(0,i.jsx)(s.a,{href:"/docs/fr/commands/resource-list",children:"RESOURCE LIST"}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,i.jsx)(s.p,{children:'Dans l\'exemple suivant, nous cherchons \xe0 ouvrir sous Windows le fichier de ressources "MesPrefs.res" situ\xe9 dans le dossier de la base :'}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:'\xa0$vhResFile:=Open resource file("MesPrefs";"res ")\n'})}),"\n",(0,i.jsx)(s.p,{children:"Sous Mac OS, l'exemple recherchera le fichier \u201CMesPrefs\u201D."}),"\n",(0,i.jsx)(s.h4,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,i.jsx)(s.p,{children:'Cet exemple tente d\'ouvrir sous Windows le fichier de ressources "MesPrefs.rsr" situ\xe9 dans le dossier de la base :'}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:'\xa0$vhResFile:=Open resource file("MesPrefs";"rsr")\n'})}),"\n",(0,i.jsx)(s.p,{children:"Sous Mac OS, l'exemple recherchera le fichier \u201CMesPrefs\u201D."}),"\n",(0,i.jsx)(s.h4,{id:"exemple-3",children:"Exemple 3"}),"\n",(0,i.jsx)(s.p,{children:"L'exemple suivant fait appara\xeetre la bo\xeete de dialogue standard d'ouverture de fichiers, dans laquelle tous les types de documents sont affich\xe9s :"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:'\xa0$vhResFile:=Open resource file("")\n'})}),"\n",(0,i.jsx)(s.h4,{id:"exemple-4",children:"Exemple 4"}),"\n",(0,i.jsx)(s.p,{children:"L'exemple suivant fait appara\xeetre la bo\xeete de dialogue standard d'ouverture de fichiers, dans laquelle seuls les documents cr\xe9\xe9s \xe0 l'aide de la fonction  et utilisant le type par d\xe9faut sont affich\xe9s :"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-4d",children:'\xa0$vhResFile:=Open resource file("";"res ")\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0ALERT("Vous venez d\'ouvrir "+Document+\u201D.")\n\xa0\xa0\xa0\xa0CLOSE RESOURCE FILE($vhResFile)\n\xa0End if\n'})}),"\n",(0,i.jsx)(s.h4,{id:"variables-et-ensembles-syst\xe8me",children:"Variables et ensembles syst\xe8me"}),"\n",(0,i.jsx)(s.p,{children:"Si le fichier de ressources est correctement ouvert, la variable syst\xe8me OK prend la valeur 1. Si le fichier de ressources n'a pas pu \xeatre ouvert ou si l'utilisateur a cliqu\xe9 sur le bouton Annuler dans la bo\xeete de dialogue standard d'ouverture de fichiers, la variable OK prend la valeur 0 (z\xe9ro)."}),"\n",(0,i.jsx)(s.p,{children:"Si le fichier de ressources est correctement ouvert par l'interm\xe9diaire de la bo\xeete de dialogue standard d'ouverture de fichiers, la variable syst\xe8me Document contient le chemin d'acc\xe8s au fichier."}),"\n",(0,i.jsx)(s.h4,{id:"gestion-des-erreurs",children:"Gestion des erreurs"}),"\n",(0,i.jsxs)(s.p,{children:["Si le fichier de ressources n'a pas pu \xeatre ouvert \xe0 la suite d'un probl\xe8me de ressource ou d'E/S, une erreur est g\xe9n\xe9r\xe9e. Vous pouvez intercepter cette erreur \xe0 l'aide d'une m\xe9thode de gestion d'erreurs install\xe9e par la commande ",(0,i.jsx)(s.a,{href:"/docs/fr/commands/on-err-call",children:"ON ERR CALL"}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"/docs/fr/commands/close-resource-file",children:"CLOSE RESOURCE FILE"}),(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.em,{children:"Ressources"})]}),"\n",(0,i.jsx)(s.h4,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{}),(0,i.jsx)(s.th,{})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Num\xe9ro de commande"}),(0,i.jsx)(s.td,{children:"497"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Thread safe"}),(0,i.jsx)(s.td,{children:"\u2717"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Modifie les variables"}),(0,i.jsx)(s.td,{children:"OK, Document, error"})]})]})]})]})}function a(e={}){let{wrapper:s}={...(0,o.a)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},250065:function(e,s,r){r.d(s,{Z:function(){return t},a:function(){return c}});var n=r(667294);let i={},o=n.createContext(i);function c(e){let s=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),n.createElement(o.Provider,{value:s},e.children)}}}]);