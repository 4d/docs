"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[62615],{933617:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>d,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var s=n(474848),r=n(28453);const i={id:"get-edited-text",title:"Get edited text",slug:"/commands/get-edited-text",displayed_sidebar:"docs"},d=void 0,a={id:"commands-legacy/get-edited-text",title:"Get edited text",description:"Get edited text  -> R\xe9sultat",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/get-edited-text.md",sourceDirName:"commands-legacy",slug:"/commands/get-edited-text",permalink:"/docs/fr/commands/get-edited-text",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fget-edited-text.md%20(20-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R7",frontMatter:{id:"get-edited-text",title:"Get edited text",slug:"/commands/get-edited-text",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"FILTER KEYSTROKE",permalink:"/docs/fr/commands/filter-keystroke"},next:{title:"GET HIGHLIGHT",permalink:"/docs/fr/commands/get-highlight"}},o={},l=[{value:"Description",id:"description",level:4},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"Voir aussi",id:"voir-aussi",level:4}];function c(e){const t={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Get edited text"}),"  -> R\xe9sultat"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param\xe8tre"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"R\xe9sultat"}),(0,s.jsx)(t.td,{children:"Text"}),(0,s.jsx)(t.td,{children:"\u2190"}),(0,s.jsx)(t.td,{children:"Texte en cours de saisie"})]})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:"Cette commande n'est pas thread-safe, elle ne peut pas \xeatre utilis\xe9e dans du code pr\xe9emptif."})}),"\n",(0,s.jsx)(t.h4,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(t.p,{children:["La commande ",(0,s.jsx)(t.strong,{children:"Get edited text"})," retourne le texte en cours de saisie dans un objet de formulaire."]}),"\n",(0,s.jsx)(t.p,{children:"Cette commande est principalement destin\xe9e \xe0 \xeatre utilis\xe9e avec l'\xe9v\xe9nement formulaire On After Keystroke pour r\xe9cup\xe9rer le texte au fur et \xe0 mesure de la frappe. Elle peut \xe9galement \xeatre utilis\xe9e avec l\u2019\xe9v\xe9nement formulaire On After Keystroke."}),"\n",(0,s.jsx)(t.p,{children:"La combinaison de cette commande avec les \xe9v\xe9nements formulaire On Before Keystroke et On After Keystroke fonctionne de la mani\xe8re suivante :"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["D\xe8s qu\u2019un caract\xe8re est tap\xe9 au clavier, l\u2019\xe9v\xe9nement On Before Keystroke est g\xe9n\xe9r\xe9. Dans cet \xe9v\xe9nement, la fonction ",(0,s.jsx)(t.strong,{children:"Get edited text"})," retourne le contenu de la zone avant la derni\xe8re frappe clavier. Par exemple, si la zone contient \u201cPA\u201d et que l\u2019utilisateur tape \u201cR\u201d, ",(0,s.jsx)(t.strong,{children:"Get edited text"})," retourne \u201cPA\u201d dans l\u2019\xe9v\xe9nement On Before Keystroke. Si la zone ne contient rien au d\xe9part, ",(0,s.jsx)(t.strong,{children:"Get edited text"})," retourne une cha\xeene vide."]}),"\n",(0,s.jsxs)(t.li,{children:["Ensuite, l'\xe9v\xe9nement formulaire On After Keystroke est g\xe9n\xe9r\xe9. Dans cet \xe9v\xe9nement, la fonction ",(0,s.jsx)(t.strong,{children:"Get edited text"})," retourne le contenu de la zone y compris le dernier caract\xe8re entr\xe9 au clavier. Par exemple, si la zone contient \u201cPA\u201d et que l\u2019utilisateur tape \u201cR\u201d, ",(0,s.jsx)(t.strong,{children:"Get edited text"})," retourne \u201cPAR\u201d dans l\u2019\xe9v\xe9nement On After Keystroke."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Ces deux \xe9v\xe9nements ne sont g\xe9n\xe9r\xe9s que dans les m\xe9thodes des objets concern\xe9s."}),"\n",(0,s.jsx)(t.p,{children:"Dans un contexte autre que la saisie dans un formulaire, cette fonction retourne une cha\xeene vide."}),"\n",(0,s.jsx)(t.h4,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,s.jsx)(t.p,{children:"Dans un formulaire entr\xe9e, vous souhaitez que les caract\xe8res saisis soient automatiquement mis en majuscules :"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-4d",children:"\xa0If(Form event code=On After Edit)\n\xa0\xa0\xa0\xa0[Voyages]Agences:=Uppercase(Get edited text)\n\xa0End if\n"})}),"\n",(0,s.jsx)(t.h4,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,s.jsx)(t.p,{children:"Voici un exemple de traitement \xe0 la vol\xe9e des caract\xe8res saisis dans un champ texte. Le principe consiste \xe0 placer dans un autre champ texte (appel\xe9 \u201cMots\u201d) la d\xe9composition en mots de la phrase en cours de saisie. Pour cela, \xe9crivez dans la m\xe9thode objet du champ de saisie :"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-4d",children:'\xa0If(FORM Event=On After Keystroke)\n\xa0\xa0\xa0\xa0$SaisieTempsR\xe9el:=Get edited text\n\xa0\xa0\xa0\xa0PLATFORM PROPERTIES($plate_forme)\n\xa0\xa0\xa0\xa0If($plate_forme#3)\xa0// Macintosh ou Power Macintosh\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0Repeat\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0$PhraseD\xe9compos\xe9e:=Replace string($SaisieTempsR\xe9el;Char(32);Char(13))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0Until(Position(" ";$PhraseD\xe9compos\xe9e)=0)\n\xa0\xa0\xa0\xa0Else\xa0// Windows\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0Repeat\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0$PhraseD\xe9compos\xe9e:=Replace string($SaisieTempsR\xe9el;Char(32);\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Char(13)+Char(10))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0Until(Position(" ";$PhraseD\xe9compos\xe9e)=0)\n\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0[Exemple]Mots:=$PhraseD\xe9compos\xe9e\n\xa0End if\n'})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note :"})," Cet exemple n\u2019est pas exhaustif puisque l\u2019on consid\xe8re que les mots sont s\xe9par\xe9s par des espaces uniquement (",(0,s.jsx)(t.a,{href:"/docs/fr/commands/char",children:"Char"}),"(32)). La mise au point d\u2019un syst\xe8me complet n\xe9cessiterait l\u2019ajout d\u2019autres filtres afin de rep\xe9rer tous les mots (point-virgules, virgules, apostrophes, etc...)."]}),"\n",(0,s.jsx)(t.h4,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"/docs/fr/commands/form-event-code",children:"Form event code"}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.a,{href:"/docs/fr/commands/is-editing-text",children:"Is editing text"})]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>d,x:()=>a});var s=n(296540);const r={},i=s.createContext(r);function d(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);