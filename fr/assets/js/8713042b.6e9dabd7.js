"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["99874"],{215547:function(e,n,r){r.r(n),r.d(n,{metadata:()=>s,contentTitle:()=>d,default:()=>h,assets:()=>a,toc:()=>o,frontMatter:()=>i});var s=JSON.parse('{"id":"commands-legacy/ob-get","title":"OB Get","description":"OB Get ( objet ; propri\xe9t\xe9 {; type} ) : any","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/ob-get.md","sourceDirName":"commands-legacy","slug":"/commands/ob-get","permalink":"/docs/fr/commands/ob-get","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fob-get.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"ob-get","title":"OB Get","slug":"/commands/ob-get","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"OB Entries","permalink":"/docs/fr/commands/ob-entries"},"next":{"title":"OB GET ARRAY","permalink":"/docs/fr/commands/ob-get-array"}}'),t=r("785893"),l=r("250065");let i={id:"ob-get",title:"OB Get",slug:"/commands/ob-get",displayed_sidebar:"docs"},d=void 0,a={},o=[{value:"Description",id:"description",level:4},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"Exemple 3",id:"exemple-3",level:4},{value:"Exemple 4",id:"exemple-4",level:4},{value:"Exemple 5",id:"exemple-5",level:4},{value:"Exemple 6",id:"exemple-6",level:4},{value:"Exemple 7",id:"exemple-7",level:4},{value:"Exemple 8",id:"exemple-8",level:4},{value:"Exemple 9",id:"exemple-9",level:4},{value:"Exemple 10",id:"exemple-10",level:4},{value:"Voir aussi",id:"voir-aussi",level:4},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:4}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"OB Get"})," ( ",(0,t.jsx)(n.em,{children:"objet"})," ; ",(0,t.jsx)(n.em,{children:"propri\xe9t\xe9"})," {; ",(0,t.jsx)(n.em,{children:"type"}),"} ) : any"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tre"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"objet"}),(0,t.jsx)(n.td,{children:"Object, Object"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Objet structur\xe9"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"propri\xe9t\xe9"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Nom de la propri\xe9t\xe9 \xe0 lire"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"type"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Type dans lequel convertir la valeur"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"\u2190"}),(0,t.jsx)(n.td,{children:"Valeur courante de la propri\xe9t\xe9"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La commande ",(0,t.jsx)(n.strong,{children:"OB Get"})," retourne la valeur courante de la ",(0,t.jsx)(n.em,{children:"propri\xe9t\xe9"})," de l\u2019",(0,t.jsx)(n.em,{children:"objet"}),", convertie optionnellement dans le ",(0,t.jsx)(n.em,{children:"type"})," d\xe9fini.doit avoir \xe9t\xe9 d\xe9fini via la commande ",(0,t.jsx)(n.a,{href:"c-object.md",children:"C_OBJECT"})," ou d\xe9signer un champ objet 4D."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note :"})," Cette commande prend en charge les d\xe9finitions d'attributs dans les ",(0,t.jsx)(n.em,{children:"objets"})," 4D Write Pro, comme la commande ",(0,t.jsx)(n.em,{children:"WP GET ATTRIBUTES"})," (cf. exemple 9). Toutefois, \xe0 la diff\xe9rence de ",(0,t.jsx)(n.em,{children:"WP GET ATTRIBUTES"}),", ",(0,t.jsx)(n.strong,{children:"OB Get"})," ne permet pas de manipuler directement une variable ou un champ image comme valeur d'attribut."]}),"\n",(0,t.jsxs)(n.p,{children:["Passez dans le param\xe8tre ",(0,t.jsx)(n.em,{children:"propri\xe9t\xe9"})," le libell\xe9 de la propri\xe9t\xe9 \xe0 lire. Attention, le param\xe8tre ",(0,t.jsx)(n.em,{children:"propri\xe9t\xe9"})," tient compte des majuscules/minuscules."]}),"\n",(0,t.jsxs)(n.p,{children:['Par d\xe9faut, 4D retournera la valeur de la propri\xe9t\xe9 dans son type d\u2019origine. Vous pouvez "forcer" le typage de la valeur retourn\xe9e \xe0 l\u2019aide du param\xe8tre optionnel ',(0,t.jsx)(n.em,{children:"type"}),". Pour cela, vous pouvez passer dans ",(0,t.jsx)(n.em,{children:"type"})," une des constantes suivantes, plac\xe9es dans le th\xe8me ",(0,t.jsx)(n.em,{children:"Types champs et variables"})," :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Constante"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Valeur"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Is Boolean"}),(0,t.jsx)(n.td,{children:"Entier long"}),(0,t.jsx)(n.td,{children:"6"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Is date"}),(0,t.jsx)(n.td,{children:"Entier long"}),(0,t.jsx)(n.td,{children:"4"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Is longint"}),(0,t.jsx)(n.td,{children:"Entier long"}),(0,t.jsx)(n.td,{children:"9"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Is object"}),(0,t.jsx)(n.td,{children:"Entier long"}),(0,t.jsx)(n.td,{children:"38"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Is pointer"}),(0,t.jsx)(n.td,{children:"Entier long"}),(0,t.jsx)(n.td,{children:"23"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Is real"}),(0,t.jsx)(n.td,{children:"Entier long"}),(0,t.jsx)(n.td,{children:"1"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Is text"}),(0,t.jsx)(n.td,{children:"Entier long"}),(0,t.jsx)(n.td,{children:"2"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Is time"}),(0,t.jsx)(n.td,{children:"Entier long"}),(0,t.jsx)(n.td,{children:"11"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["La commande retourne la valeur de la ",(0,t.jsx)(n.em,{children:"propri\xe9t\xe9"}),". Plusieurs types de donn\xe9es sont pris en charge. A noter que :"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["un pointeur est retourn\xe9 tel quel, il peut \xeatre \xe9valu\xe9 \xe0 l\u2019aide de la commande ",(0,t.jsx)(n.a,{href:"/docs/fr/commands/json-stringify",children:"JSON Stringify"}),","]}),"\n",(0,t.jsx)(n.li,{children:'les dates sont retourn\xe9es au format "YYYY-MM-DDTHH:mm:ss.SSSZ"'}),"\n",(0,t.jsx)(n.li,{children:'dans les valeurs r\xe9elles, le s\xe9parateur d\xe9cimal est toujours le point "."'}),"\n",(0,t.jsxs)(n.li,{children:["les heures sont retourn\xe9es sous forme d\u2019un nombre. A noter que ",(0,t.jsx)(n.a,{href:"/docs/fr/commands/ob-set",children:"OB SET"})," stocke les heures sous forme de millisecondes, conform\xe9ment au standard javascript, tandis que 4D attend un nombre de secondes. Pour une interpr\xe9tation correcte par ",(0,t.jsx)(n.strong,{children:"OB Get"})," d'une heure stock\xe9e, vous devez utiliser la constante Is time."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,t.jsx)(n.p,{children:"R\xe9cup\xe9ration d\u2019une valeur de type texte :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0var $ref : Object\n\xa0var $pr\xe9nom : Text\n\xa0OB SET($ref;"Pr\xe9nom";"Harry")\n\xa0$pr\xe9nom:=OB Get($ref;"Pr\xe9nom")\xa0\xa0// $pr\xe9nom = "Harry" (texte)\n'})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,t.jsx)(n.p,{children:"R\xe9cup\xe9ration d\u2019une valeur num\xe9rique convertie en entier long :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0OB SET($ref ;"age";42)\n\xa0$age:=OB Get($ref ;"age")\xa0// $age est un r\xe9el (d\xe9faut)\n\xa0$age:=OB Get($ref ;"age";Is longint)\xa0// $age est un entier long\n'})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-3",children:"Exemple 3"}),"\n",(0,t.jsx)(n.p,{children:"R\xe9cup\xe9ration des valeurs d\u2019un objet :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0var $ref1;$ref2 : Object\n\xa0OB SET($ref1;"nom";"Smith")\xa0//$ref1={"nom":"Smith"}\n\xa0OB SET($ref2;"fils";$ref1)\xa0//$ref2={"fils":{"nom":"Smith"}}\n\xa0$fils:=OB Get($ref2;"fils")\xa0//$fils={"name":"john"} (objet)\n\xa0$nomfils:=OB Get($fils ;"nom")\xa0//$nomfils="john" (texte)\n'})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-4",children:"Exemple 4"}),"\n",(0,t.jsx)(n.p,{children:"Modifications de l\u2019\xe2ge d\u2019un employ\xe9 :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0var $ref_john;$ref_jim : Object\n\xa0OB SET($ref_john;"nom";"John";"age";35)\n\xa0OB SET($ref_jim;"nom";"Jim";"age";40)\n\xa0APPEND TO ARRAY($myArray;$ref_john)\xa0// on cr\xe9e un tableau objet\n\xa0APPEND TO ARRAY($myArray;$ref_jim)\n\xa0\xa0\xa0\xa0\xa0// on passe l\u2019\xe2ge de John de 35 \xe0 25\n\xa0OB SET($myArray{1};"age";25)\n\xa0\xa0\xa0\xa0\xa0// On remplace l\u2019\xe2ge de "John" dans le tableau\n\xa0For($i;1;Size of array($myArray))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(OB Get($myArray{$i};"nom")="John")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0OB SET($myArray{$i};"age";36)\xa0\xa0//au lieu de 25\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0// $ref_john={"nom":"John","age":36}\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0End for\n'})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-5",children:"Exemple 5"}),"\n",(0,t.jsx)(n.p,{children:"Lorsque vous r\xe9cup\xe9rez une date, la valeur r\xe9sultante d\xe9pend du param\xe9trage courant de la base."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Si l'option \"Utiliser le type date au lieu du format ISO dans les objets\" n'est pas coch\xe9e :"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0var $object : Object\n\xa0var $anniv : Date\n\xa0var $chainAnniv : Text\n\xa0OB SET($object;"Anniversaire";!30/01/2010!)\n\xa0$anniv:=OB Get($object;"Anniversaire";Is date)\xa0//30/01/10\n\xa0$chainAnniv:=OB Get($object;"Anniversaire")\xa0//"2010-01-29T23:00:00.000Z" (Paris)\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'Si l\'option "Utiliser le type date au lieu du format ISO dans les objets" est coch\xe9e :'}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0var $object : Object\n\xa0var $anniv : Date\n\xa0OB SET($object;"Anniversaire";!30/01/2010!)\n\xa0$anniv:=OB Get($object;"Anniversaire")\xa0//30/01/10, pas besoin de Is date\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note :"})," Pour plus d'informations sur ce param\xe9trage, reportez-vous \xe0 la ",(0,t.jsx)(n.em,{children:"Page Compatibilit\xe9"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"exemple-6",children:"Exemple 6"}),"\n",(0,t.jsx)(n.p,{children:"Utilisation d'objets imbriqu\xe9s :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0var $ref1;$child;$children : Object\n\xa0var $childName : Text\n\xa0OB SET($ref1;"firstname";"John";"lastname";"Monroe")\n\xa0\xa0\xa0\xa0\xa0//{"firstname":"john","lastname";"Monroe"}\n\xa0OB SET($children;"children";$ref1)\n\xa0$child:=OB Get($children;"children")\n\xa0\xa0\xa0\xa0\xa0//$son = {"firstname":"John","lastname":"Monroe"} (objet)\n\xa0$childName:=OB Get($child;"lastname")\n\xa0\xa0\xa0\xa0\xa0//$childName = "Monroe" (texte)\n\xa0\xa0\xa0\xa0\xa0//ou bien\n\xa0$childName:=OB Get(OB Get($children;"children");"lastname")\n\xa0\xa0\xa0\xa0\xa0// $childName = "Monroe" (texte)\n'})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-7",children:"Exemple 7"}),"\n",(0,t.jsx)(n.p,{children:"R\xe9cup\xe9ration dans 4D d'une heure stock\xe9e dans un objet :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0var $obj_o : Object\n\xa0var $set_h;$get_h : Time\n\xa0\n\xa0$set_h:=?01:00:00?+1\n\xa0OB SET($obj_o;"myHour";$set_h)\n\xa0\xa0// $obj_o = {"myHour":3601}\n\xa0\xa0// L\'heure est stock\xe9e en secondes\n\xa0$get_h:=OB Get($obj_o;"myHour";Is time)\n\xa0\xa0// $get_h = ?01:00:01?\n'})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-8",children:"Exemple 8"}),"\n",(0,t.jsx)(n.p,{children:"Exemples de manipulation de champs objet 4D :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// D\xe9finir une valeur\n\xa0OB SET([Personnes]Identity_OB;"Pr\xe9nom";$firstName)\n\xa0OB SET([Personnes]Identity_OB;"Nom";$lastName)\n\xa0\n\xa0\xa0// Lire une valeur\n\xa0$firstName:=OB Get([Personnes]Identity_OB;"Pr\xe9nom")\n\xa0$lastName:=OB Get([Personnes]Identity_OB;"Nom")\n'})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-9",children:"Exemple 9"}),"\n",(0,t.jsx)(n.p,{children:"Dans la m\xe9thode d'un formulaire contenant une zone 4D Write Pro, vous pouvez \xe9crire :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0If(FORM Event=On Validate)\n\xa0\xa0\xa0\xa0OB SET([MyDocuments]My4DWP;"myatt_Last edition by";Current user)\n\xa0\xa0\xa0\xa0OB SET([MyDocuments]My4DWP;"myatt_Category";"Memo")\n\xa0End if\n'})}),"\n",(0,t.jsx)(n.p,{children:"Vous pouvez \xe9galement lire les attributs personnalis\xe9s des documents :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0vAttrib:=OB Get([MyDocuments]My4DWP;"myatt_Last edition by")\n'})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-10",children:"Exemple 10"}),"\n",(0,t.jsx)(n.p,{children:"Vous voulez conna\xeetre la taille d'une image stock\xe9e dans un objet :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0var $vSize : Integer\n\xa0$vSize:=Picture size(OB Get($object;"photo";Is picture))\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note :"})," si vous assignez le r\xe9sultat de la commande \xe0 une variable image, la constante Est une image n'est pas n\xe9cessaire. Exemple :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0var $vPict : Picture\n\xa0$vPict:=OB Get($object;"photo")\xa0//"Est une image" est inutile dans ce cas\n'})}),"\n",(0,t.jsx)(n.h4,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/docs/fr/commands/ob-copy",children:"OB Copy"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/commands/ob-set",children:"OB SET"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.em,{children:"Types champs et variables"})]}),"\n",(0,t.jsx)(n.h4,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Num\xe9ro de commande"}),(0,t.jsx)(n.td,{children:"1224"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Thread safe"}),(0,t.jsx)(n.td,{children:"\u2713"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return d},a:function(){return i}});var s=r(667294);let t={},l=s.createContext(t);function i(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);