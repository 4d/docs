"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["69977"],{406616:function(e,n,s){s.r(n),s.d(n,{default:()=>u,frontMatter:()=>a,metadata:()=>t,assets:()=>d,toc:()=>c,contentTitle:()=>i});var t=JSON.parse('{"id":"commands-legacy/distinct-values","title":"DISTINCT VALUES","description":"DISTINCT VALUES ( leChamp ; tableau {; tabNbVal} )","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/distinct-values.md","sourceDirName":"commands-legacy","slug":"/commands/distinct-values","permalink":"/docs/fr/20-R7/commands/distinct-values","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fdistinct-values.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"distinct-values","title":"DISTINCT VALUES","slug":"/commands/distinct-values","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"DISTINCT ATTRIBUTE VALUES","permalink":"/docs/fr/20-R7/commands/distinct-attribute-values"},"next":{"title":"Find in array","permalink":"/docs/fr/20-R7/commands/find-in-array"}}'),r=s("785893"),l=s("250065");let a={id:"distinct-values",title:"DISTINCT VALUES",slug:"/commands/distinct-values",displayed_sidebar:"docs"},i=void 0,d={},c=[{value:"Description",id:"description",level:2},{value:"Exemple 1",id:"exemple-1",level:2},{value:"Exemple 2",id:"exemple-2",level:2},{value:"Exemple 3",id:"exemple-3",level:2},{value:"Voir aussi",id:"voir-aussi",level:2},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:2}];function o(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"DISTINCT VALUES"})," ( ",(0,r.jsx)(n.em,{children:"leChamp"})," ; ",(0,r.jsx)(n.em,{children:"tableau"})," {; ",(0,r.jsx)(n.em,{children:"tabNbVal"}),"} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param\xe8tre"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"leField"}),(0,r.jsx)(n.td,{children:"Field"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Champ \xe0 utiliser"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"tableau"}),(0,r.jsx)(n.td,{children:"Array"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Tableau devant recevoir les donn\xe9es du champ indexable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"tabNbVal"}),(0,r.jsx)(n.td,{children:"Integer array, Real array"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Tableau devant recevoir le nombre d'occurrences de chaque valeur"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"DISTINCT VALUES"})," cr\xe9e et remplit le tableau ",(0,r.jsx)(n.em,{children:"tableau"})," avec toutes les valeurs distinctes provenant du champ ",(0,r.jsx)(n.em,{children:"leChamp"})," pour la s\xe9lection courante de la table du champ et, optionnellement, retourne dans ",(0,r.jsx)(n.em,{children:"tabNbVal"})," le nombre d'occurrences de chaque valeur."]}),"\n",(0,r.jsxs)(n.p,{children:["Vous pouvez passer \xe0 cette commande tout type de champ ",(0,r.jsx)(n.strong,{children:"indexable"}),", c\u2019est-\xe0-dire dont le type supporte l\u2019indexation mais qui n'est pas forc\xe9ment index\xe9. Toutefois, l\u2019ex\xe9cution de la commande avec des champs non index\xe9s est plus lente qu'avec des champs index\xe9s. A noter \xe9galement que dans ce cas, la commande perd l'enregistrement courant.",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"DISTINCT VALUES"})," analyse et extrait les valeurs distinctes pour les enregistrements s\xe9lectionn\xe9s uniquement."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note :"})," Lorsque vous ex\xe9cutez ",(0,r.jsx)(n.strong,{children:"DISTINCT VALUES"})," au sein d'une transaction non encore termin\xe9e, la commande tient compte des enregistrements cr\xe9\xe9s au cours de la transaction."]}),"\n",(0,r.jsxs)(n.p,{children:["Le tableau utilis\xe9 par ",(0,r.jsx)(n.strong,{children:"DISTINCT VALUES"})," doit \xeatre du m\xeame type que le champ pass\xe9 en premier param\xe8tre, sinon le tableau est retyp\xe9. Il y a une exception \xe0 cette r\xe8gle : si le champ est de type Image (et est associ\xe9 \xe0 un index de mots-cl\xe9s), le tableau correspondant doit \xeatre de type Texte."]}),"\n",(0,r.jsxs)(n.p,{children:["Apr\xe8s l'appel, la taille du tableau est \xe9gale au nombre de valeurs distinctes trouv\xe9es dans la s\xe9lection. La commande ne modifie pas la s\xe9lection courante ni l'enregistrement courant. Les \xe9l\xe9ments dans ",(0,r.jsx)(n.em,{children:"tableau"})," sont tri\xe9s par ordre croissant car ",(0,r.jsx)(n.strong,{children:"DISTINCT VALUES"})," utilise l'index du champ. Si cet ordre vous convient, vous n'avez donc pas besoin d'appeler ",(0,r.jsx)(n.a,{href:"/docs/fr/20-R7/commands/sort-array",children:"SORT ARRAY"})," apr\xe8s l'ex\xe9cution de ",(0,r.jsx)(n.strong,{children:"DISTINCT VALUES"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note :"})," Lorsque ",(0,r.jsx)(n.strong,{children:"DISTINCT VALUES"})," est ex\xe9cut\xe9e avec un champ texte ou image associ\xe9 \xe0 un index de mots-cl\xe9s, la commande remplit le tableau avec les mots-cl\xe9s de l'index. A la diff\xe9rence des autres types de donn\xe9es, les valeurs retourn\xe9es diff\xe8rent donc en fonction de l'existence de l'index. Dans le cas d'un champ texte, l'index de mots-cl\xe9s est toujours pris en compte, m\xeame si le champ est \xe9galement associ\xe9 \xe0 un index standard. Si le champ texte ou image n\u2019est pas associ\xe9 \xe0 un index de mots-cl\xe9s, le tableau est retourn\xe9 vide."]}),"\n",(0,r.jsxs)(n.p,{children:["La commande accepte en param\xe8tre optionnel un tableau ",(0,r.jsx)(n.em,{children:"tabNbVal"}),". Lorsqu'il est pass\xe9, ce tableau retourne, pour chaque valeur distincte de ",(0,r.jsx)(n.em,{children:"leChamp"})," pr\xe9sente dans ",(0,r.jsx)(n.em,{children:"tableau"}),", le nombre d'occurrences d\xe9tect\xe9es dans la s\xe9lection courante. Le tableau ",(0,r.jsx)(n.em,{children:"tabNbVal"})," est automatiquement dimensionn\xe9 au m\xeame nombre d'\xe9l\xe9ments que ",(0,r.jsx)(n.em,{children:"tableau"}),'. Par exemple, pour une s\xe9lection qui contient trois enregistrements avec les valeurs de champs "A", "B" et "A", ',(0,r.jsx)(n.em,{children:"tableau"})," contiendra {A;B} et ",(0,r.jsx)(n.em,{children:"tabNbVal"})," contiendra {2;1}. Vous pouvez passer un tableau Entier long ou un tableau R\xe9el dans ",(0,r.jsx)(n.em,{children:"tabNbVal"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note :"})," Le param\xe8tre ",(0,r.jsx)(n.em,{children:"tabNbVal"})," n'est pas pris en charge pour les champs texte ou image associ\xe9s \xe0 des index de mots-cl\xe9s (dans ce contexte, il est retourn\xe9 vide)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ATTENTION :"})," ",(0,r.jsx)(n.strong,{children:"DISTINCT VALUES"})," peut cr\xe9er des tableaux de taille importante, en fonction de la taille de la s\xe9lection courante, ainsi que du type et de la taille des donn\xe9es \xe0 charger. Comme les tableaux r\xe9sident en m\xe9moire, il peut \xeatre utile de tester la taille des tableaux cr\xe9\xe9s apr\xe8s l'ex\xe9cution de la commande, ou d'utiliser une m\xe9thode projet d'interception d'erreurs install\xe9e par la commande ",(0,r.jsx)(n.a,{href:"/docs/fr/20-R7/commands/on-err-call",children:"ON ERR CALL"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"4D Server :"})," Cette commande est optimis\xe9e pour 4D Server. Le tableau est cr\xe9\xe9 et les valeurs sont calcul\xe9es sur le serveur. Seul le tableau est envoy\xe9 au client."]}),"\n",(0,r.jsx)(n.h3,{id:""}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note :"})," Cette commande ne prend pas en charge les champs de type Objet."]}),"\n",(0,r.jsx)(n.h2,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,r.jsx)(n.p,{children:"L'exemple suivant cr\xe9e une liste de villes \xe0 partir de la s\xe9lection courante et indique \xe0 l'utilisateur le nombre de villes dans lesquelles la soci\xe9t\xe9 dispose de magasins :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0ALL RECORDS([Revendeurs])\xa0// Cr\xe9er une s\xe9lection d\'enregistrements\n\xa0DISTINCT VALUES([Revendeurs]Ville;taVilles)\n\xa0ALERT("Cette soci\xe9t\xe9 dispose de magasins dans "+String(Taille tableau(taVilles))+" villes.")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,r.jsx)(n.p,{children:'Vous souhaitez obtenir la liste compl\xe8te des mots-cl\xe9s contenus dans l\u2019index des mots-cl\xe9s du champ "Photos" :'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"\xa0ALL RECORDS([IMAGES])\n\xa0ARRAY TEXT(<>_MesMotsCles;10)\n\xa0DISTINCT VALUES([IMAGES]Photos;<>_MesMotsCles)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"exemple-3",children:"Exemple 3"}),"\n",(0,r.jsx)(n.p,{children:"Pour calculer des statistiques, vous voulez trier le nombre de valeurs distinctes d'un champ par ordre d\xe9croissant :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"\xa0ARRAY TEXT($_issue_type;0)\n\xa0ARRAY LONGINT($_issue_type_instance;0)\n\xa0DISTINCT VALUES([Issue]iType;$_issue_type;$_issue_type_instances)\n\xa0SORT ARRAY($_issue_type_instances;$_issue_type;<)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/fr/20-R7/commands/get-text-keywords",children:"GET TEXT KEYWORDS"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"/docs/fr/20-R7/commands/on-err-call",children:"ON ERR CALL"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"/docs/fr/20-R7/commands/selection-range-to-array",children:"SELECTION RANGE TO ARRAY"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"/docs/fr/20-R7/commands/selection-to-array",children:"SELECTION TO ARRAY"})]}),"\n",(0,r.jsx)(n.h2,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Num\xe9ro de commande"}),(0,r.jsx)(n.td,{children:"339"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Thread safe"}),(0,r.jsx)(n.td,{children:"\u2713"})]})]})]})]})}function u(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return i},a:function(){return a}});var t=s(667294);let r={},l=t.createContext(r);function a(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);