"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["40974"],{342397:function(e,s,n){n.r(s),n.d(s,{metadata:()=>t,contentTitle:()=>d,default:()=>u,assets:()=>o,toc:()=>l,frontMatter:()=>i});var t=JSON.parse('{"id":"commands-legacy/change-current-user","title":"CHANGE CURRENT USER","description":"CHANGE CURRENT USER {( utilisateur ; motDePasse )}","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/change-current-user.md","sourceDirName":"commands-legacy","slug":"/commands/change-current-user","permalink":"/docs/fr/commands/change-current-user","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fchange-current-user.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"change-current-user","title":"CHANGE CURRENT USER","slug":"/commands/change-current-user","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"BLOB TO USERS","permalink":"/docs/fr/commands/blob-to-users"},"next":{"title":"CHANGE PASSWORD","permalink":"/docs/fr/commands/change-password"}}'),r=n("785893"),a=n("250065");let i={id:"change-current-user",title:"CHANGE CURRENT USER",slug:"/commands/change-current-user",displayed_sidebar:"docs"},d=void 0,o={},l=[{value:"Description",id:"description",level:4},{value:"Proposer une bo\xeete de dialogue de gestion d\u2019acc\xe8s personnalis\xe9e",id:"proposer-une-bo\xeete-de-dialogue-de-gestion-dacc\xe8s-personnalis\xe9e",level:5},{value:"Exemple",id:"exemple",level:4},{value:"Voir aussi",id:"voir-aussi",level:4}];function c(e){let s={a:"a",br:"br",code:"code",em:"em",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"CHANGE CURRENT USER"})," {( ",(0,r.jsx)(s.em,{children:"utilisateur"})," ; ",(0,r.jsx)(s.em,{children:"motDePasse"})," )}"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Param\xe8tre"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"utilisateur"}),(0,r.jsx)(s.td,{children:"Text, Integer"}),(0,r.jsx)(s.td,{children:"\u2192"}),(0,r.jsx)(s.td,{children:"Nom ou Num\xe9ro de r\xe9f\xe9rence unique de l\u2019utilisateur"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"motDePasse"}),(0,r.jsx)(s.td,{children:"Text"}),(0,r.jsx)(s.td,{children:"\u2192"}),(0,r.jsx)(s.td,{children:"Mot de passe (non crypt\xe9)"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Cette commande n'est pas thread-safe, elle ne peut pas \xeatre utilis\xe9e dans du code pr\xe9emptif."})}),"\n",(0,r.jsx)(s.h4,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"CHANGE CURRENT USER"})," permet de changer l'identit\xe9 de l'utilisateur courant dans la base, sans devoir la quitter. Le changement d'identit\xe9 peut \xeatre effectu\xe9 par l'utilisateur lui-m\xeame via la bo\xeete de dialogue de connexion \xe0 la base (lorsque la commande est appel\xe9e sans param\xe8tres) ou directement par la commande. Lorsqu'il change d'identit\xe9, l'utilisateur abandonne ses anciens privil\xe8ges au profit de ceux de l'utilisateur choisi."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Notes :"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Cette commande ne produit aucun effet dans une base projet ouverte en monoposte."}),"\n",(0,r.jsxs)(s.li,{children:["Si un alias a \xe9t\xe9 d\xe9fini pour l'utilisateur courant avec la commande ",(0,r.jsx)(s.a,{href:"/docs/fr/commands/set-user-alias",children:"SET USER ALIAS"}),", il est r\xe9initialis\xe9 en appelant la commande ",(0,r.jsx)(s.strong,{children:"CHANGE CURRENT USER"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Si la commande ",(0,r.jsx)(s.strong,{children:"CHANGE CURRENT USER"})," est ex\xe9cut\xe9e sans param\xe8tres, la bo\xeete de dialogue de connexion \xe0 la base s'affiche. L'utilisateur doit alors saisir ou s\xe9lectionner un nom et un mot de passe valides pour entrer dans la base. Le contenu de la bo\xeete de dialogue de connexion d\xe9pend des options d\xe9finies dans la page ",(0,r.jsx)(s.strong,{children:"S\xe9curit\xe9"})," des Propri\xe9t\xe9s de la base."]}),"\n",(0,r.jsxs)(s.p,{children:["Vous pouvez \xe9galement passer les deux param\xe8tres facultatifs ",(0,r.jsx)(s.em,{children:"utilisateur"})," et ",(0,r.jsx)(s.em,{children:"motDePasse"})," afin de sp\xe9cifier par programmation le nouveau compte \xe0 utiliser."]}),"\n",(0,r.jsxs)(s.p,{children:["Passez dans le param\xe8tre ",(0,r.jsx)(s.em,{children:"utilisateur"})," le nom ou le num\xe9ro de r\xe9f\xe9rence unique (",(0,r.jsx)(s.em,{children:"r\xe9fUtilisateur"}),") du compte \xe0 utiliser. Les noms et les num\xe9ros des utilisateurs peuvent \xeatre obtenus via la commande ",(0,r.jsx)(s.a,{href:"/docs/fr/commands/get-user-list",children:"GET USER LIST"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Si le compte d\u2019utilisateur d\xe9sign\xe9 n\u2019existe pas ou a \xe9t\xe9 supprim\xe9, l\u2019erreur -9979 est g\xe9n\xe9r\xe9e. Vous pouvez intercepter cette erreur avec une m\xe9thode de gestion d\u2019erreurs install\xe9e par la commande ",(0,r.jsx)(s.a,{href:"/docs/fr/commands/on-err-call",children:"ON ERR CALL"}),". Sinon, vous pouvez appeler la fonction ",(0,r.jsx)(s.a,{href:"/docs/fr/commands/is-user-deleted",children:"Is user deleted"})," pour tester le compte utilisateur avant d\u2019appeler cette commande."]}),"\n",(0,r.jsxs)(s.p,{children:["Passez dans le param\xe8tre ",(0,r.jsx)(s.em,{children:"motDePasse"})," le mot de passe non crypt\xe9 du compte de l\u2019utilisateur. Si le mot de passe ne correspond pas \xe0 l\u2019utilisateur, la commande ne fait rien et l\u2019erreur -9978 est g\xe9n\xe9r\xe9e."]}),"\n",(0,r.jsx)(s.p,{children:"La commande est \xe0 pr\xe9sent temporis\xe9e afin d\u2019\xe9viter des attaques par \u201Cforce brute\u201D (essais automatiques de multiples combinaisons de noms d\u2019utilisateurs/mots de passe). Ainsi, au bout du quatri\xe8me appel \xe0 la commande, elle n\u2019est ex\xe9cut\xe9e qu\u2019apr\xe8s 10 secondes d\u2019attente. Cette temporisation est globale au poste de travail."}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Note :"})," Lorsque le groupe de l'utilisateur actuel donne acc\xe8s \xe0 une fonctionnalit\xe9 \"s\xe9rialis\xe9e\" (par exemple, un plug-in), une licence correspondante est utilis\xe9e et restera attach\xe9e au compte utilisateur 4D jusqu'\xe0 la fin de la session, m\xeame si ",(0,r.jsx)(s.strong,{children:"CHANGE CURRENT USER"})," est appel\xe9 et que le groupe du nouvel utilisateur ne fournit pas d'acc\xe8s \xe0 la fonctionnalit\xe9."]}),"\n",(0,r.jsx)(s.h5,{id:"proposer-une-bo\xeete-de-dialogue-de-gestion-dacc\xe8s-personnalis\xe9e",children:"Proposer une bo\xeete de dialogue de gestion d\u2019acc\xe8s personnalis\xe9e"}),"\n",(0,r.jsxs)(s.p,{children:["La commande ",(0,r.jsx)(s.strong,{children:"CHANGE CURRENT USER"})," permet de mettre en place des bo\xeetes de dialogue personnalis\xe9es pour la saisie du nom et du mot de passe (avec r\xe8gles de saisie et d'expiration) tout en b\xe9n\xe9ficiant des avantages du syst\xe8me int\xe9gr\xe9 de contr\xf4le des acc\xe8s de 4D.",(0,r.jsx)(s.br,{}),"\nLe principe est le suivant :"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"1."})," L\u2019entr\xe9e dans la base s\u2019effectue directement en mode \u201CUtilisateur par d\xe9faut\u201D, sans bo\xeete de dialogue."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"2."})," Dans la , le d\xe9veloppeur provoque l\u2019affichage d\u2019une bo\xeete de dialogue personnalis\xe9e de saisie du nom d\u2019utilisateur et du mot de passe (\xe0 l\u2019aide de la commande ",(0,r.jsx)(s.a,{href:"/docs/fr/commands/dialog",children:"DIALOG"})," ou ",(0,r.jsx)(s.a,{href:"/docs/fr/commands/add-record",children:"ADD RECORD"})," par exemple). Tout type de traitement peut \xeatre envisag\xe9 dans la bo\xeete de dialogue :",(0,r.jsx)(s.br,{}),"\n- Il est possible d\u2019afficher la liste des utilisateurs de la base, comme dans la bo\xeete de dialogue d\u2019acc\xe8s standard de 4D, \xe0 l\u2019aide de la commande ",(0,r.jsx)(s.a,{href:"/docs/fr/commands/get-user-list",children:"GET USER LIST"}),".",(0,r.jsx)(s.br,{}),"\n- Le champ de saisie du mot de passe peut contenir divers contr\xf4les afin de v\xe9rifier la validit\xe9 des caract\xe8res saisis (nombre minimum de caract\xe8res, unicit\xe9...).",(0,r.jsx)(s.br,{}),"\n- Pour les caract\xe8res du mot de passe saisi soient brouill\xe9s \xe0 l'\xe9cran, vous pouvez utiliser la commande ",(0,r.jsx)(s.a,{href:"/docs/fr/commands/filter-keystroke",children:"FILTER KEYSTROKE"}),".",(0,r.jsx)(s.br,{}),"\n- Des r\xe8gles d\u2019expiration peuvent \xeatre appliqu\xe9es au moment de la validation de la bo\xeete de dialogue : date d\u2019expiration, changement forc\xe9 \xe0 la premi\xe8re connexion, verrouillage du compte apr\xe8s plusieurs saisies erron\xe9es, m\xe9morisation des mots de passe d\xe9j\xe0 utilis\xe9s..."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"3."})," Lorsque la saisie est valid\xe9e, les informations requises (nom d\u2019utilisateur et mot de passe) sont pass\xe9es \xe0 la commande ",(0,r.jsx)(s.strong,{children:"CHANGE CURRENT USER"})," afin d\u2019ouvrir la base avec les privil\xe8ges du compte utilisateur."]}),"\n",(0,r.jsx)(s.h4,{id:"exemple",children:"Exemple"}),"\n",(0,r.jsx)(s.p,{children:"L'exemple suivant affiche simplement la bo\xeete de dialogue de connexion :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-4d",children:"\xa0CHANGE CURRENT USER\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Note :"})," Ce code ne fait rien dans une base projet monoposte."]}),"\n",(0,r.jsx)(s.h4,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"/docs/fr/commands/change-password",children:"CHANGE PASSWORD"}),(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.a,{href:"/docs/fr/commands/set-user-alias",children:"SET USER ALIAS"})]})]})}function u(e={}){let{wrapper:s}={...(0,a.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},250065:function(e,s,n){n.d(s,{Z:function(){return d},a:function(){return i}});var t=n(667294);let r={},a=t.createContext(r);function i(e){let s=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);