"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["10656"],{660362:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>l,toc:()=>d,default:()=>u,metadata:()=>r,assets:()=>o,contentTitle:()=>c});var r=JSON.parse('{"id":"API/VectorClass","title":"Vector","description":"La classe Vector vous permet de manipuler des vecteurs et d\'effectuer des calculs de distance et de similarit\xe9 entre eux. Cette classe est disponible depuis le \\"class store\\" de 4D.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R10/API/VectorClass.md","sourceDirName":"API","slug":"/API/VectorClass","permalink":"/docs/fr/20-R10/API/VectorClass","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FVectorClass.md%20(20-R10)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R10","frontMatter":{"id":"VectorClass","title":"Vector"},"sidebar":"docs","previous":{"title":"UDPSocket","permalink":"/docs/fr/20-R10/API/UDPSocketClass"},"next":{"title":"WebForm","permalink":"/docs/fr/20-R10/API/WebFormClass"}}'),t=s(474848),i=s(884429);let l={id:"VectorClass",title:"Vector"},c,o={},d=[{value:"Comprendre les diff\xe9rents calculs vectoriels",id:"comprendre-les-diff\xe9rents-calculs-vectoriels",level:3},{value:"Objet vecteur",id:"objet-vecteur",level:3},{value:"4D.Vector.new()",id:"4dvectornew",level:2},{value:"Description",id:"description",level:4},{value:"Exemple",id:"exemple",level:4},{value:".cosineSimilarity()",id:"cosinesimilarity",level:2},{value:"Description",id:"description-1",level:4},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:".dotSimilarity()",id:"dotsimilarity",level:2},{value:"Description",id:"description-2",level:4},{value:"Exemple",id:"exemple-3",level:4},{value:"Exemple 2",id:"exemple-2-1",level:4},{value:".euclideanDistance()",id:"euclideandistance",level:2},{value:"Description",id:"description-3",level:4},{value:"Exemple 1",id:"exemple-1-1",level:4},{value:"Exemple 2",id:"exemple-2-2",level:4},{value:".length",id:"length",level:2},{value:"Description",id:"description-4",level:4},{value:".toCollection()",id:"tocollection",level:2}];function a(e){let n={a:"a",admonition:"admonition",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["La classe ",(0,t.jsx)(n.code,{children:"Vector"})," vous permet de manipuler des ",(0,t.jsx)(n.strong,{children:"vecteurs"}),' et d\'effectuer des calculs de distance et de similarit\xe9 entre eux. Cette classe est disponible depuis le "class store" de ',(0,t.jsx)(n.code,{children:"4D"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Dans le monde des IA, un vecteur est une s\xe9quence de nombres qui permet \xe0 une machine de comprendre et de manipuler des donn\xe9es complexes. Pour un aper\xe7u d\xe9taill\xe9 du r\xf4le des vecteurs avec les IA, vous pouvez vous r\xe9f\xe9rer \xe0 ",(0,t.jsx)(n.a,{href:"https://aiforsocialgood.ca/blog/understanding-the-role-of-vectors-in-artificial-intelligence-a-comprehensive-guide",children:"cette page"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"comprendre-les-diff\xe9rents-calculs-vectoriels",children:"Comprendre les diff\xe9rents calculs vectoriels"}),"\n",(0,t.jsxs)(n.p,{children:["La classe ",(0,t.jsx)(n.code,{children:"4D.Vector"})," propose trois types de calculs vectoriels. Le tableau suivant r\xe9sume les principales caract\xe9ristiques de chacun d'entre eux :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{}),(0,t.jsxs)(n.th,{children:["cosineSimilarity (",(0,t.jsx)(n.em,{children:"similarit\xe9 de cosinus"}),")"]}),(0,t.jsxs)(n.th,{children:["dotSimilarity (",(0,t.jsx)(n.em,{children:"produit point"}),")"]}),(0,t.jsxs)(n.th,{children:["euclideanDistance (",(0,t.jsx)(n.em,{children:"distance euclidienne"}),")"]})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"D\xe9finition"}),(0,t.jsx)(n.td,{children:"Compare l'orientation de deux textes repr\xe9sent\xe9s sous forme de vecteurs. Plus ils pointent dans la m\xeame direction, plus ils sont proches."}),(0,t.jsx)(n.td,{children:"Somme des produits entre chaque dimension du vecteur. Il s'agit d'une sorte de score de compatibilit\xe9 pond\xe9r\xe9."}),(0,t.jsx)(n.td,{children:"Distance r\xe9elle entre deux vecteurs, comme si on la mesurait \xe0 l'aide d'une r\xe8gle."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Analogie simple"}),(0,t.jsx)(n.td,{children:"Parlons-nous du m\xeame sujet ?"}),(0,t.jsx)(n.td,{children:"Parlez-vous du m\xeame sujet avec insistance ?"}),(0,t.jsx)(n.td,{children:"\xcates-vous vraiment loin de ce que je dis ?"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Exemple"}),(0,t.jsx)(n.td,{children:'Imaginez que vous cherchiez des films \xe0 regarder sur un service de vid\xe9o \xe0 la demande. La similarit\xe9 de cosinus est utilis\xe9e pour comparer vos go\xfbts (par exemple, vous aimez les films d\'action avec un peu de com\xe9die) aux descriptions de films dans la base de donn\xe9es du service. Peu importe que vous soyez un "petit" fan (vous regardez 1 film par mois) ou un "grand" fan (vous regardez 10 films par semaine), ce qui compte c\'est que les films aient des caract\xe9ristiques similaires \xe0 ce que vous aimez (action + com\xe9die). Le service de streaming utilise la similarit\xe9 cosinuso\xefdale pour recommander des films qui "vont dans la m\xeame direction" que vos pr\xe9f\xe9rences.'}),(0,t.jsxs)(n.td,{children:['Pensez \xe0 un moteur de recherche. Lorsque vous tapez "recette de g\xe2teau au chocolat", l\'algorithme compare votre requ\xeate \xe0 des pages web. La ',(0,t.jsx)(n.em,{children:"dotSimilarity"}),' peut \xeatre utilis\xe9e non seulement pour v\xe9rifier si une page parle de g\xe2teaux au chocolat (une direction similaire \xe0 votre recherche), mais aussi pour donner plus de poids aux pages qui sont tr\xe8s pertinentes (par exemple, une page avec beaucoup de contenu d\xe9taill\xe9 sur les g\xe2teaux au chocolat aura une plus grande "longueur" et donc un score plus \xe9lev\xe9). Une page ne comportant qu\'une seule phrase sur le sujet aura un score plus faible.']}),(0,t.jsx)(n.td,{children:"Imaginez une application de rencontres. L'algorithme peut utiliser la distance euclidienne pour comparer votre profil (vos centres d'int\xe9r\xeat, votre \xe2ge, votre localisation, etc.) avec ceux des autres utilisateurs. Si vos profils sont tr\xe8s similaires (par exemple, vous aimez tous les deux la randonn\xe9e et la musique pop, et vous vivez \xe0 5 km l'un de l'autre), la distance euclidienne entre vos profils sera faible, et l'application sugg\xe9rera cette personne comme un bon \"match\". Ici, toutes les diff\xe9rences (aussi petites soient-elles) comptent, et pas seulement l'orientation g\xe9n\xe9rale de vos go\xfbts."})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Dans tous les cas, il est conseill\xe9 de tester les diff\xe9rents vecteurs pour d\xe9terminer celui qui correspond le mieux \xe0 vos besoins et \xe0 vos donn\xe9es."}),"\n",(0,t.jsx)(n.h3,{id:"objet-vecteur",children:"Objet vecteur"}),"\n",(0,t.jsx)(n.p,{children:"Les objets vectoriels sont partag\xe9s, immuables et transmissibles."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.th,{})})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#cosinesimilarity",children:[(0,t.jsx)(n.strong,{children:".cosineSimilarity"}),"( ",(0,t.jsx)(n.em,{children:"vector"})," : 4D.Vector ) : Real"]}),(0,t.jsx)(n.br,{}),"calcule la similarit\xe9 en cosinus entre le vecteur 4D courant et celui que vous avez pass\xe9 dans le param\xe8tre ",(0,t.jsx)(n.em,{children:"vector"})]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#dotsimilarity",children:[(0,t.jsx)(n.strong,{children:".dotSimilarity"}),"( ",(0,t.jsx)(n.em,{children:"vector"})," : 4D.Vector ) : Real"]}),(0,t.jsx)(n.br,{}),"calcule le produit point du vecteur 4D courant et de celui que vous avez pass\xe9 dans le param\xe8tre ",(0,t.jsx)(n.em,{children:"vector"})]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#euclideandistance",children:[(0,t.jsx)(n.strong,{children:".euclideanDistance"}),"( ",(0,t.jsx)(n.em,{children:"vector"})," : 4D.Vector ) : Real"]}),(0,t.jsx)(n.br,{}),"calcule la distance euclidienne entre le vecteur 4D courant et celui que vous avez pass\xe9 dans le param\xe8tre ",(0,t.jsx)(n.em,{children:"vector"})]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#length",children:[(0,t.jsx)(n.strong,{children:"length"})," : Integer"]}),(0,t.jsx)(n.br,{}),"le nombre de composantes du vecteur"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#tocollection",children:[(0,t.jsx)(n.strong,{children:".toCollection"}),"() : Collection"]}),(0,t.jsx)(n.br,{}),"renvoie les composantes du vecteur sous la forme d'une collection de nombres r\xe9els"]})})]})]}),"\n",(0,t.jsx)(n.h2,{id:"4dvectornew",children:"4D.Vector.new()"}),"\n",(0,t.jsxs)(n.details,{children:[(0,t.jsx)(n.summary,{children:"Historique"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Release"}),(0,t.jsx)(n.th,{children:"Modifications"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"20 R10"}),(0,t.jsx)(n.td,{children:"Ajout"})]})})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"4D.Vector.new"})," ( ",(0,t.jsx)(n.em,{children:"parameter"})," : Collection ) : 4D.Vector"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"param\xe8tres"}),(0,t.jsx)(n.td,{children:"Collection de r\xe9els"}),(0,t.jsx)(n.td,{children:"->"}),(0,t.jsx)(n.td,{children:"Collection de nombres r\xe9els repr\xe9sentant un vecteur"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"4D.Vector"}),(0,t.jsx)(n.td,{children:"<-"}),(0,t.jsx)(n.td,{children:"Nouvel objet vectoriel"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:"4D.Vector.new()"})," cr\xe9e et renvoie un nouvel objet de type ",(0,t.jsx)(n.code,{children:"4D.Vector"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Dans ",(0,t.jsx)(n.em,{children:"parameter"}),", passez une collection de nombres r\xe9els repr\xe9sentant le vecteur \xe0 cr\xe9er. Ces valeurs sont fournies par les intelligences artificielles et repr\xe9sentent math\xe9matiquement des objets tels que des mots ou des donn\xe9es."]}),"\n",(0,t.jsx)(n.h4,{id:"exemple",children:"Exemple"}),"\n",(0,t.jsx)(n.p,{children:"Pour cr\xe9er un vecteur :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"var $vector := 4D.Vector.new([0.123; -0.456; 0.789]) \n"})}),"\n",(0,t.jsx)(n.p,{children:"Vous pouvez acc\xe9der aux composants individuels ou convertir l'ensemble du vecteur en collection :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"var $firstComponent := $vector[0]\nvar $collection := $vector.toCollection()\n"})}),"\n",(0,t.jsx)(n.h2,{id:"cosinesimilarity",children:".cosineSimilarity()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:".cosineSimilarity"}),"( ",(0,t.jsx)(n.em,{children:"vector"})," : 4D.Vector ) : Real"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"vector"}),(0,t.jsx)(n.td,{children:"4D.Vector"}),(0,t.jsx)(n.td,{children:"->"}),(0,t.jsx)(n.td,{children:"Vecteur \xe0 comparer"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"Real"}),(0,t.jsx)(n.td,{children:"<-"}),(0,t.jsx)(n.td,{children:"Distance entre les vecteurs"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"description-1",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:".cosineSimilarity()"})," calcule la similarit\xe9 en cosinus entre le vecteur 4D courant et celui que vous avez pass\xe9 dans le param\xe8tre ",(0,t.jsx)(n.em,{children:"vector"}),". Les deux vecteurs doivent avoir la m\xeame taille."]}),"\n",(0,t.jsxs)(n.p,{children:["Cette m\xe9trique mesure l'",(0,t.jsx)(n.strong,{children:"angle entre les vecteurs"})," et est couramment utilis\xe9e pour d\xe9terminer la similarit\xe9 s\xe9mantique entre les textes. Elle est recommand\xe9e pour les repr\xe9sentations vectorielles (",(0,t.jsx)(n.em,{children:"embeddings"}),") de texte, les documents, les phrases et toutes les donn\xe9es pour lesquelles la ",(0,t.jsx)(n.strong,{children:"direction"})," est plus importante que la ",(0,t.jsx)(n.strong,{children:"magnitude"})," (par exemple, pour la recherche s\xe9mantique ou la classification de texte)."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Valeur retourn\xe9e"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Plage : -1 (oppos\xe9) \xe0 1 (identique)."}),"\n",(0,t.jsx)(n.li,{children:"Plus la valeur retourn\xe9e est \xe9lev\xe9e, plus les vecteurs sont similaires."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"var $vector := 4D.Vector.new([0.123; -0.456; 0.789]) \nvar $anotherVector := 4D.Vector.new([0.598; -0.951; 0.789])\nvar $similarity := $vector.cosineSimilarity($anotherVector)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Cet exemple utilise l'extension ",(0,t.jsx)(n.a,{href:"/docs/fr/20-R10/aikit/overview",children:"4D AIKit"})," pour g\xe9n\xe9rer des repr\xe9sentations vectorielles."]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\nvar $model:="text-embedding-ada-002"\nvar $people:=ds.People.get(1)\n\n$prompt:=String($people.Firstname)+" "+String($people.Lastname)+" was born on "+\\\nString($people.Birthday)+" and lives in "+String($people.Address)+", "+\\\nString($people.ZipCode)+", "+String($people.City)+", "+String($people.Country)+\\\n". Contact: "+String($people.email)+", "+String($people.Cell)+", "+\\\nString($people.Phone)+". Family IDs - Father: "+String($people.FatherID)+\\\n", Mother : "+String($people.MotherID)+", Partner: "+String($people.PartnerID)+"."\n\nvar $clientAI:=cs.AIKit.OpenAI.new(getAIKey())\n\n// Calcul vectoriel avec 4D AIKit\nvar $result:=$clientAI.embeddings.create($prompt; $model)\n\n// Cr\xe9ation d\'un objet 4D.vector\nvar $vector:=$result.vector\n\nvar $question:="I\'m looking for John who lives in USA"\n\n// Calcul vectoriel avec le composant 4D AIKit\nvar $questionVector:=$clientAI.embeddings.create($question; $model).vector\n\n// calcul de similarit\xe9\nIf ($vector.cosineSimilarity($questionVector)>0.9)\n  ALERT("Interesting result")\nEnd if\n\n// r\xe9sultat r\xe9el : 0,7360136465949\n\n\n'})}),"\n",(0,t.jsx)(n.h2,{id:"dotsimilarity",children:".dotSimilarity()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:".dotSimilarity"}),"( ",(0,t.jsx)(n.em,{children:"vector"})," : 4D.Vector ) : Real"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"vector"}),(0,t.jsx)(n.td,{children:"4D.Vector"}),(0,t.jsx)(n.td,{children:"->"}),(0,t.jsx)(n.td,{children:"Vecteur \xe0 comparer"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"Real"}),(0,t.jsx)(n.td,{children:"<-"}),(0,t.jsx)(n.td,{children:"Distance entre les vecteurs"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"description-2",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:".dotSimilarity()"})," calcule le produit point du vecteur 4D courant et de celui que vous avez pass\xe9 dans le param\xe8tre ",(0,t.jsx)(n.em,{children:"vector"}),". Les deux vecteurs doivent avoir la m\xeame taille."]}),"\n",(0,t.jsxs)(n.p,{children:["Cette m\xe9trique refl\xe8te \xe0 la fois la ",(0,t.jsx)(n.strong,{children:"similarit\xe9"})," et la ",(0,t.jsx)(n.strong,{children:"magnitude"}),", et est g\xe9n\xe9ralement utilis\xe9e dans les mod\xe8les o\xf9 les normes vectorielles (magnitudes) varient. Elle est recommand\xe9e pour les sc\xe9narios dans lesquels les repr\xe9sentations vectorielles ont \xe9t\xe9 affin\xe9es en tenant compte de la magnitude (par exemple, moteurs de recommandation, \xe9valuation de la pertinence)."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Valeur retourn\xe9e"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"D\xe9pend de la magnitude et de la direction des vecteurs"}),"\n",(0,t.jsx)(n.li,{children:"Plus la valeur retourn\xe9e est \xe9lev\xe9e, plus les vecteurs sont similaires."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"exemple-3",children:"Exemple"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"var $vector := 4D.Vector.new([0.123; -0.456; 0.789]) \nvar $anotherVector := 4D.Vector.new([0.598; -0.951; 0.789])\nvar $score := $vector.dotSimilarity($anotherVector)\n\n"})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-2-1",children:"Exemple 2"}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Cet exemple utilise l'extension ",(0,t.jsx)(n.a,{href:"/docs/fr/20-R10/aikit/overview",children:"4D AIKit"})," pour g\xe9n\xe9rer des repr\xe9sentations vectorielles."]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'var $model:="text-embedding-ada-002"\nvar $clientAI:=cs.AIKit.OpenAI.new(getAIKey())\n\n$documents:=[{text : "How to bake a chocolate cake" ; similarit\xe9 : 0} ; \\\n{text : "Best hiking trails in the Alps" ; similarit\xe9 : 0} ; \\N-\n{texte : "Tips for learning 4D programming" ; similarit\xe9 : 0} ; \\N-\n{texte : "Top 10 sci-fi movies of all time" ; similarit\xe9 : 0}]\n\n$question:= "4D coding tutorials"\n\n// Calcul vectoriel avec le composant 4D AIKit\n$questionVector:=$clientAI.embeddings.create($question; $model).vector\n\nFor each ($document; $documents)\n        // Calcul vectoriel avec le composant 4D AIKit\n    $vector:=$clientAI.embeddings.create($document.text ; $model).vector\n        // similarit\xe9\n    $document.similarity:=$vector.dotSimilarity($questionVector)\nEnd for each\n\n$documents:=$documents.orderBy("similarity desc")\nALERT("Meilleure r\xe9ponse : "+$documents[0].text)\n\n//$documents:\n//{text:Tips for learning 4D programming,similarity:0.90409492325102}\n//{text:Top 10 sci-fi movies of all time,similarity:0.75362527646035}\n//{text:How to bake a chocolate cake,similarity:0.73664833336323}\n//{text:Best hiking trails in the Alps,similarity:0.73138600461065}\n \n'})}),"\n",(0,t.jsx)(n.h2,{id:"euclideandistance",children:".euclideanDistance()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:".euclideanDistance"}),"( ",(0,t.jsx)(n.em,{children:"vector"})," : 4D.Vector ) : Real"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"vector"}),(0,t.jsx)(n.td,{children:"4D.Vector"}),(0,t.jsx)(n.td,{children:"->"}),(0,t.jsx)(n.td,{children:"Vecteur \xe0 comparer"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"Real"}),(0,t.jsx)(n.td,{children:"<-"}),(0,t.jsx)(n.td,{children:"Distance entre les vecteurs"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"description-3",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:".euclideanDistance()"})," calcule la distance euclidienne entre le vecteur 4D courant et celui que vous avez pass\xe9 dans le param\xe8tre ",(0,t.jsx)(n.em,{children:"vector"}),". Les deux vecteurs doivent avoir la m\xeame taille."]}),"\n",(0,t.jsx)(n.p,{children:"Elle mesure la distance en ligne droite dans l'espace vectoriel. Elle est recommand\xe9e pour les repr\xe9sentations vectorielles de donn\xe9es num\xe9riques ou structur\xe9es, ou lors de l'utilisation de mod\xe8les o\xf9 la proximit\xe9 dans l'espace brut est directement corr\xe9l\xe9e \xe0 la similarit\xe9."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Valeur retourn\xe9e"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"valeur retourn\xe9e >= 0"}),"\n",(0,t.jsx)(n.li,{children:"Plus la valeur retourn\xe9e est faible, plus les vecteurs sont similaires."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"exemple-1-1",children:"Exemple 1"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"var $vector := 4D.Vector.new([0.123; -0.456; 0.789]) \nvar $anotherVector := 4D.Vector.new([0.598; -0.951; 0.789])\nvar $distance := $vector.euclideanDistance($anotherVector)\n\n"})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-2-2",children:"Exemple 2"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'$places:=[\\\n{name: "Eiffel Tower"; coord: [48.8584; 200.2945]; similarity: 0}; \\\n{name: "Louvre Museum"; coord: [48.8606; 200.3376]; similarity: 0}; \\\n{name: "Notre-Dame"; coord: [48.8529; 200.35]; similarity: 0}; \\\n{name: "Montmartre"; coord: [48.8867; 200.3431]; similarity: 0}\\\n]\n\n$userLocation:=[8.8566; 20.3522]\nvar $vector:=4D.Vector.new($userLocation)\n\nFor each ($place; $places)\n  $place.similarity:=$vector.euclideanDistance(4D.Vector.new($place.coord))\nEnd for each\n\n$places:=$places.orderBy("similarity asc")\nALERT("Nearest monument: "+$places[0].name)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"length",children:".length"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"length"})," : Integer"]}),"\n",(0,t.jsx)(n.h4,{id:"description-4",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".length"})," contient le nombre de composantes du vecteur."]}),"\n",(0,t.jsx)(n.h2,{id:"tocollection",children:".toCollection()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:".toCollection"}),"() : Collection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"Collection"}),(0,t.jsx)(n.td,{children:"<-"}),(0,t.jsx)(n.td,{children:"Collection de nombres r\xe9els repr\xe9sentant un vecteur"})]})})]}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:".toCollection()"})," renvoie les composantes du vecteur sous la forme d'une collection de nombres r\xe9els."]})]})}function u(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},884429:function(e,n,s){s.d(n,{R:()=>l,x:()=>c});var r=s(296540);let t={},i=r.createContext(t);function l(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);