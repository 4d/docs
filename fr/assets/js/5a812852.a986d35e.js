"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[76609],{603905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>k});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=p(a),k=r,c=u["".concat(s,".").concat(k)]||u[k]||m[k]||l;return a?n.createElement(c,i(i({ref:t},d),{},{components:a})):n.createElement(c,i({ref:t},d))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},556736:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});a(667294);var n=a(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const i={id:"EmailObjectClass",title:"Email"},o=void 0,s={unversionedId:"API/EmailObjectClass",id:"version-20-R5/API/EmailObjectClass",title:"Email",description:"La cr\xe9ation, l'envoi et la r\xe9ception d'emails dans 4D s'effectuent par l'interm\xe9diaire des objets Email.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R5/API/EmailObjectClass.md",sourceDirName:"API",slug:"/API/EmailObjectClass",permalink:"/docs/fr/API/EmailObjectClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEmailObjectClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"EmailObjectClass",title:"Email"},sidebar:"docs",previous:{title:"DataStore",permalink:"/docs/fr/API/DataStoreClass"},next:{title:"Entity",permalink:"/docs/fr/API/EntityClass"}},p={},d=[{value:"Objet Email",id:"objet-email",level:3},{value:"Adresses Email",id:"adresses-email",level:3},{value:"Text",id:"text",level:4},{value:"Object",id:"object",level:4},{value:"Collection",id:"collection",level:4},{value:"Traitement du body",id:"traitement-du-body",level:3},{value:"Exemple d&#39;objets bodyStructure et bodyValues",id:"exemple-dobjets-bodystructure-et-bodyvalues",level:4},{value:".attachments",id:"attachments",level:2},{value:"Description",id:"description",level:4},{value:".bcc",id:"bcc",level:2},{value:"Description",id:"description-1",level:4},{value:".bodyStructure",id:"bodystructure",level:2},{value:"Description",id:"description-2",level:4},{value:".bodyValues",id:"bodyvalues",level:2},{value:"Description",id:"description-3",level:4},{value:".cc",id:"cc",level:2},{value:"Description",id:"description-4",level:4},{value:".comments",id:"comments",level:2},{value:"Description",id:"description-5",level:4},{value:".from",id:"from",level:2},{value:"Description",id:"description-6",level:4},{value:".headers",id:"headers",level:2},{value:"Description",id:"description-7",level:4},{value:".htmlBody",id:"htmlbody",level:2},{value:"Description",id:"description-8",level:4},{value:".id",id:"id",level:2},{value:"Description",id:"description-9",level:4},{value:".inReplyTo",id:"inreplyto",level:2},{value:"Description",id:"description-10",level:4},{value:".keywords",id:"keywords",level:2},{value:"Description",id:"description-11",level:4},{value:"Exemple",id:"exemple",level:4},{value:".messageId",id:"messageid",level:2},{value:"Description",id:"description-12",level:4},{value:".receivedAt",id:"receivedat",level:2},{value:"Description",id:"description-13",level:4},{value:".references",id:"references",level:2},{value:"Description",id:"description-14",level:4},{value:".replyTo",id:"replyto",level:2},{value:"Description",id:"description-15",level:4},{value:".sendAt",id:"sendat",level:2},{value:"Description",id:"description-16",level:4},{value:".sender",id:"sender",level:2},{value:"Description",id:"description-17",level:4},{value:".size",id:"size",level:2},{value:"Description",id:"description-18",level:4},{value:".subject",id:"subject",level:2},{value:"Description",id:"description-19",level:4},{value:".textBody",id:"textbody",level:2},{value:"Description",id:"description-20",level:4},{value:".to",id:"to",level:2},{value:"Description",id:"description-21",level:4},{value:"MAIL Convert from MIME",id:"mail-convert-from-mime",level:2},{value:"Description",id:"description-22",level:4},{value:"Objet retourn\xe9",id:"objet-retourn\xe9",level:4},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"MAIL Convert to MIME",id:"mail-convert-to-mime",level:2},{value:"Description",id:"description-23",level:4},{value:"Exemple",id:"exemple-3",level:4}],m={toc:d};function u(e){var{components:t}=e,a=l(e,["components"]);return(0,n.kt)("wrapper",r({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"La cr\xe9ation, l'envoi et la r\xe9ception d'emails dans 4D s'effectuent par l'interm\xe9diaire des objets ",(0,n.kt)("inlineCode",{parentName:"p"},"Email"),"."),(0,n.kt)("p",null,"Des objets ",(0,n.kt)("inlineCode",{parentName:"p"},"Email")," sont cr\xe9\xe9s lorsque vous recevez des emails via une fonction de classe ",(0,n.kt)("em",{parentName:"p"},"transporter")," :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"IMAP - fonctions ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/fr/API/IMAPTransporterClass#getmail"}),(0,n.kt)("inlineCode",{parentName:"a"},".getMail()"))," and ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/fr/API/IMAPTransporterClass#getmails"}),(0,n.kt)("inlineCode",{parentName:"a"},".getMails()"))," pour obtenir des emails \xe0 partir d'un serveur IMAP"),(0,n.kt)("li",{parentName:"ul"},"POP3 - fonction ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/fr/API/POP3TransporterClass#getmail"}),(0,n.kt)("inlineCode",{parentName:"a"},".getMail()"))," pour obtenir un email \xe0 partir d'un serveur POP3.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Vous pouvez \xe9galement cr\xe9er un nouvel objet vide ",(0,n.kt)("inlineCode",{parentName:"p"},"Email")," et le remplir avec les propri\xe9t\xe9s de l'objet ",(0,n.kt)("a",r({parentName:"p"},{href:"#email-object"}),"Email"),".")),(0,n.kt)("p",null,"Vous envoyez des objets ",(0,n.kt)("inlineCode",{parentName:"p"},"Email")," \xe0 l'aide de la fonction SMTP ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/SMTPTransporterClass#send"}),(0,n.kt)("inlineCode",{parentName:"a"},"send()")),"."),(0,n.kt)("p",null,"Les commandes ",(0,n.kt)("a",r({parentName:"p"},{href:"#mail-convert-from-mime"}),(0,n.kt)("inlineCode",{parentName:"a"},"MAIL Convert from MIME"))," et ",(0,n.kt)("a",r({parentName:"p"},{href:"#mail-convert-to-mime"}),(0,n.kt)("inlineCode",{parentName:"a"},"MAIL Convert to MIME"))," peuvent \xeatre utilis\xe9es pour convertir des objets ",(0,n.kt)("inlineCode",{parentName:"p"},"Email")," depuis et vers des contenus MIME."),(0,n.kt)("h3",r({},{id:"objet-email"}),"Objet Email"),(0,n.kt)("p",null,"Les objets Email exposent les propri\xe9t\xe9s suivantes :"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Le format des objets Email de 4D suit la ",(0,n.kt)("a",r({parentName:"p"},{href:"https://jmap.io/spec-mail.html"}),"sp\xe9cification JMAP"),".")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#attachments"}),(0,n.kt)("strong",{parentName:"a"},".attachments")," : Collection"),(0,n.kt)("br",null),"collection d'objet(s) ",(0,n.kt)("inlineCode",{parentName:"td"},"4D.MailAttachment"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#bcc"}),(0,n.kt)("strong",{parentName:"a"},".bcc")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".bcc")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".bcc")," : Collection"),(0,n.kt)("br",null),"les ",(0,n.kt)("a",r({parentName:"td"},{href:"#email-addresses"}),"adresses")," des destinataires cach\xe9s en Copie Carbone Invisible de l'email")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#bodystructure"}),(0,n.kt)("strong",{parentName:"a"},".bodyStructure")," : Object"),(0,n.kt)("br",null),"objet ",(0,n.kt)("em",{parentName:"td"},"EmailBodyPart"),", c'est-\xe0-dire la structure MIME compl\xe8te du body du message (facultatif)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#bodyvalues"}),(0,n.kt)("strong",{parentName:"a"},".bodyValues")," : Object"),(0,n.kt)("br",null),"objet ",(0,n.kt)("em",{parentName:"td"},"EmailBodyValue"),", contenant un objet pour chaque ","\\","<partID",">"," de ",(0,n.kt)("inlineCode",{parentName:"td"},"bodyStructure")," (facultatif)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#cc"}),(0,n.kt)("strong",{parentName:"a"},".cc")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".cc")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".cc")," : Collection"),(0,n.kt)("br",null),"les adresse(s) email suppl\xe9mentaire(s) des destinataires en Copie Carbone (CC) de l'email")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#comments"}),(0,n.kt)("strong",{parentName:"a"},".comments")," : Text"),(0,n.kt)("br",null),"header de commentaires suppl\xe9mentaires")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#from"}),(0,n.kt)("strong",{parentName:"a"},".from")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".from")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".from")," : Collection"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"td"},{href:"#email-addresses"}),"l'adresse ou les adresse(s) d'origine")," de l'email")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#headers"}),(0,n.kt)("strong",{parentName:"a"},".headers")," : Collection"),(0,n.kt)("br",null),"d'objets ",(0,n.kt)("inlineCode",{parentName:"td"},"EmailHeader"),", dans l'ordre o\xf9 ils apparaissent dans le message")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#htmlbody"}),(0,n.kt)("strong",{parentName:"a"},".htmlBody")," : Text"),(0,n.kt)("br",null),"repr\xe9sentation HTML du message \xe9lectronique (jeu de caract\xe8res par d\xe9faut : UTF-8) (optionnel, SMTP uniquement)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#id"}),(0,n.kt)("strong",{parentName:"a"},".id")," : Text"),(0,n.kt)("br",null),"ID unique du serveur IMAP")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#inreplyto"}),(0,n.kt)("strong",{parentName:"a"},".inReplyTo")," : Text"),(0,n.kt)("br",null),"identifiant(s) du ou des messages originaux auquel/auxquels le message courant est une r\xe9ponse")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#keywords"}),(0,n.kt)("strong",{parentName:"a"},".keywords")," : Object"),(0,n.kt)("br",null),"ensemble de mots-cl\xe9s sous forme d'objet, o\xf9 chaque nom de propri\xe9t\xe9 est un mot-cl\xe9 et chaque valeur est mise \xe0 true")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#messageid"}),(0,n.kt)("strong",{parentName:"a"},".messageId")," : Text"),(0,n.kt)("br",null),'header d\'identification du message ("message-id")')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#receivedat"}),(0,n.kt)("strong",{parentName:"a"},".receivedAt")," : Text"),(0,n.kt)("br",null),"de l'arriv\xe9e de l'email sur le serveur IMAP au format ISO 8601 UTC (ex : 2020-09-13T16:11:53Z)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#references"}),(0,n.kt)("strong",{parentName:"a"},".references")," : Collection"),(0,n.kt)("br",null),"collection de tous les num\xe9ros d'identification des messages de la cha\xeene de r\xe9ponse pr\xe9c\xe9dente")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#replyto"}),(0,n.kt)("strong",{parentName:"a"},".replyTo")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".replyTo")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".replyTo")," : Collection"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"td"},{href:"#email-addresses"}),"addresse(s)")," pour les r\xe9ponses")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#sendat"}),(0,n.kt)("strong",{parentName:"a"},".sendAt")," : Text"),(0,n.kt)("br",null),"horodatage de l'email au format ISO 8601 UTC")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#sender"}),(0,n.kt)("strong",{parentName:"a"},".sender")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".sender")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".sender")," : Collection"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"td"},{href:"#email-addresses"}),"l'adresse ou les adresses")," source de l'email")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#size"}),(0,n.kt)("strong",{parentName:"a"},".size")," : Integer"),(0,n.kt)("br",null),"taille (exprim\xe9e en octets) de l'objet Email renvoy\xe9 par le serveur IMAP")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#subject"}),(0,n.kt)("strong",{parentName:"a"},".subject")," : Text"),(0,n.kt)("br",null),"description du sujet")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#textbody"}),(0,n.kt)("strong",{parentName:"a"},".textBody")," : Text"),(0,n.kt)("br",null),"repr\xe9sentation en texte brut du message \xe9lectronique (jeu de caract\xe8res par d\xe9faut : UTF-8) (optionnel, SMTP uniquement)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#to"}),(0,n.kt)("strong",{parentName:"a"},".to")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".to")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".to")," : Collection"),(0,n.kt)("br",null),"la ou les ",(0,n.kt)("a",r({parentName:"td"},{href:"#email-addresses"}),"adresse(s)")," des destinataires principaux de l'email")))),(0,n.kt)("h3",r({},{id:"adresses-email"}),"Adresses Email"),(0,n.kt)("p",null,"Toutes les propri\xe9t\xe9s qui contiennent des adresses email (",(0,n.kt)("a",r({parentName:"p"},{href:"#from"}),(0,n.kt)("inlineCode",{parentName:"a"},"from")),", ",(0,n.kt)("a",r({parentName:"p"},{href:"#cc"}),(0,n.kt)("inlineCode",{parentName:"a"},"cc")),", ",(0,n.kt)("a",r({parentName:"p"},{href:"#bcc"}),(0,n.kt)("inlineCode",{parentName:"a"},"bcc")),", ",(0,n.kt)("a",r({parentName:"p"},{href:"#to"}),(0,n.kt)("inlineCode",{parentName:"a"},"to")),", ",(0,n.kt)("a",r({parentName:"p"},{href:"#sender"}),(0,n.kt)("inlineCode",{parentName:"a"},"sender")),", ",(0,n.kt)("a",r({parentName:"p"},{href:"#replyto"}),(0,n.kt)("inlineCode",{parentName:"a"},"replyTo")),") acceptent des valeurs de type texte, objet ou collection."),(0,n.kt)("h4",r({},{id:"text"}),"Text"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'une adresse uniquement : "',(0,n.kt)("a",r({parentName:"li"},{href:"mailto:somebody@domain.com"}),"somebody@domain.com"),'"'),(0,n.kt)("li",{parentName:"ul"},"un seul nom d'affichage+courriel : \"",(0,n.kt)("a",r({parentName:"li"},{href:"mailto:Somebodysomebody@domain.com"}),"Somebodysomebody@domain.com"),'"'),(0,n.kt)("li",{parentName:"ul"},'plusieurs courriels : "Somebody ',(0,n.kt)("a",r({parentName:"li"},{href:"mailto:somebody@domain.com"}),"somebody@domain.com"),",",(0,n.kt)("a",r({parentName:"li"},{href:"mailto:me@home.org"}),"me@home.org"),'"')),(0,n.kt)("h4",r({},{id:"object"}),"Object"),(0,n.kt)("p",null,"Un objet avec deux propri\xe9t\xe9s :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom \xe0 afficher (peut \xeatre null)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"email"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adresse email")))),(0,n.kt)("h4",r({},{id:"collection"}),"Collection"),(0,n.kt)("p",null,"Une collection d'objets adresse."),(0,n.kt)("h3",r({},{id:"traitement-du-body"}),"Traitement du body"),(0,n.kt)("p",null,"Les propri\xe9t\xe9s ",(0,n.kt)("a",r({parentName:"p"},{href:"#textbody"}),(0,n.kt)("inlineCode",{parentName:"a"},"textBody"))," et ",(0,n.kt)("a",r({parentName:"p"},{href:"#htmlbody"}),(0,n.kt)("inlineCode",{parentName:"a"},"htmlBody"))," sont utilis\xe9es uniquement par la fonction ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/SMTPTransporterClass#send"}),"SMTP.send()")," pour permettre d'envoyer des emails simples. Lorsque les deux propri\xe9t\xe9s sont remplies, le type MIME content-type multipart/alternative est utilis\xe9. Le client email doit alors reconna\xeetre la partie multipart/alternative et afficher la partie texte ou html n\xe9cessaire."),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#bodystructure"}),(0,n.kt)("inlineCode",{parentName:"a"},"bodyStructure"))," et ",(0,n.kt)("a",r({parentName:"p"},{href:"#bodyvalues"}),(0,n.kt)("inlineCode",{parentName:"a"},"bodyValues"))," sont utilis\xe9es pour ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/SMTPTransporterClass"}),"SMTP")," lorsque l'objet ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/EmailObjectClass"}),"Email")," est construit \xe0 partir d'un document MIME, par exemple lorsqu'il est g\xe9n\xe9r\xe9 par la commande ",(0,n.kt)("inlineCode",{parentName:"p"},"MAIL Convert from MIME"),". Dans ce cas, les deux propri\xe9t\xe9s ",(0,n.kt)("inlineCode",{parentName:"p"},"bodyStructure")," et ",(0,n.kt)("inlineCode",{parentName:"p"},"bodyValues")," doivent \xeatre pass\xe9es ensemble, et il est d\xe9conseill\xe9 d'utiliser ",(0,n.kt)("inlineCode",{parentName:"p"},"textBody")," et ",(0,n.kt)("inlineCode",{parentName:"p"},"htmlBody"),"."),(0,n.kt)("h4",r({},{id:"exemple-dobjets-bodystructure-et-bodyvalues"}),"Exemple d'objets bodyStructure et bodyValues"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-json"}),'"bodyStructure": {\n  "type": "multipart/mixed",\n  "subParts": [\n    {\n      "partId": "p0001",\n      "type": "text/plain"\n    },\n    {\n      "partId": "p0002",\n      "type": "text/html"\n    }\n  ]\n},\n"bodyValues": {\n  "p0001": {\n    "value": "I have the most brilliant plan. Let me tell you all about it."\n  },\n  "p0002": {\n    "value": "<!DOCTYPE html><html><head><title></title><style type=\\"text/css\\">div{font-size:16px}</style></head><body><div>I have the most brilliant plan. Let me tell you all about it.</div></body></html>"\n  }\n}\n')),(0,n.kt)("h2",r({},{id:"attachments"}),".attachments"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".attachments")," : Collection"),(0,n.kt)("h4",r({},{id:"description"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".attachments")," contient une collection d'objet(s) ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.MailAttachment"),"."),(0,n.kt)("p",null,"Les objets de type pi\xe8ce jointe sont d\xe9finis par la commande ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/MailAttachmentClass#mail-new-attachment"}),(0,n.kt)("inlineCode",{parentName:"a"},"MAIL New attachment")),". Les objets Attachment ont des ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/MailAttachmentClass"}),"propri\xe9t\xe9s et fonctions")," sp\xe9cifiques."),(0,n.kt)("h2",r({},{id:"bcc"}),".bcc"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".bcc")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".bcc")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".bcc")," : Collection"),(0,n.kt)("h4",r({},{id:"description-1"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".bcc")," contient les ",(0,n.kt)("a",r({parentName:"p"},{href:"#email-addresses"}),"adresses")," des destinataires cach\xe9s en Copie Carbone Invisible de l'email."),(0,n.kt)("h2",r({},{id:"bodystructure"}),".bodyStructure"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".bodyStructure")," : Object"),(0,n.kt)("h4",r({},{id:"description-2"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".bodyStructure")," contient l'objet ",(0,n.kt)("em",{parentName:"p"},"EmailBodyPart"),", c'est-\xe0-dire la structure MIME compl\xe8te du body du message (facultatif). Voir section ",(0,n.kt)("a",r({parentName:"p"},{href:"#traitement-du-body"}),"Traitement du body"),"."),(0,n.kt)("p",null,"L'objet ",(0,n.kt)("inlineCode",{parentName:"p"},".bodyStructure")," contient les propri\xe9t\xe9 suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Valeur"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"partID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Identifie la partie de mani\xe8re unique dans l'email")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"(obligatoire) Valeur du champ d'en-t\xeate Content-Type de la partie")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"charset"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Valeur du param\xe8tre charset du champ d'en-t\xeate Content-Type")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"encoding"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Si ",(0,n.kt)("inlineCode",{parentName:"td"},"isEncodingProblem=true"),", la valeur de Content-Transfer-Encoding est ajout\xe9e (par d\xe9faut ind\xe9fini)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"disposition"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Valeur du champ d'en-t\xeate Content-Disposition de la partie")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"language"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection de textes"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Liste de balises de langage, telles que d\xe9finies dans la ",(0,n.kt)("a",r({parentName:"td"},{href:"https://tools.ietf.org/html/rfc3282"}),"RFC3282"),", dans le champ d'en-t\xeate Content-Language de la partie, le cas \xe9ch\xe9ant.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"location"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"URI, tel que d\xe9fini dans la ",(0,n.kt)("a",r({parentName:"td"},{href:"https://tools.ietf.org/html/rfc2557"}),"RFC2557"),", dans le champ d'en-t\xeate Content-Location de la partie, le cas \xe9ch\xe9ant.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"subParts"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection d'objets"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Parties du corps de chaque enfant (collection d'objets ",(0,n.kt)("em",{parentName:"td"},"EmailBodyPart"),")")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"headers"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection d'objets"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Liste de tous les champs d'en-t\xeate de la partie, dans leur ordre d'apparition de l'email (collection d'objets ",(0,n.kt)("em",{parentName:"td"},"EmailHeader")," voir propri\xe9t\xe9 ",(0,n.kt)("a",r({parentName:"td"},{href:"#headers-"}),"headers"),")")))),(0,n.kt)("h2",r({},{id:"bodyvalues"}),".bodyValues"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".bodyValues")," : Object"),(0,n.kt)("h4",r({},{id:"description-3"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".bodyValues")," contient l'objet ",(0,n.kt)("em",{parentName:"p"},"EmailBodyValue"),", contenant un objet pour chaque ","\\","<partID",">"," de ",(0,n.kt)("inlineCode",{parentName:"p"},"bodyStructure")," (facultatif). Voir section ",(0,n.kt)("a",r({parentName:"p"},{href:"#traitement-du-body"}),"Traitement du body"),"."),(0,n.kt)("p",null,"L'objet ",(0,n.kt)("inlineCode",{parentName:"p"},".bodyValues")," contient les propri\xe9t\xe9 suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Valeur"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"td"},"partID"),".value"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Valeur de la partie body")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"td"},"partID"),".isEncodingProblem"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si des sections malform\xe9es sont identifi\xe9es durant le d\xe9codage du charset, si le charset est inconnu, ou si le content transfer-encoding est inconnu. Faux par d\xe9faut")))),(0,n.kt)("h2",r({},{id:"cc"}),".cc"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".cc")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".cc")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".cc")," : Collection"),(0,n.kt)("h4",r({},{id:"description-4"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".cc")," contient les adresse(s) email suppl\xe9mentaire(s) des destinataires en Copie Carbone (CC) de l'email."),(0,n.kt)("h2",r({},{id:"comments"}),".comments"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".comments")," : Text"),(0,n.kt)("h4",r({},{id:"description-5"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".comments")," contient un header de commentaires suppl\xe9mentaires."),(0,n.kt)("p",null,"Les commentaires n'apparaissent que dans la zone d'en-t\xeate du message (le body du message reste inchang\xe9)."),(0,n.kt)("p",null,"Pour les exigences propres au formatage, veuillez consulter la ",(0,n.kt)("a",r({parentName:"p"},{href:"https://tools.ietf.org/html/rfc5322"}),"RFC#5322"),"."),(0,n.kt)("h2",r({},{id:"from"}),".from"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".from")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".from")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".from")," : Collection"),(0,n.kt)("h4",r({},{id:"description-6"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".from")," contient ",(0,n.kt)("a",r({parentName:"p"},{href:"#email-addresses"}),"l'adresse ou les adresse(s) d'origine")," de l'email."),(0,n.kt)("p",null,"Chaque email envoy\xe9 comporte \xe0 la fois les adresses du ",(0,n.kt)("a",r({parentName:"p"},{href:"#sender"}),"sender")," et du ",(0,n.kt)("strong",{parentName:"p"},"from")," :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"le domaine sender correspond \xe0 ce que le serveur de r\xe9ception d'email obtient \xe0 l'ouverture de la session,"),(0,n.kt)("li",{parentName:"ul"},"l'adresse from correspond \xe0 ce que le(s) destinataire(s) visualise(nt).")),(0,n.kt)("p",null,"Pour mieux livrer l'email, il est recommand\xe9 d'utiliser les m\xeames adresses pour from et sender."),(0,n.kt)("h2",r({},{id:"headers"}),".headers"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".headers")," : Collection"),(0,n.kt)("h4",r({},{id:"description-7"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".headers")," contient une collection d'objets ",(0,n.kt)("inlineCode",{parentName:"p"},"EmailHeader"),", dans l'ordre o\xf9 ils apparaissent dans le message. Cette propri\xe9t\xe9 permet aux utilisateurs d'ajouter des en-t\xeates extended (enregistr\xe9s) ou des en-t\xeates user-defined (non enregistr\xe9s, commen\xe7ant par \"X\")."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Si une propri\xe9t\xe9 d'objet ",(0,n.kt)("inlineCode",{parentName:"p"},"EmailHeader"),' d\xe9finit un en-t\xeate tel que "from" ou "cc" qui est d\xe9j\xe0 d\xe9fini comme propri\xe9t\xe9 au niveau du mail, la propri\xe9t\xe9 ',(0,n.kt)("inlineCode",{parentName:"p"},"EmailHeader")," est ignor\xe9e.")),(0,n.kt)("p",null,"Chaque objet de la collection de headers peut contenir les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Valeur"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"(obligatoire) Nom du champ en-t\xeate, tel que d\xe9fini dans la ",(0,n.kt)("a",r({parentName:"td"},{href:"https://tools.ietf.org/html/rfc5322"}),"RFC#5322"),". S'il est null ou ind\xe9fini, le champ en-t\xeate n'est pas ajout\xe9 \xe0 l'en-t\xeate MIME.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].value"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Valeur du champ d'en-t\xeate telle que d\xe9finie dans la ",(0,n.kt)("a",r({parentName:"td"},{href:"https://tools.ietf.org/html/rfc5322"}),"RFC#5322"))))),(0,n.kt)("h2",r({},{id:"htmlbody"}),".htmlBody"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".htmlBody")," : Text"),(0,n.kt)("h4",r({},{id:"description-8"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".htmlBody")," contient la repr\xe9sentation HTML du message \xe9lectronique (jeu de caract\xe8res par d\xe9faut : UTF-8) (optionnel, SMTP uniquement). Voir section ",(0,n.kt)("a",r({parentName:"p"},{href:"#traitement-du-body"}),"Traitement du body"),"."),(0,n.kt)("h2",r({},{id:"id"}),".id"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".id")," : Text"),(0,n.kt)("h4",r({},{id:"description-9"}),"Description"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/IMAPTransporterClass"}),"IMAP transporter")," uniquement."),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".id")," contient l'ID unique du serveur IMAP."),(0,n.kt)("h2",r({},{id:"inreplyto"}),".inReplyTo"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".inReplyTo")," : Text"),(0,n.kt)("h4",r({},{id:"description-10"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".inReplyTo")," contient le ou les identifiant(s) du ou des messages originaux auquel/auxquels le message courant est une r\xe9ponse."),(0,n.kt)("p",null,"Pour les exigences propres au formatage, veuillez consulter la ",(0,n.kt)("a",r({parentName:"p"},{href:"https://tools.ietf.org/html/rfc5322"}),"RFC#5322"),"."),(0,n.kt)("h2",r({},{id:"keywords"}),".keywords"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".keywords")," : Object"),(0,n.kt)("h4",r({},{id:"description-11"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".keywords")," contient un ensemble de mots-cl\xe9s sous forme d'objet, o\xf9 chaque nom de propri\xe9t\xe9 est un mot-cl\xe9 et chaque valeur est mise \xe0 true."),(0,n.kt)("p",null,'Cette propri\xe9t\xe9 est l\'en-t\xeate "keywords" (voir la ',(0,n.kt)("a",r({parentName:"p"},{href:"https://tools.ietf.org/html/rfc4021"}),"RFC#4021"),")."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Valeur"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".","\\","<keyword",">"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Mot-cl\xe9 \xe0 d\xe9finir \xe0 d\xe9finir (la valeur doit \xeatre mise \xe0 vrai)")))),(0,n.kt)("p",null,"Mots-cl\xe9s r\xe9serv\xe9s :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"$draft - Indique qu'un message est un brouillon"),(0,n.kt)("li",{parentName:"ul"},"$seen - Indique qu'un message a \xe9t\xe9 lu"),(0,n.kt)("li",{parentName:"ul"},"$flagged - Indique qu'un message n\xe9cessite une attention particuli\xe8re (ex : Urgent)"),(0,n.kt)("li",{parentName:"ul"},"$answered - Indique qu'un message a re\xe7u une r\xe9ponse"),(0,n.kt)("li",{parentName:"ul"},"$deleted - Indique un message \xe0 supprimer")),(0,n.kt)("h4",r({},{id:"exemple"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),' $mail.keywords["$flagged"]:=True\n $mail.keywords["4d"]:=True\n')),(0,n.kt)("h2",r({},{id:"messageid"}),".messageId"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".messageId")," : Text"),(0,n.kt)("h4",r({},{id:"description-12"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".messageId"),' contient un header d\'identification du message ("message-id").'),(0,n.kt)("p",null,'Cet en-t\xeate est g\xe9n\xe9ralement "desChiffresOuDesLettres@nomdededomaine", par exemple "',(0,n.kt)("a",r({parentName:"p"},{href:"mailto:abcdef.123456@4d.com"}),"abcdef.123456@4d.com"),"\". Cet identifiant unique est notamment utilis\xe9 sur les forums ou les listes de diffusion publiques. En g\xe9n\xe9ral, les serveurs de messagerie ajoutent automatiquement cet en-t\xeate aux messages qu'ils envoient."),(0,n.kt)("h2",r({},{id:"receivedat"}),".receivedAt"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".receivedAt")," : Text"),(0,n.kt)("h4",r({},{id:"description-13"}),"Description"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/IMAPTransporterClass"}),"IMAP transporter")," uniquement."),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".receivedAt")," contient l'horodatage de l'arriv\xe9e de l'email sur le serveur IMAP au format ISO 8601 UTC (ex : 2020-09-13T16:11:53Z)."),(0,n.kt)("h2",r({},{id:"references"}),".references"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".references")," : Collection"),(0,n.kt)("h4",r({},{id:"description-14"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".references")," contient la collection de tous les num\xe9ros d'identification des messages de la cha\xeene de r\xe9ponse pr\xe9c\xe9dente."),(0,n.kt)("p",null,"Pour les exigences propres au formatage, veuillez consulter la ",(0,n.kt)("a",r({parentName:"p"},{href:"https://tools.ietf.org/html/rfc5322"}),"RFC#5322"),"."),(0,n.kt)("h2",r({},{id:"replyto"}),".replyTo"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".replyTo")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".replyTo")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".replyTo")," : Collection"),(0,n.kt)("h4",r({},{id:"description-15"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".replyTo")," contient les ",(0,n.kt)("a",r({parentName:"p"},{href:"#email-addresses"}),"addresse(s)")," pour les r\xe9ponses."),(0,n.kt)("h2",r({},{id:"sendat"}),".sendAt"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".sendAt")," : Text"),(0,n.kt)("h4",r({},{id:"description-16"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".sendAt")," contient l'horodatage de l'email au format ISO 8601 UTC."),(0,n.kt)("h2",r({},{id:"sender"}),".sender"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".sender")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".sender")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".sender")," : Collection"),(0,n.kt)("h4",r({},{id:"description-17"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".sender")," contient ",(0,n.kt)("a",r({parentName:"p"},{href:"#email-addresses"}),"l'adresse ou les adresses")," source de l'email."),(0,n.kt)("p",null,"Chaque email envoy\xe9 comporte \xe0 la fois les adresses du ",(0,n.kt)("strong",{parentName:"p"},"sender")," et du ",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("a",r({parentName:"strong"},{href:"#from"}),"from"))," :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"le domaine sender correspond \xe0 ce que le serveur de r\xe9ception d'email obtient \xe0 l'ouverture de la session,"),(0,n.kt)("li",{parentName:"ul"},"l'adresse from correspond \xe0 ce que le(s) destinataire(s) visualise(nt).")),(0,n.kt)("p",null,"Pour mieux livrer l'email, il est recommand\xe9 d'utiliser les m\xeames adresses pour from et sender."),(0,n.kt)("h2",r({},{id:"size"}),".size"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".size")," : Integer"),(0,n.kt)("h4",r({},{id:"description-18"}),"Description"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/IMAPTransporterClass"}),"IMAP transporter")," uniquement."),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".size")," contient la taille (exprim\xe9e en octets) de l'objet Email renvoy\xe9 par le serveur IMAP."),(0,n.kt)("h2",r({},{id:"subject"}),".subject"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".subject")," : Text"),(0,n.kt)("h4",r({},{id:"description-19"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".subject")," contient la description du sujet."),(0,n.kt)("h2",r({},{id:"textbody"}),".textBody"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".textBody")," : Text"),(0,n.kt)("h4",r({},{id:"description-20"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".textBody")," contient la repr\xe9sentation en texte brut du message \xe9lectronique (jeu de caract\xe8res par d\xe9faut : UTF-8) (optionnel, SMTP uniquement). Voir section ",(0,n.kt)("a",r({parentName:"p"},{href:"#traitement-du-body"}),"Traitement du body"),"."),(0,n.kt)("h2",r({},{id:"to"}),".to"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".to")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".to")," : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".to")," : Collection"),(0,n.kt)("h4",r({},{id:"description-21"}),"Description"),(0,n.kt)("p",null,"La propri\xe9t\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},".to")," contient la ou les ",(0,n.kt)("a",r({parentName:"p"},{href:"#email-addresses"}),"adresse(s)")," des destinataires principaux de l'email."),(0,n.kt)("h2",r({},{id:"mail-convert-from-mime"}),"MAIL Convert from MIME"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"MAIL Convert from MIME"),"( ",(0,n.kt)("em",{parentName:"p"},"mime")," : Blob ) : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"MAIL Convert from MIME"),"( ",(0,n.kt)("em",{parentName:"p"},"mime")," : Text ) : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"mime"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Blob, Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Email en MIME")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet email")))),(0,n.kt)("h4",r({},{id:"description-22"}),"Description"),(0,n.kt)("p",null,"La commande ",(0,n.kt)("inlineCode",{parentName:"p"},"MAIL Convert from MIME")," convertit un document MIME en un objet email valide."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Le format des objets Email de 4D suit la ",(0,n.kt)("a",r({parentName:"p"},{href:"https://jmap.io/spec-mail.html"}),"sp\xe9cification JMAP"),".")),(0,n.kt)("p",null,"Passez dans ",(0,n.kt)("em",{parentName:"p"},"mime")," un document MIME valide \xe0 convertir. Il peut \xeatre fourni par tout type de serveur ou d'application de messagerie. Vous pouvez passer un BLOB ou un texte dans le param\xe8tre ",(0,n.kt)("em",{parentName:"p"},"mime"),". Si le MIME provient d'un fichier, il est recommand\xe9 d'utiliser un param\xe8tre BLOB pour \xe9viter les probl\xe8mes li\xe9s aux conversions de charset et de retours \xe0 la ligne."),(0,n.kt)("h4",r({},{id:"objet-retourn\xe9"}),"Objet retourn\xe9"),(0,n.kt)("p",null,"Objet email."),(0,n.kt)("h4",r({},{id:"exemple-1"}),"Exemple 1"),(0,n.kt)("p",null,"Vous souhaitez charger un template mail enregistr\xe9 au format MIME dans un document texte et l'envoyer par email :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $mime: Blob\nvar $mail;$server;$transporter;$status: Object\n\n$mime:=File("/PACKAGE/Mails/templateMail.txt").getContent())\n\n$mail:=MAIL Convert from MIME($mime)\n$mail.to:="smith@mail.com"\n$mail.subject:="Hello world"\n\n$server:=New object\n$server.host:="smtp.gmail.com"\n$server.port:=465\n$server.user:="test@gmail.com"\n$server.password:="XXXX"\n\n$transporter:=SMTP New transporter($server)\n$status:=$transporter.send($mail)\n')),(0,n.kt)("h4",r({},{id:"exemple-2"}),"Exemple 2"),(0,n.kt)("p",null,"Dans cet exemple, vous envoyez directement un document 4D Write Pro contenant des images :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $mime: Blob\nvar $email;$server;$transporter;$status: Object\n\n// Export Mime du document 4D Write Pro\nWP EXPORT VARIABLE(WParea;$mime;wk mime html)\n\n// convertir la variable Mime de 4D Write Pro en objet email\n$email:=MAIL Convert from MIME($mime)\n\n// Remplir les en-t\xeates de l\'objet email\n$email.subject:="4D Write Pro HTML body"\n$email.from:="YourEmail@gmail.com"\n$email.to:="RecipientEmail@mail.com"\n\n$server:=New object\n$server.host:="smtp.gmail.com"\n$server.port:=465\n$server.user:="YourEmail@gmail.com"\n$server.password:="XXXX"\n\n$transporter:=SMTP New transporter($server)\n$status:=$transporter.send($email)\n')),(0,n.kt)("h2",r({},{id:"mail-convert-to-mime"}),"MAIL Convert to MIME"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R4"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Modifi\xe9"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"MAIL Convert to MIME"),"( ",(0,n.kt)("em",{parentName:"p"},"mail")," : Object { ; ",(0,n.kt)("em",{parentName:"p"},"options")," : Object } ) : Text"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"mail"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet email")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Options d'encodage et de charset du mail")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet email converti en MIME")))),(0,n.kt)("h4",r({},{id:"description-23"}),"Description"),(0,n.kt)("p",null,"La commande ",(0,n.kt)("inlineCode",{parentName:"p"},"MAIL Convert to MIME")," convertit un objet email en texte MIME. Cette commande est appel\xe9e en interne par ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/SMTPTransporterClass#send"}),"SMTP_transporter.send( )")," pour formater l'objet email avant de l'envoyer. Elle peut \xeatre utilis\xe9e pour analyser le format MIME de l'objet."),(0,n.kt)("p",null,"Dans ",(0,n.kt)("em",{parentName:"p"},"mail"),", passez les \xe9l\xe9ments du contenu et de la structure de l'email \xe0 convertir. Cela inclut des informations telles que les adresses e-mail (exp\xe9diteur et destinataire(s)), le contenu de l'e-mail lui-m\xeame et son type d'affichage."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Le format des objets Email de 4D suit la ",(0,n.kt)("a",r({parentName:"p"},{href:"https://jmap.io/spec-mail.html"}),"sp\xe9cification JMAP"),".")),(0,n.kt)("p",null,"Dans ",(0,n.kt)("em",{parentName:"p"},"options"),", vous pouvez configurer l'encodage et le charset du mail. Les propri\xe9t\xe9s suivantes sont disponibles :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"headerCharset"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Charset et encodage utilis\xe9s pour les parties de mail suivantes : le sujet, les noms de fichiers joints et le nom du mail. Valeurs possibles :",(0,n.kt)("table",null,(0,n.kt)("tr",null,(0,n.kt)("th",null,"Constante"),(0,n.kt)("th",null,"Valeur"),(0,n.kt)("th",null,"Commentaire")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"Mode courrier ISO2022JP"),(0,n.kt)("td",null,"US-ASCII_ISO-2022-JP_UTF8_QP"),(0,n.kt)("td",null,(0,n.kt)("ul",null,(0,n.kt)("li",null,(0,n.kt)("i",null,"headerCharset"),": US-ASCII si possible, japonais (ISO-2022-JP) & Quoted-printable si possible, sinon UTF-8 & Quoted-printable"),(0,n.kt)("li",null,(0,n.kt)("i",null,"bodyCharset"),": US-ASCII si possible, japonais (ISO-2022-JP) & 7-bit si possible, sinon UTF-8 & Quoted-printable")))),(0,n.kt)("tr",null,(0,n.kt)("td",null,"mode courrier ISO88591"),(0,n.kt)("td",null,"ISO-8859-1"),(0,n.kt)("td",null,(0,n.kt)("ul",null,(0,n.kt)("li",null,(0,n.kt)("i",null,"headerCharset"),": ISO-8859-1 & Quoted-printable"),(0,n.kt)("li",null,(0,n.kt)("i",null,"bodyCharset"),": ISO-8859-1 & 8-bit")))),(0,n.kt)("tr",null,(0,n.kt)("td",null,"mode courrier UTF8"),(0,n.kt)("td",null,"US-ASCII_UTF8_QP"),(0,n.kt)("td",null,(0,n.kt)("i",null,"headerCharset")," & ",(0,n.kt)("i",null,"bodyCharset"),": US-ASCII si possible, sinon UTF-8 & Quoted-printable (",(0,n.kt)("strong",{parentName:"td"},"valeur par d\xe9faut"),")")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"mode courrier UTF8 en base64"),(0,n.kt)("td",null,"US-ASCII_UTF8_B64"),(0,n.kt)("td",null,(0,n.kt)("i",null,"headerCharset")," & ",(0,n.kt)("i",null,"bodyCharset"),": US-ASCII si possible, sinon UTF-8 & base64"))))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"bodyCharset"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Charset et encodage utilis\xe9s pour le contenu html et le texte du body du mail. Valeurs possibles : Identiques \xe0 celles de headerCharset (voir ci-dessus)")))),(0,n.kt)("p",null,"Si le param\xe8tre ",(0,n.kt)("em",{parentName:"p"},"options")," est omis, la configuration mail mode UTF8 est utilis\xe9e pour les parties en-t\xeate et corps."),(0,n.kt)("h4",r({},{id:"exemple-3"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $mail: Object\nvar $mime: Text\n$mail:=New object\n\n// Creation of a mail\n$mail.from:="tsales@massmarket.com"\n$mail.subject:="Terrific Sale! This week only!"\n$mail.textBody:="Text format email"\n$mail.htmlBody:="<html><body>HTML format email</body></html>"\n$mail.to:=New collection\n$mail.to.push(New object ("email";"noreply@4d.com"))\n$mail.to.push(New object ("email";"test@4d.com"))\n\n// transform the mail object in MIME\n$mime:=MAIL Convert to MIME($mail)\n\n// Contents of $mime:\n// MIME-Version: 1.0\n// Date: Thu, 11 Oct 2018 15:42:25 GMT\n// Message-ID: <7CA5D25B2B5E0047A36F2E8CB30362E2>\n// Sender: tsales@massmarket.com\n// From: tsales@massmarket.com\n// To: noreply@4d.com\n// To: test@4d.com\n// Content-Type: multipart/alternative; boundary="E0AE5773D5E95245BBBD80DD0687E218"\n// Subject: Terrific Sale! This week only!\n//\n// --E0AE5773D5E95245BBBD80DD0687E218\n// Content-Type: text/plain; charset="UTF-8"\n// Content-Transfer-Encoding: quoted-printable\n//\n// Text format email\n// --E0AE5773D5E95245BBBD80DD0687E218\n// Content-Type: text/html; charset="UTF-8"\n// Content-Transfer-Encoding: quoted-printable\n//\n// <html><body>HTML format email</body></html>\n// --E0AE5773D5E95245BBBD80DD0687E218--\n')))}u.isMDXComponent=!0}}]);