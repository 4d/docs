"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4889],{603905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>c});var a=n(667294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),d=s(n),c=l,k=d["".concat(p,".").concat(c)]||d[c]||u[c]||r;return n?a.createElement(k,i(i({ref:t},m),{},{components:n})):a.createElement(k,i({ref:t},m))}));function c(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=d;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},84241:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>p,toc:()=>m});n(667294);var a=n(603905);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function r(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}const i={id:"EntitySelectionClass",title:"EntitySelection"},o=void 0,p={unversionedId:"API/EntitySelectionClass",id:"version-20-R5/API/EntitySelectionClass",title:"EntitySelection",description:"An entity selection is an object containing one or more reference(s) to entities belonging to the same Dataclass. Une entity selection peut contenir 0, 1 ou X entit\xe9s de la dataclass - o\xf9 X peut repr\xe9senter le nombre total d'entit\xe9s contenues dans la dataclass.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R5/API/EntitySelectionClass.md",sourceDirName:"API",slug:"/API/EntitySelectionClass",permalink:"/docs/fr/API/EntitySelectionClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntitySelectionClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"EntitySelectionClass",title:"EntitySelection"},sidebar:"docs",previous:{title:"Entity",permalink:"/docs/fr/API/EntityClass"},next:{title:"File",permalink:"/docs/fr/API/FileClass"}},s={},m=[{value:"Sommaire",id:"sommaire",level:3},{value:"Create entity selection",id:"create-entity-selection",level:2},{value:"Description",id:"description",level:4},{value:"Exemple",id:"exemple",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement",level:4},{value:"USE ENTITY SELECTION",id:"use-entity-selection",level:2},{value:"Description",id:"description-1",level:4},{value:"Exemple",id:"exemple-1",level:4},{value:"[<em>index</em>]",id:"index",level:2},{value:"Description",id:"description-2",level:4},{value:"Exemple",id:"exemple-2",level:4},{value:".<em>attributeName</em>",id:"attributename",level:2},{value:"Description",id:"description-3",level:4},{value:"Exemple 1",id:"exemple-1-1",level:4},{value:"Exemple 2",id:"exemple-2-1",level:4},{value:"Exemple 3",id:"exemple-3",level:4},{value:".add()",id:"add",level:2},{value:"Description",id:"description-4",level:4},{value:"Exemple 1",id:"exemple-1-2",level:4},{value:"Exemple 2",id:"exemple-2-2",level:4},{value:"Exemple 3",id:"exemple-3-1",level:4},{value:".and()",id:"and",level:2},{value:"Description",id:"description-5",level:4},{value:"Exemple 1",id:"exemple-1-3",level:4},{value:"Exemple 2",id:"exemple-2-3",level:4},{value:".at()",id:"at",level:2},{value:"Description",id:"description-6",level:4},{value:"Exemple",id:"exemple-4",level:4},{value:".average()",id:"average",level:2},{value:"Description",id:"description-7",level:4},{value:"Exemple",id:"exemple-5",level:4},{value:".contains()",id:"contains",level:2},{value:"Description",id:"description-8",level:4},{value:"Exemple",id:"exemple-6",level:4},{value:".count()",id:"count",level:2},{value:"Description",id:"description-9",level:4},{value:"Exemple",id:"exemple-7",level:4},{value:".copy()",id:"copy",level:2},{value:"Description",id:"description-10",level:4},{value:"Exemple",id:"exemple-8",level:4},{value:".distinct()",id:"distinct",level:2},{value:"Description",id:"description-11",level:4},{value:"Exemples",id:"exemples",level:4},{value:".distinctPaths()",id:"distinctpaths",level:2},{value:"Description",id:"description-12",level:4},{value:"Exemple",id:"exemple-9",level:4},{value:".drop()",id:"drop",level:2},{value:"Description",id:"description-13",level:4},{value:"Exemple",id:"exemple-10",level:4},{value:".extract()",id:"extract",level:2},{value:"Description",id:"description-14",level:4},{value:"Exemple",id:"exemple-11",level:4},{value:".first()",id:"first",level:2},{value:"Description",id:"description-15",level:4},{value:"Exemple",id:"exemple-12",level:4},{value:".getDataClass()",id:"getdataclass",level:2},{value:"Description",id:"description-16",level:4},{value:"Exemple",id:"exemple-13",level:4},{value:".getRemoteContextAttributes()",id:"getremotecontextattributes",level:2},{value:"Description",id:"description-17",level:4},{value:"Exemple",id:"exemple-14",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-1",level:4},{value:".isAlterable()",id:"isalterable",level:2},{value:"Description",id:"description-18",level:4},{value:"Exemple",id:"exemple-15",level:4},{value:".isOrdered()",id:"isordered",level:2},{value:"Description",id:"description-19",level:4},{value:"Exemple",id:"exemple-16",level:4},{value:".last()",id:"last",level:2},{value:"Description",id:"description-20",level:4},{value:"Exemple",id:"exemple-17",level:4},{value:".length",id:"length",level:2},{value:"Description",id:"description-21",level:4},{value:"Exemple",id:"exemple-18",level:4},{value:".max()",id:"max",level:2},{value:"Description",id:"description-22",level:4},{value:"Exemple",id:"exemple-19",level:4},{value:".min()",id:"min",level:2},{value:"Description",id:"description-23",level:4},{value:"Exemple",id:"exemple-20",level:4},{value:".minus()",id:"minus",level:2},{value:"Description",id:"description-24",level:4},{value:"Exemple 1",id:"exemple-1-4",level:4},{value:"Exemple 2",id:"exemple-2-4",level:4},{value:"Exemple 3",id:"exemple-3-2",level:4},{value:".or()",id:"or",level:2},{value:"Description",id:"description-25",level:4},{value:"Exemple 1",id:"exemple-1-5",level:4},{value:"Exemple 2",id:"exemple-2-5",level:4},{value:".orderBy()",id:"orderby",level:2},{value:"Description",id:"description-26",level:4},{value:"Exemple",id:"exemple-21",level:4},{value:".orderByFormula()",id:"orderbyformula",level:2},{value:"Description",id:"description-27",level:4},{value:"Exemple 1",id:"exemple-1-6",level:4},{value:"Exemple 2",id:"exemple-2-6",level:4},{value:".query()",id:"query",level:2},{value:"Description",id:"description-28",level:4},{value:"Exemple 1",id:"exemple-1-7",level:4},{value:"Exemple 2",id:"exemple-2-7",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-2",level:4},{value:".queryPath",id:"querypath",level:2},{value:"Description",id:"description-29",level:4},{value:".queryPlan",id:"queryplan",level:2},{value:"Description",id:"description-30",level:4},{value:".refresh()",id:"refresh",level:2},{value:"Description",id:"description-31",level:4},{value:"Exemple 1",id:"exemple-1-8",level:4},{value:"Exemple 2",id:"exemple-2-8",level:4},{value:".selected()",id:"selected",level:2},{value:"Description",id:"description-32",level:4},{value:"R\xe9sultat",id:"r\xe9sultat",level:4},{value:"Exemple",id:"exemple-22",level:4},{value:".slice()",id:"slice",level:2},{value:"Description",id:"description-33",level:4},{value:"Exemple 1",id:"exemple-1-9",level:4},{value:"Exemple 2",id:"exemple-2-9",level:4},{value:".sum()",id:"sum",level:2},{value:"Description",id:"description-34",level:4},{value:"Exemple",id:"exemple-23",level:4},{value:".toCollection()",id:"tocollection",level:2},{value:"Description",id:"description-35",level:4},{value:"Exemple 1",id:"exemple-1-10",level:4},{value:"Exemple 2",id:"exemple-2-10",level:4},{value:"Exemple 3",id:"exemple-3-3",level:4},{value:"Exemple 4",id:"exemple-4-1",level:4},{value:"Exemple 5",id:"exemple-5-1",level:4},{value:"Exemple 6",id:"exemple-6-1",level:4},{value:"Exemple 7",id:"exemple-7-1",level:4},{value:"Exemple 8",id:"exemple-8-1",level:4},{value:"Exemple 9",id:"exemple-9-1",level:4}],u={toc:m};function d(e){var{components:t}=e,i=r(e,["components"]);return(0,a.kt)("wrapper",l({},u,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"An entity selection is an object containing one or more reference(s) to ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#entity"}),"entities")," belonging to the same ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#dataclass"}),"Dataclass"),". Une entity selection peut contenir 0, 1 ou X entit\xe9s de la dataclass - o\xf9 X peut repr\xe9senter le nombre total d'entit\xe9s contenues dans la dataclass."),(0,a.kt)("p",null,"Entity selections can be created from existing selections using various functions of the ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass"}),(0,a.kt)("inlineCode",{parentName:"a"},"DataClass")," class")," such as ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass#all"}),(0,a.kt)("inlineCode",{parentName:"a"},".all()"))," or ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()")),", or functions of the ",(0,a.kt)("inlineCode",{parentName:"p"},"EntityClass")," class itself, such as ",(0,a.kt)("a",l({parentName:"p"},{href:"#and"}),(0,a.kt)("inlineCode",{parentName:"a"},".and()"))," or ",(0,a.kt)("a",l({parentName:"p"},{href:"#orderby"}),(0,a.kt)("inlineCode",{parentName:"a"},"orderBy()")),". You can also create blank entity selections using the ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass#newselection"}),(0,a.kt)("inlineCode",{parentName:"a"},"dataClass.newSelection()"))," function or the ",(0,a.kt)("a",l({parentName:"p"},{href:"#create-new-selection"}),(0,a.kt)("inlineCode",{parentName:"a"},"Create new selection"))," command."),(0,a.kt)("h3",l({},{id:"sommaire"}),"Sommaire"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null})))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#91index93"}),(0,a.kt)("strong",{parentName:"a"},(0,a.kt)("em",{parentName:"strong"},"[","index","]"))," : 4D.Entity"),(0,a.kt)("br",null),"allows you to access entities within the entity selection using the standard collection syntax")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#attributename"}),(0,a.kt)("strong",{parentName:"a"},(0,a.kt)("em",{parentName:"strong"},".attributeName"))," : Collection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},(0,a.kt)("em",{parentName:"strong"},".attributeName"))," : 4D.EntitySelection"),(0,a.kt)("br",null),"une \"projection\" des valeurs de l'attribut dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#add"}),(0,a.kt)("strong",{parentName:"a"},".add"),"( ",(0,a.kt)("em",{parentName:"a"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".add"),"( ",(0,a.kt)("em",{parentName:"a"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),(0,a.kt)("br",null),"adds the specified ",(0,a.kt)("em",{parentName:"td"},"entity")," or ",(0,a.kt)("em",{parentName:"td"},"entitySelection")," to the original entity selection and returns the modified entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#and"}),(0,a.kt)("strong",{parentName:"a"},".and"),"( ",(0,a.kt)("em",{parentName:"a"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".and"),"( ",(0,a.kt)("em",{parentName:"a"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),(0,a.kt)("br",null),"combines the entity selection with an ",(0,a.kt)("em",{parentName:"td"},"entity")," or ",(0,a.kt)("em",{parentName:"td"},"entitySelection")," parameter using the logical AND operator")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#at"}),(0,a.kt)("strong",{parentName:"a"},".at"),"( ",(0,a.kt)("em",{parentName:"a"},"index")," : Integer ) : 4D.Entity "),(0,a.kt)("br",null),"returns the entity at position ",(0,a.kt)("em",{parentName:"td"},"index"),", allowing for positive and negative integer")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#average"}),(0,a.kt)("strong",{parentName:"a"},".average"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text ) : Real"),(0,a.kt)("br",null),"returns the arithmetic mean (average) of all the non-null values of ",(0,a.kt)("em",{parentName:"td"},"attributePath")," in the entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#contains"}),(0,a.kt)("strong",{parentName:"a"},".contains"),"( ",(0,a.kt)("em",{parentName:"a"},"entity")," : 4D.Entity ) : Boolean"),(0,a.kt)("br",null),"returns true if entity reference belongs to the entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#contains"}),(0,a.kt)("strong",{parentName:"a"},".copy"),"( { ",(0,a.kt)("em",{parentName:"a"},"option")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("br",null),"returns a copy of the original entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#count"}),(0,a.kt)("strong",{parentName:"a"},".count"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text ) : Real"),(0,a.kt)("br",null),"returns the number of entities in the entity selection with a non-null value in ",(0,a.kt)("em",{parentName:"td"},"attributePath"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#distinct"}),(0,a.kt)("strong",{parentName:"a"},".distinct"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text { ; ",(0,a.kt)("em",{parentName:"a"},"options")," : Integer } ) : Collection"),(0,a.kt)("br",null),"returns a collection containing only distinct (different) values from the ",(0,a.kt)("em",{parentName:"td"},"attributePath")," in the entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#distinctPaths"}),(0,a.kt)("strong",{parentName:"a"},".distinctPaths"),"( ",(0,a.kt)("em",{parentName:"a"},"attribute")," : Text ) : Collection"),(0,a.kt)("br",null),"returns a collection of distinct paths found in the indexed object ",(0,a.kt)("em",{parentName:"td"},"attribute")," for the entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#drop"}),(0,a.kt)("strong",{parentName:"a"},".drop"),"( { ",(0,a.kt)("em",{parentName:"a"},"mode")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("br",null),"removes the entities belonging to the entity selection from the table related to its dataclass within the datastore")))),(0,a.kt)("p",null,"| ",(0,a.kt)("a",l({parentName:"p"},{href:"#extract"}),(0,a.kt)("strong",{parentName:"a"},".extract"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text { ; ",(0,a.kt)("em",{parentName:"a"},"option")," : Integer } ) : Collection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".extract"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," { ; ",(0,a.kt)("em",{parentName:"a"},"targetPath")," } { ; ",(0,a.kt)("em",{parentName:"a"},"...attributePathN")," : Text ; ",(0,a.kt)("em",{parentName:"a"},"targetPathN")," : Text } ) : Collection"),(0,a.kt)("br",null),"returns a collection containing ",(0,a.kt)("em",{parentName:"p"},"attributePath")," values extracted from the entity selection                                                 |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#first"}),(0,a.kt)("strong",{parentName:"a"},".first()")," : 4D.Entity"),(0,a.kt)("br",null),"returns a reference to the entity in the first position of the entity selection                                                       |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#getdataclass"}),(0,a.kt)("strong",{parentName:"a"},".getDataClass()")," : 4D.DataClass"),(0,a.kt)("br",null),"returns the dataclass of the entity selection                                  |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#getremotecontextattributes"}),(0,a.kt)("strong",{parentName:"a"},".getRemoteContextAttributes()")," : Text"),(0,a.kt)("br",null),"returns information about the optimization context used by the entity  |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#isalterable"}),(0,a.kt)("strong",{parentName:"a"},".isAlterable()")," : Boolean"),(0,a.kt)("br",null),"returns True if the entity selection is alterable                                     |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#isordered"}),(0,a.kt)("strong",{parentName:"a"},".isOrdered()")," : Boolean"),(0,a.kt)("br",null),"returns True if the entity selection is ordered                                           |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#last"}),(0,a.kt)("strong",{parentName:"a"},".last()")," : 4D.Entity"),(0,a.kt)("br",null),"returns a reference to the entity in last position of the entity selection                                                          |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#length"}),(0,a.kt)("strong",{parentName:"a"},".length")," : Integer"),(0,a.kt)("br",null),"returns the number of entities in the entity selection                                                        |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#max"}),(0,a.kt)("strong",{parentName:"a"},".max"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text ) : any"),(0,a.kt)("br",null),"returns the highest (or maximum) value among all the values of ",(0,a.kt)("em",{parentName:"p"},"attributePath")," in the entity selection                                                             |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#min"}),(0,a.kt)("strong",{parentName:"a"},".min"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text ) : any"),(0,a.kt)("br",null)," returns the lowest (or minimum) value among all the values of attributePath in the entity selection                                                             |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#minus"}),(0,a.kt)("strong",{parentName:"a"},".minus"),"( ",(0,a.kt)("em",{parentName:"a"},"entity")," : 4D.Entity { ; ",(0,a.kt)("em",{parentName:"a"},"keepOrder")," : Integer } ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".minus"),"( ",(0,a.kt)("em",{parentName:"a"},"entitySelection")," : 4D.EntitySelection { ; ",(0,a.kt)("em",{parentName:"a"},"keepOrder")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("br",null),"excludes from the entity selection to which it is applied the ",(0,a.kt)("em",{parentName:"p"},"entity")," or the entities of ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," and returns the resulting entity selection                                                       |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#or"}),(0,a.kt)("strong",{parentName:"a"},".or"),"( ",(0,a.kt)("em",{parentName:"a"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".or"),"( ",(0,a.kt)("em",{parentName:"a"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),(0,a.kt)("br",null),"combines the entity selection with the ",(0,a.kt)("em",{parentName:"p"},"entity")," or ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," parameter using the logical (not exclusive) OR operator                                                                |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#orderby"}),(0,a.kt)("strong",{parentName:"a"},".orderBy"),"( ",(0,a.kt)("em",{parentName:"a"},"pathString")," : Text ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".orderBy"),"( ",(0,a.kt)("em",{parentName:"a"},"pathObjects")," : Collection ) : 4D.EntitySelection"),(0,a.kt)("br",null),"returns a new ordered entity selection containing all entities of the entity selection in the order specified by ",(0,a.kt)("em",{parentName:"p"},"pathString")," or ",(0,a.kt)("em",{parentName:"p"},"pathObjects")," criteria                                                 |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#orderbyformula"}),(0,a.kt)("strong",{parentName:"a"},".orderByFormula"),"( ",(0,a.kt)("em",{parentName:"a"},"formulaString")," : Text { ; ",(0,a.kt)("em",{parentName:"a"},"sortOrder")," : Integer } { ; ",(0,a.kt)("em",{parentName:"a"},"settings")," : Object} ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".orderByFormula"),"( ",(0,a.kt)("em",{parentName:"a"},"formulaObj")," : Object { ; ",(0,a.kt)("em",{parentName:"a"},"sortOrder")," : Integer } { ; ",(0,a.kt)("em",{parentName:"a"},"settings")," : Object} ) : 4D.EntitySelection"),(0,a.kt)("br",null),"returns a new, ordered entity selection                            |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#query"}),(0,a.kt)("strong",{parentName:"a"},".query"),"( ",(0,a.kt)("em",{parentName:"a"},"queryString")," : Text { ; ",(0,a.kt)("em",{parentName:"a"},"...value")," : any } { ; ",(0,a.kt)("em",{parentName:"a"},"querySettings")," : Object } ) : 4D.EntitySelection ",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".query"),"( ",(0,a.kt)("em",{parentName:"a"},"formula")," : Object { ; ",(0,a.kt)("em",{parentName:"a"},"querySettings")," : Object } ) : 4D.EntitySelection"),(0,a.kt)("br",null),"searches for entities that meet the search criteria specified in ",(0,a.kt)("em",{parentName:"p"},"queryString")," or ",(0,a.kt)("em",{parentName:"p"},"formula")," and (optionally) ",(0,a.kt)("em",{parentName:"p"},"value"),"(s) among all the entities in the entity selection                                                       |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#querypath"}),(0,a.kt)("strong",{parentName:"a"},".queryPath")," : Text"),(0,a.kt)("br",null),"contains a detailed description of the query as it was actually performed by 4D                                               |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#queryplan"}),(0,a.kt)("strong",{parentName:"a"},".queryPlan")," : Text"),(0,a.kt)("br",null)," contains a detailed description of the query just before it is executed (i.e., the planned query)                                               |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#refresh"}),(0,a.kt)("strong",{parentName:"a"},".refresh()")),(0,a.kt)("br",null),'immediately "invalidates" the entity selection data in the local ORDA cache                                                 |\n| ',(0,a.kt)("a",l({parentName:"p"},{href:"#selected"}),(0,a.kt)("strong",{parentName:"a"},".selected"),"( ",(0,a.kt)("em",{parentName:"a"},"selectedEntities")," : 4D.EntitySelection ) : Object"),(0,a.kt)("br",null),"returns an object describing the position(s) of ",(0,a.kt)("em",{parentName:"p"},"selectedEntities")," in the original entity selection                                              |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#slice"}),(0,a.kt)("strong",{parentName:"a"},".slice"),"( ",(0,a.kt)("em",{parentName:"a"},"startFrom")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"end")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("br",null),"returns a portion of an entity selection into a new entity selection                                                       |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#sum"}),(0,a.kt)("strong",{parentName:"a"},".sum"),"( ",(0,a.kt)("em",{parentName:"a"},"attributePath")," : Text ) : Real"),(0,a.kt)("br",null),"returns the sum for all ",(0,a.kt)("em",{parentName:"p"},"attributePath")," values in the entity selection                                                             |\n| ",(0,a.kt)("a",l({parentName:"p"},{href:"#tocollection"}),(0,a.kt)("strong",{parentName:"a"},".toCollection"),"( { ",(0,a.kt)("em",{parentName:"a"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"howMany")," : Integer } } ) : ",(0,a.kt)("em",{parentName:"a"},"Collection"),(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".toCollection"),"( ",(0,a.kt)("em",{parentName:"a"},"filterString")," : Text {; ",(0,a.kt)("em",{parentName:"a"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"howMany")," : Integer }}} ) : ",(0,a.kt)("em",{parentName:"a"},"Collection"),(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".toCollection"),"( ",(0,a.kt)("em",{parentName:"a"},"filterCol")," : Collection {; ",(0,a.kt)("em",{parentName:"a"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"a"},"howMany")," : Integer }}} ) : ",(0,a.kt)("em",{parentName:"a"},"Collection")),(0,a.kt)("br",null),"creates and returns a collection where each element is an object containing a set of properties and values                                   |"),(0,a.kt)("h2",l({},{id:"create-entity-selection"}),"Create entity selection"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Create entity selection")," ( ",(0,a.kt)("em",{parentName:"p"},"dsTable")," : Table { ; ",(0,a.kt)("em",{parentName:"p"},"settings")," : Object } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"dsTable"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Table"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Table de la base 4D dont la s\xe9lection courante doit \xeatre utilis\xe9e pour construire l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"settings"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Option de cr\xe9ation : contexte")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection li\xe9e \xe0 la dataclass de la table")))),(0,a.kt)("h4",l({},{id:"description"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"Create entity selection")," command builds and returns a new, ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/entities#shareable-or-alterable-entity-selections"}),"alterable")," entity selection related to the dataclass matching the given ",(0,a.kt)("em",{parentName:"p"},"dsTable"),", according to the current selection of this table."),(0,a.kt)("p",null,"If the current selection is sorted, an ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"ordered")," entity selection is created (the order of the current selection is kept). Si la s\xe9lection courante n'est pas tri\xe9e, une entity selection non-tri\xe9e est cr\xe9\xe9e."),(0,a.kt)("p",null,"If the ",(0,a.kt)("em",{parentName:"p"},"dsTable")," is not exposed in ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataStoreClass#ds"}),(0,a.kt)("inlineCode",{parentName:"a"},"ds")),", an error is returned. Cette commande ne peut pas \xeatre utilis\xe9e avec un datastore distant."),(0,a.kt)("p",null,"In the optional ",(0,a.kt)("em",{parentName:"p"},"settings")," parameter, you can pass an object containing the following property:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"context"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Label for the ",(0,a.kt)("a",l({parentName:"td"},{href:"/docs/fr/ORDA/client-server-optimization"}),"optimization context")," applied to the entity selection.")))),(0,a.kt)("h4",l({},{id:"exemple"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"var $employees : cs.EmployeeSelection\nALL RECORDS([Employee])\n$employees:=Create entity selection([Employee]) \n// L'entity selection $employees contient maintenant un ensemble de \n// r\xe9f\xe9rences vers toutes les entit\xe9s de la dataclass Employee\n")),(0,a.kt)("h4",l({},{id:"voir-\xe9galement"}),"Voir \xe9galement"),(0,a.kt)("p",null,(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass#newselection"}),(0,a.kt)("inlineCode",{parentName:"a"},"dataClass.newSelection()"))),(0,a.kt)("h2",l({},{id:"use-entity-selection"}),"USE ENTITY SELECTION"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"USE ENTITY SELECTION")," (",(0,a.kt)("em",{parentName:"p"},"entitySelection"),")"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Une entity selection")))),(0,a.kt)("h4",l({},{id:"description-1"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"USE ENTITY SELECTION")," command updates the current selection of the table matching the dataclass of the ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," parameter, according to the content of the entity selection."),(0,a.kt)("p",null,"This command cannot be used with a ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/datastores"}),"Remote datastore"),"."),(0,a.kt)("admonition",l({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"Cette commande est con\xe7ue pour permettre aux s\xe9lections courantes 4D de b\xe9n\xe9ficier de la puissance des requ\xeates ORDA. For performance reasons, in 4D single-user and 4D Server, the command directly connects ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," to the current selection. Therefore, once ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," has been used, it must not be reused or altered afterwards.")),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"After a call to ",(0,a.kt)("inlineCode",{parentName:"p"},"USE ENTITY SELECTION"),", the first record of the updated current selection (if not empty) becomes the current record, but it is not loaded in memory. If you need to use the values of the fields in the current record, use the ",(0,a.kt)("inlineCode",{parentName:"p"},"LOAD RECORD")," command after the ",(0,a.kt)("inlineCode",{parentName:"p"},"USE ENTITY SELECTION")," command.")),(0,a.kt)("h4",l({},{id:"exemple-1"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $entitySel : cs.EmployeeSelection\n\n$entitySel:=ds.Employee.query("lastName = :1";"M@") //$entitySel est associ\xe9e \xe0 la dataclass Employee\nREDUCE SELECTION([Employee];0)\nUSE ENTITY SELECTION($entitySel) //La s\xe9lection courante de la table Employee est mise \xe0 jour\n')),(0,a.kt)("h2",l({},{id:"index"}),"[",(0,a.kt)("em",{parentName:"h2"},"index"),"]"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"[","index","]"))," : 4D.Entity"),(0,a.kt)("h4",l({},{id:"description-2"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection[index]")," notation allows you to access entities within the entity selection using the standard collection syntax: pass the position of the entity you want to get in the ",(0,a.kt)("em",{parentName:"p"},"index")," parameter."),(0,a.kt)("p",null,"A noter que l'entit\xe9 correspondante est recharg\xe9e depuis le datastore."),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"index")," can be any number between 0 and ",(0,a.kt)("inlineCode",{parentName:"p"},".length"),"-1."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If ",(0,a.kt)("em",{parentName:"li"},"index")," is out of range, an error is returned."),(0,a.kt)("li",{parentName:"ul"},"If ",(0,a.kt)("em",{parentName:"li"},"index")," corresponds to a dropped entity, a Null value is returned.")),(0,a.kt)("admonition",l({},{type:"caution"}),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection[index]")," is a non assignable expression, which means that it cannot be used as en editable entity reference with methods like ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/EntityClass#lock"}),(0,a.kt)("inlineCode",{parentName:"a"},".lock()"))," or ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/EntityClass#save"}),(0,a.kt)("inlineCode",{parentName:"a"},".save()")),". Pour travailler avec l'entit\xe9 correspondante, vous devez assigner l'expression retourn\xe9e \xe0 une expression assignable, comme une variable. Exemples :"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' $sel:=ds.Employee.all() //creation de l\'entity selection\n  //code invalide:\n $result:=$sel[0].lock() //ne fonctionnera PAS\n $sel[0].lastName:="Smith" //ne fonctionnera PAS\n $result:=$sel[0].save() //ne fonctionnera PAS\n  //code valide :\n $entity:=$sel[0]  //OK\n $entity.lastName:="Smith" //OK\n $entity.save() //OK\n'))),(0,a.kt)("h4",l({},{id:"exemple-2"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1";"H@")\n $employee:=$employees[2]  // La 3e entit\xe9 de l\'entity selection $employees est recharg\xe9e depuis le datastore\n')),(0,a.kt)("h2",l({},{id:"attributename"}),".",(0,a.kt)("em",{parentName:"h2"},"attributeName")),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},".attributeName"))," : Collection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},".attributeName"))," : 4D.EntitySelection"),(0,a.kt)("h4",l({},{id:"description-3"}),"Description"),(0,a.kt)("p",null,"Tout attribut de dataclass peut \xeatre utilis\xe9 en tant que propri\xe9t\xe9 d'une entity selection afin de retourner une \"projection\" des valeurs de l'attribut dans l'entity selection. Projected values can be a collection or a new entity selection, depending on the ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass#attributename"}),"kind")," (",(0,a.kt)("inlineCode",{parentName:"p"},"storage")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"relation"),") of the attribute."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If ",(0,a.kt)("em",{parentName:"li"},"attributeName")," kind is ",(0,a.kt)("inlineCode",{parentName:"li"},"storage"),":\n",(0,a.kt)("inlineCode",{parentName:"li"},".attributeName")," returns a collection of values of the same type as ",(0,a.kt)("em",{parentName:"li"},"attributeName"),"."),(0,a.kt)("li",{parentName:"ul"},"If ",(0,a.kt)("em",{parentName:"li"},"attributeName")," kind is ",(0,a.kt)("inlineCode",{parentName:"li"},"relatedEntity"),":\n",(0,a.kt)("inlineCode",{parentName:"li"},".attributeName")," returns a new entity selection of related values of the same type as ",(0,a.kt)("em",{parentName:"li"},"attributeName"),". Les doublons sont supprim\xe9s (une entity selection non ordonn\xe9e est retourn\xe9e)."),(0,a.kt)("li",{parentName:"ul"},"If ",(0,a.kt)("em",{parentName:"li"},"attributeName")," kind is ",(0,a.kt)("inlineCode",{parentName:"li"},"relatedEntities"),":\n",(0,a.kt)("inlineCode",{parentName:"li"},".attributeName")," returns a new entity selection of related values of the same type as ",(0,a.kt)("em",{parentName:"li"},"attributeName"),". Les doublons sont supprim\xe9s (une entity selection non ordonn\xe9e est retourn\xe9e).")),(0,a.kt)("p",null,"Lorsqu'un attribut relationnel est utilis\xe9 comme propri\xe9t\xe9 d'une entity selection, le r\xe9sultat est toujours une autre entity selection, m\xeame si une seule entit\xe9 est retourn\xe9e. Dans ce cas, si aucune entit\xe9 n'est renvoy\xe9e, le r\xe9sultat est une s\xe9lection d'entit\xe9s vide."),(0,a.kt)("p",null,"Si l'attribut n'existe pas dans l'entity selection, une erreur est retourn\xe9e."),(0,a.kt)("h4",l({},{id:"exemple-1-1"}),"Exemple 1"),(0,a.kt)("p",null,"Projection de valeurs de stockage :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $firstNames : Collection\n $entitySelection:=ds.Employee.all()\n $firstNames:=$entitySelection.firstName // firstName est un texte\n")),(0,a.kt)("p",null,"Le r\xe9sultat est une collection de cha\xeenes, par exemple :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    "Joanna",\n    "Alexandra",\n    "Rick"\n]\n')),(0,a.kt)("h4",l({},{id:"exemple-2-1"}),"Exemple 2"),(0,a.kt)("p",null,"Projection d'entit\xe9 li\xe9e :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $es; $entitySelection : cs.EmployeeSelection\n $entitySelection:=ds.Employee.all()\n $es:=$entitySelection.employer // employer est li\xe9 \xe0 la dataclass Company\n")),(0,a.kt)("p",null,"L'objet r\xe9sultant est une entity selection de la dataclass Company sans doublons (s'il y en a)."),(0,a.kt)("h4",l({},{id:"exemple-3"}),"Exemple 3"),(0,a.kt)("p",null,"Projection d'entit\xe9s li\xe9es :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $es : cs.EmployeeSelection\n $es:=ds.Employee.all().directReports // directReports est r\xe9cursif et li\xe9 \xe0 la dataclass Employee\n")),(0,a.kt)("p",null,"L'objet r\xe9sultant est une entity selection de la dataclass Employee sans doublons (s'il y en a)."),(0,a.kt)("h2",l({},{id:"add"}),".add()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"19 R7"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Support of ",(0,a.kt)("em",{parentName:"td"},"entitySelection")," parameter")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Supporte uniquement les entity selections alt\xe9rables")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".add"),"( ",(0,a.kt)("em",{parentName:"p"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".add"),"( ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entity"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entit\xe9 \xe0 ajouter \xe0 l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection \xe0 ajouter \xe0 l'entity selection d'origine")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection including the added ",(0,a.kt)("em",{parentName:"td"},"entity")," or ",(0,a.kt)("em",{parentName:"td"},"entitySelection"))))),(0,a.kt)("h4",l({},{id:"description-4"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".add()")," function adds the specified ",(0,a.kt)("em",{parentName:"p"},"entity")," or ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," to the original entity selection and returns the modified entity selection."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction modifie l'entity selection d'origine.")),(0,a.kt)("admonition",l({},{title:"avertissement",type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"The entity selection must be ",(0,a.kt)("em",{parentName:"p"},"alterable"),", i.e. it has been created for example by ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass#newselection"}),(0,a.kt)("inlineCode",{parentName:"a"},".newSelection()"))," or ",(0,a.kt)("inlineCode",{parentName:"p"},"Create entity selection"),", otherwise ",(0,a.kt)("inlineCode",{parentName:"p"},".add()")," will return an error. Les entity selections partageables n'acceptent pas l'ajout d'entit\xe9s. For more information, please refer to the ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/entities#shareable-or-alterable-entity-selections"}),"Shareable or alterable entity selections")," section.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Ajouter une entit\xe9")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If the entity selection is ordered, ",(0,a.kt)("em",{parentName:"li"},"entity")," is added at the end of the selection. Si une r\xe9f\xe9rence \xe0 la m\xeame entit\xe9 appartient d\xe9j\xe0 \xe0 l'entity selection, elle est dupliqu\xe9e et une nouvelle r\xe9f\xe9rence est ajout\xe9e."),(0,a.kt)("li",{parentName:"ul"},"If the entity selection is unordered, ",(0,a.kt)("em",{parentName:"li"},"entity")," is added anywhere in the selection, with no specific order.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Ajouter une entity selection")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If the entity selection is ordered, its order is kept and ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," is added at the end of the selection. If references to the same entities of ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," already belong to the entity selection, they are duplicated and new references are added."),(0,a.kt)("li",{parentName:"ul"},"Si l'entity selection n'est pas ordonn\xe9e, elle devient ordonn\xe9e.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"For more information, please refer to the ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"Ordered or unordered entity selection")," section.")),(0,a.kt)("p",null,"L'entity selection modifi\xe9e est retourn\xe9e par la fonction, afin que les appels vers la fonction puissent \xeatre cha\xeen\xe9s."),(0,a.kt)("p",null,"An error occurs if ",(0,a.kt)("em",{parentName:"p"},"entity")," and the entity selection are not related to the same Dataclass. If ",(0,a.kt)("em",{parentName:"p"},"entity")," is Null, no error is raised."),(0,a.kt)("h4",l({},{id:"exemple-1-2"}),"Exemple 1"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n $employees:=ds.Employee.newSelection()\n $employee:=ds.Employee.new()\n $employee.lastName:=\"Smith\"\n $employee.save()\n $employees.add($employee) //L'entit\xe9 $employee est ajout\xe9e \xe0 l'entity selection $employees\n")),(0,a.kt)("h4",l({},{id:"exemple-2-2"}),"Exemple 2"),(0,a.kt)("p",null,"Les appels vers la fonction peuvent \xeatre cha\xeen\xe9s :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $sel : cs.ProductSelection\n var $p1;$p2;$p3 : cs.ProductEntity\n\n $p1:=ds.Product.get(10)\n $p2:=ds.Product.get(11)\n $p3:=ds.Product.get(12)\n $sel:=ds.Product.newSelection()\n $sel:=$sel.add($p1).add($p2).add($p3)\n")),(0,a.kt)("h4",l({},{id:"exemple-3-1"}),"Exemple 3"),(0,a.kt)("p",null,"Dans une interface utilisateur, nous avons deux listes. L'utilisateur s\xe9lectionne des \xe9l\xe9ments de list1 pour les ajouter dans list2."),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"$sellist2:=$sellist2.add($sellist1)\n")),(0,a.kt)("h2",l({},{id:"and"}),".and()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".and"),"( ",(0,a.kt)("em",{parentName:"p"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".and"),"( ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entity"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entit\xe9 \xe0 intersecter")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection \xe0 intersecter")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection r\xe9sultante de l'intersection \xe0 l'aide de l'op\xe9rateur logique ET")))),(0,a.kt)("h4",l({},{id:"description-5"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".and()")," function combines the entity selection with an ",(0,a.kt)("em",{parentName:"p"},"entity")," or ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," parameter using the logical AND operator; it returns a new, unordered entity selection that contains only the entities that are referenced in both the entity selection and the parameter."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If you pass ",(0,a.kt)("em",{parentName:"li"},"entity")," as parameter, you combine this entity with the entity selection. Si l'entit\xe9 appartient \xe0 l'entity selection, une nouvelle entity selection contenant uniquement l'entit\xe9 est retourn\xe9e. Sinon, une entity selection vide est retourn\xe9e."),(0,a.kt)("li",{parentName:"ul"},"If you pass ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," as parameter, you combine both entity selections. Une nouvelle entity selection contenant uniquement les entit\xe9s r\xe9f\xe9renc\xe9es dans les deux s\xe9lections est retourn\xe9e. S'il n'y a pas d'intersection d'entit\xe9, une entity selection vide est retourn\xe9e.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"You can compare ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"ordered and/or unordered entity selections"),". La s\xe9lection r\xe9sultante est toujours non ordonn\xe9e.")),(0,a.kt)("p",null,"If the original entity selection or the ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," parameter is empty, or if the ",(0,a.kt)("em",{parentName:"p"},"entity")," is Null, an empty entity selection is returned."),(0,a.kt)("p",null,"Si l'entity selection initiale et le param\xe8tre ne sont pas li\xe9s \xe0 la m\xeame dataclass, une erreur est retourn\xe9e."),(0,a.kt)("h4",l({},{id:"exemple-1-3"}),"Exemple 1"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees; $result : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1";"H@")   \n  //The $employees entity selection contains the entity\n  //with primary key 710 and other entities\n  //for ex. "Colin Hetrick" / "Grady Harness" / "Sherlock Holmes" (primary key 710)\n $employee:=ds.Employee.get(710) // Returns "Sherlock Holmes"\n\n $result:=$employees.and($employee) //$result is an entity selection containing   \n  //only the entity with primary key 710 ("Sherlock Holmes")\n')),(0,a.kt)("h4",l({},{id:"exemple-2-3"}),"Exemple 2"),(0,a.kt)("p",null,'Nous voulons obtenir une s\xe9lection d\'employ\xe9s nomm\xe9s "Jones" qui vivent \xe0 New York :'),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $sel1; $sel2; $sel3 : cs.EmployeeSelection\n $sel1:=ds.Employee.query("name =:1";"Jones")\n $sel2:=ds.Employee.query("city=:1";"New York")\n $sel3:=$sel1.and($sel2)\n')),(0,a.kt)("h2",l({},{id:"at"}),".at()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".at"),"( ",(0,a.kt)("em",{parentName:"p"},"index")," : Integer ) : 4D.Entity "),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"index"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Index de l'entit\xe9 \xe0 renvoyer")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"L'entit\xe9 \xe0 cet index")))),(0,a.kt)("h4",l({},{id:"description-6"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".at()")," function returns the entity at position ",(0,a.kt)("em",{parentName:"p"},"index"),", allowing for positive and negative integer."),(0,a.kt)("p",null,"If ",(0,a.kt)("em",{parentName:"p"},"index")," is negative (from -1 to -n with n : length of the entity selection), the returned entity will be based on the reverse order of the entity selection."),(0,a.kt)("p",null,"The function returns Null if ",(0,a.kt)("em",{parentName:"p"},"index")," is beyond entity selection limits."),(0,a.kt)("h4",l({},{id:"exemple-4"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employees : cs.EmployeeSelection\nvar $emp1; $emp2 : cs.EmployeeEntity\n$employees:=ds.Employee.query("lastName = :1";"H@")\n$emp1:=$employees.at(2)  //3rd entity of the $employees entity selection \n$emp2:=$employees.at(-3) //starting from the end, 3rd entity\n    //of the $employees entity selection\n')),(0,a.kt)("h2",l({},{id:"average"}),".average()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Retourne undefined si l'entity selection est vide")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".average"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text ) : Real"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut \xe0 utiliser pour le calcul")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Real"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Moyenne arithm\xe9tique des valeurs des entit\xe9s pour l'attribut (Undefined pour une entity selection vide)")))),(0,a.kt)("h4",l({},{id:"description-7"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".average()")," function returns the arithmetic mean (average) of all the non-null values of ",(0,a.kt)("em",{parentName:"p"},"attributePath")," in the entity selection."),(0,a.kt)("p",null,"Pass in the ",(0,a.kt)("em",{parentName:"p"},"attributePath")," parameter the attribute path to evaluate."),(0,a.kt)("p",null,"Seules les valeurs num\xe9riques sont utilis\xe9es pour le calcul. Note however that, if the ",(0,a.kt)("em",{parentName:"p"},"attributePath")," of the entity selection contains mixed value types, ",(0,a.kt)("inlineCode",{parentName:"p"},".average()")," takes all scalar elements into account to calculate the average value."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Les valeurs de type Date sont converties en valeurs num\xe9riques (secondes) et utilis\xe9es pour calculer la moyenne.")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},".average()")," returns ",(0,a.kt)("strong",{parentName:"p"},"undefined")," if the entity selection is empty or ",(0,a.kt)("em",{parentName:"p"},"attributePath")," does not contain numerical values."),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," is a related attribute,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," designates an attribute that does not exist in the entity selection dataclass.")),(0,a.kt)("h4",l({},{id:"exemple-5"}),"Exemple"),(0,a.kt)("p",null,"Nous voulons obtenir la liste des employ\xe9s dont le salaire est sup\xe9rieur au salaire moyen :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $averageSalary : Real\n var $moreThanAv : cs.EmployeeSelection\n $averageSalary:=ds.Employee.all().average("salary")\n $moreThanAv:=ds.Employee.query("salary > :1";$averageSalary)\n')),(0,a.kt)("h2",l({},{id:"contains"}),".contains()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".contains"),"( ",(0,a.kt)("em",{parentName:"p"},"entity")," : 4D.Entity ) : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entity"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entit\xe9 \xe0 \xe9valuer")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Vrai si l'entit\xe9 appartient \xe0 l'entity selection, sinon Faux")))),(0,a.kt)("h4",l({},{id:"description-8"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".contains()")," function returns true if entity reference belongs to the entity selection, and false otherwise."),(0,a.kt)("p",null,"In ",(0,a.kt)("em",{parentName:"p"},"entity"),", specify the entity to search for in the entity selection. Si l'entit\xe9 est Null, la fonction retournera faux."),(0,a.kt)("p",null,"If ",(0,a.kt)("em",{parentName:"p"},"entity")," and the entity selection do not belong to the same dataclass, an error is raised."),(0,a.kt)("h4",l({},{id:"exemple-6"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n\n $employees:=ds.Employee.query("lastName=:1";"H@")\n $employee:=ds.Employee.get(610)\n\n If($employees.contains($employee))\n    ALERT("The entity with primary key 610 has a last name beginning with H")\n Else\n    ALERT("The entity with primary key 610 does not have a last name beginning with H")\n End if\n')),(0,a.kt)("h2",l({},{id:"count"}),".count()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".count"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text ) : Real"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut \xe0 utiliser pour le calcul")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Real"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Number of non null ",(0,a.kt)("em",{parentName:"td"},"attributePath")," values in the entity selection")))),(0,a.kt)("h4",l({},{id:"description-9"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".count()")," function returns the number of entities in the entity selection with a non-null value in ",(0,a.kt)("em",{parentName:"p"},"attributePath"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Seules les valeurs scalaires sont prises en compte. Les valeurs de type objet ou collection sont consid\xe9r\xe9es comme des valeurs null.")),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," is a related attribute,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," is not found in the entity selection dataclass.")),(0,a.kt)("h4",l({},{id:"exemple-7"}),"Exemple"),(0,a.kt)("p",null,"Nous voulons trouver le nombre total d'employ\xe9s d'une entreprise sans compter ceux dont l'intitul\xe9 du poste n'a pas \xe9t\xe9 d\xe9fini :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $sel : cs.EmployeeSelection\n var $count : Real\n\n $sel:=ds.Employee.query("employer = :1";"Acme, Inc")\n $count:=$sel.count("jobtitle")\n')),(0,a.kt)("h2",l({},{id:"copy"}),".copy()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".copy"),"( { ",(0,a.kt)("em",{parentName:"p"},"option")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"option"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"ck shared"),": return a shareable entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Copie de l'entity selection")))),(0,a.kt)("h4",l({},{id:"description-10"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".copy()")," function returns a copy of the original entity selection."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction ne modifie pas l'entity selection d'origine.")),(0,a.kt)("p",null,"By default, if the ",(0,a.kt)("em",{parentName:"p"},"option")," parameter is omitted, the function returns a new, alterable entity selection (even if the function is applied to a shareable entity selection). Pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"ck shared")," constant in the ",(0,a.kt)("em",{parentName:"p"},"option")," parameter if you want to create a shareable entity selection."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"For information on the shareable property of entity selections, please refer to the ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/entities#shareable-or-alterable-entity-selections"}),"Shareable or alterable entity selections")," section.")),(0,a.kt)("h4",l({},{id:"exemple-8"}),"Exemple"),(0,a.kt)("p",null,"Vous cr\xe9ez une nouvelle entity selection de produits, vide lorsque le formulaire est charg\xe9 :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," Case of\n    :(Form event code=On Load)\n       Form.products:=ds.Products.newSelection()\n End case\n\n")),(0,a.kt)("p",null,"Cette entity selection est ensuite mise \xe0 jour avec les produits et vous souhaitez partager les produits entre plusieurs process. Copiez l'entity selection Form.products comme s\xe9lection partageable:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," ...\n  // The Form.products entity selection is updated\n Form.products.add(Form.selectedProduct)\n\n Use(Storage)\n    If(Storage.products=Null)\n       Storage.products:=New shared object()\n    End if\n\n    Use(Storage.products)\n       Storage.products:=Form.products.copy(ck shared)\n    End use\n End use\n")),(0,a.kt)("h2",l({},{id:"distinct"}),".distinct()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Support of ",(0,a.kt)("inlineCode",{parentName:"td"},"dk count values"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".distinct"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text { ; ",(0,a.kt)("em",{parentName:"p"},"options")," : Integer } ) : Collection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut dont vous souhaitez obtenir les valeurs distinctes")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"options"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk diacritical"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"dk count values"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection avec seulement les valeurs distinctes")))),(0,a.kt)("h4",l({},{id:"description-11"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".distinct()")," function returns a collection containing only distinct (different) values from the ",(0,a.kt)("em",{parentName:"p"},"attributePath")," in the entity selection."),(0,a.kt)("p",null,"La collection retourn\xe9e est automatiquement tri\xe9e. Les valeurs ",(0,a.kt)("strong",{parentName:"p"},"Null")," ne sont pas retourn\xe9es."),(0,a.kt)("p",null,"In the ",(0,a.kt)("em",{parentName:"p"},"attributePath")," parameter, pass the entity attribute whose distinct values you want to get. Seules les valeurs scalaires (texte, nombre, bool\xe9en ou date) peuvent \xeatre g\xe9r\xe9es. If the ",(0,a.kt)("em",{parentName:"p"},"attributePath")," leads to an object property that contains values of different types, they are first grouped by type and sorted afterwards. Les types sont renvoy\xe9s dans l'ordre suivant :"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"bool\xe9ens"),(0,a.kt)("li",{parentName:"ol"},"cha\xeenes"),(0,a.kt)("li",{parentName:"ol"},"nombres"),(0,a.kt)("li",{parentName:"ol"},"dates")),(0,a.kt)("p",null,"You can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"[]")," notation to designate a collection when ",(0,a.kt)("em",{parentName:"p"},"attributePath")," is a path within an object (see examples)."),(0,a.kt)("p",null,"Dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"options"),", vous pouvez passer une ou une combinaison des constantes suivantes :"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Constante"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Valeur"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Commentaire"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk diacritical")),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"8"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"L'\xe9valuation est sensible \xe0 la casse et diff\xe9rencie les caract\xe8res accentu\xe9s. Par d\xe9faut si omis, une \xe9valuation non diacritique est effectu\xe9e")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk count values")),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"32"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Renvoie le nombre d'entit\xe9s pour chaque valeur distincte. When this option is passed, ",(0,a.kt)("inlineCode",{parentName:"td"},".distinct()")," returns a collection of objects containing a pair of ",(0,a.kt)("inlineCode",{parentName:"td"},'{"value":*value*; "count":*count*}')," properties.")))),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"The ",(0,a.kt)("inlineCode",{parentName:"p"},"dk count values")," option is only available with storage attributes of type boolean, string, number, and date.")),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," is a related attribute,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," is not found in the entity selection dataclass.")),(0,a.kt)("h4",l({},{id:"exemples"}),"Exemples"),(0,a.kt)("p",null,"Vous souhaitez obtenir une collection contenant un seul \xe9l\xe9ment par nom de pays :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $countries : Collection\n$countries:=ds.Employee.all().distinct("address.country")\n//$countries[0]={"Argentina"}\n//$countries[1]={"Australia"}\n//$countries[2]={"Belgium"}\n///...\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"nicknames")," is a collection and ",(0,a.kt)("inlineCode",{parentName:"p"},"extra")," is an object attribute:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$values:=ds.Employee.all().distinct("extra.nicknames[].first")\n')),(0,a.kt)("p",null,"Vous souhaitez conna\xeetre le nombre de noms de postes diff\xe9rents dans l'entreprise :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $jobs : Collection\n$jobs:=ds.Employee.all().distinct("jobName";dk count values)  \n//$jobs[0]={"value":"Developer";"count":17}\n//$jobs[1]={"value":"Office manager";"count":5}\n//$jobs[2]={"value":"Accountant";"count":2}\n//...\n')),(0,a.kt)("h2",l({},{id:"distinctpaths"}),".distinctPaths()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".distinctPaths"),"( ",(0,a.kt)("em",{parentName:"p"},"attribute")," : Text ) : Collection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attribute"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nom de l'attribut objet dont vous souhaitez obtenir les chemins d'acc\xe8s")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle collection avec chemins distincts")))),(0,a.kt)("h4",l({},{id:"description-12"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".distinctPaths()")," function returns a collection of distinct paths found in the indexed object ",(0,a.kt)("em",{parentName:"p"},"attribute")," for the entity selection."),(0,a.kt)("p",null,"If ",(0,a.kt)("em",{parentName:"p"},"attribute")," is not an indexed object attribute, an error is generated."),(0,a.kt)("p",null,"After the call, the size of the returned collection is equal to the number of distinct paths found in ",(0,a.kt)("em",{parentName:"p"},"attribute"),' for the entity selection. Les chemins sont renvoy\xe9s sous forme de cha\xeenes, y compris les attributs imbriqu\xe9s et les collections, par exemple "info.address.number" ou "children[].birthdate". Entities with a null value in the ',(0,a.kt)("em",{parentName:"p"},"attribute")," are not taken into account."),(0,a.kt)("h4",l({},{id:"exemple-9"}),"Exemple"),(0,a.kt)("p",null,"You want to get all paths stored in a ",(0,a.kt)("em",{parentName:"p"},"fullData")," object attribute:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $paths : Collection\n$paths:=ds.Employee.all().distinctPaths("fullData")\n//$paths[0]="age"\n//$paths[1]="Children"\n//$paths[2]="Children[].age"\n//$paths[3]="Children[].name"\n//$paths[4]="Children.length"\n///...\n')),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("em",{parentName:"p"},"length")," is automatically added as path for nested collection properties.")),(0,a.kt)("h2",l({},{id:"drop"}),".drop()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".drop"),"( { ",(0,a.kt)("em",{parentName:"p"},"mode")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"mode"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk stop dropping on first error"),": stops method execution on first non-droppable entity")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection vide si ex\xe9cut\xe9e avec succ\xe8s, sinon entity selection contenant la ou les entit\xe9(s) non supprim\xe9e(s)")))),(0,a.kt)("h4",l({},{id:"description-13"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".drop()")," function removes the entities belonging to the entity selection from the table related to its dataclass within the datastore. L'entity selection reste en m\xe9moire."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"La suppression d'entit\xe9s est permanente et ne peut pas \xeatre annul\xe9e. Il est recommand\xe9 d'appeler cette action dans une transaction afin d'avoir une possibilit\xe9 de r\xe9cup\xe9ration.")),(0,a.kt)("p",null,"If a locked entity is encountered during the execution of ",(0,a.kt)("inlineCode",{parentName:"p"},".drop()"),", it is not removed. Par d\xe9faut, la fonction traite toutes les entit\xe9s de l'entity selection et renvoie des entit\xe9s non supprimables dans l'entity selection. If you want the method to stop execution at the first encountered non-droppable entity, pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"dk stop dropping on first error")," constant in the ",(0,a.kt)("em",{parentName:"p"},"mode")," parameter."),(0,a.kt)("h4",l({},{id:"exemple-10"}),"Exemple"),(0,a.kt)("p",null,"Example without the ",(0,a.kt)("inlineCode",{parentName:"p"},"dk stop dropping on first error")," option:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees; $notDropped : cs.EmployeeSelection\n $employees:=ds.Employee.query("firstName=:1";"S@")\n $notDropped:=$employees.drop() // $notDropped is an entity selection containing all the not dropped entities\n If($notDropped.length=0) //The delete action is successful, all the entities have been deleted\n    ALERT("You have dropped "+String($employees.length)+" employees") //The dropped entity selection remains in memory\n Else\n    ALERT("Problem during drop, try later")\n End if\n')),(0,a.kt)("p",null,"Example with the ",(0,a.kt)("inlineCode",{parentName:"p"},"dk stop dropping on first error")," option:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees; $notDropped : cs.EmployeeSelection\n $employees:=ds.Employee.query("firstName=:1";"S@")\n $notDropped:=$employees.drop(dk stop dropping on first error) //$notDropped is an entity selection containing the first not dropped entity\n If($notDropped.length=0) //The delete action is successful, all the entities have been deleted\n    ALERT("You have dropped "+String($employees.length)+" employees") //The dropped entity selection remains in memory\n Else\n    ALERT("Problem during drop, try later")\n End if\n')),(0,a.kt)("h2",l({},{id:"extract"}),".extract()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R3"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".extract"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text { ; ",(0,a.kt)("em",{parentName:"p"},"option")," : Integer } ) : Collection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".extract"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," { ; ",(0,a.kt)("em",{parentName:"p"},"targetPath")," } { ; ",(0,a.kt)("em",{parentName:"p"},"...attributePathN")," : Text ; ",(0,a.kt)("em",{parentName:"p"},"targetPathN")," : Text } ) : Collection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin d'attribut dont les valeurs doivent \xeatre extraites dans la nouvelle collection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"targetPath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin ou nom d'attribut cible")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"option"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"ck keep null"),": include null attributes in the returned collection (ignored by default)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection contenant les valeurs extraites")))),(0,a.kt)("h4",l({},{id:"description-14"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".extract()")," function returns a collection containing ",(0,a.kt)("em",{parentName:"p"},"attributePath")," values extracted from the entity selection."),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"attributePath")," can refer to:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"un attribut scalaire de dataclass,"),(0,a.kt)("li",{parentName:"ul"},"une entit\xe9 li\xe9e,"),(0,a.kt)("li",{parentName:"ul"},"des entit\xe9s li\xe9es.")),(0,a.kt)("p",null,"If ",(0,a.kt)("em",{parentName:"p"},"attributePath")," is invalid, an empty collection is returned."),(0,a.kt)("p",null,"Cette fonction accepte deux syntaxes."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".extract( attributePath : Text { ; option : Integer } ) : Collection")),(0,a.kt)("p",null,"With this syntax, ",(0,a.kt)("inlineCode",{parentName:"p"},".extract()")," populates the returned collection with the ",(0,a.kt)("em",{parentName:"p"},"attributePath")," values of the entity selection."),(0,a.kt)("p",null,"By default, entities for which ",(0,a.kt)("em",{parentName:"p"},"attributePath")," is ",(0,a.kt)("em",{parentName:"p"},"null")," or undefined are ignored in the resulting collection. You can pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"ck keep null")," constant in the ",(0,a.kt)("em",{parentName:"p"},"option")," parameter to include these values as ",(0,a.kt)("strong",{parentName:"p"},"null")," elements in the returned collection."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Dataclass attributes with ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/API/DataClassClass#attributename"}),".kind"),' = "relatedEntity" are extracted as a collection of entities (duplications are kept).'),(0,a.kt)("li",{parentName:"ul"},"Dataclass attributes with ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/API/DataClassClass#attributename"}),".kind"),' = "relatedEntities" are extracted as a collection of entity selections.')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".extract ( attributePath ; targetPath { ; ...attributePathN ; ... targetPathN}) : Collection")),(0,a.kt)("p",null,"With this syntax, ",(0,a.kt)("inlineCode",{parentName:"p"},".extract()")," populates the returned collection with the ",(0,a.kt)("em",{parentName:"p"},"attributePath")," properties. Each element of the returned collection is an object with ",(0,a.kt)("em",{parentName:"p"},"targetPath")," properties filled with the corresponding ",(0,a.kt)("em",{parentName:"p"},"attributePath")," properties. Les valeurs null sont conserv\xe9es (le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"option")," est ignor\xe9 avec cette syntaxe)."),(0,a.kt)("p",null,"If several ",(0,a.kt)("em",{parentName:"p"},"attributePath")," are given, a ",(0,a.kt)("em",{parentName:"p"},"targetPath")," must be given for each. Only valid pairs ","[",(0,a.kt)("em",{parentName:"p"},"attributePath"),", ",(0,a.kt)("em",{parentName:"p"},"targetPath"),"] are extracted."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Dataclass attributes with ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/API/DataClassClass#attributename"}),".kind"),' = "relatedEntity" are extracted as an entity.'),(0,a.kt)("li",{parentName:"ul"},"Dataclass attributes with ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/API/DataClassClass#attributename"}),".kind"),' = "relatedEntities" are extracted as an entity selection.')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Les entit\xe9s d'une collection d'entit\xe9s auxquelles on acc\xe8de par ","["," ] ne sont pas recharg\xe9es depuis la base de donn\xe9es.")),(0,a.kt)("h4",l({},{id:"exemple-11"}),"Exemple"),(0,a.kt)("p",null,"Consid\xe9rons les tables et relations suivantes :"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(587252).Z,width:"622",height:"350"})),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $firstnames; $addresses; $mailing; $teachers : Collection\n  //\n  //\n  //$firstnames is a collection of Strings\n\n\n $firstnames:=ds.Teachers.all().extract("firstname")\n  //\n  //$addresses is a collection of entities related to dataclass Address\n  //Null values for address are extracted\n $addresses:=ds.Teachers.all().extract("address";ck keep null)\n  //\n  //\n  //$mailing is a collection of objects with properties "who" and "to"\n  //"who" property content is String type\n  //"to" property content is entity type (Address dataclass)\n $mailing:=ds.Teachers.all().extract("lastname";"who";"address";"to")\n  //\n  //\n  //$mailing is a collection of objects with properties "who" and "city"\n  //"who" property content is String type\n  //"city" property content is String type\n $mailing:=ds.Teachers.all().extract("lastname";"who";"address.city";"city")\n  //\n  //$teachers is a collection of objects with properties "where" and "who"\n  //"where" property content is String\n  //"who" property content is an entity selection (Teachers dataclass)\n $teachers:=ds.Address.all().extract("city";"where";"teachers";"who")\n  //\n  //$teachers is a collection of entity selections\n $teachers:=ds.Address.all().extract("teachers")\n')),(0,a.kt)("h2",l({},{id:"first"}),".first()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".first()")," : 4D.Entity"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9f\xe9rence vers la premi\xe8re entit\xe9 de l'entity selection (Null si la selection est vide)")))),(0,a.kt)("h4",l({},{id:"description-15"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".first()")," function returns a reference to the entity in the first position of the entity selection."),(0,a.kt)("p",null,"Le r\xe9sultat de cette fonction est similaire \xe0 :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," $entity:=$entitySel[0]\n")),(0,a.kt)("p",null,"Il existe cependant une diff\xe9rence entre les deux instructions lorsque la s\xe9lection est vide :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $entitySel : cs.EmpSelection\n var $entity : cs.EmpEntity\n $entitySel:=ds.Emp.query("lastName = :1";"Nonexistentname") //no matching entity\n  //entity selection is then empty\n $entity:=$entitySel.first() //returns Null\n $entity:=$entitySel[0]  //generates an error\n')),(0,a.kt)("h4",l({},{id:"exemple-12"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $entitySelection : cs.EmpSelection\n var $entity : cs.EmpEntity\n $entitySelection:=ds.Emp.query("salary > :1";100000)\n If($entitySelection.length#0)\n    $entity:=$entitySelection.first()\n End if\n')),(0,a.kt)("h2",l({},{id:"getdataclass"}),".getDataClass()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".getDataClass()")," : 4D.DataClass"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.DataClass"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Dataclass \xe0 laquelle appartient l'entity selection")))),(0,a.kt)("h4",l({},{id:"description-16"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".getDataClass()")," function returns the dataclass of the entity selection."),(0,a.kt)("p",null,"Cette fonction est utile principalement dans le contexte de code g\xe9n\xe9rique."),(0,a.kt)("h4",l({},{id:"exemple-13"}),"Exemple"),(0,a.kt)("p",null,"Le code g\xe9n\xe9rique suivant duplique toutes les entit\xe9s de l'entity selection :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"  //duplicate_entities method\n  //duplicate_entities($entity_selection)\n\n #DECLARE ( $entitySelection : 4D.EntitySelection )  \n var $dataClass : 4D.DataClass\n var $entity; $duplicate : 4D.Entity\n var $status : Object\n $dataClass:=$entitySelection.getDataClass()\n For each($entity;$entitySelection)\n    $duplicate:=$dataClass.new()\n    $duplicate.fromObject($entity.toObject())\n    $duplicate[$dataClass.getInfo().primaryKey]:=Null //reset the primary key\n    $status:=$duplicate.save()\n End for each\n")),(0,a.kt)("h2",l({},{id:"getremotecontextattributes"}),".getRemoteContextAttributes()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"19R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".getRemoteContextAttributes()")," : Text"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:null})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"result"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Attributs de contexte associ\xe9s \xe0 l'entity selection, s\xe9par\xe9s par une virgule")))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. Dans la plupart des cas, vous n'aurez pas besoin de l'utiliser.")),(0,a.kt)("h4",l({},{id:"description-17"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".getRemoteContextAttributes()")," function returns information about the optimization context used by the entity selection."),(0,a.kt)("p",null,"If there is no ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/datastores#clientserver-optimization"}),"optimization context")," for the entity selection, the function returns an empty Text."),(0,a.kt)("h4",l({},{id:"exemple-14"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $p : cs.PersonsEntity\n\nvar $info : Text\nvar $text : Text\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$persons:=$ds.Persons.all()\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / "\nEnd for each\n\n$info:=$persons.getRemoteContextAttributes()\n//$info = "firstname,address,address.city"\n')),(0,a.kt)("h4",l({},{id:"voir-\xe9galement-1"}),"Voir \xe9galement"),(0,a.kt)("p",null,(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/EntityClass#getRemoteContextAttributes"}),"Entity.getRemoteContextAttributes()"),(0,a.kt)("br",null),(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataStoreClass#clearallremotecontexts"}),".clearAllRemoteContexts()"),(0,a.kt)("br",null),(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataStoreClass#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,a.kt)("br",null),(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataStoreClass#getallremotecontexts"}),".getAllRemoteContexts()"),(0,a.kt)("br",null),(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataStoreClass#setremotecontextinfo"}),".setRemoteContextInfo()")),(0,a.kt)("h2",l({},{id:"isalterable"}),".isAlterable()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".isAlterable()")," : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Vrai si l'entity selection est modifiable, sinon Faux")))),(0,a.kt)("h4",l({},{id:"description-18"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".isAlterable()")," function returns True if the entity selection is alterable, and False if the entity selection is not alterable."),(0,a.kt)("p",null,"For more information, please refer to ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/entities#shareable-or-alterable-entity-selections"}),"Shareable or alterable entity selections"),"."),(0,a.kt)("h4",l({},{id:"exemple-15"}),"Exemple"),(0,a.kt)("p",null,"You are about to display ",(0,a.kt)("inlineCode",{parentName:"p"},"Form.products")," in a ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/FormObjects/listboxOverview"}),"list box")," to allow the user to add new products. Vous voulez vous assurer qu'elle est modifiable afin que l'utilisateur puisse ajouter de nouveaux produits sans erreur :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"If (Not(Form.products.isAlterable()))\n    Form.products:=Form.products.copy()\nEnd if\n...\nForm.products.add(Form.product)\n")),(0,a.kt)("h2",l({},{id:"isordered"}),".isOrdered()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".isOrdered()")," : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Vrai si l'entity selection est tri\xe9e, sinon Faux")))),(0,a.kt)("h4",l({},{id:"description-19"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".isOrdered()")," function returns True if the entity selection is ordered, and False if it is unordered."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction renvoie toujours Vrai lorsque l'entity selection provient d'un datastore distant.")),(0,a.kt)("p",null,"For more information, please refer to ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"Ordered or unordered entity selection"),"."),(0,a.kt)("h4",l({},{id:"exemple-16"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n var $isOrdered : Boolean\n $employees:=ds.Employee.newSelection(dk keep ordered)\n $employee:=ds.Employee.get(714) // Gets the entity with primary key 714\n\n  //In an ordered entity selection, we can add the same entity several times (duplications are kept)\n $employees.add($employee)\n $employees.add($employee)\n $employees.add($employee)\n\n $isOrdered:=$employees.isOrdered()\n If($isOrdered)\n    ALERT("The entity selection is ordered and contains "+String($employees.length)+" employees")\n End if\n')),(0,a.kt)("h2",l({},{id:"last"}),".last()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".last()")," : 4D.Entity"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9f\xe9rence vers la derni\xe8re entit\xe9 de l'entity selection (Null si l'entity selection est vide)")))),(0,a.kt)("h4",l({},{id:"description-20"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".last()")," function returns a reference to the entity in last position of the entity selection."),(0,a.kt)("p",null,"Le r\xe9sultat de cette fonction est similaire \xe0 :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," $entity:=$entitySel[length-1]\n")),(0,a.kt)("p",null,"Si l'entity selection est vide, la fonction renvoie Null."),(0,a.kt)("h4",l({},{id:"exemple-17"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $entitySelection : cs.EmpSelection\n var $entity : cs.EmpEntity\n $entitySelection:=ds.Emp.query("salary < :1";50000)\n If($entitySelection.length#0)\n    $entity:=$entitySelection.last()\n End if\n')),(0,a.kt)("h2",l({},{id:"length"}),".length"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".length")," : Integer"),(0,a.kt)("h4",l({},{id:"description-21"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".length")," property returns the number of entities in the entity selection. Si l'entity selection est vide, elle contient 0."),(0,a.kt)("p",null,"Entity selections always have a ",(0,a.kt)("inlineCode",{parentName:"p"},".length")," property."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"To know the total number of entities in a dataclass, it is recommended to use the ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass#getcount"}),(0,a.kt)("inlineCode",{parentName:"a"},"getCount()"))," function which is more optimized than the ",(0,a.kt)("inlineCode",{parentName:"p"},"ds.myClass.all().length")," expression.")),(0,a.kt)("h4",l({},{id:"exemple-18"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $vSize : Integer\n $vSize:=ds.Employee.query("gender = :1";"male").length\n ALERT(String(vSize)+" employ\xe9s masculins trouv\xe9s.")\n')),(0,a.kt)("h2",l({},{id:"max"}),".max()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Retourne undefined si l'entity selection est vide"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".max"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text ) : any"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:null})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut \xe0 utiliser pour le calcul")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"any"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Valeur la plus haute de l'attribut")))),(0,a.kt)("h4",l({},{id:"description-22"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".max()")," function returns the highest (or maximum) value among all the values of ",(0,a.kt)("em",{parentName:"p"},"attributePath")," in the entity selection. It actually returns the value of the last entity of the entity selection as it would be sorted in ascending order using the ",(0,a.kt)("a",l({parentName:"p"},{href:"#orderby"}),(0,a.kt)("inlineCode",{parentName:"a"},".orderBy()"))," function."),(0,a.kt)("p",null,"If you pass in ",(0,a.kt)("em",{parentName:"p"},"attributePath")," a path to an object property containing different types of values, the ",(0,a.kt)("inlineCode",{parentName:"p"},".max()")," function will return the maximum value within the first scalar type in the default 4D type list order (see ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/CollectionClass#sort"}),(0,a.kt)("inlineCode",{parentName:"a"},".sort()"))," description)."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},".max()")," returns ",(0,a.kt)("strong",{parentName:"p"},"undefined")," if the entity selection is empty or ",(0,a.kt)("em",{parentName:"p"},"attributePath")," is not found in the object attribute."),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," is a related attribute,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," designates an attribute that does not exist in the entity selection dataclass.")),(0,a.kt)("h4",l({},{id:"exemple-19"}),"Exemple"),(0,a.kt)("p",null,"Nous souhaitons conna\xeetre le salaire le plus \xe9lev\xe9 parmi les employ\xe9es :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $sel : cs.EmpSelection\n var $maxSalary : Real\n $sel:=ds.Employee.query("gender = :1";"female")\n $maxSalary:=$sel.max("salary")\n')),(0,a.kt)("h2",l({},{id:"min"}),".min()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Retourne undefined si l'entity selection est vide"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".min"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text ) : any"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut \xe0 utiliser pour le calcul")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"any"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Valeur la plus basse de l'attribut")))),(0,a.kt)("h4",l({},{id:"description-23"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".min()")," function  returns the lowest (or minimum) value among all the values of attributePath in the entity selection.  It actually returns the first entity of the entity selection as it would be sorted in ascending order using the ",(0,a.kt)("a",l({parentName:"p"},{href:"#orderby"}),(0,a.kt)("inlineCode",{parentName:"a"},".orderBy()"))," function (excluding ",(0,a.kt)("strong",{parentName:"p"},"null")," values)."),(0,a.kt)("p",null,"If you pass in ",(0,a.kt)("em",{parentName:"p"},"attributePath")," a path to an object property containing different types of values, the ",(0,a.kt)("inlineCode",{parentName:"p"},".min()")," function will return the minimum value within the first scalar value type in the type list order (see ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/CollectionClass#sort"}),(0,a.kt)("inlineCode",{parentName:"a"},".sort()"))," description)."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},".min()")," returns ",(0,a.kt)("strong",{parentName:"p"},"undefined")," if the entity selection is empty or ",(0,a.kt)("em",{parentName:"p"},"attributePath")," is not found in the object attribute."),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," is a related attribute,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," designates an attribute that does not exist in the entity selection dataclass.")),(0,a.kt)("h4",l({},{id:"exemple-20"}),"Exemple"),(0,a.kt)("p",null,"Nous souhaitons conna\xeetre le salaire le plus bas parmi les employ\xe9es :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $sel : cs.EmpSelection\n var $minSalary : Real\n $sel:=ds.Employee.query("gender = :1";"female")\n $minSalary:=$sel.min("salary")\n')),(0,a.kt)("h2",l({},{id:"minus"}),".minus()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"19 R7"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Support of ",(0,a.kt)("em",{parentName:"td"},"keepOrder")," parameter")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".minus"),"( ",(0,a.kt)("em",{parentName:"p"},"entity")," : 4D.Entity { ; ",(0,a.kt)("em",{parentName:"p"},"keepOrder")," : Integer } ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".minus"),"( ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," : 4D.EntitySelection { ; ",(0,a.kt)("em",{parentName:"p"},"keepOrder")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entity"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entit\xe9 \xe0 soustraire")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection \xe0 soustraire")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"keepOrder"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk keep ordered")," (integer) to keep the initial order in the resulting entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection ou une nouvelle r\xe9f\xe9rence sur l'entity selection existante")))),(0,a.kt)("h4",l({},{id:"description-24"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".minus()")," function excludes from the entity selection to which it is applied the ",(0,a.kt)("em",{parentName:"p"},"entity")," or the entities of ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," and returns the resulting entity selection."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If you pass ",(0,a.kt)("em",{parentName:"li"},"entity")," as parameter, the function creates a new entity selection without ",(0,a.kt)("em",{parentName:"li"},"entity")," (if ",(0,a.kt)("em",{parentName:"li"},"entity")," belongs to the entity selection). If ",(0,a.kt)("em",{parentName:"li"},"entity")," was not included in the original entity selection, a new reference to the entity selection is returned."),(0,a.kt)("li",{parentName:"ul"},"If you pass ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," as parameter, the function returns an entity selection containing the entities belonging to the original entity selection without the entities belonging to ",(0,a.kt)("em",{parentName:"li"},"entitySelection"),". You can compare ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"ordered and/or unordered entity selections"),".")),(0,a.kt)("p",null,"By default, if you omit the ",(0,a.kt)("em",{parentName:"p"},"keepOrder")," parameter, the resulting entity selection is unordered. If you want to keep the order of the original entity selection (for example if you want to reuse the entity selection in a user interface), pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"dk keep ordered")," constant in ",(0,a.kt)("em",{parentName:"p"},"keepOrder"),". Dans ce cas, le r\xe9sultat est une entity selection ordonn\xe9e et l'ordre de l'entity selection initiale est conserv\xe9."),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"If you pass ",(0,a.kt)("inlineCode",{parentName:"p"},"dk keep ordered")," in ",(0,a.kt)("em",{parentName:"p"},"keepOrder")," and the removed ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," contains entities duplicated in the original entity selection, all occurences of the duplicates are removed.")),(0,a.kt)("p",null,"If the original entity selection or both the original entity selection and the ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," parameter are empty, an empty entity selection is returned."),(0,a.kt)("p",null,"If ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," is empty or if ",(0,a.kt)("em",{parentName:"p"},"entity")," is Null, a new reference to the original entity selection is returned."),(0,a.kt)("p",null,"Si l'entity selection initiale et le param\xe8tre ne sont pas li\xe9s \xe0 la m\xeame dataclass, une erreur est retourn\xe9e."),(0,a.kt)("h4",l({},{id:"exemple-1-4"}),"Exemple 1"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees; $result : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n\n $employees:=ds.Employee.query("lastName = :1";"H@")\n  // The $employees entity selection contains the entity with primary key 710 and other entities\n  // for ex. "Colin Hetrick", "Grady Harness", "Sherlock Holmes" (primary key 710)\n\n $employee:=ds.Employee.get(710) // Returns "Sherlock Holmes"\n\n $result:=$employees.minus($employee) //$result contains "Colin Hetrick", "Grady Harness"\n')),(0,a.kt)("h4",l({},{id:"exemple-2-4"}),"Exemple 2"),(0,a.kt)("p",null,'Vous voulez avoir une s\xe9lection d\'employ\xe9es nomm\xe9es "Jones" qui vivent \xe0 New York :'),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $sel1; $sel2; $sel3 : cs.EmployeeSelection\n $sel1:=ds.Employee.query("name =:1";"Jones")\n $sel2:=ds.Employee.query("city=:1";"New York")\n $sel3:=$sel1.and($sel2).minus(ds.Employee.query("gender=\'male\'"))\n')),(0,a.kt)("h4",l({},{id:"exemple-3-2"}),"Exemple 3"),(0,a.kt)("p",null,"Dans une interface utilisateur, nous avons une liste qui affiche des \xe9l\xe9ments dans un ordre sp\xe9cifique. Si l'utilisateur s\xe9lectionne des \xe9l\xe9ments dans la liste pour les supprimer, l'ordre doit \xeatre conserv\xe9 lors du rafra\xeechissement de la liste :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"$listsel:=$listsel.minus($selectedItems; dk keep ordered)\n")),(0,a.kt)("h2",l({},{id:"or"}),".or()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".or"),"( ",(0,a.kt)("em",{parentName:"p"},"entity")," : 4D.Entity ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".or"),"( ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," : 4D.EntitySelection ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entity"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entit\xe9 \xe0 intersecter")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"entitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection \xe0 intersecter")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection ou nouvelle r\xe9f\xe9rence \xe0 l'entity selection d'origine")))),(0,a.kt)("h4",l({},{id:"description-25"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".or()")," function combines the entity selection with the ",(0,a.kt)("em",{parentName:"p"},"entity")," or ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," parameter using the logical (not exclusive) OR operator; it returns a new, unordered entity selection that contains all the entities from the entity selection and the parameter."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If you pass ",(0,a.kt)("em",{parentName:"li"},"entity")," as parameter, you compare this entity with the entity selection. Si l'entit\xe9 appartient \xe0 l'entity selection, une nouvelle r\xe9f\xe9rence \xe0 l'entity selection est retourn\xe9e. Sinon, une nouvelle entity selection contenant l'entity selection d'origine et l'entit\xe9 est retourn\xe9e."),(0,a.kt)("li",{parentName:"ul"},"If you pass ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," as parameter, you compare entity selections. A new entity selection containing the entities belonging to the original entity selection or ",(0,a.kt)("em",{parentName:"li"},"entitySelection")," is returned (or is not exclusive, entities referenced in both selections are not duplicated in the resulting selection).")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"You can compare ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"ordered and/or unordered entity selections"),". La s\xe9lection r\xe9sultante est toujours non ordonn\xe9e.")),(0,a.kt)("p",null,"If the original entity selection and the ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," parameter are empty, an empty entity selection is returned. If the original entity selection is empty, a reference to ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," or an entity selection containing only ",(0,a.kt)("em",{parentName:"p"},"entity")," is returned."),(0,a.kt)("p",null,"If ",(0,a.kt)("em",{parentName:"p"},"entitySelection")," is empty or if ",(0,a.kt)("em",{parentName:"p"},"entity")," is Null, a new reference to the original entity selection is returned."),(0,a.kt)("p",null,"Si l'entity selection initiale et le param\xe8tre ne sont pas li\xe9s \xe0 la m\xeame dataclass, une erreur est retourn\xe9e."),(0,a.kt)("h4",l({},{id:"exemple-1-5"}),"Exemple 1"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees1; $employees2; $result : cs.EmployeeSelection\n $employees1:=ds.Employee.query("lastName = :1";"H@") //"Colin Hetrick","Grady Harness"\n $employees2:=ds.Employee.query("firstName = :1";"C@") //"Colin Hetrick", "Cath Kidston"\n $result:=$employees1.or($employees2) //$result contient "Colin Hetrick", "Grady Harness","Cath Kidston"\n')),(0,a.kt)("h4",l({},{id:"exemple-2-5"}),"Exemple 2"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees; $result : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1";"H@") // "Colin Hetrick","Grady Harness", "Sherlock Holmes"\n $employee:=ds.Employee.get(686) //l\'entit\xe9 avec cl\xe9 primaire 686 n\'appartient pas \xe0 l\'entity selection $employees \n  //elle correspond \xe0 l\'employ\xe9e "Mary Smith"\n\n $result:=$employees.or($employee) //$result contient "Colin Hetrick", "Grady Harness", "Sherlock Holmes", "Mary Smith"\n')),(0,a.kt)("h2",l({},{id:"orderby"}),".orderBy()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".orderBy"),"( ",(0,a.kt)("em",{parentName:"p"},"pathString")," : Text ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".orderBy"),"( ",(0,a.kt)("em",{parentName:"p"},"pathObjects")," : Collection ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"pathString"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin(s) d'attribut(s) et mode(s) de tri pour l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"pathObjects"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection d'objets crit\xe8re")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection dans l'ordre sp\xe9cifi\xe9")))),(0,a.kt)("h4",l({},{id:"description-26"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".orderBy()")," function returns a new ordered entity selection containing all entities of the entity selection in the order specified by ",(0,a.kt)("em",{parentName:"p"},"pathString")," or ",(0,a.kt)("em",{parentName:"p"},"pathObjects")," criteria."),(0,a.kt)("blockquote",null,(0,a.kt)("ul",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ul"},"Cette fonction ne modifie pas l'entity selection d'origine."),(0,a.kt)("li",{parentName:"ul"},"For more information on ordered entity selections, please refer to the ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"Ordered or unordered entity selection")," section."))),(0,a.kt)("p",null,"Vous devez utiliser un param\xe8tre de crit\xe8re pour d\xe9finir la mani\xe8re dont les entit\xe9s doivent \xeatre tri\xe9es. Deux param\xe8tres diff\xe9rents sont pris en charge :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"pathString")," (Text) : This parameter contains a formula made of 1 to x attribute paths and (optionally) sort orders, separated by commas. La syntaxe est :")),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'"attributePath1 {desc or asc}, attributePath2 {desc or asc},..."\n')),(0,a.kt)("p",null,'L\'ordre dans lequel les attributs sont pass\xe9s d\xe9termine la priorit\xe9 de tri des entit\xe9s. Par d\xe9faut, les attributs sont tri\xe9s par ordre croissant. Vous pouvez d\xe9finir l\'ordre de tri de chaque propri\xe9t\xe9 dans la formule de crit\xe8re, s\xe9par\xe9e du chemin de propri\xe9t\xe9 par un simple espace : passez "asc" pour trier par ordre croissant ou "desc" pour un ordre d\xe9croissant.'),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"pathObjects")," (collection): each element of the collection contains an object structured in the following way:")),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'{\n    "propertyPath": string,\n    "descending": boolean\n}\n')),(0,a.kt)("p",null,'Par d\xe9faut, les attributs sont tri\xe9s par ordre croissant ("descending" est false).'),(0,a.kt)("p",null,"Vous pouvez ajouter autant d'objets que n\xe9cessaire dans la collection de crit\xe8res."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Les valeurs nulles sont \xe9valu\xe9es comme \xe9tant inf\xe9rieures aux autres valeurs.")),(0,a.kt)("p",null,"If you pass an invalid attribute path in ",(0,a.kt)("em",{parentName:"p"},"pathString")," or ",(0,a.kt)("em",{parentName:"p"},"pathObject"),", the function returns an empty entity selection."),(0,a.kt)("h4",l({},{id:"exemple-21"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'// order by formula\n $sortedEntitySelection:=$entitySelection.orderBy("firstName asc, salary desc")\n $sortedEntitySelection:=$entitySelection.orderBy("firstName")\n\n\n  // order by collection avec ou sans tri\n $orderColl:=New collection\n $orderColl.push(New object("propertyPath";"firstName";"descending";False))\n $orderColl.push(New object("propertyPath";"salary";"descending";True))\n $sortedEntitySelection:=$entitySelection.orderBy($orderColl)\n\n $orderColl:=New collection\n $orderColl.push(New object("propertyPath";"manager.lastName"))\n\n $orderColl.push(New object("propertyPath";"salary"))\n $sortedEntitySelection:=$entitySelection.orderBy($orderColl)\n')),(0,a.kt)("h2",l({},{id:"orderbyformula"}),".orderByFormula()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".orderByFormula"),"( ",(0,a.kt)("em",{parentName:"p"},"formulaString")," : Text { ; ",(0,a.kt)("em",{parentName:"p"},"sortOrder")," : Integer } { ; ",(0,a.kt)("em",{parentName:"p"},"settings")," : Object} ) : 4D.EntitySelection",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".orderByFormula"),"( ",(0,a.kt)("em",{parentName:"p"},"formulaObj")," : Object { ; ",(0,a.kt)("em",{parentName:"p"},"sortOrder")," : Integer } { ; ",(0,a.kt)("em",{parentName:"p"},"settings")," : Object} ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"formulaString"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Cha\xeene formule")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"formulaObj"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Objet formule")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"sortOrder"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk ascending")," (default) or ",(0,a.kt)("inlineCode",{parentName:"td"},"dk descending"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"settings"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Param\xe8tre(s) de la formule")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection tri\xe9e")))),(0,a.kt)("h4",l({},{id:"description-27"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".orderByFormula()")," function returns a new, ordered entity selection containing all entities of the entity selection in the order defined through the ",(0,a.kt)("em",{parentName:"p"},"formulaString")," or ",(0,a.kt)("em",{parentName:"p"},"formulaObj")," and, optionally, ",(0,a.kt)("em",{parentName:"p"},"sortOrder")," and ",(0,a.kt)("em",{parentName:"p"},"settings")," parameters."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction ne modifie pas l'entity selection d'origine.")),(0,a.kt)("p",null,"You can use either a ",(0,a.kt)("em",{parentName:"p"},"formulaString")," or a ",(0,a.kt)("em",{parentName:"p"},"formulaObj")," parameter:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"formulaString"),': you pass a 4D expression such as "Year of(this.birthDate)".'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"formulaObj"),": pass a valid formula object created using the ",(0,a.kt)("inlineCode",{parentName:"li"},"Formula")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"Formula from string")," command.")),(0,a.kt)("p",null,"The ",(0,a.kt)("em",{parentName:"p"},"formulaString")," or ",(0,a.kt)("em",{parentName:"p"},"formulaObj")," is executed for each entity of the entity selection and its result is used to define the position of the entity in the returned entity selection. Le r\xe9sultat doit \xeatre de type triable (bool\xe9en, date, num\xe9rique, texte, heure, null)."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Un r\xe9sultat null est toujours la plus petite valeur.")),(0,a.kt)("p",null,"By default if you omit the ",(0,a.kt)("em",{parentName:"p"},"sortOrder")," parameter, the resulting entity selection is sorted in ascending order. Optionnally, you can pass one of the following values in the ",(0,a.kt)("em",{parentName:"p"},"sortOrder")," parameter:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Constante"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Valeur"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Commentaire"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"dk ascending"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"0"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ordre de tri croissant (d\xe9faut)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"dk descending"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"1"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ordre de tri d\xe9croissant")))),(0,a.kt)("p",null,"Within the ",(0,a.kt)("em",{parentName:"p"},"formulaString")," or ",(0,a.kt)("em",{parentName:"p"},"formulaObj"),", the processed entity and thus its attributes are available through the ",(0,a.kt)("inlineCode",{parentName:"p"},"This")," command (for example, ",(0,a.kt)("inlineCode",{parentName:"p"},"This.lastName"),")."),(0,a.kt)("p",null,"You can pass parameter(s) to the formula using the ",(0,a.kt)("inlineCode",{parentName:"p"},"args")," property (object) of the ",(0,a.kt)("inlineCode",{parentName:"p"},"settings")," parameter: the formula receives the ",(0,a.kt)("inlineCode",{parentName:"p"},"settings.args")," object in $1."),(0,a.kt)("h4",l({},{id:"exemple-1-6"}),"Exemple 1"),(0,a.kt)("p",null,"Pour effectuer un tri d'\xe9tudiants \xe0 l'aide d'une formule texte :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $es1; $es2 : cs.StudentsSelection\n $es1:=ds.Students.query("nationality=:1";"French")\n $es2:=$es1.orderByFormula("length(this.lastname)") //croissant par d\xe9faut\n $es2:=$es1.orderByFormula("length(this.lastname)";dk descending)\n')),(0,a.kt)("p",null,"Pour effectuer le m\xeame tri dans le m\xeame ordre, mais \xe0 l'aide d'un objet formule :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $es1; $es2 : cs.StudentsSelection\n var $formula : Object\n $es1:=ds.Students.query("nationality=:1";"French")\n $formula:=Formula(Length(This.lastname))\n $es2:=$es1.orderByFormula($formula) // croissant par d\xe9faut\n $es2:=$es1.orderByFormula($formula;dk descending)\n')),(0,a.kt)("h4",l({},{id:"exemple-2-6"}),"Exemple 2"),(0,a.kt)("p",null,"A formula is given as a formula object with parameters; ",(0,a.kt)("inlineCode",{parentName:"p"},"settings.args")," object is received as $1 in the ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("strong",{parentName:"em"},"computeAverage"))," method."),(0,a.kt)("p",null,'In this example, the "marks" object field in the ',(0,a.kt)("strong",{parentName:"p"},"Students")," dataClass contains students' grades for each subject. Un seul objet formule est utilis\xe9 pour calculer la note moyenne des \xe9tudiants \xe0 l'aide de diff\xe9rents coefficients pour schoolA et schoolB."),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $es1; $es2 : cs.StudentsSelection\n var $formula; $schoolA; $schoolB : Object\n $es1:=ds.Students.query("nationality=:1";"French")\n $formula:=Formula(computeAverage($1))\n\n $schoolA:=New object() //settings object\n $schoolA.args:=New object("english";1;"math";1;"history";1) // Coefficients to compute an average\n\n  //Order students according to school A criteria\n $es2:=$es1.entitySelection.orderByFormula($formula;$schoolA)\n\n $schoolB:=New object() //settings object\n $schoolB.args:=New object("english";1;"math";2;"history";3) // Coefficients to compute an average\n\n  //Order students according to school B criteria\n $es2:=$es1.entitySelection.orderByFormula($formula;dk descending;$schoolB)\n')),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"  //\n  // computeAverage method\n  // -----------------------------\n #DECLARE ($coefList : Object) -> $result : Integer\n var $subject : Text\n var $average; $sum : Integer\n\n $average:=0\n $sum:=0\n\n For each($subject;$coefList)\n    $sum:=$sum+$coefList[$subject]\n End for each\n\n For each($subject;This.marks)\n    $average:=$average+(This.marks[$subject]*$coefList[$subject])\n End for each\n\n $result:=$average/$sum\n")),(0,a.kt)("h2",l({},{id:"query"}),".query()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Prise en charge des param\xe8tres Formula")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Prise en charge des placeholders pour les valeurs")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".query"),"( ",(0,a.kt)("em",{parentName:"p"},"queryString")," : Text { ; ",(0,a.kt)("em",{parentName:"p"},"...value")," : any } { ; ",(0,a.kt)("em",{parentName:"p"},"querySettings")," : Object } ) : 4D.EntitySelection ",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".query"),"( ",(0,a.kt)("em",{parentName:"p"},"formula")," : Object { ; ",(0,a.kt)("em",{parentName:"p"},"querySettings")," : Object } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"queryString"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Crit\xe8res de recherche en texte")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"formula"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Crit\xe8res de recherche en objet formule")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"value"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"any"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Valeur(s) \xe0 utiliser comme placeholder(s)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"querySettings"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Options de recherche : parameters, attributes, args, allowFormulas, context, queryPath, queryPlan")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"New entity selection made up of entities from entity selection meeting the search criteria specified in ",(0,a.kt)("em",{parentName:"td"},"queryString")," or ",(0,a.kt)("em",{parentName:"td"},"formula"))))),(0,a.kt)("h4",l({},{id:"description-28"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".query()")," function searches for entities that meet the search criteria specified in ",(0,a.kt)("em",{parentName:"p"},"queryString")," or ",(0,a.kt)("em",{parentName:"p"},"formula")," and (optionally) ",(0,a.kt)("em",{parentName:"p"},"value"),"(s) among all the entities in the entity selection, and returns a new object of type ",(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection")," containing all the entities that are found. Le mode lazy loading est appliqu\xe9."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction ne modifie pas l'entity selection d'origine.")),(0,a.kt)("p",null,"If no matching entities are found, an empty ",(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection")," is returned."),(0,a.kt)("p",null,"For detailed information on how to build a query using ",(0,a.kt)("em",{parentName:"p"},"queryString"),", ",(0,a.kt)("em",{parentName:"p"},"value"),", and ",(0,a.kt)("em",{parentName:"p"},"querySettings")," parameters, please refer to the DataClass ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()"))," function description."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"By default if you omit the ",(0,a.kt)("strong",{parentName:"p"},"order by")," statement in the ",(0,a.kt)("em",{parentName:"p"},"queryString"),", the returned entity selection is ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"not ordered"),". A noter cependant qu'en client/server, elle se comporte comme une entity selection tri\xe9e (les entit\xe9s sont ajout\xe9es \xe0 la fin de la s\xe9lection).")),(0,a.kt)("h4",l({},{id:"exemple-1-7"}),"Exemple 1"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $entitySelectionTemp : cs.EmployeeSelection\n $entitySelectionTemp:=ds.Employee.query("lastName = :1";"M@")\n Form.emps:=$entitySelectionTemp.query("manager.lastName = :1";"S@")\n')),(0,a.kt)("h4",l({},{id:"exemple-2-7"}),"Exemple 2"),(0,a.kt)("p",null,"More examples of queries can be found in the DataClass ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()"))," page."),(0,a.kt)("h4",l({},{id:"voir-\xe9galement-2"}),"Voir \xe9galement"),(0,a.kt)("p",null,(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()"))," for dataclass"),(0,a.kt)("h2",l({},{id:"querypath"}),".queryPath"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".queryPath")," : Text"),(0,a.kt)("h4",l({},{id:"description-29"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".queryPath")," property contains a detailed description of the query as it was actually performed by 4D. This property is available for ",(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection")," objects generated through queries if the ",(0,a.kt)("inlineCode",{parentName:"p"},'"queryPath":true')," property was passed in the ",(0,a.kt)("em",{parentName:"p"},"querySettings")," parameter of the ",(0,a.kt)("a",l({parentName:"p"},{href:"#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()"))," function."),(0,a.kt)("p",null,"For more information, refer to the ",(0,a.kt)("strong",{parentName:"p"},"querySettings parameter")," paragraph in the Dataclass",(0,a.kt)("a",l({parentName:"p"},{href:"DataClassClass.html#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()"))," page."),(0,a.kt)("h2",l({},{id:"queryplan"}),".queryPlan"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".queryPlan")," : Text"),(0,a.kt)("h4",l({},{id:"description-30"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".queryPlan")," property  contains a detailed description of the query just before it is executed (i.e., the planned query). This property is available for ",(0,a.kt)("inlineCode",{parentName:"p"},"EntitySelection")," objects generated through queries if the ",(0,a.kt)("inlineCode",{parentName:"p"},'"queryPlan":true')," property was passed in the ",(0,a.kt)("em",{parentName:"p"},"querySettings")," parameter of the ",(0,a.kt)("a",l({parentName:"p"},{href:"#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()"))," function."),(0,a.kt)("p",null,"For more information, refer to the ",(0,a.kt)("strong",{parentName:"p"},"querySettings parameter")," paragraph in the Dataclass",(0,a.kt)("a",l({parentName:"p"},{href:"DataClassClass.html#query"}),(0,a.kt)("inlineCode",{parentName:"a"},".query()"))," page."),(0,a.kt)("h2",l({},{id:"refresh"}),".refresh()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"18 R3"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".refresh()")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null})),(0,a.kt)("td",l({parentName:"tr"},{align:null})),(0,a.kt)("td",l({parentName:"tr"},{align:"center"})),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,a.kt)("h4",l({},{id:"description-31"}),"Description"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"This function only works with a remote datastore (client / server or ",(0,a.kt)("inlineCode",{parentName:"p"},"Open datastore")," connection).")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".refresh()"),' function immediately "invalidates" the entity selection data in the local ORDA cache so that the next time 4D requires the entity selection, it will be reloaded from the database.'),(0,a.kt)("p",null,"Par d\xe9faut, le cache local d'ORDA est invalid\xe9 apr\xe8s 30 secondes. Dans le contexte des applications client/serveur \xe0 l'aide d'ORDA et du langage classique, cette fonction vous permet d'\xeatre certain que l'application distante fonctionne toujours avec les donn\xe9es les plus r\xe9centes."),(0,a.kt)("h4",l({},{id:"exemple-1-8"}),"Exemple 1"),(0,a.kt)("p",null,"Dans cet exemple, les langages classiques et ORDA modifient simultan\xe9ment les m\xeames donn\xe9es :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' //On a 4D remote\n\n var $selection : cs.StudentsSelection\n var $student : cs.StudentsEntity\n\n $selection:=ds.Students.query("lastname=:1";"Collins")\n  //The first entity is loaded in the ORDA cache\n $student:=$selection.first()\n\n  //Update with classic 4D, ORDA cache is not aware of if\n QUERY([Students];[Students]lastname="Collins")\n [Students]lastname:="Colin"\n SAVE RECORD([Students])\n\n  //to get the latest version, the ORDA cache must be invalidated\n $selection.refresh()\n  // Even if cache is not expired, the first entity is reloaded from disk\n $student:=$selection.first()\n\n  //$student.lastname contains "Colin"\n')),(0,a.kt)("h4",l({},{id:"exemple-2-8"}),"Exemple 2"),(0,a.kt)("p",null,"Une list box affiche l'entity selection Form.students, sur laquelle plusieurs clients travaillent."),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"// Methode formulaire:\n Case of\n    :(Form event code=On Load)\n       Form.students:=ds.Students.all()\n End case\n  //\n  //\n  // Sur client #1, l'utilisateur charge, met \xe0 jour et sauvegarde la premi\xe8re entit\xe9\n  // Sur client #2, l'utilisateur charge, met \xe0 jour et sauvegarde la m\xeame entit\xe9\n  //\n  //\n  // Sur client #1:\n Form.students.refresh() // Invalide le cache ORDA pour l'entity selection Form.students\n  // Le contenu de la list box est rafra\xeechi \xe0 partir de la base avec les mises \xe0 jour effectu\xe9es par le client #2\n")),(0,a.kt)("h2",l({},{id:"selected"}),".selected()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"19 R3"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".selected"),"( ",(0,a.kt)("em",{parentName:"p"},"selectedEntities")," : 4D.EntitySelection ) : Object"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"selectedEntities"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection avec des entit\xe9s dont il faut conna\xeetre le rang dans l'entity selection")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Plage(s) d'entit\xe9s s\xe9lectionn\xe9es dans l'entity selection")))),(0,a.kt)("h4",l({},{id:"description-32"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".selected()")," function returns an object describing the position(s) of ",(0,a.kt)("em",{parentName:"p"},"selectedEntities")," in the original entity selection."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction ne modifie pas l'entity selection d'origine.")),(0,a.kt)("p",null,"Pass in the ",(0,a.kt)("em",{parentName:"p"},"selectedEntities")," parameter an entity selection containing entities for which you want to know the position in the original entity selection. ",(0,a.kt)("em",{parentName:"p"},"selectedEntities"),' must be an entity selection belonging to the same dataclass as the original entity selection, otherwise an error 1587 - "The entity selection comes from an incompatible dataclass" is raised.'),(0,a.kt)("h4",l({},{id:"r\xe9sultat"}),"R\xe9sultat"),(0,a.kt)("p",null,"L'objet retourn\xe9 contient les propri\xe9t\xe9s suivantes :"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"ranges"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection d'objets plage")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"ranges[].start"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Indice de la premi\xe8re entit\xe9 de la plage")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"ranges[].end"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Indice de la derni\xe8re entit\xe9 de la plage")))),(0,a.kt)("p",null,"If a ",(0,a.kt)("inlineCode",{parentName:"p"},"ranges")," property contains a single entity, ",(0,a.kt)("inlineCode",{parentName:"p"},"start")," = ",(0,a.kt)("inlineCode",{parentName:"p"},"end"),". L'indice d\xe9marre \xe0 0."),(0,a.kt)("p",null,"The function returns an empty collection in the ",(0,a.kt)("inlineCode",{parentName:"p"},"ranges")," property if the original entity selection or the ",(0,a.kt)("em",{parentName:"p"},"selectedEntities")," entity selection is empty."),(0,a.kt)("h4",l({},{id:"exemple-22"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $invoices; $cashSel; $creditSel : cs.Invoices\nvar $result1; $result2 : Object\n\n$invoices:=ds.Invoices.all()\n\n$cashSelection:=ds.Invoices.query("payment = :1"; "Cash")\n$creditSel:=ds.Invoices.query("payment IN :1"; New collection("Cash"; "Credit Card"))\n\n$result1:=$invoices.selected($cashSelection)\n$result2:=$invoices.selected($creditSel)\n\n//$result1 = {ranges:[{start:0;end:0},{start:3;end:3},{start:6;end:6}]}\n//$result2 = {ranges:[{start:0;end:1},{start:3;end:4},{start:6;end:7}]}\n\n')),(0,a.kt)("h2",l({},{id:"slice"}),".slice()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".slice"),"( ",(0,a.kt)("em",{parentName:"p"},"startFrom")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"end")," : Integer } ) : 4D.EntitySelection"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"startFrom"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Position \xe0 laquelle d\xe9marrer l'op\xe9ration (incluse)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"end"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Position de fin (non incluse)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nouvelle entity selection contenant les entit\xe9s copi\xe9es (shallow copy)")))),(0,a.kt)("h4",l({},{id:"description-33"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".slice()")," function returns a portion of an entity selection into a new entity selection, selected from the ",(0,a.kt)("em",{parentName:"p"},"startFrom")," index to the ",(0,a.kt)("em",{parentName:"p"},"end")," index (",(0,a.kt)("em",{parentName:"p"},"end")," is not included) or to the last entity of the entity selection. Cette fonction effectue une shallow copy (copie superficielle) de l'entity selection (les m\xeames r\xe9f\xe9rences d'entit\xe9s sont utilis\xe9es)."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction ne modifie pas l'entity selection d'origine.")),(0,a.kt)("p",null,"The returned entity selection contains the entities specified by ",(0,a.kt)("em",{parentName:"p"},"startFrom")," and all subsequent entities up to, but not including, the entity specified by ",(0,a.kt)("em",{parentName:"p"},"end"),". If only the ",(0,a.kt)("em",{parentName:"p"},"startFrom")," parameter is specified, the returned entity selection contains all entities from ",(0,a.kt)("em",{parentName:"p"},"startFrom")," to the last entity of the original entity selection."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If ",(0,a.kt)("em",{parentName:"li"},"startFrom")," < 0, it is recalculated as ",(0,a.kt)("em",{parentName:"li"},"startFrom:=startFrom+length")," (it is considered as the offset from the end of the entity selection). If the calculated value < 0, ",(0,a.kt)("em",{parentName:"li"},"startFrom")," is set to 0."),(0,a.kt)("li",{parentName:"ul"},"If ",(0,a.kt)("em",{parentName:"li"},"startFrom >= length"),", the function returns an empty entity selection."),(0,a.kt)("li",{parentName:"ul"},"If ",(0,a.kt)("em",{parentName:"li"},"end")," < 0, it is recalculated as ",(0,a.kt)("em",{parentName:"li"},"end:=end+length"),"."),(0,a.kt)("li",{parentName:"ul"},"If ",(0,a.kt)("em",{parentName:"li"},"end < startFrom")," (passed or calculated values), the method does nothing.")),(0,a.kt)("p",null,"Si l'entity selection contient des entit\xe9s qui ont \xe9t\xe9 supprim\xe9es entre-temps, elles sont \xe9galement retourn\xe9es."),(0,a.kt)("h4",l({},{id:"exemple-1-9"}),"Exemple 1"),(0,a.kt)("p",null,"Vous souhaitez obtenir une sous-s\xe9lection des 9 premi\xe8res entit\xe9s de l'entity selection :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $sel; $sliced : cs.EmployeeSelection\n$sel:=ds.Employee.query("salary > :1";50000)\n$sliced:=$sel.slice(0;9) //\n')),(0,a.kt)("h4",l({},{id:"exemple-2-9"}),"Exemple 2"),(0,a.kt)("p",null,"En supposant que ds.Employee.all().length = 10"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"var $slice : cs.EmployeeSelection\n\n\n$slice:=ds.Employee.all().slice(-1;-2) //tries to return entities from index 9 to 8, but since 9 > 8, returns an empty entity selection\n\n")),(0,a.kt)("h2",l({},{id:"sum"}),".sum()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".sum"),"( ",(0,a.kt)("em",{parentName:"p"},"attributePath")," : Text ) : Real"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"attributePath"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin de l'attribut \xe0 utiliser pour le calcul")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Real"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Somme des valeurs de l'entity selection")))),(0,a.kt)("h4",l({},{id:"description-34"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".sum()")," function returns the sum for all ",(0,a.kt)("em",{parentName:"p"},"attributePath")," values in the entity selection."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},".sum()")," returns 0 if the entity selection is empty."),(0,a.kt)("p",null,"La somme peut uniquement \xeatre effectu\xe9e sur des valeurs num\xe9riques. If the ",(0,a.kt)("em",{parentName:"p"},"attributePath")," is an object property, only numerical values are taken into account for the calculation (other value types are ignored). In this case, if ",(0,a.kt)("em",{parentName:"p"},"attributePath")," leads to a property that does not exist in the object or does not contain any numeric values, ",(0,a.kt)("inlineCode",{parentName:"p"},".sum()")," returns 0."),(0,a.kt)("p",null,"Une erreur est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," is not a numerical or an object attribute,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," is a related attribute,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"attributePath")," is not found in the entity selection dataclass.")),(0,a.kt)("h4",l({},{id:"exemple-23"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $sel : cs.EmployeeSelection\nvar $sum : Real\n\n$sel:=ds.Employee.query("salary < :1";20000)\n$sum:=$sel.sum("salary")\n')),(0,a.kt)("h2",l({},{id:"tocollection"}),".toCollection()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".toCollection"),"( { ",(0,a.kt)("em",{parentName:"p"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"howMany")," : Integer } } ) : ",(0,a.kt)("em",{parentName:"p"},"Collection"),(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".toCollection"),"( ",(0,a.kt)("em",{parentName:"p"},"filterString")," : Text {; ",(0,a.kt)("em",{parentName:"p"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"howMany")," : Integer }}} ) : ",(0,a.kt)("em",{parentName:"p"},"Collection"),(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".toCollection"),"( ",(0,a.kt)("em",{parentName:"p"},"filterCol")," : Collection {; ",(0,a.kt)("em",{parentName:"p"},"options")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"begin")," : Integer { ; ",(0,a.kt)("em",{parentName:"p"},"howMany")," : Integer }}} ) : ",(0,a.kt)("em",{parentName:"p"},"Collection")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"filterString"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Chemin(s) d'attribut(s) \xe0 extraire")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"filterCol"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection d'attribut(s) \xe0 extraire")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"options"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"dk with primary key"),": adds the primary key",(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"dk with stamp"),": adds the stamp")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"begin"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"D\xe9signe la position de d\xe9but")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"howMany"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nombre d'entit\xe9s \xe0 extraire")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection d'objets contenant les attributs et valeurs de l'entity selection")))),(0,a.kt)("h4",l({},{id:"description-35"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".toCollection()")," function creates and returns a collection where each element is an object containing a set of properties and values corresponding to the attribute names and values for the entity selection."),(0,a.kt)("p",null,"Si aucun param\xe8tre de filtre n'est pass\xe9 ou si le param\xe8tre contient une cha\xeene vide ou \"","*",'", tous les attributs sont extraits. Attributes with ',(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/API/DataClassClass#attributename"}),"kind"),' property as "relatedEntity" are extracted with the simple form: an object with property ',"_","_",'KEY (primary key). Les attributs dont la propri\xe9t\xe9 "kind" est "relatedEntities" ne sont pas extraits.'),(0,a.kt)("p",null,"Vous pouvez \xe9galement indiquer les attributs \xe0 extraire \xe0 l'aide d'un param\xe8tre de filtre. Deux types de filtres sont utilisables :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"filterString"),' --a string with property paths separated with commas: "propertyPath1, propertyPath2, ...".'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"filterCol")," --a collection of strings containing property paths: ","[",'"propertyPath1","propertyPath2",...]')),(0,a.kt)("p",null,"If a filter is specified for an attribute of the ",(0,a.kt)("inlineCode",{parentName:"p"},"relatedEntity")," kind:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity" -> it is extracted with simple form'),(0,a.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity.',"*",'" -> all the properties are extracted'),(0,a.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity.propertyName1, relatedEntity.propertyName2, ..." -> only those properties are extracted')),(0,a.kt)("p",null,"If a filter is specified for an attribute of the ",(0,a.kt)("inlineCode",{parentName:"p"},"relatedEntities")," kind:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntities.',"*",'" -> all the properties are extracted'),(0,a.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntities.propertyName1, relatedEntities.propertyName2, ..." -> only those properties are extracted')),(0,a.kt)("p",null,"In the ",(0,a.kt)("em",{parentName:"p"},"options")," parameter, you can pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"dk with primary key")," and/or ",(0,a.kt)("inlineCode",{parentName:"p"},"dk with stamp")," selector(s) to add the entity's primary keys and/or stamps in extracted objects."),(0,a.kt)("admonition",l({},{title:"Warning",type:"caution"}),(0,a.kt)("p",{parentName:"admonition"},'Si vous utilisez un autre attribut que la cl\xe9 primaire comme attribut 1 dans une relation, la valeur de cet attribut sera inscrite dans la propri\xe9t\xe9 "__KEY". Keep in mind that it is recommended to use the primary key as One attribute in your relations, especially when you use ',(0,a.kt)("inlineCode",{parentName:"p"},".toCollection()")," and ",(0,a.kt)("inlineCode",{parentName:"p"},".fromCollection()")," functions.")),(0,a.kt)("p",null,"The ",(0,a.kt)("em",{parentName:"p"},"begin")," parameter allows you to indicate the starting index of the entities to extract. Vous pouvez passer toute valeur comprise entre 0 et la longueur de l'entity selection -1."),(0,a.kt)("p",null,"The ",(0,a.kt)("em",{parentName:"p"},"howMany")," parameter lets you specify the number of entities to extract, starting with the one specified in ",(0,a.kt)("em",{parentName:"p"},"begin"),". Dropped entities are not returned but are taken into account according to ",(0,a.kt)("em",{parentName:"p"},"howMany"),". For example, if ",(0,a.kt)("em",{parentName:"p"},"howMany"),"= 3 and there is 1 dropped entity, only 2 entities are extracted."),(0,a.kt)("p",null,"If ",(0,a.kt)("em",{parentName:"p"},"howMany")," > length of the entity selection, the method returns (length - ",(0,a.kt)("em",{parentName:"p"},"begin"),") objects."),(0,a.kt)("p",null,"Une collection vide est retourn\xe9e si :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"l'entity selection est vide, ou"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"begin")," is greater than the length of the entity selection.")),(0,a.kt)("h4",l({},{id:"exemple-1-10"}),"Exemple 1"),(0,a.kt)("p",null,"La structure suivante sera utilis\xe9e pour les exemples de cette section :"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(63018).Z,width:"1000",height:"610"})),(0,a.kt)("p",null,"Exemple sans param\xe8tres de filtre ni d'options :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $employeesCollection : Collection\n var $employees : cs.EmployeeSelection\n\n $employeesCollection:=New collection\n $employees:=ds.Employee.all()\n $employeesCollection:=$employees.toCollection()\n")),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "ID": 416,\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "salary": 79100,\n        "birthDate": "1963-02-01T00:00:00.000Z",\n        "woman": false,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n\n        }\n    },\n    {\n        "ID": 417,\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "salary": 47000,\n        "birthDate": "1992-06-16T00:00:00.000Z",\n        "woman": true,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n        }\n    }\n]\n')),(0,a.kt)("h4",l({},{id:"exemple-2-10"}),"Exemple 2"),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\nvar $employees : cs.EmployeeSelection\n\n$employeesCollection:=New collection\n$employees:=ds.Employee.all()\n$employeesCollection:=$employees.toCollection("";dk with primary key+dk with stamp)\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "__KEY": 416,\n        "__STAMP": 1,\n        "ID": 416,\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "salary": 79100,\n        "birthDate": "1963-02-01T00:00:00.000Z",\n        "woman": false,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n        }\n    },\n    {\n        "__KEY": 417,\n        "__STAMP": 1,\n        "ID": 417,\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "salary": 47000,\n        "birthDate": "1992-06-16T00:00:00.000Z",\n        "woman": true,\n        "managerID": 412,\n        "employerID": 20,\n        "photo": "[object Picture]",\n        "extra": null,\n        "employer": {\n            "__KEY": 20\n        },\n        "manager": {\n            "__KEY": 412\n        }\n    }]\n')),(0,a.kt)("h4",l({},{id:"exemple-3-3"}),"Exemple 3"),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection; $filter : Collection\nvar $employees : cs.EmployeeSelection\n\n\n$employeesCollection:=New collection\n$filter:=New collection\n\n\n$filter.push("firstName")\n$filter.push("lastName")\n\n$employees:=ds.Employee.all()\n$employeesCollection:=$employees.toCollection($filter;0;0;2)\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl"\n    },\n    {\n        "firstName": "Irma",\n        "lastName": "Durham"\n    }\n]\n\n')),(0,a.kt)("h4",l({},{id:"exemple-4-1"}),"Exemple 4"),(0,a.kt)("p",null,"Example with ",(0,a.kt)("inlineCode",{parentName:"p"},"relatedEntity")," type with simple form:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\n$employeesCollection:=New collection\n$employeesCollection:=$employees.toCollection("firstName,lastName,employer")\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "employer": {\n            "__KEY": 20\n        }\n    },\n    {\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "employer": {\n            "__KEY": 20\n        }\n    },\n    {\n        "firstName": "Lorena",\n        "lastName": "Boothe",\n        "employer": {\n            "__KEY": 20\n        }\n    }\n   ]\n')),(0,a.kt)("h4",l({},{id:"exemple-5-1"}),"Exemple 5"),(0,a.kt)("p",null,"Example with ",(0,a.kt)("em",{parentName:"p"},"filterCol")," parameter:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection; $coll : Collection\n$employeesCollection:=New collection\n$coll:=New collection("firstName";"lastName")\n$employeesCollection:=$employees.toCollection($coll)\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Joanna",\n        "lastName": "Cabrera"\n    },\n    {\n        "firstName": "Alexandra",\n        "lastName": "Coleman"\n    }\n]\n')),(0,a.kt)("h4",l({},{id:"exemple-6-1"}),"Exemple 6"),(0,a.kt)("p",null,"Dans cet exemple, les langages classiques et ORDA modifient simultan\xe9ment les m\xeames donn\xe9es :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection; $coll : Collection\n$employeesCollection:=New collection\n$coll:=New collection\n$coll.push("firstName")\n$coll.push("lastName")\n$coll.push("employer.*")\n$employeesCollection:=$employees.toCollection($coll)\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "employer": {\n            "ID": 20,\n            "name": "India Astral Secretary",\n            "creationDate": "1984-08-25T00:00:00.000Z",\n            "revenues": 12000000,\n            "extra": null\n        }\n    },\n    {\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "employer": {\n            "ID": 20,\n            "name": "India Astral Secretary",\n            "creationDate": "1984-08-25T00:00:00.000Z",\n            "revenues": 12000000,\n            "extra": null\n        }\n    },\n    {\n        "firstName": "Lorena",\n        "lastName": "Boothe",\n        "employer": {\n            "ID": 20,\n            "name": "India Astral Secretary",\n            "creationDate": "1984-08-25T00:00:00.000Z",\n            "revenues": 12000000,\n            "extra": null\n        }\n    }\n  ]\n')),(0,a.kt)("h4",l({},{id:"exemple-7-1"}),"Exemple 7"),(0,a.kt)("p",null,"Exemple avec extraction de quelques propri\xe9t\xe9s de relatedEntity :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\n$employeesCollection:=New collection\n$employeesCollection:=$employees.toCollection("firstName, lastName, employer.name")\n')),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n\n        "employer": {\n            "name": "India Astral Secretary"\n        }\n    },\n    {\n        "firstName": "Irma",\n        "lastName": "Durham",\n        "employer": {\n            "name": "India Astral Secretary"\n        }\n    },\n    {\n        "firstName": "Lorena",\n        "lastName": "Boothe",\n        "employer": {\n            "name": "India Astral Secretary"\n        }\n    }]\n')),(0,a.kt)("h4",l({},{id:"exemple-8-1"}),"Exemple 8"),(0,a.kt)("p",null,"Example with extraction of some properties of ",(0,a.kt)("inlineCode",{parentName:"p"},"relatedEntities"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employeesCollection : Collection\n $employeesCollection:=New collection\n $employeesCollection:=$employees.toCollection("firstName, lastName, directReports.firstName")\n')),(0,a.kt)("p",null,"Retourne :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "directReports": []\n    },\n    {\n        "firstName": "Mike",\n        "lastName": "Phan",\n        "directReports": [\n            {\n                "firstName": "Gary"\n            },\n            {\n                "firstName": "Sadie"\n            },\n            {\n                "firstName": "Christie"\n            }\n        ]\n    },\n    {\n        "firstName": "Gary",\n\n        "lastName": "Reichert",\n        "directReports": [\n            {\n                "firstName": "Rex"\n            },\n            {\n                "firstName": "Jenny"\n            },\n            {\n                "firstName": "Lowell"\n            }\n        ]\n    }]\n')),(0,a.kt)("h4",l({},{id:"exemple-9-1"}),"Exemple 9"),(0,a.kt)("p",null,"Example with extraction of all properties of ",(0,a.kt)("inlineCode",{parentName:"p"},"relatedEntities"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $employeesCollection : Collection\n$employeesCollection:=New collection\n$employeesCollection:=$employees.toCollection("firstName, lastName, directReports.*")\n\n')),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "firstName": "Gregg",\n        "lastName": "Wahl",\n        "directReports": []\n    },    \n    {\n        "firstName": "Mike",\n        "lastName": "Phan",\n        "directReports": [\n            {\n                "ID": 425,\n                "firstName": "Gary",\n                "lastName": "Reichert",\n                "salary": 65800,\n                "birthDate": "1957-12-23T00:00:00.000Z",\n                "woman": false,\n                "managerID": 424,\n                "employerID": 21,\n                "photo": "[object Picture]",\n                "extra": null,\n                "employer": {\n                    "__KEY": 21\n                },\n                "manager": {\n                    "__KEY": 424\n                }\n            },\n            {\n                "ID": 426,\n                "firstName": "Sadie",\n                "lastName": "Gallant",\n                "salary": 35200,\n                "birthDate": "2022-01-03T00:00:00.000Z",\n                "woman": true,\n                "managerID": 424,\n                "employerID": 21,\n                "photo": "[object Picture]",\n                "extra": null,\n                "employer": {\n                    "__KEY": 21\n                },\n                "manager": {\n                    "__KEY": 424\n                }\n            }\n                   ]\n    },\n    {\n        "firstName": "Gary",\n        "lastName": "Reichert",\n        "directReports": [\n            {\n                "ID": 428,\n                "firstName": "Rex",\n                "lastName": "Chance",\n                "salary": 71600,\n                "birthDate": "1968-08-09T00:00:00.000Z",\n                "woman": false,\n\n                "managerID": 425,\n                "employerID": 21,\n                "photo": "[object Picture]",\n                "extra": null,\n                "employer": {\n                    "__KEY": 21\n                },\n                "manager": {\n                    "__KEY": 425\n                }\n            },\n            {\n                "ID": 429,\n                "firstName": "Jenny",\n                "lastName": "Parks",\n                "salary": 51300,\n                "birthDate": "1984-05-25T00:00:00.000Z",\n                "woman": true,\n                "managerID": 425,\n                "employerID": 21,\n                "photo": "[object Picture]",\n                "extra": null,\n                "employer": {\n                    "__KEY": 21\n                },\n                "manager": {\n                    "__KEY": 425\n                }\n            }\n           ]\n }\n]\n')))}d.isMDXComponent=!0},63018:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png"},587252:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/entityselection-193aba9798fd8faddac31ad66bc75f26.PNG"}}]);