"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["21113"],{901998:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>d,metadata:()=>t,assets:()=>a,toc:()=>c,contentTitle:()=>i});var t=JSON.parse('{"id":"commands-legacy/web-get-http-header","title":"WEB GET HTTP HEADER","description":"WEB GET HTTP HEADER ( ent\xeate | tabChamps {; tabValeurs} )","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/web-get-http-header.md","sourceDirName":"commands-legacy","slug":"/commands/web-get-http-header","permalink":"/docs/fr/commands/web-get-http-header","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fweb-get-http-header.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"web-get-http-header","title":"WEB GET HTTP HEADER","slug":"/commands/web-get-http-header","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"WEB GET HTTP BODY","permalink":"/docs/fr/commands/web-get-http-body"},"next":{"title":"WEB GET OPTION","permalink":"/docs/fr/commands/web-get-option"}}'),r=s("785893"),l=s("250065");let d={id:"web-get-http-header",title:"WEB GET HTTP HEADER",slug:"/commands/web-get-http-header",displayed_sidebar:"docs"},i=void 0,a={},c=[{value:"Description",id:"description",level:4},{value:"Exemple",id:"exemple",level:4},{value:"Voir aussi",id:"voir-aussi",level:4},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:4}];function o(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"WEB GET HTTP HEADER"})," ( ent\xeate | tabChamps {; ",(0,r.jsx)(n.em,{children:"tabValeurs"}),"} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param\xe8tre"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ent\xeate | tabChamps"}),(0,r.jsx)(n.td,{children:"Texte, Tableau texte"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"En-t\xeate HTTP de la requ\xeate ou Champs de l\u2019en-t\xeate HTTP"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"tabValeurs"}),(0,r.jsx)(n.td,{children:"Text array"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Contenu des champs de l\u2019en-t\xeate HTTP"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["La commande ",(0,r.jsx)(n.strong,{children:"WEB GET HTTP HEADER"})," retourne, soit sous forme de cha\xeene, soit sous forme de deux tableaux, l\u2019en-t\xeate HTTP de la requ\xeate en cours de traitement."]}),"\n",(0,r.jsxs)(n.p,{children:["Cette commande peut \xeatre appel\xe9e depuis toute m\xe9thode (",(0,r.jsx)(n.em,{children:"M\xe9thode base Sur authentification Web"}),", ",(0,r.jsx)(n.a,{href:"/docs/fr/commands/qr-set-destination",children:"QR SET DESTINATION"}),', m\xe9thode appel\xe9e par "',(0,r.jsx)(n.em,{children:"/4DACTION"}),'"...) ex\xe9cut\xe9e dans un process Web.']}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Premi\xe8re syntaxe :"})," ",(0,r.jsx)(n.strong,{children:"WEB GET HTTP HEADER"})," ",(0,r.jsx)(n.strong,{children:"(ent\xeate)"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Lorsque vous utilisez cette syntaxe, le r\xe9sultat retourn\xe9 dans la variable ",(0,r.jsx)(n.em,{children:"ent\xeate"})," est du type suivant :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0"GET /page.html HTTP\\1.0"+Char(13)+Char(10)+"User-Agent: browser"+Char(13)+Char(10)+"Cookie: C=HELLO"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Chaque champ d\u2019en-t\xeate est s\xe9par\xe9 par une s\xe9quence CR+LF (Retour chariot+Retour \xe0 la ligne), sous Windows et Mac OS."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Seconde syntaxe :"})," ",(0,r.jsx)(n.strong,{children:"WEB GET HTTP HEADER"})," ",(0,r.jsx)(n.strong,{children:"(tabChamps; tabValeurs)"}),"\nLorsque vous utilisez cette syntaxe, les r\xe9sultats retourn\xe9s dans les tableaux ",(0,r.jsx)(n.em,{children:"tabChamps"})," et ",(0,r.jsx)(n.em,{children:"tabValeurs"})," sont du type suivant :"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.em,{children:'tabChamps{1} = "X-METHOD"'})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.em,{children:'tabValeurs{1} = "GET" *'})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:'tabChamps{2} = "X-URL"'})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:'tabValeurs{2} = "/page.html" *'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:'tabChamps{3} = "X-VERSION"'})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:'tabValeurs{3} = "HTTP/1.0" *'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:'tabChamps{4} = "User-Agent"'})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:'tabValeurs{4} = "browser"'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:'tabChamps{5} = "Cookie"'})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:'tabValeurs{5} = "C=HELLO"'})})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"*"})," Ces trois premiers \xe9l\xe9ments ne correspondent pas \xe0 des champs HTTP. Ils constituent la premi\xe8re ligne de la requ\xeate."]}),"\n",(0,r.jsx)(n.p,{children:"Conform\xe9ment \xe0 la norme HTTP, les noms des champs sont toujours libell\xe9s en anglais."}),"\n",(0,r.jsx)(n.p,{children:"A titre indicatif, voici une liste non exhaustive des champs HTTP pouvant \xeatre pr\xe9sents dans une requ\xeate :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/fr/commands/accept",title:"Accept",children:"Accept"})," : ce que le navigateur est susceptible d\u2019accepter comme contenu."]}),"\n",(0,r.jsx)(n.li,{children:"Accept-Language : la ou les langue(s) accept\xe9e(s) par le navigateur (pour information). Permet de choisir une page d\u2019accueil en fonction de la langue pr\xe9f\xe9r\xe9e du navigateur."}),"\n",(0,r.jsx)(n.li,{children:"Cookie : liste des cookies."}),"\n",(0,r.jsx)(n.li,{children:"From : adresse e-mail de l\u2019utilisateur du navigateur."}),"\n",(0,r.jsxs)(n.li,{children:["Host : nom ou adresse du serveur (par exemple, dans le cas de l\u2019URL ",(0,r.jsx)(n.a,{href:"http://monserveurweb/mapage.html",children:"http://monserveurweb/mapage.html"}),', Host prend la valeur "monserveurweb"). Permet de g\xe9rer les cas o\xf9 plusieurs noms pointent vers la m\xeame adresse IP (virtual hosting).']}),"\n",(0,r.jsxs)(n.li,{children:["Referer : provenance de la requ\xeate (par exemple ",(0,r.jsx)(n.a,{href:"http://monserveurweb/mapage1.html",children:"http://monserveurweb/mapage1.html"}),"), c\u2019est-\xe0-dire la page que l\u2019utilisateur affiche s\u2019il clique sur le bouton ",(0,r.jsx)(n.strong,{children:"Pr\xe9c\xe9dent"})," de son navigateur."]}),"\n",(0,r.jsx)(n.li,{children:"User-Agent : nom et version du navigateur ou du proxy."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"exemple",children:"Exemple"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Cette m\xe9thode permet de r\xe9cup\xe9rer le contenu de tout champ d\u2019en-t\xeate de requ\xeate HTTP :"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// M\xe9thode projet GetHTTPField\n\xa0\xa0// GetHTTPField ( Texte ) -> Texte\n\xa0\xa0// GetHTTPField ( Nom en-t\xeate HTTP ) -> Contenu en-t\xeate HTTP\n\xa0var $0;$1 : Text\n\xa0var $vlElem : Integer\n\xa0ARRAY TEXT($noms;0)\n\xa0ARRAY TEXT($valeurs;0)\n\xa0$0:=""\n\xa0WEB GET HTTP HEADER($noms;$valeurs)\n\xa0$vlElem:=Find in array($noms;$1)\n\xa0If($vlElem>0)\n\xa0\xa0\xa0\xa0$0:=$valeurs{$vlElem}\n\xa0End if\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Une fois que cette m\xe9thode projet est \xe9crite, vous pouvez l\u2019appeler ainsi :"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// Contenu de l\u2019en-t\xeate Cookie\n\xa0$cookie:=GetHTTPField("Cookie")\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Vous pouvez \xe9galement envoyer des pages diff\xe9rentes en fonction de la langue du navigateur (par exemple dans la ",(0,r.jsx)(n.a,{href:"/docs/fr/commands/qr-set-destination",children:"QR SET DESTINATION"}),") :"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0$langue:=GetHTTPField("Accept-Language")\n\xa0Case of\n\xa0\xa0\xa0\xa0:($langue="@fr@")\xa0//Fran\xe7ais (cf. liste ISO 639)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0WEB SEND FILE("index_fr.html")\n\xa0\xa0\xa0\xa0:($langue="@es@")\xa0//Espagnol (cf. liste ISO 639)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0WEB SEND FILE("index_es.html")\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0WEB SEND FILE("index.html")\n\xa0End case\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note :"}),' Les navigateurs Web permettent de d\xe9finir plusieurs langues par d\xe9faut. Elles sont list\xe9es dans le champ \u201CAccept-Language\u201D, s\xe9par\xe9es par des ";". Leur priorit\xe9 est d\xe9finie par leur position au sein de la cha\xeene ; il peut donc \xeatre utile de tester la position des langues dans la cha\xeene.']}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Exemple de gestion des h\xf4tes virtuels (par exemple dans la ",(0,r.jsx)(n.a,{href:"/docs/fr/commands/qr-set-destination",children:"QR SET DESTINATION"}),"). Les trois noms \u201Chome_site.com\u201D, \u201Chome_site1.com\u201D et \u201Chome_site2.com\u201D pointent vers la m\xeame adresse IP, par exemple 192.1.2.3."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0$host:=GetHTTPField("Host")\n\xa0Case of\n\xa0\xa0\xa0\xa0:($host="www.site1.com")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0WEB SEND FILE("home_site1.com")\n\xa0\xa0\xa0\xa0:($host="www.site2.com")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0WEB SEND FILE("home_site2.com")\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0WEB SEND FILE("home_site.com")\n\xa0End case\n'})}),"\n",(0,r.jsx)(n.h4,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/fr/commands/web-get-http-body",children:"WEB GET HTTP BODY"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"/docs/fr/commands/web-set-http-header",children:"WEB SET HTTP HEADER"})]}),"\n",(0,r.jsx)(n.h4,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Num\xe9ro de commande"}),(0,r.jsx)(n.td,{children:"697"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Thread safe"}),(0,r.jsx)(n.td,{children:"\u2713"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return i},a:function(){return d}});var t=s(667294);let r={},l=t.createContext(r);function d(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);