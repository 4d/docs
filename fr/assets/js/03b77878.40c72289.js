"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["84583"],{946833:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>d,default:()=>u,toc:()=>o,metadata:()=>t,assets:()=>l,contentTitle:()=>a});var t=JSON.parse('{"id":"commands-legacy/on-web-authentication-database-method","title":"On Web Authentication database method","description":"On Web Authentication($url Text ; $ipBrowser Text ; $user Text) -> $result : Boolean","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R9/commands-legacy/on-web-authentication-database-method.md","sourceDirName":"commands-legacy","slug":"/commands/on-web-authentication-database-method","permalink":"/docs/fr/20-R9/commands/on-web-authentication-database-method","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fon-web-authentication-database-method.md%20(20-R9)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R9","frontMatter":{"id":"on-web-authentication-database-method","title":"On Web Authentication database method","slug":"/commands/on-web-authentication-database-method","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"On System Event database method","permalink":"/docs/fr/20-R9/commands/on-system-event-database-method"},"next":{"title":"On Web Connection database method","permalink":"/docs/fr/20-R9/commands/on-web-connection-database-method"}}'),r=s(785893),i=s(250065);let d={id:"on-web-authentication-database-method",title:"On Web Authentication database method",slug:"/commands/on-web-authentication-database-method",displayed_sidebar:"docs"},a=void 0,l={},o=[{value:"Description",id:"description",level:2},{value:"Appels de la M\xe9thode base Sur authentification Web",id:"appels-de-la-m\xe9thode-base-sur-authentification-web",level:2},{value:"Exemple 1",id:"exemple-1",level:2},{value:"Exemple 2",id:"exemple-2",level:2}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"On Web Authentication($url : Text ; $http : Text ; $ipBrowser : Text ; $ipServer : Text ; $user : Text ; $pw : Text) -> $result : Boolean"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param\xe8tre"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$url"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"URL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$http"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"En-t\xeate + Corps HTTP"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$ipBrowser"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Adresse IP du navigateur"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$ipServer"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Adresse IP appel\xe9e du serveur"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$user"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Nom d\u2019utilisateur"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$pw"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Mot de passe"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$result"}),(0,r.jsx)(n.td,{children:"Bool\xe9en"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Vrai = requ\xeate accept\xe9e, Faux = requ\xeate rejet\xe9e"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["La ",(0,r.jsx)(n.strong,{children:"On Web Authentication database method"})," est charg\xe9e de g\xe9rer les acc\xe8s au moteur de serveur Web. Elle est automatiquement appel\xe9e par 4D ou 4D Server lorsqu'une requ\xeate d'un navigateur Web requiert l'ex\xe9cution d'une m\xe9thode 4D sur le serveur (appel d'une m\xe9thode via un URL ",(0,r.jsx)(n.em,{children:"4DACTION"}),", une balise ",(0,r.jsx)(n.em,{children:"4DSCRIPT"}),", etc.)."]}),"\n",(0,r.jsxs)(n.p,{children:["La ",(0,r.jsx)(n.strong,{children:"On Web Authentication database method"})," re\xe7oit six param\xe8tres de type Texte, pass\xe9s par 4D ($url, $http, $ipBrowser, $ipServer, $user et $pw), et retourne un bool\xe9en, $result. Voici la description de ces param\xe8tres :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Param\xe8tres"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Type"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Description"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$url"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"URL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$http"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"En-t\xeate + Corps HTTP (32 ko maximum)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$ipBrowser"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"Adresse IP du navigateur"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$ipServer"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"Adresse IP appel\xe9e du serveur"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$user"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"Nom d\u2019utilisateur"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$pw"}),(0,r.jsx)(n.td,{children:"Texte"}),(0,r.jsx)(n.td,{children:"Mot de passe"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"$result"}),(0,r.jsx)(n.td,{children:"Bool\xe9en"}),(0,r.jsx)(n.td,{children:"Vrai = requ\xeate accept\xe9e, Faux = requ\xeate rejet\xe9e"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Vous devez d\xe9clarer ces param\xe8tres de la mani\xe8re suivante :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"\xa0\xa0// M\xe9thode base Sur authentification Web\n\xa0\n\xa0#DECLARE($url : Text ; $http : Text ; $BrowserIP : Text ;\\ $ServerIP : Text ; $user : Text ; $password: Text) -> $result : Boolean\n\xa0\n\xa0\xa0// Code pour la m\xe9thode\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note :"})," Tous les param\xe8tres de la ",(0,r.jsx)(n.strong,{children:"On Web Authentication database method"})," ne sont pas forc\xe9ment remplis. Les informations re\xe7ues par la m\xe9thode base d\xe9pendent des options que vous avez s\xe9lectionn\xe9es dans la bo\xeete de dialogue des Propri\xe9t\xe9s de la base. R\xe9f\xe9rez-vous \xe0 la section ",(0,r.jsx)(n.em,{children:"S\xe9curit\xe9 des connexions"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"URL"}),(0,r.jsx)(n.br,{}),"\nLe premier param\xe8tre (",(0,r.jsx)(n.em,{children:"$url"}),") est l'URL saisi par l'utilisateur dans la zone 'Adresse' de son navigateur Web, moins l'adresse h\xf4te.",(0,r.jsx)(n.br,{}),"\nPrenons l'exemple d'une connexion Intranet. Supposons que l'adresse IP de votre machine serveur Web 4D est ",(0,r.jsx)(n.em,{children:"123.45.67.89"}),". Le tableau suivant liste les valeurs de ",(0,r.jsx)(n.em,{children:"$url"})," selon l'URL saisi dans le navigateur Web :"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"URL saisi dans le navigateur Web"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Valeur du param\xe8tre $url"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"123.45.67.89"}),(0,r.jsx)(n.td,{children:"/"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"http://123.45.67.89",children:"http://123.45.67.89"})}),(0,r.jsx)(n.td,{children:"/"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"123.45.67.89/Clients"}),(0,r.jsx)(n.td,{children:"/Clients"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"http://123.45.67.89/Clients",children:"http://123.45.67.89/Clients"})}),(0,r.jsx)(n.td,{children:"/Clients"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"http://123.45.67.89/Clients/Ajouter",children:"http://123.45.67.89/Clients/Ajouter"})}),(0,r.jsx)(n.td,{children:"/Clients/Ajouter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"123.45.67.89/Faire_ceci/Si_OK/Faire_cela"}),(0,r.jsx)(n.td,{children:"/Faire_ceci/Si_OK/Faire_cela"})]})]})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"En-t\xeate et corps de la requ\xeate HTTP"}),(0,r.jsx)(n.br,{}),"\nLe deuxi\xe8me param\xe8tre (",(0,r.jsx)(n.em,{children:"$http"}),") est l'en-t\xeate et le corps de la requ\xeate ",(0,r.jsx)(n.em,{children:"HTTP"})," envoy\xe9e par le navigateur Web. Notez que ces informations sont pass\xe9es telles quelles \xe0 la ",(0,r.jsx)(n.strong,{children:"On Web Authentication database method"}),". Le contenu varie en fonction du type de navigateur Web qui tente de se connecter. Si votre application exploite ces informations, il est de votre ressort d'analyser l'en-t\xeate et le corps."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Notes :"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Pour des raisons de performances, la taille des donn\xe9es transitant via le param\xe8tre $http ne peut d\xe9passer 32 Ko. Au-del\xe0, elles sont tronqu\xe9es par le serveur HTTP de 4D."}),"\n",(0,r.jsxs)(n.li,{children:["Pour plus d'informations sur ce param\xe8tre, reportez-vous \xe0 la description de la ",(0,r.jsx)(n.a,{href:"/docs/fr/20-R9/commands/on-web-connection-database-method",children:"On Web Connection database method"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Adresse IP du navigateur"}),(0,r.jsx)(n.br,{}),"\nLe troisi\xe8me param\xe8tre (",(0,r.jsx)(n.em,{children:"$ipBrowser"}),") re\xe7oit l\u2019adresse IP de la machine du navigateur. Cette information peut vous permettre, en particulier, de distinguer les connexions Intranet des connexions Internet.",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Note :"})," 4D retourne les adresses IPv4 dans un format hybride IPv6 comprenant un pr\xe9fixe de 96 bits, par exemple ::ffff:192.168.2.34 pour l'adresse IPv4 192.168.2.34. Pour plus d'informations, reportez-vous \xe0 la section ",(0,r.jsx)(n.em,{children:"Prise en charge d\u2019IP v6"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Adresse IP demand\xe9e du serveur"}),(0,r.jsx)(n.br,{}),"\nLe quatri\xe8me param\xe8tre (",(0,r.jsx)(n.em,{children:"$ipServer"}),") re\xe7oit l\u2019adresse IP demand\xe9e du serveur Web 4D. En effet, 4D autorise le multi-homing, permettant d\u2019exploiter des machines disposant de plusieurs adresses IP. Pour plus d\u2019informations sur ce point, reportez-vous \xe0 la section ",(0,r.jsx)(n.em,{children:"Param\xe9trages du serveur Web"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Nom d'utilisateur et Mot de passe"}),(0,r.jsx)(n.br,{}),"\nLes param\xe8tres ",(0,r.jsx)(n.em,{children:"$user"})," et ",(0,r.jsx)(n.em,{children:"$pw"})," re\xe7oivent le nom d\u2019utilisateur et le mot de passe saisis par l\u2019utilisateur dans la bo\xeete de dialogue standard d\u2019identification affich\xe9e par le navigateur, le cas \xe9ch\xe9ant.",(0,r.jsx)(n.br,{}),"\nCette bo\xeete de dialogue appara\xeet pour chaque connexion d\xe8s qu'une option de gestion des mots de passe est coch\xe9e dans les Propri\xe9t\xe9s de la base (cf. section ",(0,r.jsx)(n.em,{children:"S\xe9curit\xe9 des connexions"}),")."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note :"})," Si le nom d\u2019utilisateur envoy\xe9 par le navigateur existe dans 4D, pour des raisons de confidentialit\xe9 le param\xe8tre ",(0,r.jsx)(n.em,{children:"$pw"})," n\u2019est alors pas rempli (il re\xe7oit une cha\xeene vide)."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Param\xe8tre $result"}),(0,r.jsx)(n.br,{}),"\nLa ",(0,r.jsx)(n.strong,{children:"On Web Authentication database method"})," retourne un bool\xe9en dans $result :\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Si $result est ",(0,r.jsx)(n.strong,{children:"Vrai"}),", la connexion est accept\xe9e."]}),"\n",(0,r.jsxs)(n.li,{children:["Si $result est ",(0,r.jsx)(n.strong,{children:"Faux"}),", la connexion est refus\xe9e."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["La ",(0,r.jsx)(n.a,{href:"/docs/fr/20-R9/commands/on-web-connection-database-method",children:"On Web Connection database method"})," n\u2019est ex\xe9cut\xe9e que si la connexion est accept\xe9e par ",(0,r.jsx)(n.strong,{children:"Sur authentification Web"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ATTENTION :"})," Si aucune valeur n\u2019est pass\xe9e dans ",(0,r.jsx)(n.em,{children:"$result"}),", ou si ",(0,r.jsx)(n.em,{children:"$result"})," n\u2019est pas d\xe9finie dans la ",(0,r.jsx)(n.strong,{children:"On Web Authentication database method"}),", la connexion sera consid\xe9r\xe9e comme accept\xe9e, et la ",(0,r.jsx)(n.a,{href:"/docs/fr/20-R9/commands/on-web-connection-database-method",children:"On Web Connection database method"})," sera ex\xe9cut\xe9e."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Notes :"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["N\u2019appelez aucun \xe9l\xe9ment d\u2019interface dans la ",(0,r.jsx)(n.strong,{children:"On Web Authentication database method"})," ((",(0,r.jsx)(n.a,{href:"/docs/fr/20-R9/commands/alert",children:"ALERT"}),", ",(0,r.jsx)(n.a,{href:"/docs/fr/20-R9/commands/dialog",children:"DIALOG"}),", etc.), sinon son ex\xe9cution sera interrompue et la connexion refus\xe9e. Il en est de m\xeame si une erreur se produit durant son traitement."]}),"\n",(0,r.jsxs)(n.li,{children:["Il est possible d'interdire l'ex\xe9cution par ",(0,r.jsx)(n.em,{children:"4DACTION"})," ou ",(0,r.jsx)(n.em,{children:"4DSCRIPT"})," de chaque m\xe9thode projet \xe0 l'aide de l'option \u201CDisponible via les balises HTML et URLs 4D (4DACTION...)\u201D dans la bo\xeete de dialogue des Propri\xe9t\xe9s des m\xe9thodes. Pour plus d'informations sur ce point, reportez-vous \xe0 la section ",(0,r.jsx)(n.em,{children:"S\xe9curit\xe9 des connexions"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"appels-de-la-m\xe9thode-base-sur-authentification-web",children:"Appels de la M\xe9thode base Sur authentification Web"}),"\n",(0,r.jsxs)(n.p,{children:["La ",(0,r.jsx)(n.strong,{children:"On Web Authentication database method"})," est automatiquement appel\xe9e, quel que soit le mode, lorsqu\u2019une requ\xeate ou un traitement n\xe9cessite l'ex\xe9cution d'une m\xe9thode 4D. Elle est \xe9galement appel\xe9e lorsque le serveur Web re\xe7oit un URL statique invalide (par exemple, si la page statique demand\xe9e n'existe pas)."]}),"\n",(0,r.jsxs)(n.p,{children:["La ",(0,r.jsx)(n.strong,{children:"On Web Authentication database method"})," est donc appel\xe9e dans les cas suivants :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["lorsque 4D re\xe7oit un URL d\xe9butant par ",(0,r.jsx)(n.em,{children:"4DACTION/"})]}),"\n",(0,r.jsxs)(n.li,{children:["lorsque 4D re\xe7oit un URL d\xe9butant par ",(0,r.jsx)(n.em,{children:"4DCGI/"})]}),"\n",(0,r.jsxs)(n.li,{children:["lorsque 4D re\xe7oit un URL d\xe9butant par ",(0,r.jsx)(n.em,{children:"4DSYNC/"})]}),"\n",(0,r.jsx)(n.li,{children:"lorsque 4D re\xe7oit un URL demandant une page statique inexistante"}),"\n",(0,r.jsxs)(n.li,{children:["lorsque 4D re\xe7oit un URL d'acc\xe8s \xe0 la racine et qu'aucune page d'accueil n'est d\xe9finie dans les propri\xe9t\xe9s de la base ou via la commande ",(0,r.jsx)(n.a,{href:"/docs/fr/20-R9/commands/web-set-home-page",children:"WEB SET HOME PAGE"})]}),"\n",(0,r.jsxs)(n.li,{children:["lorsque 4D traite une balise ",(0,r.jsx)(n.em,{children:"4DSCRIPT"})," dans une page semi-dynamique"]}),"\n",(0,r.jsxs)(n.li,{children:["lorsque 4D traite une balise ",(0,r.jsx)(n.em,{children:"4DLOOP"})," bas\xe9e sur une m\xe9thode dans une page semi-dynamique\n",(0,r.jsx)(n.strong,{children:"Note de compatibilit\xe9 :"})," La m\xe9thode base est \xe9galement appel\xe9e lorsque 4D re\xe7oit un URL d\xe9butant par ",(0,r.jsx)(n.em,{children:"4DMETHOD/."})," Cet URL obsol\xe8te est conserv\xe9 par compatibilit\xe9 uniquement."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["A noter que la ",(0,r.jsx)(n.strong,{children:"On Web Authentication database method"})," n'est PAS appel\xe9e lorsque le serveur re\xe7oit un URL demandant une page statique valide."]}),"\n",(0,r.jsx)(n.h2,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,r.jsxs)(n.p,{children:["Exemple de ",(0,r.jsx)(n.strong,{children:"On Web Authentication database method"})," en mode BASIC :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0//M\xe9thode base Sur authentification Web\n\xa0#DECLARE($url : Text ; $http : Text ; $BrowserIP : Text ;\\ $ServerIP : Text ; $user : Text ; $password: Text) -> $result : Boolean\n\xa0var $utilisateur;$motPasse;$IPBrowser;$IPServer : Text\n\xa0var $utilisateur4D : Boolean\n\xa0ARRAY TEXT($utilisateurs;0)\n\xa0ARRAY LONGINT($nums;0)\n\xa0var $upos : Integer\n\xa0\n\xa0$result:=False\n\xa0\n\xa0$utilisateur:=$user\n\xa0$motPasse:=$pw\n\xa0$IPBrowser:=$ipBrowser\n\xa0$IPServer:=$ipServer\n\xa0\n\xa0\xa0//Pour des raisons de s\xe9curit\xe9, refuser les noms qui contiennent @\n\xa0If(AvecJoker($utilisateur)|AvecJoker($motPasse))\n\xa0\xa0\xa0\xa0$result:=False\n\xa0\xa0//La m\xe9thode AvecJoker est d\xe9crite ci-dessous\n\xa0Else\n\xa0\xa0//V\xe9rifier si c\u2019est un utilisateur 4D\n\xa0\xa0\xa0\xa0GET USER LIST($utilisateurs;$nums)\n\xa0\xa0\xa0\xa0$upos:=Find in array($utilisateurs;$utilisateur)\n\xa0\xa0\xa0\xa0If($upos >0)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$utilisateur4D:=Not(Is user deleted($nums{$upos}))\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$utilisateur4D:=False\n\xa0\xa0\xa0\xa0End if\n\xa0\n\xa0\xa0\xa0\xa0If(Not($utilisateur4D))\n\xa0\xa0//Ce n\u2019est pas un utilisateur d\xe9fini dans 4D, chercher dans la table des utilisateurs Web\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0QUERY([WebUsers];[WebUsers]User=$utilisateur;*)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0QUERY([WebUsers];\xa0&\xa0[WebUsers]Password=$motPasse)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=(Records in selection([WebUsers])=1)\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=True\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n\xa0\xa0//Est-ce une connexion intranet ?\n\xa0If(Substring($IPBrowser;1;7)#"192.100.")\n\xa0\xa0\xa0\xa0$result:=False\n\xa0End if\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,r.jsx)(n.p,{children:"Exemple de m\xe9thode base Sur authentification Web en mode DIGEST :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"\xa0\xa0// M\xe9thode base Sur authentification Web\n\xa0#DECLARE($url : Text ; $http : Text ; $BrowserIP : Text ;\\ $ServerIP : Text ; $user : Text ; $password: Text) -> $result : Boolean\n\xa0var $utilisateur : Text\n\xa0$result:=False\n\xa0$utilisateur:=$user\n\xa0\xa0//Pour des raisons de s\xe9curit\xe9, refuser les noms qui contiennent @\n\xa0If(AvecJoker($utilisateur))\n\xa0\xa0\xa0\xa0$result:=False\n\xa0\xa0//La m\xe9thode AvecJoker est d\xe9crite ci-dessous\n\xa0Else\n\xa0\xa0\xa0\xa0QUERY([WebUsers];[WebUsers]User=$utilisateur)\n\xa0\xa0\xa0\xa0If(OK=1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=WEB Validate digest($utilisateur;[WebUsers]Mdp)\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=False\xa0//Utilisateur inexistant\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n\xa0\n\xa0La M\xe9thode projet AvecJoker est d\xe9crite ci-dessous:\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0//M\xe9thode projet AvecJoker\n\xa0\xa0//AvecJoker ( Chaine ) -> Bool\xe9en\n\xa0\xa0//AvecJoker ( Nom ) -> Contient un joker\n\xa0\n#DECLARE($name : Text) -> $result : Boolean\nvar $i : Integer\n\xa0$result:=False\n\xa0For($i;1;Length($name))\n\xa0\xa0\xa0\xa0If(Character code(Substring($name;$i;1))=Character code("@"))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=True\n\xa0\xa0\xa0\xa0End if\n\xa0End for\n'})})]})}function u(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},250065:function(e,n,s){s.d(n,{Z:()=>a,a:()=>d});var t=s(667294);let r={},i=t.createContext(r);function d(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);