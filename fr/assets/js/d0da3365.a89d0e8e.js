"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3065],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>c});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createContext({}),u=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,o=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=u(n),c=a,k=m["".concat(o,".").concat(c)]||m[c]||d[c]||l;return n?r.createElement(k,s(s({ref:t},p),{},{components:n})):r.createElement(k,s({ref:t},p))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,s=new Array(l);s[0]=m;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var u=2;u<l;u++)s[u]=n[u];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},35692:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>o,toc:()=>p});n(67294);var r=n(3905);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const s={id:"method",title:"$method"},i=void 0,o={unversionedId:"REST/method",id:"version-19-R8/REST/method",title:"$method",description:"Ce param\xe8tre vous permet de d\xe9finir l'op\xe9ration \xe0 ex\xe9cuter avec l'entit\xe9 ou la s\xe9lection d'entit\xe9 (entity selection) retourn\xe9e.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-19-R8/REST/$method.md",sourceDirName:"REST",slug:"/REST/method",permalink:"/docs/fr/REST/method",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2F%24method.md%20(19-R8)&body=Please%20enter%20your%20comment%3A",tags:[],version:"19-R8",frontMatter:{id:"method",title:"$method"},sidebar:"docs",previous:{title:"$lock",permalink:"/docs/fr/REST/lock"},next:{title:"$orderby",permalink:"/docs/fr/REST/orderby"}},u={},p=[{value:"Syntaxe",id:"syntaxe",level:2},{value:"$method=delete",id:"methoddelete",level:2},{value:"Description",id:"description",level:3},{value:"Exemple",id:"exemple",level:3},{value:"$method=entityset",id:"methodentityset",level:2},{value:"Description",id:"description-1",level:3},{value:"Exemple",id:"exemple-1",level:3},{value:"$method=release",id:"methodrelease",level:2},{value:"Description",id:"description-2",level:3},{value:"Exemple",id:"exemple-2",level:3},{value:"R\xe9ponse :",id:"r\xe9ponse-",level:4},{value:"$method=subentityset",id:"methodsubentityset",level:2},{value:"Description",id:"description-3",level:3},{value:"Exemple",id:"exemple-3",level:3},{value:"R\xe9ponse :",id:"r\xe9ponse--1",level:4},{value:"$method=update",id:"methodupdate",level:2},{value:"Description",id:"description-4",level:3},{value:"Exemple",id:"exemple-4",level:3}],d={toc:p};function m(e){var{components:t}=e,n=l(e,["components"]);return(0,r.kt)("wrapper",a({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Ce param\xe8tre vous permet de d\xe9finir l'op\xe9ration \xe0 ex\xe9cuter avec l'entit\xe9 ou la s\xe9lection d'entit\xe9 (entity selection) retourn\xe9e."),(0,r.kt)("h2",a({},{id:"syntaxe"}),"Syntaxe"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Syntaxe"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Exemple"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),(0,r.kt)("a",a({parentName:"td"},{href:"#methoddelete"}),(0,r.kt)("strong",{parentName:"a"},"$method=delete"))),(0,r.kt)("td",a({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},'POST /Employee?$filter="ID=11"& $method=delete')),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Supprime l'entit\xe9, collection d'entit\xe9s ou s\xe9lection d'entit\xe9 courante")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),(0,r.kt)("a",a({parentName:"td"},{href:"#methodentityset"}),(0,r.kt)("strong",{parentName:"a"},"$method=entityset"))),(0,r.kt)("td",a({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},'GET /People/?$filter="ID>320"& $method=entityset& $timeout=600')),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Cr\xe9e un ensemble d'entit\xe9s dans le cache de 4D Server bas\xe9 sur la collection d'entit\xe9s d\xe9finies dans la requ\xeate REST")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),(0,r.kt)("a",a({parentName:"td"},{href:"#methodrelease"}),(0,r.kt)("strong",{parentName:"a"},"$method=release"))),(0,r.kt)("td",a({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"GET /Employee/$entityset/<entitySetID>?$method=release")),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Affiche un ensemble d'entit\xe9s existant stock\xe9 dans le cache de 4D Server")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),(0,r.kt)("a",a({parentName:"td"},{href:"#methodsubentityset"}),(0,r.kt)("strong",{parentName:"a"},"$method=subentityset"))),(0,r.kt)("td",a({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"GET /Company(1)/staff?$expand=staff& $method=subentityset&   $subOrderby=lastName ASC")),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Cr\xe9e un ensemble d'entit\xe9s bas\xe9 sur la collection d'entit\xe9s relatives d\xe9finies dans la requ\xeate REST")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),(0,r.kt)("a",a({parentName:"td"},{href:"#methodupdate"}),(0,r.kt)("strong",{parentName:"a"},"$method=update"))),(0,r.kt)("td",a({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"POST /Person/?$method=update")),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Met \xe0 jour et/ou cr\xe9e une ou plusieurs entit\xe9s")))),(0,r.kt)("h2",a({},{id:"methoddelete"}),"$method=delete"),(0,r.kt)("p",null,"Supprime l'entit\xe9, collection d'entit\xe9s ou s\xe9lection d'entit\xe9 courante (cr\xe9\xe9e via REST)"),(0,r.kt)("h3",a({},{id:"description"}),"Description"),(0,r.kt)("p",null,"Avec ",(0,r.kt)("inlineCode",{parentName:"p"},"$method=delete"),", vous pouvez supprimer une entit\xe9 ou une collection d'entit\xe9s enti\xe8re. Vous pouvez d\xe9finir la collection d'entit\xe9s en utilisant, par exemple, ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/fr/REST/filter"}),(0,r.kt)("inlineCode",{parentName:"a"},"$filter"))," ou en en sp\xe9cifiant une directement \xe0 l'aide de ",(0,r.kt)("a",a({parentName:"p"},{href:"%7BdataClass%7D.html#dataclasskey"}),(0,r.kt)("inlineCode",{parentName:"a"},"{dataClass}({key})"))," (par exemple, /Employee(22))."),(0,r.kt)("p",null,"Vous pouvez \xe9galement supprimer les entit\xe9s d'un ensemble d'entit\xe9s en appelant ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/fr/REST/entityset#entitysetentitysetid"}),(0,r.kt)("inlineCode",{parentName:"a"},"$entityset/{entitySetID}")),"."),(0,r.kt)("h3",a({},{id:"exemple"}),"Exemple"),(0,r.kt)("p",null,"Vous pouvez ensuite saisir la requ\xeate REST suivante pour supprimer l'entit\xe9 dont la cl\xe9 porte le num\xe9ro 22 :"),(0,r.kt)("p",null," ",(0,r.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee(22)/?$method=delete")),(0,r.kt)("p",null,"Vous pouvez \xe9galement faire une requ\xeate en utilisant $ filter :"),(0,r.kt)("p",null," ",(0,r.kt)("inlineCode",{parentName:"p"},'POST  /rest/Employee?$filter="ID=11"&$method=delete')),(0,r.kt)("p",null,"Vous pouvez \xe9galement supprimer un ensemble d'entit\xe9s utilisant $entityset/{entitySetID} :"),(0,r.kt)("p",null," ",(0,r.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee/$entityset/73F46BE3A0734EAA9A33CA8B14433570?$method=delete")),(0,r.kt)("p",null,"R\xe9ponse :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-json"}),'{\n    "ok": true\n}\n')),(0,r.kt)("h2",a({},{id:"methodentityset"}),"$method=entityset"),(0,r.kt)("p",null,"Cr\xe9e un ensemble d'entit\xe9s dans le cache de 4D Server bas\xe9 sur la collection d'entit\xe9s d\xe9finies dans la requ\xeate REST"),(0,r.kt)("h3",a({},{id:"description-1"}),"Description"),(0,r.kt)("p",null,"Lorsque vous cr\xe9ez une collection d'entit\xe9s dans REST, vous pouvez \xe9galement cr\xe9er un ensemble d'entit\xe9s qui sera enregistr\xe9 dans le cache de 4D Server. L'ensemble d'entit\xe9s aura un num\xe9ro de r\xe9f\xe9rence que vous pouvez passer \xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"$entityset/{entitySetID}")," pour y acc\xe9der. Par d\xe9faut, il est valable deux heures; vous pouvez toutefois modifier cette dur\xe9e en passant une valeur (en secondes) \xe0 $timeout."),(0,r.kt)("p",null,"Si vous avez utilis\xe9 ",(0,r.kt)("inlineCode",{parentName:"p"},"$savedfilter")," et/ou ",(0,r.kt)("inlineCode",{parentName:"p"},"$savedorderby")," (avec ",(0,r.kt)("inlineCode",{parentName:"p"},"$filter")," et/ou ",(0,r.kt)("inlineCode",{parentName:"p"},"$orderby"),") lors de la cr\xe9ation de votre ensemble d'entit\xe9s, vous pouvez le recr\xe9er avec le m\xeame ID de r\xe9f\xe9rence m\xeame s'il a \xe9t\xe9 supprim\xe9 du cache de 4D Server."),(0,r.kt)("h3",a({},{id:"exemple-1"}),"Exemple"),(0,r.kt)("p",null,"Pour cr\xe9er un ensemble d'entit\xe9s, qui sera enregistr\xe9 dans le cache de 4D Server pendant deux heures, ajoutez ",(0,r.kt)("inlineCode",{parentName:"p"},"$method=entityset")," \xe0 la fin de votre requ\xeate REST :"),(0,r.kt)("p",null," ",(0,r.kt)("inlineCode",{parentName:"p"},'GET  /rest/People/?$filter="ID>320"&$method=entityset')),(0,r.kt)("p",null,"Vous pouvez cr\xe9er un ensemble d'entit\xe9s qui sera stock\xe9 dans le cache de 4D Server pendant seulement dix minutes en passant un nouveau timeout \xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"$timeout")," :"),(0,r.kt)("p",null," ",(0,r.kt)("inlineCode",{parentName:"p"},'GET  /rest/People/?$filter="ID>320"&$method=entityset&$timeout=600')),(0,r.kt)("p",null,"Vous pouvez \xe9galement enregistrer le filtre et trier, en passant true \xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"$savedfilter")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"$savedorderby"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("inlineCode",{parentName:"p"},"$skip")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"$top/$limit")," ne sont pas pris en compte lors de l'enregistrement d'un ensemble d'entit\xe9s.")),(0,r.kt)("p",null,"Apr\xe8s avoir cr\xe9\xe9 un ensemble d'entit\xe9s, le premier \xe9l\xe9ment, ",(0,r.kt)("inlineCode",{parentName:"p"},"__ENTITYSET")," est ajout\xe9 \xe0 l'objet retourn\xe9 et indique l'URI \xe0 utiliser pour acc\xe9der \xe0 l'ensemble d'entit\xe9s :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-json"}),'__ENTITYSET: "http://127.0.0.1:8081/rest/Employee/$entityset/9718A30BF61343C796345F3BE5B01CE7"`\n')),(0,r.kt)("h2",a({},{id:"methodrelease"}),"$method=release"),(0,r.kt)("p",null,"Affiche un ensemble d'entit\xe9s existant stock\xe9 dans le cache de 4D Server."),(0,r.kt)("h3",a({},{id:"description-2"}),"Description"),(0,r.kt)("p",null,"Vous pouvez afficher un ensemble d'entit\xe9s, que vous avez cr\xe9\xe9 \xe0 l'aide de ",(0,r.kt)("a",a({parentName:"p"},{href:"#methodentityset"}),(0,r.kt)("inlineCode",{parentName:"a"},"$method=entityset")),", \xe0 partir du cache de 4D Server."),(0,r.kt)("h3",a({},{id:"exemple-2"}),"Exemple"),(0,r.kt)("p",null,"Affiche un ensemble d'entit\xe9s existant :"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"GET  /rest/Employee/$entityset/4C51204DD8184B65AC7D79F09A077F24?$method=release")),(0,r.kt)("h4",a({},{id:"r\xe9ponse-"}),"R\xe9ponse :"),(0,r.kt)("p",null,"Si la requ\xeate a abouti, la r\xe9ponse suivante est retourn\xe9e :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-json"}),'{\n    "ok": true\n}\nIf the entity set wasn\'t found, an error is returned:\n\n{\n    "__ERROR": [\n        {\n            "message": "Error code: 1802\\nEntitySet  \\"4C51204DD8184B65AC7D79F09A077F24\\" cannot be found\\ncomponent:  \'dbmg\'\\ntask 22, name: \'HTTP connection handler\'\\n",\n            "componentSignature": "dbmg",\n            "errCode": 1802\n        }\n    ]\n}\n')),(0,r.kt)("h2",a({},{id:"methodsubentityset"}),"$method=subentityset"),(0,r.kt)("p",null,"Cr\xe9e un ensemble d'entit\xe9s dans le cache de 4D Server bas\xe9 sur la collection d'entit\xe9s relatives d\xe9finies dans la requ\xeate REST"),(0,r.kt)("h3",a({},{id:"description-3"}),"Description"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"$method=subentityset")," vous permet de trier les donn\xe9es retourn\xe9es par l'attribut relationnel d\xe9fini dans la requ\xeate REST."),(0,r.kt)("p",null,"Pour trier les donn\xe9es, utilisez la propri\xe9t\xe9 ",(0,r.kt)("inlineCode",{parentName:"p"},"$subOrderby"),". Pour chaque attribut, d\xe9finissez l'ordre sur ASC (ou asc) pour l'ordre croissant et sur DESC (desc) pour l'ordre d\xe9croissant. Par d\xe9faut, les donn\xe9es sont tri\xe9es par ordre croissant."),(0,r.kt)("p",null,"Si vous souhaitez sp\xe9cifier plusieurs attributs, vous pouvez les d\xe9limiter avec une virgule, \xb5, ",(0,r.kt)("inlineCode",{parentName:"p"},'$subOrderby="lastName desc, firstName asc"'),"."),(0,r.kt)("h3",a({},{id:"exemple-3"}),"Exemple"),(0,r.kt)("p",null,'Si vous souhaitez r\xe9cup\xe9rer uniquement les entit\xe9s relatives pour une entit\xe9 sp\xe9cifique, vous pouvez lancer la requ\xeate REST suivante, dans laquelle "staff" est l\'attribut relationnel dans la dataclass "Company" li\xe9e \xe0 la dataclass "Employee":'),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company(1)/staff?$expand=staff&$method=subentityset&$subOrderby=lastName ASC")),(0,r.kt)("h4",a({},{id:"r\xe9ponse--1"}),"R\xe9ponse :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-json"}),'{\n\n    "__ENTITYSET": "/rest/Employee/$entityset/FF625844008E430B9862E5FD41C741AB",\n    "__entityModel": "Employee",\n    "__COUNT": 2,\n    "__SENT": 2,\n    "__FIRST": 0,\n    "__ENTITIES": [\n        {\n            "__KEY": "4",\n            "__STAMP": 1,\n            "ID": 4,\n            "firstName": "Linda",\n            "lastName": "Jones",\n            "birthday": "1970-10-05T14:23:00Z",\n            "employer": {\n                "__deferred": {\n                    "uri": "/rest/Company(1)",\n                    "__KEY": "1"\n                }\n            }\n        },\n        {\n            "__KEY": "1",\n            "__STAMP": 3,\n            "ID": 1,\n            "firstName": "John",\n            "lastName": "Smith",\n            "birthday": "1985-11-01T15:23:00Z",\n            "employer": {\n                "__deferred": {\n                    "uri": "/rest/Company(1)",\n                    "__KEY": "1"\n                }\n            }\n        }\n    ]\n\n}\n')),(0,r.kt)("h2",a({},{id:"methodupdate"}),"$method=update"),(0,r.kt)("p",null,"Met \xe0 jour et/ou cr\xe9e une ou plusieurs entit\xe9s"),(0,r.kt)("h3",a({},{id:"description-4"}),"Description"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"$method=update")," vous permet de mettre \xe0 jour et/ou de cr\xe9er une ou plusieurs entit\xe9s dans un seul ",(0,r.kt)("strong",{parentName:"p"},"POST"),". Si vous mettez \xe0 jour et/ou cr\xe9ez une entit\xe9, cela s'effectue dans un objet avec, pour chaque propri\xe9t\xe9, un attribut et sa valeur, par exemple ",(0,r.kt)("inlineCode",{parentName:"p"},'{lastName: "Smith"}'),". Si vous mettez \xe0 jour et/ou cr\xe9ez plusieurs entit\xe9s, vous devez cr\xe9er une collection d'objets."),(0,r.kt)("p",null,"In any cases, you must set the ",(0,r.kt)("strong",{parentName:"p"},"POST")," data in the ",(0,r.kt)("strong",{parentName:"p"},"body")," of the request."),(0,r.kt)("p",null,"Pour mettre \xe0 jour une entit\xe9, vous devez passer les param\xe8tres ",(0,r.kt)("inlineCode",{parentName:"p"},"__KEY")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"__STAMP")," dans l'objet avec tous les attributs modifi\xe9s. Si ces deux param\xe8tres sont manquants, une entit\xe9 sera ajout\xe9e avec les valeurs de l'objet que vous envoyez dans le corps de votre ",(0,r.kt)("strong",{parentName:"p"},"POST"),"."),(0,r.kt)("p",null,"Triggers are executed immediately when saving the entity to the server. La r\xe9ponse contient toutes les donn\xe9es telles qu'elles existent sur le serveur."),(0,r.kt)("p",null,"You can also put these requests to create or update entities in a transaction by calling ",(0,r.kt)("inlineCode",{parentName:"p"},"$atomic/$atOnce"),". Si des erreurs se produisent lors de la validation des donn\xe9es, aucune des entit\xe9s n'est sauvegard\xe9e. You can also use ",(0,r.kt)("inlineCode",{parentName:"p"},"$method=validate")," to validate the entities before creating or updating them."),(0,r.kt)("p",null,"Si un probl\xe8me survient lors de l'ajout ou de la modification d'une entit\xe9, une erreur vous sera retourn\xe9e avec ces informations."),(0,r.kt)("admonition",a({},{type:"note"}),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Les dates"),' doivent \xeatre exprim\xe9es au format JS : YYYY-MM-DDTHH:MM:SSZ (par exemple, "2010-10-05T23:00:00Z"). Si vous avez s\xe9lectionn\xe9 la propri\xe9t\xe9 Date uniquement pour votre attribut Date, le fuseau horaire et l\'heure (heure, minutes et secondes) seront supprim\xe9s. Dans ce cas, vous pouvez \xe9galement envoyer la date au format qui vous est retourn\xe9 dd!mm!yyyy (par exemple, 05!10!2013).'),(0,r.kt)("li",{parentName:"ul"},"Les valeurs des ",(0,r.kt)("strong",{parentName:"li"},"bool\xe9ens")," sont vrai ou faux."),(0,r.kt)("li",{parentName:"ul"},"Uploaded files using ",(0,r.kt)("inlineCode",{parentName:"li"},"$upload")," can be applied to an attribute of type Image or BLOB by passing the object returned in the following format ",(0,r.kt)("inlineCode",{parentName:"li"},'{ "ID": "D507BC03E613487E9B4C2F6A0512FE50"}')))),(0,r.kt)("h3",a({},{id:"exemple-4"}),"Exemple"),(0,r.kt)("p",null,"Pour mettre \xe0 jour une entit\xe9 sp\xe9cifique, utilisez l'URL suivante :"),(0,r.kt)("p",null," ",(0,r.kt)("inlineCode",{parentName:"p"},"POST  /rest/Person/?$method=update")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Donn\xe9es POST :")),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-json"}),'{\n    __KEY: "340",\n    __STAMP: 2,\n    firstName: "Pete",\n    lastName: "Miller"\n}\n')),(0,r.kt)("p",null,"Les attributs firstName et lastName de l'entit\xe9 indiqu\xe9e ci-dessus seront modifi\xe9s en laissant inchang\xe9s tous les autres attributs (sauf ceux calcul\xe9s sur la base de ces attributs)."),(0,r.kt)("p",null,"Si vous souhaitez cr\xe9er une entit\xe9, vous pouvez envoyer, via POST, les attributs \xe0 l'aide de cette URL :"),(0,r.kt)("p",null," ",(0,r.kt)("inlineCode",{parentName:"p"},"POST  /rest/Person/?$method=update")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Donn\xe9es POST :")),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-json"}),'{ \n    firstName: "John",\n    lastName: "Smith"\n}\n')),(0,r.kt)("p",null,"Vous pouvez \xe9galement cr\xe9er et mettre \xe0 jour plusieurs entit\xe9s en m\xeame temps en utilisant la m\xeame URL ci-dessus en passant plusieurs objets d'un tableau au POST :"),(0,r.kt)("p",null," ",(0,r.kt)("inlineCode",{parentName:"p"},"POST  /rest/Person/?$method=update")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Donn\xe9es POST :")),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-json"}),'[{ \n    "__KEY": "309",\n    "__STAMP": 5,\n    "ID": "309",\n    "firstName": "Penelope",\n    "lastName": "Miller"\n}, { \n    "firstName": "Ann",\n    "lastName": "Jones"\n}]\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"R\xe9ponse :")),(0,r.kt)("p",null,"Lorsque vous ajoutez ou modifiez une entit\xe9, elle vous est retourn\xe9e avec les attributs qui ont \xe9t\xe9 modifi\xe9s. Par exemple, si vous cr\xe9ez le nouvel employ\xe9 ci-dessus, les informations suivantes seront renvoy\xe9es :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-json"}),'{\n    "__KEY": "622", \n    "__STAMP": 1, \n    "uri": "http://127.0.0.1:8081/rest/Employee(622)", \n    "__TIMESTAMP": "!!2020-04-03!!",\n    "ID": 622, \n    "firstName": "John", \n    "firstName": "Smith"\n}\n')),(0,r.kt)("p",null,"Si, par exemple, le tampon n'est pas correct, l'erreur suivante est retourn\xe9e :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-json"}),'{\n    "__STATUS": {\n        "status": 2,\n        "statusText": "Stamp has changed",\n        "success": false\n    },\n    "__KEY": "1",\n    "__STAMP": 12,\n    "__TIMESTAMP": "!!2020-03-31!!",\n    "ID": 1,\n    "firstname": "Denise",\n    "lastname": "O\'Peters",\n    "isWoman": true,\n    "numberOfKids": 1,\n    "addressID": 1,\n    "gender": true,\n    "imageAtt": {\n        "__deferred": {\n            "uri": "/rest/Persons(1)/imageAtt?$imageformat=best&$version=12&$expand=imageAtt",\n            "image": true\n        }\n    },\n    "extra": {\n        "num": 1,\n        "alpha": "I am 1"\n    },\n    "address": {\n        "__deferred": {\n            "uri": "/rest/Address(1)",\n            "__KEY": "1"\n        }\n    },\n    "__ERROR": [\n        {\n            "message": "Given stamp does not match current one for record# 0 of table Persons",\n            "componentSignature": "dbmg",\n            "errCode": 1263\n        },\n        {\n            "message": "Cannot save record 0 in table Persons of database remote_dataStore",\n            "componentSignature": "dbmg",\n            "errCode": 1046\n        },\n        {\n            "message": "The entity# 1 in the \\"Persons\\" dataclass cannot be saved",\n            "componentSignature": "dbmg",\n            "errCode": 1517\n        }\n    ]\n}{}\n\n')))}m.isMDXComponent=!0}}]);