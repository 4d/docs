"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["79988"],{380478:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>i,default:()=>x,toc:()=>c,metadata:()=>s,assets:()=>d,contentTitle:()=>a});var s=JSON.parse('{"id":"commands-legacy/text-to-array","title":"TEXT TO ARRAY","description":"TEXT TO ARRAY ( varTexte ; tabTexte ; largeur ; nomPolice ; taillePolice {; stylePolice {; *}} )","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R10/commands-legacy/text-to-array.md","sourceDirName":"commands-legacy","slug":"/commands/text-to-array","permalink":"/docs/fr/commands/text-to-array","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Ftext-to-array.md%20(20-R10)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R10","frontMatter":{"id":"text-to-array","title":"TEXT TO ARRAY","slug":"/commands/text-to-array","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"SORT ARRAY","permalink":"/docs/fr/commands/sort-array"},"next":{"title":"Sauvegarde","permalink":"/docs/fr/commands/theme/Backup"}}'),l=t(785893),r=t(250065);let i={id:"text-to-array",title:"TEXT TO ARRAY",slug:"/commands/text-to-array",displayed_sidebar:"docs"},a=void 0,d={},c=[{value:"Description",id:"description",level:2},{value:"Exemple 1",id:"exemple-1",level:2},{value:"Exemple 2",id:"exemple-2",level:2},{value:"Exemple 3",id:"exemple-3",level:2},{value:"Exemple 4",id:"exemple-4",level:2},{value:"Voir aussi",id:"voir-aussi",level:2},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:2}];function o(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"TEXT TO ARRAY"})," ( ",(0,l.jsx)(n.em,{children:"varTexte"})," ; ",(0,l.jsx)(n.em,{children:"tabTexte"})," ; ",(0,l.jsx)(n.em,{children:"largeur"})," ; ",(0,l.jsx)(n.em,{children:"nomPolice"})," ; ",(0,l.jsx)(n.em,{children:"taillePolice"})," {; ",(0,l.jsx)(n.em,{children:"stylePolice"})," {; *}} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Param\xe8tre"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"varText"}),(0,l.jsx)(n.td,{children:"Text"}),(0,l.jsx)(n.td,{children:"\u2192"}),(0,l.jsx)(n.td,{children:"Texte original \xe0 d\xe9couper"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"tabTexte"}),(0,l.jsx)(n.td,{children:"Text array"}),(0,l.jsx)(n.td,{children:"\u2190"}),(0,l.jsx)(n.td,{children:"Tableau contenant le texte d\xe9coup\xe9 en mots ou lignes"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"largeur"}),(0,l.jsx)(n.td,{children:"Integer"}),(0,l.jsx)(n.td,{children:"\u2192"}),(0,l.jsx)(n.td,{children:"Largeur maximale de la cha\xeene (en pixels)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"nomPolice"}),(0,l.jsx)(n.td,{children:"Text"}),(0,l.jsx)(n.td,{children:"\u2192"}),(0,l.jsx)(n.td,{children:"Nom de police"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"taillePolice"}),(0,l.jsx)(n.td,{children:"Integer"}),(0,l.jsx)(n.td,{children:"\u2192"}),(0,l.jsx)(n.td,{children:"Taille de police"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"stylePolice"}),(0,l.jsx)(n.td,{children:"Integer"}),(0,l.jsx)(n.td,{children:"\u2192"}),(0,l.jsx)(n.td,{children:"Style de police"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"*"}),(0,l.jsx)(n.td,{children:"Op\xe9rateur"}),(0,l.jsx)(n.td,{children:"\u2192"}),(0,l.jsx)(n.td,{children:"Si pass\xe9 = interpr\xe9ter le texte en multistyle"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,l.jsxs)(n.p,{children:["La commande ",(0,l.jsx)(n.strong,{children:"TEXT TO ARRAY"})," permet de transformer une variable texte en tableau texte. Le texte d\u2019origine (styl\xe9 ou non) est d\xe9coup\xe9 et chaque morceau devient un \xe9l\xe9ment du tableau ",(0,l.jsx)(n.em,{children:"tabTexte"})," qui est retourn\xe9 par la commande. Cette commande peut \xeatre utilis\xe9e par exemple pour remplir des pages ou des colonnes de texte de taille fixe."]}),"\n",(0,l.jsx)(n.p,{children:'Le d\xe9coupage du texte original est effectu\xe9 en "mots" \xe0 partir d\u2019une taille de ligne d\xe9finie par les param\xe8tres de la commande et tenant compte des styles utilis\xe9s.'}),"\n",(0,l.jsxs)(n.p,{children:["Passez dans ",(0,l.jsx)(n.em,{children:"varTexte"})," le texte \xe0 d\xe9couper en \xe9l\xe9ments de tableaux. Ce texte peut \xeatre multistyle ou non. Certains param\xe8tres seront ignor\xe9s si le texte est multistyle."]}),"\n",(0,l.jsxs)(n.p,{children:["Passez dans ",(0,l.jsx)(n.em,{children:"tabTexte"})," le nom du tableau qui sera rempli par le texte d\xe9coup\xe9."]}),"\n",(0,l.jsxs)(n.p,{children:["Passez dans ",(0,l.jsx)(n.em,{children:"largeur"}),' une taille en pixels indiquant la longueur maximum de ligne \xe0 mesurer pour d\xe9couper le texte. Pour l\u2019ensemble du texte, la commande \xe9valuera le nombre maximum de mots pouvant "tenir" dans cette largeur en fonction des attributs graphiques du texte (police, style).']}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Si le texte est multistyle, les styles du texte original seront pris en compte et les param\xe8tres suivants seront ignor\xe9s s\u2019ils sont pass\xe9s. Dans ce cas, les lignes de texte dans le tableau r\xe9sultant conserveront leurs styles (afin de pouvoir \xeatre imprim\xe9es une par une via une variable texte ou alpha par exemple)."}),"\n",(0,l.jsx)(n.li,{children:"Si le texte est brut (sans styles), vous devez passer tous les param\xe8tres afin que la commande puisse calculer la longueur des lignes."}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Chaque \xe9l\xe9ment du tableau doit contenir au moins un mot. Si la ",(0,l.jsx)(n.em,{children:"largeur"})," pass\xe9e est trop faible pour que la r\xe8gle de d\xe9coupage soit enti\xe8rement respect\xe9e, le tableau sera rempli de la fa\xe7on la plus proche possible des param\xe8tres et la variable OK prendra la valeur 0. Par exemple, si vous passez une largeur de 3 pixels, il est probable que la taille de la plupart des mots sera au-del\xe0 de cette longueur. Dans ce cas, la variable OK prendra la valeur 0.",(0,l.jsx)(n.br,{}),"\nCe principe implique \xe9galement que la taille th\xe9orique maximale du tableau retourn\xe9 est \xe9gale au nombre de mots pr\xe9sents dans ",(0,l.jsx)(n.em,{children:"varTexte"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["Passez dans ",(0,l.jsx)(n.em,{children:"nomPolice"})," et ",(0,l.jsx)(n.em,{children:"taillePolice"})," le nom et la taille de la police de caract\xe8res avec laquelle ",(0,l.jsx)(n.em,{children:"varTexte"})," doit \xeatre \xe9valu\xe9 par la commande pour effectuer le d\xe9coupage. Ces param\xe8tres sont obligatoires dans le cas d\u2019un texte brut."]}),"\n",(0,l.jsxs)(n.p,{children:["Passez dans ",(0,l.jsx)(n.em,{children:"stylePolice"})," une ou une combinaison de constante(s) du th\xe8me ",(0,l.jsx)(n.em,{children:"Styles de caract\xe8res"})," :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Constante"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Valeur"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Bold"}),(0,l.jsx)(n.td,{children:"Entier long"}),(0,l.jsx)(n.td,{children:"1"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Italic"}),(0,l.jsx)(n.td,{children:"Entier long"}),(0,l.jsx)(n.td,{children:"2"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Plain"}),(0,l.jsx)(n.td,{children:"Entier long"}),(0,l.jsx)(n.td,{children:"0"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Underline"}),(0,l.jsx)(n.td,{children:"Entier long"}),(0,l.jsx)(n.td,{children:"4"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:"Ce param\xe8tre est optionnel ; s\u2019il est omis, le style Plain est utilis\xe9."}),"\n",(0,l.jsxs)(n.p,{children:["Le param\xe8tre optionnel ",(0,l.jsx)(n.em,{children:"*"}),", s\u2019il est pass\xe9, permet de forcer la prise en compte des param\xe8tres ",(0,l.jsx)(n.em,{children:"nomPolice"}),", ",(0,l.jsx)(n.em,{children:"taillePolice"})," et/ou ",(0,l.jsx)(n.em,{children:"stylePolice"})," pour les textes multistyles lorsque ces param\xe8tres ne sont pas d\xe9finis dans le texte d\u2019origine. S\u2019ils sont d\xe9finis dans le texte, les param\xe8tres pass\xe9s \xe0 la commande sont ignor\xe9s dans tous les cas."]}),"\n",(0,l.jsx)(n.h2,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,l.jsx)(n.p,{children:"Nous souhaitons d\xe9couper un texte multistyle en lignes d\u2019une taille maximale de 200 pixels :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-4d",children:'\xa0TEXT TO ARRAY(leTexte;leTabTexte;200;"Arial";20;Plain;*)\n\xa0\xa0// les attributs Arial, 20, Normal ne seront pris en compte que s\u2019ils ne sont pas d\xe9finis dans le texte\n'})}),"\n",(0,l.jsx)(n.h2,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,l.jsx)(n.p,{children:"Nous souhaitons d\xe9couper un texte brut en lignes d\u2019une taille maximale de 350 pixels en police Bodoni gras 14. Comme la commande ne fonctionne pas correctement si la police n\u2019est pas disponible, il est utile de v\xe9rifier sa pr\xe9sence :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY TEXT($FontList;0)\n\xa0FONT LIST($FontList)\n\xa0$Font:="Bodoni"\n\xa0$p:=Find in array($FontList;$Font)\n\xa0If($p>0)\n\xa0\xa0\xa0\xa0TEXT TO ARRAY(leTexte;leTabTexte;350;"Bodoni";14;Bold)\n\xa0Else\n\xa0\xa0// utiliser une autre police.\n\xa0End if\n'})}),"\n",(0,l.jsx)(n.h2,{id:"exemple-3",children:"Exemple 3"}),"\n",(0,l.jsx)(n.p,{children:"Un texte multistyle doit \xeatre imprim\xe9 sans style dans la police Arial normal 12 avec une largeur maximale de 600 pixels :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// on transforme le texte multistyle en texte brut\n\xa0$RawText:=OBJECT Get plain text(vText)\xa0\xa0\n\xa0\xa0// on remplit le tableau\n\xa0TEXT TO ARRAY($RawText;tabTexte;600;"Arial";12)\n'})}),"\n",(0,l.jsx)(n.h2,{id:"exemple-4",children:"Exemple 4"}),"\n",(0,l.jsx)(n.p,{children:"Vous devez imprimer dans une zone de 400 pixels de large un texte d\u2019un maximum de 80 lignes et ce, avec la plus grande taille de police possible (ne devant pas d\xe9passer 24 points). Vous pouvez \xe9crire :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY TEXT(tabTexte;0)\n\xa0$Taille:=24\n\xa0Repeat\n\xa0\xa0\xa0\xa0TEXT TO ARRAY($RawText;tabTexte;400;"Arial";$Taille)\n\xa0\xa0\xa0\xa0$Taille:=$Taille-1\n\xa0\xa0\xa0\xa0$n:=Size of array(tabTexte)\n\xa0Until($n<=80)\n'})}),"\n",(0,l.jsx)(n.h2,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"/docs/fr/commands/split-string",children:"Split string"}),(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.a,{href:"/docs/fr/commands/st-get-plain-text",children:"ST Get plain text"}),(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.a,{href:"/docs/fr/commands/st-get-text",children:"ST Get text"})]}),"\n",(0,l.jsx)(n.h2,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{}),(0,l.jsx)(n.th,{})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Num\xe9ro de commande"}),(0,l.jsx)(n.td,{children:"1149"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Thread safe"}),(0,l.jsx)(n.td,{children:"\u2717"})]})]})]})]})}function x(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},250065:function(e,n,t){t.d(n,{Z:()=>a,a:()=>i});var s=t(667294);let l={},r=s.createContext(l);function i(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);