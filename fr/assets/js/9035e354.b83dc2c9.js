"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["30879"],{386354:function(e,s,n){n.r(s),n.d(s,{default:()=>u,frontMatter:()=>i,metadata:()=>t,assets:()=>c,toc:()=>d,contentTitle:()=>a});var t=JSON.parse('{"id":"ORDA/ordaClasses","title":"Classes du mod\xe8le de donn\xe9es","description":"ORDA vous permet de cr\xe9er des fonctions de classe de haut niveau au-dessus du mod\xe8le de donn\xe9es. Cela vous permet d\'\xe9crire du code orient\xe9 m\xe9tier et de le \xabpublier\xbb comme une API. Le datastore, les dataclasses, les entity selections et les entit\xe9s sont tous disponibles en tant qu\'objets de classe pouvant contenir des fonctions.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R8/ORDA/ordaClasses.md","sourceDirName":"ORDA","slug":"/ORDA/ordaClasses","permalink":"/docs/fr/20-R8/ORDA/ordaClasses","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20ORDA%2FordaClasses.md%20(20-R8)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R8","frontMatter":{"id":"ordaClasses","title":"Classes du mod\xe8le de donn\xe9es"},"sidebar":"docs","previous":{"title":"Objets du mod\xe8le de donn\xe9es","permalink":"/docs/fr/20-R8/ORDA/dsmapping"},"next":{"title":"Travailler avec les donn\xe9es","permalink":"/docs/fr/20-R8/ORDA/entities"}}'),l=n("785893"),r=n("250065");let i={id:"ordaClasses",title:"Classes du mod\xe8le de donn\xe9es"},a=void 0,c={},d=[{value:"Architecture",id:"architecture",level:2},{value:"Description de la classe",id:"description-de-la-classe",level:2},{value:"Classe DataStore",id:"classe-datastore",level:3},{value:"Exemple",id:"exemple",level:4},{value:"Classe DataClass",id:"classe-dataclass",level:3},{value:"Exemple",id:"exemple-1",level:4},{value:"Exemple avec un datastore distant",id:"exemple-avec-un-datastore-distant",level:4},{value:"Classe EntitySelection",id:"classe-entityselection",level:3},{value:"Exemple",id:"exemple-2",level:4},{value:"Classe Entity",id:"classe-entity",level:3},{value:"Attributs calcul\xe9s",id:"attributs-calcul\xe9s",level:4},{value:"Attributs de type alias",id:"attributs-de-type-alias",level:4},{value:"Exemple",id:"exemple-3",level:4},{value:"R\xe8gles sp\xe9cifiques",id:"r\xe8gles-sp\xe9cifiques",level:3},{value:"Ex\xe9cution pr\xe9emptive",id:"ex\xe9cution-pr\xe9emptive",level:3},{value:"Attributs calcul\xe9s",id:"attributs-calcul\xe9s-1",level:2},{value:"Vue d\u2019ensemble",id:"vue-densemble",level:3},{value:"Comment d\xe9finir les attributs calcul\xe9s",id:"comment-d\xe9finir-les-attributs-calcul\xe9s",level:3},{value:"<code>Function get &lt;attributeName&gt;</code>",id:"function-get-attributename",level:3},{value:"Syntaxe",id:"syntaxe",level:4},{value:"Exemples",id:"exemples",level:4},{value:"<code>Function set &lt;attributeName&gt;</code>",id:"function-set-attributename",level:3},{value:"Syntaxe",id:"syntaxe-1",level:4},{value:"Exemple",id:"exemple-4",level:4},{value:"<code>Function query &lt;attributeName&gt;</code>",id:"function-query-attributename",level:3},{value:"Syntaxe",id:"syntaxe-2",level:4},{value:"Exemples",id:"exemples-1",level:4},{value:"<code>Function orderBy &lt;attributeName&gt;</code>",id:"function-orderby-attributename",level:3},{value:"Syntaxe",id:"syntaxe-3",level:4},{value:"Exemple",id:"exemple-5",level:4},{value:"Attributs de type alias",id:"attributs-de-type-alias-1",level:2},{value:"Vue d\u2019ensemble",id:"vue-densemble-1",level:3},{value:"Comment d\xe9finir des attributs alias",id:"comment-d\xe9finir-des-attributs-alias",level:3},{value:"<code>Alias &lt;attributeName&gt; &lt;targetPath&gt;</code>",id:"alias-attributename-targetpath",level:3},{value:"Syntaxe",id:"syntaxe-4",level:4},{value:"Utiliser les attributs alias",id:"utiliser-les-attributs-alias",level:3},{value:"Propri\xe9t\xe9s des alias",id:"propri\xe9t\xe9s-des-alias",level:3},{value:"Exemples",id:"exemples-2",level:3},{value:"Fonctions expos\xe9es et non expos\xe9es",id:"fonctions-expos\xe9es-et-non-expos\xe9es",level:2},{value:"Exemple",id:"exemple-6",level:3},{value:"onHttpGet keyword",id:"onhttpget-keyword",level:2},{value:"params",id:"params",level:3},{value:"R\xe9sultat",id:"r\xe9sultat",level:3},{value:"Exemple",id:"exemple-7",level:3},{value:"Fonctions locales",id:"fonctions-locales",level:2},{value:"Exemples",id:"exemples-3",level:3},{value:"Calcul de l&#39;\xe2ge",id:"calcul-de-l\xe2ge",level:4},{value:"V\xe9rification des attributs",id:"v\xe9rification-des-attributs",level:4},{value:"Prise en charge dans l&#39;IDE 4D",id:"prise-en-charge-dans-lide-4d",level:2},{value:"Fichiers de classe (class files)",id:"fichiers-de-classe-class-files",level:3},{value:"Cr\xe9er des classes",id:"cr\xe9er-des-classes",level:3},{value:"Modifier des classes",id:"modifier-des-classes",level:3},{value:"\xc9diteur de code",id:"\xe9diteur-de-code",level:3}];function o(e){let s={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.p,{children:"ORDA vous permet de cr\xe9er des fonctions de classe de haut niveau au-dessus du mod\xe8le de donn\xe9es. Cela vous permet d'\xe9crire du code orient\xe9 m\xe9tier et de le \xabpublier\xbb comme une API. Le datastore, les dataclasses, les entity selections et les entit\xe9s sont tous disponibles en tant qu'objets de classe pouvant contenir des fonctions."}),"\n",(0,l.jsxs)(s.p,{children:["Par exemple, vous pouvez cr\xe9er une fonction ",(0,l.jsx)(s.code,{children:"getNextWithHigherSalary()"})," dans la classe ",(0,l.jsx)(s.code,{children:"EmployeeEntity"})," pour retourner les employ\xe9s ayant un salaire sup\xe9rieur \xe0 celui qui est s\xe9lectionn\xe9. Il serait aussi simple \xe0 appeler que :"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"$nextHigh:=ds.Employee.get(1).getNextWithHigherSalary()\n"})}),"\n",(0,l.jsx)(s.p,{children:"Les d\xe9veloppeurs peuvent utiliser ces fonctions non seulement dans des datastores locaux, mais aussi dans des architectures client/serveur et distantes :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:" //$cityManager est la r\xe9f\xe9rence d'un datastore distant\nForm.comp.city:=$cityManager.City.getCityName(Form.comp.zipcode)\n"})}),"\n",(0,l.jsx)(s.p,{children:"Gr\xe2ce \xe0 cette fonctionnalit\xe9, toute la logique m\xe9tier de votre application 4D peut \xeatre stock\xe9e comme une couche ind\xe9pendante afin d'\xeatre facilement maintenue ou r\xe9utilis\xe9e avec un niveau de s\xe9curit\xe9 \xe9lev\xe9 :"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"Elle vous permet de \xabmasquer\xbb la complexit\xe9 globale de la structure physique sous-jacente et d'exposer uniquement des fonctions compr\xe9hensibles et pr\xeates \xe0 l'emploi."}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"Si la structure physique \xe9volue, il vous suffit d'adapter le code de la fonction et les applications clientes continueront de les appeler de mani\xe8re transparente."}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Par d\xe9faut, toutes les fonctions de votre mod\xe8le de donn\xe9es (y compris les ",(0,l.jsx)(s.a,{href:"#computed-attributes-1",children:"fonctions d'attributs calcul\xe9s"}),") et ",(0,l.jsx)(s.a,{href:"#alias-attributes-1",children:"attributs alias"})," ne sont ",(0,l.jsx)(s.strong,{children:"pas expos\xe9s"})," aux applications distantes et ne peuvent pas \xeatre appel\xe9s \xe0 partir de requ\xeates REST. Vous devez d\xe9clarer explicitement chaque fonction publique et alias avec le mot-cl\xe9 ",(0,l.jsx)(s.a,{href:"#exposed-vs-non-exposed-functions",children:(0,l.jsx)(s.code,{children:"exposed"})}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.img,{src:n(118348).Z+"",width:"1532",height:"1132"})}),"\n",(0,l.jsxs)(s.p,{children:["De plus, 4D ",(0,l.jsx)(s.a,{href:"#creating-classes",children:"cr\xe9e pr\xe9alablement et automatiquement"})," les classes pour chaque objet de mod\xe8le de donn\xe9es disponible."]}),"\n",(0,l.jsx)(s.h2,{id:"architecture",children:"Architecture"}),"\n",(0,l.jsxs)(s.p,{children:["ORDA fournit des ",(0,l.jsx)(s.strong,{children:"classes g\xe9n\xe9riques"})," expos\xe9es via le ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes#class-stores",children:"class store"})," ",(0,l.jsx)(s.strong,{children:(0,l.jsx)(s.code,{children:"4D"})}),", ainsi que des ",(0,l.jsx)(s.strong,{children:"classes utilisateurs"})," (\xe9tendant les classes g\xe9n\xe9riques) expos\xe9es dans le ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes#class-stores",children:"class store"})," **\\`"]}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.img,{src:n(229269).Z+"",width:"769",height:"567"})}),"\n",(0,l.jsxs)(s.p,{children:["Toutes les classes de mod\xe8le de donn\xe9es ORDA sont expos\xe9es en tant que propri\xe9t\xe9s du class store ",(0,l.jsx)(s.strong,{children:(0,l.jsx)(s.code,{children:"cs"})}),". Les classes ORDA suivantes sont disponibles :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Class"}),(0,l.jsx)(s.th,{children:"Nom de l'exemple"}),(0,l.jsx)(s.th,{children:"Instanci\xe9e par"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"cs.DataStore"}),(0,l.jsx)(s.td,{children:"cs.DataStore"}),(0,l.jsxs)(s.td,{children:["Commande ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/commands/ds",children:(0,l.jsx)(s.code,{children:"ds"})})]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsxs)(s.td,{children:["cs.",(0,l.jsx)(s.em,{children:"DataClassName"})]}),(0,l.jsx)(s.td,{children:"cs.Employee"}),(0,l.jsxs)(s.td,{children:[(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataStoreClass#dataclassname",children:(0,l.jsx)(s.code,{children:"dataStore.DataClassName"})}),", ",(0,l.jsx)(s.code,{children:'dataStore["DataClassName"]'})]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"cs._DataClassName_Entity"}),(0,l.jsx)(s.td,{children:"cs.EmployeeEntity"}),(0,l.jsxs)(s.td,{children:[(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#get",children:(0,l.jsx)(s.code,{children:"dataClass.get()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#new",children:(0,l.jsx)(s.code,{children:"dataClass.new()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass#first",children:(0,l.jsx)(s.code,{children:"entitySelection.first()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass#last",children:(0,l.jsx)(s.code,{children:"entitySelection.last()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntityClass#previous",children:(0,l.jsx)(s.code,{children:"entity.previous()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntityClass#next",children:(0,l.jsx)(s.code,{children:"entity.next()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntityClass#first",children:(0,l.jsx)(s.code,{children:"entity.first()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntityClass#last",children:(0,l.jsx)(s.code,{children:"entity.last()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntityClass#clone",children:(0,l.jsx)(s.code,{children:"entity.clone()"})})]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"cs._DataClassName_Selection"}),(0,l.jsx)(s.td,{children:"cs.EmployeeSelection"}),(0,l.jsxs)(s.td,{children:[(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#query",children:(0,l.jsx)(s.code,{children:"dataClass.query()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass#query",children:(0,l.jsx)(s.code,{children:"entitySelection.query()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#all",children:(0,l.jsx)(s.code,{children:"dataClass.all()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#fromcollection",children:(0,l.jsx)(s.code,{children:"dataClass.fromCollection()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#newselection",children:(0,l.jsx)(s.code,{children:"dataClass.newSelection()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass#drop",children:(0,l.jsx)(s.code,{children:"entitySelection.drop()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntityClass#getselection",children:(0,l.jsx)(s.code,{children:"entity.getSelection()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass#and",children:(0,l.jsx)(s.code,{children:"entitySelection.and()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass#minus",children:(0,l.jsx)(s.code,{children:"entitySelection.minus()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass#or",children:(0,l.jsx)(s.code,{children:"entitySelection.or()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass#or",children:(0,l.jsx)(s.code,{children:"entitySelection.orderBy()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass#orderbyformula",children:(0,l.jsx)(s.code,{children:"entitySelection.orderByFormula()"})}),", ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass#slice",children:(0,l.jsx)(s.code,{children:"entitySelection.slice()"})}),", ",(0,l.jsx)(s.code,{children:"Create entity selection"})]})]})]})]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["Les classes utilisateur ORDA sont stock\xe9es sous forme de fichiers de classe standard (.4dm) dans le sous-dossier Classes du projet ",(0,l.jsx)(s.a,{href:"#class-files",children:"(voir ci-dessous)"}),"."]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"De plus, les instances d'objet de classes utilisateurs du mod\xe8les de donn\xe9es ORDA b\xe9n\xe9ficient des propri\xe9t\xe9s et fonctions de leurs parents:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["un objet de classe Datastore peut appeler des fonctions de la ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataStoreClass",children:"classe g\xe9n\xe9rique ORDA Datastore"}),"."]}),"\n",(0,l.jsxs)(s.li,{children:["un objet de classe Dataclass peut appeler des fonctions de la ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass",children:"classe g\xe9n\xe9rique ORDA Dataclass"}),"."]}),"\n",(0,l.jsxs)(s.li,{children:["un objet de classe Entity selection peut appeler des fonctions de la ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass",children:"classe g\xe9n\xe9rique ORDA Entity selection"}),"."]}),"\n",(0,l.jsxs)(s.li,{children:["un objet de classe Entity peut appeler des fonctions de la ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntityClass",children:"classe g\xe9n\xe9rique ORDA Entity"}),"."]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"description-de-la-classe",children:"Description de la classe"}),"\n",(0,l.jsxs)(s.details,{children:[(0,l.jsx)(s.summary,{children:"Historique"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Release"}),(0,l.jsx)(s.th,{children:"Modifications"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"19 R4"}),(0,l.jsx)(s.td,{children:"Attributs alias dans la classe Entity"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"19 R3"}),(0,l.jsx)(s.td,{children:"Attributs calcul\xe9s dans la classe Entity"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"18 R5"}),(0,l.jsxs)(s.td,{children:["Les fonctions des classes du mod\xe8le de donn\xe9es ne sont pas expos\xe9es par d\xe9faut en REST. Nouveaux mots-cl\xe9s ",(0,l.jsx)(s.code,{children:"exposed"})," et ",(0,l.jsx)(s.code,{children:"local"}),"."]})]})]})]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"classe-datastore",children:"Classe DataStore"}),"\n",(0,l.jsxs)(s.p,{children:["Une base de donn\xe9es 4D expose sa propre classe DataStore dans le class store ",(0,l.jsx)(s.code,{children:"cs"}),"."]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Etend"}),": 4D.DataStoreImplementation"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Nom de classe"})," : cs.DataStore"]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["Vous pouvez cr\xe9er des fonctions dans la classe DataStore qui seront disponibles via l'objet ",(0,l.jsx)(s.code,{children:"ds"}),"."]}),"\n",(0,l.jsx)(s.h4,{id:"exemple",children:"Exemple"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'// cs.DataStore class\n\nClass extends DataStoreImplementation\n\nFunction getDesc\n  $0:="Database exposing employees and their companies"\n'})}),"\n",(0,l.jsx)(s.p,{children:"Cette foncton peut alors \xeatre appel\xe9e :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'$desc:=ds.getDesc() //"Database exposing..."\n'})}),"\n",(0,l.jsx)(s.h3,{id:"classe-dataclass",children:"Classe DataClass"}),"\n",(0,l.jsxs)(s.p,{children:["Chaque table expos\xe9e avec ORDA affiche une classe DataClass dans le class store ",(0,l.jsx)(s.code,{children:"cs"}),"."]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Etend"})," : 4D.DataClass"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Nom de classe"}),": cs.",(0,l.jsx)(s.em,{children:"DataClassName"})," (o\xf9 ",(0,l.jsx)(s.em,{children:"DataClassName"})," est le nom de la table)"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Exemple"})," : cs.Employee"]}),"\n"]}),"\n",(0,l.jsx)(s.h4,{id:"exemple-1",children:"Exemple"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4D",children:'// cs.Company class\n\n\nClass extends DataClass\n\n// Retourne les entreprises dont le revenu est sup\xe9rieur \xe0 la moyenne\n// Retourne une entity selection li\xe9e \xe0 la dataclass Company \n\nFunction GetBestOnes()\n $sel:=This.query("revenues >= :1";This.all().average("revenues"));\n $0:=$sel\n'})}),"\n",(0,l.jsx)(s.p,{children:'Vous pouvez ensuite obtenir une s\xe9lection d\'entit\xe9 des "meilleures" entreprises en ex\xe9cutant le code suivant :'}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"	var $best : cs.CompanySelection\n	$best:=ds.Company.GetBestOnes()\n"})}),"\n",(0,l.jsx)(s.admonition,{type:"info",children:(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.a,{href:"#computed-attributes",children:"Les champs calcul\xe9s"})," sont d\xe9finis dans ",(0,l.jsx)(s.a,{href:"#entity-class",children:"la classe Entity"}),"."]})}),"\n",(0,l.jsx)(s.h4,{id:"exemple-avec-un-datastore-distant",children:"Exemple avec un datastore distant"}),"\n",(0,l.jsxs)(s.p,{children:["Le catalogue ",(0,l.jsx)(s.em,{children:"City"})," suivant est expos\xe9 dans un datastore distant (vue partielle) :"]}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.img,{src:n(516548).Z+"",width:"370",height:"281"})}),"\n",(0,l.jsxs)(s.p,{children:["La classe ",(0,l.jsx)(s.code,{children:"City Class"})," fournit une API :"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'// cs.City class\n\nClass extends DataClass\n\nFunction getCityName($zipcode : Integer) -> $cityName : Text\n	var $zip : 4D.Entity\n\n	$zip:=ds.ZipCode.get($zipcode)\n	$cityName:=""\n\n	If ($zip#Null)\n		$cityName:=$zip.city.name\n	End if\n'})}),"\n",(0,l.jsx)(s.p,{children:"L'application cliente ouvre une session sur le datastore distant :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'$cityManager:=Open datastore(New object("hostname";"127.0.0.1:8111");"CityManager")\n'})}),"\n",(0,l.jsx)(s.p,{children:"Une application cliente peut alors utiliser l'API pour obtenir la ville correspondant au code postal (par exemple) \xe0 partir d'un formulaire :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"Form.comp.city:=$cityManager.City.getCityName(Form.comp.zipcode)\n\n"})}),"\n",(0,l.jsx)(s.h3,{id:"classe-entityselection",children:"Classe EntitySelection"}),"\n",(0,l.jsxs)(s.p,{children:["Chaque table expos\xe9e avec ORDA affiche une classe EntitySelection dans le class store ",(0,l.jsx)(s.code,{children:"cs"}),"."]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Etend"})," : 4D.EntitySelection"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Nom de classe"})," : _DataClassName_Selection (o\xf9 ",(0,l.jsx)(s.em,{children:"DataClassName"})," est le nom de la table)"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Exemple"})," : cs.EmployeeSelection"]}),"\n"]}),"\n",(0,l.jsx)(s.h4,{id:"exemple-2",children:"Exemple"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'// cs.EmployeeSelection class\n\n\nClass extends EntitySelection\n\n//Extract the employees with a salary greater than the average from this entity selection\n\nFunction withSalaryGreaterThanAverage() : cs.EmployeeSelection\n	return This.query("salary > :1";This.average("salary")).orderBy("salary")\n\n'})}),"\n",(0,l.jsx)(s.p,{children:"Vous pouvez alors obtenir les employ\xe9s dont le salaire est sup\xe9rieur \xe0 la moyenne, dans une s\xe9lection d'entit\xe9, en ex\xe9cutant le code suivant :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"$moreThanAvg:=ds.Company.all().employees.withSalaryGreaterThanAverage()\n"})}),"\n",(0,l.jsx)(s.admonition,{type:"info",children:(0,l.jsxs)(s.p,{children:["Les ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/ORDA/entities#restricting-entity-selections",children:"filtres des entity selection restreintes"})," sont d\xe9finis dans la ",(0,l.jsx)(s.a,{href:"#dataclass-class",children:"classe dataclass"}),"."]})}),"\n",(0,l.jsx)(s.h3,{id:"classe-entity",children:"Classe Entity"}),"\n",(0,l.jsxs)(s.p,{children:["Chaque table expos\xe9e avec ORDA affiche une classe Entity dans le class store ",(0,l.jsx)(s.code,{children:"cs"}),"."]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Etend"})," : 4D.Entity"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Nom de classe"})," : _DataClassName_Entity (o\xf9 ",(0,l.jsx)(s.em,{children:"DataClassName"})," est le nom de la table)"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Exemple"})," : cs.CityEntity"]}),"\n"]}),"\n",(0,l.jsx)(s.h4,{id:"attributs-calcul\xe9s",children:"Attributs calcul\xe9s"}),"\n",(0,l.jsxs)(s.p,{children:["Les classes Entity vous permettent de d\xe9finir des ",(0,l.jsx)(s.strong,{children:"attributs calcul\xe9s"})," \xe0 l'aide de mots-cl\xe9s sp\xe9cifiques :"]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"Function get"})," ",(0,l.jsx)(s.em,{children:"attributeName"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"Function set"})," ",(0,l.jsx)(s.em,{children:"attributeName"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"Function query"})," ",(0,l.jsx)(s.em,{children:"attributeName"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"Function orderBy"})," ",(0,l.jsx)(s.em,{children:"attributeName"})]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["Pour plus d'informations, reportez-vous \xe0 la section ",(0,l.jsx)(s.a,{href:"#computed-attributes-1",children:"Attributs calcul\xe9s"})," ."]}),"\n",(0,l.jsx)(s.h4,{id:"attributs-de-type-alias",children:"Attributs de type alias"}),"\n",(0,l.jsxs)(s.p,{children:["Les classes Entity vous permettent de d\xe9finir des ",(0,l.jsx)(s.strong,{children:"attributs alias"}),", g\xe9n\xe9ralement sur des attributs li\xe9s, en utilisant le mot-cl\xe9 ",(0,l.jsx)(s.code,{children:"Alias"}),":"]}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"Alias"})," ",(0,l.jsx)(s.em,{children:"attributeName"})," ",(0,l.jsx)(s.em,{children:"targetPath"})]}),"\n",(0,l.jsxs)(s.p,{children:["Pour plus d'informations, reportez-vous \xe0 la section ",(0,l.jsx)(s.a,{href:"#alias-attributes-1",children:"Attributs Alias"}),"."]}),"\n",(0,l.jsx)(s.h4,{id:"exemple-3",children:"Exemple"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'// cs.CityEntity class\n\nClass extends Entity\n\nFunction getPopulation() : Integer\n    return This.zips.sum("population")\n\n\nFunction isBigCity(): Boolean\n//La fonction getPopulation() est utilisable dans la classe\n	return This.getPopulation()>50000\n'})}),"\n",(0,l.jsx)(s.p,{children:"Vous pouvez ensuite appeler ce code :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'var $cityManager; $city : Object\n\n$cityManager:=Open datastore(New object("hostname";"127.0.0.1:8111");"CityManager")\n$city:=$cityManager.City.getCity("Caguas")\n\nIf ($city.isBigCity())\n	ALERT($city.name + " is a big city")\nEnd if\n'})}),"\n",(0,l.jsx)(s.h3,{id:"r\xe8gles-sp\xe9cifiques",children:"R\xe8gles sp\xe9cifiques"}),"\n",(0,l.jsx)(s.p,{children:"Lors de la cr\xe9ation ou de la modification de classes de mod\xe8les de donn\xe9es, vous devez veiller aux r\xe8gles d\xe9crites ci-dessous :"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Puisqu'ils sont utilis\xe9s pour d\xe9finir des noms de classe DataClass automatiques dans le ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes#class-stores",children:"class store"})," ",(0,l.jsx)(s.strong,{children:"cs"}),", les tables 4D doivent \xeatre nomm\xe9es afin d'\xe9viter tout conflit dans l'espace de nommage ",(0,l.jsx)(s.strong,{children:"cs"}),". En particulier :"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Do not give the same name to a 4D table and to a ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes#class-definition",children:"user class name"}),". Si un tel cas se produit, le constructeur de la classe utilisateur devient inutilisable (un avertissement est retourn\xe9 par le compilateur)."]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:'N\'utilisez pas de nom r\xe9serv\xe9 pour une table 4D (par exemple "DataClass").'}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["When defining a class, make sure the ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes#class-extends-classname",children:(0,l.jsx)(s.code,{children:"Class extends"})})," statement exactly matches the parent class name (remember that they're case sensitive). Par exemple, ",(0,l.jsx)(s.code,{children:"Class extends EntitySelection"})," pour une classe de s\xe9lection d'entit\xe9."]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Vous ne pouvez pas instancier un objet de classe du mod\xe8le de donn\xe9es avec le mot cl\xe9 ",(0,l.jsx)(s.code,{children:"new()"})," (une erreur est retourn\xe9e). Vous devez utiliser une des m\xe9thodes list\xe9es dans la colonne ",(0,l.jsxs)(s.a,{href:"#architecture",children:[(0,l.jsx)(s.code,{children:"Instanci\xe9e par"})," de la table de classe ORDA"]}),"."]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Vous ne pouvez pas remplacer une fonction de classe ORDA native du ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes#class-stores",children:"class store"})," ",(0,l.jsx)(s.strong,{children:(0,l.jsx)(s.code,{children:"4D"})})," par une fonction de classe utilisateur de mod\xe8le de donn\xe9es."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"ex\xe9cution-pr\xe9emptive",children:"Ex\xe9cution pr\xe9emptive"}),"\n",(0,l.jsx)(s.p,{children:"Lors de la compilation, les fonctions de classe du mod\xe8le de donn\xe9es sont ex\xe9cut\xe9es :"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["dans ",(0,l.jsx)(s.strong,{children:"des process pr\xe9emptifs ou coop\xe9ratifs"})," (en fonction du process appelant) dans les applications monoposte,"]}),"\n",(0,l.jsxs)(s.li,{children:["dans des ",(0,l.jsx)(s.strong,{children:"process pr\xe9emptifs"})," dans les applications client/serveur (sauf si le mot-cl\xe9 ",(0,l.jsx)(s.a,{href:"#local-functions",children:(0,l.jsx)(s.code,{children:"local"})})," est utilis\xe9, auquel cas cela d\xe9pend du process d'appel comme en mono-utilisateur)."]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Si votre projet est con\xe7u de fa\xe7on \xe0 \xeatre ex\xe9cut\xe9 en client/serveur, assurez-vous que le code de la fonction de classe du mod\xe8le de donn\xe9es est thread-safe. Si un code thread-unsafe est appel\xe9, une erreur sera g\xe9n\xe9r\xe9e au moment de l'ex\xe9cution (aucune erreur ne sera d\xe9clench\xe9e au moment de la compilation puisque l'ex\xe9cution coop\xe9rative est prise en charge dans les applications monoposte)."}),"\n",(0,l.jsx)(s.h2,{id:"attributs-calcul\xe9s-1",children:"Attributs calcul\xe9s"}),"\n",(0,l.jsx)(s.h3,{id:"vue-densemble",children:"Vue d\u2019ensemble"}),"\n",(0,l.jsxs)(s.p,{children:["Un attribut calcul\xe9 est un attribut de dataclass avec un type de donn\xe9es qui masque un calcul. ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes",children:"Les classes 4D standard"})," impl\xe9mentent le concept de propri\xe9t\xe9s calcul\xe9es avec des ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes#function-get-and-function-set",children:"fonctions d'acc\xe8s"})," telles que ",(0,l.jsx)(s.code,{children:"get"})," (",(0,l.jsx)(s.em,{children:"getter"}),") et ",(0,l.jsx)(s.code,{children:"set"})," (",(0,l.jsx)(s.em,{children:"setter"}),"). Les attributs de dataclass ORDA b\xe9n\xe9ficient de cette fonctionnalit\xe9 et l'\xe9tendent avec deux fonctions suppl\xe9mentaires : ",(0,l.jsx)(s.code,{children:"query"})," et ",(0,l.jsx)(s.code,{children:"orderBy"}),"."]}),"\n",(0,l.jsxs)(s.p,{children:["Un champ calcul\xe9 n\xe9cessite au minimum une fonction ",(0,l.jsx)(s.code,{children:"get"})," qui d\xe9crit comment sa valeur sera calcul\xe9e. Lorsqu'une fonction ",(0,l.jsx)(s.em,{children:"getter"})," est fournie \xe0 un attribut, 4D ne cr\xe9e pas l'espace de stockage sous-jacent dans le datastore mais substitue le code de la fonction chaque fois que l'attribut est acc\xe9d\xe9. Si l'attribut n'est pas consult\xe9, le code ne s'ex\xe9cute jamais."]}),"\n",(0,l.jsxs)(s.p,{children:["Un champ calcul\xe9 peut \xe9galement mettre en \u0153uvre une fonction ",(0,l.jsx)(s.code,{children:"set"}),", qui s'ex\xe9cute chaque fois qu'une valeur est attribu\xe9e \xe0 l'attribut. La fonction ",(0,l.jsx)(s.em,{children:"setter"})," d\xe9crit ce qui est \xe0 faire avec la valeur attribu\xe9e, g\xe9n\xe9ralement en la redirigeant vers un ou plusieurs attributs de stockage ou, dans certains cas, vers d'autres entit\xe9s."]}),"\n",(0,l.jsxs)(s.p,{children:["Tout comme les champs de stockage, les champs calcul\xe9s peuvent \xeatre inclus dans les ",(0,l.jsx)(s.strong,{children:"requ\xeates"}),". Par d\xe9faut, lorsqu'un attribut calcul\xe9 est utilis\xe9 dans une requ\xeate ORDA, il est calcul\xe9 une fois par entit\xe9 examin\xe9e. Dans certains cas, cela est suffisant. Cependant, pour de meilleures performances, notamment en client/serveur, les champs calcul\xe9s peuvent impl\xe9menter une fonction de requ\xeate ",(0,l.jsx)(s.code,{children:"query"})," qui s'appuie sur les attributs des dataclass et qui b\xe9n\xe9ficie de leurs index."]}),"\n",(0,l.jsxs)(s.p,{children:["De m\xeame, les champs calcul\xe9s peuvent \xeatre inclus dans des ",(0,l.jsx)(s.strong,{children:"tris"}),". Lorsqu'un attribut calcul\xe9 est utilis\xe9 dans un tri ORDA, l'attribut est calcul\xe9 une fois par entit\xe9 examin\xe9e. Tout comme dans les requ\xeates, les champs calcul\xe9s peuvent mettre en \u0153uvre une fonction ",(0,l.jsx)(s.code,{children:"orderBy"})," qui substitue d'autres attributs pendant le tri, am\xe9liorant ainsi les performances."]}),"\n",(0,l.jsx)(s.h3,{id:"comment-d\xe9finir-les-attributs-calcul\xe9s",children:"Comment d\xe9finir les attributs calcul\xe9s"}),"\n",(0,l.jsxs)(s.p,{children:["Vous cr\xe9ez un attribut calcul\xe9 en d\xe9finissant un accesseur ",(0,l.jsx)(s.code,{children:"get"})," dans la ",(0,l.jsx)(s.a,{href:"#entity-class",children:(0,l.jsx)(s.strong,{children:"classe Entity"})})," de la dataclass. L'attribut calcul\xe9 sera automatiquement disponible dans les attributs de la dataclass et dans les attributs de l'entit\xe9."]}),"\n",(0,l.jsxs)(s.p,{children:["D'autres fonctions d'attributs calcul\xe9s (",(0,l.jsx)(s.code,{children:"set"}),", ",(0,l.jsx)(s.code,{children:"query"})," et ",(0,l.jsx)(s.code,{children:"orderBy"}),") peuvent \xe9galement \xeatre d\xe9finies dans la classe entity. Elles sont facultatives."]}),"\n",(0,l.jsxs)(s.p,{children:["Dans les fonctions d'attributs calcul\xe9s, ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes#this",children:(0,l.jsx)(s.code,{children:"This"})})," d\xe9signe l'entit\xe9. Les attributs calcul\xe9s peuvent \xeatre utilis\xe9s et trait\xe9s comme n'importe quel attribut de dataclass, c'est-\xe0-dire qu'ils seront trait\xe9s par les fonctions de ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntityClass",children:"classe entity"})," ou de ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/EntitySelectionClass",children:"classe entity selection"}),"."]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["Les attributs calcul\xe9s ORDA ne sont pas ",(0,l.jsx)(s.a,{href:"#exposed-vs-non-exposed-functions",children:(0,l.jsx)(s.strong,{children:"expos\xe9s"})})," par d\xe9faut. Exposez un champ calcul\xe9 en ajoutant le mot-cl\xe9 ",(0,l.jsx)(s.code,{children:"exposed"})," lors de la d\xe9finition de la fonction ",(0,l.jsx)(s.strong,{children:"get"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:"Les fonctions get et set"})," peuvent avoir la propri\xe9t\xe9 ",(0,l.jsx)(s.a,{href:"#local-functions",children:(0,l.jsx)(s.strong,{children:"local"})})," pour optimiser le traitement client/serveur."]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"function-get-attributename",children:(0,l.jsx)(s.code,{children:"Function get <attributeName>"})}),"\n",(0,l.jsx)(s.h4,{id:"syntaxe",children:"Syntaxe"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"{local} {exposed} Function get <attributeName>({$event : Object}) -> $result : type\n// code\n"})}),"\n",(0,l.jsxs)(s.p,{children:["La fonction ",(0,l.jsx)(s.em,{children:"getter"})," est obligatoire pour d\xe9clarer l'attribut calcul\xe9 ",(0,l.jsx)(s.em,{children:"attributeName"}),". Chaque fois que l'on acc\xe8de \xe0 l'",(0,l.jsx)(s.em,{children:"attributeName"}),", 4D \xe9value le code de la fonction ",(0,l.jsx)(s.code,{children:"getter"})," et retourne la valeur ",(0,l.jsx)(s.em,{children:"$result"}),"."]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsx)(s.p,{children:"Un attribut calcul\xe9 peut utiliser la valeur d'un ou plusieurs autres attributs calcul\xe9s. Les appels r\xe9cursifs g\xe9n\xe8rent des erreurs."}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["La fonction ",(0,l.jsx)(s.em,{children:"getter"})," d\xe9finit le type de donn\xe9es de l'attribut calcul\xe9 gr\xe2ce au param\xe8tre ",(0,l.jsx)(s.em,{children:"$result"}),". Les types de r\xe9sultats suivants sont autoris\xe9s :"]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"Scalar (text, boolean, date, time, number)"}),"\n",(0,l.jsx)(s.li,{children:"Object"}),"\n",(0,l.jsx)(s.li,{children:"Image"}),"\n",(0,l.jsx)(s.li,{children:"BLOB"}),"\n",(0,l.jsx)(s.li,{children:"Entity (i.e. cs.EmployeeEntity)"}),"\n",(0,l.jsx)(s.li,{children:"Entity selection (i.e. cs.EmployeeSelection)"}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["Les propri\xe9t\xe9s du param\xe8tre ",(0,l.jsx)(s.em,{children:"$event"})," sont les suivantes :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Propri\xe9t\xe9"}),(0,l.jsx)(s.th,{children:"Type"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"attributeName"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:"Nom de l'attribut calcul\xe9"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"dataClassName"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:"Nom de la dataclass"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"kind"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:'"get"'})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"R\xe9sultat"}),(0,l.jsx)(s.td,{children:"Variant"}),(0,l.jsx)(s.td,{children:"Optionnel. Compl\xe9tez cette propri\xe9t\xe9 avec la valeur Null si vous souhaitez qu'un champ scalaire retourne Null"})]})]})]}),"\n",(0,l.jsx)(s.h4,{id:"exemples",children:"Exemples"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["L'attribut calcul\xe9 ",(0,l.jsx)(s.em,{children:"fullName"})," :"]}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'Function get fullName($event : Object)-> $fullName : Text\n\n  Case of 	\n	: (This.firstName=Null) & (This.lastName=Null)\n		$event.result:=Null //use result to return Null\n	: (This.firstName=Null)\n		$fullName:=This.lastName\n	: (This.lastName=Null)\n		$fullName:=This.firstName\n	Else\n		$fullName:=This.firstName+" "+This.lastName\n	End case\n'})}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"Un attribut calcul\xe9 peut \xeatre bas\xe9 sur un attribut relatif \xe0 une entit\xe9 :"}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"Function get bigBoss($event : Object)-> $result: cs.EmployeeEntity\n	$result:=This.manager.manager\n\n"})}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"Un attribut calcul\xe9 peut \xeatre bas\xe9 sur un attribut relatif \xe0 une entity selection :"}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"Function get coWorkers($event : Object)-> $result: cs.EmployeeSelection\n    If (This.manager.manager=Null)\n        $result:=ds.Employee.newSelection()\n    Else\n        $result:=This.manager.directReports.minus(this)\n    End if\n"})}),"\n",(0,l.jsx)(s.h3,{id:"function-set-attributename",children:(0,l.jsx)(s.code,{children:"Function set <attributeName>"})}),"\n",(0,l.jsx)(s.h4,{id:"syntaxe-1",children:"Syntaxe"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"\n{local} Function set <attributeName>($value : type {; $event : Object})\n// code\n"})}),"\n",(0,l.jsxs)(s.p,{children:["La fonction ",(0,l.jsx)(s.em,{children:"setter"})," s'ex\xe9cute chaque fois qu'une valeur est attribu\xe9e \xe0 l'attribut. Cette fonction traite g\xe9n\xe9ralement la ou les valeurs d'entr\xe9e et le r\xe9sultat est r\xe9parti entre un ou plusieurs autres attributs."]}),"\n",(0,l.jsxs)(s.p,{children:["Le param\xe8tre ",(0,l.jsx)(s.em,{children:"$value"})," re\xe7oit la valeur attribu\xe9e \xe0 l'attribut."]}),"\n",(0,l.jsxs)(s.p,{children:["Les propri\xe9t\xe9s du param\xe8tre ",(0,l.jsx)(s.em,{children:"$event"})," sont les suivantes :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Propri\xe9t\xe9"}),(0,l.jsx)(s.th,{children:"Type"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"attributeName"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:"Nom de l'attribut calcul\xe9"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"dataClassName"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:"Nom de la dataclass"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"kind"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:'"set"'})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"value"}),(0,l.jsx)(s.td,{children:"Variant"}),(0,l.jsx)(s.td,{children:"Valeur \xe0 g\xe9rer par l'attribut calcul\xe9"})]})]})]}),"\n",(0,l.jsx)(s.h4,{id:"exemple-4",children:"Exemple"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'Function set fullName($value : Text; $event : Object)\n	var $p : Integer\n    $p:=Position(" "; $value) 		\n	This.firstname:=Substring($value; 1; $p-1)  // "" if $p<0\n	This.lastname:=Substring($value; $p+1)\n'})}),"\n",(0,l.jsx)(s.h3,{id:"function-query-attributename",children:(0,l.jsx)(s.code,{children:"Function query <attributeName>"})}),"\n",(0,l.jsx)(s.h4,{id:"syntaxe-2",children:"Syntaxe"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"Function query <attributeName>($event : Object)\nFunction query <attributeName>($event : Object) -> $result : Text\nFunction query <attributeName>($event : Object) -> $result : Object\n// code\n"})}),"\n",(0,l.jsx)(s.p,{children:"Cette fonction prend en charge trois syntaxes :"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Avec la premi\xe8re syntaxe, vous traitez l'ensemble de la requ\xeate via la propri\xe9t\xe9 de l'objet objet ",(0,l.jsx)(s.code,{children:"$event.result"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Avec les deuxi\xe8me et troisi\xe8me syntaxes, la fonction retourne une valeur dans ",(0,l.jsx)(s.em,{children:"$result"})," :"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Si ",(0,l.jsx)(s.em,{children:"$result"})," est Text, il doit s'agir d'une cha\xeene de requ\xeate valide"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Si ",(0,l.jsx)(s.em,{children:"$result"})," est Object, il doit contenir deux propri\xe9t\xe9s :"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Propri\xe9t\xe9"}),(0,l.jsx)(s.th,{children:"Type"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"$result.query"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:"Cha\xeene de requ\xeate valide avec placeholders (:1, :2, etc.)"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"$result.parameters"}),(0,l.jsx)(s.td,{children:"Collection"}),(0,l.jsx)(s.td,{children:"valeurs pour placeholders"})]})]})]}),"\n",(0,l.jsxs)(s.p,{children:["La fonction ",(0,l.jsx)(s.code,{children:"query"})," s'ex\xe9cute \xe0 chaque fois qu'une requ\xeate utilisant l'attribut calcul\xe9 est lanc\xe9e. Il est utile de personnaliser et d'optimiser les requ\xeates en s'appuyant sur les attributs index\xe9s. Il est utile de personnaliser et d'optimiser les requ\xeates en s'appuyant sur les attributs index\xe9s."]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsx)(s.p,{children:"Les fonctionnalit\xe9s suivantes ne sont pas prises en charge :"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["appel d'une fonction ",(0,l.jsx)(s.code,{children:"query"})," sur les attributs calcul\xe9s du type Entity ou Entity selection,"]}),"\n",(0,l.jsxs)(s.li,{children:["utilisation du mot-cl\xe9 ",(0,l.jsx)(s.code,{children:"order by"})," dans la cha\xeene de requ\xeate r\xe9sultante."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["Les propri\xe9t\xe9s du param\xe8tre ",(0,l.jsx)(s.em,{children:"$event"})," sont les suivantes :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Propri\xe9t\xe9"}),(0,l.jsx)(s.th,{children:"Type"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"attributeName"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:"Nom de l'attribut calcul\xe9"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"dataClassName"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:"Nom de la dataclass"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"kind"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:'"query"'})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"value"}),(0,l.jsx)(s.td,{children:"Variant"}),(0,l.jsx)(s.td,{children:"Valeur \xe0 g\xe9rer par l'attribut calcul\xe9"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"operator"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsxs)(s.td,{children:["Op\xe9rateur de recherche (voir \xe9galement la ",(0,l.jsxs)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#query",children:["fonction de classe ",(0,l.jsx)(s.code,{children:"query"})]}),"). Valeurs possibles:",(0,l.jsx)(s.li,{children:"== (\xe9gal \xe0, @ est un joker)"}),(0,l.jsx)(s.li,{children:"=== (\xe9gal \xe0, @ n'est pas un joker)"}),(0,l.jsx)(s.li,{children:"!= (diff\xe9rent de, @ est un joker)"}),(0,l.jsx)(s.li,{children:"!== (diff\xe9rent de, @ n'est pas un joker)"}),(0,l.jsx)(s.li,{children:"< (inf\xe9rieur \xe0)"}),(0,l.jsx)(s.li,{children:"<= (inf\xe9rieur ou \xe9gal \xe0)"}),(0,l.jsx)(s.li,{children:"> (sup\xe9rieur \xe0)"}),(0,l.jsx)(s.li,{children:">= (sup\xe9rieur ou \xe9gal \xe0)"}),(0,l.jsx)(s.li,{children:"IN (inclus dans)"}),(0,l.jsx)(s.li,{children:"% (contient le mot-cl\xe9)"})]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"R\xe9sultat"}),(0,l.jsx)(s.td,{children:"Variant"}),(0,l.jsxs)(s.td,{children:["Valeur devant \xeatre g\xe9r\xe9e par le champ calcul\xe9. Passez ",(0,l.jsx)(s.code,{children:"Null"})," dans cette propri\xe9t\xe9 si vous voulez laisser 4D ex\xe9cuter la recherche par d\xe9faut (toujours s\xe9quentielle pour les attributs calcul\xe9s)."]})]})]})]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["Si la fonction retourne une valeur dans ",(0,l.jsx)(s.em,{children:"$result"})," et qu'une autre valeur est attribu\xe9e \xe0 la propri\xe9t\xe9 ",(0,l.jsx)(s.code,{children:"$event.result"}),", la priorit\xe9 est donn\xe9e \xe0 ",(0,l.jsx)(s.code,{children:"$event.result"}),"."]}),"\n"]}),"\n",(0,l.jsx)(s.h4,{id:"exemples-1",children:"Exemples"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["Requ\xeate sur l'attribut calcul\xe9 ",(0,l.jsx)(s.em,{children:"fullName"}),"."]}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'Function query fullName($event : Object)->$result : Object\n\n	var $fullname; $firstname; $lastname; $query : Text\n	var $operator : Text\n	var $p : Integer\n	var $parameters : Collection\n\n	$operator:=$event.operator\n	$fullname:=$event.value\n\n	$p:=Position(" "; $fullname)\n	If ($p>0)\n		$firstname:=Substring($fullname; 1; $p-1)+"@"\n		$lastname:=Substring($fullname; $p+1)+"@"\n		$parameters:=New collection($firstname; $lastname) // two items collection\n	Else\n		$fullname:=$fullname+"@"\n		$parameters:=New collection($fullname) // single item collection\n	End if\n\n	Case of\n	: ($operator="==") | ($operator="===")\n		If ($p>0)\n			$query:="(firstName = :1 and lastName = :2) or (firstName = :2 and lastName = :1)"\n		Else\n			$query:="firstName = :1 or lastName = :1"\n		End if\n	: ($operator="!=")\n		If ($p>0)\n			$query:="firstName != :1 and lastName != :2 and firstName != :2 and lastName != :1"\n		Else\n			$query:="firstName != :1 and lastName != :1"\n		End if\n	End case\n\n	$result:=New object("query"; $query; "parameters"; $parameters)\n'})}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["N'oubliez pas que l'utilisation de placeholders dans les recherches bas\xe9es sur la saisie de texte par l'utilisateur est recommand\xe9e pour des raisons de s\xe9curit\xe9 (voir la description de ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#query",children:(0,l.jsx)(s.code,{children:"query()"})}),")."]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Code d'appel, par exemple :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'$emps:=ds.Employee.query("fullName = :1"; "Flora Pionsin")\n'})}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["Cette fonction g\xe8re les requ\xeates sur l'attribut calcul\xe9 ",(0,l.jsx)(s.em,{children:"age"})," et retourne un objet avec des param\xe8tres :"]}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'Function query age($event : Object)->$result : Object\n\n	var $operator : Text\n	var $age : Integer\n	var $_ages : Collection\n\n	$operator:=$event.operator\n\n	$age:=Num($event.value)  // integer\n	$d1:=Add to date(Current date; -$age-1; 0; 0)\n	$d2:=Add to date($d1; 1; 0; 0)\n	$parameters:=New collection($d1; $d2)\n\n	Case of\n\n		: ($operator="==")\n			$query:="birthday > :1 and birthday <= :2"  // after d1 and before or egal d2\n\n		: ($operator="===")\n\n			$query:="birthday = :2"  // d2 = second calculated date (= birthday date)\n\n		: ($operator=">=")\n			$query:="birthday <= :2"\n\n			//... other operators			\n\n\n	End case\n\n\n	If (Undefined($event.result))\n		$result:=New object\n		$result.query:=$query\n		$result.parameters:=$parameters\n	End if\n\n'})}),"\n",(0,l.jsx)(s.p,{children:"Code d'appel, par exemple :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'// people aged between 20 and 21 years (-1 day)\n$twenty:=people.query("age = 20")  // calls the "==" case\n\n// people aged 20 years today\n$twentyToday:=people.query("age === 20") // equivalent to people.query("age is 20")\n\n'})}),"\n",(0,l.jsx)(s.h3,{id:"function-orderby-attributename",children:(0,l.jsx)(s.code,{children:"Function orderBy <attributeName>"})}),"\n",(0,l.jsx)(s.h4,{id:"syntaxe-3",children:"Syntaxe"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"Function orderBy <attributeName>($event : Object)\nFunction orderBy <attributeName>($event : Object)-> $result : Text\n\n// code\n"})}),"\n",(0,l.jsxs)(s.p,{children:["La fonction ",(0,l.jsx)(s.code,{children:"orderBy"})," s'ex\xe9cute chaque fois que l'attribut calcul\xe9 doit \xeatre ordonn\xe9. Elle permet de trier l'attribut calcul\xe9. Par exemple, vous pouvez trier ",(0,l.jsx)(s.em,{children:"fullName"})," sur les pr\xe9noms puis les noms, ou inversement.\nLorsque la fonction ",(0,l.jsx)(s.code,{children:"orderBy"})," n'est pas impl\xe9ment\xe9e pour un attribut calcul\xe9, le tri est toujours s\xe9quentiel (bas\xe9 sur l'\xe9valuation de toutes les valeurs \xe0 l'aide de la fonction ",(0,l.jsx)(s.code,{children:"get <AttributeName>"}),")."]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["L'appel d'une fonction ",(0,l.jsx)(s.code,{children:"orderBy"})," sur des attributs calcul\xe9s de type Entity class ou Entity selection class ",(0,l.jsx)(s.strong,{children:"n'est pas pris en charge"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["Les propri\xe9t\xe9s du param\xe8tre ",(0,l.jsx)(s.em,{children:"$event"})," sont les suivantes :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Propri\xe9t\xe9"}),(0,l.jsx)(s.th,{children:"Type"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"attributeName"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:"Nom de l'attribut calcul\xe9"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"dataClassName"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:"Nom de la dataclass"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"kind"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:'"orderBy"'})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"value"}),(0,l.jsx)(s.td,{children:"Variant"}),(0,l.jsx)(s.td,{children:"Valeur \xe0 g\xe9rer par l'attribut calcul\xe9"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"operator"}),(0,l.jsx)(s.td,{children:"Text"}),(0,l.jsx)(s.td,{children:'"desc" or "asc" (default)'})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"descending"}),(0,l.jsx)(s.td,{children:"Boolean"}),(0,l.jsxs)(s.td,{children:[(0,l.jsx)(s.code,{children:"true"})," pour l'ordre d\xe9croissant, ",(0,l.jsx)(s.code,{children:"false"})," pour l'ordre croissant"]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"R\xe9sultat"}),(0,l.jsx)(s.td,{children:"Variant"}),(0,l.jsxs)(s.td,{children:["Valeur devant \xeatre g\xe9r\xe9e par le champ calcul\xe9. Passez ",(0,l.jsx)(s.code,{children:"Null"})," si vous voulez laisser 4D ex\xe9cuter le tri par d\xe9faut."]})]})]})]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["Vous pouvez utiliser soit ",(0,l.jsx)(s.code,{children:"l'op\xe9rateur"}),", soit la propri\xe9t\xe9 ",(0,l.jsx)(s.code,{children:"descending"}),". C'est essentiellement une question de style de programmation (voir les exemples)."]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["Vous pouvez retourner la cha\xeene ",(0,l.jsx)(s.code,{children:"orderBy"})," soit dans la propri\xe9t\xe9 de l'objet ",(0,l.jsx)(s.code,{children:"$event.result"}),", soit dans le r\xe9sultat de la fonction ",(0,l.jsx)(s.em,{children:"$result"}),". Si la fonction retourne une valeur dans ",(0,l.jsx)(s.em,{children:"$result"})," et qu'une autre valeur est attribu\xe9e \xe0 la propri\xe9t\xe9 ",(0,l.jsx)(s.code,{children:"$event.result"}),", la priorit\xe9 est donn\xe9e \xe0 ",(0,l.jsx)(s.code,{children:"$event.result"}),"."]}),"\n",(0,l.jsx)(s.h4,{id:"exemple-5",children:"Exemple"}),"\n",(0,l.jsx)(s.p,{children:"Vous pouvez saisir du code conditionnel :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'Function orderBy fullName($event : Object)-> $result : Text\n    If ($event.descending=True)\n        $result:="firstName desc, lastName desc"\n    Else\n        $result:="firstName, lastName"\n    End if\n'})}),"\n",(0,l.jsx)(s.p,{children:"Vous pouvez \xe9galement saisir du code compact :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'Function orderBy fullName($event : Object)-> $result : Text\n	$result:="firstName "+$event.operator+", "lastName "+$event.operator\n\n'})}),"\n",(0,l.jsx)(s.p,{children:"Le code conditionnel est n\xe9cessaire dans certains cas :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'Function orderBy age($event : Object)-> $result : Text\n\n    If ($event.descending=True)\n        $result:="birthday asc"\n    Else\n        $result:="birthday desc"\n    End if\n\n'})}),"\n",(0,l.jsx)(s.h2,{id:"attributs-de-type-alias-1",children:"Attributs de type alias"}),"\n",(0,l.jsx)(s.h3,{id:"vue-densemble-1",children:"Vue d\u2019ensemble"}),"\n",(0,l.jsxs)(s.p,{children:["Un attribut ",(0,l.jsx)(s.strong,{children:"alias"})," est construit au-dessus d'un autre attribut du mod\xe8le de donn\xe9es, nomm\xe9 attribut ",(0,l.jsx)(s.strong,{children:"cible"}),". L'attribut cible peut appartenir \xe0 une dataclass li\xe9e (accessible via n'importe quel niveau de relation) ou \xe0 la m\xeame dataclass. Un attribut alias ne stocke aucune donn\xe9e, mais uniquement le chemin vers son attribut cible. Vous pouvez d\xe9finir autant d'attributs alias que vous le souhaitez dans une dataclass."]}),"\n",(0,l.jsx)(s.p,{children:"Les attributs Alias sont particuli\xe8rement utiles pour g\xe9rer les relations N vers N. Ils apportent plus de lisibilit\xe9 et de simplicit\xe9 dans le code et dans les recherches en permettant de s'appuyer sur des concepts m\xe9tier plut\xf4t que sur des d\xe9tails d'impl\xe9mentation."}),"\n",(0,l.jsx)(s.h3,{id:"comment-d\xe9finir-des-attributs-alias",children:"Comment d\xe9finir des attributs alias"}),"\n",(0,l.jsxs)(s.p,{children:["Vous cr\xe9ez un attribut alias dans une dataclass en utilisant le mot-cl\xe9 ",(0,l.jsx)(s.code,{children:"Alias"})," dans la ",(0,l.jsx)(s.a,{href:"#entity-class",children:(0,l.jsx)(s.strong,{children:"classe Entity"})})," de la dataclass."]}),"\n",(0,l.jsx)(s.h3,{id:"alias-attributename-targetpath",children:(0,l.jsx)(s.code,{children:"Alias <attributeName> <targetPath>"})}),"\n",(0,l.jsx)(s.h4,{id:"syntaxe-4",children:"Syntaxe"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"{exposed} Alias <attributeName> <targetPath>\n"})}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.em,{children:"attributeName"})," doit respecter les ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/identifiers#object-properties",children:"r\xe8gles standard pour les noms de propri\xe9t\xe9s"}),"."]}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.em,{children:"targetPath"})," est un chemin d'attribut contenant un ou plusieurs niveaux, comme \"employee.company.name\". Si l'attribut cible appartient \xe0 la m\xeame dataclass, ",(0,l.jsx)(s.em,{children:"targetPath"})," est le nom de l'attribut."]}),"\n",(0,l.jsx)(s.p,{children:"Un alias peut \xeatre utilis\xe9 comme partie d'un chemin d'un autre alias."}),"\n",(0,l.jsxs)(s.p,{children:["Un ",(0,l.jsx)(s.a,{href:"#computed-attributes-1",children:"attribut calcul\xe9"}),' peut \xeatre utilis\xe9 dans un chemin d\'alias, mais seulement comme dernier niveau du chemin, sinon une erreur est renvoy\xe9e. Par exemple, si "fullName" est un attribut calcul\xe9, un alias avec le chemin "employee.fullName" est valide.']}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["Les attributs alias ORDA ne sont ",(0,l.jsx)(s.strong,{children:"pas expos\xe9s"})," par d\xe9faut. Vous devez ajouter le mot-cl\xe9 ",(0,l.jsx)(s.a,{href:"#exposed-vs-non-exposed-functions",children:(0,l.jsx)(s.code,{children:"exposed"})})," avant le mot-cl\xe9 ",(0,l.jsx)(s.code,{children:"Alias"})," si vous voulez que l'alias soit disponible pour les requ\xeates distantes."]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"utiliser-les-attributs-alias",children:"Utiliser les attributs alias"}),"\n",(0,l.jsx)(s.p,{children:"Les attributs alias sont en lecture seule (sauf lorsqu'ils sont bas\xe9s sur un attribut scalaire de la m\xeame dataclass, voir le dernier exemple ci-dessous). Ils peuvent \xeatre utilis\xe9s \xe0 la place de leur chemin d'attribut cible dans les fonctions ORDA telles que :"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.th,{children:"Function"})})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsx)(s.tr,{children:(0,l.jsxs)(s.td,{children:[(0,l.jsx)(s.code,{children:"dataClass.query()"}),", ",(0,l.jsx)(s.code,{children:"entitySelection.query()"})]})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entity.toObject()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entitySelection.toCollection()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entitySelection.extract()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entitySelection.orderBy()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entitySelection.orderByFormula()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entitySelection.average()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entitySelection.count()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entitySelection.distinct()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entitySelection.sum()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entitySelection.min()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entitySelection.max()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entity.diff()"})})}),(0,l.jsx)(s.tr,{children:(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"entity.touchedAttributes()"})})})]})]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsx)(s.p,{children:"Gardez \xe0 l'esprit que les attributs alias sont calcul\xe9s sur le serveur. Dans les configurations \xe0 distance, la mise \xe0 jour des attributs d'alias dans les entit\xe9s n\xe9cessite que les entit\xe9s soient recharg\xe9es \xe0 partir du serveur."}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"propri\xe9t\xe9s-des-alias",children:"Propri\xe9t\xe9s des alias"}),"\n",(0,l.jsxs)(s.p,{children:["L'attribut d'alias ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#attributename",children:(0,l.jsx)(s.code,{children:"kind"})}),' est "alias".']}),"\n",(0,l.jsxs)(s.p,{children:["Un attribut alias h\xe9rite de son ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#attributename",children:(0,l.jsx)(s.code,{children:"type"})})," de donn\xe9es de l'attribut cible :"]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["si le ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#attributename",children:(0,l.jsx)(s.code,{children:"kind"})})," de l'attribut cible est \"storage\", le type de donn\xe9es de l'alias est du m\xeame type,"]}),"\n",(0,l.jsxs)(s.li,{children:["si le ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#attributename",children:(0,l.jsx)(s.code,{children:"kind"})}),' de l\'attribut cible est "relatedEntity" ou "relatedEntities", le type de donn\xe9es de l\'alias est de type ',(0,l.jsx)(s.code,{children:"4D.Entity"})," ou ",(0,l.jsx)(s.code,{children:"4D.EntitySelection"}),' ("_nomDeClasse_Entity" ou "_nomDeClasse_Selection").']}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["Les attributs alias bas\xe9s sur des relations ont une propri\xe9t\xe9 sp\xe9cifique ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/DataClassClass#attributename",children:(0,l.jsx)(s.code,{children:"path"})}),", contenant le chemin de leurs attributs cibles. Les attributs alias bas\xe9s sur les attributs de la m\xeame dataclass ont les m\xeames propri\xe9t\xe9s que leurs attributs cibles (et pas de propri\xe9t\xe9 ",(0,l.jsx)(s.code,{children:"path"}),")."]}),"\n",(0,l.jsx)(s.h3,{id:"exemples-2",children:"Exemples"}),"\n",(0,l.jsx)(s.p,{children:"Consid\xe9rant le mod\xe8le suivant :"}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.img,{src:n(705942).Z+"",width:"607",height:"140"})}),"\n",(0,l.jsx)(s.p,{children:"Dans la dataclasse Teacher, un attribut alias renvoie tous les \xe9l\xe8ves d'un enseignant :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"// cs.TeacherEntity class\n\nClass extends Entity\n\nAlias students courses.student //relatedEntities\n"})}),"\n",(0,l.jsx)(s.p,{children:"Dans la dataclass Student, un attribut alias renvoie tous les enseignants d'un \xe9l\xe8ve:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"// cs.StudentEntity class\n\nClass extends Entity\n\nAlias teachers courses.teacher //relatedEntities\n"})}),"\n",(0,l.jsx)(s.p,{children:"Dans la dataclass Course :"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:'un attribut alias renvoie une autre libell\xe9 pour l\'attribut "name"'}),"\n",(0,l.jsx)(s.li,{children:"un attribut alias renvoie le nom de l'enseignant"}),"\n",(0,l.jsx)(s.li,{children:"un attribut alias renvoie le nom de l'\xe9tudiant"}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"// cs.CourseEntity class\n\nClass extends Entity\n\nExposed Alias courseName name //scalar\nExposed Alias teacherName teacher.name //scalar value\nExposed Alias studentName student.name //scalar value\n\n"})}),"\n",(0,l.jsx)(s.p,{children:"Vous pouvez alors ex\xe9cuter les recherches suivantes :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'// Find course named "Archaeology"\nds.Course.query("courseName = :1";"Archaeology")\n\n// Find courses given by the professor Smith\nds.Course.query("teacherName = :1";"Smith")\n\n// Find courses where Student "Martin" assists\nds.Course.query("studentName = :1";"Martin")\n\n// Find students who have M. Smith as teacher\nds.Student.query("teachers.name = :1";"Smith")\n\n// Find teachers who have M. Martin as Student\nds.Teacher.query("students.name = :1";"Martin")\n// Note that this very simple query string processes a complex\n// query including a double join, as you can see in the queryPlan:   \n// "Join on Table : Course  :  Teacher.ID = Course.teacherID,    \n//  subquery:[ Join on Table : Student  :  Course.studentID = Student.ID,\n//  subquery:[ Student.name === Martin]]"\n'})}),"\n",(0,l.jsxs)(s.p,{children:["Vous pouvez \xe9galement modifier la valeur de l'alias ",(0,l.jsx)(s.em,{children:"courseName"})," :"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'// Renommer un cours en utilisant son attribut alias\n$arch:=ds.Course.query("courseName = :1";"Archaeology")\n$arch.courseName:="Archaeology II"\n$arch.save() //courseName et name sont "Archaeology II"\n'})}),"\n",(0,l.jsx)(s.h2,{id:"fonctions-expos\xe9es-et-non-expos\xe9es",children:"Fonctions expos\xe9es et non expos\xe9es"}),"\n",(0,l.jsxs)(s.p,{children:["Pour des raisons de s\xe9curit\xe9, toutes vos fonctions de classe de mod\xe8le de donn\xe9es et les attributs alias ne sont ",(0,l.jsx)(s.strong,{children:"pas expos\xe9s"})," (c'est-\xe0-dire priv\xe9s) par d\xe9faut aux requ\xeates distantes."]}),"\n",(0,l.jsx)(s.p,{children:"Les requ\xeates distantes incluent :"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["Les requ\xeates envoy\xe9es par des applications 4D distantes connect\xe9es via ",(0,l.jsx)(s.code,{children:"Open datastore"})]}),"\n",(0,l.jsx)(s.li,{children:"Les requ\xeates REST"}),"\n"]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsx)(s.p,{children:"Les requ\xeates client/serveur 4D standard ne sont pas impact\xe9es. Les fonctions de classe de mod\xe8le de donn\xe9es sont toujours disponibles dans cette architecture."}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Une fonction qui n'est pas expos\xe9e n'est pas disponible sur les applications distantes et ne peut \xeatre appel\xe9e sur aucune instance d'objet \xe0 partir d'une requ\xeate REST. Si une application distante tente d'acc\xe9der \xe0 une fonction non expos\xe9e, l'erreur \xab-10729 - M\xe9thode membre inconnue\xbb est retourn\xe9e."}),"\n",(0,l.jsxs)(s.p,{children:["Pour permettre \xe0 une fonction de classe de mod\xe8le de donn\xe9es d'\xeatre appel\xe9e par une requ\xeate distante, vous devez la d\xe9clarer explicitement \xe0 l'aide du mot-cl\xe9 ",(0,l.jsx)(s.code,{children:"exposed"}),". La syntaxe formelle est la suivante :"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"// d\xe9clarer une fonction expos\xe9e\nexposed Function <functionName>   \n"})}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["Le mot-cl\xe9 ",(0,l.jsx)(s.code,{children:"exposed"})," ne peut \xeatre utilis\xe9 qu'avec les fonctions de classe du mod\xe8le de donn\xe9es. S'il est utilis\xe9 avec une fonction de ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes",children:"classe utilisateur standard"}),", il est ignor\xe9 et une erreur est retourn\xe9e par le compilateur."]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"exemple-6",children:"Exemple"}),"\n",(0,l.jsx)(s.p,{children:"Vous voulez qu'une fonction expos\xe9e utilise une fonction priv\xe9e dans une classe dataclass :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'Class extends DataClass\n\n//Fonction publique\nexposed Function registerNewStudent($student : Object) -> $status : Object\n\nvar $entity : cs.StudentsEntity\n\n$entity:=ds.Students.new()\n$entity.fromObject($student)\n$entity.school:=This.query("name=:1"; $student.schoolName).first()\n$entity.serialNumber:=This.computeSerialNumber()\n$status:=$entity.save()\n\n//Fonction non expos\xe9e (priv\xe9e)\nFunction computeIDNumber()-> $id : Integer\n//calculer un nouveau num\xe9ro d\'ID\n$id:=...\n\n'})}),"\n",(0,l.jsx)(s.p,{children:"Lorsque le code est appel\xe9 :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'var $remoteDS; $student; $status : Object\nvar $id : Integer\n\n$remoteDS:=Open datastore(New object("hostname"; "127.0.0.1:8044"); "students")\n$student:=New object("firstname"; "Mary"; "lastname"; "Smith"; "schoolName"; "Math school")\n\n$status:=$remoteDS.Schools.registerNewStudent($student) // OK\n$id:=$remoteDS.Schools.computeIDNumber() // Erreur "Unknown member method"\n'})}),"\n",(0,l.jsx)(s.h2,{id:"onhttpget-keyword",children:"onHttpGet keyword"}),"\n",(0,l.jsxs)(s.p,{children:["Use the ",(0,l.jsx)(s.code,{children:"onHttpGet"})," keyword to declare functions that can be called through HTTP requests using the ",(0,l.jsx)(s.code,{children:"GET"})," verb. Such functions can return any web contents, for example using the ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/OutgoingMessageClass",children:(0,l.jsx)(s.code,{children:"4D.OutgoingMessage"})})," class."]}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"onHttpGet"})," keyword is available with:"]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"ORDA Data model class functions"}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes#singleton-classes",children:"Singletons class functions"})}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"La syntaxe formelle est la suivante :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"// declare an onHttpGet function\nexposed onHttpGet Function <functionName>(params) : result\n"})}),"\n",(0,l.jsx)(s.admonition,{type:"info",children:(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"exposed"})," keyword must also be added in this case, otherwise an error will be generated."]})}),"\n",(0,l.jsx)(s.admonition,{type:"caution",children:(0,l.jsx)(s.p,{children:"As this type of call is an easy offered action, the developer must ensure no sensitive action is done in such functions."})}),"\n",(0,l.jsx)(s.h3,{id:"params",children:"params"}),"\n",(0,l.jsxs)(s.p,{children:["A function with ",(0,l.jsx)(s.code,{children:"onHttpGet"})," keyword accepts ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/parameters",children:"parameters"}),"."]}),"\n",(0,l.jsxs)(s.p,{children:["In the HTTP GET request, parameters must be passed directly in the URL and declared using the ",(0,l.jsx)(s.code,{children:"$params"})," keyword (they must be enclosed in a collection)."]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"IP:port/rest/<dataclass>/functionName?$params='[<params>]'\n"})}),"\n",(0,l.jsxs)(s.p,{children:["See the ",(0,l.jsx)(s.a,{href:"../REST/classFunctions#parameters",children:"Parameters"})," section in the REST server documentation."]}),"\n",(0,l.jsx)(s.h3,{id:"r\xe9sultat",children:"R\xe9sultat"}),"\n",(0,l.jsxs)(s.p,{children:["A function with ",(0,l.jsx)(s.code,{children:"onHttpGet"})," keyword can return any value of a supported type (same as for REST ",(0,l.jsx)(s.a,{href:"../REST/classFunctions#parameters",children:"parameters"}),")."]}),"\n",(0,l.jsx)(s.admonition,{type:"info",children:(0,l.jsxs)(s.p,{children:["You can return a value of the ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/API/OutgoingMessageClass",children:(0,l.jsx)(s.code,{children:"4D.OutgoingMessage"})})," class type to benefit from properties and functions to set the header, the body, and the status of the answer."]})}),"\n",(0,l.jsx)(s.h3,{id:"exemple-7",children:"Exemple"}),"\n",(0,l.jsx)(s.p,{children:"You have defined the following function:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'Class extends DataClass\n\nexposed onHTTPGet Function getThumbnail($name : Text; $width : Integer; $height : Integer) : 4D.OutgoingMessage\n	\n	var $file := File("/RESOURCES/Images/"+$name+".jpg")\n	var $image; $thumbnail : Picture\n	var $response := 4D.OutgoingMessage.new()\n	\n	READ PICTURE FILE($file.platformPath; $image)\n	CREATE THUMBNAIL($image; $thumbnail; $width; $height; Scaled to fit)\n	$response.setBody($thumbnail)	\n	$response.setHeader("Content-Type"; "image/jpeg")\n	return $response\n'})}),"\n",(0,l.jsx)(s.p,{children:"It can be called by the following HTTP GET request:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"IP:port/rest/Products/getThumbnail?$params='[\"Yellow Pack\",200,200]'\n"})}),"\n",(0,l.jsx)(s.h2,{id:"fonctions-locales",children:"Fonctions locales"}),"\n",(0,l.jsxs)(s.p,{children:["Par d\xe9faut dans l'architecture client/serveur, les fonctions de mod\xe8le de donn\xe9es ORDA sont ex\xe9cut\xe9es ",(0,l.jsx)(s.strong,{children:"sur le serveur"}),". Cela garantit g\xe9n\xe9ralement les meilleures performances puisque seuls la requ\xeate de fonction et le r\xe9sultat sont envoy\xe9s sur le r\xe9seau."]}),"\n",(0,l.jsxs)(s.p,{children:["Cependant, il peut arriver qu'une fonction soit enti\xe8rement ex\xe9cutable c\xf4t\xe9 client (par exemple, lorsqu'elle traite des donn\xe9es qui se trouvent d\xe9j\xe0 dans le cache local). Dans ce cas, vous pouvez \xe9conomiser des requ\xeates au serveur et ainsi am\xe9liorer les performances de l'application en saisissant le mot-cl\xe9 ",(0,l.jsx)(s.code,{children:"local"}),". La syntaxe formelle est la suivante :"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"// d\xe9clarer une fonction \xe0 ex\xe9cuter localement en client/serveur\nlocal Function <functionName>   \n"})}),"\n",(0,l.jsx)(s.p,{children:"Avec ce mot-cl\xe9, la fonction sera toujours ex\xe9cut\xe9e c\xf4t\xe9 client."}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["Le mot-cl\xe9 ",(0,l.jsx)(s.code,{children:"local"})," ne peut \xeatre utilis\xe9 qu'avec les fonctions de classe du mod\xe8le de donn\xe9es. S'il est utilis\xe9 avec une fonction de ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes",children:"classe utilisateur standard"}),", il est ignor\xe9 et une erreur est retourn\xe9e par le compilateur."]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"A noter que la fonction sera ex\xe9cut\xe9e avec succ\xe8s m\xeame si elle n\xe9cessite d'acc\xe9der au serveur (par exemple si le cache ORDA est expir\xe9). Toutefois, il est fortement recommand\xe9 de s'assurer que la fonction locale n'acc\xe8de pas aux donn\xe9es sur le serveur, sinon l'ex\xe9cution locale pourrait n'apporter aucun avantage en termes de performances. Une fonction locale qui g\xe9n\xe8re de nombreuses requ\xeates au serveur est moins efficace qu'une fonction ex\xe9cut\xe9e sur le serveur qui ne retournerait que les valeurs r\xe9sultantes. Prenons l'exemple suivant, avec une fonction sur l'entit\xe9 Schools :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'// Trouver les \xe9tudiants les plus jeunes  \n// Utilisation inappropri\xe9e du mot-cl\xe9 local\nlocal Function getYoungest\n	var $0 : Object\n    $0:=This.students.query("birthDate >= :1"; !2000-01-01!).orderBy("birthDate desc").slice(0; 5)\n'})}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"sans"})," le mot cl\xe9 ",(0,l.jsx)(s.code,{children:"local"}),", le r\xe9sultat est donn\xe9 en une seule requ\xeate"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"avec"})," le mot-cl\xe9 ",(0,l.jsx)(s.code,{children:"local"}),", 4 requ\xeates sont n\xe9cessaires : une pour obtenir les \xe9l\xe8ves de l'entit\xe9 Schools, une pour la ",(0,l.jsx)(s.code,{children:"query()"}),", une pour le ",(0,l.jsx)(s.code,{children:"orderBy()"})," et une pour la ",(0,l.jsx)(s.code,{children:"slice()"}),". Dans cet exemple, l'utilisation du mot-cl\xe9 ",(0,l.jsx)(s.code,{children:"local"})," est inappropri\xe9e."]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"exemples-3",children:"Exemples"}),"\n",(0,l.jsx)(s.h4,{id:"calcul-de-l\xe2ge",children:"Calcul de l'\xe2ge"}),"\n",(0,l.jsxs)(s.p,{children:["Consid\xe9rons une entit\xe9 avec un attribut ",(0,l.jsx)(s.em,{children:"birthDate"}),". Nous souhaitons d\xe9finir une fonction ",(0,l.jsx)(s.code,{children:"age()"})," qui serait appel\xe9e dans une list box. Cette fonction peut \xeatre ex\xe9cut\xe9e sur le client, ce qui \xe9vite de d\xe9clencher une requ\xeate au serveur pour chaque ligne de la list box."]}),"\n",(0,l.jsxs)(s.p,{children:["Dans la classe ",(0,l.jsx)(s.em,{children:"StudentsEntity"})," :"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"Class extends Entity\n\nlocal Function age() -> $age: Variant\n\nIf (This.birthDate#!00-00-00!)\n    $age:=Year of(Current date)-Year of(This.birthDate)\nElse\n    $age:=Null\nEnd if\n"})}),"\n",(0,l.jsx)(s.h4,{id:"v\xe9rification-des-attributs",children:"V\xe9rification des attributs"}),"\n",(0,l.jsx)(s.p,{children:"Nous souhaitons v\xe9rifier la coh\xe9rence des attributs d'une entit\xe9 charg\xe9e sur le client et mise \xe0 jour par l'utilisateur, avant de demander au serveur de les enregistrer."}),"\n",(0,l.jsxs)(s.p,{children:["Sur la classe ",(0,l.jsx)(s.em,{children:"StudentsEntity"}),", la fonction locale ",(0,l.jsx)(s.code,{children:"checkData()"})," v\xe9rifie l'\xe2ge de l'\xe9tudiant :"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'Class extends Entity\n\nlocal Function checkData() -> $status : Object\n\n$status:=New object("success"; True)\nCase of\n    : (This.age()=Null)\n        $status.success:=False\n        $status.statusText:="The birthdate is missing"\n\n    :((This.age() <15) | (This.age()>30) )\n        $status.success:=False\n        $status.statusText:="The student must be between 15 and 30 - This one is "+String(This.age())\nEnd case\n'})}),"\n",(0,l.jsx)(s.p,{children:"Code d'appel :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"var $status : Object\n\n//Form.student est charg\xe9 avec tous ses attributs et mis \xe0 jour\n$status:=Form.student.checkData()\nIf ($status.success)\n    $status:=Form.student.save() // appelle le serveur\nEnd if\n"})}),"\n",(0,l.jsx)(s.h2,{id:"prise-en-charge-dans-lide-4d",children:"Prise en charge dans l'IDE 4D"}),"\n",(0,l.jsx)(s.h3,{id:"fichiers-de-classe-class-files",children:"Fichiers de classe (class files)"}),"\n",(0,l.jsxs)(s.p,{children:["An ORDA data model user class is defined by adding, at the ",(0,l.jsx)(s.a,{href:"/docs/fr/20-R8/Concepts/classes#class-definition",children:"same location as regular class files"})," (",(0,l.jsx)(s.em,{children:"i.e."})," in the ",(0,l.jsx)(s.code,{children:"/Sources/Classes"})," folder of the project folder), a .4dm file with the name of the class. Par exemple, une classe d'entit\xe9 pour la dataclass ",(0,l.jsx)(s.code,{children:"Utilities"})," sera d\xe9finie via un fichier ",(0,l.jsx)(s.code,{children:"UtilitiesEntity.4dm"}),"."]}),"\n",(0,l.jsx)(s.h3,{id:"cr\xe9er-des-classes",children:"Cr\xe9er des classes"}),"\n",(0,l.jsx)(s.p,{children:"4D cr\xe9e pr\xe9alablement et automatiquement des classes vides en m\xe9moire pour chaque objet de mod\xe8le de donn\xe9es disponible."}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.img,{src:n(66819).Z+"",width:"527",height:"241"})}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["Par d\xe9faut, les classes ORDA vides ne sont pas affich\xe9es dans l'Explorateur. Pour les afficher, vous devez s\xe9lectionner ",(0,l.jsx)(s.strong,{children:"Afficher toutes les dataclasses"})," dans le menu d'options de l'Explorateur :\n",(0,l.jsx)(s.img,{src:n(627698).Z+"",width:"249",height:"154"})]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Les classes utilisateurs ORDA ont une ic\xf4ne diff\xe9rente des autres classes. Les classes vides sont gris\xe9es :"}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.img,{src:n(566772).Z+"",width:"356",height:"276"})}),"\n",(0,l.jsx)(s.p,{children:"Pour cr\xe9er un fichier de classe ORDA, il vous suffit de double-cliquer sur la classe pr\xe9d\xe9finie correspondante dans l'Explorateur. Pour cr\xe9er un fichier de classe ORDA, il vous suffit de double-cliquer sur la classe pr\xe9d\xe9finie correspondante dans l'Explorateur. Par exemple, pour une classe Entity :"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"Class extends Entity\n"})}),"\n",(0,l.jsx)(s.p,{children:"Une fois qu'une classe est d\xe9finie, son nom n'est plus gris\xe9 dans l'Explorateur."}),"\n",(0,l.jsx)(s.h3,{id:"modifier-des-classes",children:"Modifier des classes"}),"\n",(0,l.jsxs)(s.p,{children:["Pour ouvrir une classe ORDA d\xe9finie dans l'\xe9diteur de code de 4D, s\xe9lectionnez ou double-cliquez sur un nom de classe ORDA et utilisez ",(0,l.jsx)(s.strong,{children:"Edit..."})," depuis le menu contextuel/options de la fen\xeatre de l'Explorateur:"]}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.img,{src:n(934172).Z+"",width:"264",height:"168"})}),"\n",(0,l.jsxs)(s.p,{children:["Pour les classes ORDA bas\xe9es sur le datastore local (",(0,l.jsx)(s.code,{children:"ds"}),"), vous pouvez acc\xe9der directement au code de la classe depuis la fen\xeatre de structure de 4D :"]}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.img,{src:n(918763).Z+"",width:"426",height:"418"})}),"\n",(0,l.jsx)(s.h3,{id:"\xe9diteur-de-code",children:"\xc9diteur de code"}),"\n",(0,l.jsx)(s.p,{children:"Dans l'\xe9diteur de code 4D, les variables typ\xe9es en tant que classe ORDA b\xe9n\xe9ficient automatiquement des fonctions d'auto-compl\xe9tion. Exemple avec une variable de classe Entity :"}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.img,{src:n(936731).Z+"",width:"338",height:"220"})})]})}function u(e={}){let{wrapper:s}={...(0,r.a)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},936731:function(e,s,n){n.d(s,{Z:function(){return t}});let t=n.p+"assets/images/AutoCompletionEntity-73e81990d679d472687e96dad08b3877.png"},229269:function(e,s,n){n.d(s,{Z:function(){return t}});let t=n.p+"assets/images/ClassDiagramImage-6cbf13bbf1dca5f0656fbdfad146e86f.png"},66819:function(e,s,n){n.d(s,{Z:function(){return t}});let t=n.p+"assets/images/ORDA_Classes-3-20abc47dcfe784436070611c1504adf6.png"},516548:function(e,s,n){n.d(s,{Z:function(){return t}});let t=n.p+"assets/images/Orda_example-b692b6754f05414140034cb9527fe59d.png"},705942:function(e,s,n){n.d(s,{Z:function(){return t}});let t=n.p+"assets/images/alias1-13c85b8cdbb3adbc0f1a1ea25d7db1df.png"},118348:function(e,s,n){n.d(s,{Z:function(){return t}});let t=n.p+"assets/images/api-e2214f9171cd64e4f903fd0bb088ddb3.png"},566772:function(e,s,n){n.d(s,{Z:function(){return t}});let t=n.p+"assets/images/classORDA2-cc9e89e2add243ff078219f42714e3ba.png"},934172:function(e,s,n){n.d(s,{Z:function(){return t}});let t="data:image/png;base64,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"},918763:function(e,s,n){n.d(s,{Z:function(){return t}});let t=n.p+"assets/images/classORDA5-37a75835374748437826d67a59091d70.png"},627698:function(e,s,n){n.d(s,{Z:function(){return t}});let t="data:image/png;base64,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"},250065:function(e,s,n){n.d(s,{Z:function(){return a},a:function(){return i}});var t=n(667294);let l={},r=t.createContext(l);function i(e){let s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);