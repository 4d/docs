"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[29553],{603905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>m});var n=r(667294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),s=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=s(r),m=a,k=c["".concat(p,".").concat(m)]||c[m]||u[m]||l;return r?n.createElement(k,i(i({ref:t},d),{},{components:r})):n.createElement(k,i({ref:t},d))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=r.length,i=new Array(l);i[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var s=2;s<l;s++)i[s]=r[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}c.displayName="MDXCreateElement"},615362:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>p,toc:()=>d});r(667294);var n=r(603905);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const i={id:"ZipArchiveClass",title:"ZIPArchive"},o=void 0,p={unversionedId:"API/ZipArchiveClass",id:"version-20-R5/API/ZipArchiveClass",title:"ZIPArchive",description:"A 4D ZIP archive is a File or Folder object containing one or more files or folders, which are compressed to be smaller than their original size. Ces archives sont cr\xe9\xe9es avec une extension \".zip\" et peuvent \xeatre utilis\xe9es pour \xe9conomiser de l'espace sur le disque ou transf\xe9rer des fichiers sur des supports de taille limit\xe9e (par exemple, l'email ou le r\xe9seau).",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R5/API/ZipArchiveClass.md",sourceDirName:"API",slug:"/API/ZipArchiveClass",permalink:"/docs/fr/API/ZipArchiveClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FZipArchiveClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"ZipArchiveClass",title:"ZIPArchive"},sidebar:"docs",previous:{title:"WebSocketServer",permalink:"/docs/fr/API/WebSocketServerClass"},next:{title:"ZIPFile",permalink:"/docs/fr/API/ZipFileClass"}},s={},d=[{value:"Exemple",id:"exemple",level:3},{value:"Sommaire",id:"sommaire",level:3},{value:"ZIP Create archive",id:"zip-create-archive",level:2},{value:"Description",id:"description",level:4},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"Exemple 3",id:"exemple-3",level:4},{value:"Exemple 4",id:"exemple-4",level:4},{value:"Exemple 5",id:"exemple-5",level:4},{value:"ZIP Read archive",id:"zip-read-archive",level:2},{value:"Description",id:"description-1",level:4},{value:"Exemple",id:"exemple-6",level:4},{value:".root",id:"root",level:2},{value:"Description",id:"description-2",level:4}],u={toc:d};function c(e){var{components:t}=e,r=l(e,["components"]);return(0,n.kt)("wrapper",a({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"A 4D ZIP archive is a ",(0,n.kt)("inlineCode",{parentName:"p"},"File")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"Folder")," object containing one or more files or folders, which are compressed to be smaller than their original size. Ces archives sont cr\xe9\xe9es avec une extension \".zip\" et peuvent \xeatre utilis\xe9es pour \xe9conomiser de l'espace sur le disque ou transf\xe9rer des fichiers sur des supports de taille limit\xe9e (par exemple, l'email ou le r\xe9seau)."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"You create a 4D ZIP archive with the ",(0,n.kt)("a",a({parentName:"li"},{href:"#zip-create-archive"}),"ZIP Create archive")," command."),(0,n.kt)("li",{parentName:"ul"},"4D ",(0,n.kt)("a",a({parentName:"li"},{href:"/docs/fr/API/ZipFileClass"}),(0,n.kt)("inlineCode",{parentName:"a"},"ZIPFile"))," and ",(0,n.kt)("a",a({parentName:"li"},{href:"/docs/fr/API/ZipFolderClass"}),(0,n.kt)("inlineCode",{parentName:"a"},"ZIPFolder"))," instances are available through the ",(0,n.kt)("a",a({parentName:"li"},{href:"#root"}),(0,n.kt)("inlineCode",{parentName:"a"},"root"))," property (",(0,n.kt)("inlineCode",{parentName:"li"},"ZIPFolder"),") of the object returned by ",(0,n.kt)("a",a({parentName:"li"},{href:"#zip-read-archive"}),"ZIP Read archive")," command.")),(0,n.kt)("h3",a({},{id:"exemple"}),"Exemple"),(0,n.kt)("p",null,"Pour r\xe9cup\xe9rer et visualiser le contenu d'un objet ZIP file :"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-4d"}),'var $path; $archive : 4D.File\nvar $zipFile : 4D.ZipFile\nvar $zipFolder : 4D.ZipFolder\nvar $txt : Text\n\n$path:=Folder(fk desktop folder).file("MyDocs/Archive.zip")\n$archive:=ZIP Read archive($path)\n$zipFolder:=$archive.root // store the zip main folder\n$zipFile:=$zipFolder.files()[0] //read the first zipped file\n\nIf($zipFile.extension=".txt")\n $txt:=$zipFile.getText()\nEnd if\n')),(0,n.kt)("h3",a({},{id:"sommaire"}),"Sommaire"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",a({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),(0,n.kt)("a",a({parentName:"td"},{href:"#root"}),(0,n.kt)("strong",{parentName:"a"},".root")," : 4D.ZipFolder"),"&","nbsp;","&","nbsp;","&","nbsp;","&","nbsp;a virtual folder providing access to the contents of the ZIP archive")))),(0,n.kt)("h2",a({},{id:"zip-create-archive"}),"ZIP Create archive"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"19 R3"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Added ",(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Compression LZMA"),", ",(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Compression xy"),", ",(0,n.kt)("inlineCode",{parentName:"td"},".level")," property")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"ZIP Create archive")," ( ",(0,n.kt)("em",{parentName:"p"},"fileToZip")," : 4D.File ; ",(0,n.kt)("em",{parentName:"p"},"destinationFile")," : 4D.File ) : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"ZIP Create archive")," ( ",(0,n.kt)("em",{parentName:"p"},"folderToZip")," : 4D.Folder ; ",(0,n.kt)("em",{parentName:"p"},"destinationFile")," : 4D.File { ; ",(0,n.kt)("em",{parentName:"p"},"options")," : Integer }) : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"ZIP Create archive")," ( ",(0,n.kt)("em",{parentName:"p"},"zipStructure")," : Object ; ",(0,n.kt)("em",{parentName:"p"},"destinationFile")," : 4D.File ) : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",a({parentName:"tr"},{align:"center"})),(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"fileToZip"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"4D.File"),(0,n.kt)("td",a({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Objet fichier ou dossier \xe0 compresser")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"folderToZip"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"4D.Folder"),(0,n.kt)("td",a({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Objet fichier ou dossier \xe0 compresser")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"zipStructure"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",a({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Objet fichier ou dossier \xe0 compresser")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"destinationFile"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"4D.File"),(0,n.kt)("td",a({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Fichier de destination de l'archive")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",a({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"td"},"folderToZip")," option: ",(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Without enclosing folder"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",a({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Objet statut")))),(0,n.kt)("h4",a({},{id:"description"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"ZIP Create archive")," command creates a compressed ZIP archive object and returns the status of the operation."),(0,n.kt)("p",null,"Vous pouvez passer un objet 4D.File, 4D.Folder, ou une structure Zip en tant que premier param\xe8tre :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("em",{parentName:"p"},"fileToZip"),": You simply pass a ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.File")," to compress.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("em",{parentName:"p"},"folderToZip"),": You pass a ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.Folder")," to compress. In this case, the ",(0,n.kt)("em",{parentName:"p"},"options")," parameter allows you to compress only the contents of the folder (i.e., exclude the enclosing folder). By default, ",(0,n.kt)("inlineCode",{parentName:"p"},"ZIP Create archive")," will compress the folder and its contents, so that the decompressing operation will recreate a folder. If you want the decompressing operation to restore only the contents of the folder, pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"ZIP Without enclosing folder")," constant in the ",(0,n.kt)("em",{parentName:"p"},"options")," parameter.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("em",{parentName:"p"},"zipStructure"),": You pass an object describing the ZIP archive object. Les propri\xe9t\xe9s suivantes sont disponibles pour d\xe9finir la structure :"))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"compression"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),(0,n.kt)("li",null,(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Compression standard"),": Deflate compression (default)"),(0,n.kt)("li",null,(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Compression LZMA"),": LZMA compression"),(0,n.kt)("li",null,(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Compression XZ"),": XZ compression"),(0,n.kt)("li",null,(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Compression none"),": No compression"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"level"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Niveau de compression. Valeurs possibles : 1 \xe0 10. Une valeur plus faible produira un fichier plus volumineux, tandis qu'une valeur plus \xe9lev\xe9e produira un fichier plus petit. Le niveau de compression a toutefois un impact sur les performances. Default values if omitted: ",(0,n.kt)("li",null,(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Compression standard"),": 6"),(0,n.kt)("li",null,(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Compression LZMA"),": 4"),(0,n.kt)("li",null,(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Compression XZ"),": 4"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"encryption"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"The encryption to use if a password is set:",(0,n.kt)("li",null,(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Encryption AES128"),": AES encryption using 128-bit key."),(0,n.kt)("li",null,(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Encryption AES192"),": AES encryption using 192-bit key."),(0,n.kt)("li",null,(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Encryption AES256"),": AES encryption using 256-bit key (default if password is set)."),(0,n.kt)("li",null,(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Encryption none"),": Data is not encrypted (default if no password is set)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"password"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Un mot de passe \xe0 d\xe9finir si le chiffrement est requis.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Historique"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"a collection of ",(0,n.kt)("inlineCode",{parentName:"td"},"4D.File")," or ",(0,n.kt)("inlineCode",{parentName:"td"},"4D.Folder")," objects or"),(0,n.kt)("li",null,"a collection of objects with the following properties:"),(0,n.kt)("table",null,(0,n.kt)("tr",null,(0,n.kt)("td",null,"Property"),(0,n.kt)("td",null,"Type"),(0,n.kt)("td",null,"Description")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"source"),(0,n.kt)("td",null,"4D.File or 4D.Folder"),(0,n.kt)("td",null,"File or Folder")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"destination"),(0,n.kt)("td",null,"Text"),(0,n.kt)("td",null,"(optional) - Specify a relative filepath to change the organization of the contents of the archive")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"option"),(0,n.kt)("td",null,"number"),(0,n.kt)("td",null,"(optional) - ",(0,n.kt)("inlineCode",{parentName:"td"},"ZIP Ignore invisible files")," or 0 to compress all of the file"))))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"callback"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"4D.Function"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Une formule de r\xe9tro-appel qui recevra la progression de la compression (0 \xe0 100) dans $1.")))),(0,n.kt)("p",null,"In the ",(0,n.kt)("em",{parentName:"p"},"destinationFile")," parameter, pass a ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.File")," object describing the ZIP archive to create (name, location, etc.). Il est conseill\xe9 d'utiliser l'extension \".zip\" si vous souhaitez que l'archive ZIP soit trait\xe9e automatiquement par un logiciel."),(0,n.kt)("p",null,"Once an archive is created, you can use the ",(0,n.kt)("a",a({parentName:"p"},{href:"#zip-read-archive"}),"ZIP Read archive")," command to access it."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Status object")),(0,n.kt)("p",null,"L'objet statut retourn\xe9 contient les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"statusText"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Error message (if any):",(0,n.kt)("li",null,"Cannot open ZIP archive"),(0,n.kt)("li",null,"Cannot create ZIP archive"),(0,n.kt)("li",null,"Password is required for encryption"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Code d'\xe9tat")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"success"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Vrai si l'archive a \xe9t\xe9 cr\xe9\xe9e avec succ\xe8s, sinon faux")))),(0,n.kt)("h4",a({},{id:"exemple-1"}),"Exemple 1"),(0,n.kt)("p",null,"To compress a ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.File"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-4d"}),' var $file; $destination : 4D.File\n var $status : Object\n\n $destination:=Folder(fk desktop folder).file("MyDocs/file.zip")\n $file:=Folder(fk desktop folder).file("MyDocs/text.txt")\n\n $status:=ZIP Create archive($file;$destination)\n')),(0,n.kt)("h4",a({},{id:"exemple-2"}),"Exemple 2"),(0,n.kt)("p",null,"To compress a ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.Folder")," without the folder itself:"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-4d"}),' var $folder : 4D.Folder\n var $destination : 4D.File\n var $status : Object\n\n $destination:=Folder(fk desktop folder).file("MyDocs/Images.zip")\n $folder:=Folder(fk desktop folder).folder("MyDocs/Images")\n\n $status:=ZIP Create archive($folder;$destination;ZIP Without enclosing folder)\n')),(0,n.kt)("h4",a({},{id:"exemple-3"}),"Exemple 3"),(0,n.kt)("p",null,"Pour compresser une structure d'archive ZIP avec un mot de passe et une barre de progression :"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-4d"}),' var $destination : 4D.File\n var $zip;$status : Object\n var progID : Integer\n\n $destination:=Folder(fk desktop folder).file("MyDocs/Archive.zip")\n\n $zip:=New object\n $zip.files:=Folder(fk desktop folder).folder("MyDocs/Resources").folders()\n $zip.password:="password"\n $zip.callback:=Formula(myFormulaCompressingMethod($1))\n\n progID:=Progress New //we use the 4D Progress component\n\n $status:=ZIP Create archive($zip;$destination)\n\n Progress QUIT(progID)\n')),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"myFormulaCompressingMethod"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-4d"})," var $1 : Integer\n Progress SET PROGRESS(progID;Num($1/100))\n")),(0,n.kt)("h4",a({},{id:"exemple-4"}),"Exemple 4"),(0,n.kt)("p",null,"You want to pass a collection of folders and files to compress to the ",(0,n.kt)("em",{parentName:"p"},"zipStructure")," object:"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-4d"}),' var $destination : 4D.File\n var $zip;$err : Object\n $zip:=New object\n $zip.files:=New collection\n $zip.files.push(New object("source";Folder(fk desktop folder).file("Tests/text.txt")))\n $zip.files.push(New object("source";Folder(fk desktop folder).file("Tests/text2.txt")))\n $zip.files.push(New object("source";Folder(fk desktop folder).file("Images/image.png")))\n\n $destination:=Folder(fk desktop folder).file("file.zip")\n $err:=ZIP Create archive($zip;$destination)\n')),(0,n.kt)("h4",a({},{id:"exemple-5"}),"Exemple 5"),(0,n.kt)("p",null,"Vous souhaitez utiliser un autre algorithme de compression \xe0 un niveau de compression \xe9lev\xe9 :"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-4d"}),'var $destination : 4D.File\nvar $zip; $err : Object\n\n$zip:=New object\n$zip.files:=New collection\n$zip.files.push(Folder(fk desktop folder).folder("images"))\n$zip.compression:=ZIP Compression LZMA\n$zip.level:=7 //4 par d\xe9faut\n\n$destination:=Folder(fk desktop folder).file("images.zip")\n$err:=ZIP Create archive($zip; $destination)\n')),(0,n.kt)("h2",a({},{id:"zip-read-archive"}),"ZIP Read archive"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"ZIP Read archive")," ( ",(0,n.kt)("em",{parentName:"p"},"zipFile")," : 4D.File { ; ",(0,n.kt)("em",{parentName:"p"},"password")," : Text }) : 4D.ZipArchive"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",a({parentName:"tr"},{align:"center"})),(0,n.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"zipFile"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"4D.File"),(0,n.kt)("td",a({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Fichier archive ZIP")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"password"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",a({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Mot de passe de l'archive ZIP, le cas \xe9ch\xe9ant")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",a({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"4D.ZipArchive"),(0,n.kt)("td",a({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",a({parentName:"tr"},{align:null}),"Objet archive")))),(0,n.kt)("h4",a({},{id:"description-1"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"ZIP Read archive")," command retrieves the contents of ",(0,n.kt)("em",{parentName:"p"},"zipFile")," and returns it as a ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.ZipArchive")," object."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Cette commande ne d\xe9compresse pas l'archive ZIP, elle fournit seulement un aper\xe7u de son contenu. To extract the contents of an archive, you need to use methods such as ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/API/Document#copyto"}),"file.copyTo()")," or ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/API/Directory#copyto"}),"folder.copyTo()"),".")),(0,n.kt)("p",null,"Pass a ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.File")," object referencing the compressed ZIP archive in the ",(0,n.kt)("em",{parentName:"p"},"zipFile")," parameter. The target archive file will be opened until the ",(0,n.kt)("inlineCode",{parentName:"p"},"ZIP Read archive")," has finished executing and all contents/references have been extracted/released, then it will be closed automatically."),(0,n.kt)("p",null,"If the ",(0,n.kt)("em",{parentName:"p"},"zipFile")," is password protected, you need to use the optional ",(0,n.kt)("em",{parentName:"p"},"password")," parameter to provide a password. Si un mot de passe est requis mais qu'il n'est pas pass\xe9 lorsque vous tentez de lire le contenu de l'archive, une erreur est g\xe9n\xe9r\xe9e."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Archive object")),(0,n.kt)("p",null,"The returned ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.ZipArchive")," object contains a single ",(0,n.kt)("a",a({parentName:"p"},{href:"#root"}),(0,n.kt)("inlineCode",{parentName:"a"},"root"))," property whose value is a ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.ZipFolder")," object. Ce dossier d\xe9crit le contenu de l'archive ZIP."),(0,n.kt)("h4",a({},{id:"exemple-6"}),"Exemple"),(0,n.kt)("p",null,"Pour r\xe9cup\xe9rer et visualiser le contenu d'un objet ZIP file :"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-4d"}),' var $archive : 4D.ZipArchive\n var $path : 4D.File\n\n $path:=Folder(fk desktop folder).file("MyDocs/Archive.zip")\n $archive:=ZIP Read archive($path)\n')),(0,n.kt)("p",null,"Pour r\xe9cup\xe9rer la liste des fichiers et dossiers de l'archive :"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-4d"})," $folders:=$archive.root.folders()\n $files:=$archive.root.files()\n")),(0,n.kt)("p",null,"Pour lire le contenu d'un fichier sans l'extraire du dossier root :"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-4d"}),'\n If($files[$i].extension=".txt")\n    $txt:=$files[$i].getText()\n Else\n    $blob:=$files[$i].getContent()\n End if\n')),(0,n.kt)("p",null,"Pour extraire \xe0 partir du dossier root :"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-4d"}),'  //extract a file\n $folderResult:=$files[$i].copyTo(Folder(fk desktop folder).folder("MyDocs"))\n\n  //extract all files\n $folderResult:=$archive.root.copyTo(Folder(fk desktop folder).folder("MyDocs"))\n')),(0,n.kt)("h2",a({},{id:"root"}),".root"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".root")," : 4D.ZipFolder"),(0,n.kt)("h4",a({},{id:"description-2"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".root")," property contains a virtual folder providing access to the contents of the ZIP archive."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"root")," folder and its contents can be manipulated with the ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/API/ZipFileClass"}),"ZipFile")," and ",(0,n.kt)("a",a({parentName:"p"},{href:"/docs/fr/API/ZipFolderClass"}),"ZipFolder")," functions and properties."),(0,n.kt)("p",null,"Cette propri\xe9t\xe9 est en ",(0,n.kt)("strong",{parentName:"p"},"lecture seule"),"."))}c.isMDXComponent=!0}}]);