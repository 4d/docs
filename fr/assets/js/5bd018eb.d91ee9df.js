"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["22697"],{596823:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>d,toc:()=>c,default:()=>a,metadata:()=>r,assets:()=>o,contentTitle:()=>l});var r=JSON.parse('{"id":"API/UDPSocketClass","title":"UDPSocket","description":"La classe UDPSocket vous permet d\'envoyer et de recevoir des paquets UDP. UDP (User Datagram Protocol) est un protocole facile \xe0 impl\xe9menter pour l\'envoi de donn\xe9es. Il est plus rapide et plus simple que TCP (seulement 8 octets d\'en-t\xeate par opposition \xe0 au moins 20 octets dans TCP), mais il n\'offre pas le m\xeame niveau de fiabilit\xe9. Il est utile pour les applications o\xf9 les donn\xe9es doivent arriver rapidement \xe0 leur destination. Cependant, elle ne permet pas de v\xe9rifier la livraison, ni de contr\xf4ler les erreurs ou de r\xe9cup\xe9rer les donn\xe9es qui n\'ont pas \xe9t\xe9 livr\xe9es correctement.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-21/API/UDPSocketClass.md","sourceDirName":"API","slug":"/API/UDPSocketClass","permalink":"/docs/fr/API/UDPSocketClass","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FUDPSocketClass.md%20(21)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"21","frontMatter":{"id":"UDPSocketClass","title":"UDPSocket"},"sidebar":"docs","previous":{"title":"UDPEvent","permalink":"/docs/fr/API/UDPEventClass"},"next":{"title":"Vector","permalink":"/docs/fr/API/VectorClass"}}'),t=s(474848),i=s(884429);let d={id:"UDPSocketClass",title:"UDPSocket"},l,o={},c=[{value:"Exemple",id:"exemple",level:3},{value:"Objet UDPSocket",id:"objet-udpsocket",level:3},{value:"4D.UDPSocket.new()",id:"4dudpsocketnew",level:2},{value:"Description",id:"description",level:4},{value:"Param\xe8tre <code>options</code>",id:"param\xe8tre-options",level:4},{value:"Fonctions de callback",id:"fonctions-de-callback",level:4},{value:"Objet UDPEvent",id:"objet-udpevent",level:4},{value:".errors",id:"errors",level:2},{value:"Description",id:"description-1",level:4},{value:".port",id:"port",level:2},{value:"Description",id:"description-2",level:4},{value:".send()",id:"send",level:2},{value:"Description",id:"description-3",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement",level:4}];function h(e){let n={a:"a",admonition:"admonition",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["La classe ",(0,t.jsx)(n.code,{children:"UDPSocket"})," vous permet d'envoyer et de recevoir des paquets UDP. UDP (User Datagram Protocol) est un protocole facile \xe0 impl\xe9menter pour l'envoi de donn\xe9es. Il est plus rapide et plus simple que TCP (seulement 8 octets d'en-t\xeate par opposition \xe0 au moins 20 octets dans TCP), mais il n'offre pas le m\xeame niveau de fiabilit\xe9. Il est utile pour les applications o\xf9 les donn\xe9es doivent arriver rapidement \xe0 leur destination. Cependant, elle ne permet pas de v\xe9rifier la livraison, ni de contr\xf4ler les erreurs ou de r\xe9cup\xe9rer les donn\xe9es qui n'ont pas \xe9t\xe9 livr\xe9es correctement."]}),"\n",(0,t.jsxs)(n.p,{children:["La classe ",(0,t.jsx)(n.code,{children:"UDPSocket"})," est disponible dans le class store ",(0,t.jsx)(n.code,{children:"4D"}),". Vous pouvez cr\xe9er une connexion UDP en utilisant la fonction ",(0,t.jsx)(n.a,{href:"#4dudpsocketnew",children:"4D.UDPSocket.new()"}),", qui retourne un objet ",(0,t.jsx)(n.a,{href:"#udpsocket-object",children:"UDPSocket"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Gr\xe2ce au ",(0,t.jsx)(n.em,{children:"refcounting"})," des objets 4D standard, un socket UDPSocket est automatiquement lib\xe9r\xe9 lorsqu'il n'est plus r\xe9f\xe9renc\xe9, c'est-\xe0-dire lorsqu'il n'y a plus de r\xe9f\xe9rences vers lui en m\xe9moire. Cela se produit g\xe9n\xe9ralement, par exemple, \xe0 la fin de l'ex\xe9cution d'une m\xe9thode pour les variables locales. Par cons\xe9quent, les ressources associ\xe9es sont correctement referm\xe9es sans qu'il soit n\xe9cessaire de proc\xe9der \xe0 une cl\xf4ture explicite. Cependant, si vous voulez \"forcer\" la fermeture d'un socket \xe0 tout moment, ",(0,t.jsxs)(n.a,{href:"/docs/fr/Concepts/object#resources",children:[(0,t.jsx)(n.strong,{children:"nullifiez"})," ses r\xe9f\xe9rences en les mettant \xe0 ",(0,t.jsx)(n.strong,{children:"Null"})]}),"."]}),"\n",(0,t.jsx)(n.admonition,{title:"Fichier 4DTCPUDPLog.txt",type:"info",children:(0,t.jsxs)(n.p,{children:["Pour le d\xe9bogage et la surveillance, vous pouvez utiliser le fichier journal ",(0,t.jsx)(n.a,{href:"/docs/fr/Debugging/debugLogFiles#4dtcpudplogtxt",children:"4DTCPUDPLog.txt"})," qui enregistre les \xe9v\xe9nements li\xe9s aux sockets UDP. Ces \xe9v\xe9nements comprennent la transmission de donn\xe9es, les erreurs et les informations sur le cycle de vie de la connexion."]})}),"\n",(0,t.jsxs)(n.details,{children:[(0,t.jsx)(n.summary,{children:"Historique"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Release"}),(0,t.jsx)(n.th,{children:"Modifications"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"20 R10"}),(0,t.jsx)(n.td,{children:"Classe ajout\xe9e"})]})})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"exemple",children:"Exemple"}),"\n",(0,t.jsx)(n.h3,{id:"objet-udpsocket",children:"Objet UDPSocket"}),"\n",(0,t.jsxs)(n.p,{children:["Un objet UDPSocket est non-modifiable (",(0,t.jsx)(n.em,{children:"immutable"}),") et non ",(0,t.jsx)(n.em,{children:"streamable"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Les objets UDPSocket offrent les propri\xe9t\xe9s et fonctions suivantes :"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.th,{})})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#errors",children:[(0,t.jsx)(n.strong,{children:"errors"})," : Collection"]}),(0,t.jsx)(n.br,{}),"une collection d'objets d'erreur associ\xe9s au socket"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#port",children:[(0,t.jsx)(n.strong,{children:"port"})," : Number"]}),(0,t.jsx)(n.br,{}),"le num\xe9ro du port \xe0 \xe9couter"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#send",children:[(0,t.jsx)(n.strong,{children:".send"}),"( ",(0,t.jsx)(n.em,{children:"data"})," : Blob ; ",(0,t.jsx)(n.em,{children:"hostName"})," : Text ; ",(0,t.jsx)(n.em,{children:"remotePort"})," : Integer )"]}),(0,t.jsx)(n.br,{}),"envoie des ",(0,t.jsx)(n.em,{children:"data"})," au serveur distant ",(0,t.jsx)(n.em,{children:"hostName"})," sur le ",(0,t.jsx)(n.em,{children:"remotePort"})," sp\xe9cifi\xe9"]})})]})]}),"\n",(0,t.jsx)(n.h2,{id:"4dudpsocketnew",children:"4D.UDPSocket.new()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"4D.UDPSocket.new"}),"() : 4D.UDPSocket",(0,t.jsx)(n.br,{}),(0,t.jsx)(n.strong,{children:"4D.UDPSocket.new"}),"( ",(0,t.jsx)(n.em,{children:"options"})," : Object ) : 4D.UDPSocket",(0,t.jsx)(n.br,{}),(0,t.jsx)(n.strong,{children:"4D.UDPSocket.new"}),"( ",(0,t.jsx)(n.em,{children:"port"})," : Integer ) : 4D.UDPSocket",(0,t.jsx)(n.br,{}),(0,t.jsx)(n.strong,{children:"4D.UDPSocket.new"}),"( ",(0,t.jsx)(n.em,{children:"port"})," : Integer ; ",(0,t.jsx)(n.em,{children:"options"})," : Object ) : 4D.UDPSocket"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"port"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:"->"}),(0,t.jsx)(n.td,{children:"Port local utilis\xe9 pour le socket UDP (0 ou omis = trouver un port inutilis\xe9 \xe0 utiliser)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"options"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:"->"}),(0,t.jsxs)(n.td,{children:["Configuration ",(0,t.jsx)(n.a,{href:"#options-parameter",children:"options"})," pour le socket"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"UDPSocket"}),(0,t.jsx)(n.td,{children:"<-"}),(0,t.jsx)(n.td,{children:"Nouvel objet UDPSocket"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:"4D.UDPSocket.new()"})," cr\xe9e un nouveau socket UDP en utilisant les ",(0,t.jsx)(n.em,{children:"options"})," d\xe9finies (le cas \xe9ch\xe9ant) sur le ",(0,t.jsx)(n.em,{children:"port"})," sp\xe9cifi\xe9 (le cas \xe9ch\xe9ant) ou sur un port al\xe9atoire inutilis\xe9, et renvoie un objet ",(0,t.jsx)(n.code,{children:"4D.UDPSocket"}),"."]}),"\n",(0,t.jsxs)(n.h4,{id:"param\xe8tre-options",children:["Param\xe8tre ",(0,t.jsx)(n.code,{children:"options"})]}),"\n",(0,t.jsxs)(n.p,{children:["Dans le param\xe8tre ",(0,t.jsx)(n.em,{children:"options"}),", vous pouvez passer un objet qui contient les propri\xe9t\xe9s suivantes :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Propri\xe9t\xe9"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Par d\xe9faut"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"onData"}),(0,t.jsx)(n.td,{children:"Formula"}),(0,t.jsx)(n.td,{children:"Callback d\xe9clench\xe9e lors de la r\xe9ception de donn\xe9es"}),(0,t.jsx)(n.td,{children:"Undefined"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"onError"}),(0,t.jsx)(n.td,{children:"Formula"}),(0,t.jsx)(n.td,{children:"Callback d\xe9clench\xe9e en cas d'erreur"}),(0,t.jsx)(n.td,{children:"Undefined"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"onTerminate"}),(0,t.jsx)(n.td,{children:"Formula"}),(0,t.jsx)(n.td,{children:"Callback d\xe9clench\xe9e lorsque le port est lib\xe9r\xe9"}),(0,t.jsx)(n.td,{children:"Undefined"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"fonctions-de-callback",children:"Fonctions de callback"}),"\n",(0,t.jsx)(n.p,{children:"Toutes les fonctions de callback re\xe7oivent deux param\xe8tres :"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"$socket"}),(0,t.jsx)(n.td,{children:(0,t.jsxs)(n.a,{href:"#udpsocket-object",children:["Objet ",(0,t.jsx)(n.code,{children:"UDPSocket"})]})}),(0,t.jsx)(n.td,{children:"L'instance UDPSocket courante."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"$event"}),(0,t.jsx)(n.td,{children:(0,t.jsxs)(n.a,{href:"#udpevent-object",children:["Objet ",(0,t.jsx)(n.code,{children:"UDPEvent"})]})}),(0,t.jsx)(n.td,{children:"Contient des informations sur l'\xe9v\xe9nement."})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"S\xe9quence des appels de callbacks :"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"onData"})," est d\xe9clench\xe9e \xe0 chaque fois que des donn\xe9es sont re\xe7ues."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"onError"})," est d\xe9clench\xe9e en cas d'erreur."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"onTerminate"})," est toujours d\xe9clench\xe9e juste avant que le port soit lib\xe9r\xe9 (le socket est ferm\xe9 ou une erreur s'est produite)."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"objet-udpevent",children:"Objet UDPEvent"}),"\n",(0,t.jsxs)(n.p,{children:["Un objet ",(0,t.jsx)(n.a,{href:"/docs/fr/API/UDPEventClass",children:(0,t.jsx)(n.code,{children:"UDPEvent"})})," est retourn\xe9 lorsqu'une ",(0,t.jsx)(n.a,{href:"#callback-functions",children:"fonction de callback"})," est appel\xe9e."]}),"\n",(0,t.jsx)(n.h2,{id:"errors",children:".errors"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"errors"})," : Collection"]}),"\n",(0,t.jsx)(n.h4,{id:"description-1",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".errors"})," contient une collection d'objets d'erreur associ\xe9s au socket. Chaque objet erreur comprend le code d'erreur, une description et la signature du composant qui a provoqu\xe9 l'erreur."]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Propri\xe9t\xe9"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"errors"}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"Collection"}),(0,t.jsx)(n.td,{children:"Pile d'erreurs 4D en cas d'erreur"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"[].errCode"}),(0,t.jsx)(n.td,{children:"Number"}),(0,t.jsx)(n.td,{children:"Code d'erreur 4D"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"[].message"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"Description de l'erreur 4D"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"[].componentSignature"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"Signature du composant interne qui a retourn\xe9 l'erreur"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"port",children:".port"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"port"})," : Number"]}),"\n",(0,t.jsx)(n.h4,{id:"description-2",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,t.jsx)(n.code,{children:".port"})," contient le num\xe9ro du port \xe0 \xe9couter. Cette propri\xe9t\xe9 est en ",(0,t.jsx)(n.strong,{children:"lecture seule"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"send",children:".send()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:".send"}),"( ",(0,t.jsx)(n.em,{children:"data"})," : Blob ; ",(0,t.jsx)(n.em,{children:"hostName"})," : Text ; ",(0,t.jsx)(n.em,{children:"remotePort"})," : Integer )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tres"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"data"}),(0,t.jsx)(n.td,{children:"Blob"}),(0,t.jsx)(n.td,{children:"->"}),(0,t.jsx)(n.td,{children:"Donn\xe9es \xe0 envoyer"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"hostName"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"->"}),(0,t.jsx)(n.td,{children:"Nom ou adresse IP du serveur"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"remotePort"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:"->"}),(0,t.jsx)(n.td,{children:"Port distant auquel se connecter (0=n'importe lequel)"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"description-3",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La fonction ",(0,t.jsx)(n.code,{children:"send()"})," envoie des ",(0,t.jsx)(n.em,{children:"data"})," au serveur distant ",(0,t.jsx)(n.em,{children:"hostName"})," sur le ",(0,t.jsx)(n.em,{children:"remotePort"})," sp\xe9cifi\xe9."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"hostName"})," est le nom ou l'adresse IP du serveur o\xf9 les donn\xe9es seront envoy\xe9es."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"remotePort"})," est le num\xe9ro du port auquel se connecter. Passez 0 pour utiliser n'importe quel port disponible."]}),"\n",(0,t.jsx)(n.h4,{id:"voir-\xe9galement",children:"Voir \xe9galement"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/docs/fr/API/UDPEventClass",children:"UDPEvent"})})]})}function a(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},884429:function(e,n,s){s.d(n,{R:()=>d,x:()=>l});var r=s(296540);let t={},i=r.createContext(t);function d(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);