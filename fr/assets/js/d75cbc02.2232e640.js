"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["94139"],{970599:function(e,r,n){n.r(r),n.d(r,{metadata:()=>t,contentTitle:()=>a,default:()=>p,assets:()=>l,toc:()=>o,frontMatter:()=>d});var t=JSON.parse('{"id":"commands-legacy/export-data","title":"EXPORT DATA","description":"EXPORT DATA ( nomFichier {; projet {; *}} )","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/export-data.md","sourceDirName":"commands-legacy","slug":"/commands/export-data","permalink":"/docs/fr/commands/export-data","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fexport-data.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"export-data","title":"EXPORT DATA","slug":"/commands/export-data","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"Import and Export","permalink":"/docs/fr/category/import-and-export"},"next":{"title":"EXPORT DIF","permalink":"/docs/fr/commands/export-dif"}}'),s=n("785893"),i=n("250065");let d={id:"export-data",title:"EXPORT DATA",slug:"/commands/export-data",displayed_sidebar:"docs"},a=void 0,l={},o=[{value:"Description",id:"description",level:4},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"Variables et ensembles syst\xe8me",id:"variables-et-ensembles-syst\xe8me",level:4},{value:"Voir aussi",id:"voir-aussi",level:4},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:4}];function c(e){let r={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"EXPORT DATA"})," ( ",(0,s.jsx)(r.em,{children:"nomFichier"})," {; ",(0,s.jsx)(r.em,{children:"projet"})," {; *}} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Param\xe8tre"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"nomFichier"}),(0,s.jsx)(r.td,{children:"Text"}),(0,s.jsx)(r.td,{children:"\u2192"}),(0,s.jsx)(r.td,{children:"Chemin d\u2019acc\xe8s et nom du fichier d\u2019export"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"projet"}),(0,s.jsx)(r.td,{children:"Text, Blob"}),(0,s.jsx)(r.td,{children:"\u2192"}),(0,s.jsx)(r.td,{children:"Contenu du projet d\u2019export (XML ou r\xe9f\xe9rence d'\xe9l\xe9ment DOM ou BLOB)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"\u2190"}),(0,s.jsx)(r.td,{children:"Nouveau contenu du projet d\u2019export (si le param\xe8tre * a \xe9t\xe9 pass\xe9)"}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"*"}),(0,s.jsx)(r.td,{children:"Op\xe9rateur"}),(0,s.jsx)(r.td,{children:"\u2192"}),(0,s.jsx)(r.td,{children:"Affichage de la bo\xeete de dialogue d\u2019export et mise \xe0 jour du projet"})]})]})]}),"\n",(0,s.jsx)(r.h4,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(r.p,{children:["La commande ",(0,s.jsx)(r.strong,{children:"EXPORT DATA"})," permet d\u2019exporter des donn\xe9es dans le fichier ",(0,s.jsx)(r.em,{children:"nomFichier"}),". 4D peut exporter des donn\xe9es au format Texte, Texte de longueur fixe, XML, SYLK, DIF, DBF (dBase), et 4D."]}),"\n",(0,s.jsxs)(r.p,{children:["Si vous passez une cha\xeene vide dans le ",(0,s.jsx)(r.em,{children:"nomFichier"}),", ",(0,s.jsx)(r.strong,{children:"EXPORT DATA"})," provoque l\u2019affichage d\u2019une bo\xeete de dialogue standard d\u2019enregistrement de fichiers, permettant \xe0 l\u2019utilisateur de d\xe9finir le nom, le type et l\u2019emplacement du fichier d\u2019export. Une fois la bo\xeete de dialogue valid\xe9e, la variable syst\xe8me Document contient le chemin d\u2019acc\xe8s et le nom de ce fichier. Si l\u2019utilisateur clique sur le bouton ",(0,s.jsx)(r.strong,{children:"Annuler"}),", l\u2019ex\xe9cution est stopp\xe9e et la variable syst\xe8me OK prend la valeur 0."]}),"\n",(0,s.jsxs)(r.p,{children:["Le param\xe8tre optionnel ",(0,s.jsx)(r.em,{children:"projet"})," vous permet d'utiliser un projet pour l'export des donn\xe9es. Lorsque vous passez ce param\xe8tre, l\u2019export s\u2019effectue directement, sans intervention de l\u2019utilisateur (sauf si vous utilisez l'option ",(0,s.jsx)(r.em,{children:"*"}),", cf. ci-dessous). Si vous ne passez pas ce param\xe8tre, la bo\xeete de dialogue de param\xe9trage d\u2019export s\u2019affiche, permettant \xe0 l\u2019utilisateur de d\xe9finir ses param\xe8tres d\u2019export ou de charger un projet d\u2019export existant."]}),"\n",(0,s.jsxs)(r.p,{children:["Un projet d\u2019export contient tous les param\xe8tres de l\u2019export, tels que les tables et champs export\xe9s, les d\xe9limiteurs, etc. Vous pouvez passer dans ",(0,s.jsx)(r.em,{children:"projet"})," soit une variable texte contenant du XML, soit une variable texte contenant la r\xe9f\xe9rence \xe0 un \xe9l\xe9ment DOM pr\xe9existant, soit un BLOB. Les projets peuvent avoir \xe9t\xe9 cr\xe9\xe9s par programmation (projets au format XML uniquement) ou \xeatre issus du chargement de param\xe8tres pr\xe9alablement d\xe9finis dans la bo\xeete de dialogue d\u2019export. Dans ce dernier cas, vous disposez de deux solutions :"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["utiliser la commande ",(0,s.jsx)(r.strong,{children:"EXPORT DATA"})," avec un param\xe8tre ",(0,s.jsx)(r.em,{children:"projet"})," vide et le param\xe8tre optionnel ",(0,s.jsx)(r.em,{children:"*"})," (cf. ci-dessous), puis stocker le param\xe8tre ",(0,s.jsx)(r.em,{children:"projet"})," r\xe9sultant dans un champ Texte ou BLOB. Cette solution permet notamment de conserver le projet avec le fichier de donn\xe9es."]}),"\n",(0,s.jsxs)(r.li,{children:["sauvegarder le projet sur disque, puis le charger par exemple \xe0 l\u2019aide de la commande ",(0,s.jsx)(r.a,{href:"/docs/fr/commands/dom-parse-xml-source",children:"DOM Parse XML source"})," et passer sa r\xe9f\xe9rence dans le param\xe8tre ",(0,s.jsx)(r.em,{children:"projet"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Note de compatibilit\xe9 :"})," A compter de la version 12 de 4D, les projets d'export sont encod\xe9s en XML. 4D peut ouvrir les projets d'export g\xe9n\xe9r\xe9s avec des versions pr\xe9c\xe9dentes de 4D (format BLOB), mais les projets cr\xe9\xe9s \xe0 compter de la v12 ne peuvent plus \xeatre rouverts avec une v11 ou ant\xe9rieure. Il est d\xe9sormais conseill\xe9 d'utiliser des variables Texte pour manipuler les fichiers d'export."]}),"\n",(0,s.jsxs)(r.p,{children:["Le param\xe8tre optionnel ",(0,s.jsx)(r.em,{children:"*"}),", s\u2019il est est sp\xe9cifi\xe9, provoque l\u2019affichage de la bo\xeete de dialogue de param\xe9trage d\u2019export avec les param\xe9trages d\xe9finis dans le projet. Ce fonctionnement permet d\u2019utiliser un projet pr\xe9d\xe9fini, tout en ayant la possibilit\xe9 de modifier un ou plusieurs param\xe8tres. En outre, le param\xe8tre projet contient, apr\xe8s la fermeture de la bo\xeete de dialogue d\u2019export, les param\xe8tres du \u201Cnouveau\u201D projet au format XML. Vous pouvez alors le stocker dans un champ Texte, dans un fichier sur disque, etc."]}),"\n",(0,s.jsx)(r.p,{children:"Si l\u2019export se d\xe9roule correctement, la variable syst\xe8me OK prend la valeur 1."}),"\n",(0,s.jsx)(r.h4,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,s.jsxs)(r.p,{children:["Cet exemple illustre l'utilisation de la commande ",(0,s.jsx)(r.strong,{children:"EXPORT DATA"})," pour exporter en format binaire les donn\xe9es d'une base."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Cette m\xe9thode effectue une boucle sur toutes les tables de la base et appelle la m\xe9thode ExportBinary :"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-4d",children:'\xa0var $ExportPath : Text\n\xa0var $i : Integer\n\xa0$ExportPath:=Select folder("Veuillez s\xe9lectionner le dossier d\'export :")\n\xa0If(Ok=1)\n\xa0\xa0\xa0\xa0For($i;1;Last table number)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(Is table number valid($i))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0ExportBinary(Table($i);$ExportPath+Table name($i);True)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0End for\n\xa0End if\n'})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Voici le code de la m\xe9thode ExportBinary :"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-4d",children:'\xa0var $1 : Pointer\xa0//table\n\xa0var $2 : Text\xa0//chemin du fichier de destination\n\xa0var $3 : Boolean\xa0//exporter tous les enregistrements\n\xa0var $i : Integer\n\xa0var $ref : Text\n\xa0$ref:=DOM Create XML Ref("settings-import-export")\n\xa0\xa0// Exporter la table "$1" au format binaire \'4D\', tous les enregistrements ou uniquement la s\xe9lection courante\n\xa0DOM SET XML ATTRIBUTE($ref;"table_no";Table($1);"format";"4D";"all_records";$3)\n\xa0\xa0// D\xe9finition des champs \xe0 exporter\n\xa0For($i;1;Last field number($1))\n\xa0\xa0\xa0\xa0If(Is field number valid($1;$i))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$elt:=DOM Create XML element($ref;"field";"table_no";Table($1);"field_no";$i)\n\xa0\xa0\xa0\xa0End if\n\xa0End for\n\xa0EXPORT DATA($2;$ref)\n\xa0If(Ok=0)\n\xa0\xa0\xa0\xa0ALERT("Erreur lors de l\'export de la table "+Table name($1))\n\xa0End if\n\xa0DOM CLOSE XML($ref)\n'})}),"\n",(0,s.jsx)(r.h4,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,s.jsx)(r.p,{children:"Cet exemple cr\xe9e un projet vide et y stockera les param\xe8tres d\xe9finis par l'utilisateur dans la bo\xeete de dialogue d\u2019export :"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-4d",children:'\xa0var $exportParams : Text\n\xa0EXPORT DATA("DocExport.txt";$exportParams;*)\xa0//Affichage de la bo\xeete de dialogue d\'export\n'})}),"\n",(0,s.jsx)(r.h4,{id:"variables-et-ensembles-syst\xe8me",children:"Variables et ensembles syst\xe8me"}),"\n",(0,s.jsxs)(r.p,{children:["Si l'utilisateur clique sur ",(0,s.jsx)(r.strong,{children:"Annuler"})," dans une des bo\xeetes de dialogue (d'enregistrement de projet ou de param\xe9trage d'export), la variable syst\xe8me OK prend la valeur 0. Si l\u2019export se d\xe9roule correctement, la variable syst\xe8me OK prend la valeur 1."]}),"\n",(0,s.jsx)(r.h4,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"/docs/fr/commands/export-dif",children:"EXPORT DIF"}),(0,s.jsx)(r.br,{}),"\n",(0,s.jsx)(r.a,{href:"/docs/fr/commands/export-sylk",children:"EXPORT SYLK"}),(0,s.jsx)(r.br,{}),"\n",(0,s.jsx)(r.a,{href:"/docs/fr/commands/export-text",children:"EXPORT TEXT"}),(0,s.jsx)(r.br,{}),"\n",(0,s.jsx)(r.a,{href:"/docs/fr/commands/import-data",children:"IMPORT DATA"})]}),"\n",(0,s.jsx)(r.h4,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{}),(0,s.jsx)(r.th,{})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Num\xe9ro de commande"}),(0,s.jsx)(r.td,{children:"666"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Thread safe"}),(0,s.jsx)(r.td,{children:"\u2717"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Modifie les variables"}),(0,s.jsx)(r.td,{children:"OK, Document"})]})]})]})]})}function p(e={}){let{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},250065:function(e,r,n){n.d(r,{Z:function(){return a},a:function(){return d}});var t=n(667294);let s={},i=t.createContext(s);function d(e){let r=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);