"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["54441"],{446458:function(e,n,t){t.r(n),t.d(n,{default:()=>u,frontMatter:()=>d,metadata:()=>s,assets:()=>l,toc:()=>o,contentTitle:()=>c});var s=JSON.parse('{"id":"commands-legacy/text-to-document","title":"TEXT TO DOCUMENT","description":"TEXT TO DOCUMENT ( nomFichier ; texte {; jeuCaract\xe8res {; modeRetour}} )","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/text-to-document.md","sourceDirName":"commands-legacy","slug":"/commands/text-to-document","permalink":"/docs/fr/20-R7/commands/text-to-document","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Ftext-to-document.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"text-to-document","title":"TEXT TO DOCUMENT","slug":"/commands/text-to-document","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"Test path name","permalink":"/docs/fr/20-R7/commands/test-path-name"},"next":{"title":"VOLUME ATTRIBUTES","permalink":"/docs/fr/20-R7/commands/volume-attributes"}}'),r=t("785893"),i=t("250065");let d={id:"text-to-document",title:"TEXT TO DOCUMENT",slug:"/commands/text-to-document",displayed_sidebar:"docs"},c=void 0,l={},o=[{value:"Description",id:"description",level:2},{value:"Exemple 1",id:"exemple-1",level:2},{value:"Exemple 2",id:"exemple-2",level:2},{value:"Voir aussi",id:"voir-aussi",level:2},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:2}];function a(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"TEXT TO DOCUMENT"})," ( ",(0,r.jsx)(n.em,{children:"nomFichier"})," ; ",(0,r.jsx)(n.em,{children:"texte"})," {; ",(0,r.jsx)(n.em,{children:"jeuCaract\xe8res"})," {; ",(0,r.jsx)(n.em,{children:"modeRetour"}),"}} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param\xe8tre"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"nomFichier"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Nom de document ou Chemin d'acc\xe8s \xe0 un document"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"texte"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Texte \xe0 stocker dans un document"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"jeuCaract\xe8res"}),(0,r.jsx)(n.td,{children:"Text, Integer"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Nom ou Num\xe9ro de jeu de caract\xe8res"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"modeRetour"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Mode de traitement des retours \xe0 la ligne"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["La commande ",(0,r.jsx)(n.strong,{children:"TEXT TO DOCUMENT"})," permet d\u2019\xe9crire directement le ",(0,r.jsx)(n.em,{children:"texte"})," dans un fichier sur disque."]}),"\n",(0,r.jsxs)(n.p,{children:["Passez dans ",(0,r.jsx)(n.em,{children:"nomFichier"})," le nom ou le chemin d\u2019acc\xe8s du fichier \xe0 \xe9crire. Si le fichier n\u2019existe pas, il est cr\xe9\xe9. S\u2019il existe d\xe9j\xe0 sur le disque, son contenu pr\xe9c\xe9dent est \xe9cras\xe9. Si le fichier existe mais est d\xe9j\xe0 ouvert, son contenu est verrouill\xe9 et une erreur est g\xe9n\xe9r\xe9e. Vous pouvez passer dans ",(0,r.jsx)(n.em,{children:"nomFichier"})," :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'uniquement le nom du fichier, par exemple "monFichier.txt" : dans ce cas, le fichier sera plac\xe9 \xe0 c\xf4t\xe9 du fichier de structure de l\u2019application.'}),"\n",(0,r.jsx)(n.li,{children:'un chemin d\u2019acc\xe8s relatif au fichier de structure de l\u2019application, par exemple "\\\\docs\\\\monFichier.txt" sous Windows ou "//docs/monFichier.txt" sous macOS.'}),"\n",(0,r.jsx)(n.li,{children:'un chemin d\u2019acc\xe8s absolu, par exemple "c:\\\\app\\\\docs\\\\monFichier.txt" sous Windows ou "MacHD/docs/monFichier.txt" sous macOS.'}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Si vous souhaitez permettre \xe0 l\u2019utilisateur de d\xe9signer le nom ou l\u2019emplacement du document, utilisez les commandes ",(0,r.jsx)(n.a,{href:"/docs/fr/20-R7/commands/open-document",children:"Open document"})," ou ",(0,r.jsx)(n.a,{href:"/docs/fr/20-R7/commands/create-document",children:"Create document"})," ainsi que la variable syst\xe8me ",(0,r.jsx)(n.em,{children:"Document"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note :"})," Par d\xe9faut, les documents g\xe9n\xe9r\xe9s par cette commande n\u2019ont pas d\u2019extension. Vous devez passer une extension dans ",(0,r.jsx)(n.em,{children:"nomFichier"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Passez dans le param\xe8tre ",(0,r.jsx)(n.em,{children:"texte"}),' le texte \xe0 \xe9crire sur disque. Il peut s\u2019agir d\u2019une constante litt\xe9rale ("mon texte"), d\u2019un champ texte ou d\u2019une variable texte 4D.']}),"\n",(0,r.jsxs)(n.p,{children:["Vous pouvez passer dans ",(0,r.jsx)(n.em,{children:"jeuCaract\xe8res"})," le jeu de caract\xe8res \xe0 utiliser pour l\u2019\xe9criture du document. Vous pouvez passer une cha\xeene contenant le nom standard du jeu (par exemple \u201CISO-8859-1\u201D ou \u201CUTF-8\u201D) ou son identifiant MIBEnum (entier long). Pour plus d\u2019informations sur la liste des jeux de caract\xe8res pris en charge par 4D, reportez-vous \xe0 la description de la commande ",(0,r.jsx)(n.a,{href:"/docs/fr/20-R7/commands/convert-from-text",children:"CONVERT FROM TEXT"}),'. Si une BOM (Byte Order Mark) existe pour le jeu de caract\xe8res, 4D l\u2019ins\xe8re dans le document, sauf si le jeu de caract\xe8res utilis\xe9 contient le suffixe "-no-bom" (ex : "UTF-8-no-bom"). Si vous ne pr\xe9cisez pas de jeu de caract\xe8res, 4D utilise par d\xe9faut le jeu de caract\xe8res "UTF-8" d\xe9fini sans BOM (sauf en mode compatibilit\xe9, voir ',(0,r.jsx)(n.em,{children:"Page Compatibilit\xe9"}),")."]}),"\n",(0,r.jsxs)(n.p,{children:["Vous pouvez passer dans ",(0,r.jsx)(n.em,{children:"modeRetour"}),' un entier long indiquant le traitement \xe0 effectuer sur les caract\xe8res de fin de ligne avant de les stocker dans le fichier. Vous pouvez passer une des constantes suivantes, plac\xe9es dans le th\xe8me "',(0,r.jsx)(n.em,{children:"Documents syst\xe8me"}),'" :']}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Constante"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Valeur"}),(0,r.jsx)(n.th,{children:"Comment"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Document unchanged"}),(0,r.jsx)(n.td,{children:"Entier long"}),(0,r.jsx)(n.td,{children:"0"}),(0,r.jsx)(n.td,{children:"Aucun traitement"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Document with CR"}),(0,r.jsx)(n.td,{children:"Entier long"}),(0,r.jsx)(n.td,{children:"3"}),(0,r.jsxs)(n.td,{children:["Les sauts de ligne sont convertis en CR (",(0,r.jsx)(n.em,{children:"carriage return"}),"), le format Classic Mac OS par d\xe9faut."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Document with CRLF"}),(0,r.jsx)(n.td,{children:"Entier long"}),(0,r.jsx)(n.td,{children:"2"}),(0,r.jsxs)(n.td,{children:["Les sauts de ligne sont convertis en CRLF (",(0,r.jsx)(n.em,{children:"carriage return + line feed"}),"), au format Windows par d\xe9faut."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Document with LF"}),(0,r.jsx)(n.td,{children:"Entier long"}),(0,r.jsx)(n.td,{children:"4"}),(0,r.jsxs)(n.td,{children:["Les sauts de ligne sont convertis en LF (",(0,r.jsx)(n.em,{children:"line feed"}),"), le format Unix et macOS par d\xe9faut."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Document with native format"}),(0,r.jsx)(n.td,{children:"Entier long"}),(0,r.jsx)(n.td,{children:"1"}),(0,r.jsxs)(n.td,{children:["(D\xe9faut) Les sauts de ligne sont convertis au format natif de la plate-forme d\u2019ex\xe9cution : LF ",(0,r.jsx)(n.em,{children:"(line feed)"})," sous macOS, CRLF (",(0,r.jsx)(n.em,{children:"carriage return + line feed"}),") sous Windows"]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Par d\xe9faut, si le param\xe8tre ",(0,r.jsx)(n.em,{children:"modeRetour"})," est omis, les caract\xe8res de fin de ligne sont trait\xe9s en mode natif (1)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note :"})," Cette commande ne modifie pas la variable OK. En cas d\u2019\xe9chec, une erreur est g\xe9n\xe9r\xe9e, que vous pouvez intercepter \xe0 l\u2019aide d\u2019une m\xe9thode install\xe9e par la commande ",(0,r.jsx)(n.a,{href:"/docs/fr/20-R7/commands/on-err-call",children:"ON ERR CALL"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,r.jsx)(n.p,{children:"Voici des exemples type d\u2019utilisation de cette commande :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0TEXT TO DOCUMENT("monTest.txt";"Ceci est un test")\n\xa0TEXT TO DOCUMENT("monTest.xml";"Ceci est un test")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,r.jsx)(n.p,{children:"Exemple permettant \xe0 l\u2019utilisateur de d\xe9signer l\u2019emplacement du fichier \xe0 cr\xe9er :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0$MyTextVar:="Ceci est un test"\n\xa0ON ERR CALL("IO ERROR HANDLER")\n\xa0$vhDocRef :=Create document("")\n\xa0\xa0\xa0\xa0\xa0// Stocker le document avec l\u2019extension ".txt"\n\xa0\xa0\xa0\xa0\xa0// Dans ce cas, l\u2019extension .txt est toujours ajout\xe9e au nom, il n\u2019est pas possible de la modifier\n\xa0If(OK=1)\xa0// Si le document a bien \xe9t\xe9 cr\xe9\xe9\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0CLOSE DOCUMENT($vhDocRef)\xa0//Refermer le document\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0TEXT TO DOCUMENT(Document;$MyTextVar )\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0// On \xe9crit le document\n\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0// Gestion d\u2019erreur\n\xa0End if\n'})}),"\n",(0,r.jsx)(n.h2,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/fr/20-R7/commands/document-to-text",children:"Document to text"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.em,{children:"Documents syst\xe8me"})]}),"\n",(0,r.jsx)(n.h2,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Num\xe9ro de commande"}),(0,r.jsx)(n.td,{children:"1237"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Thread safe"}),(0,r.jsx)(n.td,{children:"\u2713"})]})]})]})]})}function u(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return c},a:function(){return d}});var s=t(667294);let r={},i=s.createContext(r);function d(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);