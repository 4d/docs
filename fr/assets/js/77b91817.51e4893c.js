"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["26470"],{860099:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>o,toc:()=>a,default:()=>h,metadata:()=>r,assets:()=>d,contentTitle:()=>l});var r=JSON.parse('{"id":"aikit/Classes/openaichatcompletionsparameters","title":"OpenAIChatCompletionParameters","description":"La classe OpenAIChatCompletionParameters permet de g\xe9rer les param\xe8tres requis pour les g\xe9n\xe9rations de r\xe9ponses conversationnelles en utilisant l\'API OpenAI.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-21/aikit/Classes/OpenAIChatCompletionsParameters.md","sourceDirName":"aikit/Classes","slug":"/aikit/Classes/openaichatcompletionsparameters","permalink":"/docs/fr/aikit/Classes/openaichatcompletionsparameters","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20aikit%2FClasses%2FOpenAIChatCompletionsParameters.md%20(21)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"21","frontMatter":{"id":"openaichatcompletionsparameters","title":"OpenAIChatCompletionParameters"},"sidebar":"docs","previous":{"title":"OpenAIChatCompletionsMessagesParameters","permalink":"/docs/fr/aikit/Classes/openaichatcompletionsmessagesparameters"},"next":{"title":"OpenAIChatCompletionsResult","permalink":"/docs/fr/aikit/Classes/openaichatcompletionsresult"}}'),t=s(474848),i=s(884429);let o={id:"openaichatcompletionsparameters",title:"OpenAIChatCompletionParameters"},l="OpenAIChatCompletionParameters",d={},a=[{value:"H\xe9rite de",id:"h\xe9rite-de",level:2},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:2},{value:"Propri\xe9t\xe9s du callback asynchrone",id:"propri\xe9t\xe9s-du-callback-asynchrone",level:3},{value:"Format de r\xe9ponse",id:"format-de-r\xe9ponse",level:2},{value:"Types de formats de r\xe9ponse pris en charge",id:"types-de-formats-de-r\xe9ponse-pris-en-charge",level:3},{value:"1. Format texte (par d\xe9faut)",id:"1-format-texte-par-d\xe9faut",level:4},{value:"2. Format d&#39;objet JSON",id:"2-format-dobjet-json",level:4},{value:"3. Format de Sch\xe9ma JSON (Sorties Structur\xe9es)",id:"3-format-de-sch\xe9ma-json-sorties-structur\xe9es",level:4},{value:"Propri\xe9t\xe9s du sch\xe9ma JSON",id:"propri\xe9t\xe9s-du-sch\xe9ma-json",level:3},{value:"Notes importantes",id:"notes-importantes",level:3},{value:"Voir \xe9galement",id:"voir-\xe9galement",level:2}];function c(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"openaichatcompletionparameters",children:"OpenAIChatCompletionParameters"})}),"\n",(0,t.jsxs)(n.p,{children:["La classe ",(0,t.jsx)(n.code,{children:"OpenAIChatCompletionParameters"})," permet de g\xe9rer les param\xe8tres requis pour les g\xe9n\xe9rations de r\xe9ponses conversationnelles en utilisant l'API OpenAI."]}),"\n",(0,t.jsx)(n.h2,{id:"h\xe9rite-de",children:"H\xe9rite de"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/fr/aikit/Classes/openaiparameters",children:"OpenAIParameters"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Propri\xe9t\xe9"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Valeur par d\xe9faut"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"model"})}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'"gpt-4o-mini"'})}),(0,t.jsx)(n.td,{children:"ID du mod\xe8le \xe0 utiliser."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"stream"})}),(0,t.jsx)(n.td,{children:"Boolean"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"False"})}),(0,t.jsx)(n.td,{children:"Indique si la progression partielle doit \xeatre retransmise en continu. Si cette option est activ\xe9e, les tokens seront envoy\xe9s sous forme de donn\xe9es uniquement. Une formule de rappel est requise."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"stream_options"})}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Null"})}),(0,t.jsxs)(n.td,{children:["Propri\xe9t\xe9 pour stream=True. Par exemple : ",(0,t.jsx)(n.code,{children:"{include_usage: True}"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"max_completion_tokens"})}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"0"})}),(0,t.jsx)(n.td,{children:"Le nombre maximum de tokens qui peuvent \xeatre g\xe9n\xe9r\xe9s dans la r\xe9ponse."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"n"})}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"1"})}),(0,t.jsx)(n.td,{children:"Nombre de r\xe9ponses \xe0 g\xe9n\xe9rer pour chaque invite (prompt)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"temperature"})}),(0,t.jsx)(n.td,{children:"Real"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-1"})}),(0,t.jsx)(n.td,{children:"Temp\xe9rature d'\xe9chantillonnage \xe0 utiliser, entre 0 et 2. Les valeurs \xe9lev\xe9es rendent la sortie plus al\xe9atoire, tandis que des valeurs faibles la rendent plus cibl\xe9e et d\xe9terministe."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"store"})}),(0,t.jsx)(n.td,{children:"Boolean"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"False"})}),(0,t.jsx)(n.td,{children:"Stocker ou non le r\xe9sultat de cette requ\xeate de g\xe9n\xe9ration de r\xe9ponse conversationnelle."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"reasoning_effort"})}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Null"})}),(0,t.jsx)(n.td,{children:'Contraintes sur l\'effort de raisonnement pour les mod\xe8les de raisonnement. Les valeurs actuellement prises en charge sont "low", "medium" et "high".'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"response_format"})}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Null"})}),(0,t.jsx)(n.td,{children:"Un objet sp\xe9cifiant le format que le mod\xe8le doit produire. Compatible avec les sorties structur\xe9es."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"tools"})}),(0,t.jsx)(n.td,{children:"Collection"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Null"})}),(0,t.jsxs)(n.td,{children:["Une liste d'outils (",(0,t.jsx)(n.a,{href:"/docs/fr/aikit/Classes/openaitool",children:"OpenAITool"}),') que le mod\xe8le peut appeler. Seul le type "function" est pris en charge.']})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"tool_choice"})}),(0,t.jsx)(n.td,{children:"Variant"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Null"})}),(0,t.jsxs)(n.td,{children:["Contr\xf4le l'outil (le cas \xe9ch\xe9ant) qui est appel\xe9 par le mod\xe8le. Peut \xeatre ",(0,t.jsx)(n.code,{children:'"none"'}),", ",(0,t.jsx)(n.code,{children:'"auto"'}),", ",(0,t.jsx)(n.code,{children:'"required"'}),", ou sp\xe9cifier un outil particulier."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"prediction"})}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Null"})}),(0,t.jsx)(n.td,{children:"Contenu de sortie statique, tel que le contenu d'un fichier texte en cours de r\xe9g\xe9n\xe9ration."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"propri\xe9t\xe9s-du-callback-asynchrone",children:"Propri\xe9t\xe9s du callback asynchrone"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Propri\xe9t\xe9"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"onData"})," (ou ",(0,t.jsx)(n.code,{children:"formula"}),")"]}),(0,t.jsx)(n.td,{children:"4D.Function"}),(0,t.jsx)(n.td,{children:"Une fonction \xe0 appeler de mani\xe8re asynchrone lors de la r\xe9ception d'un bloc de donn\xe9es. Assurez-vous que le process courant ne se termine pas."})]})})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"onData"})," recevra comme argument un ",(0,t.jsx)(n.a,{href:"/docs/fr/aikit/Classes/openaichatcompletionsstreamresult",children:"OpenAIChatCompletionsStreamResult"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Voir ",(0,t.jsx)(n.a,{href:"/docs/fr/aikit/Classes/openaiparameters",children:"OpenAIParameters"})," pour les autres propri\xe9t\xe9s de callback (rappel)."]}),"\n",(0,t.jsx)(n.h2,{id:"format-de-r\xe9ponse",children:"Format de r\xe9ponse"}),"\n",(0,t.jsxs)(n.p,{children:["Le param\xe8tre ",(0,t.jsx)(n.code,{children:"response_format"})," vous permet de sp\xe9cifier le format que le mod\xe8le doit produire. Ceci est particuli\xe8rement utile lorsque vous avez besoin de donn\xe9es structur\xe9es ou que vous voulez vous assurer que la r\xe9ponse suit un format sp\xe9cifique."]}),"\n",(0,t.jsx)(n.h3,{id:"types-de-formats-de-r\xe9ponse-pris-en-charge",children:"Types de formats de r\xe9ponse pris en charge"}),"\n",(0,t.jsx)(n.h4,{id:"1-format-texte-par-d\xe9faut",children:"1. Format texte (par d\xe9faut)"}),"\n",(0,t.jsx)(n.p,{children:"Le format de r\xe9ponse par d\xe9faut renvoie du texte brut :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'var $params := cs.OpenAIChatCompletionsParameters.new({ \\\n    model: "gpt-4o-mini"; \\\n    response_format: {type: "text"} \\\n})\n'})}),"\n",(0,t.jsx)(n.h4,{id:"2-format-dobjet-json",children:"2. Format d'objet JSON"}),"\n",(0,t.jsx)(n.p,{children:"Force le mod\xe8le \xe0 r\xe9pondre avec du JSON valide :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'var $params := cs.OpenAIChatCompletionsParameters.new({ \\\n    model: "gpt-4o-mini"; \\\n    response_format: {type: "json_object"} \\\n})\n\nvar $messages := [ \\\n    cs.OpenAIMessage.new({ \\\n        role: "system"; \\\n        content: "You are a helpful assistant that always responds in JSON format." \\\n    }) \\\n]\n$messages.push({ \\\n    role: "user"; \\\n    content: "Give me information about the number 42 in JSON format with keys \'significance\' and \'facts\'." \\\n})\n\n$result := $client.chat.completions.create($messages; $params)\n'})}),"\n",(0,t.jsx)(n.h4,{id:"3-format-de-sch\xe9ma-json-sorties-structur\xe9es",children:"3. Format de Sch\xe9ma JSON (Sorties Structur\xe9es)"}),"\n",(0,t.jsx)(n.p,{children:"Pour un contr\xf4le pr\xe9cis de la structure JSON, vous pouvez d\xe9finir un sch\xe9ma :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'var $jsonSchema := { \\\n    type: "object"; \\\n    properties: { \\\n        name: {type: "string"}; \\\n        age: {type: "integer"}; \\\n        occupation: {type: "string"}; \\\n        city: {type: "string"} \\\n    }; \\\n    required: ["name"; "age"; "occupation"; "city"]; \\\n    additionalProperties: False \\\n}\n\nvar $params := cs.OpenAIChatCompletionsParameters.new({ \\\n    model: "gpt-4o-mini"; \\\n    response_format: { \\\n        type: "json_schema"; \\\n        json_schema: { \\\n            name: "person_info"; \\\n            description: "Information about a person"; \\\n            schema: $jsonSchema; \\\n            strict: True \\\n        } \\\n    } \\\n})\n\nvar $messages := [{role: "system"; content: "You are a helpful assistant."}]\n$messages.push({ role: "user"; content: "Generate information about a person named John Smith."})\n\n$result := $client.chat.completions.create($messages; $params)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"propri\xe9t\xe9s-du-sch\xe9ma-json",children:"Propri\xe9t\xe9s du sch\xe9ma JSON"}),"\n",(0,t.jsxs)(n.p,{children:["Lorsque vous utilisez le type ",(0,t.jsx)(n.code,{children:"json_schema"}),", vous pouvez sp\xe9cifier :"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"name"})}),": Un nom pour le sch\xe9ma"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"description"})}),": Une description de ce que le sch\xe9ma repr\xe9sente"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"schema"})}),": La d\xe9finition du sch\xe9ma JSON"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"strict"})}),": Si le sch\xe9ma doit \xeatre respect\xe9 de mani\xe8re stricte"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"notes-importantes",children:"Notes importantes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tous les mod\xe8les ne prennent pas en charge les sorties structur\xe9es (json_object ou json_schema) ; il convient donc de v\xe9rifier les capacit\xe9s du mod\xe8le avant de l'utiliser."}),"\n",(0,t.jsxs)(n.li,{children:["Lorsque vous utilisez le format ",(0,t.jsx)(n.code,{children:"json_object"}),", vous devez inclure des instructions dans votre message syst\xe8me pour r\xe9pondre au format JSON"]}),"\n",(0,t.jsxs)(n.li,{children:["Le format ",(0,t.jsx)(n.code,{children:"json_schema"})," offre le plus de contr\xf4le et garantit que la r\xe9ponse correspond exactement \xe0 la structure que vous avez sp\xe9cifi\xe9e"]}),"\n",(0,t.jsx)(n.li,{children:"Les r\xe9ponses JSON non valides entra\xeeneront une erreur lors de l'utilisation des formats JSON"}),"\n",(0,t.jsx)(n.li,{children:"La validation du sch\xe9ma JSON garantit la s\xe9curit\xe9 des types et la pr\xe9sence des champs requis"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"voir-\xe9galement",children:"Voir \xe9galement"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/fr/aikit/Classes/openaichatcompletionsapi",children:"OpenAIChatCompletionsAPI"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},884429:function(e,n,s){s.d(n,{R:()=>o,x:()=>l});var r=s(296540);let t={},i=r.createContext(t);function o(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);