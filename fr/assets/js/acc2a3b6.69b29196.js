"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[58668],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>c});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=u(n),c=a,g=m["".concat(s,".").concat(c)]||m[c]||p[c]||l;return n?r.createElement(g,i(i({ref:t},d),{},{components:n})):r.createElement(g,i({ref:t},d))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var u=2;u<l;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},95829:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>d});n(67294);var r=n(3905);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const i={id:"debugLogFiles",title:"Description des fichiers d'historique"},o=void 0,s={unversionedId:"Debugging/debugLogFiles",id:"version-19-R7/Debugging/debugLogFiles",title:"Description des fichiers d'historique",description:"Les applications 4D peuvent g\xe9n\xe9rer divers fichiers d'historique (ou \"logs\") qui sont utiles pour le d\xe9bogage ou l'optimisation de leur ex\xe9cution. Les fichiers d'historique sont g\xe9n\xe9ralement d\xe9marr\xe9s ou arr\xeat\xe9s via des s\xe9lecteurs des commandes SET DATABASE PARAMETER ou WEB SET OPTION et sont stock\xe9s dans le dossier Logs du projet.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-19-R7/Debugging/debugLogFiles.md",sourceDirName:"Debugging",slug:"/Debugging/debugLogFiles",permalink:"/docs/fr/19-R7/Debugging/debugLogFiles",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20Debugging%2FdebugLogFiles.md%20(19-R7)&body=Please%20enter%20your%20comment%3A",tags:[],version:"19-R7",frontMatter:{id:"debugLogFiles",title:"Description des fichiers d'historique"},sidebar:"docs",previous:{title:"D\xe9bogage depuis des machines distantes",permalink:"/docs/fr/19-R7/Debugging/debugging-remote"},next:{title:"Vue d\u2019ensemble",permalink:"/docs/fr/19-R7/settings/overview"}},u={},d=[{value:"4DRequestsLog.txt",id:"4drequestslogtxt",level:2},{value:"En-t\xeates",id:"en-t\xeates",level:4},{value:"Contenu",id:"contenu",level:4},{value:"4DRequestsLog_ProcessInfo.txt",id:"4drequestslog_processinfotxt",level:2},{value:"En-t\xeates",id:"en-t\xeates-1",level:4},{value:"Contenu",id:"contenu-1",level:4},{value:"HTTPDebugLog.txt",id:"httpdebuglogtxt",level:2},{value:"4DDebugLog.txt (standard)",id:"4ddebuglogtxt-standard",level:2},{value:"4DDebugLog.txt (tabul\xe9)",id:"4ddebuglogtxt-tabul\xe9",level:2},{value:"4DDiagnosticLog.txt",id:"4ddiagnosticlogtxt",level:2},{value:"Activation du fichier",id:"activation-du-fichier",level:3},{value:"4DSMTPLog.txt, 4DPOP3Log.txt, et 4DIMAPLog.txt",id:"4dsmtplogtxt-4dpop3logtxt-et-4dimaplogtxt",level:2},{value:"Contenu",id:"contenu-2",level:4},{value:"Requ\xeates client ORDA",id:"requ\xeates-client-orda",level:2},{value:"Utilisation d&#39;un fichier de configuration de log",id:"utilisation-dun-fichier-de-configuration-de-log",level:2},{value:"Activation du fichier",id:"activation-du-fichier-1",level:3},{value:"Description du fichier JSON",id:"description-du-fichier-json",level:3},{value:"Exemple",id:"exemple",level:3}],p={toc:d};function m(e){var{components:t}=e,i=l(e,["components"]);return(0,r.kt)("wrapper",a({},p,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Les applications 4D peuvent g\xe9n\xe9rer divers fichiers d'historique (ou \"logs\") qui sont utiles pour le d\xe9bogage ou l'optimisation de leur ex\xe9cution. Les fichiers d'historique sont g\xe9n\xe9ralement d\xe9marr\xe9s ou arr\xeat\xe9s via des s\xe9lecteurs des commandes ",(0,r.kt)("a",a({parentName:"p"},{href:"https://doc.4d.com/4dv19/help/command/en/page642.html"}),"SET DATABASE PARAMETER")," ou ",(0,r.kt)("a",a({parentName:"p"},{href:"https://doc.4d.com/4dv19/help/command/en/page1210.html"}),"WEB SET OPTION")," et sont stock\xe9s dans le dossier ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/fr/19-R7/Project/architecture#logs"}),"Logs")," du projet."),(0,r.kt)("p",null,"Les informations de l'historique doivent \xeatre analys\xe9es pour d\xe9tecter et corriger les probl\xe8mes. Cette section fournit une description compl\xe8te des fichiers d'historique suivants :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",a({parentName:"li"},{href:"#4drequestslogtxt"}),"4DRequestsLog.txt")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",a({parentName:"li"},{href:"l#4drequestslog_processinfotxt"}),"4DRequestsLog_ProcessInfo.txt")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",a({parentName:"li"},{href:"#httpdebuglogtxt"}),"HTTPDebugLog.txt")),(0,r.kt)("li",{parentName:"ul"},"4DDebugLog.txt (",(0,r.kt)("a",a({parentName:"li"},{href:"#4ddebuglogtxt-standard"}),"standard")," & ",(0,r.kt)("a",a({parentName:"li"},{href:"#4ddebuglogtxt-tabular"}),"tabular"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",a({parentName:"li"},{href:"#4ddiagnosticlogtxt"}),"4DDiagnosticLog.txt")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",a({parentName:"li"},{href:"#4dsmtplogtxt-4dpop3logtxt-and-4dimaplogtxt"}),"4DIMAPLog.txt")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",a({parentName:"li"},{href:"#4dsmtplogtxt-4dpop3logtxt-and-4dimaplogtxt"}),"4DPOP3Log.txt")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",a({parentName:"li"},{href:"#4dsmtplogtxt-4dpop3logtxt-and-4dimaplogtxt"}),"4DSMTPLog.txt")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",a({parentName:"li"},{href:"#orda-client-requests"}),"Fichier d'historique des requ\xeates ORDA clientes"))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},'Lorsqu\'un fichier d\'historique peut \xeatre g\xe9n\xe9r\xe9 soit sur 4D Server, soit sur le client distant, le mot " Server " est ajout\xe9 au nom du fichier d\'historique c\xf4t\xe9 serveur, par exemple " 4DRequestsLogServer.txt"')),(0,r.kt)("p",null,"Les fichiers de logs partagent certains champs, ce qui vous permet d'\xe9tablir une chronologie et de faire des connexions entre les entr\xe9es lors du debugging :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sequence_number")," : ce num\xe9ro est unique parmi tous les fichiers d'historique de d\xe9bogage et est incr\xe9ment\xe9 \xe0 chaque nouvelle entr\xe9e, quel que soit le fichier d'historique, de mani\xe8re \xe0 ce que vous puissiez conna\xeetre la s\xe9quence exacte des op\xe9rations."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"connection_uuid")," : pour chaque process 4D cr\xe9\xe9 sur un client 4D qui se connecte au serveur, cet UUID de connexion est stock\xe9 \xe0 la fois c\xf4t\xe9 serveur et client. Il vous permet d'identifier facilement le client distant qui a lanc\xe9 le process.")),(0,r.kt)("h2",a({},{id:"4drequestslogtxt"}),"4DRequestsLog.txt"),(0,r.kt)("p",null,"Ce fichier de logs enregistre les requ\xeates standard envoy\xe9es par la machine du 4D Server, ou la machine \xe0 distance qui a ex\xe9cut\xe9 la commande (requ\xeates web exclues)."),(0,r.kt)("p",null,"Pour lancer cet historique :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"sur le serveur :")),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(4D Server log recording;1)\n//c\xf4t\xe9 serveur\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"sur le client :")),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(Client Log Recording;1)\n//c\xf4t\xe9 distant\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Cette instruction d\xe9marre \xe9galement le fichier d'historique ",(0,r.kt)("a",a({parentName:"p"},{href:"#4drequestslog_processinfotxt"}),"4DRequestsLog_ProcessInfo.txt"),".")),(0,r.kt)("h4",a({},{id:"en-t\xeates"}),"En-t\xeates"),(0,r.kt)("p",null,"Ce fichier commence avec les en-t\xeates suivants :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Log Session Identifier (Identifiant de session d'historique)"),(0,r.kt)("li",{parentName:"ul"},"Nom du serveur qui h\xe9berge l'application"),(0,r.kt)("li",{parentName:"ul"},"User Login Name : Nom de l'utilisateur (d\xe9fini dans l'OS) qui a ex\xe9cut\xe9 l'application 4D sur le serveur.")),(0,r.kt)("h4",a({},{id:"contenu"}),"Contenu"),(0,r.kt)("p",null,"Pour chaque requ\xeate, les champs suivants sont enregistr\xe9s :"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Noms des champs"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"sequence_number"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Num\xe9ro d'op\xe9ration s\xe9quentiel et unique dans la session d'historique")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"time"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Date et heure au format ISO 8601 : 'YYYY-MM-DDTHH:MM:SS.mmm'")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"systemid"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID syst\xe8me")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"component"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Signature du composant (par exemple '4SQLS' ou 'dbmg')")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"process","_","info","_","index"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),'Corresponds to the "index" field in 4DRequestsLog_ProcessInfo.txt log, and permits linking a request to a process.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"request"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID de requ\xeate en mode distant cha\xeene de message pour les requ\xeates SQL ou messages ",(0,r.kt)("inlineCode",{parentName:"td"},"LOG EVENT"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"bytes_in"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Nombre d'octets re\xe7us")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"bytes_out"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Nombre d'octets envoy\xe9s")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"server","_","duration ","|"," exec","_","duration"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"D\xe9pend de l'endroit o\xf9 l'historique est g\xe9n\xe9r\xe9 :",(0,r.kt)("li",null,(0,r.kt)("em",{parentName:"td"},"server","_","duration")," lorsqu'il est g\xe9n\xe9r\xe9 sur le client --Temps en microsecondes pris par le serveur pour traiter la requ\xeate et retourner une r\xe9ponse. Correspond au chemin B vers F dans l'image ci-dessous, OU"),(0,r.kt)("li",null,(0,r.kt)("em",{parentName:"td"},"exec","_","duration")," lorsqu'il est g\xe9n\xe9r\xe9 sur le serveur --Temps en microsecondes pris par le serveur pour traiter la requ\xeate. Correspond au chemin B vers F dans l'image ci-dessous."))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"write","_","duration"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Temps en microsecondes pour envoyer :",(0,r.kt)("li",null,"La requ\xeate (lorsqu'elle est ex\xe9cut\xe9e sur le client). Correspond au chemin A vers B dans l'image ci-dessous."),(0,r.kt)("li",null,"La r\xe9ponse (lorsqu'elle est ex\xe9cut\xe9e sur le serveur). Correspond au chemin E vers F dans l'image ci-dessous."))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"task_kind"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Pr\xe9emptif ou coop\xe9ratif (respectivement 'p' ou 'c')")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"rtt"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Temps en microsecondes pris par le client pour envoyer la requ\xeate et pour qu'elle soit re\xe7ue par le serveur. Correspond respectivement aux chemins A vers D et E vers H dans l'image ci-dessous.",(0,r.kt)("li",null,"Mesur\xe9 uniquement lorsque la couche r\xe9seau ServerNet est utilis\xe9e, retourne 0 lorsque l'ancienne couche r\xe9seau est utilis\xe9e."),(0,r.kt)("li",null,"Dans les versions ant\xe9rieures \xe0 Windows 10 ou \xe0 Windows Server 2016, l'appel retournera la valeur 0."))))),(0,r.kt)("p",null,"Acheminement de la requ\xeate :"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(56223).Z,width:"535",height:"378"})),(0,r.kt)("h2",a({},{id:"4drequestslog_processinfotxt"}),"4DRequestsLog_ProcessInfo.txt"),(0,r.kt)("p",null,"Ce fichier de logs enregistre des informations sur chaque process cr\xe9\xe9 sur la machine du 4D Server, ou la machine \xe0 distance qui a ex\xe9cut\xe9 la commande (requ\xeates web exclues)."),(0,r.kt)("p",null,"Pour lancer cet historique :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"sur le serveur :")),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(4D Server log recording;1) //c\xf4t\xe9 serveur\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"sur le client :")),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(Client Log Recording;1) //c\xf4t\xe9 distant\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Cette d\xe9claration d\xe9marre \xe9galement l'historique du fichier ",(0,r.kt)("a",a({parentName:"p"},{href:"#4drequestslogtxt"}),"4DRequestsLog.txt"),".")),(0,r.kt)("h4",a({},{id:"en-t\xeates-1"}),"En-t\xeates"),(0,r.kt)("p",null,"Ce fichier commence avec les en-t\xeates suivants :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Log Session Identifier (Identifiant de session d'historique)"),(0,r.kt)("li",{parentName:"ul"},"Nom du serveur qui h\xe9berge l'application"),(0,r.kt)("li",{parentName:"ul"},"User Login Name : Nom de l'utilisateur (d\xe9fini dans l'OS) qui a ex\xe9cut\xe9 l'application 4D sur le serveur.")),(0,r.kt)("h4",a({},{id:"contenu-1"}),"Contenu"),(0,r.kt)("p",null,"Pour chaque process, les champs suivants sont enregistr\xe9s :"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Noms des champs"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"sequence_number"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Num\xe9ro d'op\xe9ration s\xe9quentiel et unique dans la session d'historique")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"time"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),'Date et heure au format ISO 8601 : "YYYY-MM-DDTHH:MM:SS.mmm"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"process","_","info_index"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Num\xe9ro de process s\xe9quentiel et unique")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"CDB4DBaseContext"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"UUID du contexte de base du composant DB4D")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"systemid"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID syst\xe8me")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"server","_","process","_","id"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID du process sur le serveur")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"remote","_","process","_","id"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID du process sur le client")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"process","_","name"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Nom du process")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"cID"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Identifiant de la connexion 4D")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"uID"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Identifiant du client 4D")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"IP Client"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Addresse IPv4/IPv6 du client")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"host_name"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Nom d'h\xf4te du client")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"user_name"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Nom de connexion utilisateur sur le client")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"connection","_","uuid"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Identifiant UUID de process de connexion")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"server","_","process","_","unique","_","id"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID unique du process sur le serveur")))),(0,r.kt)("h2",a({},{id:"httpdebuglogtxt"}),"HTTPDebugLog.txt"),(0,r.kt)("p",null,"Ce fichier d'historique enregistre chaque requ\xeate HTTP et chaque r\xe9ponse en mode brut (raw). Les requ\xeates sont enregistr\xe9es dans leur totalit\xe9 (en-t\xeates compris). Les parts du body peuvent \xe9galement \xeatre enregistr\xe9es."),(0,r.kt)("p",null,"Pour lancer cet historique :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"}),"\nWEB SET OPTION(Web debug log;wdl enable without body)  \n//d'autres valeurs sont disponibles\n")),(0,r.kt)("p",null,"Les champs suivants sont enregistr\xe9s pour Requ\xeate et R\xe9ponse :"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Noms des champs"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"SocketID"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID du socket utilis\xe9 pour la communication")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"PeerIP"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Adresse IPv4 de l'h\xf4te (client)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"PeerPort"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Port utilis\xe9 par l'h\xf4te (client)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"TimeStamp"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Horodatage en millisecondes (depuis le d\xe9marrage du syst\xe8me)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ConnectionID"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Connexion UUID (UUID du VTCPSocket utilis\xe9 pour la communication)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"SequenceNumber"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Num\xe9ro d'op\xe9ration s\xe9quentiel et unique dans la session d'historique")))),(0,r.kt)("h2",a({},{id:"4ddebuglogtxt-standard"}),"4DDebugLog.txt (standard)"),(0,r.kt)("p",null,"Ce fichier d'historique enregistre chaque \xe9v\xe8nement qui a lieu au niveau de la programmation 4D. Le mode standard offre une vue d'ensemble des \xe9v\xe8nements."),(0,r.kt)("p",null,"Pour lancer cet historique :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(Debug Log Recording;2)  \n//standard, tous les process\n\nSET DATABASE PARAMETER(Current process debug log recording;2)  \n//standard, process courant uniquement\n")),(0,r.kt)("p",null,"Les champs suivants sont enregistr\xe9s pour chaque \xe9v\xe8nement :"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Colonne #"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"1"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Num\xe9ro d'op\xe9ration s\xe9quentiel et unique dans la session d'historique")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"2"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Date et heure au format ISO 8601 (YYYY-MM-DDThh:mm:ss.mmm)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"3"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID process (p=xx) et ID unique process (puid=xx)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"4"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Niveau de stack (pile)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"5"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Peut \xeatre Nom de commande / Nom de m\xe9thode / Message / Info Start Stop task / Nom, \xe9v\xe9nement ou callback plugin / UUID connexion")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"6"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Dur\xe9e de l'op\xe9ration de connexion en millisecondes (diff\xe9rent 2e colonne)")))),(0,r.kt)("h2",a({},{id:"4ddebuglogtxt-tabul\xe9"}),"4DDebugLog.txt (tabul\xe9)"),(0,r.kt)("p",null,"Ce fichier de logs enregistre chaque \xe9v\xe8nement au niveau de la programmation 4D sous un format compact avec des tabulations, qui inclut des informations suppl\xe9mentaires par rapport au format standard."),(0,r.kt)("p",null,"Pour lancer cet historique :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(Debug Log Recording;2+4)  \n//format tabul\xe9 \xe9tendu, tous les process\n\nSET DATABASE PARAMETER(Current process debug log recording;2+4)  \n//\xe9tendu, process courant uniquement\n")),(0,r.kt)("p",null,"Les champs suivants sont enregistr\xe9s pour chaque \xe9v\xe8nement :"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Colonne #"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Noms des champs"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"1"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"sequence_number"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Num\xe9ro d'op\xe9ration s\xe9quentiel et unique dans la session d'historique")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"2"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"time"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Date et heure au format ISO 8601 (YYYY-MM-DDThh:mm:ss.mmm)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"3"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ProcessID"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID du process")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"4"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"unique_processID"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID unique du process")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"5"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"stack_level"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Niveau de stack (pile)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"6"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"operation_type"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Type d'op\xe9ration enregistr\xe9e. Il peut s'agir d'une valeur absolue :",(0,r.kt)("p",null,(0,r.kt)("ol",null,(0,r.kt)("li",null,"Command"),(0,r.kt)("li",null,"M\xe9thode (m\xe9thode projet, m\xe9thode base, etc.)"),(0,r.kt)("li",null,"Message (uniquement envoy\xe9 par la commande ",(0,r.kt)("a",a({parentName:"td"},{href:"https://doc.4d.com/4dv19/help/command/fr/page667.html"}),"LOG EVENT"),")"),(0,r.kt)("li",null,"PluginMessage"),(0,r.kt)("li",null,"PluginEvent"),(0,r.kt)("li",null,"PluginCommand"),(0,r.kt)("li",null,"PluginCallback"),(0,r.kt)("li",null,"Task (Process)"),(0,r.kt)("li",null,"M\xe9thode membre (m\xe9thode attach\xe9e \xe0 une collection ou un objet)"))),"Lors de la fermeture d'un niveau de stack, les colonnes ",(0,r.kt)("inlineCode",{parentName:"td"},"operation_type"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"operation")," et ",(0,r.kt)("inlineCode",{parentName:"td"},"operation_parameters")," ont la m\xeame valeur que le niveau de stack d'ouverture enregistr\xe9 dans la colonne ",(0,r.kt)("inlineCode",{parentName:"td"},"stack_opening_sequence_number"),". Par exemple :",(0,r.kt)("p",null,(0,r.kt)("ol",null,(0,r.kt)("li",null,"121  15:16:50:777  5  8  1  2 CallMethod Parameters 0"),(0,r.kt)("li",null,"122  15:16:50:777  5  8  2  1 283  0"),(0,r.kt)("li",null,"123  15:16:50:777  5  8  2  1 283  0 122 3"),(0,r.kt)("li",null,"124  15:16:50:777  5  8  1  2 CallMethod Parameters 0 121 61"))),"Les 1re et 2e lignes ouvrent un niveau de stack, les 3e et 4e lignes ferment un niveau de stack. Les valeurs des colonnes 6, 7 et 8 sont r\xe9p\xe9t\xe9es dans la ligne du niveau de stack de fermeture. La colonne 10 contient les num\xe9ros de s\xe9quence d'ouverture du niveau de stack, c'est-\xe0-dire 122 pour la 3e ligne et 121 pour la 4e.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"7"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"operation"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Peut repr\xe9senter (en fonction du type d'op\xe9ration) :",(0,r.kt)("li",null,"un ID de commande du langage (lorsque type=1)"),(0,r.kt)("li",null,"un nom de m\xe9thode (lorsque type=2)"),(0,r.kt)("li",null,"une combinaison de pluginIndex;pluginCommand (lorsque type=4, 5, 6 ou 7). Peut contenir des \xe9l\xe9ments tels que '3;2'"),(0,r.kt)("li",null,"un UUID de connexion de process (lorsque type=8)"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"8"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"operation_parameters"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Param\xe8tres pass\xe9s aux commandes, m\xe9thodes ou aux plugins")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"9"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"form_event"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Ev\xe9nement formulaire, le cas \xe9ch\xe9ant ; vide dans les autres cas (par cons\xe9quent cette colonne est utilis\xe9e lorsque le code est ex\xe9cut\xe9 dans une m\xe9thode formulaire ou m\xe9thode objet)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"10"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"stack_opening_sequence_number"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Niveaux de fermeture de stacks uniquement : num\xe9ro de s\xe9quence du niveau d'ouverture de stack correspondant")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"11"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"stack_level_execution_time"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Niveaux de fermeture de stacks uniquement : Dur\xe9e en micro secondes de l'action enregistr\xe9e courante (cf. 10e colonne des lignes 123 et 124 dans l'historique ci-dessus)")))),(0,r.kt)("h2",a({},{id:"4ddiagnosticlogtxt"}),"4DDiagnosticLog.txt"),(0,r.kt)("p",null,"Ce fichier d'historique enregistre de nombreux \xe9v\xe9nements li\xe9s au fonctionnement interne de l'application et est lisible par un humain. Vous pouvez inclure des informations personnalis\xe9es dans ce fichier \xe0 l'aide de la commande ",(0,r.kt)("a",a({parentName:"p"},{href:"https://doc.4d.com/4dv19/help/command/fr/page667.html"}),"LOG EVENT"),"."),(0,r.kt)("p",null,"Pour lancer cet historique :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"})," SET DATABASE PARAMETER(Diagnostic log recording;1) //lancer l'enregistrement\n")),(0,r.kt)("p",null,"Les champs suivants sont enregistr\xe9s pour chaque \xe9v\xe8nement :"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Nom des champs"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"sequenceNumber"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Num\xe9ro d'op\xe9ration s\xe9quentiel et unique dans la session d'historique")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"timestamp"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Date et heure au format ISO 8601 (YYYY-MM-DDThh:mm:ss.mmm)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"loggerID"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Optionnel")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"componentSignature"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Optionnel - signature de composant interne")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"messageLevel"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Info, Attention, Erreur")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"message"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Description de la saisie de journal")))),(0,r.kt)("p",null,"En fonction de l'\xe9v\xe9nement, d'autres champs peuvent \xe9galement \xeatre enregistr\xe9s, tels que task, socket, etc."),(0,r.kt)("h3",a({},{id:"activation-du-fichier"}),"Activation du fichier"),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"4DDiagnosticLog.txt")," file can log different levels of messages, from ",(0,r.kt)("inlineCode",{parentName:"p"},"ERROR")," (most important) to ",(0,r.kt)("inlineCode",{parentName:"p"},"TRACE")," (less important). By default, the ",(0,r.kt)("inlineCode",{parentName:"p"},"INFO")," level is set, which means that the file will log only important events, including errors and unexpected results (see below)."),(0,r.kt)("p",null,"You can select the level of messages using the ",(0,r.kt)("inlineCode",{parentName:"p"},"Diagnostic log level")," selector of the ",(0,r.kt)("a",a({parentName:"p"},{href:"https://doc.4d.com/4dv19/help/command/en/page642.html"}),"SET DATABASE PARAMETER")," command, depending on your needs. When you select a level, levels above (which are more important) are implicitely selected also. The following levels are available:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Colonne #"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Description"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"When selected, includes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ERROR"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Num\xe9ro d'op\xe9ration s\xe9quentiel et unique dans la session d'historique"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ERROR")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"WARN"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Date et heure au format RFC3339 (yyyy-mm-ddThh:mm:ss.ms)"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ERROR, WARN")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"INFO"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID du Process 4D"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ERROR, WARN, INFO")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"DEBUG"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID unique du process"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ERROR, WARN, INFO, DEBUG")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"TRACE"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Other internal information (for 4D technical services)"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ERROR, WARN, INFO, DEBUG, TRACE")))),(0,r.kt)("h2",a({},{id:"4dsmtplogtxt-4dpop3logtxt-et-4dimaplogtxt"}),"4DSMTPLog.txt, 4DPOP3Log.txt, et 4DIMAPLog.txt"),(0,r.kt)("p",null,"Ces fichiers d'historique enregistrent chaque \xe9change entre l'application 4D et le serveur de mail (SMTP, POP3, IMAP) initialis\xe9 par les commandes suivantes :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SMTP - ",(0,r.kt)("a",a({parentName:"li"},{href:"/docs/fr/19-R7/API/SMTPTransporterClass#smtp-new-transporter"}),"SMTP New transporter")),(0,r.kt)("li",{parentName:"ul"},"POP3 - ",(0,r.kt)("a",a({parentName:"li"},{href:"/docs/fr/19-R7/API/POP3TransporterClass#pop3-new-transporter"}),"POP3 New transporter")),(0,r.kt)("li",{parentName:"ul"},"IMAP  - ",(0,r.kt)("a",a({parentName:"li"},{href:"/docs/fr/19-R7/API/IMAPTransporterClass#imap-new-transporter"}),"IMAP New transporter"))),(0,r.kt)("p",null,"Les fichiers d'historique peuvent \xeatre g\xe9n\xe9r\xe9s en deux versions :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"une version classique :"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"fichiers nomm\xe9s 4DSMTPLog.txt, 4DPOP3Log.txt, ou 4DIMAPLog.txt"),(0,r.kt)("li",{parentName:"ul"},"sans pi\xe8ces jointes"),(0,r.kt)("li",{parentName:"ul"},"avec un recyclage automatique tous les 10 MB"),(0,r.kt)("li",{parentName:"ul"},"con\xe7ue pour des fonctions de d\xe9bogage habituelles")),(0,r.kt)("p",{parentName:"li"},"Pour lancer cet historique :"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"}),"SET DATABASE PARAMETER(SMTP Log;1) //start SMTP log\nSET DATABASE PARAMETER(POP3 Log;1) //start POP3 log\nSET DATABASE PARAMETER(IMAP Log;1) //start IMAP log\n")))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"4D Server : Cliquez sur le bouton ",(0,r.kt)("strong",{parentName:"p"},"D\xe9marrer les journaux de requ\xeates et de d\xe9bogage")," dans la ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/fr/19-R7/ServerWindow/maintenance"}),"Page Maintenance")," de la fen\xeatre d'administration de 4D Server.")),(0,r.kt)("p",null,"   Ce chemin d'acc\xe8s au journal est retourn\xe9 par la commande ",(0,r.kt)("inlineCode",{parentName:"p"},"Get 4D file"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"une version \xe9tendue :"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"attachment(s) included no automatic recycling"),(0,r.kt)("li",{parentName:"ul"},"nom personnalis\xe9"),(0,r.kt)("li",{parentName:"ul"},"con\xe7ue \xe0 des fins sp\xe9cifiques")),(0,r.kt)("p",{parentName:"li"},"Pour lancer cet historique :"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"}),'$server:=New object\n...\n//SMTP\n$server.logFile:="MySMTPAuthLog.txt"\n$transporter:=SMTP New transporter($server)\n\n// POP3\n$server.logFile:="MyPOP3AuthLog.txt"\n$transporter:=POP3 New transporter($server)\n\n//IMAP\n$server.logFile:="MyIMAPAuthLog.txt"\n$transporter:=IMAP New transporter($server)\n')))),(0,r.kt)("h4",a({},{id:"contenu-2"}),"Contenu"),(0,r.kt)("p",null,"Pour chaque requ\xeate, les champs suivants sont enregistr\xe9s :"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Colonne #"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"1"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Num\xe9ro d'op\xe9ration s\xe9quentiel et unique dans la session d'historique")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"2"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Date et heure au format RFC3339 (yyyy-mm-ddThh:mm:ss.ms)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"3"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID du Process 4D")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"4"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"ID unique du process")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"5"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),(0,r.kt)("ul",null,(0,r.kt)("li",null,"Informations sur le lancement d'une session SMTP, POP3 ou IMAP, y compris le nom d'h\xf4te du serveur, le num\xe9ro de port TCP utilis\xe9 pour se connecter au serveur SMTP, POP3 ou IMAP et l'\xe9tat TLS, ou"),(0,r.kt)("li",null,"donn\xe9es \xe9chang\xe9es entre le serveur et le client, en commen\xe7ant par \"S <\" (donn\xe9es re\xe7ues depuis le serveur SMTP, POP3 ou IMAP) ou \"C>\" (donn\xe9es envoy\xe9es par le client IMAP) : liste des modes d'authentification envoy\xe9s par le serveur et mode d'authentification s\xe9lectionn\xe9, toute erreur signal\xe9e par le serveur SMTP, POP3 ou IMAP, les informations sur l'en-t\xeate de l'e-mail envoy\xe9 (version standard uniquement) et si l'e-mail est sauvegard\xe9 sur le serveur, ou"),(0,r.kt)("li",null,"Les informations sur la cl\xf4ture de la session IMAP.")))))),(0,r.kt)("h2",a({},{id:"requ\xeates-client-orda"}),"Requ\xeates client ORDA"),(0,r.kt)("p",null,"Ce journal enregistre chaque requ\xeate ORDA envoy\xe9e depuis une machine distante. Vous pouvez diriger les informations du journal vers la m\xe9moire ou vers un fichier sur le disque. Vous pouvez choisir le nom et l'emplacement de ce fichier journal."),(0,r.kt)("p",null,"Pour lancer cet historique :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"}),'//\xe0 ex\xe9cuter sur une machine distante\nds.startRequestLog(File("/PACKAGE/Logs/ordaLog.txt"))  \n//peut aussi \xeatre envoy\xe9 \xe0 la m\xe9moire\n')),(0,r.kt)("p",null,"Si vous souhaitez utiliser le num\xe9ro de s\xe9quence unique dans l'historique de requ\xeates ORDA, vous devez l'activer :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-4d"}),'// \xe0 ex\xe9cuter sur une machine distante\n\nSET DATABASE PARAMETER(Client Log Recording;1)  \n//pour activer la num\xe9rotation automatique de l\'historique\n\nds.startRequestLog(File("/PACKAGE/Logs/ordaLog.txt"))  \n//peut aussi \xeatre envoy\xe9 \xe0 la m\xe9moire\n\nSET DATABASE PARAMETER(Client Log Recording;0)  \n//d\xe9sactive la num\xe9rotation automatique\n')),(0,r.kt)("p",null,"Les champs suivants sont enregistr\xe9s pour chaque requ\xeate :"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Noms des champs"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Description"),(0,r.kt)("th",a({parentName:"tr"},{align:null}),"Exemple"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"sequenceNumber"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Num\xe9ro d'op\xe9ration s\xe9quentiel et unique dans la session d'historique"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"104")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"url"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"URL de la requ\xeate ORDA effectu\xe9e par le poste client"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),'"rest/Persons(30001)"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"startTime"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Date et heure de d\xe9but au format ISO 8601"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),'"2019-05-28T08:25:12.346Z"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"endTime"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Date et heure de fin au format ISO 8601"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),'"2019-05-28T08:25:12.371Z"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"duration"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Dur\xe9e de traitement client (ms)"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"25")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",a({parentName:"tr"},{align:null}),"response"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),"Objet r\xe9ponse du serveur"),(0,r.kt)("td",a({parentName:"tr"},{align:null}),'{"status":200,"body":{"__entityModel":"Persons",',"[","...]}}")))),(0,r.kt)("h2",a({},{id:"utilisation-dun-fichier-de-configuration-de-log"}),"Utilisation d'un fichier de configuration de log"),(0,r.kt)("p",null,"Vous pouvez utiliser un ",(0,r.kt)("strong",{parentName:"p"},"fichier de configuration de log")," pour g\xe9rer facilement l'enregistrement des journaux dans un environnement de production. Ce fichier est pr\xe9configur\xe9 par le d\xe9veloppeur. En g\xe9n\xe9ral, il peut \xeatre envoy\xe9 aux clients pour qu'ils n'aient qu'\xe0 le s\xe9lectionner ou \xe0 le copier dans un dossier local. Une fois activ\xe9, le fichier de configuration de log d\xe9clenche l'enregistrement de journaux sp\xe9cifiques."),(0,r.kt)("h3",a({},{id:"activation-du-fichier-1"}),"Activation du fichier"),(0,r.kt)("p",null,"Il existe plusieurs fa\xe7ons d'activer le fichier de configuration des logs :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Sur le serveur 4D avec interface, vous pouvez ouvrir la page Maintenance et cliquer sur le bouton ",(0,r.kt)("a",a({parentName:"li"},{href:"/docs/fr/19-R7/ServerWindow/maintenance#load-logs-configuration-file"}),"Charger le fichier de configuration des logs, puis s\xe9lectionner le fichier"),". Dans ce cas, vous pouvez utiliser n'importe quel nom pour le fichier de configuration. Il est imm\xe9diatement activ\xe9 sur le serveur."),(0,r.kt)("li",{parentName:"ul"},"Vous pouvez copier le fichier de configuration du journal dans le ",(0,r.kt)("a",a({parentName:"li"},{href:"/docs/fr/19-R7/Project/architecture#settings-1"}),"dossier Settings")," du projet. Dans ce cas, le fichier doit \xeatre nomm\xe9 ",(0,r.kt)("inlineCode",{parentName:"li"},"logConfig.json"),". Il est activ\xe9 au d\xe9marrage du projet (uniquement sur le serveur en client/serveur)."),(0,r.kt)("li",{parentName:"ul"},"Avec une application g\xe9n\xe9r\xe9e, vous pouvez copier le fichier ",(0,r.kt)("inlineCode",{parentName:"li"},"logConfig.json")," dans le dossier suivant :",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Windows : ",(0,r.kt)("inlineCode",{parentName:"li"},"Users\\[userName]\\AppData\\Roaming\\[application]")),(0,r.kt)("li",{parentName:"ul"},"macOS : ",(0,r.kt)("inlineCode",{parentName:"li"},"/Users/[userName]/Library/ApplicationSupport/[application]"))))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"If you want to enable the log configuration file for all projects in stand-alone, server and remote 4D applications, you can copy the ",(0,r.kt)("inlineCode",{parentName:"p"},"logConfig.json")," file in the following folder:"),(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"Windows: ",(0,r.kt)("inlineCode",{parentName:"li"},"Users\\[userName]\\AppData\\Roaming\\4D or \\4D Server")),(0,r.kt)("li",{parentName:"ul"},"macOS: ",(0,r.kt)("inlineCode",{parentName:"li"},"/Users/[userName]/Library/ApplicationSupport/4D or /4D Server")))),(0,r.kt)("h3",a({},{id:"description-du-fichier-json"}),"Description du fichier JSON"),(0,r.kt)("p",null,"Le fichier de configuration de log est un fichier ",(0,r.kt)("inlineCode",{parentName:"p"},".json")," qui peut contenir les propri\xe9t\xe9s suivantes :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-json"}),'{\n    "$schema": "http://json-schema.org/draft-07/schema",\n    "title": "Logs Configuration File",\n    "description": "A file that controls the state of different types of logs in 4D clients and servers",\n    "type": "object",\n    "properties": {\n        "forceLoggingConfiguration": {\n            "description": "Forcing the logs configuration described in the file ingoring changes coming from code or user interface",\n            "type": "boolean",\n            "default": true\n        },\n        "requestLogs": {\n            "description": "Configuration for request logs",\n            "type": "object",\n            "properties": {\n                "clientState": {\n                    "description": "Enable/Disable client request logs (from 0 to N)",\n                    "type": "integer",\n                    "minimum": 0\n                },\n                "serverState": {\n                    "description": "Enable/Disable server request logs (from 0 to N)",\n                    "type": "integer",\n                    "minimum": 0\n                }\n            }\n        },\n        "debugLogs": {\n            "description": "Configuration for debug logs",\n            "type": "object",\n            "properties": {\n                "commandList": {\n                    "description": "Commands to log or not log",\n                    "type": "array",\n                    "items": {\n                        "type": "string"\n                    },\n                    "minItems": 1,\n                    "uniqueItems": true\n                },\n                "state": {\n                    "description": "integer to specify type of debuglog and options",\n\n                    "type": "integer",\n                    "minimum": 0\n                }\n            }\n        },\n        "diagnosticLogs":{\n            "description": "Configuration for debug logs",\n            "type": "object",\n            "properties": {\n                "state":{\n                    "description": "Enable/Disable diagnostic logs 0 or 1 (0 = do not record, 1 = record)",\n                    "type": "integer",\n                    "minimum": 0    \n                },\n                "level": {\n              "description": "Configure diagnostic logs",\n              "type": "integer",\n              "minimum": 2,\n              "maximum": 6\n          }\n            }\n          },\n        "httpDebugLogs": {\n            "description": "Configuration for http debug logs",\n            "type": "object",\n            "properties": {\n                "level": {\n                    "description": "Configure http request logs",\n                    "type": "integer",\n                    "minimum": 0,\n                    "maximum": 7\n                },\n                "state": {\n                    "description": "Enable/Disable recording of web requests",\n                    "type": "integer",\n                    "minimum": 0,\n                    "maximum": 4\n                }\n            }\n        },\n        "POP3Logs": {\n            "description": "Configuration for POP3 logs",\n            "type": "object",\n            "properties": {\n                "state": {\n                    "description": "Enable/Disable POP3 logs (from 0 to N)",\n                    "type": "integer",\n                    "minimum": 0\n                }\n            }\n        },\n        "SMTPLogs": {\n            "description": "Configuration for SMTP logs",\n            "type": "object",\n            "properties": {\n                "state": {\n                    "description": "Enable/Disable SMTP log recording (form 0 to N)",\n                    "type": "integer",\n                    "minimum": 0\n                }\n            }\n        },\n        "IMAPLogs": {\n            "description": "Configuration for IMAP logs",\n            "type": "object",\n            "properties": {\n                "state": {\n                    "description": "Enable/Disable IMAP log recording (form 0 to N)",\n                    "type": "integer"\n                }\n            }\n        },\n        "ORDALogs": {\n            "description": "Configuration for ORDA logs",\n            "type": "object",\n            "properties": {\n                "state": {\n                    "description": "Enable/Disable ORDA logs (0 or 1)",\n                    "type": "integer"\n                },\n                "filename": {\n                    "type": "string"\n                }\n            }\n        }\n    }\n}\n')),(0,r.kt)("h3",a({},{id:"exemple"}),"Exemple"),(0,r.kt)("p",null,"Voici un exemple de fichier de configuration de log :"),(0,r.kt)("pre",null,(0,r.kt)("code",a({parentName:"pre"},{className:"language-json"}),'{\n "forceLoggingConfiguration": false,\n "requestLogs": {\n  "clientState": 1,\n  "serverState": 1\n },\n "debugLogs": {\n  "commandList":["322","311","112"],\n        "state": 4\n },\n "diagnosticLogs":{\n        "state" : 1\n },\n "httpDebugLogs": {\n  "level": 5,\n        "state" : 1\n },\n "POP3Logs": {\n        "state" : 1\n },\n "SMTPLogs": {\n        "state" : 1\n },\n "IMAPLogs": {\n        "state" : 1\n },\n "ORDALogs": {\n        "state" : 1,\n  "filename": "ORDALog.txt"\n }\n}\n')))}m.isMDXComponent=!0},56223:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/logRequestFlow-4d1667b5e86f1ae2bb483f71b5ee3414.PNG"}}]);