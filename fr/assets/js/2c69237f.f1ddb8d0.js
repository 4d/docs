"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[44717],{603905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(667294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=p(n),u=i,h=m["".concat(s,".").concat(u)]||m[u]||c[u]||l;return n?a.createElement(h,r(r({ref:t},d),{},{components:n})):a.createElement(h,r({ref:t},d))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,r=new Array(l);r[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var p=2;p<l;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},305218:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>d});n(667294);var a=n(603905);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const r={id:"transformation-tags",title:"Balises de transformation"},o=void 0,s={unversionedId:"Tags/transformation-tags",id:"version-20-R4/Tags/transformation-tags",title:"Balises de transformation",description:"4D fournit un ensemble de balises de transformation qui vous permettent d'ins\xe9rer des r\xe9f\xe9rences \xe0 des variables ou des expressions 4D, ou d'effectuer diff\xe9rents types de traitement dans un texte source, appel\xe9 \"template\". Ces balises sont interpr\xe9t\xe9es lors de l'ex\xe9cution du texte source et g\xe9n\xe8rent un texte de sortie.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R4/Tags/transformation-tags.md",sourceDirName:"Tags",slug:"/Tags/transformation-tags",permalink:"/docs/fr/20-R4/Tags/transformation-tags",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20Tags%2Ftransformation-tags.md%20(20-R4)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R4",frontMatter:{id:"transformation-tags",title:"Balises de transformation"},sidebar:"docs",previous:{title:"Preemptive Processes",permalink:"/docs/fr/20-R4/Develop/preemptive-processes"},next:{title:"Preferences",permalink:"/docs/fr/20-R4/Preferences/overview"}},p={},d=[{value:"Principes d&#39;utilisation des balises",id:"principes-dutilisation-des-balises",level:2},{value:"Parsing",id:"parsing",level:3},{value:"Traitement r\xe9cursif",id:"traitement-r\xe9cursif",level:3},{value:"Identifiants avec tokens",id:"identifiants-avec-tokens",level:3},{value:"Utilisation du &quot;.&quot; comme s\xe9parateur d\xe9cimal",id:"utilisation-du--comme-s\xe9parateur-d\xe9cimal",level:3},{value:"4DBASE",id:"4dbase",level:2},{value:"Syntax: <code>&lt;!--#4DBASE folderPath--&gt;</code>",id:"syntax---4dbase-folderpath--",level:4},{value:"4DCODE",id:"4dcode",level:2},{value:"Syntax: <code>&lt;!--#4DCODE codeLines--&gt;</code>",id:"syntax---4dcode-codelines--",level:4},{value:"4DEACH et 4DENDEACH",id:"4deach-et-4dendeach",level:2},{value:"Syntax: <code>&lt;!--#4DEACH variable in expression--&gt;</code> <code>&lt;!--#4DENDEACH--&gt;</code>",id:"syntax---4deach-variable-in-expression-----4dendeach--",level:4},{value:"<code>&lt;!--#4DEACH item in collection--&gt;</code>",id:"--4deach-item-in-collection--",level:3},{value:"Exemple avec une collection de valeurs scalaires",id:"exemple-avec-une-collection-de-valeurs-scalaires",level:4},{value:"Exemple avec une collection d&#39;objets",id:"exemple-avec-une-collection-dobjets",level:4},{value:"<code>&lt;!--#4DEACH entity in entitySelection--&gt;</code>",id:"--4deach-entity-in-entityselection--",level:3},{value:"Exemple avec un tableau html",id:"exemple-avec-un-tableau-html",level:4},{value:"Example with <code>PROCESS 4D TAGS</code>",id:"example-with-process-4d-tags",level:4},{value:"<code>&lt;!--#4DEACH property in object--&gt;</code>",id:"--4deach-property-in-object--",level:3},{value:"Example with the properties of an object",id:"example-with-the-properties-of-an-object",level:4},{value:"4DEVAL",id:"4deval",level:2},{value:"Syntax: <code>&lt;!--#4DEVAL expression--&gt;</code>",id:"syntax---4deval-expression--",level:4},{value:"Alternative syntax: <code>$4DEVAL(expression)</code>",id:"alternative-syntax-4devalexpression",level:4},{value:"4DHTML",id:"4dhtml",level:2},{value:"Syntax: <code>&lt;!--#4DHTML expression--&gt;</code>",id:"syntax---4dhtml-expression--",level:4},{value:"Alternative syntax: <code>$4DHTML(expression)</code>",id:"alternative-syntax-4dhtmlexpression",level:4},{value:"4DIF, 4DELSE, 4DELSEIF et 4DENDIF",id:"4dif-4delse-4delseif-et-4dendif",level:2},{value:"Syntax: <code>&lt;!--#4DIF expression--&gt;</code> {<code>&lt;!--#4DELSEIF expression2--&gt;...&lt;!--#4DELSEIF expressionN--&gt;</code>} {<code>&lt;!--#4DELSE--&gt;</code>} <code>&lt;!--#4DENDIF--&gt;</code>",id:"syntax---4dif-expression-----4delseif-expression2----4delseif-expressionn-----4delse-----4dendif--",level:4},{value:"4DINCLUDE",id:"4dinclude",level:2},{value:"Syntax: <code>&lt;!--#4DINCLUDE path--&gt;</code>",id:"syntax---4dinclude-path--",level:4},{value:"4DLOOP et 4DENDLOOP",id:"4dloop-et-4dendloop",level:2},{value:"Syntax: <code>&lt;!--#4DLOOP condition--&gt;</code> <code>&lt;!--#4DENDLOOP--&gt;</code>",id:"syntax---4dloop-condition-----4dendloop--",level:4},{value:"<code>&lt;!--#4DLOOP [table]--&gt;</code>",id:"--4dloop-table--",level:3},{value:"<code>&lt;!--#4DLOOP array--&gt;</code>",id:"--4dloop-array--",level:3},{value:"<code>&lt;!--#4DLOOP method--&gt;</code>",id:"--4dloop-method--",level:3},{value:"<code>&lt;!--#4DLOOP expression--&gt;</code>",id:"--4dloop-expression--",level:3},{value:"<code>&lt;!--#4DLOOP pointerArray--&gt;</code>",id:"--4dloop-pointerarray--",level:3},{value:"4DSCRIPT/",id:"4dscript",level:2},{value:"Syntax: <code>&lt;!--#4DSCRIPT/MethodName/MyParam--&gt;</code>",id:"syntax---4dscriptmethodnamemyparam--",level:4},{value:"4DTEXT",id:"4dtext",level:2},{value:"Syntax: <code>&lt;!--#4DTEXT expression--&gt;</code>",id:"syntax---4dtext-expression--",level:4},{value:"Alternative syntax: <code>$4DTEXT(expression)</code>",id:"alternative-syntax-4dtextexpression",level:4},{value:"Syntaxe alternative pour 4DTEXT, 4DHTML, 4DEVAL",id:"syntaxe-alternative-pour-4dtext-4dhtml-4deval",level:2},{value:"4dtag (expression)",id:"4dtag-expression",level:4},{value:"<code>&lt;!--#4dtag expression--&gt;</code>",id:"--4dtag-expression--",level:4}],c={toc:d};function m(e){var{components:t}=e,n=l(e,["components"]);return(0,a.kt)("wrapper",i({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"4D fournit un ensemble de balises de transformation qui vous permettent d'ins\xe9rer des r\xe9f\xe9rences \xe0 des variables ou des expressions 4D, ou d'effectuer diff\xe9rents types de traitement dans un texte source, appel\xe9 \"template\". Ces balises sont interpr\xe9t\xe9es lors de l'ex\xe9cution du texte source et g\xe9n\xe8rent un texte de sortie."),(0,a.kt)("p",null,"This principle is used in particular by the 4D Web server to build ",(0,a.kt)("a",i({parentName:"p"},{href:"/docs/fr/20-R4/WebServer/templates"}),"web template pages"),"."),(0,a.kt)("p",null,"These tags are generally to be inserted as HTML type comments (",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#Tag Contents--\x3e"),") but an ",(0,a.kt)("a",i({parentName:"p"},{href:"#alternative-syntax-for-4dtext-4dhtml-4deval"}),"xml-compliant alternative syntax")," is available for some of them."),(0,a.kt)("p",null,"Il est possible de combiner plusieurs types de balises. Par exemple, la structure HTML suivante est tout \xe0 fait envisageable :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"<HTML>\n<BODY>\n\x3c!--#4DSCRIPT/PRE_PROCESS--\x3e   (Method call)\n\x3c!--#4DIF (myvar=1)--\x3e   (If condition)\n   \x3c!--#4DINCLUDE banner1.html--\x3e   (Subpage insertion)\n\x3c!--#4DENDIF--\x3e   (End if)\n\x3c!--#4DIF (mtvar=2)--\x3e\n   \x3c!--#4DINCLUDE banner2.html--\x3e\n\x3c!--#4DENDIF--\x3e\n\n\x3c!--#4DLOOP [TABLE]--\x3e   (Loop on the current selection)\n\x3c!--#4DIF ([TABLE]ValNum>10)--\x3e   (If [TABLE]ValNum>10)\n   \x3c!--#4DINCLUDE subpage.html--\x3e   (Subpage insertion)\n\x3c!--#4DELSE--\x3e   (Else)\n   <B>Value: \x3c!--#4DTEXT [TABLE]ValNum--\x3e</B><br/>   (Field display)\n\x3c!--#4DENDIF--\x3e\n\x3c!--#4DENDLOOP--\x3e   ](End for)\n</BODY>\n</HTML>\n")),(0,a.kt)("h2",i({},{id:"principes-dutilisation-des-balises"}),"Principes d'utilisation des balises"),(0,a.kt)("h3",i({},{id:"parsing"}),"Parsing"),(0,a.kt)("p",null,"Parsing the contents of a ",(0,a.kt)("em",{parentName:"p"},"template")," source is done in two contexts:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Using the ",(0,a.kt)("inlineCode",{parentName:"p"},"PROCESS 4D TAGS")," command; this command accepts a ",(0,a.kt)("em",{parentName:"p"},"template")," as input, as well as optional parameters and returns a text resulting from the processing.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Using 4D's integrated HTTP server: ",(0,a.kt)("a",i({parentName:"p"},{href:"/docs/fr/20-R4/WebServer/templates"}),"template pages")," sent by means of the ",(0,a.kt)("inlineCode",{parentName:"p"},"WEB SEND FILE")," (.htm, .html, .shtm, .shtml), ",(0,a.kt)("inlineCode",{parentName:"p"},"WEB SEND BLOB")," (text/html type BLOB), ",(0,a.kt)("inlineCode",{parentName:"p"},"WEB SEND TEXT"),' commands, or called using URLs. Dans ce dernier cas, \xe0 des fins d\'optimisation, les pages suffix\xe9es par ".htm" et ".html" ne sont PAS pars\xe9es. In order to parse HTML pages in this case, you must add the suffix \u201c.shtm\u201d or \u201c.shtml\u201d (for example, ',(0,a.kt)("a",i({parentName:"p"},{href:"http://www.server.com/dir/page.shtm"}),"http://www.server.com/dir/page.shtm"),")."))),(0,a.kt)("h3",i({},{id:"traitement-r\xe9cursif"}),"Traitement r\xe9cursif"),(0,a.kt)("p",null,"Les balises 4D sont interpr\xe9t\xe9es de mani\xe8re r\xe9cursive : 4D tente toujours de r\xe9interpr\xe9ter le r\xe9sultat d'une transformation et, si une nouvelle transformation a eu lieu, une interpr\xe9tation suppl\xe9mentaire est effectu\xe9e, et ainsi de suite jusqu'\xe0 ce que le produit obtenu ne n\xe9cessite plus aucune transformation. Par exemple, \xe9tant donn\xe9 l'\xe9nonc\xe9 suivant :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DHTML [Mail]Letter_type--\x3e\n")),(0,a.kt)("p",null,"If the ",(0,a.kt)("inlineCode",{parentName:"p"},"[Mail]Letter_type")," text field itself contains a tag, for example ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DSCRIPT/m_Gender--\x3e"),", this tag will be evaluated recursively after the interpretation of the 4DHTML tag."),(0,a.kt)("p",null,"Ce principe puissant r\xe9pond \xe0 la plupart des besoins li\xe9s \xe0 la transformation des textes. Note, however, that in some cases this can also allow malicious code to be inserted in the web context, ",(0,a.kt)("a",i({parentName:"p"},{href:"/docs/fr/20-R4/WebServer/templates#prevention-of-malicious-code-insertion"}),"which can be avoided"),"."),(0,a.kt)("h3",i({},{id:"identifiants-avec-tokens"}),"Identifiants avec tokens"),(0,a.kt)("p",null,"Pour garantir l'\xe9valuation correcte des expressions trait\xe9es via les balises, quel que soit le langage ou la version de 4D, il est recommand\xe9 d'utiliser la syntaxe tokenis\xe9e pour les \xe9l\xe9ments dont le nom peut varier selon les versions (commandes, tables, champs, constantes). For example, to insert the ",(0,a.kt)("inlineCode",{parentName:"p"},"Current time")," command, enter ",(0,a.kt)("inlineCode",{parentName:"p"},"Current time:C178"),"."),(0,a.kt)("h3",i({},{id:"utilisation-du--comme-s\xe9parateur-d\xe9cimal"}),'Utilisation du "." comme s\xe9parateur d\xe9cimal'),(0,a.kt)("p",null,"4D always uses the period character (.) as a decimal separator when evaluating a numerical expression using a 4D tag ",(0,a.kt)("inlineCode",{parentName:"p"},"4DTEXT"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"4DHTML"),", and ",(0,a.kt)("inlineCode",{parentName:"p"},"4DEVAL"),". Les param\xe8tres r\xe9gionaux sont ignor\xe9s. Cette fonctionnalit\xe9 facilite la maintenance du code et la compatibilit\xe9 entre les langues et les versions de 4D."),(0,a.kt)("h2",i({},{id:"4dbase"}),"4DBASE"),(0,a.kt)("h4",i({},{id:"syntax---4dbase-folderpath--"}),"Syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DBASE folderPath--\x3e")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," tag designates the working directory to be used by the ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE--\x3e")," tag."),(0,a.kt)("p",null,"When it is called in a Web page, the ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," tag modifies all subsequent ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE--\x3e")," calls on this page, until the next ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--........--\x3e"),", if any. If the",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," folder is modified from within an included file, it retrieves its original value from the parent file."),(0,a.kt)("p",null,"The ",(0,a.kt)("em",{parentName:"p"},"folderPath")," parameter must contain a pathname relative to the current page and it must end with a slash (",(0,a.kt)("inlineCode",{parentName:"p"},"/"),"). Le dossier d\xe9sign\xe9 doit \xeatre situ\xe9 \xe0 l'int\xe9rieur du dossier Web."),(0,a.kt)("p",null,'Passez le mot-cl\xe9 "WEBFOLDER" pour r\xe9tablir le chemin par d\xe9faut (relatif \xe0 la page).'),(0,a.kt)("p",null,"Le code suivant, qui doit sp\xe9cifier un chemin relatif pour chaque appel :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage1.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage2.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage3.html--\x3e\n\x3c!--#4DINCLUDE ../folder/subpage.html--\x3e\n")),(0,a.kt)("p",null,"... is equivalent to:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DBASE folder/--\x3e\n\x3c!--#4DINCLUDE subpage1.html--\x3e\n\x3c!--#4DINCLUDE subpage2.html--\x3e\n\x3c!--#4DINCLUDE subpage3.html--\x3e\n\x3c!--#4DBASE ../folder/--\x3e\n\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DBASE WEBFOLDER--\x3e\n")),(0,a.kt)("p",null,"Par exemple, pour d\xe9finir un r\xe9pertoire pour la page d'accueil :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"/* Index.html */\n\x3c!--#4DIF LangFR=True--\x3e\n    \x3c!--#4DBASE FR/--\x3e\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DBASE US/--\x3e\n\x3c!--#4DENDIF--\x3e\n\x3c!--#4DINCLUDE head.html--\x3e\n\x3c!--#4DINCLUDE body.html--\x3e\n\x3c!--#4DINCLUDE footer.html--\x3e\n")),(0,a.kt)("p",null,'In the "head.html" file, the current folder is modified through ',(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e"),', without this changing its value in "Index.html":'),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"/* Head.htm */\n/* the working directory here is relative to the included file (FR/ or US/) */\n\x3c!--#4DBASE Styles/--\x3e\n\x3c!--#4DINCLUDE main.css--\x3e\n\x3c!--#4DINCLUDE product.css--\x3e\n\x3c!--#4DBASE Scripts/--\x3e\n\x3c!--#4DINCLUDE main.js--\x3e\n\x3c!--#4DINCLUDE product.js--\x3e\n")),(0,a.kt)("h2",i({},{id:"4dcode"}),"4DCODE"),(0,a.kt)("h4",i({},{id:"syntax---4dcode-codelines--"}),"Syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DCODE codeLines--\x3e")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"4DCODE")," tag allows you to insert a multi-line 4D code block in a template."),(0,a.kt)("p",null,"When a ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DCODE")," sequence is detected that is followed by a space, a CR or a LF character, 4D interprets all the lines of code up to the next ",(0,a.kt)("inlineCode",{parentName:"p"},"--\x3e")," sequence. Le bloc de code lui-m\xeame peut contenir des retours chariot, des sauts de ligne ou les deux ; il sera interpr\xe9t\xe9 s\xe9quentiellement par 4D."),(0,a.kt)("p",null,"Par exemple, vous pouvez \xe9crire dans un template :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),'\x3c!--#4DCODE\n//PARAMETERS initialization\nC_OBJECT:C1216($graphParameters)\nOB SET:C1220($graphParameters;"graphType";1)\n$graphType:=1\n//...your code here\nIf(OB Is defined:C1231($graphParameters;"graphType"))\n    $graphType:=OB GET:C1224($graphParameters;"graphType")\n    If($graphType=7)\n        $nbSeries:=1\n        If($nbValues>8)\n            DELETE FROM ARRAY:C228 ($yValuesArrPtr{1}->;9;100000)\n            $nbValues:=8\n        End if\n    End if\nEnd if\n--\x3e\n')),(0,a.kt)("p",null,"Voici les caract\xe9ristiques de la balise 4DCODE :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The ",(0,a.kt)("inlineCode",{parentName:"li"},"TRACE")," command is supported and activates the 4D debugger, thus allowing you to debug your template code."),(0,a.kt)("li",{parentName:"ul"},"Toute erreur affichera le dialogue d'erreur standard qui permet \xe0 l'utilisateur d'arr\xeater l'ex\xe9cution du code ou d'entrer en mode d\xe9bogage."),(0,a.kt)("li",{parentName:"ul"},"The text in between ",(0,a.kt)("inlineCode",{parentName:"li"},"\x3c!--#4DCODE")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"--\x3e")," is split into lines accepting any line-ending convention (cr, lf, or crlf)."),(0,a.kt)("li",{parentName:"ul"},"The text is tokenized within the context of the database that called ",(0,a.kt)("inlineCode",{parentName:"li"},"PROCESS 4D TAGS"),". Ceci est important pour la reconnaissance des m\xe9thodes de projet par exemple. The ",(0,a.kt)("a",i({parentName:"li"},{href:"/docs/fr/20-R4/WebServer/allowProject"}),"Available through tags and 4D URLs (4DACTION ...)")," method property is not taken into account."),(0,a.kt)("li",{parentName:"ul"},"M\xeame si le texte utilise toujours l'anglais-US, il est recommand\xe9 d'utiliser la syntaxe token (:Cxxx) pour les noms de commandes et de constantes afin de se pr\xe9munir contre d'\xe9ventuels probl\xe8mes dus \xe0 des commandes ou des constantes renomm\xe9es d'une version de 4D \xe0 une autre.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Le fait que les balises 4DCODE puissent appeler n'importe quelle commande du langage 4D ou m\xe9thode du projet pourrait \xeatre consid\xe9r\xe9 comme un probl\xe8me de s\xe9curit\xe9, en particulier lorsque la base de donn\xe9es est disponible via HTTP. Toutefois, \xe9tant donn\xe9 qu'elle ex\xe9cute du code c\xf4t\xe9 serveur appel\xe9 \xe0 partir de vos propres fichiers de mod\xe8le, la balise elle-m\xeame ne repr\xe9sente pas un probl\xe8me de s\xe9curit\xe9. Dans ce contexte, comme pour tout serveur Web, la s\xe9curit\xe9 est principalement g\xe9r\xe9e au niveau des acc\xe8s distants aux fichiers du serveur.")),(0,a.kt)("h2",i({},{id:"4deach-et-4dendeach"}),"4DEACH et 4DENDEACH"),(0,a.kt)("h4",i({},{id:"syntax---4deach-variable-in-expression-----4dendeach--"}),"Syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DEACH variable in expression--\x3e")," ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DENDEACH--\x3e")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH--\x3e")," comment allows iterating a specified item over all values of the ",(0,a.kt)("em",{parentName:"p"},"expression"),". The item is set to a ",(0,a.kt)("em",{parentName:"p"},"variable")," whose type depends on the ",(0,a.kt)("em",{parentName:"p"},"expression")," type."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH--\x3e")," comment can iterate through three expression types:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",i({parentName:"li"},{href:"#--4deach-item-in-collection--"}),"collections"),": loop through each element of the collection,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",i({parentName:"li"},{href:"#--4deach-entity-in-entityselection--"}),"entity selections"),": loop through each entity,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",i({parentName:"li"},{href:"#--4deach-property-in-object--"}),"objects"),": loop through each object property.")),(0,a.kt)("p",null,"Le nombre d'it\xe9rations est \xe9valu\xe9 au d\xe9marrage et ne changera pas pendant le traitement. L'ajout ou la suppression d'\xe9l\xe9ments pendant la boucle est donc d\xe9conseill\xe9 car il pourra en r\xe9sulter une redondance ou un manque d'it\xe9rations."),(0,a.kt)("h3",i({},{id:"--4deach-item-in-collection--"}),(0,a.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DEACH item in collection--\x3e")),(0,a.kt)("p",null,"This syntax iterates on each ",(0,a.kt)("em",{parentName:"p"},"item")," of the ",(0,a.kt)("em",{parentName:"p"},"collection"),". The code portion located between ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH --\x3e")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDEACH--\x3e")," is repeated for each collection element."),(0,a.kt)("p",null,"The ",(0,a.kt)("em",{parentName:"p"},"item")," parameter is a variable of the same type as the collection elements."),(0,a.kt)("p",null,"The collection must contain only ",(0,a.kt)("strong",{parentName:"p"},"elements of the same type"),", otherwise an error is returned as soon as the ",(0,a.kt)("em",{parentName:"p"},"item")," variable is assigned the first mismatched value type."),(0,a.kt)("p",null,"Le nombre de boucles est bas\xe9 sur le nombre d'\xe9l\xe9ments de la collection. At each iteration, the ",(0,a.kt)("em",{parentName:"p"},"item")," variable is automatically filled with the matching element of the collection. Vous devez tenir compte des points suivants :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If the ",(0,a.kt)("em",{parentName:"li"},"item")," variable is of the object type or collection type (i.e. if ",(0,a.kt)("em",{parentName:"li"},"expression")," is a collection of objects or of collections), modifying this variable will automatically modify the matching element of the collection (because objects and collections share the same references). Si la variable est de type scalaire, seule la variable sera modifi\xe9e."),(0,a.kt)("li",{parentName:"ul"},"The ",(0,a.kt)("em",{parentName:"li"},"item")," variable gets the same type as the first collection element. If any collection item is not of the same type as the variable, an error is generated and the loop stops."),(0,a.kt)("li",{parentName:"ul"},"If the collection contains elements with a Null value, an error is generated if the ",(0,a.kt)("em",{parentName:"li"},"item")," variable type does not support Null values (such as longint variables).")),(0,a.kt)("h4",i({},{id:"exemple-avec-une-collection-de-valeurs-scalaires"}),"Exemple avec une collection de valeurs scalaires"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"getNames"),' returns a collection of strings. The method has been declared as "',(0,a.kt)("a",i({parentName:"p"},{href:"/docs/fr/20-R4/WebServer/allowProject"}),"available through 4D tags and URLs"),'".'),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),' <table class="table">    \n\n        <tr><th>Name</th></tr>\n\n          \x3c!--#4DEACH $name in getNames--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $name--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,a.kt)("h4",i({},{id:"exemple-avec-une-collection-dobjets"}),"Exemple avec une collection d'objets"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"getSalesPersons")," returns a collection of objects."),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),'    <table class="table">    \n         \x3c!--#4DCODE\n            $salePersons:=getSalesPersons\n          --\x3e          \n       <tr><th>ID</th><th>Firstname</th><th>Lastname</th></tr>\n\n          \x3c!--#4DEACH $salesPerson in $salePersons--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $salesPerson.ID--\x3e</td>\n            <td>\x3c!--#4DTEXT $salesPerson.firstname--\x3e</td>\n            <td>\x3c!--#4DTEXT $salesPerson.lastname--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,a.kt)("h3",i({},{id:"--4deach-entity-in-entityselection--"}),(0,a.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DEACH entity in entitySelection--\x3e")),(0,a.kt)("p",null,"This syntax iterates on each ",(0,a.kt)("em",{parentName:"p"},"entity")," of the ",(0,a.kt)("em",{parentName:"p"},"entitySelection"),". The code portion located between ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH --\x3e")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDEACH--\x3e")," is repeated for each entity of the entity selection."),(0,a.kt)("p",null,"The ",(0,a.kt)("em",{parentName:"p"},"entity")," parameter is an object variable of the entity selection class."),(0,a.kt)("p",null,"Le nombre de boucles est bas\xe9 sur le nombre d'entities pr\xe9sentes dans l'entity selection. At each iteration, the ",(0,a.kt)("em",{parentName:"p"},"entity")," object variable is automatically filled with the matching entity of the entity selection."),(0,a.kt)("h4",i({},{id:"exemple-avec-un-tableau-html"}),"Exemple avec un tableau html"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),'    <table class="table">     \n\n        <tr><th>ID</th><th>Name</th><th>Total purchase</th></tr>\n\n          \x3c!--#4DEACH $customer in ds.Customers.all()--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $customer.ID--\x3e</td>\n            <td>\x3c!--#4DTEXT $customer.name--\x3e</td>\n            <td><center>\x3c!--#4DTEXT String($customer.totalPurchase;"$###,##0")--\x3e</center></td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,a.kt)("h4",i({},{id:"example-with-process-4d-tags"}),"Example with ",(0,a.kt)("inlineCode",{parentName:"h4"},"PROCESS 4D TAGS")),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'var customers : cs.CustomersSelection\nvar $input; $output : Text\n\ncustomers:=ds.Customers.all()\n$input:="\x3c!--#4DEACH $cust in customers--\x3e"\n$input:=$input+"\x3c!--#4DTEXT $cust.name --\x3e"+Char(Carriage return)\n$input:=$input+"\x3c!--#4DENDEACH--\x3e"\nPROCESS 4D TAGS($input; $output)\nTEXT TO DOCUMENT("customers.txt"; $output)\n')),(0,a.kt)("h3",i({},{id:"--4deach-property-in-object--"}),(0,a.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DEACH property in object--\x3e")),(0,a.kt)("p",null,"This syntax iterates on each ",(0,a.kt)("em",{parentName:"p"},"property")," of the ",(0,a.kt)("em",{parentName:"p"},"object"),". The code portion located between ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH --\x3e")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDEACH--\x3e")," is repeated for each property of the object."),(0,a.kt)("p",null,"The ",(0,a.kt)("em",{parentName:"p"},"property")," parameter is a text variable automatically filled with the name of the currently processed property."),(0,a.kt)("p",null,"The properties of the object are processed according to their creation order. Pendant la boucle, il est possible d'ajouter ou de supprimer des propri\xe9t\xe9s dans l'objet, sans pour autant modifier le nombre de boucles qui reste bas\xe9 sur le nombre de propri\xe9t\xe9s initial de l'objet."),(0,a.kt)("h4",i({},{id:"example-with-the-properties-of-an-object"}),"Example with the properties of an object"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"getGamers"),' is a project method that returns an object like ("Mary"; 10; "Ann"; 20; "John"; 40) to figure gamer scores.'),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),'    <table class="table">    \n          \x3c!--#4DCODE\n           $gamers:=getGamers\n          --\x3e          \n\n        <tr><th>Gamers</th><th>Scores</th></tr>\n\n          \x3c!--#4DEACH $key in $gamers--\x3e\n        <tr>\n            <td >\x3c!--#4DTEXT $key--\x3e</td>\n            <td >\x3c!--#4DTEXT $gamers[$key]--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,a.kt)("h2",i({},{id:"4deval"}),"4DEVAL"),(0,a.kt)("h4",i({},{id:"syntax---4deval-expression--"}),"Syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DEVAL expression--\x3e")),(0,a.kt)("h4",i({},{id:"alternative-syntax-4devalexpression"}),"Alternative syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"$4DEVAL(expression)")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"4DEVAL")," tag allows you to assess a 4D variable or expression. Like the ",(0,a.kt)("a",i({parentName:"p"},{href:"#4dhtml"}),(0,a.kt)("inlineCode",{parentName:"a"},"4DHTML"))," tag, ",(0,a.kt)("inlineCode",{parentName:"p"},"4DEVAL")," does not escape HTML characters when returning text. However, unlike ",(0,a.kt)("inlineCode",{parentName:"p"},"4DHTML")," or ",(0,a.kt)("a",i({parentName:"p"},{href:"#4dtext"}),(0,a.kt)("inlineCode",{parentName:"a"},"4DTEXT")),", ",(0,a.kt)("inlineCode",{parentName:"p"},"4DEVAL")," allows you to execute any valid 4D statement, including assignments and expressions that do not return any value."),(0,a.kt)("p",null,"For example, you can execute:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{}),' $input:="\x3c!--#4DEVAL a:=42--\x3e" //assignment\n $input:=$input+"\x3c!--#4DEVAL a+1--\x3e" //calculation\n PROCESS 4D TAGS($input;$output)\n  //$output = "43"\n')),(0,a.kt)("p",null,"In case of an error during interpretation, the text inserted will be in the form: ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEVAL expr--\x3e: ## error # error code"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"For security reasons, it is recommended to use the ",(0,a.kt)("a",i({parentName:"p"},{href:"#4dtext"}),(0,a.kt)("inlineCode",{parentName:"a"},"4DTEXT"))," tag when processing data introduced from outside the application, in order to prevent the ",(0,a.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"insertion of malicious code"),".")),(0,a.kt)("h2",i({},{id:"4dhtml"}),"4DHTML"),(0,a.kt)("h4",i({},{id:"syntax---4dhtml-expression--"}),"Syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DHTML expression--\x3e")),(0,a.kt)("h4",i({},{id:"alternative-syntax-4dhtmlexpression"}),"Alternative syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"$4DHTML(expression)")),(0,a.kt)("p",null,"Just like the ",(0,a.kt)("inlineCode",{parentName:"p"},"4DTEXT")," tag, this tag lets you assess a 4D variable or expression that returns a value, and insert it as an HTML expression. Unlike the ",(0,a.kt)("inlineCode",{parentName:"p"},"4DTEXT"),' tag, this tag does not escape HTML special characters (e.g. ">").'),(0,a.kt)("p",null,"For example, here are the processing results of the 4D text variable myvar with the available tags:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"myvar Value"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Tags"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"R\xe9sultat"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},'myvar:="<B>"')),(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"\x3c!--#4DTEXT myvar--\x3e")),(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"&amp;lt;B&amp;gt;"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},'myvar:="<B>"')),(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"\x3c!--#4DHTML myvar--\x3e")),(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"<B>"))))),(0,a.kt)("p",null,"In case of an interpretation error, the inserted text will be ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DHTML myvar--\x3e : ## error # error code"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"For security reasons, it is recommended to use the ",(0,a.kt)("a",i({parentName:"p"},{href:"#4dtext"}),(0,a.kt)("inlineCode",{parentName:"a"},"4DTEXT"))," tag when processing data introduced from outside the application, in order to prevent the ",(0,a.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"insertion of malicious code"),".")),(0,a.kt)("h2",i({},{id:"4dif-4delse-4delseif-et-4dendif"}),"4DIF, 4DELSE, 4DELSEIF et 4DENDIF"),(0,a.kt)("h4",i({},{id:"syntax---4dif-expression-----4delseif-expression2----4delseif-expressionn-----4delse-----4dendif--"}),"Syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DIF expression--\x3e")," {",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DELSEIF expression2--\x3e...\x3c!--#4DELSEIF expressionN--\x3e"),"} {",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DELSE--\x3e"),"} ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DENDIF--\x3e")),(0,a.kt)("p",null,"Used with the ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSEIF--\x3e")," (optional), ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e")," (optional) and ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e")," comments, the ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e")," comment offers the possibility to execute portions of code conditionally."),(0,a.kt)("p",null,"The ",(0,a.kt)("em",{parentName:"p"},"expression")," parameter can contain any valid 4D expression returning a Boolean value. It must be indicated within parenthesis and comply with the 4D syntax rules."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e")," ... ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e")," blocks can be nested in several levels. Like in 4D, each ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e")," must match a ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e"),"."),(0,a.kt)("p",null,'In case of an interpretation error, the text "',(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e"),': A Boolean expression was expected" is inserted instead of the contents located between ',(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF --\x3e")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e"),". Likewise, if there are not as many ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e")," as ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF --\x3e"),', the text "',(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e"),': 4DENDIF expected" is inserted instead of the contents located between ',(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF --\x3e")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e"),"."),(0,a.kt)("p",null,"Using the ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSEIF--\x3e")," tag, you can test an unlimited number of conditions. Only the code that follows the first condition evaluated as ",(0,a.kt)("inlineCode",{parentName:"p"},"True")," is executed. If no conditions are true, no statement is executed (if there is no final ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e"),").\nYou can use a ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e")," tag after the last ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSEIF--\x3e"),". If all the conditions are false, the statements following the ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e")," are executed."),(0,a.kt)("p",null,"The two following codes are equivalent."),(0,a.kt)("p",null,"Code using ",(0,a.kt)("inlineCode",{parentName:"p"},"4DELSE")," only:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DIF Condition1--\x3e\n  /* Condition1 is true*/\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DIF Condition2--\x3e\n        /* Condition2 is true*/\n    \x3c!--#4DELSE--\x3e\n        \x3c!--#4DIF Condition3--\x3e\n            /* Condition3 is true */\n        \x3c!--#4DELSE--\x3e\n            /*None of the conditions are true*/\n        \x3c!--#4DENDIF--\x3e\n    \x3c!--#4DENDIF--\x3e\n\x3c!--#4DENDIF--\x3e\n")),(0,a.kt)("p",null,"Similar code using the ",(0,a.kt)("inlineCode",{parentName:"p"},"4DELSEIF")," tag:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{}),"\x3c!--#4DIF Condition1--\x3e\n     /* Condition1 is true*/\n\x3c!--#4DELSEIF Condition2--\x3e\n     /* Condition2 is true*/\n\x3c!--#4DELSEIF Condition3--\x3e\n    /* Condition3 is true */\n\x3c!--#4DELSE--\x3e\n    /* None of the conditions are true*/\n\x3c!--#4DENDIF--\x3e\n")),(0,a.kt)("p",null,"This example of code inserted in a static HTML page displays a different label according the ",(0,a.kt)("inlineCode",{parentName:"p"},'vname#""')," expression result:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),'<BODY>\n...\n\x3c!--#4DIF (vname#"")--\x3e\nNames starting with \x3c!--#4DTEXT vname--\x3e.\n\x3c!--#4DELSE--\x3e\nNo name has been found.\n\x3c!--#4DENDIF--\x3e\n...\n</BODY>\n')),(0,a.kt)("p",null,"This example inserts different pages depending on which user is connected:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),'\x3c!--#4DIF LoggedIn=False--\x3e\n    \x3c!--#4DINCLUDE Login.htm --\x3e\n\x3c!--#4DELSEIF User="Admin" --\x3e\n    \x3c!--#4DINCLUDE AdminPanel.htm --\x3e\n\x3c!--#4DELSEIF User="Manager" --\x3e\n    \x3c!--#4DINCLUDE SalesDashboard.htm --\x3e\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DINCLUDE ItemList.htm --\x3e\n\x3c!--#4DENDIF--\x3e\n')),(0,a.kt)("h2",i({},{id:"4dinclude"}),"4DINCLUDE"),(0,a.kt)("h4",i({},{id:"syntax---4dinclude-path--"}),"Syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DINCLUDE path--\x3e")),(0,a.kt)("p",null,"This tag is mainly designed to include an HTML page (indicated by the ",(0,a.kt)("em",{parentName:"p"},"path")," parameter) in another HTML page. By default, only the body of the specified HTML page, i.e. the contents found within the ",(0,a.kt)("inlineCode",{parentName:"p"},"<body>")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"</body>")," tags, is included (the tags themselves are not included). This lets you avoid conflicts related to meta tags present in the headers."),(0,a.kt)("p",null,"However, if the HTML page specified does not contain ",(0,a.kt)("inlineCode",{parentName:"p"},"<body>``</body>")," tags, the entire page is included. It is up to you to verify the consistency of the meta tags."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE --\x3e")," comment is very useful for tests (",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF--\x3e"),") or loops (",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP--\x3e"),"). It is very convenient to include banners according to a criteria or randomly.\nWhen including, regardless of the file name extension, 4D analyzes the called page and then inserts the contents (modified or not) in the page originating the ",(0,a.kt)("inlineCode",{parentName:"p"},"4DINCLUDE")," call."),(0,a.kt)("p",null,"An included page with the ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE --\x3e")," comment is loaded in the Web server cache the same way as pages called via a URL or sent with the ",(0,a.kt)("inlineCode",{parentName:"p"},"WEB SEND FILE")," command."),(0,a.kt)("p",null,"In ",(0,a.kt)("em",{parentName:"p"},"path"),", put the path leading to the document to include. Warning: In the case of a ",(0,a.kt)("inlineCode",{parentName:"p"},"4DINCLUDE"),' call, the path is relative to the document being analyzed, that is, the "parent" document. Use the slash character (/) as a folder separator and the two dots (..) to go up one level (HTML syntax). When you use the ',(0,a.kt)("inlineCode",{parentName:"p"},"4DINCLUDE")," tag with the ",(0,a.kt)("inlineCode",{parentName:"p"},"PROCESS 4D TAGS")," command, the default folder is the project folder."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"You can modify the default folder used by the ",(0,a.kt)("inlineCode",{parentName:"p"},"4DINCLUDE")," tag in the current page, using the ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," tag (see below).")),(0,a.kt)("p",null,"The number of ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE path--\x3e")," within a page is unlimited. However, the ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE path--\x3e")," calls can be made only at one level. This means that, for example, you cannot insert ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE mydoc3.html--\x3e")," in the ",(0,a.kt)("em",{parentName:"p"},"mydoc2.html")," body page, which is called by ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE mydoc2--\x3e")," inserted in ",(0,a.kt)("em",{parentName:"p"},"mydoc1.html"),". Furthermore, 4D verifies that inclusions are not recursive."),(0,a.kt)("p",null,'In case of error, the inserted text is "',(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE path--\x3e"),' :The document cannot be opened".'),(0,a.kt)("p",null,"Exemples :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage.html--\x3e\n\x3c!--#4DINCLUDE ../folder/subpage.html--\x3e\n")),(0,a.kt)("h2",i({},{id:"4dloop-et-4dendloop"}),"4DLOOP et 4DENDLOOP"),(0,a.kt)("h4",i({},{id:"syntax---4dloop-condition-----4dendloop--"}),"Syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DLOOP condition--\x3e")," ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DENDLOOP--\x3e")),(0,a.kt)("p",null,"This comment allows repetition of a portion of code as long as the condition is fulfilled. The portion is delimited by ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP--\x3e")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e"),"."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP condition--\x3e")," ... ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e")," blocks can be nested. Like in 4D, each ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP condition--\x3e")," must match a ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e"),"."),(0,a.kt)("p",null,"There are five kinds of conditions:"),(0,a.kt)("h3",i({},{id:"--4dloop-table--"}),(0,a.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP [table]--\x3e")),(0,a.kt)("p",null,"This syntax makes a loop for each record from the table current selection in the current process. The code portion located between the two comments is repeated for each current selection record."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"When the ",(0,a.kt)("inlineCode",{parentName:"p"},"4DLOOP"),' tag is used with a table, records are loaded in "Read only" mode.')),(0,a.kt)("p",null,"Le code suivant :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DLOOP [People]--\x3e\n\x3c!--#4DTEXT [People]Name--\x3e \x3c!--#4DTEXT [People]Surname--\x3e<br/>\n\x3c!--#4DENDLOOP--\x3e\n")),(0,a.kt)("p",null,"... could be expressed in 4D language in the following way:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"})," FIRST RECORD([People])\n While(Not(End selection([People])))\n    ...\n    NEXT RECORD([People])\n End while\n")),(0,a.kt)("h3",i({},{id:"--4dloop-array--"}),(0,a.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP array--\x3e")),(0,a.kt)("p",null,"This syntax makes a loop for each array item. The array current item is increased when each code portion is repeated."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"This syntax cannot be used with two dimension arrays. In this case, it is better to combine a method with nested loops.")),(0,a.kt)("p",null,"The following code example:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DLOOP arr_names--\x3e\n\x3c!--#4DTEXT arr_names{arr_names}--\x3e<br/>\n\x3c!--#4DENDLOOP--\x3e\n")),(0,a.kt)("p",null,"... could be expressed in 4D language in the following way:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"})," For($Elem;1;Size of array(arr_names))\n    arr_names:=$Elem\n    ...\n End for\n")),(0,a.kt)("h3",i({},{id:"--4dloop-method--"}),(0,a.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP method--\x3e")),(0,a.kt)("p",null,"This syntax makes a loop as long as the method returns ",(0,a.kt)("inlineCode",{parentName:"p"},"True"),". The method takes a Long Integer parameter type. First it is called with the value 0 to allow an initialization stage (if necessary); it is then called with the values 1 ,then 2, then 3 and so on, as long as it returns ",(0,a.kt)("inlineCode",{parentName:"p"},"True"),"."),(0,a.kt)("p",null,"For security reasons, within a Web process, the ",(0,a.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," database method can be called once just before the initialization stage (method execution with 0 as parameter). If the authentication is OK, the initialization stage will proceed."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"C_BOOLEAN($0)")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"C_LONGINT($1)")," MUST be declared within the method for compilation purposes."),(0,a.kt)("p",null,"The following code example:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DLOOP my_method--\x3e\n\x3c!--#4DTEXT var--\x3e <br/>\n\x3c!--#4DENDLOOP--\x3e\n")),(0,a.kt)("p",null,"... could be expressed in 4D language in the following way:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"})," If(AuthenticationWebOK)\n    If(my_method(0))\n       $counter:=1\n       While(my_method($counter))\n          ...\n          $counter:=$counter+1\n       End while\n    End if\n End if\n")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"my_method")," method can be as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"})," C_LONGINT($1)\n C_BOOLEAN($0)\n If($1=0) `Initialisation\n    $0:=True\n Else\n    If($1<50)\n       ...\n       var:=...\n       $0:=True\n    Else\n       $0:=False `Stops the loop\n    End if\n End if\n")),(0,a.kt)("h3",i({},{id:"--4dloop-expression--"}),(0,a.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP expression--\x3e")),(0,a.kt)("p",null,"With this syntax, the ",(0,a.kt)("inlineCode",{parentName:"p"},"4DLOOP")," tag makes a loop as long as the ",(0,a.kt)("em",{parentName:"p"},"expression")," returns ",(0,a.kt)("inlineCode",{parentName:"p"},"True"),". The expression can be any valid Boolean expression and must contain a variable part to be evaluated in each loop to avoid infinite loops."),(0,a.kt)("p",null,"For example, the following code:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DEVAL $i:=0--\x3e\n\x3c!--#4DLOOP ($i<4)--\x3e\n\x3c!--#4DEVAL $i--\x3e\n\x3c!--#4DEVAL $i:=$i+1--\x3e\n\x3c!--#4DENDLOOP--\x3e\n")),(0,a.kt)("p",null,"...produces the following result:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{}),"\n0\n\n1\n2\n3\n")),(0,a.kt)("h3",i({},{id:"--4dloop-pointerarray--"}),(0,a.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP pointerArray--\x3e")),(0,a.kt)("p",null,"In this case, the ",(0,a.kt)("inlineCode",{parentName:"p"},"4DLOOP")," tag works like it does with an array: it makes a loop for each element of the array referenced by the pointer. The current array element is increased each time the portion of code is repeated."),(0,a.kt)("p",null,"This syntax is useful when you pass an array pointer as a parameter to the ",(0,a.kt)("inlineCode",{parentName:"p"},"PROCESS 4D TAGS")," command."),(0,a.kt)("p",null,"Voici un exemple :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),' ARRAY TEXT($array;2)\n $array{1}:="hello"\n $array{2}:="world"\n $input:="\x3c!--#4DEVAL $1--\x3e"\n $input:=$input+"\x3c!--#4DLOOP $2--\x3e"\n $input:=$input+"\x3c!--#4DEVAL $2->{$2->}--\x3e "\n $input:=$input+"\x3c!--#4DENDLOOP--\x3e"\n PROCESS 4D TAGS($input;$output;"elements = ";->$array)\n  // $output = "elements = hello world "\n')),(0,a.kt)("p",null,'In case of an interpretation error, the text "',(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP expression--\x3e"),': description" is inserted instead of the contents located between ',(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP --\x3e")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e"),"."),(0,a.kt)("p",null,"The following messages can be displayed:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Unexpected expression type (standard error);"),(0,a.kt)("li",{parentName:"ul"},"Incorrect table name (error on the table name);"),(0,a.kt)("li",{parentName:"ul"},"An array was expected (the variable is not an array or is a two dimension array);"),(0,a.kt)("li",{parentName:"ul"},"The method does not exist;"),(0,a.kt)("li",{parentName:"ul"},"Syntax error (when the method is executing);"),(0,a.kt)("li",{parentName:"ul"},"Access error (you do not have the appropriate access privileges to access the table or the method)."),(0,a.kt)("li",{parentName:"ul"},"4DENDLOOP expected (the ",(0,a.kt)("inlineCode",{parentName:"li"},"\x3c!--#4DENDLOOP--\x3e")," number does not match the ",(0,a.kt)("inlineCode",{parentName:"li"},"\x3c!--#4DLOOP --\x3e"),").")),(0,a.kt)("h2",i({},{id:"4dscript"}),"4DSCRIPT/"),(0,a.kt)("h4",i({},{id:"syntax---4dscriptmethodnamemyparam--"}),"Syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DSCRIPT/MethodName/MyParam--\x3e")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"4DSCRIPT")," tag allows you to execute 4D methods when processing the template. The presence of the ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DSCRIPT/MyMethod/MyParam--\x3e")," tag as an HTML comment launches the execution of the ",(0,a.kt)("inlineCode",{parentName:"p"},"MyMethod")," method with the ",(0,a.kt)("inlineCode",{parentName:"p"},"Param")," parameter as a string in ",(0,a.kt)("inlineCode",{parentName:"p"},"$1"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"If the tag is called in the context of a Web process, when the page is loaded, 4D calls the ",(0,a.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," database method (if it exists). If it returns True, 4D executes the method.")),(0,a.kt)("p",null,"The method must return text in ",(0,a.kt)("inlineCode",{parentName:"p"},"$0"),". If the string starts with the code character 1, it is considered as HTML (the same principle is true for the ",(0,a.kt)("inlineCode",{parentName:"p"},"4DHTML")," tag)."),(0,a.kt)("p",null,"For example, let\u2019s say that you insert the following comment ",(0,a.kt)("inlineCode",{parentName:"p"},"\u201cToday is \x3c!--#4DSCRIPT/MYMETH/MYPARAM--\x3e\u201d")," into a template Web page. When loading the page, 4D calls the ",(0,a.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," database method, then calls the ",(0,a.kt)("inlineCode",{parentName:"p"},"MYMETH")," method and passes the string \u201c/MYPARAM\u201d as the parameter ",(0,a.kt)("inlineCode",{parentName:"p"},"$1"),'. The method returns text in $0 (for example "12/31/21"); the expression "',(0,a.kt)("inlineCode",{parentName:"p"},"Today is \x3c!--#4DSCRIPT/MYMETH/MYPARAM\u2013\u2013>"),'" therefore becomes "Today is 12/31/21".'),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"MYMETH")," method is as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),"  //MYMETH\n C_TEXT($0;$1) //These parameters must always be declared\n $0:=String(Current date)\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"A method called by ",(0,a.kt)("inlineCode",{parentName:"p"},"4DSCRIPT")," must not call interface elements (",(0,a.kt)("inlineCode",{parentName:"p"},"DIALOG"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"ALERT"),", etc.).")),(0,a.kt)("p",null,"As 4D executes methods in their order of appearance, it is absolutely possible to call a method that sets the value of many variables that are referenced further in the document, whichever mode you are using. You can insert as many ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DSCRIPT...--\x3e")," comments as you want in a template."),(0,a.kt)("h2",i({},{id:"4dtext"}),"4DTEXT"),(0,a.kt)("h4",i({},{id:"syntax---4dtext-expression--"}),"Syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DTEXT expression--\x3e")),(0,a.kt)("h4",i({},{id:"alternative-syntax-4dtextexpression"}),"Alternative syntax: ",(0,a.kt)("inlineCode",{parentName:"h4"},"$4DTEXT(expression)")),(0,a.kt)("p",null,"The tag ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT expression--\x3e")," allows you to insert a reference to a 4D variable or expression returning a value. Par exemple, si vous \xe9crivez (dans une page HTML) :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"<P>Welcome to \x3c!--#4DTEXT vtSiteName--\x3e!</P>\n")),(0,a.kt)("p",null,"The value of the 4D variable ",(0,a.kt)("inlineCode",{parentName:"p"},"vtSiteName"),' will be inserted in the HTML page when it is sent. This value is inserted as simple text, special HTML characters such as ">" are automatically escaped.'),(0,a.kt)("p",null,"Vous pouvez \xe9galement ins\xe9rer des expressions 4D. You can for example directly insert the contents of a field (",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT [tableName]fieldName--\x3e"),"), an array element (",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT tabarr{1}--\x3e"),") or a method returning a value (",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT mymethod--\x3e"),"). La conversion des expressions suit les m\xeames r\xe8gles que celles des variables. De plus, l'expression doit respecter les r\xe8gles de syntaxe 4D."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"For security reasons, it is recommended to use this tag when processing data introduced from outside the application, in order to prevent the ",(0,a.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"insertion of malicious code"),".")),(0,a.kt)("p",null,"In case of an evaluation error, the inserted text will appear as ",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT myvar--\x3e : ## error # error code"),"."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Vous devez utiliser des variables process."),(0,a.kt)("li",{parentName:"ul"},"Vous pouvez afficher le contenu d'un champ image. Cependant, il n'est pas possible d'afficher le contenu d'un \xe9l\xe9ment de tableau d'images."),(0,a.kt)("li",{parentName:"ul"},"Il est possible d'afficher le contenu d'un champ objet \xe0 l'aide d'une formule 4D. For example, you can write ",(0,a.kt)("inlineCode",{parentName:"li"},'\x3c!--#4DTEXT OB Get:C1224([Rect]Desc;\\"color\\")--\x3e'),"."),(0,a.kt)("li",{parentName:"ul"},"Vous travaillerez g\xe9n\xe9ralement avec des variables de type Texte. Cependant, vous pouvez \xe9galement utiliser des variables BLOB. You just need to generate BLOBs in ",(0,a.kt)("inlineCode",{parentName:"li"},"Text without length")," mode.")),(0,a.kt)("h2",i({},{id:"syntaxe-alternative-pour-4dtext-4dhtml-4deval"}),"Syntaxe alternative pour 4DTEXT, 4DHTML, 4DEVAL"),(0,a.kt)("p",null,"Plusieurs balises de transformation 4D existantes peuvent \xeatre exprim\xe9es \xe0 l'aide d'une syntaxe fond\xe9e sur le symbole $ :"),(0,a.kt)("h4",i({},{id:"4dtag-expression"}),"4dtag (expression)"),(0,a.kt)("p",null,"peut \xeatre utilis\xe9 \xe0 la place de"),(0,a.kt)("h4",i({},{id:"--4dtag-expression--"}),(0,a.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4dtag expression--\x3e")),(0,a.kt)("p",null,"Cette syntaxe alternative n'est disponible que pour les balises utilis\xe9es pour retourner des valeurs trait\xe9es :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",i({parentName:"li"},{href:"#4dtext"}),"4DTEXT")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",i({parentName:"li"},{href:"#4dhtml"}),"4DHTML")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",i({parentName:"li"},{href:"#4deval"}),"4DEVAL"))),(0,a.kt)("p",null,"(Les autres balises, telles que 4DIF ou 4DSCRIPT, doivent \xeatre \xe9crites avec la syntaxe r\xe9guli\xe8re)."),(0,a.kt)("p",null,"Par exemple, vous pouvez \xe9crire :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"$4DEVAL(UserName)\n")),(0,a.kt)("p",null,"au lieu de :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DEVAL(UserName)--\x3e\n")),(0,a.kt)("p",null,"Le principal avantage de cette syntaxe est qu'elle vous permet d'\xe9crire des mod\xe8les conformes \xe0 XML. Certains d\xe9veloppeurs 4D ont besoin de cr\xe9er et de valider des mod\xe8les bas\xe9s sur XML \xe0 l'aide d'outils d'analyse syntaxique XML standard. Since the \"<\" character is invalid in an XML attribute value, it was not possible to use the \"",(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!-- --\x3e"),'" syntax of 4D tags without breaking the document syntax. On the other hand, escaping the "<" character will prevent 4D from interpreting the tags correctly.'),(0,a.kt)("p",null,'For example, the following code would cause an XML parsing error because of the first "<" character in the attribute value:'),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-xml"}),'<line x1="\x3c!--#4DEVAL $x--\x3e" y1="\x3c!--#4DEVAL $graphY1--\x3e"/>\n')),(0,a.kt)("p",null,"En utilisant la syntaxe $, le code suivant est valid\xe9 par le parseur :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-xml"}),'<line x1="$4DEVAL($x)" y1="$4DEVAL($graphY1)"/>\n')),(0,a.kt)("p",null,"Note that ",(0,a.kt)("inlineCode",{parentName:"p"},"$4dtag")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"<--#4dtag --\x3e")," are not strictly equivalent: unlike ",(0,a.kt)("inlineCode",{parentName:"p"},"<--#4dtag --\x3e"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"$4dtag")," processing does not interpret 4D tags ",(0,a.kt)("a",i({parentName:"p"},{href:"#recursive-processing"}),"recursively"),". ",(0,a.kt)("inlineCode",{parentName:"p"},"$")," tags are always evaluated once and the result is considered as plain text."),(0,a.kt)("p",null,"Cette diff\xe9rence consiste \xe0 emp\xeacher l'injection de code malveillant. As ",(0,a.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"explained below"),", it is strongly recommended to use ",(0,a.kt)("inlineCode",{parentName:"p"},"4DTEXT")," tags instead of ",(0,a.kt)("inlineCode",{parentName:"p"},"4DHTML")," tags when handling user text to protect against unwanted reinterpretation of tags: with ",(0,a.kt)("inlineCode",{parentName:"p"},"4DTEXT"),', special characters such as "<" are escaped, thus any 4D tags using the ',(0,a.kt)("inlineCode",{parentName:"p"},"\x3c!--#4dtag expression --\x3e")," syntax will lose their particular meaning. However, since ",(0,a.kt)("inlineCode",{parentName:"p"},"4DTEXT")," does not escape the ",(0,a.kt)("inlineCode",{parentName:"p"},"$")," symbol, we decided to break support for recursion in order to prevent malicious injection using the ",(0,a.kt)("inlineCode",{parentName:"p"},"$4dtag (expression)")," syntax."),(0,a.kt)("p",null,"Les exemples suivants illustrent le r\xe9sultat du traitement en fonction de la syntaxe et du tag utilis\xe9s :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'  // example 1\n myName:="\x3c!--#4DHTML QUIT 4D--\x3e" //malicious injection\n input:="My name is: \x3c!--#4DHTML myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //4D will quit!\n')),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'  // example 2\n myName:="\x3c!--#4DHTML QUIT 4D--\x3e" //malicious injection\n input:="My name is: \x3c!--#4DTEXT myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //output is "My name is: \x3c!--#4DHTML QUIT 4D--\x3e"\n')),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'  // example 3\n myName:="$4DEVAL(QUIT 4D)" //malicious injection\n input:="My name is: \x3c!--#4DTEXT myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //output is "My name is: $4DEVAL(QUIT 4D)"\n')),(0,a.kt)("p",null,"Note that the ",(0,a.kt)("inlineCode",{parentName:"p"},"$4dtag")," syntax supports matching pairs of enclosed quotes or parenthesis. Par exemple, supposons que vous ayez besoin d'\xe9valuer la cha\xeene complexe (fictive) suivante :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{}),'String(1) + "\\"(hello)\\""\n')),(0,a.kt)("p",null,"Vous pouvez \xe9crire :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),' input:="$4DEVAL( String(1)+\\"\\\\\\"(hello)\\\\\\"\\")"\n PROCESS 4D TAGS(input;output)\n --\x3eoutput is 1"(hello)"\n')))}m.isMDXComponent=!0}}]);