"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[13397],{603905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>c});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),d=p(a),c=r,k=d["".concat(o,".").concat(c)]||d[c]||u[c]||l;return a?n.createElement(k,i(i({ref:t},m),{},{components:a})):n.createElement(k,i({ref:t},m))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},865987:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>m});a(667294);var n=a(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const i={id:"DataClassClass",title:"DataClass"},s=void 0,o={unversionedId:"API/DataClassClass",id:"version-20-R5/API/DataClassClass",title:"DataClass",description:"A DataClass provides an object interface to a database table. All dataclasses in a 4D application are available as a property of the ds datastore.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R5/API/DataClassClass.md",sourceDirName:"API",slug:"/API/DataClassClass",permalink:"/docs/fr/API/DataClassClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataClassClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"DataClassClass",title:"DataClass"},sidebar:"docs",previous:{title:"CryptoKey",permalink:"/docs/fr/API/CryptoKeyClass"},next:{title:"DataStore",permalink:"/docs/fr/API/DataStoreClass"}},p={},m=[{value:"Sommaire",id:"sommaire",level:3},{value:".<em>attributeName</em>",id:"attributename",level:2},{value:"Description",id:"description",level:4},{value:"Objet retourn\xe9",id:"objet-retourn\xe9",level:4},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"Exemple 3",id:"exemple-3",level:4},{value:".all()",id:"all",level:2},{value:"Description",id:"description-1",level:4},{value:"Exemple",id:"exemple",level:4},{value:".clearRemoteCache()",id:"clearremotecache",level:2},{value:"Description",id:"description-2",level:4},{value:"Exemple",id:"exemple-4",level:4},{value:".fromCollection()",id:"fromcollection",level:2},{value:"Description",id:"description-3",level:4},{value:"Exemple 1",id:"exemple-1-1",level:4},{value:"Exemple 2",id:"exemple-2-1",level:4},{value:"Exemple 3",id:"exemple-3-1",level:4},{value:"Exemple 4",id:"exemple-4-1",level:4},{value:"Exemple 5",id:"exemple-5",level:4},{value:"Exemple 6",id:"exemple-6",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement",level:4},{value:".get()",id:"get",level:2},{value:"Description",id:"description-4",level:4},{value:"Exemple 1",id:"exemple-1-2",level:4},{value:"Exemple 2",id:"exemple-2-2",level:4},{value:".getCount()",id:"getcount",level:2},{value:"Description",id:"description-5",level:4},{value:"Exemple",id:"exemple-7",level:4},{value:".getDataStore()",id:"getdatastore",level:2},{value:"Description",id:"description-6",level:4},{value:"Exemple",id:"exemple-8",level:4},{value:".getInfo()",id:"getinfo",level:2},{value:"Description",id:"description-7",level:4},{value:"Exemple 1",id:"exemple-1-3",level:4},{value:"Exemple 2",id:"exemple-2-3",level:4},{value:"Exemple 3",id:"exemple-3-2",level:4},{value:".getRemoteCache()",id:"getremotecache",level:2},{value:"Description",id:"description-8",level:4},{value:"Exemple",id:"exemple-9",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-1",level:4},{value:".new()",id:"new",level:2},{value:"Description",id:"description-9",level:4},{value:"Exemple",id:"exemple-10",level:4},{value:".newSelection()",id:"newselection",level:2},{value:"Description",id:"description-10",level:4},{value:"Exemple",id:"exemple-11",level:4},{value:".query()",id:"query",level:2},{value:"Description",id:"description-11",level:4},{value:"param\xe8tre queryString",id:"param\xe8tre-querystring",level:4},{value:"Utilisation de guillemets",id:"utilisation-de-guillemets",level:4},{value:"Utilisation de parenth\xe8ses",id:"utilisation-de-parenth\xe8ses",level:4},{value:"Utilisation de placeholders",id:"utilisation-de-placeholders",level:4},{value:"Recherche de valeurs null",id:"recherche-de-valeurs-null",level:4},{value:"Not equal to et les collections",id:"not-equal-to-et-les-collections",level:4},{value:"Lier les crit\xe8res de recherche pour les attributs de collections",id:"lier-les-crit\xe8res-de-recherche-pour-les-attributs-de-collections",level:4},{value:"Recherches dans les relations N vers N",id:"recherches-dans-les-relations-n-vers-n",level:4},{value:"Param\xe8tre formula",id:"param\xe8tre-formula",level:4},{value:"Passer des param\xe8tres aux formules",id:"passer-des-param\xe8tres-aux-formules",level:4},{value:"Param\xe8tre querySettings",id:"param\xe8tre-querysettings",level:4},{value:"A propos de queryPlan et queryPath",id:"a-propos-de-queryplan-et-querypath",level:4},{value:"Exemple 1",id:"exemple-1-4",level:4},{value:"Exemple 2",id:"exemple-2-4",level:4},{value:"Exemple 3",id:"exemple-3-3",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-2",level:4},{value:".setRemoteCacheSettings()",id:"setremotecachesettings",level:2},{value:"Description",id:"description-12",level:4},{value:"Exemple",id:"exemple-12",level:4},{value:"Voir \xe9galement",id:"voir-\xe9galement-3",level:4}],u={toc:m};function d(e){var{components:t}=e,i=l(e,["components"]);return(0,n.kt)("wrapper",r({},u,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"A ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#dataclass"}),"DataClass")," provides an object interface to a database table. All dataclasses in a 4D application are available as a property of the ",(0,n.kt)("inlineCode",{parentName:"p"},"ds")," ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#datastore"}),"datastore"),"."),(0,n.kt)("h3",r({},{id:"sommaire"}),"Sommaire"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#attributename"}),(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("em",{parentName:"strong"},".attributeName"))," : object"),(0,n.kt)("br",null),"objets disponibles directement en tant que propri\xe9t\xe9s")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#all"}),(0,n.kt)("strong",{parentName:"a"},".all")," ( { ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object } ) : 4D.EntitySelection"),(0,n.kt)("br",null),"queries the datastore to find all the entities related to the dataclass and returns them as an entity selection")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#clearremotecache"}),(0,n.kt)("strong",{parentName:"a"},".clearRemoteCache()")),(0,n.kt)("br",null),"empties the ORDA cache of a dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#fromcollection"}),(0,n.kt)("strong",{parentName:"a"},".fromCollection"),"( ",(0,n.kt)("em",{parentName:"a"},"objectCol")," : Collection { ; ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object } ) : 4D.EntitySelection"),(0,n.kt)("br",null),"updates or creates entities in the dataclass according to the ",(0,n.kt)("em",{parentName:"td"},"objectCol")," collection of objects, and returns the corresponding entity selection")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#get"}),(0,n.kt)("strong",{parentName:"a"},".get"),"( ",(0,n.kt)("em",{parentName:"a"},"primaryKey")," : Integer { ; ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object } ) : 4D.Entity",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".get"),"( ",(0,n.kt)("em",{parentName:"a"},"primaryKey")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object } ) : 4D.Entity"),(0,n.kt)("br",null),"queries the dataclass to retrieve the entity matching the ",(0,n.kt)("em",{parentName:"td"},"primaryKey")," parameter")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getcount"}),(0,n.kt)("strong",{parentName:"a"},".getCount()")," : Integer "),(0,n.kt)("br",null)," returns the number of entities in a dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getdatastore"}),(0,n.kt)("strong",{parentName:"a"},".getDataStore()")," : cs.DataStore"),(0,n.kt)("br",null),"returns the datastore for the specified dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getinfo"}),(0,n.kt)("strong",{parentName:"a"},".getInfo()")," : Object "),(0,n.kt)("br",null),"returns an object providing information about the dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getremotecache"}),(0,n.kt)("strong",{parentName:"a"},".getRemoteCache"),"() : Object "),(0,n.kt)("br",null),"returns an object that holds the contents of the ORDA cache for a dataclass.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#new"}),(0,n.kt)("strong",{parentName:"a"},".new()")," : 4D.Entity "),(0,n.kt)("br",null),"creates in memory and returns a new blank entity related to the Dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#newselection"}),(0,n.kt)("strong",{parentName:"a"},".newSelection"),"( { ",(0,n.kt)("em",{parentName:"a"},"keepOrder")," : Integer } ) : 4D.EntitySelection "),(0,n.kt)("br",null),"creates a new, blank, non-shareable entity selection, related to the dataclass, in memory")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#query"}),(0,n.kt)("strong",{parentName:"a"},".query"),"( ",(0,n.kt)("em",{parentName:"a"},"queryString")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"...value")," : any } { ; ",(0,n.kt)("em",{parentName:"a"},"querySettings")," : Object } ) : 4D.EntitySelection ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".query"),"( ",(0,n.kt)("em",{parentName:"a"},"formula")," : Object { ; ",(0,n.kt)("em",{parentName:"a"},"querySettings")," : Object } ) : 4D.EntitySelection "),(0,n.kt)("br",null),"searches for entities that meet the search criteria specified in ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula")," and (optionally) ",(0,n.kt)("em",{parentName:"td"},"value"),"(s)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#setremotecachesettings"}),(0,n.kt)("strong",{parentName:"a"},".setRemoteCacheSettings"),"(",(0,n.kt)("em",{parentName:"a"},"settings")," : Object) "),(0,n.kt)("br",null),"sets the timeout and maximum size of the ORDA cache for a dataclass.")))),(0,n.kt)("h2",r({},{id:"attributename"}),".",(0,n.kt)("em",{parentName:"h2"},"attributeName")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout de l'attribut .exposed")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},".attributeName"))," : object"),(0,n.kt)("h4",r({},{id:"description"}),"Description"),(0,n.kt)("p",null,"Les attributs des dataclasses sont des objets disponibles directement en tant que propri\xe9t\xe9s de ces classes."),(0,n.kt)("p",null,"Les objets renvoy\xe9s ont des propri\xe9t\xe9s que vous pouvez lire pour obtenir des informations sur les attributs de votre dataclass."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Les objets attributs de dataclass peuvent \xeatre modifi\xe9s, mais la structure sous-jacente de la base de donn\xe9es ne sera pas alt\xe9r\xe9e.")),(0,n.kt)("h4",r({},{id:"objet-retourn\xe9"}),"Objet retourn\xe9"),(0,n.kt)("p",null,"Les objets attributs retourn\xe9s contiennent les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"autoFilled"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Vrai si la valeur de l\'attribut est automatiquement remplie par 4D. Correspond aux propri\xe9t\xe9s de champs 4D suivantes : "Autoincrement" pour les champs de type num\xe9rique et "UUID Auto" pour les champs UUID (alpha). Not returned if ',(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" or "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"exposed"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si l'attribut est expos\xe9 en REST")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"fieldNumber"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entier"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Num\xe9ro interne du champ 4D correspondant \xe0 l'attribut. Not returned if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" or "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"fieldType"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Type de champ de la base de donn\xe9es 4D de l'attribut. Depends on the attribute ",(0,n.kt)("inlineCode",{parentName:"td"},"kind"),". Possible values: ",(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "storage": corresponding 4D field type, see ',(0,n.kt)("a",r({parentName:"td"},{href:"https://doc.4d.com/4dv20/help/command/en/page1509.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Value type"))),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity": 38 (',(0,n.kt)("inlineCode",{parentName:"td"},"is object"),")"),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntities": 42 (',(0,n.kt)("inlineCode",{parentName:"td"},"is collection"),")"),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "calculated" or "alias" = same as above, depending on the resulting value (field type, relatedEntity or relatedEntities)'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indexed"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai s'il existe un index B-tree ou Cluster B-tree sur l'attribut. Not returned if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" or "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"inverseName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom de l'attribut qui se trouve \xe0 l'autre c\xf4t\xe9 de la relation. Returned only when ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" or "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"keywordIndexed"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai s'il existe un index de mots-cl\xe9s sur l'attribut. Not returned if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" or "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"kind"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cat\xe9gorie de l'attribut. Possible values:",(0,n.kt)("li",null,'"storage": storage (or scalar) attribute, i.e. attribute storing a value, not a reference to another attribute'),(0,n.kt)("li",null,'"calculated": computed attribute, i.e. defined through a ',(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/ORDA/ordaClasses#function-get-attributename"}),(0,n.kt)("inlineCode",{parentName:"a"},"get")," function")),(0,n.kt)("li",null,'"alias": attribute built upon ',(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/ORDA/ordaClasses#alias-attributes-1"}),"another attribute")),(0,n.kt)("li",null,'"relatedEntity": N -> 1 relation attribute (reference to an entity)'),(0,n.kt)("li",null,'"relatedEntities": 1 -> N relation attribute (reference to an entity selection)'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"obligatoire"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si la saisie d'une valeur null est rejet\xe9e pour l'attribut. Not returned if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" or "relatedEntities". Attention : Cette propri\xe9t\xe9 correspond \xe0 la propri\xe9t\xe9 du champ "Reject NULL value input" au niveau de la base de donn\xe9es 4D. Elle n\'est pas li\xe9e \xe0 la propri\xe9t\xe9 "Mandatory" existante qui est une option de contr\xf4le de la saisie de donn\xe9es pour une table.')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom de l'attribut sous forme de cha\xeene")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"path"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Path of ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/ORDA/ordaClasses#alias-attributes-1"}),"an alias attribute")," based upon a relation")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"readOnly"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si l'attribut est en lecture seule. For example, computed attributes without ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/ORDA/ordaClasses#function-set-attributename"}),(0,n.kt)("inlineCode",{parentName:"a"},"set")," function")," are read-only.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"relatedDataClass"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom de la dataclass li\xe9e \xe0 l'attribut. Returned only when ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" or "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Type conceptuel de la valeur de l'attribut, utile pour la programmation g\xe9n\xe9rique. Depends on the attribute ",(0,n.kt)("inlineCode",{parentName:"td"},"kind"),". Possible values: ",(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "storage": "blob", "bool", "date", "image", "number", "object", or "string". "number" is returned for any numeric types including duration; "string" is returned for uuid, alpha and text attribute types; "blob" attributes are ',(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/Concepts/blob#blob-type"}),"blob objects"),"."),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity": related dataClass name'),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntities": related dataClass name + "Selection" suffix'),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "calculated" or "alias": same as above, depending on the result'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"unique"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si la valeur de l'attribut doit \xeatre unique. Not returned if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" or "relatedEntities".')))),(0,n.kt)("admonition",r({},{type:"tip"}),(0,n.kt)("p",{parentName:"admonition"},"For generic programming, use ",(0,n.kt)("inlineCode",{parentName:"p"},"Bool(attributeName.property)"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"Num(attributeName.property)")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"String(attributeName.property)")," (depending on the property type) to get a valid value even if the property is not returned.")),(0,n.kt)("h4",r({},{id:"exemple-1"}),"Exemple 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"$salary:=ds.Employee.salary //retourne l'attribut salary dans la dataclass Employee\n$compCity:=ds.Company[\"city\"] //retourne l'attribut city dans la dataclass Company\n")),(0,n.kt)("h4",r({},{id:"exemple-2"}),"Exemple 2"),(0,n.kt)("p",null,"Consid\xe9rant la structure suivante d'une base :"),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(695034).Z,width:"454",height:"634"})),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"var $firstnameAtt;$employerAtt;$employeesAtt : Object\n\n $firstnameAtt:=ds.Employee.firstname\n  //{name:firstname,kind:storage,fieldType:0,type:string,fieldNumber:2,indexed:true,\n  //keyWordIndexed:false,autoFilled:false,mandatory:false,unique:false}\n\n $employerAtt:=ds.Employee.employer\n  //{name:employer,kind:relatedEntity,relatedDataClass:Company,\n  //fieldType:38,type:Company,inverseName:employees}\n  //38=Is object\n\n $employeesAtt:=ds.Company.employees\n  //{name:employees,kind:relatedEntities,relatedDataClass:Employee,\n  //fieldType:42,type:EmployeeSelection,inverseName:employer}\n  //42=Is collection\n")),(0,n.kt)("h4",r({},{id:"exemple-3"}),"Exemple 3"),(0,n.kt)("p",null,"Consid\xe9rant les propri\xe9t\xe9s de table suivantes :"),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(647844).Z,width:"405",height:"383"})),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $sequenceNumberAtt : Object\n $sequenceNumberAtt=ds.Employee.sequenceNumber\n  //{name:sequenceNumber,kind:storage,fieldType:0,type:string,fieldNumber:13,\n  //indexed:true,keyWordIndexed:false,autoFilled:true,mandatory:false,unique:true}\n")),(0,n.kt)("h2",r({},{id:"all"}),".all()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Support of the ",(0,n.kt)("em",{parentName:"td"},"settings")," parameter")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".all")," ( { ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object } ) : 4D.EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Option de cr\xe9ation : contexte")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9f\xe9rences vers toutes les entit\xe9s de la dataclass")))),(0,n.kt)("h4",r({},{id:"description-1"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".all()")," function queries the datastore to find all the entities related to the dataclass and returns them as an entity selection."),(0,n.kt)("p",null,"Les entit\xe9s sont renvoy\xe9es dans l'ordre par d\xe9faut, qui est initialement l'ordre dans lequel elles ont \xe9t\xe9 cr\xe9\xe9es. Notez cependant que, si des entit\xe9s ont \xe9t\xe9 supprim\xe9es et que de nouvelles entit\xe9s ont \xe9t\xe9 ajout\xe9es, l'ordre par d\xe9faut ne refl\xe8te plus l'ordre de cr\xe9ation."),(0,n.kt)("p",null,"Si aucune entit\xe9 n'est trouv\xe9e, une entity selection vide est renvoy\xe9e."),(0,n.kt)("p",null,"Le mode lazy loading est appliqu\xe9."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"settings")),(0,n.kt)("p",null,"In the optional ",(0,n.kt)("em",{parentName:"p"},"settings")," parameter, you can pass an object containing additional options. La propri\xe9t\xe9 suivante est prise en charge :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"context"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom du contexte d'optimisation appliqu\xe9 \xe0 l'entity selection. Ce contexte sera utilis\xe9 par le code qui manipule l'entity selection afin de b\xe9n\xe9ficier de l'optimisation. This feature is ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/ORDA/entities#client-server-optimization"}),"designed for ORDA client/server processing"),".")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"To know the total number of entities in a dataclass, it is recommended to use the ",(0,n.kt)("a",r({parentName:"p"},{href:"#getcount"}),(0,n.kt)("inlineCode",{parentName:"a"},"getCount()"))," function which is more optimized than the ",(0,n.kt)("inlineCode",{parentName:"p"},"ds.myClass.all().length")," expression.")),(0,n.kt)("h4",r({},{id:"exemple"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $allEmp : cs.EmployeeSelection\n $allEmp:=ds.Employee.all()\n")),(0,n.kt)("h2",r({},{id:"clearremotecache"}),".clearRemoteCache()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clearRemoteCache()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ne requiert aucun param\xe8tre")))),(0,n.kt)("h4",r({},{id:"description-2"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".clearRemoteCache()")," function empties the ORDA cache of a dataclass."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"This function does not reset the ",(0,n.kt)("inlineCode",{parentName:"p"},"timeout")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"maxEntries")," values.")),(0,n.kt)("h4",r({},{id:"exemple-4"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $p : cs.PersonsEntity\nvar $cache : Object\nvar $info : Collection\nvar $text : Text\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$persons:=$ds.Persons.all()\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / "\nEnd for each\n\n$cache:=$ds.Persons.getRemoteCache()\n\n$ds.Persons.clearRemoteCache()\n// Cache of the Persons dataclass = {timeout:30;maxEntries:30000;stamp:255;entries:[]}\n')),(0,n.kt)("h2",r({},{id:"fromcollection"}),".fromCollection()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Support of the ",(0,n.kt)("em",{parentName:"td"},"settings")," parameter")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".fromCollection"),"( ",(0,n.kt)("em",{parentName:"p"},"objectCol")," : Collection { ; ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object } ) : 4D.EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"objectCol"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection d'objets \xe0 faire correspondre \xe0 des entit\xe9s")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Option de cr\xe9ation : contexte")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Entity selection issue de la collection")))),(0,n.kt)("h4",r({},{id:"description-3"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".fromCollection()")," function updates or creates entities in the dataclass according to the ",(0,n.kt)("em",{parentName:"p"},"objectCol")," collection of objects, and returns the corresponding entity selection."),(0,n.kt)("p",null,"In the ",(0,n.kt)("em",{parentName:"p"},"objectCol")," parameter, pass a collection of objects to create new or update existing entities of the dataclass. Les noms des propri\xe9t\xe9s doivent correspondre \xe0 ceux des attributs de la dataclass. Si un nom de propri\xe9t\xe9 n'existe pas dans la dataclass, il est ignor\xe9. Si une valeur d'attribut n'est pas d\xe9finie dans la collection pour une entit\xe9 cr\xe9\xe9e, l'attribut prend la valeur Null."),(0,n.kt)("p",null,"The mapping between the objects of the collection and the entities is done on the ",(0,n.kt)("strong",{parentName:"p"},"attribute names")," and ",(0,n.kt)("strong",{parentName:"p"},"matching types"),". Si une propri\xe9t\xe9 d'objet a le m\xeame nom qu'un attribut d'entit\xe9 mais que leurs types ne sont pas compatibles, l'attribut de l'entit\xe9 ne re\xe7oit pas de valeur."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Create or update mode")),(0,n.kt)("p",null,"For each object of ",(0,n.kt)("em",{parentName:"p"},"objectCol"),":"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Si l'objet contient une propri\xe9t\xe9 bool\xe9enne \"","_","_",'NEW" fix\xe9e \xe0 faux (ou ne contient pas de propri\xe9t\xe9 bool\xe9enne "',"_","_","NEW\"), l'entit\xe9 est modifi\xe9e ou cr\xe9\xe9e avec les valeurs correspondantes des propri\xe9t\xe9s de l'objet. Aucune v\xe9rification sp\xe9cifique n'est effectu\xe9e concernant la cl\xe9 primaire :",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Si la cl\xe9 primaire est fournie et existe, l'entit\xe9 est modifi\xe9e. Dans ce cas, la cl\xe9 primaire peut \xeatre fournie telle quelle ou via la propri\xe9t\xe9 \"","_","_",'KEY" (contenant la valeur de la propri\xe9t\xe9 primaire).'),(0,n.kt)("li",{parentName:"ul"},"Si la cl\xe9 primaire est fournie (telle quelle) et n'existe pas, l'entit\xe9 est cr\xe9\xe9e"),(0,n.kt)("li",{parentName:"ul"},"Si la cl\xe9 primaire n'est pas fournie, l'entit\xe9 est cr\xe9\xe9e et la cl\xe9 primaire est assign\xe9e selon les r\xe8gles en vigueur de la base de donn\xe9es."))),(0,n.kt)("li",{parentName:"ul"},'If the object contains a boolean property "',"_","_",'NEW" set to ',(0,n.kt)("strong",{parentName:"li"},"true"),", the entity is created with the corresponding values of the attributes from the object. Une v\xe9rification est effectu\xe9e sur la cl\xe9 primaire :",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Si la cl\xe9 primaire est fournie (telle quelle) et existe, une erreur est g\xe9n\xe9r\xe9e"),(0,n.kt)("li",{parentName:"ul"},"Si la cl\xe9 primaire est fournie (telle quelle) et n'existe pas, l'entit\xe9 est cr\xe9\xe9e"),(0,n.kt)("li",{parentName:"ul"},"Si la cl\xe9 primaire n'est pas fournie, l'entit\xe9 est cr\xe9\xe9e et la cl\xe9 primaire est assign\xe9e selon les r\xe8gles en vigueur de la base de donn\xe9es.")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},'The "',"_","_",'KEY" property containing a value is taken into account only when the "',"_","_",'NEW" property is set to ',(0,n.kt)("strong",{parentName:"p"},"false"),' (or is omitted) and a corresponding entity exists. Dans tous les autres cas, la valeur de la propri\xe9t\xe9 "',"_","_",'KEY" est ignor\xe9e, la valeur de la cl\xe9 primaire doit \xeatre pass\xe9e "telle quelle".')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Related entities")),(0,n.kt)("p",null,"The objects of ",(0,n.kt)("em",{parentName:"p"},"objectCol")," may contain one or more nested object(s) featuring one or more related entities, which can be useful to create or update links between entities."),(0,n.kt)("p",null,'Les objets imbriqu\xe9s d\xe9crivant les entit\xe9s relatives doivent contenir une propri\xe9t\xe9 "',"_","_","KEY\" (contenant la valeur de la cl\xe9 primaire de l'entit\xe9 relative) ou la cl\xe9 primaire de l'entit\xe9 relative elle-m\xeame. L'utilisation de la propri\xe9t\xe9 ","_","_","KEY permet de ne pas d\xe9pendre du nom de l'attribut cl\xe9 primaire."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Ce m\xe9canisme ne permet pas de cr\xe9er ou de modifier les entit\xe9s li\xe9es.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Stamp")),(0,n.kt)("p",null,"Si une propri\xe9t\xe9 ","_","_","STAMP est fournie, une v\xe9rification est effectu\xe9e sur le stamp (marqueur interne) de l'entit\xe9 dans le datastore et une erreur est retourn\xe9e en cas d'invalidit\xe9 (\"Le stamp ne correspond pas \xe0 celui de l'enregistrement# XX de la table XXXX\"). For more information, see ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/entities#entity-locking"}),"Entity locking"),"."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"settings")),(0,n.kt)("p",null,"In the optional ",(0,n.kt)("em",{parentName:"p"},"settings")," parameter, you can pass an object containing additional options. La propri\xe9t\xe9 suivante est prise en charge :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"context"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom du contexte d'optimisation appliqu\xe9 \xe0 l'entity selection. Ce contexte sera utilis\xe9 par le code qui manipule l'entity selection afin de b\xe9n\xe9ficier de l'optimisation. This feature is ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/ORDA/entities#client-server-optimization"}),"designed for ORDA client/server processing"),".")))),(0,n.kt)("h4",r({},{id:"exemple-1-1"}),"Exemple 1"),(0,n.kt)("p",null,"Nous souhaitons modifier une entit\xe9 existante. La propri\xe9t\xe9 ","_","_","NEW n'est pas fix\xe9e, la cl\xe9 primaire de l'employ\xe9 est pass\xe9e et existe :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.ID:=668 //Existing PK in Employee table\n $emp.firstName:="Arthur"\n $emp.lastName:="Martin"\n $emp.employer:=New object("ID";121) //Existing PK in the related dataClass Company\n  // For this employee, we can change the Company by using another existing PK in the related dataClass Company\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n')),(0,n.kt)("h4",r({},{id:"exemple-2-1"}),"Exemple 2"),(0,n.kt)("p",null,"Nous souhaitons modifier une entit\xe9 existante. La propri\xe9t\xe9 ","_","_","NEW n'est pas fournie, la cl\xe9 primaire de l'employ\xe9 est avec l'attribut ","_","_","KEY et existe :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.__KEY:=1720 //Existing PK in Employee table\n $emp.firstName:="John"\n $emp.lastName:="Boorman"\n $emp.employer:=New object("ID";121) //Existing PK in the related dataClass Company\n  // For this employee, we can change the Company by using another existing PK in the related dataClass Company\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n')),(0,n.kt)("h4",r({},{id:"exemple-3-1"}),"Exemple 3"),(0,n.kt)("p",null,"Cr\xe9ation simple d'une entit\xe9 \xe0 partir d'une collection :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.firstName:="Victor"\n $emp.lastName:="Hugo"\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n')),(0,n.kt)("h4",r({},{id:"exemple-4-1"}),"Exemple 4"),(0,n.kt)("p",null,"Nous souhaitons cr\xe9er une entit\xe9. La propri\xe9t\xe9 ","_","_","NEW est \xe0 Vrai, la cl\xe9 primaire de l'employ\xe9 n'est pas fournie :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.firstName:="Mary"\n $emp.lastName:="Smith"\n $emp.employer:=New object("__KEY";121) //Existing PK in the related dataClass Company\n $emp.__NEW:=True\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n\n\n\n\n\n\n')),(0,n.kt)("h4",r({},{id:"exemple-5"}),"Exemple 5"),(0,n.kt)("p",null,"Nous souhaitons cr\xe9er une entit\xe9. La propri\xe9t\xe9 ","_","_","NEW n'est pas pass\xe9e, la cl\xe9 primaire de l'employ\xe9 est fournie et n'existe pas :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.ID:=10000 //Unexisting primary key\n $emp.firstName:="Fran\xe7oise"\n $emp.lastName:="Sagan"\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n')),(0,n.kt)("h4",r({},{id:"exemple-6"}),"Exemple 6"),(0,n.kt)("p",null,"Dans cet exemple, la premi\xe8re entit\xe9 sera bien cr\xe9\xe9e mais la seconde cr\xe9ation \xe9chouera car les deux entit\xe9s utilisent la m\xeame cl\xe9 primaire :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp; $emp2 : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.ID:=10001 // Unexisting primary key\n $emp.firstName:="Simone"\n $emp.lastName:="Martin"\n $emp.__NEW:=True\n $empsCollection.push($emp)\n\n $emp2:=New object\n $emp2.ID:=10001 // Same primary key, already existing\n $emp2.firstName:="Marc"\n $emp2.lastName:="Smith"\n $emp2.__NEW:=True\n $empsCollection.push($emp2)\n $employees:=ds.Employee.fromCollection($empsCollection)\n  //first entity is created\n  //duplicated key error for the second entity\n')),(0,n.kt)("h4",r({},{id:"voir-\xe9galement"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/EntitySelectionClass#tocollection"}),(0,n.kt)("strong",{parentName:"a"},".toCollection()"))),(0,n.kt)("h2",r({},{id:"get"}),".get()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".get"),"( ",(0,n.kt)("em",{parentName:"p"},"primaryKey")," : Integer { ; ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object } ) : 4D.Entity",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".get"),"( ",(0,n.kt)("em",{parentName:"p"},"primaryKey")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object } ) : 4D.Entity"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"primaryKey"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer OR Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Valeur de la cl\xe9 primaire de l'entit\xe9 \xe0 r\xe9cup\xe9rer")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Option de cr\xe9ation : contexte")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.Entity"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Entit\xe9 correspondant \xe0 la cl\xe9 primaire indiqu\xe9e")))),(0,n.kt)("h4",r({},{id:"description-4"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".get()")," function queries the dataclass to retrieve the entity matching the ",(0,n.kt)("em",{parentName:"p"},"primaryKey")," parameter."),(0,n.kt)("p",null,"In ",(0,n.kt)("em",{parentName:"p"},"primaryKey"),", pass the primary key value of the entity to retrieve. Le type de valeur doit correspondre au type de cl\xe9 primaire d\xe9finie dans le datastore (entier long ou texte). You can also make sure that the primary key value is always returned as Text by using the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/EntityClass#getkey"}),(0,n.kt)("inlineCode",{parentName:"a"},".getKey()"))," function with the ",(0,n.kt)("inlineCode",{parentName:"p"},"dk key as string")," parameter."),(0,n.kt)("p",null,"If no entity is found with ",(0,n.kt)("em",{parentName:"p"},"primaryKey"),", a ",(0,n.kt)("strong",{parentName:"p"},"Null")," entity is returned."),(0,n.kt)("p",null,"Le chargement diff\xe9r\xe9 (lazy loading) est appliqu\xe9, ce qui signifie que les donn\xe9es associ\xe9es sont charg\xe9es \xe0 partir du disque uniquement lorsque cela est n\xe9cessaire."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"settings")),(0,n.kt)("p",null,"In the optional ",(0,n.kt)("em",{parentName:"p"},"settings")," parameter, you can pass an object containing additional options. La propri\xe9t\xe9 suivante est prise en charge :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"context"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom du contexte d'optimisation appliqu\xe9 \xe0 l'entit\xe9. Ce contexte sera utilis\xe9 par le code qui manipule l'entit\xe9 afin de b\xe9n\xe9ficier de l'optimisation. This feature is ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/ORDA/entities#client-server-optimization"}),"designed for ORDA client/server processing"),".")))),(0,n.kt)("h4",r({},{id:"exemple-1-2"}),"Exemple 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $entity : cs.EmployeeEntity  \n var $entity2 : cs.InvoiceEntity\n $entity:=ds.Employee.get(167) // return the entity whose primary key value is 167\n $entity2:=ds.Invoice.get("DGGX20030") // return the entity whose primary key value is "DGGX20030"\n')),(0,n.kt)("h4",r({},{id:"exemple-2-2"}),"Exemple 2"),(0,n.kt)("p",null,"This example illustrates the use of the ",(0,n.kt)("em",{parentName:"p"},"context")," property:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $e1; $e2; $e3; $e4 : cs.EmployeeEntity\n var $settings; $settings2 : Object\n\n $settings:=New object("context";"detail")\n $settings2:=New object("context";"summary")\n\n $e1:=ds.Employee.get(1;$settings)\n completeAllData($e1) // In completeAllData method, an optimization is triggered and associated to context "detail"\n\n $e2:=ds.Employee.get(2;$settings)\n completeAllData($e2) // In completeAllData method, the optimization associated to context "detail" is applied\n\n $e3:=ds.Employee.get(3;$settings2)\n completeSummary($e3) //In completeSummary method, an optimization is triggered and associated to context "summary"\n\n $e4:=ds.Employee.get(4;$settings2)\n completeSummary($e4) //In completeSummary method, the optimization associated to context "summary" is applied\n')),(0,n.kt)("h2",r({},{id:"getcount"}),".getCount()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getCount()")," : Integer "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre d'entit\xe9s dans la dataclass")))),(0,n.kt)("h4",r({},{id:"description-5"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getCount()")," function  returns the number of entities in a dataclass."),(0,n.kt)("p",null,"Si cette fonction est utilis\xe9e dans une transaction, les entit\xe9s cr\xe9\xe9es durant la transaction sont prises en compte."),(0,n.kt)("h4",r({},{id:"exemple-7"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $number : Integer\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$number:=$ds.Persons.getCount()\n')),(0,n.kt)("h2",r({},{id:"getdatastore"}),".getDataStore()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getDataStore()")," : cs.DataStore"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"cs.DataStore"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Datastore de la dataclass")))),(0,n.kt)("h4",r({},{id:"description-6"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getDataStore()")," function returns the datastore for the specified dataclass."),(0,n.kt)("p",null,"Le datastore peut \xeatre :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"the main datastore, as returned by the ",(0,n.kt)("inlineCode",{parentName:"li"},"ds")," command."),(0,n.kt)("li",{parentName:"ul"},"a remote datastore, opened using the ",(0,n.kt)("inlineCode",{parentName:"li"},"Open datastore")," command.")),(0,n.kt)("h4",r({},{id:"exemple-8"}),"Exemple"),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},(0,n.kt)("strong",{parentName:"em"},"SearchDuplicate"))," project method searches for duplicated values in any dataclass."),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $pet : cs.CatsEntity\n\n $pet:=ds.Cats.all().first() //get an entity\n SearchDuplicate($pet;"Dogs")\n')),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'  // SearchDuplicate method\n  // SearchDuplicate(entity_to_search;dataclass_name)\n\n #DECLARE ($pet : Object ; $dataClassName : Text)\n var $dataStore; $duplicates : Object  \n\n $dataStore:=$pet.getDataClass().getDataStore()\n $duplicates:=$dataStore[$dataClassName].query("name=:1";$pet.name)\n')),(0,n.kt)("h2",r({},{id:"getinfo"}),".getInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout propri\xe9t\xe9 exposed")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getInfo()")," : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Informations sur la dataclass")))),(0,n.kt)("h4",r({},{id:"description-7"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getInfo()")," function returns an object providing information about the dataclass. Cette fonction est utile pour l'\xe9criture de code g\xe9n\xe9rique."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Returned object")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"exposed"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai si la dataclass est expos\xe9e en REST")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom de la dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"primaryKey"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom de la cl\xe9 primaire de la dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"tableNumber"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Num\xe9ro interne de la table 4D")))),(0,n.kt)("h4",r({},{id:"exemple-1-3"}),"Exemple 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' #DECLARE ($entity : Object)  \n var $status : Object\n\n computeEmployeeNumber($entity) //do some actions on entity\n\n $status:=$entity.save()\n if($status.success)\n    ALERT("Record updated in table "+$entity.getDataClass().getInfo().name)\n End if\n')),(0,n.kt)("h4",r({},{id:"exemple-2-3"}),"Exemple 2"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $settings : Object\n var $es : cs.ClientsSelection\n\n $settings:=New object\n $settings.parameters:=New object("receivedIds";getIds())\n $settings.attributes:=New object("pk";ds.Clients.getInfo().primaryKey)\n $es:=ds.Clients.query(":pk in :receivedIds";$settings)\n')),(0,n.kt)("h4",r({},{id:"exemple-3-2"}),"Exemple 3"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $pk : Text\n var $dataClassAttribute : Object\n\n $pk:=ds.Employee.getInfo().primaryKey\n $dataClassAttribute:=ds.Employee[$pk] // If needed the attribute matching the primary key is accessible\n")),(0,n.kt)("h2",r({},{id:"getremotecache"}),".getRemoteCache()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRemoteCache"),"() : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet d\xe9crivant le contenu du cache ORDA pour la dataclass.")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. Dans la plupart des cas, vous n'aurez pas besoin de l'utiliser.")),(0,n.kt)("h4",r({},{id:"description-8"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getRemoteCache()")," function returns an object that holds the contents of the ORDA cache for a dataclass.."),(0,n.kt)("p",null,"Calling this function from a 4D single-user application returns ",(0,n.kt)("inlineCode",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,"L'objet retourn\xe9 contient les propri\xe9t\xe9s suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"maxEntries"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Nombre maximum de collections "entries".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"stamp"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Marqueur du cache.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"timeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Dur\xe9e avant qu'une nouvelle entr\xe9e dans le cache soit indiqu\xe9e comme expir\xe9e.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"entries"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Contient un objet pour chaque entit\xe9 dans le cache.")))),(0,n.kt)("p",null,"Each entry object in the ",(0,n.kt)("inlineCode",{parentName:"p"},"entries")," collection has the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"data"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet contenant les donn\xe9es de l'entr\xe9e.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"expired"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True si l'entr\xe9e a expir\xe9.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"key"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cl\xe9 primaire de l'entit\xe9.")))),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"data")," object in each entry contains the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"__KEY"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"String"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cl\xe9 primaire de l'entit\xe9")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"__STAMP"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Longint"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Stamp de l'entit\xe9 dans la base de donn\xe9es")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"__TIMESTAMP"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"String"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Timestamp de l'entit\xe9 dans la base de donn\xe9es (le format est YYYY-MM-DDTHH:MM:SS:ms:Z)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataClassAttributeName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Variant"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"S'il y a des donn\xe9es dans le cache pour un attribut de dataclass, il est retourn\xe9 dans une propri\xe9t\xe9 du m\xeame type que dans la base de donn\xe9es.")))),(0,n.kt)("p",null,"Les donn\xe9es concernant les entit\xe9s li\xe9es sont stock\xe9es dans le cache de l'objet data."),(0,n.kt)("h4",r({},{id:"exemple-9"}),"Exemple"),(0,n.kt)("p",null,"In the following example, ",(0,n.kt)("inlineCode",{parentName:"p"},"$ds.Persons.all()")," loads the first entity with all its attributes. Then, the request optimization is triggered, so only ",(0,n.kt)("inlineCode",{parentName:"p"},"firstname")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"address.city")," are loaded."),(0,n.kt)("p",null,"Note that ",(0,n.kt)("inlineCode",{parentName:"p"},"address.city")," is loaded in the cache of the ",(0,n.kt)("inlineCode",{parentName:"p"},"Persons")," dataclass."),(0,n.kt)("p",null,"Only the first entity of the ",(0,n.kt)("inlineCode",{parentName:"p"},"Address")," dataclass is stored in the cache. Elle est charg\xe9e durant la premi\xe8re it\xe9ration de la boucle."),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $p : cs.PersonsEntity\nvar $cachePersons; $cacheAddress : Object\nvar $text : Text\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$persons:=$ds.Persons.all()\n\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / "\nEnd for each\n\n$cachePersons:=$ds.Persons.getRemoteCache()\n$cacheAddress:=$ds.Adress.getRemoteCache()\n')),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-1"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setremotecachesettings"}),".setRemoteCacheSettings()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#clearremotecache"}),".clearRemoteCache()")),(0,n.kt)("h2",r({},{id:"new"}),".new()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".new()")," : 4D.Entity "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.Entity"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nouvelle entit\xe9 correspondant \xe0 la dataclass")))),(0,n.kt)("h4",r({},{id:"description-9"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".new()")," function creates in memory and returns a new blank entity related to the Dataclass."),(0,n.kt)("p",null,"The entity object is created in memory and is not saved in the database until the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/EntityClass#save"}),(0,n.kt)("inlineCode",{parentName:"a"},".save( )"))," function is called. Si l'entit\xe9 est supprim\xe9e avant d'\xeatre sauvegard\xe9e, elle ne peut pas \xeatre r\xe9cup\xe9r\xe9e."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"4D Server"),": In client-server, if the primary key of the corresponding table is auto-incremented, it will be calculated when the entity is saved on the server."),(0,n.kt)("p",null,"All attributes of the entity are initialized with the ",(0,n.kt)("strong",{parentName:"p"},"null")," value."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Attributes can be initialized with default values if the ",(0,n.kt)("strong",{parentName:"p"},"Map NULL values to blank values")," option is selected at the 4D database structure level.")),(0,n.kt)("h4",r({},{id:"exemple-10"}),"Exemple"),(0,n.kt)("p",null,'Cet exemple cr\xe9e une nouvelle entit\xe9 dans la dataclass "Log" et enregistre les informations dans l\'attribut "info" :'),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $entity : cs.LogEntity\n $entity:=ds.Log.new() //create a reference\n $entity.info:="New entry" //store some information\n $entity.save() //save the entity\n')),(0,n.kt)("h2",r({},{id:"newselection"}),".newSelection()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".newSelection"),"( { ",(0,n.kt)("em",{parentName:"p"},"keepOrder")," : Integer } ) : 4D.EntitySelection "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"keepOrder"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk keep ordered"),": creates an ordered entity selection,",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"dk non ordered"),": creates an unordered entity selection (default if omitted)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nouvelle entity selection vide li\xe9e \xe0 la dataclass")))),(0,n.kt)("h4",r({},{id:"description-10"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".newSelection()")," function creates a new, blank, non-shareable entity selection, related to the dataclass, in memory."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For information on non-shareable entity selections, please refer to ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/entities#shareable-or-non-shareable-entity-selections"}),"this section"),".")),(0,n.kt)("p",null,"If you want to create an ordered entity selection, pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"dk keep ordered")," selector in the ",(0,n.kt)("em",{parentName:"p"},"keepOrder")," parameter. By default if you omit this parameter, or if you pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"dk non ordered")," selector, the method creates an unordered entity selection. Les entity selections non tri\xe9es sont plus rapides, mais vous ne pouvez pas vous fier aux positions des entit\xe9s. For more information, please see ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"Ordered vs Unordered entity selections"),"."),(0,n.kt)("p",null,"When created, the entity selection does not contain any entities (",(0,n.kt)("inlineCode",{parentName:"p"},"mySelection.length")," returns 0). This method lets you build entity selections gradually by making subsequent calls to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/EntitySelectionClass#add"}),(0,n.kt)("inlineCode",{parentName:"a"},"add()"))," function."),(0,n.kt)("h4",r({},{id:"exemple-11"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $USelection; $OSelection : cs.EmployeeSelection\n $USelection:=ds.Employee.newSelection() //create an unordered empty entity selection\n $OSelection:=ds.Employee.newSelection(dk keep ordered) //create an ordered empty entity selection\n")),(0,n.kt)("h2",r({},{id:"query"}),".query()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Prise en charge des param\xe8tres Formula")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Prise en charge des placeholders pour les valeurs")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".query"),"( ",(0,n.kt)("em",{parentName:"p"},"queryString")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"...value")," : any } { ; ",(0,n.kt)("em",{parentName:"p"},"querySettings")," : Object } ) : 4D.EntitySelection ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".query"),"( ",(0,n.kt)("em",{parentName:"p"},"formula")," : Object { ; ",(0,n.kt)("em",{parentName:"p"},"querySettings")," : Object } ) : 4D.EntitySelection "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"queryString"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Crit\xe8res de recherche en texte")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"formula"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Crit\xe8res de recherche en objet formule")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"value"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"any"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Valeur(s) \xe0 utiliser comme placeholder(s)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"querySettings"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Options de recherche : parameters, attributes, args, allowFormulas, context, queryPath, queryPlan")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"New entity selection made up of entities from dataclass meeting the search criteria specified in ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula"))))),(0,n.kt)("h4",r({},{id:"description-11"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".query()")," function searches for entities that meet the search criteria specified in ",(0,n.kt)("em",{parentName:"p"},"queryString")," or ",(0,n.kt)("em",{parentName:"p"},"formula")," and (optionally) ",(0,n.kt)("em",{parentName:"p"},"value"),"(s), for all the entities in the dataclass, and returns a new object of type ",(0,n.kt)("inlineCode",{parentName:"p"},"EntitySelection")," containing all the entities that are found. Le mode lazy loading est appliqu\xe9."),(0,n.kt)("p",null,"If no matching entities are found, an empty ",(0,n.kt)("inlineCode",{parentName:"p"},"EntitySelection")," is returned."),(0,n.kt)("h4",r({},{id:"param\xe8tre-querystring"}),"param\xe8tre queryString"),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"queryString")," parameter uses the following syntax:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"attributePath|formula comparator value   \n {logicalOperator attributePath|formula comparator value}   \n {order by attributePath {desc | asc}}\n")),(0,n.kt)("p",null,"o\xf9 :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"attributePath"),': path of attribute on which you want to execute the query. Ce param\xe8tre peut contenir un nom simple (par exemple "pays") ou un chemin d\'attribut valide (par exemple "pays.nom"). In case of an attribute path whose type is ',(0,n.kt)("inlineCode",{parentName:"li"},"Collection"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"[]")," notation is used to handle all the occurences (for example ",(0,n.kt)("inlineCode",{parentName:"li"},"children[].age"),").")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("em",{parentName:"p"},'You cannot use directly attributes whose name contains special characters such as ".", "',"[",' ]", or "=", ">", "#"..., because they will be incorrectly evaluated in the query string. If you need to query on such attributes, you must consider using placeholders, which allow an extended range of characters in attribute paths (see')," ",(0,n.kt)("strong",{parentName:"p"},"Using placeholders")," ",(0,n.kt)("em",{parentName:"p"},"below)."))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"formula"),": a valid formula passed as ",(0,n.kt)("inlineCode",{parentName:"p"},"Text")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"Object"),". La formule sera \xe9valu\xe9e pour chaque entit\xe9 trait\xe9e et doit retourner une valeur bool\xe9enne. Within the formula, the entity is available through the ",(0,n.kt)("inlineCode",{parentName:"p"},"This")," object."),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Text"),": the formula string must be preceeded by the ",(0,n.kt)("inlineCode",{parentName:"li"},"eval()")," statement, so that the query parser evaluates the expression correctly. For example: ",(0,n.kt)("em",{parentName:"li"},'"eval(length(This.lastname) >=30)"')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Object"),": the ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/fr/API/FunctionClass"}),"formula object")," is passed as a ",(0,n.kt)("strong",{parentName:"li"},"placeholder")," (see below). The formula must have been created using the ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/fr/API/FunctionClass#formula"}),(0,n.kt)("inlineCode",{parentName:"a"},"Formula"))," or ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/fr/API/FunctionClass#formula-from-string"}),(0,n.kt)("inlineCode",{parentName:"a"},"Formula from string"))," command.")))),(0,n.kt)("blockquote",null,(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"Keep in mind that 4D formulas only support ",(0,n.kt)("inlineCode",{parentName:"li"},"&")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"|")," symbols as logical operators."),(0,n.kt)("li",{parentName:"ul"},"Si la formule n'est pas le seul crit\xe8re de recherche, le syst\xe8me d'optimisation des requ\xeates pourra prioriser le traitement d'autres crit\xe8res (ex : attributs index\xe9s) et ainsi, la formule sera \xe9valu\xe9e uniquement pour un sous-ensemble d'entit\xe9s."))),(0,n.kt)("p",null,"Les formules contenues dans les requ\xeates peuvent recevoir des param\xe8tres via $1. This point is detailed in the ",(0,n.kt)("strong",{parentName:"p"},"formula parameter")," paragraph below."),(0,n.kt)("blockquote",null,(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"You can also pass directy a ",(0,n.kt)("inlineCode",{parentName:"li"},"formula")," parameter object instead of the ",(0,n.kt)("inlineCode",{parentName:"li"},"queryString")," parameter (recommended when formulas are more complex). See ",(0,n.kt)("strong",{parentName:"li"},"formula parameter")," paragraph below."),(0,n.kt)("li",{parentName:"ul"},"For security reasons, formula calls within ",(0,n.kt)("inlineCode",{parentName:"li"},"query()")," functions can be disallowed. See ",(0,n.kt)("inlineCode",{parentName:"li"},"querySettings")," parameter description."))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"comparator"),": symbol that compares ",(0,n.kt)("em",{parentName:"li"},"attributePath")," and ",(0,n.kt)("em",{parentName:"li"},"value"),". Les symboles suivants sont pris en charge :")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Comparaison"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Symbole(s)"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Commentaire"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Egal \xe0"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"=, =="),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retourne les donn\xe9es correspondantes, prend en charge le joker de recherche (@), ne tient pas compte de la casse et est non diacritique.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"===, IS"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retourne les donn\xe9es correspondantes, consid\xe8re le @ comme un caract\xe8re standard, ne tient pas compte de la casse et est non diacritique")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Diff\xe9rent de"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"#, !="),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Prend en charge le joker de recherche (@). Equivalent to "Not condition applied on a statement" (',(0,n.kt)("a",r({parentName:"td"},{href:"#not-equal-to-in-collections"}),"see below"),").")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"!==, IS NOT"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Consid\xe8re le @ comme un caract\xe8re standard")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Condition Not appliqu\xe9e \xe0 une assertion"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"NOT"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Les parenth\xe8ses sont obligatoires lorsque NOT est utilis\xe9 avant une d\xe9claration contenant plusieurs op\xe9rateurs. Equivalent to "Not equal to" (',(0,n.kt)("a",r({parentName:"td"},{href:"#not-equal-to-in-collections"}),"see below"),").")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Inf\xe9rieur \xe0"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<"),(0,n.kt)("td",r({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Sup\xe9rieur \xe0"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),">"),(0,n.kt)("td",r({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Inf\xe9rieur ou \xe9gal \xe0"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<="),(0,n.kt)("td",r({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Sup\xe9rieur ou \xe9gal \xe0"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"> ="),(0,n.kt)("td",r({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Inclus parmi"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"IN"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retourne les donn\xe9es \xe9gales \xe0 au moins une des valeurs d'une collection ou d'un ensemble de valeurs, prend en charge le joker de recherche (@)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Contient mot-cl\xe9"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"%"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Les mots-cl\xe9s peuvent \xeatre utilis\xe9s avec les attributs de type texte ou image")))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"value"),": the value to compare to the current value of the property of each entity in the entity selection. It can be a ",(0,n.kt)("strong",{parentName:"li"},"placeholder")," (see ",(0,n.kt)("strong",{parentName:"li"},"Using placeholders")," below) or any expression matching the data type property.\nLorsque vous utilisez une valeur constante, les r\xe8gles suivantes doivent \xeatre respect\xe9es :",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"text")," type constant can be passed with or without simple quotes (see ",(0,n.kt)("strong",{parentName:"li"},"Using quotes"),' below). Pour rechercher une cha\xeene dans une cha\xeene (recherche de type "contient"), utilisez le symbole joker (@) dans valeur pour isoler la cha\xeene \xe0 chercher, comme dans cet exemple : "@Smith@". Les mots-cl\xe9s suivants sont interdits pour des constantes de type texte : true, false.'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"boolean")," type constants: ",(0,n.kt)("strong",{parentName:"li"},"true")," or ",(0,n.kt)("strong",{parentName:"li"},"false")," (case sensitive)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"numeric")," type constants: decimals are separated by a '.' (period)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"date"),' type constants: "YYYY-MM-DD" format'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"null"),' constant: using the "null" keyword will find ',(0,n.kt)("strong",{parentName:"li"},"null")," and ",(0,n.kt)("strong",{parentName:"li"},"undefined")," properties."),(0,n.kt)("li",{parentName:"ul"},"in case of a query with an IN comparator, ",(0,n.kt)("em",{parentName:"li"},"value")," must be a collection, or values matching the type of the attribute path between ","["," ] separated by commas (for strings, ",(0,n.kt)("inlineCode",{parentName:"li"},'"')," characters must be escaped with ",(0,n.kt)("inlineCode",{parentName:"li"},"\\"),")."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"logicalOperator"),": used to join multiple conditions in the query (optional). Vous pouvez utiliser un des op\xe9rateurs logiques suivants (le nom ou le symbole peut \xeatre pass\xe9) :")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Conjonction"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Symbole(s)"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"AND"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"&, &&, and")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"OU"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"|",",","|","|",", or")))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"order by attributePath"),": you can include an order by ",(0,n.kt)("em",{parentName:"li"},"attributePath")," statement in the query so that the resulting data will be sorted according to that statement. You can use multiple order by statements, separated by commas (e.g., order by ",(0,n.kt)("em",{parentName:"li"},"attributePath1")," desc, ",(0,n.kt)("em",{parentName:"li"},"attributePath2")," asc). Par d\xe9faut, le tri est par ordre croissant. Passez 'desc' pour d\xe9finir un tri par ordre d\xe9croissant et 'asc' pour d\xe9finir un tri par ordre croissant.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If you use this statement, the returned entity selection is ordered (for more information, please refer to ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"Ordered vs Unordered entity selections"),").")),(0,n.kt)("h4",r({},{id:"utilisation-de-guillemets"}),"Utilisation de guillemets"),(0,n.kt)("p",null,"Lorsque vous utilisez des guillemets dans des recherches, vous devez utiliser des guillemets simples ' ' \xe0 l'int\xe9rieur de la requ\xeate et des guillemets doubles \" \" pour encadrer la requ\xeate, sinon une erreur est renvoy\xe9e. Par exemple :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"\"employee.name = 'smith' AND employee.firstname = 'john'\"\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Les guillemets simples (') ne sont pas pris en charge dans les valeurs recherch\xe9es car ils casseraient la cha\xeene de recherche. Par exemple, \"comp.name = 'John's pizza' \" g\xe9n\xe8rera une erreur. Si vous devez rechercher des valeurs contenant des guillemets simples, il est n\xe9cessaire d'utiliser des placeholders (voir ci-dessous).")),(0,n.kt)("h4",r({},{id:"utilisation-de-parenth\xe8ses"}),"Utilisation de parenth\xe8ses"),(0,n.kt)("p",null,"Vous pouvez utiliser des parenth\xe8ses dans la recherche afin de prioriser les calculs. Par exemple, vous pouvez organiser une recherche de la mani\xe8re suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"\"(employee.age >= 30 OR employee.age <= 65) AND (employee.salary <= 10000 OR employee.status = 'Manager')\"\n")),(0,n.kt)("h4",r({},{id:"utilisation-de-placeholders"}),"Utilisation de placeholders"),(0,n.kt)("p",null,"4D allows you to use placeholders for ",(0,n.kt)("em",{parentName:"p"},"attributePath"),", ",(0,n.kt)("em",{parentName:"p"},"formula")," and ",(0,n.kt)("em",{parentName:"p"},"value")," arguments within the ",(0,n.kt)("em",{parentName:"p"},"queryString")," parameter. Un placeholder est un param\xe8tre que vous ins\xe9rez dans des chaines de recherche et qui est remplac\xe9 par une autre valeur au moment o\xf9 la cha\xeene de recherche est \xe9valu\xe9e. La valeur des placeholders est \xe9valu\xe9e une seule fois, au d\xe9but de la requ\xeate ; elle n'est pas \xe9valu\xe9e pour chaque \xe9l\xe9ment."),(0,n.kt)("p",null,"Two types of placeholders can be used: ",(0,n.kt)("strong",{parentName:"p"},"indexed placeholders")," and ",(0,n.kt)("strong",{parentName:"p"},"named placeholders"),":"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Placeholders index\xe9s"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Placeholders nomm\xe9s"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"D\xe9finition"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Parameters are inserted as ",(0,n.kt)("inlineCode",{parentName:"td"},":paramIndex")," (for example :1, :2...) in ",(0,n.kt)("em",{parentName:"td"},"queryString")," and their corresponding values are provided by the sequence of ",(0,n.kt)("em",{parentName:"td"},"value")," parameter(s). You can use up to 128 ",(0,n.kt)("em",{parentName:"td"},"value")," parameters"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Parameters are inserted as ",(0,n.kt)("inlineCode",{parentName:"td"},":paramName")," (for example :myparam) and their values are provided in the attributes and/or parameters objects in the ",(0,n.kt)("em",{parentName:"td"},"querySettings")," parameter")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Exemple"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},'$r:=class.query(":1=:2";"city";"Chicago")')),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},'$o.attributes:=New object("att";"city")'),(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},'$o.parameters:=New object("name";"Chicago")'),(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},'$r:=class.query(":att=:name";$o)'))))),(0,n.kt)("p",null,"You can mix all argument kinds in ",(0,n.kt)("em",{parentName:"p"},"queryString"),". A ",(0,n.kt)("em",{parentName:"p"},"queryString")," can contain, for ",(0,n.kt)("em",{parentName:"p"},"attributePath"),", ",(0,n.kt)("em",{parentName:"p"},"formula")," and ",(0,n.kt)("em",{parentName:"p"},"value")," parameters:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"des valeurs directes (pas de placeholders)"),(0,n.kt)("li",{parentName:"ul"},"des placeholders index\xe9s et/ou nomm\xe9s.")),(0,n.kt)("p",null,"Using placeholders in queries ",(0,n.kt)("strong",{parentName:"p"},"is recommended")," for the following reasons:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Cela emp\xeache l'injection de code malveillant : si vous utilisez dans la cha\xeene de recherche des variables dont le contenu provient directement de la saisie de l'utilisateur, celui-ci pourrait modifier les conditions de recherche en saisissant des arguments de recherche suppl\xe9mentaires. Par exemple, imaginez une cha\xeene de recherche du type :")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," $vquery:=\"status = 'public' & name = \"+myname //user enters their name\n $result:=$col.query($vquery)\n")),(0,n.kt)("p",null,"Cette recherche semble s\xe9curis\xe9e puisque les donn\xe9es non publiques sont filtr\xe9es. However, if the user enters in the ",(0,n.kt)("em",{parentName:"p"},"myname")," area something like ",(0,n.kt)("em",{parentName:"p"},"\"smith OR status='private'"),", the query string would be modified at the interpretation step and could return private data."),(0,n.kt)("p",null,"Lorsque vous utilisez des placeholders, le contournement des options de s\xe9curit\xe9 n'est pas possible :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," $result:=$col.query(\"status='public' & name=:1\";myname)\n")),(0,n.kt)("p",null,"In this case if the user enters ",(0,n.kt)("em",{parentName:"p"},"smith OR status='private'")," in the ",(0,n.kt)("em",{parentName:"p"},"myname")," area, it will not be interpreted in the query string, but only passed as a value. La recherche d'une personne nomm\xe9e \"smith OR status='private\"' \xe9chouera simplement."),(0,n.kt)("ol",r({},{start:2}),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"It prevents having to worry about formatting or character issues, especially when handling ",(0,n.kt)("em",{parentName:"p"},"attributePath")," or ",(0,n.kt)("em",{parentName:"p"},"value"),' parameters that might contain non-alphanumeric characters such as ".", "[\'...')),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Cela permet l'utilisation de variables ou d'expressions dans les arguments de recherche. Exemples :"))),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$result:=$col.query("address.city = :1 & name =:2";$city;$myVar+"@")\n$result2:=$col.query("company.name = :1";"John\'s Pizzas")\n')),(0,n.kt)("h4",r({},{id:"recherche-de-valeurs-null"}),"Recherche de valeurs null"),(0,n.kt)("p",null,"Lorsque vous recherchez les valeurs null, vous ne pouvez pas utiliser la syntaxe placeholder car le moteur de recherche consid\xe8re la valeur null comme une valeur de comparaison invalide. Par exemple, si vous ex\xe9cutez la recherche suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$vSingles:=ds.Person.query("spouse = :1";Null) // ne fonctionnera PAS\n')),(0,n.kt)("p",null,"Vous n'obtiendrez pas le r\xe9sultat souhait\xe9 car la valeur null sera \xe9valu\xe9e par 4D comme une erreur r\xe9sultant de l'\xe9valuation du param\xe8tre (pouvant \xeatre, par exemple, un attribut provenant d'une autre recherche). Pour ce type de recherche, vous devez utiliser la syntaxe de recherche directe :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $vSingles:=ds.Person.query("spouse = null") //correct syntax\n')),(0,n.kt)("h4",r({},{id:"not-equal-to-et-les-collections"}),"Not equal to et les collections"),(0,n.kt)("p",null,'When searching within dataclass object attributes containing collections, the "not equal to ',(0,n.kt)("em",{parentName:"p"},"value"),'" comparator (',(0,n.kt)("inlineCode",{parentName:"p"},"#")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"!="),") will find elements where ALL properties are different from ",(0,n.kt)("em",{parentName:"p"},"value")," (and not those where AT LEAST one property is different from ",(0,n.kt)("em",{parentName:"p"},"value"),', which is how work other comparators). Basically, it is equivalent to search for "Not(find collection elements where property equals ',(0,n.kt)("em",{parentName:"p"},"value"),'"). Par exemple, avec les entit\xe9s suivantes :'),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),'Entity 1:\nds.Class.name: "A"\nds.Class.info:\n    { "coll" : [ {\n                "val":1,\n                "val":1\n            } ] }\n\nEntity 2:\nds.Class.name: "B"\nds.Class.info:\n    { "coll" : [ {\n                "val":1,\n                "val":0\n            } ] }\n\nEntity 3:\nds.Class.name: "C"\nds.Class.info:\n    { "coll" : [ {\n                "val":0,\n                "val":0\n            } ] }\n')),(0,n.kt)("p",null,"Consid\xe9rons les r\xe9sultats suivants :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'ds.Class.query("info.coll[].val = :1";0)\n// renvoie B et C\n// trouve "entit\xe9s avec 0 dans au moins une propri\xe9t\xe9 val"\n\nds.Class.query("info.coll[].val != :1";0)\n// renvoie uniquement A\n// trouve les "entit\xe9s dont toutes les propri\xe9t\xe9s val sont diff\xe9rentes de 0"\n// ce qui est \xe9quivalent \xe0\nds.Class.query(not("info.coll[].val = :1";0))\n')),(0,n.kt)("p",null,'If you want to implement a query that finds entities where "at least one property is different from ',(0,n.kt)("em",{parentName:"p"},"value"),'", you need to use a special notation using a letter in the ',(0,n.kt)("inlineCode",{parentName:"p"},"[]"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'ds.Class.query("info.coll[a].val != :1";0)  \n// renvoie A et B\n// trouve "les entit\xe9s dont au moins une propri\xe9t\xe9 val est diff\xe9rente de 0"\n')),(0,n.kt)("p",null,"You can use any letter from the alphabet as the ",(0,n.kt)("inlineCode",{parentName:"p"},"[a]")," notation."),(0,n.kt)("h4",r({},{id:"lier-les-crit\xe8res-de-recherche-pour-les-attributs-de-collections"}),"Lier les crit\xe8res de recherche pour les attributs de collections"),(0,n.kt)("p",null,"Lorsque vous effectuez une recherche parmi des attributs objet de dataclass contenant des collections \xe0 l'aide de plusieurs crit\xe8res de recherche reli\xe9s par l'op\xe9rateur AND, vous pouvez vouloir vous assurer que seules les entit\xe9s contenant des \xe9l\xe9ments correspondant \xe0 tous les crit\xe8res sont renvoy\xe9es, et non les entit\xe9s o\xf9 les crit\xe8res peuvent \xeatre trouv\xe9s dans diff\xe9rents \xe9l\xe9ments. Pour ce faire, vous devez lier les crit\xe8res de la recherche aux \xe9l\xe9ments de la collection, de sorte que seuls les \xe9l\xe9ments individuels contenant les crit\xe8res li\xe9s soient trouv\xe9s."),(0,n.kt)("p",null,"Par exemple, avec les deux entit\xe9s suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),'Entity 1:\nds.People.name: "martin"\nds.People.places:\n    { "locations" : [ {\n                "kind":"home",\n                "city":"paris"\n            } ] }\n\nEntity 2:\nds.People.name: "smith"\nds.People.places:\n    { "locations" : [ {\n                "kind":"home",\n                "city":"lyon"\n            } , {\n                "kind":"office",\n                "city":"paris"\n            } ] }\n')),(0,n.kt)("p",null,"Vous souhaitez trouver des personnes dont le lieu de r\xe9sidence est situ\xe9 dans la ville de Paris. Si vous \xe9crivez :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'ds.People.query("places.locations[].kind= :1 and places.locations[].city= :2";"home";"paris")\n')),(0,n.kt)("p",null,'... the query will return "martin" ',(0,n.kt)("strong",{parentName:"p"},"and"),' "smith" because "smith" has a "locations" element whose "kind" is "home" and a "locations" element whose "city" is "paris", even though they are different elements.'),(0,n.kt)("p",null,"If you want to only get entities where matching arguments are in the same collection element, you need to ",(0,n.kt)("strong",{parentName:"p"},"link arguments"),". Pour lier des crit\xe8res de recherche :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Ajoutez une lettre entre le caract\xe8re ","[","] dans le premier chemin \xe0 lier et r\xe9p\xe9tez la m\xeame lettre dans tous les crit\xe8res li\xe9s. For example: ",(0,n.kt)("inlineCode",{parentName:"li"},"locations[a].city and locations[a].kind"),". Vous pouvez utiliser n'importe quelle lettre de l'alphabet latin (non sensible \xe0 la casse)."),(0,n.kt)("li",{parentName:"ul"},"Pour ajouter diff\xe9rents crit\xe8res li\xe9s dans la m\xeame requ\xeate, utilisez une autre lettre. Vous pouvez cr\xe9er jusqu'\xe0 26 combinaisons de crit\xe8res dans une seule requ\xeate.")),(0,n.kt)("p",null,"Avec les entit\xe9s ci-dessus, si vous \xe9crivez :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'ds.People.query("places.locations[a].kind= :1 and places.locations[a].city= :2";"home";"paris")\n')),(0,n.kt)("p",null,'... the query will only return "martin" because it has a "locations" element whose "kind" is "home" and whose "city" is "paris". La recherche ne retournera pas "smith" car les valeurs "home" et "paris" ne sont pas contenues dans le m\xeame \xe9l\xe9ment de collection.'),(0,n.kt)("h4",r({},{id:"recherches-dans-les-relations-n-vers-n"}),"Recherches dans les relations N vers N"),(0,n.kt)("p",null,"ORDA propose une syntaxe sp\xe9ciale pour faciliter les recherches dans les relations N vers N. In this context, you may need to search for different values with an ",(0,n.kt)("inlineCode",{parentName:"p"},"AND")," operator BUT in the same attribute. Par exemple, consid\xe9rez la structure suivante :"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"alt-text",src:a(968278).Z,width:"537",height:"268"})),(0,n.kt)("p",null,"Imagine that you want to search all movies in which ",(0,n.kt)("em",{parentName:"p"},"both")," actor A and actor B have a role. If you write a simple query using an ",(0,n.kt)("inlineCode",{parentName:"p"},"AND")," operator, it will not work:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'// code invalide\n$es:=ds.Movie.query("roles.actor.lastName = :1 AND roles.actor.lastName = :2";"Hanks";"Ryan")  \n// $es est vide\n')),(0,n.kt)("p",null,'Fondamentalement, le probl\xe8me vient de la logique interne de la recherche : vous ne pouvez pas rechercher une entit\xe9 dont un attribut aurait simultan\xe9ment la valeur "A" et "B".'),(0,n.kt)("p",null,"To make it possible to perform such queries, ORDA allows a special syntax: you just need to add a ",(0,n.kt)("em",{parentName:"p"},"class index")," between ",(0,n.kt)("strong",{parentName:"p"},"{}")," in all additional relation attributes used in the string:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'"relationAttribute.attribute = :1 AND relationAttribute{x}.attribute = :2 [AND relationAttribute{y}.attribute...]"\n')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"{x}")," tells ORDA to create another reference for the relation attribute. Le moteur de recherches effectuera alors toutes les op\xe9rations internes n\xe9cessaires. Note that ",(0,n.kt)("strong",{parentName:"p"},"x")," can be any number ",(0,n.kt)("strong",{parentName:"p"},"except 0"),": {1}, or {2}, or {1540}... ORDA a simplement besoin d'une r\xe9f\xe9rence unique dans la recherche pour chaque class index."),(0,n.kt)("p",null,"Dans notre exemple, cela pourrait donner :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'// code valide\n$es:=ds.Movie.query("roles.actor.lastName = :1 AND roles.actor{2}.lastName = :2";"Hanks";"Ryan")  \n// $es contient des films (You\'ve Got Mail, Sleepless in Seattle, Joe Versus the Volcano)\n')),(0,n.kt)("h4",r({},{id:"param\xe8tre-formula"}),"Param\xe8tre formula"),(0,n.kt)("p",null,"As an alternative to formula insertion within the ",(0,n.kt)("em",{parentName:"p"},"queryString")," parameter (see above), you can pass directly a formula object as a boolean search criteria. Using a formula object for queries is ",(0,n.kt)("strong",{parentName:"p"},"recommended")," since you benefit from tokenization, and code is easier to search/read."),(0,n.kt)("p",null,"The formula must have been created using the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/FunctionClass#formula"}),(0,n.kt)("inlineCode",{parentName:"a"},"Formula"))," or ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/FunctionClass#formula-from-string"}),(0,n.kt)("inlineCode",{parentName:"a"},"Formula from string"))," command. Dans ce cas :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"the ",(0,n.kt)("em",{parentName:"li"},"formula")," is evaluated for each entity and must return true or false. Lors de l'ex\xe9cution de la requ\xeate, si le r\xe9sultat de la formule n'est pas un bool\xe9en, il est consid\xe9r\xe9 comme faux."),(0,n.kt)("li",{parentName:"ul"},"within the ",(0,n.kt)("em",{parentName:"li"},"formula"),", the entity is available through the ",(0,n.kt)("inlineCode",{parentName:"li"},"This")," object."),(0,n.kt)("li",{parentName:"ul"},"if the ",(0,n.kt)("inlineCode",{parentName:"li"},"Formula")," object is ",(0,n.kt)("strong",{parentName:"li"},"null"),', the error 1626 ("Expecting a text or formula") is generated, that you call intercept using a method installed with ',(0,n.kt)("inlineCode",{parentName:"li"},"ON ERR CALL"),".")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For security reasons, formula calls within ",(0,n.kt)("inlineCode",{parentName:"p"},"query()")," functions can be disallowed. See ",(0,n.kt)("em",{parentName:"p"},"querySettings")," parameter description.")),(0,n.kt)("h4",r({},{id:"passer-des-param\xe8tres-aux-formules"}),"Passer des param\xe8tres aux formules"),(0,n.kt)("p",null,"Any ",(0,n.kt)("em",{parentName:"p"},"formula")," called by the ",(0,n.kt)("inlineCode",{parentName:"p"},"query()")," class function can receive parameters:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Parameters must be passed through the ",(0,n.kt)("strong",{parentName:"li"},"args")," property (object) of the ",(0,n.kt)("em",{parentName:"li"},"querySettings")," parameter."),(0,n.kt)("li",{parentName:"ul"},"The formula receives this ",(0,n.kt)("strong",{parentName:"li"},"args")," object as a ",(0,n.kt)("strong",{parentName:"li"},"$1")," parameter.")),(0,n.kt)("p",null,"Ce code montre comment les param\xe8tres sont pass\xe9s aux fonctions :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $settings:=New object("args";New object("exclude";"-")) //args object to pass parameters\n $es:=ds.Students.query("eval(checkName($1.exclude))";$settings) //args is received in $1\n')),(0,n.kt)("p",null,"Des exemples suppl\xe9mentaires sont fournis dans l'exemple 3."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"4D Server"),": In client/server, formulas are executed on the server. In this context, only the ",(0,n.kt)("inlineCode",{parentName:"p"},"querySettings.args")," object is sent to the formulas."),(0,n.kt)("h4",r({},{id:"param\xe8tre-querysettings"}),"Param\xe8tre querySettings"),(0,n.kt)("p",null,"In the ",(0,n.kt)("em",{parentName:"p"},"querySettings")," parameter, you can pass an object containing additional options. Les propri\xe9t\xe9s suivantes sont prises en charge :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"parameters"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},"Named placeholders for values")," used in the ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula"),". Values are expressed as property / value pairs, where property is the placeholder name inserted for a value in the ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula"),' (":placeholder") and value is the value to compare. Vous pouvez combiner, dans une m\xeame recherche, des placeholders index\xe9s (valeurs pass\xe9es directement dans les param\xe8tres ',(0,n.kt)("em",{"x-id":"3"},"value"),") et les valeurs des placeholders nomm\xe9s.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributes"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},"Named placeholders for attribute paths")," used in the ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula"),". Attributes are expressed as property / value pairs, where property is the placeholder name inserted for an attribute path in the ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula"),' (":placeholder"), and value can be a string or a collection of strings. Each value is a path that can designate either a scalar or a related attribute of the dataclass or a property in an object field of the dataclass',(0,n.kt)("table",null,(0,n.kt)("tr",null,(0,n.kt)("th",null,"Type"),(0,n.kt)("th",null,"Description")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"String"),(0,n.kt)("td",null,'attributePath expressed using the dot notation, e.g. "name" or "user.address.zipCode"')),(0,n.kt)("tr",null,(0,n.kt)("td",null,"Collection of strings"),(0,n.kt)("td",null,"Each string of the collection represents a level of attributePath, e.g. ","[",'"name"] or ',"[",'"user","address","zipCode"]. Using a collection allows querying on attributes with names that are not compliant with dot notation, e.g. ',"[",'"4Dv17.1","en/fr"]'))),"You can mix indexed placeholders (values directly passed in ",(0,n.kt)("em",{parentName:"td"},"value")," parameters) and named placeholder values in the same query.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"args"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Param\xe8tre(s) \xe0 passer aux formules, le cas \xe9ch\xe9ant. The ",(0,n.kt)("strong",{parentName:"td"},"args")," object will be received in $1 within formulas and thus its values will be available through ",(0,n.kt)("em",{parentName:"td"},"$1.property")," (see example 3).")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"allowFormulas"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Vrai pour autoriser les appels de formules dans la query (d\xe9faut). Passez faux pour interdire l'ex\xe9cution de formules. If set to false and ",(0,n.kt)("inlineCode",{parentName:"td"},"query()")," is given a formula, an error is sent (1278 - Formula not allowed in this member method).")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"context"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nom du contexte d'optimisation automatique appliqu\xe9 \xe0 l'entity selection. Ce contexte sera utilis\xe9 par le code qui manipule l'entity selection afin de b\xe9n\xe9ficier de l'optimisation. This feature is designed for client/server processing; for more information, please refer to the ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/fr/ORDA/client-server-optimization#optimization-context"}),(0,n.kt)("strong",{parentName:"a"},"Client/server optimization"))," section.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"queryPlan"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Dans l'entity selection r\xe9sultante, retourne ou ne retourne la description d\xe9taill\xe9e de la recherche juste avant d'\xeatre ex\xe9cut\xe9e, i.e. La propri\xe9t\xe9 retourn\xe9e est un objet qui inclut chaque recherche et sous-recherche programm\xe9e (dans le cas d'une recherche complexe). Cette option est utile durant la phase de d\xe9veloppement d'une application. Elle est utilis\xe9e conjointement \xe0 queryPath. Par d\xe9faut, si elle est omise : faux.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"queryPath"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Dans l'entity selection r\xe9sultante, retourne ou ne retourne pas la description d\xe9taill\xe9e de la recherche telle qu'elle est effectu\xe9e. La propri\xe9t\xe9 retourn\xe9e est un objet qui contient le chemin utilis\xe9 pour la recherche (g\xe9n\xe9ralement identique \xe0 celui de queryPlan, mais il peut \xeatre diff\xe9rent si le moteur parvient \xe0 optimiser la recherche), la dur\xe9e du traitement et le nombre d'enregistrements trouv\xe9s. Cette option est utile durant la phase de d\xe9veloppement d'une application. Par d\xe9faut, si elle est omise : faux.")))),(0,n.kt)("h4",r({},{id:"a-propos-de-queryplan-et-querypath"}),"A propos de queryPlan et queryPath"),(0,n.kt)("p",null,"The information recorded in ",(0,n.kt)("inlineCode",{parentName:"p"},"queryPlan"),"/",(0,n.kt)("inlineCode",{parentName:"p"},"queryPath")," include the query type (indexed and sequential) and each necessary subquery along with conjunction operators. Les query paths contiennent \xe9galement le nombre d'entit\xe9s trouv\xe9es et la dur\xe9e d'ex\xe9cution de chaque crit\xe8re de recherche. Il peut \xeatre utile d'analyser ces informations lors du d\xe9veloppement de vos applications. G\xe9n\xe9ralement, la description du plan de recherche (queryPlan) et son chemin r\xe9el (queryPath) sont identiques mais ils peuvent diff\xe9rer car 4D peut int\xe9grer des optimisations dynamiques lorsqu'une requ\xeate est ex\xe9cut\xe9e, afin d'am\xe9liorer les performances. Par exemple, le moteur 4D peut convertir dynamiquement une requ\xeate index\xe9e en requ\xeate s\xe9quentielle s'il estime qu'elle sera plus rapide. Ce cas particulier peut se produire lorsque le nombre d'entit\xe9s recherch\xe9es est faible."),(0,n.kt)("p",null,"Par exemple, si vous ex\xe9cutez la recherche suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $sel:=ds.Employee.query("salary < :1 and employer.name = :2 or employer.revenues > :3";\\  \n 50000;"Lima West Kilo";10000000;New object("queryPath";True;"queryPlan";True))\n')),(0,n.kt)("p",null,"queryPlan:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"{Or:[{And:[{item:[index : Employee.salary ] < 50000},  \n {item:Join on Table : Company  :  Employee.employerID = Company.ID,  \n subquery:[{item:[index : Company.name ] = Lima West Kilo}]}]},  \n {item:Join on Table : Company  :  Employee.employerID = Company.ID,  \n subquery:[{item:[index : Company.revenues ] > 10000000}]}]}\n")),(0,n.kt)("p",null,"queryPath:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"{steps:[{description:OR,time:63,recordsfounds:1388132,  \n steps:[{description:AND,time:32,recordsfounds:131,  \n steps:[{description:[index : Employee.salary ] < 50000,time:16,recordsfounds:728260},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:0,recordsfounds:131,  \n steps:[{steps:[{description:[index : Company.name ] = Lima West Kilo,time:0,recordsfounds:1}]}]}]},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:31,recordsfounds:1388132,  \n steps:[{steps:[{description:[index : Company.revenues ] > 10000000,time:0,recordsfounds:933}]}]}]}]}\n")),(0,n.kt)("h4",r({},{id:"exemple-1-4"}),"Exemple 1"),(0,n.kt)("p",null,"Cette section pr\xe9sente diff\xe9rents exemples de recherches."),(0,n.kt)("p",null,"Recherche avec une cha\xeene :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"$entitySelection:=ds.Customer.query(\"firstName = 'S@'\")\n")),(0,n.kt)("p",null,"Recherche avec une instruction NOT :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("not(firstName=Kim)")\n')),(0,n.kt)("p",null,"Recherche avec des dates :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("birthDate > :1";"1970-01-01")\n$entitySelection:=ds.Employee.query("birthDate <= :1";Current date-10950)\n')),(0,n.kt)("p",null,"Recherche avec des placeholders index\xe9s pour les valeurs :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Customer.query("(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)";"D@";"R@";"S@";"K@")\n')),(0,n.kt)("p",null,"Recherche avec des placeholders index\xe9s pour les valeurs sur une dataclass li\xe9e :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("lastName = :1 and manager.lastName = :2";"M@";"S@")\n')),(0,n.kt)("p",null,"Recherche avec des placeholders index\xe9s avec tri d\xe9croissant :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Student.query("nationality = :1 order by campus.name desc, lastname";"French")\n')),(0,n.kt)("p",null,"Recherche avec des placeholders nomm\xe9s pour les valeurs :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $querySettings : Object\nvar $managedCustomers : cs.CustomerSelection\n$querySettings:=New object\n$querySettings.parameters:=New object("userId";1234;"extraInfo";New object("name";"Smith"))\n$managedCustomers:=ds.Customer.query("salesperson.userId = :userId and name = :extraInfo.name";$querySettings)\n')),(0,n.kt)("p",null,"Recherche utilisant les placeholders nomm\xe9s et index\xe9s pour les valeurs :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $querySettings : Object\nvar $managedCustomers : cs.CustomerSelection\n$querySettings.parameters:=New object("userId";1234)\n$managedCustomers:=ds.Customer.query("salesperson.userId = :userId and name=:1";"Smith";$querySettings)\n')),(0,n.kt)("p",null,"Recherche avec objets queryPlan et queryPath :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)";"D@";"R@";"S@";"K@";New object("queryPlan";True;"queryPath";True))\n\n  //vous pouvez ensuite obtenir ces propri\xe9t\xe9s dans la s\xe9lection d\'entit\xe9 r\xe9sultante\nvar $queryPlan; $queryPath : Object\n$queryPlan:=$entitySelection.queryPlan\n$queryPath:=$entitySelection.queryPath\n')),(0,n.kt)("p",null,"Recherche avec un chemin d'attribut de type Collection :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("extraInfo.hobbies[].name = :1";"horsebackriding")\n')),(0,n.kt)("p",null,"Recherche avec un chemin d'attribut de type Collection et des crit\xe8res li\xe9s :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("extraInfo.hobbies[a].name = :1 and extraInfo.hobbies[a].level=:2";"horsebackriding";2)\n')),(0,n.kt)("p",null,"Recherche avec un chemin d'attribut de type Collection et plusieurs crit\xe8res li\xe9s :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("extraInfo.hobbies[a].name = :1 and\n extraInfo.hobbies[a].level = :2 and extraInfo.hobbies[b].name = :3 and\n extraInfo.hobbies[b].level = :4";"horsebackriding";2;"Tennis";5)\n')),(0,n.kt)("p",null,"Recherche avec un chemin d'attribut de type Objet :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("extra.eyeColor = :1";"blue")\n')),(0,n.kt)("p",null,"Recherche avec instruction IN :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("firstName in :1";New collection("Kim";"Dixie"))\n')),(0,n.kt)("p",null,"Recherche avec instruction NOT (IN) :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("not (firstName in :1)";New collection("John";"Jane"))\n')),(0,n.kt)("p",null,"Recherche avec des placeholders index\xe9s pour les attributs :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $es : cs.EmployeeSelection\n$es:=ds.Employee.query(":1 = 1234 and :2 = \'Smith\'";"salesperson.userId";"name")\n  //salesperson est une entit\xe9 reli\xe9e\n')),(0,n.kt)("p",null,"Recherche avec des placeholders index\xe9s pour les attributs et avec des placeholders nomm\xe9s pour les valeurs :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $es : cs.EmployeeSelection\nvar $querySettings : Object\n$querySettings:=New object\n$querySettings.parameters:=New object("customerName";"Smith")\n$es:=ds.Customer.query(":1 = 1234 and :2 = :customerName";"salesperson.userId";"name";$querySettings)\n  //salesperson est une entit\xe9 reli\xe9e\n')),(0,n.kt)("p",null,"Recherche avec des placeholders index\xe9s pour les attributs et les valeurs :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $es : cs.EmployeeSelection\n$es:=ds.Clients.query(":1 = 1234 and :2 = :3";"salesperson.userId";"name";"Smith")\n  //salesperson est une entit\xe9 reli\xe9e\n')),(0,n.kt)("h4",r({},{id:"exemple-2-4"}),"Exemple 2"),(0,n.kt)("p",null,"Cette section illustre les recherches avec des placeholders nomm\xe9s pour les attributs."),(0,n.kt)("p",null,"Consid\xe9rons une dataclass Employee avec 2 entit\xe9s :"),(0,n.kt)("p",null,"Entit\xe9 1 :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'name: "Marie"\nnumber: 46\nsoftwares:{\n"Word 10.2": "Installed",\n"Excel 11.3": "To be upgraded",\n"Powerpoint 12.4": "Not installed"\n}\n')),(0,n.kt)("p",null,"Entit\xe9 2 :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'name: "Sophie"\nnumber: 47\nsoftwares:{\n"Word 10.2": "Not installed",\n"Excel 11.3": "To be upgraded",\n"Powerpoint 12.4": "Not installed"\n}\n')),(0,n.kt)("p",null,"Recherche avec des placeholders nomm\xe9s pour les attributs :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $querySettings : Object\n var $es : cs.EmployeeSelection\n $querySettings:=New object\n $querySettings.attributes:=New object("attName";"name";"attWord";New collection("softwares";"Word 10.2"))\n $es:=ds.Employee.query(":attName = \'Marie\' and :attWord = \'Installed\'";$querySettings)\n  //$es.length=1 (Employee Marie)\n')),(0,n.kt)("p",null,"Recherche avec des placeholders nomm\xe9s pour les attributs et les valeurs :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $querySettings : Object\n var $es : cs.EmployeeSelection\n var $name : Text\n $querySettings:=New object\n  //Named placeholders for values\n  //The user is asked for a name\n $name:=Request("Please enter the name to search:")\n If(OK=1)\n    $querySettings.parameters:=New object("givenName";$name)\n  //Named placeholders for attribute paths\n    $querySettings.attributes:=New object("attName";"name")\n    $es:=ds.Employee.query(":attName= :givenName";$querySettings)\n End if\n')),(0,n.kt)("h4",r({},{id:"exemple-3-3"}),"Exemple 3"),(0,n.kt)("p",null,"Ces exemples illustrent les diverses mani\xe8res d'utiliser des formules avec ou sans param\xe8tres dans vos recherches."),(0,n.kt)("p",null,"The formula is given as text with ",(0,n.kt)("inlineCode",{parentName:"p"},"eval()")," in the ",(0,n.kt)("em",{parentName:"p"},"queryString")," parameter:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $es : cs.StudentsSelection\n $es:=ds.Students.query(\"eval(length(This.lastname) >=30) and nationality='French'\")\n")),(0,n.kt)("p",null,"The formula is given as a ",(0,n.kt)("inlineCode",{parentName:"p"},"Formula")," object through a placeholder:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $es : cs.StudentsSelection\n var $formula : Object\n $formula:=Formula(Length(This.lastname)>=30)\n $es:=ds.Students.query(\":1 and nationality='French'\";$formula)\n")),(0,n.kt)("p",null,"Only a ",(0,n.kt)("inlineCode",{parentName:"p"},"Formula")," object is given as criteria:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $es : cs.StudentsSelection\n var $formula : Object\n $formula:=Formula(Length(This.lastname)>=30)\n $es:=ds.Students.query($formula)\n")),(0,n.kt)("p",null,"Plusieurs formules peuvent \xeatre appliqu\xe9es :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $formula1; $1; $formula2 ;$0 : Object\n $formula1:=$1\n $formula2:=Formula(Length(This.firstname)>=30)\n $0:=ds.Students.query(\":1 and :2 and nationality='French'\";$formula1;$formula2)\n")),(0,n.kt)("p",null,"A text formula in ",(0,n.kt)("em",{parentName:"p"},"queryString")," receives a parameter:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $es : cs.StudentsSelection\n var $settings : Object\n $settings:=New object()\n $settings.args:=New object("filter";"-")\n $es:=ds.Students.query("eval(checkName($1.filter)) and nationality=:1";"French";$settings)\n')),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"  //checkName method\n #DECLARE($exclude : Text) -> $result : Boolean\n $result:=(Position($exclude;This.lastname)=0)\n")),(0,n.kt)("p",null,"Using the same ",(0,n.kt)("em",{parentName:"p"},(0,n.kt)("strong",{parentName:"em"},"checkName"))," method, a ",(0,n.kt)("inlineCode",{parentName:"p"},"Formula")," object as placeholder receives a parameter:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $es : cs.StudentsSelection\n var $settings; $formula : Object\n $formula:=Formula(checkName($1.filter))\n $settings:=New object()\n $settings.args:=New object("filter";"-")\n $es:=ds.Students.query(":1 and nationality=:2";$formula;"French";$settings)\n $settings.args.filter:="*" // change the parameters without updating the $formula object\n $es:=ds.Students.query(":1 and nationality=:2";$formula;"French";$settings)\n')),(0,n.kt)("p",null,"Nous voulons interdire les formules, par exemple lorsque les utilisateurs saisissent leurs requ\xeates :"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $es : cs.StudentsSelection\n var $settings : Object\n var $queryString : Text\n $queryString:=Request("Enter your query:")\n if(OK=1)\n    $settings:=New object("allowFormulas";False)\n    $es:=ds.Students.query($queryString;$settings) //An error is raised if $queryString contains a formula\n End if\n')),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-2"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"/docs/fr/API/EntitySelectionClass#query"}),(0,n.kt)("inlineCode",{parentName:"a"},".query()"))," for entity selections"),(0,n.kt)("h2",r({},{id:"setremotecachesettings"}),".setRemoteCacheSettings()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historique"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modifications"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Ajout"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setRemoteCacheSettings"),"(",(0,n.kt)("em",{parentName:"p"},"settings")," : Object) "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objet d\xe9finissant le timeout et la taille maximum du cache ORDA pour la dataclass.")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. Dans la plupart des cas, vous n'aurez pas besoin de l'utiliser.")),(0,n.kt)("h4",r({},{id:"description-12"}),"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".setRemoteCacheSettings()")," function sets the timeout and maximum size of the ORDA cache for a dataclass.."),(0,n.kt)("p",null,"In the ",(0,n.kt)("em",{parentName:"p"},"settings")," parameter, pass an object with the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"timeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Timeout en secondes.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"maxEntries"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre maximum d'entit\xe9s.")))),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"timeout")," sets the timeout of the ORDA cache for the dataclass (default is 30 seconds). Lorsque le timeout est atteint, les entit\xe9s de la dataclass dans le cache sont consid\xe9r\xe9es comme expir\xe9es. Cela signifie que :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"les donn\xe9es sont toujours pr\xe9sentes"),(0,n.kt)("li",{parentName:"ul"},"la prochaine fois que les donn\xe9es seront requises, elles seront demand\xe9es au serveur"),(0,n.kt)("li",{parentName:"ul"},"4D supprime automatiquement les donn\xe9es expir\xe9es lorsque le nombre maximum d'entit\xe9s est atteint")),(0,n.kt)("p",null,"Setting a ",(0,n.kt)("inlineCode",{parentName:"p"},"timeout")," property sets a new timeout for the entities already present in the cache. Cela peut \xeatre utile lorsque vous travaillez avec des donn\xe9es qui ne changent pas souvent, et pour lesquelles de nouvelles requ\xeates au serveur ne sont donc pas n\xe9cessaires."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"maxEntries")," sets the max number of entities in the ORDA cache. Par d\xe9faut ce nombre est 30 000."),(0,n.kt)("p",null,"The minimum number of entries is 300, so the value of ",(0,n.kt)("inlineCode",{parentName:"p"},"maxEntries")," must be equal to or higher than 300. Sinon la valeur est ignor\xe9e et le nombre d'entr\xe9es maximum est fix\xe9 \xe0 300."),(0,n.kt)("p",null,"If no valid properties are passed as ",(0,n.kt)("inlineCode",{parentName:"p"},"timeout")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"maxEntries"),", the cache remains unchanged, with its default or previously set values."),(0,n.kt)("p",null,"Lorsqu'une entit\xe9 est sauvegard\xe9e, elle est mise \xe0 jour dans le cache et expirera lorsque le timeout sera atteint."),(0,n.kt)("h4",r({},{id:"exemple-12"}),"Exemple"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$ds.Buildings.setRemoteCacheSettings(New object("timeout"; 60; "maxEntries"; 350))\n')),(0,n.kt)("h4",r({},{id:"voir-\xe9galement-3"}),"Voir \xe9galement"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#clearremotecache"}),".clearRemoteCache()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#clearremotecache"}),".getRemoteCache()")))}d.isMDXComponent=!0},695034:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dataclassAttribute-a6b39462dc310d6f9b5816409d863cee.png"},647844:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dataclassAttribute2-815959fd721b6dd175aaa338e04c2f38.png"},968278:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/manytomany-1ad2ed56ebdb101476120ab419c1994d.png"}}]);