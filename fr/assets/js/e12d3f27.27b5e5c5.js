"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["56275"],{241510:function(e,n,s){s.r(n),s.d(n,{default:()=>u,frontMatter:()=>a,metadata:()=>r,assets:()=>d,toc:()=>o,contentTitle:()=>i});var r=JSON.parse('{"id":"commands-legacy/average","title":"Average","description":"Average ( s\xe9ries {; cheminAttribut} ) : Real","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/average.md","sourceDirName":"commands-legacy","slug":"/commands/average","permalink":"/docs/fr/commands/average","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Faverage.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"average","title":"Average","slug":"/commands/average","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"On a Series","permalink":"/docs/fr/category/on-a-series"},"next":{"title":"Max","permalink":"/docs/fr/commands/max"}}'),t=s("785893"),l=s("250065");let a={id:"average",title:"Average",slug:"/commands/average",displayed_sidebar:"docs"},i=void 0,d={},o=[{value:"Description",id:"description",level:4},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"Exemple 3",id:"exemple-3",level:4},{value:"Voir aussi",id:"voir-aussi",level:4},{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:4}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Average"})," ( ",(0,t.jsx)(n.em,{children:"s\xe9ries"})," {; ",(0,t.jsx)(n.em,{children:"cheminAttribut"}),"} ) : Real"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tre"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"s\xe9ries"}),(0,t.jsx)(n.td,{children:"Field, Array"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Valeurs dont vous voulez calculer la moyenne"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"cheminAttribut"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Chemin d'attribut duquel calculer la moyenne"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"Real"}),(0,t.jsx)(n.td,{children:"\u2190"}),(0,t.jsx)(n.td,{children:"Moyenne arithm\xe9tique de s\xe9ries"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Average"})," retourne la moyenne arithm\xe9tique de ",(0,t.jsx)(n.em,{children:"s\xe9ries"}),". Si ",(0,t.jsx)(n.em,{children:"s\xe9ries"})," est un champ index\xe9, l'index est utilis\xe9 pour le calcul."]}),"\n",(0,t.jsxs)(n.p,{children:["Vous pouvez passer dans ",(0,t.jsx)(n.em,{children:"s\xe9ries"})," un tableau (\xe0 une ou deux dimensions). Dans ce cas, le tableau doit \xeatre de type Entier, Entier long ou R\xe9el."]}),"\n",(0,t.jsxs)(n.p,{children:["La commande accepte un param\xe8tre optionnel de type texte, ",(0,t.jsx)(n.em,{children:"cheminAttribut"}),", que vous pouvez utiliser si ",(0,t.jsx)(n.em,{children:"s\xe9ries"})," est un champ de type Objet. Il vous permet de d\xe9finir le chemin de l'attribut dont le contenu doit \xeatre utilis\xe9 pour le calcul de la moyenne. Utilisez la notation \xe0 points standard pour d\xe9finir le chemin dans l'objet jusqu'\xe0 l'attribut, par exemple \"Clients.enfants.age\". Attention, gardez \xe0 l'esprit que les noms d'attributs d'objets tiennent compte de la casse des caract\xe8res.",(0,t.jsx)(n.br,{}),"\nSeules les valeurs num\xe9riques des attributs sont utilis\xe9es pour le calcul. Si l'attribut contient des valeurs non num\xe9riques, elles sont ignor\xe9es."]}),"\n",(0,t.jsxs)(n.p,{children:["Si la commande est correctement ex\xe9cut\xe9e, la variable syst\xe8me OK prend la valeur 1. Si elle est interrompue (par exemple si l'utilisateur clique sur le bouton ",(0,t.jsx)(n.strong,{children:"Arr\xeat"})," dans le thermom\xe8tre de progression), la variable OK prend la valeur 0."]}),"\n",(0,t.jsx)(n.h4,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,t.jsx)(n.p,{children:"Dans l'exemple suivant, une valeur est assign\xe9e \xe0 une variable se trouvant dans la zone de rupture R0 d'un formulaire sortie. La ligne de code ci-dessous constitue la m\xe9thode objet de la variable. Elle n'est ex\xe9cut\xe9e qu'\xe0 l'impression du niveau de rupture 0 :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"\xa0vMoyenne:=Average([Employ\xe9s]Salaire)\n"})}),"\n",(0,t.jsx)(n.p,{children:"La m\xe9thode suivante est appel\xe9e pour imprimer les enregistrements de la s\xe9lection courante et activer la phase de rupture :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0ALL RECORDS([Employ\xe9s])\n\xa0ORDER BY([Employ\xe9s];[Employ\xe9s]Nom;>)\n\xa0BREAK LEVEL(1)\n\xa0ACCUMULATE([Employ\xe9s]Salaire)\n\xa0FORM SET OUTPUT([Employ\xe9s];"FormImpression")\n\xa0PRINT SELECTION([Employ\xe9s])\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note :"})," La valeur du param\xe8tre de la commande ",(0,t.jsx)(n.a,{href:"/docs/fr/commands/break-level",children:"BREAK LEVEL"})," doit \xeatre \xe9gale au nombre de ruptures que contient l'\xe9tat. Pour plus d'informations sur les ruptures, reportez-vous aux commandes du th\xe8me ",(0,t.jsx)(n.em,{children:"Impressions"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,t.jsx)(n.p,{children:"Cet exemple vous permet d\u2019obtenir la moyenne des 15 premi\xe8res notes de la s\xe9lection :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"\xa0ARRAY REAL($TabNote;0)\n\xa0QUERY([Exams];[Exams]Exam_Date=!01/07/11!)\n\xa0ORDER BY([Exams];[Exams]Exam_Note;<)\n\xa0SELECTION TO ARRAY([Exams]Exam_Note;$TabNote)\n\xa0ARRAY REAL($TabNote;15)\n\xa0vAverage:=Average($TabNote)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-3",children:"Exemple 3"}),"\n",(0,t.jsx)(n.p,{children:'Votre table [Customer] comporte un champ objet "full_Data" contenant les donn\xe9es suivantes :'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:s(515466).Z+"",width:"886",height:"375"})}),"\n",(0,t.jsx)(n.p,{children:"Vous pouvez effectuer les calculs suivants :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0var $vAvg : Real\n\xa0ALL RECORDS([Customer])\n\xa0$vAvg:=Average([Customer]full_Data;"age")\n\xa0\xa0//$vAvg vaut 44,46\n\xa0\n\xa0var $vTot : Integer\n\xa0$vTot:=Sum([Customer]full_Data;"Children[].age")\n\xa0\xa0//$vTot vaut 105\n'})}),"\n",(0,t.jsx)(n.h4,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/docs/fr/commands/accumulate",children:"ACCUMULATE"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/commands/break-level",children:"BREAK LEVEL"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/commands/max",children:"Max"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/commands/min",children:"Min"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/commands/order-by",children:"ORDER BY"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/commands/print-selection",children:"PRINT SELECTION"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/commands/subtotal",children:"Subtotal"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/fr/commands/sum",children:"Sum"})]}),"\n",(0,t.jsx)(n.h4,{id:"propri\xe9t\xe9s",children:"Propri\xe9t\xe9s"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Num\xe9ro de commande"}),(0,t.jsx)(n.td,{children:"2"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Thread safe"}),(0,t.jsx)(n.td,{children:"\u2713"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Modifie les variables"}),(0,t.jsx)(n.td,{children:"OK"})]})]})]})]})}function u(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},515466:function(e,n,s){s.d(n,{Z:function(){return r}});let r=s.p+"assets/images/pict2898119.en-3a6d73312fa7bd639281fc7c22715fa7.png"},250065:function(e,n,s){s.d(n,{Z:function(){return i},a:function(){return a}});var r=s(667294);let t={},l=r.createContext(t);function a(e){let n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);