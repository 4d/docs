"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[70422],{603905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>c});var a=n(667294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),u=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=u(n),c=r,h=m["".concat(i,".").concat(c)]||m[c]||p[c]||o;return n?a.createElement(h,s(s({ref:t},d),{},{components:n})):a.createElement(h,s({ref:t},d))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=m;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:r,s[1]=l;for(var u=2;u<o;u++)s[u]=n[u];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},646601:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>d});n(667294);var a=n(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const s={id:"methods",title:"Methods"},l=void 0,i={unversionedId:"Concepts/methods",id:"version-20-R5/Concepts/methods",title:"Methods",description:"Une m\xe9thode est essentiellement un morceau de code qui ex\xe9cute une ou plusieurs action(s). Une m\xe9thode est compos\xe9e d'instructions.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-20-R5/Concepts/methods.md",sourceDirName:"Concepts",slug:"/Concepts/methods",permalink:"/docs/fr/Concepts/methods",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20Concepts%2Fmethods.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"methods",title:"Methods"},sidebar:"docs",previous:{title:"Tableaux",permalink:"/docs/fr/Concepts/arrays"},next:{title:"Param\xe8tres",permalink:"/docs/fr/Concepts/parameters"}},u={},d=[{value:"Types de m\xe9thodes",id:"types-de-m\xe9thodes",level:2},{value:"M\xe9thodes projet",id:"m\xe9thodes-projet",level:2},{value:"Sous-routines",id:"sous-routines",level:3},{value:"Objet formule",id:"objet-formule",level:3},{value:"M\xe9thodes de menu",id:"m\xe9thodes-de-menu",level:3},{value:"M\xe9thodes de gestion de process",id:"m\xe9thodes-de-gestion-de-process",level:3},{value:"M\xe9thodes de gestion d\u2019\xe9v\xe9nements et d&#39;erreurs",id:"m\xe9thodes-de-gestion-d\xe9v\xe9nements-et-derreurs",level:3},{value:"Execution mode",id:"execution-mode",level:3},{value:"Depuis l&#39;\xe9diteur de code",id:"depuis-l\xe9diteur-de-code",level:4},{value:"Dans la bo\xeete de dialogue Ex\xe9cuter la m\xe9thode",id:"dans-la-bo\xeete-de-dialogue-ex\xe9cuter-la-m\xe9thode",level:4},{value:"M\xe9thode projet r\xe9cursives",id:"m\xe9thode-projet-r\xe9cursives",level:2}],p={toc:d};function m(e){var{components:t}=e,n=o(e,["components"]);return(0,a.kt)("wrapper",r({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Une m\xe9thode est essentiellement un morceau de code qui ex\xe9cute une ou plusieurs action(s). Une m\xe9thode est compos\xe9e d'instructions."),(0,a.kt)("p",null,"Une instruction ex\xe9cute une action, et peut \xeatre simple ou complexe. Each statement usually consists of one line in the method (if necessary, it can however be ",(0,a.kt)("a",r({parentName:"p"},{href:"/docs/fr/Concepts/quick-tour#code-on-several-lines"}),"split using the ",(0,a.kt)("inlineCode",{parentName:"a"},"\\")," character"),")."),(0,a.kt)("p",null,"La taille maximale d'une m\xe9thode est limit\xe9e \xe0 2 Go de texte ou \xe0 32 000 lignes de code."),(0,a.kt)("h2",r({},{id:"types-de-m\xe9thodes"}),"Types de m\xe9thodes"),(0,a.kt)("p",null,"Dans le langage 4D, il existe plusieurs cat\xe9gories de m\xe9thodes. La cat\xe9gorie d\xe9pend de la fa\xe7on dont on peut les appeler :"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",r({parentName:"tr"},{align:null}),"Contexte d'appel"),(0,a.kt)("th",r({parentName:"tr"},{align:null}),"Accepte des param\xe8tres"),(0,a.kt)("th",r({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("strong",{parentName:"td"},"M\xe9thode")),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"On demand, when the project method name is called (see ",(0,a.kt)("a",r({parentName:"td"},{href:"#calling-project-methods"}),"Calling project methods"),")"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Oui"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Peut contenir du code pour ex\xe9cuter des actions personnalis\xe9es. Une fois que votre m\xe9thode projet est cr\xe9\xe9e, elle devient partie int\xe9grante du langage du projet.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("strong",{parentName:"td"},"Object (widget) method")),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Automatique, lorsqu'un \xe9v\xe9nement implique l'objet auquel la m\xe9thode est associ\xe9e"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Non"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9 d'un objet formulaire (\xe9galement appel\xe9 widget)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("strong",{parentName:"td"},"Form method")),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Automatique, lorsqu'un \xe9v\xe9nement implique le formulaire auquel la m\xe9thode est associ\xe9e"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Non"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9 d'un formulaire. Vous pouvez utiliser une m\xe9thode formulaire pour g\xe9rer les donn\xe9es et les objets, mais il est g\xe9n\xe9ralement plus simple et plus efficace d'utiliser une m\xe9thode objet dans ces cas de figure.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("strong",{parentName:"td"},"Trigger")," (aka ",(0,a.kt)("em",{parentName:"td"},"Table method"),")"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Automatique, chaque fois que vous manipulez les enregistrements d'une table (Ajouter, Supprimer, Modifier)"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Non"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Propri\xe9t\xe9 d'une table. Les triggers sont des m\xe9thodes qui permettent d'\xe9viter les op\xe9rations \"ill\xe9gales\" sur les enregistrements de votre base de donn\xe9es.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("strong",{parentName:"td"},"M\xe9thode base")),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Automatique, lorsqu'un \xe9v\xe9nement se produit sur la session de travail"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Oui (pr\xe9d\xe9fini)"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Il existe 16 m\xe9thodes base dans 4D.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("strong",{parentName:"td"},"Type")),(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("a",r({parentName:"td"},{href:"/docs/fr/Concepts/classes#function"}),(0,a.kt)("strong",{parentName:"a"},"Class functions"))," are called in the context of an object instance"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"oui"),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Class functions can be built-in (",(0,a.kt)("em",{parentName:"td"},"e.g.")," ",(0,a.kt)("inlineCode",{parentName:"td"},"collection.orderBy()")," or ",(0,a.kt)("inlineCode",{parentName:"td"},"entity.save()"),"), or created by the 4D developer. See ",(0,a.kt)("a",r({parentName:"td"},{href:"/docs/fr/Concepts/classes"}),(0,a.kt)("strong",{parentName:"a"},"Classes")))))),(0,a.kt)("h2",r({},{id:"m\xe9thodes-projet"}),"M\xe9thodes projet"),(0,a.kt)("p",null,"Une m\xe9thode projet peut tenir les r\xf4les suivants, en fonction de la mani\xe8re dont elle est ex\xe9cut\xe9e et utilis\xe9e :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Sous-routine"),(0,a.kt)("li",{parentName:"ul"},"Objet formule"),(0,a.kt)("li",{parentName:"ul"},"M\xe9thode de menu"),(0,a.kt)("li",{parentName:"ul"},"M\xe9thode de gestion de process"),(0,a.kt)("li",{parentName:"ul"},"M\xe9thode de gestion d\u2019\xe9v\xe9nements et d'erreurs")),(0,a.kt)("p",null,"Vous pouvez \xe9galement ex\xe9cuter les m\xe9thodes projet manuellement, \xe0 des fins de test par exemple."),(0,a.kt)("h3",r({},{id:"sous-routines"}),"Sous-routines"),(0,a.kt)("p",null,"Une sous-routine est une m\xe9thode projet qui peut \xeatre consid\xe9r\xe9e comme une m\xe9thode asservie. D\u2019autres m\xe9thodes lui demandent d\u2019effectuer des t\xe2ches. Une sous-routine qui retourne une valeur est appel\xe9e une fonction."),(0,a.kt)("p",null,"Lorsque vous cr\xe9ez une m\xe9thode projet, elle devient partie int\xe9grante du langage du projet dans lequel elle a \xe9t\xe9 cr\xe9\xe9e. You can then call the project method from another method (project method, object method...) in the same way that you call 4D\u2019s built-in commands. Une m\xe9thode projet utilis\xe9e de cette mani\xe8re est appel\xe9e une sous-routine."),(0,a.kt)("p",null,"L'utilisation de sous-routines procure les avantages suivants :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"R\xe9duction du code r\xe9p\xe9titif,"),(0,a.kt)("li",{parentName:"ul"},"Clarification des m\xe9thodes,"),(0,a.kt)("li",{parentName:"ul"},"Modification plus facile des m\xe9thodes,"),(0,a.kt)("li",{parentName:"ul"},"Cr\xe9ation de code modulaire")),(0,a.kt)("p",null,"Imaginons par exemple que vous travaillez sur un projet de clients. A mesure que vous construisez le projet, vous vous apercevez que vous r\xe9p\xe9tez souvent certaines t\xe2ches, telles que la recherche d\u2019un client et la modification de son enregistrement. Le code n\xe9cessaire \xe0 l\u2019accomplissement de cette op\xe9ration pourrait \xeatre :"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"  // Recherche d'un client\n QUERY BY EXAMPLE([Clients])\n  // S\xe9lection du formulaire entr\xe9e\n FORM SET INPUT([Clients];\"Saisie de donn\xe9es\")\n  // Modification de l'enregistrement du client\n MODIFY RECORD([Clients])\n")),(0,a.kt)("p",null,"Si vous n\u2019utilisez pas de sous-routines, vous devrez \xe9crire ce code \xe0 chaque fois que vous voudrez modifier l\u2019enregistrement d\u2019un client. Si cette op\xe9ration est r\xe9alis\xe9e dans dix endroits diff\xe9rents de votre projet, vous devrez la r\xe9\xe9crire dix fois. Gr\xe2ce aux sous-routines, vous ne l\u2019\xe9crirez qu\u2019une seule fois en tout. C\u2019est le premier avantage des sous-routines : r\xe9duire la quantit\xe9 de code \xe0 \xe9crire."),(0,a.kt)("p",null,"If the previously described code was a method called ",(0,a.kt)("inlineCode",{parentName:"p"},"MODIFY_CUSTOMER"),", you would execute it simply by using the name of the method in another method. Par exemple, pour modifier l\u2019enregistrement d\u2019un client puis l\u2019imprimer, vous n\u2019auriez qu\u2019\xe0 \xe9crire :"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"})," MODIFY_CUSTOMER\n PRINT SELECTION([Customers])\n")),(0,a.kt)("p",null,"Cette possibilit\xe9 simplifie \xe9norm\xe9ment vos m\xe9thodes. In the example, you do not need to know how the ",(0,a.kt)("inlineCode",{parentName:"p"},"MODIFY_CUSTOMER")," method works, just what it does. C\u2019est le deuxi\xe8me avantage que vous pouvez tirer de l\u2019utilisation de sous-routines : la clarification de votre code. Ainsi, ces m\xe9thodes deviennent en quelque sorte des extensions du langage de 4D."),(0,a.kt)("p",null,"Si vous devez modifier votre mode de recherche des clients, comme dans notre exemple, il vous suffit de modifier une seule m\xe9thode, et non dix. C\u2019est un autre avantage des sous-routines : faciliter les modifications de votre code."),(0,a.kt)("p",null,"Avec les sous-routines, vous rendez votre code modulaire. Cela signifie simplement que vous dissociez votre code en modules (sous-routines), chacun d\u2019entre eux effectuant une t\xe2che logique. Examinez le code suivant, tir\xe9 d\u2019un projet de gestion de compte courant :"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"})," FIND_CLEARED _CHECKS // Rechercher les ch\xe8ques \xe9mis\n RECONCILE_ACCOUNT // Rapprocher le compte\nPRINT_CHECK_BOOK_REPORT // Imprimer un relev\xe9\n")),(0,a.kt)("p",null,"M\xeame pour quelqu\u2019un qui ne conna\xeet pas le projet, le code est clair. Il n\u2019est pas n\xe9cessaire d\u2019examiner chaque sous-routine. Elles peuvent contenir de nombreuses lignes d\u2019instructions et effectuer des op\xe9rations complexes, mais l\u2019important est ce qu\u2019elles font. Nous vous conseillons de d\xe9couper votre code en t\xe2ches logiques, ou modules, \xe0 chaque fois que c\u2019est possible."),(0,a.kt)("h3",r({},{id:"objet-formule"}),"Objet formule"),(0,a.kt)("p",null,"You can encapsulate your project methods in ",(0,a.kt)("strong",{parentName:"p"},"formula")," objects and call them from your objects."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"Formula")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"Formula from string")," commands allow you to create native formula objects that you can encapsulate in object properties. Vous pouvez ainsi impl\xe9menter des m\xe9thodes d'objets personnalis\xe9es."),(0,a.kt)("p",null,"To execute a method stored in an object property, use the ",(0,a.kt)("strong",{parentName:"p"},"()")," operator after the property name. Par exemple :"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'//myAlert\nALERT("Hello world!")\n')),(0,a.kt)("p",null,"Then ",(0,a.kt)("inlineCode",{parentName:"p"},"myAlert")," can be encapsulated in any object and called:"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $o : Object\n$o:=New object("custom_Alert";Formula(myAlert))\n$o.custom_Alert() //affiche "Hello world!"\n')),(0,a.kt)("p",null,"La syntaxe avec des crochets est \xe9galement prise en charge :"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$o["custom_Alert"]() //affiche "Hello world!"\n')),(0,a.kt)("p",null,"You can also ",(0,a.kt)("a",r({parentName:"p"},{href:"/docs/fr/Concepts/parameters"}),"pass parameters")," to your formula when you call it by using $1, $2\u2026 just like with 4D project methods:"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'//m\xe9thode fullName\nC_TEXT($0;$1;$2)\n$0:=$1+" "+$2\n')),(0,a.kt)("p",null,"You can encapsulate ",(0,a.kt)("inlineCode",{parentName:"p"},"fullName")," in an object:"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $o : Object\n$o:=New object("full_name";Formula(fullName))\n$result:=$o.full_name("John";"Smith") \n//$result = "John Smith"\n//\xe9quivalent \xe0 $result:=fullName("param1";"param2")\n')),(0,a.kt)("p",null,"Combined with the ",(0,a.kt)("inlineCode",{parentName:"p"},"This"),"function, such object methods allow writing powerful generic code. Par exemple :"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'//m\xe9thode fullName2 \nC_TEXT($0)\n$0:=This.firstName+" "+This.lastName\n')),(0,a.kt)("p",null,"La m\xe9thode agit ensuite comme un nouvel attribut calcul\xe9 qui peut \xeatre ajout\xe9e aux autres attributs :"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $o : Object\n$o:=New object("firstName";"Jim";"lastName";"Wesson")\n$o.fullName:=Formula(fullName2) //ajout de la m\xe9thode  \n\n$result:=$o.fullName() \n//$result = "Jim Wesson"\n')),(0,a.kt)("p",null,"Note that, even if it does not have parameters, an object method to be executed must be called with ",(0,a.kt)("inlineCode",{parentName:"p"},"()")," parenthesis. Appeler uniquement la propri\xe9t\xe9 retournera une nouvelle r\xe9f\xe9rence \xe0 la formule (elle ne sera pas ex\xe9cut\xe9e) :"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"$o:=$f.message //retourne l'objet formule en $o\n")),(0,a.kt)("h3",r({},{id:"m\xe9thodes-de-menu"}),"M\xe9thodes de menu"),(0,a.kt)("p",null,"Une m\xe9thode de menu est appel\xe9e lorsque la commande de menu personnalis\xe9 \xe0 laquelle elle est associ\xe9e est s\xe9lectionn\xe9e. Vous assignez la m\xe9thode \xe0 la commande de menu dans l\u2019\xe9diteur de menus de 4D. Lorsque l\u2019utilisateur s\xe9lectionne la commande de menu, la m\xe9thode est ex\xe9cut\xe9e. En cr\xe9ant des menus personnalis\xe9s qui appellent des m\xe9thodes de menu qui ex\xe9cutent des actions sp\xe9cifiques, vous cr\xe9ez des interfaces personnalis\xe9es pour vos applications de bureau."),(0,a.kt)("p",null,"Les commandes de menus personnalis\xe9s peuvent d\xe9clencher une ou plusieurs actions. For example, a menu command for entering records might call a method that performs two tasks: displaying the appropriate input form, and calling the ",(0,a.kt)("inlineCode",{parentName:"p"},"ADD RECORD")," command until the user cancels the data entry activity."),(0,a.kt)("p",null,"L\u2019automatisation de s\xe9quences d\u2019actions est une possibilit\xe9 tr\xe8s puissante du langage de programmation de 4D. A l\u2019aide des menus personnalis\xe9s, vous pouvez automatiser des s\xe9quences de t\xe2ches, vous permettez aux utilisateurs de naviguer plus facilement dans votre application."),(0,a.kt)("h3",r({},{id:"m\xe9thodes-de-gestion-de-process"}),"M\xe9thodes de gestion de process"),(0,a.kt)("p",null,"A ",(0,a.kt)("strong",{parentName:"p"},"process method")," is a project method that is called when a process is started. Le process existera tant que la m\xe9thode sera en cours d'ex\xe9cution. Note that a menu method attached to a menu command with ",(0,a.kt)("em",{parentName:"p"},"Start a New Process")," property is also the process method for the newly started process."),(0,a.kt)("h3",r({},{id:"m\xe9thodes-de-gestion-d\xe9v\xe9nements-et-derreurs"}),"M\xe9thodes de gestion d\u2019\xe9v\xe9nements et d'erreurs"),(0,a.kt)("p",null,"An ",(0,a.kt)("strong",{parentName:"p"},"event catching method")," runs in a separate process as the process method for catching events. G\xe9n\xe9ralement, pour la gestion des \xe9v\xe9nements, vous pouvez laisser 4D faire le gros du travail. Par exemple, lors de la saisie de donn\xe9es, 4D d\xe9tecte les clics souris et les touches enfonc\xe9es, puis appelle les m\xe9thodes objet et formulaire correspondantes, vous permettant ainsi de pr\xe9voir dans ces m\xe9thodes les traitements appropri\xe9s aux \xe9v\xe9nements. For more information, see the description of the command ",(0,a.kt)("inlineCode",{parentName:"p"},"ON EVENT CALL"),"."),(0,a.kt)("p",null,"An ",(0,a.kt)("strong",{parentName:"p"},"error catching method")," is an interrupt-based project method. Elle est appel\xe9e \xe0 chaque fois qu'une erreur ou une exception se produit. For more information, see the ",(0,a.kt)("a",r({parentName:"p"},{href:"/docs/fr/Concepts/error-handling"}),"Error handling")," section."),(0,a.kt)("h3",r({},{id:"execution-mode"}),"Execution mode"),(0,a.kt)("p",null,"Les m\xe9thodes projet \xe9crites dans votre application sont g\xe9n\xe9ralement appel\xe9es automatiquement lors de l'utilisation de l'application par des commandes de menu, des boutons, d'autres m\xe9thodes, etc. Quant aux m\xe9thodes base, elles sont ex\xe9cut\xe9es en fonction d'\xe9v\xe9nements sp\xe9cifiques qui se produisent dans l'application."),(0,a.kt)("p",null,"Toutefois, \xe0 des fins de test et de d\xe9bogage, 4D vous permet d'ex\xe9cuter manuellement des m\xe9thodes projet et certaines m\xe9thodes base en mode D\xe9veloppement. Dans ce cas, il est possible d'ex\xe9cuter la m\xe9thode dans un nouveau process et/ou directement en mode Debug, afin de v\xe9rifier son ex\xe9cution pas \xe0 pas."),(0,a.kt)("p",null,"Vous pouvez ex\xe9cuter les m\xe9thodes de deux mani\xe8res :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Dans la fen\xeatre de l'\xe9diteur de code,"),(0,a.kt)("li",{parentName:"ul"},"Dans la bo\xeete de dialogue Ex\xe9cuter la m\xe9thode (m\xe9thodes projet).")),(0,a.kt)("h4",r({},{id:"depuis-l\xe9diteur-de-code"}),"Depuis l'\xe9diteur de code"),(0,a.kt)("p",null,"Each ",(0,a.kt)("a",r({parentName:"p"},{href:"/docs/fr/code-editor/write-class-method"}),(0,a.kt)("strong",{parentName:"a"},"Code Editor"))," window has a button that can be used to run the current method. A l'aide du menu associ\xe9 \xe0 ce bouton, vous pouvez choisir le type d'ex\xe9cution souhait\xe9."),(0,a.kt)("p",null,"Ce bouton est uniquement actif pour les m\xe9thodes projet et pour les m\xe9thodes base suivantes :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"On Startup"),(0,a.kt)("li",{parentName:"ul"},"On Exit"),(0,a.kt)("li",{parentName:"ul"},"On Server Startup"),(0,a.kt)("li",{parentName:"ul"},"On Server Shutdown")),(0,a.kt)("p",null,"For more information, see ",(0,a.kt)("a",r({parentName:"p"},{href:"/docs/fr/code-editor/write-class-method#toolbar"}),"Toolbar"),"."),(0,a.kt)("h4",r({},{id:"dans-la-bo\xeete-de-dialogue-ex\xe9cuter-la-m\xe9thode"}),"Dans la bo\xeete de dialogue Ex\xe9cuter la m\xe9thode"),(0,a.kt)("p",null,"When you select the ",(0,a.kt)("strong",{parentName:"p"},"Method...")," command of the ",(0,a.kt)("strong",{parentName:"p"},"Run")," menu,  displays the ",(0,a.kt)("strong",{parentName:"p"},"Execute Method")," dialog."),(0,a.kt)("p",null,"Cette bo\xeete de dialogue r\xe9pertorie toutes les m\xe9thodes projet de la base, y compris les m\xe9thodes projet partag\xe9es des composants. En revanche, les m\xe9thodes projet qui ont \xe9t\xe9 d\xe9clar\xe9es invisibles n'appara\xeetront pas."),(0,a.kt)("p",null,"To execute a project method, simply select its name in the list and click on ",(0,a.kt)("strong",{parentName:"p"},"Execute"),". To run a method step by step in Debug mode, click on ",(0,a.kt)("strong",{parentName:"p"},"Debug"),". For more information about the 4D debugger, refer to the ",(0,a.kt)("a",r({parentName:"p"},{href:"/docs/fr/Debugging/basics"}),"Debugging")," section."),(0,a.kt)("p",null,"If you check the ",(0,a.kt)("strong",{parentName:"p"},"New Process")," check box, the method you selected executes in another process. Si la m\xe9thode effectue une t\xe2che qui prend du temps, comme l'impression d'un grand nombre d'enregistrements, vous pouvez continuer \xe0 travailler avec votre base, en ajoutant des enregistrements \xe0 une table, en cr\xe9ant un graphe pour afficher les donn\xe9es, etc. For more information about processes, refer to ",(0,a.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4Dv19R5/4D/19-R5/Processes.300-5830912.en.html"}),"Processes")," the 4D ",(0,a.kt)("em",{parentName:"p"},"Language Reference")," manual."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"4D Server Notes"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If you want the method to be executed on the server machine rather than on the client machine, select the ",(0,a.kt)("strong",{parentName:"li"},"On 4D Server")," option in the To be executed menu. In this case, a new process, call a ",(0,a.kt)("em",{parentName:"li"},"stored procedure"),", is created on the server machine in order to execute the method. Cette option peut \xeatre utilis\xe9e pour r\xe9duire le trafic r\xe9seau et optimiser le fonctionnement de 4D Server, en particulier pour les m\xe9thodes qui appellent des donn\xe9es stock\xe9es sur le disque. Tous les types de m\xe9thodes peuvent \xeatre ex\xe9cut\xe9s sur la machine serveur ou sur une autre machine cliente, \xe0 l'exception de celles qui modifient l'interface utilisateur. Dans ce cas, les proc\xe9dures stock\xe9es sont inefficaces."),(0,a.kt)("li",{parentName:"ul"},'Vous pouvez \xe9galement choisir d\'ex\xe9cuter la m\xe9thode sur un autre poste client. Other client workstations will not appear in the menu, unless they have been previously "registered" (for more information, refer to the description of the ',(0,a.kt)("a",r({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page648.html"}),"REGISTER CLIENT"),".")),(0,a.kt)("p",null,"By default, the ",(0,a.kt)("strong",{parentName:"p"},"locally")," option is selected. Avec la version mono-utilisateur de 4D, c'est la seule option disponible."),(0,a.kt)("h2",r({},{id:"m\xe9thode-projet-r\xe9cursives"}),"M\xe9thode projet r\xe9cursives"),(0,a.kt)("p",null,"Des m\xe9thodes projet peuvent s'appeler les unes les autres. Par exemple :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Une m\xe9thode A peut appeler une m\xe9thode B, qui appelle A, donc A appelle B de nouveau, etc."),(0,a.kt)("li",{parentName:"ul"},"Une m\xe9thode peut s'appeler elle-m\xeame.")),(0,a.kt)("p",null,"Cela s'appelle la r\xe9cursivit\xe9. Le langage de 4D supporte pleinement la r\xe9cursivit\xe9."),(0,a.kt)("p",null,"Examinons l'exemple suivant : Let\u2019s say you have a ",(0,a.kt)("inlineCode",{parentName:"p"},"[Friends and Relatives]")," table composed of this extremely simplified set of fields:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"[Amis et parents]Nom")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"[Amis et parents]Enfant'Nom"))),(0,a.kt)("p",null,"Pour cet exemple, nous supposons que les valeurs des champs sont uniques (il n'existe pas deux personnes avec le m\xeame nom). A partir d'un nom, vous voulez \xe9crire la phrase \u201cUn de mes amis, Pierre, qui est le rejeton de Paul qui est le rejeton de Martine qui est le rejeton de Robert qui est le rejeton de Gertrude, fait cela pour gagner sa vie !\u201d :"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Vous pouvez proc\xe9der de la mani\xe8re suivante :")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $vsName:=Request("Enter the name:";"John")\n If(OK=1)\n    QUERY([Friends and Relatives];[Friends and Relatives]Name=$vsName)\n    If(Records in selection([Friends and Relatives])>0)\n       $vtTheWholeStory:="A friend of mine, "+$vsName\n       Repeat\n          QUERY([Friends and Relatives];[Friends and Relatives]ChildrensName=$vsName)\n          $vlQueryResult:=Records in selection([Friends and Relatives])\n          If($vlQueryResult>0)\n             $vtTheWholeStory:=$vtTheWholeStory+" who is the child of "+[Friends and Relatives]Name\n             $vsName:=[Friends and Relatives]Name\n          End if\n       Until($vlQueryResult=0)\n       $vtTheWholeStory:=$vtTheWholeStory+", does this for a living!"\n       ALERT($vtTheWholeStory)\n    End if\n End if\n')),(0,a.kt)("ol",r({},{start:2}),(0,a.kt)("li",{parentName:"ol"},"Vous pouvez \xe9galement proc\xe9der ainsi :")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $vsName:=Request("Enter the name:";"John")\n If(OK=1)\n    QUERY([Friends and Relatives];[Friends and Relatives]Name=$vsName)\n    If(Records in selection([Friends and Relatives])>0)\n       ALERT("A friend of mine, "+Genealogy of($vsName)+", does this for a living!")\n    End if\n End if\n')),(0,a.kt)("p",null,"with the recursive function ",(0,a.kt)("inlineCode",{parentName:"p"},"Genealogy of")," listed here:"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'  ` Genealogy of project method\n  ` Genealogy of ( String ) -> Text\n  ` Genealogy of ( Name ) -> Part of sentence\n \n $0:=$1\n QUERY([Friends and Relatives];[Friends and Relatives]ChildrensName=$1)\n If(Records in selection([Friends and Relatives])>0)\n    $0:=$0+" who is the child of "+Genealogy of([Friends and Relatives]Name)\n End if\n')),(0,a.kt)("p",null,"Note the ",(0,a.kt)("inlineCode",{parentName:"p"},"Genealogy of")," method which calls itself."),(0,a.kt)("p",null,"The first way is an ",(0,a.kt)("strong",{parentName:"p"},"iterative algorithm"),". The second way is a ",(0,a.kt)("strong",{parentName:"p"},"recursive algorithm"),"."),(0,a.kt)("p",null,"Lorsque vous impl\xe9mentez du code pour traiter des cas comme celui d\xe9crit ci-dessus, vous aurez toujours le choix entre \xe9crire des m\xe9thodes utilisant des algorithmes it\xe9ratifs ou r\xe9cursifs. Typiquement, la r\xe9cursivit\xe9 fournit un code plus concis, plus facile \xe0 lire et \xe0 maintenir, mais elle est facultative."),(0,a.kt)("p",null,"Dans 4D, la r\xe9cursivit\xe9 est typiquement utilis\xe9e pour :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Traiter les enregistrements de tables li\xe9es les unes aux autres de la m\xeame mani\xe8re que d\xe9crit dans l'exemple ci-dessus."),(0,a.kt)("li",{parentName:"ul"},"Browsing documents and folders on your disk, using the commands ",(0,a.kt)("inlineCode",{parentName:"li"},"FOLDER LIST")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"DOCUMENT LIST"),". Un dossier peut contenir des dossiers et des documents, les sous-dossiers peuvent eux-m\xeames contenir des dossiers et des documents, etc.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Important:")," Recursive calls should always end at some point. In the example, the method ",(0,a.kt)("inlineCode",{parentName:"p"},"Genealogy of")," stops calling itself when the query returns no records. Sans ce test conditionnel, la m\xe9thode s'appellerait ind\xe9finiment et 4D pourrait au bout d'un certain temps retourner l'erreur \u201cLa pile est pleine\u201d car le programme n'aurait plus assez de place pour \"empiler\" les appels (ainsi que les param\xe8tres et les variables locales utilis\xe9s dans la m\xe9thode)."))}m.isMDXComponent=!0}}]);