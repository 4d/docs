<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Paramètres · Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Utilisation des paramètres"/><meta name="docsearch:language" content="fr"/><meta property="og:title" content="Paramètres · Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/index.html"/><meta property="og:description" content="## Utilisation des paramètres"/><meta property="og:image" content="https://4d.github.io/docs/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/img/logohome.png"/><link rel="shortcut icon" href="/docs/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/js/code-blocks-buttons.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/fr"><img class="logo" src="/docs/img/4DlogoK.gif" alt="Documentation"/><h2 class="headerTitleWithLogo">Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/" target="_self">Developer Center</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>Français</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/Concepts/parameters.html">English</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Concepts du langage 4D</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Concepts du langage 4D<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/about.html">À propos du Langage 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/quick-tour.html">Tour d&#x27;horizon</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/data-types.html">Types de données</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/boolean.html">Booléen</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/collection.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/date.html">Date</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/null-undefined.html">Null et Indefinie</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/number.html">Numérique (Réel, Entier, Entier long)</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/object.html">Objet</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/picture.html">Image</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/pointer.html">Pointeur</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/string.html">Chaine</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/time.html">Heure</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/variant.html">Variant</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/variables.html">Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/arrays.html">Tableaux</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/methods.html">Méthodes</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/fr/Concepts/parameters.html">Paramètres</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/shared.html">Objets et collections partagés</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/control-flow.html">Conditions et boucles</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/branching.html">Structures conditionnelles</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/looping.html">Structures répétitives (ou &quot;boucles&quot;)</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/error-handling.html">Gestion des erreurs</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/interpreted-compiled.html">Modes interprété et compilé</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/components.html">Composants</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/identifiers.html">Identifiants</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Project Databases<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/Project/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Project/creating.html">Créer un projet 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Project/architecture.html">Architecture d&#x27;un projet 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Project/developing.html">Développer un projet</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Project/building.html">Générer un package projet</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Formulaires<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/FormEditor/objectLibrary.html">Bibliothèques d&#x27;objets</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/FormEditor/stylesheets.html">Feuilles de style (style sheets)</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Menus<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/Menus/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Menus/creating.html">Créer des menus et des barres de menus</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Menus/properties.html">Propriétés des menus</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Menus/bars.html">Barres de menus</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Menus/sdi.html">Mode SDI sous Windows</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">CSM<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/information.html">Page informations</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/analysis.html">Page Analyse d&#x27;activités</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/verify.html">Page Vérification</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/backup.html">Page Sauvegarde</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/compact.html">Page compactage</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/rollback.html">Page Retour en arrière</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/restore.html">Page restitution</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/repair.html">Page Réparation</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/encrypt.html">Page chiffrement</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Sauvegarde et restitution<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/Backup/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Backup/backup.html">Sauvegarde</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Backup/settings.html">Paramètres de sauvegarde</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Backup/log.html">Fichier d&#x27;historique (.journal)</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Backup/restore.html">Restitution</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Paramètres</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="utilisation-des-parametres"></a><a href="#utilisation-des-parametres" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utilisation des paramètres</h2>
<p>Vous aurez souvent besoin de fournir des valeurs à vos méthodes. Vous pouvez facilement effectuer cette opération grâce aux paramètres.</p>
<p><strong>Les paramètres</strong> (ou <strong>arguments</strong>) sont des données dont les méthodes ont besoin pour s’exécuter. Le terme <em>paramètres</em> ou <em>arguments</em> est utilisé indifféremment dans ce manuel. Des paramètres sont également passés aux commandes intégrées de 4D. Dans l’exemple ci-dessous, la chaîne “Bonjour” est un paramètre de la commande <code>ALERTE</code> :</p>
<pre><code class="hljs css language-code4d"><span class="hljs-command">ALERT</span>("<span class="hljs-string">Bonjour</span>")
</code></pre>
<p>Les paramètres sont passés de la même manière aux méthodes. Par exemple, si la méthode FAIRE QUELQUE CHOSE accepte trois paramètres, l'appel à cette méthode pourrait être de la forme suivante :</p>
<pre><code class="hljs css language-code4d">FAIRE QUELQUE CHOSE(AvecCeci;EtCela;CommeCeci)
</code></pre>
<p>Les paramètres sont séparés par des points-virgules (;). Leur valeur est calculée lorsqu'ils sont appelés.</p>
<p>Dans la sous-routine (la méthode appelée), la valeur de chaque paramètre est automatiquement copiée séquentiellement dans des variables locales numérotées : $1, $2, $3, etc. La numérotation des variables locales représente l’ordre des paramètres.</p>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">//Code de la méthode FAIRE QUELQUE CHOSE
</span>  <span class="hljs-comment">//Supposons que tous les paramètres sont de type texte
</span> <span class="hljs-command">C_TEXT</span>(<span class="hljs-param">$1</span>;<span class="hljs-param">$2</span>;<span class="hljs-param">$3</span>)
 <span class="hljs-command">ALERT</span>("<span class="hljs-string">J'ai reçu </span>"+<span class="hljs-param">$1</span>+"<span class="hljs-string"> et </span>"+<span class="hljs-param">$2</span>+"<span class="hljs-string"> et aussi </span>"+<span class="hljs-param">$3</span>)
  <span class="hljs-comment">//$1 contient le paramètre AvecCeci
</span>  <span class="hljs-comment">//$2 contient le paramètre EtCela
</span>  <span class="hljs-comment">//$3 contient le paramètre CommeCeci
</span></code></pre>
<p>A l'intérieur de la sous-routine, vous pouvez utiliser les paramètres $1, $2... de la même manière que vous utilisez les autres variables locales. Toutefois, dans le cas où vous utilisez des commandes qui modifient la valeur de la variable passée en paramètre (par exemple <code>Trouver dans champ</code>), les paramètres $1, $2, etc. ne peuvent pas être utilisés directement. Vous devez d'abord les recopier dans des variables locales standard (par exemple <code>$mavar:=$1</code>).</p>
<p>Les mêmes principes s'appliquent lorsque des méthodes sont exécutées via des commandes consacrées, comme par exemple :</p>
<pre><code class="hljs css language-code4d"><span class="hljs-command">EXECUTE METHOD</span> IN SUBFORM("<span class="hljs-string">Cal2</span>";"<span class="hljs-string">SetCalendarDate</span>";*;!05/05/10!)  
<span class="hljs-comment">//passez la date !05/05/10! comme paramètre de SetCalendarDate
</span><span class="hljs-comment">// dans le contexte d'un sous-formulaire
</span></code></pre>
<p><strong>Note :</strong> Pour une bonne exécution du code, assurez-vous que tous les paramètres <code>$1</code>, <code>$2</code>... sont correctement déclarés dans les méthodes appelées (voir <a href="#declaring-parameters">Déclaration des paramètres</a> ci-dessous).</p>
<h3><a class="anchor" aria-hidden="true" id="expressions-prises-en-charge"></a><a href="#expressions-prises-en-charge" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expressions prises en charge</h3>
<p>Vous pouvez utiliser n'importe quelle <a href="/docs/fr/Concepts/quick-tour.html#expression-types">expression</a> comme paramètre, à l'exception des :</p>
<ul>
<li>tables</li>
<li>tableaux</li>
</ul>
<p>Les expressions de tables ou de tableaux peuvent être passées uniquement <a href="/docs/fr/Concepts/pointer.html#pointers-as-parameters-to-methods">comme une référence utilisant un pointeur</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="fonctions"></a><a href="#fonctions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fonctions</h2>
<p>Les méthodes peuvent retourner des valeurs. Une méthode qui retourne une valeur est appelée une fonction.</p>
<p>Les commandes de 4D ou de plug-ins qui retournent une valeur sont également appelées fonctions.</p>
<p>Par exemple, la ligne d’instruction suivante utilise une fonction intégrée, <code>Longueur</code>, qui retourne la longueur d’une chaîne. La valeur retournée par <code>Longueur</code> est placée dans une variable appelée <em>MaLongueur</em> :</p>
<pre><code class="hljs css language-code4d">MaLongueur:=<span class="hljs-command">Length</span>("<span class="hljs-string">Comment suis-je arrivé là ?</span>")
</code></pre>
<p>Toute sous-routine peut retourner une valeur. La valeur à retourner est placée dans la variable locale <code>$0</code>.</p>
<p>Par exemple, la fonction suivante, appelée <code>Majuscules4</code>, retourne une chaîne dont les quatre premiers caractères ont été passés en majuscules :</p>
<pre><code class="hljs css language-code4d"><span class="hljs-param">$0</span>:=<span class="hljs-command">Uppercase</span>(<span class="hljs-command">Substring</span>(<span class="hljs-param">$1</span>;1;4))+<span class="hljs-command">Substring</span>(<span class="hljs-param">$1</span>;5)
</code></pre>
<p>Voici un exemple qui utilise la fonction Majuscules4 :</p>
<pre><code class="hljs css language-code4d">NouvellePhrase:=Majuscules4("<span class="hljs-string">Bien joué.</span>")
</code></pre>
<p>Dans ce cas, la variable <em>NouvellePhrase</em> prend la valeur “BIEN joué.”</p>
<p>Le retour de fonction, <code>$0</code>, est une variable locale à la sous-routine. Elle peut être utilisée en tant que telle à l'intérieur de la sous-routine. Par exemple, dans le cas de la méthode <code>FAIRE QUELQUE CHOSE</code> utilisée précédemment, <code>$0</code> recevait d'abord la valeur de <code>$1</code>, puis était utilisée en tant que paramètre de la commande <code>ALERT</code>. Dans une sous-méthode, vous pouvez utiliser <code>$0</code> comme n'importe quelle autre variable locale. C'est 4D qui retourne sa valeur finale <code>$0</code> (sa valeur courante au moment où la sous-routine se termine) à la méthode appelée.</p>
<h2><a class="anchor" aria-hidden="true" id="declaration-des-parametres"></a><a href="#declaration-des-parametres" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Déclaration des paramètres</h2>
<p>Pour éviter tout conflit, vous devez déclarer chaque paramètre dans les méthodes appelées en <a href="/docs/fr/Concepts/interpreted-compiled.html">mode interprété</a>, même si cela est facultatif.</p>
<p>Dans l'exemple ci-dessous, la méthode projet <code>OneMethodAmongOthers</code> déclare trois paramètres :</p>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">// Méthode projet OneMethodAmongOthers
</span>  <span class="hljs-comment">// OneMethodAmongOthers ( Réel ; Date { ; Entier long} )
</span>  <span class="hljs-comment">// OneMethodAmongOthers ( Amount ; Date { ; Pourcentage } )
</span>
 <span class="hljs-command">C_REAL</span>(<span class="hljs-param">$1</span>) <span class="hljs-comment">// 1er paramètre de type Réel
</span> <span class="hljs-command">C_DATE</span>(<span class="hljs-param">$2</span>) <span class="hljs-comment">// 2ème paramètre de type Date
</span> <span class="hljs-command">C_LONGINT</span>(<span class="hljs-param">$3</span>) <span class="hljs-comment">// 3ème paramètre de type Entier long
</span></code></pre>
<p>Dans l'exemple suivant, la méthode projet <code>ajoutCapitale</code> accepte un paramètre texte et retourne un résultat texte :</p>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">// Méthode projet ajoutCapitale
</span>  <span class="hljs-comment">// ajoutCapitale ( Texte ) -&gt; Texte
</span>  <span class="hljs-comment">// ajoutCapitale( Chaîne source ) -&gt; chaîne avec la première lettre capitale
</span>
 C_TEXTE(<span class="hljs-param">$0</span>;<span class="hljs-param">$1</span>)
 <span class="hljs-param">$0</span>:=Majusc(Sous chaine(<span class="hljs-param">$1</span>;1;1))+Minusc(Sous chaine(<span class="hljs-param">$1</span>;2))
</code></pre>
<p>L'utilisation de commandes telles que <code>Nouveau process</code> avec les méthodes process qui acceptent les paramètres nécessite également que les paramètres soient explicitement déclarés dans la méthode appelée. Par exemple:</p>
<pre><code class="hljs css language-code4d"><span class="hljs-command">C_TEXT</span>(<span class="hljs-locale">$string</span>)
<span class="hljs-command">C_LONGINT</span>(<span class="hljs-locale">$idProc</span>;<span class="hljs-locale">$int</span>)
<span class="hljs-command">C_OBJECT</span>(<span class="hljs-locale">$obj</span>)

<span class="hljs-locale">$idProc</span>:=<span class="hljs-command">New process</span>("<span class="hljs-string">foo_method</span>";0;"<span class="hljs-string">foo_process</span>";<span class="hljs-locale">$string</span>;<span class="hljs-locale">$int</span>;<span class="hljs-locale">$obj</span>)
</code></pre>
<p>Ce code peut être exécuté en mode compilé, uniquement si &quot;foo_method&quot; déclare ses paramètres :</p>
<pre><code class="hljs css language-code4d"><span class="hljs-comment">//foo_method
</span><span class="hljs-command">C_TEXT</span>(<span class="hljs-param">$1</span>)
<span class="hljs-command">C_LONGINT</span>(<span class="hljs-param">$2</span>)
<span class="hljs-command">C_OBJECT</span>(<span class="hljs-param">$3</span>)
...
</code></pre>
<p><strong>Note :</strong> En mode compilé, vous pouvez regrouper tous les paramètres de variables locales pour les méthodes projets dans un méthode spécifique avec un nom commençant par &quot;Compiler&quot;. Dans cette méthode, vous pouvez prédéclarer les paramètres de chaque méthode, comme par exemple :</p>
<pre><code class="hljs css language-code4d"> <span class="hljs-command">C_REAL</span>(OneMethodAmongOthers;<span class="hljs-param">$1</span>) 
</code></pre>
<p>Pour plus d'informations, consultez la page <a href="/docs/fr/Concepts/interpreted-compiled.html">Modes interprété et compilé</a>.</p>
<p>La déclaration des paramètres est également obligatoire dans les contextes suivants (ces contextes ne prennent pas en charge les déclarations dans une méthode &quot;Compiler&quot;) :</p>
<ul>
<li>Méthodes base Par exemple, la <code>méthode base Sur connexion Web</code> reçoit six paramètres, allant de $1 à $6, de type Texte. Au début de la méthode base, vous devez écrire (même si tous les paramètres ne sont pas utilisés) :</li>
</ul>
<pre><code class="hljs css language-code4d"><span class="hljs-comment">// Sur connexion Web
</span><span class="hljs-command">C_TEXT</span>(<span class="hljs-param">$1</span>;<span class="hljs-param">$2</span>;<span class="hljs-param">$3</span>;<span class="hljs-param">$4</span>;<span class="hljs-param">$5</span>;<span class="hljs-param">$6</span>)
</code></pre>
<ul>
<li><p>Triggers Le paramètre $0 (Entier long), qui résulte d'un trigger, sera typé par le compilateur si le paramètre n'a pas été explicitement déclaré. Néanmoins, si vous souhaitez le déclarer, vous devez le faire dans le trigger lui-même.</p></li>
<li><p>Objets formulaires qui acceptent l'événement formulaire <code>Sur glisser</code> Le paramètre $0 (Entier long), qui résulte de l'événement formulaire <code>Sur glisser</code> est typé par le compilateur si le paramètre n'a pas été explicitement déclaré. Néanmoins, si vous souhaitez le déclarer, vous devez le faire dans la méthode projet. <strong>Note :</strong> Le compilateur n'initialise pas le paramètre $0. Ainsi, dès que vous utilisez l'événement formulaire <code>Sur glisser</code>, vous devez initialiser $0. Par exemple:</p></li>
</ul>
<pre><code class="hljs css language-code4d"> <span class="hljs-command">C_LONGINT</span>(<span class="hljs-param">$0</span>)
 <span class="hljs-keyword">If</span>(<span class="hljs-command">Form</span> event=<span class="hljs-constant">On Drag Over</span>)
    <span class="hljs-param">$0</span>:=0
    ...
    <span class="hljs-keyword">If</span>(<span class="hljs-locale">$DataType</span>=<span class="hljs-constant">Is picture</span>)
       <span class="hljs-param">$0</span>:=-1
    <span class="hljs-keyword">End if</span>
    ...
 <span class="hljs-keyword">End if</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="valeurs-ou-references"></a><a href="#valeurs-ou-references" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Valeurs ou références</h2>
<p>Lorsque vous passez un paramètre, 4D évalue toujours l'expression du paramètre dans le contexte de la méthode appelée et définit la <strong>valeur résultante</strong> sur les variables locales $1, $2, etc... de la sous-routine (voir <a href="#using-parameters">Utilisation des paramètres</a>). Les variables/paramètres locaux ne correspondent pas aux véritables champs, variables ou expressions passés par la méthode appelée; ils contiennent uniquement les valeurs qui n'ont pas été passées. Cette portée étant locale, si la valeur d'un paramètre est modifiée dans la sous-routine, elle ne modifie pas la valeur dans la méthode appelée. Par exemple:</p>
<pre><code class="hljs css language-code4d">    <span class="hljs-comment">//Voici du code extrait de la méthode MY_METHOD
</span>DO_SOMETHING([People]Name) <span class="hljs-comment">//Let's say [People]Name value is "williams"
</span><span class="hljs-command">ALERT</span>([People]Name)

    <span class="hljs-comment">//Voici du code extrait de la méthode  DO_SOMETHING
</span> <span class="hljs-param">$1</span>:=<span class="hljs-command">Uppercase</span>(<span class="hljs-param">$1</span>)
 <span class="hljs-command">ALERT</span>(<span class="hljs-param">$1</span>)
</code></pre>
<p>La boîte de dialogue d'alerte affichée par <code>FAIRE QUELQUE CHOSE</code> contiendra &quot;WILLIAM&quot; et celle affichée par <code>MA METHODE</code> contiendra &quot;william&quot;. La méthode a modifié localement la valeur du paramètre $1, mais cela n'affecte pas la valeur du champ <code>[Personnes]Nom</code> passé en paramètre par la méthode <code>MA METHODE</code>.</p>
<p>Si vous voulez réellement que la méthode <code>FAIRE QUELQUE CHOSE</code> modifie la valeur du champ, deux solutions s'offrent à vous :</p>
<ol>
<li>Plutôt que de passer le champ à la méthode, vous lui passez un pointeur :</li>
</ol>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">//Voici du code extrait de la méthode  MY_METHOD
</span> DO_SOMETHING(-&gt;[People]Name) <span class="hljs-comment">//Let's say [People]Name value is "williams"
</span> <span class="hljs-command">ALERT</span>([People]Last Name)

  <span class="hljs-comment">//Voici du code extrait de la méthode  DO_SOMETHING
</span> <span class="hljs-param">$1</span>-&gt;:=<span class="hljs-command">Uppercase</span>(<span class="hljs-param">$1</span>-&gt;)
 <span class="hljs-command">ALERT</span>(<span class="hljs-param">$1</span>-&gt;)
</code></pre>
<p>Ici, le paramètre n'est pas le champ lui-même, mais un pointeur vers le champ. Ainsi, à l'intérieur de la méthode <code>FAIRE QUELQUE CHOSE</code>, $1 ne contient plus la valeur du champ mais un pointeur vers le champ. L'objet <strong>référencé</strong> par $1 ($1-&gt; dans le code ci-dessus) est le champ lui-même. Par conséquent, la modification de l'objet référencé dépasse les limites de la sous-routine et le champ lui-même est affecté. Dans cet exemple, les deux boîtes de dialogue d'alerte afficheront &quot;WILLIAM&quot;.</p>
<ol start="2">
<li>Plutôt que la méthode <code>FAIRE QUELQUE CHOSE</code> “fasse quelque chose”, vous pouvez la réécrire de manière à ce qu'elle retourne une valeur.</li>
</ol>
<pre><code class="hljs css language-code4d">    <span class="hljs-comment">//Voici du code extrait de la méthode MY METHOD
</span> [People]Name:=DO_SOMETHING([People]Name) <span class="hljs-comment">//Let's say [People]Name value is "williams"
</span> <span class="hljs-command">ALERT</span>([People]Name)

    <span class="hljs-comment">//Voici du code extrait de la méthode DO SOMETHING
</span> <span class="hljs-param">$0</span>:=<span class="hljs-command">Uppercase</span>(<span class="hljs-param">$1</span>)
 <span class="hljs-command">ALERT</span>(<span class="hljs-param">$0</span>)
</code></pre>
<p>Cette seconde technique consistant à renvoyer une valeur par une sous-routine est intitulée &quot;utiliser une fonction&quot;. Cette procédure est décrite dans le paragraphe <a href="#functions">Fonctions</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="cas-particuliers-objets-et-collections"></a><a href="#cas-particuliers-objets-et-collections" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cas particuliers : objets et collections</h3>
<p>Veillez à ce que les types de données d'Objet et Collection ne puissent être gérés que via une référence (c'est-à-dire un* pointeur* interne).</p>
<p>Par conséquent, lorsque vous utilisez des types de données comme paramètres, <code>$1, $2 ...</code> ne contiennent pas des <em>valeurs</em>, mais des <em>références</em>. La modification de la valeur des paramètres <code>$1, $2 ...</code> dans la sous-routine sera propagée à chaque fois que l'objet ou la collection source est utilisé(e). C'est le même principe que pour <a href="/docs/fr/Concepts/pointer.html#pointers-as-parameters-to-methods">les pointeurs</a>, à l'exception des paramètres <code>$1, $2 ...</code> n'ont pas besoin d'être déréférencés dans la sous-routine.</p>
<p>Par exemple, considérons que la méthode <code>CreatePerson</code>, qui crée un objet et qui l'envoie comme paramètre :</p>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">//La méthode CreatePerson crée un objet et l'envoie en tant que paramètre
</span> <span class="hljs-command">C_OBJECT</span>(<span class="hljs-locale">$person</span>)
 <span class="hljs-locale">$person</span>:=<span class="hljs-command">New object</span>("<span class="hljs-string">Name</span>";"<span class="hljs-string">Smith</span>";"<span class="hljs-string">Age</span>";40)
 ChangeAge(<span class="hljs-locale">$person</span>)
 <span class="hljs-command">ALERT</span>(Chaine(OB Lire(<span class="hljs-locale">$person</span>;"<span class="hljs-string">Age</span>")))  
</code></pre>
<p>La méthode <code>ChangeAge</code> ajoute 10 à l'attribut Age de l'objet reçu</p>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">//ChangeAge
</span> <span class="hljs-command">C_OBJECT</span>(<span class="hljs-param">$1</span>)
<span class="hljs-param">$1</span><span class="hljs-property">.Age</span>:=<span class="hljs-param">$1</span><span class="hljs-property">.Age</span>+10
 <span class="hljs-command">ALERT</span>(<span class="hljs-command">String</span>(<span class="hljs-param">$1</span>;Age))
</code></pre>
<p>Si vous exécutez la méthode <code>CreatePerson</code>, les deux messages d'alerte contiendront &quot;50&quot; car le même objet est traité par les deux méthodes.</p>
<p><strong>4D Server :</strong> Lorsque des paramètres sont passés entre des méthodes qui ne sont pas exécutées sur la même machine (lors de l'utilisation de l'option Exécuter sur serveur par exemple, voir Propriétés des méthodes projet), il n'est pas possible d'utiliser des références. Dans ce cas, ce sont des copies des paramètres objet ou collection qui sont envoyées au lieu de références.</p>
<h2><a class="anchor" aria-hidden="true" id="parametres-nommes"></a><a href="#parametres-nommes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Paramètres nommés</h2>
<p>L'utilisation d'objets en tant que paramètres vous permet de gérer des <strong>paramètres nommés</strong>. Ce style de programmation est simple, souple et facile à lire.</p>
<p>Par exemple, si vous utilisez la méthode <code>CreatePerson</code> :</p>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">//La méthode CreatePerson crée un objet et l'envoie en tant que paramètre
</span> <span class="hljs-command">C_OBJECT</span>(<span class="hljs-locale">$person</span>)
 <span class="hljs-locale">$person</span>:=<span class="hljs-command">New object</span>("<span class="hljs-string">Name</span>";"<span class="hljs-string">Smith</span>";"<span class="hljs-string">Age</span>";40)
 ChangeAge(<span class="hljs-locale">$person</span>)
 <span class="hljs-command">ALERT</span>(Chaine(OB Lire(<span class="hljs-locale">$person</span>;"<span class="hljs-string">Age</span>")))  
</code></pre>
<p>Dans la méthode <code>ChangeAge</code>, vous pouvez écrire :</p>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">//ChangeAge
</span> <span class="hljs-command">C_OBJECT</span>(<span class="hljs-param">$1</span>;<span class="hljs-locale">$para</span>)
 <span class="hljs-locale">$para</span>:=<span class="hljs-param">$1</span>  
 <span class="hljs-locale">$para</span><span class="hljs-property">.Age</span>:=<span class="hljs-locale">$para</span><span class="hljs-property">.Age</span>+10
 <span class="hljs-command">ALERT</span>(<span class="hljs-locale">$para</span><span class="hljs-property">.Nom</span>+"<span class="hljs-string"> a </span>"+<span class="hljs-command">String</span>(<span class="hljs-locale">$para</span><span class="hljs-property">.Age</span>)+"<span class="hljs-string"> ans.</span>")
</code></pre>
<p>C'est un moyen puissant de définir des <a href="#optional-parameters">paramètres optionnels</a> (voir ci-dessous également). Pour gérer les paramètres manquants, vous pouvez :</p>
<ul>
<li>vérifier si tous les paramètres attendus sont fournis en les comparant à la valeur <code>Null</code>, ou</li>
<li>prédéfinir les valeurs des paramètres, ou</li>
<li>les utiliser sous forme de valeurs vides.</li>
</ul>
<p>Dans la méthode <code>ChangeAge</code> ci-dessus, les propriétés Age et Nom sont obligatoires et pourraient générer des erreurs si elles sont manquantes. Pour éviter cela, vous pouvez simplement écrire :</p>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">//ChangeAge
</span> <span class="hljs-command">C_OBJECT</span>(<span class="hljs-param">$1</span>;<span class="hljs-locale">$para</span>)
 <span class="hljs-locale">$para</span>:=<span class="hljs-param">$1</span>  
 <span class="hljs-locale">$para</span><span class="hljs-property">.Age</span>:=<span class="hljs-command">Num</span>(<span class="hljs-locale">$para</span><span class="hljs-property">.Age</span>)+10
 <span class="hljs-command">ALERT</span>(<span class="hljs-command">String</span>(<span class="hljs-locale">$para</span><span class="hljs-property">.Nom</span>+"<span class="hljs-string"> a </span>"+<span class="hljs-command">String</span>(<span class="hljs-locale">$para</span><span class="hljs-property">.Age</span>)+"<span class="hljs-string"> ans.</span>")
</code></pre>
<p>Les deux paramètres sont alors optionnels. S'ils ne sont pas renseignés, le résultat sera &quot;a 10 ans&quot;, mais aucune erreur ne sera générée.</p>
<p>Enfin, les paramètres nommés permettent de maintenir et de reproduire des applications en toutes simplicité et sécurité. Imaginez que vous réalisez, par la suite, qu'ajouter 10 ans n'est pas toujours approprié. Vous aurez besoin d'un autre paramètre pour définir le nombre d'années à ajouter. Vous pouvez écrire :</p>
<pre><code class="hljs css language-code4d"><span class="hljs-locale">$person</span>:=<span class="hljs-command">New object</span>("<span class="hljs-string">Nom</span>";"<span class="hljs-string">Smith</span>";"<span class="hljs-string">Age</span>";40;"<span class="hljs-string">àAjouter</span>";10)
ChangeAge(<span class="hljs-locale">$person</span>)

<span class="hljs-comment">//ChangeAge
</span><span class="hljs-command">C_OBJECT</span>(<span class="hljs-param">$1</span>;<span class="hljs-locale">$para</span>)
<span class="hljs-locale">$para</span>:=<span class="hljs-param">$1</span>  
<span class="hljs-keyword">If</span> (<span class="hljs-locale">$para</span><span class="hljs-property">.toAdd</span>=<span class="hljs-command">Null</span>)
    <span class="hljs-locale">$para</span><span class="hljs-property">.toAdd</span>:=10
<span class="hljs-keyword">End if</span>
<span class="hljs-locale">$para</span><span class="hljs-property">.Age</span>:=<span class="hljs-command">Num</span>(<span class="hljs-locale">$para</span><span class="hljs-property">.Age</span>)+<span class="hljs-locale">$para</span><span class="hljs-property">.toAdd</span>
<span class="hljs-command">ALERT</span>(<span class="hljs-command">String</span>(<span class="hljs-locale">$para</span><span class="hljs-property">.Nom</span>)+"<span class="hljs-string"> a </span>"+<span class="hljs-command">String</span>(<span class="hljs-locale">$para</span><span class="hljs-property">.Age</span>)+"<span class="hljs-string"> ans.</span>")
</code></pre>
<p>Ici, toute la puissance réside dans le fait de ne pas avoir à changer votre code existant. Cela fonctionnera toujours dans l'ancienne version, mais le cas échéant, vous pouvez utiliser une autre valeur que 10 ans.</p>
<p>Avec les variables nommées, n'importe quel paramètre peut être optionnel. Dans l'exemple ci-dessus, tous les paramètres sont optionnels et peuvent être donnés, dans n'importe quel ordre.</p>
<h2><a class="anchor" aria-hidden="true" id="parametres-optionnels"></a><a href="#parametres-optionnels" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Paramètres optionnels</h2>
<p>Dans le manuel <em>Langage de 4D</em>, les caractères { } (accolades) indiquent des paramètres facultatifs. Par exemple, <code>ALERT (message{; okButtonTitle})</code> signifie que le paramètre <em>okButtonTitle</em> doit être omis lors de l'appel de la commande. Vous pouvez l'appeler comme suit :</p>
<pre><code class="hljs css language-code4d"><span class="hljs-command">ALERT</span>("<span class="hljs-string">Etes*vous sûr?</span>";"<span class="hljs-string">Oui, je le suis</span>") <span class="hljs-comment">//2 paramètres
</span><span class="hljs-command">ALERT</span>("<span class="hljs-string">Temps écoulé</span>") <span class="hljs-comment">//1 paramètre
</span></code></pre>
<p>Les méthodes projet 4D acceptent également des paramètres optionnels, en commençant par la droite. Cependant, il est difficile de gérer les paramètres optionnels lorsque certains d'entre eux sont manquants dans la méthode appelée - cela ne devrait jamais générer d'erreur. Une bonne pratique consisterait à assigner des valeurs par défaut aux paramètres non utilisés.</p>
<blockquote>
<p>Lorsque les paramètres sont nécessaires dans vos méthodes, vous pouvez également envisager des <a href="#named-parameters">paramètres nommés</a> pour gérer plusieurs paramètres de manière flexible.</p>
</blockquote>
<p>A l'aide de la commande <code>Count parameters</code> contenue dans la méthode appelée, vous pouvez détecter le nombre de paramètres et effectuer des opérations différentes en fonction de ce nombre.</p>
<p>L'exemple suivant affiche un message et peut insérer le texte dans un document sur disque ou dans une zone 4D Write Pro :</p>
<pre><code class="hljs css language-code4d"><span class="hljs-comment">// Méthode projet APPEND TEXT
</span><span class="hljs-comment">// APPEND TEXT ( Text { ; Text { ; Object } } )
</span><span class="hljs-comment">// APPEND TEXT ( Message { ; Path { ; 4DWPArea } } )
</span>
 <span class="hljs-command">C_TEXT</span>(<span class="hljs-param">$1</span>;<span class="hljs-param">$2</span>)
 <span class="hljs-command">C_OBJECT</span>(<span class="hljs-param">$3</span>)

 <span class="hljs-command">ALERT</span>(<span class="hljs-param">$1</span>)
 <span class="hljs-keyword">If</span>(<span class="hljs-command">Count parameters</span>&gt;=3)
    <span class="hljs-command">WP SET TEXT</span>(<span class="hljs-param">$3</span>;<span class="hljs-param">$1</span>;<span class="hljs-constant">wk append</span>)
 <span class="hljs-keyword">Else</span>
    <span class="hljs-keyword">If</span>(<span class="hljs-command">Count parameters</span>&gt;=2)
       <span class="hljs-command">TEXT TO DOCUMENT</span>(<span class="hljs-param">$2</span>;<span class="hljs-param">$1</span>)
    <span class="hljs-keyword">End if</span>
 <span class="hljs-keyword">End if</span>
</code></pre>
<p>Une fois que cette méthode projet a été ajoutée à votre application, vous pouvez écrire :</p>
<pre><code class="hljs css language-code4d">APPEND TEXT(vtSomeText) <span class="hljs-comment">//Affichera uniquement le message
</span>APPEND TEXT(vtSomeText;<span class="hljs-locale">$path</span>) <span class="hljs-comment">//Affiche le message et l'annexe au document dans $path
</span>APPEND TEXT(vtSomeText;"<span class="hljs-string"></span>";<span class="hljs-locale">$wpArea</span>) <span class="hljs-comment">//Affiche le message et l'écrit dans $wpArea
</span></code></pre>
<h2><a class="anchor" aria-hidden="true" id="indirections-sur-les-parametres"></a><a href="#indirections-sur-les-parametres" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Indirections sur les paramètres</h2>
<p>Les méthodes projets 4D acceptent un grand nombre de paramètres de même type, commençant par la droite. Ce principe est appelé <strong>l'indirection des paramètres</strong>. L'utilisation de la commande <code>Count parameters</code> vous permet d'adresser ces paramètres avec la boucle <code>For...End for</code> ainsi que la syntaxe de l'indirection des paramètres.</p>
<p>Dans l'exemple qui suit, la méthode projet <code>ENVOYER PAQUET</code> accepte le paramètre de temps suivi d'un nombre de variables des paramètres de texte :</p>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">//Méthode projet ENVOYER PAQUET
</span>  <span class="hljs-comment">//ENVOYER PAQUET ( Heure ; Texte { ; Texte2... ; TexteN } )
</span>  <span class="hljs-comment">//ENVOYER PAQUET ( docRef ; Données { ; Données2... ; DonnéesN } )
</span>
 <span class="hljs-command">C_TIME</span>(<span class="hljs-param">$1</span>)
 <span class="hljs-command">C_TEXT</span>(<span class="hljs-param">$</span>{2})
 <span class="hljs-command">C_LONGINT</span>(<span class="hljs-locale">$vlPacket</span>)

 <span class="hljs-keyword">For</span>(<span class="hljs-locale">$vlPacket</span>;2;<span class="hljs-command">Count parameters</span>)
    ENVOYER PAQUET(<span class="hljs-param">$1</span>;<span class="hljs-param">$</span>{<span class="hljs-locale">$vlPacket</span>})
 <span class="hljs-keyword">End for</span>
</code></pre>
<p>Pour une bonne gestion de cette indirection, il est important de respecter la convention suivante : si tous les paramètres ne sont pas adressés par indirection, ce qui est le cas le plus fréquent, il faut que les paramètres adressés par indirection soient passés en fin de liste. A l’intérieur de la méthode, l’adressage par indirection se fait sous la forme : ${$i}, $i étant une variable numérique. ${$i} est appelé <strong>paramètre générique</strong>.</p>
<p>Illustrons notre propos par un exemple : écrivons une fonction qui prend des valeurs, fait leur somme et renvoie cette somme formatée suivant un format qui peut varier avec les valeurs. A chaque appel à cette méthode, le nombre de valeurs à additionner peut varier. Il faudra donc passer comme paramètre à notre méthode les valeurs, en nombre variable, et le format, exprimé sous forme d’une chaîne de caractères.</p>
<p>Un appel à cette fonction se fera de la façon suivante :</p>
<pre><code class="hljs css language-code4d"> Résultat:=LaSomme("<span class="hljs-string">##0,00</span>";125,2;33,5;24)

</code></pre>
<p>La méthode appelante récupérera dans ce cas la chaîne : 182,70, somme des nombres passés, formatée suivant le format spécifié. Les paramètres de la fonction doivent être passés dans un ordre précis : le format d’abord et ensuite les valeurs, dont le nombre peut varier d’un appel à l’autre.</p>
<p>Examinons maintenant la fonction que nous appelons <code>LaSomme</code> :</p>
<pre><code class="hljs css language-code4d"> <span class="hljs-locale">$Somme</span>:=0
 <span class="hljs-keyword">For</span>(<span class="hljs-locale">$i</span>;2;Nombre de paramètres)
    <span class="hljs-locale">$Somme</span>:=<span class="hljs-locale">$Somme</span>+<span class="hljs-param">$</span>{<span class="hljs-locale">$i</span>}
 <span class="hljs-keyword">End for</span>
 <span class="hljs-param">$0</span>:=<span class="hljs-command">String</span>(<span class="hljs-locale">$Somme</span>;<span class="hljs-param">$1</span>)
</code></pre>
<p>Cette fonction pourra être appelée de diverses manières :</p>
<pre><code class="hljs css language-code4d"> Résultat:=LaSomme("<span class="hljs-string">##0,00</span>";125,2;33,5;24)
 Résultat:=LaSomme("<span class="hljs-string">000</span>";1;18;4;23;17)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="declaration-des-parametres-generiques"></a><a href="#declaration-des-parametres-generiques" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Déclaration des paramètres génériques</h3>
<p>De même que pour les autres variables locales, la déclaration du paramètre générique par directive de compilation n’est pas obligatoire. Il est néanmoins recommandé d'éviter toute ambiguïté. Pour déclarer ces paramètres, utilisez une directive de compilateur à laquelle vous passez ${N} comme paramètre, où N est le premier paramètre générique.</p>
<pre><code class="hljs css language-code4d"> <span class="hljs-command">C_LONGINT</span>(<span class="hljs-param">$</span>{4})
</code></pre>
<p>La commande ci-dessus signifie que tous les paramètres à partir du quatrième (inclus) seront adressés par indirection. Ils seront tous de type Entier long. Les types de $1, $2 et $3 pourront être quelconques. En revanche, si vous utilisez $2 par indirection, le type utilisé sera le type générique. Il sera donc de type Entier long, même si pour vous, par exemple, il était de type Réel.</p>
<p><strong>Note :</strong> Le nombre, dans la déclaration, doit toujours être une constante et jamais une variable.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/fr/Concepts/methods.html"><span class="arrow-prev">← </span><span>Méthodes</span></a><a class="docs-next button" href="/docs/fr/Concepts/shared.html"><span>Objets et collections partagés</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#utilisation-des-parametres">Utilisation des paramètres</a><ul class="toc-headings"><li><a href="#expressions-prises-en-charge">Expressions prises en charge</a></li></ul></li><li><a href="#fonctions">Fonctions</a></li><li><a href="#declaration-des-parametres">Déclaration des paramètres</a></li><li><a href="#valeurs-ou-references">Valeurs ou références</a><ul class="toc-headings"><li><a href="#cas-particuliers-objets-et-collections">Cas particuliers : objets et collections</a></li></ul></li><li><a href="#parametres-nommes">Paramètres nommés</a></li><li><a href="#parametres-optionnels">Paramètres optionnels</a></li><li><a href="#indirections-sur-les-parametres">Indirections sur les paramètres</a><ul class="toc-headings"><li><a href="#declaration-des-parametres-generiques">Déclaration des paramètres génériques</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/docs/" class="nav-home"><img src="/docs/img/logohome.png" alt="Documentation" width="300"/></a><div><h5>Community</h5><a href="https://blog.4d.com/">4D Blog</a><a href="https://forums.4d.com/">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="https://taow.4d.com/">Get Support</a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a></div><div><h5>Product &amp; Company</h5><a href="https://store.4d.com/">Product Registration</a><a href="https://us.4d.com/product-life-cycle">Product Life Cycle</a><a href="https://us.4d.com/about-us">About us</a><a href="https://us.4d.com/contact-us">Contact us</a></div></section><section class="copyright">Copyright © 2019 4D SAS</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>