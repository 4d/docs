<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Objet · Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Les variables, champs ou expressions de type objet peuvent contenir des données de divers types. La structure des objets &quot;natifs&quot; 4D est basée sur le principe classique des paires &quot;propriété/valeur&quot; (aussi appelées &quot;attribut/valeur). La syntaxe de ces objets s’inspire du JSON :"/><meta name="docsearch:language" content="fr"/><meta property="og:title" content="Objet · Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/index.html"/><meta property="og:description" content="Les variables, champs ou expressions de type objet peuvent contenir des données de divers types. La structure des objets &quot;natifs&quot; 4D est basée sur le principe classique des paires &quot;propriété/valeur&quot; (aussi appelées &quot;attribut/valeur). La syntaxe de ces objets s’inspire du JSON :"/><meta property="og:image" content="https://4d.github.io/docs/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/img/logohome.png"/><link rel="shortcut icon" href="/docs/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/js/code-blocks-buttons.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/fr"><img class="logo" src="/docs/img/4DlogoK.gif" alt="Documentation"/><h2 class="headerTitleWithLogo">Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/" target="_self">Developer Center</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>Français</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/Concepts/object.html">English</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Data Types</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Concepts du langage 4D<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/about.html">À propos du Langage 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/quick-tour.html">Tour d&#x27;horizon</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/data-types.html">Types de données</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/boolean.html">Booléen</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/collection.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/date.html">Date</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/null-undefined.html">Null et Indefinie</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/number.html">Numérique (Réel, Entier, Entier long)</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/fr/Concepts/object.html">Objet</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/picture.html">Image</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/pointer.html">Pointeur</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/string.html">Chaine</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/time.html">Heure</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/variant.html">Variant</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/variables.html">Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/arrays.html">Tableaux</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/methods.html">Méthodes</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/parameters.html">Paramètres</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/shared.html">Objets et collections partagés</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/control-flow.html">Conditions et boucles</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/branching.html">Structures conditionnelles</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/looping.html">Structures répétitives (ou &quot;boucles&quot;)</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/error-handling.html">Gestion des erreurs</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/interpreted-compiled.html">Modes interprété et compilé</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/components.html">Composants</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Concepts/identifiers.html">Identifiants</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Project Databases<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/Project/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Project/creating.html">Créer un projet 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Project/architecture.html">Architecture d&#x27;un projet 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Project/developing.html">Développer un projet</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Project/building.html">Générer un package projet</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Formulaires<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/FormEditor/objectLibrary.html">Bibliothèques d&#x27;objets</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/FormEditor/stylesheets.html">Feuilles de style (style sheets)</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Menus<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/Menus/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Menus/creating.html">Créer des menus et des barres de menus</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Menus/properties.html">Propriétés des menus</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Menus/bars.html">Barres de menus</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Menus/sdi.html">Mode SDI sous Windows</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">CSM<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/information.html">Page informations</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/analysis.html">Page Analyse d&#x27;activités</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/verify.html">Page Vérification</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/backup.html">Page Sauvegarde</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/compact.html">Page compactage</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/rollback.html">Page Retour en arrière</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/restore.html">Page restitution</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/repair.html">Page Réparation</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/MSC/encrypt.html">Page chiffrement</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Sauvegarde et restitution<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr/Backup/overview.html">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Backup/backup.html">Sauvegarde</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Backup/settings.html">Paramètres de sauvegarde</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Backup/log.html">Fichier d&#x27;historique (.journal)</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/Backup/restore.html">Restitution</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Objet</h1></header><article><div><span><p>Les variables, champs ou expressions de type objet peuvent contenir des données de divers types. La structure des objets &quot;natifs&quot; 4D est basée sur le principe classique des paires &quot;propriété/valeur&quot; (aussi appelées &quot;attribut/valeur). La syntaxe de ces objets s’inspire du JSON :</p>
<ul>
<li><p>Un nom de propriété est toujours un texte, par exemple &quot;Nom&quot;.</p></li>
<li><p>Une valeur de propriété peut être du type suivant :</p>
<ul>
<li>Nombre (réel, entier long, etc.)</li>
<li>Texte</li>
<li>Null</li>
<li>Booléen</li>
<li>Pointeur (stocké tel quel, évalué à l’aide de la commande <code>JSON Stringify</code> ou lors d’une copie),</li>
<li>Date (type date ou chaîne au format date ISO)</li>
<li>Objet (les objets peuvent être imbriqués sur plusieurs niveaux)</li>
<li>Image(*)</li>
<li>Collection</li>
</ul></li>
</ul>
<p>(*)Lorsqu'elles sont exposées sous forme de texte dans le débogueur ou exportées en JSON, les propriétés d'objet de type image indiquent &quot;[objet Image]&quot;.</p>
<p><strong>Attention :</strong> N'oubliez pas que les noms d'attributs tiennent compte des majuscules/minuscules.</p>
<p>Pour gérer les variables, champs ou expressions de type objet, vous pouvez utiliser la notation objet (cf. <a href="/docs/fr/Concepts/object.html#syntax-basics">Utiliser la notation objet</a>) ou les commandes 4D du thème <strong>Objets (Langage)</strong>. A noter que des commandes spécifiques du thème Requêtes, telles que <code>CHERCHER PAR ATTRIBUT</code>, <code>CHERCHER PAR ATTRIBUT DANS SELECTION</code> ou <code>TRIER PAR ATTRIBUT</code> peuvent être utilisées pour traiter des champs objets.</p>
<p>Chaque valeur de propriété accessible par la notation objet est considérée comme une expression. Lorsque la notation objet est activée dans votre base (voir ci-dessous), vous pouvez utiliser ces valeurs là où une expression 4D est attendue :</p>
<ul>
<li>Dans le code 4D, soit écrites dans les méthodes (éditeur de méthodes) soit externalisées (formules, fichiers d'étiquettes traités par la commande PROCESS 4D TAGS ou le Serveur Web, fichiers d'export, documents 4D Write Pro, etc.),</li>
<li>Dans les zones d'expressions du débogueur et l'explorateur d'exécution,</li>
<li>Dans la liste de propriétés de l'éditeur de formulaires pour les objets formulaires : champ Variable ou Expression et plusieurs expressions de list box et colonnes (source de données, couleur de fond, style ou couleur de police).</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="initialisation"></a><a href="#initialisation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Initialisation</h2>
<p>Les objets doivent être initialisés à l'aide, par exemple, de la commande <code>New object</code>, sinon une erreur de syntaxe sera générée à la suite d'une lecture ou d'une modification de leurs propriétés.</p>
<p>Exemple :</p>
<pre><code class="hljs css language-code4d"> C_OBJET(<span class="hljs-locale">$obVar</span>) <span class="hljs-comment">//création d'une variable 4D de type objet.
</span> <span class="hljs-locale">$obVar</span>:=Creer objet<span class="hljs-comment">//initialisation de l'objet et assignation à la variable 4D
</span></code></pre>
<h3><a class="anchor" aria-hidden="true" id="objet-standard-ou-partage"></a><a href="#objet-standard-ou-partage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Objet standard ou partagé</h3>
<p>Vous pouvez créer deux types d'objets :</p>
<ul>
<li>standard (non partagés), à l'aide de la commande <code>Creer objet</code>. Ces objets peuvent être modifiés sans contrôle d'accès spécifique mais ne peuvent pas être partagés entre les process.</li>
<li>partagés, à l'aide de la commande <code>New shared object</code>. Le contenu de ces objets peut être partagé entre les process, y compris des process (thread) préemptifs. L'accès à ces objets doit être contrôlé via des structures <code>Use...End use</code>. Pour plus d'informations, veuillez vous reporter à la page <a href="/docs/fr/Concepts/shared.html">Objets partagés et collections partagées</a>.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="principes-de-syntaxe"></a><a href="#principes-de-syntaxe" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Principes de syntaxe</h2>
<p>La notation objet est utilisée pour accéder aux valeurs de propriétés d'objets via des séquences de symboles et de propriétés référencées (tokens).</p>
<h3><a class="anchor" aria-hidden="true" id="proprietes-des-objets"></a><a href="#proprietes-des-objets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Propriétés des objets</h3>
<p>Avec la notation objet, il est possible d'accéder aux propriétés d'objets (aussi appelées attributs d'objets) de deux façons :</p>
<ul>
<li>à l'aide du symbole &quot;point&quot; : objet.NomPropriété</li>
</ul>
<p>Exemple :</p>
<pre><code class="hljs css language-code4d">     employee<span class="hljs-property">.name</span>:="<span class="hljs-string">Smith</span>"
</code></pre>
<ul>
<li>à l'aide d'une chaîne entre crochets : objet[&quot;NomPropriété&quot;]</li>
</ul>
<p>Exemple :</p>
<pre><code class="hljs css language-code4d">     <span class="hljs-locale">$vName</span>:=employee["<span class="hljs-string">name</span>"]
     <span class="hljs-comment">//ou :
</span>     <span class="hljs-locale">$property</span>:="<span class="hljs-string">name</span>"
     <span class="hljs-locale">$vName</span>:=employee[<span class="hljs-locale">$property</span>]

</code></pre>
<p>Comme la valeur d'une propriété d'objet peut elle-même être un objet ou une collection, la notation objet requiert une séquence de symboles pour accéder aux sous-propriétés, par exemple :</p>
<pre><code class="hljs css language-code4d"> <span class="hljs-locale">$vAge</span>:=employee<span class="hljs-property">.children</span>[2]<span class="hljs-property">.age</span>
</code></pre>
<p>La notation objet est utilisable avec tout élément de langage qui contient ou retourne un objet, c'est-à-dire :</p>
<ul>
<li>avec les <strong>objets</strong> eux-mêmes (stockés dans des variables, champs, propriétés d'objets, tableaux d'objets ou éléments de collections). Exemple :</li>
</ul>
<pre><code class="hljs css language-code4d">     <span class="hljs-locale">$age</span>:=<span class="hljs-locale">$myObjVar</span><span class="hljs-property">.employee</span><span class="hljs-property">.age</span> <span class="hljs-comment">//variable
</span> <span class="hljs-locale">$addr</span>:=[Emp]data_obj<span class="hljs-property">.address</span> <span class="hljs-comment">//champ
</span> <span class="hljs-locale">$city</span>:=<span class="hljs-locale">$addr</span><span class="hljs-property">.city</span> <span class="hljs-comment">//propriété d'un objet
</span> <span class="hljs-locale">$pop</span>:=<span class="hljs-locale">$aObjCountries</span>{2}<span class="hljs-property">.population</span> <span class="hljs-comment">//tableau d'objets
</span> <span class="hljs-locale">$val</span>:=<span class="hljs-locale">$myCollection</span>[3]<span class="hljs-property">.subvalue</span> <span class="hljs-comment">//élément de collection
</span></code></pre>
<ul>
<li>avec les <strong>commandes 4D</strong> qui retournent des objets. Exemple :</li>
</ul>
<pre><code class="hljs css language-code4d">     <span class="hljs-locale">$measures</span>:=Lire mesures base<span class="hljs-property">.DB</span><span class="hljs-property">.tables</span>
</code></pre>
<ul>
<li>avec les <strong>méthodes projet</strong> qui retournent des objets. Exemple :</li>
</ul>
<pre><code class="hljs css language-code4d">      <span class="hljs-comment">// MyMethod1
</span>     <span class="hljs-command">C_OBJECT</span>(<span class="hljs-param">$0</span>)
     <span class="hljs-param">$0</span>:=<span class="hljs-command">New object</span>("<span class="hljs-string">a</span>";10;"<span class="hljs-string">b</span>";20)

      <span class="hljs-comment">//myMethod2
</span>     <span class="hljs-locale">$result</span>:=MyMethod1<span class="hljs-property">.a</span> <span class="hljs-comment">//10
</span></code></pre>
<ul>
<li>avec les <strong>collections</strong> Exemple:</li>
</ul>
<pre><code class="hljs css language-code4d">     myColl<span class="hljs-property">.length</span> <span class="hljs-comment">//taille de la collection
</span></code></pre>
<h3><a class="anchor" aria-hidden="true" id="pointeurs"></a><a href="#pointeurs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pointeurs</h3>
<p><strong>Note :</strong> Les objets étant toujours passés par référence, l'utilisation de pointeurs n'est généralement pas nécessaire. En passant un objet, 4D utilise automatiquement, en interne, un mécanisme similaire à un pointeur pour minimiser la mémoire nécessaire, pour vous permettre de modifier le paramètre et de retourner les modifications. Par conséquent, vous n'aurez pas besoin d'utiliser des pointeurs. Cependant, si vous souhaitez utiliser des pointeurs, il est possible d'accéder aux valeurs de propriétés via des pointeurs.</p>
<p>La notation objet pour les pointeurs est semblable à la notation objet standard, à la seule différence que le symbole &quot;point&quot; doit être omis.</p>
<ul>
<li><p>Accès direct :</p>
<blockquote>
<p>pointeurObjet-&gt;nomPropriété</p>
</blockquote></li>
<li><p>Accès par le nom :</p>
<blockquote>
<p>pointeurObjet-&gt;[&quot;nomPropriété&quot;]</p>
</blockquote></li>
</ul>
<p>Exemple :</p>
<pre><code class="hljs css language-code4d"> <span class="hljs-command">C_OBJECT</span>(vObj)
 <span class="hljs-command">C_POINTER</span>(vPtr)
 vObj:=<span class="hljs-command">New object</span>
 vObj<span class="hljs-property">.a</span>:=10
 vPtr:=-&gt;vObj
 x:=vPtr-&gt;a <span class="hljs-comment">//x=10
</span></code></pre>
<h3><a class="anchor" aria-hidden="true" id="valeur-null"></a><a href="#valeur-null" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Valeur Null</h3>
<p>Lorsque la notation objet est utilisée, la valeur <strong>null</strong> est prise en charge via la commande <strong>Null</strong>. Cette commande peut être utilisée pour affecter ou comparer la valeur null aux propriétés d'objets ou aux éléments de collections, par exemple :</p>
<pre><code class="hljs css language-code4d"> myObject<span class="hljs-property">.address</span><span class="hljs-property">.zip</span>:=<span class="hljs-command">Null</span>
 <span class="hljs-keyword">If</span>(myColl[2]=<span class="hljs-command">Null</span>)
</code></pre>
<p>Pour plus d'informations, veuillez vous reporter à la description de la commande <code>Null</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="valeur-indefinie"></a><a href="#valeur-indefinie" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Valeur Indéfinie</h3>
<p>L'évaluation d'une propriété d'objet peut parfois produire une valeur indéfinie (undefined). En règle générale, lorsque le code tente de lire ou d'affecter des expressions indéfinies, 4D génère des erreurs, hormis dans les cas décrits ci-dessous :</p>
<ul>
<li>La lecture d'une propriété d'un objet ou d'une valeur indéfini(e) renvoie Indéfini ; l'affectation d'une valeur indéfinie à des variables (hors tableaux) a le même effet qu'appeler EFFACER VARIABLE avec elles :</li>
</ul>
<pre><code class="hljs css language-code4d">     C_OBJET(<span class="hljs-locale">$o</span>)
 C_ENTIER Long(<span class="hljs-locale">$val</span>)
 <span class="hljs-locale">$val</span>:=10 <span class="hljs-comment">//$val=10
</span> <span class="hljs-locale">$val</span>:=<span class="hljs-locale">$o</span><span class="hljs-property">.a</span> <span class="hljs-comment">//$o.a est indéfini (pas d'erreur), et affecter cette valeur efface la variable
</span>  <span class="hljs-comment">//$val=0
</span></code></pre>
<ul>
<li>La lecture de la propriété <strong>length</strong> d'une collection indéfinie renvoie 0 :</li>
</ul>
<pre><code class="hljs css language-code4d">     <span class="hljs-command">C_COLLECTION</span>(<span class="hljs-locale">$c</span>) <span class="hljs-comment">//variable créée mais pas de collection définie
</span> <span class="hljs-locale">$size</span>:=<span class="hljs-locale">$c</span><span class="hljs-property">.length</span> <span class="hljs-comment">//$size = 0
</span></code></pre>
<ul>
<li>Une valeur indéfinie passée en paramètre à une méthode projet est automatiquement convertie en 0 ou en &quot;&quot; en fonction de la déclaration du type du paramètre.</li>
</ul>
<pre><code class="hljs css language-code4d">     <span class="hljs-command">C_OBJECT</span>(<span class="hljs-locale">$o</span>)
 mymethod(<span class="hljs-locale">$o</span><span class="hljs-property">.a</span>) <span class="hljs-comment">//passage d'un paramètre indéfini
</span> 
  <span class="hljs-comment">//Dans la méthode mymethod
</span> <span class="hljs-command">C_TEXT</span>(<span class="hljs-param">$1</span>) <span class="hljs-comment">//Paramètre de type texte
</span>  <span class="hljs-comment">// $1 contient ""
</span></code></pre>
<ul>
<li>Une expression de condition est automatiquement convertie à Faux lorsque son évaluation donne Indéfinie avec les mots-clés Si et Au cas ou :</li>
</ul>
<pre><code class="hljs css language-code4d">     <span class="hljs-command">C_OBJECT</span>(<span class="hljs-locale">$o</span>)
     <span class="hljs-keyword">If</span>(<span class="hljs-locale">$o</span><span class="hljs-property">.a</span>) <span class="hljs-comment">// faux
</span>     <span class="hljs-keyword">End if</span>
     <span class="hljs-keyword">Case of</span>
        :(<span class="hljs-locale">$o</span><span class="hljs-property">.a</span>) <span class="hljs-comment">// faux
</span>     <span class="hljs-keyword">End case</span>
</code></pre>
<ul>
<li>L'affectation d'une valeur indéfinie à une propriété d'objet existante réinitialise ou efface sa valeur, selon son type :
<ul>
<li>Objet, collection, pointeur : Null</li>
<li>Image : image vide</li>
<li>Booléen : False</li>
<li>Chaîne : &quot;&quot;</li>
<li>Numérique : 0</li>
<li>Date : !00-00-00! si la base utilise le type date pour les objets, sinon &quot;&quot;! si la base utilise le type date pour les objets, sinon &quot;&quot;</li>
<li>Heure : 0 (nombre de ms)</li>
<li>Indéfini, Null : pas de changement</li>
</ul></li>
</ul>
<pre><code class="hljs css language-code4d">     <span class="hljs-command">C_OBJECT</span>(<span class="hljs-locale">$o</span>)
 <span class="hljs-locale">$o</span>:=<span class="hljs-command">New object</span>("<span class="hljs-string">a</span>";2)
 <span class="hljs-locale">$o</span><span class="hljs-property">.a</span>:=<span class="hljs-locale">$o</span><span class="hljs-property">.b</span> <span class="hljs-comment">//$o.a=0
</span></code></pre>
<ul>
<li>L'affectation d'une valeur indéfinie à une propriété d'objet inexistante ne fait rien.</li>
</ul>
<p>Lorsque des expressions d'un type donné sont attendues dans votre code 4D, vous pouvez vous assurer qu'elles auront le type souhaité même en cas de valeur Indéfinie en les encadrant avec la commande de transtypage 4D appropriée : <code>String</code>, <code>Num</code>, <code>Time</code>, <code>Date</code>, <code>Bool</code>. Ces commandes retournent une valeur vide du type spécifié lorsque l'expression est évaluée à Indéfinie. Par exemple :</p>
<pre><code class="hljs css language-code4d"> <span class="hljs-locale">$myString</span>:=<span class="hljs-command">Lowercase</span>(<span class="hljs-command">String</span>(<span class="hljs-locale">$o</span><span class="hljs-property">.a</span><span class="hljs-property">.b</span>)) <span class="hljs-comment">//pour être sûr d'obtenir une valeur texte même si indéfinie
</span>  <span class="hljs-comment">//afin d'éviter des erreurs dans le code
</span></code></pre>
<h2><a class="anchor" aria-hidden="true" id="identifiants-de-proprietes-dobjets"></a><a href="#identifiants-de-proprietes-dobjets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Identifiants de propriétés d'objets</h2>
<p>Les règles de nommage des tokens (noms des propriétés d'objets auxquelles on accède via la notation objet) sont plus restrictives que celles qui s'appliquent aux noms d'identifiants 4D standard. Ces noms doivent être conformes à la JavaScript Identifier Grammar (voir ECMA Script standard), notamment :</p>
<ul>
<li>le premier caractère doit être une lettre, un trait de soulignement (_) ou le symbole dollar ($),</li>
<li>les autres caractères peuvent être des lettres, des chiffres, des traits de soulignement ou des symboles dollar (les espaces sont proscrits),</li>
<li>ils différencient les caractères majuscules/minuscules.</li>
</ul>
<p><strong>Notes :</strong></p>
<ul>
<li>L'utilisation d'un champ comme indice de collection, par exemple a.b[[Table1]Id], n'est pas autorisé. Vous devez utiliser une variable intermédiaire.</li>
<li>La création d'attributs d'objets à l'aide d'une chaîne entre crochets permet de s'affranchir des règles d'ECMA Script. Par exemple, l'attribut $o[&quot;Mon Att. nom&quot;] est valide dans 4D, malgré l'espace. Dans ce cas cependant, il ne sera pas possible d'utiliser la notation à points avec cet attribut.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="exemples"></a><a href="#exemples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemples</h2>
<p>L'utilisation de la notation objet simplifie grandement le code 4D de manipulation des objets. A noter toutefois que la notation utilisant les commandes &quot;OB&quot; reste entièrement prise en charge.</p>
<ul>
<li>Ecriture et lecture de propriétés d'objets (cet exemple compare la notation objet et la syntaxe avec commandes) :</li>
</ul>
<pre><code class="hljs css language-code4d">  <span class="hljs-comment">// Utilisation de la notation objet
</span> <span class="hljs-command">C_OBJECT</span>(<span class="hljs-locale">$myObj</span>) <span class="hljs-comment">//déclaration d'une variable objet 4D
</span> <span class="hljs-locale">$myObj</span>:=<span class="hljs-command">New object</span> <span class="hljs-comment">//création d'un objet et affectation à la variable
</span> <span class="hljs-locale">$myObj</span><span class="hljs-property">.age</span>:=56
 <span class="hljs-locale">$age</span>:=<span class="hljs-locale">$myObj</span><span class="hljs-property">.age</span> <span class="hljs-comment">//56
</span> 
  <span class="hljs-comment">// Utilisation de la syntaxe par commande
</span> <span class="hljs-command">C_OBJECT</span>(<span class="hljs-locale">$myObj2</span>) <span class="hljs-comment">//déclaration d'une variable objet 4D
</span> <span class="hljs-command">OB SET</span>(<span class="hljs-locale">$myObj2</span>;"<span class="hljs-string">age</span>";42) <span class="hljs-comment">//création d'un objet et création de la propriété age
</span> <span class="hljs-locale">$age</span>:=<span class="hljs-command">OB Get</span>(<span class="hljs-locale">$myObj2</span>;"<span class="hljs-string">age</span>") <span class="hljs-comment">//42
</span> 
  <span class="hljs-comment">// Bien entendu, les deux notations peuvent être utilisées simultanément
</span> <span class="hljs-command">C_OBJECT</span>(<span class="hljs-locale">$myObj3</span>)
 <span class="hljs-command">OB SET</span>(<span class="hljs-locale">$myObj3</span>;"<span class="hljs-string">age</span>";10)
 <span class="hljs-locale">$age</span>:=<span class="hljs-locale">$myObj3</span><span class="hljs-property">.age</span> <span class="hljs-comment">//10
</span></code></pre>
<ul>
<li>Création de propriétés et affectation de valeurs, y compris d'autres objets :</li>
</ul>
<pre><code class="hljs css language-code4d"> <span class="hljs-command">C_OBJECT</span>(<span class="hljs-locale">$Emp</span>)
 <span class="hljs-locale">$Emp</span>:=<span class="hljs-command">New object</span>
 <span class="hljs-locale">$Emp</span><span class="hljs-property">.city</span>:="<span class="hljs-string">London</span>" <span class="hljs-comment">//crée la propriété city avec la valeur "London"
</span> <span class="hljs-locale">$Emp</span><span class="hljs-property">.city</span>:="<span class="hljs-string">Paris</span>" <span class="hljs-comment">//modifie la propriété city
</span> <span class="hljs-locale">$Emp</span><span class="hljs-property">.phone</span>:=<span class="hljs-command">New object</span>("<span class="hljs-string">office</span>";"<span class="hljs-string">123456789</span>";"<span class="hljs-string">home</span>";"<span class="hljs-string">0011223344</span>")
  <span class="hljs-comment">//crée la propriété phone avec un autre objet comme valeur
</span></code></pre>
<ul>
<li>Lire une valeur dans un sous-objet est très simple avec la notation objet :</li>
</ul>
<pre><code class="hljs css language-code4d"> <span class="hljs-locale">$vCity</span>:=<span class="hljs-locale">$Emp</span><span class="hljs-property">.city</span> <span class="hljs-comment">//"Paris"
</span> <span class="hljs-locale">$vPhone</span>:=<span class="hljs-locale">$Emp</span><span class="hljs-property">.phone</span><span class="hljs-property">.home</span> <span class="hljs-comment">//"0011223344"
</span></code></pre>
<ul>
<li>Vous pouvez accéder aux propriétés d'objets via des chaînes grâce à l'opérateur [ ]</li>
</ul>
<pre><code class="hljs css language-code4d"> <span class="hljs-locale">$Emp</span>["<span class="hljs-string">city</span>"]:="<span class="hljs-string">Berlin</span>" <span class="hljs-comment">//modification de la propriété city
</span>  <span class="hljs-comment">//cette syntaxe est utile pour créer des propriétés à l'aide de variables
</span> <span class="hljs-command">C_TEXT</span>(<span class="hljs-locale">$addr</span>)
 <span class="hljs-locale">$addr</span>:="<span class="hljs-string">address</span>"
 <span class="hljs-keyword">For</span>(<span class="hljs-locale">$i</span>;1;4)
    <span class="hljs-locale">$Emp</span>[<span class="hljs-locale">$addr</span>+Chaine(<span class="hljs-locale">$i</span>)]:="<span class="hljs-string"></span>"
<span class="hljs-keyword">End for</span>
  <span class="hljs-comment">// crée 4 propriétés vides "address1...address4" dans l'objet $Emp
</span></code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/fr/Concepts/number.html"><span class="arrow-prev">← </span><span>Numérique (Réel, Entier, Entier long)</span></a><a class="docs-next button" href="/docs/fr/Concepts/picture.html"><span>Image</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#initialisation">Initialisation</a><ul class="toc-headings"><li><a href="#objet-standard-ou-partage">Objet standard ou partagé</a></li></ul></li><li><a href="#principes-de-syntaxe">Principes de syntaxe</a><ul class="toc-headings"><li><a href="#proprietes-des-objets">Propriétés des objets</a></li><li><a href="#pointeurs">Pointeurs</a></li><li><a href="#valeur-null">Valeur Null</a></li><li><a href="#valeur-indefinie">Valeur Indéfinie</a></li></ul></li><li><a href="#identifiants-de-proprietes-dobjets">Identifiants de propriétés d'objets</a></li><li><a href="#exemples">Exemples</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/docs/" class="nav-home"><img src="/docs/img/logohome.png" alt="Documentation" width="300"/></a><div><h5>Community</h5><a href="https://blog.4d.com/">4D Blog</a><a href="https://forums.4d.com/">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="https://taow.4d.com/">Get Support</a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a></div><div><h5>Product &amp; Company</h5><a href="https://store.4d.com/">Product Registration</a><a href="https://us.4d.com/product-life-cycle">Product Life Cycle</a><a href="https://us.4d.com/about-us">About us</a><a href="https://us.4d.com/contact-us">Contact us</a></div></section><section class="copyright">Copyright © 2019 4D SAS</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>