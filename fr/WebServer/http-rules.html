<!doctype html><html lang=fr dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-21 docs-doc-page docs-doc-id-WebServer/http-rules" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Règles de configuration HTTP | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://developer.4d.com/docs/fr/WebServer/http-rules /><meta data-rh=true property=og:locale content=fr /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true property=og:locale:alternate content=es /><meta data-rh=true property=og:locale:alternate content=ja /><meta data-rh=true property=og:locale:alternate content=pt /><meta data-rh=true name=docusaurus_locale content=fr /><meta data-rh=true name=docsearch:language content=fr /><meta data-rh=true name=docusaurus_version content=21 /><meta data-rh=true name=docusaurus_tag content=docs-default-21 /><meta data-rh=true name=docsearch:version content=21 /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-21 /><meta data-rh=true property=og:title content="Règles de configuration HTTP | 4D Docs"/><meta data-rh=true name=description content="Vous pouvez définir des règles de configuration HTTP pour contrôler les en-têtes de réponse HTTP pour toutes les requêtes reçues par le serveur web 4D, y compris les requêtes REST. Vous pouvez ajouter, modifier ou supprimer des en-têtes HTTP, envoyer des redirections ou définir le statut HTTP. Cette fonction est utile pour mettre en œuvre des politiques de sécurité basées sur le traitement des en-têtes."/><meta data-rh=true property=og:description content="Vous pouvez définir des règles de configuration HTTP pour contrôler les en-têtes de réponse HTTP pour toutes les requêtes reçues par le serveur web 4D, y compris les requêtes REST. Vous pouvez ajouter, modifier ou supprimer des en-têtes HTTP, envoyer des redirections ou définir le statut HTTP. Cette fonction est utile pour mettre en œuvre des politiques de sécurité basées sur le traitement des en-têtes."/><link data-rh=true rel=icon href=/docs/fr/img/favicon/4d.gif /><link data-rh=true rel=canonical href=https://developer.4d.com/docs/fr/WebServer/http-rules /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/WebServer/http-rules hreflang=en /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/WebServer/http-rules hreflang=fr /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/WebServer/http-rules hreflang=es /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/WebServer/http-rules hreflang=ja /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/WebServer/http-rules hreflang=pt /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/WebServer/http-rules hreflang=x-default /><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developer.4d.com/docs/fr/category/web-applications","name":"Applications Web","position":1},{"@type":"ListItem","item":"https://developer.4d.com/docs/fr/WebServer/overview","name":"Serveur Web","position":2},{"@type":"ListItem","item":"https://developer.4d.com/docs/fr/WebServer/http-rules","name":"Règles de configuration HTTP","position":3}]}</script><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/fr/opensearch.xml><script src=https://kit.fontawesome.com/daeacc3fc4.js crossorigin=anonymous></script><link rel=stylesheet href=/docs/fr/assets/css/styles.73ef7d2c.css /><script src=/docs/fr/assets/js/runtime~main.d6a4757a.js defer></script><script src=/docs/fr/assets/js/main.c2758255.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/docs/fr/img/logohome.png /><div role=region aria-label="Aller au contenu principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Aller au contenu principal</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/fr/><div class=navbar__logo><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/fr/WebServer/http-rules>21 BETA</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/fr/WebServer/http-rules>21 BETA</a><li><a class=dropdown__link href=/docs/fr/20-R10/GettingStarted/installation>20 R10</a><li><a class=dropdown__link href=/docs/fr/20/GettingStarted/installation>20</a><li><a class=dropdown__link href=/docs/fr/19/GettingStarted/installation>19</a><li><a class=dropdown__link href=/docs/fr/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Français</a><ul class=dropdown__menu><li><a href=/docs/WebServer/http-rules target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/WebServer/http-rules target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=fr>Français</a><li><a href=/docs/es/WebServer/http-rules target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/docs/ja/WebServer/http-rules target=_self rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/WebServer/http-rules target=_self rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="mode système" aria-label="Basculer entre le mode sombre et clair (actuellement mode système)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Rechercher (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Rechercher</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/fr/><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/docs/fr/img/logohome.png alt="4D Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/><b>4D Documentation</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/category/getting-started><span title="Prise en main" class=categoryLinkLabel_W154>Prise en main</span></a><button aria-label="Expand sidebar category 'Prise en main'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/category/project-ide><span title="Projet & IDE" class=categoryLinkLabel_W154>Projet & IDE</span></a><button aria-label="Expand sidebar category 'Projet & IDE'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/category/4d-language><span title="Langage 4D" class=categoryLinkLabel_W154>Langage 4D</span></a><button aria-label="Expand sidebar category 'Langage 4D'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/category/core><span title=Développement class=categoryLinkLabel_W154>Développement</span></a><button aria-label="Expand sidebar category 'Développement'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/docs/fr/category/web-applications><span title="Applications Web" class=categoryLinkLabel_W154>Applications Web</span></a><button aria-label="Collapse sidebar category 'Applications Web'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/fr/WebServer/overview><span title="Serveur Web" class=categoryLinkLabel_W154>Serveur Web</span></a><button aria-label="Collapse sidebar category 'Serveur Web'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/gettingStarted><span title="Prise en main" class=linkLabel_WmDU>Prise en main</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/webServerConfig><span title=Configuration class=linkLabel_WmDU>Configuration</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/webServerAdmin><span title=Administration class=linkLabel_WmDU>Administration</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/webServerObject><span title="Instances du serveur Web" class=linkLabel_WmDU>Instances du serveur Web</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/templates><span title="Pages templates" class=linkLabel_WmDU>Pages templates</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/httpRequests><span title="Traitement des requêtes HTTP" class=linkLabel_WmDU>Traitement des requêtes HTTP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/http-request-handler><span title="Gestionnaire de requêtes HTTP" class=linkLabel_WmDU>Gestionnaire de requêtes HTTP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/fr/WebServer/http-rules><span title="Règles de configuration HTTP" class=linkLabel_WmDU>Règles de configuration HTTP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/allowProject><span title="Autoriser les méthodes projet" class=linkLabel_WmDU>Autoriser les méthodes projet</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/errorPages><span title="Pages d'erreur HTTP personnalisées" class=linkLabel_WmDU>Pages d'erreur HTTP personnalisées</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/authentication><span title=Authentification class=linkLabel_WmDU>Authentification</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/sessions><span title="Sessions Web" class=linkLabel_WmDU>Sessions Web</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/fr/WebServer/preemptiveWeb><span title="Utiliser des process web préemptifs" class=linkLabel_WmDU>Utiliser des process web préemptifs</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/docs/fr/category/rest-api><span title="API REST" class=categoryLinkLabel_W154>API REST</span></a><button aria-label="Expand sidebar category 'API REST'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/category/desktop-applications><span title="Applications Desktop" class=categoryLinkLabel_W154>Applications Desktop</span></a><button aria-label="Expand sidebar category 'Applications Desktop'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/category/administration><span title=Administration class=categoryLinkLabel_W154>Administration</span></a><button aria-label="Expand sidebar category 'Administration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/fr/category/extensions><span title=Extensions class=categoryLinkLabel_W154>Extensions</span></a><button aria-label="Expand sidebar category 'Extensions'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav><button type=button title="Réduire le menu latéral" aria-label="Réduire le menu latéral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Page d’accueil" class=breadcrumbs__link href=/docs/fr/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/fr/category/web-applications><span>Applications Web</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/fr/WebServer/overview><span>Serveur Web</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Règles de configuration HTTP</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version : 21 BETA</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Règles de configuration HTTP</h1></header><p>Vous pouvez définir des règles de configuration HTTP pour contrôler les en-têtes de réponse HTTP pour toutes les requêtes reçues par le serveur web 4D, y compris les requêtes REST. Vous pouvez ajouter, modifier ou supprimer des en-têtes HTTP, envoyer des redirections ou définir le statut HTTP. Cette fonction est utile pour mettre en œuvre des politiques de sécurité basées sur le traitement des en-têtes.</p>
<p>Pour définir des règles de configuration HTTP, il suffit d'écrire quelques RegEx pour déclarer les motifs (<em>patterns</em>) d'URL que l'on souhaite contrôler, ainsi que la manière de modifier les en-têtes de réponse. Vous pouvez définir ces règles en utilisant un fichier <code>HTTPRules.json</code> stocké dans le dossier du projet, ou en utilisant le paramètre <em>settings</em> de la fonction <a class="" href=/docs/fr/API/WebServerClass#start><code>start()</code></a> de l'objet serveur web.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=conditions-requises>Conditions requises<a href=#conditions-requises class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h2>
<p>Les règles de configuration HTTP sont prises en charge dans les contextes suivants :</p>
<ul>
<li class="">les <a class="" href=/docs/fr/WebServer/sessions#enabling-web-sessions>sessions extensibles</a> ou <a class="" href=/docs/fr/settings/web#no-sessions>pas de sessions</a> sont activées,</li>
<li class="">un serveur web exécuté localement par 4D ou 4D Server, y compris ceux <a class="" href=/docs/fr/WebServer/webServerObject>exécutés par des composants</a>.</li>
</ul>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=comment-déclarer-des-règles>Comment déclarer des règles<a href=#comment-déclarer-des-règles class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h2>
<p>Vous pouvez déclarer des règles de réponse HTTP :</p>
<ul>
<li class="">dans un fichier de configuration nommé <strong>HTTPRules.json</strong> stocké dans le dossier <a class="" href=/docs/fr/Project/architecture#sources><code>Project/Sources</code></a> du projet. Ces règles sont chargées et appliquées dans le serveur Web principal une fois qu'il a démarré.</li>
<li class="">en utilisant une propriété <a class="" href=/docs/fr/API/WebServerClass#rules><code>.rules</code></a> définie dans le paramètre <em>settings</em> de la fonction <a class="" href=/docs/fr/API/WebServerClass#start><code>start()</code></a>, pour n'importe quel objet serveur web :</li>
</ul>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">WEB Server.start($settings.rules) //règles au démarrage du serveur</span><br/></span></code></pre></div></div>
<p>Si un fichier <strong>HTTPRules.json</strong> et un appel à la commande <a class="" href=/docs/fr/commands/web-server><code>WEB Server</code></a> avec un <code>$settings.rules</code> valide sont utilisés simultanément, la commande <code>WEB Server</code> est prioritaire.</p>
<p>Si l'URI de la requête ne correspond à aucun des <em>patterns</em> RegEx, le serveur web renvoie une réponse par défaut.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=définition-des-règles>Définition des règles<a href=#définition-des-règles class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h2>
<p>Le fichier <strong>HTTPRules.json</strong> ou la propriété <a class="" href=/docs/fr/API/WebServerClass#rules><code>.rules</code></a> doit contenir une collection d'<strong>objets règle</strong>.</p>
<p>Un objet règle est défini par:</p>
<ul>
<li class="">un RegEx décrivant un motif d'URL, par exemple "^(.*\.(jpg|jpeg|png|gif)"</li>
<li class="">le nom de l'action à exécuter pour la réponse HTTP, par exemple "removeHeaders"</li>
<li class="">la valeur de l'action, par exemple "X-Unwanted-Header1"</li>
</ul>
<p>Les autres propriétés sont ignorées.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=motifs-durl>Motifs d'URL<a href=#motifs-durl class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<p>Les motifs d'URL sont donnés en utilisant des <strong>expressions régulières</strong>. Pour déclarer un <em>pattern</em> d'expression régulière, utilisez le nom de propriété "RegExPattern".</p>
<p>Ex: <code>"RegExPattern": "/Test/Authorized/(.*)"</code></p>
<p>Lorsque le serveur web reçoit une requête, <strong>tous</strong> les motifs d'URL sont déclenchés séquentiellement dans l'ordre donné, et tous les motifs correspondants sont exécutés. Si plusieurs actions modifient des ressources similaires, la dernière action exécutée est prise en compte.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=actions>Actions<a href=#actions class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<p>Les mots-clés d'action suivants sont pris en charge :</p>








































<table><thead><tr><th>Mot-clé<th>Value type<th>Description<tbody><tr><td><code>removeHeaders</code><td>Text ou collection de text<td>En-tête(s) à supprimer des réponses HTTP. Si un en-tête à supprimer n'existe pas dans l'en-tête de la réponse, il est ignoré.<tr><td><code>addHeaders</code><td>Object<td>Nom (texte) et valeur (texte) des en-têtes à ajouter aux réponses HTTP.<tr><td><code>setHeaders</code><td>Object<td>Nom (texte) et valeur (texte) des en-têtes à modifier dans les réponses HTTP. Si l'en-tête à modifier n'existe pas dans l'en-tête de la réponse, il est ajouté.<tr><td><code>denyAccess</code><td>Boolean<td>true pour refuser l'accès à la ressource, false pour l'autoriser. Lorsque l'accès à une ressource est refusé, le serveur web renvoie un statut 403 par défaut<tr><td><code>redirect</code><td>Text<td>URL de redirection. Lorsqu'une redirection est déclenchée, le serveur web renvoie par défaut un statut 302<tr><td><code>status</code><td>Number<td>Statut HTTP</table>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=en-têtes-non-modifiables>En-têtes non modifiables<a href=#en-têtes-non-modifiables class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<p>Certains en-têtes ne peuvent pas être ajoutés, modifiés ou supprimés :</p>









































<table><thead><tr><th>En-tête<th>Ajout<th>Modification<th>Suppression<tbody><tr><td>Date<td>Non<td>Non<td>Non<tr><td>Content-Length<td>Non<td>Non<td>Non<tr><td>Content-Encoding<td>Non<td>Non<td>Non<tr><td>Vary<td>Oui<td>Non<td>Non<tr><td>Set-Cookie<td>Oui<td>Ajoute un cookie<td>Non</table>
<p>Les modifications non autorisées de ces en-têtes ne génèrent pas d'erreurs, mais les modifications seront ignorées.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=règles-de-configuration-courantes>Règles de configuration courantes<a href=#règles-de-configuration-courantes class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<p>Vous pouvez connaître les règles en vigueur en utilisant la <a class="" href=/docs/fr/API/WebServerClass#rules>propriété <code>.rules</code> de l'objet Serveur Web</a> :</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $rules : Collection</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rules:=WEB Server.rules //règles de configuration courantes</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=exemples>Exemples<a href=#exemples class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h2>
<p>Les règles de configuration peuvent être définies en utilisant un fichier <code>HTTPRules.json</code> ou le paramètre <em>settings</em> de la fonction <a class="" href=/docs/fr/API/WebServerClass#start><code>.start()</code></a> du serveur web.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=utilisation-dun-fichier-httprulesjson>Utilisation d'un fichier HTTPRules.json<a href=#utilisation-dun-fichier-httprulesjson class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"comment"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Toutes requêtes: autoriser méthode GET, supprimer en-tête 'Server' et définir en-têtes de sécurité"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/(.*)"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"setHeaders"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			</span><span class="token property" style=color:#36acaa>"Allow"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"GET"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			</span><span class="token property" style=color:#36acaa>"X-Frame-Options"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"SAMEORIGIN"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			</span><span class="token property" style=color:#36acaa>"Content-Security-Policy"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"default-src 'self'"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"removeHeaders"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			</span><span class="token string" style=color:#e3116c>"Server"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"comment"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"requêtes REST: autoriser méthode POST"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/rest/(.*)"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"addHeaders"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			</span><span class="token property" style=color:#36acaa>"Allow"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"POST"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"comment"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Fichiers html dans dossier 'doc' : contrôle du cache"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/docs/(.*).html"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"setHeaders"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			</span><span class="token property" style=color:#36acaa>"Cache-Control"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"max-age=3600"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"removeHeaders"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">			</span><span class="token string" style=color:#e3116c>"X-Powered-By"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"comment"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Status 503 sur page 'maintenance'"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"^/maintenance.html"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"status"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>503</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"comment"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Redirection fichiers CSS et JS"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"^(.*\\\\.(css|js))"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"redirect"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"https://cdn.example.com/"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"comment"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Redirection images avec code de statut permanent"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"^(.*\\\\.(jpg|jpeg|png|gif))"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"redirect"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"https://cdn.example.com/images/"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"status"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>301</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"comment"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Refuser accès à toutes les ressources dans le dossier 'private'"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/private/(.*)"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"denyAccess"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"comment"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Autoriser accès à toutes les ressources dans le dossier 'private/allowed'"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"regexPattern"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/private/allowed/(.*)"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token property" style=color:#36acaa>"denyAccess"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=utilisation-du-paramètre-settings>Utilisation du paramètre <em>settings</em><a href=#utilisation-du-paramètre-settings class=hash-link aria-label="Lien direct vers le titre" title="Lien direct vers le titre" translate=no>​</a></h3>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $rule:={}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $settings:={}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$settings.rules:=[]</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule:={}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.comment:="Toutes requêtes: autoriser méthode GET, supprimer en-tête 'Server' et définir en-têtes de sécurité"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.regexPattern:="/(.*)"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.setHeaders:={Allow: "GET"}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.setHeaders["X-Frame-Options"]:="SAMEORIGIN"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.setHeaders["Content-Security-Policy"]:="default-src 'self'"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.removeHeaders:=["Server"]</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$settings.rules.push($rule)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule:={}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.comment:="requêtes REST: autoriser méthode POST"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.regexPattern:="/rest/(.*)"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.addHeaders:={Allow: "POST"}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$settings.rules.push($rule)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule:={}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.comment:="Fichiers html dans dossier 'doc' : contrôle du cache"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.regexPattern:="/docs/(.*).html"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.setHeaders:={}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.setHeaders["Cache-Control"]:="max-age=3600"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.removeHeaders:=["X-Powered-By"]</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$settings.rules.push($rule)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule:={}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.comment:="Status 503 sur page 'maintenance'"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.regexPattern:="^/maintenance.html"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.status:=503</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$settings.rules.push($rule)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule:={}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.comment:="Redirection fichiers CSS et JS"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.regexPattern:="^(.*\\\\.(css|js))"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.redirect:="https://cdn.example.com/"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$settings.rules.push($rule)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule:={}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.comment:="Redirection images avec code de statut permanent"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.regexPattern:="^(.*\\\\.(jpg|jpeg|png|gif))"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.redirect:="https://cdn.example.com/images/"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.status:=301</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$settings.rules.push($rule)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule:={}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.comment:="Refuser accès à toutes les ressources dans le dossier 'private'"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.regexPattern:="/private/(.*)"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.denyAccess:=True</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$settings.rules.push($rule)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule:={}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.comment:="Autoriser accès à toutes les ressources dans le dossier 'private/allowed'"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.regexPattern:="/private/allowed/(.*)"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$rule.denyAccess:=False</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$settings.rules.push($rule)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$return:=WEB Server.start($settings)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>Article(s) de blog sur le sujet</div><div class=admonitionContent_BuS1><p><a href=https://blog.4d.com/new-way-to-control-your-http-responses/ target=_blank rel="noopener noreferrer" class="">New Way to Control Your HTTP Responses</a></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20WebServer%2Fhttp-rules.md%20(21)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Ecrire un commentaire sur cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/fr/WebServer/http-request-handler><div class=pagination-nav__sublabel>Précédent</div><div class=pagination-nav__label>Gestionnaire de requêtes HTTP</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/fr/WebServer/allowProject><div class=pagination-nav__sublabel>Suivant</div><div class=pagination-nav__label>Autoriser les méthodes projet</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#conditions-requises class="table-of-contents__link toc-highlight">Conditions requises</a><li><a href=#comment-déclarer-des-règles class="table-of-contents__link toc-highlight">Comment déclarer des règles</a><li><a href=#définition-des-règles class="table-of-contents__link toc-highlight">Définition des règles</a><ul><li><a href=#motifs-durl class="table-of-contents__link toc-highlight">Motifs d'URL</a><li><a href=#actions class="table-of-contents__link toc-highlight">Actions</a><li><a href=#en-têtes-non-modifiables class="table-of-contents__link toc-highlight">En-têtes non modifiables</a><li><a href=#règles-de-configuration-courantes class="table-of-contents__link toc-highlight">Règles de configuration courantes</a></ul><li><a href=#exemples class="table-of-contents__link toc-highlight">Exemples</a><ul><li><a href=#utilisation-dun-fichier-httprulesjson class="table-of-contents__link toc-highlight">Utilisation d'un fichier HTTPRules.json</a><li><a href=#utilisation-du-paramètre-settings class="table-of-contents__link toc-highlight">Utilisation du paramètre <em>settings</em></a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Communauté</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Support</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Documentation download<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Où tout a commencé)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Knowledgebase</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Téléchargements</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Aide</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Société</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>A propos de 4D</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contacts</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D dans le monde</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Carrière</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 4D SAS - Tous droits réservés</div></div></div></footer></div></body>