"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8727],{603905:(e,a,t)=>{t.d(a,{Zo:()=>d,kt:()=>u});var o=t(667294);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function c(e,a){if(null==e)return{};var t,o,n=function(e,a){if(null==e)return{};var t,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var s=o.createContext({}),l=function(e){var a=o.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},d=function(e){var a=l(e.components);return o.createElement(s.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},m=o.forwardRef((function(e,a){var t=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),m=l(t),u=n,h=m["".concat(s,".").concat(u)]||m[u]||p[u]||r;return t?o.createElement(h,i(i({ref:a},d),{},{components:t})):o.createElement(h,i({ref:a},d))}));function u(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var r=t.length,i=new Array(r);i[0]=m;var c={};for(var s in a)hasOwnProperty.call(a,s)&&(c[s]=a[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var l=2;l<r;l++)i[l]=t[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}m.displayName="MDXCreateElement"},171438:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>c,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>d});t(667294);var o=t(603905);function n(){return n=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},n.apply(this,arguments)}function r(e,a){if(null==e)return{};var t,o,n=function(e,a){if(null==e)return{};var t,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}const i={id:"compact",title:"P\xe1gina compactado",sidebar_label:"P\xe1gina compactado"},c=void 0,s={unversionedId:"MSC/compact",id:"version-20-R5/MSC/compact",title:"P\xe1gina compactado",description:"Esta p\xe1gina permite acceder a las funciones de compactaci\xf3n del archivos de datos.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R5/MSC/compact.md",sourceDirName:"MSC",slug:"/MSC/compact",permalink:"/docs/es/MSC/compact",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20MSC%2Fcompact.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"compact",title:"P\xe1gina compactado",sidebar_label:"P\xe1gina compactado"},sidebar:"docs",previous:{title:"P\xe1gina de respaldo",permalink:"/docs/es/MSC/backup"},next:{title:"P\xe1gina Retroceso",permalink:"/docs/es/MSC/rollback"}},l={},d=[{value:"\xbfPor qu\xe9 compactar los archivos?",id:"por-qu\xe9-compactar-los-archivos",level:2},{value:"Compactaci\xf3n est\xe1ndar",id:"compactaci\xf3n-est\xe1ndar",level:2},{value:"Abrir archivo de historial",id:"abrir-archivo-de-historial",level:2},{value:"Modo avanzado",id:"modo-avanzado",level:2},{value:"Compactar los registros y los \xedndices",id:"compactar-los-registros-y-los-\xedndices",level:3},{value:"Forzar la actualizaci\xf3n de los registros",id:"forzar-la-actualizaci\xf3n-de-los-registros",level:3},{value:"Compactar la tabla de direcciones",id:"compactar-la-tabla-de-direcciones",level:3}],p={toc:d};function m(e){var{components:a}=e,i=r(e,["components"]);return(0,o.kt)("wrapper",n({},p,i,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Esta p\xe1gina permite acceder a las funciones de compactaci\xf3n del archivos de datos."),(0,o.kt)("h2",n({},{id:"por-qu\xe9-compactar-los-archivos"}),"\xbfPor qu\xe9 compactar los archivos?"),(0,o.kt)("p",null,"La compactaci\xf3n de archivos responde a dos tipos de necesidades:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Reducing size and optimization of files"),': Files may contain unused spaces (\u201choles\u201d). De hecho, cuando se eliminan los registros, el espacio que ocupaban anteriormente en el archivo queda vac\xedo. 4D reutiliza estos espacios vac\xedos siempre que es posible, pero como el tama\xf1o de los datos es variable, las sucesivas eliminaciones o modificaciones generar\xe1n inevitablemente espacio inutilizable para el programa. Lo mismo ocurre cuando se acaba de borrar una gran cantidad de datos: los espacios vac\xedos quedan sin asignar en el archivo.\nLa relaci\xf3n entre el tama\xf1o del archivo de datos y el espacio realmente utilizado para los datos es la tasa de ocupaci\xf3n de los datos. Una tasa demasiado baja puede provocar, adem\xe1s de un desperdicio de espacio, el deterioro del rendimiento de la base. La compactaci\xf3n puede utilizarse para reorganizar y optimizar el almacenamiento de los datos con el fin de eliminar los "huecos".\nEl \xe1rea "Informaci\xf3n" resume los datos relativos a la fragmentaci\xf3n de los archivos y sugiere las operaciones a realizar. The ',(0,o.kt)("a",n({parentName:"p"},{href:"/docs/es/MSC/information#data"}),"Data")," tab on the \u201cInformation\u201d page of the MSC indicates the fragmentation of the current data file.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Complete updating of data")," by applying the current formatting set in the structure file. Esto es \xfatil cuando los datos de una misma tabla se almacenan en diferentes formatos, por ejemplo, despu\xe9s de un cambio en la estructura de la base."))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"La compactaci\xf3n s\xf3lo est\xe1 disponible en el modo mantenimiento. Si intenta realizar esta operaci\xf3n en modo est\xe1ndar, una caja de di\xe1logo de advertencia le informar\xe1 que la aplicaci\xf3n se cerrar\xe1 y se reiniciar\xe1 en modo mantenimiento. You can compact a data file that is not opened by the application (see ",(0,o.kt)("a",n({parentName:"p"},{href:"#compact-records-and-indexes"}),"Compact records and indexes")," below).")),(0,o.kt)("h2",n({},{id:"compactaci\xf3n-est\xe1ndar"}),"Compactaci\xf3n est\xe1ndar"),(0,o.kt)("p",null,"Para iniciar directamente la compactaci\xf3n del archivo de datos, haga clic en el bot\xf3n de compactaci\xf3n de la ventana del CSM."),(0,o.kt)("p",null,(0,o.kt)("img",{src:t(689779).Z,width:"158",height:"88"})),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Como la compactaci\xf3n implica la duplicaci\xf3n del archivo original, el bot\xf3n se desactiva cuando no hay espacio suficiente en el disco que contiene el archivo.")),(0,o.kt)("p",null,"Esta operaci\xf3n compacta el archivo principal y los archivos de \xedndice. 4D copies the original files and puts them in a folder named ",(0,o.kt)("strong",{parentName:"p"},"Replaced Files (Compacting)"),', which is created next to the original file. Si ha realizado varias operaciones de compactaci\xf3n, se crea una nueva carpeta cada vez. Se llamar\xe1 "Archivos reemplazados (compactando)_1", "Archivos reemplazados (compactando)_2", y as\xed sucesivamente. Puede modificar la carpeta donde se guardan los archivos originales utilizando el modo avanzado.'),(0,o.kt)("p",null,"Una vez finalizada la operaci\xf3n, los archivos compactados sustituyen autom\xe1ticamente a los originales. La aplicaci\xf3n es inmediatamente operacional sin ninguna otra manipulaci\xf3n."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Cuando la base est\xe1 encriptada, la compactaci\xf3n incluye pasos de encriptaci\xf3n y desencriptaci\xf3n y, por tanto, requiere la llave de encriptaci\xf3n de datos actual. Si no se ha suministrado una llave de datos v\xe1lida, aparecer\xe1 una caja de di\xe1logo solicitando la frase secreta o la llave de datos.")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Warning:")," Each compacting operation involves the duplication of the original file which increases the size of the application folder. Es importante tener esto en cuenta (especialmente en macOS, donde las aplicaciones 4D aparecen como paquetes) para que el tama\xf1o de la aplicaci\xf3n no aumente excesivamente. Eliminar manualmente las copias del archivo original dentro del paquete puede ser \xfatil para mantener el tama\xf1o del paquete."),(0,o.kt)("h2",n({},{id:"abrir-archivo-de-historial"}),"Abrir archivo de historial"),(0,o.kt)("p",null,"Una vez finalizada la compactaci\xf3n, 4D genera un archivo de historial en la carpeta Logs del proyecto. Este archivo permite ver todas las operaciones realizadas. Se crea en formato XML y se llama:  ",(0,o.kt)("em",{parentName:"p"},"ApplicationName","*","*","_Compact_Log_yyyy-mm-dd hh-mm-ss.xml"),'" donde:'),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"ApplicationName"),' is the name of the project file without any extension, for example "Invoices",'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"yyyy-mm-dd hh-mm-ss"),' is the timestamp of the file, based upon the local system time when the maintenance operation was started, for example "2019-02-11 15-20-45".')),(0,o.kt)("p",null,"When you click on the ",(0,o.kt)("strong",{parentName:"p"},"Open log file")," button, 4D displays the most recent log file in the default browser of the machine."),(0,o.kt)("h2",n({},{id:"modo-avanzado"}),"Modo avanzado"),(0,o.kt)("p",null,"The Compact page contains an ",(0,o.kt)("strong",{parentName:"p"},"Advanced>")," button, which can be used to access an options page for compacting data file."),(0,o.kt)("h3",n({},{id:"compactar-los-registros-y-los-\xedndices"}),"Compactar los registros y los \xedndices"),(0,o.kt)("p",null,"The ",(0,o.kt)("strong",{parentName:"p"},"Compact records and indexes")," area displays the pathname of the current data file as well as a ",(0,o.kt)("strong",{parentName:"p"},"[...]")," button that can be used to specify another data file. Al hacer clic en este bot\xf3n, se muestra una caja de di\xe1logo est\xe1ndar de \xe1pertura de documentos para que pueda designar el archivo de datos a compactar. Debe seleccionar un archivo de datos que sea compatible con el archivo de estructura abierto. Una vez validada esta caja de di\xe1logo, se indica en la ventana el nombre de la ruta del archivo a compactar."),(0,o.kt)("p",null,"The second ",(0,o.kt)("strong",{parentName:"p"},"[...]")," button can be used to specify another location for the original files to be saved before the compacting operation. Esta opci\xf3n se puede utilizar m\xe1s particularmente cuando se compactan archivos voluminosos mientras se utilizan diferentes discos."),(0,o.kt)("h3",n({},{id:"forzar-la-actualizaci\xf3n-de-los-registros"}),"Forzar la actualizaci\xf3n de los registros"),(0,o.kt)("p",null,"Cuando esta opci\xf3n est\xe1 marcada, 4D reescribe cada registro de cada tabla durante la operaci\xf3n de compactaci\xf3n, seg\xfan su descripci\xf3n en la estructura. Si esta opci\xf3n no est\xe1 marcada, 4D s\xf3lo reorganiza el almacenamiento de datos en el disco. Esta opci\xf3n es \xfatil en los siguientes casos:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Cuando los tipos de campo se modifican en la estructura de la aplicaci\xf3n despu\xe9s de haber introducido los datos. Por ejemplo, puede haber cambiado un campo Longint a un tipo Real. 4D permite incluso cambios entre dos tipos muy diferentes (con riesgo de p\xe9rdida de datos), por ejemplo, un campo Real puede cambiarse a Texto y viceversa.\nEn este caso, 4D no convierte los datos ya introducidos de forma retroactiva; los datos se convierten s\xf3lo cuando se cargan los registros y luego se guardan. Esta opci\xf3n obliga a convertir todos los datos.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Cuando una opci\xf3n de almacenamiento externo para datos de Texto, Imagen o BLOB ha sido cambiada despu\xe9s de haber introducido los datos. Esto puede ocurrir cuando se convierten las bases de datos desde una versi\xf3n anterior a la v13. Como en el caso de la reescritura descrita anteriormente, 4D no convierte los datos ya introducidos con car\xe1cter retroactivo. Para ello, puede forzar la actualizaci\xf3n de los registros para aplicar el nuevo modo de almacenamiento a los registros ya introducidos.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Cuando se han eliminado las tablas o los campos. En este caso, la compactaci\xf3n con actualizaci\xf3n de registros recupera el espacio de estos datos eliminados y reduce as\xed el tama\xf1o del archivo."))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Todos los \xedndices se actualizan cuando se selecciona esta opci\xf3n.")),(0,o.kt)("h3",n({},{id:"compactar-la-tabla-de-direcciones"}),"Compactar la tabla de direcciones"),(0,o.kt)("p",null,"(opci\xf3n activa \xfanicamente cuando la opci\xf3n anterior est\xe1 marcada)"),(0,o.kt)("p",null,"Esta opci\xf3n reconstruye completamente la tabla de direcciones para los registros durante la compactaci\xf3n. Esto optimiza el tama\xf1o de la tabla de direcciones y se utiliza principalmente para las bases de datos en las que se crearon grandes vol\xfamenes de datos y luego se borraron. En otros casos, la optimizaci\xf3n no es un factor decisivo."),(0,o.kt)("p",null,"Note that this option substantially slows compacting and invalidates any sets saved using the ",(0,o.kt)("inlineCode",{parentName:"p"},"SAVE SET")," command. Adem\xe1s, recomendamos especialmente que se borren los conjuntos guardados en este caso, ya que su uso puede dar lugar a selecciones de datos incorrectas."),(0,o.kt)("admonition",n({},{title:"Notas",type:"note"}),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"La compactaci\xf3n tiene en cuenta los registros de las tablas que se han puesto en la Papelera. Si hay un gran n\xfamero de registros en la Papelera, esto puede ser un factor adicional que puede ralentizar la operaci\xf3n."),(0,o.kt)("li",{parentName:"ul"},"El uso de esta opci\xf3n hace que la tabla de direcciones, y por tanto la base de datos, sea incompatible con el archivo de diario actual (si existe). Se guardar\xe1 autom\xe1ticamente y habr\xe1 que crear un nuevo archivo de historial la pr\xf3xima vez que se inicie la aplicaci\xf3n."),(0,o.kt)("li",{parentName:"ul"},"You can decide if the address table needs to be compacted by comparing the total number of records and the address table size in the ",(0,o.kt)("a",n({parentName:"li"},{href:"/docs/es/MSC/information"}),"Information")," page of the MSC."),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19R/help/command/en/page1051.html"}),(0,o.kt)("inlineCode",{parentName:"a"},"TRUNCATE TABLE"))," command automatically resets the address table for the specified table."))))}m.isMDXComponent=!0},689779:(e,a,t)=>{t.d(a,{Z:()=>o});const o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAABYCAIAAACLVtmFAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAASdEVYdFNvZnR3YXJlAEdyZWVuc2hvdF5VCAUAAAS+SURBVHhe7ZrLSitbEIbP2x40UdRgFBGNg4iKiCByQPE2EiLqSCcOoqIEnIjXiIrJeQOfwHN+U3+ys3vbScftbrsq9Q2aXrUuheuje61l+q9dxyjvav91zOFqzeJqzeJqzeJqzeJqzeJqzeJqzeJqzeJqzeJqzeJqzeJqzeJqf3B2dra+vp7L5TKZTG9vL664RwRxtlCFq33n5ORkcnLy73BQizZsrYRuV1utVtfW1sRfNpvd2to6Pz+/v7+vVCq44h4RxKUBWqI9eyaerlYLT/Pz83CWSqUKhcLLy4vEt7e3EcRVioijFm0QRHstdrtarTyvQ0NDpVKJoRoBtQLaoCXi6MVQsuletVg74QnPYrPXy8vLhYWFjY0NVOGKe0RYV7Mrz66Kdbd71cq+CW9almtMT08jiO1x44oI62qgPYLoy3KC6VK1OM/AEPZHjfVVuL29HR0dRZWAe0RYVwPtZVeV/BNRl6rFaRV6sPtluQm4HBkZEa83NzeMNoFeqMUILCeVLlWby+WgB2cbln/m+voa7+HA89oAvdAXI7CcVOyoxV/xT2RkN4STKzt3AnqhbyaTYTmp2FELYa+vr/9FQ9RWKhV2roPgr7CuDnohiE0Wy0nFlFp6i4Bshfyp1UFHauWQE7bWYvfka22C6Ejtzs4O9PgOWQcBtSi24OnpCXr8XKsDCKPVaOTzeRjy/0YpoFO15XIZkvx/yAoIqH1/7bZjfHwcntLpdLNd4L/8JAuootXIvL29LS8vwxaeRbxpG+tuQC3iqJXn1X+v/QY+oRbAriyfAPsj7H5xtsHJ1b+ySAqY8YDa9xduZObm5mRXFYZ/G/Vt7O3twRCtfhaciHDexZYY715sj/2Lxu8HR8/+/v7fV9sAQ2HAsP9GacGCWrxO8c4MqEUxOuxTBxEMiGGZQCfq1R4eHtZWw6Da30HUAgzONArRrfbh4WFwcFA0/Am1GBwpmEwbutUuLS2JA9x8rdrmkZlMG4rVFotFmX1seXAG/Vq1GBDDyvhIxJSq0KoWB5Xh4WGZ+v39fUa/FAwr4yMR0jGqB61qV1dXZd6npqaq1WqhUMCj9oVgQAyLwSUL0jGxHlSqLZVKPT09mHFcLy4uGP0DYPBGosBPCMlHpVr5CuJDUqnUzMwMH70OmZ2dFZEfks1mmV4JKtVyskPo6+u7urpi08g8Pj5mMhkOEQKbKsGgWoDzKJ/EyIyNjbFzOEyvBN1qWa6DpVG+egGbm5uMRuD09FR6gaOjI0brsMLVxgBn+qO5lk8VAVbNg4MDRltyd3fX+NRtcXGR0SakCrCsBGtqgfxa8AkGBgbK5TJHaYLVrjYGONMhcw09ExMTbBEZbL6Oj485xM+whauNAc50+Fw/Pz+vrKxE2RmBdDqdz+dbHFvZztXGAGc6rrlmMlcbA5xpV9sSV9seJnO1McCZdrUtcbXtYTJXGwOcaVfbElfbHiZztTHAmXa1LXG17WEyVxsDnOnYYXolqFTb+OAtTpCU6ZWgUm2xWIzZLtKp+2RVpVonCq7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLK7WLFTrGGR393+ISMRFHIYADQAAAABJRU5ErkJggg=="}}]);