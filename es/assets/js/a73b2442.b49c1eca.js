"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[90760],{773363:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>l});var t=s(474848),i=s(28453);const r={id:"HTTPAgentClass",title:"HTTPAgent"},o=void 0,d={id:"API/HTTPAgentClass",title:"HTTPAgent",description:"La clase HTTPAgent permite manejar HTTPAgent objects que pueden ser utilizados para gestionar la persistencia y reutilizaci\xf3n de conexiones a servidores utilizando la clase HTTPRequest.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R6/API/HTTPAgentClass.md",sourceDirName:"API",slug:"/API/HTTPAgentClass",permalink:"/docs/es/API/HTTPAgentClass",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FHTTPAgentClass.md%20(20-R6)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R6",frontMatter:{id:"HTTPAgentClass",title:"HTTPAgent"},sidebar:"docs",previous:{title:"Function",permalink:"/docs/es/API/FunctionClass"},next:{title:"HTTPRequest",permalink:"/docs/es/API/HTTPRequestClass"}},c={},l=[{value:"Objeto HTTPAgent",id:"objeto-httpagent",level:3},{value:"4D.HTTPAgent.new()",id:"4dhttpagentnew",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Par\xe1metro <em>options</em>",id:"par\xe1metro-options",level:4},{value:"Ejemplo",id:"ejemplo",level:4},{value:".options",id:"options",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:".requestsCount",id:"requestscount",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:".freeSocketsCount",id:"freesocketscount",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4}];function a(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["La clase ",(0,t.jsx)(n.code,{children:"HTTPAgent"})," permite manejar ",(0,t.jsx)(n.a,{href:"#httpagent-object",children:(0,t.jsx)(n.code,{children:"HTTPAgent objects"})})," que pueden ser utilizados para gestionar la persistencia y reutilizaci\xf3n de conexiones a servidores utilizando la ",(0,t.jsx)(n.a,{href:"/docs/es/API/HTTPRequestClass",children:"clase HTTPRequest"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["La clase ",(0,t.jsx)(n.code,{children:"HTTPAgent"})," est\xe1 disponible en el class store ",(0,t.jsx)(n.code,{children:"4D"}),". Puede crear un nuevo ",(0,t.jsx)(n.a,{href:"#httpagent-object",children:(0,t.jsx)(n.code,{children:"objeto HTTPAgent"})})," utilizando la funci\xf3n ",(0,t.jsx)(n.a,{href:"#4dhttpagentnew",children:"4D.HTTPAgent.new()"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Cuando no hay ning\xfan agente asociado a una petici\xf3n HTTP, se utiliza un agente global con valores por defecto. El agente por defecto es la forma m\xe1s simple de agente HTTP, adecuado para casos de uso b\xe1sicos. Los agentes personalizados se recomiendan para tener un mayor control, a nivel de agente en lugar de para cada petici\xf3n HTTP, sobre aspectos espec\xedficos de la conexi\xf3n como la configuraci\xf3n de keep-alive, los tiempos de espera o las configuraciones TLS/SSL."}),"\n",(0,t.jsxs)(n.details,{children:[(0,t.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Lanzamiento"}),(0,t.jsx)(n.th,{children:"Modificaciones"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"20 R6"}),(0,t.jsx)(n.td,{children:"Clase a\xf1adida"})]})})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"objeto-httpagent",children:"Objeto HTTPAgent"}),"\n",(0,t.jsx)(n.p,{children:"Un objeto HTTPAgent es un objeto compartible."}),"\n",(0,t.jsx)(n.p,{children:"Los objetos HTTPAgent ofrecen las siguientes propiedades y funciones:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsx)(n.tr,{children:(0,t.jsx)(n.th,{})})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#options",children:[(0,t.jsx)(n.strong,{children:"options"})," : Object"]}),(0,t.jsx)(n.br,{}),"las opciones utilizadas actualmente del HTTPAgent"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#requestsCount",children:[(0,t.jsx)(n.strong,{children:"requestsCount"})," : Integer"]}),(0,t.jsx)(n.br,{}),"el n\xfamero de peticiones gestionadas actualmente por el HTTPAgent"]})}),(0,t.jsx)(n.tr,{children:(0,t.jsxs)(n.td,{children:[(0,t.jsxs)(n.a,{href:"#freeSocketsCount",children:[(0,t.jsx)(n.strong,{children:"freeSocketsCount"})," : Integer"]}),(0,t.jsx)(n.br,{}),"el n\xfamero de sockets libres de ",(0,t.jsx)(n.code,{children:"maxSockets"})," asociados al HTTPAgent"]})})]})]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Dado que HTTPAgent es un objeto compartible, puede a\xf1adir uno a una clase singleton para poder utilizar el mismo agente para todas sus peticiones al mismo servidor."})}),"\n",(0,t.jsx)(n.h2,{id:"4dhttpagentnew",children:"4D.HTTPAgent.new()"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"4D.HTTPAgent.new"}),"( { ",(0,t.jsx)(n.em,{children:"options"})," : Object } ) : 4D.HTTPAgent"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Par\xe1metros"}),(0,t.jsx)(n.th,{children:"Tipo"}),(0,t.jsx)(n.th,{style:{textAlign:"center"}}),(0,t.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"options"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,t.jsx)(n.td,{children:"opciones por defecto para el HTTPAgent"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Result"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#httpagent-object",children:"4D.HTTPAgent"})}),(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,t.jsx)(n.td,{children:"Nuevo objeto HTTPAgent"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,t.jsxs)(n.p,{children:["La funci\xf3n ",(0,t.jsx)(n.code,{children:"4D.HTTPAgent.new()"})," crea un objeto HTTPAgent compartible con las ",(0,t.jsx)(n.em,{children:"opciones"})," definidas, y devuelve un objeto ",(0,t.jsx)(n.code,{children:"4D.HTTPAgent"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["El [",(0,t.jsx)(n.code,{children:"objeto HTTPAgent"}),"] devuelto (#httpagent-object) se utiliza para personalizar las conexiones a servidores HTTP."]}),"\n",(0,t.jsxs)(n.h4,{id:"par\xe1metro-options",children:["Par\xe1metro ",(0,t.jsx)(n.em,{children:"options"})]}),"\n",(0,t.jsxs)(n.p,{children:["En el par\xe1metro ",(0,t.jsx)(n.em,{children:"options"}),", pase un objeto que pueda contener las siguientes propiedades (todas las propiedades son opcionales):"]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Las opciones de HTTPAgent se fusionar\xe1n con ",(0,t.jsx)(n.a,{href:"/docs/es/API/HTTPRequestClass#4dhttprequestnew",children:"opciones HTTPRequest"})," (las opciones de HTTPRequest tienen preferencia); si no se define un agente espec\xedfico, se utilizar\xe1 un agente global."]})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Propiedad"}),(0,t.jsx)(n.th,{children:"Tipo"}),(0,t.jsx)(n.th,{children:"Por defecto"}),(0,t.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"keepAlive"}),(0,t.jsx)(n.td,{children:"Boolean"}),(0,t.jsx)(n.td,{children:"true"}),(0,t.jsx)(n.td,{children:"Activa keep alive para el agente"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"maxSockets"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:"65535"}),(0,t.jsx)(n.td,{children:"N\xfamero m\xe1ximo de sockets por servidor"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"maxTotalSockets"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:"65535"}),(0,t.jsx)(n.td,{children:"N\xfamero m\xe1ximo de sockets para el agente"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"timeout"}),(0,t.jsx)(n.td,{children:"Real"}),(0,t.jsx)(n.td,{children:"indefinido"}),(0,t.jsx)(n.td,{children:"Si se define, tiempo despu\xe9s del cual se cierra un socket no utilizado"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"certificatesFolder"}),(0,t.jsx)(n.td,{children:"Folder"}),(0,t.jsxs)(n.td,{children:["undefined (ver valor por defecto en ",(0,t.jsx)(n.a,{href:"/docs/es/API/HTTPRequestClass#options-parameter",children:"HTTPRequest.new()"}),")"]}),(0,t.jsx)(n.td,{children:"Define la carpeta activa de certificados de cliente para las solicitudes que utilizan el agente"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"minTLSVersion"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsxs)(n.td,{children:["undefined (ver valor por defecto en ",(0,t.jsx)(n.a,{href:"/docs/es/API/HTTPRequestClass#options-parameter",children:"HTTPRequest.new()"}),")"]}),(0,t.jsx)(n.td,{children:"Define la versi\xf3n m\xednima de TLS para las solicitudes que utilizan este agente"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"protocol"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsxs)(n.td,{children:["undefined (ver valor por defecto en ",(0,t.jsx)(n.a,{href:"/docs/es/API/HTTPRequestClass#options-parameter",children:"HTTPRequest.new()"}),")"]}),(0,t.jsx)(n.td,{children:"Protocolo usado para las peticiones utilizando el agente"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"validateTLSCertificate"}),(0,t.jsx)(n.td,{children:"Boolean"}),(0,t.jsxs)(n.td,{children:["undefined (ver valor por defecto en ",(0,t.jsx)(n.a,{href:"/docs/es/API/HTTPRequestClass#options-parameter",children:"HTTPRequest.new()"}),")"]}),(0,t.jsx)(n.td,{children:"Validar el certificado Tls para las solicitudes que utilizan el agente"})]})]})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Puede solicitar m\xfaltiples servidores utilizando el mismo agente. En ese caso, cada servidor tendr\xe1 su propio grupo de conexiones utilizando las mismas opciones de agente."})}),"\n",(0,t.jsx)(n.h4,{id:"ejemplo",children:"Ejemplo"}),"\n",(0,t.jsx)(n.p,{children:"Creaci\xf3n del HTTPAgent:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:"var $options:={}\n$options.maxSockets:=5 //5 es el n\xfamero m\xe1ximo de sockets por servidor\n$options.maxTotalSockets:=10 //10 es el n\xfamero m\xe1ximo de sockets para el agente\n$options.validateTLSCertificate:=True //Validar el certificado del servidor\n\nvar $myAgent:=4D.HTTPAgent.new($options)\n\n"})}),"\n",(0,t.jsx)(n.p,{children:"Enviando una solicitud para comprobar la hora local de cualquier ciudad:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'var $options:={}\n$options.method:="GET"\n$options.agent:=$myAgent\nvar $myRequest:=4D.HTTPRequest.new("http://worldtimeapi.org/api/timezone/Europe/Paris"; $options) \n\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Cuando no hay ning\xfan agente asociado a una HTTPRequest, se utiliza un agente global con valores por defecto."})}),"\n",(0,t.jsx)(n.h2,{id:"options",children:".options"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"options"})," : Object"]}),"\n",(0,t.jsx)(n.h4,{id:"descripci\xf3n-1",children:"Descripci\xf3n"}),"\n",(0,t.jsxs)(n.p,{children:["El objeto de propiedad ",(0,t.jsx)(n.code,{children:".options"})," contiene las opciones utilizadas actualmente del HTTPAgent."]}),"\n",(0,t.jsx)(n.h2,{id:"requestscount",children:".requestsCount"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"requestsCount"})," : Integer"]}),"\n",(0,t.jsx)(n.h4,{id:"descripci\xf3n-2",children:"Descripci\xf3n"}),"\n",(0,t.jsxs)(n.p,{children:["La propiedad ",(0,t.jsx)(n.code,{children:".requestsCount"})," contiene el n\xfamero de peticiones gestionadas actualmente por el HTTPAgent."]}),"\n",(0,t.jsx)(n.h2,{id:"freesocketscount",children:".freeSocketsCount"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"freeSocketsCount"})," : Integer"]}),"\n",(0,t.jsx)(n.h4,{id:"descripci\xf3n-3",children:"Descripci\xf3n"}),"\n",(0,t.jsxs)(n.p,{children:["La propiedad ",(0,t.jsx)(n.code,{children:".freeSocketsCount"})," contiene el n\xfamero de sockets libres de ",(0,t.jsx)(n.code,{children:"maxSockets"})," asociados al HTTPAgent."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var t=s(296540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);