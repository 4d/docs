"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[80503],{3905:(e,a,n)=>{n.d(a,{Zo:()=>p,kt:()=>m});var t=n(67294);function i(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function l(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?l(Object(n),!0).forEach((function(a){i(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function r(e,a){if(null==e)return{};var n,t,i=function(e,a){if(null==e)return{};var n,t,i={},l=Object.keys(e);for(t=0;t<l.length;t++)n=l[t],a.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)n=l[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=t.createContext({}),d=function(e){var a=t.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},p=function(e){var a=d(e.components);return t.createElement(s.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},u=t.forwardRef((function(e,a){var n=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),u=d(n),m=i,x=u["".concat(s,".").concat(m)]||u[m]||c[m]||l;return n?t.createElement(x,o(o({ref:a},p),{},{components:n})):t.createElement(x,o({ref:a},p))}));function m(e,a){var n=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var l=n.length,o=new Array(l);o[0]=u;var r={};for(var s in a)hasOwnProperty.call(a,s)&&(r[s]=a[s]);r.originalType=e,r.mdxType="string"==typeof e?e:i,o[1]=r;for(var d=2;d<l;d++)o[d]=n[d];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}u.displayName="MDXCreateElement"},22137:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>p});n(67294);var t=n(3905);function i(){return i=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},i.apply(this,arguments)}function l(e,a){if(null==e)return{};var n,t,i=function(e,a){if(null==e)return{};var n,t,i={},l=Object.keys(e);for(t=0;t<l.length;t++)n=l[t],a.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)n=l[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const o={id:"tags",slug:"tags",title:"Etiquetas de transformaci\xf3n"},r=void 0,s={unversionedId:"Tags/tags",id:"version-19-R7/Tags/tags",title:"Etiquetas de transformaci\xf3n",description:'4D ofrece un conjunto de etiquetas de transformaci\xf3n que le permiten insertar referencias a las variables o a las expresiones 4D, o efectuar diferentes tipos de procesamiento en un texto fuente, llamado "plantilla". Estas etiquetas se interpretan durante la ejecuci\xf3n del texto fuente y generan un texto de salida.',source:"@site/i18n/es/docusaurus-plugin-content-docs/version-19-R7/Tags/tags.md",sourceDirName:"Tags",slug:"/Tags/tags",permalink:"/docs/es/Tags/tags",draft:!1,tags:[],version:"19-R7",frontMatter:{id:"tags",slug:"tags",title:"Etiquetas de transformaci\xf3n"},sidebar:"docs",previous:{title:"Creaci\xf3n y uso de macros",permalink:"/docs/es/code-editor/creating-using-macros"},next:{title:"B\xe1sicos",permalink:"/docs/es/Debugging/basics"}},d={},p=[{value:"Principios de uso de las etiquetas",id:"principios-de-uso-de-las-etiquetas",level:2},{value:"Parsing",id:"parsing",level:3},{value:"Tratamiento recursivo",id:"tratamiento-recursivo",level:3},{value:"Identificadores con tokens",id:"identificadores-con-tokens",level:3},{value:"Utilizando el &quot;.&quot; como separador decimal",id:"utilizando-el--como-separador-decimal",level:3},{value:"4DBASE",id:"4dbase",level:2},{value:"Sintaxis: <code>&lt;!--#4DBASE folderPath--&gt;</code>",id:"sintaxis---4dbase-folderpath--",level:4},{value:"4DCODE",id:"4dcode",level:2},{value:"Sintaxis: <code>&lt;!--#4DCODE codeLines--&gt;</code>",id:"sintaxis---4dcode-codelines--",level:4},{value:"4DEACH y 4DENDEACH",id:"4deach-y-4dendeach",level:2},{value:"Sintaxis: <code>&lt;!--#4DEACH variable en la expresi\xf3n--&gt;</code> <code>&lt;!--#4DENDEACH--&gt;</code>",id:"sintaxis---4deach-variable-en-la-expresi\xf3n-----4dendeach--",level:4},{value:"<code>&lt;!--#4DEACH item in collection--&gt;</code>",id:"--4deach-item-in-collection--",level:3},{value:"Ejemplo con una colecci\xf3n de valores escalares",id:"ejemplo-con-una-colecci\xf3n-de-valores-escalares",level:4},{value:"Ejemplo con una colecci\xf3n de objetos",id:"ejemplo-con-una-colecci\xf3n-de-objetos",level:4},{value:"<code>&lt;!--#4DEACH entity in entitySelection--&gt;</code>",id:"--4deach-entity-in-entityselection--",level:3},{value:"Ejemplo con una tabla html",id:"ejemplo-con-una-tabla-html",level:4},{value:"Ejemplo con <code>PROCESS 4D TAGS</code>",id:"ejemplo-con-process-4d-tags",level:4},{value:"<code>&lt;!--#4DEACH property in object--&gt;</code>",id:"--4deach-property-in-object--",level:3},{value:"Ejemplo con las propiedades de un objeto",id:"ejemplo-con-las-propiedades-de-un-objeto",level:4},{value:"4DEVAL",id:"4deval",level:2},{value:"Sintaxis: <code>&lt;!--#4DEVAL expression--&gt;</code>",id:"sintaxis---4deval-expression--",level:4},{value:"Sintaxis alternativa: <code>$4DEVAL(expression)</code>",id:"sintaxis-alternativa-4devalexpression",level:4},{value:"4DHTML",id:"4dhtml",level:2},{value:"Sintaxis: <code>&lt;!--#4DHTML expression--&gt;</code>",id:"sintaxis---4dhtml-expression--",level:4},{value:"Sintaxis alternativa: <code>$4DHTML(expression)</code>",id:"sintaxis-alternativa-4dhtmlexpression",level:4},{value:"4DIF, 4DELSE, 4DELSEIF y 4DENDIF",id:"4dif-4delse-4delseif-y-4dendif",level:2},{value:"Sintaxis: <code>&lt;!--#4DIF expression--&gt;</code> {<code>&lt;!--#4DELSEIF expression2--&gt;...&lt;!--#4DELSEIF expressionN--&gt;</code>} {<code>&lt;!--#4DELSE--&gt;</code>} <code>&lt;!--#4DENDIF--&gt;</code>",id:"sintaxis---4dif-expression-----4delseif-expression2----4delseif-expressionn-----4delse-----4dendif--",level:4},{value:"4DINCLUDE",id:"4dinclude",level:2},{value:"Sintaxis: <code>&lt;!--#4DINCLUDE path--&gt;</code>",id:"sintaxis---4dinclude-path--",level:4},{value:"4DLOOP y 4DENDLOOP",id:"4dloop-y-4dendloop",level:2},{value:"Sintaxis: <code>&lt;!--#4DLOOP condition--&gt;</code> <code>&lt;!--#4DENDLOOP--&gt;</code>",id:"sintaxis---4dloop-condition-----4dendloop--",level:4},{value:"<code>&lt;!--#4DLOOP [table]--&gt;</code>",id:"--4dloop-table--",level:3},{value:"<code>&lt;!--#4DLOOP array--&gt;</code>",id:"--4dloop-array--",level:3},{value:"<code>&lt;!--#4DLOOP method--&gt;</code>",id:"--4dloop-method--",level:3},{value:"<code>&lt;!--#4DLOOP expression--&gt;</code>",id:"--4dloop-expression--",level:3},{value:"<code>&lt;!--#4DLOOP pointerArray--&gt;</code>",id:"--4dloop-pointerarray--",level:3},{value:"4DSCRIPT/",id:"4dscript",level:2},{value:"Sintaxis: <code>&lt;!--#4DSCRIPT/MethodName/MyParam--&gt;</code>",id:"sintaxis---4dscriptmethodnamemyparam--",level:4},{value:"4DTEXT",id:"4dtext",level:2},{value:"Sintaxis: <code>&lt;!--#4DTEXT expression--&gt;</code>",id:"sintaxis---4dtext-expression--",level:4},{value:"Sintaxis alternativa: <code>$4DTEXT(expression)</code>",id:"sintaxis-alternativa-4dtextexpression",level:4},{value:"Sintaxis alternativa para 4DTEXT, 4DHTML, 4DEVAL",id:"sintaxis-alternativa-para-4dtext-4dhtml-4deval",level:2},{value:"$4dtag (expression)",id:"4dtag-expression",level:4},{value:"<code>&lt;!--#4dtag expression--&gt;</code>",id:"--4dtag-expression--",level:4}],c={toc:p};function u(e){var{components:a}=e,n=l(e,["components"]);return(0,t.kt)("wrapper",i({},c,n,{components:a,mdxType:"MDXLayout"}),(0,t.kt)("p",null,'4D ofrece un conjunto de etiquetas de transformaci\xf3n que le permiten insertar referencias a las variables o a las expresiones 4D, o efectuar diferentes tipos de procesamiento en un texto fuente, llamado "plantilla". Estas etiquetas se interpretan durante la ejecuci\xf3n del texto fuente y generan un texto de salida.'),(0,t.kt)("p",null,"Este principio es utilizado en particular por el servidor web 4D para crear ",(0,t.kt)("a",i({parentName:"p"},{href:"/docs/es/WebServer/templates"}),"las p\xe1ginas de plantillas web"),"."),(0,t.kt)("p",null,"Estas etiquetas deben insertarse generalmente como comentarios de tipo HTML (",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#Tag Contents--\x3e"),") pero ",(0,t.kt)("a",i({parentName:"p"},{href:"#alternative-syntax-for-4dtext-4dhtml-4deval"}),"una sintaxis alternativa conforme a la norma xml")," est\xe1 disponible para algunas de ellas."),(0,t.kt)("p",null,"Es posible mezclar varios tipos de etiquetas. Por ejemplo, la siguiente estructura HTML es totalmente factible:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"<HTML>\n<BODY>\n\x3c!--#4DSCRIPT/PRE_PROCESS--\x3e   (Method call)\n\x3c!--#4DIF (myvar=1)--\x3e   (If condition)\n   \x3c!--#4DINCLUDE banner1.html--\x3e   (Subpage insertion)\n\x3c!--#4DENDIF--\x3e   (End if)\n\x3c!--#4DIF (mtvar=2)--\x3e\n   \x3c!--#4DINCLUDE banner2.html--\x3e\n\x3c!--#4DENDIF--\x3e\n\n\x3c!--#4DLOOP [TABLE]--\x3e   (Loop on the current selection)\n\x3c!--#4DIF ([TABLE]ValNum>10)--\x3e   (If [TABLE]ValNum>10)\n   \x3c!--#4DINCLUDE subpage.html--\x3e   (Subpage insertion)\n\x3c!--#4DELSE--\x3e   (Else)\n   <B>Value: \x3c!--#4DTEXT [TABLE]ValNum--\x3e</B><br/>   (Field display)\n\x3c!--#4DENDIF--\x3e\n\x3c!--#4DENDLOOP--\x3e   ](End for)\n</BODY>\n</HTML>\n")),(0,t.kt)("h2",i({},{id:"principios-de-uso-de-las-etiquetas"}),"Principios de uso de las etiquetas"),(0,t.kt)("h3",i({},{id:"parsing"}),"Parsing"),(0,t.kt)("p",null,"El an\xe1lisis del contenido de una fuente de ",(0,t.kt)("em",{parentName:"p"},"plantilla")," se hace en dos contextos:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"Utilizando el comando ",(0,t.kt)("inlineCode",{parentName:"p"},"PROCESS 4D TAGS"),"; este comando acepta una ",(0,t.kt)("em",{parentName:"p"},"plantilla")," como entrada, as\xed como los par\xe1metros opcionales y devuelve un texto resultante del procesamiento.")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"Utilizando el servidor HTTP integrado de 4D: ",(0,t.kt)("a",i({parentName:"p"},{href:"/docs/es/WebServer/templates"}),"p\xe1ginas de plantillas")," enviadas mediante los comandos ",(0,t.kt)("inlineCode",{parentName:"p"},"WEB SEND FILE")," (.htm, .html, .shtm, .shtml), ",(0,t.kt)("inlineCode",{parentName:"p"},"WEB SEND BLOB")," (text/html tipo BLOB), ",(0,t.kt)("inlineCode",{parentName:"p"},"WEB SEND TEXT"),' , o llamadas utilizando URLs. En este \xfaltimo caso, por razones de optimizaci\xf3n, las p\xe1ginas con sufijo ".htm" y ".html" NO se analizan. Para analizar las p\xe1ginas HTML en este caso, debe a\xf1adir el sufijo ".shtm" o ".shtml" (por ejemplo, ',(0,t.kt)("a",i({parentName:"p"},{href:"http://www.server.com/dir/page.shtm"}),"http://www.server.com/dir/page.shtm"),")."))),(0,t.kt)("h3",i({},{id:"tratamiento-recursivo"}),"Tratamiento recursivo"),(0,t.kt)("p",null,"Las etiquetas 4D se interpretan de manera recursiva: 4D siempre intenta reinterpretar el resultado de una transformaci\xf3n y, si se ha producido una nueva transformaci\xf3n, se realiza una interpretaci\xf3n adicional, y as\xed sucesivamente hasta que el producto obtenido ya no requiera ninguna otra transformaci\xf3n. Por ejemplo, dada la siguiente instrucci\xf3n:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DHTML [Mail]Letter_type--\x3e\n")),(0,t.kt)("p",null,"Si el campo de texto ",(0,t.kt)("inlineCode",{parentName:"p"},"[Mail]Letter_type")," contiene el mismo una etiqueta, por ejemplo ",(0,t.kt)("inlineCode",{parentName:"p"},"<! -#4DSCRIPT/m_Gender--\x3e"),", esta etiqueta ser\xe1 evaluada recursivamente despu\xe9s de la interpretaci\xf3n de la etiqueta 4DHTML."),(0,t.kt)("p",null,"Este poderoso principio satisface la mayor\xeda de las necesidades relacionadas con la transformaci\xf3n de textos. Sin embargo, hay que tener en cuenta que, en algunos casos, tambi\xe9n permite la inserci\xf3n de c\xf3digo malicioso en el contexto web, ",(0,t.kt)("a",i({parentName:"p"},{href:"/docs/es/WebServer/templates#prevention-of-malicious-code-insertion"}),"que puede evitarse"),"."),(0,t.kt)("h3",i({},{id:"identificadores-con-tokens"}),"Identificadores con tokens"),(0,t.kt)("p",null,"Para asegurar la correcta evaluaci\xf3n de las expresiones procesadas a trav\xe9s de las etiquetas, independientemente del lenguaje o de la versi\xf3n de 4D, se recomienda utilizar la sintaxis tokenizada para los elementos cuyo nombre puede variar a lo largo de las versiones (comandos, tablas, campos, constantes). For example, to insert the ",(0,t.kt)("inlineCode",{parentName:"p"},"Current time")," command, enter ",(0,t.kt)("inlineCode",{parentName:"p"},"Current time: C178"),"."),(0,t.kt)("h3",i({},{id:"utilizando-el--como-separador-decimal"}),'Utilizando el "." como separador decimal'),(0,t.kt)("p",null,"4D siempre utiliza el car\xe1cter de punto (.) como separador decimal cuando eval\xfaa una expresi\xf3n num\xe9rica utilizando una etiqueta 4D ",(0,t.kt)("inlineCode",{parentName:"p"},"4DTEXT"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"4DHTML")," y ",(0,t.kt)("inlineCode",{parentName:"p"},"4DEVAL"),". Los par\xe1metros regionales se ignoran. Esta funcionalidad facilita el mantenimiento del c\xf3digo y la compatibilidad entre los lenguajes y las versiones de 4D."),(0,t.kt)("h2",i({},{id:"4dbase"}),"4DBASE"),(0,t.kt)("h4",i({},{id:"sintaxis---4dbase-folderpath--"}),"Sintaxis: ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DBASE folderPath--\x3e")),(0,t.kt)("p",null,"La etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," designa el directorio de trabajo a utilizar para la etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE--\x3e"),"."),(0,t.kt)("p",null,"Cuando se llama en una p\xe1gina web, la etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," modifica todas las llamadas ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE--\x3e")," posteriores a esta p\xe1gina, hasta la siguiente ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--........--\x3e"),", si la hay. Si la carpeta",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," se modifica desde un archivo incluido, recupera su valor original en el archivo padre."),(0,t.kt)("p",null,"El par\xe1metro ",(0,t.kt)("em",{parentName:"p"},"folderPath")," debe contener un nombre de ruta relativo a la p\xe1gina actual y debe terminar con una barra (",(0,t.kt)("inlineCode",{parentName:"p"},"/"),"). La carpeta designada debe estar ubicada dentro de la carpeta Web."),(0,t.kt)("p",null,'Pase la palabra clave "WEBFOLDER" para restablecer la ruta por defecto (relativa a la p\xe1gina).'),(0,t.kt)("p",null,"El siguiente c\xf3digo, que debe especificar una ruta relativa para cada llamada:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DINCLUDE subpage.html--\x3e \n\x3c!--#4DINCLUDE folder/subpage1.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage2.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage3.html--\x3e\n\x3c!--#4DINCLUDE ../folder/subpage.html--\x3e\n")),(0,t.kt)("p",null,"... es equivalente a:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DINCLUDE subpage.html--\x3e \n\x3c!--#4DBASE folder/--\x3e\n\x3c!--#4DINCLUDE subpage1.html--\x3e\n\x3c!--#4DINCLUDE subpage2.html--\x3e\n\x3c!--#4DINCLUDE subpage3.html--\x3e\n\x3c!--#4DBASE ../folder/--\x3e\n\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DBASE WEBFOLDER--\x3e\n")),(0,t.kt)("p",null,"Por ejemplo, para definir un directorio para la p\xe1gina de inicio:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"/* Index.html */\n\x3c!--#4DIF LangFR=True--\x3e\n    \x3c!--#4DBASE FR/--\x3e\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DBASE US/--\x3e\n\x3c!--#4DENDIF--\x3e\n\x3c!--#4DINCLUDE head.html--\x3e\n\x3c!--#4DINCLUDE body.html--\x3e\n\x3c!--#4DINCLUDE footer.html--\x3e\n")),(0,t.kt)("p",null,'En el archivo "head.html", la carpeta actual es modificada por ',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e"),', sin que esto modifique su valor en "Index.html":'),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"/* Head.htm */\n/* el directorio de trabajo aqu\xed es relativo al archivo incluido (FR/ o US/) */\n\x3c!--#4DBASE Styles/--\x3e\n\x3c!--#4DINCLUDE main.css--\x3e\n\x3c!--#4DINCLUDE product.css--\x3e\n\x3c!--#4DBASE Scripts/--\x3e\n\x3c!--#4DINCLUDE main.js--\x3e\n\x3c!--#4DINCLUDE product.js--\x3e\n")),(0,t.kt)("h2",i({},{id:"4dcode"}),"4DCODE"),(0,t.kt)("h4",i({},{id:"sintaxis---4dcode-codelines--"}),"Sintaxis: ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DCODE codeLines--\x3e")),(0,t.kt)("p",null,"La etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"4DCODE")," permite insertar un bloque de c\xf3digo 4D de varias l\xedneas en una plantilla."),(0,t.kt)("p",null,"Cuando se detecta una secuencia ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DCODE")," seguida de un espacio, de un caracter CR o LF, 4D interpreta todas las l\xedneas de c\xf3digo hasta la siguiente secuencia ",(0,t.kt)("inlineCode",{parentName:"p"},"--\x3e"),". El bloque de c\xf3digo en s\xed puede contener retornos de carro, saltos de l\xednea o ambos; ser\xe1 interpretado secuencialmente por 4D."),(0,t.kt)("p",null,"Por ejemplo, puede escribir en una plantilla:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),'\x3c!--#4DCODE\n//PARAMETERS initialization\nC_OBJECT:C1216($graphParameters)\nOB SET: C1220($graphParameters;"graphType";1)\n$graphType:=1\n//...your code here\nIf(OB Is defined: C1231($graphParameters;"graphType"))\n    $graphType:=OB GET: C1224($graphParameters;"graphType")\n    If($graphType=7)\n        $nbSeries:=1\n        If($nbValues>8)\n            DELETE FROM ARRAY: C228 ($yValuesArrPtr{1}->;9;100000)\n            $nbValues:=8\n        End if\n    End if\nEnd if\n--\x3e\n')),(0,t.kt)("p",null,"Aqu\xed est\xe1n las caracter\xedsticas de la etiqueta 4DCODE:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"El comando ",(0,t.kt)("inlineCode",{parentName:"li"},"TRACE")," es compatible y activa el depurador 4D, permiti\xe9ndole as\xed depurar el c\xf3digo de su plantilla."),(0,t.kt)("li",{parentName:"ul"},"Todo error mostrar\xe1 el di\xe1logo de error est\xe1ndar que permite al usuario detener la ejecuci\xf3n del c\xf3digo o entrar en el modo depuraci\xf3n."),(0,t.kt)("li",{parentName:"ul"},"El texto entre ",(0,t.kt)("inlineCode",{parentName:"li"},"\x3c!--#4DCODE")," y ",(0,t.kt)("inlineCode",{parentName:"li"},"--\x3e")," se divide en l\xedneas que aceptan toda convenci\xf3n de fin de l\xednea (cr, lf o crlf)."),(0,t.kt)("li",{parentName:"ul"},"El texto se tokeniza en el contexto de la base de datos que llam\xf3 a ",(0,t.kt)("inlineCode",{parentName:"li"},"PROCESS 4D TAGS"),". Esto es importante para el reconocimiento de los m\xe9todos de proyecto, por ejemplo. La propiedad del m\xe9todo ",(0,t.kt)("a",i({parentName:"li"},{href:"/docs/es/WebServer/allowProject"}),"disponible a trav\xe9s de etiquetas y URLs 4D (4DACTION ...)")," no se tiene en cuenta."),(0,t.kt)("li",{parentName:"ul"},"Incluso si el texto siempre utiliza Ingl\xe9s-US, se recomienda utilizar la sintaxis token (:Cxxxx) para los nombres de comandos y de constantes para proteger contra eventuales problemas debido a los comandos o a las constantes que se est\xe1n renombrando de una versi\xf3n de 4D a otra.")),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"El hecho de que las etiquetas 4DCODE puedan llamar a cualquiera de los comandos del lenguaje 4D o a los m\xe9todos del proyecto podr\xeda considerarse un problema de seguridad, especialmente cuando la base de datos est\xe1 disponible a trav\xe9s de HTTP. Sin embargo, como ejecuta c\xf3digo del lado del servidor llamado desde sus propios archivos de plantilla, la etiqueta en s\xed no representa un problema de seguridad. En este contexto, como para todo servidor web, la seguridad se maneja principalmente a nivel de los accesos remotos a los archivos del servidor.")),(0,t.kt)("h2",i({},{id:"4deach-y-4dendeach"}),"4DEACH y 4DENDEACH"),(0,t.kt)("h4",i({},{id:"sintaxis---4deach-variable-en-la-expresi\xf3n-----4dendeach--"}),"Sintaxis: ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DEACH variable en la expresi\xf3n--\x3e")," ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DENDEACH--\x3e")),(0,t.kt)("p",null,"El comentario ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH--\x3e")," permite iterar un elemento especificado sobre todos los valores de la ",(0,t.kt)("em",{parentName:"p"},"expresi\xf3n"),". El elemento se define como una ",(0,t.kt)("em",{parentName:"p"},"variable ")," cuyo tipo depende del tipo de ",(0,t.kt)("em",{parentName:"p"},"expresi\xf3n"),"."),(0,t.kt)("p",null,"El comentario ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH--\x3e")," puede iterar a trav\xe9s de tres tipos de expresiones:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",i({parentName:"li"},{href:"#--4deach-item-in-collection--"}),"colecciones"),": bucle a trav\xe9s de cada elemento de la colecci\xf3n,"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",i({parentName:"li"},{href:"#--4deach-entity-in-entityselection--"}),"selecciones de entidades"),": bucle a trav\xe9s de cada entidad,"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",i({parentName:"li"},{href:"#--4deach-property-in-object--"}),"objetos"),": bucle a trav\xe9s de cada propiedad del objeto.")),(0,t.kt)("p",null,"El n\xfamero de iteraciones se eval\xfaa al inicio y no cambiar\xe1 durante el proceso. La adici\xf3n o eliminaci\xf3n de elementos durante el bucle no suele ser recomendable, ya que puede resultar en redundancia o perdidas de iteraciones."),(0,t.kt)("h3",i({},{id:"--4deach-item-in-collection--"}),(0,t.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DEACH item in collection--\x3e")),(0,t.kt)("p",null,"Esta sintaxis iterar\xe1 en cada ",(0,t.kt)("em",{parentName:"p"},"elemento")," de la ",(0,t.kt)("em",{parentName:"p"},"colecci\xf3n"),". La parte de c\xf3digo situada entre ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH --\x3e")," y ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDEACH--\x3e")," se repite para cada elemento de la colecci\xf3n."),(0,t.kt)("p",null,"El par\xe1metro ",(0,t.kt)("em",{parentName:"p"},"item")," es una variable del mismo tipo que los elementos de la colecci\xf3n."),(0,t.kt)("p",null,"La colecci\xf3n debe contener s\xf3lo ",(0,t.kt)("strong",{parentName:"p"},"elementos del mismo tipo"),", de lo contrario se devuelve un error en cuanto se asigna a la variable del ",(0,t.kt)("em",{parentName:"p"},"elemento")," el primer tipo de valor no coincidente."),(0,t.kt)("p",null,"El n\xfamero de bucles se basa en el n\xfamero de elementos de la colecci\xf3n. En cada iteraci\xf3n, la variable ",(0,t.kt)("em",{parentName:"p"},"item")," se rellena autom\xe1ticamente con el elemento coincidente de la colecci\xf3n. Hay que tener en cuenta los siguientes puntos:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"Si la variable ",(0,t.kt)("em",{parentName:"li"},"elemento")," es de tipo objeto o de tipo colecci\xf3n (es decir, si la ",(0,t.kt)("em",{parentName:"li"},"expresi\xf3n ")," es una colecci\xf3n de objetos o de colecciones), la modificaci\xf3n de esta variable modificar\xe1 autom\xe1ticamente el elemento coincidente de la colecci\xf3n (porque los objetos y las colecciones comparten las mismas referencias). Si la variable es de tipo escalar, s\xf3lo se modificar\xe1 la variable."),(0,t.kt)("li",{parentName:"ul"},"La variable ",(0,t.kt)("em",{parentName:"li"},"item")," obtiene el mismo tipo que el primer elemento de la colecci\xf3n. Si alg\xfan elemento de la colecci\xf3n no es del mismo tipo que la variable, se genera un error y el bucle se detiene."),(0,t.kt)("li",{parentName:"ul"},"Si la colecci\xf3n contiene elementos con un valor Null, se genera un error si el tipo de la variable del ",(0,t.kt)("em",{parentName:"li"},"item")," no admite valores Null (como las variables entero largo).")),(0,t.kt)("h4",i({},{id:"ejemplo-con-una-colecci\xf3n-de-valores-escalares"}),"Ejemplo con una colecci\xf3n de valores escalares"),(0,t.kt)("p",null,(0,t.kt)("em",{parentName:"p"},"getNames"),' devuelve una colecci\xf3n de cadenas. El m\xe9todo ha sido declarado como "',(0,t.kt)("a",i({parentName:"p"},{href:"/docs/es/WebServer/allowProject"}),"disponible a trav\xe9s de las etiquetas 4D y las URLs"),'".'),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),' <table class="table">    \n\n        <tr><th>Name</th></tr>\n\n          \x3c!--#4DEACH $name in getNames--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $name--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,t.kt)("h4",i({},{id:"ejemplo-con-una-colecci\xf3n-de-objetos"}),"Ejemplo con una colecci\xf3n de objetos"),(0,t.kt)("p",null,(0,t.kt)("em",{parentName:"p"},"getSalesPersons")," devuelve una colecci\xf3n de objetos."),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),'    <table class="table">    \n         \x3c!--#4DCODE \n            $salePersons:=getSalesPersons\n          --\x3e          \n       <tr><th>ID</th><th>Firstname</th><th>Lastname</th></tr>\n\n          \x3c!--#4DEACH $salesPerson in $salePersons--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $salesPerson.ID--\x3e</td>\n            <td>\x3c!--#4DTEXT $salesPerson.firstname--\x3e</td>\n            <td>\x3c!--#4DTEXT $salesPerson.lastname--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,t.kt)("h3",i({},{id:"--4deach-entity-in-entityselection--"}),(0,t.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DEACH entity in entitySelection--\x3e")),(0,t.kt)("p",null,"Esta sintaxis itera en cada ",(0,t.kt)("em",{parentName:"p"},"entidad")," de la ",(0,t.kt)("em",{parentName:"p"},"entitySelection"),". La parte de c\xf3digo situada entre ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH --\x3e")," y ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDEACH--\x3e")," se repite para cada entidad de la selecci\xf3n de entidades."),(0,t.kt)("p",null,"El par\xe1metro ",(0,t.kt)("em",{parentName:"p"},"entity")," es una variable objeto de la clase entity selection."),(0,t.kt)("p",null,"El n\xfamero de bucles se basa en el n\xfamero de entidades presentes en la selecci\xf3n de entidades. En cada iteraci\xf3n, la variable del objeto ",(0,t.kt)("em",{parentName:"p"},"entity")," se llena autom\xe1ticamente con la entidad coincidente de la selecci\xf3n de entidades."),(0,t.kt)("h4",i({},{id:"ejemplo-con-una-tabla-html"}),"Ejemplo con una tabla html"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),'    <table class="table">     \n\n        <tr><th>ID</th><th>Name</th><th>Total purchase</th></tr>\n\n          \x3c!--#4DEACH $customer in ds. Customers.all()--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $customer.ID--\x3e</td>\n            <td>\x3c!--#4DTEXT $customer.name--\x3e</td>\n            <td><center>\x3c!--#4DTEXT String($customer.totalPurchase;"$###,##0")--\x3e</center></td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,t.kt)("h4",i({},{id:"ejemplo-con-process-4d-tags"}),"Ejemplo con ",(0,t.kt)("inlineCode",{parentName:"h4"},"PROCESS 4D TAGS")),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'var customers : cs.CustomersSelection\nvar $input; $output : Text\n\ncustomers:=ds.Customers.all()\n$input:="\x3c!--#4DEACH $cust in customers--\x3e" \n$input:=$input+"\x3c!--#4DTEXT $cust.name --\x3e"+Char(Carriage return)\n$input:=$input+"\x3c!--#4DENDEACH--\x3e" \nPROCESS 4D TAGS($input; $output)\nTEXT TO DOCUMENT("customers.txt"; $output)\n')),(0,t.kt)("h3",i({},{id:"--4deach-property-in-object--"}),(0,t.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DEACH property in object--\x3e")),(0,t.kt)("p",null,"Esta sintaxis iterar\xe1 en cada ",(0,t.kt)("em",{parentName:"p"},"propiedad")," del ",(0,t.kt)("em",{parentName:"p"},"objeto"),". La parte de c\xf3digo situada entre ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH --\x3e")," y ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDEACH--\x3e")," se repite para cada propiedad del objeto."),(0,t.kt)("p",null,"El par\xe1metro ",(0,t.kt)("em",{parentName:"p"},"property")," es una variable texto que se llena autom\xe1ticamente con el nombre de la propiedad actualmente procesada."),(0,t.kt)("p",null,"Las propiedades del objeto se procesan seg\xfan su orden de creaci\xf3n. Durante el bucle, se pueden a\xf1adir o eliminar propiedades en el objeto, sin modificar el n\xfamero de bucles que quedar\xe1n en funci\xf3n del n\xfamero original de propiedades del objeto."),(0,t.kt)("h4",i({},{id:"ejemplo-con-las-propiedades-de-un-objeto"}),"Ejemplo con las propiedades de un objeto"),(0,t.kt)("p",null,(0,t.kt)("em",{parentName:"p"},"getGamers"),' es un m\xe9todo proyecto que devuelve un objeto como ("Mar\xeda"; 10; "Ana"; 20; "Juan"; 40) para calcular la puntuaci\xf3n de los jugadores.'),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),'    <table class="table">    \n          \x3c!--#4DCODE\n           $gamers:=getGamers\n          --\x3e          \n\n        <tr><th>Gamers</th><th>Scores</th></tr>\n\n          \x3c!--#4DEACH $key in $gamers--\x3e\n        <tr>\n            <td >\x3c!--#4DTEXT $key--\x3e</td>\n            <td >\x3c!--#4DTEXT $gamers[$key]--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,t.kt)("h2",i({},{id:"4deval"}),"4DEVAL"),(0,t.kt)("h4",i({},{id:"sintaxis---4deval-expression--"}),"Sintaxis: ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DEVAL expression--\x3e")),(0,t.kt)("h4",i({},{id:"sintaxis-alternativa-4devalexpression"}),"Sintaxis alternativa: ",(0,t.kt)("inlineCode",{parentName:"h4"},"$4DEVAL(expression)")),(0,t.kt)("p",null,"La etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"4DEVAL")," permite evaluar una variable o expresi\xf3n 4D. Al igual que la etiqueta ",(0,t.kt)("a",i({parentName:"p"},{href:"#4dhtml"}),(0,t.kt)("inlineCode",{parentName:"a"},"4DHTML")),", ",(0,t.kt)("inlineCode",{parentName:"p"},"4DEVAL")," no escapa de los caracteres HTML al devolver el texto. Sin embargo, a diferencia de ",(0,t.kt)("inlineCode",{parentName:"p"},"4DHTML")," o ",(0,t.kt)("a",i({parentName:"p"},{href:"#4dtext"}),(0,t.kt)("inlineCode",{parentName:"a"},"4DTEXT")),", ",(0,t.kt)("inlineCode",{parentName:"p"},"4DEVAL")," permite ejecutar cualquier instrucci\xf3n 4D v\xe1lida, incluyendo asignaciones y expresiones que no devuelven ning\xfan valor."),(0,t.kt)("p",null,"Por ejemplo, puede ejecutar:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{}),' $input:="\x3c!--#4DEVAL a:=42--\x3e" //asignaci\xf3n\n $input:=$input+"\x3c!--#4DEVAL a+1--\x3e" //c\xe1lculo\n PROCESS 4D TAGS($input;$output)\n  //$output = "43"\n')),(0,t.kt)("p",null,"En caso de que se produzca un error durante la interpretaci\xf3n, el texto insertado ser\xe1 de la forma: ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEVAL expr--\x3e: ## error # c\xf3digo del error"),"."),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Por razones de seguridad se recomienda utilizar la etiqueta ",(0,t.kt)("a",i({parentName:"p"},{href:"#4dtext"}),(0,t.kt)("inlineCode",{parentName:"a"},"4DTEXT"))," al procesar datos introducidos desde fuera de la aplicaci\xf3n, para evitar la ",(0,t.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"inserci\xf3n de c\xf3digo malicioso"),".")),(0,t.kt)("h2",i({},{id:"4dhtml"}),"4DHTML"),(0,t.kt)("h4",i({},{id:"sintaxis---4dhtml-expression--"}),"Sintaxis: ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DHTML expression--\x3e")),(0,t.kt)("h4",i({},{id:"sintaxis-alternativa-4dhtmlexpression"}),"Sintaxis alternativa: ",(0,t.kt)("inlineCode",{parentName:"h4"},"$4DHTML(expression)")),(0,t.kt)("p",null,"The value of the 4D variable ",(0,t.kt)("inlineCode",{parentName:"p"},"vtSiteName"),' will be inserted in the HTML page when it is sent. This value is inserted as simple text, special HTML characters such as ">" are automatically escaped.'),(0,t.kt)("p",null,"Por ejemplo, aqu\xed est\xe1n los resultados del procesamiento de la variable de texto 4D myvar con las etiquetas disponibles:"),(0,t.kt)("table",null,(0,t.kt)("thead",{parentName:"table"},(0,t.kt)("tr",{parentName:"thead"},(0,t.kt)("th",i({parentName:"tr"},{align:null}),"Valor myvar"),(0,t.kt)("th",i({parentName:"tr"},{align:null}),"Etiquetas"),(0,t.kt)("th",i({parentName:"tr"},{align:null}),"Result"))),(0,t.kt)("tbody",{parentName:"table"},(0,t.kt)("tr",{parentName:"tbody"},(0,t.kt)("td",i({parentName:"tr"},{align:null}),(0,t.kt)("inlineCode",{parentName:"td"},'myvar:="<B>"')),(0,t.kt)("td",i({parentName:"tr"},{align:null}),(0,t.kt)("inlineCode",{parentName:"td"},"\x3c!--#4DTEXT myvar--\x3e")),(0,t.kt)("td",i({parentName:"tr"},{align:null}),(0,t.kt)("inlineCode",{parentName:"td"},"&lt;B&gt;"))),(0,t.kt)("tr",{parentName:"tbody"},(0,t.kt)("td",i({parentName:"tr"},{align:null}),(0,t.kt)("inlineCode",{parentName:"td"},'myvar:="<B>"')),(0,t.kt)("td",i({parentName:"tr"},{align:null}),(0,t.kt)("inlineCode",{parentName:"td"},"\x3c!--#4DHTML myvar--\x3e")),(0,t.kt)("td",i({parentName:"tr"},{align:null}),(0,t.kt)("inlineCode",{parentName:"td"},"<B>"))))),(0,t.kt)("p",null,"En caso de error de interpretaci\xf3n, el texto insertado ser\xe1 ",(0,t.kt)("inlineCode",{parentName:"p"},">\x3c!--#4DHTML myvar--\x3e: ## error # c\xf3digo del error"),"."),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Por razones de seguridad se recomienda utilizar la etiqueta ",(0,t.kt)("a",i({parentName:"p"},{href:"#4dtext"}),(0,t.kt)("inlineCode",{parentName:"a"},"4DTEXT"))," al procesar datos introducidos desde fuera de la aplicaci\xf3n, para evitar la ",(0,t.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"inserci\xf3n de c\xf3digo malicioso"),".")),(0,t.kt)("h2",i({},{id:"4dif-4delse-4delseif-y-4dendif"}),"4DIF, 4DELSE, 4DELSEIF y 4DENDIF"),(0,t.kt)("h4",i({},{id:"sintaxis---4dif-expression-----4delseif-expression2----4delseif-expressionn-----4delse-----4dendif--"}),"Sintaxis: ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DIF expression--\x3e")," {",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DELSEIF expression2--\x3e...\x3c!--#4DELSEIF expressionN--\x3e"),"} {",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DELSE--\x3e"),"} ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DENDIF--\x3e")),(0,t.kt)("p",null,"Utilizado con los comentarios ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSEIF--\x3e")," (opcional), ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e")," (opcional) y ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e"),", el comentario ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e")," ofrece la posibilidad de ejecutar porciones de c\xf3digo condicionalmente."),(0,t.kt)("p",null,"El par\xe1metro ",(0,t.kt)("em",{parentName:"p"},"expresi\xf3n")," puede contener toda expresi\xf3n 4D v\xe1lida que devuelva un valor booleano. Debe indicarse entre par\xe9ntesis y cumplir con las reglas de sintaxis de 4D."),(0,t.kt)("p",null,'In case of an interpretation error, the text "',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e"),': A Boolean expression was expected" is inserted instead of the contents located between ',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF --\x3e")," and ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e"),". Likewise, if there are not as many ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e")," as ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF --\x3e"),', the text "',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e"),': 4DENDIF expected" is inserted instead of the contents located between ',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF --\x3e")," and ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e"),"."),(0,t.kt)("p",null,'En caso de un error de interpretaci\xf3n, se inserta el texto "',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e"),': Se esperaba una expresi\xf3n booleana" en lugar del contenido situado entre ',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF --\x3e")," y ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e"),". The ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e")," ... ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e")," blocks can be nested in several levels. Like in 4D, each ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e")," must match a ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e"),"."),(0,t.kt)("p",null,"Utilizando la etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSEIF--\x3e"),", puede probar un n\xfamero ilimitado de condiciones. S\xf3lo se ejecuta el c\xf3digo que sigue a la primera condici\xf3n evaluada como ",(0,t.kt)("inlineCode",{parentName:"p"},"True"),". Si ninguna condici\xf3n es true, no se ejecuta ninguna sentencia (si no hay un final ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e"),"). You can use a ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e")," tag after the last ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSEIF--\x3e"),". If all the conditions are false, the statements following the ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e")," are executed."),(0,t.kt)("p",null,"Los dos c\xf3digos siguientes son equivalentes."),(0,t.kt)("p",null,"C\xf3digo utilizando s\xf3lo 4DELSE:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DIF Condition1--\x3e\n  /* Condition1 is true*/\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DIF Condition2--\x3e\n        /* Condition2 is true*/\n    \x3c!--#4DELSE--\x3e\n        \x3c!--#4DIF Condition3--\x3e\n            /* Condition3 is true */\n        \x3c!--#4DELSE--\x3e\n            /*Ninguna de las condiciones es true*/\n        \x3c!--#4DENDIF--\x3e\n    \x3c!--#4DENDIF--\x3e\n\x3c!--#4DENDIF--\x3e\n")),(0,t.kt)("p",null,"C\xf3digo similar utilizando la etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"4DELSEIF"),":"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{}),"\x3c!--#4DIF Condition1--\x3e\n     /* Condition1 is true*/\n\x3c!--#4DELSEIF Condition2--\x3e\n     /* Condition2 is true*/\n\x3c!--#4DELSEIF Condition3--\x3e\n    /* Condition3 is true */\n\x3c!--#4DELSE--\x3e\n    /* Ninguna de las condiciones es true*/\n\x3c!--#4DENDIF--\x3e\n")),(0,t.kt)("p",null,"Este ejemplo de c\xf3digo insertado en una p\xe1gina HTML est\xe1tica muestra una etiqueta diferente seg\xfan el resultado de la expresi\xf3n ",(0,t.kt)("inlineCode",{parentName:"p"},'vname#"'),":"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),'<BODY>\n...\n\x3c!--#4DIF (vname#"")--\x3e\nNames starting with \x3c!--#4DTEXT vname--\x3e.\n\x3c!--#4DELSE--\x3e\nNo name has been found.\n\x3c!--#4DENDIF--\x3e\n...\n</BODY>\n')),(0,t.kt)("p",null,"Este ejemplo inserta diferentes p\xe1ginas dependiendo del usuario que est\xe9 conectado:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),'\x3c!--#4DIF LoggedIn=False--\x3e\n    \x3c!--#4DINCLUDE Login.htm --\x3e\n\x3c!--#4DELSEIF User="Admin" --\x3e\n    \x3c!--#4DINCLUDE AdminPanel.htm --\x3e\n\x3c!--#4DELSEIF User="Manager" --\x3e\n    \x3c!--#4DINCLUDE SalesDashboard.htm --\x3e\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DINCLUDE ItemList.htm --\x3e\n\x3c!--#4DENDIF--\x3e\n')),(0,t.kt)("h2",i({},{id:"4dinclude"}),"4DINCLUDE"),(0,t.kt)("h4",i({},{id:"sintaxis---4dinclude-path--"}),"Sintaxis: ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DINCLUDE path--\x3e")),(0,t.kt)("p",null,"Esta etiqueta est\xe1 dise\xf1ada principalmente para incluir una p\xe1gina HTML (indicada por el par\xe1metro ",(0,t.kt)("em",{parentName:"p"},"path"),") en otra p\xe1gina HTML. Por defecto, s\xf3lo se incluye el cuerpo de la p\xe1gina HTML especificada, es decir, el contenido que se encuentra dentro de las etiquetas ",(0,t.kt)("inlineCode",{parentName:"p"},"<body>")," y ",(0,t.kt)("inlineCode",{parentName:"p"},"</body>")," (las etiquetas en s\xed no se incluyen). Esto le permite evitar conflictos relacionados con las metaetiquetas presentes en los encabezados."),(0,t.kt)("p",null,"Sin embargo, si la p\xe1gina HTML especificada no contiene etiquetas ",(0,t.kt)("inlineCode",{parentName:"p"},"<body>``</body>"),", se incluye toda la p\xe1gina. Depende de usted verificar la consistencia de las meta-etiquetas."),(0,t.kt)("p",null,"El comentario ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE --\x3e")," es muy \xfatil para las pruebas (",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF--\x3e"),") o los bucles (",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP--\x3e"),"). Es muy conveniente incluir banners de acuerdo a un criterio o de forma aleatoria. Al incluir, independientemente de la extensi\xf3n del nombre del archivo, 4D analiza la p\xe1gina llamada y luego inserta el contenido (modificado o no) en la p\xe1gina que origina la llamada ",(0,t.kt)("inlineCode",{parentName:"p"},"4DINCLUDE"),"."),(0,t.kt)("p",null,"Una p\xe1gina incluida con el comentario ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE --\x3e")," se carga en la cach\xe9 del servidor web del mismo modo que las p\xe1ginas llamadas a trav\xe9s de una URL o enviadas con el comando ",(0,t.kt)("inlineCode",{parentName:"p"},"WEB SEND FILE"),"."),(0,t.kt)("p",null,"En ",(0,t.kt)("em",{parentName:"p"},"path"),", coloque la ruta que va al documento a incluir. Atenci\xf3n: en el caso de una llamada a ",(0,t.kt)("inlineCode",{parentName:"p"},"4DINCLUDE"),', la ruta es relativa al documento analizado, es decir, al documento "padre". Utilice el car\xe1cter de barra (/) como separador de carpetas y los dos puntos (..) para subir un nivel (sintaxis HTML). Cuando se utiliza la etiqueta ',(0,t.kt)("inlineCode",{parentName:"p"},"4DINCLUDE")," con el comando ",(0,t.kt)("inlineCode",{parentName:"p"},"PROCESS 4D TAGS"),", la carpeta por defecto es la del proyecto."),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Puede modificar la carpeta por defecto utilizada por la etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"4DINCLUDE")," en la p\xe1gina actual, utilizando la etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," (ver abajo).")),(0,t.kt)("p",null,"El n\xfamero de ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE path--\x3e")," dentro de una p\xe1gina es ilimitado. Sin embargo, las llamadas a ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE path--\x3e")," s\xf3lo pueden hacerse a un nivel. Esto significa que, por ejemplo, no se puede insertar ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE mydoc3.html--\x3e")," en el cuerpo de la p\xe1gina ",(0,t.kt)("em",{parentName:"p"},"mydoc2.html"),", que es llamado por ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE mydoc2--\x3e")," insertado en ",(0,t.kt)("em",{parentName:"p"},"mydoc1.html"),". Adem\xe1s, 4D verifica que las inclusiones no son recursivas."),(0,t.kt)("p",null,'En caso de error, el texto insertado es "',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE path--\x3e"),' :El documento no puede abrirse".'),(0,t.kt)("p",null,"Ejemplos:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage.html--\x3e\n\x3c!--#4DINCLUDE ../folder/subpage.html--\x3e\n")),(0,t.kt)("h2",i({},{id:"4dloop-y-4dendloop"}),"4DLOOP y 4DENDLOOP"),(0,t.kt)("h4",i({},{id:"sintaxis---4dloop-condition-----4dendloop--"}),"Sintaxis: ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DLOOP condition--\x3e")," ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DENDLOOP--\x3e")),(0,t.kt)("p",null,"Este comentario permite la repetici\xf3n de una porci\xf3n de c\xf3digo siempre que se cumpla la condici\xf3n. La parte est\xe1 delimitada por ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP--\x3e")," y ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e"),"."),(0,t.kt)("p",null,"Los bloques ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP condition--\x3e")," ... ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e")," pueden ser anidados. Como en 4D, cada ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP condition --\x3e")," debe coincidir con un ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e"),"."),(0,t.kt)("p",null,"Hay cinco tipos de condiciones:"),(0,t.kt)("h3",i({},{id:"--4dloop-table--"}),(0,t.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP [table]--\x3e")),(0,t.kt)("p",null,"Esta sintaxis hace un bucle para cada registro de la tabla selecci\xf3n actual en el proceso actual. La parte de c\xf3digo situada entre los dos comentarios se repite para cada registro de selecci\xf3n actual."),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Cuando se utiliza la etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"4DLOOP"),' con una tabla, los registros se cargan en modo "S\xf3lo lectura".')),(0,t.kt)("p",null,"El c\xf3digo siguiente:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DLOOP [People]--\x3e\n\x3c!--#4DTEXT [People]Name--\x3e \x3c!--#4DTEXT [People]Surname--\x3e<br/>\n\x3c!--#4DENDLOOP--\x3e\n")),(0,t.kt)("p",null,"... podr\xeda expresarse en lenguaje 4D de la siguiente manera:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-4d"})," FIRST RECORD([People])\n While(Not(End selec tion([People])))\n    ...\n    NEXT RECORD([People])\n End while\n")),(0,t.kt)("h3",i({},{id:"--4dloop-array--"}),(0,t.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP array--\x3e")),(0,t.kt)("p",null,"Esta sintaxis hace un bucle para cada elemento del array. El elemento actual del array se incrementa cuando se repite cada porci\xf3n de c\xf3digo."),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Esta sintaxis no se puede utilizar con arrays de dos dimensiones. En este caso, es mejor combinar un m\xe9todo con bucles anidados.")),(0,t.kt)("p",null,"El siguiente ejemplo de c\xf3digo:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DLOOP arr_names--\x3e\n\x3c!--#4DTEXT arr_names{arr_names}--\x3e<br/>\n\x3c!--#4DENDLOOP--\x3e\n")),(0,t.kt)("p",null,"... podr\xeda expresarse en lenguaje 4D de la siguiente manera:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-4d"})," For($Elem;1;Size of array(arr_names))\n    arr_names:=$Elem\n    ...\n End for\n")),(0,t.kt)("h3",i({},{id:"--4dloop-method--"}),(0,t.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP method--\x3e")),(0,t.kt)("p",null,"Esta sintaxis hace un bucle siempre que el m\xe9todo devuelva ",(0,t.kt)("inlineCode",{parentName:"p"},"True"),". El m\xe9todo toma un tipo de par\xe1metro Long Integer. Primero se llama con el valor 0 para permitir una etapa de inicializaci\xf3n (si es necesario); luego se llama con los valores 1, luego 2, luego 3 y as\xed sucesivamente, siempre que devuelva ",(0,t.kt)("inlineCode",{parentName:"p"},"True"),"."),(0,t.kt)("p",null,"Por razones de seguridad, dentro de un proceso web, el m\xe9todo base de datos ",(0,t.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," puede ser llamado una vez justo antes de la etapa de inicializaci\xf3n (ejecuci\xf3n del m\xe9todo con 0 como par\xe1metro). Si la autenticaci\xf3n es correcta, se proceder\xe1 a la etapa de inicializaci\xf3n."),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"C_BOOLEAN($0)")," y ",(0,t.kt)("inlineCode",{parentName:"p"},"C_LONGINT($1)")," DEBE declararse dentro del m\xe9todo a efectos de compilaci\xf3n."),(0,t.kt)("p",null,"El siguiente ejemplo de c\xf3digo:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DLOOP my_method--\x3e\n\x3c!--#4DTEXT var--\x3e <br/> \n\x3c!--#4DENDLOOP--\x3e\n")),(0,t.kt)("p",null,"... podr\xeda expresarse en lenguaje 4D de la siguiente manera:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-4d"})," If(AuthenticationWebOK)\n    If(my_method(0))\n       $counter:=1\n       While(my_method($counter))\n          ...\n          $counter:=$counter+1\n       End while\n    End if\n End if\n")),(0,t.kt)("p",null,"El m\xe9todo ",(0,t.kt)("inlineCode",{parentName:"p"},"my_method")," puede ser el siguiente:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-4d"})," C_LONGINT($1)\n C_BOOLEAN($0)\n If($1=0) `Inicializaci\xf3n\n    $0:=True\n Else\n    If($1<50)\n       ...\n       var:=...\n       $0:=True\n    Else\n       $0:=False `Detiene el bucle\n    End if\n End if\n")),(0,t.kt)("h3",i({},{id:"--4dloop-expression--"}),(0,t.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP expression--\x3e")),(0,t.kt)("p",null,"Con esta sintaxis, la etiqueta",(0,t.kt)("inlineCode",{parentName:"p"},"4DLOOP")," realiza un bucle siempre que la ",(0,t.kt)("em",{parentName:"p"},"expression")," devuelva ",(0,t.kt)("inlineCode",{parentName:"p"},"True"),". La expresi\xf3n puede ser cualquier expresi\xf3n booleana v\xe1lida y debe contener una parte variable a evaluar en cada bucle para evitar bucles infinitos."),(0,t.kt)("p",null,"Por ejemplo, el siguiente c\xf3digo:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DEVAL $i:=0--\x3e\n\x3c!--#4DLOOP ($i<4)--\x3e\n\x3c!--#4DEVAL $i--\x3e\n\x3c!--#4DEVAL $i:=$i+1--\x3e\n\x3c!--#4DENDLOOP--\x3e\n")),(0,t.kt)("p",null,"...produce el siguiente resultado:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{}),"\n0\n\n1\n2\n3\n")),(0,t.kt)("h3",i({},{id:"--4dloop-pointerarray--"}),(0,t.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP pointerArray--\x3e")),(0,t.kt)("p",null,"En este caso, la etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"4DLOOP")," funciona como lo hace con un array: hace un bucle por cada elemento del array referenciado por el puntero. El elemento actual del array se incrementa cada vez que se repite la porci\xf3n de c\xf3digo."),(0,t.kt)("p",null,"Esta sintaxis es \xfatil cuando se pasa un puntero de array como par\xe1metro al comando ",(0,t.kt)("inlineCode",{parentName:"p"},"PROCESS 4D TAGS"),"."),(0,t.kt)("p",null,"Ejemplo:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-4d"}),' ARRAY TEXT($array;2)\n $array{1}:="hello"\n $array{2}:="world"\n $input:="\x3c!--#4DEVAL $1--\x3e"\n $input:=$input+"\x3c!--#4DLOOP $2--\x3e"\n $input:=$input+"\x3c!--#4DEVAL $2->{$2->}--\x3e "\n $input:=$input+"\x3c!--#4DENDLOOP--\x3e"\n PROCESS 4D TAGS($input;$output;"elements = ";->$array)\n  // $output = "elements = hello world "\n')),(0,t.kt)("p",null,'En caso de error de interpretaci\xf3n, se inserta el texto "',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP expression--\x3e"),': descripci\xf3n" en lugar del contenido situado entre ',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP --\x3e")," y ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e"),"."),(0,t.kt)("p",null,"Se pueden mostrar los siguientes mensajes:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"Tipo de expresi\xf3n inesperado (error est\xe1ndar);"),(0,t.kt)("li",{parentName:"ul"},"Nombre de tabla incorrecto (error en el nombre de la tabla);"),(0,t.kt)("li",{parentName:"ul"},"Se esperaba un array (la variable no es un array o es un array de dos dimensiones);"),(0,t.kt)("li",{parentName:"ul"},"El m\xe9todo no existe;"),(0,t.kt)("li",{parentName:"ul"},"Error de sintaxis (cuando el m\xe9todo se est\xe1 ejecutando);"),(0,t.kt)("li",{parentName:"ul"},"Error de acceso (no tiene los privilegios de acceso adecuados para acceder a la tabla o al m\xe9todo)."),(0,t.kt)("li",{parentName:"ul"},"4DENDLOOP esperado (el n\xfamero ",(0,t.kt)("inlineCode",{parentName:"li"},"\x3c!--#4DENDLOOP--\x3e")," no coincide con el ",(0,t.kt)("inlineCode",{parentName:"li"},"\x3c!--#4DLOOP --\x3e"),").")),(0,t.kt)("h2",i({},{id:"4dscript"}),"4DSCRIPT/"),(0,t.kt)("h4",i({},{id:"sintaxis---4dscriptmethodnamemyparam--"}),"Sintaxis: ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DSCRIPT/MethodName/MyParam--\x3e")),(0,t.kt)("p",null,"La etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"4DSCRIPT")," permite ejecutar m\xe9todos 4D al procesar la plantilla. La presencia de la etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DSCRIPT/MyMethod/MyParam--\x3e")," como comentario HTML lanza la ejecuci\xf3n del m\xe9todo ",(0,t.kt)("inlineCode",{parentName:"p"},"MyMethod")," con el par\xe1metro ",(0,t.kt)("inlineCode",{parentName:"p"},"Param")," como cadena en ",(0,t.kt)("inlineCode",{parentName:"p"},"$1"),"."),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Si la etiqueta se llama en el contexto de un proceso web, cuando se carga la p\xe1gina, 4D llama al m\xe9todo base de datos ",(0,t.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," (si existe). Si devuelve True, 4D ejecuta el m\xe9todo.")),(0,t.kt)("p",null,"El m\xe9todo debe devolver el texto en ",(0,t.kt)("inlineCode",{parentName:"p"},"$0"),". Si la cadena comienza con el car\xe1cter de c\xf3digo 1, se considera HTML (el mismo principio es v\xe1lido para la etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"4DHTML"),")."),(0,t.kt)("p",null,"Por ejemplo, supongamos que inserta el siguiente comentario ",(0,t.kt)("inlineCode",{parentName:"p"},'"Hoy es\x3c!--#4DSCRIPT/MYMETH/MYPARAM--\x3e"')," en una plantilla de p\xe1gina web. Al cargar la p\xe1gina, 4D llama al m\xe9todo base ",(0,t.kt)("inlineCode",{parentName:"p"},"On Web Authentication"),", luego llama al m\xe9todo ",(0,t.kt)("inlineCode",{parentName:"p"},"MYMETH"),' y pasa la cadena "/MYPARAM" como par\xe1metro ',(0,t.kt)("inlineCode",{parentName:"p"},"$1"),'. The method returns text in $0 (for example "12/31/21"); the expression "',(0,t.kt)("inlineCode",{parentName:"p"},"Today is\x3c!--#4DSCRIPT/MYMETH/MYPARAM\u2013\u2013>"),'" therefore becomes "Today is 12/31/21".'),(0,t.kt)("p",null,"El m\xe9todo ",(0,t.kt)("inlineCode",{parentName:"p"},"MYMETH")," es el siguiente:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-4d"}),"  //MYMETH\n C_TEXT($0;$1) //Estos par\xe1metros deben declararse siempre\n $0:=String(Current date)\n")),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Un m\xe9todo llamado por ",(0,t.kt)("inlineCode",{parentName:"p"},"4DSCRIPT")," no debe llamar a elementos de la interfaz (",(0,t.kt)("inlineCode",{parentName:"p"},"DIALOG"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"ALERT"),", etc.).")),(0,t.kt)("p",null,"Como 4D ejecuta los m\xe9todos en su orden de aparici\xf3n, es absolutamente posible llamar a un m\xe9todo que defina el valor de muchas variables a las que se hace referencia m\xe1s adelante en el documento, sea cual sea el modo que est\xe9 utilizando. Puede insertar tantos comentarios ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DSCRIPT...--\x3e")," como desee en una plantilla."),(0,t.kt)("h2",i({},{id:"4dtext"}),"4DTEXT"),(0,t.kt)("h4",i({},{id:"sintaxis---4dtext-expression--"}),"Sintaxis: ",(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DTEXT expression--\x3e")),(0,t.kt)("h4",i({},{id:"sintaxis-alternativa-4dtextexpression"}),"Sintaxis alternativa: ",(0,t.kt)("inlineCode",{parentName:"h4"},"$4DTEXT(expression)")),(0,t.kt)("p",null,"La etiqueta ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT expression--\x3e")," permite insertar una referencia a una variable o expresi\xf3n 4D que devuelve un valor. Por ejemplo, si se escribe (en una p\xe1gina HTML):"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"<P>Welcome to \x3c!--#4DTEXT vtSiteName--\x3e!</P>\n")),(0,t.kt)("p",null,"Just like the ",(0,t.kt)("inlineCode",{parentName:"p"},"4DTEXT"),' tag, this tag lets you assess a 4D variable or expression that returns a value, and insert it as an HTML expression. Este valor se inserta como texto simple, los caracteres HTML especiales como ">" se escapan autom\xe1ticamente.'),(0,t.kt)("p",null,"Tambi\xe9n puede insertar expresiones 4D. Por ejemplo, puede insertar directamente el contenido de un campo (",(0,t.kt)("inlineCode",{parentName:"p"},"<! -#4DTEXT [tableName]fieldName--\x3e"),"), un elemento array (",(0,t.kt)("inlineCode",{parentName:"p"},"<! -#4DTEXT tabarr{1}--\x3e"),") o un m\xe9todo que devuelve un valor (",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT mymethod--\x3e"),"). La conversi\xf3n de las expresiones sigue las mismas reglas que las de las variables. Adem\xe1s, la expresi\xf3n debe cumplir con las reglas de sintaxis 4D."),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Por razones de seguridad, se recomienda utilizar esta etiqueta al procesar datos introducidos desde fuera de la aplicaci\xf3n, con el fin de evitar la ",(0,t.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"inserci\xf3n del c\xf3digo malicioso"),".")),(0,t.kt)("p",null,"En caso de error de evaluaci\xf3n, el texto insertado aparecer\xe1 como ",(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT myvar--\x3e : ## error # c\xf3digo de error"),"."),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"Debe utilizar las variables proceso."),(0,t.kt)("li",{parentName:"ul"},"Puede mostrar el contenido de un campo imagen. Sin embargo, no es posible mostrar el contenido de un elemento del array de im\xe1genes."),(0,t.kt)("li",{parentName:"ul"},"Es posible mostrar el contenido de un campo objeto mediante una f\xf3rmula 4D. For example, you can write ",(0,t.kt)("inlineCode",{parentName:"li"},'\x3c!--#4DTEXT OB Get: C1224([Rect]Desc;\\"color\\")--\x3e'),"."),(0,t.kt)("li",{parentName:"ul"},"Normalmente se trabaja con variables de tipo texto. Sin embargo, tambi\xe9n se pueden utilizar las variables BLOB. S\xf3lo tiene que generar los BLOBs en modo ",(0,t.kt)("inlineCode",{parentName:"li"},"Texto sin longitud"),".")),(0,t.kt)("h2",i({},{id:"sintaxis-alternativa-para-4dtext-4dhtml-4deval"}),"Sintaxis alternativa para 4DTEXT, 4DHTML, 4DEVAL"),(0,t.kt)("p",null,"Varias etiquetas de transformaci\xf3n 4D existentes pueden expresarse utilizando una sintaxis basada en el s\xedmbolo $:"),(0,t.kt)("h4",i({},{id:"4dtag-expression"}),"$4dtag (expression)"),(0,t.kt)("p",null,"puede utilizarse en lugar de"),(0,t.kt)("h4",i({},{id:"--4dtag-expression--"}),(0,t.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4dtag expression--\x3e")),(0,t.kt)("p",null,"Esta sintaxis alternativa s\xf3lo est\xe1 disponible para las etiquetas utilizadas para devolver los valores procesados:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",i({parentName:"li"},{href:"#4dtext"}),"4DTEXT")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",i({parentName:"li"},{href:"#4dhtml"}),"4DHTML")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",i({parentName:"li"},{href:"#4deval"}),"4DEVAL"))),(0,t.kt)("p",null,"(Otras etiquetas, como 4DIF o 4DSCRIPT, deben escribirse con la sintaxis normal)."),(0,t.kt)("p",null,"Por ejemplo, puede escribir:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"$4DEVAL(UserName)\n")),(0,t.kt)("p",null,"en lugar de:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DEVAL(UserName)--\x3e\n")),(0,t.kt)("p",null,'La principal ventaja de esta sintaxis es que permite escribir plantillas compatibles con XML. Algunos desarrolladores 4D necesitan crear y validar plantillas basadas en XML utilizando herramientas de an\xe1lisis sint\xe1ctico XML est\xe1ndar. Dado que el caracter "<" no es v\xe1lido en un valor de atributo XML, no era posible utilizar la sintaxis "',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!-- --\x3e"),'" de las etiquetas 4D sin romper la sintaxis del documento. Por otro lado, no mencionar el car\xe1cter "<" impide que 4D interprete las etiquetas correctamente.'),(0,t.kt)("p",null,'Por ejemplo, el siguiente c\xf3digo provocar\xeda un error de an\xe1lisis XML debido al primer caracter "<" en el valor del atributo:'),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-xml"}),'<line x1="\x3c!--#4DEVAL $x--\x3e" y1="\x3c!--#4DEVAL $graphY1--\x3e"/>\n')),(0,t.kt)("p",null,"Utilizando la sintaxis $, el siguiente c\xf3digo es validado por el analizador:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-xml"}),'<line x1="$4DEVAL($x)" y1="$4DEVAL($graphY1)"/>\n')),(0,t.kt)("p",null,"Tenga en cuenta que ",(0,t.kt)("inlineCode",{parentName:"p"},"$4dtag")," y ",(0,t.kt)("inlineCode",{parentName:"p"},"<--#4dtag --\x3e")," no son estrictamente equivalentes: a diferencia de ",(0,t.kt)("inlineCode",{parentName:"p"},"<--#4dtag --\x3e"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"$4dtag")," el procesamiento no interpreta las etiquetas 4D ",(0,t.kt)("a",i({parentName:"p"},{href:"#recursive-processing"}),"de manera recursiva"),". Las etiquetas ",(0,t.kt)("inlineCode",{parentName:"p"},"$")," siempre se eval\xfaan una vez y el resultado se considera texto plano."),(0,t.kt)("p",null,"La raz\xf3n de esta diferencia es evitar la inyecci\xf3n de c\xf3digo malicioso. Como se ",(0,t.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"explica a continuaci\xf3n"),", se recomienda encarecidamente utilizar las etiquetas ",(0,t.kt)("inlineCode",{parentName:"p"},"4DTEXT")," en lugar de las etiquetas ",(0,t.kt)("inlineCode",{parentName:"p"},"4DHTML")," cuando se manipula texto usuario para protegerse de la reinterpretaci\xf3n no deseada de las etiquetas: con ",(0,t.kt)("inlineCode",{parentName:"p"},"4DTEXT"),', los caracteres especiales como "<" no se mencionan, por lo que toda etiqueta 4D que utilice la sintaxis ',(0,t.kt)("inlineCode",{parentName:"p"},"\x3c!--#4dtag expression --\x3e")," perder\xe1 su significado particular. Sin embargo, como ",(0,t.kt)("inlineCode",{parentName:"p"},"4DTEXT")," no escapa al s\xedmbolo ",(0,t.kt)("inlineCode",{parentName:"p"},"$"),", decidimos romper el soporte para la recursividad con el fin de prevenir la inyecci\xf3n maliciosa utilizando la sintaxis ",(0,t.kt)("inlineCode",{parentName:"p"},"$4dtag (expression)"),"."),(0,t.kt)("p",null,"Los siguientes ejemplos muestran el resultado del procesamiento en funci\xf3n de la sintaxis y la etiqueta utilizada:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'  // ejemplo 1\n myName:="\x3c!--#4DHTML QUIT 4D--\x3e" //inyecci\xf3n maliciosa\n input:="My name is: \x3c!--#4DHTML myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //\xa14D cerrar\xe1!\n')),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'  // ejemplo 2\n myName:="\x3c!--#4DHTML QUIT 4D--\x3e" //inyecci\xf3n maliciosa\n input:="Mi nombre es: \x3c!--#4DTEXT myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //output es "Mi nombre es: \x3c!--#4DHTML QUIT 4D--\x3e"\n')),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'  // ejemplo 3\n myName:="$4DEVAL(QUIT 4D)" //inyecci\xf3n maliciosa\n input:="Mi nombre es: \x3c!--#4DTEXT myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //la salida "Mi nombre es: $4DEVAL(QUIT 4D)"\n')),(0,t.kt)("p",null,"Tenga en cuenta que la sintaxis de ",(0,t.kt)("inlineCode",{parentName:"p"},"$4dtag")," admite la correspondencia de pares de comillas o de par\xe9ntesis. Por ejemplo, suponga que necesita evaluar la siguiente cadena compleja (irreal):"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{}),'String(1) + "\\"(hello)\\""\n')),(0,t.kt)("p",null,"Puede escribir:"),(0,t.kt)("pre",null,(0,t.kt)("code",i({parentName:"pre"},{className:"language-4d"}),' input:="$4DEVAL( String(1)+\\"\\\\\\"(hello)\\\\\\"\\")"\n PROCESS 4D TAGS(input;output)\n --\x3eoutput is 1"(hello)"\n')))}u.isMDXComponent=!0}}]);