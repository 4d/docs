"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["99329"],{193241:function(e,n,s){s.r(n),s.d(n,{default:()=>u,frontMatter:()=>o,metadata:()=>r,assets:()=>t,toc:()=>l,contentTitle:()=>d});var r=JSON.parse('{"id":"commands-legacy/on-web-authentication-database-method","title":"On Web Authentication database method","description":"$url, $http, $ipBrowser, $ipServer, $user, $pw -> M\xe9todo base On Web Authentication : Boolean","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R10/commands-legacy/on-web-authentication-database-method.md","sourceDirName":"commands-legacy","slug":"/commands/on-web-authentication-database-method","permalink":"/docs/es/commands/on-web-authentication-database-method","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fon-web-authentication-database-method.md%20(20-R10)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R10","frontMatter":{"id":"on-web-authentication-database-method","title":"On Web Authentication database method","slug":"/commands/on-web-authentication-database-method","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"On System Event database method","permalink":"/docs/es/commands/on-system-event-database-method"},"next":{"title":"On Web Connection database method","permalink":"/docs/es/commands/on-web-connection-database-method"}}'),i=s("785893"),a=s("250065");let o={id:"on-web-authentication-database-method",title:"On Web Authentication database method",slug:"/commands/on-web-authentication-database-method",displayed_sidebar:"docs"},d=void 0,t={},l=[{value:"Descripci\xf3n",id:"descripci\xf3n",level:2},{value:"Llamadas del m\xe9todo base On Web Authentication",id:"llamadas-del-m\xe9todo-base-on-web-authentication",level:2},{value:"Ejemplo 1",id:"ejemplo-1",level:2},{value:"Ejemplo 2",id:"ejemplo-2",level:2}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"$url, $http, $ipBrowser, $ipServer, $user, $pw -> M\xe9todo base On Web Authentication : Boolean"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Par\xe1metro"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$url"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"\u2190"}),(0,i.jsx)(n.td,{children:"URL"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$http"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"\u2190"}),(0,i.jsx)(n.td,{children:"Encabezado HTTP + Cuerpo HTTP"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$ipBrowser"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"\u2190"}),(0,i.jsx)(n.td,{children:"Direcci\xf3n IP del navegador"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$ipServer"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"\u2190"}),(0,i.jsx)(n.td,{children:"Direcci\xf3n IP del servidor"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$user"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"\u2190"}),(0,i.jsx)(n.td,{children:"Nombre de usuario"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$pw"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"\u2190"}),(0,i.jsx)(n.td,{children:"Contrase\xf1a"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Resultado"}),(0,i.jsx)(n.td,{children:"Boolean"}),(0,i.jsx)(n.td,{children:"\u2190"}),(0,i.jsx)(n.td,{children:"True = petici\xf3n aceptada, False = petici\xf3n rechazada"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["El M\xe9todo base On Web Authenticationest\xe1 a cargo de administrar el acceso al motor del servidor web. Es llamado autom\xe1ticamente por 4D o 4D Server cuando una petici\xf3n de un navegador web requiere la ejecuci\xf3n de un m\xe9todo 4D en el servidor (llamada de un m\xe9todo v\xeda un URL ",(0,i.jsx)(n.em,{children:"4DACTION"})," o  una etiqueta ",(0,i.jsx)(n.em,{children:"4DSCRIPT"}),", etc.)."]}),"\n",(0,i.jsx)(n.p,{children:"Este m\xe9todo recibe seis par\xe1metros de tipo Texto, pasados por 4D: $url, $http, $ipBrowser, $ipServer, $user, y $pw y devuelve un booleano, $result. La descripci\xf3n de estos par\xe1metros es la siguiente:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Par\xe1metros"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Tipo"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Descripci\xf3n"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$url"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"URL"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$http"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"Encabezado + Cuerpo HTTP (32 KB m\xe1ximo)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$ipBrowser"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"Direcci\xf3n IP del navegador"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$ipServer"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"Direcci\xf3n IP que llama al servidor"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$user"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"Nombre del usuario"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$pw"}),(0,i.jsx)(n.td,{children:"Texto"}),(0,i.jsx)(n.td,{children:"Contrase\xf1a"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$result"}),(0,i.jsx)(n.td,{children:"Booleano"}),(0,i.jsx)(n.td,{children:"True = petici\xf3n aceptada, False = petici\xf3n rechazada"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Debe declarar estos par\xe1metros de esta forma:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:"\xa0\xa0// M\xe9todo de base On Web Authentication\n\xa0\n\xa0#DECLARE($url : Text ; $http : Text ; $BrowserIP : Text ;\\ $ServerIP : Text ; $user : Text ; $password: Text) -> $result : Boolean\n\xa0\n\xa0\xa0// C\xf3digo para el m\xe9todo\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Nota:"})," todos los par\xe1metros del M\xe9todo base On Web Authenticationno se llenar\xe1n. La informaci\xf3n recibida por el m\xe9todo de base depende las opciones que haya seleccionado previamente en la caja de di\xe1logo de Propiedades de la base. Consulte la secci\xf3n ",(0,i.jsx)(n.em,{children:"Seguridad de las conexiones"}),")."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"URL"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["El primer par\xe1metro (",(0,i.jsx)(n.em,{children:"$url"}),") es el URL introducido por el usuario en el \xe1rea ubicaci\xf3n de su navegador web, menos la direcci\xf3n local."]}),"\n",(0,i.jsxs)(n.p,{children:["Tomemos el ejemplo de una conexi\xf3n de Intranet. Supongamos que la direcci\xf3n IP de su equipo servidor web 4D es ",(0,i.jsx)(n.em,{children:"123.45.67.89"}),". La siguiente tabla muestra los valores de ",(0,i.jsx)(n.em,{children:"$url"})," dependiendo del URL introducido en el navegador web:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"URL introducido en el navegador web"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Valor del par\xe1metro $url"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"123.45.67.89"}),(0,i.jsx)(n.td,{children:"/"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"http://123.45.67.89",children:"http://123.45.67.89"})}),(0,i.jsx)(n.td,{children:"/"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"123.45.67.89/Clientes"}),(0,i.jsx)(n.td,{children:"/Clientes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"http://123.45.67.89/Clientes",children:"http://123.45.67.89/Clientes"})}),(0,i.jsx)(n.td,{children:"/Clientes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"http://123.45.67.89/Clientes/A%C3%B1adir",children:"http://123.45.67.89/Clientes/A\xf1adir"})}),(0,i.jsx)(n.td,{children:"/Clientes/A\xf1adir"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"123.45.67.89/Hacer_esto/Si_OK/Hacer_eso"}),(0,i.jsx)(n.td,{children:"/Hacer_esto/Si_OK/Hacer_eso"})]})]})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Encabezado y cuerpo de la petici\xf3n HTTP"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["El segundo par\xe1metro (",(0,i.jsx)(n.em,{children:"$http"}),") es el encabezado y el cuerpo de la petici\xf3n HTTP enviada por el navegador web. Note que esta informaci\xf3n se pasa al M\xe9todo base On Web Authentication tal como est\xe1. El contenido var\xeda en funci\xf3n del tipo de navegador web que est\xe9 intentando la conexi\xf3n. Si su aplicaci\xf3n manipula esta informaci\xf3n, es su decisi\xf3n si analiza el encabezado y el cuerpo."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Notas:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Por razones de rendimiento, el tama\xf1o de los datos que transita v\xeda el par\xe1metro $http no debe superar los 32 KB. De lo contrario ser\xe1n truncados por el servidor HTTP de 4D."}),"\n",(0,i.jsxs)(n.li,{children:["Para mayor informaci\xf3n sobre este par\xe1metro, consulte la descripci\xf3n del ",(0,i.jsx)(n.a,{href:"metodo-base-on-web-connection.md",children:"M\xe9todo base On Web Connection"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Direcci\xf3n IP del navegador"}),(0,i.jsx)(n.br,{}),"\nEl tercer par\xe1metro $ipBrowser recibe la direcci\xf3n IP del equipo navegador. Esta informaci\xf3n permite distinguir entre las conexiones de Intranet e Internet.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Nota:"})," 4D devuelve las direcciones IPv4 en un formato h\xedbrido IPv6 escritos con un prefijo de 96 bits, por ejemplo ::ffff:192.168.2.34 para la direcci\xf3n IPv4 192.168.2.34. Para mayor informaci\xf3n, consulte la secci\xf3n ",(0,i.jsx)(n.em,{children:"Soporte de IP v6"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Direcci\xf3n IP para llamar al servidor"}),(0,i.jsx)(n.br,{}),"\nEl cuarto par\xe1metro $ipServer recibe la direcci\xf3n IP utilizada para llamar al servidor Web. 4D a partir de la versi\xf3n 6.5 autoriza el multi-homing, permitiendo explotar equipos con m\xe1s de una direcci\xf3n IP. Para mayor informaci\xf3n, consulte la secci\xf3n ",(0,i.jsx)(n.a,{href:"/docs/es/commands/qr-delete-column",children:"QR DELETE COLUMN"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nombre del usuario y contrase\xf1a"}),(0,i.jsx)(n.br,{}),"\nLos par\xe1metros $user y $pw reciben el nombre de usuario y contrase\xf1a introducidos por el usuario en la caja de di\xe1logo est\xe1ndar de identificaci\xf3n mostrada por el navegador. Esta caja de di\xe1logo aparece para cada conexi\xf3n, si una opci\xf3n de gesti\xf3n de contrase\xf1as ha sido seleccionada en las Propiedades de la base (ver la secci\xf3n ",(0,i.jsx)(n.em,{children:"Seguridad de las conexiones"}),")."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Nota:"})," si el nombre de usuario enviado por el navegador existe en 4D, el par\xe1metro $pw (la contrase\xf1a del usuario) no se devuelve por razones de seguridad."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u2022 Par\xe1metro $result"})}),"\n",(0,i.jsx)(n.p,{children:"El M\xe9todo base On Web Authentication devuelve un booleano en $result:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Si $result es ",(0,i.jsx)(n.a,{href:"/docs/es/commands/true",title:"True",children:"True"}),", la conexi\xf3n es aceptada."]}),"\n",(0,i.jsxs)(n.li,{children:["Si $result es ",(0,i.jsx)(n.a,{href:"/docs/es/commands/false",title:"False",children:"False"}),", la conexi\xf3n es rechazada."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["El ",(0,i.jsx)(n.a,{href:"metodo-base-on-web-connection.md",children:"M\xe9todo base On Web Connection"})," s\xf3lo se ejecuta si la conexi\xf3n ha sido aceptada por ",(0,i.jsx)(n.strong,{children:"On Web Authentication"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Advertencia:"})," si no se pasa ning\xfan valor en ",(0,i.jsx)(n.em,{children:"$result"})," o si ",(0,i.jsx)(n.em,{children:"$result"})," no se define en el M\xe9todo base On Web Authentication, la conexi\xf3n se considerar\xe1 como aceptada y se ejecuta el ",(0,i.jsx)(n.a,{href:"metodo-base-on-web-connection.md",children:"M\xe9todo base On Web Connection"}),(0,i.jsx)(n.em,{children:"Licenses"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Notas:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["No llame elementos de interfaz en el M\xe9todo base On Web Authentication (",(0,i.jsx)(n.a,{href:"/docs/es/commands/alert",children:"ALERT"}),", ",(0,i.jsx)(n.a,{href:"/docs/es/commands/dialog",children:"DIALOG"}),", etc.) porque de lo contrario su ejecuci\xf3n se interrumpir\xe1 y la conexi\xf3n ser\xe1 rechazada. Lo mismo sucede si se presenta un error durante su proceso."]}),"\n",(0,i.jsxs)(n.li,{children:["Es posible evitar la ejecuci\xf3n por ",(0,i.jsx)(n.em,{children:"4DACTION"})," o ",(0,i.jsx)(n.em,{children:"4DSCRIPT"})," de cada m\xe9todo de proyecto con la ayuda de la opci\xf3n \u201CDisponible v\xeda las etiquetas HTML y URLs (4DACTION...) en la caja de di\xe1logo de las Propiedades de los m\xe9todos. Para mayor informaci\xf3n sobre este punto, consulte la secci\xf3n ",(0,i.jsx)(n.em,{children:"Seguridad de las conexiones"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"llamadas-del-m\xe9todo-base-on-web-authentication",children:"Llamadas del m\xe9todo base On Web Authentication"}),"\n",(0,i.jsx)(n.p,{children:"El M\xe9todo base On Web Authentication se llama autom\xe1ticamente, sin importar el modo, cuando una petici\xf3n o proceso requiere la ejecuci\xf3n de un m\xe9todo 4D. Tambi\xe9n se llama cuando el servidor web recibe un URL est\xe1tico inv\xe1lido (por ejemplo, si la p\xe1gina est\xe1tica solicitada no existe)."}),"\n",(0,i.jsx)(n.p,{children:"Por lo tanto el M\xe9todo base On Web Authentication se llama en los siguientes casos:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["cuando 4D recibe un URL que comienza por ",(0,i.jsx)(n.em,{children:"4DACTION/"})]}),"\n",(0,i.jsxs)(n.li,{children:["cuando 4D recibe un URL que comienza por ",(0,i.jsx)(n.em,{children:"4DCGI/"})]}),"\n",(0,i.jsxs)(n.li,{children:["cuando 4D recibe un URL que comienza por ",(0,i.jsx)(n.em,{children:"4DSYNC/"})]}),"\n",(0,i.jsx)(n.li,{children:"cuando 4D recibe un URL solicitando una p\xe1gina est\xe1tica que no existe"}),"\n",(0,i.jsxs)(n.li,{children:["cuando 4D recibe un URL de acceso a la ra\xedz y no se ha definido una p\xe1gina de inicio en las propiedades de la base o por medio del comando ",(0,i.jsx)(n.a,{href:"/docs/es/commands/web-set-home-page",children:"WEB SET HOME PAGE"})]}),"\n",(0,i.jsxs)(n.li,{children:["cuando 4D procesa una etiqueta ",(0,i.jsx)(n.em,{children:"4DSCRIPT"})," en una p\xe1gina semidin\xe1mica"]}),"\n",(0,i.jsxs)(n.li,{children:["cuando 4D procesa una etiqueta ",(0,i.jsx)(n.em,{children:"4DLOOP"})," basada en un m\xe9todo en una p\xe1gina semidin\xe1mica.\n",(0,i.jsx)(n.strong,{children:"Nota de compatibilidad:"})," el m\xe9todo base tambi\xe9n se llama cuando 4D recibe un URL que comienza por ",(0,i.jsx)(n.em,{children:"4DMETHOD/"}),". Este URL es obsoleto y s\xf3lo se conserva por razones de compatibilidad."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Note que el M\xe9todo base On Web Authentication NO se llama cuando el servidor recibe un URL solicitando una p\xe1gina est\xe1tica v\xe1lida."}),"\n",(0,i.jsx)(n.h2,{id:"ejemplo-1",children:"Ejemplo 1"}),"\n",(0,i.jsxs)(n.p,{children:["Ejemplo del ",(0,i.jsx)(n.em,{children:"M\xe9todo de base On Web Authentication"})," en modo BASIC:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0//M\xe9todo de base On Web Authentication\n\xa0#DECLARE($url : Text ; $http : Text ; $BrowserIP : Text ;\\ $ServerIP : Text ; $user : Text ; $password: Text) -> $result : Boolean\n\xa0var $usuario;$contrase\xf1a;$IPNavegador;$IPServidor : Text\n\xa0var $ipServerDusuario : Boolean\n\xa0ARRAY TEXT($usuarios;0)\n\xa0ARRAY LONGINT($nums;0)\n\xa0var $upos : Integer\n\xa0\n\xa0$result:=False\n\xa0\n\xa0$usuario:=$user\n\xa0$contrase\xf1a:=$pw\n\xa0$IPNavegador:=$ipBrowser\n\xa0$IPServidor:=$ipServer\n\xa0\n\xa0\xa0//Por razones de seguridad, rechazar nombres que contengan @\n\xa0If(WithWildcard($usuario)|WithWildcard($contrase\xf1a))\n\xa0\xa0\xa0\xa0$result:=False\n\xa0\xa0//El m\xe9todo WithWildcard se describe a continuaci\xf3n\n\xa0Else\n\xa0\xa0//Verificar para ver si es un usuario 4D\n\xa0\xa0\xa0\xa0GET USER LIST($usuarios;$nums)\n\xa0\xa0\xa0\xa0$upos:=Find in array($usuarios;$usuario)\n\xa0\xa0\xa0\xa0If($upos >0)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$usuario4D:=Not(Is user deleted($nums{$upos}))\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$usuario4D:=False\n\xa0\xa0\xa0\xa0End if\n\xa0\n\xa0\xa0\xa0\xa0If(Not($usuario4D))\n\xa0\xa0//No es un usuario definido en 4D, buscar en la tabla de usuarios Web\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0QUERY([UsuariosWeb];[UsuariosWeb]usuario=$usuario;*)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0QUERY([UsuariosWeb];\xa0&\xa0[UsuariosWeb]contrase\xf1a=$contrase\xf1a)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=(Records in selection([UsuariosWeb])=1)\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=True\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n\xa0\xa0//\xbfEsta es una conexi\xf3n de intranet?\n\xa0If(Substring($IPNavegador;1;7)#"192.100.")\n\xa0\xa0\xa0\xa0$result:=False\n\xa0End if\n'})}),"\n",(0,i.jsx)(n.h2,{id:"ejemplo-2",children:"Ejemplo 2"}),"\n",(0,i.jsx)(n.p,{children:"Ejemplo del  en modo DIGEST:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:"\xa0\xa0//M\xe9todo de base On Web Authentication\n\xa0#DECLARE($url : Text ; $http : Text ; $BrowserIP : Text ;\\ $ServerIP : Text ; $user : Text ; $password: Text) -> $result : Boolean\n\xa0var $usuario : Text\n\xa0$result:=False\n\xa0$usuario:=$user\n\xa0\xa0//Por razones de seguridad, rechazar los nombres que contengan @\n\xa0If(WithWildcard($usuario))\n\xa0\xa0\xa0\xa0$result:=False\n\xa0\xa0//El m\xe9todo WithWildcard se describe a continuaci\xf3n\n\xa0Else\n\xa0\xa0\xa0\xa0QUERY([UsuariosWeb];[UsuariosWeb]usuario=$usuario)\n\xa0\xa0\xa0\xa0If(OK=1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=WEB Validate digest($usuario;[UsuariosWeb]contrase\xf1a)\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=False\xa0//Usuario inexistente\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n\xa0\n\xa0El m\xe9todo de proyecto WithWildcard es el siguiente:\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0//M\xe9todo WithWildcard\n\xa0\xa0//WithWildcard ( Cadena) -> Booleano\n\xa0\xa0//WithWildcard ( Nombre ) -> Contiene un car\xe1cter arroba\n\xa0\n#DECLARE($name : Text) -> $result : Boolean\nvar $i : Integer\n\xa0\n\xa0$result:=False\n\xa0For($i;1;Length($name))\n\xa0\xa0\xa0\xa0If(Character code(Substring($name;$i;1))=Character code("@"))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0$result:=True\n\xa0\xa0\xa0\xa0End if\n\xa0End for\n'})})]})}function u(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return d},a:function(){return o}});var r=s(667294);let i={},a=r.createContext(i);function o(e){let n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);