"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["91959"],{250500:function(e,n,r){r.r(n),r.d(n,{default:()=>u,frontMatter:()=>l,metadata:()=>t,assets:()=>o,toc:()=>i,contentTitle:()=>d});var t=JSON.parse('{"id":"commands-legacy/ldap-search-all","title":"LDAP SEARCH ALL","description":"LDAP SEARCH ALL ( dnRootEntry ; arrResult ; filtro {; alcance {; atributos {; atributosenArray}}} )","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/ldap-search-all.md","sourceDirName":"commands-legacy","slug":"/commands/ldap-search-all","permalink":"/docs/es/20-R7/commands/ldap-search-all","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fldap-search-all.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"ldap-search-all","title":"LDAP SEARCH ALL","slug":"/commands/ldap-search-all","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"LDAP Search","permalink":"/docs/es/20-R7/commands/ldap-search"},"next":{"title":"Lenguaje","permalink":"/docs/es/20-R7/commands/theme/Language"}}'),s=r("785893"),a=r("250065");let l={id:"ldap-search-all",title:"LDAP SEARCH ALL",slug:"/commands/ldap-search-all",displayed_sidebar:"docs"},d=void 0,o={},i=[{value:"Descripci\xf3n",id:"descripci\xf3n",level:2},{value:"Ejemplo 1",id:"ejemplo-1",level:2},{value:"Ejemplo 2",id:"ejemplo-2",level:2},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n",level:2},{value:"Propiedades",id:"propiedades",level:2}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"LDAP SEARCH ALL"})," ( ",(0,s.jsx)(n.em,{children:"dnRootEntry"})," ; ",(0,s.jsx)(n.em,{children:"arrResult"})," ; ",(0,s.jsx)(n.em,{children:"filtro"})," {; ",(0,s.jsx)(n.em,{children:"alcance"})," {; ",(0,s.jsx)(n.em,{children:"atributos"})," {; ",(0,s.jsx)(n.em,{children:"atributosenArray"}),"}}} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Par\xe1metro"}),(0,s.jsx)(n.th,{children:"Tipo"}),(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"dnRootEntry"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Distinguished Name del elemento ra\xedz donde iniciar la b\xfasqueda"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"arrResult"}),(0,s.jsx)(n.td,{children:"Object array"}),(0,s.jsx)(n.td,{children:"\u2190"}),(0,s.jsx)(n.td,{children:"Resultado de la b\xfasqueda"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"filtro"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Filtro de b\xfasqueda LDAP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"alcance"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:'Alcance de la b\xfasqueda: "base" (por defecto), "one", o "sub"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"atributos"}),(0,s.jsx)(n.td,{children:"Text array"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"Atributos a recuperar"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"atributosenArray"}),(0,s.jsx)(n.td,{children:"Boolean array"}),(0,s.jsx)(n.td,{children:"\u2192"}),(0,s.jsx)(n.td,{children:"True = forzar el retorno de los atributos como array; false = forzar el retorno de los atributos como variables simples"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,s.jsxs)(n.p,{children:["El comando ",(0,s.jsx)(n.strong,{children:"LDAP SEARCH ALL"})," busca todas las ocurrencias que coinciden con los criterios definidos en el servidor LDAP objetivo. Este comando debe ser ejecutado dentro de una conexi\xf3n a un servidor LDAP abierta con ",(0,s.jsx)(n.em,{children:"LDAP LOGIN"}),"; de lo contrario se devuelve un error 1003."]}),"\n",(0,s.jsx)(n.p,{children:"Tenga en cuenta que los servidores LDAP generalmente imponen un n\xfamero m\xe1ximo de entradas que se pueden recibir de una b\xfasqueda. Por ejemplo, el directorio de Microsoft Active limita este n\xfamero a 1.000 entradas por defecto."}),"\n",(0,s.jsxs)(n.p,{children:["En ",(0,s.jsx)(n.em,{children:"dnRootEntry"}),", pase el ",(0,s.jsx)(n.em,{children:"Distinguished Name"})," del elemento ra\xedz del servidor LDAP; la b\xfasqueda se iniciar\xe1 a partir de este elemento."]}),"\n",(0,s.jsxs)(n.p,{children:["En ",(0,s.jsx)(n.em,{children:"tabResult"}),", pase un array objeto que se llenar\xe1 con todas las entradas coincidentes; en este array, cada elemento es un objeto que contiene los pares atributo/valor devueltos por una entrada coincidente. Puede utilizar el par\xe1metro ",(0,s.jsx)(n.em,{children:"atributos"})," para definir los par\xe1metros a devolver."]}),"\n",(0,s.jsxs)(n.p,{children:["En ",(0,s.jsx)(n.em,{children:"filtro"}),", pase el filtro de b\xfasqueda LDAP a aplicar. La cadena filtro debe ser compatible con ",(0,s.jsx)(n.a,{href:"http://tools.ietf.org/search/rfc2254",children:"rfc2225"}),'. Puede pasar una cadena vac\xeda "" para no filtrar la b\xfasqueda; el "*" se soporta para buscar subcadenas.']}),"\n",(0,s.jsxs)(n.p,{children:["En ",(0,s.jsx)(n.em,{children:"alcance"}),', pase una de las siguientes constantes del tema "LDAP":']}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Constante"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Tipo"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Valor"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Comentario"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"LDAP root only"}),(0,s.jsx)(n.td,{children:"Texto"}),(0,s.jsx)(n.td,{children:'"base"'}),(0,s.jsxs)(n.td,{children:["Buscar s\xf3lo en el elemento ra\xedz definido por ",(0,s.jsx)(n.em,{children:"dnRootEntry"})," (por defecto si se omite)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"LDAP root and next"}),(0,s.jsx)(n.td,{children:"Texto"}),(0,s.jsx)(n.td,{children:'"one"'}),(0,s.jsxs)(n.td,{children:["Buscar en el elemento la ra\xedz definido por ",(0,s.jsx)(n.em,{children:"dnRootEntry"})," y en las entradas posteriores directamente en un nivel"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"LDAP all levels"}),(0,s.jsx)(n.td,{children:"Texto"}),(0,s.jsx)(n.td,{children:'"sub"'}),(0,s.jsxs)(n.td,{children:["Buscar en el elemento ra\xedz definido por ",(0,s.jsx)(n.em,{children:"dnRootEntry"})," y en todas las entradas posteriores"]})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["En ",(0,s.jsx)(n.em,{children:"atributos"}),", pase un array texto que contiene la lista de todos los atributos LDAP a recuperar a partir de las entradas encontradas. Por defecto, si se omite este par\xe1metro, todos los atributos se recuperan."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Nota:"})," tenga en cuenta que los nombres de atributos LDAP distinguen entre may\xfasculas y min\xfasculas. Para m\xe1s informaci\xf3n sobre los atributos LDAP, puede consultar ",(0,s.jsx)(n.a,{href:"https://msdn.microsoft.com/en-us/library/ms675089%28v=vs.85%29.aspx",children:"esta p\xe1gina"})," que lista todos los atributos disponibles para MS Active directory."]}),"\n",(0,s.jsxs)(n.p,{children:["Por defecto, el comando devuelve atributos como un array si se encuentran varios resultados, o como una variable si se encuentra un solo resultado. Los par\xe1metros opcionales ",(0,s.jsx)(n.em,{children:"atributosEnArray"}),' permiten "forzar" el formato de los atributos devueltos en un array o como una variable para cada atributo definido:']}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Cuando pase ",(0,s.jsx)(n.strong,{children:"true"})," en un elemento, el elemento correspondiente del par\xe1metro ",(0,s.jsx)(n.em,{children:"atributos"})," ser\xe1 devuelto en un array. Si se encuentra un solo valor, el comando devuelve un array con un solo elemento."]}),"\n",(0,s.jsxs)(n.li,{children:["Cuando pase ",(0,s.jsx)(n.strong,{children:"false"})," en un elemento, el elemento correspondiente del par\xe1metro ",(0,s.jsx)(n.em,{children:"atributos"})," ser\xe1 devuelto en una variable simple. Si se encuentran varias entradas, el comando devuelve s\xf3lo el primer elemento."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"ejemplo-1",children:"Ejemplo 1"}),"\n",(0,s.jsx)(n.p,{children:'Queremos obtener el n\xfamero de tel\xe9fono de todos los usuarios con nombre "smith" en el directorio de la empresa:'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY TEXT($_tabAttributes;0)\n\xa0ARRAY BOOLEAN($_tabAttributes_asArray;0)\n\xa0APPEND TO ARRAY($_tabAttributes;"cn")\n\xa0APPEND TO ARRAY($_tabAttributes_asArray;False)\n\xa0APPEND TO ARRAY($_tabAttributes;"telephoneNumber")\n\xa0APPEND TO ARRAY($_tabAttributes_asArray;False)\n\xa0ARRAY OBJECT($_entry;0)\n\xa0\n\xa0LDAP LOGIN($url;$myLogin;$pwd)\n\xa0$filter:="cn=*smith*"\n\xa0LDAP SEARCH ALL($dnSearchRootEntry;$_entry;$filter;LDAP all levels;$_tabAttributes)\n\xa0LDAP LOGOUT\n\xa0\n\xa0\n\xa0\xa0//$_entry contendr\xe1 por ejemplo\n\xa0\xa0// $_entry{1} = {"cn":"John Smith","telephoneNumber":"01 40 87 00 00"}\n\xa0\xa0// $_entry{2} = {"cn":"Adele Smith","telephoneNumber":"01 40 87 00 01"}\n\xa0\xa0// $_entry{3} = {"cn":"Adrian Smith","telephoneNumber":"01 23 45 67 89"}\n\xa0\xa0// ...\n'})}),"\n",(0,s.jsx)(n.h2,{id:"ejemplo-2",children:"Ejemplo 2"}),"\n",(0,s.jsxs)(n.p,{children:["Estos ejemplos ilustran el uso del par\xe1metro ",(0,s.jsx)(n.em,{children:"atributosEnArray"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY OBJECT($_entry;0)\n\xa0ARRAY TEXT($_tabAttributes;0)\n\xa0ARRAY BOOLEAN($_tabAttributes_asArray;0)\n\xa0APPEND TO ARRAY($_tabAttributes;"cn")\n\xa0APPEND TO ARRAY($_tabAttributes_asArray;False)\n\xa0APPEND TO ARRAY($_tabAttributes;"memberOf")\n\xa0APPEND TO ARRAY($_tabAttributes_asArray;True)\n\xa0\n\xa0LDAP LOGIN($url;$login;$pwd;LDAP password plain text)\n\xa0LDAP SEARCH ALL($dnSearchRootEntry;$_entry;$filter;LDAP all levels;$_tabAttributes;$_tabAttributes_asArray)\n\xa0LDAP LOGOUT\n\xa0\n\xa0ARRAY TEXT($_arrMemberOf;0)\n\xa0OB GET ARRAY($_entry{1};"memberOf";$_arrMemberOf)\n\xa0\xa0// en $_arrMemberOf tenemos un array que contiene todos los grupos de la entrada\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY TEXT($_tabAttributes;0)\n\xa0ARRAY BOOLEAN($_tabAttributes_asArray;0)\n\xa0APPEND TO ARRAY($_tabAttributes;"cn")\n\xa0APPEND TO ARRAY($_tabAttributes_asArray;False)\n\xa0APPEND TO ARRAY($_tabAttributes;"memberOf")\n\xa0APPEND TO ARRAY($_tabAttributes_asArray;False)\n\xa0\n\xa0LDAP LOGIN($url;$login;$pwd;LDAP password plain text)\n\xa0LDAP SEARCH ALL($dnSearchRootEntry;$_entry;$filter;LDAP all levels;$_tabAttributes;$_tabAttributes_asArray)\n\xa0LDAP LOGOUT\n\xa0\n\xa0$memberOf:=OB Get($_entry{1};"memberOf")\n\xa0\xa0// en $memberOf tenemos una variable que contiene el primer grupo de la entrada\n'})}),"\n",(0,s.jsx)(n.h2,{id:"ver-tambi\xe9n",children:"Ver tambi\xe9n"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"LDAP"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"/docs/es/20-R7/commands/ldap-search",children:"LDAP Search"})]}),"\n",(0,s.jsx)(n.h2,{id:"propiedades",children:"Propiedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{}),(0,s.jsx)(n.th,{})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"N\xfamero de comando"}),(0,s.jsx)(n.td,{children:"1329"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Hilo seguro"}),(0,s.jsx)(n.td,{children:"\u2717"})]})]})]})]})}function u(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return d},a:function(){return l}});var t=r(667294);let s={},a=t.createContext(s);function l(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);