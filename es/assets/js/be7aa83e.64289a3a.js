/*! For license information please see be7aa83e.64289a3a.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[60263],{315985:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>d});var n=s(474848),o=s(28453);const r={id:"configuration",title:"Configuraci\xf3n del servidor"},i=void 0,t={id:"REST/configuration",title:"Configuraci\xf3n del servidor",description:"Utilizando peticiones HTTP est\xe1ndar, el servidor 4D REST permite a las aplicaciones externas acceder directamente a los datos de su aplicaci\xf3n, es decir, para recuperar informaci\xf3n sobre las clases de datos de su proyecto, manipular datos, entrar en su aplicaci\xf3n web, y mucho m\xe1s.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R5/REST/configuration.md",sourceDirName:"REST",slug:"/REST/configuration",permalink:"/docs/es/20-R5/REST/configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2Fconfiguration.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"configuration",title:"Configuraci\xf3n del servidor"},sidebar:"docs",previous:{title:"Comencemos",permalink:"/docs/es/20-R5/REST/gettingStarted"},next:{title:"Usuarios y sesiones",permalink:"/docs/es/20-R5/REST/authUsers"}},c={},d=[{value:"Iniciar el servidor REST",id:"iniciar-el-servidor-rest",level:2},{value:"Controlando el acceso REST",id:"controlando-el-acceso-rest",level:2},{value:"Uso de los par\xe1metros de la Estructura",id:"uso-de-los-par\xe1metros-de-la-estructura",level:3},{value:"M\xe9todo base On REST Authentication",id:"m\xe9todo-base-on-rest-authentication",level:3},{value:"Exponer tablas y campos",id:"exponer-tablas-y-campos",level:2},{value:"Exponer las tablas",id:"exponer-las-tablas",level:3},{value:"Exponer los campos",id:"exponer-los-campos",level:3},{value:"Modo apropiativo",id:"modo-apropiativo",level:2}];function l(e){const a={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["Utilizando peticiones HTTP est\xe1ndar, el servidor 4D REST permite a las aplicaciones externas acceder directamente a los datos de su aplicaci\xf3n, ",(0,n.jsx)(a.em,{children:"es decir"}),", para recuperar informaci\xf3n sobre las clases de datos de su proyecto, manipular datos, entrar en su aplicaci\xf3n web, y mucho m\xe1s."]}),"\n",(0,n.jsx)(a.p,{children:"Para comenzar a utilizar las funcionalidades REST, es necesario iniciar y configurar el servidor 4D REST."}),"\n",(0,n.jsx)(a.h2,{id:"iniciar-el-servidor-rest",children:"Iniciar el servidor REST"}),"\n",(0,n.jsxs)(a.p,{children:["Por razones de seguridad, por defecto, 4D no responde a las peticiones REST. Si desea iniciar el servidor REST, debe marcar la opci\xf3n ",(0,n.jsx)(a.strong,{children:"Exponer como servidor REST"})," en la p\xe1gina ",(0,n.jsx)(a.strong,{children:"Web"})," > ",(0,n.jsx)(a.strong,{children:"Web Features"})," de la configuraci\xf3n de la estructura para que se procesen las peticiones REST."]}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"alt-text",src:s(269501).A+"",width:"855",height:"381"})}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:"Los servicios REST utilizan el servidor HTTP 4D, por lo que debe asegurarse de que el servidor web 4D est\xe1 iniciado."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:'El mensaje de advertencia "Atenci\xf3n, verifique los privilegios de acceso" aparece cuando se marca esta opci\xf3n para llamar la atenci\xf3n sobre el hecho de que cuando se activan los servicios REST, por defecto el acceso a los objetos de la base de datos es gratuito mientras no se hayan configurado los accesos REST.'}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:"Debe reiniciar la aplicaci\xf3n 4D para que los cambios surtan efecto."}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"controlando-el-acceso-rest",children:"Controlando el acceso REST"}),"\n",(0,n.jsx)(a.p,{children:"Por defecto, los accesos REST est\xe1n abiertos a todos los usuarios, lo que obviamente no es recomendable por razones de seguridad, y tambi\xe9n para controlar el uso de las licencias de los clientes."}),"\n",(0,n.jsx)(a.p,{children:"Puede configurar los accesos REST de una de las siguientes maneras:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["(recomendado) activar el modo de ",(0,n.jsx)(a.strong,{children:"inicio de sesi\xf3n forzado"})," y crear una funci\xf3n de clase ",(0,n.jsx)(a.a,{href:"/docs/es/20-R5/REST/authUsers#authentify",children:(0,n.jsx)(a.code,{children:"authentify()"})})," en la clase datastore para autenticar usuarios y asignar privilegios a su sesi\xf3n web (ver ",(0,n.jsx)(a.a,{href:"/docs/es/20-R5/REST/authUsers#user-login-modes",children:"Modos de inicio de sesi\xf3n de usuario"}),")."]}),"\n",(0,n.jsxs)(a.li,{children:["asignar un grupo de usuarios ",(0,n.jsx)(a.strong,{children:"Lectura/Escritura"}),' a los servicios REST en la p\xe1gina "',(0,n.jsx)(a.strong,{children:"Web"})," > ",(0,n.jsx)(a.strong,{children:"Funcionalidades web"}),'" de los Par\xe1metros de estructura;']}),"\n",(0,n.jsxs)(a.li,{children:["escribir un m\xe9todo base ",(0,n.jsx)(a.code,{children:"On REST Authentication"})," para interceptar y manejar cada petici\xf3n REST inicial."]}),"\n"]}),"\n",(0,n.jsx)(a.admonition,{title:"Importante",type:"info",children:(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Se recomienda no habilitar simult\xe1neamente diferentes caracter\xedsticas de control de acceso REST para evitar conflictos."}),"\n",(0,n.jsxs)(a.li,{children:["Si se ha definido un m\xe9todo base ",(0,n.jsx)(a.code,{children:"On REST Authentication"}),', se ignorar\xe1 cualquier ajuste realizado mediante el men\xfa "Lectura/Escritura" de la p\xe1gina ',(0,n.jsx)(a.strong,{children:"Web"})," > ",(0,n.jsx)(a.strong,{children:"Funcionalidades web"})," de los Par\xe1metros de estructura."]}),"\n"]})}),"\n",(0,n.jsx)(a.h3,{id:"uso-de-los-par\xe1metros-de-la-estructura",children:"Uso de los par\xe1metros de la Estructura"}),"\n",(0,n.jsxs)(a.p,{children:["El men\xfa ",(0,n.jsx)(a.strong,{children:"Lectura/Escritura"}),' en la p\xe1gina "',(0,n.jsx)(a.strong,{children:"Web"})," > ",(0,n.jsx)(a.strong,{children:"Funciones web"}),'" de la configuraci\xf3n de la estructura especifica un grupo de usuarios 4D que est\xe1 autorizado para establecer el enlace con la aplicaci\xf3n 4D utilizando las consultas REST.']}),"\n",(0,n.jsxs)(a.p,{children:["Por defecto, el men\xfa muestra ",(0,n.jsx)(a.code,{children:"\\<Anyone>"}),", lo que significa que los accesos REST est\xe1n abiertos a todos los usuarios. Una vez que haya especificado un grupo, s\xf3lo una cuenta de usuario de 4D que pertenezca a este grupo podr\xe1 ser utilizada para ",(0,n.jsx)(a.a,{href:"/docs/es/20-R5/REST/authUsers",children:"acceder a 4D mediante una petici\xf3n REST"}),". Si se utiliza una cuenta que no pertenece a este grupo, 4D devuelve un error de autenticaci\xf3n al remitente de la petici\xf3n."]}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:["Para que esta configuraci\xf3n tenga efecto, el m\xe9todo base",(0,n.jsx)(a.code,{children:"On REST Authentication"})," no debe estar definido. Si existe, 4D ignora los par\xe1metros de acceso definidos en las propiedades de la estructura."]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"m\xe9todo-base-on-rest-authentication",children:"M\xe9todo base On REST Authentication"}),"\n",(0,n.jsxs)(a.p,{children:["El m\xe9todo base ",(0,n.jsx)(a.code,{children:"On REST Authentication"})," le ofrece una forma personalizada de controlar la apertura de sesiones REST en 4D. Este m\xe9todo base se llama autom\xe1ticamente cuando se abre una nueva sesi\xf3n a trav\xe9s de una solicitud REST. Cuando se recibe una ",(0,n.jsx)(a.a,{href:"/docs/es/20-R5/REST/authUsers",children:"solicitud para abrir una sesi\xf3n REST"}),", los identificadores de conexi\xf3n se ofrecen en el encabezado de la solicitud. Se llama al m\xe9todo base ",(0,n.jsx)(a.code,{children:"On REST Authentication"})," para poder evaluar estos identificadores. Puede utilizar la lista de usuarios de la aplicaci\xf3n 4D o puede utilizar su propia tabla de identificadores.\nPara m\xe1s informaci\xf3n, consulte la ",(0,n.jsx)(a.a,{href:"https://doc.4d.com/4Dv18/4D/18/On-REST-Authentication-database-method.301-4505004.en.html",children:"documentaci\xf3n"})," del m\xe9todo base ",(0,n.jsx)(a.code,{children:"On REST Authentication"}),"."]}),"\n",(0,n.jsx)(a.h2,{id:"exponer-tablas-y-campos",children:"Exponer tablas y campos"}),"\n",(0,n.jsxs)(a.p,{children:["Una vez activados los servicios REST en la aplicaci\xf3n 4D, por defecto una sesi\xf3n REST puede acceder a todas las tablas y campos de la base de datos 4D a trav\xe9s de la ",(0,n.jsx)(a.a,{href:"/docs/es/20-R5/ORDA/dsmapping#datastore",children:"interfaz del datastore"}),". As\xed, puede utilizar sus datos. Por ejemplo, si su base de datos contiene una tabla [Employee], es posible escribir:"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:'http://127.0.0.1:8044/rest/Employee/?$filter="salary>10000"\n\n'})}),"\n",(0,n.jsx)(a.p,{children:"Esta petici\xf3n devolver\xe1 todos los empleados cuyo campo de salario sea superior a 10000."}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:'Las tablas y/o campos 4D que tienen el atributo "Invisible" tambi\xe9n se exponen en REST por defecto.'}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Si desea personalizar los objetos del datastore accesibles a trav\xe9s de REST, debe desactivar la exposici\xf3n de cada tabla y/o campo que desee ocultar. Cuando una petici\xf3n REST intenta acceder a un recurso no autorizado, 4D devuelve un error."}),"\n",(0,n.jsx)(a.h3,{id:"exponer-las-tablas",children:"Exponer las tablas"}),"\n",(0,n.jsx)(a.p,{children:"Por defecto, todas las tablas se exponen en REST."}),"\n",(0,n.jsx)(a.p,{children:"Por razones de seguridad, es posible que desee exponer s\xf3lo ciertas tablas de su almac\xe9n de datos a las llamadas REST. Por ejemplo, si ha creado una tabla [Users] que almacena los nombres de usuario y las contrase\xf1as, ser\xeda mejor no exponerla."}),"\n",(0,n.jsx)(a.p,{children:"Para eliminar la exposici\xf3n REST de una tabla:"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Visualice el inspector de tablas en el editor de estructuras y seleccione la tabla que desea modificar."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Desmarque la opci\xf3n ",(0,n.jsx)(a.strong,{children:"Exponer como recurso REST"}),":\n",(0,n.jsx)(a.img,{alt:"alt-text",src:s(301848).A+"",width:"279",height:"330"}),"\nHaga esto para cada tabla cuya exposici\xf3n deba modificarse."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"exponer-los-campos",children:"Exponer los campos"}),"\n",(0,n.jsx)(a.p,{children:"Por defecto, todos los campos de una base 4D se exponen en REST."}),"\n",(0,n.jsx)(a.p,{children:"Es posible que no quiera exponer ciertos campos de sus tablas a REST. Por ejemplo, es posible que no quiera exponer el campo [Employees]Salary."}),"\n",(0,n.jsx)(a.p,{children:"Para eliminar la exposici\xf3n REST de un campo:"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Visualice el inspector de campo en el editor de estructuras y seleccione el campo a modificar."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Desmarque la opci\xf3n ",(0,n.jsx)(a.strong,{children:"Exponer como recurso REST"})," para el campo.\n",(0,n.jsx)(a.img,{alt:"alt-text",src:s(433520).A+"",width:"279",height:"271"}),"\nRepeat this for each field whose exposure needs to be modified."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:"Para que un campo sea accesible a trav\xe9s de REST, la tabla padre tambi\xe9n debe serlo. Si la tabla padre no est\xe1 expuesta, ninguno de sus campos lo estar\xe1, independientemente de su estado."}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"modo-apropiativo",children:"Modo apropiativo"}),"\n",(0,n.jsxs)(a.p,{children:["En 4D Server, las peticiones REST se gestionan autom\xe1ticamente a trav\xe9s de procesos apropiativos, ",(0,n.jsx)(a.strong,{children:"incluso en modo interpretado"}),". Debe asegurarse de que su c\xf3digo es ",(0,n.jsx)(a.a,{href:"/docs/es/20-R5/WebServer/preemptiveWeb#writing-thread-safe-web-server-code",children:"compatible con una ejecuci\xf3n apropiativa"}),"."]}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:["Para depurar el c\xf3digo web interpretado en la m\xe1quina del servidor, aseg\xfarese de que el depurador est\xe1 ",(0,n.jsx)(a.a,{href:"/docs/es/20-R5/Debugging/debugging-remote",children:"adjuntado al servidor"})," o [a una m\xe1quina remota](../Debugging/debugging-remote.md#attaching-the-debugger-to-a-remote-4 Los procesos web pasan entonces al modo cooperativo y se puede depurar el c\xf3digo del servidor web."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Con 4D monopuesto, el c\xf3digo interpretado siempre se ejecuta en modo cooperativo."})]})}function u(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},221020:(e,a,s)=>{var n=s(296540),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,t=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,a,s){var n,r={},d=null,l=null;for(n in void 0!==s&&(d=""+s),void 0!==a.key&&(d=""+a.key),void 0!==a.ref&&(l=a.ref),a)i.call(a,n)&&!c.hasOwnProperty(n)&&(r[n]=a[n]);if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===r[n]&&(r[n]=a[n]);return{$$typeof:o,type:e,key:d,ref:l,props:r,_owner:t.current}}a.Fragment=r,a.jsx=d,a.jsxs=d},474848:(e,a,s)=>{e.exports=s(221020)},269501:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/Settings-934d69d2618fdc41073c2f25c38ea3a6.png"},433520:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/field-4db67392f4a6381fd75a7ba294943b5b.png"},301848:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/table-1c946003f2068cb28b604481145c98a8.png"},28453:(e,a,s)=>{s.d(a,{R:()=>i,x:()=>t});var n=s(296540);const o={},r=n.createContext(o);function i(e){const a=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),n.createElement(r.Provider,{value:a},e.children)}}}]);