"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["13248"],{330682:function(e,n,r){r.r(n),r.d(n,{default:()=>u,frontMatter:()=>t,metadata:()=>s,assets:()=>i,toc:()=>d,contentTitle:()=>o});var s=JSON.parse('{"id":"commands-legacy/parse-formula","title":"Parse formula","description":"Parse formula ( formula {; opciones}{; mensajeError} ) : Text","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/parse-formula.md","sourceDirName":"commands-legacy","slug":"/commands/parse-formula","permalink":"/docs/es/20-R7/commands/parse-formula","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fparse-formula.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"parse-formula","title":"Parse formula","slug":"/commands/parse-formula","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"GET ALLOWED METHODS","permalink":"/docs/es/20-R7/commands/get-allowed-methods"},"next":{"title":"SET ALLOWED METHODS","permalink":"/docs/es/20-R7/commands/set-allowed-methods"}}'),a=r("785893"),l=r("250065");let t={id:"parse-formula",title:"Parse formula",slug:"/commands/parse-formula",displayed_sidebar:"docs"},o=void 0,i={},d=[{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Ejemplo 1",id:"ejemplo-1",level:4},{value:"Ejemplo 2",id:"ejemplo-2",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n",level:4},{value:"Propiedades",id:"propiedades",level:4}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Parse formula"})," ( ",(0,a.jsx)(n.em,{children:"formula"})," {; ",(0,a.jsx)(n.em,{children:"opciones"}),"}{; ",(0,a.jsx)(n.em,{children:"mensajeError"}),"} ) : Text"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Par\xe1metro"}),(0,a.jsx)(n.th,{children:"Tipo"}),(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"formula"}),(0,a.jsx)(n.td,{children:"Text"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"F\xf3rmula de texto sin formato"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"opciones"}),(0,a.jsx)(n.td,{children:"Integer"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Instrucciones para entrada/salida"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"mensajeError"}),(0,a.jsx)(n.td,{children:"Text"}),(0,a.jsx)(n.td,{children:"\u2190"}),(0,a.jsx)(n.td,{children:"Mensaje de error (cadena vac\xeda si no hay error)"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Resultado"}),(0,a.jsx)(n.td,{children:"Text"}),(0,a.jsx)(n.td,{children:"\u2190"}),(0,a.jsx)(n.td,{children:"F\xf3rmula transformada (texto sin formato)"})]})]})]}),"\n",(0,a.jsx)(n.h4,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,a.jsxs)(n.p,{children:["La funci\xf3n ",(0,a.jsx)(n.strong,{children:"Parse formula"})," analiza la ",(0,a.jsx)(n.em,{children:"formula"})," 4D, verifica su sintaxis y devuelve su formula normalizada. Esto permite que la f\xf3rmula siga siendo v\xe1lida en el caso de que se cambie el nombre de un lenguaje 4D o elemento de estructura (comando, constante, tabla, campo o Plugin 4D)."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Parse formula"})," se puede usar para evaluar y traducir f\xf3rmulas de la siguiente manera:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Los nombres reales de tabla/campo se pueden convertir a nombres de estructura* virtual (nombres personalizados) o equivalentes tokenizados **"}),"\n",(0,a.jsx)(n.li,{children:"Los equivalentes de tabla/campo tokenizados se pueden convertir a nombres de estructura virtual o nombres reales de tabla/campo"}),"\n",(0,a.jsx)(n.li,{children:"Las estructuras virtuales se pueden convertir a nombres reales de tabla/campo o equivalentes simb\xf3licos"}),"\n",(0,a.jsx)(n.li,{children:"Los elementos de lenguaje 4D se pueden convertir a equivalentes de lenguaje 4D tokenizados"}),"\n",(0,a.jsx)(n.li,{children:"Los equivalentes del lenguaje 4D tokenizados se pueden convertir a elementos de lenguaje 4D"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"*"})," *",(0,a.jsxs)(n.em,{children:["Las estructuras virtuales se definen utilizando los comandos ",(0,a.jsx)(n.a,{href:"/docs/es/20-R7/commands/set-table-titles",children:"SET TABLE TITLES"})," y ",(0,a.jsx)(n.a,{href:"/docs/es/20-R7/commands/set-field-titles",children:"SET FIELD TITLES"})," (*"]})," *",(0,a.jsx)(n.em,{children:"par\xe1metro requerido)."})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"**"})," *",(0,a.jsx)(n.em,{children:"Los equivalentes tokenizados son elementos"})," *",(0,a.jsx)(n.em,{children:"de estructura"})," ",(0,a.jsx)(n.em,{children:"y del lenguaje 4D en texto sin formato expresados \u200B\u200Bcon la sintaxis del token, como se muestra a continuaci\xf3n (consulte tambi\xe9n"})," ",(0,a.jsx)(n.em,{children:"Utilizar tokens en f\xf3rmulas):"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-RAW",children:"[Table:1]Field:1+String:C10(1)\n"})}),"\n",(0,a.jsxs)(n.p,{children:["En ",(0,a.jsx)(n.em,{children:"formula"}),", pase una f\xf3rmula en texto sin formato. Puede usar nombres de estructuras reales o virtuales, as\xed como equivalentes tokenizados."]}),"\n",(0,a.jsxs)(n.p,{children:["Sin importar los tipos de nombre utilizados en ",(0,a.jsx)(n.em,{children:"formula"}),", por defecto ",(0,a.jsx)(n.strong,{children:"Parse formula"})," devuelve el lenguaje 4D real o los nombres de los elementos de la estructura sin tokens de texto."]}),"\n",(0,a.jsxs)(n.p,{children:["El par\xe1metro opcional ",(0,a.jsx)(n.em,{children:"opciones"})," le permite especificar c\xf3mo se expresa y/o se devuelve ",(0,a.jsx)(n.em,{children:"formula"})," utilizando las siguientes constantes del tema ",(0,a.jsx)(n.em,{children:"F\xf3rmulas"}),". Puede combinar constantes para designar tanto el formato de entrada como el de salida de la f\xf3rmula devuelta."]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Constante"}),(0,a.jsx)(n.th,{children:"Valor"}),(0,a.jsx)(n.th,{children:"Comentario"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Formula in with virtual structure"}),(0,a.jsx)(n.td,{children:"1"}),(0,a.jsx)(n.td,{children:"La f\xf3rmula contiene nombres personalizados (virtual). Por defecto, la f\xf3rmula devuelta contiene nombres reales."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Formula out with virtual structure"}),(0,a.jsx)(n.td,{children:"2"}),(0,a.jsx)(n.td,{children:"La f\xf3rmula devuelta debe contener nombres personalizados (virtual)."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Formula out with tokens"}),(0,a.jsx)(n.td,{children:"4"}),(0,a.jsx)(n.td,{children:"La f\xf3rmula devuelta debe contener texto tokenizado (por ejemplo: Cxx)."})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:["El par\xe1metro opcional ",(0,a.jsx)(n.em,{children:"mensajeE"})," ",(0,a.jsx)(n.em,{children:"rror"})," recibir\xe1 un mensaje de error si hay un error de sintaxis en ",(0,a.jsx)(n.em,{children:"formula"}),". Si no hay ning\xfan error, se devolver\xe1 una cadena vac\xeda."]}),"\n",(0,a.jsx)(n.h4,{id:"ejemplo-1",children:"Ejemplo 1"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY TEXT($t1;1)\n\xa0ARRAY LONGINT($t2;1)\n\xa0$t1{1}:="Virtual table"\n\xa0$t2{1}:=1\n\xa0SET TABLE TITLES($t1;$t2;*)\n\xa0\n\xa0ARRAY TEXT($tf1;1)\n\xa0ARRAY LONGINT($tf2;1)\n\xa0$tf1{1}:="Virtual field"\n\xa0$tf2{1}:=2\n\xa0SET FIELD TITLES([Table_1];$tf1;$tf2;*)\n\xa0\n\xa0\xa0//Estructura virtual para tabla y nombre de campo equivalente\n\xa0$parsedFormula:=Parse formula("[Virtual table]Virtual field";Formula in with virtual structure;$errorMessage)\n\xa0\xa0//return [Table_1]Field_2\n\xa0\n\xa0\xa0//Nombre de tabla y campo para equivalente de estructura virtual\n\xa0$parsedFormula:=Parse formula("[Table_1]Field_2";Formula out with virtual structure;$errorMessage)\n\xa0\xa0//return [Virtual table]Virtual field\n\xa0\n\xa0\xa0//Tabla y nombre de campo para el formulario tokenizado equivalente\n\xa0$parsedFormula:=Parse formula("String([Table_1]Field_2)";Formula out with tokens;$errorMessage)\n\xa0\xa0//return String:C10([Table_1:1]Field_2:2)\n\xa0\n\xa0\n'})}),"\n",(0,a.jsx)(n.h4,{id:"ejemplo-2",children:"Ejemplo 2"}),"\n",(0,a.jsxs)(n.p,{children:["Utilizando las tablas del ",(0,a.jsx)(n.strong,{children:"Ejemplo 1"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0//pide al usuario que escriba su f\xf3rmula favorita\n\xa0$formula:=""\n\xa0EDIT FORMULA([Table_1];$formula)\n\xa0\n\xa0\xa0//guarda la f\xf3rmula del usuario para un uso posterior\n\xa0CREATE RECORD([users_preferences])\n\xa0$persistentFormula:=Parse formula($formula;Formula out with tokens)\n\xa0[users_preferences]formula:=$persistentFormula\n\xa0\n\xa0\xa0//luego: ejecuta la f\xf3rmula guardada anteriormente\n\xa0CREATE RECORD([Table_1])\n\xa0EXECUTE FORMULA([users_preferences]formula)\n'})}),"\n",(0,a.jsx)(n.h4,{id:"ver-tambi\xe9n",children:"Ver tambi\xe9n"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"formula-from-string.md",children:"Formula from string"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/es/20-R7/commands/set-field-titles",children:"SET FIELD TITLES"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/es/20-R7/commands/set-table-titles",children:"SET TABLE TITLES"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.em,{children:"Utilizar tokens en f\xf3rmulas"})]}),"\n",(0,a.jsx)(n.h4,{id:"propiedades",children:"Propiedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"N\xfamero de comando"}),(0,a.jsx)(n.td,{children:"1576"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Hilo seguro"}),(0,a.jsx)(n.td,{children:"\u2717"})]})]})]})]})}function u(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return o},a:function(){return t}});var s=r(667294);let a={},l=s.createContext(a);function t(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);