"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["4747"],{805319:function(e,n,a){a.r(n),a.d(n,{frontMatter:()=>i,toc:()=>d,default:()=>u,metadata:()=>t,assets:()=>o,contentTitle:()=>r});var t=JSON.parse('{"id":"ORDA/orda-events","title":"Eventos de entidad","description":"Historia","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R10/ORDA/orda-events.md","sourceDirName":"ORDA","slug":"/ORDA/orda-events","permalink":"/docs/es/20-R10/ORDA/orda-events","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20ORDA%2Forda-events.md%20(20-R10)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R10","frontMatter":{"id":"orda-events","title":"Eventos de entidad"},"sidebar":"docs","previous":{"title":"Trabajar con los datos","permalink":"/docs/es/20-R10/ORDA/entities"},"next":{"title":"Utilizando el sello global","permalink":"/docs/es/20-R10/ORDA/global-stamp"}}'),s=a(474848),l=a(884429);let i={id:"orda-events",title:"Eventos de entidad"},r,o={},d=[{value:"Generalidades",id:"generalidades",level:2},{value:"Nivel del evento",id:"nivel-del-evento",level:3},{value:"Ejecuci\xf3n en configuraciones remotas",id:"ejecuci\xf3n-en-configuraciones-remotas",level:3},{value:"Tabla resumen",id:"tabla-resumen",level:3},{value:"Par\xe1metro <em>event</em>",id:"par\xe1metro-event",level:2},{value:"Descripci\xf3n de las funciones",id:"descripci\xf3n-de-las-funciones",level:2},{value:"<code>Function event touched</code>",id:"function-event-touched",level:3},{value:"Sintaxis",id:"sintaxis",level:4},{value:"Ejemplo 1",id:"ejemplo-1",level:4},{value:"Ejemplo 2",id:"ejemplo-2",level:4},{value:"Ejemplo 3 (diagrama): cliente/servidor con la palabra clave <code>local</code>:",id:"ejemplo-3-diagrama-clienteservidor-con-la-palabra-clave-local",level:4},{value:"Ejemplo 4 (diagrama): cliente/servidor sin la palabra clave <code>local</code>",id:"ejemplo-4-diagrama-clienteservidor-sin-la-palabra-clave-local",level:4},{value:"Ejemplo 5 (diagrama): Aplicaci\xf3n Qodly",id:"ejemplo-5-diagrama-aplicaci\xf3n-qodly",level:4}];function c(e){let n={a:"a",admonition:"admonition",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.details,{children:[(0,s.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Lanzamiento"}),(0,s.jsx)(n.th,{children:"Modificaciones"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"20 R10"}),(0,s.jsx)(n.td,{children:"se ha a\xf1adido un evento touched"})]})})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Los eventos de entidad son funciones que ORDA invoca autom\xe1ticamente cada vez que las entidades y los atributos de entidad se manipulan (a\xf1aden, eliminan o modifican). Puede escribir eventos muy sencillos y luego hacerlos m\xe1s sofisticados."}),"\n",(0,s.jsx)(n.p,{children:"No se puede activar directamente la ejecuci\xf3n de la funci\xf3n de evento. Los eventos son llamados autom\xe1ticamente por ORDA bas\xe1ndose en las acciones del usuario o en las operaciones realizadas mediante c\xf3digo sobre las entidades y sus atributos."}),"\n",(0,s.jsx)(n.admonition,{title:"Nota de compatibilidad",type:"info",children:(0,s.jsx)(n.p,{children:"Los eventos de entidad ORDA en el almacen de datos equivalen a triggers en la base de datos 4D. Sin embargo, las acciones desencadenadas a nivel de la base de datos 4D utilizando los comandos del lenguaje cl\xe1sico 4D o las acciones est\xe1ndar no desencadenan eventos ORDA."})}),"\n",(0,s.jsx)(n.h2,{id:"generalidades",children:"Generalidades"}),"\n",(0,s.jsx)(n.h3,{id:"nivel-del-evento",children:"Nivel del evento"}),"\n",(0,s.jsxs)(n.p,{children:["Una funci\xf3n de evento de entidad se define siempre en la ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#entity-class",children:"clase Entity"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Un evento puede definirse al nivel de la ",(0,s.jsx)(n.strong,{children:"entidad"})," y/o a nivel del ",(0,s.jsx)(n.strong,{children:"atributo"})," (incluye los ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#computed-attributes",children:(0,s.jsx)(n.strong,{children:"atributos calculados"})}),"). En el primer caso, se activar\xe1 para cualquier atributo de la entidad; en el otro caso, s\xf3lo se activar\xe1 para el atributo objetivo."]}),"\n",(0,s.jsx)(n.p,{children:"Para un mismo evento, puede definir diferentes funciones para diferentes atributos."}),"\n",(0,s.jsx)(n.p,{children:"Tambi\xe9n puede definir el mismo evento tanto a nivel del atributo como de la entidad. El evento atributo se llama primero y luego el evento entidad."}),"\n",(0,s.jsx)(n.h3,{id:"ejecuci\xf3n-en-configuraciones-remotas",children:"Ejecuci\xf3n en configuraciones remotas"}),"\n",(0,s.jsx)(n.p,{children:"Normalmente, los eventos ORDA se ejecutan en el servidor."}),"\n",(0,s.jsxs)(n.p,{children:["Sin embargo, en la configuraci\xf3n cliente/servidor, la funci\xf3n de evento ",(0,s.jsx)(n.code,{children:"touched()"})," puede ejecutarse en el ",(0,s.jsx)(n.strong,{children:"servidor o en el cliente"}),", dependiendo del uso de la palabra clave ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#local-functions",children:(0,s.jsx)(n.code,{children:"local"})}),". Una implementaci\xf3n espec\xedfica en el lado del cliente permite la activaci\xf3n del evento en el cliente."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Las funciones ORDA ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#class-constructor",children:(0,s.jsx)(n.code,{children:"constructor()"})})," se ejecutan siempre en el cliente."]})}),"\n",(0,s.jsxs)(n.p,{children:["Con otras configuraciones remotas (p. ej. Qodly applications, ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/REST/REST_requests",children:"REST API requests"}),", or requests through ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/commands/open-datastore",children:(0,s.jsx)(n.code,{children:"Open datastore"})}),"), the ",(0,s.jsx)(n.code,{children:"touched()"})," event function is always executed ",(0,s.jsx)(n.strong,{children:"server-side"}),'. Esto significa que tiene que asegurarse de que el servidor puede "ver" que se ha tocado un atributo para activar el evento (ver abajo).']}),"\n",(0,s.jsx)(n.h3,{id:"tabla-resumen",children:"Tabla resumen"}),"\n",(0,s.jsx)(n.p,{children:"La siguiente tabla lista los eventos de entidad ORDA junto con sus reglas."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Evento"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Nivel"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Nombre de la funci\xf3n"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"(C/S) Ejecutado en"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Instanciaci\xf3n de entidades"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Entity"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#class-constructor-1",children:(0,s.jsx)(n.code,{children:"constructor()"})})}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"client"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Atributo tocado"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Atributo"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"event touched <attrName>()"})}),(0,s.jsxs)(n.td,{style:{textAlign:"center"},children:["Depende de la palabra clave ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#local-functions",children:(0,s.jsx)(n.code,{children:"local"})})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"}}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Entity"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"event touched()"})}),(0,s.jsxs)(n.td,{style:{textAlign:"center"},children:["Depende de la palabra clave ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#local-functions",children:(0,s.jsx)(n.code,{children:"local"})})]})]})]})]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["La funci\xf3n ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#class-constructor-1",children:(0,s.jsx)(n.code,{children:"constructor()"})})," no es realmente una funci\xf3n de evento, pero siempre es llamada cuando una nueva entidad es instanciada."]})}),"\n",(0,s.jsxs)(n.h2,{id:"par\xe1metro-event",children:["Par\xe1metro ",(0,s.jsx)(n.em,{children:"event"})]}),"\n",(0,s.jsxs)(n.p,{children:["Las funciones de evento aceptan un \xfanico objeto ",(0,s.jsx)(n.em,{children:"event"})," como par\xe1metro. Cuando se llama a la funci\xf3n, el par\xe1metro se llena con varias propiedades:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Nombre de propiedad"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Disponibilidad"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Tipo"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Descripci\xf3n"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"kind"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"siempre"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:'Nombre del evento ("touched")'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.em,{children:"attributeName"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"S\xf3lo para eventos que involucran un atributo"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:'Nombre del atributo (por ejemplo, "nombre")'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.em,{children:"dataClassName"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"siempre"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Nombre de la Dataclass (",(0,s.jsx)(n.em,{children:"ej."}),' "Company")']})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"descripci\xf3n-de-las-funciones",children:"Descripci\xf3n de las funciones"}),"\n",(0,s.jsx)(n.h3,{id:"function-event-touched",children:(0,s.jsx)(n.code,{children:"Function event touched"})}),"\n",(0,s.jsx)(n.h4,{id:"sintaxis",children:"Sintaxis"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:"{local} Function event touched($event : Object)\n{local} Function event touched <attributeName>($event : Object)\n// c\xf3digo\n"})}),"\n",(0,s.jsx)(n.p,{children:"Este evento se activa cada vez que se modifica un valor en la entidad."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"if you defined the function at the entity level (first syntax), it is triggered for modifications on any attribute of the entity."}),"\n",(0,s.jsx)(n.li,{children:"si ha definido la funci\xf3n en el nivel de atributo (segunda sintaxis), se activa s\xf3lo para modificaciones en este atributo."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Este evento se activa tan pronto como el motor de 4D Server / 4D detecta una modificaci\xf3n del valor del atributo que puede deberse a las siguientes acciones:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["en ",(0,s.jsxs)(n.strong,{children:["cliente/servidor con la ",(0,s.jsxs)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#local-functions",children:["palabra clave ",(0,s.jsx)(n.code,{children:"local"})]})]})," o en ",(0,s.jsx)(n.strong,{children:"4D monousuario"}),":\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"el usuario define un valor en un formulario 4D,"}),"\n",(0,s.jsxs)(n.li,{children:["el c\xf3digo 4D realiza una asignaci\xf3n con el operador ",(0,s.jsx)(n.code,{children:":="}),". El evento tambi\xe9n se activa en caso de autoasignaci\xf3n (",(0,s.jsx)(n.code,{children:"$entity.attribute:=$entity.attribute"}),")."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["en ",(0,s.jsxs)(n.strong,{children:["cliente/servidor sin la palabra clave ",(0,s.jsx)(n.code,{children:"local"})]}),": alg\xfan c\xf3digo 4D que hace una asignaci\xf3n con el operador ",(0,s.jsx)(n.code,{children:":="})," es ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/commands/execute-on-server",children:"ejecutado en el servidor"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["in ",(0,s.jsxs)(n.strong,{children:["client/server without the ",(0,s.jsx)(n.code,{children:"local"})," keyword"]}),", in ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://developer.qodly.com/docs",children:"Qodly application"})})," and ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/es/20-R10/commands/open-datastore",children:"remote datastore"})}),": the entity is received on 4D Server while calling an ORDA function (on the entity or with the entity as parameter). Significa que puede que tenga que implementar una funci\xf3n ",(0,s.jsx)(n.em,{children:"refresh"})," o ",(0,s.jsx)(n.em,{children:"preview"})," en la aplicaci\xf3n remota que env\xeda una petici\xf3n ORDA al servidor y activa el evento."]}),"\n",(0,s.jsxs)(n.li,{children:["con el servidor REST: el valor es recibido en el servidor REST con una ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/REST/method#methodupdate",children:"petici\xf3n REST"})," (",(0,s.jsx)(n.code,{children:"$method=update"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["La funci\xf3n recibe un ",(0,s.jsxs)(n.a,{href:"#event-parameter",children:["objeto ",(0,s.jsx)(n.em,{children:"event"})]})," como par\xe1metro."]}),"\n",(0,s.jsxs)(n.p,{children:["Si este evento ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/commands/throw",children:"genera un error"}),", no detendr\xe1 la acci\xf3n en curso."]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.p,{children:"Este evento tambi\xe9n se activa:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["cuando los atributos son asignados por el evento ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#class-constructor-1",children:(0,s.jsx)(n.code,{children:"constructor()"})}),","]}),"\n",(0,s.jsxs)(n.li,{children:["cuando los atributos son editados a trav\xe9s del ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/Admin/dataExplorer",children:"Explorador de datos"}),"."]}),"\n"]})]}),"\n",(0,s.jsx)(n.h4,{id:"ejemplo-1",children:"Ejemplo 1"}),"\n",(0,s.jsx)(n.p,{children:"Quiere en may\xfasculas todos los atributos de texto de una entidad cuando se actualiza."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:"    //ProductsEntity class\nFunction event touched($event : Object)\n	\n	If (Value type(This[$event.attributeName])=Is text)\n		This[$event.attributeName]:=Uppercase(This[$event.attributeName])\n	End if \n"})}),"\n",(0,s.jsx)(n.h4,{id:"ejemplo-2",children:"Ejemplo 2"}),"\n",(0,s.jsxs)(n.p,{children:['El evento "touched" es \xfatil cuando no es posible escribir c\xf3digo de consulta indexada en ',(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#function-query-attributename",children:(0,s.jsx)(n.code,{children:"Function query()"})})," para un ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#computed-attributes",children:"atributo calculado"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Este es el caso, por ejemplo, cuando tu funci\xf3n ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#function-query-attributename",children:(0,s.jsx)(n.code,{children:"query"})})," tiene que comparar el valor de diferentes atributos de la misma entidad entre s\xed. Debe usar f\xf3rmulas en la consulta ORDA devuelta, que activa consultas secuenciales."]}),"\n",(0,s.jsx)(n.p,{children:"Para entender plenamente este caso, examinemos los siguientes dos atributos calculados:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:"Function get onGoing() : Boolean\n        return ((This.departureDate<=Current date) & (This.arrivalDate>=Current date))\n\nFunction get sameDay() : Boolean\n        return (This.departureDate=This.arrivalDate)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Aunque son muy similares, estas funciones no pueden ser asociadas con consultas id\xe9nticas porque no comparan los mismos tipos de valores. La primera compara los atributos a un valor determinado, mientras que la segunda compara los atributos entre s\xed."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Para el atributo ",(0,s.jsx)(n.em,{children:"onGoing"}),", la funci\xf3n ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#function-query-attributename",children:(0,s.jsx)(n.code,{children:"query"})})," es sencilla de escribir y utiliza atributos indexados:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'Function query onGoing($event : Object) : Object\n    var $operator : Text\n    var $myQuery : Text\n    var $onGoingValue : Boolean\n    var $parameters : Collection\n    $parameters:=New collection()\n\n    $operator:=$event.operator\n    Case of \n            : (($operator="=") | ($operator="==") | ($operator="==="))\n                $onGoingValue:=Bool($event.value)\n            : (($operator="!=") | ($operator="!=="))\n                $onGoingValue:=Not(Bool($event.value))\n            Else \n                return {query: ""; parameters: $parameters}\n    End case \n\n    $myQuery:=($onGoingValue) ? "departureDate <= :1 AND arrivalDate >= :1" : "departureDate > :1 OR arrivalDate < :1"\n        // la cadena de consulta ORDA utiliza atributos indexados, se indexar\xe1\n    $parameters.push(Current date)\n    return {query: $myQuery; parameters: $parameters}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Para el atributo ",(0,s.jsx)(n.em,{children:"sameDay"}),", la funci\xf3n ",(0,s.jsx)(n.a,{href:"/docs/es/20-R10/ORDA/ordaClasses#function-query-attributename",children:(0,s.jsx)(n.code,{children:"query"})})," requiere una consulta ORDA basada en f\xf3rmulas y ser\xe1 secuencial:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:'Function query sameDay($event : Object) : Text\n    var $operator : Text\n    var $sameDayValue : Boolean\n\n    $operator:=$event.operator\n    Case of \n        : (($operator="=") | ($operator="==") | ($operator="==="))\n            $sameDayValue:=Bool($event.value)\n        : (($operator="!=") | ($operator="!=="))\n            $sameDayValue:=Not(Bool($event.value))\n        Else \n            return ""\n        End case \n\n    return ($sameDayValue) ? "eval(This.departureDate = This.arrivalDate)" : "eval(This.departureDate != This.arrivalDate)"\n        // la cadena de consulta ORDA utiliza una f\xf3rmula, no ser\xe1 indexada\n\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Using a ",(0,s.jsx)(n.strong,{children:"scalar"})," ",(0,s.jsx)(n.em,{children:"sameDay"}),' attribute updated when other attributes are "touched" will save time:']}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-4d",children:"    //BookingEntity class\n\nFunction event touched departureDate($event : Object) \n\n    This.sameDay:=(This.departureDate = This.arrivalDate) \n//\n//\nFunction event touched arrivalDate($event : Object) \n\n    This.sameDay:=(This.departureDate = This.arrivalDate)\n\n"})}),"\n",(0,s.jsxs)(n.h4,{id:"ejemplo-3-diagrama-clienteservidor-con-la-palabra-clave-local",children:["Ejemplo 3 (diagrama): cliente/servidor con la palabra clave ",(0,s.jsx)(n.code,{children:"local"}),":"]}),"\n",(0,s.jsx)(n.mermaid,{value:'\nsequenceDiagram\n\n    Client->>+Server: $people:=ds.People.all().first()\n\n    Client->>+Client: $people.lastname:="Brown"\n   Note over Client: local Function event touched lastname($event : Object) <br>  This.lastname:=Uppercase(This.lastname)\n\nNote over Client:$people.lastname is uppercased\n\n    Client->>+Server: $people.apply()\n   \n   Note over Server: The $people entity is received with the lastname attribute uppercased\n'}),"\n",(0,s.jsxs)(n.h4,{id:"ejemplo-4-diagrama-clienteservidor-sin-la-palabra-clave-local",children:["Ejemplo 4 (diagrama): cliente/servidor sin la palabra clave ",(0,s.jsx)(n.code,{children:"local"})]}),"\n",(0,s.jsx)(n.mermaid,{value:'\nsequenceDiagram\n\n    Client->>+Server: $people:=ds.People.all().first()\n\n    Client->>+Client: $people.lastname:="Brown"\n\n   Note over Client:$people.lastname is not uppercased\n\n    Client->>+Server: $people.apply()\n\n   Note over Server: Function event touched lastname($event : Object) <br>  This.lastname:=Uppercase(This.lastname)\n\n    Server--\x3e>-Client: The $people entity is updated\n\n   Note over Client:$people.lastname is uppercased\n\n'}),"\n",(0,s.jsx)(n.h4,{id:"ejemplo-5-diagrama-aplicaci\xf3n-qodly",children:"Ejemplo 5 (diagrama): Aplicaci\xf3n Qodly"}),"\n",(0,s.jsx)(n.mermaid,{value:"\nsequenceDiagram\n\nQodly page->>+ Server: Get an entity into the People Qodly source\n\nQodly page->>+Qodly page: The user updates People.lastname\n\nNote over Qodly page: The People Qodly source lastname attribute is not uppercased\n\nQodly page->>+ Server: Function call People.apply()\n\nNote over Server: Function event touched lastname($event : Object) <br> This.lastname:=Uppercase(This.lastname)\n\nServer--\x3e>-Qodly page: The People Qodly source is updated\nNote over Qodly page: The People Qodly source lastname attribute is uppercased\n\n"})]})}function u(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},884429:function(e,n,a){a.d(n,{R:()=>i,x:()=>r});var t=a(296540);let s={},l=t.createContext(s);function i(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);