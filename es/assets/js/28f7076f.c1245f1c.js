"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["90942"],{988444:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>l,default:()=>h,toc:()=>a,metadata:()=>i,assets:()=>c,contentTitle:()=>o});var i=JSON.parse('{"id":"API/SessionClass","title":"Session","description":"Los objetos de sesi\xf3n son devueltos por el comando Session. Estos objetos ofrecen al desarrollador una interfaz que permite gestionar la sesi\xf3n de usuario actual y ejecutar acciones como almacenar datos contextuales, compartir informaci\xf3n entre procesos de sesi\xf3n, lanzar procesos preferentes relacionados con la sesi\xf3n o (s\xf3lo web) gestionar privilegios.","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R9/API/SessionClass.md","sourceDirName":"API","slug":"/API/SessionClass","permalink":"/docs/es/20-R9/API/SessionClass","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSessionClass.md%20(20-R9)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R9","frontMatter":{"id":"SessionClass","title":"Session"},"sidebar":"docs","previous":{"title":"POP3Transporter","permalink":"/docs/es/20-R9/API/POP3TransporterClass"},"next":{"title":"Signal","permalink":"/docs/es/20-R9/API/SignalClass"}}'),r=s(785893),d=s(250065);let l={id:"SessionClass",title:"Session"},o=void 0,c={},a=[{value:"Tipos de sesiones",id:"tipos-de-sesiones",level:3},{value:"Resumen",id:"resumen",level:3},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Ejemplo",id:"ejemplo",level:4},{value:".createOTP()",id:"createotp",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:"Ejemplo",id:"ejemplo-1",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:"Ejemplo",id:"ejemplo-2",level:4},{value:".getPrivileges()",id:"getprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4},{value:"Ejemplo",id:"ejemplo-3",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:4},{value:"Ejemplo",id:"ejemplo-4",level:4},{value:".id",id:"id",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-5",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-6",level:4},{value:"Ejemplo",id:"ejemplo-5",level:4},{value:".info",id:"info",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-7",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-8",level:4},{value:"Ejemplo",id:"ejemplo-6",level:4},{value:".restore()",id:"restore",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-9",level:4},{value:"Ejemplo",id:"ejemplo-7",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-1",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-10",level:4},{value:"Ejemplo",id:"ejemplo-8",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-2",level:4},{value:".storage",id:"storage",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-11",level:4},{value:"Ejemplo de sesi\xf3n web",id:"ejemplo-de-sesi\xf3n-web",level:4},{value:"Ejemplo de sesi\xf3n remota",id:"ejemplo-de-sesi\xf3n-remota",level:4},{value:".userName",id:"username",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-12",level:4}];function t(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Los objetos de sesi\xf3n son devueltos por el comando ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/commands/session",children:(0,r.jsx)(n.code,{children:"Session"})}),". Estos objetos ofrecen al desarrollador una interfaz que permite gestionar la sesi\xf3n de usuario actual y ejecutar acciones como almacenar datos contextuales, compartir informaci\xf3n entre procesos de sesi\xf3n, lanzar procesos preferentes relacionados con la sesi\xf3n o (s\xf3lo web) gestionar ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/ORDA/privileges",children:"privilegios"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"tipos-de-sesiones",children:"Tipos de sesiones"}),"\n",(0,r.jsx)(n.p,{children:"Los siguientes tipos de sesiones est\xe1n soportados por esta clase:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/es/20-R9/WebServer/sessions",children:(0,r.jsx)(n.strong,{children:"Sesiones usuario web"})}),": las sesiones usuario web est\xe1n disponibles cuando ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/WebServer/sessions#enabling-web-sessions",children:"las sesiones escalables est\xe1n activas en su proyecto"}),". Se utilizan para conexiones Web y REST, y se les pueden asignar privilegios."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/es/20-R9/Desktop/clientServer#remote-user-sessions",children:"Sesiones usuario cliente remoto**"}),": en las aplicaciones cliente/servidor, los usuarios remotos tienen sus propias sesiones gestionadas en el servidor."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://doc.4d.com/4Dv20/4D/20/4D-Server-and-the-4D-Language.300-6330554.en.html",children:(0,r.jsx)(n.strong,{children:"Sesi\xf3n de procedimientos almacenados"})}),": todos los procedimientos almacenados ejecutados en el servidor comparten la misma sesi\xf3n usuario virtual."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/es/20-R9/Project/overview#development",children:(0,r.jsx)(n.strong,{children:"Sesi\xf3n independiente"})}),": objeto de sesi\xf3n local devuelto en una aplicaci\xf3n de un solo usuario (\xfatil en las fases de desarrollo y prueba de aplicaciones cliente/servidor)."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["La disponibilidad de las propiedades y funciones del objeto ",(0,r.jsx)(n.code,{children:"Session"})," depende del tipo de sesi\xf3n."]})}),"\n",(0,r.jsx)(n.h3,{id:"resumen",children:"Resumen"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsx)(n.tr,{children:(0,r.jsx)(n.th,{})})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#clearprivileges",children:[(0,r.jsx)(n.strong,{children:".clearPrivileges()"})," : Boolean"]}),(0,r.jsx)(n.br,{}),"elimina todos los privilegios asociados a la sesi\xf3n y devuelve ",(0,r.jsx)(n.strong,{children:"True"})," si la ejecuci\xf3n se ha realizado correctamente"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#createotp",children:[(0,r.jsx)(n.strong,{children:".createOTP"})," ( { ",(0,r.jsx)(n.em,{children:"lifespan"})," : Integer } ) : Text "]}),(0,r.jsx)(n.br,{}),"crea un nuevo OTP (One Time Passcode) para la sesi\xf3n y devuelve su token UUID"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#expirationdate",children:[(0,r.jsx)(n.strong,{children:".expirationDate"})," : Text"]}),(0,r.jsx)(n.br,{}),"la fecha y hora de expiraci\xf3n de la cookie de sesi\xf3n"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#getprivileges",children:[(0,r.jsx)(n.strong,{children:".getPrivileges"}),"() : Collection"]}),(0,r.jsx)(n.br,{}),"devuelve una colecci\xf3n de todos los nombres de privilegios asociados a la sesi\xf3n"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#hasprivilege",children:[(0,r.jsx)(n.strong,{children:".hasPrivilege"}),"( ",(0,r.jsx)(n.em,{children:"privilege"})," : Text ) : Boolean"]}),(0,r.jsx)(n.br,{}),"devuelve True si ",(0,r.jsx)(n.em,{children:"privilege"})," est\xe1 asociado a la sesi\xf3n, y False en caso contrario"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#id",children:[(0,r.jsx)(n.strong,{children:".id"})," : Text"]}),(0,r.jsx)(n.br,{}),"el identificador \xfanico (UUID) de la sesi\xf3n de usuario"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#idletimeout",children:[(0,r.jsx)(n.strong,{children:".idleTimeout"})," : Integer"]}),(0,r.jsx)(n.br,{}),"el tiempo de inactividad de la sesi\xf3n (en minutos), despu\xe9s del cual la sesi\xf3n es cerrada autom\xe1ticamente por 4D"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#info",children:[(0,r.jsx)(n.strong,{children:".info"})," : Object"]}),(0,r.jsx)(n.br,{}),"describe la sesi\xf3n del cliente remoto o del procedimiento almacenado en el servidor, o la sesi\xf3n aut\xf3noma"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#isguest",children:[(0,r.jsx)(n.strong,{children:".isGuest()"})," : Boolean"]}),(0,r.jsx)(n.br,{}),"devuelve True si la sesi\xf3n es una sesi\xf3n Guest (es decir, no tiene privilegios)"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#restore",children:[(0,r.jsx)(n.strong,{children:".restore"})," ( ",(0,r.jsx)(n.em,{children:"token"})," : Text ) : Boolean "]}),(0,r.jsx)(n.br,{}),"sustituye la sesi\xf3n actual del usuario web por su sesi\xf3n original correspondiente al ",(0,r.jsx)(n.em,{children:"token"})," UUID"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#setprivileges",children:[(0,r.jsx)(n.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(n.em,{children:"privilege"})," : Text ) : Boolean",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(n.em,{children:"privileges"})," : Collection )",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(n.em,{children:"settings"})," : Object ) : Boolean"]}),(0,r.jsx)(n.br,{}),"asocia a la sesi\xf3n los privilegios y/o roles definidos en el par\xe1metro y devuelve ",(0,r.jsx)(n.strong,{children:"True"})," si la ejecuci\xf3n se ha realizado correctamente"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#storage",children:[(0,r.jsx)(n.strong,{children:".storage"})," : Object"]}),(0,r.jsx)(n.br,{}),"un objeto compartido que puede utilizarse para almacenar informaci\xf3n disponible para todos los procesos de la sesi\xf3n"]})}),(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{children:[(0,r.jsxs)(n.a,{href:"#username",children:[(0,r.jsx)(n.strong,{children:".userName"})," : Text"]}),(0,r.jsx)(n.br,{}),"el nombre de usuario asociado a la sesi\xf3n"]})})]})]}),"\n",(0,r.jsx)(n.h2,{id:"clearprivileges",children:".clearPrivileges()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"18 R6"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".clearPrivileges()"})," : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe1metros"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultado"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"True si la ejecuci\xf3n se ha realizado correctamente"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Esta funci\xf3n no hace nada y siempre devuelve ",(0,r.jsx)(n.strong,{children:"True"})," con cliente remoto, procedimiento almacenado y sesiones independientes."]})}),"\n",(0,r.jsxs)(n.p,{children:["La funci\xf3n ",(0,r.jsx)(n.code,{children:".clearPrivileges()"})," elimina todos los privilegios asociados a la sesi\xf3n y devuelve ",(0,r.jsx)(n.strong,{children:"True"})," si la ejecuci\xf3n se ha realizado correctamente. A menos que est\xe9 en modo ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/REST/authUsers#force-login-mode",children:'"forceLogin"'}),", la sesi\xf3n se convierte autom\xe1ticamente en una sesi\xf3n de Invitado."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:['En modo "forceLogin", ',(0,r.jsx)(n.code,{children:".clearPrivileges()"})," no transforma la sesi\xf3n a una sesi\xf3n de invitado, s\xf3lo elimina los privilegios de la sesi\xf3n."]})}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo",children:"Ejemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"//Invalidar una sesi\xf3n usuario web\nvar $isGuest : Boolean\nvar $isOK : Boolean\n\n$isOK:=Session.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest es True\n"})}),"\n",(0,r.jsx)(n.h2,{id:"createotp",children:".createOTP()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"20 R9"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".createOTP"})," ( { ",(0,r.jsx)(n.em,{children:"lifespan"})," : Integer } ) : Text"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe1metros"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"lifespan"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Duraci\xf3n de la vida del token de sesi\xf3n en segundos"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultado"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"UUID de la sesi\xf3n"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-1",children:"Descripci\xf3n"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Esta funci\xf3n solo est\xe1 disponible con sesiones usuario web. Devuelve una cadena vac\xeda en otros contextos."})}),"\n",(0,r.jsxs)(n.p,{children:["La funci\xf3n ",(0,r.jsx)(n.code,{children:".createOTP()"})," crea un nuevo OTP (One Time Passcode) para la sesi\xf3n y devuelve su token UUID. Este token es \xfanico en la sesi\xf3n en la que fue generado."]}),"\n",(0,r.jsxs)(n.p,{children:["Para m\xe1s informaci\xf3n sobre los tokens OTP, por favor consulte ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/WebServer/sessions#session-token-otp",children:"esta secci\xf3n"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Por defecto, si se omite el par\xe1metro ",(0,r.jsx)(n.em,{children:"lifespan"}),", el token se crea con el mismo tiempo de vida que el ",(0,r.jsx)(n.a,{href:"#idletimeout",children:(0,r.jsx)(n.code,{children:".idleTimeOut"})})," de la sesi\xf3n. Puede definir un tiempo de espera personalizado pasando un valor en segundos en ",(0,r.jsx)(n.em,{children:"lifespan"})," (el valor m\xednimo es de 10 segundos, ",(0,r.jsx)(n.em,{children:"lifespan"})," se restablece a 10 si se pasa un valor menor). Si se utiliza un token caducado para restaurar una sesi\xf3n de usuario web, se ignora."]}),"\n",(0,r.jsx)(n.p,{children:"El token devuelto puede ser utilizado en intercambios con aplicaciones de terceros o sitios web para identificar la sesi\xf3n de forma segura. Por ejemplo, el token OTP de sesi\xf3n se puede utilizar con una aplicaci\xf3n de pago."}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-1",children:"Ejemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"var $token : Text\n$token := Session.createOTP( 60 ) //el token es v\xe1lido durante 1 mn\n"})}),"\n",(0,r.jsx)(n.h2,{id:"expirationdate",children:".expirationDate"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"18 R6"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".expirationDate"})," : Text"]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-2",children:"Descripci\xf3n"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Esta propiedad s\xf3lo est\xe1 disponible con sesiones de usuario web."})}),"\n",(0,r.jsxs)(n.p,{children:["La propiedad ",(0,r.jsx)(n.code,{children:".expirationDate"})," contiene la fecha y hora de expiraci\xf3n de la cookie de sesi\xf3n. El valor se expresa como texto en el formato ISO 8601: ",(0,r.jsx)(n.code,{children:"YYYY-MM-DDTHH:MM:SS.mmmZ"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Esta propiedad es de ",(0,r.jsx)(n.strong,{children:"solo lectura"}),". Se recalcula autom\xe1ticamente si se modifica el valor de la propiedad ",(0,r.jsx)(n.a,{href:"#idletimeout",children:(0,r.jsx)(n.code,{children:".idleTimeout"})}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-2",children:"Ejemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $expiration : Text\n$expiration:=Session.expirationDate //eg "2021-11-05T17:10:42Z"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"getprivileges",children:".getPrivileges()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"20 R6"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".getPrivileges"}),"() : Collection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe1metros"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultado"}),(0,r.jsx)(n.td,{children:"Collection"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"Colecci\xf3n de nombres de privilegios (cadenas)"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-3",children:"Descripci\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["La funci\xf3n ",(0,r.jsx)(n.code,{children:".getPrivileges()"})," devuelve una colecci\xf3n de todos los nombres de privilegios asociados a la sesi\xf3n."]}),"\n",(0,r.jsx)(n.p,{children:'Con clientes remotos, procedimientos almacenados y sesiones independientes, esta funci\xf3n devuelve una colecci\xf3n que s\xf3lo contiene "WebAdmin".'}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Los privilegios se asignan a una Sesi\xf3n utilizando la funci\xf3n ",(0,r.jsx)(n.a,{href:"#setprivileges",children:(0,r.jsx)(n.code,{children:"setPrivileges()"})}),"."]})}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-3",children:"Ejemplo"}),"\n",(0,r.jsxs)(n.p,{children:["Se ha definido el siguiente archivo ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/ORDA/privileges#rolesjson-file",children:(0,r.jsx)(n.code,{children:"roles.json"})}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n   "privileges":[\n      {\n         "privilege":"simple",\n         "includes":[\n\n         ]\n      },\n      {\n         "privilege":"medium",\n         "includes":[\n            "simple"\n         ]\n      }\n   ],\n   "roles":[\n      {\n         "role":"Medium",\n         "privileges":[\n            "medium"\n         ]\n      }\n   ],\n   "permissions":{\n      "allowed":[\n\n      ]\n   }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["El rol de sesi\xf3n se asigna en una funci\xf3n datastore ",(0,r.jsx)(n.code,{children:"authentify()"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"  //Clase Datastore\n\nexposed Function authentify($role : Text) : Text\n	Session.clearPrivileges()\n	Session.setPrivileges({roles: $role})\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Asumiendo que la funci\xf3n ",(0,r.jsx)(n.code,{children:"authentify()"}),' es llamada con el rol "Medium":']}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $privileges : Collection\n$privileges := Session.getPrivileges()\n//$privileges: ["simple","medium"]\n'})}),"\n",(0,r.jsx)(n.h4,{id:"ver-tambi\xe9n",children:"Ver tambi\xe9n"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"#setprivileges",children:".setPrivileges()"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"https://blog.4d.com/permissions-inspect-the-privileges-in-the-session-for-an-easy-debugging",children:"Permisos - Inspeccionar los privilegios en la sesi\xf3n para una f\xe1cil depuraci\xf3n (entrada de blog)"})]}),"\n",(0,r.jsx)(n.h2,{id:"hasprivilege",children:".hasPrivilege()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"18 R6"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".hasPrivilege"}),"( ",(0,r.jsx)(n.em,{children:"privilege"})," : Text ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe1metros"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"privilege"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Nombre del privilegio a verificar"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultado"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsxs)(n.td,{children:["True si la sesi\xf3n tiene ",(0,r.jsx)(n.em,{children:"privilege"}),", False en caso contrario"]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-4",children:"Descripci\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["La funci\xf3n ",(0,r.jsx)(n.code,{children:".hasPrivilege()"})," devuelve True si ",(0,r.jsx)(n.em,{children:"privilege"})," est\xe1 asociado a la sesi\xf3n, y False en caso contrario."]}),"\n",(0,r.jsxs)(n.p,{children:["Con cliente remoto, procedimientos almacenados y sesiones independientes, esta funci\xf3n siempre devuelve True, sea cual sea el ",(0,r.jsx)(n.em,{children:"privilege"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-4",children:"Ejemplo"}),"\n",(0,r.jsx)(n.p,{children:'Quiere comprobar si el privilegio "WebAdmin" est\xe1 asociado a la sesi\xf3n usuario web:'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'If (Session.hasPrivilege("WebAdmin"))\n	//Acceso concedido, no hacer nada\nElse\n	//Mostrar una p\xe1gina de autenticaci\xf3n\n\nEnd if\n'})}),"\n",(0,r.jsx)(n.h2,{id:"id",children:".id"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"20 R5"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".id"})," : Text"]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-5",children:"Descripci\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["La propiedad ",(0,r.jsx)(n.code,{children:".id"})," contiene el identificador \xfanico (UUID) de la sesi\xf3n de usuario. Con 4D Server, esta cadena \xfanica es asignada autom\xe1ticamente por el servidor para cada sesi\xf3n y permite identificar sus procesos."]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Puede utilizar esta propiedad para obtener el objeto ",(0,r.jsx)(n.a,{href:"#storage",children:(0,r.jsx)(n.code,{children:".storage"})})," de una sesi\xf3n gracias al comando ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/commands/session-storage",children:(0,r.jsx)(n.code,{children:"Session storage"})}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"idletimeout",children:".idleTimeout"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})})}),"\n",(0,r.jsx)(n.p,{children:"|18 R6|A\xf1adido|"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".idleTimeout"})," : Integer"]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-6",children:"Descripci\xf3n"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Esta propiedad s\xf3lo est\xe1 disponible con sesiones de usuario web."})}),"\n",(0,r.jsxs)(n.p,{children:["La propiedad ",(0,r.jsx)(n.code,{children:".idleTimeout"})," contiene el tiempo de inactividad de la sesi\xf3n (en minutos), despu\xe9s del cual la sesi\xf3n es cerrada autom\xe1ticamente por 4D."]}),"\n",(0,r.jsx)(n.p,{children:"Si no se define esta propiedad, el valor por defecto es 60 (1h)."}),"\n",(0,r.jsxs)(n.p,{children:["Cuando se define esta propiedad, la propiedad ",(0,r.jsx)(n.a,{href:"#expirationdate",children:(0,r.jsx)(n.code,{children:"expirationDate"})})," se actualiza en consecuencia."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"El valor no puede ser inferior a 60: si se define un valor inferior, el tiempo de espera se eleva hasta 60."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Esta propiedad est\xe1 en ",(0,r.jsx)(n.strong,{children:"lectura escritura"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-5",children:"Ejemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"If (Session.isGuest())\n		// Una sesi\xf3n de invitado se cerrar\xe1 tras 60 minutos de inactividad\n	Session.idleTimeout:=60\nElse\n		// Otras sesiones se cerrar\xe1n tras 120 minutos de inactividad\n	Session.idleTimeout:=120\nEnd if\n\n"})}),"\n",(0,r.jsx)(n.h2,{id:"info",children:".info"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"20 R5"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".info"})," : Object"]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-7",children:"Descripci\xf3n"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Esta propiedad solo est\xe1 disponible con clientes remotos, procedimientos almacenados y sesiones independientes."})}),"\n",(0,r.jsxs)(n.p,{children:["La propiedad ",(0,r.jsx)(n.code,{children:".info"})," describe la sesi\xf3n del cliente remoto o del procedimiento almacenado en el servidor, o la sesi\xf3n aut\xf3noma."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["El objeto ",(0,r.jsx)(n.code,{children:".info"}),' es el mismo objeto que el devuelto en la propiedad "session" por el comando ',(0,r.jsx)(n.a,{href:"/docs/es/20-R9/commands/process-activity",children:(0,r.jsx)(n.code,{children:"Process activity"})})," para sesiones de cliente remoto y procedimientos almacenados."]}),"\n",(0,r.jsxs)(n.li,{children:["El objeto ",(0,r.jsx)(n.code,{children:".info"})," es el mismo que devuelve el comando ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/commands/session-info",children:(0,r.jsx)(n.code,{children:"Session info"})})," para una sesi\xf3n aut\xf3noma."]}),"\n"]})}),"\n",(0,r.jsxs)(n.p,{children:["El objeto ",(0,r.jsx)(n.code,{children:".info"})," contiene las siguientes propiedades:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propiedad"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"type"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:'Tipo de sesi\xf3n: "remote", "storedProcedure", "standalone"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"userName"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["Nombre de usuario 4D (mismo valor que ",(0,r.jsx)(n.a,{href:"#username",children:(0,r.jsx)(n.code,{children:".userName"})}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"machineName"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Sesiones remotas: nombre de la m\xe1quina remota. Sesi\xf3n de procedimientos almacenados: nombre del equipo servidor. Sesi\xf3n aut\xf3noma: nombre de la m\xe1quina"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"systemUserName"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Sesiones remotas: nombre de la sesi\xf3n del sistema abierta en la m\xe1quina remota."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"IPAddress"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Direcci\xf3n IP de la m\xe1quina remota"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"hostType"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:'Tipo de host: "windows" o "mac"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"creationDateTime"}),(0,r.jsx)(n.td,{children:"Date ISO 8601"}),(0,r.jsx)(n.td,{children:"Fecha y hora de creaci\xf3n de la sesi\xf3n. Sesi\xf3n aut\xf3noma: fecha y hora de inicio de la aplicaci\xf3n"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"state"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:'Estado de la sesi\xf3n: "active", "postponed", "sleeping"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ID"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsxs)(n.td,{children:["UUID de sesi\xf3n (el mismo valor que ",(0,r.jsx)(n.a,{href:"#id",children:(0,r.jsx)(n.code,{children:".id"})}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"persistentID"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Sesiones remotas: ID persistente de la sesi\xf3n"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Dado que ",(0,r.jsx)(n.code,{children:".info"})," es una propiedad calculada, se recomienda llamarla una vez y luego almacenarla en una variable local si se desea realizar alg\xfan procesamiento sobre sus propiedades."]})}),"\n",(0,r.jsx)(n.h2,{id:"isguest",children:".isGuest()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"18 R6"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".isGuest()"})," : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe1metros"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultado"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"True si la sesi\xf3n es una sesi\xf3n Guest, False en caso contrario"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-8",children:"Descripci\xf3n"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Esta funci\xf3n siempre devuelve ",(0,r.jsx)(n.strong,{children:"False"})," con clientes remotos, procedimientos almacenados y sesiones independientes."]})}),"\n",(0,r.jsxs)(n.p,{children:["La funci\xf3n ",(0,r.jsx)(n.code,{children:".isGuest()"})," devuelve True si la sesi\xf3n es una sesi\xf3n Guest (es decir, no tiene privilegios)."]}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-6",children:"Ejemplo"}),"\n",(0,r.jsxs)(n.p,{children:["En el m\xe9todo base ",(0,r.jsx)(n.code,{children:"On Web Connection"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"If (Session.isGuest())\n	//Hacer algo para el usuario invitado\nEnd if\n"})}),"\n",(0,r.jsx)(n.h2,{id:"restore",children:".restore()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"20 R9"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".restore"})," ( ",(0,r.jsx)(n.em,{children:"token"})," : Text ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe1metros"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"token"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"UUID del token de sesi\xf3n"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultado"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"True si la sesi\xf3n actual ha sido reemplazada con \xe9xito por la sesi\xf3n del token"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-9",children:"Descripci\xf3n"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Esta funci\xf3n solo est\xe1 disponible con sesiones usuario web. Devuelve False en otros contextos."})}),"\n",(0,r.jsxs)(n.p,{children:["La funci\xf3n ",(0,r.jsx)(n.code,{children:".restore()"})," sustituye la sesi\xf3n actual del usuario web por su sesi\xf3n original correspondiente al ",(0,r.jsx)(n.em,{children:"token"})," UUID. El almacenamiento y los privilegios de la sesi\xf3n son restaurados."]}),"\n",(0,r.jsxs)(n.p,{children:["Si la sesi\xf3n original del usuario ha sido correctamente restaurada, la funci\xf3n devuelve ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["La funci\xf3n devuelve ",(0,r.jsx)(n.code,{children:"false"})," si:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"el token de sesi\xf3n ya ha sido utilizado,"}),"\n",(0,r.jsx)(n.li,{children:"el token de sesi\xf3n ha caducado,"}),"\n",(0,r.jsx)(n.li,{children:"el token de sesi\xf3n no existe,"}),"\n",(0,r.jsx)(n.li,{children:"la propia sesi\xf3n original ha caducado."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"En este caso, la sesi\xf3n actual de usuario web se deja sin tocar (no se restaura la sesi\xf3n)."}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-7",children:"Ejemplo"}),"\n",(0,r.jsx)(n.p,{children:"En un singleton llamado por un HTTP Request handler personalizado:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:"shared singleton Class constructor()\n\nFunction callback($request : 4D.IncomingMessage) : 4D.OutgoingMessage\n   Session.restore($request.urlQuery.state) \n"})}),"\n",(0,r.jsx)(n.h4,{id:"ver-tambi\xe9n-1",children:"Ver tambi\xe9n"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"#createotp",children:(0,r.jsx)(n.code,{children:".createOTP()"})})}),"\n",(0,r.jsx)(n.h2,{id:"setprivileges",children:".setPrivileges()"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"19 R8"}),(0,r.jsx)(n.td,{children:'Compatibilidad con la propiedad "roles" en Settings'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"18 R6"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(n.em,{children:"privilege"})," : Text ) : Boolean",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(n.em,{children:"privileges"})," : Collection )",(0,r.jsx)(n.br,{}),(0,r.jsx)(n.strong,{children:".setPrivileges"}),"( ",(0,r.jsx)(n.em,{children:"settings"})," : Object ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe1metros"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{style:{textAlign:"center"}}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"privilege"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Nombre del privilegio"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"privileges"}),(0,r.jsx)(n.td,{children:"Collection"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:"Colecci\xf3n de nombres de privilegios"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"settings"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,r.jsx)(n.td,{children:'Objeto con una propiedad "privilegios" (cadena o colecci\xf3n)'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultado"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"<-"}),(0,r.jsx)(n.td,{children:"True si la ejecuci\xf3n se ha realizado correctamente"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-10",children:"Descripci\xf3n"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Esta funci\xf3n no hace nada y siempre devuelve ",(0,r.jsx)(n.strong,{children:"False"})," con cliente remoto, procedimiento almacenado y sesiones independientes."]})}),"\n",(0,r.jsxs)(n.p,{children:["La funci\xf3n ",(0,r.jsx)(n.code,{children:".setPrivileges()"})," asocia a la sesi\xf3n los privilegios y/o roles definidos en el par\xe1metro y devuelve ",(0,r.jsx)(n.strong,{children:"True"})," si la ejecuci\xf3n se ha realizado correctamente."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["En el par\xe1metro ",(0,r.jsx)(n.em,{children:"privilege"}),", pase una cadena que contenga un nombre de privilegio (o varios nombres de privilegio separados por comas)."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["En el par\xe1metro ",(0,r.jsx)(n.em,{children:"privileges"}),", pase una colecci\xf3n de cadenas que contengan nombres de privilegios."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["En el par\xe1metro ",(0,r.jsx)(n.em,{children:"settings"}),", pase un objeto que contenga las siguientes propiedades:"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propiedad"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"privileges"}),(0,r.jsx)(n.td,{children:"Text o Collection"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.li,{children:"Cadena que contiene un nombre de privilegio, o"}),(0,r.jsx)(n.li,{children:"Colecci\xf3n de cadenas que contienen nombres de privilegios"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"roles"}),(0,r.jsx)(n.td,{children:"Text o Collection"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.li,{children:"Cadena que contiene un rol, o"}),(0,r.jsx)(n.li,{children:"Colecci\xf3n de cadenas que contienen roles"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"userName"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"Nombre de usuario para asociar a la sesi\xf3n (opcional)"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Los privilegios y los roles se definen en el archivo ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/ORDA/privileges#rolesjson-file",children:(0,r.jsx)(n.code,{children:"roles.json"})})," del proyecto. Para m\xe1s informaci\xf3n, consulte la secci\xf3n ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/ORDA/privileges",children:(0,r.jsx)(n.strong,{children:"Privilegios"})}),"."]})}),"\n",(0,r.jsxs)(n.p,{children:["Si la propiedad ",(0,r.jsx)(n.code,{children:"privileges"})," o ",(0,r.jsx)(n.code,{children:"roles"})," contiene un nombre que no est\xe1 declarado en el archivo ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/ORDA/privileges#rolesjson-file",children:(0,r.jsx)(n.code,{children:"roles.json"})}),", se ignora."]}),"\n",(0,r.jsxs)(n.p,{children:["Por defecto, cuando no hay ning\xfan privilegio o rol asociado a la sesi\xf3n, la sesi\xf3n es una ",(0,r.jsx)(n.a,{href:"#isguest",children:"sesi\xf3n de invitado"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["La propiedad ",(0,r.jsx)(n.a,{href:"#username",children:(0,r.jsx)(n.code,{children:"userName"})})," est\xe1 disponible a nivel de objeto de sesi\xf3n (s\xf3lo lectura)."]}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-8",children:"Ejemplo"}),"\n",(0,r.jsx)(n.p,{children:'En un m\xe9todo de autenticaci\xf3n personalizado, se establece el privilegio "WebAdmin" para el usuario:'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'var $userOK : Boolean\n\n... //Autenticar al usuario\n\nIf ($userOK) //El usuario ha sido aprobado\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection("WebAdmin")\n  Session.setPrivileges($info)\nEnd if\n\n'})}),"\n",(0,r.jsx)(n.h4,{id:"ver-tambi\xe9n-2",children:"Ver tambi\xe9n"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"#getprivileges",children:".getPrivileges()"})}),"\n",(0,r.jsx)(n.h2,{id:"storage",children:".storage"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"20 R5"}),(0,r.jsx)(n.td,{children:"Soporte de cliente remoto y sesiones de procedimientos almacenados"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"18 R6"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".storage"})," : Object"]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-11",children:"Descripci\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["La propiedad ",(0,r.jsx)(n.code,{children:".storage"})," contiene un objeto compartido que puede utilizarse para almacenar informaci\xf3n disponible para todos los procesos de la sesi\xf3n."]}),"\n",(0,r.jsxs)(n.p,{children:["Cuando se crea un objeto ",(0,r.jsx)(n.code,{children:"Session"}),", la propiedad ",(0,r.jsx)(n.code,{children:".storage"})," est\xe1 vac\xeda. Al ser un objeto compartido, esta propiedad estar\xe1 disponible en el objeto ",(0,r.jsx)(n.code,{children:"Storage"})," del servidor."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Al igual que el objeto ",(0,r.jsx)(n.code,{children:"Storage"})," del servidor, la propiedad ",(0,r.jsx)(n.code,{children:".storage"}),' es siempre "single": a\xf1adir un objeto compartido o una colecci\xf3n compartida a ',(0,r.jsx)(n.code,{children:".storage"})," no crea un grupo compartido."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Esta propiedad es ",(0,r.jsx)(n.strong,{children:"s\xf3lo lectura"})," en s\xed misma pero devuelve un objeto de lectura-escritura."]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Puede obtener la propiedad ",(0,r.jsx)(n.code,{children:".storage"})," de una sesi\xf3n utilizando el comando ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/commands/session-storage",children:(0,r.jsx)(n.code,{children:"Session storage"})}),"."]})}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-de-sesi\xf3n-web",children:"Ejemplo de sesi\xf3n web"}),"\n",(0,r.jsxs)(n.p,{children:["Desea almacenar la IP del cliente en la propiedad ",(0,r.jsx)(n.code,{children:".storage"}),". Puede escribir en el m\xe9todo base ",(0,r.jsx)(n.code,{children:"On Web Authentication"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'If (Session.storage.clientIP=Null) //first access\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use\nEnd if\n'})}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-de-sesi\xf3n-remota",children:"Ejemplo de sesi\xf3n remota"}),"\n",(0,r.jsx)(n.p,{children:"Desea compartir datos entre procesos de la misma sesi\xf3n:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'Use (Session.storage)\n Session.storage.settings:=New shared object("property"; $value; "property2"; $value2)\nEnd use\n'})}),"\n",(0,r.jsx)(n.h2,{id:"username",children:".userName"}),"\n",(0,r.jsxs)(n.details,{children:[(0,r.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Lanzamiento"}),(0,r.jsx)(n.th,{children:"Modificaciones"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"20 R5"}),(0,r.jsx)(n.td,{children:"Soporte de cliente remoto y sesiones de procedimientos almacenados"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"18 R6"}),(0,r.jsx)(n.td,{children:"A\xf1adidos"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".userName"})," : Text"]}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n-12",children:"Descripci\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["La propiedad ",(0,r.jsx)(n.code,{children:".userName"})," contiene el nombre de usuario asociado a la sesi\xf3n. Puede utilizarlo para identificar al usuario dentro de su c\xf3digo."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Con las sesiones web, esta propiedad es una cadena vac\xeda por defecto. Puede definirse mediante la propiedad ",(0,r.jsx)(n.code,{children:"privileges"})," de la funci\xf3n ",(0,r.jsx)(n.a,{href:"#setprivileges",children:(0,r.jsx)(n.code,{children:"setPrivileges()"})}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Con sesiones remotas y de procedimientos almacenados, esta propiedad devuelve el mismo nombre de usuario que el comando ",(0,r.jsx)(n.a,{href:"/docs/es/20-R9/commands/current-user",children:(0,r.jsx)(n.code,{children:"Current user"})}),"."]}),"\n",(0,r.jsxs)(n.li,{children:['Con sesiones independientes, esta propiedad contiene "dise\xf1ador" o el nombre definido con el comando ',(0,r.jsx)(n.a,{href:"/docs/es/20-R9/commands/set-user-alias",children:(0,r.jsx)(n.code,{children:"SET USER ALIAS"})}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Esta propiedad es ",(0,r.jsx)(n.strong,{children:"solo lectura"}),"."]})]})}function h(e={}){let{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},250065:function(e,n,s){s.d(n,{Z:()=>o,a:()=>l});var i=s(667294);let r={},d=i.createContext(r);function l(e){let n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);