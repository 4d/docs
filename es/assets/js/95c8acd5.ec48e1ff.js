"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["28639"],{159886:function(e,n,r){r.r(n),r.d(n,{default:()=>p,frontMatter:()=>i,metadata:()=>s,assets:()=>c,toc:()=>d,contentTitle:()=>o});var s=JSON.parse('{"id":"commands-legacy/php-execute","title":"PHP Execute","description":"PHP Execute ( rutaScript {; nomFuncion {; resultPHP {; param} {; param2 ; ... ; paramN}}} ) : Boolean","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R10/commands-legacy/php-execute.md","sourceDirName":"commands-legacy","slug":"/commands/php-execute","permalink":"/docs/es/commands/php-execute","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fphp-execute.md%20(20-R10)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R10","frontMatter":{"id":"php-execute","title":"PHP Execute","slug":"/commands/php-execute","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"PHP","permalink":"/docs/es/commands/theme/PHP"},"next":{"title":"PHP GET FULL RESPONSE","permalink":"/docs/es/commands/php-get-full-response"}}'),a=r("785893"),l=r("250065");let i={id:"php-execute",title:"PHP Execute",slug:"/commands/php-execute",displayed_sidebar:"docs"},o=void 0,c={},d=[{value:"Descripci\xf3n",id:"descripci\xf3n",level:2},{value:"Conversi\xf3n de los datos devueltos",id:"conversi\xf3n-de-los-datos-devueltos",level:3},{value:"Using environment variables",id:"using-environment-variables",level:3},{value:"Special functions",id:"special-functions",level:3},{value:"Ejemplo 1",id:"ejemplo-1",level:2},{value:"Ejemplo 2",id:"ejemplo-2",level:2},{value:"Ejemplo 3",id:"ejemplo-3",level:2},{value:"Ejemplo 4",id:"ejemplo-4",level:2},{value:"Ejemplo 5",id:"ejemplo-5",level:2},{value:"Ejemplo 6",id:"ejemplo-6",level:2},{value:"Ejemplo 7",id:"ejemplo-7",level:2},{value:"Ejemplo 8",id:"ejemplo-8",level:2},{value:"Ejemplo 9",id:"ejemplo-9",level:2},{value:"Ejemplo 10",id:"ejemplo-10",level:2},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n",level:2},{value:"Propiedades",id:"propiedades",level:2}];function t(e){let n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"PHP Execute"})," ( ",(0,a.jsx)(n.em,{children:"rutaScript"})," {; ",(0,a.jsx)(n.em,{children:"nomFuncion"})," {; ",(0,a.jsx)(n.em,{children:"resultPHP"})," {; ",(0,a.jsx)(n.em,{children:"param"}),"} {; ",(0,a.jsx)(n.em,{children:"param2"})," ; ... ; ",(0,a.jsx)(n.em,{children:"paramN"}),"}}} ) : Boolean"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Par\xe1metro"}),(0,a.jsx)(n.th,{children:"Tipo"}),(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"rutaScript"}),(0,a.jsx)(n.td,{children:"Text"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:'Ruta de acceso al script PHP o "" para ejecutar una funci\xf3n PHP'})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"nomFuncion"}),(0,a.jsx)(n.td,{children:"Text"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Funci\xf3n PHP a ejecutar"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"resultPHP"}),(0,a.jsx)(n.td,{children:"*, Variable, Field"}),(0,a.jsx)(n.td,{children:"\u2190"}),(0,a.jsx)(n.td,{children:"Resultado de ejecuci\xf3n de la funci\xf3n PHP o * para no recibir el resultado"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"param"}),(0,a.jsx)(n.td,{children:"Text, Boolean, Real, Integer, Date, Time"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Par\xe1metros de la funci\xf3n PHP"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Resultado"}),(0,a.jsx)(n.td,{children:"Boolean"}),(0,a.jsx)(n.td,{children:"\u2190"}),(0,a.jsx)(n.td,{children:"True = ejecuci\xf3n correcta, False = error de ejecuci\xf3n"})]})]})]}),"\n",(0,a.jsx)(n.admonition,{title:"Compatibilidad",type:"info",children:(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"PHP es obsoleto en 4D"}),". Se recomienda utilizar la clase ",(0,a.jsx)(n.a,{href:"/docs/es/API/SystemWorkerClass",children:(0,a.jsx)(n.code,{children:"4D.SystemWorker class"})}),"."]})}),"\n",(0,a.jsx)(n.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,a.jsxs)(n.p,{children:["El comando ",(0,a.jsx)(n.strong,{children:"PHP Execute"})," permite ejecutar un script o una funci\xf3n PHP."]}),"\n",(0,a.jsxs)(n.p,{children:["Pase en el par\xe1metro ",(0,a.jsx)(n.em,{children:"rutaScrip"}),"t la ruta de acceso del archivo de script PHP a ejecutar. Puede ser una ruta de acceso relativa si el archivo est\xe1 ubicado junto a la estructura de la base o de una ruta absoluta. La ruta de acceso puede expresarse en sintaxis sistema o POSIX.",(0,a.jsx)(n.br,{}),'\nSi quiere ejecutar directamente una funci\xf3n PHP est\xe1ndar, pase una cadena vac\xeda ("") en ',(0,a.jsx)(n.em,{children:"rutaScript"}),". El nombre de la funci\xf3n debe pasarse en el segundo par\xe1metro."]}),"\n",(0,a.jsxs)(n.p,{children:["Pase en el par\xe1metro ",(0,a.jsx)(n.em,{children:"nomFuncion"})," un nombre de funci\xf3n PHP si quiere ejecutar una funci\xf3n espec\xedfica en el script ",(0,a.jsx)(n.em,{children:"rutaScript"}),". Si pasa una cadena vac\xeda u omite el par\xe1metro ",(0,a.jsx)(n.em,{children:"nomFuncion"}),", el script se ejecuta completamente."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Nota:"})," PHP tiene en cuenta las may\xfasculas y min\xfasculas de los caracteres en el nombre de la funci\xf3n. No utilice par\xe9ntesis, introduzca \xfanicamente el nombre de la funci\xf3n."]}),"\n",(0,a.jsxs)(n.p,{children:["El par\xe1metro ",(0,a.jsx)(n.em,{children:"resultPHP"})," recibe el resultado de la ejecuci\xf3n de la funci\xf3n PHP. Puede pasar:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"una variable, un array o un campo para recibir el resultado,"}),"\n",(0,a.jsxs)(n.li,{children:["el car\xe1cter ",(0,a.jsx)(n.em,{children:"*"})," si la funci\xf3n no devuelve ning\xfan resultado o si no quiere recuperar el resultado."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["El par\xe1metro ",(0,a.jsx)(n.em,{children:"resultPHP"})," puede ser de tipo texto, entero largo, real, booleano o fecha as\xed como tambi\xe9n (excepto para arrays) BLOB u hora. 4D efectuar\xe1 la conversi\xf3n de los datos y los ajustes necesarios siguiendo los principios descritos en la secci\xf3n a continuaci\xf3n."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["si pasa un nombre de funci\xf3n en el par\xe1metro ",(0,a.jsx)(n.em,{children:"nomFuncion"}),", ",(0,a.jsx)(n.em,{children:"resultPHP"})," recibir\xe1 lo que el desarrollador PHP devuelve con el comando return del cuerpo de la funci\xf3n."]}),"\n",(0,a.jsxs)(n.li,{children:["Si utiliza el comando sin pasar un nombre de funci\xf3n en el par\xe1metro ",(0,a.jsx)(n.em,{children:"nomFuncion"}),", ",(0,a.jsx)(n.em,{children:"r"})," ",(0,a.jsx)(n.em,{children:"esultPHP"})," recibir\xe1 lo que el desarrollador PHP devolvi\xf3 con el comando echo ( o un comando similar)."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Si llama a una funci\xf3n PHP que espera argumentos, utilice los par\xe1metros ",(0,a.jsx)(n.em,{children:"param1...N"})," para pasar uno o varios valores. Los valores deben estar separados por punto y coma. Puede pasar valores de tipo alfa, texto, booleano, real, entero, entero largo, fecha u hora. Las im\xe1genes y los BLOBs y objetos no se aceptan. Puede enviar un array; en este caso debe pasar un puntero en el array al comando ",(0,a.jsx)(n.strong,{children:"PHP Execute"}),", de lo contrario el \xedndice actual del array se enviar\xe1 como un entero (ver el ejemplo). El comando acepta todos los tipos de arrays excepto los arrays puntero, los arrays imagen y los arrays 2D."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Nota:"})," por razones t\xe9cnicas, el tama\xf1o de los par\xe1metros pasados v\xeda el protocolo FastCGI no debe pasar los 64 KB. Debe tener en cuenta esta limitaci\xf3n si utiliza par\xe1metros de tipo Texto."]}),"\n",(0,a.jsxs)(n.p,{children:["El comando devuelve True si la ejecuci\xf3n se ha efectuado correctamente del lado de 4D, en otras palabras, si el lanzamiento del entorno de ejecuci\xf3n, la apertura del script y el establecimiento de la comunicaci\xf3n con el int\xe9rprete PHP fueron exitosos. De lo contrario, se genera un error, que puede interceptar con el comando ",(0,a.jsx)(n.a,{href:"/docs/es/commands/on-err-call",title:"ON ERR CALL",children:"ON ERR CALL"})," y analizar con ",(0,a.jsx)(n.a,{href:"/docs/es/commands/last-errors",children:"Last errors"}),".",(0,a.jsx)(n.br,{}),"\nAdem\xe1s, el script mismo puede generar errores PHP. En este caso, debe utilizar el comando ",(0,a.jsx)(n.a,{href:"/docs/es/commands/php-get-full-response",title:"PHP GET FULL RESPONSE",children:"PHP GET FULL RESPONSE"})," para analizar la fuente del error (ver ejemplo 4)."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Nota:"})," PHP permite configurar la gesti\xf3n de errores. Para mayor informaci\xf3n, consulte por ejemplo la p\xe1gina: ",(0,a.jsx)(n.a,{href:"http://www.php.net/manual/en/errorfunc.configuration.php#ini.error-reporting",children:"http://www.php.net/manual/en/errorfunc.configuration.php#ini.error-reporting"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"conversi\xf3n-de-los-datos-devueltos",children:"Conversi\xf3n de los datos devueltos"}),"\n",(0,a.jsxs)(n.p,{children:["La siguiente tabla especifica c\xf3mo 4D interpreta y convierte los datos devueltos en funci\xf3n del tipo del par\xe1metro ",(0,a.jsx)(n.em,{children:"resultPHP"}),"."]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:(0,a.jsxs)(n.strong,{children:["Tipo del par\xe1metro ",(0,a.jsx)(n.em,{children:"resultPHP"})]})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Proceso 4D"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Ejemplo"})})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"BLOB"}),(0,a.jsx)(n.td,{children:"4D recupera los datos recibidos sin ninguna modificaci\xf3n(*)."}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsxs)(n.td,{children:["4D espera los datos codificados en UTF-8 (*). El desarrollador PHP puede necesitar utilizar el comando PHP ",(0,a.jsx)(n.strong,{children:"utf8_encode"}),"."]}),(0,a.jsx)(n.td,{children:"Ejemplo de script PHP: echo utf8_encode(miTexto)"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Fecha"}),(0,a.jsx)(n.td,{children:'4D espera una fecha enviada como una cadena en formato RFC 3339 (tambi\xe9n llamado DATE_ATOM en PHP). Este formato es de tipo "AAAA-MM-DDTHH:MM:SS", por ejemplo: 2005-08-15T15:52:01+00:00. 4D ignora la parte hora y devuelve la fecha en UTC.'}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Hora"}),(0,a.jsx)(n.td,{children:"4D espera una hora enviada en forma de cadena en formato RFC 3339 (ver el tipo Fecha). 4D ignora la parte fecha y devuelve el n\xfamero de segundos transcurridos desde la media noche considerando la fecha en la zona horaria local."}),(0,a.jsx)(n.td,{children:"Ejemplo de script PHP para enviar 2h30'45\": echo date( DATE_ATOM, mktime( 2,30,45))"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Entero o Real"}),(0,a.jsx)(n.td,{children:"4D interpreta el valor num\xe9rico expresado con n\xfameros, signo + o - y/o el exponente con el prefijo 'e'. Todo car\xe1cter '.' o ',' se interpreta como un separador decimal."}),(0,a.jsx)(n.td,{children:"Ejemplo de script PHP: echo -1.4e-16;"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Booleano"}),(0,a.jsx)(n.td,{children:'4D devuelve True si recibe la cadena "true" desde PHP o si la evaluaci\xf3n num\xe9rica da un valor no nulo.'}),(0,a.jsx)(n.td,{children:"Ejemplo de script PHP: echo (a==b);"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Array"}),(0,a.jsx)(n.td,{children:"4D considera que el array PHP fue devuelto en el formato JSON."}),(0,a.jsx)(n.td,{children:'Ejemplo de script PHP para devolver un array de dos textos: echo json_encode( array( "hola", "mundo"));'})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:["(*) Por defecto, no se devuelven los encabezados HTTP:",(0,a.jsx)(n.br,{}),"\n- Si utiliza ",(0,a.jsx)(n.a,{href:"/docs/es/commands/php-execute",children:"PHP Execute"})," al pasar una funci\xf3n en el par\xe1metro ",(0,a.jsx)(n.em,{children:"nomFuncion"}),", los encabezados HTTP nunca se devuelven en ",(0,a.jsx)(n.em,{children:"resultPHP"}),". S\xf3lo est\xe1n disponibles por medio del comando ",(0,a.jsx)(n.a,{href:"/docs/es/commands/php-get-full-response",children:"PHP GET FULL RESPONSE"}),".",(0,a.jsx)(n.br,{}),"\n- Si utiliza ",(0,a.jsx)(n.a,{href:"/docs/es/commands/php-execute",children:"PHP Execute"})," sin un nombre de funci\xf3n (el par\xe1metro ",(0,a.jsx)(n.em,{children:"nomFuncion"})," se omite o contiene una cadena vac\xeda), puede devolver los encabezados HTTP fijando la opci\xf3n PHP Raw result en True utilizando el comando ",(0,a.jsx)(n.a,{href:"/docs/es/commands/php-set-option",children:"PHP SET OPTION"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Nota:"})," si debe recuperar grandes vol\xfamenes de datos utilizando PHP, es m\xe1s eficiente pasar por el canal del buffer ",(0,a.jsx)(n.em,{children:"stdOut"})," (comando ",(0,a.jsx)(n.strong,{children:"echo"})," o similar) que por el retorno de funci\xf3n. Para mayor informaci\xf3n, consulte la descripci\xf3n del comando ",(0,a.jsx)(n.a,{href:"/docs/es/commands/php-get-full-response",children:"PHP GET FULL RESPONSE"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"using-environment-variables",children:"Using environment variables"}),"\n",(0,a.jsxs)(n.p,{children:["Puede utilizar el comando ",(0,a.jsx)(n.a,{href:"/docs/es/commands/set-environment-variable",title:"SET ENVIRONMENT VARIABLE",children:"SET ENVIRONMENT VARIABLE"})," para definir las variables de entorno utilizadas por el script. Atenci\xf3n: despu\xe9s de llamar ",(0,a.jsx)(n.a,{href:"/docs/es/commands/launch-external-process",title:"LAUNCH EXTERNAL PROCESS",children:"LAUNCH EXTERNAL PROCESS"})," o PHP Execute, el conjunto de las variables entorno se borra."]}),"\n",(0,a.jsx)(n.h3,{id:"special-functions",children:"Special functions"}),"\n",(0,a.jsx)(n.p,{children:"4D ofrece las siguientes funciones especiales:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"quit_4d_php"}),": permite salir del int\xe9rprete PHP y de todos sus procesos hijos. Si al menos uno de los procesos hijo est\xe1 ejecutando un script, el int\xe9rprete no sale y el comando PHP Execute devuelve False."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"relaunch_4d_php"}),": permite relanzar el int\xe9rprete PHP."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Note que el int\xe9rprete se relanza autom\xe1ticamente cuando la primera petici\xf3n se env\xeda por PHP Execute."}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo-1",children:"Ejemplo 1"}),"\n",(0,a.jsx)(n.p,{children:'Llamada del script "myPhpFile.php" sin funci\xf3n. Este es el contenido del script:'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-PHP"})}),"\n",(0,a.jsx)(n.p,{children:"El siguiente c\xf3digo 4D:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0var $result : Text\n\xa0var $isOK : Boolean\n\xa0$isOK:=PHP Execute("C:\\php\\myPhpFile.php";"";$result)\n\xa0ALERT($Result)\n'})}),"\n",(0,a.jsx)(n.p,{children:"...mostrar\xe1 la versi\xf3n PHP actual."}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo-2",children:"Ejemplo 2"}),"\n",(0,a.jsxs)(n.p,{children:["Llamada de la funci\xf3n ",(0,a.jsx)(n.em,{children:"myPhpFunction"}),' en el script "myNewScript.php" con par\xe1metros. Este es el contenido del script:']}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-PHP"})}),"\n",(0,a.jsx)(n.p,{children:"Llamada con funci\xf3n:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0var $result : Text\n\xa0var $param1 : Text\n\xa0var $param2 : Text\n\xa0var $isOk : Boolean\n\xa0$param1 :="\xa1Hola"\n\xa0$param2 :="mundo 4D!"\n\xa0$isOk:=PHP Execute("C:\\MyFolder\\myNewScript.php";"myPhpFunction";$result;$param1;$param2)\n\xa0ALERT($result)\xa0// Muestra "\xa1Hola mundo 4D!"\n'})}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo-3",children:"Ejemplo 3"}),"\n",(0,a.jsx)(n.p,{children:"Salir del int\xe9rprete PHP:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0$ifOk:=PHP Execute("";"quit_4d_php")\n'})}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo-4",children:"Ejemplo 4"}),"\n",(0,a.jsx)(n.p,{children:"Gesti\xf3n de errores:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// Instalaci\xf3n del m\xe9todo de gesti\xf3n de errores\n\xa0phpCommError:=""\xa0// Modificado por PHPErrorHandler\n\xa0$T_saveErrorHandler :=Method called on error\n\xa0ON ERR CALL("PHPErrorHandler")\n\n\xa0// Ejecuci\xf3n del script\n\xa0var $T_result : Text\n\xa0If(PHP Execute("C:\\MyScripts\\MiscInfos.php";"";$T_result))\n\xa0\xa0// Ning\xfan error, $T_Result contiene el resultado\n\xa0Else\n\xa0\xa0// Se ha detectado un error, administrado por PHPErrorHandler\n\xa0\xa0\xa0\xa0If(phpCommError="")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0...\xa0// error PHP, utilice PHP GET FULL RESPONSE\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0ALERT(phpCommError)\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n\xa0\n\xa0\xa0// Desinstalaci\xf3n del m\xe9todo\n\xa0ON ERR CALL($T_saveErrorHandler)\n\n\n'})}),"\n",(0,a.jsx)(n.p,{children:"El m\xe9todo PHP_errHandler es el siguiente:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0phpCommError:=""\n\xa0GET LAST ERROR STACK(arrCodes;arrComps;arrLabels)\n\xa0For($i;1;Size of array(arrCodes))\n\xa0\xa0\xa0\xa0phpCommError:=phpCommError+String(arrCodes{$i})+" "+arrComps{$i}+" "+\n\xa0\xa0\xa0\xa0arrLabels{$i}+Char(Carriage return)\n\xa0End for\n'})}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo-5",children:"Ejemplo 5"}),"\n",(0,a.jsx)(n.p,{children:"Creaci\xf3n din\xe1mica por 4D de un script antes de su ejecuci\xf3n:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0DOCUMENT TO BLOB("C:\\Scripts\\MyScript.php";$blobDoc)\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0$strDoc:=BLOB to text($blobDoc;UTF8 text without length)\n\xa0\n\xa0\xa0\xa0\xa0$strPosition:=Position("function2Rename";$strDoc)\n\xa0\n\xa0\xa0\xa0\xa0$strDoc:=Insert string($strDoc;"_v2";Length("function2Rename")+$strPosition)\n\xa0\n\xa0\xa0\xa0\xa0TEXT TO BLOB($strDoc;$blobDoc;UTF8 text without length)\n\xa0\xa0\xa0\xa0BLOB TO DOCUMENT("C:\\Scripts\\MyScript.php";$blobDoc)\n\xa0\xa0\xa0\xa0If(OK#1)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0ALERT("Error on script creation")\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n'})}),"\n",(0,a.jsx)(n.p,{children:"Se ejecuta el script:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0$err:=PHP Execute("C:\\Scripts\\MyScript.php";"function2Rename_v2";*)\n'})}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo-6",children:"Ejemplo 6"}),"\n",(0,a.jsx)(n.p,{children:"Recuperaci\xf3n directa de un valor de tipo fecha y hora. Este es el contenido del script:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-PHP"})}),"\n",(0,a.jsx)(n.p,{children:"Recepci\xf3n de la fecha del lado 4D:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0var $phpResult_date : Date\n\xa0$result :=PHP Execute("C:\\php_scripts\\ReturnDate.php";"";$phpResult_date)\n\xa0\xa0//$phpResult_date is !05/04/2009 !\n\xa0\n\xa0var $phpResult_time : Time\n\xa0$result :=PHP Execute("C:\\php_scripts\\ReturnDate.php";"";$phpResult_time)\n\xa0\xa0//$phpResult_time is ?01 :02 :03 ?\n'})}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo-7",children:"Ejemplo 7"}),"\n",(0,a.jsx)(n.p,{children:"Distribuci\xf3n de datos en arrays:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY TEXT($arText ;0)\n\xa0ARRAY LONGINT($arLong ;0)\n\xa0$p1 :=","\n\xa0$p2 :="11,22,33,44,55"\n\xa0$phpok :=PHP Execute("";"explode";$arText;$p1;$p2)\n\xa0$phpok :=PHP Execute("";"explode";$arLong;$p1;$p2)\n\xa0\n\xa0\xa0// $arText contiene los valores Alfa "11", "22", "33", etc.\n\xa0\xa0// $arLong contiene los n\xfameros, 11, 22, 33, etc.\n'})}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo-8",children:"Ejemplo 8"}),"\n",(0,a.jsx)(n.p,{children:"Inicializaci\xf3n de un array:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY TEXT($arText ;0)\n\xa0$phpok :=PHP Execute("";"array_pad";$arText;->$arText;50;"indefinido")\n\xa0\xa0// Ejecute en PHP: $arrTest = array_pad($arrTest, 50, \u2019indefinido\u2019);\n\xa0\xa0// Llene el array $arText con 50 elementos "indefinido"\n'})}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo-9",children:"Ejemplo 9"}),"\n",(0,a.jsx)(n.p,{children:"Paso de par\xe1metros v\xeda un array:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY INTEGER($arInt;0)\n\xa0$phpok :=PHP Execute("";"json_decode";$arInt;"[13,51,69,42,7]")\n\xa0\xa0// Ejecute en PHP: $arInt = json_decode(\u2019[13,51,69,42,7]\u2019);\n\xa0\xa0// Llene el array con los valores iniciales\n'})}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo-10",children:"Ejemplo 10"}),"\n",(0,a.jsx)(n.p,{children:"Este es un ejemplo de la utilizaci\xf3n b\xe1sica de la funci\xf3n trim, para eliminar espacios adicionales y/o caracteres invisibles de principio a fin de una cadena:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0var $T_String : Text\n\xa0$T_String:="\xa0\xa0 Hello\xa0 "\n\xa0var $B : Boolean\n\xa0$B:=PHP Execute("";"trim";$T_String;$T_String)\n'})}),"\n",(0,a.jsx)(n.p,{children:"Para obtener m\xe1s informaci\xf3n acerca de la funci\xf3n trim, por favor, consulte la documentaci\xf3n de PHP."}),"\n",(0,a.jsx)(n.h2,{id:"ver-tambi\xe9n",children:"Ver tambi\xe9n"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.em,{children:"Ejecutar scripts PHP en 4D"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/es/commands/php-get-full-response",children:"PHP GET FULL RESPONSE"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/es/commands/php-set-option",children:"PHP SET OPTION"})]}),"\n",(0,a.jsx)(n.h2,{id:"propiedades",children:"Propiedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"N\xfamero de comando"}),(0,a.jsx)(n.td,{children:"1058"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Hilo seguro"}),(0,a.jsx)(n.td,{children:"\u2717"})]})]})]})]})}function p(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return o},a:function(){return i}});var s=r(667294);let a={},l=s.createContext(a);function i(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);