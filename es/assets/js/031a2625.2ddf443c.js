"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[24510],{204303:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>c,frontMatter:()=>o,metadata:()=>d,toc:()=>u});a(667294);var n=a(603905),r=a(793070),i=a(550551);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={id:"SessionClass",title:"Session"},p=void 0,d={unversionedId:"API/SessionClass",id:"version-20-R5/API/SessionClass",title:"Session",description:"Session objects are returned by the Session command. These objects provide the developer with an interface allowing to manage the current user session and execute actions such as store contextual data, share information between session processes, launch session-related preemptive processes, or (web only) manage privileges.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R5/API/SessionClass.md",sourceDirName:"API",slug:"/API/SessionClass",permalink:"/docs/es/API/SessionClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSessionClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"SessionClass",title:"Session"},sidebar:"docs",previous:{title:"POP3Transporter",permalink:"/docs/es/API/POP3TransporterClass"},next:{title:"Signal",permalink:"/docs/es/API/SignalClass"}},m={},u=[{value:"Tipos de sesiones",id:"tipos-de-sesiones",level:3},{value:"Resumen",id:"resumen",level:3},{value:"Session",id:"session",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Sesiones web",id:"sesiones-web",level:4},{value:"Sesiones de cliente remoto",id:"sesiones-de-cliente-remoto",level:4},{value:"Sesi\xf3n de procedimientos almacenados",id:"sesi\xf3n-de-procedimientos-almacenados",level:4},{value:"Ejemplo",id:"ejemplo",level:4},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:"Ejemplo",id:"ejemplo-1",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:"Ejemplo",id:"ejemplo-2",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4},{value:"Ejemplo",id:"ejemplo-3",level:4},{value:".id",id:"id",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-5",level:4},{value:"Ejemplo",id:"ejemplo-4",level:4},{value:".info",id:"info",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-6",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-7",level:4},{value:"Ejemplo",id:"ejemplo-5",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-8",level:4},{value:"Ejemplo",id:"ejemplo-6",level:4},{value:".storage",id:"storage",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-9",level:4},{value:".userName",id:"username",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-10",level:4}],k={toc:u};function c(e){var{components:t}=e,a=s(e,["components"]);return(0,n.kt)("wrapper",l({},k,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Session objects are returned by the ",(0,n.kt)("a",l({parentName:"p"},{href:"#session"}),(0,n.kt)("inlineCode",{parentName:"a"},"Session"))," command. These objects provide the developer with an interface allowing to manage the current user session and execute actions such as store contextual data, share information between session processes, launch session-related preemptive processes, or (web only) manage ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/privileges"}),"privileges"),"."),(0,n.kt)("h3",l({},{id:"tipos-de-sesiones"}),"Tipos de sesiones"),(0,n.kt)("p",null,"Esta clase admite tres tipos de sesiones:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/WebServer/sessions"}),(0,n.kt)("strong",{parentName:"a"},"Web user sessions")),": Web user sessions are available when ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/WebServer/sessions#enabling-sessions"}),"scalable sessions are enabled in your project"),". Se utilizan para conexiones Web y REST, y se les pueden asignar privilegios."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/Desktop/clientServer#remote-user-sessions"}),(0,n.kt)("strong",{parentName:"a"},"Remote client user sessions")),": In client/server applications, remote users have their own sessions managed on the server."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",l({parentName:"li"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),(0,n.kt)("strong",{parentName:"a"},"Stored procedures session")),": All stored procedures executed on the server share the same virtual user session.")),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"The availability of properties and functions in the ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object depend on the session type.")),(0,n.kt)("h3",l({},{id:"resumen"}),"Resumen"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#clearprivileges"}),(0,n.kt)("strong",{parentName:"a"},".clearPrivileges()")," : Boolean"),(0,n.kt)("br",null),"removes all the privileges associated to the session and returns ",(0,n.kt)("strong",{parentName:"td"},"True")," if the execution was successful")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#expirationdate"}),(0,n.kt)("strong",{parentName:"a"},".expirationDate")," : Text"),(0,n.kt)("br",null),"the expiration date and time of the session cookie")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#hasprivilege"}),(0,n.kt)("strong",{parentName:"a"},".hasPrivilege"),"( ",(0,n.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean"),(0,n.kt)("br",null),"returns True if the ",(0,n.kt)("em",{parentName:"td"},"privilege")," is associated to the session, and False otherwise")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#id"}),(0,n.kt)("strong",{parentName:"a"},".id")," : Text"),(0,n.kt)("br",null),"the unique identifier (UUID) of the session on the server")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#idletimeout"}),(0,n.kt)("strong",{parentName:"a"},".idleTimeout")," : Integer"),(0,n.kt)("br",null),"the inactivity session timeout (in minutes), after which the session is automatically closed by 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#info"}),(0,n.kt)("strong",{parentName:"a"},".info")," : Object"),(0,n.kt)("br",null),"describes the remote client or stored procedure session on the server")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#isguest"}),(0,n.kt)("strong",{parentName:"a"},".isGuest()")," : Boolean"),(0,n.kt)("br",null),"returns True if the session is a Guest session (i.e. it has no privileges)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#setprivileges"}),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"privileges")," : Collection )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object ) : Boolean"),(0,n.kt)("br",null),"associates the privilege(s) and/or role(s) defined in the parameter to the session and returns ",(0,n.kt)("strong",{parentName:"td"},"True")," if the execution was successful")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#storage"}),(0,n.kt)("strong",{parentName:"a"},".storage")," : Object"),(0,n.kt)("br",null),"a shared object that can be used to store information available to all processes of the session")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#username"}),(0,n.kt)("strong",{parentName:"a"},".userName")," : Text"),(0,n.kt)("br",null),"the user name associated to the session")))),(0,n.kt)("h2",l({},{id:"session"}),"Session"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Soporte de cliente remoto y sesiones de procedimientos almacenados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Session")," : 4D.Session"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.Session"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto Session")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," command returns the ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object corresponding to the current user session."),(0,n.kt)("p",null,"Dependiendo del proceso desde el que se llame al comando, la sesi\xf3n de usuario actual puede ser:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"a web session (when ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/WebServer/sessions#enabling-sessions"}),"scalable sessions are enabled"),"),"),(0,n.kt)("li",{parentName:"ul"},"una sesi\xf3n de cliente remoto,"),(0,n.kt)("li",{parentName:"ul"},"la sesi\xf3n de procedimientos almacenados.")),(0,n.kt)("p",null,"For more information, see the ",(0,n.kt)("a",l({parentName:"p"},{href:"#session-types"}),"Session types")," paragraph."),(0,n.kt)("p",null,"If the command is called from a non supported context (single-user application, scalable sessions disabled...), it returns ",(0,n.kt)("em",{parentName:"p"},"Null"),"."),(0,n.kt)("h4",l({},{id:"sesiones-web"}),"Sesiones web"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object of web sessions is available from any web process:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"On Web Authentication"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Web Connection"),", and ",(0,n.kt)("inlineCode",{parentName:"li"},"On REST Authentication")," database methods,"),(0,n.kt)("li",{parentName:"ul"},"c\xf3digo procesado a trav\xe9s de las etiquetas 4D en las p\xe1ginas semidin\xe1micas (4DTEXT, 4DHTML, 4DEVAL, 4DSCRIPT/, 4DCODE)"),(0,n.kt)("li",{parentName:"ul"},'los m\xe9todos proyecto con el atributo "Available through 4D tags and URLs (4DACTION...)" y llamados a trav\xe9s de 4DACTION/ urls,'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",l({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-authentication"}),(0,n.kt)("inlineCode",{parentName:"a"},"On Mobile App Authentication"))," and ",(0,n.kt)("a",l({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-action"}),(0,n.kt)("inlineCode",{parentName:"a"},"On Mobile App Action"))," database methods for mobile requests,"),(0,n.kt)("li",{parentName:"ul"},"ORDA functions ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/REST/classFunctions"}),"called with REST requests"),".")),(0,n.kt)("p",null,"For more information on web user sessions, please refer to the ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/WebServer/sessions"}),"Web Server Sessions")," section."),(0,n.kt)("h4",l({},{id:"sesiones-de-cliente-remoto"}),"Sesiones de cliente remoto"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object of remote client sessions is available from:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"M\xe9todos proyecto que tienen el atributo ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/Project/code-overview#execute-on-server"}),"Ejecutar en el Servidor"),' (se ejecutan en el proceso "twinned" del proceso cliente),'),(0,n.kt)("li",{parentName:"ul"},"Triggers,"),(0,n.kt)("li",{parentName:"ul"},"Los m\xe9todos base ",(0,n.kt)("inlineCode",{parentName:"li"},"On Server Open Connection")," y ",(0,n.kt)("inlineCode",{parentName:"li"},"On Server Shutdown Connection")," de la base de datos.")),(0,n.kt)("p",null,"For more information on remote user sessions, please refer to the ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/Desktop/clientServer#remote-user-sessions"}),(0,n.kt)("strong",{parentName:"a"},"Remote client user sessions"))," paragraph."),(0,n.kt)("h4",l({},{id:"sesi\xf3n-de-procedimientos-almacenados"}),"Sesi\xf3n de procedimientos almacenados"),(0,n.kt)("p",null,"Todos los procesos de procedimientos almacenados comparten la misma sesi\xf3n virtual de usuario. The ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object of stored procedures is available from:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"methods called with the ",(0,n.kt)("a",l({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/en/page373.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Execute on server"))," command,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"On Server Startup"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Server Shutdown"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Backup Startup"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Backup Shutdown"),", and ",(0,n.kt)("inlineCode",{parentName:"li"},"On System event")," database methods")),(0,n.kt)("p",null,"For information on stored procedures virtual user session, please refer to the ",(0,n.kt)("a",l({parentName:"p"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),"4D Server and the 4D Language")," page."),(0,n.kt)("h4",l({},{id:"ejemplo"}),"Ejemplo"),(0,n.kt)("p",null,"You have defined the ",(0,n.kt)("inlineCode",{parentName:"p"},"action_Session"),' method with attribute "Available through 4D tags and URLs". Se llama al m\xe9todo introduciendo la siguiente URL en el navegador:'),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),"IP:port/4DACTION/action_Session\n")),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'  //action_Session method\n Case of\n    :(Session#Null)\n       If(Session.hasPrivilege("WebAdmin")) //calling the hasPrivilege function\n          WEB SEND TEXT("4DACTION --\x3e Session is WebAdmin")\n       Else\n          WEB SEND TEXT("4DACTION --\x3e Session is not WebAdmin")\n       End if\n    Else\n       WEB SEND TEXT("4DACTION --\x3e Session is null")\n End case\n')),(0,n.kt)("h2",l({},{id:"clearprivileges"}),".clearPrivileges()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clearPrivileges()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si la ejecuci\xf3n se ha realizado correctamente")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-1"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"This function does nothing and always returns ",(0,n.kt)("strong",{parentName:"p"},"False")," with remote client and stored procedure sessions.")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".clearPrivileges()")," function removes all the privileges associated to the session and returns ",(0,n.kt)("strong",{parentName:"p"},"True")," if the execution was successful. Como resultado, la sesi\xf3n se convierte autom\xe1ticamente en una sesi\xf3n de invitado."),(0,n.kt)("h4",l({},{id:"ejemplo-1"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"//Invalidate a web user session\nvar $isGuest : Boolean\nvar $isOK : Boolean\n\n$isOK:=Session.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest is True\n")),(0,n.kt)("h2",l({},{id:"expirationdate"}),".expirationDate"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".expirationDate")," : Text"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-2"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Esta propiedad s\xf3lo est\xe1 disponible con sesiones de usuario web.")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".expirationDate")," property contains the expiration date and time of the session cookie. The value is expressed as text in the ISO 8601 format: ",(0,n.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DDTHH:MM:SS.mmmZ"),"."),(0,n.kt)("p",null,"Esta propiedad es de ",(0,n.kt)("strong",{parentName:"p"},"solo lectura"),". It is automatically recomputed if the ",(0,n.kt)("a",l({parentName:"p"},{href:"#idletimeout"}),(0,n.kt)("inlineCode",{parentName:"a"},".idleTimeout"))," property value is modified."),(0,n.kt)("h4",l({},{id:"ejemplo-2"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $expiration : Text\n$expiration:=Session.expirationDate //eg "2021-11-05T17:10:42Z"\n')),(0,n.kt)("h2",l({},{id:"hasprivilege"}),".hasPrivilege()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".hasPrivilege"),"( ",(0,n.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"privilege"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del privilegio a verificar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True if session has ",(0,n.kt)("em",{parentName:"td"},"privilege"),", False otherwise")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-3"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".hasPrivilege()")," function returns True if the ",(0,n.kt)("em",{parentName:"p"},"privilege")," is associated to the session, and False otherwise."),(0,n.kt)("p",null,"With remote client and stored procedure sessions, this function always returns True, whatever the ",(0,n.kt)("em",{parentName:"p"},"privilege"),"."),(0,n.kt)("h4",l({},{id:"ejemplo-3"}),"Ejemplo"),(0,n.kt)("p",null,'You want to check if the "WebAdmin" privilege is associated to the web user session:'),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'If (Session.hasPrivilege("WebAdmin"))\n    //Access is granted, do nothing\nElse\n    //Display an authentication page\n\nEnd if\n')),(0,n.kt)("h2",l({},{id:"id"}),".id"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".id")," : Text"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-4"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".id")," property contains the unique identifier (UUID) of the session on the server. Esta cadena \xfanica es asignada autom\xe1ticamente por el servidor para cada sesi\xf3n y permite identificar sus procesos."),(0,n.kt)("h2",l({},{id:"idletimeout"}),".idleTimeout"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".idleTimeout")," : Integer"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-5"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Esta propiedad s\xf3lo est\xe1 disponible con sesiones de usuario web.")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".idleTimeout")," property contains the inactivity session timeout (in minutes), after which the session is automatically closed by 4D."),(0,n.kt)("p",null,"Si no se define esta propiedad, el valor por defecto es 60 (1h)."),(0,n.kt)("p",null,"When this property is set, the ",(0,n.kt)("a",l({parentName:"p"},{href:"#expirationdate"}),(0,n.kt)("inlineCode",{parentName:"a"},".expirationDate"))," property is updated accordingly."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"El valor no puede ser inferior a 60: si se define un valor inferior, el tiempo de espera se eleva hasta 60.")),(0,n.kt)("p",null,"Esta propiedad est\xe1 en ",(0,n.kt)("strong",{parentName:"p"},"lectura escritura"),"."),(0,n.kt)("h4",l({},{id:"ejemplo-4"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n        // A Guest session will close after 60 minutes of inactivity\n    Session.idleTimeout:=60\nElse\n        // Other sessions will close after 120 minutes of inactivity\n    Session.idleTimeout:=120\nEnd if\n\n")),(0,n.kt)("h2",l({},{id:"info"}),".info"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".info")," : Object"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-6"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Esta propiedad s\xf3lo est\xe1 disponible con sesiones de cliente remoto y procedimientos almacenados.")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," property describes the remote client or stored procedure session on the server."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," object is the same object as the one returned by the ",(0,n.kt)("a",l({parentName:"p"},{href:"https://doc.4d.com/4dv20/help/command/en/page1495.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Get process activity"))," command for remote client and stored procedure sessions."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," object contains the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Tipo de sesi\xf3n: "remote" o "storedProcedure"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"userName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D user name (same value as ",(0,n.kt)("a",l({parentName:"td"},{href:"#username"}),(0,n.kt)("inlineCode",{parentName:"a"},".userName")),")")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"machineName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Sesiones remotas: nombre de la m\xe1quina remota. Sesi\xf3n de procedimientos almacenados: nombre del equipo servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"systemUserName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Sesiones remotas: nombre de la sesi\xf3n del sistema abierta en la m\xe1quina remota.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"IPAddress"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Direcci\xf3n IP de la m\xe1quina remota")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"hostType"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Tipo de host: "windows" o "mac"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"creationDateTime"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Date ISO 8601"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Fecha y hora de creaci\xf3n de la sesi\xf3n")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"state"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Estado de la sesi\xf3n: "active", "postponed", "sleeping"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"ID"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"UUID de sesi\xf3n (el mismo valor que ",(0,n.kt)("a",l({parentName:"td"},{href:"#id"}),(0,n.kt)("inlineCode",{parentName:"a"},".id")),")")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"persistentID"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"ID persistente de la sesi\xf3n")))),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Since ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," is a computed property, it is recommended to call it once and then to store it in a local variable if you want to do some processing on its properties.")),(0,n.kt)("h2",l({},{id:"isguest"}),".isGuest()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isGuest()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si la sesi\xf3n es una sesi\xf3n Guest, False en caso contrario")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-7"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"This function always returns ",(0,n.kt)("strong",{parentName:"p"},"False")," with remote client and stored procedure sessions.")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".isGuest()")," function returns True if the session is a Guest session (i.e. it has no privileges)."),(0,n.kt)("h4",l({},{id:"ejemplo-5"}),"Ejemplo"),(0,n.kt)("p",null,"En el m\xe9todo base ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Connection"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n    //Do something for Guest user\nEnd if\n")),(0,n.kt)("h2",l({},{id:"setprivileges"}),".setPrivileges()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19 R8"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Compatibilidad con la propiedad "roles" en Settings')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"privileges")," : Collection )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object ) : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"privilege"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del privilegio")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"privileges"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Colecci\xf3n de nombres de privilegios")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Objeto con una propiedad "privilegios" (cadena o colecci\xf3n)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si la ejecuci\xf3n se ha realizado correctamente")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-8"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"This function does nothing and always returns ",(0,n.kt)("strong",{parentName:"p"},"False")," with remote client and stored procedure sessions.")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".setPrivileges()")," function associates the privilege(s) and/or role(s) defined in the parameter to the session and returns ",(0,n.kt)("strong",{parentName:"p"},"True")," if the execution was successful."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"In the ",(0,n.kt)("em",{parentName:"p"},"privilege")," parameter, pass a string containing a privilege name (or several comma-separated privilege names).")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"In the ",(0,n.kt)("em",{parentName:"p"},"privileges")," parameter, pass a collection of strings containing privilege names.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"In the ",(0,n.kt)("em",{parentName:"p"},"settings")," parameter, pass an object containing the following properties:"))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"privileges"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text o Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"String containing a privilege name, or"),(0,n.kt)("li",null,"Collection of strings containing privilege names"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"roles"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text o Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"String containing a role, or"),(0,n.kt)("li",null,"Collection of strings containing roles"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"userName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de usuario para asociar a la sesi\xf3n (opcional)")))),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Privileges and roles are defined in ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/privileges#rolesjson-file"}),(0,n.kt)("inlineCode",{parentName:"a"},"roles.json"))," file of the project. For more information, please refer to the ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/privileges"}),(0,n.kt)("strong",{parentName:"a"},"Privileges"))," section.")),(0,n.kt)("p",null,"If the ",(0,n.kt)("inlineCode",{parentName:"p"},"privileges")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"roles")," property contains a name that is not declared in the ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/privileges#rolesjson-file"}),(0,n.kt)("inlineCode",{parentName:"a"},"roles.json"))," file, it is ignored."),(0,n.kt)("p",null,"By default when no privilege or role is associated to the session, the session is a ",(0,n.kt)("a",l({parentName:"p"},{href:"#isguest"}),"Guest session"),"."),(0,n.kt)("p",null,"The ",(0,n.kt)("a",l({parentName:"p"},{href:"#username"}),(0,n.kt)("inlineCode",{parentName:"a"},"userName"))," property is available at session object level (read-only)."),(0,n.kt)("h4",l({},{id:"ejemplo-6"}),"Ejemplo"),(0,n.kt)("p",null,'En un m\xe9todo de autenticaci\xf3n personalizado, se establece el privilegio "WebAdmin" para el usuario:'),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $userOK : Boolean\n\n... //Authenticate the user\n\nIf ($userOK) //The user has been approved\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection("WebAdmin")\n  Session.setPrivileges($info)\nEnd if\n\n')),(0,n.kt)("h2",l({},{id:"storage"}),".storage"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Soporte de cliente remoto y sesiones de procedimientos almacenados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".storage")," : Object"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-9"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".storage")," property contains a shared object that can be used to store information available to all processes of the session."),(0,n.kt)("p",null,"When a ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object is created, the ",(0,n.kt)("inlineCode",{parentName:"p"},".storage")," property is empty. Since it is a shared object, this property will be available in the ",(0,n.kt)("inlineCode",{parentName:"p"},"Storage")," object of the server."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Like the ",(0,n.kt)("inlineCode",{parentName:"p"},"Storage")," object of the server, the ",(0,n.kt)("inlineCode",{parentName:"p"},".storage"),' property is always "single": adding a shared object or a shared collection to ',(0,n.kt)("inlineCode",{parentName:"p"},".storage")," does not create a shared group.")),(0,n.kt)("p",null,"This property is ",(0,n.kt)("strong",{parentName:"p"},"read only")," itself but it returns a read-write object."),(0,n.kt)(r.Z,{mdxType:"Tabs"},(0,n.kt)(i.Z,{value:"Web session example",mdxType:"TabItem"},(0,n.kt)("p",null,"Desea almacenar la IP del cliente en la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".storage"),". You can write in the ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," database method:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'If (Session.storage.clientIP=Null) //first access\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use\nEnd if\n'))),(0,n.kt)(i.Z,{value:"Remote session example",mdxType:"TabItem"},(0,n.kt)("p",null,"You want to share data between processes in the same session:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'Use (Session.storage)\n Session.storage.settings:=New shared object("property"; $value; "property2"; $value2)\nEnd use\n')))),(0,n.kt)("h2",l({},{id:"username"}),".userName"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Soporte de cliente remoto y sesiones de procedimientos almacenados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".userName")," : Text"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-10"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".userName")," property contains the user name associated to the session. Puede utilizarlo para identificar al usuario dentro de su c\xf3digo."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Con las sesiones web, esta propiedad es una cadena vac\xeda por defecto. It can be set using the ",(0,n.kt)("inlineCode",{parentName:"li"},"privileges")," property of the ",(0,n.kt)("a",l({parentName:"li"},{href:"#setprivileges"}),(0,n.kt)("inlineCode",{parentName:"a"},"setPrivileges()"))," function."),(0,n.kt)("li",{parentName:"ul"},"With remote and stored procedure sessions, this property returns the same user name as the ",(0,n.kt)("a",l({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/en/page182.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Current user"))," command.")),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"solo lectura"),"."))}c.isMDXComponent=!0}}]);