"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[69378],{603905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>k});var n=a(667294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var p=n.createContext({}),d=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=d(e.components);return n.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),u=d(a),k=l,c=u["".concat(p,".").concat(k)]||u[k]||m[k]||r;return a?n.createElement(c,i(i({ref:t},s),{},{components:a})):n.createElement(c,i({ref:t},s))}));function k(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var d=2;d<r;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},446183:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>p,toc:()=>s});a(667294);var n=a(603905);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function r(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}const i={id:"EntityClass",title:"Entity"},o=void 0,p={unversionedId:"API/EntityClass",id:"version-20-R5/API/EntityClass",title:"Entity",description:"An entity is an instance of a Dataclass, like a record of the table matching the dataclass in its associated datastore. Contiene los mismos atributos que la clase de datos, as\xed como los valores de los datos y las propiedades y funciones espec\xedficas.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R5/API/EntityClass.md",sourceDirName:"API",slug:"/API/EntityClass",permalink:"/docs/es/API/EntityClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntityClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"EntityClass",title:"Entity"},sidebar:"docs",previous:{title:"Email",permalink:"/docs/es/API/EmailObjectClass"},next:{title:"EntitySelection",permalink:"/docs/es/API/EntitySelectionClass"}},d={},s=[{value:"Resumen",id:"resumen",level:3},{value:".<em>attributeName</em>",id:"attributename",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Ejemplo",id:"ejemplo",level:4},{value:".clone()",id:"clone",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:"Ejemplo",id:"ejemplo-1",level:4},{value:".diff()",id:"diff",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:"Ejemplo 1",id:"ejemplo-1-1",level:4},{value:"Ejemplo 2",id:"ejemplo-2",level:4},{value:".drop()",id:"drop",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4},{value:"Ejemplo 1",id:"ejemplo-1-2",level:4},{value:"Ejemplo 2",id:"ejemplo-2-1",level:4},{value:".first()",id:"first",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:4},{value:"Ejemplo",id:"ejemplo-3",level:4},{value:".fromObject()",id:"fromobject",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-5",level:4},{value:"Ejemplo",id:"ejemplo-4",level:4},{value:".getDataClass()",id:"getdataclass",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-6",level:4},{value:"Ejemplo",id:"ejemplo-5",level:4},{value:".getKey()",id:"getkey",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-7",level:4},{value:"Ejemplo",id:"ejemplo-6",level:4},{value:".getRemoteContextAttributes()",id:"getremotecontextattributes",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-8",level:4},{value:"Ejemplo",id:"ejemplo-7",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n",level:4},{value:".getSelection()",id:"getselection",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-9",level:4},{value:"Ejemplo",id:"ejemplo-8",level:4},{value:".getStamp()",id:"getstamp",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-10",level:4},{value:"Ejemplo",id:"ejemplo-9",level:4},{value:".indexOf()",id:"indexof",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-11",level:4},{value:"Ejemplo",id:"ejemplo-10",level:4},{value:".isNew()",id:"isnew",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-12",level:4},{value:"Ejemplo",id:"ejemplo-11",level:4},{value:".last()",id:"last",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-13",level:4},{value:"Ejemplo",id:"ejemplo-12",level:4},{value:".lock()",id:"lock",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-14",level:4},{value:"Ejemplo 1",id:"ejemplo-1-3",level:4},{value:"Ejemplo 2",id:"ejemplo-2-2",level:4},{value:".next()",id:"next",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-15",level:4},{value:"Ejemplo",id:"ejemplo-13",level:4},{value:".previous()",id:"previous",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-16",level:4},{value:"Ejemplo",id:"ejemplo-14",level:4},{value:".reload()",id:"reload",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-17",level:4},{value:"Ejemplo",id:"ejemplo-15",level:4},{value:".save()",id:"save",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-18",level:4},{value:"status y statusText",id:"status-y-statustext",level:5},{value:"Ejemplo 1",id:"ejemplo-1-4",level:4},{value:"Ejemplo 2",id:"ejemplo-2-3",level:4},{value:"Ejemplo 3",id:"ejemplo-3-1",level:4},{value:".toObject()",id:"toobject",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-19",level:4},{value:"Ejemplo 1",id:"ejemplo-1-5",level:4},{value:"Ejemplo 2",id:"ejemplo-2-4",level:4},{value:"Ejemplo 3",id:"ejemplo-3-2",level:4},{value:"Ejemplo 4",id:"ejemplo-4-1",level:4},{value:"Ejemplo 5",id:"ejemplo-5-1",level:4},{value:"Ejemplo 6",id:"ejemplo-6-1",level:4},{value:"Ejemplo 7",id:"ejemplo-7-1",level:4},{value:".touched( )",id:"touched-",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-20",level:4},{value:"Ejemplo",id:"ejemplo-16",level:4},{value:".touchedAttributes( )",id:"touchedattributes-",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-21",level:4},{value:"Ejemplo 1",id:"ejemplo-1-6",level:4},{value:"Ejemplo 2",id:"ejemplo-2-5",level:4},{value:".unlock()",id:"unlock",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-22",level:4},{value:"Ejemplo",id:"ejemplo-17",level:4}],m={toc:s};function u(e){var{components:t}=e,i=r(e,["components"]);return(0,n.kt)("wrapper",l({},m,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"An ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/dsmapping#entity"}),"entity")," is an instance of a ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/dsmapping#dataclass"}),"Dataclass"),", like a record of the table matching the dataclass in its associated datastore. Contiene los mismos atributos que la clase de datos, as\xed como los valores de los datos y las propiedades y funciones espec\xedficas."),(0,n.kt)("h3",l({},{id:"resumen"}),"Resumen"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#attributename"}),(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("em",{parentName:"strong"},".attributeName"))," : any"),(0,n.kt)("br",null)," almacena el valor del atributo para la entidad")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#clone"}),(0,n.kt)("strong",{parentName:"a"},".clone()")," : 4D.Entity"),(0,n.kt)("br",null),"creates in memory a new entity referencing the same record as the original entity")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#diff"}),(0,n.kt)("strong",{parentName:"a"},".diff"),"( ",(0,n.kt)("em",{parentName:"a"},"entityToCompare")," : 4D.Entity { ; ",(0,n.kt)("em",{parentName:"a"},"attributesToCompare")," : Collection } ) : Collection"),(0,n.kt)("br",null),"compares the contents of two entities and returns their differences")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#drop"}),(0,n.kt)("strong",{parentName:"a"},".drop"),"( {",(0,n.kt)("em",{parentName:"a"},"mode")," : Integer} ) : Object"),(0,n.kt)("br",null),"deletes the data contained in the entity from the datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#first"}),(0,n.kt)("strong",{parentName:"a"},".first()"),": 4D.Entity"),(0,n.kt)("br",null),"returns a reference to the entity in first position of the entity selection which the entity belongs to")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#fromobject"}),(0,n.kt)("strong",{parentName:"a"},".fromObject"),"( ",(0,n.kt)("em",{parentName:"a"},"filler")," : Object )"),(0,n.kt)("br",null),"fills an entity with the ",(0,n.kt)("em",{parentName:"td"},"filler")," content")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getdataclass"}),(0,n.kt)("strong",{parentName:"a"},".getDataClass()")," : 4D.DataClass"),(0,n.kt)("br",null),"returns the dataclass of the entity")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getkey"}),(0,n.kt)("strong",{parentName:"a"},".getKey"),"( { ",(0,n.kt)("em",{parentName:"a"},"mode")," : Integer } ) : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".getKey"),"( { ",(0,n.kt)("em",{parentName:"a"},"mode")," : Integer } ) : Integer"),(0,n.kt)("br",null),"returns the primary key value of the entity")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getremotecontextattributes"}),(0,n.kt)("strong",{parentName:"a"},".getRemoteContextAttributes()")," : Text"),(0,n.kt)("br",null),"returns information about the optimization context used by the entity")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getselection"}),(0,n.kt)("strong",{parentName:"a"},".getSelection()"),": 4D.EntitySelection"),(0,n.kt)("br",null),"returns the entity selection which the entity belongs to")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getstamp"}),(0,n.kt)("strong",{parentName:"a"},".getStamp()")," : Integer"),(0,n.kt)("br",null)," returns the current value of the stamp of the entity")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#indexof"}),(0,n.kt)("strong",{parentName:"a"},".indexOf"),"( { ",(0,n.kt)("em",{parentName:"a"},"entitySelection")," : 4D.EntitySelection } ) : Integer"),(0,n.kt)("br",null),"returns the position of the entity in an entity selection")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#isnew"}),(0,n.kt)("strong",{parentName:"a"},".isNew()")," : Boolean"),(0,n.kt)("br",null)," returns True if the entity to which it is applied has just been created and has not yet been saved in the datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#last"}),(0,n.kt)("strong",{parentName:"a"},".last()")," : 4D.Entity"),(0,n.kt)("br",null),"returns a reference to the entity in last position of the entity selection which the entity belongs to")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#lock"}),(0,n.kt)("strong",{parentName:"a"},".lock"),"( { ",(0,n.kt)("em",{parentName:"a"},"mode")," : Integer } ) : Object"),(0,n.kt)("br",null),"puts a pessimistic lock on the record referenced by the entity")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#next"}),(0,n.kt)("strong",{parentName:"a"},".next()")," : 4D.Entity"),(0,n.kt)("br",null),"returns a reference to the next entity in the entity selection which the entity belongs to")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#previous"}),(0,n.kt)("strong",{parentName:"a"},".previous()"),"  : 4D.Entity"),(0,n.kt)("br",null)," returns a reference to the previous entity in the entity selection which the entity belongs to")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#reload"}),(0,n.kt)("strong",{parentName:"a"},".reload()")," : Object"),(0,n.kt)("br",null),"reloads the content of the entity in memory")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#save"}),(0,n.kt)("strong",{parentName:"a"},".save"),"( { ",(0,n.kt)("em",{parentName:"a"},"mode")," : Integer } ) : Object"),(0,n.kt)("br",null),"saves the changes made to the entity")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#toobject"}),(0,n.kt)("strong",{parentName:"a"},".toObject"),"() : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".toObject"),"( ",(0,n.kt)("em",{parentName:"a"},"filterString")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"options")," : Integer}  ) : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".toObject"),"( ",(0,n.kt)("em",{parentName:"a"},"filterCol")," : Collection { ; ",(0,n.kt)("em",{parentName:"a"},"options")," : Integer } ) : Object"),(0,n.kt)("br",null),"returns an object which has been built from the entity")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#touched"}),(0,n.kt)("strong",{parentName:"a"},".touched()")," : Boolean"),(0,n.kt)("br",null),"tests whether or not an entity attribute has been modified since the entity was loaded into memory or saved")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#touchedattributes"}),(0,n.kt)("strong",{parentName:"a"},".touchedAttributes()")," : Collection"),(0,n.kt)("br",null),"returns the names of the attributes that have been modified since the entity was loaded into memory")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#unlock"}),(0,n.kt)("strong",{parentName:"a"},".unlock()")," : Object"),(0,n.kt)("br",null),"removes the pessimistic lock on the record matching the entity")))),(0,n.kt)("h2",l({},{id:"attributename"}),".",(0,n.kt)("em",{parentName:"h2"},"attributeName")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},".attributeName"))," : any"),(0,n.kt)("h4",l({},{id:"descripci\xf3n"}),"Descripci\xf3n"),(0,n.kt)("p",null,"Todo atributo de la dataclass est\xe1 disponible como una propiedad de una entidad, que  almacena el valor del atributo para la entidad."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Los atributos dataclass tambi\xe9n se pueden alcanzar utilizando la sintaxis alternativa con ","["," ].")),(0,n.kt)("p",null,"The attribute value type depends on the attribute ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/DataClassClass#attributename"}),"kind")," (relation or storage):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"If ",(0,n.kt)("em",{parentName:"li"},"attributeName")," kind is ",(0,n.kt)("strong",{parentName:"li"},"storage"),":\n",(0,n.kt)("inlineCode",{parentName:"li"},".attributeName")," returns a value of the same type as ",(0,n.kt)("em",{parentName:"li"},"attributeName"),"."),(0,n.kt)("li",{parentName:"ul"},"If ",(0,n.kt)("em",{parentName:"li"},"attributeName")," kind is ",(0,n.kt)("strong",{parentName:"li"},"relatedEntity"),":\n",(0,n.kt)("inlineCode",{parentName:"li"},".attributeName"),' returns the related entity. Los valores de la entidad relacionada est\xe1n disponibles directamente a trav\xe9s de las propiedades en cascada, por ejemplo "myEntity.employer.employees',"[",'0].lastname".'),(0,n.kt)("li",{parentName:"ul"},"If ",(0,n.kt)("em",{parentName:"li"},"attributeName")," kind is ",(0,n.kt)("strong",{parentName:"li"},"relatedEntities"),":\n",(0,n.kt)("inlineCode",{parentName:"li"},".attributeName")," returns a new entity selection of related entities. Se eliminan los duplicados (se devuelve una entity selection desordenada).")),(0,n.kt)("h4",l({},{id:"ejemplo"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $myEntity : cs.EmployeeEntity\n $myEntity:=ds.Employee.new() //Crear una nueva entidad\n $myEntity.name:=\"Dupont\" // asignar 'Dupont' al atributo 'name'\n $myEntity.firstname:=\"John\" //asignar 'John' al atributo 'firstname'\n $myEntity.save() //guardar la entidad\n")),(0,n.kt)("h2",l({},{id:"clone"}),".clone()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clone()")," : 4D.Entity"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nueva entidad que hace referencia al registro")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-1"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".clone()")," function creates in memory a new entity referencing the same record as the original entity. Esta funci\xf3n permite actualizar las entidades por separado."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Keep in mind that any modifications done to entities will be saved in the referenced record only when the ",(0,n.kt)("a",l({parentName:"p"},{href:"#save"}),(0,n.kt)("inlineCode",{parentName:"a"},".save( )"))," function is executed.")),(0,n.kt)("p",null,"Esta funci\xf3n s\xf3lo puede utilizarse con entidades ya guardadas en la base de datos. It cannot be called on a newly created entity (for which ",(0,n.kt)("a",l({parentName:"p"},{href:"#isnew"}),(0,n.kt)("inlineCode",{parentName:"a"},".isNew()"))," returns ",(0,n.kt)("strong",{parentName:"p"},"True"),")."),(0,n.kt)("h4",l({},{id:"ejemplo-1"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $emp; $empCloned : cs.EmployeeEntity\n $emp:=ds.Employee.get(672)\n $empCloned:=$emp.clone()\n\n $emp.lastName:="Smith" //Updates done on $emp are not done on $empCloned\n\n')),(0,n.kt)("h2",l({},{id:"diff"}),".diff()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".diff"),"( ",(0,n.kt)("em",{parentName:"p"},"entityToCompare")," : 4D.Entity { ; ",(0,n.kt)("em",{parentName:"p"},"attributesToCompare")," : Collection } ) : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"entityToCompare"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Entidad a comparar con la entidad original")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"attributesToCompare"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de los atributos a comparar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Diferencias entre las entidades")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-2"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".diff()")," function compares the contents of two entities and returns their differences."),(0,n.kt)("p",null,"In ",(0,n.kt)("em",{parentName:"p"},"entityToCompare"),", pass the entity to be compared to the original entity."),(0,n.kt)("p",null,"In ",(0,n.kt)("em",{parentName:"p"},"attributesToCompare"),", you can designate specific attributes to compare. Si se suministra, la comparaci\xf3n se realiza s\xf3lo en los atributos especificados. Si no se suministra, se devuelven todas las diferencias entre las entidades."),(0,n.kt)("p",null,"Las diferencias se devuelven como una colecci\xf3n de objetos cuyas propiedades son:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Nombre de propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"attributeName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"String"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del atributo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"value"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"cualquiera - Depende del tipo de atributo"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Valor del atributo en la entidad")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"otherValue"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"cualquiera - Depende del tipo de atributo"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Value of the attribute in ",(0,n.kt)("em",{parentName:"td"},"entityToCompare"))))),(0,n.kt)("p",null,"S\xf3lo se incluyen en la colecci\xf3n los atributos con valores diferentes. If no differences are found, ",(0,n.kt)("inlineCode",{parentName:"p"},".diff()")," returns an empty collection."),(0,n.kt)("p",null,"The function applies for properties whose ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/DataClassClass#attributename"}),"kind")," is ",(0,n.kt)("strong",{parentName:"p"},"storage")," or ",(0,n.kt)("strong",{parentName:"p"},"relatedEntity"),". In case a related entity has been updated (meaning the foreign key), the name of the related entity and its primary key name are returned as ",(0,n.kt)("em",{parentName:"p"},"attributeName")," properties (",(0,n.kt)("em",{parentName:"p"},"value")," and ",(0,n.kt)("em",{parentName:"p"},"otherValue")," are empty for the related entity name)."),(0,n.kt)("p",null,"If one of the compared entities is ",(0,n.kt)("strong",{parentName:"p"},"Null"),", an error is raised."),(0,n.kt)("h4",l({},{id:"ejemplo-1-1"}),"Ejemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $diff1; $diff2 : Collection\n employee:=ds.Employee.query("ID=1001").first()\n $clone:=employee.clone()\n employee.firstName:="MARIE"\n employee.lastName:="SOPHIE"\n employee.salary:=500\n $diff1:=$clone.diff(employee) // Se devuelven todas las diferencias\n $diff2:=$clone.diff(employee;New collection("firstName"; "lastName"))\n  // S\xf3lo se devuelven las diferencias en firstName y lastName\n')),(0,n.kt)("p",null,"$diff1:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "attributeName": "firstName",\n        "value": "Natasha",\n        "otherValue": "MARIE"\n    },\n    {\n        "attributeName": "lastName",\n        "value": "Locke",\n        "otherValue": "SOPHIE"\n    },\n    {\n        "attributeName": "salary",\n        "value": 66600,\n        "otherValue": 500\n    }\n]\n$diff2:\n\n[\n    {\n        "attributeName": "firstName",\n        "value": "Natasha",\n        "otherValue": "MARIE"\n    },\n    {\n        "attributeName": "lastName",\n        "value": "Locke",\n        "otherValue": "SOPHIE"\n    }\n]\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2"}),"Ejemplo 2"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var vCompareResult1; vCompareResult2; vCompareResult3; $attributesToInspect : Collection\n vCompareResult1:=New collection\n vCompareResult2:=New collection\n vCompareResult3:=New collection\n $attributesToInspect:=New collection\n\n $e1:=ds.Employee.get(636)\n $e2:=ds.Employee.get(636)\n\n $e1.firstName:=$e1.firstName+" update"\n $e1.lastName:=$e1.lastName+" update"\n\n $c:=ds.Company.get(117)\n $e1.employer:=$c\n $e2.salary:=100\n\n $attributesToInspect.push("firstName")\n $attributesToInspect.push("lastName")\n\n vCompareResult1:=$e1.diff($e2)\n vCompareResult2:=$e1.diff($e2;$attributesToInspect)\n vCompareResult3:=$e1.diff($e2;$e1.touchedAttributes())\n')),(0,n.kt)("p",null,"vCompareResult1 (se devuelven todas las diferencias):"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "attributeName": "firstName",\n        "value": "Karla update",\n        "otherValue": "Karla"\n    },\n    {\n        "attributeName": "lastName",\n        "value": "Marrero update",\n        "otherValue": "Marrero"\n    },\n    {\n        "attributeName": "salary",\n        "value": 33500,\n        "otherValue": 100\n    },\n    {\n        "attributeName": "employerID",\n        "value": 117,\n        "otherValue": 118\n    },\n  {\n        "attributeName": "employer",\n        "value": "[object Entity]",// Entity 117 from Company\n        "otherValue": "[object Entity]"// Entity 118 from Company\n    }\n]\n')),(0,n.kt)("p",null,"vCompareResult2 (s\xf3lo se devuelven las diferencias en $attributesToInspect)"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "attributeName": "firstName",\n        "value": "Karla update",\n        "otherValue": "Karla"\n    },\n    {\n        "attributeName": "lastName",\n        "value": "Marrero update",\n        "otherValue": "Marrero"\n    }\n]\n')),(0,n.kt)("p",null,"vCompareResult3 (s\xf3lo se devuelven las diferencias en atributos tocados $e1)"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'[\n    {\n        "attributeName": "firstName",\n        "value": "Karla update",\n        "otherValue": "Karla"\n    },\n    {\n        "attributeName": "lastName",\n        "value": "Marrero update",\n        "otherValue": "Marrero"\n    },\n    {\n        "attributeName": "employerID",\n        "value": 117,\n        "otherValue": 118\n    },\n     {\n        "attributeName": "employer",\n        "value": "[object Entity]",// Entity 117 from Company\n        "otherValue": "[object Entity]"// Entity 118 from Company\n\n    }\n]\n')),(0,n.kt)("h2",l({},{id:"drop"}),".drop()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".drop"),"( {",(0,n.kt)("em",{parentName:"p"},"mode")," : Integer} ) : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"mode"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk force drop if stamp changed"),": Forces the drop even if the stamp has changed")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Resultado de la operaci\xf3n soltar")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-3"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".drop()")," function deletes the data contained in the entity from the datastore, from the table related to its Dataclass. Tenga en cuenta que la entidad permanece en la memoria."),(0,n.kt)("p",null,"In a multi-user or multi-process application, the ",(0,n.kt)("inlineCode",{parentName:"p"},".drop()")," function is executed under an ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/entities#entity-locking"}),'"optimistic lock"')," mechanism, wherein an internal locking stamp is automatically incremented each time the record is saved."),(0,n.kt)("p",null,"By default, if the ",(0,n.kt)("em",{parentName:"p"},"mode")," parameter is omitted, the function will return an error (see below) if the same entity was modified (i.e. the stamp has changed) by another process or user in the meantime."),(0,n.kt)("p",null,"Otherwise, you can pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"dk force drop if stamp changed")," option in the ",(0,n.kt)("em",{parentName:"p"},"mode")," parameter: in this case, the entity is dropped even if the stamp has changed (and the primary key is still the same)."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Resultado")),(0,n.kt)("p",null,"The object returned by ",(0,n.kt)("inlineCode",{parentName:"p"},".drop( )")," contains the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"success"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"true si la acci\xf3n de soltar tiene \xe9xito, false en caso contrario.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Disponible s\xf3lo en caso de error:")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"status(","*",")"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"C\xf3digo de error, ver abajo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"statusText(","*",")"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Descripci\xf3n del error, ver abajo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Available only in case of pessimistic lock error:")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"LockKindText"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'"Locked by record"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"lockInfo"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Informaci\xf3n sobre el origen del bloqueo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"task_id"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Id del proceso")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"user_name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de usuario de la sesi\xf3n en la m\xe1quina")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"user4d_alias"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"User alias if defined by ",(0,n.kt)("inlineCode",{parentName:"td"},"SET USER ALIAS"),", otherwise user name in the 4D directory")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"host_name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de la m\xe1quina")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"task_name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del proceso")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"client_version"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Available only in case of serious error (serious error can be trying to duplicate a primary key, disk full...):")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"errors"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"collection of objects"),(0,n.kt)("td",l({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"message"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Mensaje de error")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"component signature"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'firma del componente interno (por ejemplo, "dmbg" significa el componente de la base)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"errCode"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"C\xf3digo de error")))),(0,n.kt)("p",null,"(","*",") The following values can be returned in the ",(0,n.kt)("em",{parentName:"p"},"status")," and ",(0,n.kt)("em",{parentName:"p"},"statusText")," properties of ",(0,n.kt)("em",{parentName:"p"},"Result")," object in case of error:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Constante"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Valor"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Comentario"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status entity does not exist anymore")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"La entidad ya no existe en los datos. This error can occur in the following cases:",(0,n.kt)("br",null),(0,n.kt)("li",null,"the entity has been dropped (the stamp has changed and the memory space is now free)"),(0,n.kt)("li",null,"the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). Cuando se utiliza entity.drop( ), este error puede ser devuelto cuando se utiliza la opci\xf3n dk force drop if stamp changed. When using entity.lock( ), this error can be returned when dk reload if stamp changed option is used")," ",(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Entity does not exist anymore"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status locked")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"3"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"The entity is locked by a pessimistic lock.",(0,n.kt)("br",null)," ",(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Already locked"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status serious error")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Other error"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status stamp has changed")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"2"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"The internal stamp value of the entity does not match the one of the entity stored in the data (optimistic lock).",(0,n.kt)("br",null),(0,n.kt)("li",null,"with ",(0,n.kt)("inlineCode",{parentName:"td"},".save( )"),": error only if the ",(0,n.kt)("inlineCode",{parentName:"td"},"dk auto merge")," option is not used"),(0,n.kt)("li",null,"with ",(0,n.kt)("inlineCode",{parentName:"td"},".drop( )"),": error only if the ",(0,n.kt)("inlineCode",{parentName:"td"},"dk force drop if stamp changed")," option is not used"),(0,n.kt)("li",null,"with ",(0,n.kt)("inlineCode",{parentName:"td"},".lock( )"),": error only if the ",(0,n.kt)("inlineCode",{parentName:"td"},"dk reload if stamp changed")," option is not used"),(0,n.kt)("li",null,(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Stamp has changed"'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status wrong permission")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"1"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Los privilegios actuales no permiten suprimir la entidad. ",(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Permission Error"')))),(0,n.kt)("h4",l({},{id:"ejemplo-1-2"}),"Ejemplo 1"),(0,n.kt)("p",null,"Example without ",(0,n.kt)("inlineCode",{parentName:"p"},"dk force drop if stamp changed")," option:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n var $status : Object\n $employees:=ds.Employee.query("lastName=:1";"Smith")\n $employee:=$employees.first()\n $status:=$employee.drop()\n Case of\n    :($status.success)\n       ALERT("You have dropped "+$employee.firstName+" "+$employee.lastName) //The dropped entity remains in memory\n    :($status.status=dk status stamp has changed)\n       ALERT($status.statusText)\n End case\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-1"}),"Ejemplo 2"),(0,n.kt)("p",null,"Example with ",(0,n.kt)("inlineCode",{parentName:"p"},"dk force drop if stamp changed")," option:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n var $status : Object\n $employees:=ds.Employee.query("lastName=:1";"Smith")\n $employee:=$employees.first()\n $status:=$employee.drop(dk force drop if stamp changed)\n Case of\n    :($status.success)\n       ALERT("You have dropped "+$employee.firstName+" "+$employee.lastName) //The dropped entity remains in memory\n    :($status.status=dk status entity does not exist anymore)\n       ALERT($status.statusText)\n End case\n')),(0,n.kt)("h2",l({},{id:"first"}),".first()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".first()"),": 4D.Entity"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Referencia a la primera entidad de una selecci\xf3n de entidades (Null si no se encuentra)")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-4"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".first()")," function returns a reference to the entity in first position of the entity selection which the entity belongs to."),(0,n.kt)("p",null,"If the entity does not belong to any existing entity selection (i.e. ",(0,n.kt)("a",l({parentName:"p"},{href:"#getselection"}),".getSelection( )")," returns Null), the function returns a Null value."),(0,n.kt)("h4",l({},{id:"ejemplo-3"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee; $firstEmployee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1";"H@") //This entity selection contains 3 entities\n $employee:=$employees[2]\n $firstEmployee:=$employee.first() //$firstEmployee is the first entity of the $employees entity selection\n')),(0,n.kt)("h2",l({},{id:"fromobject"}),".fromObject()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".fromObject"),"( ",(0,n.kt)("em",{parentName:"p"},"filler")," : Object )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"filler"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto a partir del cual se llena la entidad")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-5"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".fromObject()")," function fills an entity with the ",(0,n.kt)("em",{parentName:"p"},"filler")," content."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta funci\xf3n modifica la entidad original.")),(0,n.kt)("p",null,"El mapeo entre el objeto y la entidad se realiza sobre los nombres de los atributos:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Si una propiedad del objeto no existe en la dataclass, se ignora."),(0,n.kt)("li",{parentName:"ul"},"Los tipos de datos deben ser equivalentes. If there is a type mismatch between the object and dataclass, 4D tries to convert the data whenever possible (see ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/Concepts/data-types#converting-data-types"}),(0,n.kt)("inlineCode",{parentName:"a"},"Converting data types")),"), otherwise the attribute is left untouched."),(0,n.kt)("li",{parentName:"ul"},'La llave primaria puede darse tal cual o con una propiedad "__KEY" (llenada con el valor de la llave primaria). If it does not already exist in the dataclass, the entity is created with the given value when ',(0,n.kt)("a",l({parentName:"li"},{href:"#save"}),".save()")," is called. Si no se da la llave primaria, se crea la entidad y se asigna el valor de la llave primaria con respecto a las reglas de la base de datos. El autoincremento s\xf3lo se calcula si la llave primaria es nula.")),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"filler")," can handle a related entity under the following conditions:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"filler")," contiene la propia llave for\xe1nea, o"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"filler"),' contains a property object with the same name as the related entity, containing a single property named "',"_","_",'KEY".'),(0,n.kt)("li",{parentName:"ul"},"si la entidad relacionada no existe, se ignora.")),(0,n.kt)("h4",l({},{id:"ejemplo-4"}),"Ejemplo"),(0,n.kt)("p",null,"Con el siguiente objeto $o:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'{\n    "firstName": "Mary",\n    "lastName": "Smith",\n    "salary": 36500,\n    "birthDate": "1958-10-27T00:00:00.000Z",\n    "woman": true,\n    "managerID": 411,// relatedEntity dada con PK\n    "employerID": 20 // relatedEntity dada con PK\n}\n')),(0,n.kt)("p",null,"El siguiente c\xf3digo crear\xe1 una entidad con entidades relacionadas con el gerente y el empleador."),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $o : Object\n var $entity : cs.EmpEntity\n $entity:=ds.Emp.new()\n $entity.fromObject($o)\n $entity.save()\n")),(0,n.kt)("p",null,"Tambi\xe9n puede utilizar una entidad relacionada dada como objeto:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'\n{\n    "firstName": "Marie",\n    "lastName": "Lechat",\n    "salary": 68400,\n    "birthDate": "1971-09-03T00:00:00.000Z",\n    "woman": false,\n    "employer": {// relatedEntity given as an object\n        "__KEY": "21"\n    },\n    "manager": {// relatedEntity given as an object\n        "__KEY": "411"\n    }\n}\n')),(0,n.kt)("h2",l({},{id:"getdataclass"}),".getDataClass()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getDataClass()")," : 4D.DataClass"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.DataClass"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto DataClass al que pertenece la entidad")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-6"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getDataClass()")," function returns the dataclass of the entity. Esta funci\xf3n es \xfatil al escribir c\xf3digo gen\xe9rico."),(0,n.kt)("h4",l({},{id:"ejemplo-5"}),"Ejemplo"),(0,n.kt)("p",null,"El siguiente c\xf3digo gen\xe9rico duplica cualquier entidad:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"  //duplicate_entity method\n  //duplicate_entity($entity)\n\n #DECLARE($entity : 4D.Entity)  \n var $entityNew : 4D.Entity\n var $status : Object\n\n $entityNew:=$entity.getDataClass().new() //create a new entity in the parent dataclass\n $entityNew.fromObject($entity.toObject()) //get all attributes\n $entityNew[$entity.getDataClass().getInfo().primaryKey]:=Null //reset the primary key\n $status:=$entityNew.save() //save the duplicated entity\n")),(0,n.kt)("h2",l({},{id:"getkey"}),".getKey()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getKey"),"( { ",(0,n.kt)("em",{parentName:"p"},"mode")," : Integer } ) : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".getKey"),"( { ",(0,n.kt)("em",{parentName:"p"},"mode")," : Integer } ) : Integer"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"mode"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk key as string"),": primary key is returned as a string, no matter the primary key type")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Valor de la llave primaria de texto de la entidad")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Valor de la llave primaria num\xe9rica de la entidad")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-7"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getKey()")," function returns the primary key value of the entity."),(0,n.kt)("p",null,'Las llaves primarias pueden ser n\xfameros (enteros) o cadenas. You can "force" the returned primary key value to be a string, no matter the actual primary key type, by passing the ',(0,n.kt)("inlineCode",{parentName:"p"},"dk key as string")," option in the ",(0,n.kt)("em",{parentName:"p"},"mode")," parameter."),(0,n.kt)("h4",l({},{id:"ejemplo-6"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName=:1";"Smith")\n $employee:=$employees[0]\n ALERT("The primary key is "+$employee.getKey(dk key as string))\n')),(0,n.kt)("h2",l({},{id:"getremotecontextattributes"}),".getRemoteContextAttributes()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRemoteContextAttributes()")," : Text"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Atributos de contexto vinculados a la entidad, separados por una coma")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. En la mayor\xeda de los casos, no ser\xe1 necesario utilizarla.")),(0,n.kt)("h4",l({},{id:"descripci\xf3n-8"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getRemoteContextAttributes()")," function returns information about the optimization context used by the entity ."),(0,n.kt)("p",null,"If there is no ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/datastores#clientserver-optimization"}),"optimization context")," for the entity, the function returns an empty Text."),(0,n.kt)("h4",l({},{id:"ejemplo-7"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $address : cs.AddressEntity\nvar $p : cs.PersonsEntity\nvar $contextA : Object\nvar $info : Text\nvar $text : Text\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$contextA:=New object("context"; "contextA")\n\n$address:=$ds.Address.get(1; $contextA)\n$text:=""\nFor each ($p; $address.persons)\n    $text:=$p.firstname+" "+$p.lastname\nEnd for each\n\n$info:=$address.getRemoteContextAttributes()\n\n//$info = "persons,persons.lastname,persons.firstname"\n')),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/EntitySelectionClass#getRemoteContextAttributes"}),"EntitySelection.getRemoteContextAttributes()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/DataStoreClass#clearallremotecontexts"}),".clearAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/DataStoreClass#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/DataStoreClass#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/DataStoreClass#setremotecontextinfo"}),".setRemoteContextInfo()")),(0,n.kt)("h2",l({},{id:"getselection"}),".getSelection()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getSelection()"),": 4D.EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Entity selection a la que pertenece la entidad (nula si no se encuentra)")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-9"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getSelection()")," function returns the entity selection which the entity belongs to."),(0,n.kt)("p",null,"Si la entidad no pertenece a una selecci\xf3n de entidades, la funci\xf3n devuelve Null."),(0,n.kt)("h4",l({},{id:"ejemplo-8"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $emp : cs.EmployeeEntity\n var $employees; $employees2 : cs.EmployeeSelection\n $emp:=ds.Employee.get(672) // This entity does not belong to any entity selection\n $employees:=$emp.getSelection() // $employees is Null\n\n $employees2:=ds.Employee.query("lastName=:1";"Smith") //This entity selection contains 6 entities\n $emp:=$employees2[0]  // This entity belongs to an entity selection\n\n ALERT("The entity selection contains "+String($emp.getSelection().length)+" entities")\n')),(0,n.kt)("h2",l({},{id:"getstamp"}),".getStamp()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getStamp()")," : Integer"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Sello de la entidad (0 si la entidad acaba de ser creada)")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-10"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getStamp()")," function  returns the current value of the stamp of the entity."),(0,n.kt)("p",null,"El sello interno se incrementa autom\xe1ticamente en 4D cada vez que se guarda la entidad. It manages concurrent user access and modifications to the same entities (see ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/entities#entity-locking"}),(0,n.kt)("strong",{parentName:"a"},"Entity locking")),")."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Para una entidad nueva (nunca guardada), la funci\xf3n devuelve 0. To know if an entity has just been created, it is recommended to use ",(0,n.kt)("a",l({parentName:"p"},{href:"#isnew"}),".isNew()"),".")),(0,n.kt)("h4",l({},{id:"ejemplo-9"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $entity : cs.EmployeeEntity\n var $stamp : Integer\n\n $entity:=ds.Employee.new()\n $entity.lastname:="Smith"\n $entity.save()\n $stamp:=$entity.getStamp() //$stamp=1\n\n $entity.lastname:="Wesson"\n $entity.save()\n $stamp:=$entity.getStamp() //$stamp=2\n')),(0,n.kt)("h2",l({},{id:"indexof"}),".indexOf()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".indexOf"),"( { ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," : 4D.EntitySelection } ) : Integer"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"entitySelection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"La posici\xf3n de la entidad se da en funci\xf3n de esta selecci\xf3n de entidades")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Posici\xf3n de la entidad en una selecci\xf3n de entidades")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-11"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".indexOf()")," function returns the position of the entity in an entity selection."),(0,n.kt)("p",null,"By default if the ",(0,n.kt)("em",{parentName:"p"},"entitySelection")," parameter is omitted, the function returns the entity's position within its own entity selection. Otherwise, it returns the position of the entity within the specified ",(0,n.kt)("em",{parentName:"p"},"entitySelection"),"."),(0,n.kt)("p",null,"El valor resultante se incluye entre 0 y la longitud de la selecci\xf3n de entidades -1."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"If the entity does not have an entity selection or does not belong to ",(0,n.kt)("em",{parentName:"li"},"entitySelection"),", the function returns -1."),(0,n.kt)("li",{parentName:"ul"},"If ",(0,n.kt)("em",{parentName:"li"},"entitySelection")," is Null or does not belong to the same dataclass as the entity, an error is raised.")),(0,n.kt)("h4",l({},{id:"ejemplo-10"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1";"H@") //This entity selection contains 3 entities\n $employee:=$employees[1] //This entity belongs to an entity selection\n ALERT("The index of the entity in its own entity selection is "+String($employee.indexOf())) //1\n\n $employee:=ds.Employee.get(725) //This entity does not belong to an entity selection\n ALERT("The index of the entity is "+String($employee.indexOf())) // -1\n')),(0,n.kt)("h2",l({},{id:"isnew"}),".isNew()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isNew()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si la entidad acaba de ser creada y a\xfan no se ha guardado. En caso contrario, False.")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-12"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".isNew()")," function  returns True if the entity to which it is applied has just been created and has not yet been saved in the datastore. ."),(0,n.kt)("h4",l({},{id:"ejemplo-11"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $emp : cs.EmployeeEntity\n\n $emp:=ds.Employee.new()\n\n If($emp.isNew())\n    ALERT("This is a new entity")\n End if\n')),(0,n.kt)("h2",l({},{id:"last"}),".last()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".last()")," : 4D.Entity"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Referencia a la \xfaltima entidad de una selecci\xf3n de entidades (Null si no se encuentra)")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-13"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".last()")," function returns a reference to the entity in last position of the entity selection which the entity belongs to."),(0,n.kt)("p",null,"If the entity does not belong to any existing entity selection (i.e. ",(0,n.kt)("a",l({parentName:"p"},{href:"#getselection"}),".getSelection( )")," returns Null), the function returns a Null value."),(0,n.kt)("h4",l({},{id:"ejemplo-12"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee; $lastEmployee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1";"H@") //This entity selection contains 3 entities\n $employee:=$employees[0]\n $lastEmployee:=$employee.last() //$lastEmployee is the last entity of the $employees entity selection\n')),(0,n.kt)("h2",l({},{id:"lock"}),".lock()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".lock"),"( { ",(0,n.kt)("em",{parentName:"p"},"mode")," : Integer } ) : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"mode"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk reload if stamp changed"),": Reload before locking if stamp changed")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Resultado de la operaci\xf3n de bloqueo")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-14"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".lock()")," function puts a pessimistic lock on the record referenced by the entity. The ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/entities#entity-locking"}),"lock is set")," for a record and all the references of the entity in the current process."),(0,n.kt)("p",null,"Other processes will see this record as locked (the ",(0,n.kt)("inlineCode",{parentName:"p"},"result.success"),' property will contain False if they try to lock the same entity using this function). S\xf3lo las funciones ejecutadas en la sesi\xf3n de "bloqueo" pueden editar y guardar los atributos de la entidad. La entidad puede ser cargada como de s\xf3lo lectura por otras sesiones, pero no podr\xe1n introducir y guardar valores.'),(0,n.kt)("p",null,"A record locked by ",(0,n.kt)("inlineCode",{parentName:"p"},".lock()")," is unlocked:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"when the ",(0,n.kt)("a",l({parentName:"li"},{href:"#unlock"}),(0,n.kt)("inlineCode",{parentName:"a"},"unlock()"))," function is called on a matching entity in the same process"),(0,n.kt)("li",{parentName:"ul"},"autom\xe1ticamente, cuando ya no es referenciado por ninguna entidad en la memoria. Por ejemplo, si el bloqueo se pone s\xf3lo en una referencia local de una entidad, la entidad se desbloquea cuando la funci\xf3n termina. Mientras haya referencias a la entidad en la memoria, el registro permanece bloqueado.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"An entity can also be ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/REST/lock"}),"locked by a REST session"),", in which case it can only be unlocked by the session.")),(0,n.kt)("p",null,"By default, if the ",(0,n.kt)("em",{parentName:"p"},"mode")," parameter is omitted, the function will return an error (see below) if the same entity was modified (i.e. the stamp has changed) by another process or user in the meantime."),(0,n.kt)("p",null,"Otherwise, you can pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"dk reload if stamp changed")," option in the ",(0,n.kt)("em",{parentName:"p"},"mode")," parameter: in this case, no error is returned and the entity is reloaded when the stamp has changed (if the entity still exists and the primary key is still the same)."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Resultado")),(0,n.kt)("p",null,"The object returned by ",(0,n.kt)("inlineCode",{parentName:"p"},".lock( )")," contains the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"success"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"true si la acci\xf3n de bloqueo tiene \xe9xito (o si la entidad ya est\xe1 bloqueada en el proceso actual), false en caso contrario.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Available only if ",(0,n.kt)("inlineCode",{parentName:"em"},"dk reload if stamp changed")," option is used:")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},"wasReloaded")),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"true si la entidad fue recargada con \xe9xito, false en caso contrario.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Disponible s\xf3lo en caso de error:")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"status(","*",")"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"C\xf3digo de error, ver abajo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"statusText(","*",")"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Descripci\xf3n del error, ver abajo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Available only in case of pessimistic lock error:")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"lockKindText"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'"Locked by record" si est\xe1 bloqueado por un proceso 4D, "Locked by session" si est\xe1 bloqueado por una sesi\xf3n REST')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"lockInfo"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Informaci\xf3n sobre el origen del bloqueo. Las propiedades devueltas dependen del origen del bloqueo (proceso 4D o sesi\xf3n REST).")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Available only for a 4D process lock:")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"task_id"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"ID del Proceso")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"user_name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de usuario de la sesi\xf3n en la m\xe1quina")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"user4d_alias"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre o alias del usuario 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"user4d_id"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"ID del usuario en el directorio de la base de datos 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"host_name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de la m\xe1quina")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"task_name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del proceso")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"client_version"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Versi\xf3n del cliente")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Available only for a REST session lock:")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"host"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"|",'URL that locked the entity (e.g. "',(0,n.kt)("a",l({parentName:"td"},{href:"http://www.myserver.com%22)%5C%7C"}),'www.myserver.com")\\|'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"IPAddr"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Direcci\xf3n IP del bloqueo (por ejemplo: "127.0.0.1")')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"userAgent"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'userAgent del origin del bloqueo (ej: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36")')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Available only in case of serious error"))," (primary key already exists, disk full...):")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"errors"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"collection of objects"),(0,n.kt)("td",l({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"message"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Mensaje de error")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"component signature"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'firma del componente interno (por ejemplo, "dmbg" significa el componente de la base)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"errCode"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"C\xf3digo de error")))),(0,n.kt)("p",null,"(","*",") The following values can be returned in the ",(0,n.kt)("em",{parentName:"p"},"status")," and ",(0,n.kt)("em",{parentName:"p"},"statusText")," properties of the ",(0,n.kt)("em",{parentName:"p"},"Result")," object in case of error:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Constante"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Valor"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Comentario"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status entity does not exist anymore")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"La entidad ya no existe en los datos. This error can occur in the following cases:",(0,n.kt)("li",null,"the entity has been dropped (the stamp has changed and the memory space is now free)"),(0,n.kt)("li",null,"the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). Cuando se utiliza ",(0,n.kt)("inlineCode",{parentName:"td"},".drop( )"),", este error puede devolverse cuando se utiliza la opci\xf3n ",(0,n.kt)("inlineCode",{parentName:"td"},"dk force drop if stamp changed"),". When using ",(0,n.kt)("inlineCode",{parentName:"td"},".lock( )"),", this error can be returned when ",(0,n.kt)("inlineCode",{parentName:"td"},"dk reload if stamp changed")," option is used"),(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Entity does not exist anymore"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status locked")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"3"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"The entity is locked by a pessimistic lock.",(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Already locked"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status serious error")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.",(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Other error"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status stamp has changed")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"2"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"The internal stamp value of the entity does not match the one of the entity stored in the data (optimistic lock).",(0,n.kt)("li",null,"with ",(0,n.kt)("inlineCode",{parentName:"td"},".save( )"),": error only if the ",(0,n.kt)("inlineCode",{parentName:"td"},"dk auto merge")," option is not used"),(0,n.kt)("li",null,"with ",(0,n.kt)("inlineCode",{parentName:"td"},".drop( )"),": error only if the ",(0,n.kt)("inlineCode",{parentName:"td"},"dk force drop if stamp changed")," option is not used"),(0,n.kt)("li",null,"with ",(0,n.kt)("inlineCode",{parentName:"td"},".lock( )"),": error only if the ",(0,n.kt)("inlineCode",{parentName:"td"},"dk reload if stamp changed")," option is not used"),(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Stamp has changed"')))),(0,n.kt)("h4",l({},{id:"ejemplo-1-3"}),"Ejemplo 1"),(0,n.kt)("p",null,"Ejemplo con error:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employee : cs.EmployeeEntity\n var $status : Object\n $employee:=ds.Employee.get(716)\n $status:=$employee.lock()\n Case of\n    :($status.success)\n       ALERT("You have locked "+$employee.firstName+" "+$employee.lastName)\n    :($status.status=dk status stamp has changed)\n       ALERT($status.statusText)\n End case\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-2"}),"Ejemplo 2"),(0,n.kt)("p",null,"Example with ",(0,n.kt)("inlineCode",{parentName:"p"},"dk reload if stamp changed")," option:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employee : cs.EmployeeEntity\n var $status : Object\n $employee:=ds.Employee.get(717)\n $status:=$employee.lock(dk reload if stamp changed)\n Case of\n    :($status.success)\n       ALERT("You have locked "+$employee.firstName+" "+$employee.lastName)\n    :($status.status=dk status entity does not exist anymore)\n       ALERT($status.statusText)\n End case\n')),(0,n.kt)("h2",l({},{id:"next"}),".next()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".next()")," : 4D.Entity"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Referencia a la siguiente entidad en la selecci\xf3n de entidades (Null si no se encuentra)")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-15"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".next()")," function returns a reference to the next entity in the entity selection which the entity belongs to."),(0,n.kt)("p",null,"If the entity does not belong to any existing entity selection (i.e. ",(0,n.kt)("a",l({parentName:"p"},{href:"#getselection"}),".getSelection()")," returns Null), the function returns a Null value."),(0,n.kt)("p",null,"Si no hay una entidad siguiente v\xe1lida en la selecci\xf3n de entidades (es decir, se encuentra en la \xfaltima entidad de la selecci\xf3n), la funci\xf3n devuelve Null. Si la siguiente entidad ha sido descartada, la funci\xf3n devuelve la siguiente entidad v\xe1lida (y eventualmente Null)."),(0,n.kt)("h4",l({},{id:"ejemplo-13"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee; $nextEmployee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1";"H@") //This entity selection contains 3 entities\n $employee:=$employees[0]\n $nextEmployee:=$employee.next() //$nextEmployee is the second entity of the $employees entity selection\n\n')),(0,n.kt)("h2",l({},{id:"previous"}),".previous()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".previous()"),"  : 4D.Entity"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Referencia a la entidad anterior en la selecci\xf3n de entidades (Null si no se encuentra)")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-16"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".previous()")," function  returns a reference to the previous entity in the entity selection which the entity belongs to."),(0,n.kt)("p",null,"If the entity does not belong to any existing entity selection (i.e. ",(0,n.kt)("a",l({parentName:"p"},{href:"#getselection"}),".getSelection()")," returns Null), the function returns a Null value."),(0,n.kt)("p",null,"Si no hay una entidad anterior v\xe1lida en la selecci\xf3n de entidades (es decir, se encuentra en la primera entidad de la selecci\xf3n), la funci\xf3n devuelve Null. Si la entidad anterior ha sido soltada, la funci\xf3n devuelve la entidad v\xe1lida anterior (y eventualmente Null)."),(0,n.kt)("h4",l({},{id:"ejemplo-14"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employees : cs.EmployeeSelection\n var $employee; $previousEmployee : cs.EmployeeEntity\n $employees:=ds.Employee.query("lastName = :1";"H@") //This entity selection contains 3 entities\n $employee:=$employees[1]\n $previousEmployee:=$employee.previous() //$previousEmployee is the first entity of the $employees entity selection\n')),(0,n.kt)("h2",l({},{id:"reload"}),".reload()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".reload()")," : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto estado")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-17"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".reload()")," function reloads the content of the entity in memory, according to information stored in the table related to the dataclass in the datastore. La recarga se realiza s\xf3lo si la entidad sigue existiendo con la misma llave primaria."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Resultado")),(0,n.kt)("p",null,"The object returned by ",(0,n.kt)("inlineCode",{parentName:"p"},".reload( )")," contains the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"success"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True if the reload action is successful, False otherwise.",(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Available only in case of error")),":")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"status(","*",")"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"C\xf3digo de error, ver abajo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"statusText(","*",")"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Descripci\xf3n del error, ver abajo")))),(0,n.kt)("p",null,"(","*",") The following values can be returned in the ",(0,n.kt)("em",{parentName:"p"},"status")," and ",(0,n.kt)("em",{parentName:"p"},"statusText")," properties of ",(0,n.kt)("em",{parentName:"p"},"Result")," object in case of error:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Constante"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Valor"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Comentario"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status entity does not exist anymore")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"La entidad ya no existe en los datos. This error can occur in the following cases:",(0,n.kt)("br",null),(0,n.kt)("li",null,"the entity has been dropped (the stamp has changed and the memory space is now free)"),(0,n.kt)("li",null,"the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). When using ",(0,n.kt)("inlineCode",{parentName:"td"},".lock( )"),", this error can be returned when ",(0,n.kt)("inlineCode",{parentName:"td"},"dk reload if stamp changed")," option is used"),(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Associated statusText")),': "Entity does not exist anymore"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status serious error")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Associated statusText")),': "Other error"')))),(0,n.kt)("h4",l({},{id:"ejemplo-15"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employee : cs.EmployeeEntity\n var $employees : cs.EmployeeSelection\n var $result : Object\n\n $employees:=ds.Employee.query("lastName=:1";"Hollis")\n $employee:=$employees[0]\n $employee.firstName:="Mary"\n $result:=$employee.reload()\n Case of\n    :($result.success)\n       ALERT("Reload has been done")\n    :($result.status=dk status entity does not exist anymore)\n       ALERT("The entity has been dropped")\n End case\n')),(0,n.kt)("h2",l({},{id:"save"}),".save()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".save"),"( { ",(0,n.kt)("em",{parentName:"p"},"mode")," : Integer } ) : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"mode"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk auto merge"),": Enables the automatic merge mode")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Resultado de la operaci\xf3n guardar")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-18"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".save()")," function saves the changes made to the entity in the table related to its dataClass. Debe llamar a este m\xe9todo despu\xe9s de crear o modificar una entidad si quiere guardar los cambios realizados en ella."),(0,n.kt)("p",null,'The save operation is executed only if at least one entity attribute has been "touched" (see the ',(0,n.kt)("a",l({parentName:"p"},{href:"#touched"}),(0,n.kt)("inlineCode",{parentName:"a"},".touched()"))," and ",(0,n.kt)("a",l({parentName:"p"},{href:"#touchedattributes"}),(0,n.kt)("inlineCode",{parentName:"a"},".touchedAttributes()"))," functions). En caso contrario, la funci\xf3n no hace nada (no se llama al activador)."),(0,n.kt)("p",null,"In a multi-user or multi-process application, the ",(0,n.kt)("inlineCode",{parentName:"p"},".save()")," function is executed under an ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/entities#entity-locking"}),'"optimistic lock"')," mechanism, wherein an internal locking stamp is automatically incremented each time the record is saved."),(0,n.kt)("p",null,"By default, if the ",(0,n.kt)("em",{parentName:"p"},"mode")," parameter is omitted, the method will return an error (see below) whenever the same entity has been modified by another process or user in the meantime, no matter the modified attribute(s)."),(0,n.kt)("p",null,"Otherwise, you can pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"dk auto merge")," option in the ",(0,n.kt)("em",{parentName:"p"},"mode"),' parameter: when the automatic merge mode is enabled, a modification done concurrently by another process/user on the same entity but on a different attribute will not result in an error. Los datos resultantes guardados en la entidad ser\xe1n la combinaci\xf3n (la "fusi\xf3n") de todas las modificaciones no concurrentes (si se aplicaron modificaciones al mismo atributo, el guardado falla y se devuelve un error, incluso con el modo de fusi\xf3n autom\xe1tica).'),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"El modo de fusi\xf3n autom\xe1tica no est\xe1 disponible para los atributos de tipo Imagen, Objeto y Texto cuando se almacenan fuera del registro. Concurrent changes in these attributes will result in a ",(0,n.kt)("inlineCode",{parentName:"p"},"dk status stamp has changed")," error.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Resultado")),(0,n.kt)("p",null,"The object returned by ",(0,n.kt)("inlineCode",{parentName:"p"},".save()")," contains the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"success"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si la acci\xf3n guardar tiene \xe9xito, false en caso contrario.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Available only if ",(0,n.kt)("inlineCode",{parentName:"em"},"dk auto merge")," option is used")),":")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"autoMerged"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si se ha realizado una fusi\xf3n autom\xe1tica, False en caso contrario.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Disponible s\xf3lo en caso de error")),":")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Error code, ",(0,n.kt)("a",l({parentName:"td"},{href:"#status-and-statustext"}),"see below"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"statusText"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Description of the error, ",(0,n.kt)("a",l({parentName:"td"},{href:"#status-and-statustext"}),"see below"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Available only in case of pessimistic lock error")),":")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"lockKindText"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'"Locked by record"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"lockInfo"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Informaci\xf3n sobre el origen del bloqueo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"task_id"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Id del proceso")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"user_name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de usuario de la sesi\xf3n en la m\xe1quina")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"user4d_alias"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"User alias if defined by ",(0,n.kt)("inlineCode",{parentName:"td"},"SET USER ALIAS"),", otherwise user name in the 4D directory")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"host_name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de la m\xe1quina")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"task_name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del proceso")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"client_version"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},(0,n.kt)("em",{parentName:"strong"},"Available only in case of serious error"))," (serious error - can be trying to duplicate a primary key, disk full...):")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"errors"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"collection of objects"),(0,n.kt)("td",l({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"message"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Mensaje de error")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"componentSignature"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Firma del componente interno (por ejemplo, "dmbg" significa el componente de la base)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"errCode"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"C\xf3digo de error")))),(0,n.kt)("h5",l({},{id:"status-y-statustext"}),"status y statusText"),(0,n.kt)("p",null,"The following values can be returned in the ",(0,n.kt)("inlineCode",{parentName:"p"},"status")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"statusText")," properties of Result object in case of error:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Constante"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Valor"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Comentario"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status automerge failed")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"(Only if the ",(0,n.kt)("inlineCode",{parentName:"td"},"dk auto merge")," option is used) The automatic merge option failed when saving the entity.",(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Auto merge failed"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status entity does not exist anymore")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"La entidad ya no existe en los datos. This error can occur in the following cases:",(0,n.kt)("br",null),(0,n.kt)("li",null,"the entity has been dropped (the stamp has changed and the memory space is now free)"),(0,n.kt)("li",null,"the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). When using ",(0,n.kt)("inlineCode",{parentName:"td"},".lock( )"),", this error can be returned when ",(0,n.kt)("inlineCode",{parentName:"td"},"dk reload if stamp changed")," option is used"),(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Entity doesnot exist anymore"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status locked")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"3"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"The entity is locked by a pessimistic lock.",(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Already locked"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status serious error")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A serious error is a low-level database error (e.g. duplicated key), a hardware error, etc.",(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Other error"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status stamp has changed")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"2"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"The internal stamp value of the entity does not match the one of the entity stored in the data (optimistic lock).",(0,n.kt)("br",null),(0,n.kt)("li",null,"with ",(0,n.kt)("inlineCode",{parentName:"td"},".save( )"),": error only if the ",(0,n.kt)("inlineCode",{parentName:"td"},"dk auto merge")," option is not used"),(0,n.kt)("li",null,"with ",(0,n.kt)("inlineCode",{parentName:"td"},".drop( )"),": error only if the ",(0,n.kt)("inlineCode",{parentName:"td"},"dk force drop if stamp changed")," option is not used"),(0,n.kt)("li",null,"with ",(0,n.kt)("inlineCode",{parentName:"td"},".lock( )"),": error only if the ",(0,n.kt)("inlineCode",{parentName:"td"},"dk reload if stamp changed")," option is not used"),(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Stamp has changed"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk status wrong permission")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"1"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Los privilegios actuales no permiten guardar la entidad. ",(0,n.kt)("strong",{parentName:"td"},"Associated statusText"),': "Permission Error"')))),(0,n.kt)("h4",l({},{id:"ejemplo-1-4"}),"Ejemplo 1"),(0,n.kt)("p",null,"Crear una nueva entidad:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $status : Object\n var $employee : cs.EmployeeEntity\n $employee:=ds.Employee.new()\n $employee.firstName:="Mary"\n $employee.lastName:="Smith"\n $status:=$employee.save()\n If($status.success)\n    ALERT("Employee created")\n End if\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-3"}),"Ejemplo 2"),(0,n.kt)("p",null,"Updating an entity without ",(0,n.kt)("inlineCode",{parentName:"p"},"dk auto merge")," option:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $status : Object\n var $employee : cs.EmployeeEntity\n var $employees : cs.EmployeeSelection\n $employees:=ds.Employee.query("lastName=:1";"Smith")\n $employee:=$employees.first()\n $employee.lastName:="Mac Arthur"\n $status:=$employee.save()\n Case of\n    :($status.success)\n       ALERT("Employee updated")\n    :($status.status=dk status stamp has changed)\n       ALERT($status.statusText)\n End case\n')),(0,n.kt)("h4",l({},{id:"ejemplo-3-1"}),"Ejemplo 3"),(0,n.kt)("p",null,"Updating an entity with ",(0,n.kt)("inlineCode",{parentName:"p"},"dk auto merge")," option:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $status : Object\n\n var $employee : cs.EmployeeEntity\n var $employees : cs.EmployeeSelection\n\n $employees:=ds.Employee.query("lastName=:1";"Smith")\n $employee:=$employees.first()\n $employee.lastName:="Mac Arthur"\n $status:=$employee.save(dk auto merge)\n Case of\n    :($status.success)\n       ALERT("Employee updated")\n    :($status.status=dk status automerge failed)\n       ALERT($status.statusText)\n End case\n')),(0,n.kt)("h2",l({},{id:"toobject"}),".toObject()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".toObject"),"() : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".toObject"),"( ",(0,n.kt)("em",{parentName:"p"},"filterString")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"options")," : Integer}  ) : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".toObject"),"( ",(0,n.kt)("em",{parentName:"p"},"filterCol")," : Collection { ; ",(0,n.kt)("em",{parentName:"p"},"options")," : Integer } ) : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"filterString"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Atributo(s) a extraer (cadena separada por comas)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"filterCol"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Colecci\xf3n de atributos a extraer")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk with primary key"),": adds the ","_","_","KEY property;",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"dk with stamp"),": adds the ","_","STAMP property")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto creado a partir de la entidad")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-19"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".toObject()")," function returns an object which has been built from the entity. Los nombres de las propiedades en el objeto coinciden con los nombres de los atributos de la entidad."),(0,n.kt)("p",null,"If no filter is specified, or if the ",(0,n.kt)("em",{parentName:"p"},"filterString"),' parameter contains an empty string or "',"*",'", the returned object will contain:'),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"todos los atributos de la entidad de almacenamiento"),(0,n.kt)("li",{parentName:"ul"},"attributes of the ",(0,n.kt)("inlineCode",{parentName:"li"},"relatedEntity")," ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/API/DataClassClass#attributename"}),"kind"),": you get a property with the same name as the related entity (name of the many-to-one link). El atributo se extrae con la forma simple."),(0,n.kt)("li",{parentName:"ul"},"attributes of the ",(0,n.kt)("inlineCode",{parentName:"li"},"relatedEntities")," ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/API/DataClassClass#attributename"}),"kind"),": attribute is not returned.")),(0,n.kt)("p",null,"En el primer par\xe1metro, se pasa el atributo o atributos de la entidad a extraer. Puede pasar:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"filterString"),': a string with property paths separated with commas: "propertyPath1, propertyPath2, ...", or'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"filterCol"),": a collection of strings: ","[",'"propertyPath1","propertyPath2";...]')),(0,n.kt)("p",null,"If a filter is specified for attributes of the relatedEntity ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/DataClassClass#attributename"}),"kind"),":"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity" -> it is extracted with simple form: an object with property ',"_","_","KEY (primary key)."),(0,n.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity.',"*",'" -> all the properties are extracted'),(0,n.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntity.propertyName1; relatedEntity.propertyName2; ..." -> s\xf3lo se extraen esas propiedades')),(0,n.kt)("p",null,"If a filter is specified for attributes of the relatedEntities ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/DataClassClass#attributename"}),"kind"),":"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntities.',"*",'" -> all the properties are extracted'),(0,n.kt)("li",{parentName:"ul"},'propertyPath = "relatedEntities.propertyName1; relatedEntities.propertyName2; ..." -> s\xf3lo se extraen esas propiedades')),(0,n.kt)("p",null,"In the ",(0,n.kt)("em",{parentName:"p"},"options")," parameter, you can pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"dk with primary key")," and/or",(0,n.kt)("inlineCode",{parentName:"p"},"dk with stamp")," selector(s) to add the entity's primary keys and/or stamps in extracted objects."),(0,n.kt)("admonition",l({},{title:"Atenci\xf3n",type:"caution"}),(0,n.kt)("p",{parentName:"admonition"},'Si utiliza otro atributo distinto de la llave primaria como atributo Uno en una relaci\xf3n, el valor de este atributo se escribir\xe1 en la propiedad "__KEY". Keep in mind that it is recommended to use the primary key as One attribute in your relations, especially when you use ',(0,n.kt)("inlineCode",{parentName:"p"},".toObject()")," and ",(0,n.kt)("inlineCode",{parentName:"p"},".fromObject()")," functions.")),(0,n.kt)("h4",l({},{id:"ejemplo-1-5"}),"Ejemplo 1"),(0,n.kt)("p",null,"En todos los ejemplos de esta secci\xf3n se utilizar\xe1 la siguiente estructura:"),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(759158).Z,width:"1000",height:"610"})),(0,n.kt)("p",null,"Sin par\xe1metro de filtro:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"employeeObject:=employeeSelected.toObject()\n")),(0,n.kt)("p",null,"Ejemplo con el tipo ",(0,n.kt)("code",null,"relatedEntity")," con una forma simple:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'{\n    "ID": 413,\n    "firstName": "Greg",\n    "lastName": "Wahl",\n    "salary": 0,\n    "birthDate": "1963-02-01T00:00:00.000Z",\n    "woman": false,\n    "managerID": 412,\n    "employerID": 20,\n    "photo": "[object Picture]",\n    "extra": null,\n    "employer": { // relatedEntity extracted with simple form\n        "__KEY": 20\n    },\n    "manager": {\n        "__KEY": 412\n    }\n}\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-4"}),"Ejemplo 2"),(0,n.kt)("p",null,"Extraer la llave primaria y el sello:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'employeeObject:=employeeSelected.toObject("";dk with primary key+dk with stamp)\n')),(0,n.kt)("p",null,"Ejemplo con el tipo ",(0,n.kt)("code",null,"relatedEntity")," con una forma simple:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'{\n    "__KEY": 413,\n   "__STAMP": 1,\n    "ID": 413,\n    "firstName": "Greg",\n    "lastName": "Wahl",\n    "salary": 0,\n    "birthDate": "1963-02-01T00:00:00.000Z",\n    "woman": false,\n    "managerID": 412,\n    "employerID": 20,\n    "photo": "[object Picture]",\n    "extra": null,\n    "employer": {\n        "__KEY": 20\n    },\n    "manager": {\n        "__KEY": 412\n    }\n}\n')),(0,n.kt)("h4",l({},{id:"ejemplo-3-2"}),"Ejemplo 3"),(0,n.kt)("p",null,"Expanding all the properties of ",(0,n.kt)("inlineCode",{parentName:"p"},"relatedEntities"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'employeeObject:=employeeSelected.toObject("directReports.*")\n')),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'{\n    "directReports": [\n        {\n            "ID": 418,\n            "firstName": "Lorena",\n            "lastName": "Boothe",\n            "salary": 44800,\n            "birthDate": "1970-10-02T00:00:00.000Z",\n            "woman": true,\n            "managerID": 413,\n            "employerID": 20,\n            "photo": "[object Picture]",\n            "extra": null,\n            "employer": {\n                "__KEY": 20\n            },\n            "manager": {\n                "__KEY": 413\n            }\n        },\n        {\n            "ID": 419,\n            "firstName": "Drew",\n            "lastName": "Caudill",\n            "salary": 41000,\n            "birthDate": "2030-01-12T00:00:00.000Z",\n            "woman": false,\n            "managerID": 413,\n            "employerID": 20,\n            "photo": "[object Picture]",\n            "extra": null,\n            "employer": {\n                "__KEY": 20\n            },\n            "manager": {\n                "__KEY": 413\n            }\n        },\n        {\n            "ID": 420,\n            "firstName": "Nathan",\n            "lastName": "Gomes",\n            "salary": 46300,\n            "birthDate": "2010-05-29T00:00:00.000Z",\n            "woman": false,\n            "managerID": 413,\n            "employerID": 20,\n            "photo": "[object Picture]",\n            "extra": null,\n            "employer": {\n                "__KEY": 20\n            },\n            "manager": {\n                "__KEY": 413\n            }\n        }\n    ]\n}\n')),(0,n.kt)("h4",l({},{id:"ejemplo-4-1"}),"Ejemplo 4"),(0,n.kt)("p",null,"Extracting some properties of ",(0,n.kt)("inlineCode",{parentName:"p"},"relatedEntities"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' employeeObject:=employeeSelected.toObject("firstName, directReports.lastName")\n')),(0,n.kt)("p",null,"Ejemplo con el tipo ",(0,n.kt)("code",null,"relatedEntity")," con una forma simple:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'{\n    "firstName": "Greg",\n    "directReports": [\n        {\n            "lastName": "Boothe"\n        },\n        {\n            "lastName": "Caudill"\n        },\n        {\n            "lastName": "Gomes"\n        }\n    ]\n}\n')),(0,n.kt)("h4",l({},{id:"ejemplo-5-1"}),"Ejemplo 5"),(0,n.kt)("p",null,"Extracting a ",(0,n.kt)("inlineCode",{parentName:"p"},"relatedEntity")," with simple form:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' $coll:=New collection("firstName";"employer")\n employeeObject:=employeeSelected.toObject($coll)\n')),(0,n.kt)("p",null,"Ejemplo con el tipo ",(0,n.kt)("code",null,"relatedEntity")," con una forma simple:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'{\n    "firstName": "Greg",\n    "employer": {\n        "__KEY": 20\n    }\n}\n')),(0,n.kt)("h4",l({},{id:"ejemplo-6-1"}),"Ejemplo 6"),(0,n.kt)("p",null,"Extracting all the properties of a ",(0,n.kt)("inlineCode",{parentName:"p"},"relatedEntity"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' employeeObject:=employeeSelected.toObject("employer.*")\n')),(0,n.kt)("p",null,"Ejemplo con el tipo ",(0,n.kt)("code",null,"relatedEntity")," con una forma simple:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'{\n    "employer": {\n        "ID": 20,\n        "name": "India Astral Secretary",\n        "creationDate": "1984-08-25T00:00:00.000Z",\n        "revenues": 12000000,\n        "extra": null\n    }\n}\n')),(0,n.kt)("h4",l({},{id:"ejemplo-7-1"}),"Ejemplo 7"),(0,n.kt)("p",null,"Extracting some properties of a ",(0,n.kt)("inlineCode",{parentName:"p"},"relatedEntity"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' $col:=New collection\n $col.push("employer.name")\n $col.push("employer.revenues")\n employeeObject:=employeeSelected.toObject($col)\n')),(0,n.kt)("p",null,"Ejemplo con el tipo ",(0,n.kt)("code",null,"relatedEntity")," con una forma simple:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'{\n    "employer": {\n        "name": "India Astral Secretary",\n        "revenues": 12000000\n    }\n}\n')),(0,n.kt)("h2",l({},{id:"touched-"}),".touched( )"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".touched()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si se ha modificado al menos un atributo de la entidad y a\xfan no se ha guardado, si no, False")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-20"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".touched()")," function tests whether or not an entity attribute has been modified since the entity was loaded into memory or saved."),(0,n.kt)("p",null,"Si un atributo ha sido modificado o calculado, la funci\xf3n devuelve True, en caso contrario devuelve False. Puede utilizar esta funci\xf3n para determinar si necesita guardar la entidad."),(0,n.kt)("p",null,"This function returns False for a new entity that has just been created (with ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/DataClassClass#new"}),(0,n.kt)("inlineCode",{parentName:"a"},".new( )")),"). Note however that if you use a function which calculates an attribute of the entity, the ",(0,n.kt)("inlineCode",{parentName:"p"},".touched()")," function will then return True. For example, if you call ",(0,n.kt)("a",l({parentName:"p"},{href:"#getkey"}),(0,n.kt)("inlineCode",{parentName:"a"},".getKey()"))," to calculate the primary key, ",(0,n.kt)("inlineCode",{parentName:"p"},".touched()")," returns True."),(0,n.kt)("h4",l({},{id:"ejemplo-16"}),"Ejemplo"),(0,n.kt)("p",null,"En este ejemplo, comprobamos si es necesario guardar la entidad:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $emp : cs.EmployeeEntity\n $emp:=ds.Employee.get(672)\n $emp.firstName:=$emp.firstName //Aunque se actualice con el mismo valor, el atributo se marca como tocado\n\n If($emp.touched()) //si se ha modificado al menos uno de los atributos\n    $emp.save()\n End if // de lo contrario, no es necesario guardar la entidad\n")),(0,n.kt)("h2",l({},{id:"touchedattributes-"}),".touchedAttributes( )"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".touchedAttributes()")," : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombres de atributos tocados, o colecci\xf3n vac\xeda")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-21"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".touchedAttributes()")," function returns the names of the attributes that have been modified since the entity was loaded into memory."),(0,n.kt)("p",null,"This applies for attributes of the ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/DataClassClass#attributename"}),"kind")," ",(0,n.kt)("inlineCode",{parentName:"p"},"storage")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"relatedEntity"),"."),(0,n.kt)("p",null,"En el caso de que se haya tocado una entidad relacionada (es decir, la llave externa), se devuelve el nombre de la entidad relacionada y el nombre de su llave primaria."),(0,n.kt)("p",null,"Si no se ha tocado ning\xfan atributo de entidad, el m\xe9todo devuelve una colecci\xf3n vac\xeda."),(0,n.kt)("h4",l({},{id:"ejemplo-1-6"}),"Ejemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $touchedAttributes : Collection\n var $emp : cs.EmployeeEntity\n\n $touchedAttributes:=New collection\n $emp:=ds.Employee.get(725)\n $emp.firstName:=$emp.firstName //Aunque se actualice con el mismo valor, el atributo se marca como tocado\n $emp.lastName:="Martin"\n $touchedAttributes:=$emp.touchedAttributes()\n  //$touchedAttributes: ["firstName","lastName"]\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-5"}),"Ejemplo 2"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $touchedAttributes : Collection\n var $emp : cs.EmployeeEntity\n var $company : cs.CompanyEntity\n\n $touchedAttributes:=New collection\n\n $emp:=ds.Employee.get(672)\n $emp.firstName:=$emp.firstName\n $emp.lastName:="Martin"\n\n $company:=ds.Company.get(121)\n $emp.employer:=$company\n\n $touchedAttributes:=$emp.touchedAttributes()\n\n  //collection $touchedAttributes: ["firstName","lastName","employer","employerID"]\n')),(0,n.kt)("p",null,"En este caso:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"firstName y lastName tienen un tipo ",(0,n.kt)("inlineCode",{parentName:"li"},"storage")),(0,n.kt)("li",{parentName:"ul"},"el empleador tiene un tipo ",(0,n.kt)("inlineCode",{parentName:"li"},"relatedEntity")),(0,n.kt)("li",{parentName:"ul"},"employerID es la llave extranjera de la entidad relacionada con el empleador")),(0,n.kt)("h2",l({},{id:"unlock"}),".unlock()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".unlock()")," : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto estado")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-22"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," function removes the pessimistic lock on the record matching the entity in the datastore and table related to its dataclass."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For more information, please refer to ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/entities#entity-locking"}),"Entity locking")," section.")),(0,n.kt)("p",null,"Un registro se desbloquea autom\xe1ticamente cuando ya no es referenciado por ninguna entidad en el proceso de bloqueo (por ejemplo: si el bloqueo se pone s\xf3lo en una referencia local de una entidad, la entidad y, por tanto, el registro se desbloquea cuando el proceso termina)."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Cuando un registro se bloquea, debe desbloquearse desde el proceso de bloqueo y en la referencia de la entidad que puso el bloqueo. Por ejemplo:")),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," $e1:=ds.Emp.all()[0]\n $e2:=ds.Emp.all()[0]\n $res:=$e1.lock() //$res.success=true\n $res:=$e2.unlock() //$res.success=false\n $res:=$e1.unlock() //$res.success=true\n")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Resultado")),(0,n.kt)("p",null,"The object returned by ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," contains the following property:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"success"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si la acci\xf3n de desbloquear tiene \xe9xito, False en caso contrario. Si el desbloqueo se realiza en una entidad abandonada, en un registro no bloqueado o en un registro bloqueado por otro proceso o entidad, el \xe9xito es False.")))),(0,n.kt)("h4",l({},{id:"ejemplo-17"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $employee : cs.EmployeeEntity\n var $status : Object\n\n $employee:=ds.Employee.get(725)\n $status:=$employee.lock()\n ... //processing\n $status:=$employee.unlock()\n If($status.success)\n    ALERT("The entity is now unlocked")\n End if\n')))}u.isMDXComponent=!0},759158:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png"}}]);