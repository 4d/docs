"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[37697],{603905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>c});var a=n(667294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=a.createContext({}),s=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),m=s(n),c=r,k=m["".concat(d,".").concat(c)]||m[c]||u[c]||i;return n?a.createElement(k,l(l({ref:t},p),{},{components:n})):a.createElement(k,l({ref:t},p))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},371623:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>d,toc:()=>p});n(667294);var a=n(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const l={id:"method",title:"$method"},o=void 0,d={unversionedId:"REST/method",id:"version-20-R4/REST/method",title:"$method",description:"Este par\xe1metro permite definir la operaci\xf3n a ejecutar con la entidad o selecci\xf3n de entidades devuelta.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R4/REST/$method.md",sourceDirName:"REST",slug:"/REST/method",permalink:"/docs/es/REST/method",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2F%24method.md%20(20-R4)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R4",frontMatter:{id:"method",title:"$method"},sidebar:"docs",previous:{title:"$lock",permalink:"/docs/es/REST/lock"},next:{title:"$orderby",permalink:"/docs/es/REST/orderby"}},s={},p=[{value:"Sintaxis disponible",id:"sintaxis-disponible",level:2},{value:"$method=delete",id:"methoddelete",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:3},{value:"Ejemplo",id:"ejemplo",level:3},{value:"$method=entityset",id:"methodentityset",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:3},{value:"Ejemplo",id:"ejemplo-1",level:3},{value:"$method=release",id:"methodrelease",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:3},{value:"Ejemplo",id:"ejemplo-2",level:3},{value:"Respuesta:",id:"respuesta",level:4},{value:"$method=subentityset",id:"methodsubentityset",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:3},{value:"Ejemplo",id:"ejemplo-3",level:3},{value:"Respuesta:",id:"respuesta-1",level:4},{value:"$method=update",id:"methodupdate",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:3},{value:"Ejemplo",id:"ejemplo-4",level:3}],u={toc:p};function m(e){var{components:t}=e,n=i(e,["components"]);return(0,a.kt)("wrapper",r({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Este par\xe1metro permite definir la operaci\xf3n a ejecutar con la entidad o selecci\xf3n de entidades devuelta."),(0,a.kt)("h2",r({},{id:"sintaxis-disponible"}),"Sintaxis disponible"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",r({parentName:"tr"},{align:null}),"Sintaxis"),(0,a.kt)("th",r({parentName:"tr"},{align:null}),"Ejemplo"),(0,a.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("a",r({parentName:"td"},{href:"#methoddelete"}),(0,a.kt)("strong",{parentName:"a"},"$method=delete"))),(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},'POST /Employee?$filter="ID=11"& $method=delete')),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Elimina la entidad actual, la colecci\xf3n de entidades o la selecci\xf3n de entidades")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("a",r({parentName:"td"},{href:"#methodentityset"}),(0,a.kt)("strong",{parentName:"a"},"$method=entityset"))),(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},'GET /People/?$filter="ID>320"& $method=entityset& $timeout=600')),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Crea un conjunto de entidades en la cach\xe9 de 4D Server basado en la colecci\xf3n de entidades definidas en la solicitud REST")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("a",r({parentName:"td"},{href:"#methodrelease"}),(0,a.kt)("strong",{parentName:"a"},"$method=release"))),(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"GET /Employee/$entityset/<entitySetID>?$method=release")),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Libera un conjunto de entidades existente almacenado en la cach\xe9 de 4D Server")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("a",r({parentName:"td"},{href:"#methodsubentityset"}),(0,a.kt)("strong",{parentName:"a"},"$method=subentityset"))),(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"GET /Company(1)/staff?$expand=staff& $method=subentityset&   $subOrderby=lastName ASC")),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Crea un conjunto de entidades basado en la colecci\xf3n de entidades relativas definidas en la petici\xf3n REST")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("a",r({parentName:"td"},{href:"#methodupdate"}),(0,a.kt)("strong",{parentName:"a"},"$method=update"))),(0,a.kt)("td",r({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"POST /Person/?$method=update")),(0,a.kt)("td",r({parentName:"tr"},{align:null}),"Actualiza y/o crea una o varias entidades")))),(0,a.kt)("h2",r({},{id:"methoddelete"}),"$method=delete"),(0,a.kt)("p",null,"Elimina la entidad actual, la colecci\xf3n de entidades o la selecci\xf3n de entidad actual (creada v\xeda REST)"),(0,a.kt)("h3",r({},{id:"descripci\xf3n"}),"Descripci\xf3n"),(0,a.kt)("p",null,"Con ",(0,a.kt)("inlineCode",{parentName:"p"},"$method=delete"),", puede eliminar una entidad o una colecci\xf3n de entidades entera. Puede definir la colecci\xf3n de entidades utilizando, por ejemplo,",(0,a.kt)("a",r({parentName:"p"},{href:"/docs/es/REST/filter"}),(0,a.kt)("inlineCode",{parentName:"a"},"$filter"))," o especificando uno directamente mediante ",(0,a.kt)("a",r({parentName:"p"},{href:"%7BdataClass%7D.html#dataclasskey"}),(0,a.kt)("inlineCode",{parentName:"a"},"{dataClass}({key})"))," ",(0,a.kt)("em",{parentName:"p"},"(por ejemplo"),", /Employee(22))."),(0,a.kt)("p",null,"Tambi\xe9n puede eliminar las entidades de un conjunto de entidades, llamando a ",(0,a.kt)("a",r({parentName:"p"},{href:"/docs/es/REST/entityset#entitysetentitysetid"}),(0,a.kt)("inlineCode",{parentName:"a"},"$entityset/{entitySetID}")),"."),(0,a.kt)("h3",r({},{id:"ejemplo"}),"Ejemplo"),(0,a.kt)("p",null,"A continuaci\xf3n, puede escribir la siguiente petici\xf3n REST para eliminar la entidad cuya llave es 22:"),(0,a.kt)("p",null," ",(0,a.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee(22)/?$method=delete")),(0,a.kt)("p",null,"Tambi\xe9n se puede hacer una petici\xf3n de informaci\xf3n utilizando $filter:"),(0,a.kt)("p",null," ",(0,a.kt)("inlineCode",{parentName:"p"},'POST  /rest/Employee?$filter="ID=11"&$method=delete')),(0,a.kt)("p",null,"Tambi\xe9n puede eliminar un conjunto de entidades utilizando $entityset/{entitySetID}:"),(0,a.kt)("p",null," ",(0,a.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee/$entityset/73F46BE3A0734EAA9A33CA8B14433570?$method=delete")),(0,a.kt)("p",null,"Respuesta:"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-json"}),'{\n    "ok": true\n}\n')),(0,a.kt)("h2",r({},{id:"methodentityset"}),"$method=entityset"),(0,a.kt)("p",null,"Crea un conjunto de entidades en la cach\xe9 de 4D Server basado en la colecci\xf3n de entidades definidas en la solicitud REST"),(0,a.kt)("h3",r({},{id:"descripci\xf3n-1"}),"Descripci\xf3n"),(0,a.kt)("p",null,"Cuando se crea una colecci\xf3n de entidades en REST, tambi\xe9n se puede crear un conjunto de entidades que se guardar\xe1 en la cach\xe9 de 4D Server. El conjunto de entidades tendr\xe1 un n\xfamero de referencia que puede pasar a ",(0,a.kt)("inlineCode",{parentName:"p"},"$entityset/{entitySetID}")," para acceder a \xe9l. Por defecto, es v\xe1lido durante dos horas; sin embargo, puede modificar esa cantidad de tiempo pasando un valor (en segundos) a $timeout."),(0,a.kt)("p",null,"Si ha utilizado ",(0,a.kt)("inlineCode",{parentName:"p"},"$savedfilter")," y/o ",(0,a.kt)("inlineCode",{parentName:"p"},"$savedorderby")," (junto con ",(0,a.kt)("inlineCode",{parentName:"p"},"$filter")," y/o ",(0,a.kt)("inlineCode",{parentName:"p"},"$orderby"),") cuando cre\xf3 su conjunto de entidades, puede volver a crearlo con el mismo ID de referencia aunque se haya eliminado de la cach\xe9 de 4D Server."),(0,a.kt)("h3",r({},{id:"ejemplo-1"}),"Ejemplo"),(0,a.kt)("p",null,"Para crear un conjunto de entidades, que se guardar\xe1 en la cach\xe9 de 4D Server durante dos horas, a\xf1ada ",(0,a.kt)("inlineCode",{parentName:"p"},"$method=entityset")," al final de su petici\xf3n REST:"),(0,a.kt)("p",null," ",(0,a.kt)("inlineCode",{parentName:"p"},'GET  /rest/People/?$filter="ID>320"&$method=entityset')),(0,a.kt)("p",null,"Puede crear un conjunto de entidades que se almacenar\xe1 en la cach\xe9 de 4D Server durante s\xf3lo diez minutos pasando un nuevo tiempo de espera a ",(0,a.kt)("inlineCode",{parentName:"p"},"$timeout"),":"),(0,a.kt)("p",null," ",(0,a.kt)("inlineCode",{parentName:"p"},'GET  /rest/People/?$filter="ID>320"&$method=entityset&$timeout=600')),(0,a.kt)("p",null,"Tambi\xe9n puede guardar el filtro y ordenar por, pasando true a ",(0,a.kt)("inlineCode",{parentName:"p"},"$savedfilter")," y ",(0,a.kt)("inlineCode",{parentName:"p"},"$savedorderby"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("inlineCode",{parentName:"p"},"$skip")," y ",(0,a.kt)("inlineCode",{parentName:"p"},"$top/$limit")," no se tienen en cuenta al guardar un conjunto de entidades.")),(0,a.kt)("p",null,"Despu\xe9s de crear un conjunto de entidades, el primer elemento, ",(0,a.kt)("inlineCode",{parentName:"p"},"__ENTITYSET"),", se a\xf1ade al objeto devuelto e indica la URI a utilizar para acceder al conjunto de entidades:"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-json"}),'__ENTITYSET: "http://127.0.0.1:8081/rest/Employee/$entityset/9718A30BF61343C796345F3BE5B01CE7"`\n')),(0,a.kt)("h2",r({},{id:"methodrelease"}),"$method=release"),(0,a.kt)("p",null,"Libera un conjunto de entidades existente almacenado en la cach\xe9 de 4D Server."),(0,a.kt)("h3",r({},{id:"descripci\xf3n-2"}),"Descripci\xf3n"),(0,a.kt)("p",null,"Puede liberar un conjunto de entidades, que cre\xf3 utilizando ",(0,a.kt)("a",r({parentName:"p"},{href:"#methodentityset"}),(0,a.kt)("inlineCode",{parentName:"a"},"$method=entityset")),", de la cach\xe9 de 4D Server."),(0,a.kt)("h3",r({},{id:"ejemplo-2"}),"Ejemplo"),(0,a.kt)("p",null,"Muestra un conjunto de entidades existente:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"GET  /rest/Employee/$entityset/4C51204DD8184B65AC7D79F09A077F24?$method=release")),(0,a.kt)("h4",r({},{id:"respuesta"}),"Respuesta:"),(0,a.kt)("p",null,"Si la petici\xf3n fue exitosa, se devuelve la siguiente respuesta:"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-json"}),'{\n    "ok": true\n}\nSi no se encuentra el conjunto de entidades, se devuelve un error:\n\n{\n    "__ERROR": [\n        {\n             "message": "Error code: 1802\\nEntitySet  \\"4C51204DD8184B65AC7D79F09A077F24\\" cannot be found\\ncomponent:  \'dbmg\'\\ntask 22, name: \'HTTP connection handler\'\\n",\n            "componentSignature": "dbmg",\n            "errCode": 1802\n        }\n    ]\n}\n')),(0,a.kt)("h2",r({},{id:"methodsubentityset"}),"$method=subentityset"),(0,a.kt)("p",null,"Crea un conjunto de entidades en la cach\xe9 de 4D Server basado en la colecci\xf3n de entidades relativas definidas en la petici\xf3n REST"),(0,a.kt)("h3",r({},{id:"descripci\xf3n-3"}),"Descripci\xf3n"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"$method=subentityset")," permite ordenar los datos devueltos por el atributo relacional definido en la petici\xf3n REST."),(0,a.kt)("p",null,"Para ordenar los datos, se utiliza la propiedad ",(0,a.kt)("inlineCode",{parentName:"p"},"$subOrderby"),". Para cada atributo, se define el orden como ASC (o asc) para el orden ascendente y DESC (desc) para el orden descendente. Por defecto, los datos se clasifican en orden ascendente."),(0,a.kt)("p",null,"Si desea especificar varios atributos, puede delimitarlos con una coma, \xb5, ",(0,a.kt)("inlineCode",{parentName:"p"},'$subOrderby="lastName desc, firstName asc"'),"."),(0,a.kt)("h3",r({},{id:"ejemplo-3"}),"Ejemplo"),(0,a.kt)("p",null,"Si quiere recuperar s\xf3lo las entidades relacionadas para una entidad espec\xedfica, puede hacer la siguiente petici\xf3n REST donde personal es el atributo de relaci\xf3n en la clase de datos Company vinculada a la clase de datos Employee:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company(1)/staff?$expand=staff&$method=subentityset&$subOrderby=lastName ASC")),(0,a.kt)("h4",r({},{id:"respuesta-1"}),"Respuesta:"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-json"}),'{\n\n    "__ENTITYSET": "/rest/Employee/$entityset/FF625844008E430B9862E5FD41C741AB",\n    "__entityModel": "Employee",\n    "__COUNT": 2,\n    "__SENT": 2,\n    "__FIRST": 0,\n    "__ENTITIES": [\n        {\n            "__KEY": "4",\n            "__STAMP": 1,\n            "ID": 4,\n            "firstName": "Linda",\n            "lastName": "Jones",\n            "birthday": "1970-10-05T14:23:00Z",\n            "employer": {\n                "__deferred": {\n                    "uri": "/rest/Company(1)",\n                    "__KEY": "1"\n                }\n            }\n        },\n        {\n            "__KEY": "1",\n            "__STAMP": 3,\n            "ID": 1,\n            "firstName": "John",\n            "lastName": "Smith",\n            "birthday": "1985-11-01T15:23:00Z",\n            "employer": {\n                "__deferred": {\n                    "uri": "/rest/Company(1)",\n                    "__KEY": "1"\n                }\n            }\n        }\n    ]\n\n}\n')),(0,a.kt)("h2",r({},{id:"methodupdate"}),"$method=update"),(0,a.kt)("p",null,"Actualiza y/o crea una o varias entidades"),(0,a.kt)("h3",r({},{id:"descripci\xf3n-4"}),"Descripci\xf3n"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"$method=update")," le permite actualizar y/o crear una o m\xe1s entidades en un solo ",(0,a.kt)("strong",{parentName:"p"},"POST"),". Si se actualiza y/o crea una entidad, se efect\xfaa en un objeto con, para cada propiedad, un atributo y su valor, ",(0,a.kt)("em",{parentName:"p"},"por ejemplo")," ",(0,a.kt)("inlineCode",{parentName:"p"},'{ lastName: "Smith" }'),". Si actualiza y/o crea varias entidades, debe crear una colecci\xf3n de objetos."),(0,a.kt)("p",null,"En cualquier caso, debe definir los ",(0,a.kt)("strong",{parentName:"p"},"POST")," datos en el ",(0,a.kt)("strong",{parentName:"p"},"body")," de la petici\xf3n."),(0,a.kt)("p",null,"Para actualizar una entidad, debes pasar los par\xe1metros ",(0,a.kt)("inlineCode",{parentName:"p"},"__KEY")," y ",(0,a.kt)("inlineCode",{parentName:"p"},"__STAMP")," en el objeto junto con todos los atributos modificados. Si faltan ambos par\xe1metros, se a\xf1adir\xe1 una entidad con los valores del objeto que env\xede en el cuerpo de su ",(0,a.kt)("strong",{parentName:"p"},"POST"),"."),(0,a.kt)("p",null,"Los triggers se ejecutan inmediatamente al guardar la entidad en el servidor. La respuesta contiene todos los datos tal y como existen en el servidor."),(0,a.kt)("p",null,"Tambi\xe9n puede poner estas solicitudes para crear o actualizar entidades en una transacci\xf3n llamando a ",(0,a.kt)("inlineCode",{parentName:"p"},"$atomic/$atOnce"),". Si se produce alg\xfan error durante la validaci\xf3n de los datos, no se guarda ninguna de las entidades. Tambi\xe9n puede utilizar ",(0,a.kt)("inlineCode",{parentName:"p"},"$method=validate")," para validar las entidades antes de crearlas o actualizarlas."),(0,a.kt)("p",null,"Si surge un problema al a\xf1adir o modificar una entidad, se le devolver\xe1 un error con esa informaci\xf3n."),(0,a.kt)("admonition",r({},{type:"note"}),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Las fechas"),' deben expresarse en formato JS: YYYY-MM-DDTHH:MM:SSZ (por ejemplo, "2010-10-05T23:00:00Z"). Si ha seleccionado la propiedad Fecha \xfanicamente para su atributo Fecha, se eliminar\xe1 la zona horaria y la hora (hora, minutos y segundos). En este caso, tambi\xe9n puede enviar la fecha en el formato que se le devuelve dd!mm!aaaa (por ejemplo, 05!10!2013).'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Booleanos")," son true o false."),(0,a.kt)("li",{parentName:"ul"},"Los archivos subidos mediante ",(0,a.kt)("inlineCode",{parentName:"li"},"$upload")," pueden aplicarse a un atributo de tipo Imagen o BLOB pasando el objeto devuelto en el siguiente formato ",(0,a.kt)("inlineCode",{parentName:"li"},'{ "ID": "D507BC03E613487E9B4C2F6A0512FE50"}')))),(0,a.kt)("h3",r({},{id:"ejemplo-4"}),"Ejemplo"),(0,a.kt)("p",null,"Para actualizar una entidad espec\xedfica, se utiliza la siguiente URL:"),(0,a.kt)("p",null," ",(0,a.kt)("inlineCode",{parentName:"p"},"POST  /rest/Person/?$method=update")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Datos POST:")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-json"}),'{\n    __KEY: "340",\n    __STAMP: 2,\n    firstName: "Pete",\n    lastName: "Miller"\n}\n')),(0,a.kt)("p",null,"Los atributos firstName y lastName de la entidad indicada anteriormente se modificar\xe1n dejando todos los dem\xe1s atributos (excepto los calculados basados en estos atributos) sin cambios."),(0,a.kt)("p",null,"Si quiere crear una entidad, puede enviar, v\xeda POST los atributos utilizando esta URL:"),(0,a.kt)("p",null," ",(0,a.kt)("inlineCode",{parentName:"p"},"POST  /rest/Person/?$method=update")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Datos POST:")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-json"}),'{ \n    firstName: "John",\n    lastName: "Smith"\n}\n')),(0,a.kt)("p",null,"Tambi\xe9n puede crear y actualizar m\xfaltiples entidades al mismo tiempo utilizando la misma URL anterior pasando m\xfaltiples objetos en un array al POST:"),(0,a.kt)("p",null," ",(0,a.kt)("inlineCode",{parentName:"p"},"POST  /rest/Person/?$method=update")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Datos POST:")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-json"}),'[{ \n    "__KEY": "309",\n    "__STAMP": 5,\n    "ID": "309",\n    "firstName": "Penelope",\n    "lastName": "Miller"\n}, { \n    "firstName": "Ann",\n    "lastName": "Jones"\n}]\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Respuesta:")),(0,a.kt)("p",null,"Cuando a\xf1ade o modifica una entidad, se devuelve con los atributos modificados. Por ejemplo, si se crea el nuevo empleado anterior, se devolver\xe1 lo siguiente:"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-json"}),'{\n    "__KEY": "622", \n    "__STAMP": 1, \n    "uri": "http://127.0.0.1:8081/rest/Employee(622)", \n    "__TIMESTAMP": "!!2020-04-03!!",\n    "ID": 622, \n    "firstName": "John", \n    "firstName": "Smith"\n}\n')),(0,a.kt)("p",null,"Si, por ejemplo, el sello no es correcto, se devuelve el siguiente error:"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-json"}),'{\n    "__STATUS": {\n        "status": 2,\n        "statusText": "Stamp has changed",\n        "success": false\n    },\n    "__KEY": "1",\n    "__STAMP": 12,\n    "__TIMESTAMP": "!!2020-03-31!!",\n    "ID": 1,\n    "firstname": "Denise",\n    "lastname": "O\'Peters",\n    "isWoman": true,\n    "numberOfKids": 1,\n    "addressID": 1,\n    "gender": true,\n    "imageAtt": {\n        "__deferred": {\n            "uri": "/rest/Persons(1)/imageAtt?$imageformat=best&$version=12&$expand=imageAtt",\n            "image": true\n        }\n    },\n    "extra": {\n        "num": 1,\n        "alpha": "I am 1"\n    },\n    "address": {\n        "__deferred": {\n            "uri": "/rest/Address(1)",\n            "__KEY": "1"\n        }\n    },\n    "__ERROR": [\n        {\n            "message": "Given stamp does not match current one for record# 0 of table Persons",\n            "componentSignature": "dbmg",\n            "errCode": 1263\n        },\n        {\n            "message": "Cannot save record 0 in table Persons of database remote_dataStore",\n            "componentSignature": "dbmg",\n            "errCode": 1046\n        },\n        {\n            "message": "The entity# 1 in the \\"Persons\\" dataclass cannot be saved",\n            "componentSignature": "dbmg",\n            "errCode": 1517\n        }\n    ]\n}{}\n\n')))}m.isMDXComponent=!0}}]);