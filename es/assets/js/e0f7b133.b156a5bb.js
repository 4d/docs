"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["21744"],{225996:function(e,n,s){s.r(n),s.d(n,{metadata:()=>t,contentTitle:()=>i,default:()=>h,assets:()=>l,toc:()=>o,frontMatter:()=>a});var t=JSON.parse('{"id":"commands-legacy/http-get","title":"HTTP Get","description":"HTTP Get ( url ; respuesta {; nomEncab ; valoresEncab}{; *} ) : Integer","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/http-get.md","sourceDirName":"commands-legacy","slug":"/commands/http-get","permalink":"/docs/es/commands/http-get","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fhttp-get.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"http-get","title":"HTTP Get","slug":"/commands/http-get","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"HTTP AUTHENTICATE","permalink":"/docs/es/commands/http-authenticate"},"next":{"title":"HTTP Get certificates folder","permalink":"/docs/es/commands/http-get-certificates-folder"}}'),r=s("785893"),d=s("250065");let a={id:"http-get",title:"HTTP Get",slug:"/commands/http-get",displayed_sidebar:"docs"},i=void 0,l={},o=[{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Ejemplo 1",id:"ejemplo-1",level:4},{value:"Ejemplo 2",id:"ejemplo-2",level:4},{value:"Ejemplo 3",id:"ejemplo-3",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n",level:4},{value:"Propiedades",id:"propiedades",level:4}];function c(e){let n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Get"})," ( ",(0,r.jsx)(n.em,{children:"url"})," ; ",(0,r.jsx)(n.em,{children:"respuesta"})," {; ",(0,r.jsx)(n.em,{children:"nomEncab"})," ; ",(0,r.jsx)(n.em,{children:"valoresEncab"}),"}{; *} ) : Integer"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Par\xe1metro"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"url"}),(0,r.jsx)(n.td,{children:"Text"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"URL al cual enviar la petici\xf3n"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"respuesta"}),(0,r.jsx)(n.td,{children:"Text, Blob, Picture, Object"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Resultado de la petici\xf3n"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"nomEncab"}),(0,r.jsx)(n.td,{children:"Text array"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Nombres de los encabezados de la petici\xf3n"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Nombres de encabezados devueltos"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"valoresEncab"}),(0,r.jsx)(n.td,{children:"Text array"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Valores de los encabezados de la petici\xf3n"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"Valores de los encabezados devueltos"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"*"}),(0,r.jsx)(n.td,{children:"Operador"}),(0,r.jsx)(n.td,{children:"\u2192"}),(0,r.jsx)(n.td,{children:"Si se pasa, la conexi\xf3n se mantiene(keep-alive)Si se omite, la conexi\xf3n se cierra autom\xe1ticamente"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Resultado"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"\u2190"}),(0,r.jsx)(n.td,{children:"C\xf3digo de estado HTTP"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{title:"Compatibilidad",type:"info",children:(0,r.jsxs)(n.p,{children:["Este comando se mantiene s\xf3lo por razones de compatibilidad. Ahora se recomienda utilizar ",(0,r.jsx)(n.a,{href:"/docs/es/API/HTTPRequestClass",children:(0,r.jsx)(n.code,{children:"4D.HTTPRequest class"})}),"."]})}),"\n",(0,r.jsx)(n.h4,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["El comando ",(0,r.jsx)(n.strong,{children:"HTTP Get"})," env\xeda directamente una petici\xf3n HTTP GET a un URL espec\xedfico y procesa la respuesta del servidor HTTP."]}),"\n",(0,r.jsxs)(n.p,{children:["Pase en el par\xe1metro ",(0,r.jsx)(n.em,{children:"url"})," el URL al cual enviar la petici\xf3n. La sintaxis a utilizar es:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-RAW",children:"http://[{user}:[{password}]@]host[:{port}][/{path}][?{queryString}]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Por ejemplo, puede pasar las siguientes cadenas:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-RAW",children:'\xa0\xa0\xa0 http://www.myserver.com\xa0\xa0\xa0 http://www.myserver.com/path\xa0\xa0\xa0 http://www.myserver.com/path?name="jones"\xa0\xa0\xa0 https://www.myserver.com/login (*)\xa0\xa0\xa0 http://123.45.67.89:8083\xa0\xa0\xa0 http://john:smith@123.45.67.89:8083\xa0\xa0\xa0 http://[2001:0db8:0000:0000:0000:ff00:0042:8329]\xa0\xa0\xa0 http://[2001:0db8:0000:0000:0000:ff00:0042:8329]:8080/index.html (**)\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"(*)"})," Durante las peticiones HTTPS, la autoridad del certificado no se verifica.",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.em,{children:"(**)"})," Para m\xe1s informaci\xf3n sobre las direcciones IPv6 en urls, consulte ",(0,r.jsx)(n.a,{href:"https://www.ietf.org/rfc/rfc2732.txt",children:"RFC 2732"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Despu\xe9s de la ejecuci\xf3n del comando, el par\xe1metro ",(0,r.jsx)(n.em,{children:"respuesta"})," recupera el resultado de la petici\xf3n devuelto por el servidor. Este resultado corresponde al cuerpo (body) de la respuesta, sin los encabezados (headers).",(0,r.jsx)(n.br,{}),"\nPuede pasar variables de diferentes tipos en ",(0,r.jsx)(n.em,{children:"respuesta"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Texto: cuando el resultado se espera en forma de texto (ver nota abajo)"}),"\n",(0,r.jsx)(n.li,{children:"BLOB: cuando el resultado se espera en forma binaria."}),"\n",(0,r.jsx)(n.li,{children:"Imagen: cuando el resultado se espera en forma de imagen."}),"\n",(0,r.jsxs)(n.li,{children:["Objeto: cuando el resultado se espera en forma de objeto ",(0,r.jsx)(n.a,{href:"c-object.md",children:"C_OBJECT"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Nota:"})," cuando se pasa una variable de texto en ",(0,r.jsx)(n.em,{children:"respuesta"}),", 4D intentar\xe1 decodificar los datos devueltos desde el servidor. 4D primero intenta recuperar el conjunto de caracteres del encabezado de ",(0,r.jsx)(n.em,{children:"tipo de contenido"}),", luego del contenido utilizando un BOM y, finalmente, busca cualquier atributo ",(0,r.jsx)(n.em,{children:"http-equiv charset"})," (en contenido html) o ",(0,r.jsx)(n.em,{children:"codificaci\xf3n"})," (para xml). Si no se puede detectar ning\xfan charset, 4D intentar\xe1 decodificar la respuesta en ANSI. Si la conversi\xf3n falla, el texto resultante quedar\xe1 vac\xedo. Si no est\xe1 seguro de si el servidor devuelve una informaci\xf3n charset o BOM, pero conoce la codificaci\xf3n, es m\xe1s preciso pasar ",(0,r.jsx)(n.em,{children:"respuesta"})," en BLOB y llamar al ",(0,r.jsx)(n.a,{href:"/docs/es/commands/convert-to-text",children:"Convert to text"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Si pasa un BLOB, contendr\xe1 el texto, la imagen o todo tipo de contenido (.wav, .zip, etc.) devuelto por el servidor. A continuaci\xf3n, debe gestionar la recuperaci\xf3n de estos contenidos (los encabezados no est\xe1n incluidos en el BLOB). Si pasa un objeto de tipo ",(0,r.jsx)(n.a,{href:"c-object.md",children:"C_OBJECT"}),", si la petici\xf3n devuelve un resultado con el contenido tipo texto, 4D intenta analizar el contenido JSON y devuelve el resultado analizado como un objeto, de lo contrario, se devuelve un objeto ",(0,r.jsx)(n.em,{children:"4D.Blob"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["En ",(0,r.jsx)(n.em,{children:"nomEncab"})," y ",(0,r.jsx)(n.em,{children:"valoresEncab"})," pase los arrays que contienen los nombres y los valores de los encabezados de la petici\xf3n.",(0,r.jsx)(n.br,{}),"\nDespu\xe9s de la ejecuci\xf3n del m\xe9todo, estos arrays contienen los nombres y los valores de los encabezados devueltos por el servidor HTTP. M\xe1s espec\xedficamente, este principio le permite administrar sus cookies."]}),"\n",(0,r.jsxs)(n.p,{children:["El par\xe1metro ",(0,r.jsx)(n.em,{children:"*"})," permite activar el mecanismo keep-alive para la conexi\xf3n al servidor. Por defecto, este par\xe1metro se omite, keep-alive no est\xe1 activo."]}),"\n",(0,r.jsxs)(n.p,{children:["El comando devuelve el c\xf3digo del estado HTTP est\xe1ndar (200=OK...) tal como fue devuelto por el servidor. La lista de c\xf3digos de estado HTTP est\xe1 en el ",(0,r.jsx)(n.em,{children:"RFC 2616"}),".",(0,r.jsx)(n.br,{}),"\nSi la conexi\xf3n al servidor no es posible por una raz\xf3n relacionada con la red (DNS Failed, Server not reachable...), el comando devuelve 0 y se genera un error. Puede interceptar estos errores utilizando un m\xe9todo de gesti\xf3n de errores instalado por el comando ",(0,r.jsx)(n.a,{href:"/docs/es/commands/on-err-call",children:"ON ERR CALL"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-1",children:"Ejemplo 1"}),"\n",(0,r.jsx)(n.p,{children:"Recuperaci\xf3n del logo 4D en el sitio web de 4D:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var URLPic_t : Text\n\xa0URLPic_t:="http://www.4d.com/sites/all/themes/dimention/images/home/logo4D.jpg"\n\xa0ARRAY TEXT(HeaderNames_at;0)\n\xa0ARRAY TEXT(HeaderValues_at;0)\n\xa0var Pic_i : Picture\n\xa0$httpResponse:=HTTP Get(URLPic_t;Pic_i;HeaderNames_at;HeaderValues_at)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-2",children:"Ejemplo 2"}),"\n",(0,r.jsx)(n.p,{children:"Recuperaci\xf3n de un RFC:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var URLText_t : Text\n\xa0var Text_t : Text\n\xa0URLText_t:="http://tools.ietf.org/rfc/rfc1.txt"\n\xa0ARRAY TEXT(HeaderNames_at;0)\n\xa0ARRAY TEXT(HeaderValues_at;0)\n\xa0$httpResponse:=HTTP Get(URLText_t;Text_t;HeaderNames_at;HeaderValues_at)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-3",children:"Ejemplo 3"}),"\n",(0,r.jsx)(n.p,{children:"Recuperaci\xf3n de un v\xeddeo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-4d",children:'\xa0var vBlob : Blob\n\xa0$httpResponse:=HTTP Get("http://www.example.com/video.flv";vBlob)\n\xa0BLOB TO DOCUMENT("video.flv";vBlob)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"ver-tambi\xe9n",children:"Ver tambi\xe9n"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/es/commands/http-request",children:"HTTP Request"})}),"\n",(0,r.jsx)(n.h4,{id:"propiedades",children:"Propiedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"N\xfamero de comando"}),(0,r.jsx)(n.td,{children:"1157"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Hilo seguro"}),(0,r.jsx)(n.td,{children:"\u2713"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Modifica variables"}),(0,r.jsx)(n.td,{children:"error"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return i},a:function(){return a}});var t=s(667294);let r={},d=t.createContext(r);function a(e){let n=t.useContext(d);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);