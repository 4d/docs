"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[20503],{603905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=s(a),u=r,k=c["".concat(p,".").concat(u)]||c[u]||m[u]||l;return a?n.createElement(k,o(o({ref:t},d),{},{components:a})):n.createElement(k,o({ref:t},d))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=c;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var s=2;s<l;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},371555:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>p,toc:()=>d});a(667294);var n=a(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={id:"SystemWorkerClass",title:"SystemWorker"},i=void 0,p={unversionedId:"API/SystemWorkerClass",id:"version-20/API/SystemWorkerClass",title:"SystemWorker",description:"Los System workers permiten que el c\xf3digo 4D llame a cualquier proceso externo (un comando shell, PHP, etc.) en la misma m\xe1quina. Los trabajadores del sistema se llaman de forma as\xedncrona. Mediante el uso de retrollamadas, 4D hace posible la comunicaci\xf3n en ambos sentidos.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20/API/SystemWorkerClass.md",sourceDirName:"API",slug:"/API/SystemWorkerClass",permalink:"/docs/es/20/API/SystemWorkerClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSystemWorkerClass.md%20(20)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20",frontMatter:{id:"SystemWorkerClass",title:"SystemWorker"},sidebar:"docs",previous:{title:"SMTPTransporter",permalink:"/docs/es/20/API/SMTPTransporterClass"},next:{title:"WebServer",permalink:"/docs/es/20/API/WebServerClass"}},s={},d=[{value:"Ejemplo",id:"ejemplo",level:3},{value:"Resumen",id:"resumen",level:3},{value:"4D.SystemWorker.new()",id:"4dsystemworkernew",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Objeto <em>options</em>",id:"objeto-options",level:4},{value:"Valor devuelto",id:"valor-devuelto",level:4},{value:"Ejemplos en Windows",id:"ejemplos-en-windows",level:4},{value:"Ejemplos en macOS",id:"ejemplos-en-macos",level:4},{value:".closeInput()",id:"closeinput",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:"Ejemplo",id:"ejemplo-1",level:4},{value:".commandLine",id:"commandline",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:".currentDirectory",id:"currentdirectory",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4},{value:".dataType",id:"datatype",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:4},{value:".encoding",id:"encoding",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-5",level:4},{value:".errors",id:"errors",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-6",level:4},{value:".exitCode",id:"exitcode",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-7",level:4},{value:".hideWindow",id:"hidewindow",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-8",level:4},{value:".pid",id:"pid",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-9",level:4},{value:".postMessage()",id:"postmessage",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-10",level:4},{value:".response",id:"response",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-11",level:4},{value:".responseError",id:"responseerror",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-12",level:4},{value:".terminate()",id:"terminate",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-13",level:4},{value:".terminated",id:"terminated",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-14",level:4},{value:".timeout",id:"timeout",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-15",level:4},{value:".wait()",id:"wait",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-16",level:4}],m={toc:d};function c(e){var{components:t}=e,a=l(e,["components"]);return(0,n.kt)("wrapper",r({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Los System workers permiten que el c\xf3digo 4D llame a cualquier proceso externo (un comando shell, PHP, etc.) en la misma m\xe1quina. Los trabajadores del sistema se llaman de forma as\xedncrona. Mediante el uso de retrollamadas, 4D hace posible la comunicaci\xf3n en ambos sentidos."),(0,n.kt)("p",null,"La clase ",(0,n.kt)("inlineCode",{parentName:"p"},"SystemWorker")," est\xe1 disponible en el almac\xe9n de clases ",(0,n.kt)("inlineCode",{parentName:"p"},"4D"),"."),(0,n.kt)("h3",r({},{id:"ejemplo"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'    // Ejemplo Windows para acceder a la informaci\xf3n de ipconfig\nvar $myWinWorker : 4D.SystemWorker\nvar $ipConfig : Text\n$myWinWorker:= 4D.SystemWorker.new("ipconfig")\n$ipConfig:=$myWinWorker.wait(1).response //timeout 1 segundo\n\n    // ejemplo macOS para cambiar los permisos de un archivo en macOS\n    // chmod es el comando macOS utilizado para modificar el acceso a los archivos\nvar $myMacWorker : 4D.SystemWorker\n$myMacWorker:= 4D.SystemWorker.new("chmod +x /folder/myfile.sh")\n\n')),(0,n.kt)("h3",r({},{id:"resumen"}),"Resumen"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#4d-systemworker-new"}),(0,n.kt)("strong",{parentName:"a"},"4D.SystemWorker.new")," ( ",(0,n.kt)("em",{parentName:"a"},"commandLine")," : Text { ; options : Object } ) : 4D.SystemWorker"),"\xa0","\xa0","\xa0","\xa0","crea y devuelve un objeto ",(0,n.kt)("inlineCode",{parentName:"td"},"4D.SystemWorker")," que ejecutar\xe1 la ",(0,n.kt)("em",{parentName:"td"},"commandLine")," que se ha pasado como par\xe1metro para lanzar un proceso externo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#closeinput"}),(0,n.kt)("strong",{parentName:"a"},".closeInput"),"()"),"\xa0","\xa0","\xa0","\xa0","cierra el flujo de entrada (",(0,n.kt)("em",{parentName:"td"},"stdin"),") del proceso externo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#commandline"}),(0,n.kt)("strong",{parentName:"a"},".commandLine")," : Text"),"\xa0","\xa0","\xa0","\xa0","contiene la l\xednea de comandos pasada como par\xe1metro a la funci\xf3n ",(0,n.kt)("a",r({parentName:"td"},{href:"#4d-systemworker-new"}),(0,n.kt)("inlineCode",{parentName:"a"},"new()")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#currentdirectory"}),(0,n.kt)("strong",{parentName:"a"},".currentDirectory")," : 4D.Folder"),"\xa0","\xa0","\xa0","\xa0","contiene el directorio de trabajo en el que se ejecuta el proceso externo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#dataype"}),(0,n.kt)("strong",{parentName:"a"},".dataType")," : Text"),"\xa0","\xa0","\xa0","\xa0","contiene el tipo de contenido del cuerpo de la respuesta")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#encoding"}),(0,n.kt)("strong",{parentName:"a"},".encoding")," : Text"),"\xa0","\xa0","\xa0","\xa0","contiene la codificaci\xf3n del contenido del cuerpo de la respuesta")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#errors"}),(0,n.kt)("strong",{parentName:"a"},".errors")," : Collection"),"\xa0","\xa0","\xa0","\xa0","contiene una colecci\xf3n de errores 4D en caso de error(es) de ejecuci\xf3n, si los hay")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#exitcode"}),(0,n.kt)("strong",{parentName:"a"},".exitCode")," : Integer"),"\xa0","\xa0","\xa0","\xa0","contiene el c\xf3digo de salida devuelto por el proceso externo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#hideWindow"}),(0,n.kt)("strong",{parentName:"a"},".hideWindow")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","puede utilizarse para ocultar la ventana de la consola DOS o la ventana del ejecutable lanzado (",(0,n.kt)("strong",{parentName:"td"},"S\xf3lo para Windows"),")")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#pid"}),(0,n.kt)("strong",{parentName:"a"},".pid")," : Integer"),"\xa0","\xa0","\xa0","\xa0","contiene el identificador \xfanico del proceso externo a nivel del sistema")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#postmessage"}),(0,n.kt)("strong",{parentName:"a"},".postMessage"),"( ",(0,n.kt)("em",{parentName:"a"},"message")," : Text)",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".postMessage"),"( ",(0,n.kt)("em",{parentName:"a"},"messageBLOB")," : Blob)"),"\xa0","\xa0","\xa0","\xa0","permite escribir en el flujo de entrada (stdin) del proceso externo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#response"}),(0,n.kt)("strong",{parentName:"a"},".response")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".response")," : Blob"),"\xa0","\xa0","\xa0","\xa0","contiene la concatenaci\xf3n de todos los datos devueltos una vez finalizada la solicitud")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#responseerror"}),(0,n.kt)("strong",{parentName:"a"},".responseError")," : Text"),"\xa0","\xa0","\xa0","\xa0","contiene la concatenaci\xf3n de todos los errores devueltos, una vez finalizada la petici\xf3n")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#terminate"}),(0,n.kt)("strong",{parentName:"a"},".terminate"),"()"),"\xa0","\xa0","\xa0","\xa0","The ",(0,n.kt)("inlineCode",{parentName:"td"},".terminate()")," function")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#terminated"}),(0,n.kt)("strong",{parentName:"a"},".terminated")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","contiene ",(0,n.kt)("strong",{parentName:"td"},"true")," si el proceso externo ha terminado")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#timeout"}),(0,n.kt)("strong",{parentName:"a"},".timeout")," : Integer"),"\xa0","\xa0","\xa0","\xa0","contiene la duraci\xf3n en segundos antes de que el proceso externo sea eliminado si a\xfan est\xe1 vivo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#wait"}),(0,n.kt)("strong",{parentName:"a"},".wait"),"( {",(0,n.kt)("em",{parentName:"a"},"timeout")," : Real} ) : 4D.SystemWorker"),"\xa0","\xa0","\xa0","\xa0","espera hasta el final de la ejecuci\xf3n del ",(0,n.kt)("inlineCode",{parentName:"td"},"SystemWorker")," o del ",(0,n.kt)("em",{parentName:"td"},"timeout")," especificado")))),(0,n.kt)("h2",r({},{id:"4dsystemworkernew"}),"4D.SystemWorker.new()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v19 R4"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"4D.SystemWorker.new")," ( ",(0,n.kt)("em",{parentName:"p"},"commandLine")," : Text { ; options : Object } ) : 4D.SystemWorker"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"commandLine"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"L\xednea de comando a ejecutar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe1metros worker")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.SystemWorker"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nuevo System worker as\xedncrono o null si el proceso no se ha iniciado")))),(0,n.kt)("h4",r({},{id:"descripci\xf3n"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.SystemWorker.new()")," crea y devuelve un objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.SystemWorker")," que ejecutar\xe1 la ",(0,n.kt)("em",{parentName:"p"},"commandLine")," que se ha pasado como par\xe1metro para lanzar un proceso externo."),(0,n.kt)("p",null,"El objeto system worker devuelto puede utilizarse para enviar mensajes al worker y obtener los resultados del worker."),(0,n.kt)("p",null,"Si se produce un error durante la creaci\xf3n del objeto proxy, la funci\xf3n devuelve un objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"null")," y se lanza un error."),(0,n.kt)("p",null,"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"commandLine"),", pase la ruta completa del archivo de la aplicaci\xf3n a ejecutar (sintaxis posix), as\xed como los argumentos necesarios, si es el caso. Si s\xf3lo pasa que el nombre de la aplicaci\xf3n, 4D utilizar\xe1 la variable de entorno ",(0,n.kt)("inlineCode",{parentName:"p"},"PATH")," para localizar el ejecutable."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Atenci\xf3n:")," esta funci\xf3n s\xf3lo puede lanzar aplicaciones ejecutables; no puede ejecutar las instrucciones que formen parte del shell (int\xe9rprete de comandos). Por ejemplo, en Windows no es posible utilizar este comando para ejecutar la instrucci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},"dir"),"."),(0,n.kt)("h4",r({},{id:"objeto-options"}),"Objeto ",(0,n.kt)("em",{parentName:"h4"},"options")),(0,n.kt)("p",null,"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"options"),", pase un objeto que pueda contener las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Por defecto"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onResponse"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Formula"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retrollamada para los mensajes del system worker. Esta retrollamada se llama una vez que se recibe la respuesta completa. Recibe dos objetos como par\xe1metros (ver m\xe1s abajo)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onData"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Formula"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retrollamada para los datos del system worker. Esta retrollamada se llama cada vez que el system worker recibe los datos. Recibe dos objetos como par\xe1metros (ver m\xe1s abajo)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onDataError"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Formula"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retrollamada para los errores del proceso externo (",(0,n.kt)("em",{parentName:"td"},"stderr")," del proceso externo). Recibe dos objetos como par\xe1metros (ver m\xe1s abajo)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onError"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Formula"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retrollamada para los errores de ejecuci\xf3n, devueltos por el system worker en caso de condiciones de ejecuci\xf3n inusuales (errores del sistema). Recibe dos objetos como par\xe1metros (ver m\xe1s abajo)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onTerminate"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Formula"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retrollamada cuando el proceso externo se termina. Recibe dos objetos como par\xe1metros (ver m\xe1s abajo)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"timeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tiempo en segundos antes de que el proceso sea eliminado si a\xfan est\xe1 activo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataType"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"text"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Tipo de contenido del cuerpo de la respuesta. Valores posibles: "text" (por defecto), "blob".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"encoding"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"UTF-8"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"S\xf3lo si ",(0,n.kt)("inlineCode",{parentName:"td"},'dataType="text"'),". Codificaci\xf3n del contenido del cuerpo de la respuesta. Para ver la lista de valores disponibles, consulte la descripci\xf3n del comando ",(0,n.kt)("a",r({parentName:"td"},{href:"https://doc.4d.com/4dv19R/help/command/en/page1011.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"CONVERT FROM TEXT")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"variables"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Define las variables de entorno personalizadas para el system worker. Sintaxis: ",(0,n.kt)("inlineCode",{parentName:"td"},"variables.key=value"),", donde ",(0,n.kt)("inlineCode",{parentName:"td"},"key")," es el nombre de la variable y ",(0,n.kt)("inlineCode",{parentName:"td"},"value")," su valor. Los valores se convierten en cadenas de caracters cuando es posible. El valor no puede contener un '='. Si no se define, el system worker hereda del entorno 4D.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"currentDirectory"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Folder"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Directorio de trabajo en el que se ejecuta el proceso")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"hideWindow"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"true"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"(Windows) Ocultar la ventana de la aplicaci\xf3n (si es posible) o la consola Windows")))),(0,n.kt)("p",null,"Todas las funciones de retrollamada reciben dos par\xe1metros objeto. Su contenido depende de la retrollamada:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"th"},"onResponse")),(0,n.kt)("th",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"th"},"onData")),(0,n.kt)("th",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"th"},"onDataError")),(0,n.kt)("th",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"th"},"onError")),(0,n.kt)("th",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"th"},"onTerminate")))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"$param1"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"SystemWorker"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"SystemWorker"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"SystemWorker"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"SystemWorker"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"SystemWorker")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"$param2.type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"response"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"data"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"error"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"error"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"termination"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"$param2.data"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text o Blob"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"datos recibidos"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"datos de error"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}))))),(0,n.kt)("p",null,"Esta es la secuencia de llamadas de retorno:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"onData")," y ",(0,n.kt)("inlineCode",{parentName:"li"},"onDataError")," se ejecutan una o varias veces"),(0,n.kt)("li",{parentName:"ol"},"si se llama, ",(0,n.kt)("inlineCode",{parentName:"li"},"onError")," se ejecuta una vez (detiene el procesamiento del system worker)"),(0,n.kt)("li",{parentName:"ol"},"si no se ha producido ning\xfan error, ",(0,n.kt)("inlineCode",{parentName:"li"},"onResponse")," se ejecuta una vez"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"onTerminate")," se ejecuta siempre")),(0,n.kt)("h4",r({},{id:"valor-devuelto"}),"Valor devuelto"),(0,n.kt)("p",null,"La funci\xf3n devuelve un objeto system worker sobre el que se pueden llamar las funciones y las propiedades de la clase SystemWorker."),(0,n.kt)("h4",r({},{id:"ejemplos-en-windows"}),"Ejemplos en Windows"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Para abrir el Bloc de notas y abrir un documento espec\xedfico:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $sw : 4D.SystemWorker\nvar $options : Object\n$options:=New object\n$options.hideWindow:= False\n\n$sw:=4D.SystemWorker.new ("C:\\\\WINDOWS\\\\notepad.exe C:\\\\Docs\\\\new folder\\\\res.txt";$options)\n')),(0,n.kt)("ol",r({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"Ejecutar npm install en la consola:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $folder : 4D.Folder\nvar $options : Object\nvar $worker : 4D.SystemWorker\n\n$folder:=Folder(fk database folder)\n$options:=New object\n$options.currentDirectory:=$folder\n$options.hideWindow:=False\n\n$worker:=4D.SystemWorker.new("cmd /c npm install";$options)\n\n')),(0,n.kt)("ol",r({},{start:3}),(0,n.kt)("li",{parentName:"ol"},"Para lanzar la aplicaci\xf3n Microsoft\xae Word\xae y abrir un documento espec\xedfico:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$mydoc:="C:\\\\Program Files\\\\Microsoft Office\\\\Office15\\\\WINWORD.EXE C:\\\\Tempo\\\\output.txt"\nvar $sw : 4D.SystemWorker\n$sw:=4D.SystemWorker.new($mydoc)\n')),(0,n.kt)("ol",r({},{start:4}),(0,n.kt)("li",{parentName:"ol"},"Para lanzar un comando con el directorio actual y publicar un mensaje:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $param : Object\nvar $sys : 4D.SystemWorker\n\n$param:=New object\n$param.currentDirectory:=Folder(fk database folder)\n$sys:=4D.SystemWorker.new("git commit -F -";$param)\n$sys.postMessage("This is a postMessage")\n$sys.closeInput()\n')),(0,n.kt)("ol",r({},{start:5}),(0,n.kt)("li",{parentName:"ol"},"Para permitir al usuario abrir un documento externo en Windows:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$docname:=Select document("";"*.*";"Choose the file to open";0)\nIf(OK=1)\n var $sw : 4D.SystemWorker\n $sw:=4D.SystemWorker.new("cmd.exe /C start \\"\\" \\""+$docname+"\\"")\nEnd if\n')),(0,n.kt)("h4",r({},{id:"ejemplos-en-macos"}),"Ejemplos en macOS"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Editar un archivo texto (",(0,n.kt)("inlineCode",{parentName:"li"},"cat")," es el comando macOS utilizado para editar los archivos). En este ejemplo, se pasa la ruta de acceso completa del comando:")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'\nvar $sw : 4D.SystemWorker\n$sw:=4D.SystemWorker.new("/bin/cat /folder/myfile.txt")\n$sw.wait() //synchronous execution\n\n')),(0,n.kt)("ol",r({},{start:2}),(0,n.kt)("li",{parentName:"ol"},'Para lanzar una aplicaci\xf3n "gr\xe1fica" independiente, es preferible utilizar el comando sistema ',(0,n.kt)("inlineCode",{parentName:"li"},"open")," (en este caso, el c\xf3digo tiene el mismo efecto que hacer doble clic en la aplicaci\xf3n):")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $sw : 4D.SystemWorker\n$sw:=4D.SystemWorker.new ("open /Applications/Calculator.app")\n')),(0,n.kt)("ol",r({},{start:3}),(0,n.kt)("li",{parentName:"ol"},'Para obtener el contenido de la carpeta "Users" (ls -l es el equivalente en macOS del comando dir en DOS).')),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $systemworker : 4D.SystemWorker\nvar $output : Text\nvar $errors : Collection\n\n$systemworker:=4D.SystemWorker.new("/bin/ls -l /Users ")\n$systemworker.wait(5)\n$output:=$systemworker.response\n$error:=$systemworker.errors\n\n')),(0,n.kt)("ol",r({},{start:4}),(0,n.kt)("li",{parentName:"ol"},'El mismo comando que el anterior, pero utilizando un ejemplo de clase usuario "Params" para mostrar c\xf3mo manejar las funciones de retrollamada:')),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'\nvar $systemworker : 4D.SystemWorker\n$systemworker:=4D.SystemWorker.new("/bin/ls -l /Users ";cs.Params.new())\n\n\n// "Params" class\n\nClass constructor\n This.dataType:="text"\n    This.data:=""\n    This.dataError:=""\n\nFunction onResponse($systemWorker : Object)\n     This._createFile("onResponse"; $systemWorker.response)\n\nFunction onData($systemWorker : Object; $info : Object)\n     This.data+=$info.data\n     This._createFile("onData";this.data)\n\nFunction onDataError($systemWorker : Object; $info : Object)\n     This.dataError+=$info.data\n     This._createFile("onDataError";this.dataError)\n\nFunction onTerminate($systemWorker : Object)\n     var $textBody : Text\n     $textBody:="Response: "+$systemWorker.response\n     $textBody+="ResponseError: "+$systemWorker.responseError\n     This._createFile("onTerminate"; $textBody)\n\nFunction _createFile($title : Text; $textBody : Text)\n     TEXT TO DOCUMENT(Get 4D folder(Current resources folder)+$title+".txt"; $textBody)\n\n')),(0,n.kt)("h2",r({},{id:"closeinput"}),".closeInput()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v19 R4"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".closeInput"),"()"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"No requiere ning\xfan par\xe1metro")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-1"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".closeInput()")," cierra el flujo de entrada (",(0,n.kt)("em",{parentName:"p"},"stdin"),") del proceso externo."),(0,n.kt)("p",null,"Cuando el ejecutable espera a que se reciban todos los datos a trav\xe9s de ",(0,n.kt)("inlineCode",{parentName:"p"},"postMessage()"),", ",(0,n.kt)("inlineCode",{parentName:"p"},".closeInput()")," es \xfatil para indicar al ejecutable que el env\xedo de datos ha terminado y que puede continuar."),(0,n.kt)("h4",r({},{id:"ejemplo-1"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4D"}),'// Crear algunos datos para gzip\nvar $input;$output : Blob\nvar $gzip : Texto\nTEXT TO BLOB("Hello, World!";$input)\n$gzip:="\\"C:\\\\Program Files (x86)\\\\GnuWin32\\\\bin\\\\gzip.exe\\" "\n\n// Crear un system worker as\xedncrono\nvar $worker : 4D.SystemWorker\n$worker:= 4D.SystemWorker.new($gzip;New object("dataType"; "blob"))\n\n// Enviar el archivo comprimido en stdin.\n$worker.postMessage($input)\n// Tenga en cuenta que llamamos a closeInput() para indicar que hemos terminado.\n// gzip (y la mayor\xeda de los programas que esperan datos de stdin) esperar\xe1n m\xe1s datos hasta que la entrada se cierre expl\xedcitamente.\n$worker.closeInput()\n$worker.wait()\n\n$output:=$worker.response\n\n')),(0,n.kt)("h2",r({},{id:"commandline"}),".commandLine"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".commandLine")," : Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-2"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".commandLine")," contiene la l\xednea de comandos pasada como par\xe1metro a la funci\xf3n ",(0,n.kt)("a",r({parentName:"p"},{href:"#4d-systemworker-new"}),(0,n.kt)("inlineCode",{parentName:"a"},"new()")),"."),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),"."),(0,n.kt)("h2",r({},{id:"currentdirectory"}),".currentDirectory"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".currentDirectory")," : 4D.Folder"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-3"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".currentDirectory")," contiene el directorio de trabajo en el que se ejecuta el proceso externo."),(0,n.kt)("h2",r({},{id:"datatype"}),".dataType"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".dataType")," : Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-4"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".dataType"),' contiene el tipo de contenido del cuerpo de la respuesta. Valores posibles: "text" o "blob".'),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),"."),(0,n.kt)("h2",r({},{id:"encoding"}),".encoding"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".encoding")," : Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-5"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".encoding")," contiene la codificaci\xf3n del contenido del cuerpo de la respuesta. Esta propiedad s\xf3lo est\xe1 disponible si el ",(0,n.kt)("a",r({parentName:"p"},{href:"#datatype"}),(0,n.kt)("inlineCode",{parentName:"a"},"dataType")),' es "text".'),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),"."),(0,n.kt)("h2",r({},{id:"errors"}),".errors"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".errors")," : Collection"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-6"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".errors")," contiene una colecci\xf3n de errores 4D en caso de error(es) de ejecuci\xf3n, si los hay."),(0,n.kt)("p",null,"Cada elemento de la colecci\xf3n es un objeto con las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].errorCode"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"C\xf3digo de error 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].message"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Descripci\xf3n del error 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[ ]",".componentSignature"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Firma del componente interno que ha devuelto el error")))),(0,n.kt)("p",null,"Si no se ha producido ning\xfan error, ",(0,n.kt)("inlineCode",{parentName:"p"},".errors")," es indefinido."),(0,n.kt)("h2",r({},{id:"exitcode"}),".exitCode"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".exitCode")," : Integer"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-7"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".exitCode")," contiene el c\xf3digo de salida devuelto por el proceso externo. Si el proceso no termin\xf3 normalmente, ",(0,n.kt)("inlineCode",{parentName:"p"},"exitCode")," es ",(0,n.kt)("em",{parentName:"p"},"undefined"),"."),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),"."),(0,n.kt)("h2",r({},{id:"hidewindow"}),".hideWindow"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".hideWindow")," : Boolean"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-8"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".hideWindow")," puede utilizarse para ocultar la ventana de la consola DOS o la ventana del ejecutable lanzado (",(0,n.kt)("strong",{parentName:"p"},"S\xf3lo para Windows"),")."),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"lectura-escritura"),"."),(0,n.kt)("h2",r({},{id:"pid"}),".pid"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".pid")," : Integer"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-9"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".pid")," contiene el identificador \xfanico del proceso externo a nivel del sistema."),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),"."),(0,n.kt)("h2",r({},{id:"postmessage"}),".postMessage()"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".postMessage"),"( ",(0,n.kt)("em",{parentName:"p"},"message")," : Text)",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".postMessage"),"( ",(0,n.kt)("em",{parentName:"p"},"messageBLOB")," : Blob)"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"message"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Texto a escribir en el flujo de entrada (stdin) del proceso externo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"messageBLOB"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Blob"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Bytes escritos en el flujo de entrada")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-10"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".postMessage()")," permite escribir en el flujo de entrada (stdin) del proceso externo. En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"message"),", pase el texto a escribir en ",(0,n.kt)("em",{parentName:"p"},"stdin"),"."),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".postMessage()")," tambi\xe9n acepta un valor de tipo Blob en ",(0,n.kt)("em",{parentName:"p"},"messageBLOB")," para pasar en ",(0,n.kt)("em",{parentName:"p"},"stdin"),", de modo que se pueden publicar datos binarios."),(0,n.kt)("p",null,"Puede utilizar la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".dataType")," del objeto ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-object"}),"options")," para que el cuerpo de la respuesta devuelva los valores Blob."),(0,n.kt)("h2",r({},{id:"response"}),".response"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".response")," : Text",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".response")," : Blob"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-11"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".response")," contiene la concatenaci\xf3n de todos los datos devueltos una vez finalizada la solicitudes decir, el mensaje completo recibido de la salida del proceso."),(0,n.kt)("p",null,"El tipo del mensaje se define seg\xfan el atributo ",(0,n.kt)("a",r({parentName:"p"},{href:"#datatype"}),(0,n.kt)("inlineCode",{parentName:"a"},"dataType")),"."),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),"."),(0,n.kt)("h2",r({},{id:"responseerror"}),".responseError"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".responseError")," : Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-12"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".responseError")," contiene la concatenaci\xf3n de todos los errores devueltos, una vez finalizada la petici\xf3n."),(0,n.kt)("h2",r({},{id:"terminate"}),".terminate()"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".terminate"),"()"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"No requiere ning\xfan par\xe1metro")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-13"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".terminate()")," The ",(0,n.kt)("inlineCode",{parentName:"p"},".terminate()")," function."),(0,n.kt)("p",null,"Esta funci\xf3n env\xeda la instrucci\xf3n de terminar y devolver el control al script en ejecuci\xf3n."),(0,n.kt)("h2",r({},{id:"terminated"}),".terminated"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".terminated")," : Boolean"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-14"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".terminated")," contiene ",(0,n.kt)("strong",{parentName:"p"},"true")," si el proceso externo ha terminado."),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),"."),(0,n.kt)("h2",r({},{id:"timeout"}),".timeout"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".timeout")," : Integer"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-15"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".timeout")," contiene la duraci\xf3n en segundos antes de que el proceso externo sea eliminado si a\xfan est\xe1 vivo."),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),"."),(0,n.kt)("h2",r({},{id:"wait"}),".wait()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}))))),(0,n.kt)("p",null,"|v19 R4|A\xf1adido|")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".wait"),"( {",(0,n.kt)("em",{parentName:"p"},"timeout")," : Real} ) : 4D.SystemWorker"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"timeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tiempo de espera (en segundos)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.SystemWorker"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto SystemWorker")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-16"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".wait()")," espera hasta el final de la ejecuci\xf3n del ",(0,n.kt)("inlineCode",{parentName:"p"},"SystemWorker")," o del ",(0,n.kt)("em",{parentName:"p"},"timeout")," especificado."),(0,n.kt)("p",null,"En ",(0,n.kt)("em",{parentName:"p"},"timeout"),", pase un valor en segundos. El script ",(0,n.kt)("inlineCode",{parentName:"p"},"SystemWorker")," esperar\xe1 al proceso externo durante el tiempo definido en el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"timeout"),". Si omite el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"timeout"),", la ejecuci\xf3n del script esperar\xe1 indefinidamente."),(0,n.kt)("p",null,"En realidad, ",(0,n.kt)("inlineCode",{parentName:"p"},".wait()")," espera hasta el final del procesamiento de la f\xf3rmula ",(0,n.kt)("inlineCode",{parentName:"p"},"onTerminate"),", excepto si se alcanza el ",(0,n.kt)("em",{parentName:"p"},"timeout"),". Si se alcanza el ",(0,n.kt)("em",{parentName:"p"},"timeout"),", el ",(0,n.kt)("inlineCode",{parentName:"p"},"SystemWorker")," no es eliminado."),(0,n.kt)("p",null,"Durante una ejecuci\xf3n de ",(0,n.kt)("inlineCode",{parentName:"p"},".wait()")," se ejecutan las funciones de retrollamada, especialmente las retrollamadas provienen de otros eventos o de otras instancias de ",(0,n.kt)("inlineCode",{parentName:"p"},"SystemWorker"),". Se puede salir de un ",(0,n.kt)("inlineCode",{parentName:"p"},".wait()")," llamando a ",(0,n.kt)("a",r({parentName:"p"},{href:"#terminate"}),(0,n.kt)("inlineCode",{parentName:"a"},"terminate()"))," desde una retrollamada."),(0,n.kt)("p",null,"Esta funci\xf3n devuelve el objeto SystemWorker."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"This function is not necessary if you created the ",(0,n.kt)("inlineCode",{parentName:"p"},"SystemWorker")," form a 4D worker process.")))}c.isMDXComponent=!0}}]);