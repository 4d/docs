"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["33067"],{264127:function(e,n,r){r.r(n),r.d(n,{metadata:()=>s,contentTitle:()=>l,default:()=>h,assets:()=>i,toc:()=>o,frontMatter:()=>d});var s=JSON.parse('{"id":"commands-legacy/ldap-search","title":"LDAP Search","description":"LDAP Search ( dnRootEntry ; filtro {; alcance {; atributos {; atributosEnArray}}} ) : Object","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/ldap-search.md","sourceDirName":"commands-legacy","slug":"/commands/ldap-search","permalink":"/docs/es/commands/ldap-search","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fldap-search.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"ldap-search","title":"LDAP Search","slug":"/commands/ldap-search","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"LDAP LOGOUT","permalink":"/docs/es/commands/ldap-logout"},"next":{"title":"LDAP SEARCH ALL","permalink":"/docs/es/commands/ldap-search-all"}}'),t=r("785893"),a=r("250065");let d={id:"ldap-search",title:"LDAP Search",slug:"/commands/ldap-search",displayed_sidebar:"docs"},l=void 0,i={},o=[{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Ejemplo 1",id:"ejemplo-1",level:4},{value:"Ejemplo 2",id:"ejemplo-2",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n",level:4},{value:"Propiedades",id:"propiedades",level:4}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"LDAP Search"})," ( ",(0,t.jsx)(n.em,{children:"dnRootEntry"})," ; ",(0,t.jsx)(n.em,{children:"filtro"})," {; ",(0,t.jsx)(n.em,{children:"alcance"})," {; ",(0,t.jsx)(n.em,{children:"atributos"})," {; ",(0,t.jsx)(n.em,{children:"atributosEnArray"}),"}}} ) : Object"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Par\xe1metro"}),(0,t.jsx)(n.th,{children:"Tipo"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"dnRootEntry"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Distinguished Name del elemento ra\xedz donde la b\xfasqueda se inicia"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"filtro"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Filtro de b\xfasqueda LDAP"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"alcance"}),(0,t.jsx)(n.td,{children:"Text"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:'Campo de acci\xf3n de la b\xfasqueda: "base" (por defecto), "one", o "sub"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"atributos"}),(0,t.jsx)(n.td,{children:"Text array"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Atributo(s) a recuperar"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"atributosEnArray"}),(0,t.jsx)(n.td,{children:"Boolean array"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"True = forzar el retorno de los atributos como array; False = forzar el retorno de los atributos como una variable simple"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Resultado"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:"\u2190"}),(0,t.jsx)(n.td,{children:"Atributos llave/valor"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,t.jsxs)(n.p,{children:["El comando ",(0,t.jsx)(n.strong,{children:"LDAP Search"})," busca la primera ocurrencia que coincida con los criterios definidos en el servidor LDAP objetivo. Este comando debe ser ejecutado dentro de una conexi\xf3n a un servidor LDAP abierta con ",(0,t.jsx)(n.em,{children:"RuntimeVLIncludeIt"}),"; de lo contrario se devuelve un error 1003."]}),"\n",(0,t.jsxs)(n.p,{children:["En ",(0,t.jsx)(n.em,{children:"dnRootEntry"}),", pase el ",(0,t.jsx)(n.em,{children:"Distinguished Name"})," del elemento ra\xedz del servidor LDAP; la b\xfasqueda se iniciar\xe1 a partir de este elemento."]}),"\n",(0,t.jsxs)(n.p,{children:["En ",(0,t.jsx)(n.em,{children:"filtro"}),", pase el filtro de b\xfasqueda LDAP a aplicar. La cadena filtro debe ser compatible con ",(0,t.jsx)(n.a,{href:"http://tools.ietf.org/search/rfc2254",children:"rfc2225"}),'. Puede pasar una cadena vac\xeda "" para no filtrar la b\xfasqueda; el "*" se soporta para buscar subcadenas.']}),"\n",(0,t.jsxs)(n.p,{children:["En ",(0,t.jsx)(n.em,{children:"alcance"}),', pase una de las siguientes constantes del tema "LDAP":']}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Constante"}),(0,t.jsx)(n.th,{children:"Tipo"}),(0,t.jsx)(n.th,{children:"Valor"}),(0,t.jsx)(n.th,{children:"Comentario"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"LDAP all levels"}),(0,t.jsx)(n.td,{children:"Cadena"}),(0,t.jsx)(n.td,{children:"sub"}),(0,t.jsxs)(n.td,{children:["Buscar en el elemento ra\xedz definido por ",(0,t.jsx)(n.em,{children:"dnRootEntry"})," y en todas las ramas siguientes"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"LDAP root and next"}),(0,t.jsx)(n.td,{children:"Cadena"}),(0,t.jsx)(n.td,{children:"one"}),(0,t.jsxs)(n.td,{children:["Buscar en el nivel de entrada ra\xedz definido por ",(0,t.jsx)(n.em,{children:"dnRootEntry"})," y en las entradas directamente posteriores en un nivel"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"LDAP root only"}),(0,t.jsx)(n.td,{children:"Cadena"}),(0,t.jsx)(n.td,{children:"base"}),(0,t.jsxs)(n.td,{children:["Buscar \xfanicamente en el elemento ra\xedz definido por ",(0,t.jsx)(n.em,{children:"dnRootEntry"})," (se omite por defecto)"]})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["En ",(0,t.jsx)(n.em,{children:"atributos"}),", pase un array texto que contiene la lista de todos los atributos LDAP a recuperar a partir de las entradas encontradas. Por defecto, si se omite este par\xe1metro, todos los atributos se recuperan."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Nota:"})," tenga en cuenta que los nombres de atributos LDAP distinguen entre may\xfasculas y min\xfasculas. Para m\xe1s informaci\xf3n sobre los atributos LDAP, puede consultar ",(0,t.jsx)(n.a,{href:"https://msdn.microsoft.com/en-us/library/ms675089%28v=vs.85%29.aspx",children:"esta p\xe1gina"})," que lista todos los atributos disponibles para MS Active directory."]}),"\n",(0,t.jsxs)(n.p,{children:["Por defecto, el comando devuelve los atributos en forma de colecci\xf3n si se encuentran varios resultados o en forma de variable si se encuentra un solo resultado. El par\xe1metro opcional ",(0,t.jsx)(n.em,{children:"atributosEnArray"}),' permite "forzar" el formato de los atributos devueltos en colecci\xf3n o en variable para cada atributo definido:']}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Cuando pase ",(0,t.jsx)(n.strong,{children:"true"})," en un elemento, el elemento correspondiente del par\xe1metro ",(0,t.jsx)(n.em,{children:"atributos"})," ser\xe1 devuelto en una colecci\xf3n. Si se encuentra un solo valor, el comando devuelve una colecci\xf3n con un solo elemento."]}),"\n",(0,t.jsxs)(n.li,{children:["Cuando pase ",(0,t.jsx)(n.strong,{children:"false"})," en un elemento, el elemento correspondiente del par\xe1metro ",(0,t.jsx)(n.em,{children:"atributos"})," ser\xe1 devuelto en una variable simple. Si se encuentran varias entradas, el comando devuelve s\xf3lo el primer elemento."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"ejemplo-1",children:"Ejemplo 1"}),"\n",(0,t.jsx)(n.p,{children:'Usted desea conseguir el n\xfamero de tel\xe9fono del usuario "smith" en el directorio de la empresa:'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0ARRAY TEXT($_tabAttributes;0)\n\xa0APPEND TO ARRAY($_tabAttributes;"cn")\n\xa0APPEND TO ARRAY($_tabAttributes;"phoneNumber")\n\xa0LDAP LOGIN($url;$dn;$pwd)\n\xa0$filter:="cn=*smith*"\n\xa0$vfound:=LDAP Search($dnSearchRootEntry;$filter;LDAP all levels;$_tabAttributes)\n\xa0LDAP LOGOUT\n'})}),"\n",(0,t.jsx)(n.h4,{id:"ejemplo-2",children:"Ejemplo 2"}),"\n",(0,t.jsx)(n.p,{children:'Queremos obtener una array de todas las entradas que se encuentran en el atributo "memberOf":'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0var $entry : Object\n\xa0ARRAY TEXT($_tabAttributes;0)\n\xa0ARRAY BOOLEAN($_tabAttributes_asArray;0)\n\xa0APPEND TO ARRAY($_tabAttributes;"cn")\n\xa0APPEND TO ARRAY($_tabAttributes_asArray;False)\n\xa0APPEND TO ARRAY($_tabAttributes;"memberOf")\n\xa0APPEND TO ARRAY($_tabAttributes_asArray;True)\n\xa0\n\xa0LDAP LOGIN($url;$login;$pwd;LDAP password plain text)\n\xa0$entry:=LDAP Search($dnSearchRootEntry;"cn=adrien*";LDAP all levels;$_tabAttributes;$_tabAttributes_asArray)\n\xa0LDAP LOGOUT\n\xa0\n\xa0ARRAY TEXT($_arrMemberOf;0)\n\xa0OB GET ARRAY($entry;"memberOf";$_arrMemberOf)\n\xa0\xa0// en $_arrMemberOf tenemos un array que contiene todos los grupos de la entrada\n'})}),"\n",(0,t.jsx)(n.h4,{id:"ver-tambi\xe9n",children:"Ver tambi\xe9n"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"LDAP"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"/docs/es/commands/ldap-search-all",children:"LDAP SEARCH ALL"})]}),"\n",(0,t.jsx)(n.h4,{id:"propiedades",children:"Propiedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"N\xfamero de comando"}),(0,t.jsx)(n.td,{children:"1328"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Hilo seguro"}),(0,t.jsx)(n.td,{children:"\u2717"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return l},a:function(){return d}});var s=r(667294);let t={},a=s.createContext(t);function d(e){let n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);