"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[73690],{603905:(e,a,t)=>{t.d(a,{Zo:()=>p,kt:()=>m});var o=t(667294);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,o,n=function(e,a){if(null==e)return{};var t,o,n={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var i=o.createContext({}),b=function(e){var a=o.useContext(i),t=a;return e&&(t="function"==typeof e?e(a):r(r({},a),e)),t},p=function(e){var a=b(e.components);return o.createElement(i.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},c=o.forwardRef((function(e,a){var t=e.components,n=e.mdxType,l=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=b(t),m=n,u=c["".concat(i,".").concat(m)]||c[m]||d[m]||l;return t?o.createElement(u,r(r({ref:a},p),{},{components:t})):o.createElement(u,r({ref:a},p))}));function m(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var l=t.length,r=new Array(l);r[0]=c;var s={};for(var i in a)hasOwnProperty.call(a,i)&&(s[i]=a[i]);s.originalType=e,s.mdxType="string"==typeof e?e:n,r[1]=s;for(var b=2;b<l;b++)r[b]=t[b];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}c.displayName="MDXCreateElement"},741710:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>b,contentTitle:()=>s,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>p});t(667294);var o=t(603905);function n(){return n=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},n.apply(this,arguments)}function l(e,a){if(null==e)return{};var t,o,n=function(e,a){if(null==e)return{};var t,o,n={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}const r={id:"blob",title:"BLOB"},s=void 0,i={unversionedId:"Concepts/blob",id:"version-20-R5/Concepts/blob",title:"BLOB",description:"Un campo, variable o expresi\xf3n BLOB (Binary Large OBject) es una serie contigua de bytes que puede ser tratada como un objeto completo o cuyos bytes pueden ser direccionados individualmente.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R5/Concepts/dt_blob.md",sourceDirName:"Concepts",slug:"/Concepts/blob",permalink:"/docs/es/Concepts/blob",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20Concepts%2Fdt_blob.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"blob",title:"BLOB"},sidebar:"docs",previous:{title:"Tipos de datos",permalink:"/docs/es/Concepts/data-types"},next:{title:"Boolean",permalink:"/docs/es/Concepts/boolean"}},b={},p=[{value:"Tipos Blob",id:"tipos-blob",level:2},{value:"Checking if a variable holds a scalar blob or a <code>4D.Blob</code>",id:"checking-if-a-variable-holds-a-scalar-blob-or-a-4dblob",level:2},{value:"Pasar blobs como par\xe1metros",id:"pasar-blobs-como-par\xe1metros",level:2},{value:"Pasar blobs y objetos blob a los comandos 4D",id:"pasar-blobs-y-objetos-blob-a-los-comandos-4d",level:3},{value:"Pasar blobs y objetos blob a los m\xe9todos",id:"pasar-blobs-y-objetos-blob-a-los-m\xe9todos",level:3},{value:"Pasar un blob escalar por referencia usando un puntero",id:"pasar-un-blob-escalar-por-referencia-usando-un-puntero",level:3},{value:"Asignar una variable Blob a otra",id:"asignar-una-variable-blob-a-otra",level:2},{value:"Conversi\xf3n autom\xe1tica del tipo blob",id:"conversi\xf3n-autom\xe1tica-del-tipo-blob",level:2},{value:"Modificaci\xf3n de un blob escalar",id:"modificaci\xf3n-de-un-blob-escalar",level:2},{value:"Acceder individualmente a los bytes de un blob",id:"acceder-individualmente-a-los-bytes-de-un-blob",level:2},{value:"Acceder a los bytes de un blob escalar",id:"acceder-a-los-bytes-de-un-blob-escalar",level:4},{value:"Accessing a <code>4D.Blob</code>&#39;s bytes",id:"accessing-a-4dblobs-bytes",level:4}],d={toc:p};function c(e){var{components:a}=e,t=l(e,["components"]);return(0,o.kt)("wrapper",n({},d,t,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Un campo, variable o expresi\xf3n BLOB (Binary Large OBject) es una serie contigua de bytes que puede ser tratada como un objeto completo o cuyos bytes pueden ser direccionados individualmente."),(0,o.kt)("p",null,"Un blob se carga en la memoria en su totalidad. Una variable blob se mantiene y existe s\xf3lo en la memoria. Un campo blob se carga en memoria desde el disco, como el resto del registro al que pertenece."),(0,o.kt)("p",null,"Al igual que otros tipos de campo que pueden retener una gran cantidad de datos (como el tipo de campo Imagen), los campos blob no se duplican en la memoria cuando se modifica un registro. Consequently, the result returned by the ",(0,o.kt)("inlineCode",{parentName:"p"},"Old")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Modified")," commands is not significant when applied to a Blob field."),(0,o.kt)("h2",n({},{id:"tipos-blob"}),"Tipos Blob"),(0,o.kt)("p",null,"Utilizando el lenguaje 4D, hay dos maneras de manipular un blob:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"as a scalar value"),": a blob can be stored in a Blob variable or field and altered."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"as an object (",(0,o.kt)("inlineCode",{parentName:"strong"},"4D.Blob"),")"),": a ",(0,o.kt)("inlineCode",{parentName:"li"},"4D.Blob")," is a blob object. You can encapsulate a blob or part of it in a ",(0,o.kt)("inlineCode",{parentName:"li"},"4D.Blob")," without altering the original blob. This method is called ",(0,o.kt)("a",n({parentName:"li"},{href:"https://en.wikipedia.org/wiki/Object_type_(object-oriented_programming)#Boxing"}),"boxing"),". For more info on how to instantiate a ",(0,o.kt)("inlineCode",{parentName:"li"},"4D.Blob"),", see ",(0,o.kt)("a",n({parentName:"li"},{href:"/docs/es/API/BlobClass"}),"Blob Class"),".")),(0,o.kt)("p",null,"Cada tipo de blob tiene sus ventajas. Utilice la siguiente tabla para determinar cu\xe1l se ajusta a sus necesidades:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",n({parentName:"tr"},{align:null})),(0,o.kt)("th",n({parentName:"tr"},{align:"center"}),"Blob"),(0,o.kt)("th",n({parentName:"tr"},{align:"center"}),"4D.Blob"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",n({parentName:"tr"},{align:null}),"Alterable"),(0,o.kt)("td",n({parentName:"tr"},{align:"center"}),"S\xed"),(0,o.kt)("td",n({parentName:"tr"},{align:"center"}),"No")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",n({parentName:"tr"},{align:null}),"Compartible en objetos y colecciones"),(0,o.kt)("td",n({parentName:"tr"},{align:"center"}),"No"),(0,o.kt)("td",n({parentName:"tr"},{align:"center"}),"S\xed")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",n({parentName:"tr"},{align:null}),"Pasado por referencia","*"),(0,o.kt)("td",n({parentName:"tr"},{align:"center"}),"No"),(0,o.kt)("td",n({parentName:"tr"},{align:"center"}),"S\xed")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",n({parentName:"tr"},{align:null}),"Rendimiento al acceder a los bytes"),(0,o.kt)("td",n({parentName:"tr"},{align:"center"}),"-"),(0,o.kt)("td",n({parentName:"tr"},{align:"center"}),"*")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",n({parentName:"tr"},{align:null}),"Tama\xf1o m\xe1ximo"),(0,o.kt)("td",n({parentName:"tr"},{align:"center"}),"2GB"),(0,o.kt)("td",n({parentName:"tr"},{align:"center"}),"Memoria")))),(0,o.kt)("p",null,"Tenga en cuenta que a diferencia de los objetos blob, que son pasados por referencia, los blobs escalares se duplican en la memoria cuando se pasan a los m\xe9todos. When working with methods, using blob objects (",(0,o.kt)("inlineCode",{parentName:"p"},"4D.Blob"),") is more efficient, as they are passed by reference."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Por defecto, 4D define el tama\xf1o m\xe1ximo de los blobs escalares en 2GB, pero este l\xedmite de tama\xf1o puede ser menor dependiendo de su sistema operativo y del espacio disponible.")),(0,o.kt)("p",null,"No se pueden utilizar operadores en los blobs."),(0,o.kt)("h2",n({},{id:"checking-if-a-variable-holds-a-scalar-blob-or-a-4dblob"}),"Checking if a variable holds a scalar blob or a ",(0,o.kt)("inlineCode",{parentName:"h2"},"4D.Blob")),(0,o.kt)("p",null,"Use the ",(0,o.kt)("a",n({parentName:"p"},{href:"https://doc.4d.com/4dv20/help/command/en/page1509.html"}),"Value type")," command to determine if a value is of type Blob or Object.\nTo check that an object is a blob object (",(0,o.kt)("inlineCode",{parentName:"p"},"4D.Blob"),"), use ",(0,o.kt)("a",n({parentName:"p"},{href:"https://doc.4d.com/4dv20/help/command/en/page1731.html"}),"OB instance of"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"var $myBlob: Blob\nvar $myBlobObject: 4D.Blob\n$myBlobObject:=4D.Blob.new()\n\n$type:= Value type($myblobObject) // 38 (object)\n$is4DBlob:= OB Instance of($myblobObject; 4D.Blob)  //True\n")),(0,o.kt)("h2",n({},{id:"pasar-blobs-como-par\xe1metros"}),"Pasar blobs como par\xe1metros"),(0,o.kt)("p",null,"Los bloques escalares y los objetos blob pueden pasarse como par\xe1metros a los comandos 4D o a las rutinas de plug-in que esperan par\xe1metros blob."),(0,o.kt)("h3",n({},{id:"pasar-blobs-y-objetos-blob-a-los-comandos-4d"}),"Pasar blobs y objetos blob a los comandos 4D"),(0,o.kt)("p",null,"You can pass a scalar blob or a ",(0,o.kt)("inlineCode",{parentName:"p"},"4D.Blob")," to any 4D command that takes a blob as a parameter:"),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'var $myBlob: 4D.Blob\nCONVERT FROM TEXT("Hello, World!"; "UTF-8"; $myBlob)\n$myText:= BLOB to text( $myBlob ; UTF8 text without length )\n')),(0,o.kt)("p",null,"Some 4D commands alter the original blob, and thus do not support the ",(0,o.kt)("inlineCode",{parentName:"p"},"4D.Blob")," type:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page560.html"}),"DELETE FROM BLOB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page559.html"}),"INSERT IN BLOB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page548.html"}),"INTEGER TO BLOB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page550.html"}),"LONGINT TO BLOB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page552.html"}),"REAL TO BLOB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page606.html"}),"SET BLOB SIZE")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page554.html"}),"TEXT TO BLOB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page532.html"}),"VARIABLE TO BLOB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page556.html"}),"LIST TO BLOB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page782.html"}),"SOAP DECLARATION")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",n({parentName:"li"},{href:"https://doc.4d.com/4dv19/help/command/en/page777.html"}),"WEB SERVICE SET PARAMETER"))),(0,o.kt)("h3",n({},{id:"pasar-blobs-y-objetos-blob-a-los-m\xe9todos"}),"Pasar blobs y objetos blob a los m\xe9todos"),(0,o.kt)("p",null,"You can pass blobs and blob objects (",(0,o.kt)("inlineCode",{parentName:"p"},"4D.Blob"),") to methods. Tenga en cuenta que a diferencia de los objetos blob, que son pasados por referencia, los blobs escalares se duplican en la memoria cuando se pasan a los m\xe9todos."),(0,o.kt)("h3",n({},{id:"pasar-un-blob-escalar-por-referencia-usando-un-puntero"}),"Pasar un blob escalar por referencia usando un puntero"),(0,o.kt)("p",null,"Pasar un blob escalar a sus propios m\xe9todos sin duplicarlo en memoria, defina un puntero a la variable que lo almacena y pase el puntero como par\xe1metro."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Examples:")),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"// Declarar una variable de tipo Blob\nvar $myBlobVar: Blob\n// Pasar el blob como par\xe1metro a un comando 4D\n SET BLOB SIZE($myBlobVar; 024*1024)\n")),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"// Pasar el blob como par\xe1metro a una rutina externa\n $errCode:=Hacer algo con este blob($myBlobVar)\n")),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"// Pasar el blob como un par\xe1metro a un m\xe9todo que devuelve un blob\n var $retrieveBlob: Blob\n retrieveBlob:=Fill_Blob($myBlobVar)\n")),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"// Pass a pointer to the blob as a parameter to your own method,\nCOMPUTE BLOB(->$myBlobVar)\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note for Plug-in developers:")," A BLOB parameter is declared as \u201c&O\u201d (the letter \u201cO\u201d, not the digit \u201c0\u201d)."),(0,o.kt)("h2",n({},{id:"asignar-una-variable-blob-a-otra"}),"Asignar una variable Blob a otra"),(0,o.kt)("p",null,"Puede asignar una variable Blob a otra:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Ejemplo:")),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"// Declarar dos variables de tipo Blob\n var $vBlobA; $vBlobB : Blob\n// Establecer el tama\xf1o del primer blob en 10K\n SET BLOB SIZE($vBlobA; 0*1024)\n// Asignar el primer blob al segundo\n $vBlobB:=$vBlobA\n")),(0,o.kt)("h2",n({},{id:"conversi\xf3n-autom\xe1tica-del-tipo-blob"}),"Conversi\xf3n autom\xe1tica del tipo blob"),(0,o.kt)("p",null,"4D convierte autom\xe1ticamente los blobs escalares a objetos blob y viceversa, cuando se les asigna uno al otro. Por ejemplo:"),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'// Crear una variable de tipo Blob y una variable objeto\nvar $myBlob: Blob\nvar $myObject : Objeto\n\n// Asignar ese blob a una propiedad de $myObject llamada "blob"\n$myObject:=New object("blob"; $myBlob)\n\n// El blob almacenado en $myBlob se convierte autom\xe1ticamente en un 4D.Blob\n$type:= OB Instance of($myObject.blob; 4D.Blob) //True\n\n// Conversi\xf3n de un 4D.Blob en Blob\n$myBlob:= $myObject.blob\n$type:= Value type($myBlob) // Blob\n')),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"When converting a ",(0,o.kt)("inlineCode",{parentName:"p"},"4D.Blob")," to a scalar blob, if the size of the ",(0,o.kt)("inlineCode",{parentName:"p"},"4D.Blob")," exceeds the maximum size for scalar blobs, the resulting scalar blob is empty.\nFor example, when the maximum size for scalar blobs is 2GB, if you convert a ",(0,o.kt)("inlineCode",{parentName:"p"},"4D.Blob")," of 2.5GB to a scalar blob, you obtain an empty blob.")),(0,o.kt)("h2",n({},{id:"modificaci\xf3n-de-un-blob-escalar"}),"Modificaci\xf3n de un blob escalar"),(0,o.kt)("p",null,"A diferencia de los objetos blob, se pueden modificar los blobs escalares. Por ejemplo:"),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"var $myBlob : Blob\nSET BLOB SIZE ($myBlob ; 16*1024)\n")),(0,o.kt)("h2",n({},{id:"acceder-individualmente-a-los-bytes-de-un-blob"}),"Acceder individualmente a los bytes de un blob"),(0,o.kt)("h4",n({},{id:"acceder-a-los-bytes-de-un-blob-escalar"}),"Acceder a los bytes de un blob escalar"),(0,o.kt)("p",null,"Puede acceder a los bytes individuales de un blob escalar utilizando las llaves ",(0,o.kt)("inlineCode",{parentName:"p"},"{}"),". Dentro de un blob, los bytes se numeran de 0 a N-1, donde N es el tama\xf1o del BLOB:"),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"  // Declarar una variable de tipo Blob\n var $vBlob : Blob\n  // Establecer el tama\xf1o del blob en 256 bytes\n SET BLOB SIZE($vBlob; 56)\n  // El siguiente c\xf3digo hace un bucle a trav\xe9s del blob para inicializar cada byte en cero\n For(vByte; ;Tama\xf1o BLOB ($vBlob)-1)\n    $vBlob{vByte}:=0\n Fin por\n")),(0,o.kt)("p",null,"Como puede dirigir todos los bytes de un blob individualmente, puede almacenar lo que desee en una variable o un campo Blob."),(0,o.kt)("h4",n({},{id:"accessing-a-4dblobs-bytes"}),"Accessing a ",(0,o.kt)("inlineCode",{parentName:"h4"},"4D.Blob"),"'s bytes"),(0,o.kt)("p",null,"Use square brackets ",(0,o.kt)("inlineCode",{parentName:"p"},"[]")," to directly access a specific byte in a ",(0,o.kt)("inlineCode",{parentName:"p"},"4D.Blob")),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'var $myBlob: 4D.Blob\nCONVERT FROM TEXT("Hello, World!"; "UTF-8"; $myBlob)\n$myText:= BLOB to text ( $myBlob ; UTF8 text without length )\n$byte:=$myBlob[5]\n')),(0,o.kt)("p",null,"Since a ",(0,o.kt)("inlineCode",{parentName:"p"},"4D.Blob")," cannot be altered, you can read the bytes of a ",(0,o.kt)("inlineCode",{parentName:"p"},"4D.Blob")," using this syntax, but not modify them."))}c.isMDXComponent=!0}}]);