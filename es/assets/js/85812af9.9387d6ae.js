"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[54954],{3905:(e,a,t)=>{t.d(a,{Zo:()=>p,kt:()=>c});var n=t(67294);function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function d(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=n.createContext({}),s=function(e){var a=n.useContext(i),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},p=function(e){var a=s(e.components);return n.createElement(i.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,l=e.mdxType,r=e.originalType,i=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),m=s(t),c=l,k=m["".concat(i,".").concat(c)]||m[c]||u[c]||r;return t?n.createElement(k,o(o({ref:a},p),{},{components:t})):n.createElement(k,o({ref:a},p))}));function c(e,a){var t=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var r=t.length,o=new Array(r);o[0]=m;var d={};for(var i in a)hasOwnProperty.call(a,i)&&(d[i]=a[i]);d.originalType=e,d.mdxType="string"==typeof e?e:l,o[1]=d;for(var s=2;s<r;s++)o[s]=t[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},57085:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>d,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>p});t(67294);var n=t(3905);function l(){return l=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l.apply(this,arguments)}function r(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}const o={id:"{dataClass}",title:"{dataClass}"},d=void 0,i={unversionedId:"REST/{dataClass}",id:"version-18/REST/{dataClass}",title:"{dataClass}",description:"Los nombres de las clases de datos pueden utilizarse directamente en las peticiones REST para trabajar con entidades, selecciones de entidades o m\xe9todos de la clase de datos.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-18/REST/{dataClass}.md",sourceDirName:"REST",slug:"/REST/{dataClass}",permalink:"/docs/es/18/REST/{dataClass}",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2F%7BdataClass%7D.md%20(18)&body=Please%20enter%20your%20comment%3A",tags:[],version:"18",frontMatter:{id:"{dataClass}",title:"{dataClass}"},sidebar:"docs",previous:{title:"$upload",permalink:"/docs/es/18/REST/upload"},next:{title:"$asArray",permalink:"/docs/es/18/REST/asArray"}},s={},p=[{value:"Sintaxis disponible",id:"sintaxis-disponible",level:2},{value:"{dataClass}",id:"dataclass",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:3},{value:"Ejemplo",id:"ejemplo",level:3},{value:"{dataClass}({key})",id:"dataclasskey",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:3},{value:"Ejemplo",id:"ejemplo-1",level:3},{value:"{dataClass}:{attribute}(value)",id:"dataclassattributevalue",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:3},{value:"Ejemplo",id:"ejemplo-2",level:3},{value:"{dataClass}/{method} y {dataClass}({key})/{method}",id:"dataclassmethod-y-dataclasskeymethod",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:3},{value:"Configuraci\xf3n Web",id:"configuraci\xf3n-web",level:3},{value:"Pasar par\xe1metros a un m\xe9todo",id:"pasar-par\xe1metros-a-un-m\xe9todo",level:3},{value:"Ejemplos",id:"ejemplos",level:3},{value:"Alcance de la tabla",id:"alcance-de-la-tabla",level:4},{value:"Alcance del registro actual",id:"alcance-del-registro-actual",level:4},{value:"Alcance de la selecci\xf3n actual",id:"alcance-de-la-selecci\xf3n-actual",level:4}],u={toc:p};function m(e){var{components:a}=e,o=r(e,["components"]);return(0,n.kt)("wrapper",l({},u,o,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Los nombres de las clases de datos pueden utilizarse directamente en las peticiones REST para trabajar con entidades, selecciones de entidades o m\xe9todos de la clase de datos."),(0,n.kt)("h2",l({},{id:"sintaxis-disponible"}),"Sintaxis disponible"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Sintaxis"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Ejemplo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#dataClass"}),(0,n.kt)("strong",{parentName:"a"},"{dataClass}"))),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"/Employee")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Devuelve todos los datos (por defecto las 100 primeras entidades) de la clase de datos")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#dataclasskey"}),(0,n.kt)("strong",{parentName:"a"},"{dataClass}({key})"))),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"/Employee(22)")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Devuelve los datos de la entidad espec\xedfica definida por la llave primaria de la clase de datos")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#dataclassattributevalue"}),(0,n.kt)("strong",{parentName:"a"},"{dataClass}:{attribute}(value)"))),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"/Employee:firstName(John)")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Devuelve los datos de una entidad en la que est\xe1 definido el valor del atributo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#dataclassmethod-and-dataclasskeymethod"}),(0,n.kt)("strong",{parentName:"a"},"{dataClass}/{method}"))),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"/Employee/getHighSalaries")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Ejecuta un m\xe9todo proyecto y devuelve un objeto o una colecci\xf3n (el m\xe9todo proyecto debe estar expuesto)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#dataclassmethod-and-dataclasskeymethod"}),(0,n.kt)("strong",{parentName:"a"},"{dataClass}({key})/{method}"))),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"/Employee(22)/getAge")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Devuelve un valor basado en un m\xe9todo de entidad")))),(0,n.kt)("h2",l({},{id:"dataclass"}),"{dataClass}"),(0,n.kt)("p",null,"Devuelve todos los datos (por defecto las 100 primeras entidades) para una clase de datos espec\xedfica (",(0,n.kt)("em",{parentName:"p"},"por ejemplo"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"Company"),")"),(0,n.kt)("h3",l({},{id:"descripci\xf3n"}),"Descripci\xf3n"),(0,n.kt)("p",null,"Cuando se llama a este par\xe1metro en la petici\xf3n REST, se devuelven las 100 primeras entidades, a menos que se haya especificado un valor con ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/18/REST/top_$limit"}),(0,n.kt)("inlineCode",{parentName:"a"},"$top/$limit")),"."),(0,n.kt)("p",null,"A continuaci\xf3n se describen los datos devueltos:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__entityModel"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"String"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de la dataclass.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__COUNT"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"N\xfamero de entidades en la clase de datos.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__SENT"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"N\xfamero de entidades enviadas por la petici\xf3n REST. Este n\xfamero puede ser el n\xfamero total de entidades si es menor que el valor definido por ",(0,n.kt)("inlineCode",{parentName:"td"},"$top/$limit"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__FIRST"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"N\xfamero de entidad en la que comienza la selecci\xf3n. O bien 0 por defecto o el valor definido por ",(0,n.kt)("inlineCode",{parentName:"td"},"$skip"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__ENTITIES"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Esta colecci\xf3n de objetos contiene un objeto para cada entidad con todos sus atributos. Todos los atributos relacionales se devuelven como objetos con una URI para obtener informaci\xf3n sobre el padre.")))),(0,n.kt)("p",null,"Cada entidad contiene las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__KEY"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"String"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Valor de la llave primaria definida para la clase de datos.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__TIMESTAMP"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Fecha"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Marca de tiempo de la \xfaltima modificaci\xf3n de la entidad")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__STAMP"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Sello interno que se necesita cuando se modifica alguno de los valores de la entidad al utilizar ",(0,n.kt)("inlineCode",{parentName:"td"},"$method=update"),".")))),(0,n.kt)("p",null,"Si quiere especificar qu\xe9 atributos quiere devolver, def\xednalos utilizando la siguiente sintaxis ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/18/REST/manData##selecting-attributes-to-get"}),"{attribute1, attribute2, ...}"),". Por ejemplo:"),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company/name,address")),(0,n.kt)("h3",l({},{id:"ejemplo"}),"Ejemplo"),(0,n.kt)("p",null,"Devuelve todos los datos de una clase de datos espec\xedfica."),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Resultado"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'{\n    "__entityModel": "Company",\n    "__GlobalStamp": 51,\n    "__COUNT": 250,\n    "__SENT": 100,\n    "__FIRST": 0,\n    "__ENTITIES": [\n        {\n            "__KEY": "1",\n            "__TIMESTAMP": "2020-04-10T10:44:49.927Z",\n            "__STAMP": 1,\n            "ID": 1,\n            "name": "Adobe",\n            "address": null,\n            "city": "San Jose",\n            "country": "USA",\n            "revenues": 500000,\n            "staff": {\n                "__deferred": {\n                    "uri": "http://127.0.0.1:8081/rest/Company(1)/staff?$expand=staff"\n                }\n            }\n        },\n        {\n            "__KEY": "2",\n            "__TIMESTAMP": "2018-04-25T14:42:18.351Z",\n            "__STAMP": 1,\n            "ID": 2,\n            "name": "Apple",\n            "address": null,\n            "city": "Cupertino",\n            "country": "USA",\n            "revenues": 890000,\n            "staff": {\n                "__deferred": {\n                    "uri": "http://127.0.0.1:8081/rest/Company(2)/staff?$expand=staff"\n                }\n            }\n        },\n        {\n            "__KEY": "3",\n            "__TIMESTAMP": "2018-04-23T09:03:49.021Z",\n            "__STAMP": 2,\n            "ID": 3,\n            "name": "4D",\n            "address": null,\n            "city": "Clichy",\n            "country": "France",\n            "revenues": 700000,\n            "staff": {\n                "__deferred": {\n                    "uri": "http://127.0.0.1:8081/rest/Company(3)/staff?$expand=staff"\n                }\n            }\n        },\n        {\n            "__KEY": "4",\n            "__TIMESTAMP": "2018-03-28T14:38:07.430Z",\n            "__STAMP": 1,\n            "ID": 4,\n            "name": "Microsoft",\n            "address": null,\n            "city": "Seattle",\n            "country": "USA",\n            "revenues": 650000,\n            "staff": {\n                "__deferred": {\n                    "uri": "http://127.0.0.1:8081/rest/Company(4)/staff?$expand=staff"\n                }\n            }\n        }\n.....//more entities here \n    ]\n}\n')),(0,n.kt)("h2",l({},{id:"dataclasskey"}),"{dataClass}({key})"),(0,n.kt)("p",null,"Devuelve los datos de la entidad espec\xedfica definida por la llave primaria de la clase de datos, ",(0,n.kt)("em",{parentName:"p"},"p. ej."),", ",(0,n.kt)("inlineCode",{parentName:"p"},'Company(22) o Company("IT0911AB2200")')),(0,n.kt)("h3",l({},{id:"descripci\xf3n-1"}),"Descripci\xf3n"),(0,n.kt)("p",null,"Pasando la clase de datos y una llave, se puede recuperar toda la informaci\xf3n p\xfablica de esa entidad. Pasando la clase de datos y una llave, se puede recuperar toda la informaci\xf3n p\xfablica de esa entidad. Para m\xe1s informaci\xf3n sobre la definici\xf3n de una llave primaria, consulte la secci\xf3n ",(0,n.kt)("strong",{parentName:"p"},"Modifying the Primary Key")," en el ",(0,n.kt)("strong",{parentName:"p"},"Editor del modelo de datos"),"."),(0,n.kt)("p",null,"Para m\xe1s informaci\xf3n sobre los datos devueltos, consulte ",(0,n.kt)("a",l({parentName:"p"},{href:"#datastoreclass"}),"{datastoreClass}"),"."),(0,n.kt)("p",null,"Si quiere especificar qu\xe9 atributos quiere devolver, def\xednalos utilizando la siguiente sintaxis ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/18/REST/manData##selecting-attributes-to-get"}),"{attribute1, attribute2, ...}"),". Por ejemplo:"),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company(1)/name,address")),(0,n.kt)("p",null,"Si desea expandir un atributo de relaci\xf3n utilizando ",(0,n.kt)("inlineCode",{parentName:"p"},"$expand"),", lo har\xe1 especific\xe1ndolo como se muestra a continuaci\xf3n:"),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company(1)/name,address,staff?$expand=staff")),(0,n.kt)("h3",l({},{id:"ejemplo-1"}),"Ejemplo"),(0,n.kt)("p",null,"La siguiente petici\xf3n devuelve todos los datos p\xfablicos de la clase de datos Company cuya llave es 1."),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company(1)")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Resultado"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'{\n    "__entityModel": "Company",\n    "__KEY": "1",\n    "__TIMESTAMP": "2020-04-10T10:44:49.927Z",\n    "__STAMP": 2,\n    "ID": 1,\n    "name": "Apple",\n    "address": Infinite Loop,\n    "city": "Cupertino",\n    "country": "USA",\n    "url": http://www.apple.com,\n    "revenues": 500000,\n    "staff": {\n        "__deferred": {\n            "uri": "http://127.0.0.1:8081/rest/Company(1)/staff?$expand=staff"\n        }\n    }\n}\n')),(0,n.kt)("h2",l({},{id:"dataclassattributevalue"}),"{dataClass}:{attribute}(value)"),(0,n.kt)("p",null,"Devuelve los datos de una entidad en la que est\xe1 definido el valor del atributo"),(0,n.kt)("h3",l({},{id:"descripci\xf3n-2"}),"Descripci\xf3n"),(0,n.kt)("p",null,"Pasando la ",(0,n.kt)("em",{parentName:"p"},"clase de datos")," y un ",(0,n.kt)("em",{parentName:"p"},"atributo")," junto con un valor, se puede recuperar toda la informaci\xf3n p\xfablica de esa entidad. El valor es un valor \xfanico para el atributo, pero no es la llave primaria."),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company:companyCode(Acme001)")),(0,n.kt)("p",null,"Si quiere especificar qu\xe9 atributos quiere devolver, def\xednalos utilizando la siguiente sintaxis ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/18/REST/manData##selecting-attributes-to-get"}),"{attribute1, attribute2, ...}"),". Por ejemplo:"),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company:companyCode(Acme001)/name,address")),(0,n.kt)("p",null,"Si desea utilizar un atributo relacional utilizando ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/18/REST/attributes"}),'$attributes.md">'),", lo har\xe1 especific\xe1ndolo como se muestra a continuaci\xf3n:"),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Company:companyCode(Acme001)?$attributes=name,address,staff.name")),(0,n.kt)("h3",l({},{id:"ejemplo-2"}),"Ejemplo"),(0,n.kt)("p",null,'La siguiente petici\xf3n devuelve todos los datos p\xfablicos del empleado llamado "Jones".'),(0,n.kt)("p",null," ",(0,n.kt)("inlineCode",{parentName:"p"},"GET  /rest/Employee:lastname(Jones)")),(0,n.kt)("h2",l({},{id:"dataclassmethod-y-dataclasskeymethod"}),"{dataClass}/{method} y {dataClass}({key})/{method}"),(0,n.kt)("p",null,"Devuelve un objeto o una colecci\xf3n basada en un m\xe9todo proyecto."),(0,n.kt)("h3",l({},{id:"descripci\xf3n-3"}),"Descripci\xf3n"),(0,n.kt)("p",null,"Los m\xe9todos proyecto se llaman a trav\xe9s de una clase de datos (tabla) o una entidad (registro), y deben devolver un objeto o una colecci\xf3n."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee/getHighSalaries")),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee(52)/getFullName")),(0,n.kt)("h3",l({},{id:"configuraci\xf3n-web"}),"Configuraci\xf3n Web"),(0,n.kt)("p",null,"Para ser llamado en una petici\xf3n REST, un m\xe9todo debe:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'haber sido declarado como "Disponible v\xeda el servidor REST" en 4D,'),(0,n.kt)("li",{parentName:"ul"},"tienen su tabla principal y su alcance definidos en consecuencia:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Tabla"),": la tabla 4D (es decir, la clase de datos) sobre la que se llama al m\xe9todo. La tabla debe ser ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/18/REST/configuration#exposing-tables-and-fields"}),"expuesta a REST"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Alcance"),": este ajuste es \xfatil cuando el m\xe9todo utiliza el lenguaje cl\xe1sico de 4D y, por tanto, necesita tener un contexto de base de datos del lado del servidor.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Tabla")," -para los m\xe9todos aplicados a toda la tabla (dataclass)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Registro actual")," -para los m\xe9todos aplicados al registro actual (entidad) utilizando la sintaxis ",(0,n.kt)("inlineCode",{parentName:"li"},"{dataClass}(key)/{method}"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Selecci\xf3n actual")," -para los m\xe9todos aplicados a la selecci\xf3n actual")))))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"alt-text",src:t(45920).Z,width:"552",height:"557"})),(0,n.kt)("h3",l({},{id:"pasar-par\xe1metros-a-un-m\xe9todo"}),"Pasar par\xe1metros a un m\xe9todo"),(0,n.kt)("p",null,"Tambi\xe9n puedes pasar par\xe1metros a un m\xe9todo en un POST."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee/addEmployee")),(0,n.kt)("p",null,"Se pueden hacer POST de datos en el cuerpo de la consulta, por ejemplo:"),(0,n.kt)("p",null,'["John","Smith"]'),(0,n.kt)("h3",l({},{id:"ejemplos"}),"Ejemplos"),(0,n.kt)("h4",l({},{id:"alcance-de-la-tabla"}),"Alcance de la tabla"),(0,n.kt)("p",null,"Llamada de un m\xe9todo ",(0,n.kt)("inlineCode",{parentName:"p"},"getAverage"),":"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"en la tabla ","[Employee]"),(0,n.kt)("li",{parentName:"ul"},"con el alcance de ",(0,n.kt)("strong",{parentName:"li"},"Table"))),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' //getAverage  \nALL RECORDS([Employee])\n$0:=New object("ageAverage";Average([Employee]age))\n')),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee/getAverage")),(0,n.kt)("p",null,"Resultado:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'{\n    "result": {\n        "ageAverage": 44.125\n    }\n}\n')),(0,n.kt)("h4",l({},{id:"alcance-del-registro-actual"}),"Alcance del registro actual"),(0,n.kt)("p",null,"Llamada de un m\xe9todo ",(0,n.kt)("inlineCode",{parentName:"p"},"getFullName"),":"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"en la tabla ","[Employee]"),(0,n.kt)("li",{parentName:"ul"},"con el alcance de ",(0,n.kt)("strong",{parentName:"li"},"Current record"))),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' //getFullName  \n$0:=New object("fullName";[Employee]firstname+" "+[Employee]lastname)\n')),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"POST  /rest/Employee(3)/getFullName")),(0,n.kt)("p",null,"Resultado:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'{\n    "result": {\n        "fullName": "John Smith"\n    }\n}\n')),(0,n.kt)("h4",l({},{id:"alcance-de-la-selecci\xf3n-actual"}),"Alcance de la selecci\xf3n actual"),(0,n.kt)("p",null,"Llamada de un m\xe9todo ",(0,n.kt)("inlineCode",{parentName:"p"},"updateSalary"),":"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"en la tabla ","[Employee]"),(0,n.kt)("li",{parentName:"ul"},"con el alcance de ",(0,n.kt)("strong",{parentName:"li"},"Current selection"))),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' //updateSalary  \nC_REAL($1;$vCount)\nREAD WRITE([Employee])\n$vCount:=0\nFIRST RECORD([Employee])\nWhile (Not(End selection([Employee]))  \n [Employee]salary:=[Employee]salary * $1\n    SAVE RECORD([Employee])\n    $vCount:=$vCount+1\n    NEXT RECORD([Employee])\nEnd while \nUNLOAD RECORD([Employee])\n$0:=New object("updates";$vCount)\n')),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},'POST  /rest/Employee/updateSalary/?$filter="salary<1500"')),(0,n.kt)("p",null,"POST data (in the request body): ","[1.5]"),(0,n.kt)("p",null,"Resultado:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'{\n    "result": {\n        "updated": 42\n    }\n}\n')))}m.isMDXComponent=!0},45920:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/MethodProp-81c3e8a0e2bb72d44d9ac3e5d10d4a7f.png"}}]);