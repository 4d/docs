"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["35613"],{880884:function(e,s,n){n.r(s),n.d(s,{frontMatter:()=>t,toc:()=>c,default:()=>u,metadata:()=>o,assets:()=>r,contentTitle:()=>i});var o=JSON.parse('{"id":"aikit/asynchronous-call","title":"Asynchronous Call","description":"Si no desea esperar la respuesta del OpenAPI al hacer una petici\xf3n a su API, debe utilizar un c\xf3digo as\xedncrono.","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R10/aikit/asynchronous-call.md","sourceDirName":"aikit","slug":"/aikit/asynchronous-call","permalink":"/docs/es/20-R10/aikit/asynchronous-call","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20aikit%2Fasynchronous-call.md%20(20-R10)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R10","frontMatter":{"id":"asynchronous-call","title":"Asynchronous Call"},"sidebar":"docs","previous":{"title":"4D-AIKit","permalink":"/docs/es/20-R10/aikit/overview"},"next":{"title":"Proveedores","permalink":"/docs/es/20-R10/aikit/compatible-openai"}}'),l=n(474848),a=n(884429);let t={id:"asynchronous-call",title:"Asynchronous Call"},i="Asynchronous Call",r={},c=[{value:"Ejemplos de uso",id:"ejemplos-de-uso",level:2},{value:"lista de modelos",id:"lista-de-modelos",level:3},{value:"finalizaci\xf3n del chat",id:"finalizaci\xf3n-del-chat",level:3}];function d(e){let s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"asynchronous-call",children:"Asynchronous Call"})}),"\n",(0,l.jsx)(s.p,{children:"Si no desea esperar la respuesta del OpenAPI al hacer una petici\xf3n a su API, debe utilizar un c\xf3digo as\xedncrono."}),"\n",(0,l.jsxs)(s.p,{children:["Debe proporcionar un ",(0,l.jsx)(s.code,{children:"4D.Formula"})," para recibir el resultado. Ver ",(0,l.jsx)(s.a,{href:"/docs/es/20-R10/aikit/Classes/openaiparameters",children:"OpenAIParameters"})," para una lista de ellos."]}),"\n",(0,l.jsxs)(s.p,{children:["The asynchronous method is based on ",(0,l.jsx)(s.a,{href:"https://developer.4d.com/docs/API/HTTPRequestClass",children:"4D.HTTPRequest"}),", so the response will be received within the current process."]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["\u26A0\uFE0F If your process ends at the conclusion of the current method (e.g., using New process, or playing in the method editor), the callback formula might not be called asynchronously. En estos casos, considere la posibilidad de utilizar ",(0,l.jsx)(s.code,{children:"CALL WORKER"})," o ",(0,l.jsx)(s.code,{children:"CALL FORM"}),"."]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"ejemplos-de-uso",children:"Ejemplos de uso"}),"\n",(0,l.jsx)(s.h3,{id:"lista-de-modelos",children:"lista de modelos"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"$client.models.list({formula: Formula(MyReceiveMethod($1))})\n"})}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"$1"})," ser\xe1 una instancia de ",(0,l.jsx)(s.a,{href:"/docs/es/20-R10/aikit/Classes/openaimodellistresult",children:"OpenAIModelListResult"}),", por lo que el m\xe9todo ",(0,l.jsx)(s.code,{children:"MyReceiveMethod"})," podr\xeda ser:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'#DECLARE($result: cs.AIKit.OpenAIModelListResult)\n\nIf($result.success)\n\n   Form.models:=$result.models\n\nElse\n\n  Alert($result.errors.formula(Formula(JSON Stringify($1))).join("\\n"))\n\nEnd if\n'})}),"\n",(0,l.jsx)(s.h3,{id:"finalizaci\xf3n-del-chat",children:"finalizaci\xf3n del chat"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:'var $messages:=[{role: "system"; content: "You are a helpful assistant."}]\n$messages.push({role: "user"; content: "Could you explain me why 42 is a special number"})\n\n$client.chat.completions.create($messages; { onResponse: Formula(MyChatCompletionsReceiveMethod($1))})\n'})}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"$1"})," ser\xe1 una instancia de ",(0,l.jsx)(s.a,{href:"/docs/es/20-R10/aikit/Classes/openaichatcompletionsresult",children:"OpenAIChatCompletionsResult"}),", as\xed que el m\xe9todo ",(0,l.jsx)(s.code,{children:"MyChatCompletionsReceiveMethod"})," podr\xeda ser:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-4d",children:"#DECLARE($result: cs.AIKit.OpenAIChatCompletionsResult)\n\nASSERT($result.success) // We use onResponse here, callback receive only if success\nForm.assistantMessage:=$result.choices[0].text\n"})})]})}function u(e={}){let{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},884429:function(e,s,n){n.d(s,{R:()=>t,x:()=>i});var o=n(296540);let l={},a=o.createContext(l);function t(e){let s=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),o.createElement(a.Provider,{value:s},e.children)}}}]);