"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[99227],{603905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>k});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),d=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=d(e.components);return n.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),u=d(a),k=r,c=u["".concat(p,".").concat(k)]||u[k]||m[k]||l;return a?n.createElement(c,i(i({ref:t},s),{},{components:a})):n.createElement(c,i({ref:t},s))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var d=2;d<l;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},785132:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>p,toc:()=>s});a(667294);var n=a(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const i={id:"HTTPRequestClass",title:"HTTPRequest"},o=void 0,p={unversionedId:"API/HTTPRequestClass",id:"version-20-R4/API/HTTPRequestClass",title:"HTTPRequest",description:"La clase HTTPRequest permite manejar objetos HTTPRequest que pueden ser utilizados para configurar y enviar peticiones a un servidor HTTP, as\xed como para procesar las respuestas del servidor HTTP.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R4/API/HTTPRequestClass.md",sourceDirName:"API",slug:"/API/HTTPRequestClass",permalink:"/docs/es/API/HTTPRequestClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FHTTPRequestClass.md%20(20-R4)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R4",frontMatter:{id:"HTTPRequestClass",title:"HTTPRequest"},sidebar:"docs",previous:{title:"Function",permalink:"/docs/es/API/FunctionClass"},next:{title:"IMAPTransporter",permalink:"/docs/es/API/IMAPTransporterClass"}},d={},s=[{value:"Ejemplo",id:"ejemplo",level:3},{value:"Objeto HTTPRequest",id:"objeto-httprequest",level:3},{value:"4D.HTTPRequest.new()",id:"4dhttprequestnew",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"par\xe1metro <code>options</code>",id:"par\xe1metro-options",level:4},{value:"Funci\xf3n callback (retrollamada)",id:"funci\xf3n-callback-retrollamada",level:4},{value:"objeto evento",id:"objeto-evento",level:4},{value:"authentication object",id:"authentication-object",level:4},{value:"HTTP Parse message",id:"http-parse-message",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:"Ejemplo",id:"ejemplo-1",level:4},{value:".dataType",id:"datatype",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:".encoding",id:"encoding",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4},{value:".errors",id:"errors",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:4},{value:".headers",id:"headers",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-5",level:4},{value:".method",id:"method",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-6",level:4},{value:".protocol",id:"protocol",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-7",level:4},{value:".response",id:"response",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-8",level:4},{value:".returnResponseBody",id:"returnresponsebody",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-9",level:4},{value:".terminate()",id:"terminate",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-10",level:4},{value:".terminated",id:"terminated",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-11",level:4},{value:".timeout",id:"timeout",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-12",level:4},{value:".url",id:"url",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-13",level:4},{value:".wait()",id:"wait",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-14",level:4}],m={toc:s};function u(e){var{components:t}=e,a=l(e,["components"]);return(0,n.kt)("wrapper",r({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"La clase ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTPRequest")," permite manejar objetos ",(0,n.kt)("a",r({parentName:"p"},{href:"#httprequest-object"}),(0,n.kt)("inlineCode",{parentName:"a"},"HTTPRequest"))," que pueden ser utilizados para configurar y enviar peticiones a un servidor HTTP, as\xed como para procesar las respuestas del servidor HTTP."),(0,n.kt)("p",null,"La clase ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTPRequest")," est\xe1 disponible en el almac\xe9n de clases ",(0,n.kt)("inlineCode",{parentName:"p"},"4D"),". Para crear y enviar peticiones HTTP se utiliza la funci\xf3n ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"4D.HTTPRequest.new()"),", que devuelve un objeto ",(0,n.kt)("a",r({parentName:"p"},{href:"#httprequest-object"}),(0,n.kt)("inlineCode",{parentName:"a"},"HTTPRequest")),"."),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v19 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Clase a\xf1adida"))))),(0,n.kt)("h3",r({},{id:"ejemplo"}),"Ejemplo"),(0,n.kt)("p",null,"Crear una clase ",(0,n.kt)("inlineCode",{parentName:"p"},"MyHttpRequestOptions")," para las opciones de la petici\xf3n:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"Class constructor($method : Text; $headers : Object; $body : Text)\nThis.method:=$method\nThis.headers:=$headers\nThis.body:=$body\n\nFunction onResponse($request : 4D.HTTPRequest; $event : Object)\n// Mi m\xe9todo onResponse, si quiere manejar la petici\xf3n de forma as\xedncrona\n\nFunction onError($request : 4D.HTTPRequest; $event : Object)\n// Mi m\xe9todo onError, si quiere manejar la petici\xf3n de forma as\xedncrona\n")),(0,n.kt)("p",null,"Ahora puede crear su petici\xf3n:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $headers : Object\n$headers:=New object()\n$headers["field1"]:="value1"\n\nvar myHttpRequestOptions : cs.MyHttpRequestOptions\nmyHttpRequestOptions := cs.MyHttpRequestOptions.new("GET"; $headers; "")\n\nvar $request : 4D.HTTPRequest\n$request:=4D.HTTPRequest.new("www.google.com"; myHttpRequestOptions)\n$request.wait() // Si desea gestionar la solicitud de forma sincr\xf3nica\n// Ahora puede utilizar $request.response para acceder al resultado de la petici\xf3n o $request.error para comprobar el error que se ha producido.\n')),(0,n.kt)("h3",r({},{id:"objeto-httprequest"}),"Objeto HTTPRequest"),(0,n.kt)("p",null,"Un objeto HTTPRequest es un objeto no compartible."),(0,n.kt)("p",null,"Los objetos HTTPRequest ofrecen las siguientes propiedades y funciones:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#dataType"}),(0,n.kt)("strong",{parentName:"a"},"dataType"),": Text"),"\xa0","\xa0","\xa0","\xa0","el ",(0,n.kt)("inlineCode",{parentName:"td"},"dataType")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"),', "auto" si se omite')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#encoding"}),(0,n.kt)("strong",{parentName:"a"},"encoding"),": Text"),"\xa0","\xa0","\xa0","\xa0","el ",(0,n.kt)("inlineCode",{parentName:"td"},"encoding")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"),', "UTF-8" si se omite')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#errors"}),(0,n.kt)("strong",{parentName:"a"},"errors"),": Collection"),"\xa0","\xa0","\xa0","\xa0","la colecci\xf3n de todos los errores si se ha producido al menos un error")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#headers"}),(0,n.kt)("strong",{parentName:"a"},"headers"),": Object"),"\xa0","\xa0","\xa0","\xa0","los ",(0,n.kt)("inlineCode",{parentName:"td"},"headers")," pasados en el objeto ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar a ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#method"}),(0,n.kt)("strong",{parentName:"a"},"method"),": Text"),"\xa0","\xa0","\xa0","\xa0","el ",(0,n.kt)("inlineCode",{parentName:"td"},"method")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar a ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#protocol"}),(0,n.kt)("strong",{parentName:"a"},"protocol"),": Text"),"\xa0","\xa0","\xa0","\xa0","el ",(0,n.kt)("inlineCode",{parentName:"td"},"protocol")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar a ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#response"}),(0,n.kt)("strong",{parentName:"a"},"response"),": Object"),"\xa0","\xa0","\xa0","\xa0","la respuesta a la petici\xf3n si ha recibido al menos el c\xf3digo de estado, indefinido en caso contrario")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#returnResponseBody"}),(0,n.kt)("strong",{parentName:"a"},"returnResponseBody"),": Boolean"),"\xa0","\xa0","\xa0","\xa0","el ",(0,n.kt)("inlineCode",{parentName:"td"},"returnResponseBody")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar a ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#terminate"}),(0,n.kt)("strong",{parentName:"a"},".terminate()")),"\xa0","\xa0","\xa0","\xa0","aborta la petici\xf3n HTTP")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#terminated"}),(0,n.kt)("strong",{parentName:"a"},"terminated"),": Boolean"),"\xa0","\xa0","\xa0","\xa0","True si la solicitud ha terminado (despu\xe9s de la llamada a ",(0,n.kt)("inlineCode",{parentName:"td"},"onTerminate"),"), falso en caso contrario")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#timeout"}),(0,n.kt)("strong",{parentName:"a"},"timeout"),": Real"),"\xa0","\xa0","\xa0","\xa0","el ",(0,n.kt)("inlineCode",{parentName:"td"},"timeout")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"td"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options<"))," al llamar a ",(0,n.kt)("a",r({parentName:"td"},{href:"#4dhttprequestnew"}),"new()"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#url"}),(0,n.kt)("strong",{parentName:"a"},"url"),": Text"),"\xa0","\xa0","\xa0","\xa0","la URL de la petici\xf3n HTTP")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#wait"}),(0,n.kt)("strong",{parentName:"a"},".wait"),"( { ",(0,n.kt)("em",{parentName:"a"},"time")," : Real } ) : 4D.HTTPRequest"),"\xa0","\xa0","\xa0","\xa0","espera la respuesta del servidor")))),(0,n.kt)("h2",r({},{id:"4dhttprequestnew"}),"4D.HTTPRequest.new()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Validaci\xf3n TLS por defecto")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v19 R7"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Soporte de propiedades ",(0,n.kt)("em",{parentName:"td"},"automaticRedirections")," y ",(0,n.kt)("em",{parentName:"td"},"decodeData")))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"4D.HTTPRequest.new"),"( ",(0,n.kt)("em",{parentName:"p"},"url")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"options")," : Object } ) : 4D.HTTPRequest"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"url"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"URL a la que enviar la solicitud")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Propiedades de configuraci\xf3n de la petici\xf3n")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.HTTPRequest"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nuevo objeto HTTPRequest")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.HTTPRequest.new()")," crea y env\xeda una petici\xf3n HTTP al servidor HTTP definido en la ",(0,n.kt)("em",{parentName:"p"},"url<")," con las ",(0,n.kt)("em",{parentName:"p"},"opciones")," definidas, y devuelve un objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.HTTPRequest"),"."),(0,n.kt)("p",null,"El objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTPRequest")," devuelto se utiliza para procesar las respuestas del servidor HTTP y llamar a los m\xe9todos."),(0,n.kt)("p",null,"En ",(0,n.kt)("em",{parentName:"p"},"url"),", pase la URL a la que desea enviar la petici\xf3n. La sintaxis a utilizar es:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),"{http://}[{user}:[{password}]@]host[:{port}][/{path}][?{queryString}]\n{https://}[{user}:[{password}]@]host[:{port}][/{path}][?{queryString}]\n")),(0,n.kt)("p",null,"Si omite la parte del esquema (",(0,n.kt)("inlineCode",{parentName:"p"},"http://")," o ",(0,n.kt)("inlineCode",{parentName:"p"},"https://"),"), se env\xeda una solicitud https."),(0,n.kt)("p",null,"Por ejemplo, puede pasar las siguientes cadenas:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),'    http://www.myserver.com\n    www.myserver.com/path\n    http://www.myserver.com/path?name="jones"\n    https://www.myserver.com/login\n    http://123.45.67.89:8083\n    http://john:smith@123.45.67.89:8083\n    http://[2001:0db8:0000:0000:0000:ff00:0042:8329]\n    http://[2001:0db8:0000:0000:0000:ff00:0042:8329]:8080/index.html (**)\n')),(0,n.kt)("h4",r({},{id:"par\xe1metro-options"}),"par\xe1metro ",(0,n.kt)("inlineCode",{parentName:"h4"},"options")),(0,n.kt)("p",null,"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"options"),", pase un objeto que pueda contener las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Por defecto"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"automaticRedirections"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Si es true, las redirecciones se realizan autom\xe1ticamente (se gestionan hasta 5 redirecciones, se devuelve la 6\xaa respuesta de redirecci\xf3n si la hay)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"body"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Variant"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cuerpo de la petici\xf3n (necesario en el caso de las peticiones ",(0,n.kt)("inlineCode",{parentName:"td"},"post")," o ",(0,n.kt)("inlineCode",{parentName:"td"},"put"),"). Puede ser un texto, un blob, o un objeto. El content-type se determina a partir del tipo de esta propiedad a menos que se defina dentro de los encabezados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"certificatesFolder"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/es/API/FolderClass"}),"Folder")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Define la carpeta de certificados de cliente activa"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataType"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Tipo de atributo del cuerpo de la respuesta. Valores: "text", "blob", "object", o "auto". Si "auto", el tipo de contenido del cuerpo se deducir\xe1 de su tipo MIME (object para JSON, texto para texto, javascript, xml, mensaje http y formulario codificado en url, blob en caso contrario)'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"decodeData"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Si es true, los datos recibidos en la retrollamada ",(0,n.kt)("inlineCode",{parentName:"td"},"onData")," se descomprimen"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"False")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"encoding"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Se utiliza s\xf3lo en caso de peticiones con un ",(0,n.kt)("inlineCode",{parentName:"td"},"body")," (m\xe9todos ",(0,n.kt)("inlineCode",{parentName:"td"},"post")," o ",(0,n.kt)("inlineCode",{parentName:"td"},"put"),"). Codificaci\xf3n del contenido del cuerpo de la petici\xf3n si es un texto, se ignora si se define content-type dentro de los encabezados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"UTF-8"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"headers"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Encabezados de la petici\xf3n. Sintaxis: ",(0,n.kt)("inlineCode",{parentName:"td"},"headers.key=value")," (",(0,n.kt)("em",{parentName:"td"},"valor")," puede ser una Colecci\xf3n si la misma llave debe aparecer varias veces)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto vac\xedo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"method"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"POST", "GET" u otro m\xe9todo'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"GET"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"minTLSVersion"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Define la versi\xf3n m\xednima de TLS: "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_0"),'", "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_1"),'", "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_2"),'", "',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_3"),'"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"',(0,n.kt)("inlineCode",{parentName:"td"},"TLSv1_2"),'"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onData"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/es/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retrollamada cuando se reciben los datos del cuerpo. Recibe dos objetos como par\xe1metros (ver m\xe1s abajo)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onError"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/es/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retrollamada cuando ocurre un error. Recibe dos objetos como par\xe1metros (ver m\xe1s abajo)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onHeaders"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/es/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retrollamada cuando se reciben los encabezados. Recibe dos objetos como par\xe1metros (ver m\xe1s abajo)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onResponse"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/es/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retrollamada cuando se recibe una respuesta. Recibe dos objetos como par\xe1metros (ver m\xe1s abajo)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"onTerminate"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"/docs/es/API/FunctionClass"}),"Function")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Retrollamada cuando la petici\xf3n haya terminado. Recibe dos objetos como par\xe1metros (ver m\xe1s abajo)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"protocol"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto" o "HTTP1". "auto" significa HTTP1 en la implementaci\xf3n actual'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"proxyAuthentication"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#authentication-object"}),"authentication object")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Autenticaci\xf3n del proxy de gesti\xf3n de objetos"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"serverAuthentication"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#authentication-object"}),"authentication object")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Autenticaci\xf3n del servidor de gesti\xf3n de objetos"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"returnResponseBody"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Si false, el cuerpo de la respuesta no se devuelve en el objeto ",(0,n.kt)("a",r({parentName:"td"},{href:"#response"}),(0,n.kt)("inlineCode",{parentName:"a"},"response")),". Devuelve un error si es false y ",(0,n.kt)("inlineCode",{parentName:"td"},"onData")," es indefinido"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"timeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tiempo de espera en segundos. Indefinido = sin tiempo de espera"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"validateTLSCertificate"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Si false, 4D no valida el certificado TLS y no devuelve un error si no es v\xe1lido (es decir, caducado, autofirmado...). Importante: en la implementaci\xf3n actual, la propia Autoridad de Certificaci\xf3n no se verifica."),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True")))),(0,n.kt)("h4",r({},{id:"funci\xf3n-callback-retrollamada"}),"Funci\xf3n callback (retrollamada)"),(0,n.kt)("p",null,"Todas las funciones de retrollamada reciben dos par\xe1metros objeto:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"$param1"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#httprequest-object"}),"objeto ",(0,n.kt)("inlineCode",{parentName:"a"},"HTTPRequest")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"$param2"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#event-object"}),(0,n.kt)("inlineCode",{parentName:"a"},"Event")," objeto"))))),(0,n.kt)("p",null,"Esta es la secuencia de llamadas de retorno:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"onHeaders")," se llama siempre una vez")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"onData")," se llama cero o varias veces (no se llama si la petici\xf3n no tiene cuerpo)")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Si no se produce ning\xfan error, ",(0,n.kt)("inlineCode",{parentName:"p"},"onResponse")," se llama siempre una vez")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Si se produce un error, ",(0,n.kt)("inlineCode",{parentName:"p"},"onError")," se ejecuta una vez (y termina la petici\xf3n)")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"onTerminate")," se ejecuta siempre una vez"))),(0,n.kt)("h4",r({},{id:"objeto-evento"}),"objeto evento"),(0,n.kt)("p",null,"Un objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"event")," se devuelve cuando se llama una ",(0,n.kt)("a",r({parentName:"p"},{href:"#callback-functions"}),"funcipon de retrollamada"),". Contiene las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".data"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"blob"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Datos recibidos. Siempre es ",(0,n.kt)("em",{parentName:"td"},"undefined")," excepto en la retrollamada ",(0,n.kt)("inlineCode",{parentName:"td"},"onData"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Tipo de evento. Valores posibles: "response", "error", "headers", "data", o "terminate')))),(0,n.kt)("h4",r({},{id:"authentication-object"}),"authentication object"),(0,n.kt)("p",null,"Un objeto authentication maneja la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},"options.serverAuthentication")," o ",(0,n.kt)("inlineCode",{parentName:"p"},"options.proxyAuthentication"),". Puede contener las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Por defecto"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre usado para la autenticaci\xf3n"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"contrase\xf1a"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Contrase\xf1a utilizada para la autenticaci\xf3n"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"indefinido")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"method"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'M\xe9todo utilizado para la autenticaci\xf3n: "basic", "digest", "auto"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'"auto"')))),(0,n.kt)("h2",r({},{id:"http-parse-message"}),"HTTP Parse message"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v20 R4"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"HTTP Parse message"),"( ",(0,n.kt)("em",{parentName:"p"},"data")," : Text ) : Object",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"HTTP Parse message"),"( ",(0,n.kt)("em",{parentName:"p"},"data")," : Blob ) : Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"data"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text, Blob"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Datos a analizar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto, cada propiedad es parte de los datos de varias partes")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-1"}),"Descripci\xf3n"),(0,n.kt)("p",null,"El comando ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTP Parse message"),' analiza un texto o blob multipart/form-data (mensaje HTTP "response") y extrae el contenido a un objeto. Cada propiedad del objeto devuelto corresponde a una parte de los datos multiparte.'),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},'El propio HTTP es un protocolo de comunicaci\xf3n sin estado. En este marco, los clientes inician la comunicaci\xf3n enviando mensajes de "petici\xf3n" a los servidores, especificando detalles como el m\xe9todo, el objetivo, los encabezados, el contenido, etc. Los servidores, a su vez, responden con mensajes de "respuesta" que incluyen los mismos detalles. ',(0,n.kt)("inlineCode",{parentName:"p"},"HTTP Parse message"),' analiza el mensaje "request" o "response" en un objeto bien organizado.')),(0,n.kt)("h4",r({},{id:"ejemplo-1"}),"Ejemplo"),(0,n.kt)("p",null,"En el siguiente ejemplo, analizamos los datos de un archivo de texto que contiene peticiones HTTP."),(0,n.kt)("p",null,"Este es el contenido del archivo:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),"POST /batch/gmail/v1/ HTTP/1.1\nAccept-Encoding: gzip, deflate\nAuthorization: Bearer xxxxxx\nConnection: Close\nContent-Length: 442\nContent-Type: multipart/mixed; boundary=batch_19438756D576A14ABA87C112F56B9396; charset=UTF-8\nDate: Wed, 29 Nov 2023 13:51:35 GMT\nHost: gmail.googleapis.com\nUser-Agent: 4D/20.4.0\n\n\n--batch_19438756D576A14ABA87C112F56B9396\nContent-Type: application/http\nContent-ID: <item1>\n\nGET https://gmail.googleapis.com/gmail/v1/users/me/messages/18c1b58689824c92?format=raw HTTP/1.1\n\n\n--batch_19438756D576A14ABA87C112F56B9396\nContent-Type: application/http\nContent-ID: <item2>\n\nGET https://gmail.googleapis.com/gmail/v1/users/me/messages/18c1b58642b28e2b?format=raw HTTP/1.1\n\n--batch_19438756D576A14ABA87C112F56B9396--\n")),(0,n.kt)("p",null,"Para analizar el archivo:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $message : Text:=File("/RESOURCES/HTTPrequest.txt").getText()\nvar $parsedMessage : Object:=HTTP Parse message($message)\n//$parsedMessage= {\n//headers:{"User-Agent":"4D/20.4.0",...},\n//parts:[{"contentType":"application/http","contentID":"item1",...}], \n//requestLine:"POST /batch/gmail/v1/ HTTP/1.1"\n//}\n')),(0,n.kt)("h2",r({},{id:"datatype"}),".dataType"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"dataType"),": Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-2"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".dataType")," contiene el ",(0,n.kt)("inlineCode",{parentName:"p"},"dataType")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),', "auto" si se omite.'),(0,n.kt)("h2",r({},{id:"encoding"}),".encoding"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"encoding"),": Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-3"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".encoding")," contiene el ",(0,n.kt)("inlineCode",{parentName:"p"},"encoding")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),', "UTF-8" si se omite.'),(0,n.kt)("h2",r({},{id:"errors"}),".errors"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"errors"),": Collection"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-4"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".errors")," contiene la colecci\xf3n de todos los errores si se ha producido al menos un error."),(0,n.kt)("p",null,"Este es el contenido de la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".errors"),":"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"errors"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Pila de error 4D en caso de error")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].errCode"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"C\xf3digo de error 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].message"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Descripci\xf3n del error 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"[].componentSignature"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Firma del componente interno que ha devuelto el error")))),(0,n.kt)("h2",r({},{id:"headers"}),".headers"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"headers"),": Object"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-5"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".headers")," contiene los ",(0,n.kt)("inlineCode",{parentName:"p"},"headers")," pasados en el objeto ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar a ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),". Si se omite, contiene un objeto vac\xedo."),(0,n.kt)("h2",r({},{id:"method"}),".method"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"method"),": Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-6"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".errors")," contiene el ",(0,n.kt)("inlineCode",{parentName:"p"},"method")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar a ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),". ."),(0,n.kt)("h2",r({},{id:"protocol"}),".protocol"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"protocol"),": Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-7"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".protocol")," contiene el ",(0,n.kt)("inlineCode",{parentName:"p"},"protocol")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar a ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),'. Si se ha omitido o si se ha utilizado "auto", contiene la versi\xf3n del protocolo utilizada.'),(0,n.kt)("h2",r({},{id:"response"}),".response"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v19 R8"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},".headers")," devuelve los nombres en min\xfasculas. Nueva propiedad ",(0,n.kt)("inlineCode",{parentName:"td"},".rawHeaders")))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"response"),": Object"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-8"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".response")," contiene la respuesta a la petici\xf3n si ha recibido al menos el c\xf3digo de estado, indefinido en caso contrario."),(0,n.kt)("p",null,"Un objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"response")," es un objeto no compartible. Ofrece las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".body"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Variant"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cuerpo de la respuesta. El tipo del mensaje se define seg\xfan la propiedad ",(0,n.kt)("a",r({parentName:"td"},{href:"#datatype"}),(0,n.kt)("inlineCode",{parentName:"a"},"dataType")),". Indefinido si el cuerpo no se ha recibido todav\xeda")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".headers"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Encabezados de la respuesta. Los nombres de los encabezados se devuelven en min\xfasculas. ",(0,n.kt)("inlineCode",{parentName:"td"},"<headername>.key")," = valor (el valor puede ser una colecci\xf3n si la misma llave aparece varias veces). Indefinido si el los encabezados no se ha recibido a\xfan.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".status"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"C\xf3digo de estado de la respuesta")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".statusText"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Mensaje explicando el c\xf3digo de estado")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),".rawHeaders"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Encabezados de la respuesta. Los nombres de los encabezadoss se devuelven intactos (con sus may\xfasculas y min\xfasculas originales). ",(0,n.kt)("inlineCode",{parentName:"td"},"<headerName>.key")," = valor (el valor puede ser una colecci\xf3n si la misma llave aparece varias veces). Indefinido si el los encabezados no se ha recibido a\xfan.")))),(0,n.kt)("h2",r({},{id:"returnresponsebody"}),".returnResponseBody"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"returnResponseBody"),": Boolean"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-9"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".returnResponseBody")," contiene el ",(0,n.kt)("inlineCode",{parentName:"p"},"returnResponseBody")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options"))," al llamar a ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),". Si se omite, contiene True."),(0,n.kt)("h2",r({},{id:"terminate"}),".terminate()"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".terminate()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"No requiere ning\xfan par\xe1metro")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-10"}),"Descripci\xf3n"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta funci\xf3n es hilo seguro.")),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".terminate()")," aborta la petici\xf3n HTTP. ."),(0,n.kt)("h2",r({},{id:"terminated"}),".terminated"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"terminated"),": Boolean"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-11"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".terminated")," contiene True si la solicitud ha terminado (despu\xe9s de la llamada a ",(0,n.kt)("inlineCode",{parentName:"p"},"onTerminate"),"), falso en caso contrario."),(0,n.kt)("h2",r({},{id:"timeout"}),".timeout"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"timeout"),": Real"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-12"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".timeout")," contiene el ",(0,n.kt)("inlineCode",{parentName:"p"},"timeout")," pasado en el objeto ",(0,n.kt)("a",r({parentName:"p"},{href:"#options-parameter"}),(0,n.kt)("inlineCode",{parentName:"a"},"options<"))," al llamar a ",(0,n.kt)("a",r({parentName:"p"},{href:"#4dhttprequestnew"}),"new()"),". ."),(0,n.kt)("h2",r({},{id:"url"}),".url"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"url"),": Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-13"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".url")," contiene la URL de la petici\xf3n HTTP."),(0,n.kt)("h2",r({},{id:"wait"}),".wait()"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".wait"),"( { ",(0,n.kt)("em",{parentName:"p"},"time")," : Real } ) : 4D.HTTPRequest"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"time"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tiempo m\xe1ximo en segundos para esperar la respuesta")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.HTTPRequest"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto HTTPRequest")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-14"}),"Descripci\xf3n"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta funci\xf3n es hilo seguro.")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"4D.HTTPRequest.wait()")," function espera la respuesta del servidor."),(0,n.kt)("p",null,"Si se pasa un par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"time"),", la funci\xf3n esperar\xe1 como m\xe1ximo el n\xfamero de segundos definido."),(0,n.kt)("p",null,"Si la respuesta del servidor ya ha llegado, la funci\xf3n regresa inmediatamente."))}u.isMDXComponent=!0}}]);