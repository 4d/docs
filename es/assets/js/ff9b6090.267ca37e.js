"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[69212],{603905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),d=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=d(a),m=r,g=u["".concat(l,".").concat(m)]||u[m]||p[m]||o;return a?n.createElement(g,i(i({ref:t},c),{},{components:a})):n.createElement(g,i({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var d=2;d<o;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},21818:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>c});a(667294);var n=a(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const i={id:"templates",title:"P\xe1ginas de plantillas"},s=void 0,l={unversionedId:"WebServer/templates",id:"version-20-R5/WebServer/templates",title:"P\xe1ginas de plantillas",description:"4D's Web server allows you to use HTML template pages containing tags, i.e. a mix of static HTML code and 4D references added by means of transformation tags such as 4DTEXT, 4DIF, or 4DINCLUDE. These tags are usually inserted as HTML type comments (``) into the HTML source code.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R5/WebServer/templates.md",sourceDirName:"WebServer",slug:"/WebServer/templates",permalink:"/docs/es/WebServer/templates",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20WebServer%2Ftemplates.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"templates",title:"P\xe1ginas de plantillas"},sidebar:"docs",previous:{title:"Desarrollo web",permalink:"/docs/es/WebServer/gettingStarted"},next:{title:"Procesamiento de peticiones HTTP",permalink:"/docs/es/WebServer/httpRequests"}},d={},c=[{value:"Etiquetas para las plantillas",id:"etiquetas-para-las-plantillas",level:2},{value:"An\xe1lisis de etiquetas",id:"an\xe1lisis-de-etiquetas",level:2},{value:"Acceso a los m\xe9todos 4D a trav\xe9s de la web",id:"acceso-a-los-m\xe9todos-4d-a-trav\xe9s-de-la-web",level:2},{value:"Prevenci\xf3n de la inserci\xf3n de c\xf3digos maliciosos",id:"prevenci\xf3n-de-la-inserci\xf3n-de-c\xf3digos-maliciosos",level:2}],p={toc:c};function u(e){var{components:t}=e,a=o(e,["components"]);return(0,n.kt)("wrapper",r({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"4D's Web server allows you to use HTML template pages containing tags, i.e. a mix of static HTML code and 4D references added by means of ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/Tags/transformation-tags"}),"transformation tags")," such as 4DTEXT, 4DIF, or 4DINCLUDE. These tags are usually inserted as HTML type comments (",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTagName TagValue--\x3e"),") into the HTML source code."),(0,n.kt)("p",null,"Cuando estas p\xe1ginas son enviadas por el servidor HTTP, son analizadas y las etiquetas que contienen son ejecutadas y sustituidas por los datos resultantes. Las p\xe1ginas que reciben los navegadores son una combinaci\xf3n de elementos est\xe1ticos y valores procedentes del procesamiento 4D."),(0,n.kt)("p",null,"Por ejemplo, si se escribe en una p\xe1gina HTML:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-html"}),"<P>Bienvenido a \x3c!--#4DTEXT vtSiteName--\x3e!</P>\n")),(0,n.kt)("p",null,"The value of the 4D variable ",(0,n.kt)("em",{parentName:"p"},"vtSiteName")," will be inserted in the HTML page."),(0,n.kt)("h2",r({},{id:"etiquetas-para-las-plantillas"}),"Etiquetas para las plantillas"),(0,n.kt)("p",null,"Las siguientes etiquetas 4D est\xe1n disponibles:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"4DTEXT, para insertar variables y expresiones 4D como texto,"),(0,n.kt)("li",{parentName:"ul"},"4DHTML, para insertar el c\xf3digo HTML,"),(0,n.kt)("li",{parentName:"ul"},"4DEVAL, para evaluar toda expresi\xf3n 4D,"),(0,n.kt)("li",{parentName:"ul"},"4DSCRIPT, para ejecutar un m\xe9todo 4D,"),(0,n.kt)("li",{parentName:"ul"},"4DINCLUDE, para incluir una p\xe1gina dentro de otra,"),(0,n.kt)("li",{parentName:"ul"},"4DBASE, para modificar la carpeta por defecto utilizada por la etiqueta 4DINCLUDE,"),(0,n.kt)("li",{parentName:"ul"},"4DCODE, para insertar el c\xf3digo 4D,"),(0,n.kt)("li",{parentName:"ul"},"4DIF, 4DELSE, 4DELSEIF y 4DENDIF, para insertar condiciones en el c\xf3digo HTML,"),(0,n.kt)("li",{parentName:"ul"},"4DLOOP y 4DENDLOOP, para hacer bucles en el c\xf3digo HTML,"),(0,n.kt)("li",{parentName:"ul"},"4DEACH y 4DENDEACH, para hacer bucles en colecciones, selecciones de entidades o propiedades de objetos.")),(0,n.kt)("p",null,"These tags are described in the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/Tags/transformation-tags"}),"Transformation Tags")," page."),(0,n.kt)("p",null,"Es posible combinar etiquetas. Por ejemplo, el siguiente c\xf3digo HTML es permitido:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-html"}),"<HTML>\n...\n<BODY>\n\x3c!--#4DSCRIPT/PRE_PROCESS--\x3e   (Method call)\n\x3c!--#4DIF (myvar=1)--\x3e   (If condition)\n   \x3c!--#4DINCLUDE banner1.html--\x3e   (Subpage insertion)\n\x3c!--#4DENDIF--\x3e   (End if)\n\x3c!--#4DIF (myvar=2)--\x3e\n\n   \x3c!--#4DINCLUDE banner2.html--\x3e\n\x3c!--#4DENDIF--\x3e\n \n\x3c!--#4DLOOP [TABLE]--\x3e   (loop on the current selection)\n\x3c!--#4DIF ([TABLE]ValNum>10)--\x3e   (If [TABLE]ValNum>10)\n   \x3c!--#4DINCLUDE subpage.html--\x3e   (subpage insertion)\n\x3c!--#4DELSE--\x3e   (Else)\n   <B>Value: \x3c!--#4DTEXT [TABLE]ValNum--\x3e</B><br/>\n      (Field display)\n\x3c!--#4DENDIF--\x3e\n\x3c!--#4DENDLOOP--\x3e   (End for)\n</BODY>\n</HTML>\n")),(0,n.kt)("h2",r({},{id:"an\xe1lisis-de-etiquetas"}),"An\xe1lisis de etiquetas"),(0,n.kt)("p",null,'Por razones de optimizaci\xf3n, el servidor web de 4D no realiza el an\xe1lisis del c\xf3digo fuente HTML cuando se llama a las p\xe1ginas HTML utilizando URLs simples con el sufijo ".HTML" o ".HTM".'),(0,n.kt)("p",null,"Parsing of the contents of template pages sent by 4D web server takes place when ",(0,n.kt)("inlineCode",{parentName:"p"},"WEB SEND FILE")," (.htm, .html, .shtm, .shtml), ",(0,n.kt)("inlineCode",{parentName:"p"},"WEB SEND BLOB")," (text/html type BLOB) or ",(0,n.kt)("inlineCode",{parentName:"p"},"WEB SEND TEXT"),' commands are called, as well as when sending pages called using URLs. En este \xfaltimo caso, por razones de optimizaci\xf3n, las p\xe1ginas con sufijo ".htm" y ".html" NO se analizan. In order to "force" the parsing of HTML pages in this case, you must add the suffix \u201c.shtm\u201d or \u201c.shtml\u201d (for example, ',(0,n.kt)("inlineCode",{parentName:"p"},"http://www.server.com/dir/page.shtm"),"). An example of the use of this type of page is given in the description of the ",(0,n.kt)("inlineCode",{parentName:"p"},"WEB GET STATISTICS")," command. Las p\xe1ginas XML (.xml, .xsl) tambi\xe9n son compatibles y siempre son analizadas por 4D."),(0,n.kt)("p",null,"You can also carry out parsing outside of the Web context when you use the ",(0,n.kt)("inlineCode",{parentName:"p"},"PROCESS 4D TAGS")," command."),(0,n.kt)("p",null,"Internamente, el analizador funciona con cadenas UTF-16, pero los datos a analizar pueden haber sido codificados de forma diferente. When tags contain text (for example ",(0,n.kt)("inlineCode",{parentName:"p"},"4DHTML"),"), 4D converts the data when necessary depending on its origin and the information available (charset). A continuaci\xf3n se muestran los casos en los que 4D analiza las etiquetas contenidas en las p\xe1ginas HTML, as\xed como las conversiones realizadas:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Acci\xf3n / Comando"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"An\xe1lisis del contenido de las p\xe1ginas enviadas"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Soporte de la sintaxis $(","*",")"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Conjunto de caracteres utilizados para el an\xe1lisis sint\xe1ctico de las etiquetas"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"P\xe1ginas llamadas a trav\xe9s de URLs"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'X, excepto las p\xe1ginas con extensiones ".htm" o ".html"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'X, excepto las p\xe1ginas con extensiones ".htm" o ".html"'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Uso del conjunto de caracteres pasado como par\xe1metro del encabezado "Content-Type" de la p\xe1gina. Si no hay ninguna, busca una etiqueta META-HTTP EQUIV con un conjunto de caracteres. En caso contrario, uso del conjunto de caracteres por defecto para el servidor HTTP')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"WEB SEND FILE")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"X"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Uso del conjunto de caracteres pasado como par\xe1metro del encabezado "Content-Type" de la p\xe1gina. Si no hay ninguna, busca una etiqueta META-HTTP EQUIV con un conjunto de caracteres. En caso contrario, uso del conjunto de caracteres por defecto para el servidor HTTP')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"WEB SEND TEXT")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"X"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"*"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"No es necesaria la conversi\xf3n")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"WEB SEND BLOB")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'X, si el BLOB es de tipo "text/html'),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Uso del conjunto de caracteres definido en el encabezado "Content-Type" de la respuesta. En caso contrario, uso del conjunto de caracteres por defecto para el servidor HTTP')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Inclusion by the ",(0,n.kt)("inlineCode",{parentName:"td"},"\x3c!--#4DINCLUDE--\x3e")," tag"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"X"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"X"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Uso del conjunto de caracteres pasado como par\xe1metro del encabezado "Content-Type" de la p\xe1gina. Si no hay ninguna, busca una etiqueta META-HTTP EQUIV con un conjunto de caracteres. En caso contrario, uso del conjunto de caracteres por defecto para el servidor HTTP')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"PROCESS 4D TAGS")),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"X"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"X"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Datos de texto: no hay conversi\xf3n. Datos BLOB: conversi\xf3n autom\xe1tica del conjunto de caracteres Mac-Roman por compatibilidad")))),(0,n.kt)("p",null,"(","*",") La sintaxis alternativa basada en $ est\xe1 disponible para las etiquetas 4DHTML, 4DTEXT y 4DEVAL."),(0,n.kt)("h2",r({},{id:"acceso-a-los-m\xe9todos-4d-a-trav\xe9s-de-la-web"}),"Acceso a los m\xe9todos 4D a trav\xe9s de la web"),(0,n.kt)("p",null,"Executing a 4D method with ",(0,n.kt)("inlineCode",{parentName:"p"},"4DEACH"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"4DELSEIF"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"4DEVAL"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"4DHTML"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"4DIF"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"4DLOOP"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"4DSCRIPT"),", or ",(0,n.kt)("inlineCode",{parentName:"p"},"4DTEXT")," from a web request is subject to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/WebServer/allowProject"}),"Available through 4D tags and URLs (4DACTION...)")," attribute value defined in the properties of the method. Si no se comprueba el atributo para el m\xe9todo, \xe9ste no puede ser llamado desde una petici\xf3n web."),(0,n.kt)("h2",r({},{id:"prevenci\xf3n-de-la-inserci\xf3n-de-c\xf3digos-maliciosos"}),"Prevenci\xf3n de la inserci\xf3n de c\xf3digos maliciosos"),(0,n.kt)("p",null,"Las etiquetas 4D aceptan diferentes tipos de datos como par\xe1metros: texto, variables, m\xe9todos, nombres de comandos, etc. Cuando estos datos son proporcionados por su propio c\xf3digo, no hay riesgo de inserci\xf3n de c\xf3digo malicioso ya que usted controla la entrada. Sin embargo, el c\xf3digo de su base de datos suele trabajar con datos que, en un momento u otro, fueron introducidos a trav\xe9s de una fuente externa (entrada del usuario, importaci\xf3n, etc.)."),(0,n.kt)("p",null,"In this case, it is advisable to ",(0,n.kt)("strong",{parentName:"p"},"not use")," tags such as ",(0,n.kt)("inlineCode",{parentName:"p"},"4DEVAL")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"4DSCRIPT"),", which evaluate parameters, directly with this sort of data."),(0,n.kt)("p",null,"In addition, according to the ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/Tags/transformation-tags#recursive-processing"}),"principle of recursion"),", malicious code may itself include transformation tags. En este caso, es imprescindible utilizar la etiqueta ",(0,n.kt)("inlineCode",{parentName:"p"},"4DTEXT"),'. Imagine, por ejemplo, un campo de formulario web llamado "Name", donde los usuarios deben introducir su nombre. This name is then displayed using a ',(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DHTML vName--\x3e"),' tag in the page. Si se inserta un texto del tipo "\\','" en lugar del nombre, la interpretaci\xf3n de esta etiqueta provocar\xe1 la salida de la aplicaci\xf3n. To avoid this risk, you can just use the ',(0,n.kt)("inlineCode",{parentName:"p"},"4DTEXT"),' tag systematically in this case. Como esta etiqueta escapa a los caracteres especiales de HTML, cualquier c\xf3digo recursivo malicioso que pueda haberse insertado no ser\xe1 reinterpretado. To refer to the previous example, the "Name" field will contain, in this case, "',(0,n.kt)("inlineCode",{parentName:"p"},"&lt;!--#4DEVAL QUIT 4D--&gt;"),'" which will not be transformed.'))}u.isMDXComponent=!0}}]);