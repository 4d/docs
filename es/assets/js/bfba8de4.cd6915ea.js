"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["52174"],{956548:function(e,n,o){o.r(n),o.d(n,{default:()=>u,frontMatter:()=>t,metadata:()=>a,assets:()=>i,toc:()=>c,contentTitle:()=>d});var a=JSON.parse('{"id":"commands-legacy/on-server-shutdown-database-method","title":"On Server Shutdown database method","description":"M\xe9todo base On Server Shutdown","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R8/commands-legacy/on-server-shutdown-database-method.md","sourceDirName":"commands-legacy","slug":"/commands/on-server-shutdown-database-method","permalink":"/docs/es/commands/on-server-shutdown-database-method","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fon-server-shutdown-database-method.md%20(20-R8)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R8","frontMatter":{"id":"on-server-shutdown-database-method","title":"On Server Shutdown database method","slug":"/commands/on-server-shutdown-database-method","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"On Server Open Connection database method","permalink":"/docs/es/commands/on-server-open-connection-database-method"},"next":{"title":"On Server Startup database method","permalink":"/docs/es/commands/on-server-startup-database-method"}}'),r=o("785893"),s=o("250065");let t={id:"on-server-shutdown-database-method",title:"On Server Shutdown database method",slug:"/commands/on-server-shutdown-database-method",displayed_sidebar:"docs"},d=void 0,i={},c=[];function l(e){let n={a:"a",em:"em",h2:"h2",li:"li",p:"p",strong:"strong",table:"table",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"M\xe9todo base On Server Shutdown"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Este comando no requiere par\xe1metros"}),(0,r.jsx)(n.th,{})]})})}),"\n",(0,r.jsx)(n.h2,{id:""}),"\n",(0,r.jsx)(n.p,{children:"El M\xe9todo base On Server Shutdown se llama una vez en el equipo servidor cuando la base actual se cierra en 4D Server. El M\xe9todo base On Server Shutdown NO es llamado por otro entorno 4D diferente de 4D Server."}),"\n",(0,r.jsxs)(n.p,{children:["Para cerrar la base actual en el servidor, puede seleccionar el comando de men\xfa ",(0,r.jsx)(n.strong,{children:"Cerrar la base..."})," en el servidor. Tambi\xe9n puede elegir el comando ",(0,r.jsx)(n.strong,{children:"Salir"})," o llamar al comando ",(0,r.jsx)(n.a,{href:"/docs/es/commands/quit-4d",children:"QUIT 4D"})," dentro de un procedimiento almacenado ejecutado en el servidor."]}),"\n",(0,r.jsx)(n.p,{children:"Cuando se inicia el proceso de cierre de la base, 4D efect\xfaa las siguientes acciones:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Si no hay un M\xe9todo base On Server Shutdown, 4D Server aborta cada proceso en ejecuci\xf3n uno por uno, sin distinci\xf3n."}),"\n",(0,r.jsx)(n.li,{children:"Si existe un M\xe9todo base On Server Shutdown, 4D Server ejecuta este m\xe9todo en un nuevo proceso local. Por lo tanto puede utilizar este m\xe9todo base para informar los otros procesos, v\xeda la comunicaci\xf3n interproceso, que deben detener su ejecuci\xf3n. Note que 4D Server saldr\xe1 finalmente, el M\xe9todo base On Server Shutdown puede efectuar todas las operaciones de limpieza o cierre que usted quiera, pero no puede rehusarse a salir y en alg\xfan momento terminar\xe1."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"El M\xe9todo base On Server Shutdown es el lugar ideal para:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Detener los procedimientos almacenados lanzados autom\xe1ticamente cuando se abre la base."}),"\n",(0,r.jsxs)(n.li,{children:["Guardar (localmente, en disco) las preferencias o los par\xe1metros a reutilizar al inicio de la sesi\xf3n siguiente en el ",(0,r.jsx)(n.em,{children:"M\xe9todo base On Server Startup"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Efectuar cualquier otra acci\xf3n que quiera activar autom\xe1ticamente cada vez que salga de la base."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Importante:"})," si utiliza el M\xe9todo base On Server Shutdown para cerrar los procedimientos almacenados, recuerde que el servidor sale una vez se ejecuta el M\xe9todo base On Server Shutdown (y no los procedimientos almacenados). Si los procedimientos almacenados a\xfan est\xe1n corriendo en este momento, se abortar\xe1n. Por lo tanto, si quiere asegurarse de que los procedimientos almacenados se ejecuten completamente antes de ser abortados por el servidor, el M\xe9todo base On Server Shutdown debe indicar a los procedimientos almacenados que deben terminar su ejecuci\xf3n (por ejemplo, utilizando una variable interproceso) y debe permitirles cerrar (por medio de un bucle de x segundos u otra variable interproceso)."]}),"\n",(0,r.jsxs)(n.p,{children:["Si quiere que el c\xf3digo se ejecute autom\xe1ticamente en un equipo cliente cuando un 4D remoto deja de conectarse al servidor, utilice el ",(0,r.jsx)(n.a,{href:"/docs/es/commands/semaphore",children:"Semaphore"}),"."]})]})}function u(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},250065:function(e,n,o){o.d(n,{Z:function(){return d},a:function(){return t}});var a=o(667294);let r={},s=a.createContext(r);function t(e){let n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);