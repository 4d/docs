"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[77102],{603905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var o=a(667294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=o.createContext({}),c=function(e){var t=o.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=c(a),m=n,b=d["".concat(l,".").concat(m)]||d[m]||u[m]||r;return a?o.createElement(b,s(s({ref:t},p),{},{components:a})):o.createElement(b,s({ref:t},p))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,s=new Array(r);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var c=2;c<r;c++)s[c]=a[c];return o.createElement.apply(null,s)}return o.createElement.apply(null,a)}d.displayName="MDXCreateElement"},896617:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});a(667294);var o=a(603905);function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},n.apply(this,arguments)}function r(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}const s={id:"configuration",title:"Configuraci\xf3n del servidor"},i=void 0,l={unversionedId:"REST/configuration",id:"version-20-R5/REST/configuration",title:"Configuraci\xf3n del servidor",description:"Using standard HTTP requests, the 4D REST Server allows external applications to access the data of your application directly, i.e. to retrieve information about the dataclasses in your project, manipulate data, log into your web application, and much more.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R5/REST/configuration.md",sourceDirName:"REST",slug:"/REST/configuration",permalink:"/docs/es/REST/configuration",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2Fconfiguration.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"configuration",title:"Configuraci\xf3n del servidor"},sidebar:"docs",previous:{title:"Comencemos",permalink:"/docs/es/REST/gettingStarted"},next:{title:"Usuarios y sesiones",permalink:"/docs/es/REST/authUsers"}},c={},p=[{value:"Iniciar el servidor REST",id:"iniciar-el-servidor-rest",level:2},{value:"Controlando el acceso REST",id:"controlando-el-acceso-rest",level:2},{value:"Uso de los par\xe1metros de la Estructura",id:"uso-de-los-par\xe1metros-de-la-estructura",level:3},{value:"M\xe9todo base On REST Authentication",id:"m\xe9todo-base-on-rest-authentication",level:3},{value:"Exponer tablas y campos",id:"exponer-tablas-y-campos",level:2},{value:"Exponer las tablas",id:"exponer-las-tablas",level:3},{value:"Exponer los campos",id:"exponer-los-campos",level:3},{value:"Modo apropiativo",id:"modo-apropiativo",level:2}],u={toc:p};function d(e){var{components:t}=e,s=r(e,["components"]);return(0,o.kt)("wrapper",n({},u,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Using standard HTTP requests, the 4D REST Server allows external applications to access the data of your application directly, ",(0,o.kt)("em",{parentName:"p"},"i.e.")," to retrieve information about the dataclasses in your project, manipulate data, log into your web application, and much more."),(0,o.kt)("p",null,"Para comenzar a utilizar las funcionalidades REST, es necesario iniciar y configurar el servidor 4D REST."),(0,o.kt)("h2",n({},{id:"iniciar-el-servidor-rest"}),"Iniciar el servidor REST"),(0,o.kt)("p",null,"Por razones de seguridad, por defecto, 4D no responde a las peticiones REST. If you want to start the REST Server, you must check the ",(0,o.kt)("strong",{parentName:"p"},"Expose as REST server")," option in the ",(0,o.kt)("strong",{parentName:"p"},"Web")," > ",(0,o.kt)("strong",{parentName:"p"},"Web Features")," page of the structure settings in order for REST requests to be processed."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"alt-text",src:a(480052).Z,width:"855",height:"381"})),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Los servicios REST utilizan el servidor HTTP 4D, por lo que debe asegurarse de que el servidor web 4D est\xe1 iniciado.")),(0,o.kt)("p",null,'El mensaje de advertencia "Atenci\xf3n, verifique los privilegios de acceso" aparece cuando se marca esta opci\xf3n para llamar la atenci\xf3n sobre el hecho de que cuando se activan los servicios REST, por defecto el acceso a los objetos de la base de datos es gratuito mientras no se hayan configurado los accesos REST.'),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Debe reiniciar la aplicaci\xf3n 4D para que los cambios surtan efecto.")),(0,o.kt)("h2",n({},{id:"controlando-el-acceso-rest"}),"Controlando el acceso REST"),(0,o.kt)("p",null,"Por defecto, los accesos REST est\xe1n abiertos a todos los usuarios, lo que obviamente no es recomendable por razones de seguridad, y tambi\xe9n para controlar el uso de las licencias de los clientes."),(0,o.kt)("p",null,"Puede configurar los accesos REST de una de las siguientes maneras:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"(recommended) enable the ",(0,o.kt)("strong",{parentName:"li"},"force login")," mode and create an ",(0,o.kt)("a",n({parentName:"li"},{href:"/docs/es/REST/authUsers#authentify"}),(0,o.kt)("inlineCode",{parentName:"a"},"authentify()"))," datastore class function to authenticate users and assign privileges to their web session (see ",(0,o.kt)("a",n({parentName:"li"},{href:"/docs/es/REST/authUsers#user-login-modes"}),"User login modes"),")."),(0,o.kt)("li",{parentName:"ul"},"assign a ",(0,o.kt)("strong",{parentName:"li"},"Read/Write"),' user group to REST services in the "',(0,o.kt)("strong",{parentName:"li"},"Web")," > ",(0,o.kt)("strong",{parentName:"li"},"Web Features"),'" page of the Structure Settings;'),(0,o.kt)("li",{parentName:"ul"},"write an ",(0,o.kt)("inlineCode",{parentName:"li"},"On REST Authentication")," database method to intercept and handle every initial REST request.")),(0,o.kt)("admonition",n({},{title:"Important",type:"info"}),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"Se recomienda no habilitar simult\xe1neamente diferentes caracter\xedsticas de control de acceso REST para evitar conflictos."),(0,o.kt)("li",{parentName:"ul"},"If an ",(0,o.kt)("inlineCode",{parentName:"li"},"On REST Authentication"),' database method has been defined, any setting made using the "Read/Write" menu on the ',(0,o.kt)("strong",{parentName:"li"},"Web")," > ",(0,o.kt)("strong",{parentName:"li"},"Web Features")," page of the Structure Settings is ignored."))),(0,o.kt)("h3",n({},{id:"uso-de-los-par\xe1metros-de-la-estructura"}),"Uso de los par\xe1metros de la Estructura"),(0,o.kt)("p",null,"The ",(0,o.kt)("strong",{parentName:"p"},"Read/Write"),' menu in the "',(0,o.kt)("strong",{parentName:"p"},"Web")," > ",(0,o.kt)("strong",{parentName:"p"},"Web Features"),'" page of the structure settings specifies a group of 4D users that is authorized to establish the link to the 4D application using REST queries.'),(0,o.kt)("p",null,"By default, the menu displays ",(0,o.kt)("inlineCode",{parentName:"p"},"\\<Anyone>"),", which means that REST accesses are open to all users. Once you have specified a group, only a 4D user account that belongs to this group may be used to ",(0,o.kt)("a",n({parentName:"p"},{href:"/docs/es/REST/authUsers"}),"access 4D by means of a REST request"),". Si se utiliza una cuenta que no pertenece a este grupo, 4D devuelve un error de autenticaci\xf3n al remitente de la petici\xf3n."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"In order for this setting to take effect, the ",(0,o.kt)("inlineCode",{parentName:"p"},"On REST Authentication")," database method must not be defined. Si existe, 4D ignora los par\xe1metros de acceso definidos en las propiedades de la estructura.")),(0,o.kt)("h3",n({},{id:"m\xe9todo-base-on-rest-authentication"}),"M\xe9todo base On REST Authentication"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"On REST Authentication")," database method provides you with a custom way of controlling the opening of REST sessions on 4D. Este m\xe9todo base se llama autom\xe1ticamente cuando se abre una nueva sesi\xf3n a trav\xe9s de una solicitud REST. When a ",(0,o.kt)("a",n({parentName:"p"},{href:"/docs/es/REST/authUsers"}),"request to open a REST session")," is received, the connection identifiers are provided in the header of the request. The ",(0,o.kt)("inlineCode",{parentName:"p"},"On REST Authentication")," database method is called so that you can evaluate these identifiers. Puede utilizar la lista de usuarios de la aplicaci\xf3n 4D o puede utilizar su propia tabla de identificadores.\nFor more information, refer to the ",(0,o.kt)("inlineCode",{parentName:"p"},"On REST Authentication")," database method ",(0,o.kt)("a",n({parentName:"p"},{href:"https://doc.4d.com/4Dv18/4D/18/On-REST-Authentication-database-method.301-4505004.en.html"}),"documentation"),"."),(0,o.kt)("h2",n({},{id:"exponer-tablas-y-campos"}),"Exponer tablas y campos"),(0,o.kt)("p",null,"Once REST services are enabled in the 4D application, by default a REST session can access all tables and fields of the 4D database through the ",(0,o.kt)("a",n({parentName:"p"},{href:"/docs/es/ORDA/dsmapping#datastore"}),"datastore interface"),". As\xed, puede utilizar sus datos. Por ejemplo, si su base de datos contiene una tabla ","[Employee]",", es posible escribir:"),(0,o.kt)("pre",null,(0,o.kt)("code",n({parentName:"pre"},{}),'http://127.0.0.1:8044/rest/Employee/?$filter="salary>10000"\n\n')),(0,o.kt)("p",null,"Esta petici\xf3n devolver\xe1 todos los empleados cuyo campo de salario sea superior a 10000."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},'Las tablas y/o campos 4D que tienen el atributo "Invisible" tambi\xe9n se exponen en REST por defecto.')),(0,o.kt)("p",null,"Si desea personalizar los objetos del datastore accesibles a trav\xe9s de REST, debe desactivar la exposici\xf3n de cada tabla y/o campo que desee ocultar. Cuando una petici\xf3n REST intenta acceder a un recurso no autorizado, 4D devuelve un error."),(0,o.kt)("h3",n({},{id:"exponer-las-tablas"}),"Exponer las tablas"),(0,o.kt)("p",null,"Por defecto, todas las tablas se exponen en REST."),(0,o.kt)("p",null,"Por razones de seguridad, es posible que desee exponer s\xf3lo ciertas tablas de su almac\xe9n de datos a las llamadas REST. Por ejemplo, si ha creado una tabla ","[Users]"," que almacena los nombres de usuario y las contrase\xf1as, ser\xeda mejor no exponerla."),(0,o.kt)("p",null,"Para eliminar la exposici\xf3n REST de una tabla:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Visualice el inspector de tablas en el editor de estructuras y seleccione la tabla que desea modificar.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Uncheck the ",(0,o.kt)("strong",{parentName:"p"},"Expose as REST resource")," option:\n",(0,o.kt)("img",{alt:"alt-text",src:a(197592).Z,width:"279",height:"330"}),"\nDo this for each table whose exposure needs to be modified."))),(0,o.kt)("h3",n({},{id:"exponer-los-campos"}),"Exponer los campos"),(0,o.kt)("p",null,"Por defecto, todos los campos de una base 4D se exponen en REST."),(0,o.kt)("p",null,"Es posible que no quiera exponer ciertos campos de sus tablas a REST. Por ejemplo, es posible que no quiera exponer el campo ","[Employees]","Salary."),(0,o.kt)("p",null,"Para eliminar la exposici\xf3n REST de un campo:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Visualice el inspector de campo en el editor de estructuras y seleccione el campo a modificar.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Uncheck the ",(0,o.kt)("strong",{parentName:"p"},"Expose as REST resource")," for the field.\n",(0,o.kt)("img",{alt:"alt-text",src:a(120191).Z,width:"279",height:"271"}),"\nRepeat this for each field whose exposure needs to be modified."))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Para que un campo sea accesible a trav\xe9s de REST, la tabla padre tambi\xe9n debe serlo. Si la tabla padre no est\xe1 expuesta, ninguno de sus campos lo estar\xe1, independientemente de su estado.")),(0,o.kt)("h2",n({},{id:"modo-apropiativo"}),"Modo apropiativo"),(0,o.kt)("p",null,"On 4D Server, REST requests are automatically handled through preemptive processes, ",(0,o.kt)("strong",{parentName:"p"},"even in interpreted mode"),". You need to make sure that your code is ",(0,o.kt)("a",n({parentName:"p"},{href:"/docs/es/WebServer/preemptiveWeb#writing-thread-safe-web-server-code"}),"compliant with a preemptive execution"),"."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"To debug interpreted web code on the server machine, make sure the debugger is ",(0,o.kt)("a",n({parentName:"p"},{href:"/docs/es/Debugging/debugging-remote"}),"attached to the server")," or ",(0,o.kt)("a",n({parentName:"p"},{href:"/docs/es/Debugging/debugging-remote#attaching-the-debugger-to-a-remote-4d-client"}),"to a remote machine"),". Los procesos web pasan entonces al modo cooperativo y se puede depurar el c\xf3digo del servidor web.")),(0,o.kt)("p",null,"Con 4D monopuesto, el c\xf3digo interpretado siempre se ejecuta en modo cooperativo."))}d.isMDXComponent=!0},480052:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/Settings-934d69d2618fdc41073c2f25c38ea3a6.png"},120191:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/field-4db67392f4a6381fd75a7ba294943b5b.png"},197592:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/table-1c946003f2068cb28b604481145c98a8.png"}}]);